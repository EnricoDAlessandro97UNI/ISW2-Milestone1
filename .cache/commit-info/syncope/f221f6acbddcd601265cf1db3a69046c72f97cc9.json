{"sha":"f221f6acbddcd601265cf1db3a69046c72f97cc9","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmYyMjFmNmFjYmRkY2Q2MDEyNjVjZjFkYjNhNjkwNDZjNzJmOTdjYzk=","commit":{"author":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2018-12-05T16:47:41Z"},"committer":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2018-12-05T16:48:35Z"},"message":"fixed enduser tests, minor code improvements and managed user requests paths as other extensions","tree":{"sha":"f68092d7e047ff360fee43a778bece87b8871728","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/f68092d7e047ff360fee43a778bece87b8871728"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/f221f6acbddcd601265cf1db3a69046c72f97cc9","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f221f6acbddcd601265cf1db3a69046c72f97cc9","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f221f6acbddcd601265cf1db3a69046c72f97cc9","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f221f6acbddcd601265cf1db3a69046c72f97cc9/comments","author":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"committer":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"ae0ee6c4694d6810618d4ea67f72dece518ada5c","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ae0ee6c4694d6810618d4ea67f72dece518ada5c","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ae0ee6c4694d6810618d4ea67f72dece518ada5c"}],"stats":{"total":59,"additions":19,"deletions":40},"files":[{"sha":"e1e37c7d7ca7b1176bf8cb9cbdff34e64170493d","filename":"archetype/src/main/resources/archetype-resources/enduser/pom.xml","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f221f6acbddcd601265cf1db3a69046c72f97cc9/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fenduser%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f221f6acbddcd601265cf1db3a69046c72f97cc9/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fenduser%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fenduser%2Fpom.xml?ref=f221f6acbddcd601265cf1db3a69046c72f97cc9","patch":"@@ -342,6 +342,12 @@ under the License.\n           <artifactId>syncope-ext-oidcclient-client-enduser</artifactId>\n           <version>${syncope.version}</version>\n         </dependency>\n+        \n+        <dependency>\n+          <groupId>org.apache.syncope.ext.flowable</groupId>\n+          <artifactId>syncope-ext-flowable-client-enduser</artifactId>\n+          <version>${project.version}</version>\n+        </dependency>\n       </dependencies>\n       \n       <build>"},{"sha":"f95093e21653f1a8ca1b6d6da9969887ae11f6a5","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/app.js","status":"modified","additions":12,"deletions":4,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f221f6acbddcd601265cf1db3a69046c72f97cc9/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f221f6acbddcd601265cf1db3a69046c72f97cc9/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js?ref=f221f6acbddcd601265cf1db3a69046c72f97cc9","patch":"@@ -226,6 +226,7 @@ app.config(['$stateProvider', '$urlRouterProvider', '$httpProvider', '$translate\n                   }]\n               }\n             })\n+            /* <Extensions> */\n             .state('update.userRequests', {\n               url: '/user-requests',\n               templateUrl: 'views/user-requests.html',\n@@ -246,6 +247,7 @@ app.config(['$stateProvider', '$urlRouterProvider', '$httpProvider', '$translate\n                   }]\n               }\n             })\n+            /* </Extensions> */\n             .state('update.finish', {\n               url: '/finish',\n               templateUrl: 'views/user-form-finish.html',\n@@ -447,12 +449,18 @@ app.controller('ApplicationController', ['$scope', '$rootScope', 'InfoService',\n                     $rootScope.dynTemplate = response;\n \n                     /*\n-                     * Wizard steps from JSON\n+                     * Wizard steps from JSON, if some extensions are enabled add steps dynamically\n                      */\n                     $scope.wizard = response.wizard.steps;\n                     $scope.creationWizard = $scope.clone($scope.wizard);\n-                    delete $scope.creationWizard['userRequests'];\n-                    delete $scope.creationWizard['userRequestForms'];\n+                    /* <Extensions> */\n+                    $scope.wizard.userRequests = {\n+                      \"url\": \"/user-requests\"\n+                    };\n+                    $scope.wizard.userRequestForms = {\n+                      \"url\": \"/user-request-forms\"\n+                    };\n+                    /* </Extensions> */\n                     $scope.wizardFirstStep = response.wizard.firstStep;\n \n                     callback($rootScope.dynTemplate);\n@@ -575,7 +583,7 @@ app.controller('ApplicationController', ['$scope', '$rootScope', 'InfoService',\n       /* \n        * Date formatters\n        */\n-      \n+\n       // from timestamp\n       $rootScope.formatDate = function (timestamp) {\n         return new Date(timestamp).toLocaleString();"},{"sha":"d9975426e6c1796a731cf50836b871bb9d6376bb","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/controllers/UserController.js","status":"modified","additions":0,"deletions":9,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f221f6acbddcd601265cf1db3a69046c72f97cc9/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f221f6acbddcd601265cf1db3a69046c72f97cc9/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js?ref=f221f6acbddcd601265cf1db3a69046c72f97cc9","patch":"@@ -338,15 +338,6 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n         initUserSchemas();\n         // initialize available resources\n         initResources();\n-        // initialize user requests\n-//        if (!$scope.createMode && $scope.wizard.userRequests) {\n-//          console.debug(\"About to init user requests data\");\n-//          initBpmnProcesses();\n-//          // this call will ever get the first 10 User Requests\n-//          initUserRequests();\n-//          // this call will ever get the first 10 User Requests Forms\n-//          initUserRequestsForms();\n-//        }\n       };\n \n       var readUser = function () {"},{"sha":"e55ed4c86fd45a8f3e14891a2de4aab56dc7ef03","filename":"client/enduser/src/main/resources/customTemplate.json","status":"modified","additions":0,"deletions":6,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f221f6acbddcd601265cf1db3a69046c72f97cc9/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f221f6acbddcd601265cf1db3a69046c72f97cc9/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json?ref=f221f6acbddcd601265cf1db3a69046c72f97cc9","patch":"@@ -74,12 +74,6 @@\n               \"resources\": {\n                 \"url\": \"/resources\"\n               },\n-              \"userRequests\": {\n-                \"url\": \"/user-requests\"\n-              },\n-              \"userRequestForms\": {\n-                \"url\": \"/user-request-forms\"\n-              },\n               \"finish\": {\n                 \"url\": \"/finish\"\n               }"},{"sha":"e629754b85ef48743d850eb013a6739ca1582918","filename":"ext/flowable/syncope-ext-flowable-client-enduser/src/main/java/org/apache/syncope/client/enduser/resources/BpmnProcessList.java","status":"modified","additions":0,"deletions":3,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f221f6acbddcd601265cf1db3a69046c72f97cc9/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FBpmnProcessList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f221f6acbddcd601265cf1db3a69046c72f97cc9/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FBpmnProcessList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FBpmnProcessList.java?ref=f221f6acbddcd601265cf1db3a69046c72f97cc9","patch":"@@ -18,9 +18,6 @@\n  */\n package org.apache.syncope.client.enduser.resources;\n \n-import static org.apache.syncope.client.enduser.resources.BaseResource.LOG;\n-import static org.apache.syncope.client.enduser.resources.BaseResource.MAPPER;\n-\n import java.io.IOException;\n import java.nio.charset.StandardCharsets;\n import java.util.Collections;"},{"sha":"3e1116b0990088d36db72a2b350fd6089b2e7c78","filename":"ext/flowable/syncope-ext-flowable-client-enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserRequestCancelResource.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f221f6acbddcd601265cf1db3a69046c72f97cc9/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestCancelResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f221f6acbddcd601265cf1db3a69046c72f97cc9/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestCancelResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestCancelResource.java?ref=f221f6acbddcd601265cf1db3a69046c72f97cc9","patch":"@@ -18,8 +18,6 @@\n  */\n package org.apache.syncope.client.enduser.resources;\n \n-import static org.apache.syncope.client.enduser.resources.BaseResource.LOG;\n-\n import java.io.IOException;\n import java.nio.charset.StandardCharsets;\n import javax.servlet.http.HttpServletRequest;"},{"sha":"f7b94207f509638f462a5e2937030b94a7cc92ac","filename":"ext/flowable/syncope-ext-flowable-client-enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserRequestFormClaimResource.java","status":"modified","additions":0,"deletions":3,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f221f6acbddcd601265cf1db3a69046c72f97cc9/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestFormClaimResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f221f6acbddcd601265cf1db3a69046c72f97cc9/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestFormClaimResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestFormClaimResource.java?ref=f221f6acbddcd601265cf1db3a69046c72f97cc9","patch":"@@ -18,9 +18,6 @@\n  */\n package org.apache.syncope.client.enduser.resources;\n \n-import static org.apache.syncope.client.enduser.resources.BaseResource.LOG;\n-import static org.apache.syncope.client.enduser.resources.BaseResource.MAPPER;\n-\n import java.io.IOException;\n import java.nio.charset.StandardCharsets;\n import javax.servlet.http.HttpServletRequest;"},{"sha":"c51027b9dc13c09dd3bb0faa0c5482471e2ce9ac","filename":"ext/flowable/syncope-ext-flowable-client-enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserRequestsFormsResource.java","status":"modified","additions":0,"deletions":3,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f221f6acbddcd601265cf1db3a69046c72f97cc9/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestsFormsResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f221f6acbddcd601265cf1db3a69046c72f97cc9/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestsFormsResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestsFormsResource.java?ref=f221f6acbddcd601265cf1db3a69046c72f97cc9","patch":"@@ -18,9 +18,6 @@\n  */\n package org.apache.syncope.client.enduser.resources;\n \n-import static org.apache.syncope.client.enduser.resources.BaseResource.LOG;\n-import static org.apache.syncope.client.enduser.resources.BaseResource.MAPPER;\n-\n import java.io.IOException;\n import java.nio.charset.StandardCharsets;\n import java.text.ParseException;"},{"sha":"e55ed4c86fd45a8f3e14891a2de4aab56dc7ef03","filename":"fit/enduser-reference/src/main/resources/customTemplate.json","status":"modified","additions":0,"deletions":3,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f221f6acbddcd601265cf1db3a69046c72f97cc9/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f221f6acbddcd601265cf1db3a69046c72f97cc9/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json?ref=f221f6acbddcd601265cf1db3a69046c72f97cc9","patch":"@@ -74,9 +74,6 @@\n               \"resources\": {\n                 \"url\": \"/resources\"\n               },\n-              \"userRequests\": {\n-                \"url\": \"/user-requests\"\n-              },\n               \"finish\": {\n                 \"url\": \"/finish\"\n               }"},{"sha":"e55ed4c86fd45a8f3e14891a2de4aab56dc7ef03","filename":"fit/enduser-reference/src/test/resources/customTemplate.json","status":"modified","additions":0,"deletions":6,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f221f6acbddcd601265cf1db3a69046c72f97cc9/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2FcustomTemplate.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f221f6acbddcd601265cf1db3a69046c72f97cc9/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2FcustomTemplate.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2FcustomTemplate.json?ref=f221f6acbddcd601265cf1db3a69046c72f97cc9","patch":"@@ -74,12 +74,6 @@\n               \"resources\": {\n                 \"url\": \"/resources\"\n               },\n-              \"userRequests\": {\n-                \"url\": \"/user-requests\"\n-              },\n-              \"userRequestForms\": {\n-                \"url\": \"/user-request-forms\"\n-              },\n               \"finish\": {\n                 \"url\": \"/finish\"\n               }"},{"sha":"87e1f82bc378b2ec3a30e4c8815422ed0e6ae75e","filename":"fit/enduser-reference/src/test/resources/tests/create.js","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f221f6acbddcd601265cf1db3a69046c72f97cc9/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fcreate.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f221f6acbddcd601265cf1db3a69046c72f97cc9/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fcreate.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fcreate.js?ref=f221f6acbddcd601265cf1db3a69046c72f97cc9","patch":"@@ -64,7 +64,7 @@ describe('syncope enduser user create', function () {\n     }\n     //finish: breadcrumb should be clickable, testing navigation\n     for (var i = 0; i < 5; i++) {\n-      element.all(by.repeater('(key, value) in wizard')).get(i).click();\n+      element.all(by.repeater('(key, value) in (createMode ? creationWizard : wizard)')).get(i).click();\n       browser.wait(element(by.id('finish')).isPresent());\n       element.all(by.id('finish')).last().click();\n     }"}]}
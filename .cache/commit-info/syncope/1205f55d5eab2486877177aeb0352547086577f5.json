{"sha":"1205f55d5eab2486877177aeb0352547086577f5","node_id":"C_kwDOJfYA1toAKDEyMDVmNTVkNWVhYjI0ODY4NzcxNzdhZWIwMzUyNTQ3MDg2NTc3ZjU","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@users.noreply.github.com","date":"2023-04-28T15:01:39Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2023-04-28T15:10:59Z"},"message":"[SYNCOPE-1751] Move random password generation to a new dedicated PropagationActions class (#446)","tree":{"sha":"a8c0731e3f9f1db1b560ef8abf6e5a114bcbb8ba","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/a8c0731e3f9f1db1b560ef8abf6e5a114bcbb8ba"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/1205f55d5eab2486877177aeb0352547086577f5","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1205f55d5eab2486877177aeb0352547086577f5","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/1205f55d5eab2486877177aeb0352547086577f5","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1205f55d5eab2486877177aeb0352547086577f5/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"bc4c358d786f60617eefc815f66af488e2e08397","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bc4c358d786f60617eefc815f66af488e2e08397","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/bc4c358d786f60617eefc815f66af488e2e08397"}],"stats":{"total":568,"additions":296,"deletions":272},"files":[{"sha":"af277f31cbdbd13a9cc731d8ee52db1a644ae823","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/wizards/resources/ResourceDetailsPanel.java","status":"modified","additions":0,"deletions":5,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -101,11 +101,6 @@ public ResourceDetailsPanel(final ResourceTO resourceTO, final boolean createFla\n                 Integer.class,\n                 new PropertyModel<>(resourceTO, \"propagationPriority\")));\n \n-        container.add(new AjaxCheckBoxPanel(\"randomPwdIfNotProvided\",\n-                new ResourceModel(\"randomPwdIfNotProvided\", \"randomPwdIfNotProvided\").getObject(),\n-                new PropertyModel<>(resourceTO, \"randomPwdIfNotProvided\"),\n-                false));\n-\n         container.add(new AjaxPalettePanel.Builder<String>().\n                 setAllowMoveAll(true).setAllowOrder(true).\n                 build(\"propagationActions\","},{"sha":"62446d0e998341da66bcbccf4680f6ca007367c6","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/wizards/resources/ResourceDetailsPanel.html","status":"modified","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel.html?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -35,10 +35,6 @@\n         <span wicket:id=\"propagationPriority\">[propagationPriority]</span>\n       </div>\n \n-      <div class=\"form-group\">\n-        <span wicket:id=\"randomPwdIfNotProvided\">[randomPwdIfNotProvided]</span>\n-      </div>\n-\n       <div class=\"form-group form-palette\">\n         <div class=\"row\" wicket:id=\"propagationActions\">[propagationActions]</div>\n       </div>"},{"sha":"ba05a4f9889b36764057993eaf6dac1bd1ff0fc8","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/wizards/resources/ResourceDetailsPanel.properties","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel.properties?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -18,7 +18,6 @@ name=Resource name\n connector=Connector\n enforceMandatoryCondition=Enforce mandatory condition\n propagationPriority=Propagation priority\n-randomPwdIfNotProvided=Generate random passwords when missing\n propagationActions=Propagation Actions\n provisionSorter=Provision Sorter\n createTraceLevel=Propagation: create trace level"},{"sha":"7ef6ca268728254b6f2d53044ac662d2da13e5c9","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/wizards/resources/ResourceDetailsPanel_fr_CA.properties","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel_fr_CA.properties?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -18,7 +18,6 @@ name=Nom de la ressource\n connector=Raccordement\n enforceMandatoryCondition=Application de la condition obligatoire\n propagationPriority=Priorit\\u00e9 de propagation\n-randomPwdIfNotProvided=G\\u00e9n\\u00e9rer des mots de passe al\\u00e9atoires si manquants.\n propagationActions=Actions de propagation\n provisionSorter=Trieur de provision\n createTraceLevel=Propagation : cr\\u00e9ation d'un niveau de trace"},{"sha":"654804181c9614e673246e36a35d48ac3356f415","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/wizards/resources/ResourceDetailsPanel_it.properties","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel_it.properties?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -18,7 +18,6 @@ name=Nome risorsa\n connector=Connettore\n enforceMandatoryCondition=Abilita mandatory condition\n propagationPriority=Priorit\\u00e0 in propagazione\n-randomPwdIfNotProvided=Genera password casuali se mancanti\n propagationActions=Azioni di Propagazione\n provisionSorter=Provision Sorter\n createTraceLevel=Propagazione: tracciamento creazione"},{"sha":"89fca8b99b2a2139dd99471b6f2c621918d65b9a","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/wizards/resources/ResourceDetailsPanel_ja.properties","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel_ja.properties?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -18,7 +18,6 @@ name=\\u30ea\\u30bd\\u30fc\\u30b9\\u540d\n connector=\\u30b3\\u30cd\\u30af\\u30bf\\u30fc\n enforceMandatoryCondition=\\u5fc5\\u9808\\u6761\\u4ef6\\u306b\\u5f93\\u3046\n propagationPriority=\\u4f1d\\u64ad\\u512a\\u5148\\u5ea6\n-randomPwdIfNotProvided=\\u898b\\u3064\\u304b\\u3089\\u306a\\u3044\\u5834\\u5408\\u306f\\u30e9\\u30f3\\u30c0\\u30e0\\u306a\\u30d1\\u30b9\\u30ef\\u30fc\\u30c9\\u3092\\u751f\\u6210\n propagationActions=\\u4f1d\\u64ad\\u30a2\\u30af\\u30b7\\u30e7\\u30f3\n provisionSorter=\\u30bd\\u30fc\\u30bf\\u30fc\\u306e\\u30d7\\u30ed\\u30d3\\u30b8\\u30e7\\u30cb\\u30f3\\u30b0\n createTraceLevel=\\u4f1d\\u64ad: \\u4f5c\\u6210\\u30c8\\u30ec\\u30fc\\u30b9\\u30ec\\u30d9\\u30eb"},{"sha":"6ef95cfa41d384ba2785a282768d72367e03c749","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/wizards/resources/ResourceDetailsPanel_pt_BR.properties","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel_pt_BR.properties?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -18,7 +18,6 @@ name=Nome recurso\n connector=Conector\n enforceMandatoryCondition=Aplicar condi\\u00e7\\u00e3o obrigat\\u00f3ria\n propagationPriority=Prioridade de propaga\\u00e7\\u00e3o\n-randomPwdIfNotProvided=Gerar senhas aleat\\u00f3rias quando n\\u00e3o houver\n propagationActions=A\\u00e7\\u00f5es de Propaga\\u00e7\\u00e3o\n provisionSorter=Classificador de Provis\\u00f5es\n createTraceLevel=Propagation: create trace level"},{"sha":"e967f47611975a9b57b5fa1d78999c5db19a71de","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/wizards/resources/ResourceDetailsPanel_ru.properties","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceDetailsPanel_ru.properties?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -19,7 +19,6 @@ name=\\u041d\\u0430\\u0437\\u0432\\u0430\\u043d\\u0438\\u0435 \\u0440\\u0435\\u0441\\u0443\\u\n connector=\\u041a\\u043e\\u043d\\u043d\\u0435\\u043a\\u0442\\u043e\\u0440\n enforceMandatoryCondition=\\u041e\\u0431\\u044f\\u0437\\u0430\\u0442\\u0435\\u043b\\u044c\\u043d\\u044b\\u0439 (\\u043f\\u0440\\u0438\\u043d\\u0443\\u0434\\u0438\\u0442\\u0435\\u043b\\u044c\\u043d\\u043e)\n propagationPriority=\\u041f\\u0440\\u0438\\u043e\\u0440\\u0438\\u0442\\u0435\\u0442 \\u0432\\u044b\\u043f\\u043e\\u043b\\u043d\\u0435\\u043d\\u0438\\u044f \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0439\n-randomPwdIfNotProvided=\\u0421\\u0433\\u0435\\u043d\\u0435\\u0440\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c \\u0441\\u043b\\u0443\\u0447\\u0430\\u0439\\u043d\\u044b\\u0439 \\u043f\\u0430\\u0440\\u043e\\u043b\\u044c, \\u0435\\u0441\\u043b\\u0438 \\u043e\\u043d \\u043d\\u0435 \\u0437\\u0430\\u0434\\u0430\\u043d\n propagationActions=\\u0412\\u044b\\u043f\\u043e\\u043b\\u043d\\u044f\\u0435\\u043c\\u044b\\u0435 \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044f\n provisionSorter=\\u0421\\u043e\\u0440\\u0442\\u0438\\u0440\\u043e\\u0432\\u0449\\u0438\\u043a \\u043f\\u0440\\u043e\\u0432\\u0438\\u0437\\u0438\\u0438\n createTraceLevel=\\u0412\\u044b\\u043f\\u043e\\u043b\\u043d\\u0435\\u043d\\u0438\\u0435 \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0439: \\u0443\\u0440\\u043e\\u0432\\u0435\\u043d\\u044c \\u043e\\u0442\\u0441\\u043b\\u0435\\u0436\\u0438\\u0432\\u0430\\u043d\\u0438\\u044f \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0439 \\u043f\\u043e \\u0441\\u043e\\u0437\\u0434\\u0430\\u043d\\u0438\\u044e"},{"sha":"c5a28daf0bde21338a653df29d59c66636ea366f","filename":"common/idm/lib/src/main/java/org/apache/syncope/common/lib/to/ResourceTO.java","status":"modified","additions":0,"deletions":12,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/common%2Fidm%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FResourceTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/common%2Fidm%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FResourceTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidm%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FResourceTO.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -53,8 +53,6 @@ public class ResourceTO implements EntityTO {\n \n     private Integer propagationPriority;\n \n-    private boolean randomPwdIfNotProvided;\n-\n     private boolean enforceMandatoryCondition;\n \n     private TraceLevel createTraceLevel = TraceLevel.ALL;\n@@ -132,14 +130,6 @@ public void setPropagationPriority(final Integer propagationPriority) {\n         this.propagationPriority = propagationPriority;\n     }\n \n-    public boolean isRandomPwdIfNotProvided() {\n-        return randomPwdIfNotProvided;\n-    }\n-\n-    public void setRandomPwdIfNotProvided(final boolean randomPwdIfNotProvided) {\n-        this.randomPwdIfNotProvided = randomPwdIfNotProvided;\n-    }\n-\n     public TraceLevel getCreateTraceLevel() {\n         return createTraceLevel;\n     }\n@@ -288,7 +278,6 @@ public boolean equals(final Object obj) {\n         }\n         ResourceTO other = (ResourceTO) obj;\n         return new EqualsBuilder().\n-                append(randomPwdIfNotProvided, other.randomPwdIfNotProvided).\n                 append(enforceMandatoryCondition, other.enforceMandatoryCondition).\n                 append(overrideCapabilities, other.overrideCapabilities).\n                 append(key, other.key).\n@@ -324,7 +313,6 @@ public int hashCode() {\n                 append(provisions).\n                 append(orgUnit).\n                 append(propagationPriority).\n-                append(randomPwdIfNotProvided).\n                 append(enforceMandatoryCondition).\n                 append(createTraceLevel).\n                 append(updateTraceLevel)."},{"sha":"39a9805a3ec933f5ca51bfd96258aa32a19c1510","filename":"core/idrepo/logic/src/main/java/org/apache/syncope/core/logic/GroupLogic.java","status":"modified","additions":9,"deletions":3,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FGroupLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FGroupLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FGroupLogic.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -44,6 +44,7 @@\n import org.apache.syncope.common.lib.types.JobType;\n import org.apache.syncope.common.lib.types.PatchOperation;\n import org.apache.syncope.common.lib.types.ProvisionAction;\n+import org.apache.syncope.common.lib.types.TaskType;\n import org.apache.syncope.core.logic.api.LogicActions;\n import org.apache.syncope.core.persistence.api.dao.AnySearchDAO;\n import org.apache.syncope.core.persistence.api.dao.AnyTypeDAO;\n@@ -415,9 +416,14 @@ public ExecTO provisionMembers(final String key, final ProvisionAction action) {\n                     return groupMemberProvision;\n                 });\n \n-        SchedTask task = entityFactory.newEntity(SchedTask.class);\n-        task.setName((action == ProvisionAction.DEPROVISION ? \"de\" : \"\")\n-                + \"provision members of group \" + group.getName());\n+        String name = (action == ProvisionAction.DEPROVISION ? \"de\" : \"\")\n+                + \"provision members of group \" + group.getName();\n+        SchedTask task = taskDAO.<SchedTask>findByName(TaskType.SCHEDULED, name).\n+                orElseGet(() -> {\n+                    SchedTask t = entityFactory.newEntity(SchedTask.class);\n+                    t.setName(name);\n+                    return t;\n+                });\n         task.setActive(true);\n         task.setJobDelegate(jobDelegate);\n         task = taskDAO.save(task);"},{"sha":"72c9443a98cb0994805a7c3c24b9907d8ebcce00","filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/TaskDAO.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fdao%2FTaskDAO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fdao%2FTaskDAO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fdao%2FTaskDAO.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -42,6 +42,8 @@ public interface TaskDAO extends DAO<Task<?>> {\n \n     <T extends Task<T>> T find(TaskType type, String key);\n \n+    <T extends SchedTask> Optional<T> findByName(TaskType type, String name);\n+\n     Optional<Task<?>> find(String key);\n \n     List<SchedTask> findByDelegate(Implementation delegate);"},{"sha":"95f67463082600ddf8c90b5d47241de1ab49656e","filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/entity/ExternalResource.java","status":"modified","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FExternalResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FExternalResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FExternalResource.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -100,10 +100,6 @@ public interface ExternalResource extends ProvidedKeyEntity {\n \n     void setEnforceMandatoryCondition(boolean enforce);\n \n-    boolean isRandomPwdIfNotProvided();\n-\n-    void setRandomPwdIfNotProvided(boolean condition);\n-\n     Optional<Provision> getProvisionByAnyType(String anyType);\n \n     Optional<Provision> getProvisionByObjectClass(String objectClass);"},{"sha":"4bcf49aaf5472fefcca1e65b8c1f8fd7b39145ed","filename":"core/persistence-jpa-json/src/test/resources/domains/MasterContent.xml","status":"modified","additions":25,"deletions":22,"changes":47,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fpersistence-jpa-json%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fpersistence-jpa-json%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa-json%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -552,106 +552,109 @@ under the License.\n                 capabilities='[\"AUTHENTICATE\",\"CREATE\",\"UPDATE\",\"DELETE\",\"SEARCH\",\"SYNC\"]'/>\n \n   <ExternalResource id=\"ws-target-resource-1\" connector_id=\"88a7a819-dab5-46b4-9b90-0b9769eabdb8\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n                     propagationPriority=\"1\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"username\",\"extAttrName\":\"userId\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"email\",\"extAttrName\":\"email\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"surname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"password\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"fullname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"ctype\",\"extAttrName\":\"type\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"firstname\",\"extAttrName\":\"name\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"NONE\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"username\",\"extAttrName\":\"userId\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"ws-target-resource-2\" connector_id=\"88a7a819-dab5-46b4-9b90-0b9769eabdb8\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     createTraceLevel=\"FAILURES\" deleteTraceLevel=\"NONE\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     pullPolicy_id=\"9454b0d7-2610-400a-be82-fc23cf553dd6\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"password\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"ctype\",\"extAttrName\":\"type\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"surname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"type == &#39;F&#39;\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"virtualdata\",\"extAttrName\":\"name\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"type == &#39;F&#39;\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"cn\",\"extAttrName\":\"fullname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"ws-target-resource-timeout\" connector_id=\"5ffbb4ac-a8c3-4b44-b699-11b398a1ba08\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     propagationPriority=\"1\" createTraceLevel=\"FAILURES\" deleteTraceLevel=\"NONE\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     jsonConf='[{\"schema\":{\"name\":\"endpoint\",\"displayName\":null,\"helpMessage\":null,\"type\":\"java.lang.String\",\"required\":true,\"order\":0,\"confidential\":false,\"defaultValues\":null},\"overridable\":true,\"values\":[\"http://localhost:${cargo.servlet.port}/syncope-fit-build-tools/services/provisioning\"]}]'\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"ws-target-resource-list-mappings-1\" connector_id=\"88a7a819-dab5-46b4-9b90-0b9769eabdb8\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"email\",\"extAttrName\":\"email\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"surname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"email\",\"extAttrName\":\"email\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"ws-target-resource-list-mappings-2\" connector_id=\"88a7a819-dab5-46b4-9b90-0b9769eabdb8\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"/>\n   <ExternalResource id=\"ws-target-resource-delete\" connector_id=\"5ffbb4ac-a8c3-4b44-b699-11b398a1ba08\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n                     propagationPriority=\"2\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"username\",\"extAttrName\":\"userId\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"username\",\"extAttrName\":\"userId\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"ws-target-resource-update\" connector_id=\"88a7a819-dab5-46b4-9b90-0b9769eabdb8\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"email\",\"extAttrName\":\"email\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"userId\",\"extAttrName\":\"userId\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"fullname\",\"extAttrName\":\"test3\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"userId\",\"extAttrName\":\"userId\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"resource-testdb\" connector_id=\"5aa5b8be-7521-481a-9651-c557aea078c1\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"username\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"password\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"username\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"resource-testdb2\" connector_id=\"a28abd9b-9f4a-4ef6-a7a8-d19ad2a8f29d\"\n-                    randomPwdIfNotProvided=\"1\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"username\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"password\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"username\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n+  <Implementation id=\"GenerateRandomPasswordPropagationActions\" type=\"PROPAGATION_ACTIONS\" engine=\"JAVA\"\n+                  body=\"org.apache.syncope.core.provisioning.java.propagation.GenerateRandomPasswordPropagationActions\"/>\n+  <ExternalResourcePropAction resource_id=\"resource-testdb2\" implementation_id=\"GenerateRandomPasswordPropagationActions\"/>\n   <ExternalResource id=\"resource-csv\" connector_id=\"6c2acf1b-b052-46f0-8c56-7a8ad6905edf\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n                     pullPolicy_id=\"880f8553-069b-4aed-9930-2cd53873f544\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[\"csv\",\"generic membership\",\"minimal group\"],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"username\",\"extAttrName\":\"id\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"fullname\",\"extAttrName\":\"id\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"password\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"firstname\",\"extAttrName\":\"name\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"surname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"userId\",\"extAttrName\":\"email\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PULL\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"email\",\"extAttrName\":\"email\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PULL\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"csvuserid\",\"extAttrName\":\"__NAME__\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"groups[root].rderToBePropagated\",\"extAttrName\":\"theirgroup\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"csvuserid\",\"extAttrName\":\"__NAME__\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"ws-target-resource-update-resetsynctoken\" connector_id=\"88a7a819-dab5-46b4-9b90-0b9769eabdb8\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":\"{\\\"value\\\":null}\",\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"userId\",\"extAttrName\":\"userId\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"fullname\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"userId\",\"extAttrName\":\"userId\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"resource-ldap\" connector_id=\"74141a3b-0762-4720-a4aa-fc3e374ef3ef\"\n-                    randomPwdIfNotProvided=\"1\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     propagationPriority=\"1\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[\"generic membership\",\"minimal group\"],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":\"&#39;uid=&#39; + username + &#39;,ou=people,${testds.rootDn}&#39;\",\"items\":[{\"intAttrName\":\"username\",\"extAttrName\":\"cn\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"password\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"sn\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"fullname\",\"extAttrName\":\"cn\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"email\",\"extAttrName\":\"mail\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"title\",\"extAttrName\":\"title\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"postalAddress\",\"extAttrName\":\"postalAddress\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"userId\",\"extAttrName\":\"mail\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"obscure\",\"extAttrName\":\"registeredAddress\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"photo\",\"extAttrName\":\"jpegPhoto\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[{\"intAttrName\":\"virtualReadOnly\",\"extAttrName\":\"givenname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"PULL\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"connObjectKeyItem\":{\"intAttrName\":\"username\",\"extAttrName\":\"cn\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[\"virtualReadOnly\"]},{\"anyType\":\"GROUP\",\"objectClass\":\"__GROUP__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":\"&#39;cn=&#39; + name + &#39;,ou=groups,${testds.rootDn}&#39;\",\"items\":[{\"intAttrName\":\"name\",\"extAttrName\":\"cn\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"userOwner\",\"extAttrName\":\"owner\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"title\",\"extAttrName\":\"description\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[{\"intAttrName\":\"rvirtualdata\",\"extAttrName\":\"businessCategory\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"connObjectKeyItem\":{\"intAttrName\":\"name\",\"extAttrName\":\"cn\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[\"rvirtualdata\"]}]'/>\n+  <ExternalResourcePropAction resource_id=\"resource-ldap\" implementation_id=\"GenerateRandomPasswordPropagationActions\"/>\n   <Implementation id=\"LDAPMembershipPropagationActions\" type=\"PROPAGATION_ACTIONS\" engine=\"JAVA\"\n                   body=\"org.apache.syncope.core.provisioning.java.propagation.LDAPMembershipPropagationActions\"/>\n   <ExternalResourcePropAction resource_id=\"resource-ldap\" implementation_id=\"LDAPMembershipPropagationActions\"/>\n   <ExternalResource id=\"resource-ldap-orgunit\" connector_id=\"74141a3b-0762-4720-a4aa-fc3e374ef3ef\"\n-                    randomPwdIfNotProvided=\"1\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     propagationPriority=\"1\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     jsonConf='[{\"schema\":{\"name\":\"uidAttribute\",\"displayName\":\"Uid Attribute\",\"helpMessage\":\"The name of the LDAP attribute which is mapped to the Uid attribute. Default is \\\"entryUUID\\\".\",\"type\":\"java.lang.String\",\"required\":false,\"order\":21,\"confidential\":false,\"defaultValues\":[\"entryUUID\"]},\"overridable\":true,\"values\":[\"l\"]},{\"schema\":{\"name\":\"baseContexts\",\"displayName\":\"Base Contexts\",\"helpMessage\":\"One or more starting points in the LDAP tree that will be used when searching the tree. Searches are performed when discovering users from the LDAP server or when looking for the groups of which a user is a member.\",\"type\":\"[Ljava.lang.String;\",\"required\":true,\"order\":7,\"confidential\":false,\"defaultValues\":[]},\"overridable\":true,\"values\":[\"${testds.rootDn}\"]}]'\n                     orgUnit='{\"objectClass\":\"organizationalUnit\",\"syncToken\":null,\"ignoreCaseMatch\":false,\"connObjectLink\":\"syncope:fullPath2Dn(fullPath, &#39;ou&#39;) + &#39;,${testds.rootDn}&#39;\",\"items\":[{\"intAttrName\":\"fullpath\",\"extAttrName\":\"l\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"name\",\"extAttrName\":\"ou\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"connObjectKeyItem\":{\"intAttrName\":\"fullpath\",\"extAttrName\":\"l\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}}'/>\n   \n   <ExternalResource id=\"ws-target-resource-nopropagation\" connector_id=\"fcf9f2b0-f7d6-42c9-84a6-61b28255a42b\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     passwordPolicy_id=\"986d1236-3ac5-4a19-810c-5ab21d79cba1\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   \n   <ExternalResource id=\"ws-target-resource-nopropagation2\" connector_id=\"fcf9f2b0-f7d6-42c9-84a6-61b28255a42b\" \n                     enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n-                    randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"ws-target-resource-nopropagation3\" connector_id=\"fcf9f2b0-f7d6-42c9-84a6-61b28255a42b\" \n                     enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n-                    randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"ws-target-resource-nopropagation4\" connector_id=\"fcf9f2b0-f7d6-42c9-84a6-61b28255a42b\" \n                     enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n-                    randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n                     \n   <ExternalResource id=\"resource-db-pull\" connector_id=\"be24b061-019d-4e3e-baf0-0a6d0a45cb9c\"\n-                    randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"\n                     enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"email\",\"extAttrName\":\"EMAIL\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"fullname\",\"extAttrName\":\"SURNAME\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"PULL\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"firstname\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"SURNAME\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"username\",\"extAttrName\":\"USERNAME\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"userId\",\"extAttrName\":\"EMAIL\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"PULL\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"mustChangePassword\",\"extAttrName\":\"MUSTCHANGEPASSWORD\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"PULL\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"firstname\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n                     \n   <ExternalResource id=\"resource-db-virattr\" connector_id=\"be24b061-019d-4e3e-baf0-0a6d0a45cb9c\"\n-                    randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"\n                     enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"key\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[{\"intAttrName\":\"virtualdata\",\"extAttrName\":\"USERNAME\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"connObjectKeyItem\":{\"intAttrName\":\"key\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[\"virtualdata\"]}]'/>\n \n   <ExternalResource id=\"resource-db-scripted\" connector_id=\"a6d017fd-a705-4507-bb7c-6ab6a6745997\"\n-                    randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"\n                     enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n                     propagationPolicy_id=\"89d322db-9878-420c-b49c-67be13df9a12\"\n                     provisions='[{\"anyType\":\"PRINTER\",\"objectClass\":\"__PRINTER__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"key\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"name\",\"extAttrName\":\"PRINTERNAME\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"location\",\"extAttrName\":\"LOCATION\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"key\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n \n   <ExternalResource id=\"rest-target-resource\" connector_id=\"44c02549-19c3-483c-8025-4919c3283c37\"\n                     createTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"  deleteTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\" \n                     enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n-                    propagationPriority=\"0\" randomPwdIfNotProvided=\"0\"\n-                    provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"firstname\",\"extAttrName\":\"firstName\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"key\",\"extAttrName\":\"key\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"password\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"username\",\"extAttrName\":\"username\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"email\",\"extAttrName\":\"email\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"surname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"key\",\"extAttrName\":\"key\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n+                    propagationPriority=\"0\" provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"firstname\",\"extAttrName\":\"firstName\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"key\",\"extAttrName\":\"key\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"password\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"username\",\"extAttrName\":\"username\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"email\",\"extAttrName\":\"email\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"surname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"key\",\"extAttrName\":\"key\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n \n   <!-- Use resource-testdb for passthrough authentication (SYNCOPE-164) -->\n   <AccountPolicy_ExternalResource accountPolicy_id=\"20ab5a8c-4b0c-432c-b957-f7fb9784d9f7\" resource_id=\"resource-testdb\"/>"},{"sha":"a590f93cc0f5ed71c42adbf2e3170d0d3117af3a","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/dao/JPATaskDAO.java","status":"modified","additions":20,"deletions":0,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPATaskDAO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPATaskDAO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPATaskDAO.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -19,6 +19,7 @@\n package org.apache.syncope.core.persistence.jpa.dao;\n \n import jakarta.persistence.ManyToOne;\n+import jakarta.persistence.NoResultException;\n import jakarta.persistence.OneToMany;\n import jakarta.persistence.OneToOne;\n import jakarta.persistence.Query;\n@@ -50,6 +51,7 @@\n import org.apache.syncope.core.persistence.api.entity.task.PushTask;\n import org.apache.syncope.core.persistence.api.entity.task.SchedTask;\n import org.apache.syncope.core.persistence.api.entity.task.Task;\n+import org.apache.syncope.core.persistence.api.entity.task.TaskUtils;\n import org.apache.syncope.core.persistence.api.entity.task.TaskUtilsFactory;\n import org.apache.syncope.core.persistence.jpa.entity.task.JPAMacroTask;\n import org.apache.syncope.core.persistence.jpa.entity.task.JPANotificationTask;\n@@ -104,6 +106,24 @@ public <T extends Task<T>> T find(final TaskType type, final String key) {\n         return (T) entityManager().find(taskUtilsFactory.getInstance(type).getTaskEntity(), key);\n     }\n \n+    @Transactional(readOnly = true)\n+    @SuppressWarnings(\"unchecked\")\n+    @Override\n+    public <T extends SchedTask> Optional<T> findByName(final TaskType type, final String name) {\n+        TaskUtils taskUtils = taskUtilsFactory.getInstance(type);\n+        TypedQuery<T> query = (TypedQuery<T>) entityManager().createQuery(\n+                \"SELECT e FROM \" + taskUtils.getTaskEntity().getSimpleName() + \" e WHERE e.name = :name\",\n+                taskUtils.getTaskEntity());\n+        query.setParameter(\"name\", name);\n+\n+        try {\n+            return Optional.of(query.getSingleResult());\n+        } catch (NoResultException e) {\n+            LOG.debug(\"No task found with name {}\", name, e);\n+            return Optional.empty();\n+        }\n+    }\n+\n     @Override\n     public Optional<Task<?>> find(final String key) {\n         Task<?> task = find(TaskType.SCHEDULED, key);"},{"sha":"60a733a801e7824675c257687f79449bad1c89f7","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/entity/JPAExternalResource.java","status":"modified","additions":0,"deletions":16,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAExternalResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAExternalResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAExternalResource.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -105,12 +105,6 @@ public class JPAExternalResource extends AbstractProvidedKeyEntity implements Ex\n      */\n     private Integer propagationPriority;\n \n-    /**\n-     * Generate random password, if not provided.\n-     */\n-    @NotNull\n-    private Boolean randomPwdIfNotProvided = false;\n-\n     @Enumerated(EnumType.STRING)\n     @NotNull\n     private TraceLevel createTraceLevel = TraceLevel.FAILURES;\n@@ -237,16 +231,6 @@ public void setPropagationPriority(final Integer propagationPriority) {\n         this.propagationPriority = propagationPriority;\n     }\n \n-    @Override\n-    public boolean isRandomPwdIfNotProvided() {\n-        return randomPwdIfNotProvided;\n-    }\n-\n-    @Override\n-    public void setRandomPwdIfNotProvided(final boolean randomPwdIfNotProvided) {\n-        this.randomPwdIfNotProvided = randomPwdIfNotProvided;\n-    }\n-\n     @Override\n     public TraceLevel getCreateTraceLevel() {\n         return createTraceLevel;"},{"sha":"65c577ba956be018c184f52940da049233c0b2f0","filename":"core/persistence-jpa/src/test/java/org/apache/syncope/core/persistence/jpa/inner/ImplementationTest.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FImplementationTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FImplementationTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FImplementationTest.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -44,13 +44,13 @@ public void findAll() {\n         List<Implementation> implementations = implementationDAO.findAll();\n         assertFalse(implementations.isEmpty());\n \n-        assertEquals(18, implementations.size());\n+        assertEquals(19, implementations.size());\n \n         implementations = implementationDAO.findByType(IdMImplementationType.PULL_ACTIONS);\n         assertEquals(1, implementations.size());\n \n         implementations = implementationDAO.findByType(IdMImplementationType.PROPAGATION_ACTIONS);\n-        assertEquals(1, implementations.size());\n+        assertEquals(2, implementations.size());\n \n         implementations = implementationDAO.findByType(IdRepoImplementationType.TASKJOB_DELEGATE);\n         assertEquals(6, implementations.size());"},{"sha":"6fe25cb2fb820856225ef052762dd46bad2d0b4f","filename":"core/persistence-jpa/src/test/java/org/apache/syncope/core/persistence/jpa/inner/TaskTest.java","status":"modified","additions":9,"deletions":0,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FTaskTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FTaskTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FTaskTest.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -26,6 +26,7 @@\n \n import java.util.HashSet;\n import java.util.List;\n+import java.util.Optional;\n import java.util.Set;\n import java.util.stream.Collectors;\n import org.apache.syncope.common.lib.SyncopeConstants;\n@@ -39,6 +40,7 @@\n import org.apache.syncope.core.persistence.api.entity.ExternalResource;\n import org.apache.syncope.core.persistence.api.entity.task.PropagationData;\n import org.apache.syncope.core.persistence.api.entity.task.PropagationTask;\n+import org.apache.syncope.core.persistence.api.entity.task.SchedTask;\n import org.apache.syncope.core.persistence.api.entity.user.User;\n import org.apache.syncope.core.persistence.jpa.AbstractTest;\n import org.apache.syncope.core.spring.security.SyncopeAuthenticationDetails;\n@@ -64,6 +66,13 @@ public class TaskTest extends AbstractTest {\n     @Autowired\n     private UserDAO userDAO;\n \n+    @Test\n+    public void findByName() {\n+        Optional<SchedTask> task = taskDAO.findByName(TaskType.SCHEDULED, \"SampleJob Task\");\n+        assertTrue(task.isPresent());\n+        assertEquals(taskDAO.find(TaskType.SCHEDULED, \"e95555d2-1b09-42c8-b25b-f4c4ec597979\"), task.get());\n+    }\n+\n     @Test\n     public void findWithoutExecs() {\n         List<PropagationTask> tasks = taskDAO.findToExec(TaskType.PROPAGATION);"},{"sha":"45b5452430a627e05377ab39c26627795ed9a1dc","filename":"core/persistence-jpa/src/test/resources/domains/MasterContent.xml","status":"modified","additions":25,"deletions":22,"changes":47,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -638,105 +638,108 @@ under the License.\n                 capabilities='[\"AUTHENTICATE\",\"CREATE\",\"UPDATE\",\"DELETE\",\"SEARCH\",\"SYNC\"]'/>\n \n   <ExternalResource id=\"ws-target-resource-1\" connector_id=\"88a7a819-dab5-46b4-9b90-0b9769eabdb8\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n                     propagationPriority=\"1\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"username\",\"extAttrName\":\"userId\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"email\",\"extAttrName\":\"email\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"surname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"password\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"fullname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"ctype\",\"extAttrName\":\"type\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"firstname\",\"extAttrName\":\"name\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"NONE\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"username\",\"extAttrName\":\"userId\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"ws-target-resource-2\" connector_id=\"88a7a819-dab5-46b4-9b90-0b9769eabdb8\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     createTraceLevel=\"FAILURES\" deleteTraceLevel=\"NONE\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     pullPolicy_id=\"9454b0d7-2610-400a-be82-fc23cf553dd6\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"password\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"ctype\",\"extAttrName\":\"type\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"surname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"type == &#39;F&#39;\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"virtualdata\",\"extAttrName\":\"name\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"type == &#39;F&#39;\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"cn\",\"extAttrName\":\"fullname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"ws-target-resource-timeout\" connector_id=\"5ffbb4ac-a8c3-4b44-b699-11b398a1ba08\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     propagationPriority=\"1\" createTraceLevel=\"FAILURES\" deleteTraceLevel=\"NONE\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     jsonConf='[{\"schema\":{\"name\":\"endpoint\",\"displayName\":null,\"helpMessage\":null,\"type\":\"java.lang.String\",\"required\":true,\"order\":0,\"confidential\":false,\"defaultValues\":null},\"overridable\":true,\"values\":[\"http://localhost:${cargo.servlet.port}/syncope-fit-build-tools/services/provisioning\"]}]'\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"ws-target-resource-list-mappings-1\" connector_id=\"88a7a819-dab5-46b4-9b90-0b9769eabdb8\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"email\",\"extAttrName\":\"email\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"surname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"email\",\"extAttrName\":\"email\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"ws-target-resource-list-mappings-2\" connector_id=\"88a7a819-dab5-46b4-9b90-0b9769eabdb8\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"/>\n   <ExternalResource id=\"ws-target-resource-delete\" connector_id=\"5ffbb4ac-a8c3-4b44-b699-11b398a1ba08\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n                     propagationPriority=\"2\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"username\",\"extAttrName\":\"userId\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"username\",\"extAttrName\":\"userId\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"ws-target-resource-update\" connector_id=\"88a7a819-dab5-46b4-9b90-0b9769eabdb8\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"email\",\"extAttrName\":\"email\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"userId\",\"extAttrName\":\"userId\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"fullname\",\"extAttrName\":\"test3\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"userId\",\"extAttrName\":\"userId\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"resource-testdb\" connector_id=\"5aa5b8be-7521-481a-9651-c557aea078c1\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"username\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"password\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"username\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"resource-testdb2\" connector_id=\"a28abd9b-9f4a-4ef6-a7a8-d19ad2a8f29d\"\n-                    randomPwdIfNotProvided=\"1\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"username\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"password\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"username\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n+  <Implementation id=\"GenerateRandomPasswordPropagationActions\" type=\"PROPAGATION_ACTIONS\" engine=\"JAVA\"\n+                  body=\"org.apache.syncope.core.provisioning.java.propagation.GenerateRandomPasswordPropagationActions\"/>\n+  <ExternalResourcePropAction resource_id=\"resource-testdb2\" implementation_id=\"GenerateRandomPasswordPropagationActions\"/>\n   <ExternalResource id=\"resource-csv\" connector_id=\"6c2acf1b-b052-46f0-8c56-7a8ad6905edf\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n                     pullPolicy_id=\"880f8553-069b-4aed-9930-2cd53873f544\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[\"csv\",\"generic membership\",\"minimal group\"],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"username\",\"extAttrName\":\"id\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"fullname\",\"extAttrName\":\"id\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"password\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"firstname\",\"extAttrName\":\"name\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"surname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"userId\",\"extAttrName\":\"email\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PULL\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"email\",\"extAttrName\":\"email\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PULL\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"csvuserid\",\"extAttrName\":\"__NAME__\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"groups[root].rderToBePropagated\",\"extAttrName\":\"theirgroup\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"csvuserid\",\"extAttrName\":\"__NAME__\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"ws-target-resource-update-resetsynctoken\" connector_id=\"88a7a819-dab5-46b4-9b90-0b9769eabdb8\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":\"{\\\"value\\\":null}\",\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"userId\",\"extAttrName\":\"userId\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"fullname\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"userId\",\"extAttrName\":\"userId\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"resource-ldap\" connector_id=\"74141a3b-0762-4720-a4aa-fc3e374ef3ef\"\n-                    randomPwdIfNotProvided=\"1\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     propagationPriority=\"1\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[\"generic membership\",\"minimal group\"],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":\"&#39;uid=&#39; + username + &#39;,ou=people,${testds.rootDn}&#39;\",\"items\":[{\"intAttrName\":\"username\",\"extAttrName\":\"cn\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"password\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"sn\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"fullname\",\"extAttrName\":\"cn\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"email\",\"extAttrName\":\"mail\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"title\",\"extAttrName\":\"title\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"postalAddress\",\"extAttrName\":\"postalAddress\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"userId\",\"extAttrName\":\"mail\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"obscure\",\"extAttrName\":\"registeredAddress\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"photo\",\"extAttrName\":\"jpegPhoto\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[{\"intAttrName\":\"virtualReadOnly\",\"extAttrName\":\"givenname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"PULL\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"connObjectKeyItem\":{\"intAttrName\":\"username\",\"extAttrName\":\"cn\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[\"virtualReadOnly\"]},{\"anyType\":\"GROUP\",\"objectClass\":\"__GROUP__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":\"&#39;cn=&#39; + name + &#39;,ou=groups,${testds.rootDn}&#39;\",\"items\":[{\"intAttrName\":\"name\",\"extAttrName\":\"cn\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"userOwner\",\"extAttrName\":\"owner\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"title\",\"extAttrName\":\"description\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[{\"intAttrName\":\"rvirtualdata\",\"extAttrName\":\"businessCategory\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"connObjectKeyItem\":{\"intAttrName\":\"name\",\"extAttrName\":\"cn\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[\"rvirtualdata\"]}]'/>\n+  <ExternalResourcePropAction resource_id=\"resource-ldap\" implementation_id=\"GenerateRandomPasswordPropagationActions\"/>\n   <Implementation id=\"LDAPMembershipPropagationActions\" type=\"PROPAGATION_ACTIONS\" engine=\"JAVA\"\n                   body=\"org.apache.syncope.core.provisioning.java.propagation.LDAPMembershipPropagationActions\"/>\n   <ExternalResourcePropAction resource_id=\"resource-ldap\" implementation_id=\"LDAPMembershipPropagationActions\"/>\n   <ExternalResource id=\"resource-ldap-orgunit\" connector_id=\"74141a3b-0762-4720-a4aa-fc3e374ef3ef\"\n-                    randomPwdIfNotProvided=\"1\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     propagationPriority=\"1\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     jsonConf='[{\"schema\":{\"name\":\"uidAttribute\",\"displayName\":\"Uid Attribute\",\"helpMessage\":\"The name of the LDAP attribute which is mapped to the Uid attribute. Default is \\\"entryUUID\\\".\",\"type\":\"java.lang.String\",\"required\":false,\"order\":21,\"confidential\":false,\"defaultValues\":[\"entryUUID\"]},\"overridable\":true,\"values\":[\"l\"]},{\"schema\":{\"name\":\"baseContexts\",\"displayName\":\"Base Contexts\",\"helpMessage\":\"One or more starting points in the LDAP tree that will be used when searching the tree. Searches are performed when discovering users from the LDAP server or when looking for the groups of which a user is a member.\",\"type\":\"[Ljava.lang.String;\",\"required\":true,\"order\":7,\"confidential\":false,\"defaultValues\":[]},\"overridable\":true,\"values\":[\"${testds.rootDn}\"]}]'\n                     orgUnit='{\"objectClass\":\"organizationalUnit\",\"syncToken\":null,\"ignoreCaseMatch\":false,\"connObjectLink\":\"syncope:fullPath2Dn(fullPath, &#39;ou&#39;) + &#39;,${testds.rootDn}&#39;\",\"items\":[{\"intAttrName\":\"fullpath\",\"extAttrName\":\"l\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"name\",\"extAttrName\":\"ou\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"connObjectKeyItem\":{\"intAttrName\":\"fullpath\",\"extAttrName\":\"l\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}}'/>\n   \n   <ExternalResource id=\"ws-target-resource-nopropagation\" connector_id=\"fcf9f2b0-f7d6-42c9-84a6-61b28255a42b\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     passwordPolicy_id=\"986d1236-3ac5-4a19-810c-5ab21d79cba1\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   \n   <ExternalResource id=\"ws-target-resource-nopropagation2\" connector_id=\"fcf9f2b0-f7d6-42c9-84a6-61b28255a42b\" \n                     enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n-                    randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"ws-target-resource-nopropagation3\" connector_id=\"fcf9f2b0-f7d6-42c9-84a6-61b28255a42b\" \n                     enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n-                    randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n   <ExternalResource id=\"ws-target-resource-nopropagation4\" connector_id=\"fcf9f2b0-f7d6-42c9-84a6-61b28255a42b\" \n                     enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n-                    randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"fullname\",\"extAttrName\":\"fullname\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"PROPAGATION\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n                     \n   <ExternalResource id=\"resource-db-pull\" connector_id=\"be24b061-019d-4e3e-baf0-0a6d0a45cb9c\"\n-                    randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"\n                     enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"email\",\"extAttrName\":\"EMAIL\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"fullname\",\"extAttrName\":\"SURNAME\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"PULL\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"firstname\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"SURNAME\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"username\",\"extAttrName\":\"USERNAME\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"userId\",\"extAttrName\":\"EMAIL\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"PULL\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"mustChangePassword\",\"extAttrName\":\"MUSTCHANGEPASSWORD\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"PULL\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"firstname\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n                     \n   <ExternalResource id=\"resource-db-virattr\" connector_id=\"be24b061-019d-4e3e-baf0-0a6d0a45cb9c\"\n-                    randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"\n                     enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"key\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[{\"intAttrName\":\"virtualdata\",\"extAttrName\":\"USERNAME\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"connObjectKeyItem\":{\"intAttrName\":\"key\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[\"virtualdata\"]}]'/>\n \n   <ExternalResource id=\"resource-db-scripted\" connector_id=\"a6d017fd-a705-4507-bb7c-6ab6a6745997\"\n-                    randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"\n                     enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n                     propagationPolicy_id=\"89d322db-9878-420c-b49c-67be13df9a12\"\n                     provisions='[{\"anyType\":\"PRINTER\",\"objectClass\":\"__PRINTER__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"key\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"name\",\"extAttrName\":\"PRINTERNAME\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"location\",\"extAttrName\":\"LOCATION\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"false\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"key\",\"extAttrName\":\"ID\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n \n   <ExternalResource id=\"rest-target-resource\" connector_id=\"44c02549-19c3-483c-8025-4919c3283c37\"\n                     createTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"  deleteTraceLevel=\"ALL\" provisioningTraceLevel=\"ALL\" \n-                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n-                    propagationPriority=\"0\" randomPwdIfNotProvided=\"0\"\n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\" propagationPriority=\"0\"\n                     provisions='[{\"anyType\":\"USER\",\"objectClass\":\"__ACCOUNT__\",\"auxClasses\":[],\"syncToken\":null,\"ignoreCaseMatch\":false,\"uidOnCreate\":null,\"mapping\":{\"connObjectLink\":null,\"items\":[{\"intAttrName\":\"firstname\",\"extAttrName\":\"firstName\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"key\",\"extAttrName\":\"key\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"password\",\"extAttrName\":\"__PASSWORD__\",\"connObjectKey\":false,\"password\":true,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"username\",\"extAttrName\":\"username\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"email\",\"extAttrName\":\"email\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]},{\"intAttrName\":\"surname\",\"extAttrName\":\"surname\",\"connObjectKey\":false,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}],\"linkingItems\":[],\"connObjectKeyItem\":{\"intAttrName\":\"key\",\"extAttrName\":\"key\",\"connObjectKey\":true,\"password\":false,\"mandatoryCondition\":\"true\",\"purpose\":\"BOTH\",\"propagationJEXLTransformer\":null,\"pullJEXLTransformer\":null,\"transformers\":[]}},\"virSchemas\":[]}]'/>\n \n   <!-- Use resource-testdb for passthrough authentication (SYNCOPE-164) -->"},{"sha":"12985ae7cb4265f7042aec203c94b3237c01a425","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/ProvisioningContext.java","status":"modified","additions":1,"deletions":11,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FProvisioningContext.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FProvisioningContext.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FProvisioningContext.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -551,31 +551,22 @@ public PropagationTaskExecutor propagationTaskExecutor(\n             final AnyUtilsFactory anyUtilsFactory,\n             final ConnectorManager connectorManager,\n             final ConnObjectUtils connObjectUtils,\n-            final UserDAO userDAO,\n-            final GroupDAO groupDAO,\n-            final AnyObjectDAO anyObjectDAO,\n             final TaskDAO taskDAO,\n             final ExternalResourceDAO resourceDAO,\n             final PlainSchemaDAO plainSchemaDAO,\n-            final RealmDAO realmDAO,\n             final NotificationManager notificationManager,\n             final AuditManager auditManager,\n             final TaskDataBinder taskDataBinder,\n             final OutboundMatcher outboundMatcher,\n             final PlainAttrValidationManager validator,\n-            final ApplicationEventPublisher publisher,\n-            final PasswordGenerator passwordGenerator) {\n+            final ApplicationEventPublisher publisher) {\n \n         return new PriorityPropagationTaskExecutor(\n                 connectorManager,\n                 connObjectUtils,\n-                userDAO,\n-                groupDAO,\n-                anyObjectDAO,\n                 taskDAO,\n                 resourceDAO,\n                 plainSchemaDAO,\n-                realmDAO,\n                 notificationManager,\n                 auditManager,\n                 taskDataBinder,\n@@ -584,7 +575,6 @@ public PropagationTaskExecutor propagationTaskExecutor(\n                 outboundMatcher,\n                 validator,\n                 publisher,\n-                passwordGenerator,\n                 propagationTaskExecutorAsyncExecutor);\n     }\n "},{"sha":"a7e0c626bed6854b51665b58c7b453e0be223dcd","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/data/ResourceDataBinderImpl.java","status":"modified","additions":1,"deletions":5,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FResourceDataBinderImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FResourceDataBinderImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FResourceDataBinderImpl.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -140,8 +140,6 @@ public ExternalResource update(final ExternalResource resource, final ResourceTO\n \n         resource.setPropagationPriority(resourceTO.getPropagationPriority());\n \n-        resource.setRandomPwdIfNotProvided(resourceTO.isRandomPwdIfNotProvided());\n-\n         // 1. add or update all (valid) provisions from TO\n         resourceTO.getProvisions().forEach(provisionTO -> {\n             AnyType anyType = anyTypeDAO.find(provisionTO.getAnyType());\n@@ -400,7 +398,7 @@ public ExternalResource update(final ExternalResource resource, final ResourceTO\n         });\n         // remove all implementations not contained in the TO\n         resource.getPropagationActions().\n-                removeIf(implementation -> !resourceTO.getPropagationActions().contains(implementation.getKey()));\n+                removeIf(propActions -> !resourceTO.getPropagationActions().contains(propActions.getKey()));\n \n         return resource;\n     }\n@@ -662,8 +660,6 @@ public ResourceTO getResourceTO(final ExternalResource resource) {\n \n         resourceTO.setPropagationPriority(resource.getPropagationPriority());\n \n-        resourceTO.setRandomPwdIfNotProvided(resource.isRandomPwdIfNotProvided());\n-\n         resourceTO.setCreateTraceLevel(resource.getCreateTraceLevel());\n         resourceTO.setUpdateTraceLevel(resource.getUpdateTraceLevel());\n         resourceTO.setDeleteTraceLevel(resource.getDeleteTraceLevel());"},{"sha":"a080189dd8876b9374aec26389250d5716089e26","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/AbstractPropagationTaskExecutor.java","status":"modified","additions":17,"deletions":80,"changes":97,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FAbstractPropagationTaskExecutor.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FAbstractPropagationTaskExecutor.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FAbstractPropagationTaskExecutor.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -35,21 +35,16 @@\n import org.apache.syncope.common.lib.to.Item;\n import org.apache.syncope.common.lib.to.OrgUnit;\n import org.apache.syncope.common.lib.to.Provision;\n-import org.apache.syncope.common.lib.types.AnyTypeKind;\n import org.apache.syncope.common.lib.types.AuditElements;\n import org.apache.syncope.common.lib.types.AuditElements.Result;\n import org.apache.syncope.common.lib.types.ExecStatus;\n import org.apache.syncope.common.lib.types.ResourceOperation;\n import org.apache.syncope.common.lib.types.TaskType;\n import org.apache.syncope.common.lib.types.TraceLevel;\n import org.apache.syncope.core.persistence.api.attrvalue.validation.PlainAttrValidationManager;\n-import org.apache.syncope.core.persistence.api.dao.AnyObjectDAO;\n import org.apache.syncope.core.persistence.api.dao.ExternalResourceDAO;\n-import org.apache.syncope.core.persistence.api.dao.GroupDAO;\n import org.apache.syncope.core.persistence.api.dao.PlainSchemaDAO;\n-import org.apache.syncope.core.persistence.api.dao.RealmDAO;\n import org.apache.syncope.core.persistence.api.dao.TaskDAO;\n-import org.apache.syncope.core.persistence.api.dao.UserDAO;\n import org.apache.syncope.core.persistence.api.entity.AnyUtils;\n import org.apache.syncope.core.persistence.api.entity.AnyUtilsFactory;\n import org.apache.syncope.core.persistence.api.entity.ExternalResource;\n@@ -76,7 +71,6 @@\n import org.apache.syncope.core.provisioning.java.utils.MappingUtils;\n import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.apache.syncope.core.spring.security.AuthContextUtils;\n-import org.apache.syncope.core.spring.security.PasswordGenerator;\n import org.identityconnectors.framework.common.exceptions.ConnectorException;\n import org.identityconnectors.framework.common.objects.Attribute;\n import org.identityconnectors.framework.common.objects.AttributeBuilder;\n@@ -111,20 +105,12 @@ public abstract class AbstractPropagationTaskExecutor implements PropagationTask\n \n     protected final ConnObjectUtils connObjectUtils;\n \n-    protected final UserDAO userDAO;\n-\n-    protected final GroupDAO groupDAO;\n-\n-    protected final AnyObjectDAO anyObjectDAO;\n-\n     protected final TaskDAO taskDAO;\n \n     protected final ExternalResourceDAO resourceDAO;\n \n     protected final PlainSchemaDAO plainSchemaDAO;\n \n-    protected final RealmDAO realmDAO;\n-\n     protected final NotificationManager notificationManager;\n \n     protected final AuditManager auditManager;\n@@ -141,39 +127,28 @@ public abstract class AbstractPropagationTaskExecutor implements PropagationTask\n \n     protected final ApplicationEventPublisher publisher;\n \n-    protected final PasswordGenerator passwordGenerator;\n-\n     protected final Map<String, PropagationActions> perContextActions = new ConcurrentHashMap<>();\n \n     public AbstractPropagationTaskExecutor(\n             final ConnectorManager connectorManager,\n             final ConnObjectUtils connObjectUtils,\n-            final UserDAO userDAO,\n-            final GroupDAO groupDAO,\n-            final AnyObjectDAO anyObjectDAO,\n             final TaskDAO taskDAO,\n             final ExternalResourceDAO resourceDAO,\n             final PlainSchemaDAO plainSchemaDAO,\n-            final RealmDAO realmDAO,\n             final NotificationManager notificationManager,\n             final AuditManager auditManager,\n             final TaskDataBinder taskDataBinder,\n             final AnyUtilsFactory anyUtilsFactory,\n             final TaskUtilsFactory taskUtilsFactory,\n             final OutboundMatcher outboundMatcher,\n             final PlainAttrValidationManager validator,\n-            final ApplicationEventPublisher publisher,\n-            final PasswordGenerator passwordGenerator) {\n+            final ApplicationEventPublisher publisher) {\n \n         this.connectorManager = connectorManager;\n         this.connObjectUtils = connObjectUtils;\n-        this.userDAO = userDAO;\n-        this.groupDAO = groupDAO;\n-        this.anyObjectDAO = anyObjectDAO;\n         this.taskDAO = taskDAO;\n         this.resourceDAO = resourceDAO;\n         this.plainSchemaDAO = plainSchemaDAO;\n-        this.realmDAO = realmDAO;\n         this.notificationManager = notificationManager;\n         this.auditManager = auditManager;\n         this.taskDataBinder = taskDataBinder;\n@@ -182,7 +157,6 @@ public AbstractPropagationTaskExecutor(\n         this.outboundMatcher = outboundMatcher;\n         this.validator = validator;\n         this.publisher = publisher;\n-        this.passwordGenerator = passwordGenerator;\n     }\n \n     @Override\n@@ -223,9 +197,9 @@ protected void checkMandatoryMissing(\n                         // LinkedAccount update propagation without password\n                         mandatoryAttrNames.addAll(enablePasswordCheck\n                                 ? missing.getValue()\n-                                : missing.getValue().stream()\n-                                        .filter(v -> !OperationalAttributes.PASSWORD_NAME.equals(v))\n-                                        .collect(Collectors.toList()));\n+                                : missing.getValue().stream().\n+                                        filter(v -> !OperationalAttributes.PASSWORD_NAME.equals(v)).\n+                                        collect(Collectors.toList()));\n                     }\n                 });\n         Optional.ofNullable(AttributeUtil.find(PropagationManager.MANDATORY_NULL_OR_EMPTY_ATTR_NAME, attrs)).\n@@ -243,39 +217,10 @@ protected void checkMandatoryMissing(\n     protected Uid doCreate(\n             final PropagationTaskInfo taskInfo,\n             final Connector connector,\n-            final AtomicReference<Boolean> propagationAttempted,\n-            final List<PropagationActions> actions) {\n+            final AtomicReference<Boolean> propagationAttempted) {\n \n         Set<Attribute> attrs = taskInfo.getPropagationData().getAttributes();\n \n-        if (AnyTypeKind.USER == taskInfo.getAnyTypeKind()\n-                && AttributeUtil.getPasswordValue(attrs) == null\n-                && taskInfo.getResource().isRandomPwdIfNotProvided()) {\n-\n-            // generate random password\n-            attrs.add(AttributeBuilder.buildPassword(\n-                    passwordGenerator.generate(taskInfo.getResource(),\n-                            realmDAO.findAncestors(userDAO.find(taskInfo.getEntityKey()).getRealm())).\n-                            toCharArray()));\n-\n-            // remove __PASSWORD__ from MANDATORY_MISSING attribute\n-            Set<Object> newMandatoryMissingAttrValues = new HashSet<>();\n-            Optional.ofNullable(AttributeUtil.find(PropagationManager.MANDATORY_MISSING_ATTR_NAME, attrs)).\n-                    ifPresent(missing -> {\n-                        newMandatoryMissingAttrValues.addAll(\n-                                missing.getValue().stream().\n-                                        filter(v -> !OperationalAttributes.PASSWORD_NAME.equals(v)).\n-                                        collect(Collectors.toList()));\n-                        attrs.remove(missing);\n-                    });\n-            if (!newMandatoryMissingAttrValues.isEmpty()) {\n-                attrs.add(AttributeBuilder.build(\n-                        PropagationManager.MANDATORY_MISSING_ATTR_NAME, newMandatoryMissingAttrValues));\n-            }\n-        }\n-\n-        actions.forEach(action -> action.before(taskInfo));\n-\n         checkMandatoryMissing(taskInfo, attrs, true);\n \n         LOG.debug(\"Create {} on {}\", attrs, taskInfo.getResource().getKey());\n@@ -305,10 +250,7 @@ protected Uid doUpdate(\n             final PropagationTaskInfo taskInfo,\n             final Connector connector,\n             final ConnectorObject beforeObj,\n-            final AtomicReference<Boolean> propagationAttempted,\n-            final List<PropagationActions> actions) {\n-\n-        actions.forEach(action -> action.before(taskInfo));\n+            final AtomicReference<Boolean> propagationAttempted) {\n \n         Set<Attribute> attrs = taskInfo.getPropagationData().getAttributes();\n \n@@ -372,10 +314,7 @@ protected Uid doUpdateDelta(\n             final PropagationTaskInfo taskInfo,\n             final Set<AttributeDelta> modifications,\n             final Connector connector,\n-            final AtomicReference<Boolean> propagationAttempted,\n-            final List<PropagationActions> actions) {\n-\n-        actions.forEach(action -> action.before(taskInfo));\n+            final AtomicReference<Boolean> propagationAttempted) {\n \n         Uid uid = new Uid(taskInfo.getConnObjectKey());\n \n@@ -400,35 +339,31 @@ protected Uid createOrUpdate(\n             final boolean fetchRemoteObj,\n             final ConnectorObject beforeObj,\n             final Connector connector,\n-            final AtomicReference<Boolean> propagationAttempted,\n-            final List<PropagationActions> actions) {\n+            final AtomicReference<Boolean> propagationAttempted) {\n \n         PropagationData propagationData = taskInfo.getPropagationData();\n \n         if (propagationData.getAttributeDeltas() == null) {\n             if (beforeObj != null) {\n-                return doUpdate(taskInfo, connector, beforeObj, propagationAttempted, actions);\n+                return doUpdate(taskInfo, connector, beforeObj, propagationAttempted);\n             }\n \n             if (fetchRemoteObj || taskInfo.getOperation() == ResourceOperation.CREATE) {\n-                return doCreate(taskInfo, connector, propagationAttempted, actions);\n+                return doCreate(taskInfo, connector, propagationAttempted);\n             }\n \n-            return doUpdate(taskInfo, connector, beforeObj, propagationAttempted, actions);\n+            return doUpdate(taskInfo, connector, beforeObj, propagationAttempted);\n         }\n \n-        return doUpdateDelta(taskInfo, propagationData.getAttributeDeltas(), connector, propagationAttempted, actions);\n+        return doUpdateDelta(taskInfo, propagationData.getAttributeDeltas(), connector, propagationAttempted);\n     }\n \n     protected Uid delete(\n             final PropagationTaskInfo taskInfo,\n             final boolean fetchRemoteObj,\n             final ConnectorObject beforeObj,\n             final Connector connector,\n-            final AtomicReference<Boolean> propagationAttempted,\n-            final List<PropagationActions> actions) {\n-\n-        actions.forEach(action -> action.before(taskInfo));\n+            final AtomicReference<Boolean> propagationAttempted) {\n \n         Uid result;\n \n@@ -617,14 +552,16 @@ protected TaskExec<PropagationTask> doExecute(\n                 beforeObj = taskInfo.getBeforeObj().get();\n             }\n \n+            actions.forEach(action -> action.before(taskInfo));\n+\n             switch (taskInfo.getOperation()) {\n                 case CREATE:\n                 case UPDATE:\n-                    uid = createOrUpdate(taskInfo, fetchRemoteObj, beforeObj, connector, propagationAttempted, actions);\n+                    uid = createOrUpdate(taskInfo, fetchRemoteObj, beforeObj, connector, propagationAttempted);\n                     break;\n \n                 case DELETE:\n-                    uid = delete(taskInfo, fetchRemoteObj, beforeObj, connector, propagationAttempted, actions);\n+                    uid = delete(taskInfo, fetchRemoteObj, beforeObj, connector, propagationAttempted);\n                     break;\n \n                 default:"},{"sha":"51ef57a25c974330ff5be6d0e695bbeec73352c2","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/DefaultPropagationManager.java","status":"modified","additions":7,"deletions":1,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FDefaultPropagationManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FDefaultPropagationManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FDefaultPropagationManager.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -247,7 +247,13 @@ public List<PropagationTaskInfo> getUserUpdateTasks(final UserWorkflowResult<Pai\n                     dao().findAllResourceKeys(userUR.getKey());\n             pwdResourceNames.retainAll(allResourceNames);\n \n-            pwdWFResult.getPropByRes().addAll(ResourceOperation.UPDATE, pwdResourceNames);\n+            if (wfResult.getPropByRes() == null || wfResult.getPropByRes().isEmpty()) {\n+                pwdWFResult.getPropByRes().addAll(ResourceOperation.UPDATE, pwdResourceNames);\n+            } else {\n+                Map<String, ResourceOperation> wfPropByResMap = wfResult.getPropByRes().asMap();\n+                pwdResourceNames.forEach(r -> pwdWFResult.getPropByRes().\n+                        add(wfPropByResMap.getOrDefault(r, ResourceOperation.UPDATE), r));\n+            }\n             if (!pwdWFResult.getPropByRes().isEmpty()) {\n                 Set<String> toBeExcluded = new HashSet<>(allResourceNames);\n                 toBeExcluded.addAll(userUR.getResources().stream()."},{"sha":"b228ae67a999223721f3fcb3243d772a7f4391b5","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/GenerateRandomPasswordPropagationActions.java","status":"added","additions":88,"deletions":0,"changes":88,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FGenerateRandomPasswordPropagationActions.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FGenerateRandomPasswordPropagationActions.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FGenerateRandomPasswordPropagationActions.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -0,0 +1,88 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.core.provisioning.java.propagation;\n+\n+import java.util.Optional;\n+import java.util.Set;\n+import java.util.stream.Collectors;\n+import org.apache.syncope.common.lib.types.AnyTypeKind;\n+import org.apache.syncope.core.persistence.api.dao.RealmDAO;\n+import org.apache.syncope.core.persistence.api.dao.UserDAO;\n+import org.apache.syncope.core.provisioning.api.propagation.PropagationActions;\n+import org.apache.syncope.core.provisioning.api.propagation.PropagationManager;\n+import org.apache.syncope.core.provisioning.api.propagation.PropagationTaskInfo;\n+import org.apache.syncope.core.spring.implementation.InstanceScope;\n+import org.apache.syncope.core.spring.implementation.SyncopeImplementation;\n+import org.apache.syncope.core.spring.security.PasswordGenerator;\n+import org.identityconnectors.framework.common.objects.Attribute;\n+import org.identityconnectors.framework.common.objects.AttributeBuilder;\n+import org.identityconnectors.framework.common.objects.AttributeUtil;\n+import org.identityconnectors.framework.common.objects.OperationalAttributes;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.transaction.annotation.Transactional;\n+\n+@SyncopeImplementation(scope = InstanceScope.PER_CONTEXT)\n+public class GenerateRandomPasswordPropagationActions implements PropagationActions {\n+\n+    protected static final Logger LOG = LoggerFactory.getLogger(GenerateRandomPasswordPropagationActions.class);\n+\n+    @Autowired\n+    protected UserDAO userDAO;\n+\n+    @Autowired\n+    protected RealmDAO realmDAO;\n+\n+    @Autowired\n+    protected PasswordGenerator passwordGenerator;\n+\n+    protected boolean generateRandomPassword(final PropagationTaskInfo taskInfo) {\n+        return AnyTypeKind.USER == taskInfo.getAnyTypeKind()\n+                && taskInfo.getBeforeObj().isEmpty()\n+                && AttributeUtil.getPasswordValue(taskInfo.getPropagationData().getAttributes()) == null;\n+    }\n+\n+    @Transactional(readOnly = true)\n+    @Override\n+    public void before(final PropagationTaskInfo taskInfo) {\n+        if (generateRandomPassword(taskInfo)) {\n+            Set<Attribute> attrs = taskInfo.getPropagationData().getAttributes();\n+\n+            // generate random password\n+            attrs.add(AttributeBuilder.buildPassword(passwordGenerator.generate(\n+                    taskInfo.getResource(),\n+                    realmDAO.findAncestors(userDAO.find(taskInfo.getEntityKey()).getRealm())).toCharArray()));\n+\n+            // remove __PASSWORD__ from MANDATORY_MISSING attribute\n+            Optional.ofNullable(AttributeUtil.find(PropagationManager.MANDATORY_MISSING_ATTR_NAME, attrs)).\n+                    ifPresent(mandatoryMissing -> {\n+                        attrs.remove(mandatoryMissing);\n+\n+                        Set<Object> newMandatoryMissing = mandatoryMissing.getValue().stream().\n+                                filter(v -> !OperationalAttributes.PASSWORD_NAME.equals(v)).\n+                                collect(Collectors.toSet());\n+                        if (!newMandatoryMissing.isEmpty()) {\n+                            attrs.add(AttributeBuilder.build(\n+                                    PropagationManager.MANDATORY_MISSING_ATTR_NAME, newMandatoryMissing));\n+                        }\n+                    });\n+        }\n+    }\n+}"},{"sha":"3ad8a519c7e82ecc888004d7c1fe77b73e3ec1c7","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/PriorityPropagationTaskExecutor.java","status":"modified","additions":1,"deletions":16,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FPriorityPropagationTaskExecutor.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FPriorityPropagationTaskExecutor.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FPriorityPropagationTaskExecutor.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -29,13 +29,9 @@\n import java.util.stream.Collectors;\n import org.apache.syncope.common.lib.types.ExecStatus;\n import org.apache.syncope.core.persistence.api.attrvalue.validation.PlainAttrValidationManager;\n-import org.apache.syncope.core.persistence.api.dao.AnyObjectDAO;\n import org.apache.syncope.core.persistence.api.dao.ExternalResourceDAO;\n-import org.apache.syncope.core.persistence.api.dao.GroupDAO;\n import org.apache.syncope.core.persistence.api.dao.PlainSchemaDAO;\n-import org.apache.syncope.core.persistence.api.dao.RealmDAO;\n import org.apache.syncope.core.persistence.api.dao.TaskDAO;\n-import org.apache.syncope.core.persistence.api.dao.UserDAO;\n import org.apache.syncope.core.persistence.api.entity.AnyUtilsFactory;\n import org.apache.syncope.core.persistence.api.entity.Exec;\n import org.apache.syncope.core.persistence.api.entity.task.PropagationTask;\n@@ -52,7 +48,6 @@\n import org.apache.syncope.core.provisioning.java.pushpull.OutboundMatcher;\n import org.apache.syncope.core.provisioning.java.utils.ConnObjectUtils;\n import org.apache.syncope.core.spring.ApplicationContextProvider;\n-import org.apache.syncope.core.spring.security.PasswordGenerator;\n import org.springframework.beans.factory.support.AbstractBeanDefinition;\n import org.springframework.context.ApplicationEventPublisher;\n import org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\n@@ -93,13 +88,9 @@ protected PropagationTaskCallable newPropagationTaskCallable(\n     public PriorityPropagationTaskExecutor(\n             final ConnectorManager connectorManager,\n             final ConnObjectUtils connObjectUtils,\n-            final UserDAO userDAO,\n-            final GroupDAO groupDAO,\n-            final AnyObjectDAO anyObjectDAO,\n             final TaskDAO taskDAO,\n             final ExternalResourceDAO resourceDAO,\n             final PlainSchemaDAO plainSchemaDAO,\n-            final RealmDAO realmDAO,\n             final NotificationManager notificationManager,\n             final AuditManager auditManager,\n             final TaskDataBinder taskDataBinder,\n@@ -108,27 +99,21 @@ public PriorityPropagationTaskExecutor(\n             final OutboundMatcher outboundMatcher,\n             final PlainAttrValidationManager validator,\n             final ApplicationEventPublisher publisher,\n-            final PasswordGenerator passwordGenerator,\n             final ThreadPoolTaskExecutor taskExecutor) {\n \n         super(connectorManager,\n                 connObjectUtils,\n-                userDAO,\n-                groupDAO,\n-                anyObjectDAO,\n                 taskDAO,\n                 resourceDAO,\n                 plainSchemaDAO,\n-                realmDAO,\n                 notificationManager,\n                 auditManager,\n                 taskDataBinder,\n                 anyUtilsFactory,\n                 taskUtilsFactory,\n                 outboundMatcher,\n                 validator,\n-                publisher,\n-                passwordGenerator);\n+                publisher);\n         this.taskExecutor = taskExecutor;\n     }\n "},{"sha":"9390daafa3788a15ad6c3efa55f5f3f2706a3d17","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/utils/ConnObjectUtils.java","status":"modified","additions":5,"deletions":5,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Futils%2FConnObjectUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Futils%2FConnObjectUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Futils%2FConnObjectUtils.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -174,8 +174,8 @@ public ConnObjectUtils(\n      * @param pullTask pull task\n      * @param anyTypeKind any type kind\n      * @param provision provision information\n-     * @param generatePasswordIfPossible whether password value shall be generated, in case not found from\n-     * connector object and allowed by resource configuration\n+     * @param generatePassword whether password value shall be generated, in case not found from\n+     * connector object\n      * @param <C> create request type\n      * @return create request\n      */\n@@ -185,16 +185,16 @@ public <C extends AnyCR> C getAnyCR(\n             final PullTask pullTask,\n             final AnyTypeKind anyTypeKind,\n             final Provision provision,\n-            final boolean generatePasswordIfPossible) {\n+            final boolean generatePassword) {\n \n         AnyTO anyTO = getAnyTOFromConnObject(obj, pullTask, anyTypeKind, provision);\n         C anyCR = anyUtilsFactory.getInstance(anyTypeKind).newAnyCR();\n         EntityTOUtils.toAnyCR(anyTO, anyCR);\n \n-        // (for users) if password was not set above, generate if resource is configured for that\n+        // (for users) if password was not set above, generate if possible\n         if (anyCR instanceof UserCR\n                 && StringUtils.isBlank(((UserCR) anyCR).getPassword())\n-                && generatePasswordIfPossible && pullTask.getResource().isRandomPwdIfNotProvided()) {\n+                && generatePassword) {\n \n             UserCR userCR = (UserCR) anyCR;\n             List<PasswordPolicy> passwordPolicies = new ArrayList<>();"},{"sha":"439f9766cef5bb91b6f38b1dbc07a4e5da75296f","filename":"core/provisioning-java/src/test/java/org/apache/syncope/core/provisioning/java/DefaultMappingManagerTest.java","status":"modified","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/core%2Fprovisioning-java%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FDefaultMappingManagerTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/core%2Fprovisioning-java%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FDefaultMappingManagerTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FDefaultMappingManagerTest.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -123,7 +123,6 @@ public void prepareAttrsForUser() {\n         // 3. with no clear-text password but random password generation enabled\n         // after SYNCOPE-1751 no password is going to be generated by DefaultMappingManager,\n         // but by AbstractPropagationTaskExecutor\n-        ldap.setRandomPwdIfNotProvided(true);\n         ldap = resourceDAO.save(ldap);\n         entityManager().flush();\n \n@@ -137,7 +136,6 @@ public void prepareAttrsForUser() {\n         assertNull(AttributeUtil.getPasswordValue(attrs.getRight()));\n \n         // 4. with no clear-text password and random password generation disabled\n-        ldap.setRandomPwdIfNotProvided(false);\n         resourceDAO.save(ldap);\n         entityManager().flush();\n \n@@ -220,7 +218,6 @@ public void prepareAttrsForLinkedAccount() {\n         // 4. without account password, no clear-text password but random password generation enabled\n         // after SYNCOPE-1751 no password is going to be generated by DefaultMappingManager,\n         // but by AbstractPropagationTaskExecutor\n-        ldap.setRandomPwdIfNotProvided(true);\n         ldap = resourceDAO.save(ldap);\n         entityManager().flush();\n \n@@ -233,7 +230,6 @@ public void prepareAttrsForLinkedAccount() {\n         assertNull(AttributeUtil.getPasswordValue(attrs));\n \n         // 5. without account password, no clear-text password and random password generation disabled\n-        ldap.setRandomPwdIfNotProvided(false);\n         resourceDAO.save(ldap);\n         entityManager().flush();\n "},{"sha":"363e39fffc3407143fb6637f874e35d0583ea100","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/GroupITCase.java","status":"modified","additions":4,"deletions":1,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FGroupITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FGroupITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FGroupITCase.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -19,6 +19,7 @@\n package org.apache.syncope.fit.core;\n \n import static org.awaitility.Awaitility.await;\n+import static org.junit.jupiter.api.Assertions.assertDoesNotThrow;\n import static org.junit.jupiter.api.Assertions.assertEquals;\n import static org.junit.jupiter.api.Assertions.assertFalse;\n import static org.junit.jupiter.api.Assertions.assertNotEquals;\n@@ -956,7 +957,6 @@ public void provisionMembers() throws InterruptedException {\n         groupUR.setKey(groupTO.getKey());\n         groupUR.getResources().add(new StringPatchItem.Builder().value(RESOURCE_NAME_LDAP).build());\n         ProvisioningResult<GroupTO> groupUpdateResult = updateGroup(groupUR);\n-        groupTO = groupUpdateResult.getEntity();\n \n         PropagationStatus propStatus = groupUpdateResult.getPropagationStatuses().get(0);\n         assertEquals(RESOURCE_NAME_LDAP, propStatus.getResource());\n@@ -990,6 +990,9 @@ public void provisionMembers() throws InterruptedException {\n             ConnObject userOnLdap =\n                     RESOURCE_SERVICE.readConnObject(RESOURCE_NAME_LDAP, AnyTypeKind.USER.name(), userTO.getKey());\n             assertNotNull(userOnLdap);\n+\n+            // 7. attempt to execute the same task again: no errors\n+            assertDoesNotThrow(() -> GROUP_SERVICE.provisionMembers(groupTO.getKey(), ProvisionAction.PROVISION));\n         } finally {\n             GROUP_SERVICE.delete(groupTO.getKey());\n             USER_SERVICE.delete(userTO.getKey());"},{"sha":"a7b672af0458ba32beb14bc25af7c173b973add4","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/PropagationTaskITCase.java","status":"modified","additions":19,"deletions":20,"changes":39,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FPropagationTaskITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FPropagationTaskITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FPropagationTaskITCase.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -1013,33 +1013,32 @@ public void issueSYNCOPE1605() throws ParseException {\n     @Test\n     public void issueSYNCOPE1751() {\n         // 1. Create a Group with a resource assigned\n-        GroupTO groupTO =\n-                createGroup(new GroupCR.Builder(SyncopeConstants.ROOT_REALM, \"SYNCOPEGROUP1751-\" + getUUIDString())\n-                        .resource(RESOURCE_NAME_LDAP)\n-                        .build()).getEntity();\n+        GroupTO groupTO = createGroup(\n+                new GroupCR.Builder(SyncopeConstants.ROOT_REALM, \"SYNCOPEGROUP1751-\" + getUUIDString()).\n+                        resource(RESOURCE_NAME_LDAP).build()).getEntity();\n         // 2. Create a user\n-        String username = \"SYNCOPEUSER1750\" + getUUIDString();\n+        String username = \"SYNCOPEUSER1751\" + getUUIDString();\n         UserTO userTO = createUser(\n-                new UserCR.Builder(SyncopeConstants.ROOT_REALM, username)\n-                        .plainAttrs(new Attr.Builder(\"userId\").value(username + \"@syncope.org\").build(),\n-                                new Attr.Builder(\"fullname\").value(username).build(),\n-                                new Attr.Builder(\"surname\").value(username).build())\n-                        .build()).getEntity();\n+                new UserCR.Builder(SyncopeConstants.ROOT_REALM, username).plainAttrs(\n+                        new Attr.Builder(\"userId\").value(username + \"@syncope.org\").build(),\n+                        new Attr.Builder(\"fullname\").value(username).build(),\n+                        new Attr.Builder(\"surname\").value(username).build()).\n+                        build()).getEntity();\n         // 3. Update the user assigning the group previously created -> group-based provisioning\n         userTO = updateUser(\n-                new UserUR.Builder(userTO.getKey()).membership(new MembershipUR.Builder(groupTO.getKey()).build())\n-                        .build()).getEntity();\n+                new UserUR.Builder(userTO.getKey()).\n+                        membership(new MembershipUR.Builder(groupTO.getKey()).build()).\n+                        build()).getEntity();\n         // since the resource is flagged to generate random pwd must populate the password on effective create on the\n         // resource, even if it is an update on Syncope\n-        PagedResult<TaskTO> propTasks = TASK_SERVICE.search(\n-                new TaskQuery.Builder(TaskType.PROPAGATION).resource(RESOURCE_NAME_LDAP).anyTypeKind(AnyTypeKind.USER)\n-                        .entityKey(userTO.getKey()).build());\n+        PagedResult<TaskTO> propTasks = TASK_SERVICE.search(new TaskQuery.Builder(TaskType.PROPAGATION).\n+                resource(RESOURCE_NAME_LDAP).anyTypeKind(AnyTypeKind.USER).entityKey(userTO.getKey()).build());\n         assertFalse(propTasks.getResult().isEmpty());\n         assertEquals(1, propTasks.getSize());\n-        PropagationData propagationData =\n-                POJOHelper.deserialize(PropagationTaskTO.class.cast(propTasks.getResult().get(0)).getPropagationData(),\n-                        PropagationData.class);\n-        assertTrue(propagationData.getAttributes().stream()\n-                .anyMatch(a -> OperationalAttributes.PASSWORD_NAME.equals(a.getName())));\n+        PropagationData propagationData = POJOHelper.deserialize(\n+                PropagationTaskTO.class.cast(propTasks.getResult().get(0)).getPropagationData(),\n+                PropagationData.class);\n+        assertTrue(propagationData.getAttributes().stream().\n+                anyMatch(a -> OperationalAttributes.PASSWORD_NAME.equals(a.getName())));\n     }\n }"},{"sha":"1e8870cfc9f08c85a0587fd41b5d4fdb534a157d","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/UserIssuesITCase.java","status":"modified","additions":27,"deletions":14,"changes":41,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FUserIssuesITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FUserIssuesITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FUserIssuesITCase.java?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -83,17 +83,40 @@\n import org.apache.syncope.common.rest.api.beans.RealmQuery;\n import org.apache.syncope.core.provisioning.api.serialization.POJOHelper;\n import org.apache.syncope.core.provisioning.java.propagation.DBPasswordPropagationActions;\n+import org.apache.syncope.core.provisioning.java.propagation.GenerateRandomPasswordPropagationActions;\n import org.apache.syncope.core.provisioning.java.propagation.LDAPPasswordPropagationActions;\n import org.apache.syncope.core.spring.security.Encryptor;\n import org.apache.syncope.fit.AbstractITCase;\n import org.identityconnectors.framework.common.objects.Name;\n import org.identityconnectors.framework.common.objects.OperationalAttributes;\n+import org.junit.jupiter.api.BeforeAll;\n import org.junit.jupiter.api.Test;\n import org.springframework.dao.EmptyResultDataAccessException;\n import org.springframework.jdbc.core.JdbcTemplate;\n \n public class UserIssuesITCase extends AbstractITCase {\n \n+    @BeforeAll\n+    public static void testPropagationActionsSetup() {\n+        ImplementationTO propagationActions = null;\n+        try {\n+            propagationActions = IMPLEMENTATION_SERVICE.read(\n+                    IdMImplementationType.PULL_ACTIONS, LDAPPasswordPropagationActions.class.getSimpleName());\n+        } catch (SyncopeClientException e) {\n+            if (e.getType().getResponseStatus() == Response.Status.NOT_FOUND) {\n+                propagationActions = new ImplementationTO();\n+                propagationActions.setKey(LDAPPasswordPropagationActions.class.getSimpleName());\n+                propagationActions.setEngine(ImplementationEngine.JAVA);\n+                propagationActions.setType(IdMImplementationType.PROPAGATION_ACTIONS);\n+                propagationActions.setBody(LDAPPasswordPropagationActions.class.getName());\n+                Response response = IMPLEMENTATION_SERVICE.create(propagationActions);\n+                propagationActions = IMPLEMENTATION_SERVICE.read(\n+                        propagationActions.getType(), response.getHeaderString(RESTHeaders.RESOURCE_KEY));\n+            }\n+        }\n+        assertNotNull(propagationActions);\n+    }\n+\n     @Test\n     public void issue186() {\n         // 1. create an user with strict mandatory attributes only\n@@ -1019,20 +1042,10 @@ public void issueSYNCOPE505LDAP() throws Exception {\n         assertTrue(user.getResources().isEmpty());\n \n         // 2. Add LDAPPasswordPropagationActions\n-        ImplementationTO propagationActions = new ImplementationTO();\n-        propagationActions.setKey(LDAPPasswordPropagationActions.class.getSimpleName());\n-        propagationActions.setEngine(ImplementationEngine.JAVA);\n-        propagationActions.setType(IdMImplementationType.PROPAGATION_ACTIONS);\n-        propagationActions.setBody(LDAPPasswordPropagationActions.class.getName());\n-        Response response = IMPLEMENTATION_SERVICE.create(propagationActions);\n-        propagationActions = IMPLEMENTATION_SERVICE.read(\n-                propagationActions.getType(), response.getHeaderString(RESTHeaders.RESOURCE_KEY));\n-        assertNotNull(propagationActions);\n-\n         ResourceTO resourceTO = RESOURCE_SERVICE.read(RESOURCE_NAME_LDAP);\n         assertNotNull(resourceTO);\n-        resourceTO.getPropagationActions().add(propagationActions.getKey());\n-        resourceTO.setRandomPwdIfNotProvided(false);\n+        resourceTO.getPropagationActions().add(LDAPPasswordPropagationActions.class.getSimpleName());\n+        resourceTO.getPropagationActions().remove(GenerateRandomPasswordPropagationActions.class.getSimpleName());\n         RESOURCE_SERVICE.update(resourceTO);\n \n         // 3. Add a resource to the User\n@@ -1059,8 +1072,8 @@ public void issueSYNCOPE505LDAP() throws Exception {\n         // 5. Remove LDAPPasswordPropagationActions\n         resourceTO = RESOURCE_SERVICE.read(RESOURCE_NAME_LDAP);\n         assertNotNull(resourceTO);\n-        resourceTO.getPropagationActions().remove(propagationActions.getKey());\n-        resourceTO.setRandomPwdIfNotProvided(true);\n+        resourceTO.getPropagationActions().remove(LDAPPasswordPropagationActions.class.getSimpleName());\n+        resourceTO.getPropagationActions().add(0, GenerateRandomPasswordPropagationActions.class.getSimpleName());\n         RESOURCE_SERVICE.update(resourceTO);\n     }\n "},{"sha":"fd7c8944e5bcb3041d9f2bf54a9c5187f205eeb5","filename":"pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -461,7 +461,7 @@ under the License.\n \n     <antlr4.version>4.12.0</antlr4.version>\n \n-    <curator.version>5.4.0</curator.version>\n+    <curator.version>5.5.0</curator.version>\n     <zookeeper.version>3.8.1</zookeeper.version>\n \n     <testds.rootDn>o=isp</testds.rootDn>"},{"sha":"6482ddb24fa44e53a4492ce6b5c6e01fc660ab31","filename":"src/main/asciidoc/reference-guide/concepts/externalresources.adoc","status":"modified","additions":0,"deletions":3,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fexternalresources.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fexternalresources.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fexternalresources.adoc?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -89,9 +89,6 @@ required configuration or capabilities.\n Given a selected connector instance, the following information is required to define an external resource:\n \n * priority - integer value, in use by the default <<propagation,propagation task executor>>\n-* generate random password flag - under some circumstances, a password might be mandatory but no actual value could be\n-available: with this flag set, a random value will be generated, compliant with the defined\n-<<policies-password,password policy>> (if set)\n * propagation actions - which <<propagationactions,actions>> shall be executed during propagation\n * trace levels - control how much tracing (including logs and execution details) shall be carried over during\n <<propagation,propagation>>, <<provisioning-pull,pull>> and <<provisioning-push,push>>"},{"sha":"8c9b8bae3cf01171d96cd0a49bf3e66b7d204f65","filename":"src/main/asciidoc/reference-guide/concepts/provisioning/propagation.adoc","status":"modified","additions":33,"deletions":15,"changes":48,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1205f55d5eab2486877177aeb0352547086577f5/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fprovisioning%2Fpropagation.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1205f55d5eab2486877177aeb0352547086577f5/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fprovisioning%2Fpropagation.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fprovisioning%2Fpropagation.adoc?ref=1205f55d5eab2486877177aeb0352547086577f5","patch":"@@ -59,8 +59,8 @@ the provided mapping; password has a special treatment:\n * if cleartext value is available (this cannot happen during <<provisioning-push>>), it is sent to the External Resource\n * if `password.cipher.algorithm` is `AES` (the only supported reversible algorithm), then the ciphered password value is\n  made cleartext again, and sent to the External Resource\n-* if the <<external-resource-details,generate random password flag>> is set, a random password value is generated\n- according to the defined password policies, and sent to the External Resource\n+* if the `GenerateRandomPasswordPropagationActions` is enabled, a random password value is generated\n+ according to the defined <<policies-password,password policy>> and sent to the External Resource\n * otherwise, a `null` value is sent to the External Resource\n \n Password values are always sent to External Resources wrapped as ConnId\n@@ -127,34 +127,32 @@ Some examples are included by default, see table below.\n \n | \n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/LDAPMembershipPropagationActions.java[LDAPMembershipPropagationActions^]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/AzurePropagationActions.java[AzurePropagationActions^]\n endif::[]\n ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/LDAPMembershipPropagationActions.java[LDAPMembershipPropagationActions^]\n+https://github.com/apache/syncope/tree/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/AzurePropagationActions.java[AzurePropagationActions^]\n endif::[]\n-| If a User is associated with a Group in Syncope, keep the corresponding User as a member of the corresponding Group in LDAP or AD.\n+| Required for setup of an External Resource based on the https://connid.atlassian.net/wiki/display/BASE/Azure#Azure-Configuration[ConnId Azure connector bundle^].\n \n | \n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/LDAPPasswordPropagationActions.java[LDAPPasswordPropagationActions^]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/DBPasswordPropagationActions.java[DBPasswordPropagationActions^]\n endif::[]\n ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/LDAPPasswordPropagationActions.java[LDAPPasswordPropagationActions^]\n+https://github.com/apache/syncope/blob/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/DBPasswordPropagationActions.java[DBPasswordPropagationActions^]\n endif::[]\n-| If no password value was already provided in the propagation task, sends out the internal password hash value to LDAP;\n-the cipher algorithm associated with the password must match the value of `passwordHashAlgorithm` for the \n-https://connid.atlassian.net/wiki/display/BASE/LDAP#LDAP-Configuration[LDAP connector bundle^].\n+| If no password value was already provided in the propagation task, sends out the internal password hash value to DBMS;\n+the cipher algorithm associated with the password must match the value of `Password cipher algorithm` for the \n+https://connid.atlassian.net/wiki/display/BASE/Database+Table#DatabaseTable-ConfigurationProperties[ConnId DatabaseTable connector bundle^].\n \n | \n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/DBPasswordPropagationActions.java[DBPasswordPropagationActions^]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/GenerateRandomPasswordPropagationActions.java[GenerateRandomPasswordPropagationActions^]\n endif::[]\n ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/DBPasswordPropagationActions.java[DBPasswordPropagationActions^]\n+https://github.com/apache/syncope/tree/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/GenerateRandomPasswordPropagationActions.java[GenerateRandomPasswordPropagationActions^]\n endif::[]\n-| If no password value was already provided in the propagation task, sends out the internal password hash value to DBMS;\n-the cipher algorithm associated with the password must match the value of `Password cipher algorithm` for the \n-https://connid.atlassian.net/wiki/display/BASE/Database+Table#DatabaseTable-ConfigurationProperties[DatabaseTable connector bundle^].\n+| If no password value was already provided in the propagation task, random password value is generated according to the defined <<policies-password,password policy>> and sent to the External Resource.\n \n | \n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n@@ -165,4 +163,24 @@ https://github.com/apache/syncope/tree/master/core/provisioning-java/src/main/ja\n endif::[]\n | Required for setup of an External Resource based on the https://connid.atlassian.net/wiki/display/BASE/Google+Apps#GoogleApps-Configuration[ConnId GoogleApps connector bundle^].\n \n+| \n+ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/LDAPMembershipPropagationActions.java[LDAPMembershipPropagationActions^]\n+endif::[]\n+ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n+https://github.com/apache/syncope/blob/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/LDAPMembershipPropagationActions.java[LDAPMembershipPropagationActions^]\n+endif::[]\n+| If a User is associated with a Group in Syncope, keep the corresponding User as a member of the corresponding Group in LDAP or AD.\n+\n+| \n+ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/LDAPPasswordPropagationActions.java[LDAPPasswordPropagationActions^]\n+endif::[]\n+ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n+https://github.com/apache/syncope/blob/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/LDAPPasswordPropagationActions.java[LDAPPasswordPropagationActions^]\n+endif::[]\n+| If no password value was already provided in the propagation task, sends out the internal password hash value to LDAP;\n+the cipher algorithm associated with the password must match the value of `passwordHashAlgorithm` for the \n+https://connid.atlassian.net/wiki/display/BASE/LDAP#LDAP-Configuration[LDAP connector bundle^].\n+\n |==="}]}
{"sha":"094f528b6e3aa883db869468c04f1abc5de5c75c","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjA5NGY1MjhiNmUzYWE4ODNkYjg2OTQ2OGMwNGYxYWJjNWRlNWM3NWM=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2018-03-15T14:36:26Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2018-03-15T14:41:34Z"},"message":"Simplifying cluster deployment and instructions","tree":{"sha":"1adfc21f127159d3c9a7874b04614becc2e1c21d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/1adfc21f127159d3c9a7874b04614becc2e1c21d"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/094f528b6e3aa883db869468c04f1abc5de5c75c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/094f528b6e3aa883db869468c04f1abc5de5c75c","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/094f528b6e3aa883db869468c04f1abc5de5c75c","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/094f528b6e3aa883db869468c04f1abc5de5c75c/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"3077c6d3b36cb2634f5cba05d35ee7790e878907","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3077c6d3b36cb2634f5cba05d35ee7790e878907","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/3077c6d3b36cb2634f5cba05d35ee7790e878907"}],"stats":{"total":65,"additions":13,"deletions":52},"files":[{"sha":"69ba98e534e806028f62fc8d4e66cffa54976182","filename":"core/persistence-jpa/src/main/resources/domains.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/094f528b6e3aa883db869468c04f1abc5de5c75c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fdomains.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/094f528b6e3aa883db869468c04f1abc5de5c75c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fdomains.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fdomains.xml?ref=094f528b6e3aa883db869468c04f1abc5de5c75c","patch":"@@ -50,7 +50,7 @@ under the License.\n                 \n         <entry key=\"openjpa.DataCache\" value=\"true\"/>\n         <entry key=\"openjpa.QueryCache\" value=\"true\"/>\n-        <entry key=\"openjpa.RemoteCommitProvider\" value=\"sjvm\"/>\n+        <entry key=\"openjpa.RemoteCommitProvider\" value=\"${openjpa.RemoteCommitProvider:sjvm}\"/>\n       </map>\n     </property>\n   </bean>"},{"sha":"946e58800e31bb5c646bc602c9534d68db81321c","filename":"core/persistence-jpa/src/main/resources/persistence.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/094f528b6e3aa883db869468c04f1abc5de5c75c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fpersistence.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/094f528b6e3aa883db869468c04f1abc5de5c75c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fpersistence.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fpersistence.properties?ref=094f528b6e3aa883db869468c04f1abc5de5c75c","patch":"@@ -16,3 +16,4 @@\n # under the License.\n content.directory=${conf.directory}\n any.search.dao=org.apache.syncope.core.persistence.jpa.dao.JPAAnySearchDAO\n+openjpa.RemoteCommitProvider=sjvm"},{"sha":"a3048a1189c2292de46ad1bbb8b4ea09bcc9b598","filename":"ext/elasticsearch/persistence-jpa/src/main/resources/persistence.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/094f528b6e3aa883db869468c04f1abc5de5c75c/ext%2Felasticsearch%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fpersistence.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/094f528b6e3aa883db869468c04f1abc5de5c75c/ext%2Felasticsearch%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fpersistence.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Felasticsearch%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fpersistence.properties?ref=094f528b6e3aa883db869468c04f1abc5de5c75c","patch":"@@ -16,3 +16,4 @@\n # under the License.\n content.directory=${conf.directory}\n any.search.dao=org.apache.syncope.core.persistence.jpa.dao.ElasticsearchAnySearchDAO\n+openjpa.RemoteCommitProvider=sjvm"},{"sha":"a3048a1189c2292de46ad1bbb8b4ea09bcc9b598","filename":"fit/core-reference/src/main/resources/elasticsearch/persistence.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/094f528b6e3aa883db869468c04f1abc5de5c75c/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Felasticsearch%2Fpersistence.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/094f528b6e3aa883db869468c04f1abc5de5c75c/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Felasticsearch%2Fpersistence.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Felasticsearch%2Fpersistence.properties?ref=094f528b6e3aa883db869468c04f1abc5de5c75c","patch":"@@ -16,3 +16,4 @@\n # under the License.\n content.directory=${conf.directory}\n any.search.dao=org.apache.syncope.core.persistence.jpa.dao.ElasticsearchAnySearchDAO\n+openjpa.RemoteCommitProvider=sjvm"},{"sha":"4745d2820d3aaa8c341b763d0e0981dbb066aaee","filename":"fit/core-reference/src/main/resources/jboss/domains.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/094f528b6e3aa883db869468c04f1abc5de5c75c/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fjboss%2Fdomains.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/094f528b6e3aa883db869468c04f1abc5de5c75c/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fjboss%2Fdomains.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fjboss%2Fdomains.xml?ref=094f528b6e3aa883db869468c04f1abc5de5c75c","patch":"@@ -50,7 +50,7 @@ under the License.\n                 \n         <entry key=\"openjpa.DataCache\" value=\"true\"/>\n         <entry key=\"openjpa.QueryCache\" value=\"true\"/>\n-        <entry key=\"openjpa.RemoteCommitProvider\" value=\"sjvm\"/>\n+        <entry key=\"openjpa.RemoteCommitProvider\" value=\"${openjpa.RemoteCommitProvider:sjvm}\"/>\n       </map>\n     </property>\n   </bean>"},{"sha":"0126ac619d09aa3a8b2a388c974f1b0b9a289a7b","filename":"src/main/asciidoc/reference-guide/workingwithapachesyncope/systemadministration/highavailability.adoc","status":"modified","additions":8,"deletions":50,"changes":58,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/094f528b6e3aa883db869468c04f1abc5de5c75c/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fhighavailability.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/094f528b6e3aa883db869468c04f1abc5de5c75c/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fhighavailability.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fhighavailability.adoc?ref=094f528b6e3aa883db869468c04f1abc5de5c75c","patch":"@@ -23,66 +23,24 @@\n \n When deploying multiple Syncope <<core>> instances with a single database or database cluster, it is of\n fundamental importance that the contained OpenJPA instances are correctly configured for\n-http://openjpa.apache.org/builds/2.4.2/apache-openjpa/docs/ref_guide_event.html[remote event notification^]. +\n+http://ci.apache.org/projects/openjpa/trunk/docbook/ref_guide_event.html[remote event notification^]. +\n Such configuration, in fact, allows the OpenJPA data cache to remain synchronized when deployed in multiple JVMs, thus\n enforcing data consistency across all Syncope Core instances.\n \n-Replace\n+The default configuration in `persistence.properties` is\n \n+[source]\n ....\n-classpath*:/coreContext.xml\n-classpath*:/securityContext.xml\n-classpath*:/logicContext.xml\n-classpath*:/restCXFContext.xml\n-classpath*:/persistenceContext.xml\n-classpath*:/provisioning*Context.xml\n-classpath*:/workflow*Context.xml\n-....\n-\n-with\n-\n-....\n-classpath*:/coreContext.xml\n-classpath*:/securityContext.xml\n-classpath*:/logicContext.xml\n-classpath*:/restCXFContext.xml\n-classpath:/persistenceContext.xml\n-classpath*:/provisioning*Context.xml\n-classpath*:/workflow*Context.xml\n-....\n-\n-in `core/src/main/webapp/WEB-INF/web.xml`.\n-\n-Download\n-ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/persistence-jpa/src/main/resources/persistenceContext.xml[persistenceContext.xml^]\n-endif::[]\n-ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/tree/master/core/persistence-jpa/src/main/resources/persistenceContext.xml[persistenceContext.xml^]\n-endif::[]\n-and\n-ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/persistence-jpa/src/main/resources/domains.xml[domains.xml^]\n-endif::[]\n-ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/tree/master/core/persistence-jpa/src/main/resources/domains.xml[domains.xml^]\n-endif::[]\n-then save both under `core/src/main/resources/`.\n-\n-The default configuration in `domains.xml` is\n-\n-[source,xml]\n-....\n-<entry key=\"openjpa.RemoteCommitProvider\" value=\"sjvm\"/>\n+openjpa.RemoteCommitProvider=sjvm\n ....\n \n which is suited for single JVM installations; with multiple instances, more options like as TCP or JMS are available;\n see the OpenJPA documentation for reference.\n \n [WARNING]\n ====\n-The http://openjpa.apache.org/builds/2.4.2/apache-openjpa/docs/ref_guide_event.html[OpenJPA documentation^]'s XML\n-snippets refer to a different configuration style; for example, when used in `domains.xml`, this:\n+http://ci.apache.org/projects/openjpa/trunk/docbook/ref_guide_event.html[OpenJPA documentation^]'s XML\n+snippets refer to a different configuration style; for example, when used in persistence.properties`, this:\n \n [source,xml]\n ....\n@@ -91,9 +49,9 @@ snippets refer to a different configuration style; for example, when used in `do\n \n becomes:\n \n-[source,xml]\n+[source]\n ....\n-<entry key=\"openjpa.RemoteCommitProvider\" value=\"tcp(Addresses=10.0.1.10;10.0.1.11)\"/>\n+openjpa.RemoteCommitProvider=tcp(Addresses=10.0.1.10;10.0.1.11)\n ....\n ====\n "}]}
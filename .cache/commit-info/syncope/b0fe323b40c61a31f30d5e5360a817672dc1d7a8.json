{"sha":"b0fe323b40c61a31f30d5e5360a817672dc1d7a8","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmIwZmUzMjNiNDBjNjFhMzFmMzBkNWU1MzYwYTgxNzY3MmRjMWQ3YTg=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2018-06-18T11:32:45Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2018-06-18T11:32:45Z"},"message":"[SYNCOPE-470] Missing push policy setting for Resources","tree":{"sha":"27b899156471930e8b846f75dde52aabb4319847","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/27b899156471930e8b846f75dde52aabb4319847"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/b0fe323b40c61a31f30d5e5360a817672dc1d7a8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b0fe323b40c61a31f30d5e5360a817672dc1d7a8","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/b0fe323b40c61a31f30d5e5360a817672dc1d7a8","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b0fe323b40c61a31f30d5e5360a817672dc1d7a8/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"2b48b6191a578990e76ead006ef2119b1658bec3","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/2b48b6191a578990e76ead006ef2119b1658bec3","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/2b48b6191a578990e76ead006ef2119b1658bec3"}],"stats":{"total":33,"additions":33,"deletions":0},"files":[{"sha":"4a72fb92f06c19833df2a1d5bdd376766611e04e","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/resources/ResourceSecurityPanel.java","status":"modified","additions":25,"deletions":0,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0fe323b40c61a31f30d5e5360a817672dc1d7a8/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0fe323b40c61a31f30d5e5360a817672dc1d7a8/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel.java?ref=b0fe323b40c61a31f30d5e5360a817672dc1d7a8","patch":"@@ -81,6 +81,17 @@ protected Map<String, String> load() {\n         }\n     };\n \n+    private final IModel<Map<String, String>> pushPolicies = new LoadableDetachableModel<Map<String, String>>() {\n+\n+        private static final long serialVersionUID = 9089911876466472133L;\n+\n+        @Override\n+        protected Map<String, String> load() {\n+            return policyRestClient.getPolicies(PolicyType.PUSH).stream().\n+                    collect(Collectors.toMap(PolicyTO::getKey, PolicyTO::getDescription));\n+        }\n+    };\n+\n     public ResourceSecurityPanel(final ResourceTO resourceTO) {\n         super();\n         setOutputMarkupId(true);\n@@ -131,5 +142,19 @@ public ResourceSecurityPanel(final ResourceTO resourceTO) {\n         ((DropDownChoice<?>) pullPolicy.getField()).setNullValid(true);\n         container.add(pullPolicy);\n         // -------------------------------\n+\n+        // -------------------------------\n+        // Pull policy selection\n+        // -------------------------------\n+        AjaxDropDownChoicePanel<String> pushPolicy = new AjaxDropDownChoicePanel<>(\n+                \"pushPolicy\",\n+                new ResourceModel(\"pushPolicy\", \"pushPolicy\").getObject(),\n+                new PropertyModel<>(resourceTO, \"pushPolicy\"),\n+                false);\n+        pushPolicy.setChoiceRenderer(new PolicyRenderer(pushPolicies));\n+        pushPolicy.setChoices(new ArrayList<>(pushPolicies.getObject().keySet()));\n+        ((DropDownChoice<?>) pushPolicy.getField()).setNullValid(true);\n+        container.add(pushPolicy);\n+        // -------------------------------\n     }\n }"},{"sha":"fea39ff2b70bbfc27fdc5a49fee71abb05840faf","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wizards/resources/ResourceSecurityPanel.html","status":"modified","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0fe323b40c61a31f30d5e5360a817672dc1d7a8/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0fe323b40c61a31f30d5e5360a817672dc1d7a8/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel.html?ref=b0fe323b40c61a31f30d5e5360a817672dc1d7a8","patch":"@@ -28,6 +28,9 @@\n       <span wicket:id=\"pullPolicy\">\n         [panel for dynamic input type markup]\n       </span>\n+      <span wicket:id=\"pushPolicy\">\n+        [panel for dynamic input type markup]\n+      </span>\n     </div>\n   </wicket:panel>\n </html>"},{"sha":"e4a70ca039d6e6e893d1c6dfcb8eed5e67d5ad27","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wizards/resources/ResourceSecurityPanel.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0fe323b40c61a31f30d5e5360a817672dc1d7a8/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0fe323b40c61a31f30d5e5360a817672dc1d7a8/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel.properties?ref=b0fe323b40c61a31f30d5e5360a817672dc1d7a8","patch":"@@ -17,3 +17,4 @@\n passwordPolicy=Password Policy\n accountPolicy=Account Policy\n pullPolicy=Pull Policy\n+pushPolicy=Push Policy"},{"sha":"e4a70ca039d6e6e893d1c6dfcb8eed5e67d5ad27","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wizards/resources/ResourceSecurityPanel_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0fe323b40c61a31f30d5e5360a817672dc1d7a8/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0fe323b40c61a31f30d5e5360a817672dc1d7a8/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel_it.properties?ref=b0fe323b40c61a31f30d5e5360a817672dc1d7a8","patch":"@@ -17,3 +17,4 @@\n passwordPolicy=Password Policy\n accountPolicy=Account Policy\n pullPolicy=Pull Policy\n+pushPolicy=Push Policy"},{"sha":"6f8187c145ebd685325c5d8e1e6c745169a59cab","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wizards/resources/ResourceSecurityPanel_ja.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0fe323b40c61a31f30d5e5360a817672dc1d7a8/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0fe323b40c61a31f30d5e5360a817672dc1d7a8/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel_ja.properties?ref=b0fe323b40c61a31f30d5e5360a817672dc1d7a8","patch":"@@ -17,3 +17,4 @@\n passwordPolicy=\\u30d1\\u30b9\\u30ef\\u30fc\\u30c9\\u30dd\\u30ea\\u30b7\\u30fc\n accountPolicy=\\u30a2\\u30ab\\u30a6\\u30f3\\u30c8\\u30dd\\u30ea\\u30b7\\u30fc\n pullPolicy=\\u30d7\\u30eb\\u30dd\\u30ea\\u30b7\\u30fc\n+pushPolicy=Push Policy"},{"sha":"7300d713143c37ffa2cc93603383869205e39217","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wizards/resources/ResourceSecurityPanel_pt_BR.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0fe323b40c61a31f30d5e5360a817672dc1d7a8/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0fe323b40c61a31f30d5e5360a817672dc1d7a8/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel_pt_BR.properties?ref=b0fe323b40c61a31f30d5e5360a817672dc1d7a8","patch":"@@ -17,3 +17,4 @@\n passwordPolicy=Pol\\u00edtica de Senha\n accountPolicy=Pol\\u00edtica de Conta\n pullPolicy=Pol\\u00edtica de Pull\n+pushPolicy=Push Policy"},{"sha":"7d70763527f3d96791216ce165e2d783d1d6b126","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wizards/resources/ResourceSecurityPanel_ru.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0fe323b40c61a31f30d5e5360a817672dc1d7a8/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0fe323b40c61a31f30d5e5360a817672dc1d7a8/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceSecurityPanel_ru.properties?ref=b0fe323b40c61a31f30d5e5360a817672dc1d7a8","patch":"@@ -18,3 +18,4 @@\n passwordPolicy = \\u041f\\u043e\\u043b\\u0438\\u0442\\u0438\\u043a\\u0430 \\u043f\\u0430\\u0440\\u043e\\u043b\\u0435\\u0439\n accountPolicy = \\u041f\\u043e\\u043b\\u0438\\u0442\\u0438\\u043a\\u0430 \\u0443\\u0447\\u0435\\u0442\\u043d\\u044b\\u0445 \\u0437\\u0430\\u043f\\u0438\\u0441\\u0435\\u0439\n pullPolicy=\\u041f\\u043e\\u043b\\u0438\\u0442\\u0438\\u043a\\u0430 \\u043f\\u043e\\u043b\\u0443\\u0447\\u0435\\u043d\\u0438\\u044f \\u0434\\u0430\\u043d\\u043d\\u044b\\u0445\n+pushPolicy=Push Policy"}]}
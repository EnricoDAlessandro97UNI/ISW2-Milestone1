{"sha":"8d7849c86d3f49e422ab78765081d03f5ba6e201","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjhkNzg0OWM4NmQzZjQ5ZTQyMmFiNzg3NjUwODFkMDNmNWJhNmUyMDE=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2019-03-27T13:05:24Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2019-03-27T13:05:36Z"},"message":"Upgrading Elasticsearch client","tree":{"sha":"44afa2c261d4ec46a6003634d4c94bb16771d55d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/44afa2c261d4ec46a6003634d4c94bb16771d55d"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/8d7849c86d3f49e422ab78765081d03f5ba6e201","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8d7849c86d3f49e422ab78765081d03f5ba6e201","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/8d7849c86d3f49e422ab78765081d03f5ba6e201","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8d7849c86d3f49e422ab78765081d03f5ba6e201/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"202337abbaf23aaed17f4f06aff2c618a11117d7","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/202337abbaf23aaed17f4f06aff2c618a11117d7","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/202337abbaf23aaed17f4f06aff2c618a11117d7"}],"stats":{"total":20,"additions":18,"deletions":2},"files":[{"sha":"e740112f0f9077ccd2472bc1d534d523522876b4","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/MembershipITCase.java","status":"modified","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8d7849c86d3f49e422ab78765081d03f5ba6e201/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FMembershipITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8d7849c86d3f49e422ab78765081d03f5ba6e201/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FMembershipITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FMembershipITCase.java?ref=8d7849c86d3f49e422ab78765081d03f5ba6e201","patch":"@@ -54,6 +54,7 @@\n import org.apache.syncope.common.rest.api.beans.AnyQuery;\n import org.apache.syncope.common.rest.api.service.TaskService;\n import org.apache.syncope.fit.AbstractITCase;\n+import org.apache.syncope.fit.ElasticsearchDetector;\n import org.junit.jupiter.api.Test;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.jdbc.core.JdbcTemplate;\n@@ -282,6 +283,13 @@ public void pull() {\n             assertEquals(ExecStatus.SUCCESS, ExecStatus.valueOf(execution.getStatus()));\n \n             // 5. verify that pulled user has\n+            if (ElasticsearchDetector.isElasticSearchEnabled(syncopeService)) {\n+                try {\n+                    Thread.sleep(2000);\n+                } catch (InterruptedException ex) {\n+                    // ignore\n+                }\n+            }\n             PagedResult<UserTO> users = userService.search(new AnyQuery.Builder().\n                     realm(\"/\").\n                     fiql(SyncopeClient.getUserSearchConditionBuilder()."},{"sha":"04a4cfb7d867258e2321b85d5e9d9299a7a31ff0","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/MultitenancyITCase.java","status":"modified","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8d7849c86d3f49e422ab78765081d03f5ba6e201/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FMultitenancyITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8d7849c86d3f49e422ab78765081d03f5ba6e201/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FMultitenancyITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FMultitenancyITCase.java?ref=8d7849c86d3f49e422ab78765081d03f5ba6e201","patch":"@@ -71,6 +71,7 @@\n import org.apache.syncope.common.rest.api.service.UserSelfService;\n import org.apache.syncope.common.rest.api.service.UserService;\n import org.apache.syncope.fit.AbstractITCase;\n+import org.apache.syncope.fit.ElasticsearchDetector;\n import org.identityconnectors.framework.common.objects.ObjectClass;\n import org.junit.jupiter.api.BeforeAll;\n import org.junit.jupiter.api.BeforeEach;\n@@ -228,6 +229,13 @@ public void createResourceAndPull() {\n             assertEquals(ExecStatus.SUCCESS, ExecStatus.valueOf(status));\n \n             // verify that pulled user is found\n+            if (ElasticsearchDetector.isElasticSearchEnabled(syncopeService)) {\n+                try {\n+                    Thread.sleep(2000);\n+                } catch (InterruptedException ex) {\n+                    // ignore\n+                }\n+            }\n             PagedResult<UserTO> matchingUsers = adminClient.getService(UserService.class).search(new AnyQuery.Builder().\n                     realm(SyncopeConstants.ROOT_REALM).\n                     fiql(SyncopeClient.getUserSearchConditionBuilder().is(\"username\").equalTo(\"pullFromLDAP\").query())."},{"sha":"8bccf6277cddb04eed40be7006823d9b5b19cfc3","filename":"pom.xml","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8d7849c86d3f49e422ab78765081d03f5ba6e201/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8d7849c86d3f49e422ab78765081d03f5ba6e201/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=8d7849c86d3f49e422ab78765081d03f5ba6e201","patch":"@@ -416,7 +416,7 @@ under the License.\n     <slf4j.version>1.7.26</slf4j.version>\n     <opensaml.version>3.3.0</opensaml.version>\n \n-    <elasticsearch.version>6.6.2</elasticsearch.version>\n+    <elasticsearch.version>6.7.0</elasticsearch.version>\n \n     <apacheds.version>2.0.0.AM25</apacheds.version>\n     <apachedirapi.version>2.0.0.AM2</apachedirapi.version>\n@@ -2457,7 +2457,7 @@ under the License.\n             <link>https://docs.spring.io/spring-security/site/docs/current/api/</link>\n             <link>http://www.flowable.org/docs/javadocs/</link>\n             <link>https://build.shibboleth.net/nexus/content/sites/site/java-opensaml/3.3.0/apidocs/</link>\n-            <link>https://artifacts.elastic.co/javadoc/org/elasticsearch/elasticsearch/6.6.2/index.html</link>\n+            <link>https://artifacts.elastic.co/javadoc/org/elasticsearch/elasticsearch/6.7.0/index.html</link>\n             <link>http://docs.swagger.io/swagger-core/v2.0.7/apidocs/</link>\n           </links>\n         </configuration>"}]}
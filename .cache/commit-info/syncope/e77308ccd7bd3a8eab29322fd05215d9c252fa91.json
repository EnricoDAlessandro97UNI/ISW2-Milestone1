{"sha":"e77308ccd7bd3a8eab29322fd05215d9c252fa91","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmU3NzMwOGNjZDdiZDNhOGVhYjI5MzIyZmQwNTIxNWQ5YzI1MmZhOTE=","commit":{"author":{"name":"giacomolm","email":"giacomolm@hotmail.it","date":"2016-02-29T10:09:42Z"},"committer":{"name":"giacomolm","email":"giacomolm@hotmail.it","date":"2016-02-29T14:39:52Z"},"message":"[SYNCOPE-719] logout button is showed on user self edit pages","tree":{"sha":"097bdde57ffe7350f1a8c94d000311ed6b107b5d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/097bdde57ffe7350f1a8c94d000311ed6b107b5d"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/e77308ccd7bd3a8eab29322fd05215d9c252fa91","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e77308ccd7bd3a8eab29322fd05215d9c252fa91","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/e77308ccd7bd3a8eab29322fd05215d9c252fa91","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e77308ccd7bd3a8eab29322fd05215d9c252fa91/comments","author":{"login":"giacomolm","id":4027829,"node_id":"MDQ6VXNlcjQwMjc4Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/4027829?v=4","gravatar_id":"","url":"https://api.github.com/users/giacomolm","html_url":"https://github.com/giacomolm","followers_url":"https://api.github.com/users/giacomolm/followers","following_url":"https://api.github.com/users/giacomolm/following{/other_user}","gists_url":"https://api.github.com/users/giacomolm/gists{/gist_id}","starred_url":"https://api.github.com/users/giacomolm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giacomolm/subscriptions","organizations_url":"https://api.github.com/users/giacomolm/orgs","repos_url":"https://api.github.com/users/giacomolm/repos","events_url":"https://api.github.com/users/giacomolm/events{/privacy}","received_events_url":"https://api.github.com/users/giacomolm/received_events","type":"User","site_admin":false},"committer":{"login":"giacomolm","id":4027829,"node_id":"MDQ6VXNlcjQwMjc4Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/4027829?v=4","gravatar_id":"","url":"https://api.github.com/users/giacomolm","html_url":"https://github.com/giacomolm","followers_url":"https://api.github.com/users/giacomolm/followers","following_url":"https://api.github.com/users/giacomolm/following{/other_user}","gists_url":"https://api.github.com/users/giacomolm/gists{/gist_id}","starred_url":"https://api.github.com/users/giacomolm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giacomolm/subscriptions","organizations_url":"https://api.github.com/users/giacomolm/orgs","repos_url":"https://api.github.com/users/giacomolm/repos","events_url":"https://api.github.com/users/giacomolm/events{/privacy}","received_events_url":"https://api.github.com/users/giacomolm/received_events","type":"User","site_admin":false},"parents":[{"sha":"f75a6091f2fcc177b9ced429302fcb85f626d7ea","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f75a6091f2fcc177b9ced429302fcb85f626d7ea","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f75a6091f2fcc177b9ced429302fcb85f626d7ea"}],"stats":{"total":26,"additions":15,"deletions":11},"files":[{"sha":"ffe5cfb1fbeba3e7df465acc0312c735b8b62c08","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/controllers/UserController.js","status":"modified","additions":10,"deletions":2,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e77308ccd7bd3a8eab29322fd05215d9c252fa91/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e77308ccd7bd3a8eab29322fd05215d9c252fa91/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js?ref=e77308ccd7bd3a8eab29322fd05215d9c252fa91","patch":"@@ -420,7 +420,7 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n       var currentForm = GenericUtil.getEnclosingFormController(event.target, $scope);\n       if (currentForm != null) {\n         //check if password and confirmPassword are equals using angular built-in validation\n-        if (ValidationExecutor.validate(currentForm, $scope)) {          \n+        if (ValidationExecutor.validate(currentForm, $scope)) {\n           var token = $location.search().token;\n           if (user && user.password && token) {\n             UserSelfService.confirmPasswordReset({\"newPassword\": user.password, \"token\": token}).then(function (data) {\n@@ -432,7 +432,7 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n               if (response !== undefined) {\n                 errorMessage = response.split(\"ErrorMessage{{\")[1];\n                 errorMessage = errorMessage.split(\"}}\")[0];\n-                $scope.showError(\"An error occured during password reset: \" + errorMessage, $scope.notification);                \n+                $scope.showError(\"An error occured during password reset: \" + errorMessage, $scope.notification);\n               }\n             });\n           } else {\n@@ -441,4 +441,12 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n         }\n       }\n     };\n+    $scope.logout = function () {\n+      AuthService.logout().then(function (response) {\n+        console.log(\"Logout successfully\");\n+        $location.path('/self');\n+      }, function (response) {\n+        console.log(\"Logout failed: \", response);\n+      });\n+    };\n   }]);"},{"sha":"1f971ec7f5e6d4a03e5d55270242b56b597a057d","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/editUser.html","status":"modified","additions":5,"deletions":4,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e77308ccd7bd3a8eab29322fd05215d9c252fa91/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FeditUser.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e77308ccd7bd3a8eab29322fd05215d9c252fa91/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FeditUser.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FeditUser.html?ref=e77308ccd7bd3a8eab29322fd05215d9c252fa91","patch":"@@ -22,7 +22,7 @@\n     <div id=\"form-container\" class=\"col-md-6 col-md-offset-3\" style=\"box-sizing: border-box; background-color: #F7F7F7;\">\n \n       <div>\n-        <div class=\"page-header\" style=\"text-align: left; font-weight: 700;\">\n+        <div class=\"page-header\" style=\"text-align: left; font-weight: 700;\">          \n           <span ng-show=\"createMode\">New User</span>\n           <span ng-show=\"!createMode\">User {{user.username}}</span>\n         </div>\n@@ -32,9 +32,10 @@\n           <!-- add the active class if the state matches our ui-sref -->\n           <!--<div id=\"status-buttons\" class=\"text-center\">-->\n           <div class=\"row\">\n-            <div growl reference=\"2\" inline=\"true\"></div>\n+            <div growl reference=\"2\" inline=\"true\"></div>              \n             <div id=\"status-buttons\" class=\"btn-group btn-breadcrumb\">\n-              <a href=\"#/self\" class=\"btn btn-default\"><i class=\"glyphicon glyphicon-home\"></i></a>\n+              <a href=\"#/self\" class=\"btn btn-default\" ng-show=\"createMode\"><i class=\"glyphicon glyphicon-home\"></i></a>\n+              <a class=\"btn btn-default\" ng-show=\"!createMode\" ng-click=\"logout()\"><i class=\"glyphicon glyphicon-off\"style=\"color:red\"></i></a>\n               <!--add class breadcrumb-disabled-link to buttons to prevent click-->              \n               <a ng-repeat=\"(key, value) in wizard\" ui-sref-active=\"active\" ui-sref=\".{{key}}\" class=\"btn btn-default\" \n                  ng-class=\"createMode ? 'disable-link' : ''\">{{key}}</a>       \n@@ -44,7 +45,7 @@\n         <form class=\"signup-form\" name=\"userForm\" ng-submit=\"saveUser(user)\" novalidate>\n \n           <div id=\"form-views\" ui-view>\n-            \n+\n             <!--            <div class=\"form-group row\">\n                           <div class=\"col-xs-6 col-xs-offset-3\">\n                             <a id=\"next\" ui-sref=\"create.credentials\" class=\"btn btn-block btn-signin\">"},{"sha":"43a539d14f702f91da6605227826d2aa988c11ce","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/self.html","status":"modified","additions":0,"deletions":5,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e77308ccd7bd3a8eab29322fd05215d9c252fa91/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fself.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e77308ccd7bd3a8eab29322fd05215d9c252fa91/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fself.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fself.html?ref=e77308ccd7bd3a8eab29322fd05215d9c252fa91","patch":"@@ -37,11 +37,6 @@\n                   </a>\n                 </div>-->\n         <div id=\"login\" class=\"card card-container\">\n-          <div class=\"logout\">\n-            <a href=\"javascript:void(0);\" class=\"btn btn-danger btn-signin\" ng-click=\"logout()\" ng-show=\"isLogged()\" title=\"Logout\">\n-              <i class=\"glyphicon glyphicon-off\"></i>\n-            </a>\n-          </div>\n           <div>\n             <!--<div id=\"language\" class=\"form-group\" ng-controller=\"LanguageController\" ng-init=\"init()\">\n               <div id=\"languageContainer\" class=\"col-xs-2\">"}]}
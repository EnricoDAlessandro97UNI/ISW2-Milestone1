{"sha":"b0f0381d832e6ca99a0d35dace89614b3a380611","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmIwZjAzODFkODMyZTZjYTk5YTBkMzVkYWNlODk2MTRiM2EzODA2MTE=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2017-03-31T14:43:36Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2017-03-31T14:43:36Z"},"message":"Preferring java.util.Base64 (JDK level set to 1.8)","tree":{"sha":"840b22c99564af98b4d2f8976eb6e0cfcb1e5fa5","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/840b22c99564af98b4d2f8976eb6e0cfcb1e5fa5"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/b0f0381d832e6ca99a0d35dace89614b3a380611","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b0f0381d832e6ca99a0d35dace89614b3a380611","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/b0f0381d832e6ca99a0d35dace89614b3a380611","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b0f0381d832e6ca99a0d35dace89614b3a380611/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"2f7952b59cf8afe8418c58580e8ccd44e5f47b46","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/2f7952b59cf8afe8418c58580e8ccd44e5f47b46","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/2f7952b59cf8afe8418c58580e8ccd44e5f47b46"}],"stats":{"total":17,"additions":9,"deletions":8},"files":[{"sha":"678db98fa7a090c80f334fd126b808282642cf47","filename":"ext/saml2sp/logic/src/main/java/org/apache/syncope/core/logic/SAML2IdPLogic.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0f0381d832e6ca99a0d35dace89614b3a380611/ext%2Fsaml2sp%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FSAML2IdPLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0f0381d832e6ca99a0d35dace89614b3a380611/ext%2Fsaml2sp%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FSAML2IdPLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fsaml2sp%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FSAML2IdPLogic.java?ref=b0f0381d832e6ca99a0d35dace89614b3a380611","patch":"@@ -24,8 +24,8 @@\n import java.io.OutputStreamWriter;\n import java.lang.reflect.Method;\n import java.util.ArrayList;\n+import java.util.Base64;\n import java.util.List;\n-import org.apache.commons.codec.binary.Base64;\n import org.apache.commons.collections4.CollectionUtils;\n import org.apache.commons.collections4.Transformer;\n import org.apache.commons.lang3.ArrayUtils;\n@@ -148,7 +148,7 @@ private List<SAML2IdPTO> importIdPs(final InputStream input) throws Exception {\n             idpTO.setUseDeflateEncoding(false);\n             try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\n                 saml2rw.write(new OutputStreamWriter(baos), idpEntityDescriptor, false);\n-                idpTO.setMetadata(Base64.encodeBase64String(baos.toByteArray()));\n+                idpTO.setMetadata(Base64.getEncoder().encodeToString(baos.toByteArray()));\n             }\n             MappingItemTO connObjectKeyItem = new MappingItemTO();\n             connObjectKeyItem.setIntAttrName(\"username\");"},{"sha":"40cecf7c2bc1becec6c06ad5b508dfe46689596f","filename":"ext/saml2sp/logic/src/main/java/org/apache/syncope/core/logic/saml2/SAML2IdPEntity.java","status":"modified","additions":3,"deletions":2,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0f0381d832e6ca99a0d35dace89614b3a380611/ext%2Fsaml2sp%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Fsaml2%2FSAML2IdPEntity.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0f0381d832e6ca99a0d35dace89614b3a380611/ext%2Fsaml2sp%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Fsaml2%2FSAML2IdPEntity.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fsaml2sp%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Fsaml2%2FSAML2IdPEntity.java?ref=b0f0381d832e6ca99a0d35dace89614b3a380611","patch":"@@ -27,10 +27,10 @@\n import java.security.cert.CertificateFactory;\n import java.security.cert.X509Certificate;\n import java.util.ArrayList;\n+import java.util.Base64;\n import java.util.HashMap;\n import java.util.List;\n import java.util.Map;\n-import org.apache.commons.codec.binary.Base64;\n import org.apache.syncope.common.lib.to.MappingItemTO;\n import org.opensaml.saml.common.xml.SAMLConstants;\n import org.opensaml.saml.saml2.metadata.Endpoint;\n@@ -97,7 +97,8 @@ public SAML2IdPEntity(\n         for (KeyDescriptor key : idpdescriptor.getKeyDescriptors()) {\n             for (X509Data x509Data : key.getKeyInfo().getX509Datas()) {\n                 for (org.opensaml.xmlsec.signature.X509Certificate cert : x509Data.getX509Certificates()) {\n-                    try (ByteArrayInputStream bais = new ByteArrayInputStream(Base64.decodeBase64(cert.getValue()))) {\n+                    try (ByteArrayInputStream bais = new ByteArrayInputStream(\n+                            Base64.getDecoder().decode(cert.getValue()))) {\n                         chain.add(X509Certificate.class.cast(cf.generateCertificate(bais)));\n                     }\n                 }"},{"sha":"2f0e23b6f00bed5138c3678e645a1da195864788","filename":"ext/saml2sp/logic/src/main/java/org/apache/syncope/core/logic/saml2/SAML2ReaderWriter.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0f0381d832e6ca99a0d35dace89614b3a380611/ext%2Fsaml2sp%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Fsaml2%2FSAML2ReaderWriter.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0f0381d832e6ca99a0d35dace89614b3a380611/ext%2Fsaml2sp%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Fsaml2%2FSAML2ReaderWriter.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fsaml2sp%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Fsaml2%2FSAML2ReaderWriter.java?ref=b0f0381d832e6ca99a0d35dace89614b3a380611","patch":"@@ -27,6 +27,7 @@\n import java.net.URLDecoder;\n import java.nio.charset.StandardCharsets;\n import java.security.KeyStore;\n+import java.util.Base64;\n import java.util.zip.DataFormatException;\n import javax.xml.XMLConstants;\n import javax.xml.stream.XMLStreamException;\n@@ -36,7 +37,6 @@\n import javax.xml.transform.TransformerFactory;\n import javax.xml.transform.dom.DOMSource;\n import javax.xml.transform.stream.StreamResult;\n-import org.apache.commons.codec.binary.Base64;\n import org.apache.cxf.rs.security.saml.DeflateEncoderDecoder;\n import org.apache.cxf.rs.security.saml.sso.SAMLProtocolResponseValidator;\n import org.apache.cxf.staxutils.StaxUtils;\n@@ -101,7 +101,7 @@ public XMLObject read(final boolean postBinding, final boolean useDeflateEncodin\n         }\n \n         InputStream tokenStream;\n-        byte[] deflatedToken = Base64.decodeBase64(decodedResponse);\n+        byte[] deflatedToken = Base64.getDecoder().decode(decodedResponse);\n         tokenStream = !postBinding && useDeflateEncoding\n                 ? new DeflateEncoderDecoder().inflateToken(deflatedToken)\n                 : new ByteArrayInputStream(deflatedToken);"},{"sha":"87c52204d7a5e4fbac2f725ed4dba9a7c63642eb","filename":"ext/saml2sp/logic/src/main/java/org/apache/syncope/core/logic/saml2/SAML2Signer.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0f0381d832e6ca99a0d35dace89614b3a380611/ext%2Fsaml2sp%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Fsaml2%2FSAML2Signer.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0f0381d832e6ca99a0d35dace89614b3a380611/ext%2Fsaml2sp%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Fsaml2%2FSAML2Signer.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fsaml2sp%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Fsaml2%2FSAML2Signer.java?ref=b0f0381d832e6ca99a0d35dace89614b3a380611","patch":"@@ -21,8 +21,8 @@\n import java.io.IOException;\n import java.io.StringWriter;\n import java.nio.charset.StandardCharsets;\n+import java.util.Base64;\n import javax.xml.transform.TransformerException;\n-import org.apache.commons.codec.binary.Base64;\n import org.apache.cxf.rs.security.saml.DeflateEncoderDecoder;\n import org.apache.syncope.core.logic.init.SAML2SPLoader;\n import org.apache.wss4j.common.ext.WSSecurityException;\n@@ -92,7 +92,7 @@ public String signAndEncode(final RequestAbstractType request, final boolean use\n             deflatedBytes = requestMessage.getBytes(StandardCharsets.UTF_8);\n         }\n \n-        return Base64.encodeBase64String(deflatedBytes);\n+        return Base64.getEncoder().encodeToString(deflatedBytes);\n     }\n \n }"}]}
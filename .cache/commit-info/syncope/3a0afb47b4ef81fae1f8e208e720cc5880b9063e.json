{"sha":"3a0afb47b4ef81fae1f8e208e720cc5880b9063e","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjNhMGFmYjQ3YjRlZjgxZmFlMWY4ZTIwOGU3MjBjYzU4ODBiOTA2M2U=","commit":{"author":{"name":"fmartelli","email":"fabio.martelli@gmail.com","date":"2018-07-10T08:50:23Z"},"committer":{"name":"fmartelli","email":"fabio.martelli@gmail.com","date":"2018-07-10T08:52:24Z"},"message":"[SYNCOPE-1333] fix into VirAttr step in order to retrieve virtual attributes from memberships","tree":{"sha":"b302f43b6a837372b8f3c0d813602fb80fe90eef","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/b302f43b6a837372b8f3c0d813602fb80fe90eef"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/3a0afb47b4ef81fae1f8e208e720cc5880b9063e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3a0afb47b4ef81fae1f8e208e720cc5880b9063e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/3a0afb47b4ef81fae1f8e208e720cc5880b9063e","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3a0afb47b4ef81fae1f8e208e720cc5880b9063e/comments","author":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"committer":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"c3dbca022d1bd8ef9a8c463ebde5369a5359237f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c3dbca022d1bd8ef9a8c463ebde5369a5359237f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c3dbca022d1bd8ef9a8c463ebde5369a5359237f"}],"stats":{"total":4,"additions":3,"deletions":1},"files":[{"sha":"79d58daa6afd23581f2eac09961ae2455e697bd5","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/VirAttrs.java","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3a0afb47b4ef81fae1f8e208e720cc5880b9063e/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FVirAttrs.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3a0afb47b4ef81fae1f8e208e720cc5880b9063e/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FVirAttrs.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FVirAttrs.java?ref=3a0afb47b4ef81fae1f8e208e720cc5880b9063e","patch":"@@ -34,6 +34,7 @@\n import org.apache.syncope.common.lib.EntityTOUtils;\n import org.apache.syncope.common.lib.to.AnyTO;\n import org.apache.syncope.common.lib.to.AttrTO;\n+import org.apache.syncope.common.lib.to.GroupableRelatableTO;\n import org.apache.syncope.common.lib.to.MembershipTO;\n import org.apache.syncope.common.lib.to.VirSchemaTO;\n import org.apache.syncope.common.lib.types.SchemaType;\n@@ -145,7 +146,8 @@ protected void setAttrs() {\n     protected void setAttrs(final MembershipTO membershipTO) {\n         List<AttrTO> attrs = new ArrayList<>();\n \n-        Map<String, AttrTO> attrMap = EntityTOUtils.buildAttrMap(anyTO.getVirAttrs());\n+        Map<String, AttrTO> attrMap = EntityTOUtils.buildAttrMap(\n+                GroupableRelatableTO.class.cast(anyTO).getMembership(membershipTO.getGroupKey()).getVirAttrs());\n \n         attrs.addAll(membershipSchemas.get(membershipTO.getGroupKey()).values().stream().map(schema -> {\n             AttrTO attrTO = new AttrTO();"}]}
{"sha":"2e6b4fdbd454c0202c2f39ac1d96607462055aac","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjJlNmI0ZmRiZDQ1NGMwMjAyYzJmMzlhYzFkOTY2MDc0NjIwNTVhYWM=","commit":{"author":{"name":"Marco Di Sabatino Di Diodoro","email":"mdisabatino@apache.org","date":"2015-08-13T09:21:57Z"},"committer":{"name":"Marco Di Sabatino Di Diodoro","email":"mdisabatino@apache.org","date":"2015-08-13T09:21:57Z"},"message":"Merge from master","tree":{"sha":"8abc7d3407d3b7bd767c8490e3eaebb1f2911c80","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/8abc7d3407d3b7bd767c8490e3eaebb1f2911c80"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/2e6b4fdbd454c0202c2f39ac1d96607462055aac","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/2e6b4fdbd454c0202c2f39ac1d96607462055aac","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/2e6b4fdbd454c0202c2f39ac1d96607462055aac","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/2e6b4fdbd454c0202c2f39ac1d96607462055aac/comments","author":{"login":"mdisabatino","id":1792527,"node_id":"MDQ6VXNlcjE3OTI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1792527?v=4","gravatar_id":"","url":"https://api.github.com/users/mdisabatino","html_url":"https://github.com/mdisabatino","followers_url":"https://api.github.com/users/mdisabatino/followers","following_url":"https://api.github.com/users/mdisabatino/following{/other_user}","gists_url":"https://api.github.com/users/mdisabatino/gists{/gist_id}","starred_url":"https://api.github.com/users/mdisabatino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdisabatino/subscriptions","organizations_url":"https://api.github.com/users/mdisabatino/orgs","repos_url":"https://api.github.com/users/mdisabatino/repos","events_url":"https://api.github.com/users/mdisabatino/events{/privacy}","received_events_url":"https://api.github.com/users/mdisabatino/received_events","type":"User","site_admin":false},"committer":{"login":"mdisabatino","id":1792527,"node_id":"MDQ6VXNlcjE3OTI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1792527?v=4","gravatar_id":"","url":"https://api.github.com/users/mdisabatino","html_url":"https://github.com/mdisabatino","followers_url":"https://api.github.com/users/mdisabatino/followers","following_url":"https://api.github.com/users/mdisabatino/following{/other_user}","gists_url":"https://api.github.com/users/mdisabatino/gists{/gist_id}","starred_url":"https://api.github.com/users/mdisabatino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdisabatino/subscriptions","organizations_url":"https://api.github.com/users/mdisabatino/orgs","repos_url":"https://api.github.com/users/mdisabatino/repos","events_url":"https://api.github.com/users/mdisabatino/events{/privacy}","received_events_url":"https://api.github.com/users/mdisabatino/received_events","type":"User","site_admin":false},"parents":[{"sha":"474b92560a5d7449be1b7a9a3d36efb94e4f5504","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/474b92560a5d7449be1b7a9a3d36efb94e4f5504","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/474b92560a5d7449be1b7a9a3d36efb94e4f5504"}],"stats":{"total":256,"additions":121,"deletions":135},"files":[{"sha":"c97e44c15b0e9111a65adf1892db09922aa04704","filename":"client/console/src/main/java/org/apache/syncope/client/console/pages/StatusModalPage.java","status":"modified","additions":17,"deletions":16,"changes":33,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/2e6b4fdbd454c0202c2f39ac1d96607462055aac/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FStatusModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/2e6b4fdbd454c0202c2f39ac1d96607462055aac/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FStatusModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FStatusModalPage.java?ref=2e6b4fdbd454c0202c2f39ac1d96607462055aac","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.client.console.pages;\n \n+import java.io.Serializable;\n import java.util.ArrayList;\n import java.util.Collection;\n import java.util.Collections;\n@@ -255,12 +256,12 @@ protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> fo\n         pwdMgtForm.add(goon);\n \n         if (statusOnly) {\n-            table.addAction(new ActionLink() {\n+            table.addAction(new ActionLink<Serializable>() {\n \n                 private static final long serialVersionUID = -3722207913631435501L;\n \n                 @Override\n-                public void onClick(final AjaxRequestTarget target) {\n+                public void onClick(final AjaxRequestTarget target, final Serializable ignore) {\n                     try {\n                         userRestClient.reactivate(\n                                 anyTO.getETagValue(),\n@@ -278,12 +279,12 @@ public void onClick(final AjaxRequestTarget target) {\n                 }\n             }, ActionLink.ActionType.REACTIVATE, pageId);\n \n-            table.addAction(new ActionLink() {\n+            table.addAction(new ActionLink<Serializable>() {\n \n                 private static final long serialVersionUID = -3722207913631435501L;\n \n                 @Override\n-                public void onClick(final AjaxRequestTarget target) {\n+                public void onClick(final AjaxRequestTarget target, final Serializable ignore) {\n                     try {\n                         userRestClient.suspend(\n                                 anyTO.getETagValue(),\n@@ -303,12 +304,12 @@ public void onClick(final AjaxRequestTarget target) {\n                 }\n             }, ActionLink.ActionType.SUSPEND, pageId);\n         } else {\n-            table.addAction(new ActionLink() {\n+            table.addAction(new ActionLink<Serializable>() {\n \n                 private static final long serialVersionUID = -3722207913631435501L;\n \n                 @Override\n-                public void onClick(final AjaxRequestTarget target) {\n+                public void onClick(final AjaxRequestTarget target, final Serializable ignore) {\n                     try {\n                         if (anyTO instanceof UserTO) {\n                             userRestClient.unlink(\n@@ -332,12 +333,12 @@ public void onClick(final AjaxRequestTarget target) {\n                 }\n             }, ActionLink.ActionType.UNLINK, pageId);\n \n-            table.addAction(new ActionLink() {\n+            table.addAction(new ActionLink<Serializable>() {\n \n                 private static final long serialVersionUID = -3722207913631435501L;\n \n                 @Override\n-                public void onClick(final AjaxRequestTarget target) {\n+                public void onClick(final AjaxRequestTarget target, final Serializable ignore) {\n                     try {\n                         if (anyTO instanceof UserTO) {\n                             userRestClient.link(\n@@ -361,12 +362,12 @@ public void onClick(final AjaxRequestTarget target) {\n                 }\n             }, ActionLink.ActionType.LINK, pageId);\n \n-            table.addAction(new ActionLink() {\n+            table.addAction(new ActionLink<Serializable>() {\n \n                 private static final long serialVersionUID = -3722207913631435501L;\n \n                 @Override\n-                public void onClick(final AjaxRequestTarget target) {\n+                public void onClick(final AjaxRequestTarget target, final Serializable ignore) {\n                     try {\n                         BulkActionResult bulkActionResult;\n                         if (anyTO instanceof UserTO) {\n@@ -391,12 +392,12 @@ public void onClick(final AjaxRequestTarget target) {\n                 }\n             }, ActionLink.ActionType.DEPROVISION, pageId);\n \n-            table.addAction(new ActionLink() {\n+            table.addAction(new ActionLink<Serializable>() {\n \n                 private static final long serialVersionUID = -3722207913631435501L;\n \n                 @Override\n-                public void onClick(final AjaxRequestTarget target) {\n+                public void onClick(final AjaxRequestTarget target, final Serializable ignore) {\n \n                     if (anyTO instanceof UserTO) {\n                         StatusModalPage.this.passwordManagement(\n@@ -419,12 +420,12 @@ public void onClick(final AjaxRequestTarget target) {\n                 }\n             }.feedbackPanelAutomaticReload(!(anyTO instanceof UserTO)), ActionLink.ActionType.PROVISION, pageId);\n \n-            table.addAction(new ActionLink() {\n+            table.addAction(new ActionLink<Serializable>() {\n \n                 private static final long serialVersionUID = -3722207913631435501L;\n \n                 @Override\n-                public void onClick(final AjaxRequestTarget target) {\n+                public void onClick(final AjaxRequestTarget target, final Serializable ignore) {\n                     try {\n                         final BulkActionResult bulkActionResult;\n                         if (anyTO instanceof UserTO) {\n@@ -449,12 +450,12 @@ public void onClick(final AjaxRequestTarget target) {\n                 }\n             }, ActionLink.ActionType.UNASSIGN, pageId);\n \n-            table.addAction(new ActionLink() {\n+            table.addAction(new ActionLink<Serializable>() {\n \n                 private static final long serialVersionUID = -3722207913631435501L;\n \n                 @Override\n-                public void onClick(final AjaxRequestTarget target) {\n+                public void onClick(final AjaxRequestTarget target, final Serializable ignore) {\n                     if (anyTO instanceof UserTO) {\n                         StatusModalPage.this.passwordManagement(\n                                 target, ResourceAssociationActionType.ASSIGN, table.getModelObject());"},{"sha":"1081272eef03cb6577356a1bc0d018b8fd5f4f34","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/AnySearchResultPanel.java","status":"modified","additions":68,"deletions":72,"changes":140,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/2e6b4fdbd454c0202c2f39ac1d96607462055aac/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnySearchResultPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/2e6b4fdbd454c0202c2f39ac1d96607462055aac/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnySearchResultPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnySearchResultPanel.java?ref=2e6b4fdbd454c0202c2f39ac1d96607462055aac","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.client.console.panels;\n \n+import java.io.Serializable;\n import java.lang.reflect.Field;\n import java.util.ArrayList;\n import java.util.Collection;\n@@ -45,39 +46,38 @@\n import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n import org.apache.wicket.markup.html.basic.Label;\n import org.apache.wicket.model.IModel;\n-import org.apache.wicket.model.Model;\n import org.apache.wicket.model.ResourceModel;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.util.ReflectionUtils;\n \n public class AnySearchResultPanel extends AbstractSearchResultPanel {\n-\n+    \n     private static final long serialVersionUID = -1100228004207271270L;\n-\n+    \n     protected static final Logger LOG = LoggerFactory.getLogger(AnySearchResultPanel.class);\n-\n+    \n     private String customMarkupId;\n-\n+    \n     @SpringBean\n     protected SchemaRestClient schemaRestClient;\n-\n+    \n     protected final List<String> schemaNames;\n-\n+    \n     protected final List<String> dSchemaNames;\n-\n+    \n     protected final String pageID = \"Any\";\n-\n+    \n     private final String entitlement = \"USER_LIST\";\n-\n+    \n     public AnySearchResultPanel(final String type, final String parentId, final String markupId, final boolean filtered,\n             final String fiql, final PageReference callerRef, final AbstractAnyRestClient restClient,\n             final List<AnyTypeClassTO> anyTypeClassTOs, final String realm) {\n         super(parentId, filtered, fiql, callerRef, restClient, realm, type);\n         setCustomMarkupId(markupId);\n         add(new Label(\"name\", type));\n-\n+        \n         this.schemaNames = new ArrayList<String>();\n         for (AnyTypeClassTO anyTypeClassTO : anyTypeClassTOs) {\n             this.schemaNames.addAll(anyTypeClassTO.getPlainSchemas());\n@@ -86,27 +86,27 @@ public AnySearchResultPanel(final String type, final String parentId, final Stri\n         for (AnyTypeClassTO anyTypeClassTO : anyTypeClassTOs) {\n             this.dSchemaNames.addAll(anyTypeClassTO.getDerSchemas());\n         }\n-\n+        \n         initResultTable();\n     }\n-\n+    \n     public String getCustomMarkupId() {\n         return customMarkupId;\n     }\n-\n+    \n     public void setCustomMarkupId(final String markupId) {\n         this.customMarkupId = markupId;\n     }\n-\n+    \n     @Override\n     protected List<IColumn<AnyTO, String>> getColumns() {\n-\n+        \n         final List<IColumn<AnyTO, String>> columns =\n                 new ArrayList<IColumn<AnyTO, String>>();\n-\n+        \n         for (String name : prefMan.getList(getRequest(), Constants.PREF_ANY_DETAILS_VIEW)) {\n             final Field field = ReflectionUtils.findField(AnyObjectTO.class, name);\n-\n+            \n             if (\"token\".equalsIgnoreCase(name)) {\n                 columns.add(new PropertyColumn<AnyTO, String>(new ResourceModel(name, name), name, name));\n             } else if (field != null && field.getType().equals(Date.class)) {\n@@ -116,13 +116,13 @@ protected List<IColumn<AnyTO, String>> getColumns() {\n                         new PropertyColumn<AnyTO, String>(new ResourceModel(name, name), name, name));\n             }\n         }\n-\n+        \n         for (String name : prefMan.getList(getRequest(), Constants.PREF_ANY_ATTRIBUTES_VIEW)) {\n             if (schemaNames.contains(name)) {\n                 columns.add(new AttrColumn(name, SchemaType.PLAIN));\n             }\n         }\n-\n+        \n         for (String name : prefMan.getList(getRequest(), Constants.PREF_ANY_DERIVED_ATTRIBUTES_VIEW)) {\n             if (dSchemaNames.contains(name)) {\n                 columns.add(new AttrColumn(name, SchemaType.DERIVED));\n@@ -135,128 +135,124 @@ protected List<IColumn<AnyTO, String>> getColumns() {\n                 columns.add(\n                         new PropertyColumn<AnyTO, String>(new ResourceModel(name, name), name, name));\n             }\n-\n+            \n         }\n-\n+        \n         columns.add(new ActionColumn<AnyTO, String>(new ResourceModel(\"actions\", \"\")) {\n-\n+            \n             private static final long serialVersionUID = -3503023501954863131L;\n-\n+            \n             @Override\n             public ActionLinksPanel getActions(final String componentId, final IModel<AnyTO> model) {\n-\n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, page.getPageReference());\n-\n-                panel.add(new ActionLink() {\n-\n+                \n+                final ActionLinksPanel.Builder<AnyTO> panel = ActionLinksPanel.builder(page.getPageReference());\n+                \n+                panel.add(new ActionLink<AnyTO>() {\n+                    \n                     private static final long serialVersionUID = -7978723352517770644L;\n-\n+                    \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    public void onClick(final AjaxRequestTarget target, final AnyTO anyTO) {\n                         editmodal.setPageCreator(new ModalWindow.PageCreator() {\n-\n+                            \n                             private static final long serialVersionUID = -7834632442532690940L;\n-\n+                            \n                             @Override\n                             public Page createPage() {\n                                 // SYNCOPE-294: re-read anyTO before edit\n                                 AnyObjectTO anyTO = ((AnyObjectRestClient) restClient).read(model.getObject().getKey());\n                                 return null;\n                             }\n                         });\n-\n+                        \n                         editmodal.show(target);\n                     }\n-                }, ActionLink.ActionType.EDIT, entitlement);\n-\n-                panel.add(new ActionLink() {\n-\n+                }, ActionLink.ActionType.EDIT, entitlement).add(new ActionLink<AnyTO>() {\n+                    \n                     private static final long serialVersionUID = -7978723352517770644L;\n-\n+                    \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    public void onClick(final AjaxRequestTarget target, final AnyTO anyTO) {\n                         try {\n-                            final AnyObjectTO anyTO = (AnyObjectTO) restClient.\n-                                    delete(model.getObject().getETagValue(), model.getObject().getKey());\n-\n+                            AnyTO deleteAnyTO =\n+                                    restClient.delete(model.getObject().getETagValue(), model.getObject().getKey());\n+                            \n                             page.setModalResult(true);\n-\n+                            \n                             editmodal.setPageCreator(new ModalWindow.PageCreator() {\n-\n+                                \n                                 private static final long serialVersionUID = -7834632442532690940L;\n-\n+                                \n                                 @Override\n                                 public Page createPage() {\n                                     return null;\n                                 }\n                             });\n-\n+                            \n                             editmodal.show(target);\n                         } catch (SyncopeClientException scce) {\n                             error(getString(Constants.OPERATION_ERROR) + \": \" + scce.getMessage());\n                             feedbackPanel.refresh(target);\n                         }\n                     }\n                 }, ActionLink.ActionType.DELETE, entitlement);\n-\n-                return panel;\n+                \n+                return panel.build(componentId);\n             }\n-\n+            \n             @Override\n             public ActionLinksPanel getHeader(final String componentId) {\n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(), page.getPageReference());\n-\n-                panel.add(new ActionLink() {\n-\n+                final ActionLinksPanel.Builder<Serializable> panel = ActionLinksPanel.builder(page.getPageReference());\n+                \n+                panel.add(new ActionLink<Serializable>() {\n+                    \n                     private static final long serialVersionUID = -7978723352517770644L;\n-\n+                    \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    public void onClick(final AjaxRequestTarget target, final Serializable ignore) {\n                         displaymodal.setPageCreator(new ModalWindow.PageCreator() {\n-\n+                            \n                             private static final long serialVersionUID = -7834632442532690940L;\n-\n+                            \n                             @Override\n                             public Page createPage() {\n                                 return new AnyDisplayAttributesModalPage(\n                                         page.getPageReference(), displaymodal, schemaNames, dSchemaNames);\n                             }\n                         });\n-\n+                        \n                         displaymodal.show(target);\n                     }\n-                }, ActionLink.ActionType.CHANGE_VIEW, entitlement);\n-\n-                panel.add(new ActionLink() {\n-\n+                }, ActionLink.ActionType.CHANGE_VIEW, entitlement).add(new ActionLink<Serializable>() {\n+                    \n                     private static final long serialVersionUID = -7978723352517770644L;\n-\n+                    \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    public void onClick(final AjaxRequestTarget target, final Serializable ignore) {\n                         if (target != null) {\n                             target.add(container);\n                         }\n                     }\n                 }, ActionLink.ActionType.RELOAD, entitlement);\n-\n-                return panel;\n+                \n+                return panel.build(componentId);\n             }\n         });\n-\n+        \n         return columns;\n     }\n-\n+    \n     @Override\n     protected <T extends AnyTO> Collection<ActionLink.ActionType> getBulkActions() {\n         final List<ActionLink.ActionType> bulkActions = new ArrayList<ActionLink.ActionType>();\n-\n+        \n         bulkActions.add(ActionLink.ActionType.DELETE);\n         bulkActions.add(ActionLink.ActionType.SUSPEND);\n         bulkActions.add(ActionLink.ActionType.REACTIVATE);\n-\n+        \n         return bulkActions;\n     }\n-\n+    \n     @Override\n     protected String getPageId() {\n         return pageID;"},{"sha":"45b523900520f86a3962f25fc72bff2f21d79384","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/GroupSearchResultPanel.java","status":"modified","additions":14,"deletions":16,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/2e6b4fdbd454c0202c2f39ac1d96607462055aac/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupSearchResultPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/2e6b4fdbd454c0202c2f39ac1d96607462055aac/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupSearchResultPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupSearchResultPanel.java?ref=2e6b4fdbd454c0202c2f39ac1d96607462055aac","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.client.console.panels;\n \n+import java.io.Serializable;\n import java.lang.reflect.Field;\n import java.util.ArrayList;\n import java.util.Arrays;\n@@ -45,7 +46,6 @@\n import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n import org.apache.wicket.model.IModel;\n-import org.apache.wicket.model.Model;\n import org.apache.wicket.model.ResourceModel;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n@@ -115,14 +115,14 @@ protected List<IColumn<AnyTO, String>> getColumns() {\n             @Override\n             public ActionLinksPanel getActions(final String componentId, final IModel<AnyTO> model) {\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, page.getPageReference());\n-\n-                panel.add(new ActionLink() {\n+                final ActionLinksPanel.Builder<AnyTO> panel = ActionLinksPanel.builder(page.getPageReference());\n+                \n+                panel.add(new ActionLink<AnyTO>() {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    public void onClick(final AjaxRequestTarget target, final AnyTO anyTO) {\n                         editmodal.setPageCreator(new ModalWindow.PageCreator() {\n \n                             private static final long serialVersionUID = -7834632442532690940L;\n@@ -137,14 +137,12 @@ public Page createPage() {\n \n                         editmodal.show(target);\n                     }\n-                }, ActionLink.ActionType.EDIT, entitlement);\n-\n-                panel.add(new ActionLink() {\n+                }, ActionLink.ActionType.EDIT, entitlement).add(new ActionLink<AnyTO>() {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    public void onClick(final AjaxRequestTarget target, final AnyTO anyTO) {\n                         try {\n                             final GroupTO groupTO = (GroupTO) restClient.\n                                     delete(model.getObject().getETagValue(), model.getObject().getKey());\n@@ -169,19 +167,19 @@ public Page createPage() {\n                     }\n                 }, ActionLink.ActionType.DELETE, entitlement);\n \n-                return panel;\n+                return panel.build(componentId);\n             }\n \n             @Override\n             public ActionLinksPanel getHeader(final String componentId) {\n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(), page.getPageReference());\n+                final ActionLinksPanel.Builder<Serializable> panel = ActionLinksPanel.builder(page.getPageReference());\n \n-                panel.add(new ActionLink() {\n+                panel.add(new ActionLink<Serializable>() {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    public void onClick(final AjaxRequestTarget target, final Serializable ignore) {\n                         displaymodal.setPageCreator(new ModalWindow.PageCreator() {\n \n                             private static final long serialVersionUID = -7834632442532690940L;\n@@ -197,19 +195,19 @@ public Page createPage() {\n                     }\n                 }, ActionLink.ActionType.CHANGE_VIEW, entitlement);\n \n-                panel.add(new ActionLink() {\n+                panel.add(new ActionLink<Serializable>() {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    public void onClick(final AjaxRequestTarget target, final Serializable ignore) {\n                         if (target != null) {\n                             target.add(container);\n                         }\n                     }\n                 }, ActionLink.ActionType.RELOAD, entitlement);\n \n-                return panel;\n+                return panel.build(componentId);\n             }\n         });\n "},{"sha":"3dd2b4e8eedb66fc4727ca23f043af04cfbf0bfc","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/UserSearchResultPanel.java","status":"modified","additions":22,"deletions":31,"changes":53,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/2e6b4fdbd454c0202c2f39ac1d96607462055aac/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserSearchResultPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/2e6b4fdbd454c0202c2f39ac1d96607462055aac/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserSearchResultPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserSearchResultPanel.java?ref=2e6b4fdbd454c0202c2f39ac1d96607462055aac","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.client.console.panels;\n \n+import java.io.Serializable;\n import java.lang.reflect.Field;\n import java.util.ArrayList;\n import java.util.Arrays;\n@@ -46,7 +47,6 @@\n import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n import org.apache.wicket.model.IModel;\n-import org.apache.wicket.model.Model;\n import org.apache.wicket.model.ResourceModel;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n@@ -88,7 +88,7 @@ protected List<IColumn<AnyTO, String>> getColumns() {\n \n         for (String name : prefMan.getList(getRequest(), Constants.PREF_USERS_ATTRIBUTES_VIEW)) {\n             if (schemaNames.contains(name)) {\n-                columns.add(new AttrColumn(name, SchemaType.PLAIN));                \n+                columns.add(new AttrColumn(name, SchemaType.PLAIN));\n             }\n         }\n \n@@ -116,56 +116,52 @@ protected List<IColumn<AnyTO, String>> getColumns() {\n             @Override\n             public ActionLinksPanel getActions(final String componentId, final IModel<AnyTO> model) {\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, page.getPageReference());\n+                final ActionLinksPanel.Builder<AnyTO> panel = ActionLinksPanel.builder(page.getPageReference());\n \n-                panel.add(new ActionLink() {\n+                panel.add(new ActionLink<AnyTO>() {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    public void onClick(final AjaxRequestTarget target, final AnyTO anyTO) {\n                         statusmodal.setPageCreator(new ModalWindow.PageCreator() {\n \n                             private static final long serialVersionUID = -7834632442532690940L;\n \n                             @Override\n                             public Page createPage() {\n-                                return new StatusModalPage<UserTO>(\n+                                return new StatusModalPage<>(\n                                         page.getPageReference(), statusmodal, (UserTO) model.getObject());\n                             }\n                         });\n \n                         statusmodal.show(target);\n                     }\n-                }, ActionLink.ActionType.MANAGE_RESOURCES, entitlement);\n-\n-                panel.add(new ActionLink() {\n+                }, ActionLink.ActionType.MANAGE_RESOURCES, entitlement).add(new ActionLink<AnyTO>() {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    public void onClick(final AjaxRequestTarget target, final AnyTO anyTO) {\n                         statusmodal.setPageCreator(new ModalWindow.PageCreator() {\n \n                             private static final long serialVersionUID = -7834632442532690940L;\n \n                             @Override\n                             public Page createPage() {\n-                                return new StatusModalPage<UserTO>(\n+                                return new StatusModalPage<>(\n                                         page.getPageReference(), statusmodal, (UserTO) model.getObject(), true);\n                             }\n                         });\n \n                         statusmodal.show(target);\n                     }\n-                }, ActionLink.ActionType.ENABLE, entitlement);\n-\n-                panel.add(new ActionLink() {\n+                }, ActionLink.ActionType.ENABLE, entitlement).add(new ActionLink<AnyTO>() {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    public void onClick(final AjaxRequestTarget target, final AnyTO anyTO) {\n                         editmodal.setPageCreator(new ModalWindow.PageCreator() {\n \n                             private static final long serialVersionUID = -7834632442532690940L;\n@@ -180,17 +176,14 @@ public Page createPage() {\n \n                         editmodal.show(target);\n                     }\n-                }, ActionLink.ActionType.EDIT, entitlement);\n-\n-                panel.add(new ActionLink() {\n+                }, ActionLink.ActionType.EDIT, entitlement).add(new ActionLink<AnyTO>() {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    public void onClick(final AjaxRequestTarget target, final AnyTO anyTO) {\n                         try {\n-                            final UserTO userTO = (UserTO) restClient.\n-                                    delete(model.getObject().getETagValue(), model.getObject().getKey());\n+                            restClient.delete(model.getObject().getETagValue(), model.getObject().getKey());\n \n                             page.setModalResult(true);\n \n@@ -212,19 +205,19 @@ public Page createPage() {\n                     }\n                 }, ActionLink.ActionType.DELETE, entitlement);\n \n-                return panel;\n+                return panel.build(componentId, model.getObject());\n             }\n \n             @Override\n             public ActionLinksPanel getHeader(final String componentId) {\n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(), page.getPageReference());\n+                final ActionLinksPanel.Builder<Serializable> panel = ActionLinksPanel.builder(page.getPageReference());\n \n-                panel.add(new ActionLink() {\n+                panel.add(new ActionLink<Serializable>() {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    public void onClick(final AjaxRequestTarget target, final Serializable ignore) {\n                         displaymodal.setPageCreator(new ModalWindow.PageCreator() {\n \n                             private static final long serialVersionUID = -7834632442532690940L;\n@@ -238,21 +231,19 @@ public Page createPage() {\n \n                         displaymodal.show(target);\n                     }\n-                }, ActionLink.ActionType.CHANGE_VIEW, entitlement);\n-\n-                panel.add(new ActionLink() {\n+                }, ActionLink.ActionType.CHANGE_VIEW, entitlement).add(new ActionLink<Serializable>() {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    public void onClick(final AjaxRequestTarget target, final Serializable ignore) {\n                         if (target != null) {\n                             target.add(container);\n                         }\n                     }\n                 }, ActionLink.ActionType.RELOAD, entitlement);\n \n-                return panel;\n+                return panel.build(componentId);\n             }\n         });\n \n@@ -261,7 +252,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n     @Override\n     protected <T extends AnyTO> Collection<ActionLink.ActionType> getBulkActions() {\n-        final List<ActionType> bulkActions = new ArrayList<ActionType>();\n+        final List<ActionType> bulkActions = new ArrayList<>();\n \n         bulkActions.add(ActionType.DELETE);\n         bulkActions.add(ActionType.SUSPEND);"}]}
{"sha":"793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjc5M2YzYmQzYTJhNGExMjgxYjNhOTkyNmZjOTJlNDVmYjk2YzBhZDI=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-09-17T14:48:15Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-09-17T14:48:15Z"},"message":"Upgrading Quartz to 2.2.0 and adjusting JBoss AS support\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1524077 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"4f0141385421d52552eba90c5d24455da021d6a1","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/4f0141385421d52552eba90c5d24455da021d6a1"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"8775ee948da95bbc1ebb24c4982e8940307e8d22","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8775ee948da95bbc1ebb24c4982e8940307e8d22","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/8775ee948da95bbc1ebb24c4982e8940307e8d22"}],"stats":{"total":225,"additions":156,"deletions":69},"files":[{"sha":"481e1e9956b7a162d601c87b325b5828f517b2fe","filename":"core/pom.xml","status":"modified","additions":27,"deletions":18,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpom.xml?ref=793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2","patch":"@@ -180,18 +180,6 @@ under the License.\n       <groupId>org.quartz-scheduler</groupId>\n       <artifactId>quartz</artifactId>\n     </dependency>\n-    <dependency>\n-      <groupId>org.quartz-scheduler</groupId>\n-      <artifactId>quartz-oracle</artifactId>\n-    </dependency>\n-    <dependency>\n-      <groupId>org.quartz-scheduler</groupId>\n-      <artifactId>quartz-jboss</artifactId>\n-    </dependency>\n-    <dependency>\n-      <groupId>org.quartz-scheduler</groupId>\n-      <artifactId>quartz-weblogic</artifactId>\n-    </dependency>\n       \n     <dependency>\n       <groupId>org.apache.cocoon.sax</groupId>\n@@ -1100,6 +1088,31 @@ under the License.\n                   <goal>run</goal>\n                 </goals>\n               </execution>\n+              <!-- This complex setup is needed because \n+                     (a) JBoss 7.2 is needed (and RedHat does not provide a build release yet)\n+                     (b) it seems there is no clean way to upgrade JBoss' JAX-RS APIs. -->\n+              <execution>\n+                <id>setupJBoss72</id>\n+                <phase>pre-integration-test</phase>\n+                <configuration>\n+                  <target>\n+                    <get src=\"https://olex-secure.openlogic.com/content/openlogic/jboss/7.2.0.Final/openlogic-jboss-7.2.0.Final-all-bin-1.zip\"\n+                         dest=\"${settings.localRepository}/org/codehaus/cargo/cargo-container-archives\"\n+                         usetimestamp=\"true\"/>\n+                    <unzip src=\"${settings.localRepository}/org/codehaus/cargo/cargo-container-archives/openlogic-jboss-7.2.0.Final-all-bin-1.zip\" \n+                           dest=\"${project.build.directory}\"/>\n+                    <move file=\"${project.build.directory}/jboss-7.2.0.Final/jboss-as-7.2.0.Final\" \n+                          tofile=\"${project.build.directory}/openlogic-jboss-7.2.0.Final\"/>\n+                    <delete dir=\"${project.build.directory}/jboss-7.2.0.Final\"/>\n+                    <copy file=\"${cargo.run.dir}/WEB-INF/lib/javax.ws.rs-api-${jax-rs.version}.jar\"\n+                          tofile=\"${project.build.directory}/openlogic-jboss-7.2.0.Final/modules/system/layers/base/javax/ws/rs/api/main/jboss-jaxrs-api_1.1_spec-1.0.1.Final.jar\"\n+                          overwrite=\"true\"/>\n+                  </target>\n+                </configuration>\n+                <goals>\n+                  <goal>run</goal>\n+                </goals>\n+              </execution>\n             </executions>\n           </plugin>\n                 \n@@ -1109,12 +1122,8 @@ under the License.\n             <inherited>true</inherited>\n             <configuration>\n               <container>\n-                <containerId>jboss71x</containerId>\n-                <zipUrlInstaller>\n-                  <url>http://download.jboss.org/jbossas/7.1/jboss-as-7.1.1.Final/jboss-as-7.1.1.Final.zip</url>\n-                  <downloadDir>${settings.localRepository}/org/codehaus/cargo/cargo-container-archives</downloadDir>\n-                  <extractDir>${project.build.directory}/cargo/extract</extractDir>\n-                </zipUrlInstaller>\n+                <containerId>jboss72x</containerId>\n+                <home>${project.build.directory}/openlogic-jboss-7.2.0.Final</home>\n                 <log>${cargo.log}</log>\n                 <output>${cargo.output}</output>\n               </container>"},{"sha":"e798223d2bef8300a76f5147a9f4a8188f2a6604","filename":"core/src/main/resources/quartz/tables_h2.sql","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_h2.sql","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_h2.sql","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_h2.sql?ref=793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2","patch":"@@ -46,6 +46,7 @@ CREATE TABLE QRTZ_FIRED_TRIGGERS (\n   TRIGGER_GROUP VARCHAR (200)  NOT NULL ,\n   INSTANCE_NAME VARCHAR (200)  NOT NULL ,\n   FIRED_TIME BIGINT NOT NULL ,\n+  SCHED_TIME BIGINT NOT NULL ,\n   PRIORITY INTEGER NOT NULL ,\n   STATE VARCHAR (16)  NOT NULL,\n   JOB_NAME VARCHAR (200)  NULL ,"},{"sha":"ebb8e59702733989df95b2792d20d08f8b775dd6","filename":"core/src/main/resources/quartz/tables_mysql.sql","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_mysql.sql","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_mysql.sql","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_mysql.sql?ref=793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2","patch":"@@ -174,6 +174,7 @@ CREATE TABLE QRTZ_FIRED_TRIGGERS\n     TRIGGER_GROUP VARCHAR(200) NOT NULL,\n     INSTANCE_NAME VARCHAR(200) NOT NULL,\n     FIRED_TIME BIGINT(13) NOT NULL,\n+    SCHED_TIME BIGINT(13) NOT NULL,\n     PRIORITY INTEGER NOT NULL,\n     STATE VARCHAR(16) NOT NULL,\n     JOB_NAME VARCHAR(200) NULL,"},{"sha":"c54493ed85c2cc9b1dbfb2abd2a206c03b353389","filename":"core/src/main/resources/quartz/tables_mysql_innodb.sql","status":"modified","additions":1,"deletions":3,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_mysql_innodb.sql","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_mysql_innodb.sql","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_mysql_innodb.sql?ref=793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2","patch":"@@ -73,7 +73,6 @@ CALENDAR_NAME VARCHAR(200) NULL,\n MISFIRE_INSTR SMALLINT(2) NULL,\n JOB_DATA BLOB NULL,\n PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\n-INDEX (SCHED_NAME,JOB_NAME, JOB_GROUP),\n FOREIGN KEY (SCHED_NAME,JOB_NAME,JOB_GROUP)\n REFERENCES QRTZ_JOB_DETAILS(SCHED_NAME,JOB_NAME,JOB_GROUP))\n ENGINE=InnoDB;\n@@ -88,7 +87,6 @@ REPEAT_COUNT BIGINT(7) NOT NULL,\n REPEAT_INTERVAL BIGINT(12) NOT NULL,\n TIMES_TRIGGERED BIGINT(10) NOT NULL,\n PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\n-INDEX (SCHED_NAME,TRIGGER_NAME, TRIGGER_GROUP),\n FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP))\n ENGINE=InnoDB;\n@@ -102,7 +100,6 @@ TRIGGER_GROUP VARCHAR(200) NOT NULL,\n CRON_EXPRESSION VARCHAR(120) NOT NULL,\n TIME_ZONE_ID VARCHAR(80),\n PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\n-INDEX (SCHED_NAME,TRIGGER_NAME, TRIGGER_GROUP),\n FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP))\n ENGINE=InnoDB;\n@@ -169,6 +166,7 @@ TRIGGER_NAME VARCHAR(200) NOT NULL,\n TRIGGER_GROUP VARCHAR(200) NOT NULL,\n INSTANCE_NAME VARCHAR(200) NOT NULL,\n FIRED_TIME BIGINT(13) NOT NULL,\n+SCHED_TIME BIGINT(13) NOT NULL,\n PRIORITY INTEGER NOT NULL,\n STATE VARCHAR(16) NOT NULL,\n JOB_NAME VARCHAR(200) NULL,"},{"sha":"4384ac59498df2ee32cd1dc003179f91f412128f","filename":"core/src/main/resources/quartz/tables_oracle.sql","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_oracle.sql","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_oracle.sql","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_oracle.sql?ref=793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2","patch":"@@ -160,6 +160,7 @@ CREATE TABLE qrtz_fired_triggers\n     TRIGGER_GROUP VARCHAR2(200) NOT NULL,\n     INSTANCE_NAME VARCHAR2(200) NOT NULL,\n     FIRED_TIME NUMBER(13) NOT NULL,\n+    SCHED_TIME NUMBER(13) NOT NULL,\n     PRIORITY NUMBER(13) NOT NULL,\n     STATE VARCHAR2(16) NOT NULL,\n     JOB_NAME VARCHAR2(200) NULL,\n@@ -205,5 +206,3 @@ create index idx_qrtz_ft_j_g on qrtz_fired_triggers(SCHED_NAME,JOB_NAME,JOB_GROU\n create index idx_qrtz_ft_jg on qrtz_fired_triggers(SCHED_NAME,JOB_GROUP);\n create index idx_qrtz_ft_t_g on qrtz_fired_triggers(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP);\n create index idx_qrtz_ft_tg on qrtz_fired_triggers(SCHED_NAME,TRIGGER_GROUP);\n-\n-"},{"sha":"9b7800f6e61c39c2b5fbf11ddbcbdbcd13f3031d","filename":"core/src/main/resources/quartz/tables_postgres.sql","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_postgres.sql","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_postgres.sql","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_postgres.sql?ref=793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2","patch":"@@ -151,6 +151,7 @@ CREATE TABLE qrtz_fired_triggers\n     TRIGGER_GROUP VARCHAR(200) NOT NULL,\n     INSTANCE_NAME VARCHAR(200) NOT NULL,\n     FIRED_TIME BIGINT NOT NULL,\n+    SCHED_TIME BIGINT NOT NULL,\n     PRIORITY INTEGER NOT NULL,\n     STATE VARCHAR(16) NOT NULL,\n     JOB_NAME VARCHAR(200) NULL,"},{"sha":"601dd5c7d7771cf472b53c6d304d57018863e78d","filename":"core/src/main/resources/quartz/tables_sqlServer.sql","status":"modified","additions":111,"deletions":25,"changes":136,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_sqlServer.sql","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_sqlServer.sql","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_sqlServer.sql?ref=793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2","patch":"@@ -15,19 +15,81 @@\n -- specific language governing permissions and limitations\n -- under the License.\n \n+IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[FK_QRTZ_TRIGGERS_QRTZ_JOB_DETAILS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)\n+ALTER TABLE [dbo].[QRTZ_TRIGGERS] DROP CONSTRAINT FK_QRTZ_TRIGGERS_QRTZ_JOB_DETAILS\n+GO\n+\n+IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[FK_QRTZ_CRON_TRIGGERS_QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)\n+ALTER TABLE [dbo].[QRTZ_CRON_TRIGGERS] DROP CONSTRAINT FK_QRTZ_CRON_TRIGGERS_QRTZ_TRIGGERS\n+GO\n+\n+IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[FK_QRTZ_SIMPLE_TRIGGERS_QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)\n+ALTER TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] DROP CONSTRAINT FK_QRTZ_SIMPLE_TRIGGERS_QRTZ_TRIGGERS\n+GO\n+\n+IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[FK_QRTZ_SIMPROP_TRIGGERS_QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)\n+ALTER TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] DROP CONSTRAINT FK_QRTZ_SIMPROP_TRIGGERS_QRTZ_TRIGGERS\n+GO\n+\n+IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_CALENDARS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n+DROP TABLE [dbo].[QRTZ_CALENDARS]\n+GO\n+\n+IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_CRON_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n+DROP TABLE [dbo].[QRTZ_CRON_TRIGGERS]\n+GO\n+\n+IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_BLOB_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n+DROP TABLE [dbo].[QRTZ_BLOB_TRIGGERS]\n+GO\n+\n+IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_FIRED_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n+DROP TABLE [dbo].[QRTZ_FIRED_TRIGGERS]\n+GO\n+\n+IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_PAUSED_TRIGGER_GRPS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n+DROP TABLE [dbo].[QRTZ_PAUSED_TRIGGER_GRPS]\n+GO\n+\n+IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_SCHEDULER_STATE]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n+DROP TABLE [dbo].[QRTZ_SCHEDULER_STATE]\n+GO\n+\n+IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_LOCKS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n+DROP TABLE [dbo].[QRTZ_LOCKS]\n+GO\n+\n+IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_JOB_DETAILS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n+DROP TABLE [dbo].[QRTZ_JOB_DETAILS]\n+GO\n+\n+IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_SIMPLE_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n+DROP TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS]\n+GO\n+\n+IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_SIMPROP_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n+DROP TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS]\n+GO\n+\n+IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n+DROP TABLE [dbo].[QRTZ_TRIGGERS]\n+GO\n+\n CREATE TABLE [dbo].[QRTZ_CALENDARS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n   [CALENDAR_NAME] [VARCHAR] (200)  NOT NULL ,\n   [CALENDAR] [IMAGE] NOT NULL\n-) ON [PRIMARY];\n+) ON [PRIMARY]\n+GO\n \n CREATE TABLE [dbo].[QRTZ_CRON_TRIGGERS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n   [TRIGGER_NAME] [VARCHAR] (200)  NOT NULL ,\n   [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\n   [CRON_EXPRESSION] [VARCHAR] (120)  NOT NULL ,\n   [TIME_ZONE_ID] [VARCHAR] (80) \n-) ON [PRIMARY];\n+) ON [PRIMARY]\n+GO\n \n CREATE TABLE [dbo].[QRTZ_FIRED_TRIGGERS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n@@ -36,30 +98,35 @@ CREATE TABLE [dbo].[QRTZ_FIRED_TRIGGERS] (\n   [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\n   [INSTANCE_NAME] [VARCHAR] (200)  NOT NULL ,\n   [FIRED_TIME] [BIGINT] NOT NULL ,\n+  [SCHED_TIME] [BIGINT] NOT NULL ,\n   [PRIORITY] [INTEGER] NOT NULL ,\n   [STATE] [VARCHAR] (16)  NOT NULL,\n   [JOB_NAME] [VARCHAR] (200)  NULL ,\n   [JOB_GROUP] [VARCHAR] (200)  NULL ,\n   [IS_NONCONCURRENT] [VARCHAR] (1)  NULL ,\n   [REQUESTS_RECOVERY] [VARCHAR] (1)  NULL \n-) ON [PRIMARY];\n+) ON [PRIMARY]\n+GO\n \n CREATE TABLE [dbo].[QRTZ_PAUSED_TRIGGER_GRPS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n   [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL \n-) ON [PRIMARY];\n+) ON [PRIMARY]\n+GO\n \n CREATE TABLE [dbo].[QRTZ_SCHEDULER_STATE] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n   [INSTANCE_NAME] [VARCHAR] (200)  NOT NULL ,\n   [LAST_CHECKIN_TIME] [BIGINT] NOT NULL ,\n   [CHECKIN_INTERVAL] [BIGINT] NOT NULL\n-) ON [PRIMARY];\n+) ON [PRIMARY]\n+GO\n \n CREATE TABLE [dbo].[QRTZ_LOCKS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n   [LOCK_NAME] [VARCHAR] (40)  NOT NULL \n-) ON [PRIMARY];\n+) ON [PRIMARY]\n+GO\n \n CREATE TABLE [dbo].[QRTZ_JOB_DETAILS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n@@ -72,7 +139,8 @@ CREATE TABLE [dbo].[QRTZ_JOB_DETAILS] (\n   [IS_UPDATE_DATA] [VARCHAR] (1)  NOT NULL ,\n   [REQUESTS_RECOVERY] [VARCHAR] (1)  NOT NULL ,\n   [JOB_DATA] [IMAGE] NULL\n-) ON [PRIMARY];\n+) ON [PRIMARY]\n+GO\n \n CREATE TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n@@ -81,7 +149,8 @@ CREATE TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] (\n   [REPEAT_COUNT] [BIGINT] NOT NULL ,\n   [REPEAT_INTERVAL] [BIGINT] NOT NULL ,\n   [TIMES_TRIGGERED] [BIGINT] NOT NULL\n-) ON [PRIMARY];\n+) ON [PRIMARY]\n+GO\n \n CREATE TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n@@ -98,14 +167,16 @@ CREATE TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] (\n   [DEC_PROP_2] [NUMERIC] (13,4) NULL,\n   [BOOL_PROP_1] [VARCHAR] (1) NULL,\n   [BOOL_PROP_2] [VARCHAR] (1) NULL,\n-) ON [PRIMARY];\n+) ON [PRIMARY]\n+GO\n \n CREATE TABLE [dbo].[QRTZ_BLOB_TRIGGERS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n   [TRIGGER_NAME] [VARCHAR] (200)  NOT NULL ,\n   [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\n   [BLOB_DATA] [IMAGE] NULL\n-) ON [PRIMARY];\n+) ON [PRIMARY]\n+GO\n \n CREATE TABLE [dbo].[QRTZ_TRIGGERS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n@@ -124,82 +195,93 @@ CREATE TABLE [dbo].[QRTZ_TRIGGERS] (\n   [CALENDAR_NAME] [VARCHAR] (200)  NULL ,\n   [MISFIRE_INSTR] [SMALLINT] NULL ,\n   [JOB_DATA] [IMAGE] NULL\n-) ON [PRIMARY];\n+) ON [PRIMARY]\n+GO\n \n ALTER TABLE [dbo].[QRTZ_CALENDARS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_CALENDARS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [CALENDAR_NAME]\n-  ) ON [PRIMARY];\n+  )  ON [PRIMARY]\n+GO\n \n ALTER TABLE [dbo].[QRTZ_CRON_TRIGGERS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_CRON_TRIGGERS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [TRIGGER_NAME],\n     [TRIGGER_GROUP]\n-  ) ON [PRIMARY];\n+  )  ON [PRIMARY]\n+GO\n \n ALTER TABLE [dbo].[QRTZ_FIRED_TRIGGERS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_FIRED_TRIGGERS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [ENTRY_ID]\n-  ) ON [PRIMARY];\n+  )  ON [PRIMARY]\n+GO\n \n ALTER TABLE [dbo].[QRTZ_PAUSED_TRIGGER_GRPS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_PAUSED_TRIGGER_GRPS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [TRIGGER_GROUP]\n-  ) ON [PRIMARY];\n+  )  ON [PRIMARY]\n+GO\n \n ALTER TABLE [dbo].[QRTZ_SCHEDULER_STATE] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_SCHEDULER_STATE] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [INSTANCE_NAME]\n-  ) ON [PRIMARY];\n+  )  ON [PRIMARY]\n+GO\n \n ALTER TABLE [dbo].[QRTZ_LOCKS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_LOCKS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [LOCK_NAME]\n-  ) ON [PRIMARY];\n+  )  ON [PRIMARY]\n+GO\n \n ALTER TABLE [dbo].[QRTZ_JOB_DETAILS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_JOB_DETAILS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [JOB_NAME],\n     [JOB_GROUP]\n-  ) ON [PRIMARY];\n+  )  ON [PRIMARY]\n+GO\n \n ALTER TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_SIMPLE_TRIGGERS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [TRIGGER_NAME],\n     [TRIGGER_GROUP]\n-  ) ON [PRIMARY];\n+  )  ON [PRIMARY]\n+GO\n \n ALTER TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_SIMPROP_TRIGGERS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [TRIGGER_NAME],\n     [TRIGGER_GROUP]\n-  ) ON [PRIMARY];\n+  )  ON [PRIMARY]\n+GO\n \n ALTER TABLE [dbo].[QRTZ_TRIGGERS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_TRIGGERS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [TRIGGER_NAME],\n     [TRIGGER_GROUP]\n-  ) ON [PRIMARY];\n+  )  ON [PRIMARY]\n+GO\n \n ALTER TABLE [dbo].[QRTZ_CRON_TRIGGERS] ADD\n   CONSTRAINT [FK_QRTZ_CRON_TRIGGERS_QRTZ_TRIGGERS] FOREIGN KEY\n@@ -211,7 +293,8 @@ ALTER TABLE [dbo].[QRTZ_CRON_TRIGGERS] ADD\n     [SCHED_NAME],\n     [TRIGGER_NAME],\n     [TRIGGER_GROUP]\n-  ) ON DELETE CASCADE;\n+  ) ON DELETE CASCADE\n+GO\n \n ALTER TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] ADD\n   CONSTRAINT [FK_QRTZ_SIMPLE_TRIGGERS_QRTZ_TRIGGERS] FOREIGN KEY\n@@ -223,7 +306,8 @@ ALTER TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] ADD\n     [SCHED_NAME],\n     [TRIGGER_NAME],\n     [TRIGGER_GROUP]\n-  ) ON DELETE CASCADE;\n+  ) ON DELETE CASCADE\n+GO\n \n ALTER TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] ADD\n   CONSTRAINT [FK_QRTZ_SIMPROP_TRIGGERS_QRTZ_TRIGGERS] FOREIGN KEY\n@@ -235,7 +319,8 @@ ALTER TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] ADD\n     [SCHED_NAME],\n     [TRIGGER_NAME],\n     [TRIGGER_GROUP]\n-  ) ON DELETE CASCADE;\n+  ) ON DELETE CASCADE\n+GO\n \n ALTER TABLE [dbo].[QRTZ_TRIGGERS] ADD\n   CONSTRAINT [FK_QRTZ_TRIGGERS_QRTZ_JOB_DETAILS] FOREIGN KEY\n@@ -247,4 +332,5 @@ ALTER TABLE [dbo].[QRTZ_TRIGGERS] ADD\n     [SCHED_NAME],\n     [JOB_NAME],\n     [JOB_GROUP]\n-  );\n+  )\n+GO"},{"sha":"f47298da8ad83cc78902536c2657c1e1d1da7545","filename":"core/src/main/webapp/WEB-INF/jboss-deployment-structure.xml","status":"modified","additions":8,"deletions":2,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fjboss-deployment-structure.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fjboss-deployment-structure.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fjboss-deployment-structure.xml?ref=793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2","patch":"@@ -16,14 +16,20 @@ software distributed under the License is distributed on an\n KIND, either express or implied.  See the License for the\n specific language governing permissions and limitations\n under the License.\n-\n -->\n-<jboss-deployment-structure xmlns=\"urn:jboss:deployment-structure:1.0\">\n+<jboss-deployment-structure xmlns=\"urn:jboss:deployment-structure:1.2\">\n   <deployment>\n+    <exclude-subsystems>\n+      <subsystem name=\"webservices\"/>\n+      <subsystem name=\"jaxrs\"/>\n+    </exclude-subsystems>\n     <dependencies>\n       <module name=\"org.apache.xalan\"/>\n     </dependencies>\n     <exclusions>\n+      <module name=\"javax.ws.rs.api\"/>\n+      <module name=\"org.apache.cxf\"/>\n+      <module name=\"org.apache.cxf.impl\"/>\n       <module name=\"org.hibernate\"/>\n       <module name=\"org.slf4j\"/>\n       <module name=\"org.slf4j.impl\"/>"},{"sha":"a134694b8338f4a570b92cbb5cc7d538ae56bd86","filename":"core/src/test/resources/jboss/persistenceContextEMFactory.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fsrc%2Ftest%2Fresources%2Fjboss%2FpersistenceContextEMFactory.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/core%2Fsrc%2Ftest%2Fresources%2Fjboss%2FpersistenceContextEMFactory.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fresources%2Fjboss%2FpersistenceContextEMFactory.xml?ref=793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2","patch":"@@ -54,7 +54,7 @@ under the License.\n         <entry key=\"openjpa.RemoteCommitProvider\" value=\"sjvm\"/>\n         \n         <entry key=\"openjpa.MetaDataFactory\"\n-               value=\"org.apache.syncope.core.persistence.openjpa.JBossPersistenceMappingFactory(URLs=vfs:${project.build.directory}/cargo/configurations/jboss71x/deployments/${project.build.finalName}.war/WEB-INF/classes/, Resources=META-INF/orm.xml)\"/>\n+               value=\"org.apache.syncope.core.persistence.openjpa.JBossPersistenceMappingFactory(URLs=vfs:${project.build.directory}/cargo/configurations/jboss72x/deployments/${project.build.finalName}.war/WEB-INF/classes/, Resources=META-INF/orm.xml)\"/>\n       </map>\n     </property>\n   </bean>"},{"sha":"ec92941f4eb0f95b0e992c343eedbfd0970cbc4d","filename":"pom.xml","status":"modified","additions":4,"deletions":18,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=793f3bd3a2a4a1281b3a9926fc92e45fb96c0ad2","patch":"@@ -295,6 +295,7 @@ under the License.\n     <servlet-api.version>2.5</servlet-api.version>\n     <jsp-api.version>2.2</jsp-api.version>\n     <jstl.version>1.2</jstl.version>\n+    <jax-rs.version>2.0-m15</jax-rs.version>\n         \n     <connid.version>1.3.3</connid.version>\n     <connid.soap.version>1.2.6</connid.soap.version>\n@@ -316,7 +317,7 @@ under the License.\n     <jackson.version>2.2.2</jackson.version>\n     <xstream.version>1.4.4</xstream.version>\n     <velocity.version>1.7</velocity.version>\n-    <quartz.version>2.1.7</quartz.version>\n+    <quartz.version>2.2.0</quartz.version>\n \n     <openjpa.version>2.2.2</openjpa.version>\n     <bval.version>0.5</bval.version>\n@@ -590,7 +591,7 @@ under the License.\n       <dependency>\n         <groupId>javax.ws.rs</groupId>\n         <artifactId>javax.ws.rs-api</artifactId>\n-        <version>2.0-m15</version>\n+        <version>${jax-rs.version}</version>\n       </dependency>\n           \t  \n       <!-- CXF -->\n@@ -650,22 +651,7 @@ under the License.\n           </exclusion>\n         </exclusions>\n       </dependency>\n-      <dependency>\n-        <groupId>org.quartz-scheduler</groupId>\n-        <artifactId>quartz-oracle</artifactId>\n-        <version>${quartz.version}</version>\n-      </dependency>\n-      <dependency>\n-        <groupId>org.quartz-scheduler</groupId>\n-        <artifactId>quartz-jboss</artifactId>\n-        <version>${quartz.version}</version>\n-      </dependency>\n-      <dependency>\n-        <groupId>org.quartz-scheduler</groupId>\n-        <artifactId>quartz-weblogic</artifactId>\n-        <version>${quartz.version}</version>\n-      </dependency>\n-      \n+            \n       <dependency>\n         <groupId>org.apache.cocoon.sax</groupId>\n         <artifactId>cocoon-sax</artifactId>"}]}
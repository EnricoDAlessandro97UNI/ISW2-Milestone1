{"sha":"5346ccc678a2481c29d0f67e420f2e4e0d54e15c","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjUzNDZjY2M2NzhhMjQ4MWMyOWQwZjY3ZTQyMGYyZTRlMGQ1NGUxNWM=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-02-07T13:59:04Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-02-07T13:59:04Z"},"message":"[SYNCOPE-265] Making ws-target-resource-2 non propagation-primary so that propagation failures aren't blocking\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1443482 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"0132123d7bdaf78b1e30c84ba66d6087e1d3b849","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/0132123d7bdaf78b1e30c84ba66d6087e1d3b849"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/5346ccc678a2481c29d0f67e420f2e4e0d54e15c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5346ccc678a2481c29d0f67e420f2e4e0d54e15c","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/5346ccc678a2481c29d0f67e420f2e4e0d54e15c","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5346ccc678a2481c29d0f67e420f2e4e0d54e15c/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"dccb4c090917d3a8e3856ac7bc2f54d7d61b48ff","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/dccb4c090917d3a8e3856ac7bc2f54d7d61b48ff","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/dccb4c090917d3a8e3856ac7bc2f54d7d61b48ff"}],"stats":{"total":41,"additions":19,"deletions":22},"files":[{"sha":"3dc917b5d5536a55075af0930c91a803b8de1ba7","filename":"core/src/test/java/org/apache/syncope/core/rest/TaskTestITCase.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5346ccc678a2481c29d0f67e420f2e4e0d54e15c/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FTaskTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5346ccc678a2481c29d0f67e420f2e4e0d54e15c/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FTaskTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FTaskTestITCase.java?ref=5346ccc678a2481c29d0f67e420f2e4e0d54e15c","patch":"@@ -28,6 +28,7 @@\n import java.util.List;\n import java.util.Set;\n import javax.ws.rs.core.Response;\n+import org.apache.syncope.common.mod.UserMod;\n import org.apache.syncope.common.search.AttributableCond;\n import org.apache.syncope.common.search.AttributeCond;\n import org.apache.syncope.common.search.MembershipCond;\n@@ -47,7 +48,6 @@\n import org.apache.syncope.common.to.TaskExecTO;\n import org.apache.syncope.common.to.TaskTO;\n import org.apache.syncope.common.to.UserTO;\n-import org.apache.syncope.common.mod.UserMod;\n import org.apache.syncope.common.to.SyncPolicyTO;\n import org.apache.syncope.common.types.IntMappingType;\n import org.apache.syncope.common.types.PolicyType;\n@@ -825,7 +825,7 @@ public void issueSYNCOPE258() {\n         userMod.addAttributeToBeUpdated(attributeMod(\"email\", \"s258@apache.org\"));\n \n         userTO = userService.update(userMod.getId(), userMod);\n-        \n+\n         execSyncTask(actual.getId(), 50, false);\n \n         SyncTaskTO executed = taskService.read(TaskType.SYNCHRONIZATION, actual.getId());"},{"sha":"1b26ad8b8f2e169b4786e1f8dd87ece0ef465e94","filename":"core/src/test/java/org/apache/syncope/core/rest/UserTestITCase.java","status":"modified","additions":2,"deletions":5,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5346ccc678a2481c29d0f67e420f2e4e0d54e15c/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5346ccc678a2481c29d0f67e420f2e4e0d54e15c/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java?ref=5346ccc678a2481c29d0f67e420f2e4e0d54e15c","patch":"@@ -33,9 +33,7 @@\n import java.util.Date;\n import java.util.List;\n import java.util.Map;\n-\n import javax.ws.rs.core.Response;\n-\n import org.apache.syncope.common.mod.AttributeMod;\n import org.apache.syncope.common.mod.MembershipMod;\n import org.apache.syncope.common.mod.UserMod;\n@@ -1912,7 +1910,7 @@ public void isseSYNCOPE136AES() {\n             // 4. update user, assign a propagation primary resource but don't provide any password\n             UserMod userMod = new UserMod();\n             userMod.setId(userTO.getId());\n-            userMod.addResourceToBeAdded(\"ws-target-resource-2\");\n+            userMod.addResourceToBeAdded(\"ws-target-resource-1\");\n \n             userTO = userService.update(userMod.getId(), userMod);\n             assertNotNull(userTO);\n@@ -1923,7 +1921,7 @@ public void isseSYNCOPE136AES() {\n             assertEquals(1, props.size());\n             PropagationStatusTO prop = props.iterator().next();\n             assertNotNull(prop);\n-            assertEquals(\"ws-target-resource-2\", prop.getResource());\n+            assertEquals(\"ws-target-resource-1\", prop.getResource());\n             assertEquals(PropagationTaskExecStatus.SUCCESS, prop.getStatus());\n         } catch (Exception e) {\n             LOG.error(\"Unexpected exception\", e);\n@@ -1978,5 +1976,4 @@ private long getMaxTaskId(List<PropagationTaskTO> tasks) {\n         }\n         return newMaxId;\n     }\n-\n }"},{"sha":"abbceef463954b93dc6994152581c065163c622b","filename":"core/src/test/resources/content.xml","status":"modified","additions":15,"deletions":15,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5346ccc678a2481c29d0f67e420f2e4e0d54e15c/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5346ccc678a2481c29d0f67e420f2e4e0d54e15c/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml?ref=5346ccc678a2481c29d0f67e420f2e4e0d54e15c","patch":"@@ -344,7 +344,7 @@ under the License.\n                     propagationPriority=\"0\" propagationPrimary=\"1\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"/>\n   <ExternalResource name=\"ws-target-resource-2\" connector_id=\"100\"\n                     randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" propagationMode=\"TWO_PHASES\"\n-                    propagationPriority=\"0\" propagationPrimary=\"1\" createTraceLevel=\"FAILURES\" deleteTraceLevel=\"NONE\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n+                    propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"FAILURES\" deleteTraceLevel=\"NONE\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n                     syncPolicy_id=\"9\"/>\n   <ExternalResource name=\"ws-target-resource-timeout\" connector_id=\"102\"\n                     randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" propagationMode=\"TWO_PHASES\"\n@@ -386,11 +386,11 @@ under the License.\n   \n   <!-- The following three resources has been added to verify the issue SYNCOPE-68 -->\n   <ExternalResource name=\"ws-target-resource-nopropagation2\" connector_id=\"103\" enforceMandatoryCondition=\"1\" propagationMode=\"TWO_PHASES\"\n-                    randomPwdIfNotProvided=\"0\" propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\" />\n+                    randomPwdIfNotProvided=\"0\" propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"/>\n   <ExternalResource name=\"ws-target-resource-nopropagation3\" connector_id=\"103\" enforceMandatoryCondition=\"1\" propagationMode=\"TWO_PHASES\"\n-                    randomPwdIfNotProvided=\"0\" propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\" />\n+                    randomPwdIfNotProvided=\"0\" propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"/>\n   <ExternalResource name=\"ws-target-resource-nopropagation4\" connector_id=\"103\" enforceMandatoryCondition=\"1\" propagationMode=\"TWO_PHASES\"\n-                    randomPwdIfNotProvided=\"0\" propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\" />\n+                    randomPwdIfNotProvided=\"0\" propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"/>\n                     \n   <!-- External resource for issue SYNCOPE-230 -->\n   <ExternalResource name=\"resource-db-sync\" connector_id=\"107\"\n@@ -404,16 +404,16 @@ under the License.\n                     enforceMandatoryCondition=\"0\" \n                     propagationMode=\"TWO_PHASES\" propagationPrimary=\"0\" propagationPriority=\"0\"/>\n   \n-  <SyncopeUser_ExternalResource user_id=\"3\" resource_name=\"ws-target-resource-delete\" />\n-  <SyncopeRole_ExternalResource role_id=\"3\" resource_name=\"ws-target-resource-list-mappings-1\" />\n-  <SyncopeUser_ExternalResource user_id=\"3\" resource_name=\"ws-target-resource-2\" />\n-  <SyncopeRole_ExternalResource role_id=\"8\" resource_name=\"ws-target-resource-2\" />\n-  <SyncopeRole_ExternalResource role_id=\"3\" resource_name=\"ws-target-resource-list-mappings-2\" />\n-  <SyncopeUser_ExternalResource user_id=\"3\" resource_name=\"ws-target-resource-1\" />\n-  <SyncopeRole_ExternalResource role_id=\"7\" resource_name=\"ws-target-resource-nopropagation\" />\n-  <SyncopeRole_ExternalResource role_id=\"10\" resource_name=\"ws-target-resource-nopropagation3\" />\n-  <SyncopeRole_ExternalResource role_id=\"12\" resource_name=\"resource-csv\" />\n-  <SyncopeRole_ExternalResource role_id=\"13\" resource_name=\"resource-csv\" />\n+  <SyncopeUser_ExternalResource user_id=\"3\" resource_name=\"ws-target-resource-delete\"/>\n+  <SyncopeUser_ExternalResource user_id=\"3\" resource_name=\"ws-target-resource-2\"/>\n+  <SyncopeUser_ExternalResource user_id=\"3\" resource_name=\"ws-target-resource-1\"/>\n+  <SyncopeRole_ExternalResource role_id=\"3\" resource_name=\"ws-target-resource-list-mappings-1\"/>\n+  <SyncopeRole_ExternalResource role_id=\"8\" resource_name=\"ws-target-resource-2\"/>\n+  <SyncopeRole_ExternalResource role_id=\"3\" resource_name=\"ws-target-resource-list-mappings-2\"/>\n+  <SyncopeRole_ExternalResource role_id=\"7\" resource_name=\"ws-target-resource-nopropagation\"/>\n+  <SyncopeRole_ExternalResource role_id=\"10\" resource_name=\"ws-target-resource-nopropagation3\"/>\n+  <SyncopeRole_ExternalResource role_id=\"12\" resource_name=\"resource-csv\"/>\n+  <SyncopeRole_ExternalResource role_id=\"13\" resource_name=\"resource-csv\"/>\n \n   <UMapping id=\"15\" resource_name=\"ws-target-resource-1\"/>\n   <UMappingItem id=\"99\" mapping_id=\"15\" extAttrName=\"__NAME__\"\n@@ -616,7 +616,7 @@ under the License.\n                 mandatoryCondition=\"true\"/>\n   <UMappingItem id=\"332\" mapping_id=\"17\" accountid=\"0\" password=\"0\" \n                 extAttrName=\"USERNAME\" intAttrName=\"virtualdata\" intMappingType=\"UserVirtualSchema\"\n-                mandatoryCondition=\"false\" />\n+                mandatoryCondition=\"false\"/>\n                 \n   <UMapping id=\"18\" resource_name=\"ws-target-resource-timeout\"/>\n   <UMappingItem id=\"333\" mapping_id=\"18\" accountid=\"1\" password=\"0\""}]}
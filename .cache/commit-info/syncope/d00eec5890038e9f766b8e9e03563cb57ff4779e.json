{"sha":"d00eec5890038e9f766b8e9e03563cb57ff4779e","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmQwMGVlYzU4OTAwMzhlOWY3NjZiOGU5ZTAzNTYzY2I1N2ZmNDc3OWU=","commit":{"author":{"name":"skylark17","email":"matteo.alessandroni@tirasa.net","date":"2019-03-04T10:21:48Z"},"committer":{"name":"skylark17","email":"matteo.alessandroni@tirasa.net","date":"2019-03-04T10:48:37Z"},"message":"[SYNCOPE-1432] Topology now shows new created connectors and resources with no need of refreshing page","tree":{"sha":"297d581af0a36064665d34366bd45118bc070e6d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/297d581af0a36064665d34366bd45118bc070e6d"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/d00eec5890038e9f766b8e9e03563cb57ff4779e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d00eec5890038e9f766b8e9e03563cb57ff4779e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d00eec5890038e9f766b8e9e03563cb57ff4779e","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d00eec5890038e9f766b8e9e03563cb57ff4779e/comments","author":{"login":"mat-ale","id":25547301,"node_id":"MDQ6VXNlcjI1NTQ3MzAx","avatar_url":"https://avatars.githubusercontent.com/u/25547301?v=4","gravatar_id":"","url":"https://api.github.com/users/mat-ale","html_url":"https://github.com/mat-ale","followers_url":"https://api.github.com/users/mat-ale/followers","following_url":"https://api.github.com/users/mat-ale/following{/other_user}","gists_url":"https://api.github.com/users/mat-ale/gists{/gist_id}","starred_url":"https://api.github.com/users/mat-ale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mat-ale/subscriptions","organizations_url":"https://api.github.com/users/mat-ale/orgs","repos_url":"https://api.github.com/users/mat-ale/repos","events_url":"https://api.github.com/users/mat-ale/events{/privacy}","received_events_url":"https://api.github.com/users/mat-ale/received_events","type":"User","site_admin":false},"committer":{"login":"mat-ale","id":25547301,"node_id":"MDQ6VXNlcjI1NTQ3MzAx","avatar_url":"https://avatars.githubusercontent.com/u/25547301?v=4","gravatar_id":"","url":"https://api.github.com/users/mat-ale","html_url":"https://github.com/mat-ale","followers_url":"https://api.github.com/users/mat-ale/followers","following_url":"https://api.github.com/users/mat-ale/following{/other_user}","gists_url":"https://api.github.com/users/mat-ale/gists{/gist_id}","starred_url":"https://api.github.com/users/mat-ale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mat-ale/subscriptions","organizations_url":"https://api.github.com/users/mat-ale/orgs","repos_url":"https://api.github.com/users/mat-ale/repos","events_url":"https://api.github.com/users/mat-ale/events{/privacy}","received_events_url":"https://api.github.com/users/mat-ale/received_events","type":"User","site_admin":false},"parents":[{"sha":"141edff18d7bca4ca681bd0c5bb0fd52f79b7f7a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/141edff18d7bca4ca681bd0c5bb0fd52f79b7f7a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/141edff18d7bca4ca681bd0c5bb0fd52f79b7f7a"}],"stats":{"total":9,"additions":5,"deletions":4},"files":[{"sha":"fad0aa971112c312fbfda8d2b3b9aab1eea3ea55","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/SyncopeWebApplication.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d00eec5890038e9f766b8e9e03563cb57ff4779e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d00eec5890038e9f766b8e9e03563cb57ff4779e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication.java?ref=d00eec5890038e9f766b8e9e03563cb57ff4779e","patch":"@@ -57,8 +57,8 @@\n import org.apache.wicket.authroles.authentication.AuthenticatedWebSession;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n import org.apache.wicket.markup.html.WebPage;\n-import org.apache.wicket.protocol.http.CsrfPreventionRequestCycleListener;\n import org.apache.wicket.protocol.http.WebApplication;\n+import org.apache.wicket.protocol.ws.WebSocketAwareCsrfPreventionRequestCycleListener;\n import org.apache.wicket.protocol.ws.api.WebSocketResponse;\n import org.apache.wicket.request.cycle.RequestCycle;\n import org.apache.wicket.request.http.WebResponse;\n@@ -229,7 +229,7 @@ protected void init() {\n         getMarkupSettings().setCompressWhitespace(true);\n \n         if (BooleanUtils.toBoolean(csrf)) {\n-            getRequestCycleListeners().add(new CsrfPreventionRequestCycleListener());\n+            getRequestCycleListeners().add(new WebSocketAwareCsrfPreventionRequestCycleListener());\n         }\n         getRequestCycleListeners().add(new SyncopeConsoleRequestCycleListener());\n         getRequestCycleListeners().add(new IRequestCycleListener() {"},{"sha":"bd783b8f9d0d9218b927597a2d3a099680270bbe","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wizards/any/AbstractAttrs.java","status":"modified","additions":3,"deletions":2,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d00eec5890038e9f766b8e9e03563cb57ff4779e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAbstractAttrs.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d00eec5890038e9f766b8e9e03563cb57ff4779e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAbstractAttrs.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAbstractAttrs.java?ref=d00eec5890038e9f766b8e9e03563cb57ff4779e","patch":"@@ -26,6 +26,7 @@\n import java.util.List;\n import java.util.Map;\n import java.util.stream.Collectors;\n+import org.apache.commons.collections4.CollectionUtils;\n import org.apache.cxf.common.util.StringUtils;\n import org.apache.syncope.client.console.rest.AnyTypeClassRestClient;\n import org.apache.syncope.client.console.rest.GroupRestClient;\n@@ -172,8 +173,8 @@ private void setSchemas(final List<String> anyTypeClasses, final Map<String, S>\n     @Override\n     public void renderHead(final IHeaderResponse response) {\n         super.renderHead(response);\n-        if (org.apache.cxf.common.util.CollectionUtils.isEmpty(attrs.getObject())\n-                && org.apache.cxf.common.util.CollectionUtils.isEmpty(membershipTOs.getObject())) {\n+        if (CollectionUtils.isEmpty(attrs.getObject())\n+                && CollectionUtils.isEmpty(membershipTOs.getObject())) {\n             response.render(OnDomReadyHeaderItem.forScript(\n                     String.format(\"$('#emptyPlaceholder').append(\\\"%s\\\"); $('#attributes').hide();\",\n                             getString(\"attribute.empty.list\"))));"}]}
{"sha":"ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmFjMjljZWJmYjFmZjhhYzMyZDZjNmIyYWVkOTk5ZTNjZTJkNjIzNjg=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2011-10-17T09:59:33Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2011-10-17T09:59:33Z"},"message":"Thank you Marco for your patch.\nCold you extend changes to the overiiden properties also.\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247141 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"19081ed0569567e774811e268c9283132acbd818","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/19081ed0569567e774811e268c9283132acbd818"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368/comments","author":null,"committer":null,"parents":[{"sha":"4939b627e0b145af811937248eb9407132d625ad","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/4939b627e0b145af811937248eb9407132d625ad","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/4939b627e0b145af811937248eb9407132d625ad"}],"stats":{"total":143,"additions":126,"deletions":17},"files":[{"sha":"f27f5568b1fa2d128adacf5b31c507418d49d7cc","filename":"console/src/main/java/org/syncope/console/pages/ConnectorModalPage.java","status":"modified","additions":32,"deletions":10,"changes":42,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java?ref=ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368","patch":"@@ -48,6 +48,7 @@\n import org.syncope.console.rest.ConnectorRestClient;\n import org.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n import org.syncope.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n+import org.syncope.console.wicket.markup.html.form.AjaxPasswordFieldPanel;\n import org.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.syncope.console.wicket.markup.html.form.FieldPanel;\n import org.syncope.types.ConnConfPropSchema;\n@@ -61,6 +62,9 @@ public class ConnectorModalPage extends BaseModalPage {\n \n     private static final long serialVersionUID = -2025535531121434050L;\n \n+    private static final String GUARDED_STRING =\n+            \"org.identityconnectors.common.security.GuardedString\";\n+\n     @SpringBean\n     private ConnectorRestClient restClient;\n \n@@ -244,21 +248,39 @@ protected void populateItem(\n \n                         final Label label = new Label(\"connPropAttrSchema\",\n                                 property.getSchema().getDisplayName() == null\n-                                || property.getSchema().getDisplayName().isEmpty()\n+                                || property.getSchema().getDisplayName().\n+                                isEmpty()\n                                 ? property.getSchema().getName()\n                                 : property.getSchema().getDisplayName());\n \n                         item.add(label);\n \n-                        final FieldPanel field = new AjaxTextFieldPanel(\n-                                \"connPropAttrValue\",\n-                                label.getDefaultModelObjectAsString(),\n-                                new PropertyModel<String>(property, \"value\"),\n-                                true).setRequired(property.getSchema().\n-                                isRequired()).\n-                                setTitle(property.getSchema().getHelpMessage());\n-                        if (property.getSchema().isRequired()) {\n-                            field.addRequiredLabel();\n+                        final FieldPanel field;\n+\n+                        if (GUARDED_STRING.equals(\n+                                property.getSchema().getType())) {\n+\n+                            field = new AjaxPasswordFieldPanel(\n+                                    \"connPropAttrValue\",\n+                                    label.getDefaultModelObjectAsString(),\n+                                    new PropertyModel<String>(property,\n+                                    \"value\"), true).setRequired(\n+                                    property.getSchema().\n+                                    isRequired()).setTitle(property.getSchema().\n+                                    getHelpMessage());\n+                        } else {\n+\n+                            field = new AjaxTextFieldPanel(\n+                                    \"connPropAttrValue\",\n+                                    label.getDefaultModelObjectAsString(),\n+                                    new PropertyModel<String>(property,\n+                                    \"value\"), true).setRequired(\n+                                    property.getSchema().\n+                                    isRequired()).setTitle(property.getSchema().\n+                                    getHelpMessage());\n+                            if (property.getSchema().isRequired()) {\n+                                field.addRequiredLabel();\n+                            }\n                         }\n \n                         item.add(field);"},{"sha":"d3acd6ffd8924feba8bd14a1218b30133124d5cc","filename":"console/src/main/java/org/syncope/console/pages/ResourceModalPage.java","status":"modified","additions":10,"deletions":7,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java?ref=ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368","patch":"@@ -374,8 +374,7 @@ public CharSequence preDecorateScript(\n                                 sourceAttrNames);\n \n                         mappingTypesPanel.setRequired(true);\n-                        mappingTypesPanel.setChoices(sourceMappingTypes.\n-                                getObject());\n+                        mappingTypesPanel.setChoices(sourceMappingTypes.getObject());\n                         mappingTypesPanel.setStyleShet(\n                                 \"ui-widget-content ui-corner-all short_fixedsize\");\n                         item.add(mappingTypesPanel);\n@@ -703,12 +702,16 @@ protected void onUpdate(final AjaxRequestTarget target) {\n     }\n \n     public final void updateResourceSchemaNames(final ResourceTO resourceTO) {\n-        if (resourceTO != null && resourceTO.getConnectorId() != null) {\n-            resourceSchemaNames =\n-                    connectorRestClient.getSchemaNames(resourceTO);\n-        } else {\n+        try {\n+\n             resourceSchemaNames =\n-                    Collections.EMPTY_LIST;\n+                    (resourceTO != null && resourceTO.getConnectorId() != null)\n+                    ? connectorRestClient.getSchemaNames(resourceTO)\n+                    : Collections.EMPTY_LIST;\n+\n+        } catch (Exception e) {\n+            LOG.warn(\"Error retrieving resource schema names\", e);\n+            resourceSchemaNames = Collections.EMPTY_LIST;\n         }\n     }\n "},{"sha":"6e3f2f36a9c039d77493938da7e3bb5dd2ce7021","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/form/AjaxPasswordFieldPanel.java","status":"added","additions":63,"deletions":0,"changes":63,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxPasswordFieldPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxPasswordFieldPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxPasswordFieldPanel.java?ref=ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368","patch":"@@ -0,0 +1,63 @@\n+/*\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *  under the License.\n+ */\n+package org.syncope.console.wicket.markup.html.form;\n+\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n+import org.apache.wicket.markup.html.form.PasswordTextField;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.Model;\n+\n+public class AjaxPasswordFieldPanel extends FieldPanel<String> {\n+\n+    private static final long serialVersionUID = -5490115280336667460L;\n+\n+    public AjaxPasswordFieldPanel(\n+            final String id,\n+            final String name,\n+            final IModel<String> model,\n+            final boolean active) {\n+\n+        super(id, name, model, active);\n+\n+        field = new PasswordTextField(\"passwordField\", model);\n+\n+        add(field.setLabel(new Model(name)).setOutputMarkupId(true));\n+\n+        if (active) {\n+            field.add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n+\n+                private static final long serialVersionUID =\n+                        -1107858522700306810L;\n+\n+                @Override\n+                protected void onUpdate(final AjaxRequestTarget art) {\n+                    // nothing to do\n+                }\n+            });\n+        }\n+    }\n+\n+    @Override\n+    public FieldPanel addRequiredLabel() {\n+\n+        if (!isRequired()) {\n+            setRequired(true);\n+        }\n+\n+        this.isRequiredLabelAdded = true;\n+        return this;\n+    }\n+}"},{"sha":"23b9df36d7272e7862ec055e9e771d551f230a66","filename":"console/src/main/resources/org/syncope/console/wicket/markup/html/form/AjaxPasswordFieldPanel.html","status":"added","additions":21,"deletions":0,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxPasswordFieldPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxPasswordFieldPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxPasswordFieldPanel.html?ref=ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368","patch":"@@ -0,0 +1,21 @@\n+<!--\n+ Licensed under the Apache License, Version 2.0 (the \"License\");\n+ you may not use this file except in compliance with the License.\n+ You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+ Unless required by applicable law or agreed to in writing, software\n+ distributed under the License is distributed on an \"AS IS\" BASIS,\n+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ See the License for the specific language governing permissions and\n+ limitations under the License.\n+ under the License.\n+-->\n+<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n+    \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n+\n+<wicket:extend>\n+    <input type=\"password\" class=\"ui-widget-content ui-corner-all long_dynamicsize\"\n+           wicket:id=\"passwordField\" />\n+</wicket:extend>"}]}
{"sha":"822302c158dc907454835b54d69c811cfed3fdd0","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjgyMjMwMmMxNThkYzkwNzQ1NDgzNWI1NGQ2OWM4MTFjZmVkM2ZkZDA=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-12-30T14:28:15Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-12-30T14:28:15Z"},"message":"[SYNCOPE-465] Adding AjaxFormChoiceComponentUpdatingBehavior to CheckGroup\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/branches/1_1_X@1554232 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"21ec4b9165f990995f9977349a4dad21dcbbd0f5","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/21ec4b9165f990995f9977349a4dad21dcbbd0f5"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/822302c158dc907454835b54d69c811cfed3fdd0","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/822302c158dc907454835b54d69c811cfed3fdd0","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/822302c158dc907454835b54d69c811cfed3fdd0","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/822302c158dc907454835b54d69c811cfed3fdd0/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"5928330fcc0dccd287668ba4d611b5221657d68d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5928330fcc0dccd287668ba4d611b5221657d68d","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/5928330fcc0dccd287668ba4d611b5221657d68d"}],"stats":{"total":103,"additions":50,"deletions":53},"files":[{"sha":"b1ae9f62cb9a373b1e4a8b509d7f7e1867c04b8d","filename":"console/src/main/java/org/apache/syncope/console/pages/Resources.java","status":"modified","additions":37,"deletions":33,"changes":70,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/822302c158dc907454835b54d69c811cfed3fdd0/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/822302c158dc907454835b54d69c811cfed3fdd0/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.java?ref=822302c158dc907454835b54d69c811cfed3fdd0","patch":"@@ -153,53 +153,57 @@ public CharSequence getPrecondition(final Component component) {\n     private void setupResources() {\n         List<IColumn<ResourceTO, String>> columns = new ArrayList<IColumn<ResourceTO, String>>();\n \n-        columns.add(new PropertyColumn(new StringResourceModel(\"name\", this, null), \"name\", \"name\"));\n+        columns.add(new PropertyColumn<ResourceTO, String>(\n+                new StringResourceModel(\"name\", this, null), \"name\", \"name\"));\n \n         columns.add(new AbstractColumn<ResourceTO, String>(\n                 new StringResourceModel(\"connector\", this, null, \"connector\")) {\n \n-            private static final long serialVersionUID = 8263694778917279290L;\n+                    private static final long serialVersionUID = 8263694778917279290L;\n \n-            @Override\n-            public void populateItem(final Item<ICellPopulator<ResourceTO>> cellItem, final String componentId,\n-                    final IModel<ResourceTO> rowModel) {\n+                    @Override\n+                    public void populateItem(final Item<ICellPopulator<ResourceTO>> cellItem, final String componentId,\n+                            final IModel<ResourceTO> rowModel) {\n \n-                final AjaxLink<String> editLink = new ClearIndicatingAjaxLink<String>(\"link\", getPageReference()) {\n+                        final AjaxLink<String> editLink =\n+                        new ClearIndicatingAjaxLink<String>(\"link\", getPageReference()) {\n \n-                    private static final long serialVersionUID = -7978723352517770644L;\n+                            private static final long serialVersionUID = -7978723352517770644L;\n \n-                    @Override\n-                    protected void onClickInternal(final AjaxRequestTarget target) {\n+                            @Override\n+                            protected void onClickInternal(final AjaxRequestTarget target) {\n \n-                        editConnectorWin.setPageCreator(new ModalWindow.PageCreator() {\n+                                editConnectorWin.setPageCreator(new ModalWindow.PageCreator() {\n \n-                            private static final long serialVersionUID = -7834632442532690940L;\n+                                    private static final long serialVersionUID = -7834632442532690940L;\n \n-                            @Override\n-                            public Page createPage() {\n-                                return new ConnectorModalPage(Resources.this.getPageReference(), editConnectorWin,\n-                                        connectorRestClient.read(rowModel.getObject().getConnectorId()));\n-                            }\n-                        });\n+                                    @Override\n+                                    public Page createPage() {\n+                                        return new ConnectorModalPage(Resources.this.getPageReference(),\n+                                                editConnectorWin,\n+                                                connectorRestClient.read(rowModel.getObject().getConnectorId()));\n+                                    }\n+                                });\n \n-                        editConnectorWin.show(target);\n-                    }\n-                };\n-                editLink.add(new Label(\"linkTitle\", rowModel.getObject().getConnectorDisplayName()));\n+                                editConnectorWin.show(target);\n+                            }\n+                        };\n+                        editLink.add(new Label(\"linkTitle\", rowModel.getObject().getConnectorDisplayName()));\n \n-                LinkPanel editConnPanel = new LinkPanel(componentId);\n-                editConnPanel.add(editLink);\n+                        LinkPanel editConnPanel = new LinkPanel(componentId);\n+                        editConnPanel.add(editLink);\n \n-                cellItem.add(editConnPanel);\n+                        cellItem.add(editConnPanel);\n \n-                MetaDataRoleAuthorizationStrategy.authorize(editConnPanel, ENABLE, xmlRolesReader.getAllAllowedRoles(\n-                        \"Connectors\", \"read\"));\n-            }\n-        });\n+                        MetaDataRoleAuthorizationStrategy.authorize(editConnPanel, ENABLE, xmlRolesReader.\n+                                getAllAllowedRoles(\n+                                        \"Connectors\", \"read\"));\n+                    }\n+                });\n \n-        columns.add(new PropertyColumn(new StringResourceModel(\n+        columns.add(new PropertyColumn<ResourceTO, String>(new StringResourceModel(\n                 \"propagationPrimary\", this, null), \"propagationPrimary\", \"propagationPrimary\"));\n-        columns.add(new PropertyColumn(new StringResourceModel(\n+        columns.add(new PropertyColumn<ResourceTO, String>(new StringResourceModel(\n                 \"propagationPriority\", this, null), \"propagationPriority\", \"propagationPriority\"));\n \n         columns.add(new AbstractColumn<ResourceTO, String>(new StringResourceModel(\"actions\", this, null, \"\")) {\n@@ -271,7 +275,7 @@ public void onClick(final AjaxRequestTarget target) {\n                 columns,\n                 (ISortableDataProvider<ResourceTO, String>) new ResourcesProvider(),\n                 resourcePaginatorRows,\n-                Arrays.asList(new ActionLink.ActionType[] {ActionLink.ActionType.DELETE}),\n+                Arrays.asList(new ActionLink.ActionType[] { ActionLink.ActionType.DELETE }),\n                 resourceRestClient,\n                 \"name\",\n                 \"Resources\",\n@@ -426,7 +430,7 @@ public void onClick(final AjaxRequestTarget target) {\n                 columns,\n                 (ISortableDataProvider<ConnInstanceTO, String>) new ConnectorsProvider(),\n                 connectorPaginatorRows,\n-                Arrays.asList(new ActionLink.ActionType[] {ActionLink.ActionType.DELETE}),\n+                Arrays.asList(new ActionLink.ActionType[] { ActionLink.ActionType.DELETE }),\n                 connectorRestClient,\n                 \"id\",\n                 \"Connectors\",\n@@ -603,4 +607,4 @@ public void onEvent(final IEvent<?> event) {\n             ((AbstractSearchResultPanel.EventDataWrapper) event.getPayload()).getTarget().add(connectorContainer);\n         }\n     }\n-}\n\\ No newline at end of file\n+}"},{"sha":"aea309426f35f92e14434ccc5f753710c8e2c9bc","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/AjaxDataTablePanel.java","status":"modified","additions":13,"deletions":20,"changes":33,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/822302c158dc907454835b54d69c811cfed3fdd0/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAjaxDataTablePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/822302c158dc907454835b54d69c811cfed3fdd0/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAjaxDataTablePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAjaxDataTablePanel.java?ref=822302c158dc907454835b54d69c811cfed3fdd0","patch":"@@ -32,6 +32,7 @@\n import org.apache.wicket.Page;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.form.AjaxFormChoiceComponentUpdatingBehavior;\n import org.apache.wicket.event.Broadcast;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n@@ -46,36 +47,19 @@\n \n public class AjaxDataTablePanel<T, S> extends Panel {\n \n+    private static final long serialVersionUID = -8826989026203543957L;\n+\n     /**\n      * Logger.\n      */\n-    protected static final Logger LOG = LoggerFactory.getLogger(AjaxDataTablePanel.class);\n-\n-    private static final long serialVersionUID = -8826989026203543957L;\n+    private static final Logger LOG = LoggerFactory.getLogger(AjaxDataTablePanel.class);\n \n     private final CheckGroup<T> group;\n \n     private final Form bulkActionForm;\n \n     private final AjaxFallbackDefaultDataTable<T, S> dataTable;\n \n-    public AjaxDataTablePanel(\n-            final String id,\n-            final List<IColumn<T, S>> columns,\n-            final ISortableDataProvider<T, S> dataProvider,\n-            final int rowsPerPage) {\n-        super(id);\n-\n-        this.bulkActionForm = null;\n-        this.group = null;\n-        dataTable = new AjaxFallbackDefaultDataTable<T, S>(\"dataTable\", columns, dataProvider, rowsPerPage);\n-\n-        Fragment fragment = new Fragment(\"tablePanel\", \"bulkNotAvailable\", this);\n-        fragment.add(dataTable);\n-\n-        add(fragment);\n-    }\n-\n     public AjaxDataTablePanel(\n             final String id,\n             final List<IColumn<T, S>> columns,\n@@ -128,6 +112,15 @@ public void onClose(final AjaxRequestTarget target) {\n         fragment.add(bulkActionForm);\n \n         group = new CheckGroup<T>(\"checkgroup\", new ArrayList<T>());\n+        group.add(new AjaxFormChoiceComponentUpdatingBehavior() {\n+\n+            private static final long serialVersionUID = -151291731388673682L;\n+\n+            @Override\n+            protected void onUpdate(final AjaxRequestTarget target) {\n+            }\n+\n+        });\n         bulkActionForm.add(group);\n \n         columns.add(0, new CheckGroupColumn<T, S>(group));"}]}
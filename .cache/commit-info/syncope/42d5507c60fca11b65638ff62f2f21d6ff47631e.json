{"sha":"42d5507c60fca11b65638ff62f2f21d6ff47631e","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjQyZDU1MDdjNjBmY2ExMWI2NTYzOGZmNjJmMmYyMWQ2ZmY0NzYzMWU=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-04-05T10:18:07Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-04-05T10:18:07Z"},"message":"Fixing LICENSE and NOTICE issues with javadocs and GPG missing signature in standalone\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/branches/1_1_X@1464907 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"59fa44edba3888f4ef506861fd04a0edfbd8ac1b","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/59fa44edba3888f4ef506861fd04a0edfbd8ac1b"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/42d5507c60fca11b65638ff62f2f21d6ff47631e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/42d5507c60fca11b65638ff62f2f21d6ff47631e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/42d5507c60fca11b65638ff62f2f21d6ff47631e","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/42d5507c60fca11b65638ff62f2f21d6ff47631e/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"b970d1fe0f9c81224abadde872c2394a41844a43","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b970d1fe0f9c81224abadde872c2394a41844a43","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/b970d1fe0f9c81224abadde872c2394a41844a43"}],"stats":{"total":87,"additions":39,"deletions":48},"files":[{"sha":"720e0b37cbb12aafed6c1009e92fe9b576d9ea51","filename":"build-tools/pom.xml","status":"modified","additions":0,"deletions":10,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/42d5507c60fca11b65638ff62f2f21d6ff47631e/build-tools%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/42d5507c60fca11b65638ff62f2f21d6ff47631e/build-tools%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/build-tools%2Fpom.xml?ref=42d5507c60fca11b65638ff62f2f21d6ff47631e","patch":"@@ -133,16 +133,6 @@ under the License.\n           <archive>\n             <manifestFile>${project.build.outputDirectory}/META-INF/MANIFEST.MF</manifestFile>\n           </archive>\n-          <webResources>\n-            <webResource>\n-              <directory>${basedir}/src/main/webapp/WEB-INF</directory>\n-              <includes>\n-                <include>web.xml</include>\n-              </includes>\n-              <targetPath>WEB-INF</targetPath>\n-              <filtering>true</filtering>\n-            </webResource>\n-          </webResources>\n         </configuration>\n       </plugin>\n "},{"sha":"bda7c1ae34b0d0c12e5608e01803f3890e953106","filename":"pom.xml","status":"modified","additions":16,"deletions":16,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/42d5507c60fca11b65638ff62f2f21d6ff47631e/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/42d5507c60fca11b65638ff62f2f21d6ff47631e/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=42d5507c60fca11b65638ff62f2f21d6ff47631e","patch":"@@ -916,6 +916,7 @@ under the License.\n                 <directory>src/main/webapp</directory>\n                 <includes>\n                   <include>**/*.jsp</include>\n+                  <include>WEB-INF/web.xml</include>\n                 </includes>\n                 <filtering>true</filtering>\n               </resource>\n@@ -1191,23 +1192,26 @@ under the License.\n       <!-- Put NOTICE and LICENSE files in all javadoc artifacts -->\n       <plugin>\n         <groupId>org.apache.maven.plugins</groupId>\n-        <artifactId>maven-antrun-plugin</artifactId>\n+        <artifactId>maven-resources-plugin</artifactId>\n+        <version>2.6</version>\n         <executions>\n           <execution>\n+            <id>copy-javadoc-legal-files</id>\n+            <phase>process-resources</phase>\n             <goals>\n-              <goal>run</goal>\n+              <goal>copy-resources</goal>\n             </goals>\n-            <phase>process-resources</phase>\n             <configuration>\n-              <target name=\"copy-javadoc-files\" description=\"Copy NOTICE/LICENSE files for javadoc jars\">\n-                <mkdir dir=\"${project.build.directory}/apidocs/META-INF\" />\n-                <copy todir=\"${project.build.directory}/apidocs/META-INF\">\n-                  <fileset dir=\"..\">\n-                    <include name=\"NOTICE\" />\n-                    <include name=\"LICENSE\" />\n-                  </fileset>\n-                </copy>\n-              </target>\n+              <outputDirectory>${project.build.directory}/apidocs/META-INF</outputDirectory>\n+              <resources>\n+                <resource>\n+                  <directory>..</directory>\n+                  <includes>\n+                    <include>LICENSE</include>\n+                    <include>NOTICE</include>\n+                  </includes>\n+                </resource>\n+              </resources>\n             </configuration>\n           </execution>\n         </executions>\n@@ -1222,10 +1226,6 @@ under the License.\n               <goal>verify-legal-files</goal>\n             </goals>\n             <configuration>\n-              <requiredFiles>\n-                <requiredFile>LICENSE</requiredFile>\n-                <requiredFile>NOTICE</requiredFile>\n-              </requiredFiles>\n               <!-- Fail the build if any artifacts are missing legal files -->\n               <strict>true</strict>\n             </configuration>"},{"sha":"022a3dfc3856319f44d8142061acb49ef243a553","filename":"standalone/pom.xml","status":"modified","additions":22,"deletions":21,"changes":43,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/42d5507c60fca11b65638ff62f2f21d6ff47631e/standalone%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/42d5507c60fca11b65638ff62f2f21d6ff47631e/standalone%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/standalone%2Fpom.xml?ref=42d5507c60fca11b65638ff62f2f21d6ff47631e","patch":"@@ -90,55 +90,56 @@ under the License.\n             <phase>verify</phase>\n             <configuration>\n               <target>\n-                <mkdir dir=\"${work.dir}\" />\n+                <mkdir dir=\"${work.dir}\"/>\n                 \n                 <!-- legal stuff -->\n-                <copy file=\"${project.build.outputDirectory}/README\" todir=\"${work.dir}\" />\n-                <copy file=\"../legal_ext/LICENSE\" todir=\"${work.dir}\" />\n-                <copy file=\"../legal_ext/NOTICE\" todir=\"${work.dir}\" />\n+                <copy file=\"${project.build.outputDirectory}/README\" todir=\"${work.dir}\"/>\n+                <copy file=\"../legal_ext/LICENSE\" todir=\"${work.dir}\"/>\n+                <copy file=\"../legal_ext/NOTICE\" todir=\"${work.dir}\"/>\n \n                 <!-- Syncope core (as run for integration tests) -->\n-                <unzip src=\"${settings.localRepository}/org/codehaus/cargo/cargo-container-archives/apache-tomcat-${tomcat.version}.zip\" dest=\"${work.dir}\" />\n+                <unzip src=\"${settings.localRepository}/org/codehaus/cargo/cargo-container-archives/apache-tomcat-${tomcat.version}.zip\" dest=\"${work.dir}\"/>\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope\">\n-                  <fileset dir=\"../core/target/syncope-core-test\" includes=\"**/*\" />\n+                  <fileset dir=\"../core/target/syncope-core-test\" includes=\"**/*\"/>\n                 </copy>\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope/WEB-INF/classes\" overwrite=\"true\">\n-                  <fileset dir=\"${project.build.outputDirectory}/core\" />\n+                  <fileset dir=\"${project.build.outputDirectory}/core\"/>\n                 </copy>\n                 \n                 <!-- Syncope console (exploded) -->\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-console\">\n-                  <fileset dir=\"../console/target/syncope-console\" includes=\"**/*\" />\n+                  <fileset dir=\"../console/target/syncope-console\" includes=\"**/*\"/>\n                 </copy>\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-console/WEB-INF/classes\" overwrite=\"true\">\n-                  <fileset dir=\"${project.build.outputDirectory}/console\" />\n+                  <fileset dir=\"${project.build.outputDirectory}/console\"/>\n                 </copy>\n                                 \n                 <!-- ConnId's SOAP wssample (provides endpoint for SOAP resources) -->\n-                <copy file=\"${settings.localRepository}/org/connid/bundles/soap/wssample/${connid.soap.version}/wssample-${connid.soap.version}.war\" tofile=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/wssample.war\" />\n+                <copy file=\"${settings.localRepository}/org/connid/bundles/soap/wssample/${connid.soap.version}/wssample-${connid.soap.version}.war\" tofile=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/wssample.war\"/>\n \n                 <!-- Syncope build tools (provide H2 and Apache DS resources + ConnId connector server) -->\n-                <unzip src=\"../build-tools/target/syncope-build-tools-${project.version}.war\" dest=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\" />\n+                <unzip src=\"../build-tools/target/syncope-build-tools-${project.version}.war\" dest=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\"/>\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools/WEB-INF/lib\">\n-                  <fileset dir=\"../core/target/bundles\" includes=\"**/*\" />\n+                  <fileset dir=\"../core/target/bundles\" includes=\"**/*\"/>\n                 </copy>\n-                <zip destfile=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools.war\" basedir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\" />\n-                <delete dir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\" />                  \n+                <zip destfile=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools.war\" basedir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\"/>\n+                <delete dir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\"/>                  \n \n                 <!-- Tomcat shared libraries: H2 and groovy -->\n-                <copy file=\"${settings.localRepository}/com/h2database/h2/${h2.version}/h2-${h2.version}.jar\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/lib\" />\n-                <copy file=\"${settings.localRepository}/org/codehaus/groovy/groovy-all/${groovy.version}/groovy-all-${groovy.version}.jar\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/lib\" />\n+                <copy file=\"${settings.localRepository}/com/h2database/h2/${h2.version}/h2-${h2.version}.jar\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/lib\"/>\n+                <copy file=\"${settings.localRepository}/org/codehaus/groovy/groovy-all/${groovy.version}/groovy-all-${groovy.version}.jar\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/lib\"/>\n                 \n                 <!-- Other custom Tomcat resources -->\n-                <copy file=\"../core/target/test-classes/context.xml\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/conf\" overwrite=\"true\" />\n-                <copy file=\"src/main/resources/setenv.sh\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/bin\" />\n-                <copy file=\"src/main/resources/setenv.bat\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/bin\" />\n-                <replace file=\"${work.dir}/apache-tomcat-${tomcat.version}/conf/server.xml\" token=\"8080\" value=\"${cargo.servlet.port}\" />\n+                <copy file=\"../core/target/test-classes/context.xml\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/conf\" overwrite=\"true\"/>\n+                <copy file=\"src/main/resources/setenv.sh\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/bin\"/>\n+                <copy file=\"src/main/resources/setenv.bat\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/bin\"/>\n+                <replace file=\"${work.dir}/apache-tomcat-${tomcat.version}/conf/server.xml\" token=\"8080\" value=\"${cargo.servlet.port}\"/>\n               </target>\n             </configuration>\n           </execution>\n         </executions>\n       </plugin>\n+      \n       <plugin>\n         <groupId>org.apache.maven.plugins</groupId>\n         <artifactId>maven-assembly-plugin</artifactId>\n@@ -150,7 +151,7 @@ under the License.\n         <executions>\n           <execution>\n             <id>make-standalone-zip</id>\n-            <phase>install</phase>\n+            <phase>verify</phase>\n             <goals>\n               <goal>single</goal>\n             </goals>"},{"sha":"aee49efcbb542dccbeeec0f178bbf1948c6e90b9","filename":"standalone/src/assemble/standalone-zip.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/42d5507c60fca11b65638ff62f2f21d6ff47631e/standalone%2Fsrc%2Fassemble%2Fstandalone-zip.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/42d5507c60fca11b65638ff62f2f21d6ff47631e/standalone%2Fsrc%2Fassemble%2Fstandalone-zip.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/standalone%2Fsrc%2Fassemble%2Fstandalone-zip.xml?ref=42d5507c60fca11b65638ff62f2f21d6ff47631e","patch":"@@ -30,7 +30,7 @@ under the License.\n   <fileSets>\n     <fileSet>\n       <directory>${work.dir}</directory>\n-      <outputDirectory>apache-syncope-standalone-${project.version}</outputDirectory>\n+      <outputDirectory>${project.build.finalName}</outputDirectory>\n     </fileSet>\n   </fileSets>\n </assembly>"}]}
{"sha":"2fb13a27fbd2c716c583458ca19168820022bdb8","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjJmYjEzYTI3ZmJkMmM3MTZjNTgzNDU4Y2ExOTE2ODgyMDAyMmJkYjg=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2017-02-23T16:06:04Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2017-02-23T16:06:20Z"},"message":"[SYNCOPE-1025] Log level for the domain logger was not set to DEBUG, as instead expected","tree":{"sha":"60865611ab5ab989d87c24f5862d09d5c5f21a04","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/60865611ab5ab989d87c24f5862d09d5c5f21a04"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/2fb13a27fbd2c716c583458ca19168820022bdb8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/2fb13a27fbd2c716c583458ca19168820022bdb8","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/2fb13a27fbd2c716c583458ca19168820022bdb8","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/2fb13a27fbd2c716c583458ca19168820022bdb8/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"32824d48c56affa6cd8863ad578ed907f6c55572","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/32824d48c56affa6cd8863ad578ed907f6c55572","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/32824d48c56affa6cd8863ad578ed907f6c55572"}],"stats":{"total":39,"additions":31,"deletions":8},"files":[{"sha":"60d02eb80103cf80894f06da25878fd4ba3f0a36","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/init/LoggerLoader.java","status":"modified","additions":5,"deletions":4,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/2fb13a27fbd2c716c583458ca19168820022bdb8/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Finit%2FLoggerLoader.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/2fb13a27fbd2c716c583458ca19168820022bdb8/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Finit%2FLoggerLoader.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Finit%2FLoggerLoader.java?ref=2fb13a27fbd2c716c583458ca19168820022bdb8","patch":"@@ -71,13 +71,13 @@ public void load() {\n         ColumnConfig[] columnConfigs = {\n             ColumnConfig.newBuilder().\n             setConfiguration(ctx.getConfiguration()).setName(\"EVENT_DATE\").setEventTimestamp(true).build(),\n-            ColumnConfig.newBuilder().\n+            ColumnConfig.newBuilder().setUnicode(false).\n             setConfiguration(ctx.getConfiguration()).setName(\"LOGGER_LEVEL\").setPattern(\"%level\").build(),\n-            ColumnConfig.newBuilder().\n+            ColumnConfig.newBuilder().setUnicode(false).\n             setConfiguration(ctx.getConfiguration()).setName(\"LOGGER\").setPattern(\"%logger\").build(),\n-            ColumnConfig.newBuilder().\n+            ColumnConfig.newBuilder().setUnicode(false).\n             setConfiguration(ctx.getConfiguration()).setName(\"MESSAGE\").setPattern(\"%message\").build(),\n-            ColumnConfig.newBuilder().\n+            ColumnConfig.newBuilder().setUnicode(false).\n             setConfiguration(ctx.getConfiguration()).setName(\"THROWABLE\").setPattern(\"%ex{full}\").build()\n         };\n         ColumnMapping[] columnMappings = new ColumnMapping[0];\n@@ -100,6 +100,7 @@ public void load() {\n             LoggerConfig logConf = new LoggerConfig(\n                     AuditManagerImpl.getDomainAuditLoggerName(entry.getKey()), null, false);\n             logConf.addAppender(appender, Level.DEBUG, null);\n+            logConf.setLevel(Level.DEBUG);\n             ctx.getConfiguration().addLogger(AuditManagerImpl.getDomainAuditLoggerName(entry.getKey()), logConf);\n \n             AuthContextUtils.execWithAuthContext(entry.getKey(), new AuthContextUtils.Executable<Void>() {"},{"sha":"8d56f53e73929c9592721b4c0ef477ee5f4688a6","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/AuditEntry.java","status":"modified","additions":26,"deletions":4,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/2fb13a27fbd2c716c583458ca19168820022bdb8/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FAuditEntry.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/2fb13a27fbd2c716c583458ca19168820022bdb8/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FAuditEntry.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FAuditEntry.java?ref=2fb13a27fbd2c716c583458ca19168820022bdb8","patch":"@@ -20,7 +20,10 @@\n \n import com.fasterxml.jackson.annotation.JsonCreator;\n import com.fasterxml.jackson.annotation.JsonProperty;\n+import org.apache.commons.lang3.ArrayUtils;\n+import org.apache.commons.lang3.SerializationUtils;\n import org.apache.syncope.common.lib.AbstractBaseBean;\n+import org.apache.syncope.common.lib.to.UserTO;\n import org.apache.syncope.common.lib.types.AuditLoggerName;\n \n public class AuditEntry extends AbstractBaseBean {\n@@ -46,12 +49,31 @@ public AuditEntry(\n             @JsonProperty(\"input\") final Object[] input) {\n \n         super();\n-        \n+\n         this.who = who;\n         this.logger = logger;\n-        this.before = before;\n-        this.output = output;\n-        this.input = input;\n+        this.before = filterUserPassword(before);\n+        this.output = filterUserPassword(output);\n+        this.input = ArrayUtils.clone(input);\n+        if (this.input != null) {\n+            for (int i = 0; i < this.input.length; i++) {\n+                this.input[i] = filterUserPassword(this.input[i]);\n+            }\n+        }\n+    }\n+\n+    private Object filterUserPassword(final Object object) {\n+        Object filtered;\n+\n+        if (object instanceof UserTO) {\n+            UserTO user = SerializationUtils.clone((UserTO) object);\n+            user.setPassword(null);\n+            filtered = user;\n+        } else {\n+            filtered = object;\n+        }\n+\n+        return filtered;\n     }\n \n     public String getWho() {"}]}
{"sha":"4371ae7874de87781ef180df9c310e38c95a46db","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjQzNzFhZTc4NzRkZTg3NzgxZWYxODBkZjljMzEwZTM4Yzk1YTQ2ZGI=","commit":{"author":{"name":"Matteo Di Carlo","email":"matteo.dicarlo@tirasa.net","date":"2016-09-27T13:27:29Z"},"committer":{"name":"Francesco ChicchiriccÃ²","email":"ilgrosso@apache.org","date":"2016-09-27T13:35:29Z"},"message":"[SYNCOPE-973] updates tests","tree":{"sha":"385dc263204b2d8169cf114905b4048515b55d2b","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/385dc263204b2d8169cf114905b4048515b55d2b"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/4371ae7874de87781ef180df9c310e38c95a46db","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/4371ae7874de87781ef180df9c310e38c95a46db","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/4371ae7874de87781ef180df9c310e38c95a46db","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/4371ae7874de87781ef180df9c310e38c95a46db/comments","author":null,"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"f8c0d716220eb01b08f56c3277bc60f34b51f9a2","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f8c0d716220eb01b08f56c3277bc60f34b51f9a2","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f8c0d716220eb01b08f56c3277bc60f34b51f9a2"}],"stats":{"total":87,"additions":62,"deletions":25},"files":[{"sha":"47abae50a94678888a24128f20dfba56a1cc8f08","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/passwordreset.html","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4371ae7874de87781ef180df9c310e38c95a46db/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fpasswordreset.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4371ae7874de87781ef180df9c310e38c95a46db/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fpasswordreset.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fpasswordreset.html?ref=4371ae7874de87781ef180df9c310e38c95a46db","patch":"@@ -52,9 +52,9 @@\n                      disabled=\"disabled\">              \n             </div>\n             <div id=\"attribute\" class=\"form-group\" ng-show=\"$root.pwdResetRequiringSecurityQuestions\">\n-              <label for=\"user.securityanswer\">{{'SECURITYANSWER'| translate}}</label>\n-              <input name=\"securityanswer\" type=\"text\" class=\"form-control\" ng-model=\"user.securityanswer\" \n-                     placeholder=\"Security Answer\" >              \n+              <label for=\"user.securityAnswer\">{{'SECURITYANSWER'| translate}}</label>\n+              <input name=\"securityAnswer\" type=\"text\" class=\"form-control\" ng-model=\"user.securityAnswer\" \n+                     placeholder=\"Security Answer\" id=\"securityAnswer\">              \n             </div>\n             <div id=\"attribute\" class=\"form-group row\">\n               <!--captcha-->"},{"sha":"912d2e1a367aa60931f4116569c3a4d6678fd7b9","filename":"fit/enduser-reference/src/test/resources/org/apache/syncope/client/enduser/protractor/.LCKprotractor-conf.js~","status":"removed","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f8c0d716220eb01b08f56c3277bc60f34b51f9a2/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2F.LCKprotractor-conf.js%7E","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f8c0d716220eb01b08f56c3277bc60f34b51f9a2/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2F.LCKprotractor-conf.js%7E","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2F.LCKprotractor-conf.js%7E?ref=f8c0d716220eb01b08f56c3277bc60f34b51f9a2","patch":"@@ -1 +0,0 @@\n-/home/matt3o/WORKINGDIR/SYNCOPE/Syncope_Source/syncope/fit/enduser-reference/src/test/resources/org/apache/syncope/client/enduser/protractor/protractor-conf.js\n\\ No newline at end of file"},{"sha":"52674c75206d2f06e94fad452df7a22e59bbdd78","filename":"fit/enduser-reference/src/test/resources/org/apache/syncope/client/enduser/protractor/tests/create.js","status":"modified","additions":22,"deletions":6,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4371ae7874de87781ef180df9c310e38c95a46db/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fcreate.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4371ae7874de87781ef180df9c310e38c95a46db/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fcreate.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fcreate.js?ref=4371ae7874de87781ef180df9c310e38c95a46db","patch":"@@ -20,33 +20,49 @@\n var abstract = require('./abstract.js');\n \n describe('syncope enduser user create', function () {\n-\n   it('should create user donizetti', function () {\n-    console.log(\"create user test\");\n+    console.log(\"\");\n+    console.log(\"user create\");\n     abstract.goHome();\n-\n+    abstract.waitSpinner();\n+    browser.wait(element(by.id('register')).isPresent());\n     element(by.id('register')).click();\n+\n+    browser.wait(element(by.id('user.username')).isPresent());\n     element(by.model('user.username')).sendKeys('donizetti');\n     element(by.model('user.password')).sendKeys('password123');\n     element(by.model('confirmPassword.value')).sendKeys('password123');\n \n     element(by.cssContainingText('option', 'What\\'s your mother\\'s maiden name?')).click();\n \n     browser.wait(element(by.id('user.securityAnswer')).isPresent());\n-    element(by.model('user.securityAnswer')).sendKeys('Agata Ferlito');\n-\n+    element(by.model('user.securityAnswer')).sendKeys('Domenica Oliva Nava');\n     element.all(by.id('next')).first().click();\n+\n+    //groups\n+    var group = element(by.model('dynamicForm.selectedGroups'));\n+    var selectedGroup = group.element(by.css('.ui-select-search'));\n+    group.click();\n+    //adds group root\n+    selectedGroup.sendKeys('root');\n+    element.all(by.css('.ui-select-choices-row-inner span')).first().click();\n+    abstract.waitSpinner();\n     element.all(by.id('next')).first().click();\n \n+    //plainSchemas\n     element.all(by.name('fullname')).first().sendKeys('Gaetano Donizetti');\n     element.all(by.name('userId')).first().sendKeys('donizetti@apache.org');\n     element.all(by.name('firstname')).first().sendKeys('Gaetano');\n     element.all(by.name('surname')).first().sendKeys('Donizetti');\n-\n     element.all(by.id('next')).first().click();\n+\n+    //derivedSchemas\n     element.all(by.id('next')).first().click();\n+\n+    //virtualSchemas\n     element.all(by.id('next')).first().click();\n     element.all(by.id('next')).first().click();\n+\n     element.all(by.id('save')).last().click();\n   });\n });\n\\ No newline at end of file"},{"sha":"189dc0d35ac8af8fef97344dab7602b16c32a4c3","filename":"fit/enduser-reference/src/test/resources/org/apache/syncope/client/enduser/protractor/tests/edituser.js","status":"modified","additions":11,"deletions":6,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4371ae7874de87781ef180df9c310e38c95a46db/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fedituser.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4371ae7874de87781ef180df9c310e38c95a46db/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fedituser.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fedituser.js?ref=4371ae7874de87781ef180df9c310e38c95a46db","patch":"@@ -16,11 +16,13 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n+\n var abstract = require('./abstract.js');\n describe('syncope enduser user edit', function () {\n   it('should edit user', function () {\n \n-    console.log(\"user edit test\");\n+    console.log(\"\");\n+    console.log(\"user edit\");\n     abstract.goHome();\n \n     //login\n@@ -36,11 +38,12 @@ describe('syncope enduser user edit', function () {\n     element(by.id('login-btn')).click();\n \n     //credential\n+    browser.wait(element(by.id('user.username')).isPresent());\n     element(by.model('user.username')).clear();\n     element(by.model('user.username')).sendKeys('bellini');\n     element(by.model('user.password')).clear();\n-    element(by.model('user.password')).sendKeys('password');\n-    element(by.model('confirmPassword.value')).sendKeys('password');\n+    element(by.model('user.password')).sendKeys('Password123');\n+    element(by.model('confirmPassword.value')).sendKeys('Password123');\n     var secQuestion = element(by.model('user.securityQuestion'));\n     var selectedSecQuestion = secQuestion.all(by.options\n             ('securityQuestion.key as securityQuestion.content for securityQuestion in availableSecurityQuestions'))\n@@ -53,8 +56,8 @@ describe('syncope enduser user edit', function () {\n     var group = element(by.model('dynamicForm.selectedGroups'));\n     var selectedGroup = group.element(by.css('.ui-select-search'));\n     group.click();\n-    //adds group root\n \n+    //adds group root\n     selectedGroup.sendKeys('root');\n     element.all(by.css('.ui-select-choices-row-inner span')).first().click();\n     abstract.waitSpinner();\n@@ -75,19 +78,21 @@ describe('syncope enduser user edit', function () {\n     selectedDate.sendKeys('2009-06-21');\n     element(by.css('[name=\"firstname\"]')).clear();\n     element(by.css('[name=\"firstname\"]')).sendKeys('Vincenzo');\n-    element(by.css('[name=\"surname\"]')).clear();\n-    element(by.css('[name=\"surname\"]')).sendKeys('Bellini');\n     element(by.css('[name=\"ctype\"]')).clear();\n     element(by.css('[name=\"ctype\"]')).sendKeys('bellinictype');\n \n     abstract.doNext();\n+\n     //derSchemas\n     abstract.doNext();\n     //virSchemas\n     abstract.doNext();\n     //Resources\n     abstract.doNext();\n     //Captcha\n+    abstract.waitSpinner();\n     element.all(by.id('save')).last().click();\n+    abstract.waitSpinner();\n   });\n });\n+"},{"sha":"0ceaf024527488e8d296d464b83df4e8033bd090","filename":"fit/enduser-reference/src/test/resources/org/apache/syncope/client/enduser/protractor/tests/passwordreset.js","status":"modified","additions":26,"deletions":9,"changes":35,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4371ae7874de87781ef180df9c310e38c95a46db/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fpasswordreset.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4371ae7874de87781ef180df9c310e38c95a46db/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fpasswordreset.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fpasswordreset.js?ref=4371ae7874de87781ef180df9c310e38c95a46db","patch":"@@ -17,21 +17,38 @@\n  * under the License.\n  */\n \n-\n var abstract = require('./abstract.js');\n \n-describe('syncope enduser user reset password', function () {\n-\n-  it('should reset password for user bellini', function () {\n-    console.log(\"password reset test\");\n+describe('syncope enduser user password reset ', function () {\n+  it('should reset password for user donizetti', function () {\n+    console.log(\"\");\n+    console.log(\"user password reset\");\n     abstract.goHome();\n-    browser.wait(element(by.id('passwordreset')).isPresent());\n+\n+    abstract.waitSpinner();\n     element(by.id('passwordreset')).click();\n+    abstract.waitSpinner();\n \n-    element(by.model('user.username')).sendKeys('donizetti');\n+    var user = element(by.model('user.username'));\n+    user.click();\n+    user.sendKeys('donizetti');\n+    user.click();\n     element(by.model('user.username')).sendKeys(protractor.Key.TAB);\n \n-    browser.wait(element(by.id('user.securityanswer')).isPresent());\n-    element(by.model('user.securityanswer')).sendKeys('Agata Ferlito');\n+    var secQuest = element(by.model('userSecurityQuestion'));\n+    expect(secQuest.isEnabled()).toBe(false);\n+    expect(element(by.model('userSecurityQuestion')).getAttribute('value')).toEqual('What\\'s your mother\\'s maiden name?');\n+    abstract.waitSpinner();\n+\n+    var secAns = element(by.model('user.securityAnswer'));\n+    var EC = protractor.ExpectedConditions;\n+    browser.wait(EC.presenceOf(secAns), 5000).then(function () {\n+      secAns.click();\n+      secAns.sendKeys('Domenica Oliva Nava');\n+    }, function (error) {\n+      expect(true).toBe(false);\n+    });\n+\n+    element.all(by.id('resetpassword')).last().click();\n   });\n });\n\\ No newline at end of file"}]}
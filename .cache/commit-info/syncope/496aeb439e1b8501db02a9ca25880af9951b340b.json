{"sha":"496aeb439e1b8501db02a9ca25880af9951b340b","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjQ5NmFlYjQzOWUxYjg1MDFkYjAyYTljYTI1ODgwYWY5OTUxYjM0MGI=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2017-12-20T16:04:45Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2017-12-20T16:04:45Z"},"message":"Upgrading Elasticsearch","tree":{"sha":"1de0664353b4db20dd56417cdb3ba3f2036da18c","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/1de0664353b4db20dd56417cdb3ba3f2036da18c"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/496aeb439e1b8501db02a9ca25880af9951b340b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/496aeb439e1b8501db02a9ca25880af9951b340b","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/496aeb439e1b8501db02a9ca25880af9951b340b","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/496aeb439e1b8501db02a9ca25880af9951b340b/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"65f19aaf58fac746ed43ae16af7e9a33a1f10c02","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/65f19aaf58fac746ed43ae16af7e9a33a1f10c02","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/65f19aaf58fac746ed43ae16af7e9a33a1f10c02"}],"stats":{"total":15,"additions":10,"deletions":5},"files":[{"sha":"0d78f7d5cb2d4640caeeceb00392096f93c451ba","filename":"ext/elasticsearch/client-elasticsearch/src/main/java/org/apache/syncope/ext/elasticsearch/client/ElasticsearchClientFactoryBean.java","status":"modified","additions":8,"deletions":3,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/496aeb439e1b8501db02a9ca25880af9951b340b/ext%2Felasticsearch%2Fclient-elasticsearch%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fext%2Felasticsearch%2Fclient%2FElasticsearchClientFactoryBean.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/496aeb439e1b8501db02a9ca25880af9951b340b/ext%2Felasticsearch%2Fclient-elasticsearch%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fext%2Felasticsearch%2Fclient%2FElasticsearchClientFactoryBean.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Felasticsearch%2Fclient-elasticsearch%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fext%2Felasticsearch%2Fclient%2FElasticsearchClientFactoryBean.java?ref=496aeb439e1b8501db02a9ca25880af9951b340b","patch":"@@ -32,13 +32,13 @@\n  */\n public class ElasticsearchClientFactoryBean implements FactoryBean<Client>, DisposableBean {\n \n-    private Map<String, Object> settings;\n+    private Map<String, String> settings;\n \n     private Map<String, Integer> addresses;\n \n     private Client client;\n \n-    public void setSettings(final Map<String, Object> settings) {\n+    public void setSettings(final Map<String, String> settings) {\n         this.settings = settings;\n     }\n \n@@ -50,7 +50,12 @@ public void setAddresses(final Map<String, Integer> addresses) {\n     public Client getObject() throws Exception {\n         synchronized (this) {\n             if (client == null) {\n-                PreBuiltTransportClient tClient = new PreBuiltTransportClient(Settings.builder().put(settings).build());\n+                Settings.Builder builder = Settings.builder();\n+                settings.entrySet().forEach(entry -> {\n+                    builder.put(entry.getKey(), entry.getValue());\n+                });\n+\n+                PreBuiltTransportClient tClient = new PreBuiltTransportClient(builder.build());\n \n                 for (Map.Entry<String, Integer> entry : addresses.entrySet()) {\n                     tClient.addTransportAddress("},{"sha":"10c103396e80c847f718646c78b7af821032d718","filename":"pom.xml","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/496aeb439e1b8501db02a9ca25880af9951b340b/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/496aeb439e1b8501db02a9ca25880af9951b340b/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=496aeb439e1b8501db02a9ca25880af9951b340b","patch":"@@ -391,7 +391,7 @@ under the License.\n     <slf4j.version>1.7.25</slf4j.version>\n     <opensaml.version>3.3.0</opensaml.version>\n \n-    <elasticsearch.version>6.0.1</elasticsearch.version>\n+    <elasticsearch.version>6.1.1</elasticsearch.version>\n \n     <log4j.version>2.10.0</log4j.version>\n     <disruptor.version>3.3.7</disruptor.version>\n@@ -2232,7 +2232,7 @@ under the License.\n             <link>http://docs.spring.io/spring-security/site/docs/4.2.x/apidocs/</link>\n             <link>http://www.flowable.org/docs/javadocs/</link>\n             <link>https://build.shibboleth.net/nexus/content/sites/site/java-opensaml/3.3.0/apidocs/</link>\n-            <link>https://www.javadoc.io/doc/org.elasticsearch/elasticsearch/6.0.1/</link>\n+            <link>https://www.javadoc.io/doc/org.elasticsearch/elasticsearch/6.1.1/</link>\n           </links>\n         </configuration>\n         <reportSets>"}]}
{"sha":"bcfde45de2c433288e5400195247ddc353f351a9","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmJjZmRlNDVkZTJjNDMzMjg4ZTU0MDAxOTUyNDdkZGMzNTNmMzUxYTk=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2020-12-02T13:29:18Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2020-12-02T13:29:18Z"},"message":"Upgrading Tika","tree":{"sha":"e7803ffd09634c3c43ed1138b78e49a3ec041c2c","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/e7803ffd09634c3c43ed1138b78e49a3ec041c2c"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/bcfde45de2c433288e5400195247ddc353f351a9","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bcfde45de2c433288e5400195247ddc353f351a9","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/bcfde45de2c433288e5400195247ddc353f351a9","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bcfde45de2c433288e5400195247ddc353f351a9/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"8b7c045a95e50b6ef40649e1bac6502a63cc838f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8b7c045a95e50b6ef40649e1bac6502a63cc838f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/8b7c045a95e50b6ef40649e1bac6502a63cc838f"}],"stats":{"total":20,"additions":7,"deletions":13},"files":[{"sha":"3e3fe7d658c6d155d935ba49a6987e54a207ac2b","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/AbstractPropagationTaskExecutor.java","status":"modified","additions":5,"deletions":11,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcfde45de2c433288e5400195247ddc353f351a9/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FAbstractPropagationTaskExecutor.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcfde45de2c433288e5400195247ddc353f351a9/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FAbstractPropagationTaskExecutor.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FAbstractPropagationTaskExecutor.java?ref=bcfde45de2c433288e5400195247ddc353f351a9","patch":"@@ -234,28 +234,22 @@ protected Uid createOrUpdate(\n                     collect(Collectors.toMap(attr -> attr.getName().toUpperCase(), Function.identity()));\n \n             // Only compare attribute from beforeObj that are also being updated\n-            Set<String> skipAttrNames = new HashSet<>(originalAttrMap.keySet());\n+            Set<String> skipAttrNames = originalAttrMap.keySet();\n             skipAttrNames.removeAll(updateAttrMap.keySet());\n-            skipAttrNames.forEach(originalAttrMap::remove);\n \n-            Set<Attribute> originalAttrs = new HashSet<>(originalAttrMap.values());\n-\n-            if (originalAttrs.equals(attributes)) {\n-                LOG.debug(\"Don't need to propagate anything: {} is equal to {}\", originalAttrs, attributes);\n+            if (originalAttrMap.values().equals(attributes)) {\n+                LOG.debug(\"Don't need to propagate anything: {} is equal to {}\", originalAttrMap.values(), attributes);\n                 result = AttributeUtil.getUidAttribute(attributes);\n             } else {\n                 LOG.debug(\"Attributes that would be updated {}\", attributes);\n \n-                Set<Attribute> strictlyModified =\n-                        attributes.stream().filter(attr -> !originalAttrs.contains(attr)).collect(Collectors.toSet());\n-\n                 // 3. provision entry\n-                LOG.debug(\"Update {} on {}\", strictlyModified, task.getResource().getKey());\n+                LOG.debug(\"Update {} on {}\", attributes, task.getResource().getKey());\n \n                 result = connector.update(\n                         beforeObj.getObjectClass(),\n                         new Uid(beforeObj.getUid().getUidValue()),\n-                        strictlyModified,\n+                        attributes,\n                         null,\n                         propagationAttempted);\n             }"},{"sha":"8b0fa67813943bcd4331a16134a9ddacd1e3d22d","filename":"pom.xml","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcfde45de2c433288e5400195247ddc353f351a9/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcfde45de2c433288e5400195247ddc353f351a9/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=bcfde45de2c433288e5400195247ddc353f351a9","patch":"@@ -1120,7 +1120,7 @@ under the License.\n       <dependency>\n         <groupId>org.apache.tika</groupId>\n         <artifactId>tika-core</artifactId>\n-        <version>1.24.1</version>\n+        <version>1.25</version>\n       </dependency>\n \n       <dependency>\n@@ -2710,7 +2710,7 @@ under the License.\n             <link>https://ci.apache.org/projects/wicket/apidocs/9.x/</link>\n             <link>https://commons.apache.org/proper/commons-lang/javadocs/api-release/</link>\n             <link>https://commons.apache.org/proper/commons-jexl/apidocs/</link>\n-            <link>https://tika.apache.org/1.24/api/</link>\n+            <link>https://tika.apache.org/1.25/api/</link>\n             <link>https://docs.spring.io/spring-boot/docs/current/api/</link>\n             <link>https://docs.spring.io/spring/docs/current/javadoc-api/</link>\n             <link>https://docs.spring.io/spring-security/site/docs/current/api/</link>"}]}
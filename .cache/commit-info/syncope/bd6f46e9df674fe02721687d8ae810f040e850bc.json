{"sha":"bd6f46e9df674fe02721687d8ae810f040e850bc","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmJkNmY0NmU5ZGY2NzRmZTAyNzIxNjg3ZDhhZTgxMGYwNDBlODUwYmM=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2017-07-12T16:06:38Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2017-07-12T16:06:54Z"},"message":"[SYNCOPE-1159] Now PushTasks have source Realm","tree":{"sha":"d50fb41d82f581d183e59cb193c4135426a40a51","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/d50fb41d82f581d183e59cb193c4135426a40a51"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/bd6f46e9df674fe02721687d8ae810f040e850bc","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bd6f46e9df674fe02721687d8ae810f040e850bc","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/bd6f46e9df674fe02721687d8ae810f040e850bc","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bd6f46e9df674fe02721687d8ae810f040e850bc/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"3e90e38fd6519ac3b94a6ca3c4db9eab9434f1bd","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3e90e38fd6519ac3b94a6ca3c4db9eab9434f1bd","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/3e90e38fd6519ac3b94a6ca3c4db9eab9434f1bd"}],"stats":{"total":200,"additions":149,"deletions":51},"files":[{"sha":"0fa0f7bd78ea061bf27021d9ce96e6bef4a4bf3b","filename":"client/console/src/main/java/org/apache/syncope/client/console/tasks/ProvisioningTaskDirectoryPanel.java","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FProvisioningTaskDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FProvisioningTaskDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FProvisioningTaskDirectoryPanel.java?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -29,6 +29,7 @@\n import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n import org.apache.syncope.common.lib.to.AbstractProvisioningTaskTO;\n import org.apache.syncope.common.lib.to.PullTaskTO;\n+import org.apache.syncope.common.lib.to.PushTaskTO;\n import org.apache.syncope.common.lib.types.TaskType;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n@@ -83,6 +84,9 @@ protected List<IColumn<T, String>> getFieldColumns() {\n         if (reference == PullTaskTO.class) {\n             columns.add(new PropertyColumn<T, String>(\n                     new StringResourceModel(\"destinationRealm\", this), \"destinationRealm\", \"destinationRealm\"));\n+        } else if (reference == PushTaskTO.class) {\n+            columns.add(new PropertyColumn<T, String>(\n+                    new StringResourceModel(\"sourceRealm\", this), \"sourceRealm\", \"sourceRealm\"));\n         }\n \n         columns.add(new DatePropertyColumn<T>("},{"sha":"af402485e4b7f675b76f642b47dea6328310774f","filename":"client/console/src/main/java/org/apache/syncope/client/console/tasks/PushTaskFilters.java","status":"modified","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FPushTaskFilters.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FPushTaskFilters.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FPushTaskFilters.java?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -54,9 +54,6 @@ protected List<AnyTypeTO> load() {\n             }\n         };\n \n-        // ------------------------\n-        // aDynMembershipConds\n-        // ------------------------\n         add(new ListView<AnyTypeTO>(\"filters\", types) {\n \n             private static final long serialVersionUID = 9101744072914090143L;\n@@ -80,6 +77,5 @@ public Panel getPanel(final String panelId) {\n                         .setOutputMarkupId(true));\n             }\n         });\n-        // ------------------------\n     }\n }"},{"sha":"dccc22a0f13c6c4ed47eee219a47f2c31956d229","filename":"client/console/src/main/java/org/apache/syncope/client/console/tasks/SchedTaskWizardBuilder.java","status":"modified","additions":21,"deletions":1,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskWizardBuilder.java?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -239,9 +239,29 @@ protected void onUpdate(final AjaxRequestTarget target) {\n             destinationRealm.setNullValid(!(taskTO instanceof PullTaskTO));\n             pullTaskSpecifics.add(destinationRealm);\n \n+            // ------------------------------\n+            // Only for pull tasks\n+            // ------------------------------  \n+            WebMarkupContainer pushTaskSpecifics = new WebMarkupContainer(\"pushTaskSpecifics\");\n+            add(pushTaskSpecifics.setRenderBodyOnly(true));\n+\n+            if (!(taskTO instanceof PushTaskTO)) {\n+                pushTaskSpecifics.setEnabled(false).setVisible(false);\n+            }\n+\n+            AjaxDropDownChoicePanel<String> sourceRealm = new AjaxDropDownChoicePanel<>(\n+                    \"sourceRealm\", \"sourceRealm\",\n+                    new PropertyModel<String>(taskTO, \"sourceRealm\"), false).\n+                    setChoices(realms);\n+            if (taskTO instanceof PushTaskTO) {\n+                sourceRealm.addRequiredLabel();\n+            }\n+            sourceRealm.setNullValid(!(taskTO instanceof PushTaskTO));\n+            pushTaskSpecifics.add(sourceRealm);\n+\n             // ------------------------------\n             // For push and pull tasks\n-            // ------------------------------            \n+            // ------------------------------\n             WebMarkupContainer provisioningTaskSpecifics = new WebMarkupContainer(\"provisioningTaskSpecifics\");\n             add(provisioningTaskSpecifics.setRenderBodyOnly(true));\n "},{"sha":"91b33217f3536ad7eee0c5c905f575685de5b0fe","filename":"client/console/src/main/resources/org/apache/syncope/client/console/panels/search/AbstractSearchPanel.html","status":"modified","additions":9,"deletions":12,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2Fsearch%2FAbstractSearchPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2Fsearch%2FAbstractSearchPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2Fsearch%2FAbstractSearchPanel.html?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -17,16 +17,13 @@\n under the License.\n -->\n <html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n-  <head><title></title></head>\n-  <body>\n-    <wicket:panel>\n-      <span class=\"searchBox\">\n-        <div class=\"col-xs-12\">\n-          <span wicket:id=\"searchFormContainer\">\n-            <span wicket:id=\"search\">[SEARCH]</span>\n-          </span>\n-        </div>\n-      </span>\n-    </wicket:panel>\n-  </body>\n+  <wicket:panel>\n+    <span class=\"searchBox\">\n+      <div class=\"col-xs-12\">\n+        <span wicket:id=\"searchFormContainer\">\n+          <span wicket:id=\"search\">[SEARCH]</span>\n+        </span>\n+      </div>\n+    </span>\n+  </wicket:panel>\n </html>"},{"sha":"1226b8c2e06543e83ab2bae0530dca92068d402c","filename":"client/console/src/main/resources/org/apache/syncope/client/console/tasks/SchedTaskDirectoryPanel.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel.properties?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -29,3 +29,4 @@ any.cancel=Cancel ${name}\n pullMode=Pull Mode\n reconciliationFilterBuilderClassName=Reconciliation Filter Builder\n actionsClassNames=Actions\n+sourceRealm=Source Realm"},{"sha":"5341c88c1717292a69831a5644e6f5531beff440","filename":"client/console/src/main/resources/org/apache/syncope/client/console/tasks/SchedTaskDirectoryPanel_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel_it.properties?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -29,3 +29,4 @@ any.cancel=Annulla ${name}\n pullMode=Pull Mode\n reconciliationFilterBuilderClassName=Reconciliation Filter Builder\n actionsClassNames=Actions\n+sourceRealm=Realm sorgente"},{"sha":"1226b8c2e06543e83ab2bae0530dca92068d402c","filename":"client/console/src/main/resources/org/apache/syncope/client/console/tasks/SchedTaskDirectoryPanel_pt_BR.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel_pt_BR.properties?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -29,3 +29,4 @@ any.cancel=Cancel ${name}\n pullMode=Pull Mode\n reconciliationFilterBuilderClassName=Reconciliation Filter Builder\n actionsClassNames=Actions\n+sourceRealm=Source Realm"},{"sha":"103731fec014c410e3e01ee631b9a0dc1523e9d6","filename":"client/console/src/main/resources/org/apache/syncope/client/console/tasks/SchedTaskDirectoryPanel_ru.properties","status":"modified","additions":15,"deletions":14,"changes":29,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel_ru.properties?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -14,32 +14,33 @@\n # KIND, either express or implied.  See the License for the\n # specific language governing permissions and limitations\n # under the License.\n-# name=Название\n+# name=\\u00d0\\u009d\\u00d0\\u00b0\\u00d0\\u00b7\\u00d0\\u00b2\\u00d0\\u00b0\\u00d0\\u00bd\\u00d0\\u00b8\\u00d0\\u00b5\n name=\\u041d\\u0430\\u0437\\u0432\\u0430\\u043d\\u0438\\u0435\n-# description=Описание\n+# description=\\u00d0\\u009e\\u00d0\\u00bf\\u00d0\\u00b8\\u00d1\\u0081\\u00d0\\u00b0\\u00d0\\u00bd\\u00d0\\u00b8\\u00d0\\u00b5\n description=\\u041e\\u043f\\u0438\\u0441\\u0430\\u043d\\u0438\\u0435\n-# destinationRealm=Область действия\n+# destinationRealm=\\u00d0\\u009e\\u00d0\\u00b1\\u00d0\\u00bb\\u00d0\\u00b0\\u00d1\\u0081\\u00d1\\u0082\\u00d1\\u008c \\u00d0\\u00b4\\u00d0\\u00b5\\u00d0\\u00b9\\u00d1\\u0081\\u00d1\\u0082\\u00d0\\u00b2\\u00d0\\u00b8\\u00d1\\u008f\n destinationRealm=\\u041e\\u0431\\u043b\\u0430\\u0441\\u0442\\u044c \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044f\n-# jobDelegateClassName=Название класса\n+# jobDelegateClassName=\\u00d0\\u009d\\u00d0\\u00b0\\u00d0\\u00b7\\u00d0\\u00b2\\u00d0\\u00b0\\u00d0\\u00bd\\u00d0\\u00b8\\u00d0\\u00b5 \\u00d0\\u00ba\\u00d0\\u00bb\\u00d0\\u00b0\\u00d1\\u0081\\u00d1\\u0081\\u00d0\\u00b0\n jobDelegateClassName=\\u041d\\u0430\\u0437\\u0432\\u0430\\u043d\\u0438\\u0435 \\u043a\\u043b\\u0430\\u0441\\u0441\\u0430\n-# lastExec=Предыдущий запуск\n+# lastExec=\\u00d0\\u009f\\u00d1\\u0080\\u00d0\\u00b5\\u00d0\\u00b4\\u00d1\\u008b\\u00d0\\u00b4\\u00d1\\u0083\\u00d1\\u0089\\u00d0\\u00b8\\u00d0\\u00b9 \\u00d0\\u00b7\\u00d0\\u00b0\\u00d0\\u00bf\\u00d1\\u0083\\u00d1\\u0081\\u00d0\\u00ba\n lastExec=\\u041f\\u0440\\u0435\\u0434\\u044b\\u0434\\u0443\\u0449\\u0438\\u0439 \\u0437\\u0430\\u043f\\u0443\\u0441\\u043a\n-# nextExec=Следующий запуск\n+# nextExec=\\u00d0\\u00a1\\u00d0\\u00bb\\u00d0\\u00b5\\u00d0\\u00b4\\u00d1\\u0083\\u00d1\\u008e\\u00d1\\u0089\\u00d0\\u00b8\\u00d0\\u00b9 \\u00d0\\u00b7\\u00d0\\u00b0\\u00d0\\u00bf\\u00d1\\u0083\\u00d1\\u0081\\u00d0\\u00ba\n nextExec=\\u0421\\u043b\\u0435\\u0434\\u0443\\u044e\\u0449\\u0438\\u0439 \\u0437\\u0430\\u043f\\u0443\\u0441\\u043a\n-# active=Активна\n+# active=\\u00d0\\u0090\\u00d0\\u00ba\\u00d1\\u0082\\u00d0\\u00b8\\u00d0\\u00b2\\u00d0\\u00bd\\u00d0\\u00b0\n active=\\u0410\\u043a\\u0442\\u0438\\u0432\\u043d\\u0430\n \n-# any.edit=Изменить ${name}\n+# any.edit=\\u00d0\\u0098\\u00d0\\u00b7\\u00d0\\u00bc\\u00d0\\u00b5\\u00d0\\u00bd\\u00d0\\u00b8\\u00d1\\u0082\\u00d1\\u008c ${name}\n any.edit=\\u0418\\u0437\\u043c\\u0435\\u043d\\u0438\\u0442\\u044c ${name}\n-# any.new=Создать задачу\n+# any.new=\\u00d0\\u00a1\\u00d0\\u00be\\u00d0\\u00b7\\u00d0\\u00b4\\u00d0\\u00b0\\u00d1\\u0082\\u00d1\\u008c \\u00d0\\u00b7\\u00d0\\u00b0\\u00d0\\u00b4\\u00d0\\u00b0\\u00d1\\u0087\\u00d1\\u0083\n any.new=\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c \\u0437\\u0430\\u0434\\u0430\\u0447\\u0443\n-# any.finish=Сохранить ${name}\n+# any.finish=\\u00d0\\u00a1\\u00d0\\u00be\\u00d1\\u0085\\u00d1\\u0080\\u00d0\\u00b0\\u00d0\\u00bd\\u00d0\\u00b8\\u00d1\\u0082\\u00d1\\u008c ${name}\n any.finish=\\u0421\\u043e\\u0445\\u0440\\u0430\\u043d\\u0438\\u0442\\u044c ${name}\n-# any.cancel=Отменить ${name}\n+# any.cancel=\\u00d0\\u009e\\u00d1\\u0082\\u00d0\\u00bc\\u00d0\\u00b5\\u00d0\\u00bd\\u00d0\\u00b8\\u00d1\\u0082\\u00d1\\u008c ${name}\n any.cancel=\\u041e\\u0442\\u043c\\u0435\\u043d\\u0438\\u0442\\u044c ${name}\n-# pullMode=Режим получения данных\n+# pullMode=\\u00d0\\u00a0\\u00d0\\u00b5\\u00d0\\u00b6\\u00d0\\u00b8\\u00d0\\u00bc \\u00d0\\u00bf\\u00d0\\u00be\\u00d0\\u00bb\\u00d1\\u0083\\u00d1\\u0087\\u00d0\\u00b5\\u00d0\\u00bd\\u00d0\\u00b8\\u00d1\\u008f \\u00d0\\u00b4\\u00d0\\u00b0\\u00d0\\u00bd\\u00d0\\u00bd\\u00d1\\u008b\\u00d1\\u0085\n pullMode=\\u0420\\u0435\\u0436\\u0438\\u043c \\u043f\\u043e\\u043b\\u0443\\u0447\\u0435\\u043d\\u0438\\u044f \\u0434\\u0430\\u043d\\u043d\\u044b\\u0445\n-# reconciliationFilterBuilderClassName=Фильтр реконсилиации\n+# reconciliationFilterBuilderClassName=\\u00d0\\u00a4\\u00d0\\u00b8\\u00d0\\u00bb\\u00d1\\u008c\\u00d1\\u0082\\u00d1\\u0080 \\u00d1\\u0080\\u00d0\\u00b5\\u00d0\\u00ba\\u00d0\\u00be\\u00d0\\u00bd\\u00d1\\u0081\\u00d0\\u00b8\\u00d0\\u00bb\\u00d0\\u00b8\\u00d0\\u00b0\\u00d1\\u0086\\u00d0\\u00b8\\u00d0\\u00b8\n reconciliationFilterBuilderClassName=\\u0424\\u0438\\u043b\\u044c\\u0442\\u0440 \\u0440\\u0435\\u043a\\u043e\\u043d\\u0441\\u0438\\u043b\\u0438\\u0430\\u0446\\u0438\\u0438\n-# actionsClassNames=Действия\n+# actionsClassNames=\\u00d0\\u0094\\u00d0\\u00b5\\u00d0\\u00b9\\u00d1\\u0081\\u00d1\\u0082\\u00d0\\u00b2\\u00d0\\u00b8\\u00d1\\u008f\n actionsClassNames=\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044f\n+sourceRealm=Source Realm"},{"sha":"17b1e42eb57e7ddfbb8a6978bd5c28b3ca294b92","filename":"client/console/src/main/resources/org/apache/syncope/client/console/tasks/SchedTaskWizardBuilder$Profile.html","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskWizardBuilder%24Profile.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskWizardBuilder%24Profile.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskWizardBuilder%24Profile.html?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -30,6 +30,10 @@\n       <div class=\"form-group\"><span wicket:id=\"reconciliationFilterBuilderClassName\">[filter]</span></div>\n     </span>      \n \n+    <span wicket:id=\"pushTaskSpecifics\">\n+      <div class=\"form-group\"><span wicket:id=\"sourceRealm\">[sourceRealm]</span></div>\n+    </span>      \n+\n     <span wicket:id=\"provisioningTaskSpecifics\">\n       <div class=\"form-group form-palette\">\n         <span wicket:id=\"actionsClassNames\">[actionsClassNames]</span>"},{"sha":"4528f11b4c169b375a03703c1d1d1382a16b1369","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/to/PushTaskTO.java","status":"modified","additions":10,"deletions":0,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FPushTaskTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FPushTaskTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FPushTaskTO.java?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -36,10 +36,20 @@ public class PushTaskTO extends AbstractProvisioningTaskTO {\n \n     private static final long serialVersionUID = -2143537546915809018L;\n \n+    private String sourceRealm;\n+\n     @XmlJavaTypeAdapter(XmlGenericMapAdapter.class)\n     @JsonIgnore\n     private final Map<String, String> filters = new HashMap<>();\n \n+    public String getSourceRealm() {\n+        return sourceRealm;\n+    }\n+\n+    public void setSourceRealm(final String sourceRealm) {\n+        this.sourceRealm = sourceRealm;\n+    }\n+\n     @JsonProperty\n     public Map<String, String> getFilters() {\n         return filters;"},{"sha":"fe8672697f51c6ec48a0c63079c21a05ce9596da","filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/entity/task/PushTask.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2Ftask%2FPushTask.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2Ftask%2FPushTask.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2Ftask%2FPushTask.java?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -20,9 +20,14 @@\n \n import java.util.List;\n import org.apache.syncope.core.persistence.api.entity.AnyType;\n+import org.apache.syncope.core.persistence.api.entity.Realm;\n \n public interface PushTask extends ProvisioningTask {\n \n+    Realm getSourceRealm();\n+\n+    void setSourceRealm(Realm sourceRealm);\n+\n     boolean add(PushTaskAnyFilter filter);\n \n     PushTaskAnyFilter getFilter(AnyType anyType);"},{"sha":"c9daf03316a07018c561f956b790e6ca7b87139e","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/dao/AbstractAnySearchDAO.java","status":"modified","additions":11,"deletions":1,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FAbstractAnySearchDAO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FAbstractAnySearchDAO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FAbstractAnySearchDAO.java?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -355,7 +355,17 @@ public <T extends Any<?>> List<T> search(\n             return Collections.<T>emptyList();\n         }\n \n-        return doSearch(adminRealms, cond, page, itemsPerPage, orderBy, kind);\n+        List<OrderByClause> effectiveOrderBy;\n+        if (orderBy.isEmpty()) {\n+            OrderByClause keyClause = new OrderByClause();\n+            keyClause.setField(\"key\");\n+            keyClause.setDirection(OrderByClause.Direction.ASC);\n+            effectiveOrderBy = Collections.singletonList(keyClause);\n+        } else {\n+            effectiveOrderBy = orderBy;\n+        }\n+\n+        return doSearch(adminRealms, cond, page, itemsPerPage, effectiveOrderBy, kind);\n     }\n \n     @Override"},{"sha":"1ef12a4c02d4b95443b0abead41207593c50f99b","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/entity/task/JPAPushTask.java","status":"modified","additions":17,"deletions":0,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Ftask%2FJPAPushTask.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Ftask%2FJPAPushTask.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Ftask%2FJPAPushTask.java?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -30,19 +30,25 @@\n import javax.persistence.Entity;\n import javax.persistence.FetchType;\n import javax.persistence.JoinColumn;\n+import javax.persistence.ManyToOne;\n import javax.persistence.OneToMany;\n import org.apache.commons.collections4.IterableUtils;\n import org.apache.commons.collections4.Predicate;\n import org.apache.syncope.core.persistence.api.entity.AnyType;\n+import org.apache.syncope.core.persistence.api.entity.Realm;\n import org.apache.syncope.core.persistence.api.entity.task.PushTask;\n import org.apache.syncope.core.persistence.api.entity.task.PushTaskAnyFilter;\n+import org.apache.syncope.core.persistence.jpa.entity.JPARealm;\n \n @Entity\n @DiscriminatorValue(\"PushTask\")\n public class JPAPushTask extends AbstractProvisioningTask implements PushTask {\n \n     private static final long serialVersionUID = -4141057723006682564L;\n \n+    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n+    private JPARealm sourceRealm;\n+\n     @ElementCollection(fetch = FetchType.EAGER)\n     @Column(name = \"actionClassName\")\n     @CollectionTable(name = \"PushTask_actionsClassNames\",\n@@ -53,6 +59,17 @@ public class JPAPushTask extends AbstractProvisioningTask implements PushTask {\n     @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER, mappedBy = \"pushTask\")\n     private List<JPAPushTaskAnyFilter> filters = new ArrayList<>();\n \n+    @Override\n+    public JPARealm getSourceRealm() {\n+        return sourceRealm;\n+    }\n+\n+    @Override\n+    public void setSourceRealm(final Realm sourceRealm) {\n+        checkType(sourceRealm, JPARealm.class);\n+        this.sourceRealm = (JPARealm) sourceRealm;\n+    }\n+\n     @Override\n     public Set<String> getActionsClassNames() {\n         return actionsClassNames;"},{"sha":"b88aee1d0f650ce432280ebcffa446bdb73fe3a5","filename":"core/persistence-jpa/src/test/resources/domains/MasterContent.xml","status":"modified","additions":11,"deletions":0,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -1201,56 +1201,67 @@ under the License.\n         destinationRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\" performCreate=\"0\" performUpdate=\"1\" performDelete=\"0\" syncStatus=\"0\" pullMode=\"FULL_RECONCILIATION\"\n         unmatchingRule=\"PROVISION\" matchingRule=\"UPDATE\" active=\"1\"/>\n   <Task DTYPE=\"PushTask\" id=\"af558be4-9d2f-4359-bf85-a554e6e90be1\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+        sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n         performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"         \n         unmatchingRule=\"ASSIGN\" matchingRule=\"IGNORE\" active=\"1\"/>  \n   <PushTaskAnyFilter id=\"1fdcff65-765f-4a6e-98a7-13ef7cca47e2\" anyType_id=\"USER\" pushTask_id=\"af558be4-9d2f-4359-bf85-a554e6e90be1\" fiql=\"surname==Vivaldi\"/>\n   <PushTaskAnyFilter id=\"3b564c51-5d64-48b3-8da5-fd4ebc10e0a8\" anyType_id=\"GROUP\" pushTask_id=\"af558be4-9d2f-4359-bf85-a554e6e90be1\" fiql=\"name==_NO_ONE_\"/>\n   <Task DTYPE=\"PushTask\" id=\"97f327b6-2eff-4d35-85e8-d581baaab855\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+        sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n         performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"         \n         unmatchingRule=\"PROVISION\" matchingRule=\"IGNORE\" active=\"1\"/>\n   <PushTaskAnyFilter id=\"199efd21-5e89-46ac-95de-f47e9d0569fc\" anyType_id=\"USER\" pushTask_id=\"97f327b6-2eff-4d35-85e8-d581baaab855\" fiql=\"surname==Bellini\"/>\n   <PushTaskAnyFilter id=\"7672a167-77d6-4639-8b1d-0af561293c7d\" anyType_id=\"GROUP\" pushTask_id=\"97f327b6-2eff-4d35-85e8-d581baaab855\" fiql=\"name==_NO_ONE_\"/>\n   <Task DTYPE=\"PushTask\" id=\"03aa2a04-4881-4573-9117-753f81b04865\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+        sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n         performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n         unmatchingRule=\"UNLINK\" matchingRule=\"IGNORE\" active=\"1\"/>\n   <PushTaskAnyFilter id=\"39a11ba6-397a-4c94-8bfe-1f4f757d6501\" anyType_id=\"USER\" pushTask_id=\"03aa2a04-4881-4573-9117-753f81b04865\" fiql=\"surname==Puccini\"/>\n   <PushTaskAnyFilter id=\"5bd7501e-8a18-4fbd-a3fe-a1e731ba95db\" anyType_id=\"GROUP\" pushTask_id=\"03aa2a04-4881-4573-9117-753f81b04865\" fiql=\"name==_NO_ONE_\"/>\n   <Task DTYPE=\"PushTask\" id=\"5e5f7c7e-9de7-4c6a-99f1-4df1af959807\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+        sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n         performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"         \n         unmatchingRule=\"IGNORE\" matchingRule=\"IGNORE\" active=\"1\"/>\n   <PushTaskAnyFilter id=\"0d0371a3-5772-4b4c-ad14-139adf1d346a\" anyType_id=\"USER\" pushTask_id=\"5e5f7c7e-9de7-4c6a-99f1-4df1af959807\" fiql=\"surname==Verdi\"/>\n   <PushTaskAnyFilter id=\"2e7488ae-a2fc-4657-a93b-159b8433c0e7\" anyType_id=\"GROUP\" pushTask_id=\"5e5f7c7e-9de7-4c6a-99f1-4df1af959807\" fiql=\"name==_NO_ONE_\"/>\n   <Task DTYPE=\"PushTask\" id=\"0bc11a19-6454-45c2-a4e3-ceef84e5d79b\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+        sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n         performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n         unmatchingRule=\"ASSIGN\" matchingRule=\"UPDATE\" active=\"1\"/>\n   <PushTaskAnyFilter id=\"41bf22fe-a014-41af-9a75-402b987eb433\" anyType_id=\"USER\" pushTask_id=\"0bc11a19-6454-45c2-a4e3-ceef84e5d79b\" fiql=\"username==_NO_ONE_\"/>\n   <PushTaskAnyFilter id=\"fa983fde-795e-4c89-a6f7-1ccd80a8adeb\" anyType_id=\"GROUP\" pushTask_id=\"0bc11a19-6454-45c2-a4e3-ceef84e5d79b\" fiql=\"name==_NO_ONE_\"/>\n   <Task DTYPE=\"PushTask\" id=\"ec674143-480a-4816-98ad-b61fa090821e\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+        sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n         performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n         unmatchingRule=\"IGNORE\" matchingRule=\"DEPROVISION\" active=\"1\"/>\n   <PushTaskAnyFilter id=\"e238a6dc-0b04-46cf-9bfa-be68bd9f2da0\" anyType_id=\"USER\" pushTask_id=\"ec674143-480a-4816-98ad-b61fa090821e\" fiql=\"surname==Verdi\"/>\n   <PushTaskAnyFilter id=\"0eaa643e-0add-4c46-8273-539f9d6abec5\" anyType_id=\"GROUP\" pushTask_id=\"ec674143-480a-4816-98ad-b61fa090821e\" fiql=\"name==_NO_ONE_\"/>\n   <Task DTYPE=\"PushTask\" id=\"c46edc3a-a18b-4af2-b707-f4a415507496\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+        sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n         performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n         unmatchingRule=\"IGNORE\" matchingRule=\"UNASSIGN\" active=\"1\"/>\n   <PushTaskAnyFilter id=\"335b4f11-589a-44c5-80b0-ba94892f0c62\" anyType_id=\"USER\" pushTask_id=\"c46edc3a-a18b-4af2-b707-f4a415507496\" fiql=\"surname==Rossini\"/>\n   <PushTaskAnyFilter id=\"b32eecc2-aa4f-43c6-a501-a692c3e93113\" anyType_id=\"GROUP\" pushTask_id=\"c46edc3a-a18b-4af2-b707-f4a415507496\" fiql=\"name==_NO_ONE_\"/>\n   <Task DTYPE=\"PushTask\" id=\"51318433-cce4-4f71-8f45-9534b6c9c819\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+        sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n         performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n         unmatchingRule=\"IGNORE\" matchingRule=\"LINK\" active=\"1\"/>\n   <PushTaskAnyFilter id=\"9f974a0d-87d8-4cae-9ea9-1fc245bc1dbf\" anyType_id=\"USER\" pushTask_id=\"51318433-cce4-4f71-8f45-9534b6c9c819\" fiql=\"surname==Verdi\"/>\n   <PushTaskAnyFilter id=\"0dc46ba4-1270-4fa9-b3e1-79f940d4308f\" anyType_id=\"GROUP\" pushTask_id=\"51318433-cce4-4f71-8f45-9534b6c9c819\" fiql=\"name==_NO_ONE_\"/>\n   <Task DTYPE=\"PushTask\" id=\"24b1be9c-7e3b-443a-86c9-798ebce5eaf2\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+        sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n         performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n         unmatchingRule=\"IGNORE\" matchingRule=\"UNLINK\" active=\"1\"/>\n   <PushTaskAnyFilter id=\"3aa3b0b8-7469-4859-89d5-476ae5915101\" anyType_id=\"USER\" pushTask_id=\"24b1be9c-7e3b-443a-86c9-798ebce5eaf2\" fiql=\"surname==Verdi\"/>\n   <PushTaskAnyFilter id=\"f054810e-6842-4017-8f60-5b4031fa2c72\" anyType_id=\"GROUP\" pushTask_id=\"24b1be9c-7e3b-443a-86c9-798ebce5eaf2\" fiql=\"name==_NO_ONE_\"/>\n   <Task DTYPE=\"PushTask\" id=\"375c7b7f-9e3a-4833-88c9-b7787b0a69f2\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+        sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n         performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n         unmatchingRule=\"IGNORE\" matchingRule=\"UPDATE\"  active=\"1\"/>\n   <PushTaskAnyFilter id=\"95f047fc-1a8a-45f4-b56c-6e04d8ca5567\" anyType_id=\"USER\" pushTask_id=\"375c7b7f-9e3a-4833-88c9-b7787b0a69f2\" fiql=\"surname==Verdi\"/>\n   <PushTaskAnyFilter id=\"013a4298-4b14-4f8b-9f59-191c2d53dbd8\" anyType_id=\"GROUP\" pushTask_id=\"375c7b7f-9e3a-4833-88c9-b7787b0a69f2\" fiql=\"name==_NO_ONE_\"/>\n   <Task DTYPE=\"PushTask\" id=\"fd905ba5-9d56-4f51-83e2-859096a67b75\" name=\"Export on resource-ldap\" resource_id=\"resource-ldap\"\n+        sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n         performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n         unmatchingRule=\"ASSIGN\" matchingRule=\"UNLINK\" active=\"1\"/>\n   <PushTaskAnyFilter id=\"30842acc-f2dd-4d47-b359-20db06c30803\" anyType_id=\"USER\" pushTask_id=\"fd905ba5-9d56-4f51-83e2-859096a67b75\" fiql=\"username==_NO_ONE_\"/>"},{"sha":"09b5d12de32870b60434433dc5d569c919c7f0a2","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/data/TaskDataBinderImpl.java","status":"modified","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FTaskDataBinderImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FTaskDataBinderImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FTaskDataBinderImpl.java?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -116,6 +116,8 @@ private void fill(final ProvisioningTask task, final AbstractProvisioningTaskTO\n \n             pushTask.setJobDelegateClassName(PushJobDelegate.class.getName());\n \n+            pushTask.setSourceRealm(realmDAO.findByFullPath(pushTaskTO.getSourceRealm()));\n+\n             pushTask.setMatchingRule(pushTaskTO.getMatchingRule() == null\n                     ? MatchingRule.LINK : pushTaskTO.getMatchingRule());\n             pushTask.setUnmatchingRule(pushTaskTO.getUnmatchingRule() == null\n@@ -346,6 +348,7 @@ public <T extends AbstractTaskTO> T getTaskTO(final Task task, final TaskUtils t\n \n             case PUSH:\n                 setExecTime((SchedTaskTO) taskTO, task);\n+                ((PushTaskTO) taskTO).setSourceRealm(((PushTask) task).getSourceRealm().getFullPath());\n                 ((PushTaskTO) taskTO).setResource(((PushTask) task).getResource().getKey());\n                 ((PushTaskTO) taskTO).setMatchingRule(((PushTask) task).getMatchingRule() == null\n                         ? MatchingRule.LINK : ((PushTask) task).getMatchingRule());"},{"sha":"772c42aaf6e17eb8730b7b66be63be07cd6d39a0","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/AbstractPushResultHandler.java","status":"modified","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FAbstractPushResultHandler.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FAbstractPushResultHandler.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FAbstractPushResultHandler.java?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -25,6 +25,7 @@\n import java.util.Map;\n import org.apache.commons.collections4.CollectionUtils;\n import org.apache.commons.collections4.IteratorUtils;\n+import org.apache.commons.lang3.exception.ExceptionUtils;\n import org.apache.syncope.common.lib.patch.AnyPatch;\n import org.apache.syncope.common.lib.patch.StringPatchItem;\n import org.apache.syncope.common.lib.to.AnyTO;\n@@ -424,10 +425,17 @@ private void doHandle(final Any<?> any) throws JobExecutionException {\n                     action.after(profile, any, result);\n                 }\n \n+                if (result.getStatus() == null) {\n+                    result.setStatus(ProvisioningReport.Status.SUCCESS);\n+                }\n+                resultStatus = AuditElements.Result.SUCCESS;\n                 output = getRemoteObject(connObjecKey, provision.getObjectClass());\n             } catch (IgnoreProvisionException e) {\n                 throw e;\n             } catch (Exception e) {\n+                result.setStatus(ProvisioningReport.Status.FAILURE);\n+                result.setMessage(ExceptionUtils.getRootCauseMessage(e));\n+                resultStatus = AuditElements.Result.FAILURE;\n                 output = e;\n \n                 LOG.warn(\"Error pushing {} towards {}\", any, profile.getTask().getResource(), e);"},{"sha":"76ff65b2b6adc1343f83e1e5446230e9507fbb6d","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/PushJobDelegate.java","status":"modified","additions":14,"deletions":19,"changes":33,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FPushJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FPushJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FPushJobDelegate.java?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -22,7 +22,6 @@\n import java.util.Collections;\n import java.util.List;\n import org.apache.commons.lang3.StringUtils;\n-import org.apache.syncope.common.lib.SyncopeConstants;\n import org.apache.syncope.common.lib.types.AnyTypeKind;\n import org.apache.syncope.core.persistence.api.search.SearchCondConverter;\n import org.apache.syncope.core.spring.ApplicationContextProvider;\n@@ -199,26 +198,22 @@ protected String doExecuteProvisioning(\n                 String filter = pushTask.getFilter(provision.getAnyType()) == null\n                         ? null\n                         : pushTask.getFilter(provision.getAnyType()).getFIQLCond();\n-                if (StringUtils.isBlank(filter)) {\n-                    for (int page = 1; page <= (anyDAO.count() / AnyDAO.DEFAULT_PAGE_SIZE) + 1; page++) {\n-                        doHandle(anyDAO.findAll(page, AnyDAO.DEFAULT_PAGE_SIZE), handler, pushTask.getResource());\n-                    }\n-                } else {\n-                    SearchCond cond = SearchCondConverter.convert(filter);\n-                    int count = searchDAO.count(\n-                            SyncopeConstants.FULL_ADMIN_REALMS,\n+                SearchCond cond = StringUtils.isBlank(filter)\n+                        ? anyDAO.getAllMatchingCond()\n+                        : SearchCondConverter.convert(filter);\n+                int count = searchDAO.count(\n+                        Collections.singleton(profile.getTask().getSourceRealm().getFullPath()),\n+                        cond,\n+                        provision.getAnyType().getKind());\n+                for (int page = 1; page <= (count / AnyDAO.DEFAULT_PAGE_SIZE) + 1; page++) {\n+                    List<? extends Any<?>> anys = searchDAO.search(\n+                            Collections.singleton(profile.getTask().getSourceRealm().getFullPath()),\n                             cond,\n+                            page,\n+                            AnyDAO.DEFAULT_PAGE_SIZE,\n+                            Collections.<OrderByClause>emptyList(),\n                             provision.getAnyType().getKind());\n-                    for (int page = 1; page <= (count / AnyDAO.DEFAULT_PAGE_SIZE) + 1; page++) {\n-                        List<? extends Any<?>> anys = searchDAO.search(\n-                                SyncopeConstants.FULL_ADMIN_REALMS,\n-                                cond,\n-                                page,\n-                                AnyDAO.DEFAULT_PAGE_SIZE,\n-                                Collections.<OrderByClause>emptyList(),\n-                                provision.getAnyType().getKind());\n-                        doHandle(anys, handler, pushTask.getResource());\n-                    }\n+                    doHandle(anys, handler, pushTask.getResource());\n                 }\n             }\n         }"},{"sha":"f028b384e47ef7770ec3fb2f8255f7e721aeabe2","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/RealmPushResultHandlerImpl.java","status":"modified","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FRealmPushResultHandlerImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FRealmPushResultHandlerImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FRealmPushResultHandlerImpl.java?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -22,6 +22,7 @@\n import java.util.HashMap;\n import java.util.List;\n import java.util.Map;\n+import org.apache.commons.lang3.exception.ExceptionUtils;\n import org.apache.syncope.common.lib.to.RealmTO;\n import org.apache.syncope.common.lib.types.AuditElements;\n import org.apache.syncope.common.lib.types.AuditElements.Result;\n@@ -370,13 +371,20 @@ private void doHandle(final Realm realm) throws JobExecutionException {\n                     action.after(profile, realm, result);\n                 }\n \n+                if (result.getStatus() == null) {\n+                    result.setStatus(ProvisioningReport.Status.SUCCESS);\n+                }\n+                resultStatus = AuditElements.Result.SUCCESS;\n                 output = getRemoteObject(\n                         realm.getName(),\n                         profile.getConnector(),\n                         profile.getTask().getResource().getOrgUnit());\n             } catch (IgnoreProvisionException e) {\n                 throw e;\n             } catch (Exception e) {\n+                result.setStatus(ProvisioningReport.Status.FAILURE);\n+                result.setMessage(ExceptionUtils.getRootCauseMessage(e));\n+                resultStatus = AuditElements.Result.FAILURE;\n                 output = e;\n \n                 LOG.warn(\"Error pushing {} towards {}\", realm, profile.getTask().getResource(), e);"},{"sha":"4ed4a527dc6d155d7df7aaa22f43c7a4fa8cd758","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/PushTaskITCase.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FPushTaskITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FPushTaskITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FPushTaskITCase.java?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -30,6 +30,7 @@\n import javax.sql.DataSource;\n import javax.ws.rs.core.Response;\n import org.apache.syncope.client.lib.SyncopeClient;\n+import org.apache.syncope.common.lib.SyncopeConstants;\n import org.apache.syncope.common.lib.to.AbstractTaskTO;\n import org.apache.syncope.common.lib.to.AnyTypeClassTO;\n import org.apache.syncope.common.lib.to.PagedResult;\n@@ -101,6 +102,7 @@ public void createPushTask() {\n         PushTaskTO task = new PushTaskTO();\n         task.setName(\"Test create Push\");\n         task.setResource(RESOURCE_NAME_WS2);\n+        task.setSourceRealm(SyncopeConstants.ROOT_REALM);\n         task.getFilters().put(AnyTypeKind.USER.name(),\n                 SyncopeClient.getUserSearchConditionBuilder().hasNotResources(RESOURCE_NAME_TESTDB2).query());\n         task.getFilters().put(AnyTypeKind.GROUP.name(),\n@@ -281,6 +283,7 @@ public void orgUnit() {\n         task.setName(\"For orgUnit\");\n         task.setActive(true);\n         task.setResource(RESOURCE_NAME_LDAP_ORGUNIT);\n+        task.setSourceRealm(SyncopeConstants.ROOT_REALM);\n         task.setPerformCreate(true);\n         task.setPerformDelete(true);\n         task.setPerformUpdate(true);\n@@ -363,6 +366,7 @@ public void issueSYNCOPE598() {\n             task.setName(\"issueSYNCOPE598\");\n             task.setActive(true);\n             task.setResource(resourceName);\n+            task.setSourceRealm(SyncopeConstants.ROOT_REALM);\n             task.setPerformCreate(true);\n             task.setPerformDelete(true);\n             task.setPerformUpdate(true);\n@@ -393,6 +397,7 @@ public void issueSYNCOPE648() {\n         task.setName(\"Test create Push\");\n         task.setActive(true);\n         task.setResource(RESOURCE_NAME_LDAP);\n+        task.setSourceRealm(SyncopeConstants.ROOT_REALM);\n         task.getFilters().put(AnyTypeKind.USER.name(),\n                 SyncopeClient.getUserSearchConditionBuilder().is(\"username\").equalTo(\"_NO_ONE_\").query());\n         task.getFilters().put(AnyTypeKind.GROUP.name(),"},{"sha":"070090b03d4d93297a887afd537d090086360e7b","filename":"src/main/asciidoc/reference-guide/concepts/tasks.adoc","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd6f46e9df674fe02721687d8ae810f040e850bc/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Ftasks.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd6f46e9df674fe02721687d8ae810f040e850bc/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Ftasks.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Ftasks.adoc?ref=bd6f46e9df674fe02721687d8ae810f040e850bc","patch":"@@ -113,6 +113,7 @@ Push tasks are required to define and trigger the <<provisioning-push,push>> pro\n When defining a push task, the following information must be provided:\n \n * related <<external-resources,external resource>>\n+* source <<realms,Realm>> - where entities to push will be read from\n * filter information for selecting which internal entities will be pushed onto the identity store\n * whether creation, update or deletion on the identity store are allowed or not\n * whether to synchronize the status information with internal storage"}]}
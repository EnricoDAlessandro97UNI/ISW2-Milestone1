{"sha":"c1fd63c0e2199afc81b9b3571c60232bdd98023d","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmMxZmQ2M2MwZTIxOTlhZmM4MWI5YjM1NzFjNjAyMzJiZGQ5ODAyM2Q=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-06-01T06:52:55Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-06-01T06:52:55Z"},"message":"[SYNCOPE-156] Minor fixes","tree":{"sha":"8fb020a0f3397e80452b99301857ba83124ab5e6","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/8fb020a0f3397e80452b99301857ba83124ab5e6"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/c1fd63c0e2199afc81b9b3571c60232bdd98023d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c1fd63c0e2199afc81b9b3571c60232bdd98023d","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c1fd63c0e2199afc81b9b3571c60232bdd98023d","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c1fd63c0e2199afc81b9b3571c60232bdd98023d/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"514cbf435f246f3271e3d4d2d0e8386b6c54ac5f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/514cbf435f246f3271e3d4d2d0e8386b6c54ac5f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/514cbf435f246f3271e3d4d2d0e8386b6c54ac5f"}],"stats":{"total":58,"additions":33,"deletions":25},"files":[{"sha":"5d08ebe88f51aff61a1054b412f4a3b6e2735e58","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/ConnObjects.java","status":"modified","additions":19,"deletions":9,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c1fd63c0e2199afc81b9b3571c60232bdd98023d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FConnObjects.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c1fd63c0e2199afc81b9b3571c60232bdd98023d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FConnObjects.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FConnObjects.java?ref=c1fd63c0e2199afc81b9b3571c60232bdd98023d","patch":"@@ -19,6 +19,7 @@\n package org.apache.syncope.client.console.panels;\n \n import java.util.ArrayList;\n+import java.util.List;\n import org.apache.commons.collections4.CollectionUtils;\n import org.apache.commons.collections4.Transformer;\n import org.apache.syncope.client.console.commons.Constants;\n@@ -49,18 +50,27 @@ public ConnObjects(final BaseModal<?> baseModal,\n \n         super(BaseModal.CONTENT_ID);\n \n-        anyTypes = new AjaxDropDownChoicePanel<>(\"anyTypes\", \"anyTypes\", new Model<String>(), true);\n-        anyTypes.setChoices(CollectionUtils.collect(new ResourceRestClient().read(resource).getProvisions(),\n-                new Transformer<ProvisionTO, String>() {\n+        List<String> availableAnyTypes =\n+                CollectionUtils.collect(new ResourceRestClient().read(resource).getProvisions(),\n+                        new Transformer<ProvisionTO, String>() {\n \n-            @Override\n-            public String transform(final ProvisionTO provision) {\n-                return provision.getAnyType();\n-            }\n-        }, new ArrayList<String>()));\n+                    @Override\n+                    public String transform(final ProvisionTO provision) {\n+                        return provision.getAnyType();\n+                    }\n+                }, new ArrayList<String>());\n+\n+        anyTypes = new AjaxDropDownChoicePanel<>(\"anyTypes\", \"anyTypes\", new Model<String>(), true);\n+        anyTypes.setChoices(availableAnyTypes);\n         anyTypes.hideLabel();\n         anyTypes.setNullValid(false);\n-        anyTypes.setDefaultModelObject(AnyTypeKind.USER.name());\n+        if (availableAnyTypes.contains(AnyTypeKind.USER.name())) {\n+            anyTypes.setDefaultModelObject(AnyTypeKind.USER.name());\n+        } else if (availableAnyTypes.contains(AnyTypeKind.GROUP.name())) {\n+            anyTypes.setDefaultModelObject(AnyTypeKind.GROUP.name());\n+        } else if (!availableAnyTypes.isEmpty()) {\n+            anyTypes.setDefaultModelObject(availableAnyTypes.get(0));\n+        }\n         add(anyTypes);\n \n         connObjects = new MultilevelPanel(\"connObjects\") {"},{"sha":"eceb67f5270d6e3ea47ae5ab40ad38a58435a02c","filename":"client/console/src/main/java/org/apache/syncope/client/console/policies/AccountPolicyDirectoryPanel.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c1fd63c0e2199afc81b9b3571c60232bdd98023d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FAccountPolicyDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c1fd63c0e2199afc81b9b3571c60232bdd98023d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FAccountPolicyDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FAccountPolicyDirectoryPanel.java?ref=c1fd63c0e2199afc81b9b3571c60232bdd98023d","patch":"@@ -18,8 +18,6 @@\n  */\n package org.apache.syncope.client.console.policies;\n \n-import static org.apache.wicket.Component.ENABLE;\n-\n import java.util.List;\n import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.BooleanPropertyColumn;\n import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.CollectionPropertyColumn;"},{"sha":"50666f80c20bf588e8b327cae2744435e920b156","filename":"client/console/src/main/java/org/apache/syncope/client/console/policies/PasswordPolicyDirectoryPanel.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c1fd63c0e2199afc81b9b3571c60232bdd98023d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPasswordPolicyDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c1fd63c0e2199afc81b9b3571c60232bdd98023d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPasswordPolicyDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPasswordPolicyDirectoryPanel.java?ref=c1fd63c0e2199afc81b9b3571c60232bdd98023d","patch":"@@ -18,8 +18,6 @@\n  */\n package org.apache.syncope.client.console.policies;\n \n-import static org.apache.wicket.Component.ENABLE;\n-\n import java.util.List;\n import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.BooleanPropertyColumn;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;"},{"sha":"168195f40368d6757b882b1a85573e6107088c4a","filename":"client/console/src/main/java/org/apache/syncope/client/console/policies/PolicyRuleWizardBuilder.java","status":"modified","additions":14,"deletions":10,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c1fd63c0e2199afc81b9b3571c60232bdd98023d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyRuleWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c1fd63c0e2199afc81b9b3571c60232bdd98023d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyRuleWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyRuleWizardBuilder.java?ref=c1fd63c0e2199afc81b9b3571c60232bdd98023d","patch":"@@ -138,19 +138,23 @@ public void setObject(final String object) {\n                 }\n             });\n \n-            final List<String> choices;\n-\n-            if (type == PolicyType.ACCOUNT) {\n-                choices = new ArrayList<>(SyncopeConsoleSession.get().getPlatformInfo().getAccountRules());\n-            } else if (type == PolicyType.PASSWORD) {\n-                choices = new ArrayList<>(SyncopeConsoleSession.get().getPlatformInfo().getPasswordRules());\n-            } else {\n-                choices = new ArrayList<>();\n+            List<String> choices;\n+            switch (type) {\n+                case ACCOUNT:\n+                    choices = new ArrayList<>(SyncopeConsoleSession.get().getPlatformInfo().getAccountRules());\n+                    break;\n+\n+                case PASSWORD:\n+                    choices = new ArrayList<>(SyncopeConsoleSession.get().getPlatformInfo().getPasswordRules());\n+                    break;\n+\n+                default:\n+                    choices = new ArrayList<>();\n             }\n \n             Collections.<String>sort(choices);\n             conf.setChoices(choices);\n-            \n+\n             conf.addRequiredLabel();\n             add(conf);\n         }\n@@ -173,7 +177,7 @@ protected Serializable load() {\n                 }\n             };\n \n-            add(new BeanPanel(\"bean\", bean).setRenderBodyOnly(true));\n+            add(new BeanPanel<>(\"bean\", bean).setRenderBodyOnly(true));\n         }\n     }\n }"},{"sha":"a313d0508aa08f1bd4463883e393d85960bef936","filename":"client/console/src/main/java/org/apache/syncope/client/console/policies/PullPolicyDirectoryPanel.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c1fd63c0e2199afc81b9b3571c60232bdd98023d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPullPolicyDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c1fd63c0e2199afc81b9b3571c60232bdd98023d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPullPolicyDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPullPolicyDirectoryPanel.java?ref=c1fd63c0e2199afc81b9b3571c60232bdd98023d","patch":"@@ -18,8 +18,6 @@\n  */\n package org.apache.syncope.client.console.policies;\n \n-import static org.apache.wicket.Component.ENABLE;\n-\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLinksPanel;\n import org.apache.syncope.common.lib.policy.PullPolicySpec;"}]}
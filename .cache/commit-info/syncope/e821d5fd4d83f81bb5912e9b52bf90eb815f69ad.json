{"sha":"e821d5fd4d83f81bb5912e9b52bf90eb815f69ad","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmU4MjFkNWZkNGQ4M2Y4MWJiNTkxMmU5YjUyYmY5MGViODE1ZjY5YWQ=","commit":{"author":{"name":"Matteo Di Carlo","email":"matteo.dicarlo@tirasa.net","date":"2016-09-23T14:46:04Z"},"committer":{"name":"Matteo Di Carlo","email":"matteo.dicarlo@tirasa.net","date":"2016-09-23T14:46:31Z"},"message":"[SYNCOPE-937] adds password reset test","tree":{"sha":"a003301018e00ee41ae1c31ad270197a7d759bd0","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/a003301018e00ee41ae1c31ad270197a7d759bd0"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/e821d5fd4d83f81bb5912e9b52bf90eb815f69ad","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e821d5fd4d83f81bb5912e9b52bf90eb815f69ad","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/e821d5fd4d83f81bb5912e9b52bf90eb815f69ad","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e821d5fd4d83f81bb5912e9b52bf90eb815f69ad/comments","author":null,"committer":null,"parents":[{"sha":"02a4685a100e7bf9952ad5c3e83c51f85bd5dc6c","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/02a4685a100e7bf9952ad5c3e83c51f85bd5dc6c","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/02a4685a100e7bf9952ad5c3e83c51f85bd5dc6c"}],"stats":{"total":169,"additions":64,"deletions":105},"files":[{"sha":"818af7ce490251118856fa3aca6ace1b5e2935de","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/self.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e821d5fd4d83f81bb5912e9b52bf90eb815f69ad/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fself.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e821d5fd4d83f81bb5912e9b52bf90eb815f69ad/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fself.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fself.html?ref=e821d5fd4d83f81bb5912e9b52bf90eb815f69ad","patch":"@@ -60,7 +60,7 @@\n           </a>\n         </div>\n         <div class=\"text-center\" ng-show=\"$root.isPwdResetAllowed()\">\n-          <a href=\"javascript:void(0);\" class=\"btn btn-link\" ng-click=\"passwordReset()\">Password Reset</a>\n+          <a href=\"javascript:void(0);\" class=\"btn btn-link\" ng-click=\"passwordReset()\" id=\"passwordreset\">Password Reset</a>\n         </div>\n       </div> <!-- /#login -->\n     </div>"},{"sha":"540b0eba8e642a94fcedab0bffac99325d8189b0","filename":"fit/enduser-reference/src/test/resources/org/apache/syncope/client/enduser/protractor/protractor-conf.js","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e821d5fd4d83f81bb5912e9b52bf90eb815f69ad/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Fprotractor-conf.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e821d5fd4d83f81bb5912e9b52bf90eb815f69ad/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Fprotractor-conf.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Fprotractor-conf.js?ref=e821d5fd4d83f81bb5912e9b52bf90eb815f69ad","patch":"@@ -19,7 +19,7 @@\n exports.config = {\n   directConnect: false,\n   capabilities: {\n-    'browserName': 'phantomjs',\n+    'browserName': 'chrome',\n     'phantomjs.binary.path': '@phantomjs.binary.path@',\n     'phantomjs.ghostdriver.cli.args': ['--loglevel=DEBUG']\n   },"},{"sha":"1f1b2ecadb6f6bbbb1f754abf505619c59091012","filename":"fit/enduser-reference/src/test/resources/org/apache/syncope/client/enduser/protractor/tests/abstract.js","status":"modified","additions":13,"deletions":54,"changes":67,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e821d5fd4d83f81bb5912e9b52bf90eb815f69ad/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fabstract.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e821d5fd4d83f81bb5912e9b52bf90eb815f69ad/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fabstract.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fabstract.js?ref=e821d5fd4d83f81bb5912e9b52bf90eb815f69ad","patch":"@@ -16,60 +16,6 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-\n-\n-exports.doCreate = function () {\n-  describe('doCreate', function () {\n-\n-    it('create donizetti', function () {\n-\n-      browser.wait(element(by.id('register')).isPresent());\n-      element(by.id('register')).click();\n-\n-      element(by.model('user.username')).sendKeys('donizetti');\n-      element(by.model('user.password')).sendKeys('Password123');\n-      element(by.model('confirmPassword.value')).sendKeys('Password123');\n-\n-      element.all(by.id('next')).first().click();\n-\n-      element.all(by.id('next')).first().click();\n-\n-      element.all(by.name('fullname')).first().sendKeys('Gaetano Donizetti');\n-      element.all(by.name('userId')).first().sendKeys('donizetti@apache.org');\n-      element.all(by.name('firstname')).first().sendKeys('Gaetano');\n-      element.all(by.name('surname')).first().sendKeys('Donizetti');\n-\n-      element.all(by.id('next')).first().click();\n-\n-      element.all(by.id('next')).first().click();\n-\n-      element.all(by.id('next')).first().click();\n-\n-      element.all(by.id('next')).first().click();\n-\n-      element.all(by.id('cancel')).last().click();\n-\n-\n-    });\n-  });\n-};\n-\n-exports.doLogin = function (username, password) {\n-  describe('doLogin', function () {\n-\n-    it('login user ', function () {\n-      browser.get(home);\n-\n-      element(by.model('credentials.username')).sendKeys(username);\n-      element(by.model('credentials.password')).sendKeys(password);\n-      element(by.id('login-btn')).click();\n-\n-      expect(element(by.model('user.username')).getAttribute('value')).toEqual(username);\n-\n-    });\n-  });\n-};\n-\n exports.goHome = function () {\n   var home = 'http://localhost:9080/syncope-enduser/app/';\n   browser.get(home);\n@@ -82,3 +28,16 @@ exports.doNext = function () {\n exports.doCancel = function () {\n   element.all(by.id('cancel')).last().click();\n };\n+\n+exports.doSave = function () {\n+  element.all(by.id('save')).last().click();\n+};\n+\n+exports.waitSpinner = function () {\n+  element.all(by.css('treasure-overlay-spinner')).isDisplayed().then(function (result) {\n+    if (result) {\n+      browser.driver.sleep(3000);\n+    }\n+  });\n+}\n+;\n\\ No newline at end of file"},{"sha":"cdd9dae13697870bae4381e41e1e95a7fe7e2d30","filename":"fit/enduser-reference/src/test/resources/org/apache/syncope/client/enduser/protractor/tests/create.js","status":"modified","additions":30,"deletions":6,"changes":36,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e821d5fd4d83f81bb5912e9b52bf90eb815f69ad/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fcreate.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e821d5fd4d83f81bb5912e9b52bf90eb815f69ad/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fcreate.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fcreate.js?ref=e821d5fd4d83f81bb5912e9b52bf90eb815f69ad","patch":"@@ -18,11 +18,35 @@\n  */\n \n var abstract = require('./abstract.js');\n-abstract.goHome();\n-abstract.doCreate();\n \n-describe('waitSuccess', function () {\n-  it('wait redirect link', function () {     \n-    browser.wait(element(by.id('redirect')).isPresent());      \n+describe('syncope enduser user create', function () {\n+\n+  it('should create user donizetti', function () {\n+    console.log(\"create user test\");\n+    abstract.goHome();\n+\n+    element(by.id('register')).click();\n+    element(by.model('user.username')).sendKeys('donizetti');\n+    element(by.model('user.password')).sendKeys('password123');\n+    element(by.model('confirmPassword.value')).sendKeys('password123');\n+\n+    element(by.cssContainingText('option', 'What\\'s your mother\\'s maiden name?')).click();\n+\n+    browser.wait(element(by.id('user.securityAnswer')).isPresent());\n+    element(by.model('user.securityAnswer')).sendKeys('Agata Ferlito');\n+\n+    element.all(by.id('next')).first().click();\n+    element.all(by.id('next')).first().click();\n+\n+    element.all(by.name('fullname')).first().sendKeys('Gaetano Donizetti');\n+    element.all(by.name('userId')).first().sendKeys('donizetti@apache.org');\n+    element.all(by.name('firstname')).first().sendKeys('Gaetano');\n+    element.all(by.name('surname')).first().sendKeys('Donizetti');\n+\n+    element.all(by.id('next')).first().click();\n+    element.all(by.id('next')).first().click();\n+    element.all(by.id('next')).first().click();\n+    element.all(by.id('next')).first().click();\n+    element.all(by.id('save')).last().click();\n   });\n-});\n+});\n\\ No newline at end of file"},{"sha":"e30792600c4c28468d827c8b2fcb7cb49a75397c","filename":"fit/enduser-reference/src/test/resources/org/apache/syncope/client/enduser/protractor/tests/edituser.js","status":"modified","additions":8,"deletions":29,"changes":37,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e821d5fd4d83f81bb5912e9b52bf90eb815f69ad/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fedituser.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e821d5fd4d83f81bb5912e9b52bf90eb815f69ad/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fedituser.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fedituser.js?ref=e821d5fd4d83f81bb5912e9b52bf90eb815f69ad","patch":"@@ -16,22 +16,11 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-\n var abstract = require('./abstract.js');\n-\n describe('syncope enduser user edit', function () {\n+  it('should edit user', function () {\n \n-  function waitSpinner() {\n-    element.all(by.css('treasure-overlay-spinner')).isDisplayed().then(function (result) {\n-      if (result) {\n-        browser.driver.sleep(3000);\n-      }\n-    });\n-  }\n-  ;\n-\n-  it('should edit user credentials', function () {\n-\n+    console.log(\"user edit test\");\n     abstract.goHome();\n \n     //login\n@@ -42,7 +31,8 @@ describe('syncope enduser user edit', function () {\n               expect(language.length).toBe(3);\n             });\n     element.all(by.options('language.name for language in languages.availableLanguages track by language.id')).\n-            get(0).click();\n+            get(1).click();\n+\n     element(by.id('login-btn')).click();\n \n     //credential\n@@ -63,29 +53,22 @@ describe('syncope enduser user edit', function () {\n     var group = element(by.model('dynamicForm.selectedGroups'));\n     var selectedGroup = group.element(by.css('.ui-select-search'));\n     group.click();\n-\n-    selectedGroup.sendKeys('additional');\n-    element.all(by.css('.ui-select-choices-row-inner span')).first().click();\n-    waitSpinner();\n+    //adds group root\n \n     selectedGroup.sendKeys('root');\n     element.all(by.css('.ui-select-choices-row-inner span')).first().click();\n-    waitSpinner();\n-\n+    abstract.waitSpinner();\n     abstract.doNext();\n \n     //plainSchemas\n     element.all(by.repeater('groupSchema in dynamicForm.groupSchemas')).then(function (groupSchema) {\n-      expect(groupSchema.length).toBe(2);\n+      expect(groupSchema.length).toBe(1);\n     });\n \n     element(by.css('[name=\"fullname\"]')).clear();\n     element(by.css('[name=\"fullname\"]')).sendKeys('Vincenzo Bellini');\n-    browser.manage().timeouts().pageLoadTimeout(5000);\n-\n     element(by.css('[name=\"userId\"]')).clear();\n     element(by.css('[name=\"userId\"]')).sendKeys('bellini@apache.org');\n-    browser.manage().timeouts().pageLoadTimeout(5000);\n \n     var selectedDate = element(by.model('selectedDate'));\n     selectedDate.clear();\n@@ -98,17 +81,13 @@ describe('syncope enduser user edit', function () {\n     element(by.css('[name=\"ctype\"]')).sendKeys('bellinictype');\n \n     abstract.doNext();\n-\n     //derSchemas\n     abstract.doNext();\n-\n     //virSchemas\n     abstract.doNext();\n-\n     //Resources\n     abstract.doNext();\n-\n     //Captcha\n-    abstract.doCancel();\n+    element.all(by.id('save')).last().click();\n   });\n });"},{"sha":"ed4211bf39422e8c788ff6cc170f51226d12dc78","filename":"fit/enduser-reference/src/test/resources/org/apache/syncope/client/enduser/protractor/tests/passwordreset.js","status":"renamed","additions":11,"deletions":14,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e821d5fd4d83f81bb5912e9b52bf90eb815f69ad/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fpasswordreset.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e821d5fd4d83f81bb5912e9b52bf90eb815f69ad/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fpasswordreset.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fpasswordreset.js?ref=e821d5fd4d83f81bb5912e9b52bf90eb815f69ad","patch":"@@ -17,24 +17,21 @@\n  * under the License.\n  */\n \n+\n var abstract = require('./abstract.js');\n \n-describe('syncope enduser user login', function () {\n+describe('syncope enduser user reset password', function () {\n \n-  it('should login user', function () {\n+  it('should reset password for user bellini', function () {\n+    console.log(\"password reset test\");\n     abstract.goHome();\n+    browser.wait(element(by.id('passwordreset')).isPresent());\n+    element(by.id('passwordreset')).click();\n \n-    element(by.model('credentials.username')).sendKeys('rossini');\n-    element(by.model('credentials.password')).sendKeys('password');\n-    element.all(by.options('language.name for language in languages.availableLanguages track by language.id')).\n-            then(function (language) {\n-              expect(language.length).toBe(3);\n-            });\n-    element.all(by.options('language.name for language in languages.availableLanguages track by language.id')).\n-            get(1).click();\n-    browser.driver.sleep(3000);\n-\n-    element(by.id('login-btn')).click();\n+    element(by.model('user.username')).sendKeys('donizetti');\n+    element(by.model('user.username')).sendKeys(protractor.Key.TAB);\n \n+    browser.wait(element(by.id('user.securityanswer')).isPresent());\n+    element(by.model('user.securityanswer')).sendKeys('Agata Ferlito');\n   });\n-});\n+});\n\\ No newline at end of file","previous_filename":"fit/enduser-reference/src/test/resources/org/apache/syncope/client/enduser/protractor/tests/login.js"}]}
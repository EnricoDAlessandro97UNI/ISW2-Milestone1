{"sha":"652b4e4f4942e9083f8fe3eda13462a71a5276a1","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjY1MmI0ZTRmNDk0MmU5MDgzZjhmZTNlZGExMzQ2MmE3MWE1Mjc2YTE=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-02-07T10:57:32Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-02-07T10:57:32Z"},"message":"[SYNCOPE-265] ldap connector: configuration was valid, the problem was an incorrect handling of empty properties during check()\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1443400 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"a8eecfa0a1045d52ed27d5369ab625c462406dce","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/a8eecfa0a1045d52ed27d5369ab625c462406dce"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/652b4e4f4942e9083f8fe3eda13462a71a5276a1","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/652b4e4f4942e9083f8fe3eda13462a71a5276a1","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/652b4e4f4942e9083f8fe3eda13462a71a5276a1","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/652b4e4f4942e9083f8fe3eda13462a71a5276a1/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"59f1a8bec7020660ec3194fd241f3d5b6e92cb16","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/59f1a8bec7020660ec3194fd241f3d5b6e92cb16","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/59f1a8bec7020660ec3194fd241f3d5b6e92cb16"}],"stats":{"total":93,"additions":43,"deletions":50},"files":[{"sha":"cd6fdb052ddaa5c0d0fd4af585236d67a17b1b41","filename":"console/src/main/java/org/apache/syncope/console/pages/ConnectorModalPage.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/652b4e4f4942e9083f8fe3eda13462a71a5276a1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/652b4e4f4942e9083f8fe3eda13462a71a5276a1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java?ref=652b4e4f4942e9083f8fe3eda13462a71a5276a1","patch":"@@ -321,7 +321,7 @@ public void onClick(final AjaxRequestTarget target) {\n                 connectorTO.setBundleName(bundleTO.getBundleName());\n                 connectorTO.setVersion(bundleTO.getVersion());\n \n-                if (restClient.check(connectorTO).booleanValue()) {\n+                if (restClient.check(connectorTO)) {\n                     info(getString(\"success_connection\"));\n                 } else {\n                     error(getString(\"error_connection\"));"},{"sha":"b610323d9ed1149c314b176443b0eb19da8b843b","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/ResourceConnConfPanel.java","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/652b4e4f4942e9083f8fe3eda13462a71a5276a1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceConnConfPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/652b4e4f4942e9083f8fe3eda13462a71a5276a1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceConnConfPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceConnConfPanel.java?ref=652b4e4f4942e9083f8fe3eda13462a71a5276a1","patch":"@@ -24,6 +24,7 @@\n import java.util.List;\n import org.apache.syncope.common.to.ResourceTO;\n import org.apache.syncope.common.types.ConnConfProperty;\n+import org.apache.syncope.console.markup.html.list.AltListView;\n import org.apache.syncope.console.pages.BaseModalPage;\n import org.apache.syncope.console.pages.ResourceModalPage.ResourceEvent;\n import org.apache.syncope.console.pages.panels.ResourceDetailsPanel.DetailsModEvent;\n@@ -45,7 +46,6 @@\n import org.apache.wicket.markup.html.basic.Label;\n import org.apache.wicket.markup.html.form.PasswordTextField;\n import org.apache.wicket.markup.html.list.ListItem;\n-import org.apache.wicket.markup.html.list.ListView;\n import org.apache.wicket.markup.html.panel.Panel;\n import org.apache.wicket.model.Model;\n import org.apache.wicket.model.PropertyModel;\n@@ -114,7 +114,7 @@ public ResourceConnConfPanel(final String id, final ResourceTO resourceTO, final\n             @Override\n             public void onClick(final AjaxRequestTarget target) {\n \n-                if (connRestClient.check(resourceTO).booleanValue()) {\n+                if (connRestClient.check(resourceTO)) {\n                     info(getString(\"success_connection\"));\n                 } else {\n                     error(getString(\"error_connection\"));\n@@ -130,8 +130,8 @@ public void onClick(final AjaxRequestTarget target) {\n         /*\n          * the list of overridable connector properties\n          */\n-        connConfPropContainer.add(new ListView<ConnConfProperty>(\"connectorProperties\", new PropertyModel(this,\n-                \"connConfProperties\")) {\n+        connConfPropContainer.add(new AltListView<ConnConfProperty>(\"connectorProperties\",\n+                new PropertyModel(this, \"connConfProperties\")) {\n \n             private static final long serialVersionUID = 9101744072914090143L;\n "},{"sha":"9ae53512a46926013af4edade2d13f434bdac1b6","filename":"console/src/main/java/org/apache/syncope/console/rest/ConnectorRestClient.java","status":"modified","additions":19,"deletions":19,"changes":38,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/652b4e4f4942e9083f8fe3eda13462a71a5276a1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Frest%2FConnectorRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/652b4e4f4942e9083f8fe3eda13462a71a5276a1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Frest%2FConnectorRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Frest%2FConnectorRestClient.java?ref=652b4e4f4942e9083f8fe3eda13462a71a5276a1","patch":"@@ -114,7 +114,6 @@ public List<ConnConfProperty> getConnectorProperties(final Long connectorId) {\n \n         try {\n             properties = getService(ConnectorService.class).getConfigurationProperties(connectorId);\n-\n         } catch (SyncopeClientCompositeErrorException e) {\n             LOG.error(\"While getting connector configuration properties\", e);\n         }\n@@ -147,38 +146,39 @@ private Set<ConnConfProperty> filterProperties(final Set<ConnConfProperty> prope\n     /**\n      * Test connector connection.\n      *\n-     * @param connectorTO connector.\n-     * @return Connection status.\n+     * @param connectorTO connector\n+     * @return Connection status\n      */\n-    public Boolean check(final ConnInstanceTO connectorTO) {\n-\n-        ConnInstanceTO connector = new ConnInstanceTO();\n-        BeanUtils.copyProperties(connectorTO, connector);\n-\n-        connector.setConfiguration(filterProperties(connector.getConfiguration()));\n-\n+    public boolean check(final ConnInstanceTO connectorTO) {\n+        ConnInstanceTO toBeChecked = new ConnInstanceTO();\n+        BeanUtils.copyProperties(connectorTO, toBeChecked, new String[]{\"configuration\"});\n+        toBeChecked.setConfiguration(filterProperties(connectorTO.getConfiguration()));\n+        \n+        boolean check = false;\n         try {\n-            return getService(ConnectorService.class).check(connectorTO);\n+            check = getService(ConnectorService.class).check(toBeChecked);\n         } catch (Exception e) {\n-            LOG.error(\"Connector not found {}\", connector, e);\n-            return false;\n+            LOG.error(\"While checking {}\", toBeChecked, e);\n         }\n+\n+        return check;\n     }\n \n     /**\n      * Test resource connection.\n      *\n-     * @param resourceTO\n-     * @return Connection status.\n+     * @param resourceTO resource\n+     * @return Connection status\n      */\n-    public Boolean check(final ResourceTO resourceTO) {\n-\n+    public boolean check(final ResourceTO resourceTO) {\n+        boolean check = false;\n         try {\n-            return getService(ResourceService.class).check(resourceTO);\n+            check = getService(ResourceService.class).check(resourceTO);\n         } catch (Exception e) {\n             LOG.error(\"Connector not found {}\", resourceTO.getConnectorId(), e);\n-            return false;\n         }\n+\n+        return check;\n     }\n \n     public List<String> getSchemaNames(final ConnInstanceTO connectorTO) {"},{"sha":"d6a70113f595b8637141576cf5a8bf39faaeedd4","filename":"console/src/main/resources/org/apache/syncope/console/pages/panels/ResourceConnConfPanel.html","status":"modified","additions":19,"deletions":26,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/652b4e4f4942e9083f8fe3eda13462a71a5276a1/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceConnConfPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/652b4e4f4942e9083f8fe3eda13462a71a5276a1/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceConnConfPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceConnConfPanel.html?ref=652b4e4f4942e9083f8fe3eda13462a71a5276a1","patch":"@@ -16,30 +16,23 @@\n specific language governing permissions and limitations\n under the License.\n -->\n-<html>\n-    <wicket:panel>\n-        <span wicket:id=\"connectorPropertiesContainer\">\n-            <div id=\"formtable\">\n-                <div class=\"tablerow\" wicket:id=\"connectorProperties\">\n-                    <div class=\"tablecolumn_label medium_fixedsize\">\n-                        <span wicket:id=\"connPropAttrSchema\">[connPropAttrSchema]</span>\n-                    </div>\n-                    <div class=\"tablecolumn_field medium_dynamicsize\">\n-                        <span wicket:id=\"panel\">[connPropAttrValue]</span>\n-                    </div>\n-                </div>\n-            </div>\n+<wicket:panel>\n+  <span wicket:id=\"connectorPropertiesContainer\">\n+    <div id=\"formtable\">\n+      <div class=\"tablerow\" wicket:id=\"connectorProperties\">\n+        <div class=\"tablecolumn_label medium_fixedsize\">\n+          <span wicket:id=\"connPropAttrSchema\">[connPropAttrSchema]</span>\n+        </div>\n+        <div class=\"tablecolumn_field medium_dynamicsize\">\n+          <span wicket:id=\"panel\">[connPropAttrValue]</span>\n+        </div>\n+      </div>\n+    </div>\n \n-            <script type=\"text/javascript\">\n-                $(function() {\n-                    $('div#connectorProperties div#formtable div.tablerow:even').addClass(\"alt\");\n-                });\n-            </script>\n-            <div>\n-                <label style=\"position: absolute; top: 10px; right:55px;\"><wicket:message key=\"check\"/></label>\n-                <a style=\"position: absolute; top: 2px; right:20px;\" wicket:id=\"check\">\n-                    <img src=\"img/ping.png\" width=\"30\" height=\"30\" /></a>\n-            </div>\n-        </span>\n-    </wicket:panel>\n-</html>\n+    <div>\n+      <label style=\"position: absolute; top: 10px; right:55px;\"><wicket:message key=\"check\"/></label>\n+      <a style=\"position: absolute; top: 2px; right:20px;\" wicket:id=\"check\">\n+        <img src=\"img/ping.png\" width=\"30\" height=\"30\" /></a>\n+    </div>\n+  </span>\n+</wicket:panel>"}]}
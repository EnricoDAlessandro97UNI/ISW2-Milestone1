{"sha":"a54f2adc6158bd94faeaeccc935601cff72a1837","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmE1NGYyYWRjNjE1OGJkOTRmYWVhZWNjYzkzNTYwMWNmZjcyYTE4Mzc=","commit":{"author":{"name":"Massimiliano Perrone","email":"massi@apache.org","date":"2013-02-26T17:05:15Z"},"committer":{"name":"Massimiliano Perrone","email":"massi@apache.org","date":"2013-02-26T17:05:15Z"},"message":"Added Jexl help tooltip into schema modal page SYNCOPE-210\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1450280 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"e9dcfb0bc760ec760c18e5d6b29b39e6b28efc7f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/e9dcfb0bc760ec760c18e5d6b29b39e6b28efc7f"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/a54f2adc6158bd94faeaeccc935601cff72a1837","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a54f2adc6158bd94faeaeccc935601cff72a1837","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/a54f2adc6158bd94faeaeccc935601cff72a1837","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a54f2adc6158bd94faeaeccc935601cff72a1837/comments","author":null,"committer":null,"parents":[{"sha":"b699522ed191d08c40959678000c2458c8663f1a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b699522ed191d08c40959678000c2458c8663f1a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/b699522ed191d08c40959678000c2458c8663f1a"}],"stats":{"total":244,"additions":129,"deletions":115},"files":[{"sha":"f5f84d5fe570226c9a15a0bbaff5da31d633f10a","filename":"console/src/main/java/org/apache/syncope/console/pages/SchemaModalPage.java","status":"modified","additions":9,"deletions":6,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a54f2adc6158bd94faeaeccc935601cff72a1837/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a54f2adc6158bd94faeaeccc935601cff72a1837/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.java?ref=a54f2adc6158bd94faeaeccc935601cff72a1837","patch":"@@ -30,18 +30,21 @@\n import org.apache.syncope.common.types.AttributableType;\n import org.apache.syncope.common.types.AttributeSchemaType;\n import org.apache.syncope.common.validation.SyncopeClientCompositeErrorException;\n+import org.apache.syncope.console.commons.JexlHelpUtil;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.apache.syncope.console.wicket.markup.html.form.MultiValueSelectorPanel;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n+import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.autocomplete.AutoCompleteTextField;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.form.DropDownChoice;\n import org.apache.wicket.markup.html.form.Form;\n import org.apache.wicket.model.CompoundPropertyModel;\n@@ -89,7 +92,6 @@ public void setSchemaModalPage(final PageReference pageRef, final ModalWindow wi\n                 getString(\"conversionPattern\"), new PropertyModel<String>(schema, \"conversionPattern\"));\n \n         final IModel<List<String>> validatorsList = new LoadableDetachableModel<List<String>>() {\n-\n             private static final long serialVersionUID = 5275935387613157437L;\n \n             @Override\n@@ -138,7 +140,6 @@ protected List<String> load() {\n         }\n \n         type.getField().add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n-\n             private static final long serialVersionUID = -1107858522700306810L;\n \n             @Override\n@@ -174,7 +175,6 @@ protected void onUpdate(final AjaxRequestTarget target) {\n         });\n \n         final AutoCompleteTextField mandatoryCondition = new AutoCompleteTextField(\"mandatoryCondition\") {\n-\n             private static final long serialVersionUID = -2428903969518079100L;\n \n             @Override\n@@ -197,14 +197,19 @@ protected Iterator<String> getChoices(String input) {\n         };\n \n         mandatoryCondition.add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n-\n             private static final long serialVersionUID = -1107858522700306810L;\n \n             @Override\n             protected void onUpdate(AjaxRequestTarget art) {\n             }\n         });\n \n+        final WebMarkupContainer pwdJexlHelp = JexlHelpUtil.getJexlHelpWebContainer(\"jexlHelp\");\n+        schemaForm.add(pwdJexlHelp);\n+\n+        final AjaxLink pwdQuestionMarkJexlHelp = JexlHelpUtil.getAjaxLink(pwdJexlHelp, \"questionMarkJexlHelp\");\n+        schemaForm.add(pwdQuestionMarkJexlHelp);\n+\n         final AjaxCheckBoxPanel multivalue = new AjaxCheckBoxPanel(\"multivalue\", getString(\"multivalue\"),\n                 new PropertyModel<Boolean>(schema, \"multivalue\"));\n \n@@ -215,7 +220,6 @@ protected void onUpdate(AjaxRequestTarget art) {\n                 getString(\"uniqueConstraint\"), new PropertyModel<Boolean>(schema, \"uniqueConstraint\"));\n \n         final AjaxButton submit = new IndicatingAjaxButton(\"apply\", new ResourceModel(\"submit\")) {\n-\n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n@@ -255,7 +259,6 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n         };\n \n         final AjaxButton cancel = new IndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\")) {\n-\n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override"},{"sha":"ebc6e847471aee799157fd7ff9f53d1764949ba0","filename":"console/src/main/resources/org/apache/syncope/console/pages/SchemaModalPage.html","status":"modified","additions":120,"deletions":109,"changes":229,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a54f2adc6158bd94faeaeccc935601cff72a1837/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a54f2adc6158bd94faeaeccc935601cff72a1837/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.html?ref=a54f2adc6158bd94faeaeccc935601cff72a1837","patch":"@@ -17,128 +17,139 @@\n under the License.\n -->\n <wicket:head>\n-  <style type=\"text/css\">\n-    /* Style for autocomplete field */\n-    div.wicket-aa {\n-      font-family: \"Lucida Grande\",\"Lucida Sans Unicode\",Tahoma,Verdana;\n-      font-size: 12px;\n-      background-color: white;\n-      border-width: 1px;\n-      border-color: #cccccc;\n-      border-style: solid;\n-      padding: 2px;\n-      margin: 1px 0 0 0;\n-      text-align:left;\n-    }\n-    div.wicket-aa ul { list-style:none; padding: 2px; margin:0; }\n-    div.wicket-aa ul li.selected { background-color: #FFFF00; padding: 2px; margin:0; }\n-  </style>\n+    <style type=\"text/css\">\n+        /* Style for autocomplete field */\n+        div.wicket-aa {\n+            font-family: \"Lucida Grande\",\"Lucida Sans Unicode\",Tahoma,Verdana;\n+            font-size: 12px;\n+            background-color: white;\n+            border-width: 1px;\n+            border-color: #cccccc;\n+            border-style: solid;\n+            padding: 2px;\n+            margin: 1px 0 0 0;\n+            text-align:left;\n+        }\n+        div.wicket-aa ul { list-style:none; padding: 2px; margin:0; }\n+        div.wicket-aa ul li.selected { background-color: #FFFF00; padding: 2px; margin:0; }\n+    </style>\n </wicket:head>\n <wicket:extend>\n-  <p class=\"ui-widget ui-corner-all ui-widget-header\"><wicket:message key=\"title\"/></p>\n+    <p class=\"ui-widget ui-corner-all ui-widget-header\"><wicket:message key=\"title\"/></p>\n <div style=\"margin:10px\">\n-  <form wicket:id=\"form\">\n-    <div id=\"formtable\">\n-      <div class=\"tablerow alt\">\n-        <div class=\"tablecolumn_label short_dynamicsize\">\n-          <label for=\"name\"><wicket:message key=\"name\"/></label>\n-        </div>\n-        <div class=\"tablecolumn_field medium_dynamicsize\">\n-          <span wicket:id=\"name\">[name]</span>\n-        </div>\n-      </div>\n+    <form wicket:id=\"form\">\n+        <div id=\"formtable\">\n+            <div class=\"tablerow alt\">\n+                <div class=\"tablecolumn_label short_dynamicsize\">\n+                    <label for=\"name\"><wicket:message key=\"name\"/></label>\n+                </div>\n+                <div class=\"tablecolumn_field medium_dynamicsize\">\n+                    <span wicket:id=\"name\">[name]</span>\n+                </div>\n+            </div>\n \n-      <div class=\"tablerow\">\n-        <div class=\"tablecolumn_label short_dynamicsize\">\n-          <label for=\"conversionPattern\"><wicket:message key=\"conversionPattern\"/></label>\n-        </div>\n-        <div class=\"tablecolumn_field medium_dynamicsize\">\n-          <span wicket:id=\"conversionPattern\">[conversionPattern]</span>\n-        </div>\n-      </div>\n+            <div class=\"tablerow\">\n+                <div class=\"tablecolumn_label short_dynamicsize\">\n+                    <label for=\"conversionPattern\"><wicket:message key=\"conversionPattern\"/></label>\n+                </div>\n+                <div class=\"tablecolumn_field medium_dynamicsize\">\n+                    <span wicket:id=\"conversionPattern\">[conversionPattern]</span>\n+                </div>\n+            </div>\n \n-      <div class=\"tablerow alt\">\n-        <div class=\"tablecolumn_label short_dynamicsize\">\n-          <label for=\"validatorClass\"><wicket:message key=\"validatorClass\"/></label>\n-        </div>\n-        <div class=\"tablecolumn_field medium_dynamicsize\">\n-          <span wicket:id=\"validatorClass\">[validatorClass]</span>\n-        </div>\n-      </div>\n+            <div class=\"tablerow alt\">\n+                <div class=\"tablecolumn_label short_dynamicsize\">\n+                    <label for=\"validatorClass\"><wicket:message key=\"validatorClass\"/></label>\n+                </div>\n+                <div class=\"tablecolumn_field medium_dynamicsize\">\n+                    <span wicket:id=\"validatorClass\">[validatorClass]</span>\n+                </div>\n+            </div>\n \n-      <div class=\"tablerow\">\n-        <div class=\"tablecolumn_label short_dynamicsize\">\n-          <label for=\"type\"><wicket:message key=\"type\"/></label>\n-        </div>\n-        <div class=\"tablecolumn_field medium_dynamicsize\">\n-          <span wicket:id=\"type\">[type]</span>\n-        </div>\n-      </div>\n+            <div class=\"tablerow\">\n+                <div class=\"tablecolumn_label short_dynamicsize\">\n+                    <label for=\"type\"><wicket:message key=\"type\"/></label>\n+                </div>\n+                <div class=\"tablecolumn_field medium_dynamicsize\">\n+                    <span wicket:id=\"type\">[type]</span>\n+                </div>\n+            </div>\n \n-      <div class=\"tablerow alt\">\n-        <div class=\"tablecolumn_label short_dynamicsize\">\n-          <label for=\"mandatoryCondition\"><wicket:message key=\"mandatoryCondition\"/></label>\n-        </div>\n-        <div class=\"tablecolumn_field medium_dynamicsize\">\n-          <input type=\"text\" class=\"ui-widget-content ui-corner-all\"\n-                 id=\"mandatoryCondition\" wicket:id=\"mandatoryCondition\"/>\n-        </div>\n-      </div>\n+            <div class=\"tablerow alt\">\n+                <div class=\"tablecolumn_label short_dynamicsize\">\n+                    <label for=\"mandatoryCondition\"><wicket:message key=\"mandatoryCondition\"/></label>\n+                </div>\n+                <div class=\"tablecolumn_field medium_dynamicsize\">\n+                    <input type=\"text\" class=\"ui-widget-content ui-corner-all\"\n+                           id=\"mandatoryCondition\" wicket:id=\"mandatoryCondition\"/>\n+                    <a wicket:id=\"questionMarkJexlHelp\" href=\"#\" alt=\"Click to help\" title=\"Click to help\"><img src=\"img/help.png\"/></a>\n+                    <div class=\"help\">\n+                        <div wicket:id=\"jexlHelp\" class=\"tooltip\" style=\"margin-left: -140px;\">\n+                            <wicket:message key=\"jexl_info\"/>\n+                            <ul>\n+                                <li><wicket:message key=\"jexl_ex1\"/></li>\n+                                <li><wicket:message key=\"jexl_ex2\"/></li>\n+                            </ul>\n+                            <a href=\"#\" wicket:id=\"jexlLink\" target=\"_blank\"><wicket:message key=\"jexl_syntax_url\"/></a>\n+                        </div>\n+                    </div>\n+                </div>\n+            </div>\n \n-      <div class=\"tablerow\">\n-        <div class=\"tablecolumn_label short_dynamicsize\">\n-          <label for=\"enumerationValues\"><wicket:message key=\"enumerationValues\"/></label>\n-        </div>\n-        <div class=\"tablecolumn_field medium_dynamicsize\">\n-          <span wicket:id=\"enumerationValues\">[enumerationValues]</span>\n-        </div>\n-      </div>\n+            <div class=\"tablerow\">\n+                <div class=\"tablecolumn_label short_dynamicsize\">\n+                    <label for=\"enumerationValues\"><wicket:message key=\"enumerationValues\"/></label>\n+                </div>\n+                <div class=\"tablecolumn_field medium_dynamicsize\">\n+                    <span wicket:id=\"enumerationValues\">[enumerationValues]</span>\n+                </div>\n+            </div>\n \n-      <div class=\"tablerow alt\">\n-        <div class=\"tablecolumn_label short_dynamicsize\">\n-          <label for=\"enumerationKeys\"><wicket:message key=\"enumerationKeys\"/></label>\n-        </div>\n-        <div class=\"tablecolumn_field medium_dynamicsize\">\n-          <span wicket:id=\"enumerationKeys\">[enumerationValues]</span>\n-        </div>\n-      </div>\n+            <div class=\"tablerow alt\">\n+                <div class=\"tablecolumn_label short_dynamicsize\">\n+                    <label for=\"enumerationKeys\"><wicket:message key=\"enumerationKeys\"/></label>\n+                </div>\n+                <div class=\"tablecolumn_field medium_dynamicsize\">\n+                    <span wicket:id=\"enumerationKeys\">[enumerationValues]</span>\n+                </div>\n+            </div>\n \n-      <div class=\"tablerow\">\n-        <div class=\"tablecolumn_label short_dynamicsize\">\n-          <label for=\"multivalue\" class=\"onerowlabel\"><wicket:message key=\"multivalue\"/></label>\n-        </div>\n-        <div class=\"tablecolumn_field medium_dynamicsize\">\n-          <span wicket:id=\"multivalue\">[multivalue]</span>\n-        </div>\n-      </div>\n+            <div class=\"tablerow\">\n+                <div class=\"tablecolumn_label short_dynamicsize\">\n+                    <label for=\"multivalue\" class=\"onerowlabel\"><wicket:message key=\"multivalue\"/></label>\n+                </div>\n+                <div class=\"tablecolumn_field medium_dynamicsize\">\n+                    <span wicket:id=\"multivalue\">[multivalue]</span>\n+                </div>\n+            </div>\n \n-      <div class=\"tablerow alt\">\n-        <div class=\"tablecolumn_label short_dynamicsize\">\n-          <label for=\"readonly\" class=\"onerowlabel\"><wicket:message key=\"readonly\"/></label>\n-        </div>\n-        <div class=\"tablecolumn_field medium_dynamicsize\">\n-          <span wicket:id=\"readonly\">[readonly]</span>\n-        </div>\n-      </div>\n+            <div class=\"tablerow alt\">\n+                <div class=\"tablecolumn_label short_dynamicsize\">\n+                    <label for=\"readonly\" class=\"onerowlabel\"><wicket:message key=\"readonly\"/></label>\n+                </div>\n+                <div class=\"tablecolumn_field medium_dynamicsize\">\n+                    <span wicket:id=\"readonly\">[readonly]</span>\n+                </div>\n+            </div>\n \n-      <div class=\"tablerow\">\n-        <div class=\"tablecolumn_label short_dynamicsize\">\n-          <label for=\"uniqueConstraint\" class=\"onerowlabel\"><wicket:message key=\"uniqueConstraint\"/></label>\n-        </div>\n-        <div class=\"tablecolumn_field medium_dynamicsize\">\n-          <span wicket:id=\"uniqueConstraint\">[uniqueConstraint]</span>\n+            <div class=\"tablerow\">\n+                <div class=\"tablecolumn_label short_dynamicsize\">\n+                    <label for=\"uniqueConstraint\" class=\"onerowlabel\"><wicket:message key=\"uniqueConstraint\"/></label>\n+                </div>\n+                <div class=\"tablecolumn_field medium_dynamicsize\">\n+                    <span wicket:id=\"uniqueConstraint\">[uniqueConstraint]</span>\n+                </div>\n+            </div>\n         </div>\n-      </div>\n-    </div>\n \n-    <div style=\"margin: 10px 0px 0\">\n-      <input type=\"submit\"\n-             class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\"\n-             wicket:id=\"apply\"/>\n-      <input type=\"button\"\n-             class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\"\n-             wicket:id=\"cancel\"/>      \n-    </div>\n-  </form>\n+        <div style=\"margin: 10px 0px 0\">\n+            <input type=\"submit\"\n+                   class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\"\n+                   wicket:id=\"apply\"/>\n+            <input type=\"button\"\n+                   class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\"\n+                   wicket:id=\"cancel\"/>      \n+        </div>\n+    </form>\n </div>\n </wicket:extend>"}]}
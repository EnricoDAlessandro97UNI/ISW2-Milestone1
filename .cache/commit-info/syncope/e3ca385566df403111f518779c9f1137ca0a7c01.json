{"sha":"e3ca385566df403111f518779c9f1137ca0a7c01","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmUzY2EzODU1NjZkZjQwMzExMWY1MTg3NzljOWYxMTM3Y2EwYTdjMDE=","commit":{"author":{"name":"Marco Di Sabatino Di Diodoro","email":"marco.disabatino@tirasa.net","date":"2017-05-25T10:46:21Z"},"committer":{"name":"Marco Di Sabatino Di Diodoro","email":"marco.disabatino@tirasa.net","date":"2017-05-25T10:47:22Z"},"message":"[SYNCOPE-1095] Provide preview for json and xml binary field","tree":{"sha":"0c97c5dbb9bf3c252c895cb3679f29347078348d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/0c97c5dbb9bf3c252c895cb3679f29347078348d"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/e3ca385566df403111f518779c9f1137ca0a7c01","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e3ca385566df403111f518779c9f1137ca0a7c01","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/e3ca385566df403111f518779c9f1137ca0a7c01","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e3ca385566df403111f518779c9f1137ca0a7c01/comments","author":{"login":"mdisabatino","id":1792527,"node_id":"MDQ6VXNlcjE3OTI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1792527?v=4","gravatar_id":"","url":"https://api.github.com/users/mdisabatino","html_url":"https://github.com/mdisabatino","followers_url":"https://api.github.com/users/mdisabatino/followers","following_url":"https://api.github.com/users/mdisabatino/following{/other_user}","gists_url":"https://api.github.com/users/mdisabatino/gists{/gist_id}","starred_url":"https://api.github.com/users/mdisabatino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdisabatino/subscriptions","organizations_url":"https://api.github.com/users/mdisabatino/orgs","repos_url":"https://api.github.com/users/mdisabatino/repos","events_url":"https://api.github.com/users/mdisabatino/events{/privacy}","received_events_url":"https://api.github.com/users/mdisabatino/received_events","type":"User","site_admin":false},"committer":{"login":"mdisabatino","id":1792527,"node_id":"MDQ6VXNlcjE3OTI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1792527?v=4","gravatar_id":"","url":"https://api.github.com/users/mdisabatino","html_url":"https://github.com/mdisabatino","followers_url":"https://api.github.com/users/mdisabatino/followers","following_url":"https://api.github.com/users/mdisabatino/following{/other_user}","gists_url":"https://api.github.com/users/mdisabatino/gists{/gist_id}","starred_url":"https://api.github.com/users/mdisabatino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdisabatino/subscriptions","organizations_url":"https://api.github.com/users/mdisabatino/orgs","repos_url":"https://api.github.com/users/mdisabatino/repos","events_url":"https://api.github.com/users/mdisabatino/events{/privacy}","received_events_url":"https://api.github.com/users/mdisabatino/received_events","type":"User","site_admin":false},"parents":[{"sha":"5b2ce7178634958a889ae27eb2cef371c1f14d5d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5b2ce7178634958a889ae27eb2cef371c1f14d5d","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/5b2ce7178634958a889ae27eb2cef371c1f14d5d"}],"stats":{"total":16,"additions":9,"deletions":7},"files":[{"sha":"33558d1e006e6530a320e129cd75233172e7c3e9","filename":"client/console/src/main/java/org/apache/syncope/client/console/wicket/markup/html/form/preview/BinaryTextPreviewer.java","status":"modified","additions":7,"deletions":4,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e3ca385566df403111f518779c9f1137ca0a7c01/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2Fpreview%2FBinaryTextPreviewer.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e3ca385566df403111f518779c9f1137ca0a7c01/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2Fpreview%2FBinaryTextPreviewer.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2Fpreview%2FBinaryTextPreviewer.java?ref=e3ca385566df403111f518779c9f1137ca0a7c01","patch":"@@ -37,6 +37,8 @@ public class BinaryTextPreviewer extends AbstractBinaryPreviewer {\n \n     private static final long serialVersionUID = 3808379310090668773L;\n \n+    private String jsonEditorInfoId;\n+\n     public BinaryTextPreviewer(final String id, final String mimeType) {\n         super(id, mimeType);\n     }\n@@ -51,7 +53,8 @@ public Component preview(final byte[] uploadedBytes) {\n                 InputStream stream = new ByteArrayInputStream(uploadedBytes);\n                 TextArea<String> jsonEditor =\n                         new TextArea<>(\"jsonEditorInfo\", new Model<>(IOUtils.toString(stream)));\n-                jsonEditor.setMarkupId(\"jsonEditorInfo\").setOutputMarkupPlaceholderTag(true);\n+                jsonEditor.setOutputMarkupPlaceholderTag(true);\n+                jsonEditorInfoId = jsonEditor.getMarkupId();\n                 fragment.add(jsonEditor);\n             } catch (IOException e) {\n                 LOG.error(\"Error evaluating text file\", e);\n@@ -81,13 +84,13 @@ public void renderHead(final IHeaderResponse response) {\n         }\n \n         response.render(OnLoadHeaderItem.forScript(\n-                \"var editor = CodeMirror.fromTextArea(document.getElementById('jsonEditorInfo'), {\"\n+                \"var editor = CodeMirror.fromTextArea(document.getElementById('\" + jsonEditorInfoId + \"'), {\"\n                 + \"  readOnly: true, \"\n                 + \"  lineNumbers: true, \"\n-                + \"  lineWrapping: true, \"\n+                + \"  lineWrapping: false, \"\n                 + options\n                 + \"  autoRefresh: true\"\n                 + \"});\"\n-                + \"editor.setSize('100%', 100)\"));\n+                + \"editor.setSize('500', 100)\"));\n     }\n }"},{"sha":"aa730cf69444b8e0f9d1fc4bf1539c4b5698417d","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/preview/BinaryTextPreviewer.html","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e3ca385566df403111f518779c9f1137ca0a7c01/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2Fpreview%2FBinaryTextPreviewer.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e3ca385566df403111f518779c9f1137ca0a7c01/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2Fpreview%2FBinaryTextPreviewer.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2Fpreview%2FBinaryTextPreviewer.html?ref=e3ca385566df403111f518779c9f1137ca0a7c01","patch":"@@ -33,7 +33,6 @@\n         font-family: Verdana,Tahoma,sans-serif;\n         font-size: 100%;\n         border: 1px solid #BBBBBB;\n-        padding: 1%;\n       }\n     </style>\n   </wicket:head>\n@@ -42,8 +41,8 @@\n       <span wicket:id=\"preview\"/>\n     </div>\n     <wicket:fragment wicket:id=\"previewFragment\">\n-      <div>\n-        <textarea wicket:id=\"jsonEditorInfo\" id=\"consoleLayoutInfo\" name=\"jsonEditorInfo\" style=\"width: 100%; height: 100px;\"></textarea>\n+      <div style=\"w_content_3\">\n+        <textarea wicket:id=\"jsonEditorInfo\" name=\"jsonEditorInfo\" ></textarea>\n       </div>\n     </wicket:fragment>\n     <wicket:fragment wicket:id=\"noPreviewFragment\">"}]}
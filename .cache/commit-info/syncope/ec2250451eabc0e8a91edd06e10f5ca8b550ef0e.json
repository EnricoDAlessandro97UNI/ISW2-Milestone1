{"sha":"ec2250451eabc0e8a91edd06e10f5ca8b550ef0e","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmVjMjI1MDQ1MWVhYmMwZThhOTFlZGQwNmUxMGY1Y2E4YjU1MGVmMGU=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2020-10-15T04:24:24Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2020-10-15T04:32:28Z"},"message":"Reverting Jackson upgrade to RC\n\nThis reverts commit 0743b60bcd109ad2d16a1e2412d98e7099cbcaa2.","tree":{"sha":"819b4f3f16a3ba0fbebc1ec1b745adcfddf2a4ad","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/819b4f3f16a3ba0fbebc1ec1b745adcfddf2a4ad"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"346dfe033d07e03b0e37b303f986e6a40b7e9f8f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/346dfe033d07e03b0e37b303f986e6a40b7e9f8f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/346dfe033d07e03b0e37b303f986e6a40b7e9f8f"}],"stats":{"total":31,"additions":14,"deletions":17},"files":[{"sha":"25f2a2a8a0909a0eb0e5665601d72431a0dbe0f6","filename":"common/am/lib/src/test/java/org/apache/syncope/common/lib/XMLTest.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e/common%2Fam%2Flib%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2FXMLTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e/common%2Fam%2Flib%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2FXMLTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fam%2Flib%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2FXMLTest.java?ref=ec2250451eabc0e8a91edd06e10f5ca8b550ef0e","patch":"@@ -22,7 +22,6 @@\n import com.fasterxml.jackson.annotation.Nulls;\n import com.fasterxml.jackson.databind.ObjectMapper;\n import com.fasterxml.jackson.dataformat.xml.XmlMapper;\n-import com.fasterxml.jackson.dataformat.xml.deser.FromXmlParser;\n import java.util.List;\n import java.util.Map;\n import java.util.Set;\n@@ -36,7 +35,6 @@ public class XMLTest extends SerializationTest {\n         XML_MAPPER.configOverride(List.class).setSetterInfo(JsonSetter.Value.forValueNulls(Nulls.AS_EMPTY));\n         XML_MAPPER.configOverride(Set.class).setSetterInfo(JsonSetter.Value.forValueNulls(Nulls.AS_EMPTY));\n         XML_MAPPER.configOverride(Map.class).setSetterInfo(JsonSetter.Value.forValueNulls(Nulls.AS_EMPTY));\n-        XML_MAPPER.enable(FromXmlParser.Feature.EMPTY_ELEMENT_AS_NULL);\n     }\n \n     @Override"},{"sha":"dcf9fecf65217734e5853d01edd5737e222c434f","filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/jackson/SyncopeXmlMapper.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fjackson%2FSyncopeXmlMapper.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fjackson%2FSyncopeXmlMapper.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fjackson%2FSyncopeXmlMapper.java?ref=ec2250451eabc0e8a91edd06e10f5ca8b550ef0e","patch":"@@ -22,7 +22,6 @@\n import com.fasterxml.jackson.annotation.Nulls;\n import com.fasterxml.jackson.databind.SerializationFeature;\n import com.fasterxml.jackson.dataformat.xml.XmlMapper;\n-import com.fasterxml.jackson.dataformat.xml.deser.FromXmlParser;\n import com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\n import com.fasterxml.jackson.module.afterburner.AfterburnerModule;\n import java.util.List;\n@@ -44,6 +43,5 @@ public SyncopeXmlMapper() {\n         configOverride(List.class).setSetterInfo(JsonSetter.Value.forValueNulls(Nulls.AS_EMPTY));\n         configOverride(Set.class).setSetterInfo(JsonSetter.Value.forValueNulls(Nulls.AS_EMPTY));\n         configOverride(Map.class).setSetterInfo(JsonSetter.Value.forValueNulls(Nulls.AS_EMPTY));\n-        enable(FromXmlParser.Feature.EMPTY_ELEMENT_AS_NULL);\n     }\n }"},{"sha":"25f2a2a8a0909a0eb0e5665601d72431a0dbe0f6","filename":"common/idrepo/lib/src/test/java/org/apache/syncope/common/lib/XMLTest.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e/common%2Fidrepo%2Flib%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2FXMLTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e/common%2Fidrepo%2Flib%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2FXMLTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2FXMLTest.java?ref=ec2250451eabc0e8a91edd06e10f5ca8b550ef0e","patch":"@@ -22,7 +22,6 @@\n import com.fasterxml.jackson.annotation.Nulls;\n import com.fasterxml.jackson.databind.ObjectMapper;\n import com.fasterxml.jackson.dataformat.xml.XmlMapper;\n-import com.fasterxml.jackson.dataformat.xml.deser.FromXmlParser;\n import java.util.List;\n import java.util.Map;\n import java.util.Set;\n@@ -36,7 +35,6 @@ public class XMLTest extends SerializationTest {\n         XML_MAPPER.configOverride(List.class).setSetterInfo(JsonSetter.Value.forValueNulls(Nulls.AS_EMPTY));\n         XML_MAPPER.configOverride(Set.class).setSetterInfo(JsonSetter.Value.forValueNulls(Nulls.AS_EMPTY));\n         XML_MAPPER.configOverride(Map.class).setSetterInfo(JsonSetter.Value.forValueNulls(Nulls.AS_EMPTY));\n-        XML_MAPPER.enable(FromXmlParser.Feature.EMPTY_ELEMENT_AS_NULL);\n     }\n \n     @Override"},{"sha":"e71448049ee8a0097670a5119032a1901b4dba9d","filename":"ext/flowable/common-lib/src/test/java/org/apache/syncope/common/lib/to/XMLTest.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e/ext%2Fflowable%2Fcommon-lib%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FXMLTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e/ext%2Fflowable%2Fcommon-lib%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FXMLTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fcommon-lib%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FXMLTest.java?ref=ec2250451eabc0e8a91edd06e10f5ca8b550ef0e","patch":"@@ -22,7 +22,6 @@\n import com.fasterxml.jackson.annotation.Nulls;\n import com.fasterxml.jackson.databind.ObjectMapper;\n import com.fasterxml.jackson.dataformat.xml.XmlMapper;\n-import com.fasterxml.jackson.dataformat.xml.deser.FromXmlParser;\n import java.util.List;\n import java.util.Map;\n import java.util.Set;\n@@ -36,7 +35,6 @@ public class XMLTest extends SerializationTest {\n         XML_MAPPER.configOverride(List.class).setSetterInfo(JsonSetter.Value.forValueNulls(Nulls.AS_EMPTY));\n         XML_MAPPER.configOverride(Set.class).setSetterInfo(JsonSetter.Value.forValueNulls(Nulls.AS_EMPTY));\n         XML_MAPPER.configOverride(Map.class).setSetterInfo(JsonSetter.Value.forValueNulls(Nulls.AS_EMPTY));\n-        XML_MAPPER.enable(FromXmlParser.Feature.EMPTY_ELEMENT_AS_NULL);\n     }\n \n     @Override"},{"sha":"12c59eff8b10219b2a6527eefbaa6600d0c5ff4c","filename":"ext/self-keymaster/logic/src/main/java/org/apache/syncope/core/logic/ConfParamLogic.java","status":"modified","additions":6,"deletions":1,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e/ext%2Fself-keymaster%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FConfParamLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e/ext%2Fself-keymaster%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FConfParamLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fself-keymaster%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FConfParamLogic.java?ref=ec2250451eabc0e8a91edd06e10f5ca8b550ef0e","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.core.logic;\n \n+import com.fasterxml.jackson.core.JsonProcessingException;\n import com.fasterxml.jackson.databind.JsonNode;\n import com.fasterxml.jackson.databind.ObjectMapper;\n import java.lang.reflect.Method;\n@@ -50,7 +51,11 @@ public class ConfParamLogic extends AbstractTransactionalLogic<EntityTO> {\n     public Map<String, Object> list() {\n         Map<String, Object> params = new TreeMap<>();\n         confParamDAO.findAll().forEach(param -> {\n-            params.put(param.getKey(), MAPPER.treeToValue(param.getValue(), Object.class));\n+            try {\n+                params.put(param.getKey(), MAPPER.treeToValue(param.getValue(), Object.class));\n+            } catch (JsonProcessingException e) {\n+                LOG.error(\"While processing {}'s value\", param.getKey(), e);\n+            }\n         });\n         return params;\n     }"},{"sha":"3d46caec96015361cceee9bcb3f8a2036a81317d","filename":"ext/self-keymaster/rest-cxf/src/main/java/org/apache/syncope/ext/self/keymaster/cxf/client/SelfKeymasterInternalConfParamOps.java","status":"modified","additions":7,"deletions":1,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e/ext%2Fself-keymaster%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fext%2Fself%2Fkeymaster%2Fcxf%2Fclient%2FSelfKeymasterInternalConfParamOps.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e/ext%2Fself-keymaster%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fext%2Fself%2Fkeymaster%2Fcxf%2Fclient%2FSelfKeymasterInternalConfParamOps.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fself-keymaster%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fext%2Fself%2Fkeymaster%2Fcxf%2Fclient%2FSelfKeymasterInternalConfParamOps.java?ref=ec2250451eabc0e8a91edd06e10f5ca8b550ef0e","patch":"@@ -20,6 +20,7 @@\n \n import com.fasterxml.jackson.databind.JsonNode;\n import com.fasterxml.jackson.databind.ObjectMapper;\n+import java.io.IOException;\n import java.util.List;\n import java.util.Map;\n import org.apache.syncope.common.keymaster.client.api.ConfParamOps;\n@@ -63,7 +64,12 @@ public <T> T get(final String domain, final String key, final T defaultValue, fi\n             return defaultValue;\n         }\n \n-        return MAPPER.treeToValue(valueNode, reference);\n+        try {\n+            return MAPPER.treeToValue(valueNode, reference);\n+        } catch (IOException e) {\n+            LOG.error(\"Could not deserialize {}\", valueNode, e);\n+            return defaultValue;\n+        }\n     }\n \n     @Override"},{"sha":"88cb4221749457a92b4b63c325fb9f65ce24e7ae","filename":"pom.xml","status":"modified","additions":1,"deletions":7,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ec2250451eabc0e8a91edd06e10f5ca8b550ef0e/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=ec2250451eabc0e8a91edd06e10f5ca8b550ef0e","patch":"@@ -407,7 +407,7 @@ under the License.\n     <cxf.version>3.4.0</cxf.version>\n     <bouncycastle.version>1.66</bouncycastle.version>\n \n-    <jackson.version>2.12.0-rc1</jackson.version>\n+    <jackson.version>2.11.3</jackson.version>\n \n     <spring.version>5.2.9.RELEASE</spring.version>\n     <spring-security.version>5.4.1</spring-security.version>\n@@ -805,12 +805,6 @@ under the License.\n         <groupId>com.fasterxml.jackson.jaxrs</groupId>\n         <artifactId>jackson-jaxrs-json-provider</artifactId>\n         <version>${jackson.version}</version>\n-        <exclusions>\n-          <exclusion>\n-            <groupId>com.fasterxml.jackson.module</groupId>\n-            <artifactId>jackson-module-jaxb-annotations</artifactId>\n-          </exclusion>\n-        </exclusions>\n       </dependency>\n       <dependency>\n         <groupId>com.fasterxml.jackson.jaxrs</groupId>"}]}
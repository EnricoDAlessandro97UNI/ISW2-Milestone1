{"sha":"6394bcac5147d9e609846e3823b4c7f71e8abe9d","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjYzOTRiY2FjNTE0N2Q5ZTYwOTg0NmUzODIzYjRjN2Y3MWU4YWJlOWQ=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2011-01-11T11:33:35Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2011-01-11T11:33:35Z"},"message":"Code updates to latest changes\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1246723 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"15252a6b99349d3d043bcec58dcafb0cb19d5449","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/15252a6b99349d3d043bcec58dcafb0cb19d5449"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/6394bcac5147d9e609846e3823b4c7f71e8abe9d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/6394bcac5147d9e609846e3823b4c7f71e8abe9d","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/6394bcac5147d9e609846e3823b4c7f71e8abe9d","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/6394bcac5147d9e609846e3823b4c7f71e8abe9d/comments","author":null,"committer":null,"parents":[{"sha":"bbee22b7354916ce2365be87054e8a11a33fee2f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bbee22b7354916ce2365be87054e8a11a33fee2f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/bbee22b7354916ce2365be87054e8a11a33fee2f"}],"stats":{"total":102,"additions":63,"deletions":39},"files":[{"sha":"3c25d8863afcd994da7f1616466e823278a794ca","filename":"console/src/main/java/org/syncope/console/pages/DerivedSchemaModalPage.java","status":"modified","additions":1,"deletions":3,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.java?ref=6394bcac5147d9e609846e3823b4c7f71e8abe9d","patch":"@@ -69,8 +69,6 @@ public DerivedSchemaModalPage(final BasePage basePage,\n \n         schemaForm.setModel(new CompoundPropertyModel(schema));\n \n-        schemaForm.add(feedbackPanel);\n-\n         name = new TextField(\"name\");\n         name.setRequired(true);\n \n@@ -119,7 +117,7 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n \n             @Override\n             protected void onError(AjaxRequestTarget target, Form form) {\n-                target.addComponent(form.get(\"feedback\"));\n+                target.addComponent(feedbackPanel);\n             }\n         };\n "},{"sha":"d5a5c2035b8e8140975f0b2f43eef410cbaed248","filename":"console/src/main/java/org/syncope/console/pages/MembershipModalPage.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.java?ref=6394bcac5147d9e609846e3823b4c7f71e8abe9d","patch":"@@ -241,7 +241,7 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n \n             @Override\n             protected void onError(AjaxRequestTarget target, Form form) {\n-                target.addComponent(form.get(\"feedback\"));\n+                target.addComponent(feedbackPanel);\n             }\n         };\n \n@@ -263,7 +263,6 @@ protected void onError(AjaxRequestTarget target, Form form) {\n         container.add(userAttributesView);\n         container.setOutputMarkupId(true);\n \n-        form.add(feedbackPanel);\n         form.add(container);\n \n         add(form);"},{"sha":"e1c15970f777072a6548e28d51d94b6bfa3a6401","filename":"console/src/main/java/org/syncope/console/pages/RoleModalPage.java","status":"modified","additions":26,"deletions":4,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java?ref=6394bcac5147d9e609846e3823b4c7f71e8abe9d","patch":"@@ -360,6 +360,7 @@ protected void onSubmit(final AjaxRequestTarget target,\n                         setupRoleMod(roleTO);\n                         //Update role just if it is changed\n                         if (roleMod != null) {\n+                            LOG.debug(\"Rolemod is {}\", roleMod);\n                             res = roleRestClient.updateRole(roleMod);\n                             if (!res) {\n                                 error(getString(\"error\"));\n@@ -519,21 +520,28 @@ public void cloneOldRoleTO(RoleTO roleTO) {\n         oldRole.setAttributes(attributes);\n \n         oldRole.setResources(roleTO.getResources());\n+\n+        List<String> entList = new ArrayList<String>();\n+\n+        for(String entitlement : roleTO.getEntitlements())\n+            entList.add(entitlement);\n+\n+        oldRole.setEntitlements(entList);\n     }\n \n     public void setupRoleMod(final RoleTO roleTO) {\n-//1.Check if the role's name has been changed\n+        //1.Check if the role's name has been changed\n         if (!oldRole.getName().equals(roleTO.getName())) {\n             roleMod = new RoleMod();\n             roleMod.setName(roleTO.getName());\n         }\n \n-//2.Search and update role's attributes\n+        //2.Search and update role's attributes\n         for (AttributeTO attributeTO : roleTO.getAttributes()) {\n             searchAndUpdateAttribute(attributeTO);\n         }\n \n-//3.Search and update role's resources\n+        //3.Search and update role's resources\n         for (String resource : roleTO.getResources()) {\n             searchAndAddResource(resource);\n         }\n@@ -542,9 +550,23 @@ public void setupRoleMod(final RoleTO roleTO) {\n             searchAndDropResource(resource, roleTO);\n         }\n \n+        //4.Check if entitlements' list has been changed\n+        if(!oldRole.getEntitlements().equals(roleTO.getEntitlements()))\n+           roleMod.setEntitlements(roleTO.getEntitlements());\n+\n         if (roleMod != null) {\n             roleMod.setId(oldRole.getId());\n-            roleMod.setEntitlements(roleTO.getEntitlements());\n+\n+            if(!oldRole.getEntitlements().equals(roleTO.getEntitlements())){\n+\n+               LOG.debug(\"OLD ROLE ENT LIST: {}\", oldRole.getEntitlements());\n+\n+               LOG.debug(\"ROLE ENT LIST: {}\", roleTO.getEntitlements());\n+\n+               roleMod.setEntitlements(roleTO.getEntitlements());\n+            }\n+            else\n+                roleMod.setEntitlements(oldRole.getEntitlements());\n         }\n     }\n "},{"sha":"52c96013036575dafd28045778fb64bc4dc6baa0","filename":"console/src/main/java/org/syncope/console/pages/UserModalPage.java","status":"modified","additions":3,"deletions":2,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java?ref=6394bcac5147d9e609846e3823b4c7f71e8abe9d","patch":"@@ -386,12 +386,13 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n                                 error(getString(\"error_updating\"));\n                             }\n \n-                            Users callerPage = (Users) basePage;\n-                            callerPage.setOperationResult(true);\n                         }\n \n                     }\n \n+                    Users callerPage = (Users) basePage;\n+                    callerPage.setOperationResult(true);\n+\n                     window.close(target);\n \n                 } catch (SyncopeClientCompositeErrorException e) {"},{"sha":"dc134c1a684209c2b6a465e1c7453af76dd0bee2","filename":"console/src/main/java/org/syncope/console/pages/Users.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.java?ref=6394bcac5147d9e609846e3823b4c7f71e8abe9d","patch":"@@ -566,9 +566,6 @@ public void onClick(AjaxRequestTarget target) {\n         changeAttribsViewWin.setPageMapName(\"change-attribs-modal\");\n         changeAttribsViewWin.setCookieName(\"change-attribs-modal\");\n \n-        setWindowClosedCallback(createUserWin, usersTableSearchContainer);\n-        setWindowClosedCallback(editUserWin, usersTableSearchContainer);\n-\n         changeAttribsViewWin.setWindowClosedCallback(\n                 new ModalWindow.WindowClosedCallback() {\n \n@@ -709,6 +706,9 @@ protected Object load() {\n         usersTableSearchContainer = new WebMarkupContainer(\"container\");\n         usersTableSearchContainer.setOutputMarkupId(true);\n \n+        setWindowClosedCallback(createUserWin, usersTableContainer);\n+        setWindowClosedCallback(editUserWin, usersTableSearchContainer);\n+\n         ListView searchView = new ListView(\"searchView\", searchConditionsList) {\n \n             @Override"},{"sha":"e65bd180e9fb447a4a9c8bbc315ed9fe19c548d3","filename":"console/src/main/java/org/syncope/console/rest/ConfigurationRestClient.java","status":"modified","additions":9,"deletions":6,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FConfigurationRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FConfigurationRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FConfigurationRestClient.java?ref=6394bcac5147d9e609846e3823b4c7f71e8abe9d","patch":"@@ -82,12 +82,15 @@ public boolean createConfiguration(ConfigurationTO configurationTO) {\n      * @return true if the operation ends succesfully, false otherwise\n      */\n     public boolean updateConfiguration(ConfigurationTO configurationTO) {\n-\n-        ConfigurationTO newConfigurationTO =\n-                restTemplate.postForObject(baseURL\n-                + \"configuration/update\",\n-                configurationTO, ConfigurationTO.class);\n-\n+    ConfigurationTO newConfigurationTO = null;\n+\n+        try {\n+        newConfigurationTO = restTemplate.postForObject(baseURL+ \n+                \"configuration/update\", configurationTO, ConfigurationTO.class);\n+        } catch(SyncopeClientCompositeErrorException e) {\n+            LOG.error(\"While updating a configuration\", e);\n+            return false;\n+        }\n         return (configurationTO.equals(newConfigurationTO)) ? true : false;\n     }\n "},{"sha":"4d5162fe61f5b621ca9d97e4270d68d026844362","filename":"console/src/main/resources/org/syncope/console/pages/ConfigurationModalPage.properties","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConfigurationModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConfigurationModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConfigurationModalPage.properties?ref=6394bcac5147d9e609846e3823b4c7f71e8abe9d","patch":"@@ -5,4 +5,4 @@ submit=Save\n key=Key\n value=Value\n error_insert=Error occurred during creation\n-erro_updating=Error occurred during updating\n+error_updating=Error occurred during updating"},{"sha":"d5885565ec15358938a0ae951ab898c006112296","filename":"console/src/main/resources/org/syncope/console/pages/ConfigurationModalPage_it.properties","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConfigurationModalPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConfigurationModalPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConfigurationModalPage_it.properties?ref=6394bcac5147d9e609846e3823b4c7f71e8abe9d","patch":"@@ -5,4 +5,4 @@ submit=Salva\n key=Chiave\n value=Valore\n error_insert=Errore durante la creazione\n-erro_updating=Errore durante l'aggiornamento\n+error_updating=Errore durante l'aggiornamento"},{"sha":"7b521ac1a81c30e7df067709c602e2a9b04f5f0d","filename":"console/src/main/resources/org/syncope/console/pages/ResourceModalPage.html","status":"modified","additions":10,"deletions":9,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.html?ref=6394bcac5147d9e609846e3823b4c7f71e8abe9d","patch":"@@ -50,19 +50,20 @@\n                 <select id=\"connector\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"connectors\" />\n \n                 <label for=\"mappingUserSchema\"><wicket:message key=\"mappingUserSchema\"/></label>\n-                <table id=\"mappingUserSchema\" class=\"ui-widget ui-widget-content ui-corner-all\"\n-                       style=\"margin-top:2px;\"\n+                <table id=\"mappingUserSchema\"\n+                       class=\"ui-widget ui-widget-content ui-corner-all\"\n+                       style=\"font-size: 1em;margin-top:2px;\"\n                        width=\"100%\" cellpadding=\"2px\" cellspacing=\"1px\">\n                     <thead>\n                         <tr class=\"ui-widget-header\">\n                             <th><wicket:message key=\"delete\"/></th>\n-                    <th><wicket:message key=\"sourceMappingTypes\"/></th>\n-                    <th><wicket:message key=\"schemaAttributes\"/></th>\n-                    <th><wicket:message key=\"field\"/></th>\n-                    <th><wicket:message key=\"mandatoryCondition\"/></th>\n-                    <th><wicket:message key=\"accountId\"/></th>\n-                    <th><wicket:message key=\"password\"/></th>\n-                    </tr>\n+                            <th><wicket:message key=\"sourceMappingTypes\"/></th>\n+                            <th><wicket:message key=\"schemaAttributes\"/></th>\n+                            <th><wicket:message key=\"field\"/></th>\n+                            <th><wicket:message key=\"mandatoryCondition\"/></th>\n+                            <th><wicket:message key=\"accountId\"/></th>\n+                            <th><wicket:message key=\"password\"/></th>\n+                        </tr>\n                     </thead>\n                     <tfoot>\n                         <tr>"},{"sha":"5fed48b5a6de4ede903ddf4bfcdce030179ffe0b","filename":"console/src/main/resources/org/syncope/console/pages/Tasks.properties","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTasks.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTasks.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTasks.properties?ref=6394bcac5147d9e609846e3823b4c7f71e8abe9d","patch":"@@ -1,4 +1,4 @@\n-title=Existing tasks\n+tab1=Tasks\n id=Id\n accountId=Account Id\n resource=Resource"},{"sha":"12b606532af1c92c4d5d4b8620104b7defb14fea","filename":"console/src/main/webapp/css/stile_sy.css","status":"modified","additions":7,"deletions":7,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstile_sy.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6394bcac5147d9e609846e3823b4c7f71e8abe9d/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstile_sy.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstile_sy.css?ref=6394bcac5147d9e609846e3823b4c7f71e8abe9d","patch":"@@ -119,9 +119,8 @@ select[disabled] {\n \n /* FEEDBACK PANEL'S INFO STYLE */\n .feedbackPanel {\n-    /*padding-left:8px;\n-    padding-right:8px;\n-    padding-top:8px;*/\n+    padding-left:20pt;\n+    margin-right:20pt;\n }\n \n .feedbackPanelINFO {\n@@ -136,19 +135,20 @@ select[disabled] {\n     padding: 5px;\n }\n \n-/*.feedbackPanelERROR {\n-    color: black;\n-    font-weight: bold;\n+.feedbackPanelERROR {\n+    color: red;\n+    /*font-weight: bold;\n     margin: 0px;\n     list-style-type: none;\n     background:url(\"images/ui-bg_highlight-soft_75_cccccc_1x100_red.png\") repeat-x scroll 50% 50% #CCCCCC;\n     -moz-border-radius: 3px;\n     -webkit-border-radius: 3px;\n     border: 1px solid gray;\n     border-radius: 3px;\n-    padding: 5px;\n+    padding: 5px;*/\n }\n \n+/*\n .feedbackPanelERROR span {\n     background: url(\"images/warning.png\") no-repeat left;\n     border:0 none;"}]}
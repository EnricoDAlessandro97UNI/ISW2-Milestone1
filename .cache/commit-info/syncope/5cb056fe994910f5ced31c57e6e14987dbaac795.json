{"sha":"5cb056fe994910f5ced31c57e6e14987dbaac795","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjVjYjA1NmZlOTk0OTEwZjVjZWQzMWM1N2U2ZTE0OTg3ZGJhYWM3OTU=","commit":{"author":{"name":"Marco Di Sabatino Di Diodoro","email":"mdisabatino@apache.org","date":"2015-04-14T09:46:29Z"},"committer":{"name":"Marco Di Sabatino Di Diodoro","email":"mdisabatino@apache.org","date":"2015-04-14T09:46:29Z"},"message":"[SYNCOPE-658] Merge from 1_2_X","tree":{"sha":"75c92d39e31265b62f96b46716e46b031859eece","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/75c92d39e31265b62f96b46716e46b031859eece"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/5cb056fe994910f5ced31c57e6e14987dbaac795","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5cb056fe994910f5ced31c57e6e14987dbaac795","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/5cb056fe994910f5ced31c57e6e14987dbaac795","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5cb056fe994910f5ced31c57e6e14987dbaac795/comments","author":{"login":"mdisabatino","id":1792527,"node_id":"MDQ6VXNlcjE3OTI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1792527?v=4","gravatar_id":"","url":"https://api.github.com/users/mdisabatino","html_url":"https://github.com/mdisabatino","followers_url":"https://api.github.com/users/mdisabatino/followers","following_url":"https://api.github.com/users/mdisabatino/following{/other_user}","gists_url":"https://api.github.com/users/mdisabatino/gists{/gist_id}","starred_url":"https://api.github.com/users/mdisabatino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdisabatino/subscriptions","organizations_url":"https://api.github.com/users/mdisabatino/orgs","repos_url":"https://api.github.com/users/mdisabatino/repos","events_url":"https://api.github.com/users/mdisabatino/events{/privacy}","received_events_url":"https://api.github.com/users/mdisabatino/received_events","type":"User","site_admin":false},"committer":{"login":"mdisabatino","id":1792527,"node_id":"MDQ6VXNlcjE3OTI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1792527?v=4","gravatar_id":"","url":"https://api.github.com/users/mdisabatino","html_url":"https://github.com/mdisabatino","followers_url":"https://api.github.com/users/mdisabatino/followers","following_url":"https://api.github.com/users/mdisabatino/following{/other_user}","gists_url":"https://api.github.com/users/mdisabatino/gists{/gist_id}","starred_url":"https://api.github.com/users/mdisabatino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdisabatino/subscriptions","organizations_url":"https://api.github.com/users/mdisabatino/orgs","repos_url":"https://api.github.com/users/mdisabatino/repos","events_url":"https://api.github.com/users/mdisabatino/events{/privacy}","received_events_url":"https://api.github.com/users/mdisabatino/received_events","type":"User","site_admin":false},"parents":[{"sha":"f99ea4cc9a7b89198a295d09fdc578bbbc60dcf8","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f99ea4cc9a7b89198a295d09fdc578bbbc60dcf8","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f99ea4cc9a7b89198a295d09fdc578bbbc60dcf8"},{"sha":"3202846298bfd44060f7a417c9102e05cbe81ecf","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3202846298bfd44060f7a417c9102e05cbe81ecf","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/3202846298bfd44060f7a417c9102e05cbe81ecf"}],"stats":{"total":35,"additions":12,"deletions":23},"files":[{"sha":"aba28b48641717b63389e23de43d1e605b15a78d","filename":"core/misc/src/main/java/org/apache/syncope/core/misc/ConnObjectUtil.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5cb056fe994910f5ced31c57e6e14987dbaac795/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2FConnObjectUtil.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5cb056fe994910f5ced31c57e6e14987dbaac795/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2FConnObjectUtil.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2FConnObjectUtil.java?ref=5cb056fe994910f5ced31c57e6e14987dbaac795","patch":"@@ -251,8 +251,8 @@ private <T extends AbstractSubjectTO> T getSubjectTOFromConnObject(final Connect\n         final T subjectTO = attrUtil.newSubjectTO();\n \n         // 1. fill with data from connector object\n-        for (MappingItem item : attrUtil.getUidToMappingItems(\n-                syncTask.getResource(), MappingPurpose.SYNCHRONIZATION)) {\n+        for (MappingItem item : \n+                attrUtil.getMappingItems(syncTask.getResource(), MappingPurpose.SYNCHRONIZATION)) {\n \n             Attribute attribute = obj.getAttributeByName(item.getExtAttrName());\n "},{"sha":"c4b9e348829b5cf96d4a10b17c973fa7b4ddc13a","filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/entity/AttributableUtil.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5cb056fe994910f5ced31c57e6e14987dbaac795/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FAttributableUtil.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5cb056fe994910f5ced31c57e6e14987dbaac795/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FAttributableUtil.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FAttributableUtil.java?ref=5cb056fe994910f5ced31c57e6e14987dbaac795","patch":"@@ -75,8 +75,6 @@ public interface AttributableUtil {\n \n     <T extends MappingItem> List<T> getMappingItems(ExternalResource resource, MappingPurpose purpose);\n \n-    <T extends MappingItem> List<T> getUidToMappingItems(ExternalResource resource, MappingPurpose purpose);\n-\n     IntMappingType plainIntMappingType();\n \n     IntMappingType derIntMappingType();"},{"sha":"2cc5d679821252666c0b0df1c5559abb7ade033b","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/entity/JPAAttributableUtil.java","status":"modified","additions":0,"deletions":17,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5cb056fe994910f5ced31c57e6e14987dbaac795/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAAttributableUtil.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5cb056fe994910f5ced31c57e6e14987dbaac795/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAAttributableUtil.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAAttributableUtil.java?ref=5cb056fe994910f5ced31c57e6e14987dbaac795","patch":"@@ -82,8 +82,6 @@\n import org.apache.syncope.core.persistence.jpa.entity.user.JPAUVirAttr;\n import org.apache.syncope.core.persistence.jpa.entity.user.JPAUVirSchema;\n import org.apache.syncope.core.persistence.jpa.entity.user.JPAUser;\n-import org.apache.syncope.core.misc.spring.BeanUtils;\n-import org.identityconnectors.framework.common.objects.Uid;\n import org.slf4j.LoggerFactory;\n \n @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n@@ -723,21 +721,6 @@ public <T extends MappingItem> List<T> getMappingItems(\n         return result;\n     }\n \n-    @Override\n-    public <T extends MappingItem> List<T> getUidToMappingItems(\n-            final ExternalResource resource, final MappingPurpose purpose) {\n-\n-        List<T> items = getMappingItems(resource, purpose);\n-\n-        MappingItem uidItem = type == AttributableType.USER ? new JPAUMappingItem() : new JPARMappingItem();\n-        BeanUtils.copyProperties(getAccountIdItem(resource), uidItem);\n-        uidItem.setExtAttrName(Uid.NAME);\n-        uidItem.setAccountid(false);\n-        items.add((T) uidItem);\n-\n-        return items;\n-    }\n-\n     @Override\n     public IntMappingType plainIntMappingType() {\n         IntMappingType result = null;"},{"sha":"1e1e29f33951ba44056cc16d9f0308be592d3255","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/reference/ConnectorITCase.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5cb056fe994910f5ced31c57e6e14987dbaac795/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FConnectorITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5cb056fe994910f5ced31c57e6e14987dbaac795/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FConnectorITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FConnectorITCase.java?ref=5cb056fe994910f5ced31c57e6e14987dbaac795","patch":"@@ -537,7 +537,7 @@ public void getSchemaNames() {\n         schemaNames = connectorService.getSchemaNames(conn.getKey(), conn, false);\n \n         assertNotNull(schemaNames);\n-        assertEquals(0, schemaNames.size());\n+        assertEquals(1, schemaNames.size());\n \n         conn = connectorService.read(104L);\n "},{"sha":"6e8f213022503db4f5ade32279dac40ea21cf9ea","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/reference/SyncTaskITCase.java","status":"modified","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5cb056fe994910f5ced31c57e6e14987dbaac795/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FSyncTaskITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5cb056fe994910f5ced31c57e6e14987dbaac795/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FSyncTaskITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FSyncTaskITCase.java?ref=5cb056fe994910f5ced31c57e6e14987dbaac795","patch":"@@ -179,7 +179,15 @@ public void sync() throws Exception {\n             assertTrue(userTO.getMemberships().get(0).getPlainAttrMap().containsKey(\"subscriptionDate\"));\n \n             // Unmatching --> Assign (link)\n+            // SYNCOPE-658\n             assertTrue(userTO.getResources().contains(RESOURCE_NAME_CSV));\n+            int counter = 0;\n+            for (AttrTO attributeTO : userTO.getDerAttrs()) {\n+                if (\"csvuserid\".equals(attributeTO.getSchema())) {\n+                    counter++;\n+                }\n+            }\n+            assertEquals(1, counter);\n \n             userTO = readUser(\"test8\");\n             assertNotNull(userTO);"},{"sha":"ccb9c789c258a7e4ef740382d9051fe7813730ab","filename":"pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5cb056fe994910f5ced31c57e6e14987dbaac795/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5cb056fe994910f5ced31c57e6e14987dbaac795/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=5cb056fe994910f5ced31c57e6e14987dbaac795","patch":"@@ -321,7 +321,7 @@ under the License.\n \n     <connid.version>1.4.1.0</connid.version>\n     <connid.soap.version>1.3.0</connid.soap.version>\n-    <connid.db.table.version>2.2.1</connid.db.table.version>\n+    <connid.db.table.version>2.2.2-SNAPSHOT</connid.db.table.version>\n     <connid.csvdir.version>0.8.2</connid.csvdir.version>\n     <connid.ldap.version>1.4.0</connid.ldap.version>\n     <connid.ad.version>1.2.2</connid.ad.version>"}]}
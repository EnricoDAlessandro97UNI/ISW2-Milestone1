{"sha":"a56e63ac3b44448c25eccc093ead8c94d2ef8966","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmE1NmU2M2FjM2I0NDQ0OGMyNWVjY2MwOTNlYWQ4Yzk0ZDJlZjg5NjY=","commit":{"author":{"name":"Guido Wimmel","email":"gwimmel@apache.org","date":"2014-07-05T18:52:54Z"},"committer":{"name":"Guido Wimmel","email":"gwimmel@apache.org","date":"2014-07-05T18:52:54Z"},"message":"[SYNCOPE-531] Fix for implementation: set last login date only on successful authentication\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/branches/1_1_X@1608108 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"dadfbd7652815a069325ea560b30d85c2e95ec22","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/dadfbd7652815a069325ea560b30d85c2e95ec22"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/a56e63ac3b44448c25eccc093ead8c94d2ef8966","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a56e63ac3b44448c25eccc093ead8c94d2ef8966","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/a56e63ac3b44448c25eccc093ead8c94d2ef8966","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a56e63ac3b44448c25eccc093ead8c94d2ef8966/comments","author":null,"committer":null,"parents":[{"sha":"ce6eaaf18b1ceae57e37033a4e1a6a503e0a5ee4","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ce6eaaf18b1ceae57e37033a4e1a6a503e0a5ee4","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ce6eaaf18b1ceae57e37033a4e1a6a503e0a5ee4"}],"stats":{"total":10,"additions":5,"deletions":5},"files":[{"sha":"baf7fbedb96099044182bd0fa788237831aef49e","filename":"core/src/main/java/org/apache/syncope/core/security/SyncopeAuthenticationProvider.java","status":"modified","additions":5,"deletions":5,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a56e63ac3b44448c25eccc093ead8c94d2ef8966/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsecurity%2FSyncopeAuthenticationProvider.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a56e63ac3b44448c25eccc093ead8c94d2ef8966/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsecurity%2FSyncopeAuthenticationProvider.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsecurity%2FSyncopeAuthenticationProvider.java?ref=a56e63ac3b44448c25eccc093ead8c94d2ef8966","patch":"@@ -174,12 +174,12 @@ private void updateLoginAttributes(SyncopeUser user, boolean authenticated) {\n     \tif (user != null) {\n     \t\tboolean userModified = false;\n     \t\t\n-    \t\tif (Boolean.valueOf(confDAO.find(\"log.lastlogindate\", Boolean.toString(true)).getValue())) {\n-    \t\t\tuser.setLastLoginDate(new Date());\n-    \t\t\tuserModified = true;\n-    \t\t}\n-    \t\t\n     \t\tif (authenticated) {\n+    \t\t\tif (Boolean.valueOf(confDAO.find(\"log.lastlogindate\", Boolean.toString(true)).getValue())) {\n+        \t\t\tuser.setLastLoginDate(new Date());\n+        \t\t\tuserModified = true;\n+        \t\t}\n+    \t\t\t\n     \t\t\tif (user.getFailedLogins() != 0) {\n     \t\t\t\tuser.setFailedLogins(0);\n     \t\t\t\tuserModified = true;"}]}
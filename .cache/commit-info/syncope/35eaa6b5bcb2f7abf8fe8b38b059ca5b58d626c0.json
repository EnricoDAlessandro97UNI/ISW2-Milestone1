{"sha":"35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjM1ZWFhNmI1YmNiMmY3YWJmOGZlOGIzOGIwNTljYTViNThkNjI2YzA=","commit":{"author":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2017-09-01T09:18:34Z"},"committer":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2017-09-01T10:00:29Z"},"message":"[SYNCOPE-1200] added functionality in console to edit user while in create or update approval state","tree":{"sha":"e142bfe1aabb8c8b62965d44ce1fc732c9664611","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/e142bfe1aabb8c8b62965d44ce1fc732c9664611"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/comments","author":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"committer":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"c329d9029c0598e84de52700a0149cf43b5514f4","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c329d9029c0598e84de52700a0149cf43b5514f4","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c329d9029c0598e84de52700a0149cf43b5514f4"}],"stats":{"total":360,"additions":301,"deletions":59},"files":[{"sha":"d37358897015f0433595050e00170559dcbec30c","filename":"client/console/src/main/java/org/apache/syncope/client/console/approvals/ApprovalDirectoryPanel.java","status":"modified","additions":163,"deletions":17,"changes":180,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fapprovals%2FApprovalDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fapprovals%2FApprovalDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fapprovals%2FApprovalDirectoryPanel.java?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -19,28 +19,44 @@\n package org.apache.syncope.client.console.approvals;\n \n import de.agilecoders.wicket.core.markup.html.bootstrap.dialog.Modal;\n+import java.io.Serializable;\n import java.util.ArrayList;\n import java.util.Collection;\n import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n+import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.client.console.SyncopeConsoleSession;\n import org.apache.syncope.client.console.commons.Constants;\n import org.apache.syncope.client.console.commons.DirectoryDataProvider;\n import org.apache.syncope.client.console.commons.SortableDataProviderComparator;\n import org.apache.syncope.client.console.panels.DirectoryPanel;\n import org.apache.syncope.client.console.rest.UserWorkflowRestClient;\n import org.apache.syncope.client.console.approvals.ApprovalDirectoryPanel.ApprovalProvider;\n+import org.apache.syncope.client.console.layout.FormLayoutInfoUtils;\n+import org.apache.syncope.client.console.layout.UserFormLayoutInfo;\n import org.apache.syncope.client.console.pages.BasePage;\n+import org.apache.syncope.client.console.rest.AnyTypeRestClient;\n import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.DatePropertyColumn;\n+import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionsPanel;\n+import org.apache.syncope.client.console.wizards.AjaxWizard;\n+import org.apache.syncope.client.console.wizards.any.AnyWrapper;\n+import org.apache.syncope.client.console.wizards.any.UserWizardBuilder;\n+import org.apache.syncope.common.lib.AnyOperations;\n import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.patch.PasswordPatch;\n+import org.apache.syncope.common.lib.patch.UserPatch;\n+import org.apache.syncope.common.lib.to.ProvisioningResult;\n+import org.apache.syncope.common.lib.to.UserTO;\n import org.apache.syncope.common.lib.to.WorkflowFormTO;\n+import org.apache.syncope.common.lib.types.AnyTypeKind;\n import org.apache.syncope.common.lib.types.StandardEntitlement;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n+import org.apache.wicket.event.Broadcast;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.markup.html.repeater.data.sort.SortOrder;\n import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n@@ -57,23 +73,36 @@\n \n     private static final long serialVersionUID = -7122136682275797903L;\n \n+    protected final BaseModal<WorkflowFormTO> manageApprovalModal = new BaseModal<WorkflowFormTO>(\"outer\") {\n+\n+        private static final long serialVersionUID = 389935548143327858L;\n+\n+        @Override\n+        protected void onConfigure() {\n+            super.onConfigure();\n+            addSubmitButton();\n+            size(Modal.Size.Large);\n+        }\n+\n+    };\n+\n     public ApprovalDirectoryPanel(final String id, final PageReference pageReference) {\n-        super(id, pageReference, false);\n+        super(id, pageReference, true);\n         disableCheckBoxes();\n-\n-        setFooterVisibility(true);\n-        modal.addSubmitButton();\n+        setFooterVisibility(false);\n         modal.size(Modal.Size.Large);\n \n-        modal.setWindowClosedCallback(new ModalWindow.WindowClosedCallback() {\n+        addOuterObject(manageApprovalModal);\n+\n+        manageApprovalModal.setWindowClosedCallback(new ModalWindow.WindowClosedCallback() {\n \n             private static final long serialVersionUID = 8804221891699487139L;\n \n             @Override\n             public void onClose(final AjaxRequestTarget target) {\n                 updateResultTable(target);\n                 ((BasePage) pageReference.getPage()).getApprovalsWidget().refreshLatestAlerts(target);\n-                modal.show(false);\n+                manageApprovalModal.show(false);\n             }\n         });\n \n@@ -113,12 +142,7 @@ public ActionsPanel<WorkflowFormTO> getActions(final IModel<WorkflowFormTO> mode\n \n             @Override\n             public void onClick(final AjaxRequestTarget target, final WorkflowFormTO ignore) {\n-                try {\n-                    restClient.claimForm(model.getObject().getTaskId());\n-                    SyncopeConsoleSession.get().info(getString(Constants.OPERATION_SUCCEEDED));\n-                } catch (SyncopeClientException scee) {\n-                    SyncopeConsoleSession.get().error(getString(Constants.ERROR) + \": \" + scee.getMessage());\n-                }\n+                claimForm(model.getObject().getTaskId());\n                 ((BasePage) pageRef.getPage()).getNotificationPanel().refresh(target);\n                 target.add(container);\n             }\n@@ -131,9 +155,10 @@ public void onClick(final AjaxRequestTarget target, final WorkflowFormTO ignore)\n             @Override\n             public void onClick(final AjaxRequestTarget target, final WorkflowFormTO ignore) {\n                 final IModel<WorkflowFormTO> formModel = new CompoundPropertyModel<>(model.getObject());\n-                modal.setFormModel(formModel);\n+                manageApprovalModal.setFormModel(formModel);\n \n-                target.add(modal.setContent(new ApprovalModal(modal, pageRef, model.getObject()) {\n+                target.add(manageApprovalModal.setContent(new ApprovalModal(manageApprovalModal, pageRef, model.\n+                        getObject()) {\n \n                     private static final long serialVersionUID = 5546519445061007248L;\n \n@@ -151,8 +176,8 @@ public void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n \n                 }));\n \n-                modal.header(new Model<>(getString(\"approval.edit\", new Model<>(model.getObject()))));\n-                modal.show(true);\n+                manageApprovalModal.header(new Model<>(getString(\"approval.manage\", new Model<>(model.getObject()))));\n+                manageApprovalModal.show(true);\n             }\n \n             @Override\n@@ -161,7 +186,59 @@ protected boolean statusCondition(final WorkflowFormTO modelObject) {\n                         equals(model.getObject().getOwner());\n             }\n \n-        }, ActionLink.ActionType.EDIT, StandardEntitlement.WORKFLOW_FORM_READ);\n+        }, ActionLink.ActionType.MANAGE_APPROVAL, StandardEntitlement.WORKFLOW_FORM_READ);\n+\n+        // SYNCOPE-1200 edit user while in approval state\n+        panel.add(new ActionLink<WorkflowFormTO>() {\n+\n+            private static final long serialVersionUID = -3722207913631435501L;\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target, final WorkflowFormTO ignore) {\n+                final IModel<WorkflowFormTO> formModel = new CompoundPropertyModel<>(model.getObject());\n+                modal.setFormModel(formModel);\n+\n+                final WorkflowFormTO formTO = formModel.getObject();\n+                final UserTO newUserTO;\n+                final UserTO previousUserTO;\n+                if (formTO.getUserPatch() == null) {\n+                    newUserTO = formTO.getUserTO();\n+                    previousUserTO = null;\n+                } else if (formTO.getUserTO() == null) {\n+                    // make it stronger by handling possible NPE\n+                    previousUserTO = new UserTO();\n+                    previousUserTO.setKey(formTO.getUserPatch().getKey());\n+                    newUserTO = AnyOperations.patch(previousUserTO, formTO.getUserPatch());\n+                } else {\n+                    formTO.getUserTO().setKey(formTO.getUserPatch().getKey());\n+                    newUserTO = AnyOperations.patch(formTO.getUserTO(), formTO.getUserPatch());\n+                    previousUserTO = formTO.getUserTO();\n+                }\n+\n+                AjaxWizard.EditItemActionEvent<UserTO> editItemActionEvent =\n+                        new AjaxWizard.EditItemActionEvent<>(newUserTO, target);\n+\n+                editItemActionEvent.forceModalPanel(\n+                        new ApprovalUserWizardBuilder(\n+                                target,\n+                                formModel.getObject(),\n+                                previousUserTO,\n+                                newUserTO,\n+                                new AnyTypeRestClient().read(AnyTypeKind.USER.name()).getClasses(),\n+                                FormLayoutInfoUtils.fetch(Collections.singletonList(AnyTypeKind.USER.name())).getLeft(),\n+                                pageRef\n+                        ).build(BaseModal.CONTENT_ID, AjaxWizard.Mode.EDIT));\n+\n+                send(ApprovalDirectoryPanel.this, Broadcast.EXACT, editItemActionEvent);\n+            }\n+\n+            @Override\n+            protected boolean statusCondition(final WorkflowFormTO modelObject) {\n+                return SyncopeConsoleSession.get().getSelfTO().getUsername().\n+                        equals(model.getObject().getOwner());\n+            }\n+\n+        }, ActionLink.ActionType.EDIT_APPROVAL, StandardEntitlement.WORKFLOW_FORM_SUBMIT);\n \n         return panel;\n     }\n@@ -220,4 +297,73 @@ public WorkflowFormTO getObject() {\n     protected Collection<ActionLink.ActionType> getBulkActions() {\n         return Collections.<ActionLink.ActionType>emptyList();\n     }\n+\n+    private void claimForm(final String taskId) {\n+        try {\n+            restClient.claimForm(taskId);\n+            SyncopeConsoleSession.get().info(getString(Constants.OPERATION_SUCCEEDED));\n+        } catch (SyncopeClientException scee) {\n+            SyncopeConsoleSession.get().error(getString(Constants.ERROR) + \": \" + scee.getMessage());\n+        }\n+    }\n+\n+    private class ApprovalUserWizardBuilder extends UserWizardBuilder {\n+\n+        private static final long serialVersionUID = 1854981134836384069L;\n+\n+        private final WorkflowFormTO formTO;\n+\n+        private final AjaxRequestTarget target;\n+\n+        ApprovalUserWizardBuilder(\n+                final AjaxRequestTarget target,\n+                final WorkflowFormTO formTO,\n+                final UserTO previousUserTO,\n+                final UserTO userTO,\n+                final List<String> anyTypeClasses,\n+                final UserFormLayoutInfo formLayoutInfo,\n+                final PageReference pageRef) {\n+            super(previousUserTO, userTO, anyTypeClasses, formLayoutInfo, pageRef);\n+            this.formTO = formTO;\n+            this.target = target;\n+        }\n+\n+        @Override\n+        protected Serializable onApplyInternal(final AnyWrapper<UserTO> modelObject) {\n+            UserTO inner = modelObject.getInnerObject();\n+\n+            ProvisioningResult<UserTO> actual;\n+\n+            if (formTO.getUserPatch() == null) {\n+                actual = new ProvisioningResult<>();\n+                UserTO user = new UserWorkflowRestClient().executeTask(\"default\", inner);\n+                actual.setEntity(user);\n+                claimForm(restClient.getFormForUser(actual.getEntity().getKey()).getTaskId());\n+                ((BasePage) pageRef.getPage()).getNotificationPanel().refresh(target);\n+            } else {\n+\n+                UserPatch patch = AnyOperations.diff(inner, formTO.getUserTO(), false);\n+\n+                if (StringUtils.isNotBlank(inner.getPassword())) {\n+                    PasswordPatch passwordPatch = new PasswordPatch.Builder().\n+                            value(inner.getPassword()).onSyncope(true).resources(inner.\n+                            getResources()).\n+                            build();\n+                    patch.setPassword(passwordPatch);\n+                }\n+                // update just if it is changed\n+                if (patch.isEmpty()) {\n+                    actual = new ProvisioningResult<>();\n+                    actual.setEntity(inner);\n+                } else {\n+                    actual = userRestClient.update(getOriginalItem().getInnerObject().getETagValue(), patch);\n+                    claimForm(restClient.getFormForUser(actual.getEntity().getKey()).getTaskId());\n+                    ((BasePage) pageRef.getPage()).getNotificationPanel().refresh(target);\n+                }\n+\n+            }\n+            return actual;\n+        }\n+    }\n+\n }"},{"sha":"fc42f9bb879944da4d6aa8342ac974fc8dab82dc","filename":"client/console/src/main/java/org/apache/syncope/client/console/rest/UserWorkflowRestClient.java","status":"modified","additions":9,"deletions":0,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FUserWorkflowRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FUserWorkflowRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FUserWorkflowRestClient.java?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -19,6 +19,7 @@\n package org.apache.syncope.client.console.rest;\n \n import java.util.List;\n+import org.apache.syncope.common.lib.to.UserTO;\n import org.apache.syncope.common.lib.to.WorkflowFormTO;\n import org.apache.syncope.common.rest.api.service.UserWorkflowService;\n \n@@ -30,11 +31,19 @@ public List<WorkflowFormTO> getForms() {\n         return getService(UserWorkflowService.class).getForms();\n     }\n \n+    public WorkflowFormTO getFormForUser(final String userKey) {\n+        return getService(UserWorkflowService.class).getFormForUser(userKey);\n+    }\n+\n     public WorkflowFormTO claimForm(final String taskKey) {\n         return getService(UserWorkflowService.class).claimForm(taskKey);\n     }\n \n     public void submitForm(final WorkflowFormTO form) {\n         getService(UserWorkflowService.class).submitForm(form);\n     }\n+\n+    public UserTO executeTask(final String taskId, final UserTO form) {\n+        return getService(UserWorkflowService.class).executeTask(taskId, form);\n+    }\n }"},{"sha":"37b0ba0b4b595a9fdb5fdc2fed8da87d9704ef7e","filename":"client/console/src/main/java/org/apache/syncope/client/console/wicket/markup/html/form/ActionLink.java","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -97,7 +97,9 @@ public enum ActionType {\n         ZOOM_OUT(\"zoomout\"),\n         WORKFLOW_MODELER(\"workflowModeler\"),\n         VIEW_EXECUTIONS(\"read\"),\n-        VIEW_DETAILS(\"read\");\n+        VIEW_DETAILS(\"read\"),\n+        MANAGE_APPROVAL(\"edit\"),\n+        EDIT_APPROVAL(\"edit\");\n \n         private final String actionId;\n "},{"sha":"91f83b98469c9f8b3e588484f0a2dfeefc915c1d","filename":"client/console/src/main/java/org/apache/syncope/client/console/wicket/markup/html/form/ActionPanel.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionPanel.java?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -188,6 +188,7 @@ protected void beforeOnClick(final AjaxRequestTarget target) {\n             case MAPPING:\n             case SET_LATEST_SYNC_TOKEN:\n             case REMOVE_SYNC_TOKEN:\n+            case EDIT_APPROVAL:\n             case CLAIM:\n                 send(this, Broadcast.BUBBLE, new ActionLinksTogglePanel.ActionLinkToggleCloseEventPayload(target));\n                 break;"},{"sha":"ad42635ed3020db042fbb014032b84f91841cd77","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/Details.java","status":"modified","additions":16,"deletions":8,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.java?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -22,6 +22,7 @@\n import java.util.List;\n import java.util.stream.Collectors;\n import org.apache.syncope.client.console.pages.Realms;\n+import org.apache.syncope.client.console.rest.RealmRestClient;\n import org.apache.syncope.client.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n import org.apache.syncope.client.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.apache.syncope.client.console.wicket.markup.html.form.FieldPanel;\n@@ -59,14 +60,9 @@ public Details(\n                     \"destinationRealm\", \"destinationRealm\", new PropertyModel<>(inner, \"realm\"), false);\n             AjaxTextFieldPanel.class.cast(realm).enableJexlHelp();\n         } else {\n-            final List<AbstractLink> realmLinks = Realms.class.cast(pageRef.getPage()).getRealmChoicePanel().getLinks();\n-            final List<RealmTO> realms = new ArrayList<>();\n-            realmLinks.stream().\n-                    map(link -> link.getDefaultModelObject()).\n-                    filter(obj -> (obj instanceof RealmTO)).\n-                    forEachOrdered(obj -> {\n-                        realms.add((RealmTO) obj);\n-                    });\n+            final List<RealmTO> realms = pageRef.getPage() instanceof Realms\n+                    ? getRealmsFromLinks(Realms.class.cast(pageRef.getPage()).getRealmChoicePanel().getLinks())\n+                    : new RealmRestClient().list();\n \n             realm = new AjaxDropDownChoicePanel<>(\n                     \"destinationRealm\", \"destinationRealm\", new PropertyModel<>(inner, \"realm\"), false);\n@@ -87,4 +83,16 @@ public Details<T> disableRealmSpecification() {\n     protected AnnotatedBeanPanel getGeneralStatusInformation(final String id, final T anyTO) {\n         return new AnnotatedBeanPanel(id, anyTO);\n     }\n+\n+    private List<RealmTO> getRealmsFromLinks(final List<AbstractLink> realmLinks) {\n+        List<RealmTO> realms = new ArrayList<>();\n+\n+        realmLinks.stream().\n+                map((link) -> link.getDefaultModelObject()).\n+                filter((obj) -> (obj instanceof RealmTO)).\n+                forEachOrdered((obj) -> {\n+                    realms.add((RealmTO) obj);\n+                });\n+        return realms;\n+    }\n }"},{"sha":"450ff508db4955139864fbf072dcbc182ffe8cdf","filename":"client/console/src/main/resources/org/apache/syncope/client/console/approvals/Approval.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fapprovals%2FApproval.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fapprovals%2FApproval.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fapprovals%2FApproval.properties?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -15,3 +15,4 @@\n # specific language governing permissions and limitations\n # under the License.\n userDetails=User details\n+userForm=Edit User"},{"sha":"92c475d20e9f23baa636ca3228169e5c214b91e9","filename":"client/console/src/main/resources/org/apache/syncope/client/console/approvals/Approval_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fapprovals%2FApproval_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fapprovals%2FApproval_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fapprovals%2FApproval_it.properties?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -15,3 +15,4 @@\n # specific language governing permissions and limitations\n # under the License.\n userDetails=Dettagli utente\n+userForm=Modifica utente"},{"sha":"00a897153924921a6f6a49158f1f100c7483b772","filename":"client/console/src/main/resources/org/apache/syncope/client/console/approvals/Approval_pt_BR.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fapprovals%2FApproval_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fapprovals%2FApproval_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fapprovals%2FApproval_pt_BR.properties?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -15,3 +15,4 @@\n # specific language governing permissions and limitations\n # under the License.\n userDetails=Detalhes do Usu\\u00e1rio\n+userForm=Detalhes do Usu\\u00e1rio"},{"sha":"02c159a166b9e2f0cd2988c60327502735bff290","filename":"client/console/src/main/resources/org/apache/syncope/client/console/approvals/Approval_ru.properties","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fapprovals%2FApproval_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fapprovals%2FApproval_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fapprovals%2FApproval_ru.properties?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -15,5 +15,6 @@\n # specific language governing permissions and limitations\n # under the License.\n #\n-# userDetails=Информация о пользователе\n+# userDetails=\\u00d0\\u0098\\u00d0\\u00bd\\u00d1\\u0084\\u00d0\\u00be\\u00d1\\u0080\\u00d0\\u00bc\\u00d0\\u00b0\\u00d1\\u0086\\u00d0\\u00b8\\u00d1\\u008f \\u00d0\\u00be \\u00d0\\u00bf\\u00d0\\u00be\\u00d0\\u00bb\\u00d1\\u008c\\u00d0\\u00b7\\u00d0\\u00be\\u00d0\\u00b2\\u00d0\\u00b0\\u00d1\\u0082\\u00d0\\u00b5\\u00d0\\u00bb\\u00d0\\u00b5\n userDetails=\\u0418\\u043d\\u0444\\u043e\\u0440\\u043c\\u0430\\u0446\\u0438\\u044f \\u043e \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0435\n+userForm=\\u0418\\u043d\\u0444\\u043e\\u0440\\u043c\\u0430\\u0446\\u0438\\u044f \\u043e \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0435"},{"sha":"1ea806333afbf9525964ff0167709d43a08d1d79","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/Approvals.properties","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FApprovals.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FApprovals.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FApprovals.properties?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -29,4 +29,6 @@ username=Username\n new_user=New User\n creationDate = Creation Date\n claimDate = Claim Dare\n-approval.edit=Approval\n+approval.edit=Approval Edit\n+approval.manage=Approval Manage\n+any.edit=Edit ${anyTO.type} ${anyTO.username}"},{"sha":"7e12ce5ff7b3f4f3f0e29dc423cb5d245098db8f","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/Approvals_it.properties","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FApprovals_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FApprovals_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FApprovals_it.properties?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -29,4 +29,6 @@ username=Utente\n new_user=Nuovo utente\n creationDate = Data creazione\n claimDate = Data rivendicazione\n-approval.edit=Approvazione\n+approval.manage=Gestisci Approvazione\n+approval.edit=Modifica Approvazione\n+any.edit=Edit ${anyTO.type} ${anyTO.username}"},{"sha":"e5ff74cffb275661c13b084e0a57a9bfe1b155f9","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/Approvals_pt_BR.properties","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FApprovals_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FApprovals_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FApprovals_pt_BR.properties?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -29,4 +29,6 @@ username=Usu\\u00e1rio\n new_user=Novo Usu\\u00e1rio\n creationDate = Data de cria\\u00e7\\u00e3o\n claimDate = Data de reivindica\\u00e7\\u00e3o\n+approval.manage=Aprova\\u00e7\\u00e3o\n approval.edit=Aprova\\u00e7\\u00e3o\n+any.edit=Edit ${anyTO.type} ${anyTO.username}"},{"sha":"6f4fb58b75d4877a5ecc7dbd30ff36bf45a2c654","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/Approvals_ru.properties","status":"modified","additions":19,"deletions":16,"changes":35,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FApprovals_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FApprovals_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FApprovals_ru.properties?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -15,35 +15,38 @@\n # specific language governing permissions and limitations\n # under the License.\n #\n-# taskId=Заявка\n+# taskId=\\u00d0\\u0097\\u00d0\\u00b0\\u00d1\\u008f\\u00d0\\u00b2\\u00d0\\u00ba\\u00d0\\u00b0\n taskId=\\u0417\\u0430\\u044f\\u0432\\u043a\\u0430\n-# key=Идентификатор\n+# key=\\u00d0\\u0098\\u00d0\\u00b4\\u00d0\\u00b5\\u00d0\\u00bd\\u00d1\\u0082\\u00d0\\u00b8\\u00d1\\u0084\\u00d0\\u00b8\\u00d0\\u00ba\\u00d0\\u00b0\\u00d1\\u0082\\u00d0\\u00be\\u00d1\\u0080\n key=\\u0418\\u0434\\u0435\\u043d\\u0442\\u0438\\u0444\\u0438\\u043a\\u0430\\u0442\\u043e\\u0440\n-# description=Описание\n+# description=\\u00d0\\u009e\\u00d0\\u00bf\\u00d0\\u00b8\\u00d1\\u0081\\u00d0\\u00b0\\u00d0\\u00bd\\u00d0\\u00b8\\u00d0\\u00b5\n description=\\u041e\\u043f\\u0438\\u0441\\u0430\\u043d\\u0438\\u0435\n-# createTime=Дата создания\n+# createTime=\\u00d0\\u0094\\u00d0\\u00b0\\u00d1\\u0082\\u00d0\\u00b0 \\u00d1\\u0081\\u00d0\\u00be\\u00d0\\u00b7\\u00d0\\u00b4\\u00d0\\u00b0\\u00d0\\u00bd\\u00d0\\u00b8\\u00d1\\u008f\n createTime=\\u0414\\u0430\\u0442\\u0430 \\u0441\\u043e\\u0437\\u0434\\u0430\\u043d\\u0438\\u044f\n-# dueDate=Срок\n+# dueDate=\\u00d0\\u00a1\\u00d1\\u0080\\u00d0\\u00be\\u00d0\\u00ba\n dueDate=\\u0421\\u0440\\u043e\\u043a\n-# owner=Владелец\n+# owner=\\u00d0\\u0092\\u00d0\\u00bb\\u00d0\\u00b0\\u00d0\\u00b4\\u00d0\\u00b5\\u00d0\\u00bb\\u00d0\\u00b5\\u00d1\\u0086\n owner=\\u0412\\u043b\\u0430\\u0434\\u0435\\u043b\\u0435\\u0446\n-# claim=Выполнить согласование\n+# claim=\\u00d0\\u0092\\u00d1\\u008b\\u00d0\\u00bf\\u00d0\\u00be\\u00d0\\u00bb\\u00d0\\u00bd\\u00d0\\u00b8\\u00d1\\u0082\\u00d1\\u008c \\u00d1\\u0081\\u00d0\\u00be\\u00d0\\u00b3\\u00d0\\u00bb\\u00d0\\u00b0\\u00d1\\u0081\\u00d0\\u00be\\u00d0\\u00b2\\u00d0\\u00b0\\u00d0\\u00bd\\u00d0\\u00b8\\u00d0\\u00b5\n claim=\\u0412\\u044b\\u043f\\u043e\\u043b\\u043d\\u0438\\u0442\\u044c \\u0441\\u043e\\u0433\\u043b\\u0430\\u0441\\u043e\\u0432\\u0430\\u043d\\u0438\\u0435\n-# manage=Управление\n+# manage=\\u00d0\\u00a3\\u00d0\\u00bf\\u00d1\\u0080\\u00d0\\u00b0\\u00d0\\u00b2\\u00d0\\u00bb\\u00d0\\u00b5\\u00d0\\u00bd\\u00d0\\u00b8\\u00d0\\u00b5\n manage=\\u0423\\u043f\\u0440\\u0430\\u0432\\u043b\\u0435\\u043d\\u0438\\u0435\n-# approvals=Заявки\n+# approvals=\\u00d0\\u0097\\u00d0\\u00b0\\u00d1\\u008f\\u00d0\\u00b2\\u00d0\\u00ba\\u00d0\\u00b8\n approvals=\\u0417\\u0430\\u044f\\u0432\\u043a\\u0438\n-# delete=Удалить\n+# delete=\\u00d0\\u00a3\\u00d0\\u00b4\\u00d0\\u00b0\\u00d0\\u00bb\\u00d0\\u00b8\\u00d1\\u0082\\u00d1\\u008c\n delete=\\u0423\\u0434\\u0430\\u043b\\u0438\\u0442\\u044c\n-# type=Тип\n+# type=\\u00d0\\u00a2\\u00d0\\u00b8\\u00d0\\u00bf\n type=\\u0422\\u0438\\u043f\n-# username=Имя пользователя\n+# username=\\u00d0\\u0098\\u00d0\\u00bc\\u00d1\\u008f \\u00d0\\u00bf\\u00d0\\u00be\\u00d0\\u00bb\\u00d1\\u008c\\u00d0\\u00b7\\u00d0\\u00be\\u00d0\\u00b2\\u00d0\\u00b0\\u00d1\\u0082\\u00d0\\u00b5\\u00d0\\u00bb\\u00d1\\u008f\n username=\\u0418\\u043c\\u044f \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044f\n-# new_user=Создание пользователя\n+# new_user=\\u00d0\\u00a1\\u00d0\\u00be\\u00d0\\u00b7\\u00d0\\u00b4\\u00d0\\u00b0\\u00d0\\u00bd\\u00d0\\u00b8\\u00d0\\u00b5 \\u00d0\\u00bf\\u00d0\\u00be\\u00d0\\u00bb\\u00d1\\u008c\\u00d0\\u00b7\\u00d0\\u00be\\u00d0\\u00b2\\u00d0\\u00b0\\u00d1\\u0082\\u00d0\\u00b5\\u00d0\\u00bb\\u00d1\\u008f\n new_user=\\u0421\\u043e\\u0437\\u0434\\u0430\\u043d\\u0438\\u0435 \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044f\n-# creationDate=Дата создания\n+# creationDate=\\u00d0\\u0094\\u00d0\\u00b0\\u00d1\\u0082\\u00d0\\u00b0 \\u00d1\\u0081\\u00d0\\u00be\\u00d0\\u00b7\\u00d0\\u00b4\\u00d0\\u00b0\\u00d0\\u00bd\\u00d0\\u00b8\\u00d1\\u008f\n creationDate=\\u0414\\u0430\\u0442\\u0430 \\u0441\\u043e\\u0437\\u0434\\u0430\\u043d\\u0438\\u044f\n-# claimDate=Дата начала согласования\n+# claimDate=\\u00d0\\u0094\\u00d0\\u00b0\\u00d1\\u0082\\u00d0\\u00b0 \\u00d0\\u00bd\\u00d0\\u00b0\\u00d1\\u0087\\u00d0\\u00b0\\u00d0\\u00bb\\u00d0\\u00b0 \\u00d1\\u0081\\u00d0\\u00be\\u00d0\\u00b3\\u00d0\\u00bb\\u00d0\\u00b0\\u00d1\\u0081\\u00d0\\u00be\\u00d0\\u00b2\\u00d0\\u00b0\\u00d0\\u00bd\\u00d0\\u00b8\\u00d1\\u008f\n claimDate=\\u0414\\u0430\\u0442\\u0430 \\u043d\\u0430\\u0447\\u0430\\u043b\\u0430 \\u0441\\u043e\\u0433\\u043b\\u0430\\u0441\\u043e\\u0432\\u0430\\u043d\\u0438\\u044f\n-# approval.edit=Согласование\n+# approval.edit=\\u00d0\\u00a1\\u00d0\\u00be\\u00d0\\u00b3\\u00d0\\u00bb\\u00d0\\u00b0\\u00d1\\u0081\\u00d0\\u00be\\u00d0\\u00b2\\u00d0\\u00b0\\u00d0\\u00bd\\u00d0\\u00b8\\u00d0\\u00b5\n approval.edit=\\u0421\\u043e\\u0433\\u043b\\u0430\\u0441\\u043e\\u0432\\u0430\\u043d\\u0438\\u0435\n+# approval.manage=\\u00d0\\u00a1\\u00d0\\u00be\\u00d0\\u00b3\\u00d0\\u00bb\\u00d0\\u00b0\\u00d1\\u0081\\u00d0\\u00be\\u00d0\\u00b2\\u00d0\\u00b0\\u00d0\\u00bd\\u00d0\\u00b8\\u00d0\\u00b5\n+approval.manage=\\u0421\\u043e\\u0433\\u043b\\u0430\\u0441\\u043e\\u0432\\u0430\\u043d\\u0438\\u0435\n+any.edit=Edit ${anyTO.type} ${anyTO.username}"},{"sha":"69214cd085958fc7fe2d2e4c63f1cb3aefd2eaae","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionPanel.properties","status":"modified","additions":16,"deletions":0,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionPanel.properties?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -46,6 +46,14 @@ edit.class=glyphicon glyphicon-pencil\n edit.title=edit\n edit.alt=edit icon\n \n+manage_approval.class=fa fa-pencil-square-o\n+manage_approval.title=manage\n+manage_approval.alt=manage approval icon\n+\n+edit_approval.class=glyphicon glyphicon-pencil\n+edit_approval.title=edit\n+edit_approval.alt=edit approval icon\n+\n type_extensions.class=fa fa-expand\n type_extensions.title=extensions\n type_extensions.alt=extensions icon\n@@ -54,6 +62,14 @@ fo_edit.class=fa fa-file-code-o\n fo_edit.title=fo\n fo_edit.alt=fo icon\n \n+fo_manage_approval.class=fa fa-file-code-o\n+fo_manage_approval.title=fo\n+fo_manage_approval.alt=fo icon\n+\n+fo_edit_approval.class=fa fa-file-code-o\n+fo_edit_approval.title=fo\n+fo_edit_approval.alt=fo icon\n+\n html.class=fa fa-file-code-o\n html.title=html\n html.alt=html icon"},{"sha":"c2e6b1f48266df2a433f360f0aed02fbf664685f","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionPanel_it.properties","status":"modified","additions":16,"deletions":0,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionPanel_it.properties?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -46,6 +46,14 @@ edit.class=glyphicon glyphicon-pencil\n edit.title=edit\n edit.alt=edit icon\n \n+manage_approval.class=fa fa-pencil-square-o\n+manage_approval.title=manage\n+manage_approval.alt=manage approval icon\n+\n+edit_approval.class=glyphicon glyphicon-pencil\n+edit_approval.title=edit\n+edit_approval.alt=edit approval icon\n+\n type_extensions.class=fa fa-expand\n type_extensions.title=extensions\n type_extensions.alt=extensions icon\n@@ -54,6 +62,14 @@ fo_edit.class=fa fa-file-code-o\n fo_edit.title=fo\n fo_edit.alt=fo icon\n \n+fo_manage_approval.class=fa fa-file-code-o\n+fo_manage_approval.title=fo\n+fo_manage_approval.alt=fo icon\n+\n+fo_edit_approval.class=fa fa-file-code-o\n+fo_edit_approval.title=fo\n+fo_edit_approval.alt=fo icon\n+\n html.class=fa fa-file-code-o\n html.title=html\n html.alt=html icon"},{"sha":"c2e882d3f4207be7581c51ba6a49af7b67005f9b","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionPanel_pt_BR.properties","status":"modified","additions":16,"deletions":0,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionPanel_pt_BR.properties?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -46,6 +46,18 @@ edit.class=glyphicon glyphicon-pencil\n edit.title=edit\n edit.alt=edit icon\n \n+manage_approval.class=fa fa-pencil-square-o\n+manage_approval.title=manage\n+manage_approval.alt=manage approval icon\n+\n+edit_approval.class=glyphicon glyphicon-pencil\n+edit_approval.title=edit\n+edit_approval.alt=edit approval icon\n+\n+fo_edit_approval.class=fa fa-file-code-o\n+fo_edit_approval.title=fo\n+fo_edit_approval.alt=fo icon\n+\n type_extensions.class=fa fa-expand\n type_extensions.title=extensions\n type_extensions.alt=extensions icon\n@@ -54,6 +66,10 @@ fo_edit.class=fa fa-file-code-o\n fo_edit.title=fo\n fo_edit.alt=fo icon\n \n+fo_manage_approval.class=fa fa-file-code-o\n+fo_manage_approval.title=fo\n+fo_manage_approval.alt=fo icon\n+\n html.class=fa fa-file-code-o\n html.title=html\n html.alt=html icon"},{"sha":"80fb014d01cd937b265eaf8a456dd9d740b1cb49","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionPanel_ru.properties","status":"modified","additions":17,"deletions":1,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionPanel_ru.properties?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -46,14 +46,30 @@ edit.class=glyphicon glyphicon-pencil\n edit.title=edit\n edit.alt=edit icon\n \n-type_extensions.class=fa fa-expand\n+manage_approval.class=fa fa-pencil-square-o\n+manage_approval.title=manage\n+manage_approval.alt=manage approval icon\n+\n+edit_approval.class=glyphicon glyphicon-pencil\n+edit_approval.title=edit\n+edit_approval.alt=edit approval icon\n+\n+type_extensions.class=fa fa-expand \n type_extensions.title=extensions\n type_extensions.alt=extensions icon\n \n fo_edit.class=fa fa-file-code-o\n fo_edit.title=fo\n fo_edit.alt=fo icon\n \n+fo_manage_approval.class=fa fa-file-code-o\n+fo_manage_approval.title=fo\n+fo_manage_approval.alt=fo icon\n+\n+fo_edit_approval.class=fa fa-file-code-o\n+fo_edit_approval.title=fo\n+fo_edit_approval.alt=fo icon\n+\n html.class=fa fa-file-code-o\n html.title=html\n html.alt=html icon"},{"sha":"0e68735f208eabcb9fb2dcbaab1b551b4a30f6d4","filename":"fit/core-reference/src/main/resources/userWorkflow.bpmn20.xml","status":"modified","additions":5,"deletions":5,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2FuserWorkflow.bpmn20.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2FuserWorkflow.bpmn20.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2FuserWorkflow.bpmn20.xml?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -47,15 +47,15 @@ under the License.\n               flowable:candidateGroups=\"managingDirector\" flowable:formKey=\"createApproval\">\n       <extensionElements>\n         <flowable:formProperty id=\"username\" name=\"Username\" type=\"string\" expression=\"${user.username}\" writable=\"false\"/>\n-        <flowable:formProperty id=\"approve\" name=\"Approve?\" type=\"boolean\" variable=\"approve\" required=\"true\"/>\n+        <flowable:formProperty id=\"approveCreate\" name=\"Approve?\" type=\"boolean\" variable=\"approveCreate\" required=\"true\"/>\n         <flowable:formProperty id=\"rejectReason\" name=\"Reason for rejecting\" type=\"string\" variable=\"rejectReason\"/>\n       </extensionElements>\n     </userTask>\n     <sequenceFlow id=\"flow3\" sourceRef=\"createApproval\" targetRef=\"CreateApprovalEvaluation\"/>\n     <scriptTask id=\"CreateApprovalEvaluation\" name=\"Create approval evaluation\" scriptFormat=\"groovy\" flowable:autoStoreVariables=\"false\">\n       <script><![CDATA[\n try {\n-  if (approve){\n+  if (approveCreate){\n     execution.setVariable(\"task\", 'approve');\n   } else {\n     execution.setVariable(\"task\", 'reject');\n@@ -145,15 +145,15 @@ try {\n               flowable:candidateGroups=\"managingDirector\" flowable:formKey=\"updateApproval\">\n       <extensionElements>\n         <flowable:formProperty id=\"username\" name=\"Username\" type=\"string\" expression=\"${user.username}\" writable=\"false\"/>\n-        <flowable:formProperty id=\"approve\" name=\"Approve?\" type=\"boolean\" variable=\"approve\" required=\"true\"/>\n+        <flowable:formProperty id=\"approveUpdate\" name=\"Approve?\" type=\"boolean\" variable=\"approveUpdate\" required=\"true\"/>\n         <flowable:formProperty id=\"rejectReason\" name=\"Reason for rejecting\" type=\"string\" variable=\"rejectReason\"/>\n       </extensionElements>\n     </userTask>\n     <sequenceFlow id=\"sid-A2BDF803-688C-4A4D-9D33-6D859C029245\" sourceRef=\"updateApproval\" targetRef=\"UpdateApprovalEvaluation\"/>\n     <scriptTask id=\"UpdateApprovalEvaluation\" name=\"Update approval evaluation\" scriptFormat=\"groovy\" flowable:autoStoreVariables=\"false\">\n       <script><![CDATA[\n try {\n-  if (approve){\n+  if (approveUpdate){\n     execution.setVariable(\"task\", 'approve');\n   } else {\n     execution.setVariable(\"task\", 'reject');\n@@ -243,7 +243,7 @@ try {\n               flowable:candidateGroups=\"managingDirector\" flowable:formKey=\"deleteApproval\">\n       <extensionElements>\n         <flowable:formProperty id=\"username\" name=\"Username\" type=\"string\" expression=\"${user.username}\" writable=\"false\"/>\n-        <flowable:formProperty id=\"approve\" name=\"Approve?\" type=\"boolean\" variable=\"approve\" required=\"true\"/>\n+        <flowable:formProperty id=\"approveDelete\" name=\"Approve?\" type=\"boolean\" variable=\"approveDelete\" required=\"true\"/>\n         <flowable:formProperty id=\"rejectReason\" name=\"Reason for rejecting\" type=\"string\" variable=\"rejectReason\"/>\n       </extensionElements>\n     </userTask>"},{"sha":"bbc7ef3a214a9feb55dd89aadc989d2a0ae13a77","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/AuthenticationITCase.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FAuthenticationITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FAuthenticationITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FAuthenticationITCase.java?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -502,7 +502,7 @@ public void issueSYNCOPE434() {\n         // 3. approve user\n         WorkflowFormTO form = userWorkflowService.getFormForUser(userTO.getKey());\n         form = userWorkflowService.claimForm(form.getTaskId());\n-        form.getProperty(\"approve\").get().setValue(Boolean.TRUE.toString());\n+        form.getProperty(\"approveCreate\").get().setValue(Boolean.TRUE.toString());\n         userTO = userWorkflowService.submitForm(form);\n         assertNotNull(userTO);\n         assertEquals(\"active\", userTO.getStatus());"},{"sha":"db2d196fffe1d2d8e6796c42cfedca2af2b183bb","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/UserSelfITCase.java","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FUserSelfITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FUserSelfITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FUserSelfITCase.java?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -125,7 +125,7 @@ public void createAndApprove() {\n         // now approve and verify that propagation has happened\n         WorkflowFormTO form = userWorkflowService.getFormForUser(userTO.getKey());\n         form = userWorkflowService.claimForm(form.getTaskId());\n-        form.getProperty(\"approve\").get().setValue(Boolean.TRUE.toString());\n+        form.getProperty(\"approveCreate\").get().setValue(Boolean.TRUE.toString());\n         userTO = userWorkflowService.submitForm(form);\n         assertNotNull(userTO);\n         assertEquals(\"active\", userTO.getStatus());\n@@ -223,8 +223,7 @@ public void updateWithApproval() {\n         // 3. approve self-update as admin\n         WorkflowFormTO form = userWorkflowService.getFormForUser(updated.getKey());\n         form = userWorkflowService.claimForm(form.getTaskId());\n-        form.getProperty(\"approve\").get().setValue(Boolean.TRUE.toString());\n-        updated = userWorkflowService.submitForm(form);\n+        form.getProperty(\"approveUpdate\").get().setValue(Boolean.TRUE.toString());\n         assertNotNull(updated);\n         assertEquals(\"active\", updated.getStatus());\n         assertTrue(updated.getUsername().endsWith(\"XX\"));"},{"sha":"cc5e3c8c5138deba4b5cc4db805a47d5f4065cbd","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/UserWorkflowITCase.java","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FUserWorkflowITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FUserWorkflowITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FUserWorkflowITCase.java?ref=35eaa6b5bcb2f7abf8fe8b38b059ca5b58d626c0","patch":"@@ -120,7 +120,7 @@ public void createWithReject() {\n         assertNotNull(form.getOwner());\n \n         // 5. reject user\n-        form.getProperty(\"approve\").get().setValue(Boolean.FALSE.toString());\n+        form.getProperty(\"approveCreate\").get().setValue(Boolean.FALSE.toString());\n         form.getProperty(\"rejectReason\").get().setValue(\"I don't like him.\");\n         userTO = userService3.submitForm(form);\n         assertNotNull(userTO);\n@@ -204,7 +204,7 @@ public void createWithApproval() {\n         assertNotNull(form.getOwner());\n \n         // 5. approve user (and verify that propagation occurred)\n-        form.getProperty(\"approve\").get().setValue(Boolean.TRUE.toString());\n+        form.getProperty(\"approveCreate\").get().setValue(Boolean.TRUE.toString());\n         userTO = userWorkflowService.submitForm(form);\n         assertNotNull(userTO);\n         assertEquals(updatedUsername, userTO.getUsername());\n@@ -271,7 +271,7 @@ public void updateApproval() {\n \n         // approve the user\n         form = userWorkflowService.claimForm(form.getTaskId());\n-        form.getProperty(\"approve\").get().setValue(Boolean.TRUE.toString());\n+        form.getProperty(\"approveUpdate\").get().setValue(Boolean.TRUE.toString());\n         userWorkflowService.submitForm(form);\n \n         // verify that the approved user bears both original and further changes\n@@ -331,7 +331,7 @@ public void issueSYNCOPE15() {\n         assertNotNull(form);\n \n         // 5. approve user\n-        form.getProperty(\"approve\").get().setValue(Boolean.TRUE.toString());\n+        form.getProperty(\"approveCreate\").get().setValue(Boolean.TRUE.toString());\n \n         // 6. submit approve\n         userTO = userWorkflowService.submitForm(form);"}]}
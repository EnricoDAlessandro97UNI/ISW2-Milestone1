{"sha":"bcad08c8a414d07aaa9bd04430173a7b5d794363","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmJjYWQwOGM4YTQxNGQwN2FhYTliZDA0NDMwMTczYTdiNWQ3OTQzNjM=","commit":{"author":{"name":"René Mulder","email":"rene@apache.org","date":"2012-05-04T13:35:13Z"},"committer":{"name":"René Mulder","email":"rene@apache.org","date":"2012-05-04T13:35:13Z"},"message":"sonar: close all database resources\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1333953 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"9e0c961507d06347ffbb73997c7b823cac1a73fc","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/9e0c961507d06347ffbb73997c7b823cac1a73fc"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/bcad08c8a414d07aaa9bd04430173a7b5d794363","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bcad08c8a414d07aaa9bd04430173a7b5d794363","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/bcad08c8a414d07aaa9bd04430173a7b5d794363","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bcad08c8a414d07aaa9bd04430173a7b5d794363/comments","author":null,"committer":null,"parents":[{"sha":"e90cc50c2f1b3e4d9f928461717b2454de03d471","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e90cc50c2f1b3e4d9f928461717b2454de03d471","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/e90cc50c2f1b3e4d9f928461717b2454de03d471"}],"stats":{"total":20,"additions":17,"deletions":3},"files":[{"sha":"19a96b559ea4bd7e3cb59d99696e736399fe1bb5","filename":"core/src/main/java/org/apache/syncope/core/init/ContentLoader.java","status":"modified","additions":17,"deletions":3,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcad08c8a414d07aaa9bd04430173a7b5d794363/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Finit%2FContentLoader.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcad08c8a414d07aaa9bd04430173a7b5d794363/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Finit%2FContentLoader.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Finit%2FContentLoader.java?ref=bcad08c8a414d07aaa9bd04430173a7b5d794363","patch":"@@ -24,6 +24,7 @@\n import java.sql.ResultSet;\n import java.sql.SQLException;\n import java.util.Properties;\n+import java.util.logging.Level;\n import javax.sql.DataSource;\n import javax.xml.parsers.SAXParser;\n import javax.xml.parsers.SAXParserFactory;\n@@ -113,9 +114,12 @@ public void load() {\n                     final String updateViews = views.get(idx).toString().replaceAll(\"\\\\n\", \" \");\n                     statement = conn.prepareStatement(updateViews);\n                     statement.executeUpdate();\n-                    statement.close();\n                 } catch (SQLException e) {\n                     LOG.error(\"Could not create view \", e);\n+                } finally {\n+                    if (statement != null) {\n+                        statement.close();\n+                    }\n                 }\n             }\n \n@@ -138,9 +142,12 @@ public void load() {\n                     final String updateIndexed = indexes.get(idx).toString();\n                     statement = conn.prepareStatement(updateIndexed);\n                     statement.executeUpdate();\n-                    statement.close();\n                 } catch (SQLException e) {\n                     LOG.error(\"Could not create index \", e);\n+                } finally {\n+                    if (statement != null) {\n+                        statement.close();\n+                    }\n                 }\n             }\n \n@@ -152,9 +159,16 @@ public void load() {\n         try {\n             statement = conn.prepareStatement(\"DELETE FROM ACT_GE_PROPERTY\");\n             statement.executeUpdate();\n-            statement.close();\n         } catch (SQLException e) {\n             LOG.error(\"Error during ACT_GE_PROPERTY delete rows\", e);\n+        } finally {\n+            if (statement != null) {\n+                try {\n+                    statement.close();\n+                } catch (SQLException e) {\n+                    LOG.error(\"Error closing statement of ACT_GE_PROPERTY delete rows\", e);\n+                }\n+            }\n         }\n \n         try {"}]}
{"sha":"e0aacc4f222fee6e1f914fe119f1552a31cd6358","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmUwYWFjYzRmMjIyZmVlNmUxZjkxNGZlMTE5ZjE1NTJhMzFjZDYzNTg=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2010-10-14T09:34:50Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2010-10-14T09:34:50Z"},"message":"Small bugfix\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1246591 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"ab57d996bde583fb5cf2b387b9f018e34dc989fd","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/ab57d996bde583fb5cf2b387b9f018e34dc989fd"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/e0aacc4f222fee6e1f914fe119f1552a31cd6358","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e0aacc4f222fee6e1f914fe119f1552a31cd6358","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/e0aacc4f222fee6e1f914fe119f1552a31cd6358","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e0aacc4f222fee6e1f914fe119f1552a31cd6358/comments","author":null,"committer":null,"parents":[{"sha":"6a977d1307e711f876fc1e42c51a636c5bb866fe","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/6a977d1307e711f876fc1e42c51a636c5bb866fe","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/6a977d1307e711f876fc1e42c51a636c5bb866fe"}],"stats":{"total":20,"additions":10,"deletions":10},"files":[{"sha":"41a12dbc6552a8f8201f54dbe2d61c71c6600d72","filename":"core/src/main/java/org/syncope/core/rest/data/AbstractAttributableDataBinder.java","status":"modified","additions":9,"deletions":9,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e0aacc4f222fee6e1f914fe119f1552a31cd6358/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FAbstractAttributableDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e0aacc4f222fee6e1f914fe119f1552a31cd6358/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FAbstractAttributableDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FAbstractAttributableDataBinder.java?ref=e0aacc4f222fee6e1f914fe119f1552a31cd6358","patch":"@@ -223,15 +223,14 @@ private <T extends AbstractSchema> boolean evaluateMandatoryCondition(\n         List<SchemaMapping> mappings = resourceDAO.getMappings(schemaName,\n                 SchemaType.byClass(referenceSchema), resourceName);\n \n-        boolean result = mappings == null || mappings.isEmpty()\n-                ? false : true;\n+        boolean result = false;\n \n         SchemaMapping mapping;\n         for (Iterator<SchemaMapping> itor = mappings.iterator();\n-                itor.hasNext() && result;) {\n+                itor.hasNext() && !result;) {\n \n             mapping = itor.next();\n-            result &= evaluateMandatoryCondition(\n+            result |= evaluateMandatoryCondition(\n                     mapping.getMandatoryCondition(),\n                     attributes,\n                     referenceSchema);\n@@ -246,16 +245,17 @@ private <T extends AbstractSchema> boolean evaluateMandatoryCondition(\n             final String schemaName,\n             final Class<T> referenceSchema) {\n \n-        boolean result = resources == null || resources.isEmpty()\n-                ? false : true;\n+        boolean result = false;\n \n         TargetResource resource;\n         for (Iterator<TargetResource> itor = resources.iterator();\n-                itor.hasNext() && result;) {\n+                itor.hasNext() && !result;) {\n \n             resource = itor.next();\n-            result &= evaluateMandatoryCondition(resource.getName(),\n-                    attributes, schemaName, referenceSchema);\n+            if (resource.isForceMandatoryConstraint()) {\n+                result |= evaluateMandatoryCondition(resource.getName(),\n+                        attributes, schemaName, referenceSchema);\n+            }\n         }\n \n         return result;"},{"sha":"b0734c443e43b0b12a7f7e773b9fc0b3c7b253b0","filename":"core/src/main/resources/content.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e0aacc4f222fee6e1f914fe119f1552a31cd6358/core%2Fsrc%2Fmain%2Fresources%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e0aacc4f222fee6e1f914fe119f1552a31cd6358/core%2Fsrc%2Fmain%2Fresources%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2Fcontent.xml?ref=e0aacc4f222fee6e1f914fe119f1552a31cd6358","patch":"@@ -59,7 +59,7 @@\n     <SyncopeRole id=\"0\" name=\"/\" inheritAttributes=\"F\" inheritDerivedAttributes=\"F\"/>\n \n     <MembershipSchema name=\"subscriptionDate\" type=\"Date\" virtual=\"F\"\n-                      mandatory=\"F\" multivalue=\"F\" uniquevalue=\"F\" readonly='F'\n+                      mandatoryCondition=\"false\" multivalue=\"F\" uniquevalue=\"F\" readonly='F'\n                       conversionPattern=\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\"/>\n \n </dataset>"}]}
{"sha":"8d2d9edc5af8b1017731c1c711f9e3b934f2896f","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjhkMmQ5ZWRjNWFmOGIxMDE3NzMxYzFjNzExZjllM2I5MzRmMjg5NmY=","commit":{"author":{"name":"Matteo Alessandroni","email":"matteo.alessandroni@tirasa.net","date":"2017-07-14T10:12:46Z"},"committer":{"name":"Francesco Chicchiricc√≤","email":"ilgrosso@apache.org","date":"2017-07-14T11:05:35Z"},"message":"[SYNCOPE-1151] Realm is correctly loaded after creation - This closes #56","tree":{"sha":"03375a0529554e770341c7c988eb41a314f310b8","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/03375a0529554e770341c7c988eb41a314f310b8"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/8d2d9edc5af8b1017731c1c711f9e3b934f2896f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8d2d9edc5af8b1017731c1c711f9e3b934f2896f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/8d2d9edc5af8b1017731c1c711f9e3b934f2896f","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8d2d9edc5af8b1017731c1c711f9e3b934f2896f/comments","author":{"login":"mat-ale","id":25547301,"node_id":"MDQ6VXNlcjI1NTQ3MzAx","avatar_url":"https://avatars.githubusercontent.com/u/25547301?v=4","gravatar_id":"","url":"https://api.github.com/users/mat-ale","html_url":"https://github.com/mat-ale","followers_url":"https://api.github.com/users/mat-ale/followers","following_url":"https://api.github.com/users/mat-ale/following{/other_user}","gists_url":"https://api.github.com/users/mat-ale/gists{/gist_id}","starred_url":"https://api.github.com/users/mat-ale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mat-ale/subscriptions","organizations_url":"https://api.github.com/users/mat-ale/orgs","repos_url":"https://api.github.com/users/mat-ale/repos","events_url":"https://api.github.com/users/mat-ale/events{/privacy}","received_events_url":"https://api.github.com/users/mat-ale/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"020a35c64aecb0afcda336bae815c4d3605aed22","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/020a35c64aecb0afcda336bae815c4d3605aed22","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/020a35c64aecb0afcda336bae815c4d3605aed22"}],"stats":{"total":14,"additions":9,"deletions":5},"files":[{"sha":"b87ab2c610efdbf2ad97ddf97c826d0c0f1df28d","filename":"client/console/src/main/java/org/apache/syncope/client/console/pages/Realms.java","status":"modified","additions":5,"deletions":5,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8d2d9edc5af8b1017731c1c711f9e3b934f2896f/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8d2d9edc5af8b1017731c1c711f9e3b934f2896f/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms.java?ref=8d2d9edc5af8b1017731c1c711f9e3b934f2896f","patch":"@@ -196,15 +196,15 @@ public void onClose(final AjaxRequestTarget target) {\n                         if (modal.getContent() instanceof ResultPage) {\n                             Serializable result = ResultPage.class.cast(modal.getContent()).getResult();\n \n-                            RealmTO reamTO = RealmTO.class.cast(ProvisioningResult.class.cast(result).getEntity());\n+                            RealmTO newRealmTO = RealmTO.class.cast(ProvisioningResult.class.cast(result).getEntity());\n                             // reload realmChoicePanel label too - SYNCOPE-1151\n-                            target.add(realmChoicePanel.reloadRealmTree(target, Model.of(reamTO)));\n-                            updateRealmContent(reamTO, selectedIndex);\n-\n-                            target.add(content);\n+                            target.add(realmChoicePanel.reloadRealmTree(target, Model.of(newRealmTO)));\n+                            realmChoicePanel.setCurrentRealm(newRealmTO);\n+                            send(Realms.this, Broadcast.DEPTH, new ChosenRealm<>(newRealmTO, target));\n                         } else {\n                             target.add(realmChoicePanel.reloadRealmTree(target));\n                         }\n+                        target.add(content);\n                         modal.show(false);\n                     }\n                 });"},{"sha":"79c3322b5989705bb8d1ba5a55406a0a79a8483a","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/RealmChoicePanel.java","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8d2d9edc5af8b1017731c1c711f9e3b934f2896f/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealmChoicePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8d2d9edc5af8b1017731c1c711f9e3b934f2896f/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealmChoicePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealmChoicePanel.java?ref=8d2d9edc5af8b1017731c1c711f9e3b934f2896f","patch":"@@ -380,6 +380,10 @@ public RealmTO getCurrentRealm() {\n         return model.getObject();\n     }\n \n+    public void setCurrentRealm(final RealmTO realmTO) {\n+        model.setObject(realmTO);\n+    }\n+\n     public RealmTO moveToParentRealm(final String key) {\n         for (Pair<RealmTO, List<RealmTO>> subtree : tree.values()) {\n             for (RealmTO child : subtree.getRight()) {"}]}
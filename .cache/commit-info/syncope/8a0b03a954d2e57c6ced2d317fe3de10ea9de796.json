{"sha":"8a0b03a954d2e57c6ced2d317fe3de10ea9de796","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjhhMGIwM2E5NTRkMmU1N2M2Y2VkMmQzMTdmZTNkZTEwZWE5ZGU3OTY=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2011-08-26T11:19:00Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2011-08-26T11:19:00Z"},"message":"Removing some unnecessary steps from 'plain' building\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247096 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"9aa859f790696aebac83936a4461c2c11ac306ce","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/9aa859f790696aebac83936a4461c2c11ac306ce"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/8a0b03a954d2e57c6ced2d317fe3de10ea9de796","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8a0b03a954d2e57c6ced2d317fe3de10ea9de796","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/8a0b03a954d2e57c6ced2d317fe3de10ea9de796","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8a0b03a954d2e57c6ced2d317fe3de10ea9de796/comments","author":null,"committer":null,"parents":[{"sha":"501a66884a3370761a4a526c04e1fbb48e4231a0","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/501a66884a3370761a4a526c04e1fbb48e4231a0","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/501a66884a3370761a4a526c04e1fbb48e4231a0"}],"stats":{"total":169,"additions":101,"deletions":68},"files":[{"sha":"480fdb3343822ca4aed6b3f176a7b4f409203fdb","filename":"console/pom.xml","status":"modified","additions":81,"deletions":58,"changes":139,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8a0b03a954d2e57c6ced2d317fe3de10ea9de796/console%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8a0b03a954d2e57c6ced2d317fe3de10ea9de796/console%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fpom.xml?ref=8a0b03a954d2e57c6ced2d317fe3de10ea9de796","patch":"@@ -168,8 +168,63 @@\n     <build>\n         <finalName>${project.artifactId}</finalName>\n \n-        <plugins>\n+        <pluginManagement>\n+            <plugins>\n+                <plugin>\n+                    <groupId>org.apache.maven.plugins</groupId>\n+                    <artifactId>maven-antrun-plugin</artifactId>\n+                    <inherited>true</inherited>\n+                    <executions>\n+                        <execution>\n+                            <id>explodeSyncopeWAR</id>\n+                            <phase>pre-integration-test</phase>\n+                            <configuration>\n+                                <target>\n+                                    <unzip src=\"${basedir}/../core/target/syncope.war\" dest=\"${project.build.directory}/syncope-core-test\">\n+                                        <patternset>\n+                                            <exclude name=\"**/content.xml\" />\n+                                            <exclude name=\"**/ehcache.xml\" />\n+                                            <exclude name=\"**/persistence.properties\" />\n+                                        </patternset>\n+                                    </unzip>\n+                                </target>\n+                            </configuration>\n+                            <goals>\n+                                <goal>run</goal>\n+                            </goals>\n+                        </execution>\n+                        <execution>\n+                            <id>setupTomcat</id>\n+                            <phase>pre-integration-test</phase>\n+                            <configuration>\n+                                <target>\n+                                    <get src=\"http://www.apache.org/dist/tomcat/tomcat-7/v${tomcat.version}/bin/apache-tomcat-${tomcat.version}.zip\" dest=\"${java.io.tmpdir}\" skipexisting=\"true\" />\n+                                    <unzip src=\"${java.io.tmpdir}/apache-tomcat-${tomcat.version}.zip\" dest=\"${java.io.tmpdir}\" overwrite=\"false\" />\n+                                </target>\n+                            </configuration>\n+                            <goals>\n+                                <goal>run</goal>\n+                            </goals>\n+                        </execution>\n+                        <execution>\n+                            <id>setupCSV</id>\n+                            <phase>pre-integration-test</phase>\n+                            <configuration>\n+                                <target>\n+                                    <copy file=\"${project.build.directory}/test-classes/test.csv\" todir=\"${java.io.tmpdir}\" overwrite=\"true\"/>\n+                                </target>    \n+                            </configuration>\n+                            <goals>\n+                                <goal>run</goal>\n+                            </goals>\n+                        </execution>\n+                    </executions>\n+                </plugin>\n+            </plugins>\n+        </pluginManagement>\n \n+        <plugins>\n+            \n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-war-plugin</artifactId>\n@@ -179,57 +234,6 @@\n                 </configuration>\n             </plugin>\n             \n-            <plugin>\n-                <groupId>org.apache.maven.plugins</groupId>\n-                <artifactId>maven-antrun-plugin</artifactId>\n-                <inherited>true</inherited>\n-                <executions>\n-                    <execution>\n-                        <id>explodeSyncopeWAR</id>\n-                        <phase>package</phase>\n-                        <configuration>\n-                            <target>\n-                                <unzip src=\"${basedir}/../core/target/syncope.war\" dest=\"${project.build.directory}/syncope-core-test\">\n-                                    <patternset>\n-                                        <exclude name=\"**/content.xml\" />\n-                                        <exclude name=\"**/ehcache.xml\" />\n-                                        <exclude name=\"**/persistence.properties\" />\n-                                    </patternset>\n-                                </unzip>\n-                            </target>\n-                        </configuration>\n-                        <goals>\n-                            <goal>run</goal>\n-                        </goals>\n-                    </execution>\n-                    <execution>\n-                        <id>setupTomcat</id>\n-                        <phase>package</phase>\n-                        <configuration>\n-                            <target>\n-                                <get src=\"http://www.apache.org/dist/tomcat/tomcat-7/v${tomcat.version}/bin/apache-tomcat-${tomcat.version}.zip\" dest=\"${java.io.tmpdir}\" skipexisting=\"true\" />\n-                                <unzip src=\"${java.io.tmpdir}/apache-tomcat-${tomcat.version}.zip\" dest=\"${java.io.tmpdir}\" overwrite=\"false\" />\n-                            </target>\n-                        </configuration>\n-                        <goals>\n-                            <goal>run</goal>\n-                        </goals>\n-                    </execution>\n-                    <execution>\n-                        <id>setupCSV</id>\n-                        <phase>package</phase>\n-                        <configuration>\n-                            <target>\n-                                <copy file=\"${project.build.directory}/test-classes/test.csv\" todir=\"${java.io.tmpdir}\" overwrite=\"true\"/>\n-                            </target>    \n-                        </configuration>\n-                        <goals>\n-                            <goal>run</goal>\n-                        </goals>\n-                    </execution>\n-                </executions>\n-            </plugin>\n-\n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-dependency-plugin</artifactId>\n@@ -385,8 +389,11 @@\n     <profiles>\n         <profile>\n             <id>dev</id>\n+            <properties>\n+                <maven.test.skip>true</maven.test.skip>\n+            </properties>\n             <build>\n-                <defaultGoal>clean package cargo:run</defaultGoal>\n+                <defaultGoal>clean verify cargo:run</defaultGoal>\n                 <plugins>\n                     <plugin>\n                         <groupId>org.apache.maven.plugins</groupId>\n@@ -402,34 +409,42 @@\n                             </execution>\n                         </executions>\n                     </plugin>\n+                    \n                     <plugin>\n                         <groupId>org.onebusaway.plugins</groupId>\n                         <artifactId>maven-hsqldb-plugin</artifactId>\n                         <inherited>true</inherited>\n                         <executions>\n                             <execution>\n                                 <id>startTestDb</id>\n-                                <phase>package</phase>\n+                                <phase>pre-integration-test</phase>\n                                 <goals>\n                                     <goal>run</goal>    \n                                 </goals>\n                             </execution>\n                         </executions>\n                     </plugin>\n+                    \n                     <plugin>\n                         <groupId>org.codehaus.mojo</groupId>\n                         <artifactId>sql-maven-plugin</artifactId>\n                         <inherited>true</inherited>\n                         <executions>\n                             <execution>\n                                 <id>loadTestDb</id>\n-                                <phase>package</phase>\n+                                <phase>pre-integration-test</phase>\n                                 <goals>\n                                     <goal>execute</goal>    \n                                 </goals>\n                             </execution>    \n                         </executions>\n-                    </plugin>    \n+                    </plugin>\n+                    \n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <inherited>true</inherited>\n+                    </plugin>\n                 </plugins>\n             </build>\n         </profile>\n@@ -505,27 +520,35 @@\n                         <executions>\n                             <execution>\n                                 <id>startTestDb</id>\n-                                <phase>package</phase>\n+                                <phase>pre-integration-test</phase>\n                                 <goals>\n                                     <goal>run</goal>    \n                                 </goals>\n                             </execution>\n                         </executions>\n                     </plugin>\n+                    \n                     <plugin>\n                         <groupId>org.codehaus.mojo</groupId>\n                         <artifactId>sql-maven-plugin</artifactId>\n                         <inherited>true</inherited>\n                         <executions>\n                             <execution>\n                                 <id>loadTestDb</id>\n-                                <phase>package</phase>\n+                                <phase>pre-integration-test</phase>\n                                 <goals>\n                                     <goal>execute</goal>    \n                                 </goals>\n                             </execution>    \n                         </executions>\n                     </plugin>\n+                    \n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <inherited>true</inherited>\n+                    </plugin>\n+                    \n                     <plugin>\n                         <groupId>org.codehaus.cargo</groupId>\n                         <artifactId>cargo-maven2-plugin</artifactId>"},{"sha":"cc25c009ec50ddc09bb226fc69775b7a271fabf0","filename":"core/pom.xml","status":"modified","additions":20,"deletions":10,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8a0b03a954d2e57c6ced2d317fe3de10ea9de796/core%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8a0b03a954d2e57c6ced2d317fe3de10ea9de796/core%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpom.xml?ref=8a0b03a954d2e57c6ced2d317fe3de10ea9de796","patch":"@@ -307,7 +307,7 @@\n         <finalName>${project.parent.artifactId}</finalName>\n \n         <plugins>\n-\n+                \n             <plugin>\n                 <groupId>org.apache.maven.plugins</groupId>\n                 <artifactId>maven-war-plugin</artifactId>\n@@ -392,7 +392,7 @@\n                 <executions>\n                     <execution>\n                         <id>explodeSyncopeWAR</id>\n-                        <phase>package</phase>\n+                        <phase>pre-integration-test</phase>\n                         <configuration>\n                             <target>\n                                 <unzip src=\"${project.build.directory}/${project.build.finalName}.war\" dest=\"${cargo.run.dir}\">\n@@ -412,7 +412,7 @@\n                     </execution>\n                     <execution>\n                         <id>setupTomcat</id>\n-                        <phase>package</phase>\n+                        <phase>pre-integration-test</phase>\n                         <configuration>\n                             <target>\n                                 <get src=\"http://www.apache.org/dist/tomcat/tomcat-7/v${tomcat.version}/bin/apache-tomcat-${tomcat.version}.zip\" dest=\"${java.io.tmpdir}\" skipexisting=\"true\" />\n@@ -425,7 +425,7 @@\n                     </execution>\n                     <execution>\n                         <id>setupCSV</id>\n-                        <phase>package</phase>\n+                        <phase>pre-integration-test</phase>\n                         <configuration>\n                             <target>\n                                 <copy file=\"${project.build.directory}/test-classes/test.csv\" todir=\"${java.io.tmpdir}\" overwrite=\"true\"/>\n@@ -494,7 +494,7 @@\n                 <executions>\n                     <execution>\n                         <id>startTestDb</id>\n-                        <phase>package</phase>\n+                        <phase>pre-integration-test</phase>\n                         <goals>\n                             <goal>run</goal>\n                         </goals>\n@@ -538,7 +538,6 @@\n                 <artifactId>cargo-maven2-plugin</artifactId>\n                 <inherited>true</inherited>\n                 <configuration>\n-                    <wait>true</wait>\n                     <container>\n                         <containerId>tomcat7x</containerId>\n                         <home>${java.io.tmpdir}/apache-tomcat-${tomcat.version}</home>\n@@ -587,9 +586,6 @@\n                         <goals>\n                             <goal>start</goal>\n                         </goals>\n-                        <configuration>\n-                            <wait>false</wait>\n-                        </configuration>\n                     </execution>\n                     <execution>\n                         <id>stop-container</id>\n@@ -653,8 +649,22 @@\n         \n         <profile>\n             <id>dev</id>\n+            <properties>\n+                <maven.test.skip>true</maven.test.skip>\n+            </properties>    \n             <build>\n-                <defaultGoal>clean package cargo:run</defaultGoal>\n+                <defaultGoal>clean verify</defaultGoal>\n+                \n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.codehaus.cargo</groupId>\n+                        <artifactId>cargo-maven2-plugin</artifactId>\n+                        <inherited>true</inherited>\n+                        <configuration>\n+                            <wait>true</wait>    \n+                        </configuration>\n+                    </plugin>\n+                </plugins>\n             </build>\n         </profile>\n         "}]}
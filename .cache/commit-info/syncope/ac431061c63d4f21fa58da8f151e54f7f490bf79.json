{"sha":"ac431061c63d4f21fa58da8f151e54f7f490bf79","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmFjNDMxMDYxYzYzZDRmMjFmYTU4ZGE4ZjE1MWU1NGY3ZjQ5MGJmNzk=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2021-03-23T08:26:01Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2021-03-23T08:42:32Z"},"message":"[SYNCOPE-1624] Toggle panel improvements","tree":{"sha":"cc850f00db59ccc5424bfe6e6bf5f37c44f8d100","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/cc850f00db59ccc5424bfe6e6bf5f37c44f8d100"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/ac431061c63d4f21fa58da8f151e54f7f490bf79","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ac431061c63d4f21fa58da8f151e54f7f490bf79","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ac431061c63d4f21fa58da8f151e54f7f490bf79","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ac431061c63d4f21fa58da8f151e54f7f490bf79/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"7f5c55e12cb5c4f8c44259f4a0908c47b1c9a6e4","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/7f5c55e12cb5c4f8c44259f4a0908c47b1c9a6e4","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/7f5c55e12cb5c4f8c44259f4a0908c47b1c9a6e4"}],"stats":{"total":161,"additions":48,"deletions":113},"files":[{"sha":"47c7f8d928d04908aa10f7349ad39b9dfa12d46c","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/notifications/MailTemplateDirectoryPanel.java","status":"modified","additions":4,"deletions":12,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fnotifications%2FMailTemplateDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fnotifications%2FMailTemplateDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fnotifications%2FMailTemplateDirectoryPanel.java?ref=ac431061c63d4f21fa58da8f151e54f7f490bf79","patch":"@@ -34,7 +34,6 @@\n import org.apache.syncope.client.console.panels.DirectoryPanel;\n import org.apache.syncope.client.console.rest.NotificationRestClient;\n import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n-import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal.WindowClosedCallback;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.client.ui.commons.wizards.AbstractModalPanelBuilder;\n import org.apache.syncope.client.ui.commons.wizards.AjaxWizard;\n@@ -70,18 +69,11 @@ public MailTemplateDirectoryPanel(final String id, final PageReference pageRefer\n \n         modal.size(Modal.Size.Small);\n         modal.addSubmitButton();\n-        setFooterVisibility(true);\n-\n-        modal.setWindowClosedCallback(new WindowClosedCallback() {\n-\n-            private static final long serialVersionUID = 8804221891699487139L;\n-\n-            @Override\n-            public void onClose(final AjaxRequestTarget target) {\n-                updateResultTable(target);\n-                modal.show(false);\n-            }\n+        modal.setWindowClosedCallback(target -> {\n+            updateResultTable(target);\n+            modal.show(false);\n         });\n+        setFooterVisibility(true);\n \n         addOuterObject(utilityModal);\n         setWindowClosedReloadCallback(utilityModal);"},{"sha":"4c0d7120789d24e4fedf8947a48c50053e793e22","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/AnyDirectoryPanel.java","status":"modified","additions":0,"deletions":15,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyDirectoryPanel.java?ref=ac431061c63d4f21fa58da8f151e54f7f490bf79","patch":"@@ -38,9 +38,7 @@\n import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.KeyPropertyColumn;\n import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.TokenColumn;\n import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n-import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal.WindowClosedCallback;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n-import org.apache.syncope.client.console.wizards.any.ResultPage;\n import org.apache.syncope.client.console.wizards.any.StatusPanel;\n import org.apache.syncope.client.ui.commons.Constants;\n import org.apache.syncope.client.ui.commons.status.ConnObjectWrapper;\n@@ -114,19 +112,6 @@ protected AnyDirectoryPanel(final String id, final Builder<A, E> builder, final\n         setWindowClosedReloadCallback(utilityModal);\n \n         modal.size(Modal.Size.Large);\n-        // change close callback in order to update header after model update\n-        modal.setWindowClosedCallback(new WindowClosedCallback() {\n-\n-            private static final long serialVersionUID = 8804221891699487139L;\n-\n-            @Override\n-            public void onClose(final AjaxRequestTarget target) {\n-                if (actionTogglePanel.isVisibleInHierarchy() && modal.getContent() instanceof ResultPage) {\n-                    actionTogglePanel.updateHeader(target, ResultPage.class.cast(modal.getContent()).getItem());\n-                }\n-                modal.show(false);\n-            }\n-        });\n \n         altDefaultModal.size(Modal.Size.Large);\n "},{"sha":"7c6bda1f2f73ab31b13792ff43d19e88ce83ed7e","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/AnyPanel.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyPanel.java?ref=ac431061c63d4f21fa58da8f151e54f7f490bf79","patch":"@@ -31,6 +31,7 @@\n import org.apache.syncope.client.console.panels.search.SearchUtils;\n import org.apache.syncope.client.console.panels.search.UserSearchPanel;\n import org.apache.syncope.client.console.rest.AnyTypeClassRestClient;\n+import org.apache.syncope.client.console.wicket.markup.html.form.ActionLinksTogglePanel;\n import org.apache.syncope.client.lib.SyncopeClient;\n import org.apache.syncope.client.ui.commons.Constants;\n import org.apache.syncope.client.ui.commons.panels.LabelPanel;\n@@ -49,6 +50,7 @@\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n+import org.apache.wicket.event.Broadcast;\n import org.apache.wicket.event.IEvent;\n import org.apache.wicket.extensions.markup.html.tabs.AbstractTab;\n import org.apache.wicket.extensions.markup.html.tabs.ITab;\n@@ -254,6 +256,9 @@ public void onEvent(final IEvent<?> event) {\n         if (event.getPayload() instanceof SearchClausePanel.SearchEvent) {\n             AjaxRequestTarget target = SearchClausePanel.SearchEvent.class.cast(event.getPayload()).getTarget();\n \n+            send(AnyPanel.this.directoryPanel, Broadcast.BREADTH,\n+                    new ActionLinksTogglePanel.ActionLinkToggleCloseEventPayload(target));\n+\n             String precond = realmTO.getFullPath().startsWith(SyncopeConstants.ROOT_REALM)\n                     ? StringUtils.EMPTY\n                     : String.format(\"$dynRealms=~%s;\", realmTO.getKey());"},{"sha":"dc029f0f7b3a8321646d60cd62c2d743299f586e","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/ApplicationDirectoryPanel.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FApplicationDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FApplicationDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FApplicationDirectoryPanel.java?ref=ac431061c63d4f21fa58da8f151e54f7f490bf79","patch":"@@ -85,11 +85,11 @@ protected ApplicationDirectoryPanel(final String id, final Builder builder) {\n \n         modal.size(Modal.Size.Default);\n         modal.addSubmitButton();\n-        setFooterVisibility(true);\n         modal.setWindowClosedCallback(target -> {\n             updateResultTable(target);\n             modal.show(false);\n         });\n+        setFooterVisibility(true);\n \n         privilegeModal.size(Modal.Size.Large);\n         privilegeModal.setWindowClosedCallback(target -> {"},{"sha":"4bf372449d13053b8d2b078372a8b2070fb06763","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/DirectoryPanel.java","status":"modified","additions":15,"deletions":17,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDirectoryPanel.java?ref=ac431061c63d4f21fa58da8f151e54f7f490bf79","patch":"@@ -31,11 +31,11 @@\n import org.apache.syncope.client.ui.commons.rest.RestClient;\n import org.apache.syncope.client.ui.commons.ajax.form.IndicatorAjaxFormComponentUpdatingBehavior;\n import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n-import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal.WindowClosedCallback;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLinksTogglePanel;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionsPanel;\n import org.apache.syncope.client.console.wizards.WizardMgtPanel;\n+import org.apache.syncope.client.ui.commons.panels.WizardModalPanel;\n import org.apache.syncope.common.lib.types.IdRepoEntitlement;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n@@ -167,27 +167,25 @@ protected DirectoryPanel(final String id, final Builder<T, W, E> builder, final\n \n         rows = PreferenceManager.getPaginatorRows(getRequest(), paginatorRowsKey());\n \n-        setWindowClosedReloadCallback(modal);\n-        setWindowClosedReloadCallback(altDefaultModal);\n-        setWindowClosedReloadCallback(displayAttributeModal);\n-\n-        displayAttributeModal.setWindowClosedCallback(new WindowClosedCallback() {\n+        modal.setWindowClosedCallback(target -> {\n+            if (actionTogglePanel.isVisibleInHierarchy() && modal.getContent() instanceof WizardModalPanel) {\n+                actionTogglePanel.updateHeader(target, WizardModalPanel.class.cast(modal.getContent()).getItem());\n+            }\n+            modal.show(false);\n+        });\n \n-            private static final long serialVersionUID = 8804221891699487139L;\n+        setWindowClosedReloadCallback(altDefaultModal);\n+        altDefaultModal.size(Modal.Size.Default);\n \n-            @Override\n-            public void onClose(final AjaxRequestTarget target) {\n-                final EventDataWrapper data = new EventDataWrapper();\n-                data.setTarget(target);\n-                data.setRows(rows);\n+        displayAttributeModal.setWindowClosedCallback(target -> {\n+            EventDataWrapper data = new EventDataWrapper();\n+            data.setTarget(target);\n+            data.setRows(rows);\n \n-                send(DirectoryPanel.this, Broadcast.EXACT, data);\n+            send(DirectoryPanel.this, Broadcast.EXACT, data);\n \n-                modal.show(false);\n-            }\n+            modal.show(false);\n         });\n-\n-        altDefaultModal.size(Modal.Size.Default);\n         displayAttributeModal.size(Modal.Size.Default);\n         displayAttributeModal.addSubmitButton();\n     }"},{"sha":"a828115cb38f4d568065b0b83f61ca1f3b547065","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/DynRealmDirectoryPanel.java","status":"modified","additions":4,"deletions":11,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDynRealmDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDynRealmDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDynRealmDirectoryPanel.java?ref=ac431061c63d4f21fa58da8f151e54f7f490bf79","patch":"@@ -31,7 +31,6 @@\n import org.apache.syncope.client.console.pages.BasePage;\n import org.apache.syncope.client.console.panels.DynRealmDirectoryPanel.DynRealmDataProvider;\n import org.apache.syncope.client.console.rest.DynRealmRestClient;\n-import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal.WindowClosedCallback;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionsPanel;\n import org.apache.syncope.client.console.wizards.DynRealmWrapper;\n@@ -66,17 +65,11 @@ protected DynRealmDirectoryPanel(final String id, final Builder builder) {\n \n         modal.size(Modal.Size.Large);\n         modal.addSubmitButton();\n-        setFooterVisibility(true);\n-        modal.setWindowClosedCallback(new WindowClosedCallback() {\n-\n-            private static final long serialVersionUID = 8804221891699487139L;\n-\n-            @Override\n-            public void onClose(final AjaxRequestTarget target) {\n-                updateResultTable(target);\n-                modal.show(false);\n-            }\n+        modal.setWindowClosedCallback(target -> {\n+            updateResultTable(target);\n+            modal.show(false);\n         });\n+        setFooterVisibility(true);\n \n         AjaxLink<Void> newDynRealmlLink = new AjaxLink<Void>(\"add\") {\n "},{"sha":"68d85df3d5b7692e2114ca51841e763bd0ae97b6","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/ImplementationDirectoryPanel.java","status":"modified","additions":4,"deletions":11,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FImplementationDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FImplementationDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FImplementationDirectoryPanel.java?ref=ac431061c63d4f21fa58da8f151e54f7f490bf79","patch":"@@ -31,7 +31,6 @@\n import org.apache.syncope.client.console.pages.BasePage;\n import org.apache.syncope.client.console.panels.ImplementationDirectoryPanel.ImplementationProvider;\n import org.apache.syncope.client.console.rest.ImplementationRestClient;\n-import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal.WindowClosedCallback;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLinksTogglePanel;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionsPanel;\n@@ -70,16 +69,10 @@ public ImplementationDirectoryPanel(final String id, final String type, final Pa\n \n         modal.size(Modal.Size.Large);\n         modal.addSubmitButton();\n-        modal.setWindowClosedCallback(new WindowClosedCallback() {\n-\n-            private static final long serialVersionUID = 8804221891699487139L;\n-\n-            @Override\n-            public void onClose(final AjaxRequestTarget target) {\n-                implementation.setEngine(null);\n-                updateResultTable(target);\n-                modal.show(false);\n-            }\n+        modal.setWindowClosedCallback(target -> {\n+            implementation.setEngine(null);\n+            updateResultTable(target);\n+            modal.show(false);\n         });\n         setFooterVisibility(true);\n "},{"sha":"64d93ce69982b7652af40cc300758ab692d1942e","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/SecurityQuestionsPanel.java","status":"modified","additions":6,"deletions":21,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FSecurityQuestionsPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FSecurityQuestionsPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FSecurityQuestionsPanel.java?ref=ac431061c63d4f21fa58da8f151e54f7f490bf79","patch":"@@ -32,7 +32,6 @@\n import org.apache.syncope.client.console.panels.SecurityQuestionsPanel.SecurityQuestionsProvider;\n import org.apache.syncope.client.console.rest.SecurityQuestionRestClient;\n import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.KeyPropertyColumn;\n-import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal.WindowClosedCallback;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionsPanel;\n import org.apache.syncope.client.ui.commons.wizards.AbstractModalPanelBuilder;\n@@ -68,16 +67,13 @@ protected WizardMgtPanel<SecurityQuestionTO> newInstance(final String id, final\n             }\n         }.disableCheckBoxes());\n \n-        modal.setWindowClosedCallback(new WindowClosedCallback() {\n-\n-            private static final long serialVersionUID = 8804221891699487139L;\n-\n-            @Override\n-            public void onClose(final AjaxRequestTarget target) {\n-                modal.show(false);\n-                target.add(container);\n-            }\n+        modal.addSubmitButton();\n+        modal.size(Modal.Size.Large);\n+        modal.setWindowClosedCallback(target -> {\n+            modal.show(false);\n+            target.add(container);\n         });\n+        setFooterVisibility(true);\n \n         this.addNewItemPanelBuilder(\n                 new AbstractModalPanelBuilder<SecurityQuestionTO>(new SecurityQuestionTO(), pageRef) {\n@@ -92,22 +88,11 @@ public WizardModalPanel<SecurityQuestionTO> build(\n             }\n         }, true);\n \n-        setFooterVisibility(true);\n-        modal.addSubmitButton();\n-        modal.size(Modal.Size.Large);\n         initResultTable();\n \n         MetaDataRoleAuthorizationStrategy.authorize(addAjaxLink, RENDER, IdRepoEntitlement.SECURITY_QUESTION_CREATE);\n     }\n \n-    private SecurityQuestionsPanel(\n-            final String id,\n-            final Builder<SecurityQuestionTO, SecurityQuestionTO, SecurityQuestionRestClient> builder) {\n-\n-        super(id, builder);\n-        setOutputMarkupId(true);\n-    }\n-\n     @Override\n     protected SecurityQuestionsProvider dataProvider() {\n         return new SecurityQuestionsProvider(rows);"},{"sha":"eac8db2f18bc984ed1bb7fd1884a15b1bd204c3d","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/policies/PolicyDirectoryPanel.java","status":"modified","additions":5,"deletions":13,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel.java?ref=ac431061c63d4f21fa58da8f151e54f7f490bf79","patch":"@@ -35,7 +35,6 @@\n import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.CollectionPropertyColumn;\n import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.KeyPropertyColumn;\n import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n-import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal.WindowClosedCallback;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink.ActionType;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionsPanel;\n@@ -94,20 +93,13 @@ public PolicyDirectoryPanel(final String id, final PolicyType policyType, final\n         setWindowClosedReloadCallback(policySpecModal);\n         addOuterObject(policySpecModal);\n \n-        modal.setWindowClosedCallback(new WindowClosedCallback() {\n-\n-            private static final long serialVersionUID = 8804221891699487129L;\n-\n-            @Override\n-            public void onClose(final AjaxRequestTarget target) {\n-                updateResultTable(target);\n-                modal.show(false);\n-            }\n-        });\n-\n-        setFooterVisibility(true);\n         modal.addSubmitButton();\n         modal.size(Modal.Size.Large);\n+        modal.setWindowClosedCallback(target -> {\n+            updateResultTable(target);\n+            modal.show(false);\n+        });\n+        setFooterVisibility(true);\n \n         disableCheckBoxes();\n     }"},{"sha":"40b253571d760082f47e7eb26a82a1f0a7c9f8ba","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/reports/ReportTemplateDirectoryPanel.java","status":"modified","additions":4,"deletions":12,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ac431061c63d4f21fa58da8f151e54f7f490bf79/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel.java?ref=ac431061c63d4f21fa58da8f151e54f7f490bf79","patch":"@@ -51,7 +51,6 @@\n import org.apache.wicket.model.StringResourceModel;\n import org.apache.syncope.client.console.reports.ReportTemplateDirectoryPanel.ReportTemplateProvider;\n import org.apache.syncope.client.console.rest.ReportRestClient;\n-import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal.WindowClosedCallback;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionsPanel;\n import org.apache.syncope.client.console.wicket.markup.html.form.XMLEditorPanel;\n import org.apache.syncope.client.ui.commons.panels.WizardModalPanel;\n@@ -71,18 +70,11 @@ public ReportTemplateDirectoryPanel(final String id, final PageReference pageRef\n \n         modal.size(Modal.Size.Small);\n         modal.addSubmitButton();\n-        setFooterVisibility(true);\n-\n-        modal.setWindowClosedCallback(new WindowClosedCallback() {\n-\n-            private static final long serialVersionUID = 8804221891699487139L;\n-\n-            @Override\n-            public void onClose(final AjaxRequestTarget target) {\n-                updateResultTable(target);\n-                modal.show(false);\n-            }\n+        modal.setWindowClosedCallback(target -> {\n+            updateResultTable(target);\n+            modal.show(false);\n         });\n+        setFooterVisibility(true);\n \n         addOuterObject(utilityModal);\n         setWindowClosedReloadCallback(utilityModal);"}]}
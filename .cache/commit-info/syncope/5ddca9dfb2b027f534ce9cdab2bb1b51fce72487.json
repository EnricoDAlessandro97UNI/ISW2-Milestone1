{"sha":"5ddca9dfb2b027f534ce9cdab2bb1b51fce72487","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjVkZGNhOWRmYjJiMDI3ZjUzNGNlOWNkYWIyYmIxYjUxZmNlNzI0ODc=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2018-06-25T13:19:13Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2018-06-25T13:19:13Z"},"message":"[SYNCOPE-681] Fix console tests","tree":{"sha":"b46d1097b7b051bdcb1892f744663682239e6303","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/b46d1097b7b051bdcb1892f744663682239e6303"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/5ddca9dfb2b027f534ce9cdab2bb1b51fce72487","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5ddca9dfb2b027f534ce9cdab2bb1b51fce72487","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/5ddca9dfb2b027f534ce9cdab2bb1b51fce72487","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5ddca9dfb2b027f534ce9cdab2bb1b51fce72487/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"8e6ed9601be4030954cbb480a4a86553dc55d126","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8e6ed9601be4030954cbb480a4a86553dc55d126","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/8e6ed9601be4030954cbb480a4a86553dc55d126"}],"stats":{"total":81,"additions":49,"deletions":32},"files":[{"sha":"86b9b4db3b7ab0be2e677eb7dc9019c8941faf40","filename":"core/persistence-jpa/src/test/resources/domains/MasterContent.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5ddca9dfb2b027f534ce9cdab2bb1b51fce72487/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5ddca9dfb2b027f534ce9cdab2bb1b51fce72487/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml?ref=5ddca9dfb2b027f534ce9cdab2bb1b51fce72487","patch":"@@ -1438,7 +1438,7 @@ $$ }&#10;\n   <AnyAbout id=\"a328f2e6-25e9-4cc1-badf-7425d7be4b39\" anyType_id=\"USER\" notification_id=\"e00945b5-1184-4d43-8e45-4318a8dcdfd4\" filter=\"token!=$null\"/>\n   <Notification_events notification_id=\"e00945b5-1184-4d43-8e45-4318a8dcdfd4\" event=\"[CUSTOM]:[]:[]:[requestPasswordReset]:[SUCCESS]\"/>\n   <Task DTYPE=\"NotificationTask\" id=\"e1e520f0-2cbd-4e11-9a89-ea58a0f957e7\" notification_id=\"e00945b5-1184-4d43-8e45-4318a8dcdfd4\"\n-        sender=\"admin@prova.org\" subject=\"Notification for SYNCOPE-81\" \n+        sender=\"admin@prova.org\" subject=\"Notification for SYNCOPE-81\" executed=\"0\"\n         textBody=\"NOTIFICATION-81\" htmlBody=\"NOTIFICATION-81\" traceLevel=\"ALL\"/>\n   <NotificationTask_recipients notificationTask_id=\"e1e520f0-2cbd-4e11-9a89-ea58a0f957e7\" address=\"recipient@prova.org\"/>  \n   "},{"sha":"d3f74c78373740ab34a13f5f7a2bae0ceb437eb0","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/console/AbstractTypesITCase.java","status":"modified","additions":9,"deletions":5,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5ddca9dfb2b027f534ce9cdab2bb1b51fce72487/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FAbstractTypesITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5ddca9dfb2b027f534ce9cdab2bb1b51fce72487/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FAbstractTypesITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FAbstractTypesITCase.java?ref=5ddca9dfb2b027f534ce9cdab2bb1b51fce72487","patch":"@@ -19,6 +19,7 @@\n package org.apache.syncope.fit.console;\n \n import de.agilecoders.wicket.core.markup.html.bootstrap.dialog.Modal;\n+import org.apache.syncope.client.console.commons.Constants;\n import org.apache.syncope.client.console.pages.Types;\n import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.AjaxFallbackDataTable;\n import org.apache.wicket.util.tester.FormTester;\n@@ -94,13 +95,16 @@ protected void createPlainSchema(final String key) {\n                 \"body:content:tabbedPanel:panel:accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:outer\",\n                 Modal.class);\n \n-        final FormTester formTester = TESTER.newFormTester(\"body:content:tabbedPanel:panel:\"\n+        FormTester formTester = TESTER.newFormTester(\"body:content:tabbedPanel:panel:\"\n                 + \"accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:outer:form\");\n-        formTester.setValue(\"content:details:form:key:textField\", key);\n-        formTester.setValue(\"content:details:form:type:dropDownChoiceField\", \"3\");\n+        formTester.setValue(\"content:form:view:details:key:textField\", key);\n+        formTester.setValue(\"content:form:view:details:type:dropDownChoiceField\", \"3\");\n+        TESTER.executeAjaxEvent(\"body:content:tabbedPanel:panel:accordionPanel:tabs:0:\"\n+                + \"body:content:outerObjectsRepeater:0:outer:form:content:form:buttons:next\", Constants.ON_CLICK);\n \n-        TESTER.clickLink(\"body:content:tabbedPanel:panel:\"\n-                + \"accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:outer:dialog:footer:inputs:0:submit\");\n+        formTester = TESTER.newFormTester(\"body:content:tabbedPanel:panel:\"\n+                + \"accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:outer:form\");\n+        formTester.submit(\"content:form:buttons:finish\");\n \n         TESTER.assertInfoMessages(\"Operation executed successfully\");\n "},{"sha":"a6fea220a965c5588e3db19bf7ded1ade20ee710","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/console/AnyTypeClassesITCase.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5ddca9dfb2b027f534ce9cdab2bb1b51fce72487/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FAnyTypeClassesITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5ddca9dfb2b027f534ce9cdab2bb1b51fce72487/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FAnyTypeClassesITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FAnyTypeClassesITCase.java?ref=5ddca9dfb2b027f534ce9cdab2bb1b51fce72487","patch":"@@ -96,7 +96,7 @@ public void update() {\n         TESTER.clickLink(\"body:content:tabbedPanel:panel:outerObjectsRepeater:1:outer:container:content:\"\n                 + \"togglePanelContainer:container:actions:actions:actionRepeater:0:action:action\");\n \n-        final FormTester formTester = TESTER.newFormTester(\n+        FormTester formTester = TESTER.newFormTester(\n                 \"body:content:tabbedPanel:panel:outerObjectsRepeater:0:outer:form\");\n         formTester.setValue(\n                 \"content:anyTypeClassDetailsPanel:form:container:plainSchemas:paletteField:recorder\", plainSchema);"},{"sha":"42ec236a954e4ef5ba10b3cffe8c5794f05357a0","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/console/SchemasITCase.java","status":"modified","additions":38,"deletions":25,"changes":63,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5ddca9dfb2b027f534ce9cdab2bb1b51fce72487/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FSchemasITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5ddca9dfb2b027f534ce9cdab2bb1b51fce72487/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FSchemasITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FSchemasITCase.java?ref=5ddca9dfb2b027f534ce9cdab2bb1b51fce72487","patch":"@@ -51,7 +51,7 @@ public void readPlainSchema() {\n         TESTER.assertComponent(\n                 \"body:content:tabbedPanel:\"\n                 + \"panel:accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:outer:\"\n-                + \"form:content:kindForm:kind:dropDownChoiceField\", DropDownChoice.class);\n+                + \"form:content:form:view:kind:dropDownChoiceField\", DropDownChoice.class);\n     }\n \n     @Test\n@@ -64,13 +64,16 @@ public void createPlainSchema() {\n                 \"body:content:tabbedPanel:panel:accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:outer\",\n                 Modal.class);\n \n-        final FormTester formTester = TESTER.newFormTester(\"body:content:tabbedPanel:panel:\"\n+        FormTester formTester = TESTER.newFormTester(\"body:content:tabbedPanel:panel:\"\n                 + \"accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:outer:form\");\n-        formTester.setValue(\"content:details:form:key:textField\", \"zBoolean\");\n-        formTester.setValue(\"content:details:form:type:dropDownChoiceField\", \"3\");\n+        formTester.setValue(\"content:form:view:details:key:textField\", \"zBoolean\");\n+        formTester.setValue(\"content:form:view:details:type:dropDownChoiceField\", \"3\");\n+        TESTER.executeAjaxEvent(\"body:content:tabbedPanel:panel:accordionPanel:tabs:0:\"\n+                + \"body:content:outerObjectsRepeater:0:outer:form:content:form:buttons:next\", Constants.ON_CLICK);\n \n-        TESTER.clickLink(\"body:content:tabbedPanel:panel:accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:\"\n-                + \"outer:dialog:footer:inputs:0:submit\");\n+        formTester = TESTER.newFormTester(\"body:content:tabbedPanel:panel:\"\n+                + \"accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:outer:form\");\n+        formTester.submit(\"content:form:buttons:finish\");\n \n         TESTER.assertInfoMessages(\"Operation executed successfully\");\n \n@@ -95,15 +98,18 @@ public void updatePlainSchema() {\n         TESTER.assertComponent(\n                 \"body:content:tabbedPanel:\"\n                 + \"panel:accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:outer:\"\n-                + \"form:content:kindForm:kind:dropDownChoiceField\", DropDownChoice.class);\n+                + \"form:content:form:view:kind:dropDownChoiceField\", DropDownChoice.class);\n \n         FormTester formTester = TESTER.newFormTester(\n                 \"body:content:tabbedPanel:panel:accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:outer:form\");\n-        formTester.setValue(\"content:details:form:multivalue:checkboxField\", \"true\");\n+        formTester.setValue(\"content:form:view:details:multivalue:checkboxField\", \"true\");\n+\n+        TESTER.executeAjaxEvent(\"body:content:tabbedPanel:panel:accordionPanel:tabs:0:\"\n+                + \"body:content:outerObjectsRepeater:0:outer:form:content:form:buttons:next\", Constants.ON_CLICK);\n \n-        TESTER.clickLink(\"body:content:tabbedPanel:panel:\"\n-                + \"accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:outer:dialog:footer:inputs:0:submit\",\n-                true);\n+        formTester = TESTER.newFormTester(\"body:content:tabbedPanel:panel:\"\n+                + \"accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:outer:form\");\n+        formTester.submit(\"content:form:buttons:finish\");\n \n         TESTER.assertInfoMessages(\"Operation executed successfully\");\n     }\n@@ -120,13 +126,16 @@ public void deletePlainSchema() {\n                 \"body:content:tabbedPanel:panel:accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:outer\",\n                 Modal.class);\n \n-        final FormTester formTester = TESTER.newFormTester(\"body:content:tabbedPanel:panel:\"\n+        FormTester formTester = TESTER.newFormTester(\"body:content:tabbedPanel:panel:\"\n                 + \"accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:outer:form\");\n-        formTester.setValue(\"content:details:form:key:textField\", schemaName);\n-        formTester.setValue(\"content:details:form:type:dropDownChoiceField\", \"0\");\n+        formTester.setValue(\"content:form:view:details:key:textField\", schemaName);\n+        formTester.setValue(\"content:form:view:details:type:dropDownChoiceField\", \"0\");\n+        TESTER.executeAjaxEvent(\"body:content:tabbedPanel:panel:accordionPanel:tabs:0:\"\n+                + \"body:content:outerObjectsRepeater:0:outer:form:content:form:buttons:next\", Constants.ON_CLICK);\n \n-        TESTER.clickLink(\"body:content:tabbedPanel:panel:\"\n-                + \"accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:outer:dialog:footer:inputs:0:submit\");\n+        formTester = TESTER.newFormTester(\"body:content:tabbedPanel:panel:\"\n+                + \"accordionPanel:tabs:0:body:content:outerObjectsRepeater:0:outer:form\");\n+        formTester.submit(\"content:form:buttons:finish\");\n \n         TESTER.assertInfoMessages(\"Operation executed successfully\");;\n \n@@ -170,21 +179,25 @@ public void createVirtualSchema() {\n                 \"body:content:tabbedPanel:panel:accordionPanel:tabs:2:body:content:outerObjectsRepeater:0:outer\",\n                 Modal.class);\n \n-        final FormTester formTester = TESTER.newFormTester(\"body:content:tabbedPanel:panel:\"\n+        FormTester formTester = TESTER.newFormTester(\"body:content:tabbedPanel:panel:\"\n                 + \"accordionPanel:tabs:2:body:content:outerObjectsRepeater:0:outer:form\");\n \n-        formTester.setValue(\"content:details:form:resource:dropDownChoiceField\", \"0\");\n+        formTester.setValue(\"content:form:view:details:resource:dropDownChoiceField\", \"0\");\n         TESTER.executeAjaxEvent(\"body:content:tabbedPanel:panel:\"\n                 + \"accordionPanel:tabs:2:body:content:outerObjectsRepeater:0:outer:form:\"\n-                + \"content:details:form:resource:dropDownChoiceField\", Constants.ON_CHANGE);\n+                + \"content:form:view:details:resource:dropDownChoiceField\", Constants.ON_CHANGE);\n+\n+        formTester.setValue(\"content:form:view:details:key:textField\", \"mynewvir\");\n+        formTester.setValue(\"content:form:view:details:resource:dropDownChoiceField\", \"0\");\n+        formTester.setValue(\"content:form:view:details:anyType:dropDownChoiceField\", \"0\");\n+        formTester.setValue(\"content:form:view:details:extAttrName:textField\", \"virattr\");\n \n-        formTester.setValue(\"content:details:form:key:textField\", \"mynewvir\");\n-        formTester.setValue(\"content:details:form:resource:dropDownChoiceField\", \"0\");\n-        formTester.setValue(\"content:details:form:anyType:dropDownChoiceField\", \"0\");\n-        formTester.setValue(\"content:details:form:extAttrName:textField\", \"virattr\");\n+        TESTER.executeAjaxEvent(\"body:content:tabbedPanel:panel:accordionPanel:tabs:2:\"\n+                + \"body:content:outerObjectsRepeater:0:outer:form:content:form:buttons:next\", Constants.ON_CLICK);\n \n-        TESTER.executeAjaxEvent(\"body:content:tabbedPanel:panel:accordionPanel:tabs:2:body:content:\"\n-                + \"outerObjectsRepeater:0:outer:dialog:footer:inputs:0:submit\", Constants.ON_CLICK);\n+        formTester = TESTER.newFormTester(\"body:content:tabbedPanel:panel:\"\n+                + \"accordionPanel:tabs:2:body:content:outerObjectsRepeater:0:outer:form\");\n+        formTester.submit(\"content:form:buttons:finish\");\n \n         TESTER.assertInfoMessages(\"Operation executed successfully\");\n         TESTER.cleanupFeedbackMessages();"}]}
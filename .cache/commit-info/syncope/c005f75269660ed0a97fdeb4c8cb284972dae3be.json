{"sha":"c005f75269660ed0a97fdeb4c8cb284972dae3be","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmMwMDVmNzUyNjk2NjBlZDBhOTdmZGViNGM4Y2IyODQ5NzJkYWUzYmU=","commit":{"author":{"name":"Marco Di Sabatino Di Diodoro","email":"mdisabatino@apache.org","date":"2014-10-17T09:50:09Z"},"committer":{"name":"Marco Di Sabatino Di Diodoro","email":"mdisabatino@apache.org","date":"2014-10-17T09:50:09Z"},"message":"Merge branch '1_2_X'","tree":{"sha":"e5171753afd3aaa8e05c8348bd6f5405a56c007c","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/e5171753afd3aaa8e05c8348bd6f5405a56c007c"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/c005f75269660ed0a97fdeb4c8cb284972dae3be","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c005f75269660ed0a97fdeb4c8cb284972dae3be","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c005f75269660ed0a97fdeb4c8cb284972dae3be","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c005f75269660ed0a97fdeb4c8cb284972dae3be/comments","author":{"login":"mdisabatino","id":1792527,"node_id":"MDQ6VXNlcjE3OTI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1792527?v=4","gravatar_id":"","url":"https://api.github.com/users/mdisabatino","html_url":"https://github.com/mdisabatino","followers_url":"https://api.github.com/users/mdisabatino/followers","following_url":"https://api.github.com/users/mdisabatino/following{/other_user}","gists_url":"https://api.github.com/users/mdisabatino/gists{/gist_id}","starred_url":"https://api.github.com/users/mdisabatino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdisabatino/subscriptions","organizations_url":"https://api.github.com/users/mdisabatino/orgs","repos_url":"https://api.github.com/users/mdisabatino/repos","events_url":"https://api.github.com/users/mdisabatino/events{/privacy}","received_events_url":"https://api.github.com/users/mdisabatino/received_events","type":"User","site_admin":false},"committer":{"login":"mdisabatino","id":1792527,"node_id":"MDQ6VXNlcjE3OTI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1792527?v=4","gravatar_id":"","url":"https://api.github.com/users/mdisabatino","html_url":"https://github.com/mdisabatino","followers_url":"https://api.github.com/users/mdisabatino/followers","following_url":"https://api.github.com/users/mdisabatino/following{/other_user}","gists_url":"https://api.github.com/users/mdisabatino/gists{/gist_id}","starred_url":"https://api.github.com/users/mdisabatino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdisabatino/subscriptions","organizations_url":"https://api.github.com/users/mdisabatino/orgs","repos_url":"https://api.github.com/users/mdisabatino/repos","events_url":"https://api.github.com/users/mdisabatino/events{/privacy}","received_events_url":"https://api.github.com/users/mdisabatino/received_events","type":"User","site_admin":false},"parents":[{"sha":"3ee04978c47214020603d0cf9266fa01acf5531d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3ee04978c47214020603d0cf9266fa01acf5531d","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/3ee04978c47214020603d0cf9266fa01acf5531d"},{"sha":"abfb80507484e0de6815a04e4a84e9e060888b72","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/abfb80507484e0de6815a04e4a84e9e060888b72","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/abfb80507484e0de6815a04e4a84e9e060888b72"}],"stats":{"total":85,"additions":48,"deletions":37},"files":[{"sha":"510ce9f262b5861cb111c524072153853adcee89","filename":"core/src/main/resources/userWorkflow.bpmn20.xml","status":"modified","additions":48,"deletions":37,"changes":85,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c005f75269660ed0a97fdeb4c8cb284972dae3be/core%2Fsrc%2Fmain%2Fresources%2FuserWorkflow.bpmn20.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c005f75269660ed0a97fdeb4c8cb284972dae3be/core%2Fsrc%2Fmain%2Fresources%2FuserWorkflow.bpmn20.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2FuserWorkflow.bpmn20.xml?ref=c005f75269660ed0a97fdeb4c8cb284972dae3be","patch":"@@ -31,7 +31,11 @@ under the License.\n     <startEvent id=\"theStart\"/>\n     <sequenceFlow id=\"flow1\" sourceRef=\"theStart\" targetRef=\"create\"/>\n     <serviceTask id=\"create\" name=\"Create\" activiti:expression=\"#{create.execute(execution.processInstanceId)}\"/>\n-    <sequenceFlow id=\"sid-EA94A12A-727F-414B-9D7E-AC576B0D6FA8\" sourceRef=\"create\" targetRef=\"active\"/>\n+    <sequenceFlow id=\"flow2\" sourceRef=\"create\" targetRef=\"activate\"/>\n+    <scriptTask id=\"activate\" name=\"Activate\" scriptFormat=\"groovy\" activiti:autoStoreVariables=\"false\">\n+      <script>execution.setVariable(\"propagateEnable\", Boolean.TRUE);</script>\n+    </scriptTask>\n+    <sequenceFlow id=\"flow3\" sourceRef=\"activate\" targetRef=\"active\"/>\n     <userTask id=\"active\" name=\"Active\"/>\n     <sequenceFlow id=\"flow8\" sourceRef=\"active\" targetRef=\"activeGw\"/>\n     <exclusiveGateway id=\"activeGw\"/>\n@@ -49,7 +53,7 @@ under the License.\n     </sequenceFlow>\n     <sequenceFlow id=\"active2ConfirmPasswordReset\" sourceRef=\"activeGw\" targetRef=\"checkToken4ConfirmPasswordReset\">\n       <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${task == 'confirmPasswordReset'}]]></conditionExpression>\n-    </sequenceFlow>    \n+    </sequenceFlow>\n     <serviceTask id=\"update\" name=\"Update\" activiti:expression=\"#{update.execute(execution.processInstanceId)}\"/>\n     <sequenceFlow id=\"sid-EA22026A-25F0-4ED0-AB6E-9CE9CE74623C\" sourceRef=\"update\" targetRef=\"active\"/>\n     <serviceTask id=\"suspend\" name=\"Suspend\" activiti:expression=\"#{suspend.execute(execution.processInstanceId)}\"/>\n@@ -74,20 +78,20 @@ under the License.\n     <serviceTask id=\"checkToken4ConfirmPasswordReset\" name=\"Check token, remove and update password\" activiti:expression=\"#{passwordReset.execute(execution.processInstanceId)}\"/>\n     <sequenceFlow id=\"sid-3E9FE01D-CC60-4A95-B356-CA0DC000FAD6\" sourceRef=\"checkToken4ConfirmPasswordReset\" targetRef=\"notify4ConfirmPasswordReset\"/>\n     <serviceTask id=\"notify4ConfirmPasswordReset\" name=\"Notification\" activiti:expression=\"#{notify.execute(execution.processInstanceId)}\"/>\n-    <sequenceFlow id=\"sid-A37806A7-6B7B-48A2-BB37-DAE640231144\" sourceRef=\"notify4ConfirmPasswordReset\" targetRef=\"active\"/>    \n+    <sequenceFlow id=\"sid-A37806A7-6B7B-48A2-BB37-DAE640231144\" sourceRef=\"notify4ConfirmPasswordReset\" targetRef=\"active\"/>\n     \n     <serviceTask id=\"delete\" name=\"Delete\" activiti:expression=\"#{delete.execute(execution.processInstanceId)}\"/>\n     <sequenceFlow id=\"flow99\" sourceRef=\"delete\" targetRef=\"theEnd\"/>\n-    <endEvent id=\"theEnd\"/>    \n+    <endEvent id=\"theEnd\"/>\n   </process>\n   \n   <bpmndi:BPMNDiagram id=\"BPMNDiagram_userWorkflow\">\n     <bpmndi:BPMNPlane bpmnElement=\"userWorkflow\" id=\"BPMNPlane_userWorkflow\">\n       <bpmndi:BPMNShape bpmnElement=\"theStart\" id=\"BPMNShape_theStart\">\n-        <omgdc:Bounds height=\"30.0\" width=\"30.0\" x=\"740.0\" y=\"525.0\"/>\n+        <omgdc:Bounds height=\"30.0\" width=\"30.0\" x=\"540.0\" y=\"525.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"create\" id=\"BPMNShape_create\">\n-        <omgdc:Bounds height=\"60.00000000000006\" width=\"100.0\" x=\"820.0\" y=\"509.99999999999994\"/>\n+        <omgdc:Bounds height=\"60.00000000000006\" width=\"100.0\" x=\"620.0\" y=\"509.99999999999994\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"active\" id=\"BPMNShape_active\">\n         <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1030.0\" y=\"511.0\"/>\n@@ -110,12 +114,6 @@ under the License.\n       <bpmndi:BPMNShape bpmnElement=\"reactivate\" id=\"BPMNShape_reactivate\">\n         <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1940.0\" y=\"290.0\"/>\n       </bpmndi:BPMNShape>\n-      <bpmndi:BPMNShape bpmnElement=\"delete\" id=\"BPMNShape_delete\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1940.0\" y=\"438.0\"/>\n-      </bpmndi:BPMNShape>\n-      <bpmndi:BPMNShape bpmnElement=\"theEnd\" id=\"BPMNShape_theEnd\">\n-        <omgdc:Bounds height=\"28.0\" width=\"28.0\" x=\"2080.0\" y=\"451.0\"/>\n-      </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"generateToken4PasswordReset\" id=\"BPMNShape_generateToken4PasswordReset\">\n         <omgdc:Bounds height=\"81.0\" width=\"121.0\" x=\"1515.0\" y=\"604.5\"/>\n       </bpmndi:BPMNShape>\n@@ -128,6 +126,15 @@ under the License.\n       <bpmndi:BPMNShape bpmnElement=\"notify4ConfirmPasswordReset\" id=\"BPMNShape_notify4ConfirmPasswordReset\">\n         <omgdc:Bounds height=\"81.0\" width=\"121.0\" x=\"1725.0\" y=\"810.0\"/>\n       </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"delete\" id=\"BPMNShape_delete\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1940.0\" y=\"438.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"theEnd\" id=\"BPMNShape_theEnd\">\n+        <omgdc:Bounds height=\"28.0\" width=\"28.0\" x=\"2080.0\" y=\"451.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"activate\" id=\"BPMNShape_activate\">\n+        <omgdc:Bounds height=\"80.0\" width=\"100.0\" x=\"828.286878319943\" y=\"500.0\"/>\n+      </bpmndi:BPMNShape>\n       <bpmndi:BPMNEdge bpmnElement=\"flow12\" id=\"BPMNEdge_flow12\">\n         <omgdi:waypoint x=\"1990.0\" y=\"290.0\"/>\n         <omgdi:waypoint x=\"1990.0\" y=\"261.0\"/>\n@@ -142,31 +149,35 @@ under the License.\n         <omgdi:waypoint x=\"1590.0\" y=\"400.0\"/>\n         <omgdi:waypoint x=\"1640.0\" y=\"400.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"active2RequestPasswordReset\" id=\"BPMNEdge_active2RequestPasswordReset\">\n-        <omgdi:waypoint x=\"1439.5\" y=\"540.5\"/>\n-        <omgdi:waypoint x=\"1575.5\" y=\"540.5\"/>\n-        <omgdi:waypoint x=\"1575.5\" y=\"604.5\"/>\n-      </bpmndi:BPMNEdge>\n       <bpmndi:BPMNEdge bpmnElement=\"active2Suspend\" id=\"BPMNEdge_active2Suspend\">\n         <omgdi:waypoint x=\"1440.0\" y=\"540.0\"/>\n         <omgdi:waypoint x=\"1540.0\" y=\"540.0\"/>\n         <omgdi:waypoint x=\"1540.0\" y=\"430.0\"/>\n       </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"sid-A37806A7-6B7B-48A2-BB37-DAE640231144\" id=\"BPMNEdge_sid-A37806A7-6B7B-48A2-BB37-DAE640231144\">\n+        <omgdi:waypoint x=\"1725.0\" y=\"850.4571226080794\"/>\n+        <omgdi:waypoint x=\"1080.0\" y=\"850.0\"/>\n+        <omgdi:waypoint x=\"1080.0\" y=\"571.0\"/>\n+      </bpmndi:BPMNEdge>\n       <bpmndi:BPMNEdge bpmnElement=\"suspended2Delete\" id=\"BPMNEdge_suspended2Delete\">\n         <omgdi:waypoint x=\"1860.0\" y=\"400.0\"/>\n         <omgdi:waypoint x=\"1990.0\" y=\"400.0\"/>\n         <omgdi:waypoint x=\"1990.0\" y=\"438.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"sid-A37806A7-6B7B-48A2-BB37-DAE640231144\" id=\"BPMNEdge_sid-A37806A7-6B7B-48A2-BB37-DAE640231144\">\n-        <omgdi:waypoint x=\"1725.0\" y=\"850.5\"/>\n-        <omgdi:waypoint x=\"1080.0\" y=\"850.5\"/>\n-        <omgdi:waypoint x=\"1080.0\" y=\"571.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"active2RequestPasswordReset\" id=\"BPMNEdge_active2RequestPasswordReset\">\n+        <omgdi:waypoint x=\"1440.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1575.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1575.307142857143\" y=\"604.5\"/>\n       </bpmndi:BPMNEdge>\n       <bpmndi:BPMNEdge bpmnElement=\"active2Delete\" id=\"BPMNEdge_active2Delete\">\n         <omgdi:waypoint x=\"1440.0\" y=\"540.0\"/>\n         <omgdi:waypoint x=\"1990.0\" y=\"540.0\"/>\n         <omgdi:waypoint x=\"1990.0\" y=\"498.0\"/>\n       </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow2\" id=\"BPMNEdge_flow2\">\n+        <omgdi:waypoint x=\"720.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"828.286878319943\" y=\"540.0\"/>\n+      </bpmndi:BPMNEdge>\n       <bpmndi:BPMNEdge bpmnElement=\"sid-3E9FE01D-CC60-4A95-B356-CA0DC000FAD6\" id=\"BPMNEdge_sid-3E9FE01D-CC60-4A95-B356-CA0DC000FAD6\">\n         <omgdi:waypoint x=\"1785.5\" y=\"745.5\"/>\n         <omgdi:waypoint x=\"1785.5\" y=\"810.0\"/>\n@@ -175,22 +186,27 @@ under the License.\n         <omgdi:waypoint x=\"1575.5\" y=\"685.5\"/>\n         <omgdi:waypoint x=\"1575.5\" y=\"750.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"sid-EA94A12A-727F-414B-9D7E-AC576B0D6FA8\" id=\"BPMNEdge_sid-EA94A12A-727F-414B-9D7E-AC576B0D6FA8\">\n-        <omgdi:waypoint x=\"920.0\" y=\"540.2380952380952\"/>\n-        <omgdi:waypoint x=\"1030.0\" y=\"540.7619047619048\"/>\n-      </bpmndi:BPMNEdge>\n       <bpmndi:BPMNEdge bpmnElement=\"sid-EA22026A-25F0-4ED0-AB6E-9CE9CE74623C\" id=\"BPMNEdge_sid-EA22026A-25F0-4ED0-AB6E-9CE9CE74623C\">\n         <omgdi:waypoint x=\"1370.0\" y=\"645.0\"/>\n         <omgdi:waypoint x=\"1080.0\" y=\"645.0\"/>\n         <omgdi:waypoint x=\"1080.0\" y=\"571.0\"/>\n       </bpmndi:BPMNEdge>\n       <bpmndi:BPMNEdge bpmnElement=\"flow1\" id=\"BPMNEdge_flow1\">\n-        <omgdi:waypoint x=\"770.0\" y=\"540.0\"/>\n-        <omgdi:waypoint x=\"820.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"570.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"620.0\" y=\"540.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"active2ConfirmPasswordReset\" id=\"BPMNEdge_active2ConfirmPasswordReset\">\n+        <omgdi:waypoint x=\"1440.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1785.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1785.3772727272726\" y=\"664.5\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow3\" id=\"BPMNEdge_flow3\">\n+        <omgdi:waypoint x=\"928.286878319943\" y=\"540.2478767845322\"/>\n+        <omgdi:waypoint x=\"1030.0\" y=\"540.7521232154678\"/>\n       </bpmndi:BPMNEdge>\n       <bpmndi:BPMNEdge bpmnElement=\"sid-CF9ACA40-7750-47C3-A508-7250D24D4F1F\" id=\"BPMNEdge_sid-CF9ACA40-7750-47C3-A508-7250D24D4F1F\">\n-        <omgdi:waypoint x=\"1515.0\" y=\"790.5\"/>\n-        <omgdi:waypoint x=\"1080.0\" y=\"790.5\"/>\n+        <omgdi:waypoint x=\"1515.0\" y=\"790.4389505549949\"/>\n+        <omgdi:waypoint x=\"1080.0\" y=\"790.0\"/>\n         <omgdi:waypoint x=\"1080.0\" y=\"571.0\"/>\n       </bpmndi:BPMNEdge>\n       <bpmndi:BPMNEdge bpmnElement=\"suspended2Reactivate\" id=\"BPMNEdge_suspended2Reactivate\">\n@@ -199,10 +215,9 @@ under the License.\n         <omgdi:waypoint x=\"1902.0\" y=\"320.0\"/>\n         <omgdi:waypoint x=\"1940.0\" y=\"320.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"active2ConfirmPasswordReset\" id=\"BPMNEdge_active2ConfirmPasswordReset\">\n-        <omgdi:waypoint x=\"1439.5\" y=\"540.5\"/>\n-        <omgdi:waypoint x=\"1785.5\" y=\"540.5\"/>\n-        <omgdi:waypoint x=\"1785.5\" y=\"664.5\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow99\" id=\"BPMNEdge_flow99\">\n+        <omgdi:waypoint x=\"2040.0\" y=\"466.5576923076923\"/>\n+        <omgdi:waypoint x=\"2080.005821071606\" y=\"465.40367823831906\"/>\n       </bpmndi:BPMNEdge>\n       <bpmndi:BPMNEdge bpmnElement=\"flow8\" id=\"BPMNEdge_flow8\">\n         <omgdi:waypoint x=\"1130.0\" y=\"540.8529411764706\"/>\n@@ -212,10 +227,6 @@ under the License.\n         <omgdi:waypoint x=\"1420.0\" y=\"560.0\"/>\n         <omgdi:waypoint x=\"1420.0\" y=\"615.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow99\" id=\"BPMNEdge_flow99\">\n-        <omgdi:waypoint x=\"2040.0\" y=\"466.5576923076923\"/>\n-        <omgdi:waypoint x=\"2080.005821071606\" y=\"465.40367823831906\"/>\n-      </bpmndi:BPMNEdge>\n     </bpmndi:BPMNPlane>\n   </bpmndi:BPMNDiagram>\n </definitions>\n\\ No newline at end of file"}]}
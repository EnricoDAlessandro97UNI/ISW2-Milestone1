{"sha":"ff6a728d8651ea769f8b26317678408558ddd4f1","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmZmNmE3MjhkODY1MWVhNzY5ZjhiMjYzMTc2Nzg0MDg1NThkZGQ0ZjE=","commit":{"author":{"name":"Marco Di Sabatino Di Diodoro","email":"mdisabatino@apache.org","date":"2014-08-01T12:56:20Z"},"committer":{"name":"Marco Di Sabatino Di Diodoro","email":"mdisabatino@apache.org","date":"2014-08-01T12:56:20Z"},"message":"[SYNCOPE-537] Upgrade to ConnId 1.4.0.0\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/branches/1_2_X@1615087 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"237c6dd6b2fb04a5a5def67d300efe38ce841f47","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/237c6dd6b2fb04a5a5def67d300efe38ce841f47"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/ff6a728d8651ea769f8b26317678408558ddd4f1","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ff6a728d8651ea769f8b26317678408558ddd4f1","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ff6a728d8651ea769f8b26317678408558ddd4f1","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ff6a728d8651ea769f8b26317678408558ddd4f1/comments","author":{"login":"mdisabatino","id":1792527,"node_id":"MDQ6VXNlcjE3OTI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1792527?v=4","gravatar_id":"","url":"https://api.github.com/users/mdisabatino","html_url":"https://github.com/mdisabatino","followers_url":"https://api.github.com/users/mdisabatino/followers","following_url":"https://api.github.com/users/mdisabatino/following{/other_user}","gists_url":"https://api.github.com/users/mdisabatino/gists{/gist_id}","starred_url":"https://api.github.com/users/mdisabatino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdisabatino/subscriptions","organizations_url":"https://api.github.com/users/mdisabatino/orgs","repos_url":"https://api.github.com/users/mdisabatino/repos","events_url":"https://api.github.com/users/mdisabatino/events{/privacy}","received_events_url":"https://api.github.com/users/mdisabatino/received_events","type":"User","site_admin":false},"committer":{"login":"mdisabatino","id":1792527,"node_id":"MDQ6VXNlcjE3OTI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1792527?v=4","gravatar_id":"","url":"https://api.github.com/users/mdisabatino","html_url":"https://github.com/mdisabatino","followers_url":"https://api.github.com/users/mdisabatino/followers","following_url":"https://api.github.com/users/mdisabatino/following{/other_user}","gists_url":"https://api.github.com/users/mdisabatino/gists{/gist_id}","starred_url":"https://api.github.com/users/mdisabatino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdisabatino/subscriptions","organizations_url":"https://api.github.com/users/mdisabatino/orgs","repos_url":"https://api.github.com/users/mdisabatino/repos","events_url":"https://api.github.com/users/mdisabatino/events{/privacy}","received_events_url":"https://api.github.com/users/mdisabatino/received_events","type":"User","site_admin":false},"parents":[{"sha":"be8d067018e2b88413f309182a2faf3a3cfae7be","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/be8d067018e2b88413f309182a2faf3a3cfae7be","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/be8d067018e2b88413f309182a2faf3a3cfae7be"}],"stats":{"total":279,"additions":91,"deletions":188},"files":[{"sha":"b5f26f449758d57fe3c50b10f16686c3ee9bf899","filename":"build-tools/pom.xml","status":"modified","additions":5,"deletions":5,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ff6a728d8651ea769f8b26317678408558ddd4f1/build-tools%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ff6a728d8651ea769f8b26317678408558ddd4f1/build-tools%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/build-tools%2Fpom.xml?ref=ff6a728d8651ea769f8b26317678408558ddd4f1","patch":"@@ -78,14 +78,14 @@ under the License.\n     </dependency>\n \n     <dependency>\n-      <groupId>org.connid</groupId>\n-      <artifactId>connid-framework</artifactId>\n+      <groupId>net.tirasa.connid</groupId>\n+      <artifactId>connector-framework</artifactId>\n     </dependency>\n     <dependency>\n-      <groupId>org.connid</groupId>\n-      <artifactId>connid-framework-internal</artifactId>\n+      <groupId>net.tirasa.connid</groupId>\n+      <artifactId>connector-framework-internal</artifactId>\n     </dependency>\n-\n+      \n     <dependency>\n       <groupId>org.codehaus.groovy</groupId>\n       <artifactId>groovy-all</artifactId>"},{"sha":"b75812b42a969adb7a2d6109df929bcbcca64f69","filename":"build-tools/src/main/java/org/apache/syncope/buildtools/ConnIdStartStopListener.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ff6a728d8651ea769f8b26317678408558ddd4f1/build-tools%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fbuildtools%2FConnIdStartStopListener.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ff6a728d8651ea769f8b26317678408558ddd4f1/build-tools%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fbuildtools%2FConnIdStartStopListener.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/build-tools%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fbuildtools%2FConnIdStartStopListener.java?ref=ff6a728d8651ea769f8b26317678408558ddd4f1","patch":"@@ -19,6 +19,7 @@\n package org.apache.syncope.buildtools;\n \n import java.net.MalformedURLException;\n+import java.net.URISyntaxException;\n import java.net.URL;\n import java.util.ArrayList;\n import java.util.List;"},{"sha":"a4b56627b485f60ac887c14b0b9d3c647f9d5027","filename":"common/src/main/java/org/apache/syncope/common/to/MappingTO.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ff6a728d8651ea769f8b26317678408558ddd4f1/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fto%2FMappingTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ff6a728d8651ea769f8b26317678408558ddd4f1/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fto%2FMappingTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fto%2FMappingTO.java?ref=ff6a728d8651ea769f8b26317678408558ddd4f1","patch":"@@ -71,7 +71,7 @@ protected <T extends MappingItemTO> boolean addAccountIdItem(final T accountIdIt\n             throw new IllegalArgumentException(\"Password attributes cannot be set as accountId\");\r\n         }\r\n \r\n-        accountIdItem.setExtAttrName(null);\r\n+        accountIdItem.setExtAttrName(accountIdItem.getExtAttrName());\r\n         accountIdItem.setAccountid(true);\r\n \r\n         return this.addItem(accountIdItem);\r"},{"sha":"5a1c757fe69853c9f3e20c291ebea43253a4eeb1","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/ResourceMappingPanel.java","status":"modified","additions":2,"deletions":8,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ff6a728d8651ea769f8b26317678408558ddd4f1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceMappingPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ff6a728d8651ea769f8b26317678408558ddd4f1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceMappingPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceMappingPanel.java?ref=ff6a728d8651ea769f8b26317678408558ddd4f1","patch":"@@ -352,8 +352,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n                 ((AjaxTextFieldPanel) extAttrNames).setChoices(schemaNames);\n \n                 boolean required = false;\n-                boolean accountIdOrPassword = mapItem.isAccountid() || mapItem.isPassword();\n-                if (accountIdOrPassword) {\n+                if (mapItem.isPassword()) {\n                     ((AjaxTextFieldPanel) extAttrNames).setModelObject(null);\n                 } else {\n                     required = true;\n@@ -379,11 +378,6 @@ protected void onUpdate(final AjaxRequestTarget target) {\n \n                     @Override\n                     protected void onUpdate(final AjaxRequestTarget target) {\n-                        extAttrNames.setEnabled(!accountId.getModelObject() && !mapItem.isPassword());\n-                        extAttrNames.setModelObject(null);\n-                        extAttrNames.setRequired(!accountId.getModelObject());\n-                        target.add(extAttrNames);\n-\n                         if (accountId.getModelObject()) {\n                             mapItem.setMandatoryCondition(\"true\");\n                             mandatory.setEnabled(false);\n@@ -615,7 +609,7 @@ private void setAccountId(final IntMappingType type, final AjaxCheckBoxPanel acc\n                 case RoleVirtualSchema:\n                 case MembershipVirtualSchema:\n                 // Virtual accountId is not permitted\n-                case Password:\n+                case Password:  \n                     // AccountId cannot be derived from password.\n                     accountId.setReadOnly(true);\n                     accountId.setModelObject(false);"},{"sha":"5b2a5e1b9d4fd09d042d944825279cd74667b6b1","filename":"core/pom.xml","status":"modified","additions":9,"deletions":5,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpom.xml?ref=ff6a728d8651ea769f8b26317678408558ddd4f1","patch":"@@ -293,14 +293,18 @@ under the License.\n     </dependency>\n \n     <dependency>\n-      <groupId>org.connid</groupId>\n-      <artifactId>connid-framework</artifactId>\n+      <groupId>net.tirasa.connid</groupId>\n+      <artifactId>connector-framework</artifactId>\n     </dependency>\n     <dependency>\n-      <groupId>org.connid</groupId>\n-      <artifactId>connid-framework-internal</artifactId>\n+      <groupId>net.tirasa.connid</groupId>\n+      <artifactId>connector-framework-internal</artifactId>\n     </dependency>\n-    \n+    <dependency>\n+      <groupId>net.tirasa.connid</groupId>\n+      <artifactId>slf4j-logging</artifactId>\n+    </dependency>\n+          \n     <dependency>\n       <groupId>org.jasypt</groupId>\n       <artifactId>jasypt</artifactId>"},{"sha":"a6ed4ceb3a97927ffdf0d57448dff43f1e7384d5","filename":"core/src/main/java/org/apache/syncope/core/connid/ConnObjectUtil.java","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fconnid%2FConnObjectUtil.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fconnid%2FConnObjectUtil.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fconnid%2FConnObjectUtil.java?ref=ff6a728d8651ea769f8b26317678408558ddd4f1","patch":"@@ -256,9 +256,8 @@ private <T extends AbstractSubjectTO> T getSubjectTOFromConnObject(final Connect\n         final T subjectTO = attrUtil.newSubjectTO();\n \n         // 1. fill with data from connector object\n-        for (AbstractMappingItem item : attrUtil.getMappingItems(\n-                syncTask.getResource(), MappingPurpose.SYNCHRONIZATION)) {\n-\n+        for (AbstractMappingItem item : attrUtil.getUidToMappingItems(syncTask.getResource(),\n+                MappingPurpose.SYNCHRONIZATION, attrUtil.getType())) {\n             Attribute attribute = obj.getAttributeByName(item.getExtAttrName());\n \n             AttributeTO attributeTO;"},{"sha":"c0221d0f231b3a2e1f5138db97baee9e703c61d9","filename":"core/src/main/java/org/apache/syncope/core/connid/SLF4JLogger.java","status":"removed","additions":0,"deletions":112,"changes":112,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/be8d067018e2b88413f309182a2faf3a3cfae7be/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fconnid%2FSLF4JLogger.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/be8d067018e2b88413f309182a2faf3a3cfae7be/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fconnid%2FSLF4JLogger.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fconnid%2FSLF4JLogger.java?ref=be8d067018e2b88413f309182a2faf3a3cfae7be","patch":"@@ -1,112 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.connid;\n-\n-import org.identityconnectors.common.logging.Log.Level;\n-import org.identityconnectors.common.logging.LogSpi;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n-\n-/**\n- * SLF4J logger for IdentityConnectors framework.\n- */\n-public class SLF4JLogger implements LogSpi {\n-\n-    /**\n-     * Logger.\n-     */\n-    private static final Logger LOG = LoggerFactory.getLogger(SLF4JLogger.class);\n-\n-    @Override\n-    public final void log(final Class<?> clazz, final String method, final Level level, final String message,\n-            final Throwable ex) {\n-\n-        final StringBuilder logMessage = new StringBuilder();\n-        logMessage.append(clazz.getName());\n-        logMessage.append('.');\n-        logMessage.append(method);\n-        logMessage.append(' ');\n-        logMessage.append(message);\n-\n-        switch (level) {\n-            case ERROR:\n-                if (ex != null) {\n-                    LOG.error(logMessage.toString(), ex);\n-                } else {\n-                    LOG.error(logMessage.toString());\n-                }\n-                break;\n-\n-            case INFO:\n-                if (ex != null) {\n-                    LOG.info(logMessage.toString(), ex);\n-                } else {\n-                    LOG.info(logMessage.toString());\n-                }\n-                break;\n-\n-            case OK:\n-                if (ex != null) {\n-                    LOG.debug(logMessage.toString(), ex);\n-                } else {\n-                    LOG.debug(logMessage.toString());\n-                }\n-                break;\n-\n-            case WARN:\n-                if (ex != null) {\n-                    LOG.warn(logMessage.toString(), ex);\n-                } else {\n-                    LOG.warn(logMessage.toString());\n-                }\n-                break;\n-\n-            default:\n-        }\n-    }\n-\n-    @Override\n-    public final boolean isLoggable(final Class<?> clazz, final Level level) {\n-\n-        boolean loggable;\n-\n-        switch (level) {\n-            case ERROR:\n-                loggable = LOG.isErrorEnabled();\n-                break;\n-\n-            case INFO:\n-                loggable = LOG.isInfoEnabled();\n-                break;\n-\n-            case OK:\n-                loggable = LOG.isDebugEnabled();\n-                break;\n-\n-            case WARN:\n-                loggable = LOG.isWarnEnabled();\n-                break;\n-\n-            default:\n-                loggable = false;\n-        }\n-\n-        return loggable;\n-    }\n-}"},{"sha":"a60d7a4b7d0fd0e3cc483dd64da3efa5ba69871d","filename":"core/src/main/java/org/apache/syncope/core/persistence/beans/AbstractMapping.java","status":"modified","additions":7,"deletions":1,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractMapping.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractMapping.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractMapping.java?ref=ff6a728d8651ea769f8b26317678408558ddd4f1","patch":"@@ -18,10 +18,16 @@\n  */\n package org.apache.syncope.core.persistence.beans;\n \n+import java.util.ArrayList;\n+import java.util.Collection;\n import java.util.List;\n import javax.persistence.Cacheable;\n import javax.persistence.MappedSuperclass;\n import org.apache.syncope.common.types.IntMappingType;\n+import org.apache.syncope.common.util.BeanUtils;\n+import org.apache.syncope.core.persistence.beans.role.RMappingItem;\n+import org.apache.syncope.core.persistence.beans.user.UMapping;\n+import org.apache.syncope.core.persistence.beans.user.UMappingItem;\n import org.identityconnectors.framework.common.objects.Uid;\n \n @MappedSuperclass\n@@ -72,7 +78,7 @@ protected <T extends AbstractMappingItem> boolean addAccountIdItem(final T accou\n             throw new IllegalArgumentException(\"Password attributes cannot be set as accountId\");\n         }\n \n-        accountIdItem.setExtAttrName(Uid.NAME);\n+        accountIdItem.setExtAttrName(accountIdItem.getExtAttrName());\n         accountIdItem.setAccountid(true);\n \n         return this.addItem(accountIdItem);"},{"sha":"7ec7583ad8d38ba5026538276bc6533faf17bca4","filename":"core/src/main/java/org/apache/syncope/core/propagation/impl/AbstractPropagationTaskExecutor.java","status":"modified","additions":2,"deletions":23,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpropagation%2Fimpl%2FAbstractPropagationTaskExecutor.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpropagation%2Fimpl%2FAbstractPropagationTaskExecutor.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpropagation%2Fimpl%2FAbstractPropagationTaskExecutor.java?ref=ff6a728d8651ea769f8b26317678408558ddd4f1","patch":"@@ -20,13 +20,11 @@\n \n import java.util.ArrayList;\n import java.util.Collection;\n-import java.util.Collections;\n import java.util.Date;\n import java.util.HashSet;\n import java.util.List;\n import java.util.Map;\n import java.util.Set;\n-import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.common.types.AuditElements;\n import org.apache.syncope.common.types.AuditElements.Result;\n import org.apache.syncope.common.types.MappingPurpose;\n@@ -54,7 +52,6 @@\n import org.apache.syncope.core.util.ExceptionUtil;\n import org.identityconnectors.framework.common.exceptions.ConnectorException;\n import org.identityconnectors.framework.common.objects.Attribute;\n-import org.identityconnectors.framework.common.objects.AttributeBuilder;\n import org.identityconnectors.framework.common.objects.AttributeUtil;\n import org.identityconnectors.framework.common.objects.ConnectorObject;\n import org.identityconnectors.framework.common.objects.Name;\n@@ -169,34 +166,16 @@ public static void createOrUpdate(\n         }\n \n         if (beforeObj == null) {\n-            // 1. get name\n-            final Name name = (Name) AttributeUtil.find(Name.NAME, attributes);\n-\n-            // 2. check if:\n-            //      * accountId is not blank;\n-            //      * accountId is not equal to Name.\n-            if (StringUtils.isNotBlank(accountId) && (name == null || !accountId.equals(name.getNameValue()))) {\n-                // 2.a retrieve uid\n-                final Uid uid = (Uid) AttributeUtil.find(Uid.NAME, attributes);\n-\n-                // 2.b add Uid if not provided\n-                if (uid == null) {\n-                    attributes.add(AttributeBuilder.build(Uid.NAME, Collections.singleton(accountId)));\n-                }\n-            }\n-\n-            // 3. provision entry\n             LOG.debug(\"Create {} on {}\", attributes, resource);\n-\n             connector.create(propagationMode, oclass, attributes, null, propagationAttempted);\n         } else {\n             // 1. check if rename is really required\n             final Name newName = (Name) AttributeUtil.find(Name.NAME, attributes);\n \n             LOG.debug(\"Rename required with value {}\", newName);\n \n-            if (newName != null && newName.equals(beforeObj.getName())\n-                    && !newName.getNameValue().equals(beforeObj.getUid().getUidValue())) {\n+                if (newName != null && newName.equals(beforeObj.getName())\n+                        && !newName.getNameValue().equals(beforeObj.getUid().getUidValue())) {\n \n                 LOG.debug(\"Remote object name unchanged\");\n                 attributes.remove(newName);"},{"sha":"f3db683762181c05e770b435ada3a9e2663fa9e3","filename":"core/src/main/java/org/apache/syncope/core/sync/impl/SyncJob.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FSyncJob.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FSyncJob.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FSyncJob.java?ref=ff6a728d8651ea769f8b26317678408558ddd4f1","patch":"@@ -122,14 +122,14 @@ protected String executeWithSecurityContext(\n         final UserSyncResultHandler uhandler =\n                 (UserSyncResultHandler) ((DefaultListableBeanFactory) ApplicationContextProvider.\n                 getApplicationContext().getBeanFactory()).createBean(\n-                UserSyncResultHandler.class, AbstractBeanDefinition.AUTOWIRE_BY_NAME, false);\n+                        UserSyncResultHandler.class, AbstractBeanDefinition.AUTOWIRE_BY_NAME, false);\n         uhandler.setProfile(profile);\n \n         // Prepare handler for SyncDelta objects (roles/groups)\n         final RoleSyncResultHandler rhandler =\n                 (RoleSyncResultHandler) ((DefaultListableBeanFactory) ApplicationContextProvider.\n                 getApplicationContext().getBeanFactory()).createBean(\n-                RoleSyncResultHandler.class, AbstractBeanDefinition.AUTOWIRE_BY_NAME, false);\n+                        RoleSyncResultHandler.class, AbstractBeanDefinition.AUTOWIRE_BY_NAME, false);\n         rhandler.setProfile(profile);\n \n         if (!profile.isDryRun()) {"},{"sha":"b0e38309d48d3882fa57575b44f9bd2c4a0eaf78","filename":"core/src/main/java/org/apache/syncope/core/util/AttributableUtil.java","status":"modified","additions":14,"deletions":0,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FAttributableUtil.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FAttributableUtil.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FAttributableUtil.java?ref=ff6a728d8651ea769f8b26317678408558ddd4f1","patch":"@@ -32,6 +32,7 @@\n import org.apache.syncope.common.types.IntMappingType;\n import org.apache.syncope.common.types.MappingPurpose;\n import org.apache.syncope.common.types.SyncPolicySpec;\n+import org.apache.syncope.common.util.BeanUtils;\n import org.apache.syncope.core.persistence.beans.AbstractAttr;\n import org.apache.syncope.core.persistence.beans.AbstractAttrTemplate;\n import org.apache.syncope.core.persistence.beans.AbstractAttrValue;\n@@ -85,6 +86,7 @@\n import org.apache.syncope.core.persistence.beans.user.UVirSchema;\n import org.apache.syncope.core.sync.SyncCorrelationRule;\n import org.identityconnectors.framework.common.objects.ObjectClass;\n+import org.identityconnectors.framework.common.objects.Uid;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n@@ -289,6 +291,18 @@ public <T extends AbstractMappingItem> List<T> getMappingItems(\n         return result;\n     }\n \n+    @SuppressWarnings(\"unchecked\")\n+    public <T extends AbstractMappingItem> List<T> getUidToMappingItems(\n+            final ExternalResource resource, final MappingPurpose purpose, final AttributableType type) {\n+        final List<T> items = getMappingItems(resource, MappingPurpose.SYNCHRONIZATION);\n+        final AbstractMappingItem uidItem = type == AttributableType.USER ? new UMappingItem() : new RMappingItem();\n+        BeanUtils.copyProperties(getAccountIdItem(resource), uidItem);\n+        uidItem.setExtAttrName(Uid.NAME);\n+        uidItem.setAccountid(false);\n+        items.add((T) uidItem);\n+        return items;\n+    }\n+\n     public <T extends AbstractMappingItem> Class<T> mappingItemClass() {\n         Class result = null;\n "},{"sha":"77cacdf347345a5fce88f5a63de394e4948a4e21","filename":"core/src/main/java/org/apache/syncope/core/util/MappingUtil.java","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FMappingUtil.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FMappingUtil.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FMappingUtil.java?ref=ff6a728d8651ea769f8b26317678408558ddd4f1","patch":"@@ -208,6 +208,12 @@ public static <T extends AbstractSubject> Map.Entry<String, Set<Attribute>> prep\n             }\n         }\n \n+        final Attribute accountIdExtAttr = \n+                AttributeUtil.find(attrUtil.getAccountIdItem(resource).getExtAttrName(), attributes);\n+        if (accountIdExtAttr != null) {\n+            attributes.remove(accountIdExtAttr);\n+            attributes.add(AttributeBuilder.build(attrUtil.getAccountIdItem(resource).getExtAttrName(), accountId));\n+        }\n         attributes.add(MappingUtil.evaluateNAME(subject, resource, accountId));\n \n         if (enable != null) {"},{"sha":"17b880c40398ceffdbc882e09fe7202afb8242bd","filename":"core/src/main/resources/META-INF/services/org.identityconnectors.common.logging","status":"removed","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/be8d067018e2b88413f309182a2faf3a3cfae7be/core%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fservices%2Forg.identityconnectors.common.logging","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/be8d067018e2b88413f309182a2faf3a3cfae7be/core%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fservices%2Forg.identityconnectors.common.logging","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fservices%2Forg.identityconnectors.common.logging?ref=be8d067018e2b88413f309182a2faf3a3cfae7be","patch":"@@ -1 +0,0 @@\n-org.apache.syncope.core.connid.SLF4JLogger"},{"sha":"e7b4f373f1b2119de28cf3f95e2e114f05f89efd","filename":"core/src/test/java/org/apache/syncope/core/persistence/dao/ResourceTest.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2FResourceTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2FResourceTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2FResourceTest.java?ref=ff6a728d8651ea769f8b26317678408558ddd4f1","patch":"@@ -202,6 +202,7 @@ public void saveWithRoleMappingType() {\n \n         UMappingItem item = new UMappingItem();\n         item.setIntAttrName(\"fullname\");\n+        item.setExtAttrName(\"fullname\");\n         item.setIntMappingType(IntMappingType.UserSchema);\n         item.setPurpose(MappingPurpose.BOTH);\n         mapping.setAccountIdItem(item);"},{"sha":"77f4c664c2b28ae3d358a1f69e87fcad0dbd2baa","filename":"core/src/test/java/org/apache/syncope/core/rest/ResourceTestITCase.java","status":"modified","additions":9,"deletions":3,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FResourceTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FResourceTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FResourceTestITCase.java?ref=ff6a728d8651ea769f8b26317678408558ddd4f1","patch":"@@ -63,7 +63,7 @@ private ResourceTO buildResourceTO(final String resourceName) {\n         MappingTO mapping = new MappingTO();\n \n         MappingItemTO item = new MappingItemTO();\n-        item.setExtAttrName(\"uid\");\n+        item.setExtAttrName(\"userId\");\n         item.setIntAttrName(\"userId\");\n         item.setIntMappingType(IntMappingType.UserSchema);\n         item.setPurpose(MappingPurpose.BOTH);\n@@ -175,6 +175,7 @@ public void createWithSingleMappingItem() {\n \n         MappingItemTO item = new MappingItemTO();\n         item.setIntMappingType(IntMappingType.UserId);\n+        item.setExtAttrName(\"userId\");\n         item.setAccountid(true);\n         item.setPurpose(MappingPurpose.PROPAGATION);\n         umapping.setAccountIdItem(item);\n@@ -185,6 +186,7 @@ public void createWithSingleMappingItem() {\n \n         item = new MappingItemTO();\n         item.setIntMappingType(IntMappingType.RoleId);\n+        item.setExtAttrName(\"roleId\");\n         item.setAccountid(true);\n         item.setPurpose(MappingPurpose.SYNCHRONIZATION);\n         rmapping.setAccountIdItem(item);\n@@ -214,6 +216,7 @@ public void createWithInvalidMapping() {\n \n         MappingItemTO item = new MappingItemTO();\n         item.setIntMappingType(IntMappingType.UserId);\n+        item.setExtAttrName(\"userId\");\n         item.setAccountid(true);\n         mapping.setAccountIdItem(item);\n \n@@ -245,6 +248,7 @@ public void createWithoutExtAttr() {\n \n         MappingItemTO item = new MappingItemTO();\n         item.setIntMappingType(IntMappingType.UserId);\n+        item.setExtAttrName(\"userId\");\n         item.setAccountid(true);\n         mapping.setAccountIdItem(item);\n \n@@ -270,7 +274,7 @@ public void createWithPasswordPolicy() {\n         MappingTO mapping = new MappingTO();\n \n         MappingItemTO item = new MappingItemTO();\n-        item.setExtAttrName(\"uid\");\n+        item.setExtAttrName(\"userId\");\n         item.setIntAttrName(\"userId\");\n         item.setIntMappingType(IntMappingType.UserSchema);\n         item.setAccountid(true);\n@@ -500,9 +504,10 @@ public void issueSYNCOPE368() {\n \n         MappingItemTO item = new MappingItemTO();\n         item.setIntMappingType(IntMappingType.RoleName);\n+        item.setExtAttrName(\"cn\");\n         item.setPurpose(MappingPurpose.BOTH);\n         mapping.setAccountIdItem(item);\n-\n+            \n         item = new MappingItemTO();\n         item.setIntMappingType(IntMappingType.RoleOwnerSchema);\n         item.setExtAttrName(\"owner\");\n@@ -556,6 +561,7 @@ public void issueSYNCOPE493() {\n \n         MappingItemTO item = new MappingItemTO();\n         item.setIntMappingType(IntMappingType.UserId);\n+        item.setExtAttrName(\"userId\");\n         item.setAccountid(true);\n         item.setPurpose(MappingPurpose.PROPAGATION);\n         umapping.setAccountIdItem(item);"},{"sha":"5c72114be08cb559973e60b0a51b980882dc6272","filename":"core/src/test/java/org/apache/syncope/core/rest/VirAttrTestITCase.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FVirAttrTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FVirAttrTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FVirAttrTestITCase.java?ref=ff6a728d8651ea769f8b26317678408558ddd4f1","patch":"@@ -457,6 +457,7 @@ public void issueSYNCOPE453() {\n         MappingItemTO item = new MappingItemTO();\n         item.setIntAttrName(\"aLong\");\n         item.setIntMappingType(IntMappingType.UserSchema);\n+        item.setExtAttrName(roleName);\n         item.setPurpose(MappingPurpose.PROPAGATION);\n         item.setAccountid(true);\n         mapping.setAccountIdItem(item);"},{"sha":"5c842021144c01b85287c36dd9a3daccb9646e21","filename":"core/src/test/resources/content.xml","status":"modified","additions":18,"deletions":18,"changes":36,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ff6a728d8651ea769f8b26317678408558ddd4f1/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml?ref=ff6a728d8651ea769f8b26317678408558ddd4f1","patch":"@@ -68,7 +68,7 @@ under the License.\n \n   <!-- sample policies -->\n   <Policy DTYPE=\"SyncPolicy\" id=\"1\" description=\"global sync policy\" type=\"GLOBAL_SYNC\" \n-          specification='{\"userJavaRule\":null,\"roleJavaRule\":null,\"conflictResolutionAction\":\"IGNORE\",\"userAltSearchSchemas\":[],\"roleAltSearchSchemas\":[]}'/>\n+          specification='{\"userJavaRule\":null,\"roleJavaRule\":null,\"conflictResolutionAction\":\"IGNORE\",\"userAltSearchSchemas\":[],\":q!AltSearchSchemas\":[]}'/>\n   <Policy DTYPE=\"PasswordPolicy\" id=\"2\" description=\"global password policy\" type=\"GLOBAL_PASSWORD\" \n           specification='{\"historyLength\":1,\"maxLength\":0,\"minLength\":8,\"nonAlphanumericRequired\":false,\"alphanumericRequired\":false,\"digitRequired\":false,\"lowercaseRequired\":false,\"uppercaseRequired\":false,\"mustStartWithDigit\":false,\"mustntStartWithDigit\":false,\"mustEndWithDigit\":false,\"mustntEndWithDigit\":false,\"mustStartWithNonAlpha\":false,\"mustStartWithAlpha\":false,\"mustntStartWithNonAlpha\":false,\"mustntStartWithAlpha\":false,\"mustEndWithNonAlpha\":false,\"mustEndWithAlpha\":false,\"mustntEndWithNonAlpha\":false,\"mustntEndWithAlpha\":false,\"wordsNotPermitted\":[],\"schemasNotPermitted\":[],\"prefixesNotPermitted\":[\"notpermitted1\",\"notpermitted2\"],\"suffixesNotPermitted\":[],\"allowNullPassword\":true}'/>\n   <Policy DTYPE=\"SyncPolicy\" id=\"3\" description=\"sync policy 2\" type=\"SYNC\" \n@@ -636,7 +636,7 @@ under the License.\n   <SyncopeRole_ExternalResource role_id=\"13\" resource_name=\"resource-csv\"/>\n \n   <UMapping id=\"15\" resource_name=\"ws-target-resource-1\"/>\n-  <UMappingItem id=\"99\" mapping_id=\"15\" extAttrName=\"__NAME__\"\n+  <UMappingItem id=\"99\" mapping_id=\"15\" extAttrName=\"userId\"\n                 intMappingType=\"UserId\" mandatoryCondition=\"true\"\n                 accountid=\"1\" password=\"0\" purpose=\"PROPAGATION\"/>\n   <UMappingItem id=\"100\" extAttrName=\"email\" mapping_id=\"15\"\n@@ -660,19 +660,19 @@ under the License.\n   \n   <UMapping id=\"12\" resource_name=\"ws-target-resource-list-mappings-1\"/>\n   <UMappingItem id=\"103\" mapping_id=\"12\"\n-                extAttrName=\"__NAME__\" intAttrName=\"email\" intMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n+                extAttrName=\"email\" intAttrName=\"email\" intMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n                 accountid=\"1\" password=\"0\" purpose=\"PROPAGATION\"/>\n   <UMappingItem id=\"104\" extAttrName=\"surname\" mapping_id=\"12\"\n                 intAttrName=\"surname\" intMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n                 accountid=\"0\" password=\"0\" purpose=\"PROPAGATION\"/>\n \n   <UMapping id=\"13\" resource_name=\"ws-target-resource-list-mappings-2\"/>\n   <UMappingItem id=\"105\" mapping_id=\"13\"\n-                extAttrName=\"__NAME__\" intAttrName=\"userId\" intMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n+                extAttrName=\"userId\" intAttrName=\"userId\" intMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n                 accountid=\"1\" password=\"0\" purpose=\"PROPAGATION\"/>\n \n   <UMapping id=\"1\" resource_name=\"ws-target-resource-2\"/>\n-  <UMappingItem id=\"106\" mapping_id=\"1\" extAttrName=\"__NAME__\"\n+  <UMappingItem id=\"106\" mapping_id=\"1\" extAttrName=\"fullname\"\n                 intAttrName=\"fullname\" intMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n                 accountid=\"1\" password=\"0\" purpose=\"BOTH\"/>\n   <UMappingItem id=\"107\" mapping_id=\"1\"\n@@ -703,35 +703,35 @@ under the License.\n                 accountid=\"0\" password=\"0\" purpose=\"PROPAGATION\"/>\n     \n   <UMapping id=\"3\" resource_name=\"ws-target-resource-nopropagation\"/>\n-  <UMappingItem id=\"115\" mapping_id=\"3\" extAttrName=\"__NAME__\" \n+  <UMappingItem id=\"115\" mapping_id=\"3\" extAttrName=\"fullname\" \n                 intAttrName=\"fullname\" intMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n                 accountid=\"1\" password=\"0\" purpose=\"PROPAGATION\"/>\n                      \n   <UMapping id=\"4\" resource_name=\"ws-target-resource-nopropagation2\"/>\n-  <UMappingItem id=\"116\" mapping_id=\"4\" extAttrName=\"__NAME__\" \n+  <UMappingItem id=\"116\" mapping_id=\"4\" extAttrName=\"fullname\" \n                 intAttrName=\"fullname\" intMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n                 accountid=\"1\" password=\"0\" purpose=\"PROPAGATION\"/>\n                      \n   <UMapping id=\"5\" resource_name=\"ws-target-resource-nopropagation3\"/>\n-  <UMappingItem id=\"117\" mapping_id=\"5\" extAttrName=\"__NAME__\"\n+  <UMappingItem id=\"117\" mapping_id=\"5\" extAttrName=\"fullname\"\n                 intAttrName=\"fullname\" intMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n                 accountid=\"1\" password=\"0\" purpose=\"PROPAGATION\"/>\n                      \n   <UMapping id=\"6\" resource_name=\"ws-target-resource-nopropagation4\"/>\n   <UMappingItem id=\"118\" mapping_id=\"6\"\n-                extAttrName=\"__NAME__\" intAttrName=\"fullname\" intMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n+                extAttrName=\"fullname\" intAttrName=\"fullname\" intMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n                 accountid=\"1\" password=\"0\" purpose=\"PROPAGATION\"/>\n                        \n   <UMapping id=\"7\" resource_name=\"resource-testdb\"/>\n   <UMappingItem id=\"119\" mapping_id=\"7\"\n-                extAttrName=\"__NAME__\" intMappingType=\"Username\" mandatoryCondition=\"true\"\n+                extAttrName=\"id\" intMappingType=\"Username\" mandatoryCondition=\"true\"\n                 accountid=\"1\" password=\"0\" purpose=\"BOTH\"/>\n   <UMappingItem id=\"120\" mapping_id=\"7\"\n                 extAttrName=\"__PASSWORD__\" intMappingType=\"Password\" mandatoryCondition=\"true\"\n                 accountid=\"0\" password=\"1\" purpose=\"BOTH\"/>\n                      \n   <UMapping id=\"8\" resource_name=\"resource-testdb2\"/>\n-  <UMappingItem id=\"121\" mapping_id=\"8\" extAttrName=\"__NAME__\" \n+  <UMappingItem id=\"121\" mapping_id=\"8\" extAttrName=\"id\" \n                 intMappingType=\"Username\" mandatoryCondition=\"true\"\n                 accountid=\"1\" password=\"0\" purpose=\"PROPAGATION\"/>\n   <UMappingItem id=\"122\" mapping_id=\"8\" extAttrName=\"__PASSWORD__\" \n@@ -772,7 +772,7 @@ under the License.\n                          \n   <UMapping id=\"10\" resource_name=\"ws-target-resource-update-resetsynctoken\"/>\n   <UMappingItem id=\"300\" mapping_id=\"10\"\n-                extAttrName=\"__NAME__\" intAttrName=\"userId\" intMappingType=\"UserSchema\" mandatoryCondition=\"false\"\n+                extAttrName=\"userId\" intAttrName=\"userId\" intMappingType=\"UserSchema\" mandatoryCondition=\"false\"\n                 accountid=\"1\" password=\"0\" purpose=\"BOTH\"/>\n   <UMappingItem id=\"301\" mapping_id=\"10\"\n                 extAttrName=\"__PASSWORD__\" intAttrName=\"fullname\" intMappingType=\"UserSchema\" mandatoryCondition=\"false\"\n@@ -781,7 +781,7 @@ under the License.\n   <UMapping id=\"11\" resource_name=\"resource-ldap\"\n             accountlink=\"&apos;uid=&apos; + username + &apos;,ou=people,o=isp&apos;\"/>\n   <UMappingItem id=\"311\" accountid=\"1\" password=\"0\" mapping_id=\"11\"\n-                extAttrName=\"__UID__\" intAttrName=\"Username\" intMappingType=\"Username\"\n+                extAttrName=\"cn\" intAttrName=\"Username\" intMappingType=\"Username\"\n                 mandatoryCondition=\"true\" purpose=\"BOTH\"/>\n   <UMappingItem id=\"312\" accountid=\"0\" password=\"1\" mapping_id=\"11\"\n                 extAttrName=\"__PASSWORD__\" intAttrName=\"Password\" intMappingType=\"Password\"\n@@ -817,7 +817,7 @@ under the License.\n   <RMapping id=\"1\" resource_name=\"resource-ldap\"\n             accountlink=\"&apos;cn=&apos; + name + &apos;,ou=groups,o=isp&apos;\"/>\n   <RMappingItem id=\"1\" accountid=\"1\" password=\"0\" mapping_id=\"1\"\n-                extAttrName=\"__UID__\" intAttrName=\"roleName\" intMappingType=\"RoleName\"\n+                extAttrName=\"cn\" intAttrName=\"roleName\" intMappingType=\"RoleName\"\n                 mandatoryCondition=\"true\" purpose=\"BOTH\"/>\n   <RMappingItem id=\"2\" accountid=\"0\" password=\"0\" mapping_id=\"1\"\n                 extAttrName=\"owner\" intAttrName=\"roleOwnerSchema\" intMappingType=\"RoleOwnerSchema\"\n@@ -837,7 +837,7 @@ under the License.\n                 extAttrName=\"SURNAME\" intAttrName=\"fullname\" intMappingType=\"UserSchema\" \n                 mandatoryCondition=\"false\" password=\"0\" purpose=\"BOTH\"/>\n   <UMappingItem id=\"324\" accountid=\"1\" mapping_id=\"16\"\n-                extAttrName=\"__NAME__\" intAttrName=\"aLong\" intMappingType=\"UserSchema\" \n+                extAttrName=\"ID\" intAttrName=\"aLong\" intMappingType=\"UserSchema\" \n                 mandatoryCondition=\"false\" password=\"0\" purpose=\"BOTH\"/>\n   <UMappingItem id=\"325\" accountid=\"0\" mapping_id=\"16\"\n                 extAttrName=\"SURNAME\" intAttrName=\"surname\" intMappingType=\"UserSchema\" \n@@ -851,19 +851,19 @@ under the License.\n               \n   <UMapping id=\"17\" resource_name=\"resource-db-virattr\"/>\n   <UMappingItem id=\"331\" mapping_id=\"17\" accountid=\"1\" password=\"0\"\n-                extAttrName=\"__NAME__\" intMappingType=\"UserId\" \n+                extAttrName=\"id\" intMappingType=\"UserId\" \n                 mandatoryCondition=\"true\" purpose=\"BOTH\"/>\n   <UMappingItem id=\"332\" mapping_id=\"17\" accountid=\"0\" password=\"0\" \n                 extAttrName=\"USERNAME\" intAttrName=\"virtualdata\" intMappingType=\"UserVirtualSchema\"\n                 mandatoryCondition=\"false\" purpose=\"BOTH\"/>\n                 \n   <UMapping id=\"18\" resource_name=\"ws-target-resource-timeout\"/>\n   <UMappingItem id=\"333\" mapping_id=\"18\" accountid=\"1\" password=\"0\"\n-                extAttrName=\"__NAME__\" intAttrName=\"fullname\" intMappingType=\"UserSchema\"\n+                extAttrName=\"fullname\" intAttrName=\"fullname\" intMappingType=\"UserSchema\"\n                 mandatoryCondition=\"true\" purpose=\"PROPAGATION\"/>\n   \n   <UMapping id=\"19\" resource_name=\"ws-target-resource-delete\"/>\n-  <UMappingItem id=\"334\" mapping_id=\"19\" extAttrName=\"__NAME__\" \n+  <UMappingItem id=\"334\" mapping_id=\"19\" extAttrName=\"userId\" \n                 intMappingType=\"Username\" mandatoryCondition=\"true\"\n                 accountid=\"1\" password=\"0\" purpose=\"PROPAGATION\"/>\n   "},{"sha":"8ebaab220936a86288f00331d6475006c0d68843","filename":"pom.xml","status":"modified","additions":11,"deletions":6,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ff6a728d8651ea769f8b26317678408558ddd4f1/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ff6a728d8651ea769f8b26317678408558ddd4f1/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=ff6a728d8651ea769f8b26317678408558ddd4f1","patch":"@@ -310,7 +310,7 @@ under the License.\n     <javax.el.version>3.0-b02</javax.el.version>\n     <jax-rs.version>2.0</jax-rs.version>\n         \n-    <connid.version>1.3.3</connid.version>\n+    <connid.version>1.4.0.0</connid.version>\n     <connid.soap.version>1.2.8</connid.soap.version>\n     <connid.db.table.version>2.1.7</connid.db.table.version>\n     <connid.csvdir.version>0.7</connid.csvdir.version>\n@@ -462,16 +462,21 @@ under the License.\n       </dependency>\n \n       <dependency>\n-        <groupId>org.connid</groupId>\n-        <artifactId>connid-framework</artifactId>\n+        <groupId>net.tirasa.connid</groupId>\n+        <artifactId>connector-framework</artifactId>\n         <version>${connid.version}</version>\n       </dependency>\n       <dependency>\n-        <groupId>org.connid</groupId>\n-        <artifactId>connid-framework-internal</artifactId>\n+        <groupId>net.tirasa.connid</groupId>\n+        <artifactId>connector-framework-internal</artifactId>\n         <version>${connid.version}</version>\n       </dependency>\n-\n+      <dependency>\n+        <groupId>net.tirasa.connid</groupId>\n+        <artifactId>slf4j-logging</artifactId>\n+        <version>${connid.version}</version>\n+      </dependency>\n+      \n       <dependency>\n         <groupId>org.jasypt</groupId>\n         <artifactId>jasypt</artifactId>"}]}
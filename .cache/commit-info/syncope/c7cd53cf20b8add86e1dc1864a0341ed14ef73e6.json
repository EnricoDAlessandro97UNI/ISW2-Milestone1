{"sha":"c7cd53cf20b8add86e1dc1864a0341ed14ef73e6","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmM3Y2Q1M2NmMjBiOGFkZDg2ZTFkYzE4NjRhMDM0MWVkMTRlZjczZTY=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2011-07-29T15:57:26Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2011-07-29T15:57:26Z"},"message":"Merge from 0_7_EA\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247068 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"fe3cb6aed3067d37de869cc07bfd024cd85f9cb9","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/fe3cb6aed3067d37de869cc07bfd024cd85f9cb9"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/c7cd53cf20b8add86e1dc1864a0341ed14ef73e6","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c7cd53cf20b8add86e1dc1864a0341ed14ef73e6","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c7cd53cf20b8add86e1dc1864a0341ed14ef73e6","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c7cd53cf20b8add86e1dc1864a0341ed14ef73e6/comments","author":null,"committer":null,"parents":[{"sha":"922039f3e985170bf9d505ca0611693f84685872","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/922039f3e985170bf9d505ca0611693f84685872","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/922039f3e985170bf9d505ca0611693f84685872"}],"stats":{"total":33,"additions":28,"deletions":5},"files":[{"sha":"e70b29d687f710e1576284181fdf68a0ec11ed81","filename":"console/src/main/java/org/syncope/console/pages/TaskModalPage.java","status":"modified","additions":14,"deletions":5,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c7cd53cf20b8add86e1dc1864a0341ed14ef73e6/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c7cd53cf20b8add86e1dc1864a0341ed14ef73e6/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java?ref=c7cd53cf20b8add86e1dc1864a0341ed14ef73e6","patch":"@@ -41,6 +41,8 @@\n import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.Model;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n+import org.syncope.client.to.SchedTaskTO;\n+import org.syncope.client.to.SyncTaskTO;\n import org.syncope.client.to.TaskExecTO;\n import org.syncope.client.to.TaskTO;\n import org.syncope.client.validation.SyncopeClientCompositeErrorException;\n@@ -66,6 +68,13 @@ public class TaskModalPage extends BaseModalPage {\n     protected Form form;\n \n     public TaskModalPage(final TaskTO taskTO) {\n+\n+        final TaskTO actual = taskTO instanceof SyncTaskTO\n+                ? taskRestClient.readSchedTasks(\n+                SyncTaskTO.class, taskTO.getId())\n+                : taskRestClient.readSchedTasks(\n+                SchedTaskTO.class, taskTO.getId());\n+\n         final Label dialogContent =\n                 new Label(\"dialogContent\", new Model<String>(\"\"));\n \n@@ -74,7 +83,7 @@ public TaskModalPage(final TaskTO taskTO) {\n         form = new Form(\"TaskForm\");\n         add(form);\n \n-        form.setModel(new CompoundPropertyModel(taskTO));\n+        form.setModel(new CompoundPropertyModel(actual));\n \n         profile = new WebMarkupContainer(\"profile\");\n         profile.setOutputMarkupId(true);\n@@ -85,12 +94,12 @@ public TaskModalPage(final TaskTO taskTO) {\n         form.add(executions);\n \n         final Label idLabel = new Label(\"idLabel\", getString(\"id\"));\n-        idLabel.setVisible(taskTO.getId() != 0);\n+        idLabel.setVisible(actual.getId() != 0);\n         profile.add(idLabel);\n \n         final TextField id = new TextField(\"id\");\n         id.setEnabled(false);\n-        id.setVisible(taskTO.getId() != 0);\n+        id.setVisible(actual.getId() != 0);\n         profile.add(id);\n \n         final List<IColumn> columns = new ArrayList<IColumn>();\n@@ -158,7 +167,7 @@ public void onClick(final AjaxRequestTarget target) {\n                             taskRestClient.deleteExecution(\n                                     taskExecutionTO.getId());\n \n-                            taskTO.removeExecution(taskExecutionTO);\n+                            actual.removeExecution(taskExecutionTO);\n \n                             info(getString(\"operation_succeded\"));\n                         } catch (SyncopeClientCompositeErrorException scce) {\n@@ -182,7 +191,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n         final AjaxFallbackDefaultDataTable table =\n                 new AjaxFallbackDefaultDataTable(\"executionsTable\", columns,\n-                new TaskExecutionsProvider(taskTO), 10);\n+                new TaskExecutionsProvider(actual), 10);\n \n         executions.add(table);\n     }"},{"sha":"0ee3502a3788286b8e086b634a9e31b8c1cb715d","filename":"console/src/main/java/org/syncope/console/rest/TaskRestClient.java","status":"modified","additions":14,"deletions":0,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c7cd53cf20b8add86e1dc1864a0341ed14ef73e6/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FTaskRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c7cd53cf20b8add86e1dc1864a0341ed14ef73e6/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FTaskRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FTaskRestClient.java?ref=c7cd53cf20b8add86e1dc1864a0341ed14ef73e6","patch":"@@ -80,6 +80,20 @@ public <T extends SchedTaskTO> List<T> listSchedTasks(\n         }\n     }\n \n+    public <T extends SchedTaskTO> T readSchedTasks(\n+            final Class<T> reference, final Long taskId) {\n+\n+        if (SyncTaskTO.class.getName().equals(reference.getName())) {\n+            return (T) restTemplate.getForObject(\n+                    baseURL + \"task/read/{taskId}\",\n+                    SyncTaskTO.class, taskId);\n+        } else {\n+            return (T) restTemplate.getForObject(\n+                    baseURL + \"task/read/{taskId}\",\n+                    SchedTaskTO.class, taskId);\n+        }\n+    }\n+\n     /**\n      * Return a paginated list of propagation tasks.\n      * @param page number."}]}
{"sha":"e7c6b9d7acd5486c96d656d2347240cffeba9ccd","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmU3YzZiOWQ3YWNkNTQ4NmM5NmQ2NTZkMjM0NzI0MGNmZmViYTljY2Q=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2012-07-10T07:37:33Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2012-07-10T07:37:33Z"},"message":"[SYNCOPE-105] Added specific 'weblogic-it' profile into core POM\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1359508 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"fe1fbfff3c1446a2e3710927967b0cd90e3a23fc","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/fe1fbfff3c1446a2e3710927967b0cd90e3a23fc"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/e7c6b9d7acd5486c96d656d2347240cffeba9ccd","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e7c6b9d7acd5486c96d656d2347240cffeba9ccd","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/e7c6b9d7acd5486c96d656d2347240cffeba9ccd","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e7c6b9d7acd5486c96d656d2347240cffeba9ccd/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"d774882eb822dc46454bd4a1546a7779b7671a41","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d774882eb822dc46454bd4a1546a7779b7671a41","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d774882eb822dc46454bd4a1546a7779b7671a41"}],"stats":{"total":242,"additions":193,"deletions":49},"files":[{"sha":"087d2e81572cbfcd9abdd667365b90215643fce3","filename":"core/pom.xml","status":"modified","additions":144,"deletions":37,"changes":181,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e7c6b9d7acd5486c96d656d2347240cffeba9ccd/core%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e7c6b9d7acd5486c96d656d2347240cffeba9ccd/core%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpom.xml?ref=e7c6b9d7acd5486c96d656d2347240cffeba9ccd","patch":"@@ -360,6 +360,7 @@ under the License.\n           </dependency>\n         </dependencies>\n         <configuration>\n+          <persistenceXmlFile>${project.basedir}/src/main/resources/META-INF/spring-persistence.xml</persistenceXmlFile> \n           <includes>org/apache/syncope/core/persistence/beans/**/*.class</includes>\n           <connectionDriverName>org.springframework.jdbc.datasource.DriverManagerDataSource</connectionDriverName>\n           <connectionProperties>\n@@ -1117,27 +1118,6 @@ under the License.\n             </executions>\n           </plugin>\n \n-          <plugin>\n-            <groupId>org.apache.maven.plugins</groupId>\n-            <artifactId>maven-antrun-plugin</artifactId>\n-            <inherited>true</inherited>\n-            <executions>\n-              <execution>\n-                <id>rename-persistence.xml</id>\n-                <phase>process-resources</phase>\n-                <configuration>\n-                  <target>\n-                    <delete file=\"${project.build.directory}/classes/META-INF/persistence.xml\" />\n-                    <copy file=\"src/main/resources/META-INF/persistence.xml\" tofile=\"${project.build.directory}/classes/META-INF/spring-persistence.xml\" />\n-                  </target>\n-                </configuration>\n-                <goals>\n-                  <goal>run</goal>\n-                </goals>\n-              </execution>\n-            </executions>\n-          </plugin>\n-\n           <plugin>\n             <groupId>org.apache.maven.plugins</groupId>\n             <artifactId>maven-surefire-plugin</artifactId>\n@@ -1177,22 +1157,6 @@ under the License.\n                 </properties>\n               </configuration>\n             </configuration>\n-            <executions>\n-              <execution>\n-                <id>start-container</id>\n-                <phase>pre-integration-test</phase>\n-                <goals>\n-                  <goal>start</goal>\n-                </goals>\n-              </execution>\n-              <execution>\n-                <id>stop-container</id>\n-                <phase>post-integration-test</phase>\n-                <goals>\n-                  <goal>stop</goal>\n-                </goals>\n-              </execution>\n-            </executions>\n           </plugin>\n         </plugins>\n \n@@ -1231,6 +1195,149 @@ under the License.\n         </testResources>\n       </build>\n     </profile>\n+    \n+    <profile>\n+      <id>weblogic-it</id>\n+      \n+      <properties>\n+        <weblogic.home>/opt/weblogic-12.1.1</weblogic.home>\n+      </properties>\n+      \n+      <dependencies>\n+        <dependency>\n+          <groupId>org.apache.openjpa</groupId>\n+          <artifactId>openjpa-all</artifactId>\n+        </dependency>\n+\n+        <dependency>\n+          <groupId>org.codehaus.groovy</groupId>\n+          <artifactId>groovy-all</artifactId>\n+        </dependency>\n+\n+        <dependency>\n+          <groupId>com.h2database</groupId>\n+          <artifactId>h2</artifactId>\n+        </dependency>\n+      </dependencies>\n+        \n+      <build>\n+        <defaultGoal>clean verify</defaultGoal>\n+\n+        <plugins>\n+          <plugin>\n+            <groupId>org.apache.maven.plugins</groupId>\n+            <artifactId>maven-surefire-plugin</artifactId>\n+            <inherited>true</inherited>\n+            <configuration>\n+              <skipTests>true</skipTests>\n+            </configuration>\n+          </plugin>\n+          \n+          <plugin>\n+            <groupId>org.apache.maven.plugins</groupId>\n+            <artifactId>maven-dependency-plugin</artifactId>\n+            <inherited>true</inherited>\n+            <executions>\n+              <execution>\n+                <id>explode-build-tools-for-weblogic</id>\n+                <phase>test</phase>\n+                <goals>\n+                  <goal>unpack</goal>\n+                </goals>\n+                <configuration>\n+                  <artifactItems>\n+                    <artifactItem>\n+                      <groupId>org.apache.syncope</groupId>\n+                      <artifactId>syncope-build-tools</artifactId>\n+                      <version>${project.version}</version>\n+                      <outputDirectory>${project.build.directory}/syncope-build-tools-test</outputDirectory>\n+                      <type>war</type>\n+                    </artifactItem>\n+                  </artifactItems>\n+                </configuration>\n+              </execution>\n+            </executions>\n+          </plugin>\n+\n+          <plugin>\n+            <groupId>org.codehaus.cargo</groupId>\n+            <artifactId>cargo-maven2-plugin</artifactId>\n+            <inherited>false</inherited>\n+            <configuration>\n+              <container>\n+                <containerId>weblogic103x</containerId>\n+                <type>installed</type>\n+                <home>${weblogic.home}/wlserver</home>\n+\n+                <dependencies>\n+                  <dependency>\n+                    <location>${weblogic.home}/patch_wls1211/profiles/default/sys_manifest_classpath/weblogic_patch.jar</location>\n+                  </dependency>\n+                  <dependency>\n+                    <location>${weblogic.home}/patch_ocp371/profiles/default/sys_manifest_classpath/weblogic_patch.jar</location>\n+                  </dependency>\n+                </dependencies>\n+\n+                <log>${cargo.log}</log>\n+                <output>${cargo.output}</output>\n+                \n+                <systemProperties>\n+                  <java.endorsed.dirs>${weblogic.home}/wlserver/endorsed</java.endorsed.dirs>\n+                </systemProperties>\n+              </container>\n+              <configuration>\n+                <properties>\n+                  <cargo.weblogic.bea.home>${weblogic.home}</cargo.weblogic.bea.home>\n+                </properties>\n+                \n+                <deployables>\n+                  <deployable>\n+                    <location>${cargo.run.dir}</location>\n+                    <pingURL>http://localhost:${cargo.servlet.port}/syncope/rest/schema/user/list.xml</pingURL>\n+                    <pingTimeout>1200000</pingTimeout>\n+                    <properties>\n+                      <context>syncope</context>\n+                    </properties>\n+                  </deployable>\n+                  <deployable>\n+                    <groupId>org.connid.bundles.soap</groupId>\n+                    <artifactId>wssample</artifactId>\n+                    <type>war</type>\n+                    <properties>\n+                      <context>wssample</context>\n+                    </properties>\n+                  </deployable>\n+                  <deployable>\n+                    <location>${project.build.directory}/syncope-build-tools-test</location>\n+                    <properties>\n+                      <context>syncope-build-tools</context>\n+                    </properties>\n+                  </deployable>\n+                </deployables>\n+              </configuration>\n+            </configuration>\n+          </plugin>\n+        </plugins>\n+        \n+        <resources>\n+          <resource>\n+            <directory>src/main/resources</directory>\n+            <filtering>true</filtering>\n+            <excludes>\n+              <exclude>persistence.properties</exclude>\n+            </excludes>\n+          </resource>\n+          <resource>\n+            <directory>src/test/resources</directory>\n+            <filtering>true</filtering>\n+            <includes>\n+              <include>persistence.properties</include>\n+            </includes>            \n+          </resource>\n+        </resources>\n+      </build>\n+    </profile>\n+\n   </profiles>\n \n   <reporting>"},{"sha":"d4fc00b3459ad97377ffceed200188905137e9c6","filename":"core/src/main/resources/META-INF/spring-persistence.xml","status":"renamed","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e7c6b9d7acd5486c96d656d2347240cffeba9ccd/core%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fspring-persistence.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e7c6b9d7acd5486c96d656d2347240cffeba9ccd/core%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fspring-persistence.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fspring-persistence.xml?ref=e7c6b9d7acd5486c96d656d2347240cffeba9ccd","patch":"@@ -26,9 +26,5 @@ under the License.\n   <persistence-unit name=\"syncopePersistenceUnit\">\n     <mapping-file>META-INF/orm.xml</mapping-file>\n     <validation-mode>NONE</validation-mode>\n-        \n-    <properties>\n-      <property name=\"eclipselink.weaving\" value=\"false\"/>\n-    </properties>\n   </persistence-unit>\n </persistence>","previous_filename":"core/src/main/resources/META-INF/persistence.xml"},{"sha":"ea3b6d6a1cc971079493d5cd08cf0feb35a68c5b","filename":"core/src/main/resources/persistenceContextEMFactory.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e7c6b9d7acd5486c96d656d2347240cffeba9ccd/core%2Fsrc%2Fmain%2Fresources%2FpersistenceContextEMFactory.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e7c6b9d7acd5486c96d656d2347240cffeba9ccd/core%2Fsrc%2Fmain%2Fresources%2FpersistenceContextEMFactory.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2FpersistenceContextEMFactory.xml?ref=e7c6b9d7acd5486c96d656d2347240cffeba9ccd","patch":"@@ -16,7 +16,6 @@ software distributed under the License is distributed on an\n KIND, either express or implied.  See the License for the\n specific language governing permissions and limitations\n under the License.\n-\n -->\n <beans xmlns=\"http://www.springframework.org/schema/beans\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n@@ -25,6 +24,7 @@ under the License.\n \n   <bean id=\"entityManagerFactory\"\n         class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\">\n+    <property name=\"persistenceXmlLocation\" value=\"classpath*:META-INF/spring-persistence.xml\"/>\n     <property name=\"persistenceUnitName\" value=\"syncopePersistenceUnit\"/>\n     <property name=\"dataSource\" ref=\"dataSource\"/>\n     <property name=\"jpaVendorAdapter\">"},{"sha":"b1e4a5de5f99be31b7fa5e0ac96945947cd19676","filename":"core/src/main/webapp/WEB-INF/web.xml","status":"modified","additions":10,"deletions":6,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e7c6b9d7acd5486c96d656d2347240cffeba9ccd/core%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fweb.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e7c6b9d7acd5486c96d656d2347240cffeba9ccd/core%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fweb.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fweb.xml?ref=e7c6b9d7acd5486c96d656d2347240cffeba9ccd","patch":"@@ -82,11 +82,15 @@ under the License.\n     <location>/syncopeClientError.jsp</location>\n   </error-page>\n     \n-    <!-- Uncomment this when using JNDI DataSource -->\n-    <!--<resource-ref>\n-        <res-ref-name>jdbc/syncopeDataSource</res-ref-name>\n-        <res-type>javax.sql.DataSource</res-type>\n-        <res-auth>Container</res-auth>\n-    </resource-ref>-->\n+  <login-config>\n+    <auth-method>CLIENT-CERT</auth-method>\n+  </login-config>\n+    \n+  <!-- Uncomment this when using JNDI DataSource -->\n+  <!--<resource-ref>\n+    <res-ref-name>jdbc/syncopeDataSource</res-ref-name>\n+    <res-type>javax.sql.DataSource</res-type>\n+    <res-auth>Container</res-auth>\n+  </resource-ref>-->\n \n </web-app>"},{"sha":"74e4a85d291e8798ea38716c4c121102a7de6173","filename":"core/src/main/webapp/WEB-INF/weblogic.xml","status":"added","additions":37,"deletions":0,"changes":37,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e7c6b9d7acd5486c96d656d2347240cffeba9ccd/core%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fweblogic.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e7c6b9d7acd5486c96d656d2347240cffeba9ccd/core%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fweblogic.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fweblogic.xml?ref=e7c6b9d7acd5486c96d656d2347240cffeba9ccd","patch":"@@ -0,0 +1,37 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<weblogic-web-app xmlns=\"http://xmlns.oracle.com/weblogic/weblogic-web-app\" \n+                  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n+                  xsi:schemaLocation=\"http://xmlns.oracle.com/weblogic/weblogic-web-app\n+                                      http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd\">\n+\n+  <context-root>syncope</context-root>\n+  \n+  <container-descriptor>    \n+    <prefer-application-packages>\n+      <package-name>org.apache.commons.*</package-name>\n+      <package-name>org.apache.openjpa.*</package-name>\n+      <package-name>org.slf4j.*</package-name>\n+      <package-name>org.codehaus.jackson.*</package-name>\n+      <package-name>net.sf.cglib.*</package-name>\n+    </prefer-application-packages>\n+  </container-descriptor>\n+\n+</weblogic-web-app>\n\\ No newline at end of file"},{"sha":"090492517284ef45a13ffd251a41f7c9bb530369","filename":"parent/pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e7c6b9d7acd5486c96d656d2347240cffeba9ccd/parent%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e7c6b9d7acd5486c96d656d2347240cffeba9ccd/parent%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/parent%2Fpom.xml?ref=e7c6b9d7acd5486c96d656d2347240cffeba9ccd","patch":"@@ -233,7 +233,7 @@ under the License.\n     <jstl.version>1.2</jstl.version>\n         \n     <connid.version>1.3.1</connid.version>\n-    <connid.soap.version>1.2.1</connid.soap.version>\n+    <connid.soap.version>1.2.2</connid.soap.version>\n     <connid.db.table.version>2.1.2</connid.db.table.version>\n     <connid.csvdir.version>0.2</connid.csvdir.version>\n     <connid.ldap.version>1.3.1</connid.ldap.version>"}]}
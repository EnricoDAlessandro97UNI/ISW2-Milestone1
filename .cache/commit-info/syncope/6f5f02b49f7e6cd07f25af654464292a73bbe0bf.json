{"sha":"6f5f02b49f7e6cd07f25af654464292a73bbe0bf","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjZmNWYwMmI0OWY3ZTZjZDA3ZjI1YWY2NTQ0NjQyOTJhNzNiYmUwYmY=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2010-06-21T14:50:30Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2010-06-21T14:50:30Z"},"message":"Added schema page and link + update on rest client architecture\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1246219 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"81b00dfa983ad1ad46c5bb57bfd159b1b4c2f489","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/81b00dfa983ad1ad46c5bb57bfd159b1b4c2f489"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/6f5f02b49f7e6cd07f25af654464292a73bbe0bf","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/6f5f02b49f7e6cd07f25af654464292a73bbe0bf","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/6f5f02b49f7e6cd07f25af654464292a73bbe0bf","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/comments","author":null,"committer":null,"parents":[{"sha":"3cee11fed57f5dc4a720bc22285650d107011d73","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3cee11fed57f5dc4a720bc22285650d107011d73","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/3cee11fed57f5dc4a720bc22285650d107011d73"}],"stats":{"total":184,"additions":176,"deletions":8},"files":[{"sha":"58d79ce7a19d3858e857dafb44975901d587f443","filename":"console/src/main/java/org/syncope/console/SyncopeApplication.java","status":"modified","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication.java?ref=6f5f02b49f7e6cd07f25af654464292a73bbe0bf","patch":"@@ -18,17 +18,17 @@\n import org.apache.wicket.Response;\n import org.apache.wicket.Session;\n import org.apache.wicket.protocol.http.WebApplication;\n-import org.springframework.web.client.RestTemplate;\n import org.syncope.console.pages.HomePage;\n import org.syncope.console.pages.Login;\n+import org.syncope.console.rest.RestClient;\n \n /**\n  * SyncopeApplication class.\n  */\n public class SyncopeApplication extends WebApplication\n {\n     SyncopeUser user = null;\n-    RestTemplate restTemplate;\n+    RestClient restClient;\n \n     public SyncopeApplication()\n     {\n@@ -81,12 +81,12 @@ public String getConfigurationType()\n         return DEVELOPMENT;\n     }\n \n-    public RestTemplate getRestTemplate() {\n-        return restTemplate;\n+    public RestClient getRestClient() {\n+        return restClient;\n     }\n \n-    public void setRestTemplate(RestTemplate restTemplate) {\n-        this.restTemplate = restTemplate;\n+    public void setRestClient(RestClient restClient) {\n+        this.restClient = restClient;\n     }\n \n }"},{"sha":"ed597ea819db515ba100c73f6597ff5bcbf31451","filename":"console/src/main/java/org/syncope/console/pages/BasePage.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage.java?ref=6f5f02b49f7e6cd07f25af654464292a73bbe0bf","patch":"@@ -36,6 +36,8 @@ public class BasePage extends WebPage\n      */\n     public BasePage( final PageParameters parameters )\n     {\n+        add(new BookmarkablePageLink(\"schema\", Schema.class));\n+\n         add(new BookmarkablePageLink(\"users\", Users.class));\n \n         add(new BookmarkablePageLink(\"roles\", Roles.class));"},{"sha":"adea97aa02c50e70e72700e5026678214cae0939","filename":"console/src/main/java/org/syncope/console/pages/Schema.java","status":"added","additions":47,"deletions":0,"changes":47,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.java?ref=6f5f02b49f7e6cd07f25af654464292a73bbe0bf","patch":"@@ -0,0 +1,47 @@\n+/*\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *  under the License.\n+ */\n+package org.syncope.console.pages;\n+\n+import java.util.LinkedHashMap;\n+import org.apache.wicket.PageParameters;\n+import org.apache.wicket.markup.html.list.ListItem;\n+import org.apache.wicket.markup.html.list.ListView;\n+import org.syncope.console.rest.RestClient;\n+\n+import org.syncope.client.to.AttributeSchemaTO;\n+import org.syncope.console.SyncopeApplication;\n+\n+/**\n+ * Schema WebPage.\n+ */\n+public class Schema extends BasePage\n+{\n+    RestClient restClient;\n+\n+    public Schema(PageParameters parameters)\n+    {\n+        super(parameters);\n+        \n+        restClient = ((SyncopeApplication)getApplication()).getRestClient();\n+\n+        add(new ListView(\"attrList\",restClient.getAttributeList()) {\n+\n+            @Override\n+            protected void populateItem(ListItem item) {\n+                LinkedHashMap attributeSchema = (LinkedHashMap) item.getDefaultModelObject();\n+            }\n+        });\n+    }\n+}"},{"sha":"ee6b9e306959501fe044cb2f6eaef6f68a699098","filename":"console/src/main/java/org/syncope/console/rest/RestClient.java","status":"added","additions":55,"deletions":0,"changes":55,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FRestClient.java?ref=6f5f02b49f7e6cd07f25af654464292a73bbe0bf","patch":"@@ -0,0 +1,55 @@\n+/* \n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ * \n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *  under the License.\n+ */\n+\n+package org.syncope.console.rest;\n+\n+import java.util.List;\n+import org.springframework.web.client.RestTemplate;\n+import org.syncope.client.to.AttributeSchemaTO;\n+import org.syncope.client.to.DerivedAttributeSchemaTO;\n+\n+/**\n+ * Client for calling rest services.\n+ */\n+public class RestClient {\n+\n+    private RestTemplate restTemplate;\n+    private static final String BASE_URL = \"http://192.168.0.137:8080/syncope/\";\n+\n+    public RestTemplate getRestTemplate() {\n+        return restTemplate;\n+    }\n+\n+    public void setRestTemplate(RestTemplate restTemplate) {\n+        this.restTemplate = restTemplate;\n+    }\n+\n+    public List<AttributeSchemaTO> getAttributeList() {\n+        List<AttributeSchemaTO> attributeSchemas =\n+                restTemplate.getForObject(BASE_URL\n+                + \"schema/attribute/list.json\", List.class);\n+\n+        return attributeSchemas;\n+    }\n+\n+    public List<DerivedAttributeSchemaTO> derivedAttributeList() {\n+        List<DerivedAttributeSchemaTO> derivedAttributeSchemas =\n+                restTemplate.getForObject(BASE_URL\n+                + \"schema/derivedAttribute/list.json\", List.class);\n+\n+        return derivedAttributeSchemas;\n+    }\n+\n+}"},{"sha":"ecdc5aa021af55085a49c5bedbb6c1be0ff551ca","filename":"console/src/main/resources/applicationContext.xml","status":"modified","additions":5,"deletions":1,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fresources%2FapplicationContext.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fresources%2FapplicationContext.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2FapplicationContext.xml?ref=6f5f02b49f7e6cd07f25af654464292a73bbe0bf","patch":"@@ -15,7 +15,7 @@\n        http://www.springframework.org/schema/tx/spring-tx.xsd\">\n \n     <bean id=\"syncopeApplication\" class=\"org.syncope.console.SyncopeApplication\">\n-        <property name=\"restTemplate\" ref=\"restTemplate\"/>\n+        <property name=\"restClient\" ref=\"restClient\"/>\n     </bean>\n \n     <bean id=\"objectMapper\" class=\"org.codehaus.jackson.map.ObjectMapper\"/>\n@@ -28,4 +28,8 @@\n     <bean id=\"restTemplate\" class=\"org.springframework.web.client.RestTemplate\">\n         <property name=\"messageConverters\" ref=\"mappingJacksonHttpMessageConverter\"/>\n     </bean>\n+\n+    <bean id=\"restClient\" class=\"org.syncope.console.rest.RestClient\">\n+        <property name=\"restTemplate\" ref=\"restTemplate\"/>\n+    </bean>\n </beans>\n\\ No newline at end of file"},{"sha":"cb53bbf4b3c8a6daf38237a6a406fb8118a5a3b7","filename":"console/src/main/resources/org/syncope/console/SyncopeApplication.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication.properties?ref=6f5f02b49f7e6cd07f25af654464292a73bbe0bf","patch":"@@ -6,3 +6,4 @@ resources=Resources\n connectors=Connectors\n report=Report\n logout=Logout\n+schema=Schema"},{"sha":"375c8904bde3b0416f0b8e7601df442ed7979b6f","filename":"console/src/main/resources/org/syncope/console/SyncopeApplication_it.properties","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication_it.properties?ref=6f5f02b49f7e6cd07f25af654464292a73bbe0bf","patch":"@@ -5,4 +5,5 @@ configuration=Configurazione\n resources=Risorse\n connectors=Connettori\n report=Report\n-logout=Logout\n\\ No newline at end of file\n+logout=Logout\n+schema=Schema"},{"sha":"2b31aefdc095a0ad99e61e01bb86eaaa0ae29e4e","filename":"console/src/main/resources/org/syncope/console/pages/BasePage.html","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage.html?ref=6f5f02b49f7e6cd07f25af654464292a73bbe0bf","patch":"@@ -38,6 +38,11 @@\n         <div id=\"testa\">\n             <img src=\"img/logo.png\" alt=\"syncope\" title=\"syncope\" id=\"logo\" />\n             <ul>\n+                <li>\n+                    <a href=#\" wicket:id=\"schema\"><img src=\"img/menu/schema.png\" alt=\"Schema\" width=\"80\" height=\"80\" /><br />\n+                        <wicket:message key=\"schema\"/>\n+                    </a>\n+                </li>\n                 <li>\n                     <a href=#\" wicket:id=\"users\"><img src=\"img/menu/users.png\" alt=\"Users\" width=\"80\" height=\"80\" /><br />\n                         <wicket:message key=\"users\"/>"},{"sha":"60fcb0f70662ffb17a4d28e2f46d62a15108ff5c","filename":"console/src/main/resources/org/syncope/console/pages/Schema.html","status":"added","additions":49,"deletions":0,"changes":49,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.html?ref=6f5f02b49f7e6cd07f25af654464292a73bbe0bf","patch":"@@ -0,0 +1,49 @@\n+<!--\n+ Licensed under the Apache License, Version 2.0 (the \"License\");\n+ you may not use this file except in compliance with the License.\n+ You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+ Unless required by applicable law or agreed to in writing, software\n+ distributed under the License is distributed on an \"AS IS\" BASIS,\n+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ See the License for the specific language governing permissions and\n+ limitations under the License.\n+ under the License.\n+-->\n+<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n+    \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n+\n+<html\n+    xmlns=\"http://www.w3.org/1999/xhtml\"\n+    xmlns:wicket=\"http://wicket.sourceforge.net/\"\n+    xml:lang=\"en\"\n+    lang=\"en\">\n+\n+    <body>\n+\n+        <wicket:extend>\n+\n+            <div id=\"menuTab\">\n+                <ul class=\"ui-tabs-nav\">\n+                    <li class=\"ui-tabs-selected\"><a href=\"#tab1-schema\"><span><wicket:message key=\"tab1-schema\"/></span></a></li>\n+                    <li class=\"\"><a href=\"#tab2-schema\"><span><wicket:message key=\"tab2-schema\"/></span></a></li>\n+                </ul>\n+                <div class=\"ui-tabs-panel\" id=\"tab1-schema\">\n+                    <!--input type=\"button\" wicket:id=\"newUserBtn\"/-->\n+                    <div wicket:id=\"attrList\" />\n+                </div>\n+                <div class=\"ui-tabs-panel ui-tabs-hide\" id=\"tab2-schema\">\n+                    <!--div id=\"searchBox\">\n+                        <label for=\"search\"><wicket:message key=\"search\"/></label>\n+                        <input type=\"text\" wicket:id=\"search\" id=\"search\" />\n+                    </div-->\n+                </div>\n+            </div>\n+\n+        </wicket:extend>\n+\n+    </body>\n+\n+</html>\n\\ No newline at end of file"},{"sha":"9de1449a23aa0e01e13a64599451663d082ca6fb","filename":"console/src/main/resources/org/syncope/console/pages/Schema.properties","status":"added","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.properties?ref=6f5f02b49f7e6cd07f25af654464292a73bbe0bf","patch":"@@ -0,0 +1,2 @@\n+tab1-schema=Attributes\n+tab2-schema=Derived attributes"},{"sha":"4262511e5918f800d4fd64527b6ab3329903907a","filename":"console/src/main/resources/org/syncope/console/pages/Schema_it.properties","status":"added","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6f5f02b49f7e6cd07f25af654464292a73bbe0bf/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema_it.properties?ref=6f5f02b49f7e6cd07f25af654464292a73bbe0bf","patch":"@@ -0,0 +1,2 @@\n+tab1-schema=Attributi\n+tab2-schema=Attributi derivati"}]}
{"sha":"3f5af720e6fa63313f76f81b8ece6ec07a94365a","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjNmNWFmNzIwZTZmYTYzMzEzZjc2ZjgxYjhlY2U2ZWMwN2E5NDM2NWE=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2010-07-09T15:49:50Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2010-07-09T15:49:50Z"},"message":"Schema and Connectors sections added \n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1246365 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"233cbd6ae7f04593427ca0dbfe9307067ed0d395","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/233cbd6ae7f04593427ca0dbfe9307067ed0d395"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/3f5af720e6fa63313f76f81b8ece6ec07a94365a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3f5af720e6fa63313f76f81b8ece6ec07a94365a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/3f5af720e6fa63313f76f81b8ece6ec07a94365a","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3f5af720e6fa63313f76f81b8ece6ec07a94365a/comments","author":null,"committer":null,"parents":[{"sha":"bb7dbc88664f2a2df4825a0144d599de4d2ab2f0","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bb7dbc88664f2a2df4825a0144d599de4d2ab2f0","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/bb7dbc88664f2a2df4825a0144d599de4d2ab2f0"}],"stats":{"total":2142,"additions":2003,"deletions":139},"files":[{"sha":"03d134b3e8fb8b8418952c1e4bb09e6dcfbcd7c7","filename":"console/pom.xml","status":"modified","additions":7,"deletions":1,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fpom.xml?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -51,6 +51,11 @@\n             <artifactId>wicket</artifactId>\n         </dependency>\n \n+        <dependency>\n+            <groupId>org.apache.wicket</groupId>\n+            <artifactId>wicket-extensions</artifactId>\n+        </dependency>\n+\n       <dependency>\n             <groupId>org.apache.wicket</groupId>\n             <artifactId>wicket-spring</artifactId>\n@@ -65,7 +70,8 @@\n         <dependency>\n             <groupId>org.syncope</groupId>\n             <artifactId>syncope-client</artifactId>\n-            <version>${parent.version}</version>\n+            <version>0.1-SNAPSHOT</version>\n+            <type>jar</type>\n         </dependency>\n         <dependency>\n             <groupId>org.springframework</groupId>"},{"sha":"6a179cba45ac4248164bb4fa016288a2f60e2590","filename":"console/src/main/java/org/syncope/console/pages/Connectors.java","status":"modified","additions":124,"deletions":2,"changes":126,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.java?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -14,14 +14,136 @@\n  */\n package org.syncope.console.pages;\n \n+import org.apache.wicket.Page;\n import org.apache.wicket.PageParameters;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.markup.html.AjaxLink;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.markup.html.WebMarkupContainer;\n+import org.apache.wicket.markup.html.basic.Label;\n+import org.apache.wicket.markup.html.list.ListItem;\n+import org.apache.wicket.markup.html.list.ListView;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.LoadableDetachableModel;\n+import org.apache.wicket.spring.injection.annot.SpringBean;\n+import org.syncope.client.to.ConnectorInstanceTO;\n+import org.syncope.console.rest.ConnectorsRestClient;\n \n /**\n  * Connectors WebPage.\n  */\n-public class Connectors extends BasePage{\n+public class Connectors extends BasePage {\n+\n+    @SpringBean(name = \"connectorsRestClient\")\n+    ConnectorsRestClient restClient;\n+    final ModalWindow createConnectorWin;\n+    final ModalWindow editConnectorWin;\n+    WebMarkupContainer connectorsContainer;\n \n     public Connectors(PageParameters parameters) {\n         super(parameters);\n+\n+        add(createConnectorWin = new ModalWindow(\"createConnectorWin\"));\n+        add(editConnectorWin = new ModalWindow(\"editConnectorWin\"));\n+\n+        IModel connectors = new LoadableDetachableModel() {\n+\n+            protected Object load() {\n+                return restClient.getAllConnectors().getInstances();\n+            }\n+        };\n+\n+        ListView connectorsView = new ListView(\"connectors\", connectors) {\n+\n+            @Override\n+            protected void populateItem(final ListItem item) {\n+                final ConnectorInstanceTO connectorTO =\n+                        (ConnectorInstanceTO) item.getDefaultModelObject();\n+\n+                item.add(new Label(\"name\", connectorTO.getConnectorName()));\n+                item.add(new Label(\"version\", connectorTO.getVersion()));\n+                item.add(new Label(\"bundleName\", connectorTO.getBundleName()));\n+\n+\n+                AjaxLink editLink = new AjaxLink(\"editLink\") {\n+\n+                    @Override\n+                    public void onClick(AjaxRequestTarget target) {\n+                        final ConnectorInstanceTO connectorTO =\n+                                (ConnectorInstanceTO) item.getDefaultModelObject();\n+\n+                        editConnectorWin.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                            public Page createPage() {\n+                                ConnectorsModalPage form = new ConnectorsModalPage\n+                                        (Connectors.this, editConnectorWin, connectorTO, false);\n+                                return form;\n+                            }\n+                        });\n+\n+                        editConnectorWin.show(target);\n+                    }\n+                };\n+\n+                item.add(editLink);\n+\n+                AjaxLink deleteLink = new AjaxLink(\"deleteLink\") {\n+\n+                    @Override\n+                    public void onClick(AjaxRequestTarget target) {\n+                        restClient.deleteConnector(connectorTO.getId());\n+                        target.addComponent(connectorsContainer);\n+                    }\n+                };\n+\n+                item.add(deleteLink);\n+            }\n+        };\n+\n+        connectorsContainer = new WebMarkupContainer(\"connectorsContainer\");\n+        connectorsContainer.add(connectorsView);\n+        connectorsContainer.setOutputMarkupId(true);\n+\n+        add(connectorsContainer);\n+\n+        setWindowClosedCallback(createConnectorWin, connectorsContainer);\n+        setWindowClosedCallback(editConnectorWin, connectorsContainer);\n+\n+        createConnectorWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n+        editConnectorWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n+\n+        add(new AjaxLink(\"createConnectorLink\") {\n+\n+            @Override\n+            public void onClick(AjaxRequestTarget target) {\n+\n+                createConnectorWin.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                    public Page createPage() {\n+                        ConnectorsModalPage form = new ConnectorsModalPage(Connectors.this, editConnectorWin, new ConnectorInstanceTO(), true);\n+                        return form;\n+                    }\n+                });\n+\n+                createConnectorWin.show(target);\n+            }\n+        });\n+\n+    }\n+\n+    /**\n+     * Set a WindowClosedCallback for a ModalWindow instance.\n+     * @param window\n+     * @param container\n+     */\n+    public void setWindowClosedCallback(ModalWindow window, final WebMarkupContainer container) {\n+\n+        window.setWindowClosedCallback(\n+                new ModalWindow.WindowClosedCallback() {\n+\n+                    public void onClose(AjaxRequestTarget target) {\n+                        target.addComponent(container);\n+                    }\n+                });\n     }\n-}\n+}\n\\ No newline at end of file"},{"sha":"47a1bbe81aa1117e6599a7c0503b67a6e28c574e","filename":"console/src/main/java/org/syncope/console/pages/ConnectorsModalPage.java","status":"added","additions":253,"deletions":0,"changes":253,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorsModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorsModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorsModalPage.java?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -0,0 +1,253 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.syncope.console.pages;\n+\n+import java.util.ArrayList;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Set;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n+import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.markup.html.WebMarkupContainer;\n+import org.apache.wicket.markup.html.WebPage;\n+import org.apache.wicket.markup.html.basic.Label;\n+import org.apache.wicket.markup.html.form.ChoiceRenderer;\n+import org.apache.wicket.markup.html.form.DropDownChoice;\n+import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.markup.html.form.TextField;\n+import org.apache.wicket.markup.html.list.ListItem;\n+import org.apache.wicket.markup.html.list.ListView;\n+import org.apache.wicket.markup.html.panel.FeedbackPanel;\n+import org.apache.wicket.model.CompoundPropertyModel;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.LoadableDetachableModel;\n+import org.apache.wicket.model.Model;\n+import org.apache.wicket.model.PropertyModel;\n+import org.apache.wicket.spring.injection.annot.SpringBean;\n+import org.syncope.client.to.ConnectorBundleTO;\n+import org.syncope.client.to.ConnectorBundleTOs;\n+import org.syncope.client.to.ConnectorInstanceTO;\n+import org.syncope.client.to.PropertyTO;\n+import org.syncope.console.rest.ConnectorsRestClient;\n+\n+/**\n+ * Modal window with Connector form.\n+ */\n+public class ConnectorsModalPage extends WebPage {\n+\n+    public TextField connectorName;\n+    public DropDownChoice bundle;\n+    public TextField version;\n+\n+    ConnectorBundleTOs bundlesTOs;\n+    ConnectorBundleTO selectedBundleTO = new ConnectorBundleTO();\n+    List<PropertyTO> connectorProperties = new ArrayList<PropertyTO>();\n+\n+    //Set<PropertyTO> connectorPropertiesMap = new HashSet<PropertyTO>();\n+\n+    public AjaxButton submit;\n+\n+    @SpringBean(name = \"connectorsRestClient\")\n+    ConnectorsRestClient restClient;\n+\n+    WebMarkupContainer propertiesContainer;\n+    //WebMarkupContainer container;\n+\n+    /**\n+     *\n+     * @param basePage base\n+     * @param modalWindow modal window\n+     * @param connectorTO\n+     * @param create : set to true only if a CREATE operation is required\n+     */\n+    public ConnectorsModalPage(final BasePage basePage, final ModalWindow window,\n+            final ConnectorInstanceTO connectorTO, final boolean createFlag) {\n+\n+        Form connectorForm = new Form(\"ConnectorForm\");\n+        \n+        connectorForm.setModel(new CompoundPropertyModel(connectorTO));\n+\n+        IModel bundles =  new LoadableDetachableModel()\n+        {\n+            protected Object load() {\n+                return restClient.getAllBundles().getBundles();\n+            }\n+        };\n+\n+        IModel selectedBundleProperties =  new LoadableDetachableModel()\n+        {\n+            protected Object load() {\n+                List<PropertyTO> list;\n+                \n+                if(createFlag) {\n+                connectorTO.setConnectorName(selectedBundleTO.getConnectorName());\n+                connectorTO.setVersion(selectedBundleTO.getVersion());\n+\n+                list = new ArrayList<PropertyTO>();\n+                PropertyTO propertyTO;\n+\n+                for(String key : selectedBundleTO.getProperties()) {\n+                    propertyTO = new PropertyTO();\n+                    propertyTO.setKey(key);\n+\n+                    list.add(propertyTO);\n+                }\n+                }\n+                else {\n+                    selectedBundleTO.setBundleName(connectorTO.getBundleName());\n+                    list = hashSetToList(connectorTO.getConfiguration());\n+                }\n+                return list;\n+            }\n+        };\n+\n+        connectorName = new TextField(\"connectorName\");\n+        connectorName.setEnabled(false);\n+        connectorName.setOutputMarkupId(true);\n+\n+        version = new TextField(\"version\");\n+        version.setEnabled(false);\n+        version.setOutputMarkupId(true);\n+\n+        ChoiceRenderer renderer = new ChoiceRenderer(\"displayName\", \"bundleName\");\n+        bundle = new DropDownChoice(\"bundle\",bundles,renderer);\n+\n+        bundle.setModel(new IModel() {\n+\n+                public Object getObject() {\n+                    return selectedBundleTO;\n+                }\n+\n+                public void setObject(Object object) {\n+                    selectedBundleTO = (ConnectorBundleTO)object;\n+                }\n+\n+                public void detach() {\n+                }\n+            });\n+\n+        bundle.add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n+            protected void onUpdate(AjaxRequestTarget target) {\n+                //reset all informations stored in connectorTO\n+                \n+                connectorTO.setConfiguration(new HashSet<PropertyTO>());\n+\n+                target.addComponent(propertiesContainer);\n+                target.addComponent(connectorName);\n+                target.addComponent(version);\n+            }\n+        });\n+        bundle.setRequired(true);\n+        bundle.setEnabled(createFlag);\n+\n+        ListView propertiesView = (new ListView(\"connectorProperties\",selectedBundleProperties) {\n+\n+            PropertyTO propertyTO;\n+\n+            @Override\n+            protected void populateItem(ListItem item) {\n+                propertyTO = (PropertyTO)item.getDefaultModelObject();\n+\n+                item.add(new Label(\"key\", propertyTO.getKey()));\n+                item.add(new TextField(\"value\",new PropertyModel(propertyTO, \"value\")));\n+                \n+                connectorTO.getConfiguration().add(propertyTO);\n+            }\n+        });\n+\n+        propertiesContainer = new WebMarkupContainer(\"propertiesContainer\");\n+        propertiesContainer.setOutputMarkupId(true);\n+        propertiesContainer.add(propertiesView);\n+\n+        connectorForm.add(propertiesContainer);\n+\n+        submit = new AjaxButton(\"submit\", new Model(getString(\"submit\"))) {\n+\n+            @Override\n+            protected void onSubmit(AjaxRequestTarget target, Form form) {\n+                ConnectorInstanceTO connector = (ConnectorInstanceTO) form.getDefaultModelObject();\n+\n+                //Set the model object configuration's properties to connectorPropertiesMap reference\n+                connector.setBundleName(bundle.getModelValue());\n+\n+                try {\n+\n+                    if (createFlag) \n+                        restClient.createConnector(connector);\n+                     else\n+                        restClient.updateConnector(connector);\n+\n+                    window.close(target);\n+                    \n+                } catch (Exception e) {\n+                    error(getString(\"error\") + \":\" + e.getMessage());\n+                }\n+\n+                \n+            }\n+\n+            @Override\n+            protected void onError(AjaxRequestTarget target, Form form) {\n+                target.addComponent(form.get(\"feedback\"));\n+            }\n+        };\n+\n+        connectorForm.add(new FeedbackPanel(\"feedback\").setOutputMarkupId(true));\n+\n+        connectorForm.add(connectorName);\n+        connectorForm.add(bundle);\n+        connectorForm.add(version);\n+        connectorForm.add(submit);\n+\n+        add(connectorForm);\n+    }\n+\n+    /**\n+     * Convert an HashSet<PropertyTO> object to a corresponding List<PropertyTO>\n+     * object.\n+     * @param hashset\n+     * @return\n+     */\n+    public List<PropertyTO> hashSetToList(Set<PropertyTO> set) {\n+        List<PropertyTO> list = new ArrayList<PropertyTO>();\n+\n+        for (PropertyTO propertyTO : set) {\n+            list.add(propertyTO);\n+        }\n+\n+        return list;\n+    }\n+\n+    /**\n+     * Convert a List<PropertyTO> object to a corresponding HashSet<PropertyTO>\n+     * object.\n+     * @param list\n+     * @return\n+     * INUTILIZZATO\n+     */\n+    public Set<PropertyTO> listToHashSet(List<PropertyTO> list) {\n+        Set<PropertyTO> set = new HashSet<PropertyTO>();\n+\n+        for (PropertyTO propertyTO : list) {\n+            set.add(propertyTO);\n+        }\n+\n+        return set;\n+    }\n+}\n\\ No newline at end of file"},{"sha":"6d0f87551d1641e149163a9ebe83cd3474c7dc29","filename":"console/src/main/java/org/syncope/console/pages/DerivedSchemaModalPage.java","status":"added","additions":121,"deletions":0,"changes":121,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.java?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -0,0 +1,121 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.syncope.console.pages;\n+\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.markup.html.WebPage;\n+import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.markup.html.form.TextField;\n+import org.apache.wicket.markup.html.panel.FeedbackPanel;\n+import org.apache.wicket.model.CompoundPropertyModel;\n+import org.apache.wicket.spring.injection.annot.SpringBean;\n+import org.syncope.client.to.DerivedSchemaTO;\n+import org.syncope.console.rest.SchemaRestClient;\n+\n+/**\n+ * Modal window with Schema form.\n+ */\n+public class DerivedSchemaModalPage extends WebPage\n+{\n+    public TextField name;\n+    public TextField expression;\n+    public AjaxButton submit;\n+\n+    public enum Entity {USER,ROLE};\n+\n+    public Entity entity;\n+\n+    @SpringBean(name = \"schemaRestClient\")\n+    SchemaRestClient restClient;\n+\n+    /**\n+     *\n+     * @param basePage BasePage\n+     * @param modalWindow ModalWindow instance\n+     * @param schemaTO DerivedSchemaTO bean\n+     * @param createFlag true for CREATE, false for EDIT operation\n+     */\n+    public DerivedSchemaModalPage(final BasePage basePage, final ModalWindow window, \n+            DerivedSchemaTO schema, final boolean createFlag)\n+    {\n+        if (schema == null)\n+            schema = new DerivedSchemaTO();\n+\n+        Form schemaForm = new Form(\"SchemaForm\");\n+\n+        schemaForm.setModel(new CompoundPropertyModel(schema));\n+\n+        schemaForm.add(new FeedbackPanel(\"feedback\").setOutputMarkupId(true));\n+\n+        name = new TextField(\"name\");\n+        name.setRequired(true);\n+\n+        expression = new TextField(\"expression\");\n+        expression.setRequired(true);\n+\n+        name.setEnabled(createFlag);\n+\n+        submit = new AjaxButton(\"submit\") {\n+\n+            @Override\n+            protected void onSubmit(AjaxRequestTarget target, Form form) {\n+                if (getEntity() == Entity.USER){\n+                   \n+                    if (createFlag)\n+                        restClient.createUserDerivedSchema((DerivedSchemaTO)form.getDefaultModelObject());\n+\n+                    else\n+                        restClient.updateUserDerivedSchema((DerivedSchemaTO)form.getDefaultModelObject());\n+                }\n+                else if (getEntity() == Entity.ROLE){\n+\n+                    if (createFlag)\n+                        restClient.createRoleDerivedSchema((DerivedSchemaTO)form.getDefaultModelObject());\n+\n+                    else\n+                        restClient.updateRoleDerivedSchema((DerivedSchemaTO)form.getDefaultModelObject());\n+                }\n+                \n+                window.close(target);\n+            }\n+\n+            @Override\n+            protected void onError(AjaxRequestTarget target, Form form) {\n+                target.addComponent(form.get( \"feedback\" ));\n+            }\n+        };\n+\n+        schemaForm.add(name);\n+        schemaForm.add(expression);\n+\n+        schemaForm.add(submit);\n+\n+        add(schemaForm);\n+        \n+    }\n+\n+    public Entity getEntity() {\n+        return entity;\n+    }\n+\n+    public void setEntity(Entity entity) {\n+        this.entity = entity;\n+    }\n+\n+}\n\\ No newline at end of file"},{"sha":"9823de6db9f5592f2f8399368a2e94c944c5ab53","filename":"console/src/main/java/org/syncope/console/pages/Schema.java","status":"modified","additions":387,"deletions":15,"changes":402,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.java?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -14,11 +14,21 @@\n  */\n package org.syncope.console.pages;\n \n-import java.util.LinkedHashMap;\n+import org.apache.wicket.Page;\n import org.apache.wicket.PageParameters;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.markup.html.AjaxLink;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.markup.html.WebMarkupContainer;\n+import org.apache.wicket.markup.html.basic.Label;\n import org.apache.wicket.markup.html.list.ListItem;\n import org.apache.wicket.markup.html.list.ListView;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.LoadableDetachableModel;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n+\n+import org.syncope.client.to.DerivedSchemaTO;\n+import org.syncope.client.to.SchemaTO;\n import org.syncope.console.rest.SchemaRestClient;\n \n /**\n@@ -29,42 +39,404 @@ public class Schema extends BasePage\n     @SpringBean(name = \"schemaRestClient\")\n     SchemaRestClient restClient;\n \n+    final ModalWindow createUserSchemaWin;\n+    final ModalWindow editUserSchemaWin;\n+\n+    final ModalWindow createUserDerivedSchemaWin;\n+    final ModalWindow editUserDerivedSchemaWin;\n+\n+    final ModalWindow createRoleSchemaWin;\n+    final ModalWindow editRoleSchemaWin;\n+    \n+    final ModalWindow createRoleDerivedSchemaWin;\n+    final ModalWindow editRoleDerivedSchemaWin;\n+    \n+    WebMarkupContainer userSchemaContainer;\n+    WebMarkupContainer userDerivedSchemaContainer;\n+\n+    WebMarkupContainer roleSchemasContainer;\n+    WebMarkupContainer roleDerivedSchemasContainer;\n+\n     public Schema(PageParameters parameters)\n     {\n         super(parameters);\n \n-        add(new ListView(\"attributesList\",restClient.getAttributesList()) {\n+        add(createRoleSchemaWin = new ModalWindow(\"createRoleSchemaWin\"));\n+        add(editRoleSchemaWin = new ModalWindow(\"editRoleSchemaWin\"));\n+\n+        add(createRoleDerivedSchemaWin = new ModalWindow(\"createRoleDerivedSchemaWin\"));\n+        add(editRoleDerivedSchemaWin = new ModalWindow(\"editRoleDerivedSchemaWin\"));\n+\n+        add(createUserSchemaWin = new ModalWindow(\"createUserSchemaWin\"));\n+        add(editUserSchemaWin = new ModalWindow(\"editUserSchemaWin\"));\n+        \n+        add(createUserDerivedSchemaWin = new ModalWindow(\"createUserDerSchemaWin\"));\n+        add(editUserDerivedSchemaWin = new ModalWindow(\"editUserDerSchemaWin\"));\n+\n+        IModel userSchemas =  new LoadableDetachableModel()\n+        {\n+            protected Object load() {\n+                return restClient.getAllUserSchemas().getSchemas();\n+            }\n+        };\n+\n+        IModel userDerivedSchemas =  new LoadableDetachableModel()\n+        {\n+            protected Object load() {\n+                return restClient.getAllUserDerivedSchemas().getDerivedSchemas();\n+            }\n+        };\n+\n+        IModel roleSchemas =  new LoadableDetachableModel()\n+        {\n+            protected Object load() {\n+                return restClient.getAllRoleSchemas().getSchemas();\n+            }\n+        };\n+\n+        IModel roleDerivedSchemas =  new LoadableDetachableModel()\n+        {\n+            protected Object load() {\n+                return restClient.getAllRoleDerivedSchemas().getDerivedSchemas();\n+            }\n+        };\n+\n+        ListView roleSchemasView = new ListView(\"roleSchemas\", roleSchemas) {\n \n             @Override\n-            protected void populateItem(ListItem item) {\n-                LinkedHashMap attributeSchema = (LinkedHashMap) item.getDefaultModelObject();\n+            protected void populateItem(final ListItem item) {\n+                final SchemaTO schemaTO = (SchemaTO) item.getDefaultModelObject();\n+\n+                item.add(new Label(\"name\", schemaTO.getName()));\n+                item.add(new Label(\"type\", schemaTO.getType().getClassName()));\n+                item.add(new Label(\"attributes\", schemaTO.getAttributes() + \"\"));\n+\n+\n+                AjaxLink editLink = new AjaxLink(\"editLink\") {\n+\n+                    @Override\n+                    public void onClick(AjaxRequestTarget target) {\n+                        final SchemaTO schemaTO = (SchemaTO) item.getDefaultModelObject();\n+\n+                        editRoleSchemaWin.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                        public Page createPage() {\n+                            SchemaModalPage form = new SchemaModalPage(Schema.this, editRoleSchemaWin, schemaTO, false);\n+                            form.setEntity(SchemaModalPage.Entity.ROLE);\n+                            return form;\n+                        }\n+                        });\n+\n+                        editRoleSchemaWin.show(target);\n+                    }\n+                };\n+\n+                item.add(editLink);\n+\n+                AjaxLink deleteLink = new AjaxLink(\"deleteLink\"){\n+\n+                    @Override\n+                    public void onClick(AjaxRequestTarget target) {\n+                        restClient.deleteRoleSchema(schemaTO.getName());\n+                        target.addComponent(roleSchemasContainer);\n+                    }\n+\n+                };\n+\n+                item.add(deleteLink);\n             }\n-        });\n+        };\n+\n+        ListView roleDerSchemasView = new ListView(\"roleDerivedSchemas\", roleDerivedSchemas) {\n+\n+            @Override\n+            protected void populateItem(final ListItem item) {\n+               final DerivedSchemaTO schemaTO = (DerivedSchemaTO) item.getDefaultModelObject();\n+\n+                item.add(new Label(\"name\", schemaTO.getName()));\n+                item.add(new Label(\"expression\", schemaTO.getExpression()));\n+                item.add(new Label(\"attributes\", schemaTO.getDerivedAttributes() + \"\"));\n+\n+                AjaxLink editLink = new AjaxLink(\"editLink\") {\n+\n+                    @Override\n+                    public void onClick(AjaxRequestTarget target) {\n+                        final DerivedSchemaTO schemaTO = (DerivedSchemaTO) item.getDefaultModelObject();\n+\n+                        editRoleDerivedSchemaWin.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                        public Page createPage() {\n+                            DerivedSchemaModalPage form = new DerivedSchemaModalPage\n+                                    (Schema.this, editRoleDerivedSchemaWin, schemaTO, false);\n+                            form.setEntity(DerivedSchemaModalPage.Entity.ROLE);\n+                            return form;\n+                        }\n+                        });\n+\n+                        editRoleDerivedSchemaWin.show(target);\n+                    }\n+                };\n+\n+                item.add(editLink);\n+\n+                AjaxLink deleteLink = new AjaxLink(\"deleteLink\"){\n+\n+                    @Override\n+                    public void onClick(AjaxRequestTarget target) {\n+                        restClient.deleteRoleDerivedSchema(schemaTO.getName());\n+                        target.addComponent(roleDerivedSchemasContainer);\n+                    }\n+\n+                };\n+\n+                item.add(deleteLink);\n+            }\n+        };\n+\n+\n+        ListView userSchemasView = new ListView(\"userSchemas\", userSchemas) {\n+\n+            @Override\n+            protected void populateItem(final ListItem item) {\n+                final SchemaTO schemaTO = (SchemaTO) item.getDefaultModelObject();\n+\n+                item.add(new Label(\"name\", schemaTO.getName()));\n+                item.add(new Label(\"type\", schemaTO.getType().getClassName()));\n+                item.add(new Label(\"attributes\", schemaTO.getAttributes() + \"\"));\n+\n+\n+                AjaxLink editLink = new AjaxLink(\"editLink\") {\n+\n+                    @Override\n+                    public void onClick(AjaxRequestTarget target) {\n+                        final SchemaTO schemaTO = (SchemaTO) item.getDefaultModelObject();\n+\n+                        editUserSchemaWin.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                        public Page createPage() {\n+                            SchemaModalPage form = new SchemaModalPage(Schema.this, editUserSchemaWin, schemaTO, false);\n+                            form.setEntity(SchemaModalPage.Entity.USER);\n+                            return form;\n+                        }\n+                        });\n+\n+                        editUserSchemaWin.show(target);\n+                    }\n+                };\n \n-       add(new ListView(\"derivedAttributesList\",restClient.getDerivedAttributesList()) {\n+                item.add(editLink);\n+\n+                AjaxLink deleteLink = new AjaxLink(\"deleteLink\"){\n+\n+                    @Override\n+                    public void onClick(AjaxRequestTarget target) {\n+                        restClient.deleteUserSchema(schemaTO.getName());\n+                        target.addComponent(userSchemaContainer);\n+                    }\n+\n+                };\n+\n+                item.add(deleteLink);\n+            }\n+        };\n+\n+\n+        ListView userDerSchemasView = new ListView(\"userDerivedSchemas\", userDerivedSchemas) {\n \n             @Override\n-            protected void populateItem(ListItem item) {\n-                LinkedHashMap attributeSchema = (LinkedHashMap) item.getDefaultModelObject();\n+            protected void populateItem(final ListItem item) {\n+                final DerivedSchemaTO schemaTO = (DerivedSchemaTO) item.getDefaultModelObject();\n+\n+                item.add(new Label(\"name\", schemaTO.getName()));\n+                item.add(new Label(\"expression\", schemaTO.getExpression()));\n+                item.add(new Label(\"attributes\", schemaTO.getDerivedAttributes() + \"\"));\n+\n+                AjaxLink editLink = new AjaxLink(\"editLink\") {\n+\n+                    @Override\n+                    public void onClick(AjaxRequestTarget target) {\n+                        final DerivedSchemaTO schemaTO = (DerivedSchemaTO) item.getDefaultModelObject();\n+\n+                        editUserDerivedSchemaWin.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                        public Page createPage() {\n+                            DerivedSchemaModalPage form = new DerivedSchemaModalPage\n+                                    (Schema.this, editUserSchemaWin, schemaTO, false);\n+                            form.setEntity(DerivedSchemaModalPage.Entity.USER);\n+                            return form;\n+                        }\n+                        });\n+\n+                        editUserDerivedSchemaWin.show(target);\n+                    }\n+                };\n+\n+                item.add(editLink);\n+\n+                AjaxLink deleteLink = new AjaxLink(\"deleteLink\"){\n+\n+                    @Override\n+                    public void onClick(AjaxRequestTarget target) {\n+                        restClient.deleteUserDerivedSchema(schemaTO.getName());\n+                        target.addComponent(userDerivedSchemaContainer);\n+                    }\n+\n+                };\n+\n+                item.add(deleteLink);\n+            }\n+        };\n+\n+        add(userDerSchemasView);\n+\n+        roleSchemasContainer = new WebMarkupContainer(\"roleSchemasContainer\");\n+        roleSchemasContainer.add(roleSchemasView);\n+        roleSchemasContainer.setOutputMarkupId(true);\n+\n+        roleDerivedSchemasContainer = new WebMarkupContainer(\"roleDerivedSchemasContainer\");\n+        roleDerivedSchemasContainer.add(roleDerSchemasView);\n+        roleDerivedSchemasContainer.setOutputMarkupId(true);\n+\n+        userSchemaContainer = new WebMarkupContainer(\"userSchemaContainer\");\n+        userSchemaContainer.add(userSchemasView);\n+        userSchemaContainer.setOutputMarkupId(true);\n+\n+        userDerivedSchemaContainer = new WebMarkupContainer(\"userDerivedSchemaContainer\");\n+        userDerivedSchemaContainer.add(userDerSchemasView);\n+        userDerivedSchemaContainer.setOutputMarkupId(true);\n+        \n+        add(roleSchemasContainer);\n+        add(roleDerivedSchemasContainer);\n+        add(userSchemaContainer);\n+        add(userDerivedSchemaContainer);\n+        \n+        createUserSchemaWin.setPageMapName(\"modal-1\");\n+        createUserSchemaWin.setCookieName(\"modal-1\");\n+\n+        editUserSchemaWin.setPageMapName(\"modal-2\");\n+        editUserSchemaWin.setCookieName(\"modal-2\");\n+\n+        createUserDerivedSchemaWin.setPageMapName(\"modal-3\");\n+        createUserDerivedSchemaWin.setCookieName(\"modal-3\");\n+\n+        editUserDerivedSchemaWin.setPageMapName(\"modal-4\");\n+        editUserDerivedSchemaWin.setCookieName(\"modal-4\");\n+\n+        createRoleSchemaWin.setPageMapName(\"modal-5\");\n+        createRoleSchemaWin.setCookieName(\"modal-5\");\n+\n+        editRoleSchemaWin.setPageMapName(\"modal-6\");\n+        editRoleSchemaWin.setCookieName(\"modal-6\");\n+\n+        createRoleDerivedSchemaWin.setPageMapName(\"modal-7\");\n+        createRoleDerivedSchemaWin.setCookieName(\"modal-7\");\n+\n+        editRoleDerivedSchemaWin.setPageMapName(\"modal-8\");\n+        editRoleDerivedSchemaWin.setCookieName(\"modal-8\");\n+\n+        setWindowClosedCallback(createUserSchemaWin, userSchemaContainer);\n+        setWindowClosedCallback(editUserSchemaWin, userSchemaContainer);\n+\n+        setWindowClosedCallback(createUserDerivedSchemaWin, userDerivedSchemaContainer);\n+        setWindowClosedCallback(editUserDerivedSchemaWin, userDerivedSchemaContainer);\n+\n+        setWindowClosedCallback(createRoleSchemaWin, roleSchemasContainer);\n+        setWindowClosedCallback(editRoleSchemaWin, roleSchemasContainer);\n+\n+        setWindowClosedCallback(createRoleDerivedSchemaWin, roleDerivedSchemasContainer);\n+        setWindowClosedCallback(editRoleDerivedSchemaWin, roleDerivedSchemasContainer);\n+\n+        add(new AjaxLink(\"createRoleSchemaWinLink\") {\n+\n+            @Override\n+            public void onClick(AjaxRequestTarget target) {\n+\n+                createRoleSchemaWin.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                    public Page createPage() {\n+                        SchemaModalPage form = new SchemaModalPage(Schema.this,\n+                                new ModalWindow(\"createRoleSchemaWin\"), null, true);\n+                        form.setEntity(SchemaModalPage.Entity.ROLE);\n+                        return form;\n+                    }\n+                });\n+\n+                createRoleSchemaWin.show(target);\n             }\n         });\n \n-        add(new ListView(\"userAttributesList\",restClient.getUserAttributesList()) {\n+        add(new AjaxLink(\"createRoleDerivedSchemaWinLink\") {\n \n             @Override\n-            protected void populateItem(ListItem item) {\n-                LinkedHashMap attributeSchema = (LinkedHashMap) item.getDefaultModelObject();\n+            public void onClick(AjaxRequestTarget target) {\n+\n+                createRoleDerivedSchemaWin.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                    public Page createPage() {\n+                        DerivedSchemaModalPage form = new DerivedSchemaModalPage(Schema.this,\n+                                new ModalWindow(\"createRoleDerivedSchemaWin\"), null, true);\n+                        form.setEntity(DerivedSchemaModalPage.Entity.ROLE);\n+                        return form;\n+                    }\n+                });\n+\n+                createRoleDerivedSchemaWin.show(target);\n             }\n         });\n \n-        add(new ListView(\"userDerivedAttributesList\",restClient.getUserDerivedAttributesList()) {\n+        add(new AjaxLink(\"createUserSchemaWinLink\") {\n \n             @Override\n-            protected void populateItem(ListItem item) {\n-                LinkedHashMap attributeSchema = (LinkedHashMap) item.getDefaultModelObject();\n+            public void onClick(AjaxRequestTarget target) {\n+\n+                createUserSchemaWin.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                    public Page createPage() {\n+                        SchemaModalPage form = new SchemaModalPage(Schema.this,\n+                                new ModalWindow(\"createModalWin\"), null, true);\n+                        form.setEntity(SchemaModalPage.Entity.USER);\n+                        return form;\n+                    }\n+                });\n+                \n+                createUserSchemaWin.show(target);\n             }\n         });\n \n+        add(new AjaxLink(\"createUserDerSchemaLink\") {\n+            \n+            @Override\n+            public void onClick(AjaxRequestTarget target) {\n+\n+            createUserDerivedSchemaWin.setPageCreator(new ModalWindow.PageCreator() {\n+\n+            public Page createPage() {\n+                DerivedSchemaModalPage form = new DerivedSchemaModalPage(Schema.this,\n+                        new ModalWindow(\"createUserDerSchemaModalWin\"), null, true);\n+                form.setEntity(DerivedSchemaModalPage.Entity.USER);\n+                \n+                return form;\n+            }\n+            });\n+\n+            createUserDerivedSchemaWin.show(target);\n+            }\n+        });\n+\n+    }\n+    \n+    /**\n+     * Set a WindowClosedCallback for a ModalWindow instance.\n+     * @param window\n+     * @param container\n+     */\n+    public void setWindowClosedCallback(ModalWindow window,final WebMarkupContainer container) {\n \n+        window.setWindowClosedCallback(\n+                new ModalWindow.WindowClosedCallback() {\n+                    public void onClose(AjaxRequestTarget target) {\n+                        target.addComponent(container);\n+                    }\n+                });\n     }\n-}\n+}\n\\ No newline at end of file"},{"sha":"3e5d6211a59bb65577812e35891333b48beff0fc","filename":"console/src/main/java/org/syncope/console/pages/SchemaModalPage.java","status":"added","additions":162,"deletions":0,"changes":162,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.java?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -0,0 +1,162 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.syncope.console.pages;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.form.AjaxFormValidatingBehavior;\n+import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.markup.html.WebPage;\n+import org.apache.wicket.markup.html.form.DropDownChoice;\n+import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.markup.html.form.RadioChoice;\n+import org.apache.wicket.markup.html.form.TextField;\n+import org.apache.wicket.markup.html.panel.FeedbackPanel;\n+import org.apache.wicket.model.CompoundPropertyModel;\n+import org.apache.wicket.model.Model;\n+import org.apache.wicket.spring.injection.annot.SpringBean;\n+import org.syncope.client.to.SchemaTO;\n+import org.syncope.console.rest.SchemaRestClient;\n+import org.syncope.types.SchemaType;\n+\n+\n+/**\n+ * Modal window with Schema form.\n+ */\n+public class SchemaModalPage extends WebPage\n+{\n+    public TextField name;\n+    public TextField conversionPattern;\n+    public DropDownChoice validatorClass;\n+    public DropDownChoice type;\n+    public DropDownChoice action;\n+    public RadioChoice mandatory;\n+    public RadioChoice virtual;\n+    public RadioChoice multivalue;\n+    public AjaxButton submit;\n+\n+    public enum Entity {USER,ROLE};\n+\n+    public Entity entity;\n+\n+    @SpringBean(name = \"schemaRestClient\")\n+    SchemaRestClient restClient;\n+\n+    /**\n+     *\n+     * @param basePage base\n+     * @param modalWindow modal window\n+     * @param schemaTO\n+     * @param create : set to true only if a CREATE operation is required\n+     */\n+    public SchemaModalPage(final BasePage basePage, final ModalWindow window,\n+            SchemaTO schema, final boolean createFlag)\n+    {\n+\n+        if (schema == null)\n+            schema=new SchemaTO();\n+\n+        Form schemaForm = new Form(\"SchemaForm\");\n+\n+        schemaForm.setModel(new CompoundPropertyModel(schema));\n+\n+        name = new TextField(\"name\");\n+        name.setRequired(true);\n+\n+        name.setEnabled(createFlag);\n+\n+        conversionPattern = new TextField(\"conversionPattern\");\n+\n+        ArrayList<String> validatorsList = new ArrayList<String>();\n+        validatorsList.add(\"AlwaysTrueValidator\");\n+        validatorsList.add(\"EmailAddressValidator\");\n+\n+        validatorClass = new DropDownChoice(\"validatorClass\",validatorsList);\n+\n+        type = new DropDownChoice(\"type\",Arrays.asList(SchemaType.values()));\n+        type.setRequired(true);\n+\n+        mandatory = new RadioChoice(\"mandatory\",Arrays.asList(new Boolean[]{true,false}));\n+\n+        virtual = new RadioChoice(\"virtual\",Arrays.asList(new Boolean[]{true,false}));\n+\n+        multivalue = new RadioChoice(\"multivalue\",Arrays.asList(new Boolean[]{true,false}));\n+\n+\n+        submit = new AjaxButton(\"submit\", new Model(getString(\"submit\"))) {\n+\n+            @Override\n+            protected void onSubmit(AjaxRequestTarget target, Form form) {\n+\n+                if (getEntity() == Entity.USER)\n+                {\n+\n+                    if (createFlag)\n+                        restClient.createUserSchema((SchemaTO)form.getDefaultModelObject());\n+\n+                    else\n+                        restClient.updateUserSchema((SchemaTO)form.getDefaultModelObject());\n+\n+                }\n+\n+                else if (getEntity() == Entity.ROLE)\n+                {\n+\n+                    if (createFlag)\n+                        restClient.createRoleSchema((SchemaTO)form.getDefaultModelObject());\n+\n+                    else\n+                        restClient.updateRoleSchema((SchemaTO)form.getDefaultModelObject());\n+\n+                }\n+\n+                window.close(target);\n+            }\n+\n+            @Override\n+            protected void onError(AjaxRequestTarget target, Form form) {\n+                target.addComponent(form.get( \"feedback\" ));\n+            }\n+            \n+        };\n+\n+        schemaForm.add(new FeedbackPanel(\"feedback\").setOutputMarkupId( true ));\n+        \n+        schemaForm.add(name);\n+        schemaForm.add(conversionPattern);\n+        schemaForm.add(validatorClass);\n+        schemaForm.add(type);\n+        schemaForm.add(mandatory);\n+        schemaForm.add(virtual);\n+        schemaForm.add(multivalue);\n+\n+        schemaForm.add(submit);\n+\n+        add(schemaForm);\n+    }\n+\n+    public Entity getEntity() {\n+        return entity;\n+    }\n+\n+    public void setEntity(Entity entity) {\n+        this.entity = entity;\n+    }\n+\n+}\n\\ No newline at end of file"},{"sha":"89f7aca4a28a287b07a8e5c8771d1704fea18391","filename":"console/src/main/java/org/syncope/console/pages/Users.java","status":"modified","additions":7,"deletions":15,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.java?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -39,21 +39,13 @@ public Users(PageParameters parameters) {\n \n         //add(new Button(\"newUserBtn\", new Model(getString(\"newUserBtn\"))));\n \n-        final Set<UserTO> users = restClient.getUserList();\n-\n-        if (!users.isEmpty()) {\n-\n-            final List userList = new ArrayList(users);\n-\n-            /*add(new ListView(\"userList\", userList) {\n-            @Override\n-            protected void populateItem(ListItem item) {\n-            //item.add(new Label(\"label\", item.getModel()));\n-            }\n-\n-            });*/\n-\n-        }\n+//        final Set<UserTO> users = restClient.getUserList();\n+//\n+//        if (!users.isEmpty()) {\n+//\n+//            final List userList = new ArrayList(users);\n+//\n+//        }\n \n     }\n }"},{"sha":"fd1c5fae9f688bff91ed66af34f0d2201c920735","filename":"console/src/main/java/org/syncope/console/rest/ConnectorsRestClient.java","status":"added","additions":93,"deletions":0,"changes":93,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FConnectorsRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FConnectorsRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FConnectorsRestClient.java?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -0,0 +1,93 @@\n+/* \n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ * \n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *  under the License.\n+ */\n+package org.syncope.console.rest;\n+\n+import org.syncope.client.to.ConnectorInstanceTO;\n+import org.syncope.client.to.ConnectorInstanceTOs;\n+import org.syncope.client.to.ConnectorBundleTOs;\n+\n+/**\n+ * Console client for invoking Rest Connectors services.\n+ */\n+public class ConnectorsRestClient {\n+\n+    RestClient restClient;\n+\n+    /**\n+     * Get all connectors.\n+     * @return SchemaTOs\n+     */\n+    public ConnectorInstanceTOs getAllConnectors() {\n+        ConnectorInstanceTOs connectors = null;\n+\n+        connectors = restClient.getRestTemplate().getForObject(restClient.getBaseURL() + \"connector/list.json\", ConnectorInstanceTOs.class);\n+\n+        return connectors;\n+    }\n+\n+    /**\n+     * Create new connector.\n+     * @param schemaTO\n+     */\n+    public void createConnector(ConnectorInstanceTO connectorTO) {\n+        restClient.getRestTemplate().postForObject(restClient.getBaseURL() +\n+                \"connector/create\", connectorTO, ConnectorInstanceTO.class);\n+    }\n+\n+    /**\n+     * Load an already existent connector by its name.\n+     * @param name (e.g.:surname)\n+     * @return schemaTO\n+     */\n+    public ConnectorInstanceTO readConnector(String name) {\n+        ConnectorInstanceTO schema = restClient.getRestTemplate().getForObject(restClient.getBaseURL() + \"connector/read/\" + name + \".json\", ConnectorInstanceTO.class);\n+        return schema;\n+    }\n+\n+    /**\n+     * Update an already existent connector.\n+     * @param schemaTO updated\n+     */\n+    public void updateConnector(ConnectorInstanceTO connectorTO) {\n+        ConnectorInstanceTO updatedTO = restClient.getRestTemplate().postForObject(restClient.getBaseURL() + \"connector/update.json\", connectorTO, ConnectorInstanceTO.class);\n+    }\n+\n+    /**\n+     * Delete an already existent connector by its name.\n+     * @param name (e.g.:surname)\n+     * @return schemaTO\n+     */\n+    public void deleteConnector(Long id) {\n+        restClient.getRestTemplate().delete(restClient.getBaseURL() +\n+                \"connector/delete/{connectorId}.json\",id.toString());\n+    }\n+\n+    public ConnectorBundleTOs getAllBundles() {\n+\n+        ConnectorBundleTOs bundles = restClient.getRestTemplate().getForObject(\n+                restClient.getBaseURL() + \"connector/getBundles.json\",\n+                ConnectorBundleTOs.class);\n+\n+        return bundles;\n+    }\n+\n+    public RestClient getRestClient() {\n+        return restClient;\n+    }\n+\n+    public void setRestClient(RestClient restClient) {\n+        this.restClient = restClient;\n+    }\n+}\n\\ No newline at end of file"},{"sha":"90cc69fd99ec424983496ce9f5a23cad006c10dc","filename":"console/src/main/java/org/syncope/console/rest/SchemaRestClient.java","status":"modified","additions":241,"deletions":25,"changes":266,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FSchemaRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FSchemaRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FSchemaRestClient.java?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -1,6 +1,4 @@\n-/*\n- *  Copyright 2010 luis.\n- * \n+/* \n  *  Licensed under the Apache License, Version 2.0 (the \"License\");\n  *  you may not use this file except in compliance with the License.\n  *  You may obtain a copy of the License at\n@@ -14,46 +12,147 @@\n  *  limitations under the License.\n  *  under the License.\n  */\n-\n package org.syncope.console.rest;\n \n-import java.util.List;\n+import org.springframework.web.client.RestClientException;\n import org.syncope.client.to.DerivedSchemaTO;\n+import org.syncope.client.to.DerivedSchemaTOs;\n import org.syncope.client.to.SchemaTO;\n+import org.syncope.client.to.SchemaTOs;\n+import org.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.syncope.types.SyncopeClientExceptionType;\n \n /**\n  * Console client for invoking rest schema services.\n  */\n-public class SchemaRestClient\n-{\n+public class SchemaRestClient {\n+\n     RestClient restClient;\n \n-    public List<SchemaTO> getAttributesList() {\n-        List<SchemaTO> attributeSchemas =\n-                restClient.getRestTemplate().getForObject(restClient.getBaseURL() + \"schema/role/list.json\", List.class);\n+    /**\n+     * Get all user's schemas.\n+     * @return SchemaTOs\n+     */\n+    public SchemaTOs getAllUserSchemas() {\n+\n+        SchemaTOs userSchemas = null;\n+\n+        try {\n+            userSchemas =\n+                    restClient.getRestTemplate().getForObject(restClient.getBaseURL() + \"schema/user/list.json\", SchemaTOs.class);\n+        } catch (SyncopeClientCompositeErrorException e) {\n+\n+            for (SyncopeClientExceptionType exceptionType :\n+                    SyncopeClientExceptionType.values()) {\n+                if (e.hasException(exceptionType)) {\n+                    System.err.println(exceptionType);\n+                    System.err.println(\n+                            e.getException(exceptionType).getElements());\n+                }\n+            }\n+\n+        } catch (RestClientException e) {\n+            e.printStackTrace();\n+        }\n+\n+        return userSchemas;\n+    }\n+\n+    /**\n+     * Get all user's derived schemas.\n+     * @return DerivedSchemaTOs\n+     */\n+    public DerivedSchemaTOs getAllUserDerivedSchemas() {\n+\n+        DerivedSchemaTOs userDerivedSchemas = null;\n+        try {\n+            userDerivedSchemas = restClient.getRestTemplate().getForObject(restClient.getBaseURL()\n+                    + \"derivedSchema/user/list.json\", DerivedSchemaTOs.class);\n+        } catch (SyncopeClientCompositeErrorException e) {\n+        }\n+        return userDerivedSchemas;\n+    }\n+\n+    /**\n+     * Create new user schema.\n+     * @param schemaTO\n+     */\n+    public void createUserSchema(SchemaTO schemaTO) {\n \n-        return attributeSchemas;\n+        restClient.getRestTemplate().postForObject(restClient.getBaseURL() +\n+                \"schema/user/create\", schemaTO, SchemaTO.class);\n     }\n \n-    public List<DerivedSchemaTO> getDerivedAttributesList() {\n-        List<DerivedSchemaTO> derivedAttributeSchemas =\n-                restClient.getRestTemplate().getForObject(restClient.getBaseURL() + \"derivedSchema/role/list.json\", List.class);\n+    /**\n+     * Load an already existent user schema by its name.\n+     * @param name (e.g.:surname)\n+     * @return schemaTO\n+     */\n+    public SchemaTO readUserSchema(String name) {\n+        SchemaTO schema = restClient.getRestTemplate().getForObject(restClient.getBaseURL()\n+                + \"schema/user/read/\" + name + \".json\", SchemaTO.class);\n+        return schema;\n+    }\n+\n+    /**\n+     * Update an already existent user schema.\n+     * @param schemaTO updated\n+     */\n+    public void updateUserSchema(SchemaTO schemaTO) {\n \n-        return derivedAttributeSchemas;\n+       SchemaTO updatedTO = restClient.getRestTemplate().postForObject(restClient.getBaseURL()\n+                + \"schema/user/update\", schemaTO, SchemaTO.class);\n+    }\n+    \n+    /**\n+     * Delete an already existent user schema by its name.\n+     * @param name (e.g.:surname)\n+     * @return schemaTO\n+     */\n+    public void deleteUserSchema(String name) {\n+        restClient.getRestTemplate().delete(restClient.getBaseURL() +\n+                \"schema/user/delete/\" + name + \".json\");\n     }\n \n-    public List<SchemaTO> getUserAttributesList() {\n-        List<SchemaTO> attributeSchemas =\n-                restClient.getRestTemplate().getForObject(restClient.getBaseURL() + \"schema/user/list.json\", List.class);\n+    /**\n+     * Create new derived user schema.\n+     * @param schemaTO\n+     */\n+    public void createUserDerivedSchema(DerivedSchemaTO schemaTO) {\n \n-        return attributeSchemas;\n+        restClient.getRestTemplate().postForObject(restClient.getBaseURL() +\n+                \"derivedSchema/user/create\", schemaTO, DerivedSchemaTO.class);\n     }\n \n-    public List<DerivedSchemaTO> getUserDerivedAttributesList() {\n-        List<DerivedSchemaTO> derivedAttributeSchemas =\n-                restClient.getRestTemplate().getForObject(restClient.getBaseURL() + \"derivedSchema/user/list.json\", List.class);\n+    /**\n+     * Load an already existent user derived schema by its name.\n+     * @param name (e.g.:surname)\n+     * @return DerivedSchemaTO\n+     */\n+    public DerivedSchemaTO readUserDerivedSchema(String name) {\n+        DerivedSchemaTO derivedSchemaTO = restClient.getRestTemplate().getForObject(restClient.getBaseURL()\n+                + \"derivedSchema/user/read/\" + name + \".json\", DerivedSchemaTO.class);\n+        return derivedSchemaTO;\n+    }\n+\n+    /**\n+     * Update an already existent user derived schema.\n+     * @param schemaTO updated\n+     */\n+    public void updateUserDerivedSchema(DerivedSchemaTO schemaTO) {\n \n-        return derivedAttributeSchemas;\n+       DerivedSchemaTO updatedTO = restClient.getRestTemplate().postForObject(restClient.getBaseURL()\n+                + \"derivedSchema/user/update\", schemaTO, DerivedSchemaTO.class);\n+    }\n+\n+    /**\n+     * Delete an already existent user derived schema by its name.\n+     * @param name (e.g.:surname)\n+     * @return schemaTO\n+     */\n+    public void deleteUserDerivedSchema(String name) {\n+        restClient.getRestTemplate().delete(restClient.getBaseURL()\n+                + \"derivedSchema/user/delete/\" + name + \".json\");\n     }\n \n     public RestClient getRestClient() {\n@@ -63,5 +162,122 @@ public RestClient getRestClient() {\n     public void setRestClient(RestClient restClient) {\n         this.restClient = restClient;\n     }\n-    \n-}\n+\n+    /**\n+     * Get all role's schemas.\n+     * @return SchemaTOs\n+     */\n+    public SchemaTOs getAllRoleSchemas() {\n+\n+        SchemaTOs roleSchemas = null;\n+\n+        try {\n+            roleSchemas =\n+                    restClient.getRestTemplate().getForObject(restClient.getBaseURL() + \"schema/role/list.json\", SchemaTOs.class);\n+        } catch (SyncopeClientCompositeErrorException e) {\n+\n+        } catch (RestClientException e) {\n+            e.printStackTrace();\n+        }\n+\n+        return roleSchemas;\n+    }\n+\n+    /**\n+     * Create new user schema.\n+     * @param schemaTO\n+     */\n+    public void createRoleSchema(SchemaTO schemaTO) {\n+\n+        restClient.getRestTemplate().postForObject(restClient.getBaseURL() +\n+                \"schema/role/create\", schemaTO, SchemaTO.class);\n+    }\n+\n+    /**\n+     * Load an already existent user schema by its name.\n+     * @param name (e.g.:surname)\n+     * @return schemaTO\n+     */\n+    public SchemaTO readRoleSchema(String name) {\n+        SchemaTO schema = restClient.getRestTemplate().getForObject(restClient.getBaseURL()\n+                + \"schema/role/read/\" + name + \".json\", SchemaTO.class);\n+        return schema;\n+    }\n+\n+    /**\n+     * Update an already existent user schema.\n+     * @param schemaTO updated\n+     */\n+    public void updateRoleSchema(SchemaTO schemaTO) {\n+\n+       SchemaTO updatedTO = restClient.getRestTemplate().postForObject(restClient.getBaseURL()\n+                + \"schema/role/update\", schemaTO, SchemaTO.class);\n+    }\n+\n+    /**\n+     * Delete an already existent user schema by its name.\n+     * @param name (e.g.:surname)\n+     * @return schemaTO\n+     */\n+    public void deleteRoleSchema(String name) {\n+        restClient.getRestTemplate().delete(restClient.getBaseURL() +\n+                \"schema/role/delete/\" + name + \".json\");\n+    }\n+\n+    /**\n+     * Get all role's derived schemas.\n+     * @return DerivedSchemaTOs\n+     */\n+    public DerivedSchemaTOs getAllRoleDerivedSchemas() {\n+\n+        DerivedSchemaTOs roleDerivedSchemas = null;\n+        try {\n+            roleDerivedSchemas = restClient.getRestTemplate().getForObject(restClient.getBaseURL()\n+                    + \"derivedSchema/role/list.json\", DerivedSchemaTOs.class);\n+        } catch (SyncopeClientCompositeErrorException e) {\n+        }\n+        return roleDerivedSchemas;\n+    }\n+\n+    /**\n+     * Create new user schema.\n+     * @param schemaTO\n+     */\n+    public void createRoleDerivedSchema(DerivedSchemaTO schemaTO) {\n+\n+        restClient.getRestTemplate().postForObject(restClient.getBaseURL() +\n+                \"derivedSchema/role/create\", schemaTO, DerivedSchemaTO.class);\n+    }\n+\n+\n+    /**\n+     * Load an already existent user derived schema by its name.\n+     * @param name (e.g.:surname)\n+     * @return DerivedSchemaTO\n+     */\n+    public DerivedSchemaTO readRoleDerivedSchema(String name) {\n+        DerivedSchemaTO derivedSchemaTO = restClient.getRestTemplate().getForObject(restClient.getBaseURL()\n+                + \"derivedSchema/role/read/\" + name + \".json\", DerivedSchemaTO.class);\n+        return derivedSchemaTO;\n+    }\n+\n+    /**\n+     * Update an already existent user derived schema.\n+     * @param schemaTO updated\n+     */\n+    public void updateRoleDerivedSchema(DerivedSchemaTO schemaTO) {\n+\n+       DerivedSchemaTO updatedTO = restClient.getRestTemplate().postForObject(restClient.getBaseURL()\n+                + \"derivedSchema/role/update\", schemaTO, DerivedSchemaTO.class);\n+    }\n+\n+    /**\n+     * Delete an already existent user derived schema by its name.\n+     * @param name (e.g.:surname)\n+     * @return schemaTO\n+     */\n+    public void deleteRoleDerivedSchema(String name) {\n+        restClient.getRestTemplate().delete(restClient.getBaseURL()\n+                + \"derivedSchema/role/delete/\" + name + \".json\");\n+    }\n+}\n\\ No newline at end of file"},{"sha":"15a56590fb1880d74b3e74f499b602612d184ad5","filename":"console/src/main/java/org/syncope/console/rest/UsersRestClient.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FUsersRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FUsersRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FUsersRestClient.java?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -36,7 +36,8 @@ public Set<UserTO> getUserList() {\n \n     public UserTO getUser() {\n         UserTO userTO =\n-                restClient.getRestTemplate().getForObject(restClient.getBaseURL() + \"user/read/{userId}.json\",\n+                restClient.getRestTemplate().getForObject(restClient.getBaseURL()\n+                + \"user/read/{userId}.json\",\n                 UserTO.class, \"11\");\n         return userTO;\n     }"},{"sha":"f05ab85f9efce6fe894ca4615d82b2e33563d344","filename":"console/src/main/resources/applicationContext.xml","status":"modified","additions":12,"deletions":4,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2FapplicationContext.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2FapplicationContext.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2FapplicationContext.xml?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -16,27 +16,35 @@\n \n     <bean id=\"syncopeApplication\" class=\"org.syncope.console.SyncopeApplication\"/>\n \n-    <bean id=\"objectMapper\" class=\"org.codehaus.jackson.map.ObjectMapper\"/>\n+    <bean id=\"jacksonObjectMapper\" class=\"org.codehaus.jackson.map.ObjectMapper\"/>\n         \n     <bean id=\"mappingJacksonHttpMessageConverter\"\n           class=\"org.springframework.http.converter.json.MappingJacksonHttpMessageConverter\">\n-             <property name=\"objectMapper\" ref=\"objectMapper\"/>\n+        <property name=\"objectMapper\" ref=\"jacksonObjectMapper\"/>\n     </bean>\n \n     <bean id=\"restTemplate\" class=\"org.springframework.web.client.RestTemplate\">\n         <property name=\"messageConverters\" ref=\"mappingJacksonHttpMessageConverter\"/>\n+        <property name=\"errorHandler\">\n+            <bean id=\"syncopeClientErrorHandler\"\n+            class=\"org.syncope.client.validation.SyncopeClientErrorHandler\"/>\n+        </property>\n     </bean>\n \n     <bean id=\"restClient\" class=\"org.syncope.console.rest.RestClient\">\n         <property name=\"restTemplate\" ref=\"restTemplate\"/>\n-        <property name=\"baseURL\" value=\"http://localhost:8080/syncope/\"/>\n+        <property name=\"baseURL\" value=\"http://192.168.0.138:8080/syncope/rest/\"/>\n     </bean>\n \n     <bean id=\"schemaRestClient\" class=\"org.syncope.console.rest.SchemaRestClient\">\n         <property name=\"restClient\" ref=\"restClient\"/>\n     </bean>\n \n+    <bean id=\"connectorsRestClient\" class=\"org.syncope.console.rest.ConnectorsRestClient\">\n+        <property name=\"restClient\" ref=\"restClient\"/>\n+    </bean>\n+\n     <bean id=\"usersRestClient\" class=\"org.syncope.console.rest.UsersRestClient\">\n         <property name=\"restClient\" ref=\"restClient\"/>\n     </bean>\n-</beans>\n+</beans>\n\\ No newline at end of file"},{"sha":"e71ef51ad0ab9ad79b02c543a36a1118dbfd37e6","filename":"console/src/main/resources/org/syncope/console/pages/BasePage.html","status":"modified","additions":3,"deletions":48,"changes":51,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage.html?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -1,3 +1,4 @@\n+<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n <!--\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n@@ -12,7 +13,6 @@\n  limitations under the License.\n  under the License.\n -->\n-<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n <html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"it\" xml:lang=\"it\">\n     <head>\n         <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n@@ -48,8 +48,9 @@\n         <script type=\"text/javascript\">\n             $(function() {\n                 $(\"#tabs\").tabs();\n+            });\n \n-                // a workaround for a flaw in the demo system (http://dev.jqueryui.com/ticket/4375), ignore!\n+             // a workaround for a flaw in the demo system (http://dev.jqueryui.com/ticket/4375), ignore!\n                 $(\"#dialog\").dialog(\"destroy\");\n \n                 var name = $(\"#name\"),\n@@ -90,52 +91,6 @@\n                     }\n \n                 }\n-\n-                $(\"#dialog-form\").dialog({\n-                    autoOpen: false,\n-                    height: 320,\n-                    width: 350,\n-                    modal: true,\n-                    buttons: {\n-                        'Create an account': function() {\n-                            var bValid = true;\n-                            allFields.removeClass('ui-state-error');\n-\n-                            bValid = bValid && checkLength(name,\"username\",3,16);\n-                            bValid = bValid && checkLength(email,\"email\",6,80);\n-                            bValid = bValid && checkLength(password,\"password\",5,16);\n-\n-                            bValid = bValid && checkRegexp(name,/^[a-z]([0-9a-z_])+$/i,\"Username may consist of a-z, 0-9, underscores, begin with a letter.\");\n-                            // From jquery.validate.js (by joern), contributed by Scott Gonzalez: http://projects.scottsplayground.com/email_address_validation/\n-                            bValid = bValid && checkRegexp(email,/^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i,\"eg. ui@jquery.com\");\n-                            bValid = bValid && checkRegexp(password,/^([0-9a-zA-Z])+$/,\"Password field only allow : a-z 0-9\");\n-\n-                            if (bValid) {\n-                                $('#users tbody').append('<tr>' +\n-                                    '<td>' + name.val() + '</td>' +\n-                                    '<td>' + email.val() + '</td>' +\n-                                    '<td>' + password.val() + '</td>' +\n-                                    '</tr>');\n-                                $(this).dialog('close');\n-                            }\n-                        },\n-                        Cancel: function() {\n-                            $(this).dialog('close');\n-                        }\n-                    },\n-                    close: function() {\n-                        allFields.val('').removeClass('ui-state-error');\n-                    }\n-                });\n-\n-\n-\n-                $('#create-user')\n-                .button()\n-                .click(function() {\n-                    $('#dialog-form').dialog('open');\n-                });\n-            });\n         </script>\n     </head>\n     <body>"},{"sha":"a46c6c9d9c4365060815ce958d220d837cdaa880","filename":"console/src/main/resources/org/syncope/console/pages/Connectors.html","status":"modified","additions":47,"deletions":15,"changes":62,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.html?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -12,25 +12,57 @@\n  limitations under the License.\n  under the License.\n -->\n-<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n-    \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n \n-<html\n-    xmlns=\"http://www.w3.org/1999/xhtml\"\n-    xmlns:wicket=\"http://wicket.sourceforge.net/\"\n-    xml:lang=\"en\"\n-    lang=\"en\">\n+        <wicket:extend>\n \n-    <body>\n+            <div id=\"tabs\">\n+                <ul>\n+                    <li class=\"tabs-selected\">\n+                        <a href=\"#tabs-1\"><span><wicket:message key=\"tab1\"/></span></a>\n+                    </li>\n+                </ul>\n+                <div id=\"tabs-1\">\n+                    <div id=\"users-contain\" class=\"ui-widget\">\n \n-        <wicket:extend>\n+                        <h1><wicket:message key=\"existing_connectors\"/></h1>\n \n-            <p>\n-                Users\n-            </p>\n+                        <table id=\"connectors\" class=\"ui-widget ui-widget-content\" wicket:id=\"connectorsContainer\">\n+                            <thead>\n+                                <tr class=\"ui-widget-header\">\n+                                    <th><wicket:message key=\"name\"/></th>\n+                                    <th><wicket:message key=\"version\"/></th>\n+                                    <th><wicket:message key=\"bundleName\"/></th>\n+                                    <th><wicket:message key=\"edit\"/></th>\n+                                    <th><wicket:message key=\"delete\"/></th>\n+                                </tr>\n+                            </thead>\n+                            <tbody>\n+                                <tr wicket:id=\"connectors\" >\n+                                    <td><span wicket:id=\"name\">[label name]</span></td>\n+                                    <td><span wicket:id=\"version\">[label version]</span></td>\n+                                    <td><span wicket:id=\"bundleName\">[label bundle-name]</span></td>\n+                                    <td>\n+                                        <a href=\"#\" wicket:id=\"editLink\">\n+                                            <wicket:message key=\"edit\"/>\n+                                        </a>\n+                                    </td>\n+                                    <td>\n+                                        <a href=\"#\" wicket:id=\"deleteLink\">\n+                                            <wicket:message key=\"delete\"/>\n+                                        </a>\n+                                    </td>\n+                                </tr>\n+                            </tbody>\n+                        </table>\n+                    </div>\n \n-        </wicket:extend>\n+                    <div wicket:id=\"createConnectorWin\">[Show modal window for creating connector]</div>\n+                    <div wicket:id=\"editConnectorWin\">[Show modal window for editing connector]</div>\n \n-    </body>\n+                   <a wicket:id=\"createConnectorLink\">\n+                        <wicket:message key=\"create-link\"/>\n+                    </a>\n+                </div>\n+            </div>\n \n-</html>\n\\ No newline at end of file\n+        </wicket:extend>\n\\ No newline at end of file"},{"sha":"2ead7247166df24845893efe54615fd02668bb0c","filename":"console/src/main/resources/org/syncope/console/pages/Connectors.properties","status":"added","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.properties?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -0,0 +1,8 @@\n+tab1=Connectors\n+name=Name\n+version=Version\n+bundleName=Bundle name\n+edit=Edit\n+delete=Delete\n+existing_connectors=Existing connectors\n+create-link=Create new connector"},{"sha":"ec5a7221339b0458f6e5715deae61cc670fcf13c","filename":"console/src/main/resources/org/syncope/console/pages/ConnectorsModalPage.html","status":"added","additions":77,"deletions":0,"changes":77,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorsModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorsModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorsModalPage.html?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -0,0 +1,77 @@\n+<!--\n+ Licensed under the Apache License, Version 2.0 (the \"License\");\n+ you may not use this file except in compliance with the License.\n+ You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+ Unless required by applicable law or agreed to in writing, software\n+ distributed under the License is distributed on an \"AS IS\" BASIS,\n+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ See the License for the specific language governing permissions and\n+ limitations under the License.\n+ under the License.\n+-->\n+<html>\n+    <head>\n+        <title>Syncope - Connectors</title>\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.button.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.core.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.dialog.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.resizable.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.tabs.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.theme.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/stile_sy.css\" media=\"all\" />\n+        <link rel=\"shortcut icon\" href=\"img/favicon.png\" type=\"image/png\" />\n+        <link rel=\"stylesheet\" href=\"css/ui.tabs.css\" type=\"text/css\" media=\"all\"/>\n+        <link rel=\"stylesheet\" href=\"css/stile_sy.css\" type=\"text/css\" media=\"all\"/>\n+\n+        <script type=\"text/javascript\" src=\"scripts/jquery-1.4.2.min.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.core.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.widget.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.mouse.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.button.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.draggable.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.position.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.resizable.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.dialog.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.tabs.js\"></script>\n+    </head>\n+    <body>\n+\n+        <div id=\"dialog-form\" title=\"Create new Connector\">\n+\n+            <form wicket:id=\"ConnectorForm\">\n+                <div wicket:id=\"feedback\" style=\"color:red;padding:5px\"/>\n+                <fieldset>\n+\n+                    <label for=\"bundleName\"><wicket:message key=\"bundleName\"/></label>\n+                    <select id=\"bundle\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"bundle\" />\n+\n+                   \n+                        <label for=\"name\"><wicket:message key=\"name\"/></label>\n+                        <input type=\"text\" id=\"name\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"connectorName\" />\n+\n+                        <label for=\"version\"><wicket:message key=\"version\"/></label>\n+                        <input type=\"text\" id=\"version\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"version\" />\n+                   \n+\n+                    <div wicket:id=\"propertiesContainer\">\n+                        <div wicket:id=\"connectorProperties\">\n+                            <span wicket:id=\"key\"/>\n+                            <input type=\"text\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"value\" />\n+                        </div>\n+                    </div>\n+\n+                    <!--label for=\"endpoint\"><wicket:message key=\"endpoint\"/></label>\n+                    <input type=\"text\" id=\"endpoint\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"endpoint\" />\n+\n+                    <label for=\"serviceName\"><wicket:message key=\"serviceName\"/></label>\n+                    <input type=\"text\" id=\"serviceName\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"serviceName\" /-->\n+\n+                    <input type=\"submit\" wicket:id=\"submit\"/>\n+                </fieldset>\n+            </form>\n+        </div>\n+    </body>\n+</html>\n\\ No newline at end of file"},{"sha":"49772445d16a3b3010b2682d692dee278e10590d","filename":"console/src/main/resources/org/syncope/console/pages/ConnectorsModalPage.properties","status":"added","additions":10,"deletions":0,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorsModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorsModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorsModalPage.properties?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -0,0 +1,10 @@\n+name=Name\n+bundleName=Bundle name\n+version=Version\n+action=Action\n+edit=Edit\n+edit_attribute=Edit attribute\n+submit=Save\n+serviceName=Service name\n+endpoint=Endpoint\n+error=Error"},{"sha":"f38a6a250d9724b73cb0dacc793dd6a20d2e96bf","filename":"console/src/main/resources/org/syncope/console/pages/ConnectorsModalPage_it.properties","status":"added","additions":10,"deletions":0,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorsModalPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorsModalPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorsModalPage_it.properties?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -0,0 +1,10 @@\n+name=Nome\n+bundleName=Bundle name\n+version=Versione\n+action=Azione\n+edit=Edit\n+edit_attribute=Edit attribute\n+submit=Salvataggio\n+serviceName=Nome servizio\n+endpoint=Endpoint\n+error=Errore"},{"sha":"91a4f451b310667fdf6532d85f1f3834511857e6","filename":"console/src/main/resources/org/syncope/console/pages/Connectors_it.properties","status":"added","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors_it.properties?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -0,0 +1,8 @@\n+tab1=Connettori\n+existing_connectors=Connettori esistenti\n+create-link=Crea nuovo connettore\n+name=Nome\n+version=Versione\n+bundleName=Bundle name\n+edit=Modifica\n+delete=Elimina"},{"sha":"6b98c5163fae90039ae9f8e9f8ac950c270e5d13","filename":"console/src/main/resources/org/syncope/console/pages/DerivedSchemaModalPage.html","status":"added","additions":45,"deletions":0,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.html?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -0,0 +1,45 @@\n+<html>\n+    <head>\n+        <title>Syncope - Schema</title>\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.button.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.core.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.dialog.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.resizable.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.tabs.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.theme.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/stile_sy.css\" media=\"all\" />\n+        <link rel=\"shortcut icon\" href=\"img/favicon.png\" type=\"image/png\" />\n+        <link rel=\"stylesheet\" href=\"css/ui.tabs.css\" type=\"text/css\" media=\"all\"/>\n+        <link rel=\"stylesheet\" href=\"css/stile_sy.css\" type=\"text/css\" media=\"all\"/>\n+\n+        <script type=\"text/javascript\" src=\"scripts/jquery-1.4.2.min.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.core.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.widget.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.mouse.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.button.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.draggable.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.position.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.resizable.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.dialog.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.tabs.js\"></script>\n+    </head>\n+    <body>\n+\n+        <div id=\"dialog-form\" title=\"Create new attribute\">\n+\n+        <form wicket:id=\"SchemaForm\">\n+            <div wicket:id=\"feedback\" style=\"color:red;padding:5px\"/>\n+            <fieldset>\n+\n+                <label for=\"name\"><wicket:message key=\"name\"/></label>\n+                <input type=\"text\" id=\"name\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"name\" />\n+                <label for=\"expression\"><wicket:message key=\"expression\"/></label>\n+                <input type=\"text\" id=\"expression\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"expression\" />\n+                <input type=\"submit\" wicket:id=\"submit\"/>\n+\n+            </fieldset>\n+        </form>\n+    </div>\n+\n+</body>\n+</html>\n\\ No newline at end of file"},{"sha":"de977dd49457e502dbadf4bf471c33ec892e4dd1","filename":"console/src/main/resources/org/syncope/console/pages/DerivedSchemaModalPage.properties","status":"added","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.properties?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -0,0 +1,8 @@\n+create_attribute=Create new attribute\n+required_alert=All form fields are required.\n+name=Name\n+expression=Expression\n+existing_schemas=Existing Schemas:\n+edit_attribute=Edit attribute\n+attributes=Derived attributes\n+submit=Save\n\\ No newline at end of file"},{"sha":"e77783ce0b9168eeb19bf58efb0fa6d38b453539","filename":"console/src/main/resources/org/syncope/console/pages/DerivedSchemaModalPage_it.properties","status":"added","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage_it.properties?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -0,0 +1,8 @@\n+create_attribute=Crea nuovo attributo\n+required_alert=Tutti i campi sono richiesti.\n+name=Nome\n+expression=Expression\n+existing_schemas=Schemi presenti:\n+edit_attribute=Modifica attributo\n+attributes=Attributi derivati\n+submit=Salva\n\\ No newline at end of file"},{"sha":"6cb8c4ed31d674dae9e214ce52f0b4091dbfade2","filename":"console/src/main/resources/org/syncope/console/pages/Schema.html","status":"modified","additions":174,"deletions":5,"changes":179,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.html?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -25,25 +25,194 @@\n \n         <wicket:extend>\n \n+            <!--script type=\"text/javascript\">\n+                $(document).ready(\n+                function() {\n+\n+                //var tabId = document.forms[0].elements['tabId'].value;\n+                var tabId = document.getElementById(\"tabId\");\n+                $('#tabs').tabs('select',parseInt(tabId.innerHTML));\n+\n+                });\n+            </script>\n+            <span style=\"visibility:collapse;\" wicket:id=\"tabId\" id=\"tabId\"/-->\n             <div id=\"tabs\">\n-                <!--<ul class=\"ui-tabs-nav\">-->\n                 <ul>\n                     <li class=\"tabs-selected\"><a href=\"#tabs-1\"><span><wicket:message key=\"tab1\"/></span></a></li>\n                     <li><a href=\"#tabs-2\"><span><wicket:message key=\"tab2\"/></span></a></li>\n                     <li><a href=\"#tabs-3\"><span><wicket:message key=\"tab3\"/></span></a></li>\n                     <li><a href=\"#tabs-4\"><span><wicket:message key=\"tab4\"/></span></a></li>\n                 </ul>\n                 <div id=\"tabs-1\">\n-                    <div wicket:id=\"userAttributesList\" />\n+\n+                    <div id=\"users-contain\" class=\"ui-widget\">\n+\n+                        <h1><wicket:message key=\"existing_schemas\"/></h1>\n+\n+                        <table id=\"roleSchemas\" class=\"ui-widget ui-widget-content\" wicket:id=\"roleSchemasContainer\">\n+                            <thead>\n+                                <tr class=\"ui-widget-header \">\n+                                    <th><wicket:message key=\"name\"/></th>\n+                                    <th><wicket:message key=\"type\"/></th>\n+                                    <th><wicket:message key=\"attributes\"/></th>\n+                                    <th><wicket:message key=\"edit\"/></th>\n+                                    <th><wicket:message key=\"delete\"/></th>\n+                                </tr>\n+                            </thead>\n+                            <tbody>\n+                                <tr wicket:id=\"roleSchemas\" >\n+                                    <td><span wicket:id=\"name\">[label name]</span></td>\n+                                    <td><span wicket:id=\"type\">[label type]</span></td>\n+                                    <td><span wicket:id=\"attributes\">[label attributes]</span></td>\n+                                    <td>\n+                                        <a href=\"#\" wicket:id=\"editLink\">\n+                                            <wicket:message key=\"edit\"/>\n+                                        </a>\n+                                    </td>\n+                                    <td>\n+                                        <a href=\"#\" wicket:id=\"deleteLink\">\n+                                            <wicket:message key=\"delete\"/>\n+                                        </a>\n+                                    </td>\n+                                </tr>\n+                            </tbody>\n+                        </table>\n+                    </div>\n+\n+                    <div wicket:id=\"createRoleSchemaWin\">[Show modal window for creating schema]</div>\n+                    <div wicket:id=\"editRoleSchemaWin\">[Show modal window for editing schema]</div>\n+\n+                   <a wicket:id=\"createRoleSchemaWinLink\">\n+                        <wicket:message key=\"create_attribute\"/>\n+                    </a>\n                 </div>\n                 <div id=\"tabs-2\">\n-                    <div wicket:id=\"userDerivedAttributesList\" />\n+\n+                    <div id=\"users-contain\" class=\"ui-widget\">\n+\n+                        <h1><wicket:message key=\"existing_schemas\"/></h1>\n+\n+                        <table id=\"roleSchemas\" class=\"ui-widget ui-widget-content\" wicket:id=\"roleDerivedSchemasContainer\">\n+                            <thead>\n+                                <tr class=\"ui-widget-header \">\n+                                    <th><wicket:message key=\"name\"/></th>\n+                                    <th><wicket:message key=\"expression\"/></th>\n+                                    <th><wicket:message key=\"attributes\"/></th>\n+                                    <th><wicket:message key=\"edit\"/></th>\n+                                    <th><wicket:message key=\"delete\"/></th>\n+                                </tr>\n+                            </thead>\n+                            <tbody>\n+                                <tr wicket:id=\"roleDerivedSchemas\" >\n+                                     <td><span wicket:id=\"name\">[label name]</span></td>\n+                                    <td><span wicket:id=\"expression\">[label expression]</span></td>\n+                                    <td><span wicket:id=\"attributes\">[label attributes]</span></td>\n+                                    <td>\n+                                        <a href=\"#\" wicket:id=\"editLink\">\n+                                            <wicket:message key=\"edit\"/>\n+                                        </a>\n+                                    </td>\n+                                    <td>\n+                                        <a href=\"#\" wicket:id=\"deleteLink\">\n+                                            <wicket:message key=\"delete\"/>\n+                                        </a>\n+                                    </td>\n+                                </tr>\n+                            </tbody>\n+                        </table>\n+                    </div>\n+\n+                    <div wicket:id=\"createRoleDerivedSchemaWin\">[Show modal window for creating schema]</div>\n+                    <div wicket:id=\"editRoleDerivedSchemaWin\">[Show modal window for editing schema]</div>\n+\n+                   <a wicket:id=\"createRoleDerivedSchemaWinLink\">\n+                        <wicket:message key=\"create_attribute\"/>\n+                    </a>\n+\n                 </div>\n                 <div id=\"tabs-3\">\n-                    <div wicket:id=\"attributesList\" />\n+                \n+                    <div id=\"users-contain\" class=\"ui-widget\">\n+                        <h1><wicket:message key=\"existing_schemas\"/></h1>\n+                        <!--div wicket:id=\"feedbackUserSchema\"/-->\n+                        <table id=\"users\" class=\"ui-widget ui-widget-content\" wicket:id=\"userSchemaContainer\">\n+                            <thead>\n+                                <tr class=\"ui-widget-header \">\n+                                    <th><wicket:message key=\"name\"/></th>\n+                                    <th><wicket:message key=\"type\"/></th>\n+                                    <th><wicket:message key=\"attributes\"/></th>\n+                                    <th><wicket:message key=\"edit\"/></th>\n+                                    <th><wicket:message key=\"delete\"/></th>\n+                                </tr>\n+                            </thead>\n+                            <tbody>\n+                                <tr wicket:id=\"userSchemas\" >\n+                                    <td><span wicket:id=\"name\">[label name]</span></td>\n+                                    <td><span wicket:id=\"type\">[label type]</span></td>\n+                                    <td><span wicket:id=\"attributes\">[label attributes]</span></td>\n+                                    <td>\n+                                        <a href=\"#\" wicket:id=\"editLink\">\n+                                            <wicket:message key=\"edit\"/>\n+                                        </a>\n+                                    </td>\n+                                    <td>\n+                                        <a href=\"#\" wicket:id=\"deleteLink\">\n+                                            <wicket:message key=\"delete\"/>\n+                                        </a>\n+                                    </td>\n+                                </tr>\n+                            </tbody>\n+                        </table>\n+                    </div>\n+\n+                    <div wicket:id=\"createUserSchemaWin\">[Show modal window for creating schema]</div>\n+                    <div wicket:id=\"editUserSchemaWin\">[Show modal window for editing schema]</div>\n+\n+                    <a wicket:id=\"createUserSchemaWinLink\">\n+                        <wicket:message key=\"create_attribute\"/>\n+                    </a>\n+\n                 </div>\n                 <div id=\"tabs-4\">\n-                    <div wicket:id=\"derivedAttributesList\" />\n+                     <div id=\"users-contain\" class=\"ui-widget\">\n+\n+                        <h1><wicket:message key=\"existing_schemas\"/></h1>\n+\n+                        <table id=\"users\" class=\"ui-widget ui-widget-content\" wicket:id=\"userDerivedSchemaContainer\">\n+                            <thead>\n+                                <tr class=\"ui-widget-header \">\n+                                    <th><wicket:message key=\"name\"/></th>\n+                                    <th><wicket:message key=\"expression\"/></th>\n+                                    <th><wicket:message key=\"attributes\"/></th>\n+                                    <th><wicket:message key=\"edit\"/></th>\n+                                    <th><wicket:message key=\"delete\"/></th>\n+                                </tr>\n+                            </thead>\n+                            <tbody>\n+                                <tr wicket:id=\"userDerivedSchemas\" >\n+                                    <td><span wicket:id=\"name\">[label name]</span></td>\n+                                    <td><span wicket:id=\"expression\">[label expression]</span></td>\n+                                    <td><span wicket:id=\"attributes\">[label attributes]</span></td>\n+                                    <td>\n+                                        <a href=\"#\" wicket:id=\"editLink\">\n+                                            <wicket:message key=\"edit\"/>\n+                                        </a>\n+                                    </td>\n+                                    <td>\n+                                        <a href=\"#\" wicket:id=\"deleteLink\">\n+                                            <wicket:message key=\"delete\"/>\n+                                        </a>\n+                                    </td>\n+                                </tr>\n+                            </tbody>\n+                        </table>\n+                    </div>\n+                    <div wicket:id=\"createUserDerSchemaWin\">[Show modal window for creating schema]</div>\n+                    <div wicket:id=\"editUserDerSchemaWin\">[Show modal window for editing schema]</div>\n+\n+                     <a wicket:id=\"createUserDerSchemaLink\">\n+                        <wicket:message key=\"create_attribute\"/>\n+                    </a>\n                 </div>\n             </div>\n "},{"sha":"6af8a249962e62843137c75f41e134ea34595982","filename":"console/src/main/resources/org/syncope/console/pages/Schema.properties","status":"modified","additions":14,"deletions":0,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.properties?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -2,3 +2,17 @@ tab1=Attributes\n tab2=Derived attributes\n tab3=User attributes\n tab4=User derived attributes\n+create_attribute=Crea nuovo attributo\n+required_alert=Tutti i campi sono richiesti.\n+mandatory=Obbligatorio\n+multivalue=Multivalore\n+virtual=Virtuale\n+name=Nome\n+type=Tipo\n+validatorClass=Validator class\n+conversionPattern=Pattern di conversione\n+existing_schemas=Schemi presenti:\n+edit=Modifica\n+delete=Elimina\n+attributes=Attributes\n+expression=Expression"},{"sha":"5804d25442e33437e69a60a3ab6fa84c9bc86ac5","filename":"console/src/main/resources/org/syncope/console/pages/SchemaModalPage.html","status":"added","additions":67,"deletions":0,"changes":67,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.html?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -0,0 +1,67 @@\n+<!--\n+ Licensed under the Apache License, Version 2.0 (the \"License\");\n+ you may not use this file except in compliance with the License.\n+ You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+ Unless required by applicable law or agreed to in writing, software\n+ distributed under the License is distributed on an \"AS IS\" BASIS,\n+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ See the License for the specific language governing permissions and\n+ limitations under the License.\n+ under the License.\n+-->\n+<html>\n+    <head>\n+        <title>Syncope - Schema</title>\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.button.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.core.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.dialog.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.resizable.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.tabs.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.theme.css\" />\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/stile_sy.css\" media=\"all\" />\n+        <link rel=\"shortcut icon\" href=\"img/favicon.png\" type=\"image/png\" />\n+        <link rel=\"stylesheet\" href=\"css/ui.tabs.css\" type=\"text/css\" media=\"all\"/>\n+        <link rel=\"stylesheet\" href=\"css/stile_sy.css\" type=\"text/css\" media=\"all\"/>\n+\n+        <script type=\"text/javascript\" src=\"scripts/jquery-1.4.2.min.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.core.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.widget.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.mouse.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.button.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.draggable.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.position.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.resizable.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.dialog.js\"></script>\n+        <script type=\"text/javascript\" src=\"scripts/jquery.ui.tabs.js\"></script>\n+    </head>\n+    <body>\n+\n+        <div id=\"dialog-form\" title=\"Create new Schema\">\n+\n+        <form wicket:id=\"SchemaForm\">\n+            <div wicket:id=\"feedback\" style=\"color:red;padding:5px\"/>\n+            <fieldset>\n+                <label for=\"name\"><wicket:message key=\"name\"/></label>\n+                <input type=\"text\" id=\"name\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"name\" />\n+                <label for=\"conversionPattern\"><wicket:message key=\"conversionPattern\"/></label>\n+                <input type=\"text\" id=\"conversionPattern\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"conversionPattern\" />\n+                <label for=\"validatorClass\"><wicket:message key=\"validatorClass\"/></label>\n+                <select id=\"validatorClass\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"validatorClass\"/>\n+                <label for=\"type\"><wicket:message key=\"type\"/></label>\n+                <select id=\"type\"  class=\"text ui-widget-content ui-corner-all\" wicket:id=\"type\"/>\n+                <label for=\"mandatory\"><wicket:message key=\"mandatory\"/></label>\n+                <span id=\"mandatory\" wicket:id=\"mandatory\"/>\n+                <label for=\"virtual\"><wicket:message key=\"virtual\"/></label>\n+                <span id=\"virtual\" wicket:id=\"virtual\"/>\n+                <label for=\"multivalue\"><wicket:message key=\"multivalue\"/></label>\n+                <span id=\"multivalue\" wicket:id=\"multivalue\"/>\n+                <input type=\"submit\" wicket:id=\"submit\"/>\n+\n+            </fieldset>\n+        </form>\n+    </div>\n+</body>\n+</html>\n\\ No newline at end of file"},{"sha":"2602123076cbb7bf731b7a666cb094d3cbf34215","filename":"console/src/main/resources/org/syncope/console/pages/SchemaModalPage.properties","status":"added","additions":17,"deletions":0,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.properties?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -0,0 +1,17 @@\n+tab1=Attributes\n+tab2=Derived attributes\n+tab3=User attributes\n+tab4=User derived attributes\n+create_attribute=Create new attribute\n+required_alert=All form fields are required.\n+mandatory=Required\n+multivalue=multivalue\n+virtual=Virtual\n+name=Name\n+type=Type\n+validatorClass=Validator class\n+conversionPattern=Conversion pattern\n+existing_schemas=Existing Schemas:\n+action=Action\n+edit_attribute=Edit attribute\n+submit=Save"},{"sha":"4f7653568835092ee5f8ba6db82323b03d886376","filename":"console/src/main/resources/org/syncope/console/pages/SchemaModalPage_it_1.properties","status":"added","additions":17,"deletions":0,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage_it_1.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage_it_1.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage_it_1.properties?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -0,0 +1,17 @@\n+tab1=Attributi\n+tab2=Attributi derivati\n+tab3=Attributi utenti\n+tab4=Attributi utenti derivati\n+create_attribute=Crea nuovo attributo\n+required_alert=Tutti i campi sono richiesti.\n+mandatory=Obbligatorio\n+multivalue=Multivalore\n+virtual=Virtuale\n+name=Nome\n+type=Tipo\n+validatorClass=Validator class\n+conversionPattern=Pattern di conversione\n+existing_schemas=Schemi presenti:\n+action=Azione\n+edit_attribute=Modifica attributo\n+submit=Invia\n\\ No newline at end of file"},{"sha":"ce14ccd65058b2ea9e23267325e41579f99d9aea","filename":"console/src/main/resources/org/syncope/console/pages/Schema_it.properties","status":"modified","additions":14,"deletions":0,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema_it.properties?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -2,3 +2,17 @@ tab1=Attributi\n tab2=Attributi derivati\n tab3=Attributi utenti\n tab4=Attributi utenti derivati\n+create_attribute=Crea nuovo attributo\n+required_alert=Tutti i campi sono richiesti.\n+mandatory=Obbligatorio\n+multivalue=Multivalore\n+virtual=Virtuale\n+name=Nome\n+type=Tipo\n+validatorClass=Validator class\n+conversionPattern=Pattern di conversione\n+existing_schemas=Schemi presenti:\n+edit=Modifica\n+delete=Elimina\n+attributes=Attributi\n+expression=Expression"},{"sha":"a015712a96822589773f88c888a9f530573fa6b7","filename":"console/src/main/resources/org/syncope/console/pages/Users.html","status":"modified","additions":55,"deletions":3,"changes":58,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.html?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -24,6 +24,58 @@\n     <body>\n \n         <wicket:extend>\n+\n+            <script type=\"text/javascript\">\n+            $(document).ready(\n+            function(){\n+                $(\"#dialog-form\").dialog({\n+                    autoOpen: false,\n+                    height: 320,\n+                    width: 350,\n+                    modal: true,\n+                    buttons: {\n+                        'Create an account': function() {\n+                            var bValid = true;\n+                            allFields.removeClass('ui-state-error');\n+\n+                            bValid = bValid && checkLength(name,\"username\",3,16);\n+                            bValid = bValid && checkLength(email,\"email\",6,80);\n+                            bValid = bValid && checkLength(password,\"password\",5,16);\n+\n+                            bValid = bValid && checkRegexp(name,/^[a-z]([0-9a-z_])+$/i,\"Username may consist of a-z, 0-9, underscores, begin with a letter.\");\n+                            // From jquery.validate.js (by joern), contributed by Scott Gonzalez: http://projects.scottsplayground.com/email_address_validation/\n+                            bValid = bValid && checkRegexp(email,/^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i,\"eg. ui@jquery.com\");\n+                            bValid = bValid && checkRegexp(password,/^([0-9a-zA-Z])+$/,\"Password field only allow : a-z 0-9\");\n+\n+                            if (bValid) {\n+                                $('#users tbody').append('<tr>' +\n+                                    '<td>' + name.val() + '</td>' +\n+                                    '<td>' + email.val() + '</td>' +\n+                                    '<td>' + password.val() + '</td>' +\n+                                    '</tr>');\n+                                $(this).dialog('close');\n+                            }\n+                            submit();\n+                        },\n+                        Cancel: function() {\n+                            $(this).dialog('close');\n+                        }\n+                    },\n+                    close: function() {\n+                        allFields.val('').removeClass('ui-state-error');\n+                    }\n+                });\n+\n+\n+                $('#create-user')\n+                .button()\n+                .click(function() {\n+                    $('#dialog-form').dialog('open');\n+                });\n+\n+                });\n+            </script>\n+\n             <div id=\"tabs\">\n                 <ul>\n                     <li  class=\"tabs-selected\"><a href=\"#tabs-1\"><span><wicket:message key=\"tab1\"/></span></a></li>\n@@ -69,10 +121,10 @@ <h1>Existing Users:</h1>\n                             </tbody>\n                         </table>\n                     </div>\n-                    <!--<input type=\"button\"  wicket:id=\"newUserBtn\"/>-->\n-                    <button id=\"create-user\">Create new user</button>\n+                    <button id=\"create-user\">\n+                        <wicket:message key=\"create_user\"/>\n+                    </button>\n                     <!-- end added modal form-->\n-\n                 </div>\n                 <div id=\"tabs-2\">\n                     <div id=\"searchBox\">"},{"sha":"f80327cec9e3a5323206d7632d88927ee19a33a3","filename":"console/src/main/resources/org/syncope/console/pages/Users.properties","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.properties?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -7,4 +7,4 @@ search=Search\n name=Name\n surname=Surname\n email=E-Mail\n-newUserBtn=New user\n+create_user=Create new user"},{"sha":"e9f71403e9373d6ebb0848f7a0e36e086a1040ee","filename":"console/src/main/resources/org/syncope/console/pages/Users_it.properties","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers_it.properties?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -7,4 +7,4 @@ search=Ricerca\n name=Nome\n surname=Cognome\n email=E-Mail\n-newUserBtn=Nuovo utente\n+create_user=Crea nuovo utente"},{"sha":"e06e3dcd120d46c9023b32ba22900b7d5c462aa9","filename":"console/src/main/webapp/css/stile_sy.css","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstile_sy.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstile_sy.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstile_sy.css?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -168,6 +168,7 @@ body {\n /* MODAL-FORM */\n div#dialog-form label, div#dialog-form input { display:block; }\n div#dialog-form input.text { margin-bottom:12px; width:95%; padding: .4em; }\n+div#dialog-form input.radio { margin-bottom:12px; width:95%; padding: .4em; display:inline }\n div#dialog-form fieldset { padding:0; border:0; margin-top:25px; }\n div#users-contain { width: 350px; margin: 20px 0; }\n div#users-contain table { margin: 1em 0; border-collapse: collapse; width: 100%; }"},{"sha":"76911d4dad555f10d87027285af57f1d4b3a96a3","filename":"pom.xml","status":"modified","additions":9,"deletions":3,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3f5af720e6fa63313f76f81b8ece6ec07a94365a/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3f5af720e6fa63313f76f81b8ece6ec07a94365a/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=3f5af720e6fa63313f76f81b8ece6ec07a94365a","patch":"@@ -114,12 +114,12 @@\n \n         <org.springframework.version>3.0.3.RELEASE</org.springframework.version>\n         <cglib.version>2.2</cglib.version>\n-        <jackson.version>1.5.2</jackson.version>\n+        <jackson.version>1.5.3</jackson.version>\n         <xstream.version>1.3.1</xstream.version>\n \n         <hibernate.version>3.4.0.GA</hibernate.version>\n \n-        <wicket.version>1.4.7</wicket.version>\n+        <wicket.version>1.4.9</wicket.version>\n \n         <commons-logging.version>1.1.1</commons-logging.version>\n         <log4j.version>1.2.16</log4j.version>\n@@ -301,6 +301,12 @@\n                 <version>${wicket.version}</version>\n             </dependency>\n \n+            <dependency>\n+                <groupId>org.apache.wicket</groupId>\n+                <artifactId>wicket-extensions</artifactId>\n+                <version>${wicket.version}</version>\n+            </dependency>\n+\n             <dependency>\n                 <groupId>org.apache.wicket</groupId>\n                 <artifactId>wicket-spring</artifactId>\n@@ -503,4 +509,4 @@\n         <module>identityconnectors</module>\n     </modules>\n \n-</project>\n+</project>\n\\ No newline at end of file"}]}
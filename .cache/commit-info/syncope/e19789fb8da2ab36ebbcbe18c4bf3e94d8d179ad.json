{"sha":"e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad","node_id":"C_kwDOJfYA1toAKGUxOTc4OWZiOGRhMmFiMzZlYmJjYmUxOGM0YmYzZTk0ZDhkMTc5YWQ","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2023-03-31T14:17:56Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2023-03-31T14:21:39Z"},"message":"Archetype refinements","tree":{"sha":"ae8e7f87fce367643bd8db58a62e2591d05a8b00","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/ae8e7f87fce367643bd8db58a62e2591d05a8b00"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"48e48846ed8d308c13874e9dc7624c376e9d214a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/48e48846ed8d308c13874e9dc7624c376e9d214a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/48e48846ed8d308c13874e9dc7624c376e9d214a"}],"stats":{"total":45,"additions":22,"deletions":23},"files":[{"sha":"16e1d9e0e1404e246706ba82b70e823e83a397aa","filename":"archetype/src/main/resources/archetype-resources/common/pom.xml","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcommon%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcommon%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcommon%2Fpom.xml?ref=e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad","patch":"@@ -38,6 +38,10 @@ under the License.\n       <groupId>org.apache.syncope.common.idm</groupId>\n       <artifactId>syncope-common-idm-lib</artifactId>\n     </dependency>\n+    <dependency>\n+      <groupId>org.apache.syncope.common.am</groupId>\n+      <artifactId>syncope-common-am-lib</artifactId>\n+    </dependency>\n \n   </dependencies>\n   "},{"sha":"ca0a693f0ed4e38d647125fc94fa7b3f22bc44aa","filename":"archetype/src/main/resources/archetype-resources/console/pom.xml","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fconsole%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fconsole%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fconsole%2Fpom.xml?ref=e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad","patch":"@@ -121,8 +121,8 @@ under the License.\n     </profile>\n     \n     <profile>\n-      <id>executable</id>\n-      \n+      <id>standalone</id>\n+\n       <dependencies>\n         <dependency>\n           <groupId>org.springframework.boot</groupId>"},{"sha":"13e2b72dbce8e648849524931657d5a6c8a08161","filename":"archetype/src/main/resources/archetype-resources/core/pom.xml","status":"modified","additions":1,"deletions":10,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcore%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcore%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcore%2Fpom.xml?ref=e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad","patch":"@@ -168,16 +168,7 @@ under the License.\n     </profile>\n     \n     <profile>\n-      <!--\n-      This profile builds an executable war file.\n-      In order for the app to run, it is necessary to include the conf directory and the JDBC driver in the runtime\n-      classpath; according to official docs [1] this can be achieved by setting the LOADER_PATH env variable as follows:\n-      \n-      export LOADER_PATH=/path/to/conf/dir,/path/to/jdbc-driver.jar\n-      \n-      [1] https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html\n-      -->\n-      <id>executable</id>\n+      <id>standalone</id>\n       \n       <dependencies>\n         <dependency>"},{"sha":"d9bf3513bbe48512c4105cf8dc6eab03733532d6","filename":"archetype/src/main/resources/archetype-resources/enduser/pom.xml","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fenduser%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fenduser%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fenduser%2Fpom.xml?ref=e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad","patch":"@@ -148,8 +148,8 @@ under the License.\n     </profile>\n     \n     <profile>\n-      <id>executable</id>\n-      \n+      <id>standalone</id>\n+\n       <dependencies>\n         <dependency>\n           <groupId>org.springframework.boot</groupId>"},{"sha":"49caf5ed88b091273b45a84e2e618dbde234bb56","filename":"archetype/src/main/resources/archetype-resources/wa/pom.xml","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fwa%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fwa%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fwa%2Fpom.xml?ref=e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad","patch":"@@ -106,8 +106,8 @@ under the License.\n \n   <profiles>\n     <profile>\n-      <id>executable</id>\n-      \n+      <id>standalone</id>\n+\n       <dependencies>\n         <dependency>\n           <groupId>org.springframework.boot</groupId>"},{"sha":"a441d69225a4a9eed5ed438a3a55b226b4068faa","filename":"archetype/src/main/resources/meta-pom.xml","status":"modified","additions":6,"deletions":1,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad/archetype%2Fsrc%2Fmain%2Fresources%2Fmeta-pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad/archetype%2Fsrc%2Fmain%2Fresources%2Fmeta-pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Fmeta-pom.xml?ref=e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad","patch":"@@ -56,7 +56,12 @@ under the License.\n         <artifactId>syncope-common-idm-lib</artifactId>\n         <version>${syncope.version}</version>\n       </dependency>\n-      \n+      <dependency>\n+        <groupId>org.apache.syncope.common.am</groupId>\n+        <artifactId>syncope-common-am-lib</artifactId>\n+        <version>${syncope.version}</version>\n+      </dependency>\n+\n       <dependency>\n         <groupId>org.apache.syncope.core</groupId>\n         <artifactId>syncope-core-starter</artifactId>"},{"sha":"5ae020c58ba8173c5214ed786f152cbf56969955","filename":"src/main/asciidoc/reference-guide/configuration/deployment.adoc","status":"modified","additions":5,"deletions":6,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconfiguration%2Fdeployment.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconfiguration%2Fdeployment.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconfiguration%2Fdeployment.adoc?ref=e19789fb8da2ab36ebbcbe18c4bf3e94d8d179ad","patch":"@@ -46,26 +46,25 @@ where `<KEYMASTER_ADDRESS>` can be either:\n \n ==== Standalone\n \n-Projects generated from Maven archetype feature a dedicated `executable` profile, which will re-package all\n-applications according to Spring Boot's\n-https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html[executable format^].\n+Projects generated from Maven archetype feature a dedicated `standalone` profile, which will re-package all\n+applications as standalone fat JAR or WAR files.\n \n [TIP]\n Spring Boot applications can also be\n https://docs.spring.io/spring-boot/docs/current/reference/html/deployment.html#deployment.installing[installed as system services^].\n \n-.Run Core application as executable under GNU / Linux\n+.Run Core application as standalone under GNU / Linux\n ====\n Assuming that the JDBC driver JAR file for the configured <<dbms>> is available under `/opt/syncope/lib`,\n the Core application can be built and run as follows:\n \n [source,bash]\n ----\n-$ mvn -P executable clean verify\n+$ mvn -P standalone clean verify\n $ cp core/target/syncope.war /opt/syncope/lib\n $ cp core/target/classes/*properties /opt/syncope/conf\n \n-$ export LOADER_PATH=/opt/syncope/conf,/opt/syncope/lib\n+$ export LOADER_PATH=/opt/syncope/conf,/opt/syncope/lib,BOOT-INF/classes/WEB-INF/classes\n $ java -Dsyncope.conf.dir=/opt/syncope/conf \\\n   -Dsyncope.connid.location=file:/opt/syncope/bundles \\\n   -Dsyncope.log.dir=/opt/syncope/log \\"}]}
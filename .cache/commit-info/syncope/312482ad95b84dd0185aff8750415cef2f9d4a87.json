{"sha":"312482ad95b84dd0185aff8750415cef2f9d4a87","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjMxMjQ4MmFkOTViODRkZDAxODVhZmY4NzUwNDE1Y2VmMmY5ZDRhODc=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2010-11-24T14:12:39Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2010-11-24T14:12:39Z"},"message":"Base64-encoded password on UserTO, new REST user/verifyPassword, booleans storead as 0/1\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1246646 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"565ba14e93fedd7110d0ff50ab12040c9bcd3e6f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/565ba14e93fedd7110d0ff50ab12040c9bcd3e6f"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/312482ad95b84dd0185aff8750415cef2f9d4a87","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/312482ad95b84dd0185aff8750415cef2f9d4a87","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/312482ad95b84dd0185aff8750415cef2f9d4a87","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/312482ad95b84dd0185aff8750415cef2f9d4a87/comments","author":null,"committer":null,"parents":[{"sha":"fd07aeb8c3c2953d3a530f2c08b674e9b0b74316","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fd07aeb8c3c2953d3a530f2c08b674e9b0b74316","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/fd07aeb8c3c2953d3a530f2c08b674e9b0b74316"}],"stats":{"total":334,"additions":186,"deletions":148},"files":[{"sha":"07cd31c8a739c3e37a289ee731f770dd529be028","filename":"core/src/main/java/org/syncope/core/persistence/beans/AbstractAttributeValue.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractAttributeValue.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractAttributeValue.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractAttributeValue.java?ref=312482ad95b84dd0185aff8750415cef2f9d4a87","patch":"@@ -31,7 +31,7 @@ public abstract class AbstractAttributeValue extends AbstractBaseBean {\n     private Date dateValue;\n \n     @Basic\n-    private Character booleanValue;\n+    private Integer booleanValue;\n \n     private Long longValue;\n \n@@ -43,14 +43,14 @@ public Boolean getBooleanValue() {\n         if (booleanValue == null) {\n             return null;\n         }\n-        return isBooleanAsCharacter(booleanValue);\n+        return isBooleanAsInteger(booleanValue);\n     }\n \n     public void setBooleanValue(Boolean booleanValue) {\n         if (booleanValue == null) {\n             this.booleanValue = null;\n         } else {\n-            this.booleanValue = getBooleanAsCharacter(booleanValue);\n+            this.booleanValue = getBooleanAsInteger(booleanValue);\n         }\n     }\n "},{"sha":"3861e265aa6a01bba4f1dccbec887dd3a9df7990","filename":"core/src/main/java/org/syncope/core/persistence/beans/AbstractBaseBean.java","status":"modified","additions":9,"deletions":9,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractBaseBean.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractBaseBean.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractBaseBean.java?ref=312482ad95b84dd0185aff8750415cef2f9d4a87","patch":"@@ -2,9 +2,9 @@\n  *  Licensed under the Apache License, Version 2.0 (the \"License\");\n  *  you may not use this file except in compliance with the License.\n  *  You may obtain a copy of the License at\n- * \n+ *\n  *       http://www.apache.org/licenses/LICENSE-2.0\n- * \n+ *\n  *  Unless required by applicable law or agreed to in writing, software\n  *  distributed under the License is distributed on an \"AS IS\" BASIS,\n  *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n@@ -35,19 +35,19 @@ public abstract class AbstractBaseBean implements Serializable {\n             AbstractBaseBean.class);\n \n     /**\n-     * @param property the character representing a boolean value\n+     * @param property the integer representing a boolean value\n      * @return the boolean value corresponding to the property param\n      */\n-    protected final boolean isBooleanAsCharacter(final Character property) {\n-        return property != null && property == 'T';\n+    protected final boolean isBooleanAsInteger(final Integer property) {\n+        return property != null && property == 1;\n     }\n \n     /**\n-     * @param value the boolean value to be represented as character\n-     * @return the character corresponding to the property param\n+     * @param value the boolean value to be represented as integer\n+     * @return the integer corresponding to the property param\n      */\n-    protected final Character getBooleanAsCharacter(final boolean value) {\n-        return value ? 'T' : 'F';\n+    protected final Integer getBooleanAsInteger(final boolean value) {\n+        return value ? 1 : 0;\n     }\n \n     /**"},{"sha":"1f3e19297f99be12c7f5365680a9f08c06469cf0","filename":"core/src/main/java/org/syncope/core/persistence/beans/AbstractSchema.java","status":"modified","additions":16,"deletions":16,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractSchema.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractSchema.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractSchema.java?ref=312482ad95b84dd0185aff8750415cef2f9d4a87","patch":"@@ -63,19 +63,19 @@ protected DecimalFormat initialValue() {\n      * Specify if the attribute should be stored on the local repository.\n      */\n     @Basic\n-    private Character virtual;\n+    private Integer virtual;\n \n     @Column(nullable = false)\n     private String mandatoryCondition;\n \n     @Basic\n-    private Character multivalue;\n+    private Integer multivalue;\n \n     @Basic\n-    private Character uniquevalue;\n+    private Integer uniquevalue;\n \n     @Basic\n-    private Character readonly;\n+    private Integer readonly;\n \n     @Column(nullable = true)\n     private String conversionPattern;\n@@ -90,11 +90,11 @@ public AbstractSchema() {\n         super();\n \n         type = SchemaValueType.String;\n-        virtual = getBooleanAsCharacter(false);\n+        virtual = getBooleanAsInteger(false);\n         mandatoryCondition = Boolean.FALSE.toString();\n-        multivalue = getBooleanAsCharacter(false);\n-        uniquevalue = getBooleanAsCharacter(false);\n-        readonly = getBooleanAsCharacter(false);\n+        multivalue = getBooleanAsInteger(false);\n+        uniquevalue = getBooleanAsInteger(false);\n+        readonly = getBooleanAsInteger(false);\n     }\n \n     public String getName() {\n@@ -114,11 +114,11 @@ public void setType(SchemaValueType type) {\n     }\n \n     public boolean isVirtual() {\n-        return isBooleanAsCharacter(virtual);\n+        return isBooleanAsInteger(virtual);\n     }\n \n     public void setVirtual(boolean virtual) {\n-        this.virtual = getBooleanAsCharacter(virtual);\n+        this.virtual = getBooleanAsInteger(virtual);\n     }\n \n     public String getMandatoryCondition() {\n@@ -130,27 +130,27 @@ public void setMandatoryCondition(String mandatoryCondition) {\n     }\n \n     public boolean isMultivalue() {\n-        return isBooleanAsCharacter(multivalue);\n+        return isBooleanAsInteger(multivalue);\n     }\n \n     public void setMultivalue(boolean multivalue) {\n-        this.multivalue = getBooleanAsCharacter(multivalue);\n+        this.multivalue = getBooleanAsInteger(multivalue);\n     }\n \n     public boolean isUniquevalue() {\n-        return isBooleanAsCharacter(uniquevalue);\n+        return isBooleanAsInteger(uniquevalue);\n     }\n \n     public void setUniquevalue(boolean uniquevalue) {\n-        this.uniquevalue = getBooleanAsCharacter(uniquevalue);\n+        this.uniquevalue = getBooleanAsInteger(uniquevalue);\n     }\n \n     public boolean isReadonly() {\n-        return isBooleanAsCharacter(readonly);\n+        return isBooleanAsInteger(readonly);\n     }\n \n     public void setReadonly(boolean readonly) {\n-        this.readonly = getBooleanAsCharacter(readonly);\n+        this.readonly = getBooleanAsInteger(readonly);\n     }\n \n     public AbstractAttributeValidator getValidator() {"},{"sha":"5af14ed13a23eb42d1ee7ac700cadccbbb3f1270","filename":"core/src/main/java/org/syncope/core/persistence/beans/SchemaMapping.java","status":"modified","additions":17,"deletions":10,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FSchemaMapping.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FSchemaMapping.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FSchemaMapping.java?ref=312482ad95b84dd0185aff8750415cef2f9d4a87","patch":"@@ -2,9 +2,9 @@\n  *  Licensed under the Apache License, Version 2.0 (the \"License\");\n  *  you may not use this file except in compliance with the License.\n  *  You may obtain a copy of the License at\n- * \n+ *\n  *       http://www.apache.org/licenses/LICENSE-2.0\n- * \n+ *\n  *  Unless required by applicable law or agreed to in writing, software\n  *  distributed under the License is distributed on an \"AS IS\" BASIS,\n  *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n@@ -39,33 +39,40 @@ public class SchemaMapping extends AbstractBaseBean {\n     generator = \"SEQ_SchemaMapping\")\n     @TableGenerator(name = \"SEQ_SchemaMapping\", allocationSize = 20)\n     private Long id;\n+\n     @Column(nullable = false)\n     private String schemaName;\n+\n     @Column(nullable = false)\n     @Enumerated(STRING)\n     private SchemaType schemaType;\n+\n     /**\n      * Target resource that has fields to be mapped over user attribute schemas.\n      */\n     @ManyToOne\n     private TargetResource resource;\n+\n     /**\n      * Target resource's field to be mapped.\n      */\n     @Column(nullable = false)\n     private String field;\n+\n     /**\n      * Specify if the mapped target resource's field is the key.\n      */\n     @Column(nullable = false)\n     @Basic\n-    private Character accountid;\n+    private Integer accountid;\n+\n     /**\n      * Specify if the mapped target resource's field is the password.\n      */\n     @Column(nullable = false)\n     @Basic\n-    private Character password;\n+    private Integer password;\n+\n     /**\n      * Specify if the mapped target resource's field is nullable.\n      */\n@@ -75,8 +82,8 @@ public class SchemaMapping extends AbstractBaseBean {\n     public SchemaMapping() {\n         super();\n \n-        accountid = getBooleanAsCharacter(false);\n-        password = getBooleanAsCharacter(false);\n+        accountid = getBooleanAsInteger(false);\n+        password = getBooleanAsInteger(false);\n         mandatoryCondition = Boolean.FALSE.toString();\n     }\n \n@@ -85,11 +92,11 @@ public Long getId() {\n     }\n \n     public boolean isAccountid() {\n-        return isBooleanAsCharacter(accountid);\n+        return isBooleanAsInteger(accountid);\n     }\n \n     public void setAccountid(boolean accountid) {\n-        this.accountid = getBooleanAsCharacter(accountid);\n+        this.accountid = getBooleanAsInteger(accountid);\n     }\n \n     public String getField() {\n@@ -109,11 +116,11 @@ public void setMandatoryCondition(String mandatoryCondition) {\n     }\n \n     public boolean isPassword() {\n-        return isBooleanAsCharacter(password);\n+        return isBooleanAsInteger(password);\n     }\n \n     public void setPassword(boolean password) {\n-        this.password = getBooleanAsCharacter(password);\n+        this.password = getBooleanAsInteger(password);\n     }\n \n     public TargetResource getResource() {"},{"sha":"369e8920a7d3dd571c1037bce3ed3e5fb10ad72a","filename":"core/src/main/java/org/syncope/core/persistence/beans/TargetResource.java","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FTargetResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FTargetResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FTargetResource.java?ref=312482ad95b84dd0185aff8750415cef2f9d4a87","patch":"@@ -75,7 +75,7 @@ public class TargetResource extends AbstractBaseBean {\n      */\n     @Column(nullable = false)\n     @Basic\n-    private Character forceMandatoryConstraint;\n+    private Integer forceMandatoryConstraint;\n \n     /**\n      * The resource type is identified by the associated connector.\n@@ -115,20 +115,20 @@ public class TargetResource extends AbstractBaseBean {\n     public TargetResource() {\n         super();\n \n-        forceMandatoryConstraint = getBooleanAsCharacter(false);\n+        forceMandatoryConstraint = getBooleanAsInteger(false);\n         users = new HashSet<SyncopeUser>();\n         roles = new HashSet<SyncopeRole>();\n         mappings = new ArrayList<SchemaMapping>();\n         tasks = new ArrayList<Task>();\n     }\n \n     public boolean isForceMandatoryConstraint() {\n-        return isBooleanAsCharacter(forceMandatoryConstraint);\n+        return isBooleanAsInteger(forceMandatoryConstraint);\n     }\n \n     public void setForceMandatoryConstraint(boolean forceMandatoryConstraint) {\n         this.forceMandatoryConstraint =\n-                getBooleanAsCharacter(forceMandatoryConstraint);\n+                getBooleanAsInteger(forceMandatoryConstraint);\n     }\n \n     public ConnectorInstance getConnector() {"},{"sha":"fdb29962d3023ac3228cc2d9cdfc414b74448b2e","filename":"core/src/main/java/org/syncope/core/persistence/beans/role/SyncopeRole.java","status":"modified","additions":10,"deletions":8,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Frole%2FSyncopeRole.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Frole%2FSyncopeRole.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Frole%2FSyncopeRole.java?ref=312482ad95b84dd0185aff8750415cef2f9d4a87","patch":"@@ -67,18 +67,20 @@ public class SyncopeRole extends AbstractAttributable {\n     private List<RoleDerivedAttribute> derivedAttributes;\n \n     @Basic\n-    private Character inheritAttributes;\n+    private Integer inheritAttributes;\n \n     @Basic\n-    private Character inheritDerivedAttributes;\n+    private Integer inheritDerivedAttributes;\n \n     public SyncopeRole() {\n+        super();\n+\n         memberships = new ArrayList<Membership>();\n         entitlements = new HashSet<Entitlement>();\n         attributes = new ArrayList<RoleAttribute>();\n         derivedAttributes = new ArrayList<RoleDerivedAttribute>();\n-        inheritAttributes = getBooleanAsCharacter(false);\n-        inheritDerivedAttributes = getBooleanAsCharacter(false);\n+        inheritAttributes = getBooleanAsInteger(false);\n+        inheritDerivedAttributes = getBooleanAsInteger(false);\n     }\n \n     @Override\n@@ -193,20 +195,20 @@ public void setDerivedAttributes(\n     }\n \n     public boolean isInheritAttributes() {\n-        return isBooleanAsCharacter(inheritAttributes);\n+        return isBooleanAsInteger(inheritAttributes);\n     }\n \n     public void setInheritAttributes(boolean inheritAttributes) {\n-        this.inheritAttributes = getBooleanAsCharacter(inheritAttributes);\n+        this.inheritAttributes = getBooleanAsInteger(inheritAttributes);\n     }\n \n     public boolean isInheritDerivedAttributes() {\n-        return isBooleanAsCharacter(inheritDerivedAttributes);\n+        return isBooleanAsInteger(inheritDerivedAttributes);\n     }\n \n     public void setInheritDerivedAttributes(boolean inheritDerivedAttributes) {\n         this.inheritDerivedAttributes =\n-                getBooleanAsCharacter(inheritDerivedAttributes);\n+                getBooleanAsInteger(inheritDerivedAttributes);\n \n     }\n }"},{"sha":"570079725558de06d6b69ac6c5372ef9aad9cb76","filename":"core/src/main/java/org/syncope/core/persistence/dao/impl/ResourceDAOImpl.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2Fimpl%2FResourceDAOImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2Fimpl%2FResourceDAOImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2Fimpl%2FResourceDAOImpl.java?ref=312482ad95b84dd0185aff8750415cef2f9d4a87","patch":"@@ -94,7 +94,7 @@ public String getSchemaNameForAccountId(final String resourceName) {\n         Query query = entityManager.createQuery(\n                 \"SELECT m FROM SchemaMapping m \"\n                 + \"WHERE m.resource.name=:resourceName \"\n-                + \"AND m.accountid = 'T'\");\n+                + \"AND m.accountid = 1\");\n         query.setParameter(\"resourceName\", resourceName);\n \n         return ((SchemaMapping) query.getSingleResult()).getSchemaName();\n@@ -118,7 +118,6 @@ public void deleteMappings(final String schemaName,\n \n         int items = query.executeUpdate();\n         LOG.debug(\"Removed {} schema mappings\", items);\n-\n     }\n \n     @Override"},{"sha":"38de8c823bf010b2bd22a08f96569da901c1e039","filename":"core/src/main/java/org/syncope/core/rest/controller/UserController.java","status":"modified","additions":28,"deletions":3,"changes":31,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fcontroller%2FUserController.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fcontroller%2FUserController.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fcontroller%2FUserController.java?ref=312482ad95b84dd0185aff8750415cef2f9d4a87","patch":"@@ -42,6 +42,7 @@\n import javax.servlet.http.HttpServletResponse;\n import jpasymphony.dao.JPAWorkflowEntryDAO;\n import org.springframework.http.HttpStatus;\n+import org.springframework.transaction.annotation.Transactional;\n import org.springframework.web.servlet.ModelAndView;\n import org.syncope.client.mod.UserMod;\n import org.syncope.client.search.NodeCond;\n@@ -185,8 +186,28 @@ public UserTO verifyToken(@RequestBody UserTO userTO)\n                 userWorkflow);\n     }\n \n+    @RequestMapping(method = RequestMethod.GET,\n+    value = \"/verifyPassword/{userId}\")\n+    @Transactional(readOnly = true)\n+    public ModelAndView verifyPassword(@PathVariable(\"userId\") Long userId,\n+            @RequestParam(\"password\") final String password)\n+            throws NotFoundException {\n+\n+        SyncopeUser user = syncopeUserDAO.find(userId);\n+        if (user == null) {\n+            throw new NotFoundException(\"User \" + userId);\n+        }\n+\n+        SyncopeUser passwordUser = new SyncopeUser();\n+        passwordUser.setPassword(password);\n+\n+        return new ModelAndView().addObject(\n+                user.getPassword().equals(passwordUser.getPassword()));\n+    }\n+\n     @RequestMapping(method = RequestMethod.GET,\n     value = \"/list\")\n+    @Transactional(readOnly = true)\n     public List<UserTO> list() {\n         List<SyncopeUser> users = syncopeUserDAO.findAll();\n         List<UserTO> userTOs = new ArrayList<UserTO>(users.size());\n@@ -199,6 +220,7 @@ public List<UserTO> list() {\n \n     @RequestMapping(method = RequestMethod.GET,\n     value = \"/paginatedList/{page}/{size}\")\n+    @Transactional(readOnly = true)\n     public List<UserTO> paginatedList(\n             @PathVariable(\"page\") final int page,\n             @PathVariable(\"size\") final int size) {\n@@ -213,6 +235,7 @@ public List<UserTO> paginatedList(\n \n     @RequestMapping(method = RequestMethod.GET,\n     value = \"/read/{userId}\")\n+    @Transactional(readOnly = true)\n     public UserTO read(@PathVariable(\"userId\") Long userId)\n             throws NotFoundException {\n \n@@ -226,6 +249,7 @@ public UserTO read(@PathVariable(\"userId\") Long userId)\n \n     @RequestMapping(method = RequestMethod.GET,\n     value = \"/actions/{userId}\")\n+    @Transactional(readOnly = true)\n     public WorkflowActionsTO getActions(@PathVariable(\"userId\") Long userId)\n             throws NotFoundException {\n \n@@ -249,6 +273,7 @@ public WorkflowActionsTO getActions(@PathVariable(\"userId\") Long userId)\n \n     @RequestMapping(method = RequestMethod.POST,\n     value = \"/search\")\n+    @Transactional(readOnly = true)\n     public List<UserTO> search(@RequestBody NodeCond searchCondition)\n             throws InvalidSearchConditionException {\n \n@@ -273,6 +298,7 @@ public List<UserTO> search(@RequestBody NodeCond searchCondition)\n \n     @RequestMapping(method = RequestMethod.POST,\n     value = \"/paginatedSearch/{page}/{size}\")\n+    @Transactional(readOnly = true)\n     public List<UserTO> paginatedSearch(\n             @RequestBody final NodeCond searchCondition,\n             @PathVariable(\"page\") final int page,\n@@ -300,6 +326,7 @@ public List<UserTO> paginatedSearch(\n \n     @RequestMapping(method = RequestMethod.GET,\n     value = \"/status/{userId}\")\n+    @Transactional(readOnly = true)\n     public ModelAndView getStatus(@PathVariable(\"userId\") Long userId)\n             throws NotFoundException {\n \n@@ -472,9 +499,7 @@ public UserTO update(@RequestBody UserMod userMod,\n             required = false) Set<String> syncResources)\n             throws NotFoundException, PropagationException, WorkflowException {\n \n-        if (LOG.isDebugEnabled()) {\n-            LOG.debug(\"update called with parameter \" + userMod);\n-        }\n+        LOG.debug(\"update called with parameter {}\", userMod);\n \n         SyncopeUser user = syncopeUserDAO.find(userMod.getId());\n         if (user == null) {"},{"sha":"e9299f28d4aece45c38bdf362f2b26dce6e701b4","filename":"core/src/main/java/org/syncope/core/rest/data/UserDataBinder.java","status":"modified","additions":4,"deletions":3,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FUserDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FUserDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FUserDataBinder.java?ref=312482ad95b84dd0185aff8750415cef2f9d4a87","patch":"@@ -2,9 +2,9 @@\n  *  Licensed under the Apache License, Version 2.0 (the \"License\");\n  *  you may not use this file except in compliance with the License.\n  *  You may obtain a copy of the License at\n- * \n+ *\n  *       http://www.apache.org/licenses/LICENSE-2.0\n- * \n+ *\n  *  Unless required by applicable law or agreed to in writing, software\n  *  distributed under the License is distributed on an \"AS IS\" BASIS,\n  *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n@@ -21,6 +21,7 @@\n import java.util.Set;\n import javassist.NotFoundException;\n import javax.persistence.EntityNotFoundException;\n+import org.identityconnectors.common.Base64;\n import org.springframework.http.HttpStatus;\n import org.springframework.stereotype.Component;\n import org.syncope.client.mod.MembershipMod;\n@@ -236,7 +237,7 @@ public UserTO getUserTO(SyncopeUser user, Workflow userWorkflow) {\n         userTO.setId(user.getId());\n         userTO.setToken(user.getToken());\n         userTO.setTokenExpireTime(user.getTokenExpireTime());\n-        userTO.setPassword(user.getPassword());\n+        userTO.setPassword(Base64.encode(user.getPassword().getBytes()));\n \n         try {\n             List<Step> currentSteps = userWorkflow.getCurrentSteps("},{"sha":"1140a7aa1136f7967e3e0432122db1e1c5e36be8","filename":"core/src/main/resources/content.xml","status":"modified","additions":9,"deletions":9,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fresources%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Fmain%2Fresources%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2Fcontent.xml?ref=312482ad95b84dd0185aff8750415cef2f9d4a87","patch":"@@ -46,12 +46,12 @@\n     <SyncopeConfiguration confKey=\"servicelayer.baseurl\" confValue=\"http://www.google.it/\"/>\n     <SyncopeConfiguration confKey=\"identityconnectors.bundle.directory\" confValue=\"${bundles.directory}\"/>\n \n-    <UserSchema name=\"surname\" type=\"String\" virtual=\"F\"\n-                mandatoryCondition=\"true\" multivalue=\"F\" uniquevalue=\"F\" readonly='F'/>\n-    <UserSchema name=\"firstname\" type=\"String\" virtual=\"F\"\n-                mandatoryCondition=\"false\" multivalue=\"F\" uniquevalue=\"F\" readonly='F'/>\n-    <UserSchema name=\"email\" type=\"String\" virtual=\"F\"\n-                mandatoryCondition=\"false\" multivalue=\"T\" uniquevalue=\"F\" readonly='F'\n+    <UserSchema name=\"surname\" type=\"String\" virtual=\"0\"\n+                mandatoryCondition=\"true\" multivalue=\"0\" uniquevalue=\"0\" readonly=\"0\"/>\n+    <UserSchema name=\"firstname\" type=\"String\" virtual=\"0\"\n+                mandatoryCondition=\"false\" multivalue=\"0\" uniquevalue=\"0\" readonly=\"0\"/>\n+    <UserSchema name=\"email\" type=\"String\" virtual=\"0\"\n+                mandatoryCondition=\"false\" multivalue=\"1\" uniquevalue=\"0\" readonly=\"0\"\n                 validatorClass=\"org.syncope.core.persistence.validation.EmailAddressValidator\"/>\n                \n     <UserDerivedSchema name=\"username\" expression=\"firstname + '.' + surname\"/>\n@@ -61,10 +61,10 @@\n     <UserSchemaDerivation derivedSchemas_name=\"username\"\n                           schemas_name=\"surname\"/>\n \n-    <SyncopeRole id=\"0\" name=\"/\" inheritAttributes=\"F\" inheritDerivedAttributes=\"F\"/>\n+    <SyncopeRole id=\"0\" name=\"/\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\"/>\n \n-    <MembershipSchema name=\"subscriptionDate\" type=\"Date\" virtual=\"F\"\n-                      mandatoryCondition=\"false\" multivalue=\"F\" uniquevalue=\"F\" readonly='F'\n+    <MembershipSchema name=\"subscriptionDate\" type=\"Date\" virtual=\"0\"\n+                      mandatoryCondition=\"false\" multivalue=\"0\" uniquevalue=\"0\" readonly=\"0\"\n                       conversionPattern=\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\"/>\n \n </dataset>"},{"sha":"8e4f45dc361ee8e99a7985bfd35a610ddb579cec","filename":"core/src/test/java/org/syncope/core/rest/UserTestITCase.java","status":"modified","additions":15,"deletions":3,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java?ref=312482ad95b84dd0185aff8750415cef2f9d4a87","patch":"@@ -24,6 +24,7 @@\n import java.util.HashSet;\n import java.util.List;\n import java.util.Set;\n+import org.identityconnectors.common.Base64;\n import org.junit.Test;\n import org.springframework.http.HttpStatus;\n import org.springframework.test.annotation.ExpectedException;\n@@ -146,7 +147,17 @@ public final void create() {\n                 restTemplate.getForObject(BASE_URL + \"user/status/\"\n                 + newUserTO.getId(), String.class));\n \n-        // 3. try (and fail) to create another user with same (unique) values\n+        // 3. verify password\n+        Boolean verify = restTemplate.getForObject(\n+                BASE_URL + \"user/verifyPassword/{userId}?password=password\",\n+                Boolean.class, newUserTO.getId());\n+        assertTrue(verify);\n+        verify = restTemplate.getForObject(\n+                BASE_URL + \"user/verifyPassword/{userId}?password=passwordXX\",\n+                Boolean.class, newUserTO.getId());\n+        assertFalse(verify);\n+\n+        // 4. try (and fail) to create another user with same (unique) values\n         userTO = getSampleTO(\"pippo@c.com\");\n         for (AttributeTO attr : userTO.getAttributes()) {\n             if (\"userId\".equals(attr.getSchema())) {\n@@ -461,8 +472,9 @@ public final void update() {\n \n         SyncopeUser passwordTestUser = new SyncopeUser();\n         passwordTestUser.setPassword(\"newPassword\");\n-        assertEquals(passwordTestUser.getPassword(), userTO.getPassword());\n-        \n+        assertEquals(passwordTestUser.getPassword(),\n+                new String(Base64.decode(userTO.getPassword())));\n+\n         assertEquals(1, userTO.getMemberships().size());\n         assertEquals(1, userTO.getMemberships().iterator().next().\n                 getAttributes().size());"},{"sha":"470ed97ec7f955bc5dea1fcec02681489d0047d5","filename":"core/src/test/resources/content.xml","status":"modified","additions":70,"deletions":78,"changes":148,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/312482ad95b84dd0185aff8750415cef2f9d4a87/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml?ref=312482ad95b84dd0185aff8750415cef2f9d4a87","patch":"@@ -45,56 +45,56 @@\n     <SyncopeConfiguration confKey=\"verifyToken.email.template.txt\" confValue=\"verifyToken.txt\"/>\n     <SyncopeConfiguration confKey=\"identityconnectors.bundle.directory\" confValue=\"${bundles.directory}\"/>\n                           \n-    <SyncopeUser id=\"1\" workflowId=\"0\"/>\n-    <SyncopeUser id=\"2\" workflowId=\"0\"/>\n-    <SyncopeUser id=\"3\" workflowId=\"0\"/>\n-    <SyncopeUser id=\"4\" workflowId=\"0\"/>\n-\n-    <SyncopeRole id=\"1\" name=\"root\" inheritAttributes=\"F\" inheritDerivedAttributes=\"F\"/>\n-    <SyncopeRole id=\"2\" name=\"child\" parent_id=\"1\" inheritAttributes=\"F\" inheritDerivedAttributes=\"F\"/>\n-    <SyncopeRole id=\"3\" name=\"citizen\" inheritAttributes=\"F\" inheritDerivedAttributes=\"F\"/>\n-    <SyncopeRole id=\"4\" name=\"employee\" parent_id=\"3\" inheritAttributes=\"F\" inheritDerivedAttributes=\"F\"/>\n-    <SyncopeRole id=\"5\" name=\"secretary\" parent_id=\"4\" inheritAttributes=\"F\" inheritDerivedAttributes=\"F\"/>\n-    <SyncopeRole id=\"6\" name=\"director\" parent_id=\"4\" inheritAttributes=\"T\" inheritDerivedAttributes=\"T\"/>\n-    <SyncopeRole id=\"7\" name=\"managingDirector\" parent_id=\"6\" inheritAttributes=\"F\" inheritDerivedAttributes=\"F\"/>\n-    <SyncopeRole id=\"8\" name=\"otherchild\" parent_id=\"1\" inheritAttributes=\"F\" inheritDerivedAttributes=\"F\"/>\n+    <SyncopeUser id=\"1\" workflowId=\"0\" password=\"password\"/>\n+    <SyncopeUser id=\"2\" workflowId=\"0\" password=\"password\"/>\n+    <SyncopeUser id=\"3\" workflowId=\"0\" password=\"password\"/>\n+    <SyncopeUser id=\"4\" workflowId=\"0\" password=\"password\"/>\n+\n+    <SyncopeRole id=\"1\" name=\"root\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\"/>\n+    <SyncopeRole id=\"2\" name=\"child\" parent_id=\"1\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\"/>\n+    <SyncopeRole id=\"3\" name=\"citizen\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\"/>\n+    <SyncopeRole id=\"4\" name=\"employee\" parent_id=\"3\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\"/>\n+    <SyncopeRole id=\"5\" name=\"secretary\" parent_id=\"4\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\"/>\n+    <SyncopeRole id=\"6\" name=\"director\" parent_id=\"4\" inheritAttributes=\"1\" inheritDerivedAttributes=\"1\"/>\n+    <SyncopeRole id=\"7\" name=\"managingDirector\" parent_id=\"6\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\"/>\n+    <SyncopeRole id=\"8\" name=\"otherchild\" parent_id=\"1\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\"/>\n \n     <Membership id=\"1\" syncopeUser_id=\"1\" syncopeRole_id=\"1\"/>\n     <Membership id=\"2\" syncopeUser_id=\"2\" syncopeRole_id=\"1\"/>\n     <Membership id=\"3\" syncopeUser_id=\"2\" syncopeRole_id=\"2\"/>\n     <Membership id=\"4\" syncopeUser_id=\"4\" syncopeRole_id=\"7\"/>\n     <Membership id=\"5\" syncopeUser_id=\"1\" syncopeRole_id=\"8\"/>\n \n-    <UserSchema name=\"username\" type=\"String\" virtual=\"F\"\n-                mandatoryCondition=\"true\" multivalue=\"F\" uniquevalue=\"T\" readonly='F'/>\n-    <UserSchema name=\"userId\" type=\"String\" virtual=\"F\"\n-                mandatoryCondition=\"true\" multivalue=\"F\" uniquevalue=\"T\" readonly='F'\n+    <UserSchema name=\"username\" type=\"String\" virtual=\"0\"\n+                mandatoryCondition=\"true\" multivalue=\"0\" uniquevalue=\"1\" readonly=\"0\"/>\n+    <UserSchema name=\"userId\" type=\"String\" virtual=\"0\"\n+                mandatoryCondition=\"true\" multivalue=\"0\" uniquevalue=\"1\" readonly=\"0\"\n                 validatorClass=\"org.syncope.core.persistence.validation.EmailAddressValidator\"/>\n-    <UserSchema name=\"loginDate\" type=\"Date\" virtual=\"F\"\n-                mandatoryCondition=\"false\" multivalue=\"T\" uniquevalue=\"F\" readonly='F'\n+    <UserSchema name=\"loginDate\" type=\"Date\" virtual=\"0\"\n+                mandatoryCondition=\"false\" multivalue=\"1\" uniquevalue=\"0\" readonly=\"0\"\n                 conversionPattern=\"yyyy-MM-dd\"/>\n-    <UserSchema name=\"firstname\" type=\"String\" virtual=\"F\"\n-                mandatoryCondition=\"false\" multivalue=\"F\" uniquevalue=\"F\" readonly='F'/>\n-    <UserSchema name=\"surname\" type=\"String\" virtual=\"F\"\n-                mandatoryCondition=\"true\" multivalue=\"F\" uniquevalue=\"F\" readonly='F'/>\n-    <UserSchema name=\"type\" type=\"String\" virtual=\"F\"\n-                mandatoryCondition=\"false\" multivalue=\"F\" uniquevalue=\"F\" readonly='F'/>\n-    <UserSchema name=\"email\" type=\"String\" virtual=\"F\"\n-                mandatoryCondition=\"false\" multivalue=\"F\" uniquevalue=\"T\" readonly='F'\n+    <UserSchema name=\"firstname\" type=\"String\" virtual=\"0\"\n+                mandatoryCondition=\"false\" multivalue=\"0\" uniquevalue=\"0\" readonly=\"0\"/>\n+    <UserSchema name=\"surname\" type=\"String\" virtual=\"0\"\n+                mandatoryCondition=\"true\" multivalue=\"0\" uniquevalue=\"0\" readonly=\"0\"/>\n+    <UserSchema name=\"type\" type=\"String\" virtual=\"0\"\n+                mandatoryCondition=\"false\" multivalue=\"0\" uniquevalue=\"0\" readonly=\"0\"/>\n+    <UserSchema name=\"email\" type=\"String\" virtual=\"0\"\n+                mandatoryCondition=\"false\" multivalue=\"0\" uniquevalue=\"1\" readonly=\"0\"\n                 validatorClass=\"org.syncope.core.persistence.validation.EmailAddressValidator\"/>\n-    <UserSchema name=\"activationDate\" type=\"Date\" virtual=\"F\"\n-                mandatoryCondition=\"false\" multivalue=\"F\" uniquevalue=\"F\" readonly='F'\n+    <UserSchema name=\"activationDate\" type=\"Date\" virtual=\"0\"\n+                mandatoryCondition=\"false\" multivalue=\"0\" uniquevalue=\"0\" readonly=\"0\"\n                 conversionPattern=\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\"/>\n-    <UserSchema name=\"uselessReadonly\" type=\"String\" virtual=\"F\"\n-                mandatoryCondition=\"false\" multivalue=\"F\" uniquevalue=\"F\" readonly='T'/>\n+    <UserSchema name=\"uselessReadonly\" type=\"String\" virtual=\"0\"\n+                mandatoryCondition=\"false\" multivalue=\"0\" uniquevalue=\"0\" readonly=\"1\"/>\n \n-    <RoleSchema name=\"icon\" type=\"String\" virtual=\"F\"\n-                mandatoryCondition=\"false\" multivalue=\"F\" uniquevalue=\"F\" readonly='F'/>\n-    <RoleSchema name=\"show\" type=\"Boolean\" virtual=\"F\"\n-                mandatoryCondition=\"false\" multivalue=\"F\" uniquevalue=\"F\" readonly='F'/>\n+    <RoleSchema name=\"icon\" type=\"String\" virtual=\"0\"\n+                mandatoryCondition=\"false\" multivalue=\"0\" uniquevalue=\"0\" readonly=\"0\"/>\n+    <RoleSchema name=\"show\" type=\"Boolean\" virtual=\"0\"\n+                mandatoryCondition=\"false\" multivalue=\"0\" uniquevalue=\"0\" readonly=\"0\"/>\n \n-    <MembershipSchema name=\"subscriptionDate\" type=\"Date\" virtual=\"F\"\n-                      mandatoryCondition=\"false\" multivalue=\"F\" uniquevalue=\"F\" readonly='F'\n+    <MembershipSchema name=\"subscriptionDate\" type=\"Date\" virtual=\"0\"\n+                      mandatoryCondition=\"false\" multivalue=\"0\" uniquevalue=\"0\" readonly=\"0\"\n                       conversionPattern=\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\"/>\n \n     <UserAttribute id=\"100\" owner_id=\"1\" schema_name=\"username\"/>\n@@ -122,7 +122,7 @@\n \n     <RoleAttributeValue attribute_id=\"600\" id=\"40\" stringValue=\"niceIcon\"/>\n     <RoleAttributeValue attribute_id=\"700\" id=\"41\" stringValue=\"badIcon\"/>\n-    <RoleAttributeValue attribute_id=\"800\" id=\"42\" booleanValue=\"T\"/>\n+    <RoleAttributeValue attribute_id=\"800\" id=\"42\" booleanValue=\"1\"/>\n     <RoleAttributeValue attribute_id=\"900\" id=\"43\" stringValue=\"icon6\"/>\n     <RoleAttributeValue attribute_id=\"950\" id=\"44\" stringValue=\"icon4\"/>\n \n@@ -175,12 +175,12 @@\n     <ConnectorInstance_capabilities ConnectorInstance_id=\"102\" element=\"ASYNC_DELETE\"/>\n     <ConnectorInstance_capabilities ConnectorInstance_id=\"102\" element=\"RESOLVE\"/>\n \n-    <TargetResource name=\"ws-target-resource-1\" connector_id=\"100\" forceMandatoryConstraint=\"T\"/>\n-    <TargetResource name=\"ws-target-resource-2\" connector_id=\"100\" forceMandatoryConstraint=\"T\"/>\n-    <TargetResource name=\"ws-target-resource-list-mappings-1\" connector_id=\"100\" forceMandatoryConstraint=\"F\"/>\n-    <TargetResource name=\"ws-target-resource-list-mappings-2\" connector_id=\"100\" forceMandatoryConstraint=\"T\"/>\n-    <TargetResource name=\"ws-target-resource-delete\" connector_id=\"102\" forceMandatoryConstraint=\"F\"/>\n-    <TargetResource name=\"ws-target-resource-update\" connector_id=\"100\" forceMandatoryConstraint=\"T\"/>\n+    <TargetResource name=\"ws-target-resource-1\" connector_id=\"100\" forceMandatoryConstraint=\"1\"/>\n+    <TargetResource name=\"ws-target-resource-2\" connector_id=\"100\" forceMandatoryConstraint=\"1\"/>\n+    <TargetResource name=\"ws-target-resource-list-mappings-1\" connector_id=\"100\" forceMandatoryConstraint=\"0\"/>\n+    <TargetResource name=\"ws-target-resource-list-mappings-2\" connector_id=\"100\" forceMandatoryConstraint=\"1\"/>\n+    <TargetResource name=\"ws-target-resource-delete\" connector_id=\"102\" forceMandatoryConstraint=\"0\"/>\n+    <TargetResource name=\"ws-target-resource-update\" connector_id=\"100\" forceMandatoryConstraint=\"1\"/>\n \n     <SyncopeUser_TargetResource users_id=\"3\" targetResources_name=\"ws-target-resource-delete\" />\n     <SyncopeRole_TargetResource roles_id=\"3\" targetResources_name=\"ws-target-resource-list-mappings-1\" />\n@@ -191,77 +191,77 @@\n     <SchemaMapping id=\"99\" field=\"userid\"\n                    resource_name=\"ws-target-resource-1\"\n                    schemaName=\"AccountId\" schemaType=\"AccountId\" mandatoryCondition=\"true\"\n-                   accountid=\"T\" password=\"F\"/>\n+                   accountid=\"1\" password=\"0\"/>\n \n     <SchemaMapping id=\"100\" field=\"email\"\n                    resource_name=\"ws-target-resource-1\"\n                    schemaName=\"email\" schemaType=\"UserSchema\" mandatoryCondition=\"true\"\n-                   accountid=\"T\" password=\"F\"/>\n+                   accountid=\"1\" password=\"0\"/>\n \n     <SchemaMapping id=\"101\" field=\"username\"\n                    resource_name=\"ws-target-resource-2\"\n                    schemaName=\"username\" schemaType=\"UserSchema\" mandatoryCondition=\"true\"\n-                   accountid=\"T\" password=\"F\"/>\n+                   accountid=\"1\" password=\"0\"/>\n \n     <SchemaMapping id=\"102\" field=\"email\"\n                    resource_name=\"ws-target-resource-list-mappings-1\"\n                    schemaName=\"email\" schemaType=\"UserSchema\" mandatoryCondition=\"true\"\n-                   accountid=\"T\" password=\"F\"/>\n+                   accountid=\"1\" password=\"0\"/>\n \n     <SchemaMapping id=\"103\" field=\"surname\"\n                    resource_name=\"ws-target-resource-list-mappings-1\"\n                    schemaName=\"surname\" schemaType=\"UserSchema\" mandatoryCondition=\"true\"\n-                   accountid=\"F\" password=\"F\"/>\n+                   accountid=\"0\" password=\"0\"/>\n \n     <SchemaMapping id=\"104\" field=\"userid\"\n                    resource_name=\"ws-target-resource-list-mappings-2\"\n                    schemaName=\"userId\" schemaType=\"UserSchema\" mandatoryCondition=\"true\"\n-                   accountid=\"T\" password=\"F\"/>\n+                   accountid=\"1\" password=\"0\"/>\n \n     <SchemaMapping id=\"105\" field=\"surname\"\n                    resource_name=\"ws-target-resource-1\"\n                    schemaName=\"surname\" schemaType=\"UserSchema\" mandatoryCondition=\"true\"\n-                   accountid=\"F\" password=\"F\"/>\n+                   accountid=\"0\" password=\"0\"/>\n \n     <SchemaMapping id=\"106\" field=\"password\"\n                    resource_name=\"ws-target-resource-1\"\n                    schemaName=\"Password\" schemaType=\"Password\" mandatoryCondition=\"true\"\n-                   accountid=\"F\" password=\"T\"/>\n+                   accountid=\"0\" password=\"1\"/>\n \n     <SchemaMapping id=\"107\" field=\"password\"\n                    resource_name=\"ws-target-resource-2\"\n                    schemaName=\"Password\" schemaType=\"Password\" mandatoryCondition=\"true\"\n-                   accountid=\"F\" password=\"T\"/>\n+                   accountid=\"0\" password=\"1\"/>\n \n     <SchemaMapping id=\"108\" field=\"type\"\n                    resource_name=\"ws-target-resource-2\"\n                    schemaName=\"type\" schemaType=\"UserSchema\" mandatoryCondition=\"true\"\n-                   accountid=\"F\" password=\"F\"/>\n+                   accountid=\"0\" password=\"0\"/>\n \n     <SchemaMapping id=\"109\" field=\"surname\"\n                    resource_name=\"ws-target-resource-2\"\n                    schemaName=\"surname\" schemaType=\"UserSchema\" mandatoryCondition=\"true\"\n-                   accountid=\"F\" password=\"F\"/>\n+                   accountid=\"0\" password=\"0\"/>\n \n     <SchemaMapping id=\"110\" field=\"email\"\n                    resource_name=\"ws-target-resource-update\"\n                    schemaName=\"email\" schemaType=\"UserSchema\" mandatoryCondition=\"false\"\n-                   accountid=\"F\" password=\"F\"/>\n+                   accountid=\"0\" password=\"0\"/>\n \n     <SchemaMapping id=\"111\" field=\"userId\"\n                    resource_name=\"ws-target-resource-update\"\n                    schemaName=\"userId\" schemaType=\"UserSchema\" mandatoryCondition=\"false\"\n-                   accountid=\"F\" password=\"F\"/>\n+                   accountid=\"0\" password=\"0\"/>\n     \n     <SchemaMapping id=\"112\" field=\"test3\"\n                    resource_name=\"ws-target-resource-update\"\n                    schemaName=\"username\" schemaType=\"UserSchema\" mandatoryCondition=\"false\"\n-                   accountid=\"F\" password=\"F\"/>\n+                   accountid=\"0\" password=\"0\"/>\n \n     <SchemaMapping id=\"113\" field=\"name\"\n                    resource_name=\"ws-target-resource-2\"\n                    schemaName=\"firstname\" schemaType=\"UserSchema\" mandatoryCondition=\"type == 'F'\"\n-                   accountid=\"F\" password=\"F\"/>\n+                   accountid=\"0\" password=\"0\"/>\n \n     <Task id=\"1\" propagationMode=\"ASYNC\" resourceOperationType=\"UPDATE\"\n                  resource_name=\"ws-target-resource-2\"\n@@ -271,24 +271,16 @@\n     <Entitlement name=\"base\"/>\n     <Entitlement name=\"advanced\" description=\"Advanced entitlement\"/>\n \n-    <SyncopeRole_Entitlement entitlements_name=\"base\"\n-                             roles_id=\"1\"/>\n-    <SyncopeRole_Entitlement entitlements_name=\"advanced\"\n-                             roles_id=\"1\"/>\n-    <SyncopeRole_Entitlement entitlements_name=\"base\"\n-                             roles_id=\"2\"/>\n-\n-    <RoleDerivedSchema name=\"displayProperty\"\n-                       expression=\"icon + ': ' + show\"/>\n-\n-    <RoleSchemaDerivation derivedSchemas_name=\"displayProperty\"\n-                                  schemas_name=\"icon\" />\n-    <RoleSchemaDerivation derivedSchemas_name=\"displayProperty\"\n-                                  schemas_name=\"show\" />\n-\n-    <RoleDerivedAttribute id=\"1001\" derivedSchema_name=\"displayProperty\"\n-                          owner_id=\"1\"/>\n-    <RoleDerivedAttribute id=\"1002\" derivedSchema_name=\"displayProperty\"\n-                          owner_id=\"4\"/>\n+    <SyncopeRole_Entitlement entitlements_name=\"base\" roles_id=\"1\"/>\n+    <SyncopeRole_Entitlement entitlements_name=\"advanced\" roles_id=\"1\"/>\n+    <SyncopeRole_Entitlement entitlements_name=\"base\" roles_id=\"2\"/>\n+\n+    <RoleDerivedSchema name=\"displayProperty\" expression=\"icon + ': ' + show\"/>\n+\n+    <RoleSchemaDerivation derivedSchemas_name=\"displayProperty\" schemas_name=\"icon\" />\n+    <RoleSchemaDerivation derivedSchemas_name=\"displayProperty\" schemas_name=\"show\" />\n+\n+    <RoleDerivedAttribute id=\"1001\" derivedSchema_name=\"displayProperty\" owner_id=\"1\"/>\n+    <RoleDerivedAttribute id=\"1002\" derivedSchema_name=\"displayProperty\" owner_id=\"4\"/>\n \n </dataset>"}]}
{"sha":"2ea9a5ed574461407e0fed989dd3ff2cab4ad232","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjJlYTlhNWVkNTc0NDYxNDA3ZTBmZWQ5ODlkZDNmZjJjYWI0YWQyMzI=","commit":{"author":{"name":"René Mulder","email":"rene@apache.org","date":"2012-05-04T15:02:19Z"},"committer":{"name":"René Mulder","email":"rene@apache.org","date":"2012-05-04T15:02:19Z"},"message":"sonar: example fix of serializable inner class problem\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1334010 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"495a64556a43d9066aa6531f25c56181da9a84d4","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/495a64556a43d9066aa6531f25c56181da9a84d4"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/2ea9a5ed574461407e0fed989dd3ff2cab4ad232","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/2ea9a5ed574461407e0fed989dd3ff2cab4ad232","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/2ea9a5ed574461407e0fed989dd3ff2cab4ad232","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/2ea9a5ed574461407e0fed989dd3ff2cab4ad232/comments","author":null,"committer":null,"parents":[{"sha":"dd3d5a9f6efeba032e453189a77fd6af06ff58a0","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/dd3d5a9f6efeba032e453189a77fd6af06ff58a0","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/dd3d5a9f6efeba032e453189a77fd6af06ff58a0"}],"stats":{"total":30,"additions":18,"deletions":12},"files":[{"sha":"95b370c8e7beec1b5c60f5447863801f027cdbc9","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/ResourcesPanel.java","status":"modified","additions":18,"deletions":12,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/2ea9a5ed574461407e0fed989dd3ff2cab4ad232/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourcesPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/2ea9a5ed574461407e0fed989dd3ff2cab4ad232/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourcesPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourcesPanel.java?ref=2ea9a5ed574461407e0fed989dd3ff2cab4ad232","patch":"@@ -38,27 +38,33 @@ public class ResourcesPanel extends Panel {\n     @SpringBean\n     private ResourceRestClient resourceRestClient;\n \n-    final IModel<List<String>> allResources = new LoadableDetachableModel<List<String>>() {\n+    public <T extends AbstractAttributableTO> ResourcesPanel(final String id, final T entityTO) {\n+        super(id);\n+        final IModel<List<String>> allResources = new allResourcesModel(resourceRestClient);\n+\n+        final AjaxPalettePanel resourcesPalette = new AjaxPalettePanel(\"resourcesPalette\", new PropertyModel(entityTO,\n+                \"resources\"), new ListModel<String>(allResources.getObject()));\n \n+        add(resourcesPalette);\n+    }\n+    \n+    private static class allResourcesModel extends LoadableDetachableModel {\n         private static final long serialVersionUID = 5275935387613157437L;\n \n+        private ResourceRestClient client;\n+        \n+        public allResourcesModel(ResourceRestClient resourceRestClient) {\n+            this.client = resourceRestClient;\n+        }\n+\n         @Override\n-        protected List<String> load() {\n+        protected Object load() {\n             final List<String> resourceNames = new ArrayList<String>();\n \n-            for (ResourceTO resourceTO : resourceRestClient.getAllResources()) {\n+            for (ResourceTO resourceTO : client.getAllResources()) {\n                 resourceNames.add(resourceTO.getName());\n             }\n             return resourceNames;\n         }\n-    };\n-\n-    public <T extends AbstractAttributableTO> ResourcesPanel(final String id, final T entityTO) {\n-        super(id);\n-\n-        final AjaxPalettePanel resourcesPalette = new AjaxPalettePanel(\"resourcesPalette\", new PropertyModel(entityTO,\n-                \"resources\"), new ListModel<String>(allResources.getObject()));\n-\n-        add(resourcesPalette);\n     }\n }"}]}
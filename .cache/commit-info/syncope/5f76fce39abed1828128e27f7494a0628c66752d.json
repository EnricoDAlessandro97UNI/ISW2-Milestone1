{"sha":"5f76fce39abed1828128e27f7494a0628c66752d","node_id":"C_kwDOJfYA1toAKDVmNzZmY2UzOWFiZWQxODI4MTI4ZTI3Zjc0OTRhMDYyOGM2Njc1MmQ","commit":{"author":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2022-09-28T12:59:42Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2022-09-28T12:59:42Z"},"message":"[SYNCOPE-1698] added check to avoid adding to the provision already p… (#377)\n\n* [SYNCOPE-1698] added check to avoid adding to the provision already present aux classes","tree":{"sha":"9b088a95c37d6c6f14d169f56f03b39307c6ee5e","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/9b088a95c37d6c6f14d169f56f03b39307c6ee5e"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/5f76fce39abed1828128e27f7494a0628c66752d","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjNEU+CRBK7hj4Ov3rIwAADq0IAKijbV3Diob5Y2Izlwq9VXRW\nbxP66MuD9MSL3pnWh9JynQwNf2vW6EIuI2DvbGfddBrvxfghtiOghLxOPhp5gDK1\nCYnbcYUE6bpnPSmKbCRxj4jJtvnQItJ1vcWlFtW6MwYhDsosE5thUAlWy3EoS5QL\nGaoOCfE2+gppMyZYaudCzda6sPQqCLsecUs0NRD3qecwTiKLEexiGDZRi+suRhD0\nKrvXgHeJctkxhd91q11tNCO83xVr8TSxXskHPJBhjc0VuHtUxf5zFvC4x3f+R+aA\n1LEmky99dp7AcKf2ReGm0f/azZ1143weJQRwT8RxvDw4XoA1h8V6FdggsGuNXmY=\n=hwUZ\n-----END PGP SIGNATURE-----\n","payload":"tree 9b088a95c37d6c6f14d169f56f03b39307c6ee5e\nparent 1c7548c4b14a65e33e7418d9a0873089f9ec4bd1\nauthor Andrea Patricelli <andreapatricelli@apache.org> 1664369982 +0200\ncommitter GitHub <noreply@github.com> 1664369982 +0200\n\n[SYNCOPE-1698] added check to avoid adding to the provision already p… (#377)\n\n* [SYNCOPE-1698] added check to avoid adding to the provision already present aux classes"}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5f76fce39abed1828128e27f7494a0628c66752d","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/5f76fce39abed1828128e27f7494a0628c66752d","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5f76fce39abed1828128e27f7494a0628c66752d/comments","author":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"1c7548c4b14a65e33e7418d9a0873089f9ec4bd1","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1c7548c4b14a65e33e7418d9a0873089f9ec4bd1","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/1c7548c4b14a65e33e7418d9a0873089f9ec4bd1"}],"stats":{"total":5,"additions":3,"deletions":2},"files":[{"sha":"b079950ce3771d6c781f80c893b5b6a5572fab95","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/data/ResourceDataBinderImpl.java","status":"modified","additions":3,"deletions":2,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5f76fce39abed1828128e27f7494a0628c66752d/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FResourceDataBinderImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5f76fce39abed1828128e27f7494a0628c66752d/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FResourceDataBinderImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FResourceDataBinderImpl.java?ref=5f76fce39abed1828128e27f7494a0628c66752d","patch":"@@ -166,8 +166,9 @@ public ExternalResource update(final ExternalResource resource, final ResourceTO\n                 // add all classes contained in the TO\n                 for (String name : provisionTO.getAuxClasses()) {\n                     AnyTypeClass anyTypeClass = anyTypeClassDAO.find(name);\n-                    if (anyTypeClass == null) {\n-                        LOG.warn(\"Ignoring invalid {}: {}\", AnyTypeClass.class.getSimpleName(), name);\n+                    if (anyTypeClass == null || provision.getAuxClasses().contains(name)) {\n+                        LOG.warn(\"Ignoring invalid or already present {}: {}\", AnyTypeClass.class.getSimpleName(),\n+                                name);\n                     } else {\n                         provision.getAuxClasses().add(anyTypeClass.getKey());\n                     }"}]}
{"sha":"9442842a4376a32d239dd434e8e421ef4f0350b0","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjk0NDI4NDJhNDM3NmEzMmQyMzlkZDQzNGU4ZTQyMWVmNGYwMzUwYjA=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2017-06-26T09:56:35Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2017-06-26T09:58:21Z"},"message":"Ensuring Wildfly / JBoss compatibility","tree":{"sha":"7eb5cc8b916fa1d3e277bfcc6b52aeabee4f36f8","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/7eb5cc8b916fa1d3e277bfcc6b52aeabee4f36f8"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/9442842a4376a32d239dd434e8e421ef4f0350b0","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/9442842a4376a32d239dd434e8e421ef4f0350b0","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/9442842a4376a32d239dd434e8e421ef4f0350b0","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/9442842a4376a32d239dd434e8e421ef4f0350b0/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"ed8e08129d37a7d60ff36b502e8195b5f4925193","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ed8e08129d37a7d60ff36b502e8195b5f4925193","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ed8e08129d37a7d60ff36b502e8195b5f4925193"}],"stats":{"total":229,"additions":115,"deletions":114},"files":[{"sha":"a38b3ba4278b9cccc71c1dc37a59a2fe6bb013a1","filename":"fit/build-tools/src/main/webapp/WEB-INF/jboss-deployment-structure.xml","status":"modified","additions":7,"deletions":0,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9442842a4376a32d239dd434e8e421ef4f0350b0/fit%2Fbuild-tools%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fjboss-deployment-structure.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9442842a4376a32d239dd434e8e421ef4f0350b0/fit%2Fbuild-tools%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fjboss-deployment-structure.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fbuild-tools%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fjboss-deployment-structure.xml?ref=9442842a4376a32d239dd434e8e421ef4f0350b0","patch":"@@ -21,15 +21,22 @@ under the License.\n   <deployment>\n     <exclude-subsystems>\n       <subsystem name=\"webservices\"/>\n+      <subsystem name=\"jaxrs\"/>\n+      <subsystem name=\"jaxws\"/>\n     </exclude-subsystems>\n     <dependencies>\n       <module name=\"org.apache.xalan\"/>\n     </dependencies>\n     <exclusions>\n+      <module name=\"javax.ws.soap.api\"/>\n+      <module name=\"javax.ws.rs.api\"/>\n       <module name=\"org.apache.cxf\"/>\n       <module name=\"org.apache.cxf.impl\"/>\n+      <module name=\"org.hibernate\"/>\n       <module name=\"org.slf4j\"/>\n       <module name=\"org.slf4j.impl\"/>\n+      <module name=\"org.apache.log4j\"/>\n+      <module name=\"org.jboss.log4j.logmanager\"/>\n     </exclusions>\n   </deployment>\n </jboss-deployment-structure>"},{"sha":"2a6597504016526d49b4029a6a68d03b33009ad3","filename":"fit/build-tools/src/main/webapp/WEB-INF/web.xml","status":"modified","additions":4,"deletions":1,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9442842a4376a32d239dd434e8e421ef4f0350b0/fit%2Fbuild-tools%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fweb.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9442842a4376a32d239dd434e8e421ef4f0350b0/fit%2Fbuild-tools%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fweb.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fbuild-tools%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fweb.xml?ref=9442842a4376a32d239dd434e8e421ef4f0350b0","patch":"@@ -25,7 +25,10 @@ under the License.\n \n   <context-param>\n     <param-name>contextConfigLocation</param-name>\n-    <param-value>classpath:/*Context.xml</param-value>\n+    <param-value>\n+      classpath*:/buildToolsContext.xml\n+      classpath*:/cxfContext.xml\n+    </param-value>\n   </context-param>\n   \n   <listener>"},{"sha":"de67c2d9abeb1bbfc61a9639c5de383b4ae2a4d2","filename":"fit/core-reference/pom.xml","status":"modified","additions":7,"deletions":73,"changes":80,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9442842a4376a32d239dd434e8e421ef4f0350b0/fit%2Fcore-reference%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9442842a4376a32d239dd434e8e421ef4f0350b0/fit%2Fcore-reference%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fpom.xml?ref=9442842a4376a32d239dd434e8e421ef4f0350b0","patch":"@@ -794,28 +794,10 @@ under the License.\n           <version>${cxf.version}</version>\n         </dependency>\n \n-        <dependency>\n-          <groupId>org.apache.syncope.core</groupId>\n-          <artifactId>syncope-core-persistence-jpa</artifactId>\n-          <version>${project.version}</version>\n-          <exclusions>\n-            <exclusion>\n-              <groupId>org.apache.bval</groupId>\n-              <artifactId>bval-jsr</artifactId>\n-            </exclusion>\n-          </exclusions>\n-        </dependency>\n-        \n         <dependency>\n           <groupId>com.h2database</groupId>\n           <artifactId>h2</artifactId>\n         </dependency>\n-        \n-        <dependency>\n-          <groupId>org.apache.syncope.ext.camel</groupId>\n-          <artifactId>syncope-ext-camel-persistence-jpa</artifactId>\n-          <version>${project.version}</version>\n-        </dependency>\n       </dependencies>\n \n       <build>\n@@ -835,63 +817,8 @@ under the License.\n                 </resource>\n               </webResources>\n               <webXml>${basedir}/src/main/resources/jboss/web.xml</webXml>\n-              <packagingExcludes>WEB-INF/lib/syncope-*-persistence-jpa-${project.version}.jar</packagingExcludes>\n             </configuration>\n           </plugin>\n-          <plugin>\n-            <groupId>org.apache.maven.plugins</groupId>\n-            <artifactId>maven-dependency-plugin</artifactId>\n-            <inherited>true</inherited>\n-            <executions>\n-              <execution>\n-                <id>unpack-jpa-entities</id>\n-                <phase>process-resources</phase>\n-                <goals>\n-                  <goal>unpack</goal>\n-                </goals>\n-                <configuration>\n-                  <artifactItems>\n-                    <artifactItem>\n-                      <groupId>org.apache.syncope.core</groupId>\n-                      <artifactId>syncope-core-persistence-jpa</artifactId>\n-                      <version>${project.version}</version>\n-                      <type>jar</type>\n-                      <overWrite>false</overWrite>\n-                    </artifactItem>\n-                    <artifactItem>\n-                      <groupId>org.apache.syncope.ext.camel</groupId>\n-                      <artifactId>syncope-ext-camel-persistence-jpa</artifactId>\n-                      <version>${project.version}</version>\n-                      <type>jar</type>\n-                      <overWrite>false</overWrite>\n-                    </artifactItem>\n-                  </artifactItems>\n-                  <outputDirectory>${project.build.directory}/${project.build.finalName}/WEB-INF/classes</outputDirectory>\n-                </configuration>\n-              </execution>\n-            </executions>\n-          </plugin>\n-          <plugin>\n-            <groupId>org.apache.maven.plugins</groupId>\n-            <artifactId>maven-antrun-plugin</artifactId>\n-            <inherited>true</inherited>\n-            <executions>\n-              <execution>\n-                <id>remove-jpa-jar</id>\n-                <phase>package</phase>\n-                <configuration>\n-                  <target>\n-                    <delete> \n-                      <fileset dir=\"${project.build.directory}/${project.build.finalName}/WEB-INF/lib\" includes=\"syncope-*-persistence-jpa-${project.version}.jar\" />\n-                    </delete>\n-                  </target>\n-                </configuration>\n-                <goals>\n-                  <goal>run</goal>\n-                </goals>\n-              </execution>\n-            </executions>\n-          </plugin>\n \n           <plugin>\n             <groupId>org.codehaus.cargo</groupId>\n@@ -925,6 +852,13 @@ under the License.\n               <exclude>restCXFContext.xml</exclude>\n             </excludes>\n           </resource>\n+          <resource>\n+            <directory>${basedir}/../../core/persistence-jpa/src/main/resources</directory>\n+            <includes>\n+              <include>persistenceContext.xml</include>\n+            </includes>\n+            <filtering>true</filtering>\n+          </resource>\n           <resource>\n             <directory>src/main/resources/jboss</directory>\n             <filtering>true</filtering>"},{"sha":"d39ed70cf5e87f6bc11ef82ce89815124da83e4f","filename":"fit/core-reference/src/main/resources/jboss/domains.xml","status":"added","additions":58,"deletions":0,"changes":58,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9442842a4376a32d239dd434e8e421ef4f0350b0/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fjboss%2Fdomains.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9442842a4376a32d239dd434e8e421ef4f0350b0/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fjboss%2Fdomains.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fjboss%2Fdomains.xml?ref=9442842a4376a32d239dd434e8e421ef4f0350b0","patch":"@@ -0,0 +1,58 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<beans xmlns=\"http://www.springframework.org/schema/beans\"\n+       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n+                           http://www.springframework.org/schema/beans/spring-beans.xsd\">\n+  \n+  <import resource=\"classpath:domains/*Domain.xml\"/>\n+  \n+  <bean class=\"org.apache.syncope.core.persistence.jpa.spring.DomainTransactionInterceptorInjector\"/>\n+  \n+  <bean id=\"commonEMFConf\" class=\"org.apache.syncope.core.persistence.jpa.spring.CommonEntityManagerFactoryConf\">\n+    <property name=\"packagesToScan\" value=\"org.apache.syncope.core.persistence.jpa.entity\"/>\n+    <property name=\"validationMode\" value=\"NONE\"/>\n+    <property name=\"persistenceUnitPostProcessors\">\n+      <list>\n+        <bean class=\"org.apache.syncope.core.persistence.jpa.spring.MultiJarAwarePersistenceUnitPostProcessor\"/>\n+      </list>\n+    </property>\n+    <property name=\"jpaPropertyMap\">\n+      <map>\n+        <entry key=\"openjpa.Log\" value=\"slf4j\"/>\n+        <!--<entry key=\"openjpa.Log\" value=\"SQL=TRACE\"/>\n+        <entry key=\"openjpa.ConnectionFactoryProperties\" \n+        value=\"PrintParameters=true, PrettyPrint=true, PrettyPrintLineLength=80\"/>-->\n+                                \n+        <entry key=\"openjpa.NontransactionalWrite\" value=\"false\"/>\n+\n+        <!-- Removed: see https://s.apache.org/openjpaSchemaFactory for more information\n+        <entry key=\"openjpa.jdbc.SchemaFactory\" value=\"native(ForeignKeys=true)\"/>-->\n+        <entry key=\"openjpa.jdbc.MappingDefaults\" \n+               value=\"ForeignKeyDeleteAction=restrict, JoinForeignKeyDeleteAction=restrict\"/>\n+                \n+        <entry key=\"openjpa.DataCache\" value=\"true\"/>\n+        <entry key=\"openjpa.QueryCache\" value=\"true\"/>\n+        <entry key=\"openjpa.RemoteCommitProvider\" value=\"sjvm\"/>\n+      </map>\n+    </property>\n+  </bean>\n+  \n+</beans>"},{"sha":"5daee06e1f155a40f201f9014dfb03ff8d3acf7c","filename":"fit/core-reference/src/main/resources/jboss/domains/MasterDomain.xml","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9442842a4376a32d239dd434e8e421ef4f0350b0/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fjboss%2Fdomains%2FMasterDomain.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9442842a4376a32d239dd434e8e421ef4f0350b0/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fjboss%2Fdomains%2FMasterDomain.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fjboss%2Fdomains%2FMasterDomain.xml?ref=9442842a4376a32d239dd434e8e421ef4f0350b0","patch":"@@ -43,7 +43,7 @@ under the License.\n   <!-- Use JNDI datasource as default but, when not available, revert to\n   local datasource, with different properties for execution and testing. \n   In any case, get all JDBC connections with a determined isolation level. -->\n-  <bean id=\"MasterDataSource\" class=\"org.springframework.jndi.JndiObjectFactoryBean\">\n+  <bean id=\"MasterDataSource\" class=\"org.springframework.jndi.JndiObjectFactoryBean\" primary=\"true\">\n     <property name=\"jndiName\" value=\"java:comp/env/jdbc/syncopeMasterDataSource\"/>\n     <property name=\"defaultObject\" ref=\"localMasterDataSource\"/>\n   </bean>\n@@ -101,10 +101,10 @@ under the License.\n     <property name=\"jpaPropertyMap\">\n       <map>\n         <entry key=\"openjpa.MetaDataFactory\" \n-               value=\"jpa(URLs=vfs:${project.build.directory}/cargo/configurations/wildfly10x/deployments/syncope.war/WEB-INF/classes, Resources=${Master.orm})\"/>\n+               value=\"jpa(URLs=vfs:${project.build.directory}/cargo/configurations/wildfly10x/deployments/syncope.war/WEB-INF/lib/syncope-core-persistence-jpa-${syncope.version}.jar, Resources=${Master.orm})\"/>\n       </map>\n     </property>\n-  </bean>\n+  </bean>  \n \n   <bean id=\"MasterTransactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\">\n     <property name=\"entityManagerFactory\" ref=\"MasterEntityManagerFactory\"/>\n@@ -113,4 +113,4 @@ under the License.\n   \n   <tx:annotation-driven transaction-manager=\"MasterTransactionManager\"/>\n   \n-</beans>\n+</beans>\n\\ No newline at end of file"},{"sha":"00c72d48c6e71d65dbc793c8301a002ec05f9639","filename":"fit/core-reference/src/main/resources/jboss/domains/TwoDomain.xml","status":"modified","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9442842a4376a32d239dd434e8e421ef4f0350b0/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fjboss%2Fdomains%2FTwoDomain.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9442842a4376a32d239dd434e8e421ef4f0350b0/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fjboss%2Fdomains%2FTwoDomain.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fjboss%2Fdomains%2FTwoDomain.xml?ref=9442842a4376a32d239dd434e8e421ef4f0350b0","patch":"@@ -43,7 +43,7 @@ under the License.\n   <!-- Use JNDI datasource as default but, when not available, revert to\n   local datasource, with different properties for execution and testing. \n   In any case, get all JDBC connections with a determined isolation level. -->\n-  <bean id=\"TwoDataSource\" class=\"org.springframework.jndi.JndiObjectFactoryBean\">\n+  <bean id=\"TwoDataSource\" class=\"org.springframework.jndi.JndiObjectFactoryBean\" primary=\"true\">\n     <property name=\"jndiName\" value=\"java:comp/env/jdbc/syncopeTwoDataSource\"/>\n     <property name=\"defaultObject\" ref=\"localTwoDataSource\"/>\n   </bean>\n@@ -58,8 +58,8 @@ under the License.\n       <util:constant static-field=\"${Two.pool.transactionIsolation:java.sql.Connection.TRANSACTION_READ_COMMITTED}\"/>\n     </property>\n     <!-- connection pool configuration - default values taken from HikariConfig default values -->\n-    <property name=\"maximumPoolSize\" value=\"${Master.pool.maxActive:8}\"/>\n-    <property name=\"minimumIdle\" value=\"${Master.pool.minIdle:0}\"/>\n+    <property name=\"maximumPoolSize\" value=\"${Two.pool.maxActive:8}\"/>\n+    <property name=\"minimumIdle\" value=\"${Two.pool.minIdle:0}\"/>\n   </bean>\n   \n   <bean class=\"org.springframework.jdbc.datasource.init.DataSourceInitializer\">\n@@ -101,16 +101,16 @@ under the License.\n     <property name=\"jpaPropertyMap\">\n       <map>\n         <entry key=\"openjpa.MetaDataFactory\" \n-               value=\"jpa(URLs=vfs:${project.build.directory}/cargo/configurations/wildfly10x/deployments/syncope.war/WEB-INF/classes, Resources=${Two.orm})\"/>\n+               value=\"jpa(URLs=vfs:${project.build.directory}/cargo/configurations/wildfly10x/deployments/syncope.war/WEB-INF/lib/syncope-core-persistence-jpa-${syncope.version}.jar, Resources=${Master.orm})\"/>\n       </map>\n     </property>\n-  </bean>\n+  </bean>  \n \n   <bean id=\"TwoTransactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\">\n     <property name=\"entityManagerFactory\" ref=\"TwoEntityManagerFactory\"/>\n     <qualifier value=\"Two\"/>\n   </bean>\n   \n   <tx:annotation-driven transaction-manager=\"TwoTransactionManager\"/>\n-  \n+\n </beans>"},{"sha":"a3aa3a4d7073fd5c41b82c239874d8e58b0a18c3","filename":"fit/core-reference/src/main/resources/jboss/web.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9442842a4376a32d239dd434e8e421ef4f0350b0/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fjboss%2Fweb.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9442842a4376a32d239dd434e8e421ef4f0350b0/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fjboss%2Fweb.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fjboss%2Fweb.xml?ref=9442842a4376a32d239dd434e8e421ef4f0350b0","patch":"@@ -32,7 +32,7 @@ under the License.\n       classpath*:/securityContext.xml\n       classpath*:/logicContext.xml\n       classpath:/restCXFContext.xml\n-      classpath*:/persistenceContext.xml\n+      classpath:/persistenceContext.xml\n       classpath*:/provisioning*Context.xml\n       classpath*:/workflow*Context.xml\n     </param-value>"},{"sha":"6baecf6c61a963edad1378b5d7b9d3aa632cdcdd","filename":"fit/core-reference/src/main/webapp/WEB-INF/jboss-deployment-structure.xml","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9442842a4376a32d239dd434e8e421ef4f0350b0/fit%2Fcore-reference%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fjboss-deployment-structure.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9442842a4376a32d239dd434e8e421ef4f0350b0/fit%2Fcore-reference%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fjboss-deployment-structure.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fjboss-deployment-structure.xml?ref=9442842a4376a32d239dd434e8e421ef4f0350b0","patch":"@@ -22,11 +22,15 @@ under the License.\n     <exclude-subsystems>\n       <subsystem name=\"webservices\"/>\n       <subsystem name=\"jaxrs\"/>\n+      <subsystem name=\"bean-validation\"/>\n     </exclude-subsystems>\n     <dependencies>\n       <module name=\"org.apache.xalan\"/>\n     </dependencies>\n     <exclusions>\n+      <module name=\"javax.validation.api\"/>\n+      <module name=\"org.hibernate.validator\"/> \n+      <module name=\"org.hibernate.validator.cdi\"/>\n       <module name=\"javax.ws.rs.api\"/>\n       <module name=\"org.apache.cxf\"/>\n       <module name=\"org.apache.cxf.impl\"/>"},{"sha":"f857dc5326df7c1e7189c7f8be7d8ecb289c888e","filename":"src/main/asciidoc/reference-guide/workingwithapachesyncope/systemadministration/javaeecontainer.adoc","status":"modified","additions":19,"deletions":29,"changes":48,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9442842a4376a32d239dd434e8e421ef4f0350b0/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fjavaeecontainer.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9442842a4376a32d239dd434e8e421ef4f0350b0/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fjavaeecontainer.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fjavaeecontainer.adoc?ref=9442842a4376a32d239dd434e8e421ef4f0350b0","patch":"@@ -74,34 +74,6 @@ provides a datasource named `jdbc/syncopeMasterDataSource`.\n \n ===== Wildfly 9 and 10\n \n-Replace\n-\n-[source,xml]\n-....\n-    <dependency>\n-      <groupId>org.apache.syncope.core</groupId>\n-      <artifactId>syncope-core-persistence-jpa</artifactId>\n-    </dependency>\n-....\n-\n-with\n-\n-[source,xml]\n-....\n-    <dependency>\n-      <groupId>org.apache.syncope.core</groupId>\n-      <artifactId>syncope-core-persistence-jpa</artifactId>\n-      <exclusions>\n-        <exclusion>\n-          <groupId>org.apache.bval</groupId>\n-          <artifactId>bval-jsr</artifactId>\n-        </exclusion>\n-      </exclusions>\n-    </dependency>\n-....\n-\n-in `core/pom.xml`.\n-\n Add\n \n [source,xml]\n@@ -154,7 +126,7 @@ classpath*:/coreContext.xml\n classpath*:/securityContext.xml\n classpath*:/logicContext.xml\n classpath:/restCXFContext.xml\n-classpath*:/persistenceContext.xml\n+classpath:/persistenceContext.xml\n classpath*:/provisioning*Context.xml\n classpath*:/workflow*Context.xml\n ....\n@@ -170,6 +142,24 @@ https://github.com/apache/syncope/blob/master/fit/core-reference/src/main/resour\n endif::[]\n and save it under `core/src/main/resources/`.\n \n+Download\n+ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/fit/core-reference/src/main/resources/jboss/domains.xml[domains.xml^]\n+endif::[]\n+ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n+https://github.com/apache/syncope/blob/master/fit/core-reference/src/main/resources/jboss/domains.xml[domains.xml^]\n+endif::[]\n+and save it under `core/src/main/resources/`.\n+\n+Download\n+ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/core/persistence-jpa/src/main/resources/persistenceContext.xml[persistenceContext.xml^]\n+endif::[]\n+ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n+https://github.com/apache/syncope/blob/master/core/persistence-jpa/src/main/resources/persistenceContext.xml[persistenceContext.xml^]\n+endif::[]\n+and save it under `core/src/main/resources/`.\n+\n Finally, add\n \n [source,xml]"},{"sha":"91da18b2d1620fec15cdd92c27aeb10ed079246c","filename":"src/site/xdoc/building.xml","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9442842a4376a32d239dd434e8e421ef4f0350b0/src%2Fsite%2Fxdoc%2Fbuilding.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9442842a4376a32d239dd434e8e421ef4f0350b0/src%2Fsite%2Fxdoc%2Fbuilding.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fsite%2Fxdoc%2Fbuilding.xml?ref=9442842a4376a32d239dd434e8e421ef4f0350b0","patch":"@@ -84,6 +84,11 @@ under the License.\n         subdirectory, not from top-level.\n       </p>\n       <subsection name=\"fit/core-reference\">\n+        <h4>All integration tests</h4>\n+        In order to keep the overall build time under acceptable time limits on average hardware, not all the available\n+        integration tests are run by default; in order to run them all, anyway, a specific build profile is provided.\n+        <source>$ mvn clean verify -Pfull-it,all</source>\n+\n         <h4>application/xml</h4>\n         By default, integration tests are run using <code>application/json</code> for both <code>Accept</code> and\n         <code>Content-Type</code> HTTP headers; it is possible, however, to use <code>application/xml</code>."}]}
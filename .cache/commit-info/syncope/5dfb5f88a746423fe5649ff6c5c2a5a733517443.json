{"sha":"5dfb5f88a746423fe5649ff6c5c2a5a733517443","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjVkZmI1Zjg4YTc0NjQyM2ZlNTY0OWZmNmM1YzJhNWE3MzM1MTc0NDM=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2012-04-26T15:27:22Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2012-04-26T15:27:22Z"},"message":"Draft release process page (not yet linked in the left menu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1330904 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"299d382c2ca636b03c805d6b26855be5941d7c09","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/299d382c2ca636b03c805d6b26855be5941d7c09"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/5dfb5f88a746423fe5649ff6c5c2a5a733517443","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5dfb5f88a746423fe5649ff6c5c2a5a733517443","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/5dfb5f88a746423fe5649ff6c5c2a5a733517443","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5dfb5f88a746423fe5649ff6c5c2a5a733517443/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"fac4981eacb940d8bd8278d3ed929a6cb53c64f1","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fac4981eacb940d8bd8278d3ed929a6cb53c64f1","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/fac4981eacb940d8bd8278d3ed929a6cb53c64f1"}],"stats":{"total":393,"additions":393,"deletions":0},"files":[{"sha":"cd9cbd9339f6c752bb0d11b0be4948f1aae1259d","filename":"parent/src/site/xdoc/release-process.xml","status":"added","additions":393,"deletions":0,"changes":393,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5dfb5f88a746423fe5649ff6c5c2a5a733517443/parent%2Fsrc%2Fsite%2Fxdoc%2Frelease-process.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5dfb5f88a746423fe5649ff6c5c2a5a733517443/parent%2Fsrc%2Fsite%2Fxdoc%2Frelease-process.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/parent%2Fsrc%2Fsite%2Fxdoc%2Frelease-process.xml?ref=5dfb5f88a746423fe5649ff6c5c2a5a733517443","patch":"@@ -0,0 +1,393 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+\n+-->\n+<document xmlns=\"http://maven.apache.org/XDOC/2.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+          xsi:schemaLocation=\"http://maven.apache.org/XDOC/2.0 http://maven.apache.org/xsd/xdoc-2.0.xsd\">\n+\n+  <properties>\n+    <title>Apache Syncope</title>\n+    <author email=\"syncope-dev@incubator.apache.org\">Apache Syncope Documentation Team</author>\n+  </properties>\n+\n+  <body>\n+    <p>The Syncope team is using the \n+      <a href=\"http://repository.apache.org\">Apache Nexus repository</a> for releasing SNAPSHOT and release artifacts.\n+      More details on releasing artifacts and using Nexus can be found on the Maven website at\n+      <a href=\"http://maven.apache.org/developers/release/apache-release.html\">http://maven.apache.org/developers/release/apache-release.html</a>.\n+    </p>\n+    \n+    <section name=\"Release steps\">\n+      \n+      <subsection name=\"Prepare the source for release\">\n+        <ol>\n+          <li>Clean up JIRA so the             \n+            <b>Fix Version</b> in issues resolved since the last\n+            release includes this release version correctly.  Also, transition any\n+            <b>Resolved</b> issues to the \n+            <b>Closed</b> state.\n+          </li>\n+          <li>\n+            Update the text files in a working copy of the project root:\n+            <ol>\n+              <li>Update the \n+                <tt>CHANGES</tt> based on the Text release reports from JIRA.\n+              </li>\n+              <li>Review and update \n+                <tt>README</tt> if needed.\n+              </li>\n+              <li>\n+                Commit any changes back to svn:\n+                <source>svn commit -m \"updating files for release\"</source>\n+              </li>\n+            </ol>\n+          </li>\n+          <li>\n+            Perform a full build and deploy the SNAPSHOT artifacts:\n+            <source>mvn -P apache-release clean deploy</source>\n+          </li>\n+        </ol>\n+      </subsection>\n+      \n+      <subsection name=\"Get source tree\">\n+        <ol>\n+          <li>\n+            <strong>\n+              <em>Only for new major releases (like 1.0.0 to 1.1.0):</em>\n+            </strong>\n+            <br/>\n+            Create a sub-branch from which to make the release.\n+            <br/>\n+            Releasing from a branch will allow any cosmetic changes that need to be made for the release to be \n+            approved to be done without preventing other more disruptive advances in the trunk from potentially \n+            causing problems with the release. It also provides a future maintenance branch (like 1.0.x.)\n+            <br/>\n+            A branch can be made by running:\n+            <source>mvn release:branch -DbranchName=1.0.x</source>\n+          </li>\n+          <li>\n+            Checkout a clean copy of the trunk/branch to release using command line svn:\n+            <source>svn checkout https://svn.apache.org/repos/asf/incubator/syncope/trunk/ release</source>\n+          </li>\n+        </ol>\n+      </subsection>\n+      \n+      <subsection name=\"Prepare the release\">\n+        <ol>\n+          <li>\n+            Do a dry run of the \n+            <tt>release:prepare</tt> step.\n+            <source>mvn -Papache-release release:prepare -DdryRun=true</source>\n+\n+            The dry run will not commit any changes back to SVN and gives you the opportunity to verify that the \n+            release process will complete as expected.\n+          \n+            <p>\n+              <em>If you cancel a \n+                <tt>release:prepare</tt> before it updates the pom.xml versions, then use the \n+                <tt>release:clean</tt> goal to just remove the extra files that were created.\n+              </em>\n+            </p>\n+          </li>\n+          <li>\n+            Verify that the release process completed as expected:\n+            <ol>\n+              <li>The release plugin will create \n+                <code>pom.xml.tag</code> files which contain the\n+                changes that would have been committed to SVN. The only differences between\n+                <code>pom.xml.tag</code> and its corresponding \n+                <code>pom.xml</code> file should be the version\n+                number.\n+              </li>\n+              <li>\n+                If other formatting changes have been made you should review the changes and then commit them:\n+                <source>svn commit -m \"fixing formatting for release\"</source>\n+              </li>\n+              <li>\n+                Assuming the \n+                <code>.tag</code> files look OK you may proceed and do any other validation you feel necessary.\n+                The following list may be helpful:\n+                <ol>\n+                  <li>Check \n+                    <tt>release.properties</tt> and make sure that the scm properties have the\n+                    right version. Sometimes the scm location can be the previous version not the next version.\n+                  </li>\n+                  <li>\n+                    Verify signatures: On Un*x platforms the following command can be executed:\n+<source>for file in `find . -type f -iname '*.asc'`\n+do\n+  gpg --verify ${file} \n+done</source>\n+                    You'll need to look at the output to ensure it contains only good signatures:\n+<source>gpg: Good signature from ...\n+gpg: Signature made ...</source>\n+                  </li>\n+                </ol>\n+              </li>\n+              <li>\n+                Once any failures or required updates have been committed to svn, rollback the release prepare files:\n+                <source>mvn -P apache-release release:rollback</source>\n+              </li>\n+            </ol>\n+          </li>\n+          <li>\n+            Run the \n+            <tt>release:prepare</tt> step for real this time. You'll be prompted for the same version information and \n+            optionally your GPG passphrase again.\n+            <source>mvn -P apache-release release:prepare</source>\n+          </li>\n+          <li>\n+            Backup (zip or tar) your local release candidate directory in case you need to rollback the release after \n+            the next step is performed.\n+<source>cd ..\n+tar -czf 1.0-rc1.tar.gz 1.0-rc1/\n+cd 1.0-rc1</source>\n+          </li>\n+        </ol>\n+      </subsection>\n+      \n+      <subsection name=\"Perform the release\">\n+        This step will create a maven staging repository\n+        <source>mvn -P apache-release release:perform</source>\n+        \n+        <ol>\n+          <li>Verify the staged artifacts in the Nexus repository:\n+            <ol>\n+              <li>\n+                <a href=\"https://repository.apache.org/index.html\">https://repository.apache.org/index.html</a>\n+              </li>\n+              <li>\n+                <strong>Enterprise --&gt; Staging</strong>\n+              </li>\n+              <li>\n+                <strong>Staging tab --&gt; Name column --&gt; org.apache.syncope</strong>\n+              </li>\n+              <li>Navigate through the artifact tree and make sure that all binary, \n+                <code>javadoc</code>,\n+                <code>sources</code>, and \n+                <code>tests</code> jars, as well as \n+                <code>pom</code>s, ... have \n+                <code>.asc</code> (GPG signature) and \n+                <code>.md5</code>\n+                files (see \n+                <a href=\"http://people.apache.org/~henkp/repo/faq.html\">Repository FAQ</a> and \n+                <a href=\"http://www.apache.org/dev/release-signing.html#openpgp-ascii-detach-sig\">Detached Signatures</a>).\n+                The \n+                <code>syncope-source.tar.gz</code> and \n+                <code>syncope-source.zip</code> of \n+                <code>syncope-root</code>\n+                should likewise have signature and checksum files.\n+              </li>\n+            </ol>\n+          </li>\n+          <li>Close the nexus staging repo:\n+            <ol>\n+              <li>\n+                <a href=\"https://repository.apache.org/index.html\">https://repository.apache.org/index.html</a>\n+              </li>\n+              <li>\n+                <strong>Enterprise --&gt; Staging</strong>\n+              </li>\n+              <li>\n+                <strong>Staging tab --&gt; Name column --&gt; org.apache.syncope</strong>\n+              </li>\n+              <li>Right click on the open \n+                <code>org.apache.syncope-XXX</code> staging repo\n+                and select \n+                <strong>Close</strong>.\n+              </li>\n+            </ol>\n+          </li>\n+        </ol>\n+      </subsection>\n+      \n+      <subsection name=\"Vote the Release\">\n+        <ol>\n+          <li>\n+            Create a \n+            <code>VOTE</code> email thread on \n+            <a href=\"mailto:syncope-dev@incubator.apache.org\">syncope-dev</a> to record votes as replies, e.g.:\n+            <pre>\n+To: syncope-dev@incubator.apache.org\n+Subject: [VOTE] Apache Syncope &lt;version&gt;\n+\n+I've created a &lt;version&gt; release, with the following artifacts up for a vote:\n+\n+SVN source tag (r9999999):\n+https://svn.apache.org/repos/asf/incubator/syncope/tags/&lt;version&gt;/\n+\n+Maven staging repo:\n+https://repository.apache.org/content/repositories/orgapachesyncope-YYY/\n+\n+Source release:\n+https://repository.apache.org/content/repositories/orgapachesyncope-YYY/org/apache/syncope/syncope-root/&lt;version&gt;/syncope-&lt;version&gt;-source.tar.gz\n+https://repository.apache.org/content/repositories/orgapachesyncope-YYY/org/apache/syncope/syncope-root/&lt;version&gt;/syncope-&lt;version&gt;-source.zip\n+\n+PGP release keys (signed using ABCDEFG):\n+http://www.apache.org/dist/incubator/syncope/KEYS\n+\n+Vote will be open for 72 hours.\n+\n+[ ] +1  approve\n+[ ] +0  no opinion\n+[ ] -1  disapprove (and reason why)\n+            </pre>\n+          </li>\n+          <li>\n+            Create a DISCUSS email thread on syncope-dev@ for any vote questions, e.g.:\n+            <pre>\n+To: syncope-dev@incubator.apache.org\n+Subject: [DISCUSS] Apache Syncope &lt;version&gt;\n+\n+Discussion thread for vote on &lt;version&gt; release candidate, with SVN source tag (r9999999).\n+\n+For more information on the release process, check out http://www.apache.org/dev/release.html\n+\n+Some of the things to check before voting are:\n+ - does \"mvn apache-rat:check\" pass on the source\n+ - can you build the contents of source-release.zip and svn tag\n+ - do all of the staged jars/zips contain the required LICENSE and NOTICE files\n+ - are all of the staged jars signed and the signature verifiable\n+ - is the signing key in the project's KEYS file and on a public server (i.e. http://www.apache.org/dist/incubator/syncope/)\n+            </pre>\n+          </li>\n+          <li>\n+            Perform a review of the release and cast your vote. For more details on Apache releases see\n+            <a href=\"http://www.apache.org/dev/release.html\">http://www.apache.org/dev/release.html</a>.\n+          </li>\n+          <li>A -1 vote does not necessarily mean that the vote must be redone,\n+            however it is usually a good idea to rollback the release if a -1 vote is\n+            received (see \"Recovering from a vetoed release\" below).\n+          </li>\n+          <li>After the vote has been open for at least 72 hours, has at least three\n+            +1 PMC votes and no -1 votes, then post the results to the vote thread:\n+            <ol>\n+              <li>Reply to the initial email prepending \n+                <code>[RESULT]</code> to the original subject\n+              </li>\n+              <li>Include a list of every binding +1, 0 or -1 vote.</li>\n+            </ol>\n+          </li>\n+        </ol>\n+      </subsection>\n+      \n+      <subsection name=\"Finalize the Release\">\n+        <ol>\n+          <li>Promote the staged nexus artifacts:\n+            <ol>\n+              <li>\n+                <a href=\"https://repository.apache.org/index.html\">https://repository.apache.org/index.html</a>\n+              </li>\n+              <li>\n+                <strong>Enterprise --&gt; Staging</strong>\n+              </li>\n+              <li>\n+                <strong>Staging tab --&gt; Name column --&gt; org.apache.syncope</strong>\n+              </li>\n+              <li>Right click on the closed \n+                <code>org.apache.syncope-XXX</code> staging repo and select \n+                <strong>Release</strong>.\n+              </li>\n+            </ol>\n+          </li>\n+          <li>\n+            Add the distribution artifacts to the distribution area\n+            <p>\n+              <strong>TO BE COMPLETED</strong>\n+            </p>\n+          </li>\n+          <li>\n+            Update the \n+            <em>Downloads</em> site page to point to the new release artifacts\n+            <p>\n+              <strong>TO BE COMPLETED</strong>\n+            </p>\n+          </li>\n+          <li>\n+            <p>Update the \n+              <a href=\"https://issues.apache.org/jira/plugins/servlet/project-config/SYNCOPE/versions\">JIRA versions</a>\n+              page to mark the version as \n+              <strong>Released</strong>, and set the date to the date that\n+              the release was approved. You may also need to make a new release entry for the next release.\n+            </p>\n+          </li>\n+        </ol>\n+      </subsection>\n+      \n+      <subsection name=\"Announce the Release\">\n+        Make an announcement about the release on the\n+        <a href=\"mailto:syncope-user@incubator.apache.org\">syncope-user</a>,\n+        <a href=\"mailto:syncope-dev@incubator.apache.org\">syncope-dev</a>, and\n+        <a href=\"mailto:announce@apache.org\">announce@apache.org</a> lists as per\n+        <a href=\"http://www.apache.org/foundation/mailinglists.html#foundation-announce]\">the Apache Announcement Mailing Lists page</a>\n+      </subsection>\n+    </section>\n+    \n+    <section name=\"Recovering from a vetoed release\">\n+      <ol>\n+        <li>\n+          <p>Reply to the initial vote email prepending \n+            <code>[CANCELED]</code> to the original subject.\n+          </p>\n+        </li>\n+        <li>\n+          <p>Rollback the version upgrades in trunk by \n+            <em>either</em>:\n+          </p>\n+          <ol>\n+            <li>\n+              Restore the 0.1-rc1.tar.gz and run\n+              <source>mvn -P apache-release release:rollback</source> \n+              <em>or</em>:\n+              manually revert the versions in trunk to the prior version and commit\n+            </li>\n+          </ol>\n+        </li>\n+        <li>\n+          <p>Delete the svn tag created by the \n+            <code>release:perform</code> step:\n+          </p>\n+          <source>svn rm https://svn.apache.org/repos/asf/incubator/syncope/tags/1.0 -m \"deleting tag from rolled back release\"</source>\n+        </li>\n+        <li>\n+          <p>Drop the nexus staging repo:</p>\n+          <ol>\n+            <li>\n+              <a href=\"https://repository.apache.org/index.html\">https://repository.apache.org/index.html</a>\n+            </li>\n+            <li>\n+              <strong>Enterprise --&gt; Staging</strong>\n+            </li>\n+            <li>\n+              <strong>Staging tab --&gt; Name column --&gt; org.apache.syncope</strong>\n+            </li>\n+            <li>Right click on the closed \n+              <code>org.apache.syncope-XXX</code> staging repo and select \n+              <strong>Drop</strong>.\n+            </li>\n+          </ol>\n+        </li>\n+        <li>\n+          Make the required updates that caused the vote to be canceled.\n+        </li>\n+        <li>Spin another release attempt!</li>\n+      </ol>\n+    </section>\n+  </body>\n+</document>\n\\ No newline at end of file"}]}
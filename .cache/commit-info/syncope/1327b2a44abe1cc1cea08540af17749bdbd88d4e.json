{"sha":"1327b2a44abe1cc1cea08540af17749bdbd88d4e","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjEzMjdiMmE0NGFiZTFjYzFjZWEwODU0MGFmMTc3NDliZGJkODhkNGU=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2015-01-26T14:47:02Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2015-01-26T14:47:02Z"},"message":"[SYNCOPE-620] IT with Activiti","tree":{"sha":"20a3f4ca2e9cb3026601da80d9eef4d195897c74","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/20a3f4ca2e9cb3026601da80d9eef4d195897c74"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/1327b2a44abe1cc1cea08540af17749bdbd88d4e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1327b2a44abe1cc1cea08540af17749bdbd88d4e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/1327b2a44abe1cc1cea08540af17749bdbd88d4e","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1327b2a44abe1cc1cea08540af17749bdbd88d4e/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"702810d8b0f28e57896686670096cb1977106537","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/702810d8b0f28e57896686670096cb1977106537","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/702810d8b0f28e57896686670096cb1977106537"}],"stats":{"total":1909,"additions":1292,"deletions":617},"files":[{"sha":"26d023b529b08dbad2d74b0604c2108fd79eca00","filename":"common/src/main/java/org/apache/syncope/common/to/WorkflowFormTO.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fto%2FWorkflowFormTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fto%2FWorkflowFormTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fto%2FWorkflowFormTO.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -32,7 +32,6 @@\n import javax.xml.bind.annotation.XmlRootElement;\n import javax.xml.bind.annotation.XmlType;\n import org.apache.syncope.common.AbstractBaseBean;\n-import org.apache.syncope.common.to.WorkflowFormPropertyTO;\n \n @XmlRootElement(name = \"workflowForm\")\n @XmlType"},{"sha":"11bfa51a1176d28e1c18291abca91b006f6b9597","filename":"syncope620/client/lib/src/main/java/org/apache/syncope/client/lib/SyncopeClient.java","status":"modified","additions":0,"deletions":28,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fclient%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Flib%2FSyncopeClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fclient%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Flib%2FSyncopeClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fclient%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Flib%2FSyncopeClient.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -20,16 +20,13 @@\n \n import javax.ws.rs.core.EntityTag;\n import javax.ws.rs.core.MediaType;\n-import javax.ws.rs.core.Response;\n import org.apache.cxf.jaxrs.client.WebClient;\n import org.apache.syncope.common.lib.search.OrderByClauseBuilder;\n import org.apache.syncope.common.lib.search.RoleFiqlSearchConditionBuilder;\n import org.apache.syncope.common.lib.search.UserFiqlSearchConditionBuilder;\n-import org.apache.syncope.common.lib.types.SubjectType;\n import org.apache.syncope.common.rest.api.Preference;\n import org.apache.syncope.common.rest.api.RESTHeaders;\n import org.apache.syncope.common.rest.api.service.UserSelfService;\n-import org.apache.syncope.common.rest.api.service.WorkflowService;\n \n /**\n  * Entry point for client access to all REST services exposed by Syncope core; obtain instances via\n@@ -238,31 +235,6 @@ public boolean isPwdResetRequiringSecurityQuestions() {\n                 getOptions().getHeaderString(RESTHeaders.PWDRESET_NEEDS_SECURITYQUESTIONS));\n     }\n \n-    /**\n-     * Checks whether Activiti workflow is enabled for users / roles, by calling <tt>WorkflowService</tt>'s options.\n-     *\n-     * @param subjectType user / role\n-     * @return whether Activiti workflow is enabled for given attributable type\n-     * @see WorkflowService#getOptions(org.apache.syncope.common.types.SubjectType)\n-     */\n-    public boolean isActivitiEnabledFor(final SubjectType subjectType) {\n-        Response options = getService(WorkflowService.class).getOptions(subjectType);\n-\n-        boolean result;\n-        switch (subjectType) {\n-            case ROLE:\n-                result = Boolean.valueOf(options.getHeaderString(RESTHeaders.ACTIVITI_ROLE_ENABLED));\n-                break;\n-\n-            case USER:\n-            default:\n-                result = Boolean.valueOf(options.getHeaderString(RESTHeaders.ACTIVITI_USER_ENABLED));\n-                break;\n-        }\n-\n-        return result;\n-    }\n-\n     /**\n      * Fetches <tt>ETag</tt> header value from latest service run (if available).\n      *"},{"sha":"d21e03f762e5c5d7daf31501e8cad15a3eb5e191","filename":"syncope620/common/lib/src/main/java/org/apache/syncope/common/lib/to/SyncopeTO.java","status":"added","additions":186,"deletions":0,"changes":186,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FSyncopeTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FSyncopeTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FSyncopeTO.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -0,0 +1,186 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.common.lib.to;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import java.util.ArrayList;\n+import java.util.List;\n+import javax.xml.bind.annotation.XmlElement;\n+import javax.xml.bind.annotation.XmlElementWrapper;\n+import javax.xml.bind.annotation.XmlRootElement;\n+import javax.xml.bind.annotation.XmlType;\n+import org.apache.syncope.common.lib.AbstractBaseBean;\n+\n+@XmlRootElement(name = \"syncope\")\n+@XmlType\n+public class SyncopeTO extends AbstractBaseBean {\n+\n+    private static final long serialVersionUID = -7941853999417673827L;\n+\n+    private String version;\n+\n+    private final List<String> connIdLocations = new ArrayList<>();\n+\n+    private String attributableTransformer;\n+\n+    private String userWorkflowAdapter;\n+\n+    private String roleWorkflowAdapter;\n+\n+    private String userProvisioningManager;\n+\n+    private String roleProvisioningManager;\n+\n+    private final List<String> reportlets = new ArrayList<>();\n+\n+    private final List<String> taskJobs = new ArrayList<>();\n+\n+    private final List<String> propagationActions = new ArrayList<>();\n+\n+    private final List<String> syncActions = new ArrayList<>();\n+\n+    private final List<String> pushActions = new ArrayList<>();\n+\n+    private final List<String> syncCorrelationRules = new ArrayList<>();\n+\n+    private final List<String> pushCorrelationRules = new ArrayList<>();\n+\n+    private final List<String> validators = new ArrayList<>();\n+\n+    private final List<String> mailTemplates = new ArrayList<>();\n+\n+    public String getVersion() {\n+        return version;\n+    }\n+\n+    @XmlElementWrapper(name = \"connIdLocations\")\n+    @XmlElement(name = \"connIdLocation\")\n+    @JsonProperty(\"connIdLocations\")\n+    public List<String> getConnIdLocations() {\n+        return connIdLocations;\n+    }\n+\n+    public String getAttributableTransformer() {\n+        return attributableTransformer;\n+    }\n+\n+    public String getUserWorkflowAdapter() {\n+        return userWorkflowAdapter;\n+    }\n+\n+    public String getRoleWorkflowAdapter() {\n+        return roleWorkflowAdapter;\n+    }\n+\n+    public String getUserProvisioningManager() {\n+        return userProvisioningManager;\n+    }\n+\n+    public String getRoleProvisioningManager() {\n+        return roleProvisioningManager;\n+    }\n+\n+    @XmlElementWrapper(name = \"reportlets\")\n+    @XmlElement(name = \"reportlet\")\n+    @JsonProperty(\"reportlets\")\n+    public List<String> getReportlets() {\n+        return reportlets;\n+    }\n+\n+    @XmlElementWrapper(name = \"taskJobs\")\n+    @XmlElement(name = \"taskJob\")\n+    @JsonProperty(\"taskJobs\")\n+    public List<String> getTaskJobs() {\n+        return taskJobs;\n+    }\n+\n+    @XmlElementWrapper(name = \"propagationActions\")\n+    @XmlElement(name = \"propagationAction\")\n+    @JsonProperty(\"propagationActions\")\n+    public List<String> getPropagationActions() {\n+        return propagationActions;\n+    }\n+\n+    @XmlElementWrapper(name = \"syncActions\")\n+    @XmlElement(name = \"syncAction\")\n+    @JsonProperty(\"syncActions\")\n+    public List<String> getSyncActions() {\n+        return syncActions;\n+    }\n+\n+    @XmlElementWrapper(name = \"pushActions\")\n+    @XmlElement(name = \"pushAction\")\n+    @JsonProperty(\"pushActions\")\n+    public List<String> getPushActions() {\n+        return pushActions;\n+    }\n+\n+    @XmlElementWrapper(name = \"syncCorrelationRules\")\n+    @XmlElement(name = \"syncCorrelationRule\")\n+    @JsonProperty(\"syncCorrelationRules\")\n+    public List<String> getSyncCorrelationRules() {\n+        return syncCorrelationRules;\n+    }\n+\n+    @XmlElementWrapper(name = \"pushCorrelationRules\")\n+    @XmlElement(name = \"pushCorrelationRule\")\n+    @JsonProperty(\"pushCorrelationRules\")\n+    public List<String> getPushCorrelationRules() {\n+        return pushCorrelationRules;\n+    }\n+\n+    @XmlElementWrapper(name = \"validators\")\n+    @XmlElement(name = \"validator\")\n+    @JsonProperty(\"validators\")\n+    public List<String> getValidators() {\n+        return validators;\n+    }\n+\n+    @XmlElementWrapper(name = \"mailTemplates\")\n+    @XmlElement(name = \"mailTemplate\")\n+    @JsonProperty(\"mailTemplates\")\n+    public List<String> getMailTemplates() {\n+        return mailTemplates;\n+    }\n+\n+    public void setVersion(final String version) {\n+        this.version = version;\n+    }\n+\n+    public void setAttributableTransformer(final String attributableTransformer) {\n+        this.attributableTransformer = attributableTransformer;\n+    }\n+\n+    public void setUserWorkflowAdapter(final String userWorkflowAdapter) {\n+        this.userWorkflowAdapter = userWorkflowAdapter;\n+    }\n+\n+    public void setRoleWorkflowAdapter(final String roleWorkflowAdapter) {\n+        this.roleWorkflowAdapter = roleWorkflowAdapter;\n+    }\n+\n+    public void setUserProvisioningManager(final String userProvisioningManager) {\n+        this.userProvisioningManager = userProvisioningManager;\n+    }\n+\n+    public void setRoleProvisioningManager(final String roleProvisioningManager) {\n+        this.roleProvisioningManager = roleProvisioningManager;\n+    }\n+\n+}"},{"sha":"5b67c92f6eeca86bd7663eb1b4c573668072360c","filename":"syncope620/common/lib/src/main/java/org/apache/syncope/common/lib/to/WorkflowFormPropertyTO.java","status":"modified","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FWorkflowFormPropertyTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FWorkflowFormPropertyTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FWorkflowFormPropertyTO.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -31,7 +31,7 @@ public class WorkflowFormPropertyTO extends AbstractBaseBean {\n \n     private static final long serialVersionUID = 9139969592634304261L;\n \n-    private String key;\n+    private String id;\n \n     private String name;\n \n@@ -47,14 +47,14 @@ public class WorkflowFormPropertyTO extends AbstractBaseBean {\n \n     private String datePattern;\n \n-    private Map<String, String> enumValues = new HashMap<>();\n+    private final Map<String, String> enumValues = new HashMap<>();\n \n-    public String getKey() {\n-        return key;\n+    public String getId() {\n+        return id;\n     }\n \n-    public void setKey(final String key) {\n-        this.key = key;\n+    public void setId(final String id) {\n+        this.id = id;\n     }\n \n     public String getName() {"},{"sha":"90dc7c29ec95e7b2a1708fe54046b78d5d6cd63a","filename":"syncope620/common/lib/src/main/java/org/apache/syncope/common/lib/to/WorkflowFormTO.java","status":"modified","additions":7,"deletions":17,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FWorkflowFormTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FWorkflowFormTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FWorkflowFormTO.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -52,11 +52,7 @@ public class WorkflowFormTO extends AbstractBaseBean {\n \n     private String owner;\n \n-    private final List<WorkflowFormPropertyTO> properties;\n-\n-    public WorkflowFormTO() {\n-        properties = new ArrayList<>();\n-    }\n+    private final List<WorkflowFormPropertyTO> properties = new ArrayList<>();\n \n     public long getUserKey() {\n         return userKey;\n@@ -133,27 +129,21 @@ public boolean removeProperty(final WorkflowFormPropertyTO property) {\n \n     @JsonIgnore\n     public Map<String, WorkflowFormPropertyTO> getPropertyMap() {\n-        Map<String, WorkflowFormPropertyTO> result;\n-\n-        if (getProperties() == null) {\n-            result = Collections.emptyMap();\n-        } else {\n-            result = new HashMap<>();\n-            for (WorkflowFormPropertyTO prop : getProperties()) {\n-                result.put(prop.getKey(), prop);\n-            }\n-            result = Collections.unmodifiableMap(result);\n+        Map<String, WorkflowFormPropertyTO> result = new HashMap<>();\n+        for (WorkflowFormPropertyTO prop : getProperties()) {\n+            result.put(prop.getId(), prop);\n         }\n+        result = Collections.unmodifiableMap(result);\n \n         return result;\n     }\n \n     @JsonIgnore\n     public Map<String, String> getPropertiesForSubmit() {\n-        Map<String, String> props = new HashMap<String, String>();\n+        Map<String, String> props = new HashMap<>();\n         for (WorkflowFormPropertyTO prop : getProperties()) {\n             if (prop.isWritable()) {\n-                props.put(prop.getKey(), prop.getValue());\n+                props.put(prop.getId(), prop.getValue());\n             }\n         }\n "},{"sha":"b85a6f5cd27ea211e899c98cb4f1e240c29007e4","filename":"syncope620/common/lib/src/main/java/org/apache/syncope/common/lib/wrap/JobClass.java","status":"removed","additions":0,"deletions":30,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/702810d8b0f28e57896686670096cb1977106537/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwrap%2FJobClass.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/702810d8b0f28e57896686670096cb1977106537/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwrap%2FJobClass.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwrap%2FJobClass.java?ref=702810d8b0f28e57896686670096cb1977106537","patch":"@@ -1,30 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.common.lib.wrap;\n-\n-import javax.xml.bind.annotation.XmlRootElement;\n-import javax.xml.bind.annotation.XmlType;\n-\n-@XmlRootElement(name = \"jobClass\")\n-@XmlType\n-public class JobClass extends AbstractWrappable<String> {\n-\n-    private static final long serialVersionUID = -1953799905627918822L;\n-\n-}"},{"sha":"11e254da64300dca656cf9c7122e227262f9101c","filename":"syncope620/common/lib/src/main/java/org/apache/syncope/common/lib/wrap/MailTemplate.java","status":"removed","additions":0,"deletions":30,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/702810d8b0f28e57896686670096cb1977106537/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwrap%2FMailTemplate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/702810d8b0f28e57896686670096cb1977106537/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwrap%2FMailTemplate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwrap%2FMailTemplate.java?ref=702810d8b0f28e57896686670096cb1977106537","patch":"@@ -1,30 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.common.lib.wrap;\n-\n-import javax.xml.bind.annotation.XmlRootElement;\n-import javax.xml.bind.annotation.XmlType;\n-\n-@XmlRootElement(name = \"mailTemplate\")\n-@XmlType\n-public class MailTemplate extends AbstractWrappable<String> {\n-\n-    private static final long serialVersionUID = 7232619557172031478L;\n-\n-}"},{"sha":"f8e54b6830cb32bd2033db823d0181987216c331","filename":"syncope620/common/lib/src/main/java/org/apache/syncope/common/lib/wrap/PropagationActionClass.java","status":"removed","additions":0,"deletions":30,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/702810d8b0f28e57896686670096cb1977106537/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwrap%2FPropagationActionClass.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/702810d8b0f28e57896686670096cb1977106537/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwrap%2FPropagationActionClass.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwrap%2FPropagationActionClass.java?ref=702810d8b0f28e57896686670096cb1977106537","patch":"@@ -1,30 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.common.lib.wrap;\n-\n-import javax.xml.bind.annotation.XmlRootElement;\n-import javax.xml.bind.annotation.XmlType;\n-\n-@XmlRootElement(name = \"propagationActionClass\")\n-@XmlType\n-public class PropagationActionClass extends AbstractWrappable<String> {\n-\n-    private static final long serialVersionUID = 2187654394121198308L;\n-\n-}"},{"sha":"d6c7a77e03a946f486805dd8c1d127654e210d9e","filename":"syncope620/common/lib/src/main/java/org/apache/syncope/common/lib/wrap/SyncActionClass.java","status":"removed","additions":0,"deletions":30,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/702810d8b0f28e57896686670096cb1977106537/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwrap%2FSyncActionClass.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/702810d8b0f28e57896686670096cb1977106537/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwrap%2FSyncActionClass.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwrap%2FSyncActionClass.java?ref=702810d8b0f28e57896686670096cb1977106537","patch":"@@ -1,30 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.common.lib.wrap;\n-\n-import javax.xml.bind.annotation.XmlRootElement;\n-import javax.xml.bind.annotation.XmlType;\n-\n-@XmlRootElement(name = \"syncActionClass\")\n-@XmlType\n-public class SyncActionClass extends AbstractWrappable<String> {\n-\n-    private static final long serialVersionUID = 1669581609310071905L;\n-\n-}"},{"sha":"71cad0038ed6a23416568163c45351cd44b7c3d1","filename":"syncope620/common/lib/src/main/java/org/apache/syncope/common/lib/wrap/Validator.java","status":"removed","additions":0,"deletions":30,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/702810d8b0f28e57896686670096cb1977106537/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwrap%2FValidator.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/702810d8b0f28e57896686670096cb1977106537/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwrap%2FValidator.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fcommon%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwrap%2FValidator.java?ref=702810d8b0f28e57896686670096cb1977106537","patch":"@@ -1,30 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.common.lib.wrap;\n-\n-import javax.xml.bind.annotation.XmlRootElement;\n-import javax.xml.bind.annotation.XmlType;\n-\n-@XmlRootElement(name = \"validator\")\n-@XmlType\n-public class Validator extends AbstractWrappable<String> {\n-\n-    private static final long serialVersionUID = 7233619557177034453L;\n-\n-}"},{"sha":"3fa5f8a7c94fdebd0ab7062ebc83794be1474cd7","filename":"syncope620/common/rest-api/src/main/java/org/apache/syncope/common/rest/api/service/ConfigurationService.java","status":"modified","additions":0,"deletions":23,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fcommon%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FConfigurationService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fcommon%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FConfigurationService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fcommon%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FConfigurationService.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -18,7 +18,6 @@\n  */\n package org.apache.syncope.common.rest.api.service;\n \n-import java.util.List;\n import javax.validation.constraints.NotNull;\n import javax.ws.rs.Consumes;\n import javax.ws.rs.DELETE;\n@@ -31,8 +30,6 @@\n import javax.ws.rs.core.Response;\n import org.apache.syncope.common.lib.to.AttrTO;\n import org.apache.syncope.common.lib.to.ConfTO;\n-import org.apache.syncope.common.lib.wrap.MailTemplate;\n-import org.apache.syncope.common.lib.wrap.Validator;\n \n /**\n  * REST operations for configuration.\n@@ -49,26 +46,6 @@ public interface ConfigurationService extends JAXRSService {\n     @Path(\"stream\")\n     Response export();\n \n-    /**\n-     * Returns a list of known mail-template names.\n-     *\n-     * @return a list of known mail-template names\n-     */\n-    @GET\n-    @Path(\"mailTemplates\")\n-    @Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n-    List<MailTemplate> getMailTemplates();\n-\n-    /**\n-     * Returns a list of known validator names.\n-     *\n-     * @return a list of known validator names\n-     */\n-    @GET\n-    @Path(\"validators\")\n-    @Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n-    List<Validator> getValidators();\n-\n     /**\n      * Returns all configuration parameters.\n      *"},{"sha":"c2a4e6abf93f9e57d249bfa04b72f07577f38f15","filename":"syncope620/common/rest-api/src/main/java/org/apache/syncope/common/rest/api/service/PolicyService.java","status":"modified","additions":0,"deletions":11,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fcommon%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FPolicyService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fcommon%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FPolicyService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fcommon%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FPolicyService.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -36,24 +36,13 @@\n import org.apache.cxf.jaxrs.model.wadl.DocTarget;\n import org.apache.syncope.common.lib.to.AbstractPolicyTO;\n import org.apache.syncope.common.lib.types.PolicyType;\n-import org.apache.syncope.common.lib.wrap.CorrelationRuleClass;\n \n /**\n  * REST operations for policies.\n  */\n @Path(\"policies\")\n public interface PolicyService extends JAXRSService {\n \n-    /**\n-     * Returns a list of classes to be used as correlation rules.\n-     *\n-     * @return list of classes to be used as correlation rules\n-     */\n-    @GET\n-    @Path(\"syncCorrelationRuleClasses\")\n-    @Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n-    List<CorrelationRuleClass> getSyncCorrelationRuleClasses();\n-\n     /**\n      * Returns the policy matching the given key.\n      *"},{"sha":"313b0e907b2956e70a478407c91f56a1a5dfb9a0","filename":"syncope620/common/rest-api/src/main/java/org/apache/syncope/common/rest/api/service/ResourceService.java","status":"modified","additions":0,"deletions":11,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fcommon%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FResourceService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fcommon%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FResourceService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fcommon%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FResourceService.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -40,7 +40,6 @@\n import org.apache.syncope.common.lib.to.ResourceTO;\n import org.apache.syncope.common.lib.types.ResourceDeassociationActionType;\n import org.apache.syncope.common.lib.types.SubjectType;\n-import org.apache.syncope.common.lib.wrap.PropagationActionClass;\n import org.apache.syncope.common.lib.wrap.SubjectId;\n \n /**\n@@ -63,16 +62,6 @@ public interface ResourceService extends JAXRSService {\n     ConnObjectTO getConnectorObject(@NotNull @PathParam(\"resourceKey\") String resourceKey,\n             @NotNull @PathParam(\"type\") SubjectType type, @NotNull @PathParam(\"key\") Long key);\n \n-    /**\n-     * Returns a list of classes that can be used to customize the propagation process.\n-     *\n-     * @return list of classes that can be used to customize the propagation process\n-     */\n-    @GET\n-    @Path(\"propagationActionsClasses\")\n-    @Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n-    List<PropagationActionClass> getPropagationActionsClasses();\n-\n     /**\n      * Returns the resource with matching name.\n      *"},{"sha":"55cc0921cb00938f2d60b217ef3d8374e73c9c31","filename":"syncope620/common/rest-api/src/main/java/org/apache/syncope/common/rest/api/service/SyncopeService.java","status":"renamed","additions":11,"deletions":8,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fcommon%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FSyncopeService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fcommon%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FSyncopeService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fcommon%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FSyncopeService.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,15 +16,18 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.common.lib.wrap;\n+package org.apache.syncope.common.rest.api.service;\n \n-import javax.xml.bind.annotation.XmlRootElement;\n-import javax.xml.bind.annotation.XmlType;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n+import org.apache.syncope.common.lib.to.SyncopeTO;\n \n-@XmlRootElement(name = \"correlationRuleClass\")\n-@XmlType\n-public class CorrelationRuleClass extends AbstractWrappable<String> {\n-\n-    private static final long serialVersionUID = -6715106427060816725L;\n+@Path(\"\")\n+public interface SyncopeService extends JAXRSService {\n \n+    @GET\n+    @Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON, MediaType.APPLICATION_XHTML_XML })\n+    SyncopeTO info();\n }","previous_filename":"syncope620/common/lib/src/main/java/org/apache/syncope/common/lib/wrap/CorrelationRuleClass.java"},{"sha":"24c9b0ed0394e66518b45c5a8b39dfe40d49ed0f","filename":"syncope620/common/rest-api/src/main/java/org/apache/syncope/common/rest/api/service/TaskService.java","status":"modified","additions":1,"deletions":35,"changes":36,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fcommon%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FTaskService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fcommon%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FTaskService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fcommon%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FTaskService.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -18,7 +18,6 @@\n  */\n package org.apache.syncope.common.rest.api.service;\n \n-import java.util.List;\n import javax.validation.constraints.Min;\n import javax.validation.constraints.NotNull;\n import javax.ws.rs.Consumes;\n@@ -45,9 +44,6 @@\n import org.apache.syncope.common.lib.to.SchedTaskTO;\n import org.apache.syncope.common.lib.to.TaskExecTO;\n import org.apache.syncope.common.lib.types.TaskType;\n-import org.apache.syncope.common.lib.wrap.JobClass;\n-import org.apache.syncope.common.lib.wrap.PushActionClass;\n-import org.apache.syncope.common.lib.wrap.SyncActionClass;\n \n /**\n  * REST operations for tasks.\n@@ -56,37 +52,7 @@\n public interface TaskService extends JAXRSService {\n \n     /**\n-     * Returns a list of classes to be used for jobs.\n-     *\n-     * @return list of classes to be used for jobs\n-     */\n-    @GET\n-    @Path(\"jobClasses\")\n-    @Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n-    List<JobClass> getJobClasses();\n-\n-    /**\n-     * Returns a list of classes to be used as synchronization actions.\n-     *\n-     * @return list of classes to be used as synchronization actions\n-     */\n-    @GET\n-    @Path(\"syncActionsClasses\")\n-    @Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n-    List<SyncActionClass> getSyncActionsClasses();\n-\n-    /**\n-     * Returns a list of classes to be used as push actions.\n-     *\n-     * @return list of classes to be used as push actions\n-     */\n-    @GET\n-    @Path(\"pushActionsClasses\")\n-    @Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n-    List<PushActionClass> getPushActionsClasses();\n-\n-    /**\n-     * Returns the task matching the given id.\n+     * Returns the task matching the given key.\n      *\n      * @param taskKey key of task to be read\n      * @param <T> type of taskTO"},{"sha":"ec094cb141dd387bd0a44377f1383173cf372ab6","filename":"syncope620/fit/reference/pom.xml","status":"modified","additions":54,"deletions":2,"changes":56,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Ffit%2Freference%2Fpom.xml?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -241,7 +241,7 @@ under the License.\n               <cargo.tomcat.ajp.port>${cargo.tomcat.ajp.port}</cargo.tomcat.ajp.port>\n               <cargo.rmi.port>${cargo.rmi.port}</cargo.rmi.port>\n \n-              <cargo.jvmargs>-noverify -XX:+CMSClassUnloadingEnabled -XX:+UseConcMarkSweepGC -XX:MaxPermSize=256m</cargo.jvmargs>\n+              <cargo.jvmargs>-XX:+CMSClassUnloadingEnabled -XX:+UseConcMarkSweepGC -XX:MaxPermSize=512m</cargo.jvmargs>\n             </properties>\n             <configfiles>\n               <configfile>\n@@ -355,7 +355,7 @@ under the License.\n               <configuration>\n                 <properties>\n                   <cargo.jvmargs>-Xdebug -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n\n-                    -noverify -XX:+CMSClassUnloadingEnabled -XX:+UseConcMarkSweepGC -XX:MaxPermSize=256m</cargo.jvmargs>\n+                    -XX:+CMSClassUnloadingEnabled -XX:+UseConcMarkSweepGC -XX:MaxPermSize=512m</cargo.jvmargs>\n                 </properties>\n               </configuration>\n             </configuration>\n@@ -427,5 +427,57 @@ under the License.\n         </plugins>\n       </build>\n     </profile>\n+    \n+    <profile>\n+      <id>all</id>\n+      <activation>\n+        <activeByDefault>true</activeByDefault>\n+      </activation>\n+      \n+      <dependencies>\n+        <dependency>\n+          <groupId>org.apache.syncope.server</groupId>\n+          <artifactId>syncope-server-workflow-activiti</artifactId>\n+          <version>${project.version}</version>\n+        </dependency>\n+      </dependencies>\n+      \n+      <build>\n+        <plugins>\n+          <!-- Adds Activiti test content -->\n+          <plugin>\n+            <groupId>org.codehaus.mojo</groupId>\n+            <artifactId>xml-maven-plugin</artifactId>\n+            <inherited>true</inherited>\n+            <executions>\n+              <execution>\n+                <phase>prepare-package</phase>\n+                <goals>\n+                  <goal>transform</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+            <configuration>\n+              <transformationSets>\n+                <transformationSet>\n+                  <dir>${project.build.directory}/classes</dir>\n+                  <includes>\n+                    <include>content.xml</include>\n+                  </includes>\n+                  <outputDir>${project.build.directory}/classes</outputDir>\n+                  <stylesheet>${basedir}/src/test/resources/addActivitiToContent.xsl</stylesheet>\n+                  <outputProperties>\n+                    <outputProperty>\n+                      <name>indent</name>\n+                      <value>yes</value>\n+                    </outputProperty>\n+                  </outputProperties>\n+                </transformationSet>\n+              </transformationSets>\n+            </configuration>\n+          </plugin>\n+        </plugins>\n+      </build>\n+    </profile>\n   </profiles>\n </project>"},{"sha":"d26dbe3b57d96e88a74a49edc17326e04da18dff","filename":"syncope620/fit/reference/src/main/resources/userWorkflow.bpmn20.xml","status":"added","additions":577,"deletions":0,"changes":577,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Fmain%2Fresources%2FuserWorkflow.bpmn20.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Fmain%2Fresources%2FuserWorkflow.bpmn20.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Ffit%2Freference%2Fsrc%2Fmain%2Fresources%2FuserWorkflow.bpmn20.xml?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -0,0 +1,577 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" \n+             xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n+             xmlns:activiti=\"http://activiti.org/bpmn\" \n+             xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" \n+             xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" \n+             xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" \n+             typeLanguage=\"http://www.w3.org/2001/XMLSchema\" \n+             expressionLanguage=\"http://www.w3.org/1999/XPath\" \n+             targetNamespace=\"http://activiti.org/bpmn20\">\n+  \n+  <process id=\"userWorkflow\" name=\"User Workflow\" isExecutable=\"true\">\n+    <startEvent id=\"theStart\"/>\n+    <sequenceFlow id=\"flow1\" sourceRef=\"theStart\" targetRef=\"create\"/>\n+    <serviceTask id=\"create\" name=\"Create\" activiti:expression=\"#{create.execute(execution.processInstanceId)}\"/>\n+    <sequenceFlow id=\"flow2\" sourceRef=\"create\" targetRef=\"createGW\"/>\n+    <exclusiveGateway id=\"createGW\"/>\n+    <sequenceFlow id=\"createAsAnonymous2Approval\" sourceRef=\"createGW\" targetRef=\"createApproval\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${wfExecutor == 'anonymous' || user.getRoleKeys().contains(9)}]]></conditionExpression>\n+    </sequenceFlow>\n+    <sequenceFlow id=\"create2Activate\" sourceRef=\"createGW\" targetRef=\"enableGW\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${!user.getRoleKeys().contains(9)}]]></conditionExpression>\n+    </sequenceFlow>\n+    <userTask id=\"createApproval\" name=\"Create approval\" activiti:candidateGroups=\"7\" activiti:formKey=\"createApproval\">\n+      <extensionElements>\n+        <activiti:formProperty id=\"username\" name=\"Username\" type=\"string\" expression=\"${user.username}\" writable=\"false\"/>\n+        <activiti:formProperty id=\"approve\" name=\"Approve?\" type=\"boolean\" variable=\"approve\" required=\"true\"/>\n+        <activiti:formProperty id=\"rejectReason\" name=\"Reason for rejecting\" type=\"string\" variable=\"rejectReason\"/>\n+      </extensionElements>\n+    </userTask>\n+    <sequenceFlow id=\"flow3\" sourceRef=\"createApproval\" targetRef=\"createApprovalGW\"/>\n+    <exclusiveGateway id=\"createApprovalGW\"/>\n+    <sequenceFlow id=\"createApprovalGW2EnableGW\" sourceRef=\"createApprovalGW\" targetRef=\"enableGW\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${approve}]]></conditionExpression>\n+    </sequenceFlow>\n+    <sequenceFlow id=\"createApproval2Reject\" sourceRef=\"createApprovalGW\" targetRef=\"reject\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${!approve}]]></conditionExpression>\n+    </sequenceFlow>\n+    <exclusiveGateway id=\"enableGW\"/>\n+    <sequenceFlow id=\"createApprovalGW2OptIn\" sourceRef=\"enableGW\" targetRef=\"generateToken\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${user.getRoleKeys().contains(11)}]]></conditionExpression>\n+    </sequenceFlow>\n+    <sequenceFlow id=\"createApprovalGW2Activate\" sourceRef=\"enableGW\" targetRef=\"activate\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${enabled == null}]]></conditionExpression>\n+    </sequenceFlow>\n+    <sequenceFlow id=\"createApprovalGW2Active\" sourceRef=\"enableGW\" targetRef=\"active\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${enabled}]]></conditionExpression>\n+    </sequenceFlow>    \n+    <sequenceFlow id=\"createApprovalGW2Suspended\" sourceRef=\"enableGW\" targetRef=\"suspend\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${!enabled}]]></conditionExpression>\n+    </sequenceFlow>\n+    <serviceTask id=\"activate\" name=\"Activate\" activiti:expression=\"#{autoActivate.execute(execution.processInstanceId)}\"/>\n+    <sequenceFlow id=\"flow4\" sourceRef=\"activate\" targetRef=\"active\"/>\n+    <serviceTask id=\"generateToken\" name=\"Generate token\" activiti:expression=\"#{generateToken.execute(execution.processInstanceId)}\"/>\n+    <sequenceFlow id=\"flow5\" sourceRef=\"generateToken\" targetRef=\"created\"/>\n+    <userTask id=\"created\" name=\"Created\"/>\n+    <sequenceFlow id=\"flow6\" sourceRef=\"created\" targetRef=\"optinGW\"/>\n+    <exclusiveGateway id=\"optinGW\"/>\n+    <sequenceFlow id=\"created2Activate\" sourceRef=\"optinGW\" targetRef=\"removeToken\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${user.checkToken(token)}]]></conditionExpression>\n+    </sequenceFlow>\n+    <sequenceFlow id=\"created2Created\" sourceRef=\"optinGW\" targetRef=\"created\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${!user.checkToken(token)}]]></conditionExpression>\n+    </sequenceFlow>\n+    <scriptTask id=\"removeToken\" name=\"Remove Token and Activate\" scriptFormat=\"groovy\" activiti:autoStoreVariables=\"false\">\n+      <script>\n+        user.removeToken()    \n+      </script>\n+    </scriptTask>\n+    <sequenceFlow id=\"flow7\" sourceRef=\"removeToken\" targetRef=\"active\"/>\n+    <userTask id=\"active\" name=\"Active\"/>\n+    <sequenceFlow id=\"flow8\" sourceRef=\"active\" targetRef=\"activeGw\"/>\n+    <exclusiveGateway id=\"activeGw\"/>\n+    <sequenceFlow id=\"active2UpdateApproval\" sourceRef=\"activeGw\" targetRef=\"updateApproval\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${wfExecutor == user.getUsername() and task == 'update' \n+        and (!userMod.getMembershipsToAdd().isEmpty() or !userMod.getMembershipsToRemove().isEmpty())}]]></conditionExpression>\n+    </sequenceFlow>\n+    <sequenceFlow id=\"active2DeleteApproval\" sourceRef=\"activeGw\" targetRef=\"deleteApproval\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${wfExecutor == user.getUsername() and task == 'delete'}]]></conditionExpression>\n+    </sequenceFlow>\n+    <sequenceFlow id=\"active2Update\" sourceRef=\"activeGw\" targetRef=\"update\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${task == 'update'}]]></conditionExpression>\n+    </sequenceFlow>\n+    <sequenceFlow id=\"active2Suspend\" sourceRef=\"activeGw\" targetRef=\"suspend\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${task == 'suspend'}]]></conditionExpression>\n+    </sequenceFlow>    \n+    <sequenceFlow id=\"active2Delete\" sourceRef=\"activeGw\" targetRef=\"delete\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${task == 'delete'}]]></conditionExpression>\n+    </sequenceFlow>    \n+    <sequenceFlow id=\"active2RequestPasswordReset\" sourceRef=\"activeGw\" targetRef=\"generateToken4PasswordReset\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${task == 'requestPasswordReset'}]]></conditionExpression>\n+    </sequenceFlow>\n+    <sequenceFlow id=\"active2ConfirmPasswordReset\" sourceRef=\"activeGw\" targetRef=\"checkToken4ConfirmPasswordReset\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${task == 'confirmPasswordReset'}]]></conditionExpression>\n+    </sequenceFlow>    \n+    <userTask id=\"updateApproval\" name=\"Update approval\" activiti:candidateGroups=\"7\" activiti:formKey=\"updateApproval\">\n+      <extensionElements>\n+        <activiti:formProperty id=\"username\" name=\"Username\" type=\"string\" expression=\"${user.username}\" writable=\"false\"/>\n+        <activiti:formProperty id=\"approve\" name=\"Approve?\" type=\"boolean\" variable=\"approve\" required=\"true\"/>\n+        <activiti:formProperty id=\"rejectReason\" name=\"Reason for rejecting\" type=\"string\" variable=\"rejectReason\"/>\n+      </extensionElements>\n+    </userTask>\n+    <sequenceFlow id=\"flow8bis\" sourceRef=\"updateApproval\" targetRef=\"updateApprovalGW\"/>\n+    <exclusiveGateway id=\"updateApprovalGW\"/>\n+    <sequenceFlow id=\"updateApprovalGW2Update\" sourceRef=\"updateApprovalGW\" targetRef=\"update\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${approve}]]></conditionExpression>\n+    </sequenceFlow>\n+    <sequenceFlow id=\"updateApprovalGW2Reject\" sourceRef=\"updateApprovalGW\" targetRef=\"rejectUpdate\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${!approve}]]></conditionExpression>\n+    </sequenceFlow>\n+    <scriptTask id=\"rejectUpdate\" name=\"Reject update\" scriptFormat=\"groovy\" activiti:autoStoreVariables=\"false\">\n+      <script>\n+        execution.setVariable(\"propByResource\", null);\n+      </script>\n+    </scriptTask>\n+    <sequenceFlow id=\"flow8ter\" sourceRef=\"rejectUpdate\" targetRef=\"active\"/>\n+    <serviceTask id=\"update\" name=\"Update\" activiti:expression=\"#{update.execute(execution.processInstanceId)}\"/>\n+    <sequenceFlow id=\"flow9\" sourceRef=\"update\" targetRef=\"active\"/>    \n+    <serviceTask id=\"suspend\" name=\"Suspend\" activiti:expression=\"#{suspend.execute(execution.processInstanceId)}\"/>\n+    <sequenceFlow id=\"flow10\" sourceRef=\"suspend\" targetRef=\"suspended\"/>\n+    <userTask id=\"suspended\" name=\"Suspended\"/>\n+    <sequenceFlow id=\"flow11\" sourceRef=\"suspended\" targetRef=\"suspendedGw\"/>\n+    <exclusiveGateway id=\"suspendedGw\"/>\n+    <sequenceFlow id=\"suspended2Reactivate\" sourceRef=\"suspendedGw\" targetRef=\"reactivate\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${task == 'reactivate'}]]></conditionExpression>\n+    </sequenceFlow>\n+    <sequenceFlow id=\"suspended2Delete\" sourceRef=\"suspendedGw\" targetRef=\"delete\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${task == 'delete'}]]></conditionExpression>\n+    </sequenceFlow>\n+    <serviceTask id=\"reactivate\" name=\"Reactivate\" activiti:expression=\"#{reactivate.execute(execution.processInstanceId)}\"/>\n+    <sequenceFlow id=\"flow12\" sourceRef=\"reactivate\" targetRef=\"active\"/>\n+    <scriptTask id=\"reject\" name=\"Reject\" scriptFormat=\"groovy\" activiti:autoStoreVariables=\"false\">\n+      <script>\n+        def scriptVar = rejectReason\n+        execution.setVariable(\"propByResource\", null);\n+      </script>\n+    </scriptTask>\n+    <sequenceFlow id=\"flow13\" sourceRef=\"reject\" targetRef=\"rejected\"/>\n+    <userTask id=\"rejected\" name=\"Rejected\"/>\n+    <sequenceFlow id=\"flow14\" sourceRef=\"rejected\" targetRef=\"rejectedGw\"/>\n+    <exclusiveGateway id=\"rejectedGw\"/>\n+    <sequenceFlow id=\"rejected2Delete\" sourceRef=\"rejectedGw\" targetRef=\"delete\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${task == 'delete'}]]></conditionExpression>\n+    </sequenceFlow>\n+    <sequenceFlow id=\"rejected2Rejected\" sourceRef=\"rejectedGw\" targetRef=\"rejected\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${empty task}]]></conditionExpression>\n+    </sequenceFlow>    \n+    <userTask id=\"deleteApproval\" name=\"Delete approval\" activiti:candidateGroups=\"7\" activiti:formKey=\"deleteApproval\">\n+      <extensionElements>\n+        <activiti:formProperty id=\"username\" name=\"Username\" type=\"string\" expression=\"${user.username}\" writable=\"false\"/>\n+        <activiti:formProperty id=\"approve\" name=\"Approve?\" type=\"boolean\" variable=\"approve\" required=\"true\"/>\n+        <activiti:formProperty id=\"rejectReason\" name=\"Reason for rejecting\" type=\"string\" variable=\"rejectReason\"/>\n+      </extensionElements>\n+    </userTask>\n+    <sequenceFlow id=\"flow14bis\" sourceRef=\"deleteApproval\" targetRef=\"deleteApprovalGW\"/>\n+    <exclusiveGateway id=\"deleteApprovalGW\"/>\n+    <sequenceFlow id=\"deleteApprovalGW2Delete\" sourceRef=\"deleteApprovalGW\" targetRef=\"delete\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${approve}]]></conditionExpression>\n+    </sequenceFlow>\n+    <sequenceFlow id=\"deleteApprovalGW2Reject\" sourceRef=\"deleteApprovalGW\" targetRef=\"rejectDelete\">\n+      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${!approve}]]></conditionExpression>\n+    </sequenceFlow>\n+    <scriptTask id=\"rejectDelete\" name=\"Reject delete\" scriptFormat=\"groovy\" activiti:autoStoreVariables=\"false\">\n+      <script>\n+        execution.setVariable(\"propByResource\", null);\n+      </script>\n+    </scriptTask>\n+    <sequenceFlow id=\"flow14ter\" sourceRef=\"rejectDelete\" targetRef=\"active\"/>            \n+\n+    <serviceTask id=\"generateToken4PasswordReset\" name=\"Generate token\" activiti:expression=\"#{generateToken.execute(execution.processInstanceId)}\"/>\n+    <sequenceFlow id=\"flow15\" sourceRef=\"generateToken4PasswordReset\" targetRef=\"notify4RequestPasswordReset\"/>\n+    <serviceTask id=\"notify4RequestPasswordReset\" name=\"Notification\" activiti:expression=\"#{notify.execute(execution.processInstanceId)}\"/>\n+    <sequenceFlow id=\"flow16\" sourceRef=\"notify4RequestPasswordReset\" targetRef=\"active\"/>\n+    \n+    <serviceTask id=\"checkToken4ConfirmPasswordReset\" name=\"Check token, remove and update password\" activiti:expression=\"#{passwordReset.execute(execution.processInstanceId)}\"/>\n+    <sequenceFlow id=\"flow17\" sourceRef=\"checkToken4ConfirmPasswordReset\" targetRef=\"notify4ConfirmPasswordReset\"/>\n+    <serviceTask id=\"notify4ConfirmPasswordReset\" name=\"Notification\" activiti:expression=\"#{notify.execute(execution.processInstanceId)}\"/>\n+    <sequenceFlow id=\"flow18\" sourceRef=\"notify4ConfirmPasswordReset\" targetRef=\"active\"/>    \n+    \n+    <serviceTask id=\"delete\" name=\"Delete\" activiti:expression=\"#{delete.execute(execution.processInstanceId)}\"/>\n+    <sequenceFlow id=\"flow99\" sourceRef=\"delete\" targetRef=\"theEnd\"/>\n+    <endEvent id=\"theEnd\"/>\n+  </process>\n+  \n+  <bpmndi:BPMNDiagram id=\"BPMNDiagram_userWorkflow\">\n+    <bpmndi:BPMNPlane bpmnElement=\"userWorkflow\" id=\"BPMNPlane_userWorkflow\">\n+      <bpmndi:BPMNShape bpmnElement=\"theStart\" id=\"BPMNShape_theStart\">\n+        <omgdc:Bounds height=\"30.0\" width=\"30.0\" x=\"0.0\" y=\"512.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"create\" id=\"BPMNShape_create\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"80.0\" y=\"497.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"createGW\" id=\"BPMNShape_createGW\">\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"230.0\" y=\"506.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"createApproval\" id=\"BPMNShape_createApproval\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"320.0\" y=\"560.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"createApprovalGW\" id=\"BPMNShape_createApprovalGW\">\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"470.0\" y=\"556.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"enableGW\" id=\"BPMNShape_enableGW\">\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"590.0\" y=\"429.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"activate\" id=\"BPMNShape_activate\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"710.0\" y=\"610.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"generateToken\" id=\"BPMNShape_generateToken\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"702.0\" y=\"188.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"created\" id=\"BPMNShape_created\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"852.0\" y=\"213.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"optinGW\" id=\"BPMNShape_optinGW\">\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"1002.0\" y=\"240.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"removeToken\" id=\"BPMNShape_removeToken\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1092.0\" y=\"248.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"active\" id=\"BPMNShape_active\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1030.0\" y=\"511.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"activeGw\" id=\"BPMNShape_activeGw\">\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"1400.0\" y=\"520.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"updateApproval\" id=\"BPMNShape_updateApproval\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1490.0\" y=\"740.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"updateApprovalGW\" id=\"BPMNShape_updateApprovalGW\">\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"1670.0\" y=\"740.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"rejectUpdate\" id=\"BPMNShape_rejectUpdate\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1790.0\" y=\"840.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"update\" id=\"BPMNShape_update\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1790.0\" y=\"700.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"suspend\" id=\"BPMNShape_suspend\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1490.0\" y=\"100.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"suspended\" id=\"BPMNShape_suspended\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1640.0\" y=\"120.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"suspendedGw\" id=\"BPMNShape_suspendedGw\">\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"1820.0\" y=\"180.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"reactivate\" id=\"BPMNShape_reactivate\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1940.0\" y=\"110.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"reject\" id=\"BPMNShape_reject\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"560.0\" y=\"659.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"rejected\" id=\"BPMNShape_rejected\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"710.0\" y=\"770.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"rejectedGw\" id=\"BPMNShape_rejectedGw\">\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"890.0\" y=\"775.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"deleteApproval\" id=\"BPMNShape_deleteApproval\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1490.0\" y=\"280.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"deleteApprovalGW\" id=\"BPMNShape_deleteApprovalGW\">\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"1670.0\" y=\"300.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"rejectDelete\" id=\"BPMNShape_rejectDelete\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1790.0\" y=\"240.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"delete\" id=\"BPMNShape_delete\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1940.0\" y=\"358.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"theEnd\" id=\"BPMNShape_theEnd\">\n+        <omgdc:Bounds height=\"28.0\" width=\"28.0\" x=\"2078.1893792531678\" y=\"374.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"generateToken4PasswordReset\" id=\"BPMNShape_generateToken4PasswordReset\">\n+        <omgdc:Bounds height=\"59.99999999999994\" width=\"100.0\" x=\"1543.209935088986\" y=\"452.6749142927693\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"notify4RequestPasswordReset\" id=\"BPMNShape_notify4RequestPasswordReset\">\n+        <omgdc:Bounds height=\"60.00000000000006\" width=\"100.0\" x=\"1748.9712597675173\" y=\"452.6749142927692\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"checkToken4ConfirmPasswordReset\" id=\"BPMNShape_checkToken4ConfirmPasswordReset\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1558.797798366986\" y=\"561.167207412115\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"notify4ConfirmPasswordReset\" id=\"BPMNShape_notify4ConfirmPasswordReset\">\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1748.971259767517\" y=\"561.167207412115\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow17\" id=\"BPMNEdge_flow17\">\n+        <omgdi:waypoint x=\"1658.797798366986\" y=\"591.167207412115\"/>\n+        <omgdi:waypoint x=\"1748.971259767517\" y=\"591.167207412115\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow12\" id=\"BPMNEdge_flow12\">\n+        <omgdi:waypoint x=\"1940.0\" y=\"129.51612903225805\"/>\n+        <omgdi:waypoint x=\"1928.0\" y=\"127.0\"/>\n+        <omgdi:waypoint x=\"1378.0\" y=\"40.0\"/>\n+        <omgdi:waypoint x=\"1097.8443113772455\" y=\"511.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow11\" id=\"BPMNEdge_flow11\">\n+        <omgdi:waypoint x=\"1740.0\" y=\"150.0\"/>\n+        <omgdi:waypoint x=\"1752.0\" y=\"150.0\"/>\n+        <omgdi:waypoint x=\"1752.0\" y=\"200.0\"/>\n+        <omgdi:waypoint x=\"1820.0\" y=\"200.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"active2DeleteApproval\" id=\"BPMNEdge_active2DeleteApproval\">\n+        <omgdi:waypoint x=\"1440.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1454.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1454.0\" y=\"310.0\"/>\n+        <omgdi:waypoint x=\"1490.0\" y=\"310.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow14bis\" id=\"BPMNEdge_flow14bis\">\n+        <omgdi:waypoint x=\"1590.0\" y=\"310.0\"/>\n+        <omgdi:waypoint x=\"1602.0\" y=\"310.0\"/>\n+        <omgdi:waypoint x=\"1602.0\" y=\"320.0\"/>\n+        <omgdi:waypoint x=\"1670.0\" y=\"320.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow10\" id=\"BPMNEdge_flow10\">\n+        <omgdi:waypoint x=\"1590.0\" y=\"130.0\"/>\n+        <omgdi:waypoint x=\"1602.0\" y=\"130.0\"/>\n+        <omgdi:waypoint x=\"1602.0\" y=\"150.0\"/>\n+        <omgdi:waypoint x=\"1640.0\" y=\"150.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"active2RequestPasswordReset\" id=\"BPMNEdge_active2RequestPasswordReset\">\n+        <omgdi:waypoint x=\"1439.5\" y=\"540.5\"/>\n+        <omgdi:waypoint x=\"1593.209935088986\" y=\"540.5\"/>\n+        <omgdi:waypoint x=\"1593.209935088986\" y=\"512.6749142927692\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"active2ConfirmPasswordReset\" id=\"BPMNEdge_active2ConfirmPasswordReset\">\n+        <omgdi:waypoint x=\"1439.5\" y=\"540.5\"/>\n+        <omgdi:waypoint x=\"1608.797798366986\" y=\"540.5\"/>\n+        <omgdi:waypoint x=\"1608.797798366986\" y=\"561.167207412115\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"deleteApprovalGW2Delete\" id=\"BPMNEdge_deleteApprovalGW2Delete\">\n+        <omgdi:waypoint x=\"1710.0\" y=\"320.0\"/>\n+        <omgdi:waypoint x=\"1752.0\" y=\"320.0\"/>\n+        <omgdi:waypoint x=\"1752.0\" y=\"388.0\"/>\n+        <omgdi:waypoint x=\"1940.0\" y=\"388.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"createApproval2Reject\" id=\"BPMNEdge_createApproval2Reject\">\n+        <omgdi:waypoint x=\"510.0\" y=\"576.0\"/>\n+        <omgdi:waypoint x=\"522.0\" y=\"576.0\"/>\n+        <omgdi:waypoint x=\"522.0\" y=\"689.0\"/>\n+        <omgdi:waypoint x=\"560.0\" y=\"689.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"active2Delete\" id=\"BPMNEdge_active2Delete\">\n+        <omgdi:waypoint x=\"1440.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1452.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1452.0\" y=\"680.6812757582483\"/>\n+        <omgdi:waypoint x=\"1955.9214707261015\" y=\"680.6812757582483\"/>\n+        <omgdi:waypoint x=\"1986.506931044467\" y=\"418.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"updateApprovalGW2Update\" id=\"BPMNEdge_updateApprovalGW2Update\">\n+        <omgdi:waypoint x=\"1710.0\" y=\"760.0\"/>\n+        <omgdi:waypoint x=\"1752.0\" y=\"760.0\"/>\n+        <omgdi:waypoint x=\"1752.0\" y=\"730.0\"/>\n+        <omgdi:waypoint x=\"1790.0\" y=\"730.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"active2UpdateApproval\" id=\"BPMNEdge_active2UpdateApproval\">\n+        <omgdi:waypoint x=\"1440.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1454.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1454.0\" y=\"770.0\"/>\n+        <omgdi:waypoint x=\"1490.0\" y=\"770.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"rejected2Delete\" id=\"BPMNEdge_rejected2Delete\">\n+        <omgdi:waypoint x=\"930.0\" y=\"795.0\"/>\n+        <omgdi:waypoint x=\"972.0\" y=\"795.0\"/>\n+        <omgdi:waypoint x=\"1470.0\" y=\"911.0\"/>\n+        <omgdi:waypoint x=\"1990.0\" y=\"911.0\"/>\n+        <omgdi:waypoint x=\"1990.0\" y=\"418.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"createApprovalGW2Active\" id=\"BPMNEdge_createApprovalGW2Active\">\n+        <omgdi:waypoint x=\"630.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"674.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"674.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1030.0\" y=\"540.8768472906404\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"updateApprovalGW2Reject\" id=\"BPMNEdge_updateApprovalGW2Reject\">\n+        <omgdi:waypoint x=\"1710.0\" y=\"760.0\"/>\n+        <omgdi:waypoint x=\"1752.0\" y=\"760.0\"/>\n+        <omgdi:waypoint x=\"1752.0\" y=\"870.0\"/>\n+        <omgdi:waypoint x=\"1790.0\" y=\"870.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow8ter\" id=\"BPMNEdge_flow8ter\">\n+        <omgdi:waypoint x=\"1790.0\" y=\"879.6774193548387\"/>\n+        <omgdi:waypoint x=\"1778.0\" y=\"882.0\"/>\n+        <omgdi:waypoint x=\"1225.0\" y=\"787.0\"/>\n+        <omgdi:waypoint x=\"1080.0\" y=\"726.0\"/>\n+        <omgdi:waypoint x=\"1080.0\" y=\"571.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow15\" id=\"BPMNEdge_flow15\">\n+        <omgdi:waypoint x=\"1643.209935088986\" y=\"482.6749142927693\"/>\n+        <omgdi:waypoint x=\"1748.9712597675173\" y=\"482.67491429276924\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"suspended2Reactivate\" id=\"BPMNEdge_suspended2Reactivate\">\n+        <omgdi:waypoint x=\"1860.0\" y=\"200.0\"/>\n+        <omgdi:waypoint x=\"1902.0\" y=\"200.0\"/>\n+        <omgdi:waypoint x=\"1902.0\" y=\"140.0\"/>\n+        <omgdi:waypoint x=\"1940.0\" y=\"140.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow13\" id=\"BPMNEdge_flow13\">\n+        <omgdi:waypoint x=\"660.0\" y=\"689.0\"/>\n+        <omgdi:waypoint x=\"672.0\" y=\"689.0\"/>\n+        <omgdi:waypoint x=\"672.0\" y=\"800.0\"/>\n+        <omgdi:waypoint x=\"710.0\" y=\"800.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow14\" id=\"BPMNEdge_flow14\">\n+        <omgdi:waypoint x=\"760.0\" y=\"770.0\"/>\n+        <omgdi:waypoint x=\"760.0\" y=\"732.8074937730017\"/>\n+        <omgdi:waypoint x=\"910.0\" y=\"732.8074937730017\"/>\n+        <omgdi:waypoint x=\"910.0\" y=\"775.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"createApprovalGW2EnableGW\" id=\"BPMNEdge_createApprovalGW2EnableGW\">\n+        <omgdi:waypoint x=\"510.0\" y=\"576.0\"/>\n+        <omgdi:waypoint x=\"522.0\" y=\"576.0\"/>\n+        <omgdi:waypoint x=\"522.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"590.0\" y=\"449.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"active2Update\" id=\"BPMNEdge_active2Update\">\n+        <omgdi:waypoint x=\"1440.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1456.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1456.0\" y=\"730.0\"/>\n+        <omgdi:waypoint x=\"1790.0\" y=\"730.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"create2Activate\" id=\"BPMNEdge_create2Activate\">\n+        <omgdi:waypoint x=\"270.0\" y=\"526.0\"/>\n+        <omgdi:waypoint x=\"282.0\" y=\"526.0\"/>\n+        <omgdi:waypoint x=\"282.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"590.0\" y=\"449.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"active2Suspend\" id=\"BPMNEdge_active2Suspend\">\n+        <omgdi:waypoint x=\"1440.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1452.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1452.0\" y=\"130.0\"/>\n+        <omgdi:waypoint x=\"1490.0\" y=\"130.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"suspended2Delete\" id=\"BPMNEdge_suspended2Delete\">\n+        <omgdi:waypoint x=\"1860.0\" y=\"200.0\"/>\n+        <omgdi:waypoint x=\"1990.0\" y=\"200.0\"/>\n+        <omgdi:waypoint x=\"1990.0\" y=\"358.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"created2Activate\" id=\"BPMNEdge_created2Activate\">\n+        <omgdi:waypoint x=\"1042.0\" y=\"260.0\"/>\n+        <omgdi:waypoint x=\"1054.0\" y=\"260.0\"/>\n+        <omgdi:waypoint x=\"1054.0\" y=\"278.0\"/>\n+        <omgdi:waypoint x=\"1092.0\" y=\"278.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"createAsAnonymous2Approval\" id=\"BPMNEdge_createAsAnonymous2Approval\">\n+        <omgdi:waypoint x=\"270.0\" y=\"526.0\"/>\n+        <omgdi:waypoint x=\"282.0\" y=\"526.0\"/>\n+        <omgdi:waypoint x=\"282.0\" y=\"590.0\"/>\n+        <omgdi:waypoint x=\"320.0\" y=\"590.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow3\" id=\"BPMNEdge_flow3\">\n+        <omgdi:waypoint x=\"420.0\" y=\"590.0\"/>\n+        <omgdi:waypoint x=\"432.0\" y=\"590.0\"/>\n+        <omgdi:waypoint x=\"432.0\" y=\"576.0\"/>\n+        <omgdi:waypoint x=\"470.0\" y=\"576.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow2\" id=\"BPMNEdge_flow2\">\n+        <omgdi:waypoint x=\"180.0\" y=\"527.0\"/>\n+        <omgdi:waypoint x=\"192.0\" y=\"527.0\"/>\n+        <omgdi:waypoint x=\"192.0\" y=\"526.0\"/>\n+        <omgdi:waypoint x=\"230.0\" y=\"526.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"rejected2Rejected\" id=\"BPMNEdge_rejected2Rejected\">\n+        <omgdi:waypoint x=\"890.6451612903226\" y=\"795.6451612903226\"/>\n+        <omgdi:waypoint x=\"810.0\" y=\"798.3333333333334\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow5\" id=\"BPMNEdge_flow5\">\n+        <omgdi:waypoint x=\"802.0\" y=\"218.0\"/>\n+        <omgdi:waypoint x=\"814.0\" y=\"218.0\"/>\n+        <omgdi:waypoint x=\"814.0\" y=\"243.0\"/>\n+        <omgdi:waypoint x=\"852.0\" y=\"243.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow4\" id=\"BPMNEdge_flow4\">\n+        <omgdi:waypoint x=\"810.0\" y=\"640.0\"/>\n+        <omgdi:waypoint x=\"822.0\" y=\"640.0\"/>\n+        <omgdi:waypoint x=\"959.0\" y=\"640.0\"/>\n+        <omgdi:waypoint x=\"1043.3333333333333\" y=\"571.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"createApprovalGW2Suspended\" id=\"BPMNEdge_createApprovalGW2Suspended\">\n+        <omgdi:waypoint x=\"630.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"672.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"672.0\" y=\"130.0\"/>\n+        <omgdi:waypoint x=\"1490.0\" y=\"130.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow14ter\" id=\"BPMNEdge_flow14ter\">\n+        <omgdi:waypoint x=\"1790.0\" y=\"260.7608891486752\"/>\n+        <omgdi:waypoint x=\"1424.117736926915\" y=\"193.1523534073587\"/>\n+        <omgdi:waypoint x=\"1109.678315230625\" y=\"511.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"createApprovalGW2OptIn\" id=\"BPMNEdge_createApprovalGW2OptIn\">\n+        <omgdi:waypoint x=\"630.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"674.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"700.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"745.2467532467532\" y=\"248.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow1\" id=\"BPMNEdge_flow1\">\n+        <omgdi:waypoint x=\"30.0\" y=\"527.0\"/>\n+        <omgdi:waypoint x=\"80.0\" y=\"527.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow16\" id=\"BPMNEdge_flow16\">\n+        <omgdi:waypoint x=\"1748.9712597675173\" y=\"459.5470829510475\"/>\n+        <omgdi:waypoint x=\"1592.4096593525787\" y=\"387.128477171313\"/>\n+        <omgdi:waypoint x=\"1130.0\" y=\"525.9854974413342\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"created2Created\" id=\"BPMNEdge_created2Created\">\n+        <omgdi:waypoint x=\"1002.0\" y=\"260.0\"/>\n+        <omgdi:waypoint x=\"990.0\" y=\"260.0\"/>\n+        <omgdi:waypoint x=\"990.0\" y=\"243.0\"/>\n+        <omgdi:waypoint x=\"952.0\" y=\"243.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow18\" id=\"BPMNEdge_flow18\">\n+        <omgdi:waypoint x=\"1748.971259767517\" y=\"619.7464352880323\"/>\n+        <omgdi:waypoint x=\"1673.525420205687\" y=\"662.8701121105813\"/>\n+        <omgdi:waypoint x=\"1130.0\" y=\"551.266629529393\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"createApprovalGW2Activate\" id=\"BPMNEdge_createApprovalGW2Activate\">\n+        <omgdi:waypoint x=\"630.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"672.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"672.0\" y=\"640.0\"/>\n+        <omgdi:waypoint x=\"710.0\" y=\"640.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow7\" id=\"BPMNEdge_flow7\">\n+        <omgdi:waypoint x=\"1134.9277566539924\" y=\"308.0\"/>\n+        <omgdi:waypoint x=\"1087.0722433460076\" y=\"511.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow6\" id=\"BPMNEdge_flow6\">\n+        <omgdi:waypoint x=\"952.0\" y=\"252.67741935483872\"/>\n+        <omgdi:waypoint x=\"964.0\" y=\"255.0\"/>\n+        <omgdi:waypoint x=\"964.0\" y=\"260.0\"/>\n+        <omgdi:waypoint x=\"1002.0\" y=\"260.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow9\" id=\"BPMNEdge_flow9\">\n+        <omgdi:waypoint x=\"1828.6246202240113\" y=\"760.0\"/>\n+        <omgdi:waypoint x=\"1811.88836468294\" y=\"804.1381014189917\"/>\n+        <omgdi:waypoint x=\"1474.4398193359375\" y=\"804.1381014189917\"/>\n+        <omgdi:waypoint x=\"1124.969521769241\" y=\"571.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"deleteApprovalGW2Reject\" id=\"BPMNEdge_deleteApprovalGW2Reject\">\n+        <omgdi:waypoint x=\"1710.0\" y=\"320.0\"/>\n+        <omgdi:waypoint x=\"1752.0\" y=\"320.0\"/>\n+        <omgdi:waypoint x=\"1752.0\" y=\"270.0\"/>\n+        <omgdi:waypoint x=\"1790.0\" y=\"270.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow8bis\" id=\"BPMNEdge_flow8bis\">\n+        <omgdi:waypoint x=\"1590.0\" y=\"770.0\"/>\n+        <omgdi:waypoint x=\"1602.0\" y=\"770.0\"/>\n+        <omgdi:waypoint x=\"1602.0\" y=\"760.0\"/>\n+        <omgdi:waypoint x=\"1670.0\" y=\"760.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow99\" id=\"BPMNEdge_flow99\">\n+        <omgdi:waypoint x=\"2040.0\" y=\"388.0\"/>\n+        <omgdi:waypoint x=\"2078.1893792531678\" y=\"388.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow8\" id=\"BPMNEdge_flow8\">\n+        <omgdi:waypoint x=\"1130.0\" y=\"540.8529411764706\"/>\n+        <omgdi:waypoint x=\"1400.058651026393\" y=\"540.0586510263929\"/>\n+      </bpmndi:BPMNEdge>\n+    </bpmndi:BPMNPlane>\n+  </bpmndi:BPMNDiagram>\n+</definitions>\n\\ No newline at end of file"},{"sha":"0cad37eaf4812df2990e66709f2cb8aa9d43a997","filename":"syncope620/fit/reference/src/main/resources/workflow.properties","status":"added","additions":20,"deletions":0,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Fmain%2Fresources%2Fworkflow.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Fmain%2Fresources%2Fworkflow.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Ffit%2Freference%2Fsrc%2Fmain%2Fresources%2Fworkflow.properties?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -0,0 +1,20 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+wf.directory=${conf.directory}\n+jobExecutorActivate=true\n+uwfAdapter=org.apache.syncope.server.workflow.activiti.ActivitiUserWorkflowAdapter\n+rwfAdapter=org.apache.syncope.server.workflow.java.DefaultRoleWorkflowAdapter\n\\ No newline at end of file"},{"sha":"255666c2ae4bcc5aa4574c62e6cabfe7fcfe520f","filename":"syncope620/fit/reference/src/test/java/org/apache/syncope/fit/server/reference/AbstractITCase.java","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FAbstractITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FAbstractITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FAbstractITCase.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -59,6 +59,7 @@\n import org.apache.syncope.common.rest.api.service.RoleService;\n import org.apache.syncope.common.rest.api.service.SchemaService;\n import org.apache.syncope.common.rest.api.service.SecurityQuestionService;\n+import org.apache.syncope.common.rest.api.service.SyncopeService;\n import org.apache.syncope.common.rest.api.service.TaskService;\n import org.apache.syncope.common.rest.api.service.UserSelfService;\n import org.apache.syncope.common.rest.api.service.UserService;\n@@ -142,6 +143,8 @@ public abstract class AbstractITCase {\n \n     protected static SyncopeClient adminClient;\n \n+    protected static SyncopeService syncopeService;\n+\n     protected static UserService userService;\n \n     protected static UserSelfService userSelfService;\n@@ -207,6 +210,7 @@ public static void restSetup() {\n \n         adminClient = clientFactory.create(ADMIN_UNAME, ADMIN_PWD);\n \n+        syncopeService = adminClient.getService(SyncopeService.class);\n         userService = adminClient.getService(UserService.class);\n         userSelfService = adminClient.getService(UserSelfService.class);\n         userWorkflowService = adminClient.getService(UserWorkflowService.class);"},{"sha":"03b686baf8c9c1da0c0875f2398dfb4846f1c839","filename":"syncope620/fit/reference/src/test/java/org/apache/syncope/fit/server/reference/ActivitiDetector.java","status":"modified","additions":5,"deletions":5,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FActivitiDetector.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FActivitiDetector.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FActivitiDetector.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -18,19 +18,19 @@\n  */\n package org.apache.syncope.fit.server.reference;\n \n+import org.apache.syncope.common.rest.api.service.SyncopeService;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n-// TODO: REMOVE!!!\n public class ActivitiDetector {\n \n     private static final Logger LOG = LoggerFactory.getLogger(ActivitiDetector.class);\n \n-    public static boolean isActivitiEnabledForUsers() {\n-        return false;\n+    public static boolean isActivitiEnabledForUsers(final SyncopeService syncopeService) {\n+        return syncopeService.info().getUserWorkflowAdapter().indexOf(\"Activiti\") != -1;\n     }\n \n-    public static boolean isActivitiEnabledForRoles() {\n-        return false;\n+    public static boolean isActivitiEnabledForRoles(final SyncopeService syncopeService) {\n+        return syncopeService.info().getRoleWorkflowAdapter().indexOf(\"Activiti\") != -1;\n     }\n }"},{"sha":"5b3b4b0948f155a05ffeb738aa4593a612ccfc5e","filename":"syncope620/fit/reference/src/test/java/org/apache/syncope/fit/server/reference/AuthenticationITCase.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FAuthenticationITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FAuthenticationITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FAuthenticationITCase.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -366,7 +366,7 @@ public void issueSYNCOPE48() {\n \n     @Test\n     public void issueSYNCOPE434() {\n-        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers());\n+        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers(syncopeService));\n \n         // 1. create user with role 9 (users with role 9 are defined in workflow as subject to approval)\n         UserTO userTO = UserITCase.getUniqueSampleTO(\"createWithReject@syncope.apache.org\");"},{"sha":"c25dc7f005aa33081a016ceb1d5f2e0ef6bb6e2d","filename":"syncope620/fit/reference/src/test/java/org/apache/syncope/fit/server/reference/PolicyITCase.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FPolicyITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FPolicyITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FPolicyITCase.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -205,7 +205,7 @@ public void delete() {\n \n     @Test\n     public void getCorrelationRules() {\n-        assertEquals(1, policyService.getSyncCorrelationRuleClasses().size());\n+        assertEquals(1, syncopeService.info().getSyncCorrelationRules().size());\n     }\n \n     @Test"},{"sha":"69f26e370b486442409752a8b8eb1ad61ee0e988","filename":"syncope620/fit/reference/src/test/java/org/apache/syncope/fit/server/reference/ResourceITCase.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FResourceITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FResourceITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FResourceITCase.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -43,7 +43,6 @@\n import org.apache.syncope.common.lib.types.EntityViolationType;\n import org.apache.syncope.common.lib.types.IntMappingType;\n import org.apache.syncope.common.lib.types.MappingPurpose;\n-import org.apache.syncope.common.lib.wrap.PropagationActionClass;\n import org.apache.syncope.common.rest.api.service.ResourceService;\n import org.junit.FixMethodOrder;\n import org.junit.Test;\n@@ -88,7 +87,7 @@ private ResourceTO buildResourceTO(final String resourceName) {\n \n     @Test\n     public void getPropagationActionsClasses() {\n-        List<PropagationActionClass> actions = resourceService.getPropagationActionsClasses();\n+        List<String> actions = syncopeService.info().getPropagationActions();\n         assertNotNull(actions);\n         assertFalse(actions.isEmpty());\n     }"},{"sha":"0c191f427fab71bf5170033b25532092b4205920","filename":"syncope620/fit/reference/src/test/java/org/apache/syncope/fit/server/reference/TaskITCase.java","status":"modified","additions":5,"deletions":7,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FTaskITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FTaskITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FTaskITCase.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -77,10 +77,7 @@\n import org.apache.syncope.common.lib.types.TaskType;\n import org.apache.syncope.common.lib.types.TraceLevel;\n import org.apache.syncope.common.lib.types.UnmatchingRule;\n-import org.apache.syncope.common.lib.wrap.JobClass;\n-import org.apache.syncope.common.lib.wrap.PushActionClass;\n import org.apache.syncope.common.lib.wrap.ResourceName;\n-import org.apache.syncope.common.lib.wrap.SyncActionClass;\n import org.apache.syncope.common.rest.api.CollectionWrapper;\n import org.apache.syncope.common.rest.api.service.NotificationService;\n import org.apache.syncope.common.rest.api.service.ResourceService;\n@@ -151,21 +148,21 @@ private void removeTestUsers() {\n \n     @Test\n     public void getJobClasses() {\n-        List<JobClass> jobClasses = taskService.getJobClasses();\n+        List<String> jobClasses = syncopeService.info().getTaskJobs();\n         assertNotNull(jobClasses);\n         assertFalse(jobClasses.isEmpty());\n     }\n \n     @Test\n     public void getSyncActionsClasses() {\n-        List<SyncActionClass> actions = taskService.getSyncActionsClasses();\n+        List<String> actions = syncopeService.info().getSyncActions();\n         assertNotNull(actions);\n         assertFalse(actions.isEmpty());\n     }\n \n     @Test\n     public void getPushActionsClasses() {\n-        List<PushActionClass> actions = taskService.getPushActionsClasses();\n+        List<String> actions = syncopeService.info().getPushActions();\n         assertNotNull(actions);\n     }\n \n@@ -382,7 +379,8 @@ public void sync() throws Exception {\n             UserTO userTO = userService.read(inUserTO.getKey());\n             assertNotNull(userTO);\n             assertEquals(userName, userTO.getUsername());\n-            assertEquals(ActivitiDetector.isActivitiEnabledForUsers() ? \"active\" : \"created\", userTO.getStatus());\n+            assertEquals(ActivitiDetector.isActivitiEnabledForUsers(syncopeService)\n+                    ? \"active\" : \"created\", userTO.getStatus());\n             assertEquals(\"test9@syncope.apache.org\", userTO.getPlainAttrMap().get(\"email\").getValues().get(0));\n             assertEquals(\"test9@syncope.apache.org\", userTO.getPlainAttrMap().get(\"userId\").getValues().get(0));\n             assertTrue(Integer.valueOf(userTO.getPlainAttrMap().get(\"fullname\").getValues().get(0)) <= 10);"},{"sha":"5df855a3d1ce7c3be3b07d2c1a543851e9f5972b","filename":"syncope620/fit/reference/src/test/java/org/apache/syncope/fit/server/reference/UserITCase.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FUserITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FUserITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FUserITCase.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -806,7 +806,7 @@ public void verifyTaskRegistration() {\n \n     @Test\n     public void createActivate() {\n-        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers());\n+        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers(syncopeService));\n \n         UserTO userTO = getUniqueSampleTO(\"createActivate@syncope.apache.org\");\n \n@@ -844,7 +844,7 @@ public void suspendReactivate() {\n         userTO = createUser(userTO);\n \n         assertNotNull(userTO);\n-        assertEquals(ActivitiDetector.isActivitiEnabledForUsers()\n+        assertEquals(ActivitiDetector.isActivitiEnabledForUsers(syncopeService)\n                 ? \"active\"\n                 : \"created\", userTO.getStatus());\n \n@@ -877,7 +877,7 @@ public void suspendReactivateOnResource() {\n         userTO.getResources().add(RESOURCE_NAME_LDAP);\n         userTO = createUser(userTO);\n         assertNotNull(userTO);\n-        assertEquals(ActivitiDetector.isActivitiEnabledForUsers()\n+        assertEquals(ActivitiDetector.isActivitiEnabledForUsers(syncopeService)\n                 ? \"active\"\n                 : \"created\", userTO.getStatus());\n         long userId = userTO.getKey();"},{"sha":"18474220f8c75f58458cd653369704a2e3760543","filename":"syncope620/fit/reference/src/test/java/org/apache/syncope/fit/server/reference/UserSelfITCase.java","status":"modified","additions":8,"deletions":6,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FUserSelfITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FUserSelfITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FUserSelfITCase.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -63,7 +63,7 @@ public void selfRegistrationAllowed() {\n \n     @Test\n     public void create() {\n-        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers());\n+        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers(syncopeService));\n \n         // 1. self-registration as admin: failure\n         try {\n@@ -84,7 +84,7 @@ public void create() {\n \n     @Test\n     public void createAndApprove() {\n-        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers());\n+        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers(syncopeService));\n \n         // self-create user with membership: goes 'createApproval' with resources and membership but no propagation\n         UserTO userTO = UserITCase.getUniqueSampleTO(\"anonymous@syncope.apache.org\");\n@@ -153,13 +153,14 @@ public void updateWithoutApproval() {\n         UserTO updated = authClient.getService(UserSelfService.class).update(created.getKey(), userMod).\n                 readEntity(UserTO.class);\n         assertNotNull(updated);\n-        assertEquals(ActivitiDetector.isActivitiEnabledForUsers() ? \"active\" : \"created\", updated.getStatus());\n+        assertEquals(ActivitiDetector.isActivitiEnabledForUsers(syncopeService)\n+                ? \"active\" : \"created\", updated.getStatus());\n         assertTrue(updated.getUsername().endsWith(\"XX\"));\n     }\n \n     @Test\n     public void updateWitApproval() {\n-        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers());\n+        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers(syncopeService));\n \n         // 1. create user as admin\n         UserTO created = createUser(UserITCase.getUniqueSampleTO(\"anonymous@syncope.apache.org\"));\n@@ -227,7 +228,8 @@ public void delete() {\n         SyncopeClient authClient = clientFactory.create(created.getUsername(), \"password123\");\n         UserTO deleted = authClient.getService(UserSelfService.class).delete().readEntity(UserTO.class);\n         assertNotNull(deleted);\n-        assertEquals(ActivitiDetector.isActivitiEnabledForUsers() ? \"deleteApproval\" : null, deleted.getStatus());\n+        assertEquals(ActivitiDetector.isActivitiEnabledForUsers(syncopeService)\n+                ? \"deleteApproval\" : null, deleted.getStatus());\n     }\n \n     @Test\n@@ -238,7 +240,7 @@ public void issueSYNCOPE373() {\n \n     @Test\n     public void noContent() throws IOException {\n-        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers());\n+        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers(syncopeService));\n \n         SyncopeClient anonClient = clientFactory.createAnonymous();\n         UserSelfService noContentService = anonClient.prefer(UserSelfService.class, Preference.RETURN_NO_CONTENT);"},{"sha":"c7354dd53291e9a77ad61a16f6e26cc182df5adc","filename":"syncope620/fit/reference/src/test/java/org/apache/syncope/fit/server/reference/UserWorkflowITCase.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FUserWorkflowITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FUserWorkflowITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FUserWorkflowITCase.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -49,7 +49,7 @@ public class UserWorkflowITCase extends AbstractITCase {\n \n     @Test\n     public void createWithReject() {\n-        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers());\n+        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers(syncopeService));\n \n         UserTO userTO = UserITCase.getUniqueSampleTO(\"createWithReject@syncope.apache.org\");\n         userTO.getResources().add(RESOURCE_NAME_TESTDB);\n@@ -118,7 +118,7 @@ public void createWithReject() {\n \n     @Test\n     public void createWithApproval() {\n-        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers());\n+        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers(syncopeService));\n \n         // read forms *before* any operation\n         List<WorkflowFormTO> forms = userWorkflowService.getForms();\n@@ -201,7 +201,7 @@ public void createWithApproval() {\n \n     @Test\n     public void issueSYNCOPE15() {\n-        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers());\n+        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers(syncopeService));\n \n         // read forms *before* any operation\n         List<WorkflowFormTO> forms = userWorkflowService.getForms();"},{"sha":"2f203e6cb155cd57013df87f067c36194db5ea0a","filename":"syncope620/fit/reference/src/test/java/org/apache/syncope/fit/server/reference/WorkflowITCase.java","status":"modified","additions":4,"deletions":13,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FWorkflowITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FWorkflowITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fserver%2Freference%2FWorkflowITCase.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -18,7 +18,6 @@\n  */\n package org.apache.syncope.fit.server.reference;\n \n-import static org.junit.Assert.assertEquals;\n import static org.junit.Assert.assertNotNull;\n import static org.junit.Assert.assertTrue;\n import static org.junit.Assert.assertFalse;\n@@ -33,14 +32,6 @@\n \n public class WorkflowITCase extends AbstractITCase {\n \n-    @Test\n-    public void isActivitiEnabled() {\n-        assertEquals(ActivitiDetector.isActivitiEnabledForUsers(),\n-                adminClient.isActivitiEnabledFor(SubjectType.USER));\n-        assertEquals(ActivitiDetector.isActivitiEnabledForRoles(),\n-                adminClient.isActivitiEnabledFor(SubjectType.ROLE));\n-    }\n-\n     private void exportDefinition(final SubjectType type) throws IOException {\n         Response response = workflowService.exportDefinition(type);\n         assertTrue(response.getMediaType().toString().\n@@ -53,13 +44,13 @@ private void exportDefinition(final SubjectType type) throws IOException {\n \n     @Test\n     public void exportUserDefinition() throws IOException {\n-        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers());\n+        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers(syncopeService));\n         exportDefinition(SubjectType.USER);\n     }\n \n     @Test\n     public void getRoleDefinition() throws IOException {\n-        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForRoles());\n+        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForRoles(syncopeService));\n         exportDefinition(SubjectType.ROLE);\n     }\n \n@@ -72,14 +63,14 @@ private void importDefinition(final SubjectType type) throws IOException {\n \n     @Test\n     public void updateUserDefinition() throws IOException {\n-        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers());\n+        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForUsers(syncopeService));\n \n         importDefinition(SubjectType.USER);\n     }\n \n     @Test\n     public void updateRoleDefinition() throws IOException {\n-        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForRoles());\n+        Assume.assumeTrue(ActivitiDetector.isActivitiEnabledForRoles(syncopeService));\n \n         importDefinition(SubjectType.ROLE);\n     }"},{"sha":"44fd18e9b91327dafcf15a7d3d74dce866fc820f","filename":"syncope620/fit/reference/src/test/resources/addActivitiToContent.xsl","status":"added","additions":50,"deletions":0,"changes":50,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fresources%2FaddActivitiToContent.xsl","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fresources%2FaddActivitiToContent.xsl","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Ffit%2Freference%2Fsrc%2Ftest%2Fresources%2FaddActivitiToContent.xsl?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -0,0 +1,50 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  Licensed to the Apache Software Foundation (ASF) under one\n+  or more contributor license agreements.  See the NOTICE file\n+  distributed with this work for additional information\n+  regarding copyright ownership.  The ASF licenses this file\n+  to you under the Apache License, Version 2.0 (the\n+  \"License\"); you may not use this file except in compliance\n+  with the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+ Unless required by applicable law or agreed to in writing,\n+ software distributed under the License is distributed on an\n+ \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ KIND, either express or implied.  See the License for the\n+ specific language governing permissions and limitations\n+ under the License.\n+-->\n+<xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\n+                version=\"1.0\">\n+  \n+  <xsl:template match=\"/dataset\">\n+    <dataset>\n+      <xsl:apply-templates/>\n+      \n+      <ACT_RU_EXECUTION ID_=\"4\" REV_=\"2\" PROC_INST_ID_=\"4\" PROC_DEF_ID_=\"userWorkflow:1:4\" ACT_ID_=\"active\" IS_ACTIVE_=\"1\" IS_CONCURRENT_=\"0\" IS_SCOPE_=\"1\" IS_EVENT_SCOPE_=\"0\" SUSPENSION_STATE_=\"1\"/>\n+      <ACT_RU_TASK ID_=\"5\" REV_=\"2\" EXECUTION_ID_=\"4\" PROC_INST_ID_=\"4\" PROC_DEF_ID_=\"userWorkflow:1:4\" NAME_=\"Active\" TASK_DEF_KEY_=\"active\" PRIORITY_=\"50\" CREATE_TIME_=\"2013-02-25T17:19:03+0100\"/>\n+\n+      <ACT_RU_EXECUTION ID_=\"6\" REV_=\"2\" PROC_INST_ID_=\"6\" PROC_DEF_ID_=\"userWorkflow:1:4\" ACT_ID_=\"active\" IS_ACTIVE_=\"1\" IS_CONCURRENT_=\"0\" IS_SCOPE_=\"1\" IS_EVENT_SCOPE_=\"0\" SUSPENSION_STATE_=\"1\"/>\n+      <ACT_RU_TASK ID_=\"7\" REV_=\"2\" EXECUTION_ID_=\"6\" PROC_INST_ID_=\"6\" PROC_DEF_ID_=\"userWorkflow:1:4\" NAME_=\"Active\" TASK_DEF_KEY_=\"active\" PRIORITY_=\"50\" CREATE_TIME_=\"2013-02-25T17:19:03+0100\"/>\n+\n+      <ACT_RU_EXECUTION ID_=\"8\" REV_=\"2\" PROC_INST_ID_=\"8\" PROC_DEF_ID_=\"userWorkflow:1:4\" ACT_ID_=\"active\" IS_ACTIVE_=\"1\" IS_CONCURRENT_=\"0\" IS_SCOPE_=\"1\" IS_EVENT_SCOPE_=\"0\" SUSPENSION_STATE_=\"1\"/>\n+      <ACT_RU_TASK ID_=\"9\" REV_=\"2\" EXECUTION_ID_=\"8\" PROC_INST_ID_=\"8\" PROC_DEF_ID_=\"userWorkflow:1:4\" NAME_=\"Active\" TASK_DEF_KEY_=\"active\" PRIORITY_=\"50\" CREATE_TIME_=\"2013-02-25T17:19:03+0100\"/>\n+\n+      <ACT_RU_EXECUTION ID_=\"10\" REV_=\"2\" PROC_INST_ID_=\"10\" PROC_DEF_ID_=\"userWorkflow:1:4\" ACT_ID_=\"active\" IS_ACTIVE_=\"1\" IS_CONCURRENT_=\"0\" IS_SCOPE_=\"1\" IS_EVENT_SCOPE_=\"0\" SUSPENSION_STATE_=\"1\"/>\n+      <ACT_RU_TASK ID_=\"11\" REV_=\"2\" EXECUTION_ID_=\"10\" PROC_INST_ID_=\"10\" PROC_DEF_ID_=\"userWorkflow:1:4\" NAME_=\"Active\" TASK_DEF_KEY_=\"active\" PRIORITY_=\"50\" CREATE_TIME_=\"2013-02-25T17:19:03+0100\"/>\n+\n+      <ACT_RU_EXECUTION ID_=\"12\" REV_=\"2\" PROC_INST_ID_=\"12\" PROC_DEF_ID_=\"userWorkflow:1:4\" ACT_ID_=\"active\" IS_ACTIVE_=\"1\" IS_CONCURRENT_=\"0\" IS_SCOPE_=\"1\" IS_EVENT_SCOPE_=\"0\" SUSPENSION_STATE_=\"1\"/>\n+      <ACT_RU_TASK ID_=\"13\" REV_=\"2\" EXECUTION_ID_=\"12\" PROC_INST_ID_=\"12\" PROC_DEF_ID_=\"userWorkflow:1:4\" NAME_=\"Active\" TASK_DEF_KEY_=\"active\" PRIORITY_=\"50\" CREATE_TIME_=\"2013-02-25T17:19:03+0100\"/>\n+    </dataset>\n+  </xsl:template>\n+  \n+  <xsl:template match=\"node()|@*|comment()\">\n+    <xsl:copy>\n+      <xsl:apply-templates select=\"@*|node()\"/>\n+    </xsl:copy>\n+  </xsl:template>\n+\n+</xsl:stylesheet>"},{"sha":"c7e6cf23986f1d4136b6be1e0e7ef5e9f9577e27","filename":"syncope620/pom.xml","status":"modified","additions":14,"deletions":1,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fpom.xml?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -337,7 +337,7 @@ under the License.\n \n     <cocoon.version>3.0.0-alpha-3</cocoon.version>\n \n-    <groovy.version>2.3.9</groovy.version>\n+    <groovy.version>2.4.0</groovy.version>\n \n     <activiti.version>5.16.4</activiti.version>\n \n@@ -985,6 +985,19 @@ under the License.\n           <version>1.8</version>\n         </plugin>\n         \n+        <plugin>\n+          <groupId>org.codehaus.mojo</groupId>\n+          <artifactId>xml-maven-plugin</artifactId>\n+          <version>1.0</version>\n+          <dependencies>\n+            <dependency>\n+              <groupId>xalan</groupId>\n+              <artifactId>xalan</artifactId>\n+              <version>2.7.1</version>\n+            </dependency>\n+          </dependencies>\n+        </plugin>\n+        \n         <plugin>\n           <groupId>org.codehaus.cargo</groupId>\n           <artifactId>cargo-maven2-plugin</artifactId>"},{"sha":"ac6b816b49070708684c893e112d9c42ce39d449","filename":"syncope620/server/logic/src/main/java/org/apache/syncope/server/logic/ConfigurationLogic.java","status":"modified","additions":0,"deletions":47,"changes":47,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FConfigurationLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FConfigurationLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FConfigurationLogic.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -18,27 +18,19 @@\n  */\n package org.apache.syncope.server.logic;\n \n-import java.io.IOException;\n import java.io.OutputStream;\n import java.lang.reflect.Method;\n-import java.util.HashSet;\n-import java.util.Set;\n import org.apache.syncope.common.lib.to.AttrTO;\n import org.apache.syncope.common.lib.to.ConfTO;\n-import org.apache.syncope.common.lib.wrap.Validator;\n import org.apache.syncope.server.persistence.api.content.ContentExporter;\n import org.apache.syncope.server.persistence.api.dao.ConfDAO;\n import org.apache.syncope.server.persistence.api.dao.NotFoundException;\n import org.apache.syncope.server.persistence.api.dao.PlainSchemaDAO;\n import org.apache.syncope.server.persistence.api.entity.conf.CPlainAttr;\n import org.apache.syncope.server.persistence.api.entity.conf.CPlainSchema;\n import org.apache.syncope.server.provisioning.api.data.ConfigurationDataBinder;\n-import org.apache.syncope.server.logic.init.ImplementationClassNamesLoader;\n import org.apache.syncope.server.logic.init.WorkflowAdapterLoader;\n-import org.apache.syncope.server.provisioning.java.notification.NotificationManagerImpl;\n-import org.apache.syncope.server.misc.spring.ResourceWithFallbackLoader;\n import org.springframework.beans.factory.annotation.Autowired;\n-import org.springframework.core.io.Resource;\n import org.springframework.security.access.prepost.PreAuthorize;\n import org.springframework.stereotype.Component;\n import org.springframework.transaction.annotation.Transactional;\n@@ -58,12 +50,6 @@ public class ConfigurationLogic extends AbstractTransactionalLogic<ConfTO> {\n     @Autowired\n     private ContentExporter exporter;\n \n-    @Autowired\n-    private ImplementationClassNamesLoader classNamesLoader;\n-\n-    @javax.annotation.Resource(name = \"velocityResourceLoader\")\n-    private ResourceWithFallbackLoader resourceLoader;\n-\n     @Autowired\n     private WorkflowAdapterLoader wfAdapterLoader;\n \n@@ -102,39 +88,6 @@ public void set(final AttrTO value) {\n         confDAO.save(binder.getAttribute(value));\n     }\n \n-    @PreAuthorize(\"hasRole('CONFIGURATION_LIST')\")\n-    public Set<String> getValidators() {\n-        return classNamesLoader.getClassNames(ImplementationClassNamesLoader.Type.VALIDATOR);\n-    }\n-\n-    @PreAuthorize(\"hasRole('CONFIGURATION_LIST')\")\n-    public Set<String> getMailTemplates() {\n-        Set<String> htmlTemplates = new HashSet<>();\n-        Set<String> textTemplates = new HashSet<>();\n-\n-        try {\n-            for (Resource resource : resourceLoader.getResources(NotificationManagerImpl.MAIL_TEMPLATES + \"*.vm\")) {\n-                String template = resource.getURL().toExternalForm();\n-                if (template.endsWith(NotificationManagerImpl.MAIL_TEMPLATE_HTML_SUFFIX)) {\n-                    htmlTemplates.add(template.substring(template.indexOf(NotificationManagerImpl.MAIL_TEMPLATES) + 14,\n-                                    template.indexOf(NotificationManagerImpl.MAIL_TEMPLATE_HTML_SUFFIX)));\n-                } else if (template.endsWith(NotificationManagerImpl.MAIL_TEMPLATE_TEXT_SUFFIX)) {\n-                    textTemplates.add(template.substring(template.indexOf(NotificationManagerImpl.MAIL_TEMPLATES) + 14,\n-                                    template.indexOf(NotificationManagerImpl.MAIL_TEMPLATE_TEXT_SUFFIX)));\n-                } else {\n-                    LOG.warn(\"Unexpected template found: {}, ignoring...\", template);\n-                }\n-            }\n-        } catch (IOException e) {\n-            LOG.error(\"While searching for class implementing {}\", Validator.class.getName(), e);\n-        }\n-\n-        // Only templates available both as HTML and TEXT are considered\n-        htmlTemplates.retainAll(textTemplates);\n-\n-        return htmlTemplates;\n-    }\n-\n     @PreAuthorize(\"hasRole('CONFIGURATION_EXPORT')\")\n     @Transactional(readOnly = true)\n     public void export(final OutputStream os) {"},{"sha":"0a890ad6784d71fcbfc80f81be409f4f2a6d34d3","filename":"syncope620/server/logic/src/main/java/org/apache/syncope/server/logic/EntitlementLogic.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FEntitlementLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FEntitlementLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FEntitlementLogic.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -37,7 +37,7 @@ public class EntitlementLogic extends AbstractTransactionalLogic<EntitlementTO>\n \n     public List<String> getAll() {\n         List<Entitlement> entitlements = entitlementDAO.findAll();\n-        List<String> result = new ArrayList<String>(entitlements.size());\n+        List<String> result = new ArrayList<>(entitlements.size());\n         for (Entitlement entitlement : entitlements) {\n             result.add(entitlement.getKey());\n         }"},{"sha":"49050fc8988da45cd7aea8f1c607c19b9cc722cc","filename":"syncope620/server/logic/src/main/java/org/apache/syncope/server/logic/LoggerLogic.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FLoggerLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FLoggerLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FLoggerLogic.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -295,7 +295,7 @@ public List<EventCategoryTO> listAuditEvents() {\n             LOG.error(\"Failure retrieving audit/notification events\", e);\n         }\n \n-        return new ArrayList<EventCategoryTO>(events);\n+        return new ArrayList<>(events);\n     }\n \n     @Override"},{"sha":"bfd0137979daea38a385bd8adf4d858067451165","filename":"syncope620/server/logic/src/main/java/org/apache/syncope/server/logic/NotificationLogic.java","status":"modified","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FNotificationLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FNotificationLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FNotificationLogic.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -101,21 +101,21 @@ public NotificationTO delete(final Long notificationId) {\n     protected NotificationTO resolveReference(final Method method, final Object... args)\n             throws UnresolvedReferenceException {\n \n-        Long id = null;\n+        Long key = null;\n \n         if (ArrayUtils.isNotEmpty(args)) {\n-            for (int i = 0; id == null && i < args.length; i++) {\n+            for (int i = 0; key == null && i < args.length; i++) {\n                 if (args[i] instanceof Long) {\n-                    id = (Long) args[i];\n+                    key = (Long) args[i];\n                 } else if (args[i] instanceof NotificationTO) {\n-                    id = ((NotificationTO) args[i]).getKey();\n+                    key = ((NotificationTO) args[i]).getKey();\n                 }\n             }\n         }\n \n-        if ((id != null) && !id.equals(0l)) {\n+        if ((key != null) && !key.equals(0l)) {\n             try {\n-                return binder.getNotificationTO(notificationDAO.find(id));\n+                return binder.getNotificationTO(notificationDAO.find(key));\n             } catch (Throwable ignore) {\n                 LOG.debug(\"Unresolved reference\", ignore);\n                 throw new UnresolvedReferenceException(ignore);"},{"sha":"062886e34236e8b711341a21649ec733d4119cf1","filename":"syncope620/server/logic/src/main/java/org/apache/syncope/server/logic/PolicyLogic.java","status":"modified","additions":0,"deletions":10,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FPolicyLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FPolicyLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FPolicyLogic.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -21,7 +21,6 @@\n import java.lang.reflect.Method;\n import java.util.ArrayList;\n import java.util.List;\n-import java.util.Set;\n import org.apache.commons.lang3.ArrayUtils;\n import org.apache.syncope.common.lib.to.AbstractPolicyTO;\n import org.apache.syncope.common.lib.to.AccountPolicyTO;\n@@ -35,17 +34,13 @@\n import org.apache.syncope.server.persistence.api.entity.Policy;\n import org.apache.syncope.server.persistence.api.entity.SyncPolicy;\n import org.apache.syncope.server.provisioning.api.data.PolicyDataBinder;\n-import org.apache.syncope.server.logic.init.ImplementationClassNamesLoader;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.security.access.prepost.PreAuthorize;\n import org.springframework.stereotype.Component;\n \n @Component\n public class PolicyLogic extends AbstractTransactionalLogic<AbstractPolicyTO> {\n \n-    @Autowired\n-    private ImplementationClassNamesLoader classNamesLoader;\n-\n     @Autowired\n     private PolicyDAO policyDAO;\n \n@@ -160,11 +155,6 @@ public <T extends AbstractPolicyTO> T delete(final Long id) {\n         return policyToDelete;\n     }\n \n-    @PreAuthorize(\"hasRole('POLICY_LIST')\")\n-    public Set<String> getSyncCorrelationRuleClasses() {\n-        return classNamesLoader.getClassNames(ImplementationClassNamesLoader.Type.SYNC_CORRELATION_RULES);\n-    }\n-\n     /**\n      * {@inheritDoc}\n      */"},{"sha":"22ebff90fab217dd4d376ef17380fc67da844b8f","filename":"syncope620/server/logic/src/main/java/org/apache/syncope/server/logic/ReportLogic.java","status":"modified","additions":18,"deletions":22,"changes":40,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FReportLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FReportLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FReportLogic.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -161,18 +161,6 @@ private Class<? extends ReportletConf> getReportletConfClass(final Class<Reportl\n         return result;\n     }\n \n-    public Class<Reportlet> findReportletClassHavingConfClass(final Class<? extends ReportletConf> reportletConfClass) {\n-        Class<Reportlet> result = null;\n-        for (Class<Reportlet> reportletClass : getAllReportletClasses()) {\n-            Class<? extends ReportletConf> found = getReportletConfClass(reportletClass);\n-            if (found != null && found.equals(reportletConfClass)) {\n-                result = reportletClass;\n-            }\n-        }\n-\n-        return result;\n-    }\n-\n     @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n     private Set<Class<Reportlet>> getAllReportletClasses() {\n         Set<Class<Reportlet>> reportletClasses = new HashSet<>();\n@@ -191,7 +179,6 @@ private Set<Class<Reportlet>> getAllReportletClasses() {\n     }\n \n     @PreAuthorize(\"hasRole('REPORT_LIST')\")\n-    @SuppressWarnings(\"rawtypes\")\n     public Set<String> getReportletConfClasses() {\n         Set<String> reportletConfClasses = new HashSet<>();\n \n@@ -205,6 +192,18 @@ public Set<String> getReportletConfClasses() {\n         return reportletConfClasses;\n     }\n \n+    public Class<Reportlet> findReportletClassHavingConfClass(final Class<? extends ReportletConf> reportletConfClass) {\n+        Class<Reportlet> result = null;\n+        for (Class<Reportlet> reportletClass : getAllReportletClasses()) {\n+            Class<? extends ReportletConf> found = getReportletConfClass(reportletClass);\n+            if (found != null && found.equals(reportletConfClass)) {\n+                result = reportletClass;\n+            }\n+        }\n+\n+        return result;\n+    }\n+\n     @PreAuthorize(\"hasRole('REPORT_READ')\")\n     public ReportTO read(final Long reportKey) {\n         Report report = reportDAO.find(reportKey);\n@@ -360,30 +359,27 @@ public ReportExecTO deleteExecution(final Long executionKey) {\n         return reportExecToDelete;\n     }\n \n-    /**\n-     * {@inheritDoc}\n-     */\n     @Override\n     protected ReportTO resolveReference(final Method method, final Object... args)\n             throws UnresolvedReferenceException {\n \n-        Long id = null;\n+        Long key = null;\n \n         if (ArrayUtils.isNotEmpty(args) && (\"create\".equals(method.getName())\n                 || \"update\".equals(method.getName())\n                 || \"delete\".equals(method.getName()))) {\n-            for (int i = 0; id == null && i < args.length; i++) {\n+            for (int i = 0; key == null && i < args.length; i++) {\n                 if (args[i] instanceof Long) {\n-                    id = (Long) args[i];\n+                    key = (Long) args[i];\n                 } else if (args[i] instanceof ReportTO) {\n-                    id = ((ReportTO) args[i]).getKey();\n+                    key = ((ReportTO) args[i]).getKey();\n                 }\n             }\n         }\n \n-        if ((id != null) && !id.equals(0l)) {\n+        if ((key != null) && !key.equals(0l)) {\n             try {\n-                return binder.getReportTO(reportDAO.find(id));\n+                return binder.getReportTO(reportDAO.find(key));\n             } catch (Throwable ignore) {\n                 LOG.debug(\"Unresolved reference\", ignore);\n                 throw new UnresolvedReferenceException(ignore);"},{"sha":"07d27956c0574b57a7d22126f86be78c8d273e21","filename":"syncope620/server/logic/src/main/java/org/apache/syncope/server/logic/ResourceLogic.java","status":"modified","additions":6,"deletions":21,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FResourceLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FResourceLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FResourceLogic.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -46,7 +46,6 @@\n import org.apache.syncope.server.provisioning.api.Connector;\n import org.apache.syncope.server.provisioning.api.ConnectorFactory;\n import org.apache.syncope.server.provisioning.api.data.ResourceDataBinder;\n-import org.apache.syncope.server.logic.init.ImplementationClassNamesLoader;\n import org.apache.syncope.server.misc.ConnObjectUtil;\n import org.apache.syncope.server.misc.MappingUtil;\n import org.identityconnectors.framework.common.objects.Attribute;\n@@ -78,9 +77,6 @@ public class ResourceLogic extends AbstractTransactionalLogic<ResourceTO> {\n     @Autowired\n     private ResourceDataBinder binder;\n \n-    @Autowired\n-    private ImplementationClassNamesLoader classNamesLoader;\n-\n     @Autowired\n     private ConnObjectUtil connObjectUtil;\n \n@@ -162,14 +158,6 @@ public ResourceTO read(final String resourceName) {\n         return binder.getResourceTO(resource);\n     }\n \n-    @PreAuthorize(\"hasRole('RESOURCE_READ')\")\n-    public Set<String> getPropagationActionsClasses() {\n-        Set<String> actionsClasses = classNamesLoader.getClassNames(\n-                ImplementationClassNamesLoader.Type.PROPAGATION_ACTIONS);\n-\n-        return actionsClasses;\n-    }\n-\n     @PreAuthorize(\"isAuthenticated()\")\n     @Transactional(readOnly = true)\n     public List<ResourceTO> list(final Long connInstanceId) {\n@@ -268,28 +256,25 @@ public BulkActionResult bulk(final BulkAction bulkAction) {\n         return res;\n     }\n \n-    /**\n-     * {@inheritDoc}\n-     */\n     @Override\n     protected ResourceTO resolveReference(final Method method, final Object... args)\n             throws UnresolvedReferenceException {\n \n-        String name = null;\n+        String key = null;\n \n         if (ArrayUtils.isNotEmpty(args)) {\n-            for (int i = 0; name == null && i < args.length; i++) {\n+            for (int i = 0; key == null && i < args.length; i++) {\n                 if (args[i] instanceof String) {\n-                    name = (String) args[i];\n+                    key = (String) args[i];\n                 } else if (args[i] instanceof ResourceTO) {\n-                    name = ((ResourceTO) args[i]).getKey();\n+                    key = ((ResourceTO) args[i]).getKey();\n                 }\n             }\n         }\n \n-        if (name != null) {\n+        if (key != null) {\n             try {\n-                return binder.getResourceTO(resourceDAO.find(name));\n+                return binder.getResourceTO(resourceDAO.find(key));\n             } catch (Throwable ignore) {\n                 LOG.debug(\"Unresolved reference\", ignore);\n                 throw new UnresolvedReferenceException(ignore);"},{"sha":"f2175b95a6406ccb7f2d1ca84683aba9713868a5","filename":"syncope620/server/logic/src/main/java/org/apache/syncope/server/logic/RoleLogic.java","status":"modified","additions":7,"deletions":7,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FRoleLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FRoleLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FRoleLogic.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -377,23 +377,23 @@ public RoleTO provision(\n \n     @Override\n     protected RoleTO resolveReference(final Method method, final Object... args) throws UnresolvedReferenceException {\n-        Long id = null;\n+        Long key = null;\n \n         if (ArrayUtils.isNotEmpty(args)) {\n-            for (int i = 0; id == null && i < args.length; i++) {\n+            for (int i = 0; key == null && i < args.length; i++) {\n                 if (args[i] instanceof Long) {\n-                    id = (Long) args[i];\n+                    key = (Long) args[i];\n                 } else if (args[i] instanceof RoleTO) {\n-                    id = ((RoleTO) args[i]).getKey();\n+                    key = ((RoleTO) args[i]).getKey();\n                 } else if (args[i] instanceof RoleMod) {\n-                    id = ((RoleMod) args[i]).getKey();\n+                    key = ((RoleMod) args[i]).getKey();\n                 }\n             }\n         }\n \n-        if ((id != null) && !id.equals(0l)) {\n+        if ((key != null) && !key.equals(0l)) {\n             try {\n-                return binder.getRoleTO(id);\n+                return binder.getRoleTO(key);\n             } catch (Throwable ignore) {\n                 LOG.debug(\"Unresolved reference\", ignore);\n                 throw new UnresolvedReferenceException(ignore);"},{"sha":"7f70be034c408e96a260f3ae4f499d24503b8de1","filename":"syncope620/server/logic/src/main/java/org/apache/syncope/server/logic/SchemaLogic.java","status":"modified","additions":8,"deletions":11,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FSchemaLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FSchemaLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FSchemaLogic.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -272,40 +272,37 @@ public <T extends AbstractSchemaTO> void update(\n         }\n     }\n \n-    /**\n-     * {@inheritDoc}\n-     */\n     @Override\n     protected AbstractSchemaTO resolveReference(final Method method, final Object... args)\n             throws UnresolvedReferenceException {\n \n         String kind = null;\n-        String name = null;\n+        String key = null;\n         if (ArrayUtils.isNotEmpty(args)) {\n-            for (int i = 0; (name == null || kind == null) && i < args.length; i++) {\n+            for (int i = 0; (key == null || kind == null) && i < args.length; i++) {\n                 if (args[i] instanceof String) {\n                     if (kind == null) {\n                         kind = (String) args[i];\n                     } else {\n-                        name = (String) args[i];\n+                        key = (String) args[i];\n                     }\n                 } else if (args[i] instanceof AbstractSchemaTO) {\n-                    name = ((AbstractSchemaTO) args[i]).getKey();\n+                    key = ((AbstractSchemaTO) args[i]).getKey();\n                 }\n             }\n         }\n \n-        if (name != null) {\n+        if (key != null) {\n             try {\n                 final AttributableUtil attrUtil = attrUtilFactory.getInstance(kind);\n \n                 AbstractSchemaTO result = null;\n \n-                PlainSchema plainSchema = plainSchemaDAO.find(name, attrUtil.plainSchemaClass());\n+                PlainSchema plainSchema = plainSchemaDAO.find(key, attrUtil.plainSchemaClass());\n                 if (plainSchema == null) {\n-                    DerSchema derSchema = derSchemaDAO.find(name, attrUtil.derSchemaClass());\n+                    DerSchema derSchema = derSchemaDAO.find(key, attrUtil.derSchemaClass());\n                     if (derSchema == null) {\n-                        VirSchema virSchema = virSchemaDAO.find(name, attrUtil.virSchemaClass());\n+                        VirSchema virSchema = virSchemaDAO.find(key, attrUtil.virSchemaClass());\n                         if (virSchema != null) {\n                             result = binder.getVirSchemaTO(virSchema);\n                         }"},{"sha":"749ee815134b7a3e39d42e0ab091313c79dd7e32","filename":"syncope620/server/logic/src/main/java/org/apache/syncope/server/logic/SecurityQuestionLogic.java","status":"modified","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FSecurityQuestionLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FSecurityQuestionLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FSecurityQuestionLogic.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -124,21 +124,21 @@ public SecurityQuestionTO read(final String username) {\n     protected SecurityQuestionTO resolveReference(final Method method, final Object... args)\n             throws UnresolvedReferenceException {\n \n-        Long id = null;\n+        Long key = null;\n \n         if (ArrayUtils.isNotEmpty(args)) {\n-            for (int i = 0; id == null && i < args.length; i++) {\n+            for (int i = 0; key == null && i < args.length; i++) {\n                 if (args[i] instanceof Long) {\n-                    id = (Long) args[i];\n+                    key = (Long) args[i];\n                 } else if (args[i] instanceof SecurityQuestionTO) {\n-                    id = ((SecurityQuestionTO) args[i]).getKey();\n+                    key = ((SecurityQuestionTO) args[i]).getKey();\n                 }\n             }\n         }\n \n-        if ((id != null) && !id.equals(0l)) {\n+        if ((key != null) && !key.equals(0l)) {\n             try {\n-                return binder.getSecurityQuestionTO(securityQuestionDAO.find(id));\n+                return binder.getSecurityQuestionTO(securityQuestionDAO.find(key));\n             } catch (Throwable ignore) {\n                 LOG.debug(\"Unresolved reference\", ignore);\n                 throw new UnresolvedReferenceException(ignore);"},{"sha":"b706efd71cc69554e842449fd1f8b02e5e7191a0","filename":"syncope620/server/logic/src/main/java/org/apache/syncope/server/logic/SyncopeLogic.java","status":"added","additions":143,"deletions":0,"changes":143,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FSyncopeLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FSyncopeLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FSyncopeLogic.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -0,0 +1,143 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.server.logic;\n+\n+import static org.apache.syncope.server.logic.AbstractLogic.LOG;\n+\n+import java.io.IOException;\n+import java.lang.reflect.Method;\n+import java.net.URI;\n+import java.util.HashSet;\n+import java.util.Set;\n+import javax.annotation.Resource;\n+import org.apache.syncope.common.lib.to.SyncopeTO;\n+import org.apache.syncope.server.logic.init.ImplementationClassNamesLoader;\n+import org.apache.syncope.server.misc.spring.ResourceWithFallbackLoader;\n+import org.apache.syncope.server.provisioning.api.AttributableTransformer;\n+import org.apache.syncope.server.provisioning.api.ConnIdBundleManager;\n+import org.apache.syncope.server.provisioning.api.RoleProvisioningManager;\n+import org.apache.syncope.server.provisioning.api.UserProvisioningManager;\n+import org.apache.syncope.server.provisioning.java.notification.NotificationManagerImpl;\n+import org.apache.syncope.server.workflow.api.RoleWorkflowAdapter;\n+import org.apache.syncope.server.workflow.api.UserWorkflowAdapter;\n+import org.springframework.aop.support.AopUtils;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.security.access.prepost.PreAuthorize;\n+import org.springframework.stereotype.Component;\n+\n+@Component\n+public class SyncopeLogic extends AbstractLogic<SyncopeTO> {\n+\n+    @Resource(name = \"version\")\n+    private String version;\n+\n+    @Autowired\n+    private ConnIdBundleManager bundleManager;\n+\n+    @Autowired\n+    private AttributableTransformer attrTransformer;\n+\n+    @Autowired\n+    private UserWorkflowAdapter uwfAdapter;\n+\n+    @Autowired\n+    private RoleWorkflowAdapter rwfAdapter;\n+\n+    @Autowired\n+    private UserProvisioningManager uProvisioningManager;\n+\n+    @Autowired\n+    private RoleProvisioningManager rProvisioningManager;\n+\n+    @Autowired\n+    private ImplementationClassNamesLoader classNamesLoader;\n+\n+    @Resource(name = \"velocityResourceLoader\")\n+    private ResourceWithFallbackLoader resourceLoader;\n+\n+    @PreAuthorize(\"isAuthenticated()\")\n+    public SyncopeTO info() {\n+        SyncopeTO syncopeTO = new SyncopeTO();\n+        syncopeTO.setVersion(version);\n+\n+        if (bundleManager.getLocations() != null) {\n+            for (URI location : bundleManager.getLocations()) {\n+                syncopeTO.getConnIdLocations().add(location.toASCIIString());\n+            }\n+        }\n+\n+        syncopeTO.setAttributableTransformer(attrTransformer.getClass().getName());\n+\n+        syncopeTO.setUserWorkflowAdapter(AopUtils.getTargetClass(uwfAdapter).getName());\n+        syncopeTO.setRoleWorkflowAdapter(AopUtils.getTargetClass(rwfAdapter).getName());\n+\n+        syncopeTO.setUserProvisioningManager(uProvisioningManager.getClass().getName());\n+        syncopeTO.setRoleProvisioningManager(rProvisioningManager.getClass().getName());\n+\n+        syncopeTO.getReportlets().addAll(\n+                classNamesLoader.getClassNames(ImplementationClassNamesLoader.Type.REPORTLET));\n+        syncopeTO.getTaskJobs().addAll(\n+                classNamesLoader.getClassNames(ImplementationClassNamesLoader.Type.TASKJOB));\n+        syncopeTO.getPropagationActions().addAll(\n+                classNamesLoader.getClassNames(ImplementationClassNamesLoader.Type.PROPAGATION_ACTIONS));\n+        syncopeTO.getSyncActions().addAll(\n+                classNamesLoader.getClassNames(ImplementationClassNamesLoader.Type.SYNC_ACTIONS));\n+        syncopeTO.getPushActions().addAll(\n+                classNamesLoader.getClassNames(ImplementationClassNamesLoader.Type.PUSH_ACTIONS));\n+        syncopeTO.getSyncCorrelationRules().addAll(\n+                classNamesLoader.getClassNames(ImplementationClassNamesLoader.Type.SYNC_CORRELATION_RULE));\n+        syncopeTO.getPushCorrelationRules().addAll(\n+                classNamesLoader.getClassNames(ImplementationClassNamesLoader.Type.PUSH_CORRELATION_RULE));\n+        syncopeTO.getValidators().addAll(\n+                classNamesLoader.getClassNames(ImplementationClassNamesLoader.Type.VALIDATOR));\n+\n+        Set<String> htmlTemplates = new HashSet<>();\n+        Set<String> textTemplates = new HashSet<>();\n+        try {\n+            for (org.springframework.core.io.Resource resource : resourceLoader.getResources(\n+                    NotificationManagerImpl.MAIL_TEMPLATES + \"*.vm\")) {\n+\n+                String template = resource.getURL().toExternalForm();\n+                if (template.endsWith(NotificationManagerImpl.MAIL_TEMPLATE_HTML_SUFFIX)) {\n+                    htmlTemplates.add(template.substring(template.indexOf(NotificationManagerImpl.MAIL_TEMPLATES) + 14,\n+                            template.indexOf(NotificationManagerImpl.MAIL_TEMPLATE_HTML_SUFFIX)));\n+                } else if (template.endsWith(NotificationManagerImpl.MAIL_TEMPLATE_TEXT_SUFFIX)) {\n+                    textTemplates.add(template.substring(template.indexOf(NotificationManagerImpl.MAIL_TEMPLATES) + 14,\n+                            template.indexOf(NotificationManagerImpl.MAIL_TEMPLATE_TEXT_SUFFIX)));\n+                } else {\n+                    LOG.warn(\"Unexpected template found: {}, ignoring...\", template);\n+                }\n+            }\n+        } catch (IOException e) {\n+            LOG.error(\"While searching for mail templates\", e);\n+        }\n+        // Only templates available both as HTML and TEXT are considered\n+        htmlTemplates.retainAll(textTemplates);\n+        syncopeTO.getMailTemplates().addAll(htmlTemplates);\n+\n+        return syncopeTO;\n+    }\n+\n+    @Override\n+    protected SyncopeTO resolveReference(final Method method, final Object... args)\n+            throws UnresolvedReferenceException {\n+\n+        throw new UnresolvedReferenceException();\n+    }\n+}"},{"sha":"a7f97255077c28882752988f10d84ced94349f3b","filename":"syncope620/server/logic/src/main/java/org/apache/syncope/server/logic/TaskLogic.java","status":"modified","additions":6,"deletions":26,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FTaskLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FTaskLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FTaskLogic.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -22,7 +22,6 @@\n import java.util.ArrayList;\n import java.util.Date;\n import java.util.List;\n-import java.util.Set;\n import org.apache.commons.lang3.ArrayUtils;\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.to.AbstractTaskTO;\n@@ -50,7 +49,6 @@\n import org.apache.syncope.server.provisioning.api.job.JobNamer;\n import org.apache.syncope.server.provisioning.api.job.TaskJob;\n import org.apache.syncope.server.provisioning.api.propagation.PropagationTaskExecutor;\n-import org.apache.syncope.server.logic.init.ImplementationClassNamesLoader;\n import org.apache.syncope.server.provisioning.api.job.JobInstanceLoader;\n import org.apache.syncope.server.logic.notification.NotificationJob;\n import org.quartz.JobDataMap;\n@@ -85,9 +83,6 @@ public class TaskLogic extends AbstractTransactionalLogic<AbstractTaskTO> {\n     @Autowired\n     private SchedulerFactoryBean scheduler;\n \n-    @Autowired\n-    private ImplementationClassNamesLoader classNamesLoader;\n-\n     @Autowired\n     private TaskUtilFactory taskUtilFactory;\n \n@@ -162,21 +157,6 @@ public <T extends AbstractTaskTO> List<T> list(final TaskType taskType,\n         return taskTOs;\n     }\n \n-    @PreAuthorize(\"hasRole('TASK_LIST')\")\n-    public Set<String> getJobClasses() {\n-        return classNamesLoader.getClassNames(ImplementationClassNamesLoader.Type.TASKJOB);\n-    }\n-\n-    @PreAuthorize(\"hasRole('TASK_LIST')\")\n-    public Set<String> getSyncActionsClasses() {\n-        return classNamesLoader.getClassNames(ImplementationClassNamesLoader.Type.SYNC_ACTIONS);\n-    }\n-\n-    @PreAuthorize(\"hasRole('TASK_LIST')\")\n-    public Set<String> getPushActionsClasses() {\n-        return classNamesLoader.getClassNames(ImplementationClassNamesLoader.Type.PUSH_ACTIONS);\n-    }\n-\n     @PreAuthorize(\"hasRole('TASK_READ')\")\n     public <T extends AbstractTaskTO> T read(final Long taskId) {\n         Task task = taskDAO.find(taskId);\n@@ -378,23 +358,23 @@ public BulkActionResult bulk(final BulkAction bulkAction) {\n     protected AbstractTaskTO resolveReference(final Method method, final Object... args)\n             throws UnresolvedReferenceException {\n \n-        Long id = null;\n+        Long key = null;\n \n         if (ArrayUtils.isNotEmpty(args)\n                 && !\"deleteExecution\".equals(method.getName()) && !\"readExecution\".equals(method.getName())) {\n \n-            for (int i = 0; id == null && i < args.length; i++) {\n+            for (int i = 0; key == null && i < args.length; i++) {\n                 if (args[i] instanceof Long) {\n-                    id = (Long) args[i];\n+                    key = (Long) args[i];\n                 } else if (args[i] instanceof AbstractTaskTO) {\n-                    id = ((AbstractTaskTO) args[i]).getKey();\n+                    key = ((AbstractTaskTO) args[i]).getKey();\n                 }\n             }\n         }\n \n-        if ((id != null) && !id.equals(0l)) {\n+        if ((key != null) && !key.equals(0l)) {\n             try {\n-                final Task task = taskDAO.find(id);\n+                final Task task = taskDAO.find(key);\n                 return binder.getTaskTO(task, taskUtilFactory.getInstance(task));\n             } catch (Throwable ignore) {\n                 LOG.debug(\"Unresolved reference\", ignore);"},{"sha":"c9b9249b20b975a26b5cb83ec1d345c0f3bdebdc","filename":"syncope620/server/logic/src/main/java/org/apache/syncope/server/logic/UserLogic.java","status":"modified","additions":8,"deletions":8,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FUserLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FUserLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2FUserLogic.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -508,25 +508,25 @@ public UserTO provision(\n \n     @Override\n     protected UserTO resolveReference(final Method method, final Object... args) throws UnresolvedReferenceException {\n-        Object id = null;\n+        Object key = null;\n \n         if (!\"confirmPasswordReset\".equals(method.getName()) && ArrayUtils.isNotEmpty(args)) {\n-            for (int i = 0; id == null && i < args.length; i++) {\n+            for (int i = 0; key == null && i < args.length; i++) {\n                 if (args[i] instanceof Long) {\n-                    id = (Long) args[i];\n+                    key = (Long) args[i];\n                 } else if (args[i] instanceof String) {\n-                    id = (String) args[i];\n+                    key = (String) args[i];\n                 } else if (args[i] instanceof UserTO) {\n-                    id = ((UserTO) args[i]).getKey();\n+                    key = ((UserTO) args[i]).getKey();\n                 } else if (args[i] instanceof UserMod) {\n-                    id = ((UserMod) args[i]).getKey();\n+                    key = ((UserMod) args[i]).getKey();\n                 }\n             }\n         }\n \n-        if ((id != null) && !id.equals(0l)) {\n+        if ((key != null) && !key.equals(0l)) {\n             try {\n-                return id instanceof Long ? binder.getUserTO((Long) id) : binder.getUserTO((String) id);\n+                return key instanceof Long ? binder.getUserTO((Long) key) : binder.getUserTO((String) key);\n             } catch (Throwable ignore) {\n                 LOG.debug(\"Unresolved reference\", ignore);\n                 throw new UnresolvedReferenceException(ignore);"},{"sha":"354608982a4928d8081d5f90588e9dfbc7cc5929","filename":"syncope620/server/logic/src/main/java/org/apache/syncope/server/logic/init/ImplementationClassNamesLoader.java","status":"modified","additions":9,"deletions":6,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2Finit%2FImplementationClassNamesLoader.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2Finit%2FImplementationClassNamesLoader.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Flogic%2Finit%2FImplementationClassNamesLoader.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -24,7 +24,6 @@\n import java.util.HashSet;\n import java.util.Map;\n import java.util.Set;\n-import org.apache.syncope.common.lib.wrap.Validator;\n import org.apache.syncope.server.provisioning.api.job.PushJob;\n import org.apache.syncope.server.provisioning.api.job.SyncJob;\n import org.apache.syncope.server.provisioning.api.job.TaskJob;\n@@ -34,6 +33,7 @@\n import org.apache.syncope.server.provisioning.api.sync.SyncCorrelationRule;\n import org.apache.syncope.server.logic.report.Reportlet;\n import org.apache.syncope.server.persistence.api.SyncopeLoader;\n+import org.apache.syncope.server.persistence.api.attrvalue.validation.Validator;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.beans.factory.annotation.Autowired;\n@@ -54,11 +54,11 @@ public enum Type {\n \n         REPORTLET,\n         TASKJOB,\n+        PROPAGATION_ACTIONS,\n         SYNC_ACTIONS,\n         PUSH_ACTIONS,\n-        SYNC_CORRELATION_RULES,\n-        PUSH_CORRELATION_RULES,\n-        PROPAGATION_ACTIONS,\n+        SYNC_CORRELATION_RULE,\n+        PUSH_CORRELATION_RULE,\n         VALIDATOR\n \n     }\n@@ -116,10 +116,13 @@ public void load() {\n                     }\n \n                     if (interfaces.contains(SyncCorrelationRule.class) && !metadata.isAbstract()) {\n-                        classNames.get(Type.SYNC_CORRELATION_RULES).add(metadata.getClassName());\n+                        classNames.get(Type.SYNC_CORRELATION_RULE).add(metadata.getClassName());\n                     }\n \n-                    // TODO: add push correlation rules management\n+                    // TODO: SYNCOPE-631\n+                    /* if (interfaces.contains(PushCorrelationRule.class) && !metadata.isAbstract()) {\n+                     * classNames.get(Type.PUSH_CORRELATION_RULES).add(metadata.getClassName());\n+                     * } */\n                     if (interfaces.contains(PropagationActions.class) && !metadata.isAbstract()) {\n                         classNames.get(Type.PROPAGATION_ACTIONS).add(metadata.getClassName());\n                     }"},{"sha":"6b9aa085322f7cd1bdbafb529e6a1d8844c12b84","filename":"syncope620/server/logic/src/main/resources/logicContext.xml","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fresources%2FlogicContext.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fresources%2FlogicContext.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Flogic%2Fsrc%2Fmain%2Fresources%2FlogicContext.xml?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -28,6 +28,10 @@ under the License.\n                            http://www.springframework.org/schema/context\n                            http://www.springframework.org/schema/context/spring-context.xsd\">\n   \n+  <bean id=\"version\" class=\"java.lang.String\">\n+    <constructor-arg value=\"${syncope.version}\"/>\n+  </bean>\n+\n   <aop:aspectj-autoproxy/>\n \n   <context:component-scan base-package=\"org.apache.syncope.server.logic\"/>"},{"sha":"4d34efcf5376068524c24b9c94b93a4d1d359aab","filename":"syncope620/server/persistence-jpa/src/test/resources/content.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fcontent.xml?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -1014,7 +1014,7 @@ under the License.\n                          serializedInstance='{\"@class\":\"org.apache.syncope.common.lib.report.UserReportletConf\",\"name\":\"testUserReportlet\",\"matchingCond\":null,\"plainAttributes\":[\"fullname\",\"gender\"],\"derivedAttributes\":[\"cn\"],\"virtualAttributes\":[\"virtualdata\"],\"features\":[\"key\",\"username\",\"workflowId\",\"status\",\"creationDate\",\"lastLoginDate\",\"changePwdDate\",\"passwordHistorySize\",\"failedLoginCount\",\"memberships\",\"resources\"]}'/>\n   <ReportExec Report_id=\"1\" id=\"1\" status=\"SUCCESS\" startDate=\"2012-02-26 15:40:04\" endDate=\"2012-02-26 15:41:04\"/>\n   \n-  <SyncopeLogger logName=\"syncope.audit.[REST]:[EntitlementController]:[]:[getOwn]:[SUCCESS]\" logLevel=\"DEBUG\" logType=\"AUDIT\"/>\n+  <SyncopeLogger logName=\"syncope.audit.[REST]:[EntitlementLogic]:[]:[getOwn]:[SUCCESS]\" logLevel=\"DEBUG\" logType=\"AUDIT\"/>\n \n   <!-- Authentication and authorization -->\n   <Entitlement name=\"base\"/>"},{"sha":"68587afcfcd3bd109c319ff79c39f87cce4844ef","filename":"syncope620/server/provisioning-api/src/main/java/org/apache/syncope/server/provisioning/api/ConnIdBundleManager.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fprovisioning%2Fapi%2FConnIdBundleManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fprovisioning%2Fapi%2FConnIdBundleManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fprovisioning%2Fapi%2FConnIdBundleManager.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -41,6 +41,8 @@ ConnectorInfo getConnectorInfo(final String location, final String bundleName, f\n \n     void resetConnManagers();\n \n+    List<URI> getLocations();\n+\n     void setStringLocations(final String stringLocations);\n \n }"},{"sha":"bf9dc02f4b826db4167c7e34d843f7749ac83a30","filename":"syncope620/server/provisioning-java/src/main/java/org/apache/syncope/server/provisioning/java/ConnIdBundleManagerImpl.java","status":"modified","additions":7,"deletions":0,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fprovisioning%2Fjava%2FConnIdBundleManagerImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fprovisioning%2Fjava%2FConnIdBundleManagerImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fprovisioning%2Fjava%2FConnIdBundleManagerImpl.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -64,6 +64,13 @@ public class ConnIdBundleManagerImpl implements ConnIdBundleManager {\n     private final Map<URI, ConnectorInfoManager> connInfoManagers =\n             Collections.synchronizedMap(new LinkedHashMap<URI, ConnectorInfoManager>());\n \n+    @Override\n+    public List<URI> getLocations() {\n+        init();\n+\n+        return locations;\n+    }\n+\n     @Override\n     public void setStringLocations(final String stringLocations) {\n         this.stringLocations = stringLocations;"},{"sha":"94a6a4af3c1961e619e23f7ae3af357848b2d2ae","filename":"syncope620/server/provisioning-java/src/main/java/org/apache/syncope/server/provisioning/java/sync/SyncJobImpl.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fprovisioning%2Fjava%2Fsync%2FSyncJobImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fprovisioning%2Fjava%2Fsync%2FSyncJobImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fprovisioning%2Fjava%2Fsync%2FSyncJobImpl.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -177,8 +177,8 @@ protected String executeWithSecurityContext(\n                     throw new JobExecutionException(\"While updating SyncToken\", e);\n                 }\n             }\n-        } catch (Exception e) {\n-            throw new JobExecutionException(\"While syncing on connector\", e);\n+        } catch (Throwable t) {\n+            throw new JobExecutionException(\"While syncing on connector\", t);\n         }\n \n         try {"},{"sha":"11c6bfde63967bed2604eb014408489865b69210","filename":"syncope620/server/rest-cxf/src/main/java/org/apache/syncope/server/rest/cxf/service/ConfigurationServiceImpl.java","status":"modified","additions":0,"deletions":14,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Frest%2Fcxf%2Fservice%2FConfigurationServiceImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Frest%2Fcxf%2Fservice%2FConfigurationServiceImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Frest%2Fcxf%2Fservice%2FConfigurationServiceImpl.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -20,16 +20,12 @@\n \n import java.io.IOException;\n import java.io.OutputStream;\n-import java.util.List;\n import javax.ws.rs.core.HttpHeaders;\n import javax.ws.rs.core.MediaType;\n import javax.ws.rs.core.Response;\n import javax.ws.rs.core.StreamingOutput;\n import org.apache.syncope.common.lib.to.AttrTO;\n import org.apache.syncope.common.lib.to.ConfTO;\n-import org.apache.syncope.common.lib.wrap.MailTemplate;\n-import org.apache.syncope.common.lib.wrap.Validator;\n-import org.apache.syncope.common.rest.api.CollectionWrapper;\n import org.apache.syncope.common.rest.api.service.ConfigurationService;\n import org.apache.syncope.server.logic.ConfigurationLogic;\n import org.springframework.beans.factory.annotation.Autowired;\n@@ -63,16 +59,6 @@ public void delete(final String key) {\n         logic.delete(key);\n     }\n \n-    @Override\n-    public List<MailTemplate> getMailTemplates() {\n-        return CollectionWrapper.wrap(logic.getMailTemplates(), MailTemplate.class);\n-    }\n-\n-    @Override\n-    public List<Validator> getValidators() {\n-        return CollectionWrapper.wrap(logic.getValidators(), Validator.class);\n-    }\n-\n     @Override\n     public ConfTO list() {\n         return logic.list();"},{"sha":"976e9b63c2b5f95f9ebb04013393caefe0c16d68","filename":"syncope620/server/rest-cxf/src/main/java/org/apache/syncope/server/rest/cxf/service/PolicyServiceImpl.java","status":"modified","additions":1,"deletions":8,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Frest%2Fcxf%2Fservice%2FPolicyServiceImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Frest%2Fcxf%2Fservice%2FPolicyServiceImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Frest%2Fcxf%2Fservice%2FPolicyServiceImpl.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -27,8 +27,6 @@\n import org.apache.syncope.common.lib.to.PasswordPolicyTO;\n import org.apache.syncope.common.lib.to.SyncPolicyTO;\n import org.apache.syncope.common.lib.types.PolicyType;\n-import org.apache.syncope.common.lib.wrap.CorrelationRuleClass;\n-import org.apache.syncope.common.rest.api.CollectionWrapper;\n import org.apache.syncope.common.rest.api.RESTHeaders;\n import org.apache.syncope.common.rest.api.service.PolicyService;\n import org.apache.syncope.server.logic.PolicyLogic;\n@@ -46,7 +44,7 @@ public <T extends AbstractPolicyTO> Response create(final T policyTO) {\n         AbstractPolicyTO policy = logic.create(policyTO);\n         URI location = uriInfo.getAbsolutePathBuilder().path(String.valueOf(policy.getKey())).build();\n         return Response.created(location).\n-                header(RESTHeaders.RESOURCE_ID.toString(), policy.getKey()).\n+                header(RESTHeaders.RESOURCE_ID, policy.getKey()).\n                 build();\n     }\n \n@@ -117,9 +115,4 @@ public <T extends AbstractPolicyTO> void update(final Long policyKey, final T po\n                 break;\n         }\n     }\n-\n-    @Override\n-    public List<CorrelationRuleClass> getSyncCorrelationRuleClasses() {\n-        return CollectionWrapper.wrap(logic.getSyncCorrelationRuleClasses(), CorrelationRuleClass.class);\n-    }\n }"},{"sha":"cc28c50d1415f8db9b0d2422b68a1d1abf1cfa1f","filename":"syncope620/server/rest-cxf/src/main/java/org/apache/syncope/server/rest/cxf/service/ResourceServiceImpl.java","status":"modified","additions":0,"deletions":7,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Frest%2Fcxf%2Fservice%2FResourceServiceImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Frest%2Fcxf%2Fservice%2FResourceServiceImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Frest%2Fcxf%2Fservice%2FResourceServiceImpl.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -30,9 +30,7 @@\n import org.apache.syncope.common.lib.to.ResourceTO;\n import org.apache.syncope.common.lib.types.ResourceDeassociationActionType;\n import org.apache.syncope.common.lib.types.SubjectType;\n-import org.apache.syncope.common.lib.wrap.PropagationActionClass;\n import org.apache.syncope.common.lib.wrap.SubjectId;\n-import org.apache.syncope.common.rest.api.CollectionWrapper;\n import org.apache.syncope.common.rest.api.RESTHeaders;\n import org.apache.syncope.common.rest.api.service.ResourceService;\n import org.apache.syncope.server.logic.AbstractResourceAssociator;\n@@ -79,11 +77,6 @@ public ResourceTO read(final String resourceKey) {\n         return logic.read(resourceKey);\n     }\n \n-    @Override\n-    public List<PropagationActionClass> getPropagationActionsClasses() {\n-        return CollectionWrapper.wrap(logic.getPropagationActionsClasses(), PropagationActionClass.class);\n-    }\n-\n     @Override\n     public List<ResourceTO> list() {\n         return logic.list(null);"},{"sha":"d3e63340702681fd73c9dc915da51f9b2e8c3449","filename":"syncope620/server/rest-cxf/src/main/java/org/apache/syncope/server/rest/cxf/service/SyncopeServiceImpl.java","status":"renamed","additions":15,"deletions":7,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Frest%2Fcxf%2Fservice%2FSyncopeServiceImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Frest%2Fcxf%2Fservice%2FSyncopeServiceImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Frest%2Fcxf%2Fservice%2FSyncopeServiceImpl.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,15 +16,23 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.common.lib.wrap;\n+package org.apache.syncope.server.rest.cxf.service;\n \n-import javax.xml.bind.annotation.XmlRootElement;\n-import javax.xml.bind.annotation.XmlType;\n+import org.apache.syncope.common.lib.to.SyncopeTO;\n+import org.apache.syncope.common.rest.api.service.SyncopeService;\n+import org.apache.syncope.server.logic.SyncopeLogic;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Service;\n \n-@XmlRootElement(name = \"pushActionClass\")\n-@XmlType\n-public class PushActionClass extends AbstractWrappable<String> {\n+@Service\n+public class SyncopeServiceImpl extends AbstractServiceImpl implements SyncopeService {\n \n-    private static final long serialVersionUID = 1669581609310071906L;\n+    @Autowired\n+    private SyncopeLogic logic;\n+\n+    @Override\n+    public SyncopeTO info() {\n+        return logic.info();\n+    }\n \n }","previous_filename":"syncope620/common/lib/src/main/java/org/apache/syncope/common/lib/wrap/PushActionClass.java"},{"sha":"fc01f522939014cc1da28bcd148242c0dad1787c","filename":"syncope620/server/rest-cxf/src/main/java/org/apache/syncope/server/rest/cxf/service/TaskServiceImpl.java","status":"modified","additions":0,"deletions":19,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Frest%2Fcxf%2Fservice%2FTaskServiceImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Frest%2Fcxf%2Fservice%2FTaskServiceImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Frest%2Fcxf%2Fservice%2FTaskServiceImpl.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -33,10 +33,6 @@\n import org.apache.syncope.common.lib.to.TaskExecTO;\n import org.apache.syncope.common.lib.types.PropagationTaskExecStatus;\n import org.apache.syncope.common.lib.types.TaskType;\n-import org.apache.syncope.common.lib.wrap.JobClass;\n-import org.apache.syncope.common.lib.wrap.PushActionClass;\n-import org.apache.syncope.common.lib.wrap.SyncActionClass;\n-import org.apache.syncope.common.rest.api.CollectionWrapper;\n import org.apache.syncope.common.rest.api.RESTHeaders;\n import org.apache.syncope.common.rest.api.service.TaskService;\n import org.apache.syncope.server.logic.TaskLogic;\n@@ -80,21 +76,6 @@ public TaskExecTO execute(final Long taskKey, final boolean dryRun) {\n         return logic.execute(taskKey, dryRun);\n     }\n \n-    @Override\n-    public List<JobClass> getJobClasses() {\n-        return CollectionWrapper.wrap(logic.getJobClasses(), JobClass.class);\n-    }\n-\n-    @Override\n-    public List<SyncActionClass> getSyncActionsClasses() {\n-        return CollectionWrapper.wrap(logic.getSyncActionsClasses(), SyncActionClass.class);\n-    }\n-\n-    @Override\n-    public List<PushActionClass> getPushActionsClasses() {\n-        return CollectionWrapper.wrap(logic.getPushActionsClasses(), PushActionClass.class);\n-    }\n-\n     @Override\n     public <T extends AbstractTaskTO> PagedResult<T> list(final TaskType taskType) {\n         return list(taskType, DEFAULT_PARAM_PAGE_VALUE, DEFAULT_PARAM_SIZE_VALUE, null);"},{"sha":"947ca5a36c0907b785979ab23d3826bd8606bc33","filename":"syncope620/server/workflow-activiti/pom.xml","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fpom.xml?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -56,6 +56,11 @@ under the License.\n       <artifactId>activiti-json-converter</artifactId>\n     </dependency>\n     \n+    <dependency>\n+      <groupId>org.codehaus.groovy</groupId>\n+      <artifactId>groovy-all</artifactId>\n+    </dependency>\n+      \n     <dependency>\n       <groupId>org.apache.syncope.server</groupId>\n       <artifactId>syncope-server-workflow-java</artifactId>"},{"sha":"04ffdb6f2b8b5f65a6c40f45114d9b69cd9f94ab","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/ActivitiDefinitionLoader.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FActivitiDefinitionLoader.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FActivitiDefinitionLoader.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FActivitiDefinitionLoader.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti;\n+package org.apache.syncope.server.workflow.activiti;\n \n import com.fasterxml.jackson.databind.ObjectMapper;\n import com.fasterxml.jackson.databind.node.ObjectNode;","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/ActivitiDefinitionLoader.java"},{"sha":"d09092eed0eedcb81695886c5c906ce2e31e2886","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/ActivitiImportUtils.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FActivitiImportUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FActivitiImportUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FActivitiImportUtils.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti;\n+package org.apache.syncope.server.workflow.activiti;\n \n import java.io.ByteArrayInputStream;\n import java.io.InputStream;","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/ActivitiImportUtils.java"},{"sha":"845362c130d29bff6bc86c4125e23951dddb5a37","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/ActivitiUserWorkflowAdapter.java","status":"renamed","additions":8,"deletions":8,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FActivitiUserWorkflowAdapter.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FActivitiUserWorkflowAdapter.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FActivitiUserWorkflowAdapter.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti;\n+package org.apache.syncope.server.workflow.activiti;\n \n import com.fasterxml.jackson.databind.JsonNode;\n import com.fasterxml.jackson.databind.ObjectMapper;\n@@ -101,7 +101,7 @@ public class ActivitiUserWorkflowAdapter extends AbstractUserWorkflowAdapter {\n \n     public static final String WF_DGRM_RESOURCE = \"userWorkflow.userWorkflow.png\";\n \n-    public static final String SYNCOPE_USER = \"user\";\n+    public static final String USER = \"user\";\n \n     public static final String WF_EXECUTOR = \"wfExecutor\";\n \n@@ -272,7 +272,7 @@ public WorkflowResult<Map.Entry<Long, Boolean>> create(final UserTO userTO, fina\n         }\n \n         User user =\n-                runtimeService.getVariable(processInstance.getProcessInstanceId(), SYNCOPE_USER, User.class);\n+                runtimeService.getVariable(processInstance.getProcessInstanceId(), USER, User.class);\n \n         Boolean updatedEnabled =\n                 runtimeService.getVariable(processInstance.getProcessInstanceId(), ENABLED, Boolean.class);\n@@ -315,7 +315,7 @@ private Set<String> doExecuteTask(final User user, final String task,\n         // using BeanUtils to access all user's properties and trigger lazy loading - we are about to\n         // serialize a User instance for availability within workflow tasks, and this breaks transactions\n         BeanUtils.copyProperties(user, entityFactory.newEntity(User.class));\n-        variables.put(SYNCOPE_USER, user);\n+        variables.put(USER, user);\n \n         if (moreVariables != null && !moreVariables.isEmpty()) {\n             variables.putAll(moreVariables);\n@@ -500,13 +500,13 @@ protected void exportProcessModel(final OutputStream os) {\n         ObjectMapper objectMapper = new ObjectMapper();\n         try {\n             ObjectNode modelNode = (ObjectNode) objectMapper.readTree(model.getMetaInfo());\n-            modelNode.put(ModelDataJsonConstants.MODEL_ID, model.getKey());\n+            modelNode.put(ModelDataJsonConstants.MODEL_ID, model.getId());\n             modelNode.replace(MODEL_DATA_JSON_MODEL,\n-                    objectMapper.readTree(repositoryService.getModelEditorSource(model.getKey())));\n+                    objectMapper.readTree(repositoryService.getModelEditorSource(model.getId())));\n \n             os.write(modelNode.toString().getBytes());\n         } catch (IOException e) {\n-            LOG.error(\"While exporting workflow definition {}\", model.getKey(), e);\n+            LOG.error(\"While exporting workflow definition {}\", model.getId(), e);\n         }\n     }\n \n@@ -644,7 +644,7 @@ private WorkflowFormTO getHistoricFormTO(\n \n         for (HistoricFormPropertyEntity prop : props) {\n             WorkflowFormPropertyTO propertyTO = new WorkflowFormPropertyTO();\n-            propertyTO.setKey(prop.getPropertyId());\n+            propertyTO.setId(prop.getPropertyId());\n             propertyTO.setName(prop.getPropertyId());\n             propertyTO.setValue(prop.getPropertyValue());\n             formTO.addProperty(propertyTO);","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/ActivitiUserWorkflowAdapter.java"},{"sha":"850a3758e2261ba28290d06db78c972eac6931c9","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/SyncopeEntitiesVariableType.java","status":"renamed","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeEntitiesVariableType.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeEntitiesVariableType.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeEntitiesVariableType.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,10 +16,10 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti;\n+package org.apache.syncope.server.workflow.activiti;\n \n import org.activiti.engine.impl.variable.SerializableType;\n-import org.apache.syncope.common.lib.AbstractBaseBean;\n+import org.apache.syncope.server.persistence.api.entity.Entity;\n \n /**\n  * Activiti variable type for handling Syncope entities as Activiti variables.\n@@ -30,6 +30,6 @@ public class SyncopeEntitiesVariableType extends SerializableType {\n \n     @Override\n     public boolean isAbleToStore(final Object value) {\n-        return value instanceof AbstractBaseBean;\n+        return value instanceof Entity;\n     }\n }","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/SyncopeEntitiesVariableType.java"},{"sha":"e01f2401f93d011844f91f77214bf3184a3c4260","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/SyncopeGroupManager.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeGroupManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeGroupManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeGroupManager.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti;\n+package org.apache.syncope.server.workflow.activiti;\n \n import java.util.ArrayList;\n import java.util.Collections;","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/SyncopeGroupManager.java"},{"sha":"c5d3570354e340e8a5d7e9c6df9304fbb1b6e23a","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/SyncopeGroupQueryImpl.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeGroupQueryImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeGroupQueryImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeGroupQueryImpl.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti;\n+package org.apache.syncope.server.workflow.activiti;\n \n import java.util.ArrayList;\n import java.util.Collections;","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/SyncopeGroupQueryImpl.java"},{"sha":"dee312575effd162d5edfa8f5fbf10752c896fce","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/SyncopeSession.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeSession.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeSession.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeSession.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti;\n+package org.apache.syncope.server.workflow.activiti;\n \n import org.activiti.engine.impl.interceptor.Session;\n ","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/SyncopeSession.java"},{"sha":"ef1d0d1f1255ffbadb1be365cc701949c5333c0e","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/SyncopeSessionFactory.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeSessionFactory.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeSessionFactory.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeSessionFactory.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti;\n+package org.apache.syncope.server.workflow.activiti;\n \n import org.activiti.engine.impl.interceptor.Session;\n import org.activiti.engine.impl.interceptor.SessionFactory;","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/SyncopeSessionFactory.java"},{"sha":"d604d98d1cd5be97e6f35f2c008ce6f1a14998ff","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/SyncopeUserManager.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeUserManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeUserManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeUserManager.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti;\n+package org.apache.syncope.server.workflow.activiti;\n \n import java.util.ArrayList;\n import java.util.Collections;","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/SyncopeUserManager.java"},{"sha":"097a1ea6ab629c5bc4a1db518a163c30e65287ee","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/SyncopeUserQueryImpl.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeUserQueryImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeUserQueryImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2FSyncopeUserQueryImpl.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti;\n+package org.apache.syncope.server.workflow.activiti;\n \n import java.util.ArrayList;\n import java.util.Collections;","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/SyncopeUserQueryImpl.java"},{"sha":"a401cad8beb42293af27a2027f0d9d024bff1f1e","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/task/AbstractActivitiServiceTask.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FAbstractActivitiServiceTask.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FAbstractActivitiServiceTask.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FAbstractActivitiServiceTask.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti.task;\n+package org.apache.syncope.server.workflow.activiti.task;\n \n import org.activiti.engine.RuntimeService;\n import org.slf4j.Logger;","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/task/AbstractActivitiServiceTask.java"},{"sha":"4f70d91f00d19842b28bf6435bdc8e8e2b94a7d1","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/task/AutoActivate.java","status":"renamed","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FAutoActivate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FAutoActivate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FAutoActivate.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,9 +16,9 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti.task;\n+package org.apache.syncope.server.workflow.activiti.task;\n \n-import org.apache.syncope.workflow.activiti.ActivitiUserWorkflowAdapter;\n+import org.apache.syncope.server.workflow.activiti.ActivitiUserWorkflowAdapter;\n import org.springframework.stereotype.Component;\n \n @Component","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/task/AutoActivate.java"},{"sha":"3a6238d5b0a73978d7c5dbbd2f323aa46149ccee","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/task/Create.java","status":"renamed","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FCreate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FCreate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FCreate.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,13 +16,13 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti.task;\n+package org.apache.syncope.server.workflow.activiti.task;\n \n import org.apache.syncope.common.lib.to.UserTO;\n import org.apache.syncope.server.persistence.api.entity.EntityFactory;\n import org.apache.syncope.server.persistence.api.entity.user.User;\n import org.apache.syncope.server.provisioning.api.data.UserDataBinder;\n-import org.apache.syncope.workflow.activiti.ActivitiUserWorkflowAdapter;\n+import org.apache.syncope.server.workflow.activiti.ActivitiUserWorkflowAdapter;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.stereotype.Component;\n \n@@ -46,6 +46,6 @@ protected void doExecute(final String executionId) {\n         user.setWorkflowId(executionId);\n \n         // report SyncopeUser as result\n-        runtimeService.setVariable(executionId, ActivitiUserWorkflowAdapter.SYNCOPE_USER, user);\n+        runtimeService.setVariable(executionId, ActivitiUserWorkflowAdapter.USER, user);\n     }\n }","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/task/Create.java"},{"sha":"b8b3f94a0178e4ca9bb07dca39866228a169b266","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/task/Delete.java","status":"renamed","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FDelete.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FDelete.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FDelete.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,25 +16,25 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti.task;\n+package org.apache.syncope.server.workflow.activiti.task;\n \n import org.apache.syncope.server.persistence.api.entity.user.User;\n-import org.apache.syncope.workflow.activiti.ActivitiUserWorkflowAdapter;\n+import org.apache.syncope.server.workflow.activiti.ActivitiUserWorkflowAdapter;\n import org.springframework.stereotype.Component;\n \n @Component\n public class Delete extends AbstractActivitiServiceTask {\n \n     @Override\n     protected void doExecute(final String executionId) {\n-        User user = runtimeService.getVariable(executionId, ActivitiUserWorkflowAdapter.SYNCOPE_USER, User.class);\n+        User user = runtimeService.getVariable(executionId, ActivitiUserWorkflowAdapter.USER, User.class);\n \n         // Do something with SyncopeUser...\n         if (user != null) {\n             user.checkToken(\"\");\n         }\n \n         // remove SyncopeUser variable\n-        runtimeService.removeVariable(executionId, ActivitiUserWorkflowAdapter.SYNCOPE_USER);\n+        runtimeService.removeVariable(executionId, ActivitiUserWorkflowAdapter.USER);\n     }\n }","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/task/Delete.java"},{"sha":"23508ef9d1cf4a46555d093d9625426b0231195a","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/task/GenerateToken.java","status":"renamed","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FGenerateToken.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FGenerateToken.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FGenerateToken.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,11 +16,11 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti.task;\n+package org.apache.syncope.server.workflow.activiti.task;\n \n import org.apache.syncope.server.persistence.api.dao.ConfDAO;\n import org.apache.syncope.server.persistence.api.entity.user.User;\n-import org.apache.syncope.workflow.activiti.ActivitiUserWorkflowAdapter;\n+import org.apache.syncope.server.workflow.activiti.ActivitiUserWorkflowAdapter;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.stereotype.Component;\n \n@@ -32,12 +32,12 @@ public class GenerateToken extends AbstractActivitiServiceTask {\n \n     @Override\n     protected void doExecute(final String executionId) {\n-        User user = runtimeService.getVariable(executionId, ActivitiUserWorkflowAdapter.SYNCOPE_USER, User.class);\n+        User user = runtimeService.getVariable(executionId, ActivitiUserWorkflowAdapter.USER, User.class);\n \n         user.generateToken(\n                 confDAO.find(\"token.length\", \"256\").getValues().get(0).getLongValue().intValue(),\n                 confDAO.find(\"token.expireTime\", \"60\").getValues().get(0).getLongValue().intValue());\n \n-        runtimeService.setVariable(executionId, ActivitiUserWorkflowAdapter.SYNCOPE_USER, user);\n+        runtimeService.setVariable(executionId, ActivitiUserWorkflowAdapter.USER, user);\n     }\n }","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/task/GenerateToken.java"},{"sha":"c6152d8a28f6ed962ac01ebc4d61628e6beb7ca1","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/task/Notify.java","status":"renamed","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FNotify.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FNotify.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FNotify.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,14 +16,14 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti.task;\n+package org.apache.syncope.server.workflow.activiti.task;\n \n import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.common.lib.to.UserTO;\n import org.apache.syncope.common.lib.types.AuditElements;\n import org.apache.syncope.server.persistence.api.entity.user.User;\n import org.apache.syncope.server.provisioning.api.notification.NotificationManager;\n-import org.apache.syncope.workflow.activiti.ActivitiUserWorkflowAdapter;\n+import org.apache.syncope.server.workflow.activiti.ActivitiUserWorkflowAdapter;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.stereotype.Component;\n \n@@ -40,7 +40,7 @@ public class Notify extends AbstractActivitiServiceTask {\n \n     @Override\n     protected void doExecute(final String executionId) {\n-        User user = runtimeService.getVariable(executionId, ActivitiUserWorkflowAdapter.SYNCOPE_USER, User.class);\n+        User user = runtimeService.getVariable(executionId, ActivitiUserWorkflowAdapter.USER, User.class);\n         UserTO userTO = runtimeService.getVariable(executionId, ActivitiUserWorkflowAdapter.USER_TO, UserTO.class);\n         String event = runtimeService.getVariable(executionId, ActivitiUserWorkflowAdapter.EVENT, String.class);\n ","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/task/Notify.java"},{"sha":"56be39453ae42b3ef74b3331a1e72c18d0f5058c","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/task/PasswordReset.java","status":"renamed","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FPasswordReset.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FPasswordReset.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FPasswordReset.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,19 +16,19 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti.task;\n+package org.apache.syncope.server.workflow.activiti.task;\n \n import org.apache.syncope.server.persistence.api.entity.user.User;\n import org.apache.syncope.server.workflow.api.WorkflowException;\n-import org.apache.syncope.workflow.activiti.ActivitiUserWorkflowAdapter;\n+import org.apache.syncope.server.workflow.activiti.ActivitiUserWorkflowAdapter;\n import org.springframework.stereotype.Component;\n \n @Component\n public class PasswordReset extends AbstractActivitiServiceTask {\n \n     @Override\n     protected void doExecute(final String executionId) {\n-        User user = runtimeService.getVariable(executionId, ActivitiUserWorkflowAdapter.SYNCOPE_USER, User.class);\n+        User user = runtimeService.getVariable(executionId, ActivitiUserWorkflowAdapter.USER, User.class);\n         String token = runtimeService.getVariable(executionId, ActivitiUserWorkflowAdapter.TOKEN, String.class);\n         String password = runtimeService.getVariable(executionId, ActivitiUserWorkflowAdapter.PASSWORD, String.class);\n \n@@ -38,7 +38,7 @@ protected void doExecute(final String executionId) {\n \n         user.removeToken();\n         user.setPassword(password, user.getCipherAlgorithm());\n-        runtimeService.setVariable(executionId, ActivitiUserWorkflowAdapter.SYNCOPE_USER, user);\n+        runtimeService.setVariable(executionId, ActivitiUserWorkflowAdapter.USER, user);\n     }\n \n }","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/task/PasswordReset.java"},{"sha":"d4c011b16aa5175a7c327102c55fae9bddd9b55b","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/task/Reactivate.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FReactivate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FReactivate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FReactivate.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti.task;\n+package org.apache.syncope.server.workflow.activiti.task;\n \n import org.springframework.stereotype.Component;\n ","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/task/Reactivate.java"},{"sha":"197d7377052178e9a1227345ebfabefb210b2d04","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/task/Suspend.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FSuspend.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FSuspend.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FSuspend.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti.task;\n+package org.apache.syncope.server.workflow.activiti.task;\n \n import org.springframework.stereotype.Component;\n ","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/task/Suspend.java"},{"sha":"731f7acdc92d619949da6db376afef72a031bbeb","filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/server/workflow/activiti/task/Update.java","status":"renamed","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FUpdate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FUpdate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fserver%2Fworkflow%2Factiviti%2Ftask%2FUpdate.java?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -16,14 +16,14 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.workflow.activiti.task;\n+package org.apache.syncope.server.workflow.activiti.task;\n \n import org.apache.commons.lang3.SerializationUtils;\n import org.apache.syncope.common.lib.mod.UserMod;\n import org.apache.syncope.common.lib.types.PropagationByResource;\n import org.apache.syncope.server.persistence.api.entity.user.User;\n import org.apache.syncope.server.provisioning.api.data.UserDataBinder;\n-import org.apache.syncope.workflow.activiti.ActivitiUserWorkflowAdapter;\n+import org.apache.syncope.server.workflow.activiti.ActivitiUserWorkflowAdapter;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.stereotype.Component;\n \n@@ -35,7 +35,7 @@ public class Update extends AbstractActivitiServiceTask {\n \n     @Override\n     protected void doExecute(final String executionId) {\n-        User user = runtimeService.getVariable(executionId, ActivitiUserWorkflowAdapter.SYNCOPE_USER, User.class);\n+        User user = runtimeService.getVariable(executionId, ActivitiUserWorkflowAdapter.USER, User.class);\n         UserMod userMod =\n                 runtimeService.getVariable(executionId, ActivitiUserWorkflowAdapter.USER_MOD, UserMod.class);\n \n@@ -48,7 +48,7 @@ protected void doExecute(final String executionId) {\n         PropagationByResource propByRes = dataBinder.update(user, actualMod);\n \n         // report updated user and propagation by resource as result\n-        runtimeService.setVariable(executionId, ActivitiUserWorkflowAdapter.SYNCOPE_USER, user);\n+        runtimeService.setVariable(executionId, ActivitiUserWorkflowAdapter.USER, user);\n         runtimeService.setVariable(executionId, ActivitiUserWorkflowAdapter.PROP_BY_RESOURCE, propByRes);\n     }\n }","previous_filename":"syncope620/server/workflow-activiti/src/main/java/org/apache/syncope/workflow/activiti/task/Update.java"},{"sha":"0cad37eaf4812df2990e66709f2cb8aa9d43a997","filename":"syncope620/server/workflow-activiti/src/main/resources/workflow.properties","status":"added","additions":20,"deletions":0,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fresources%2Fworkflow.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fresources%2Fworkflow.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fresources%2Fworkflow.properties?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -0,0 +1,20 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+wf.directory=${conf.directory}\n+jobExecutorActivate=true\n+uwfAdapter=org.apache.syncope.server.workflow.activiti.ActivitiUserWorkflowAdapter\n+rwfAdapter=org.apache.syncope.server.workflow.java.DefaultRoleWorkflowAdapter\n\\ No newline at end of file"},{"sha":"41670fbdcaf1dad46825d00610b8189888789be3","filename":"syncope620/server/workflow-activiti/src/main/resources/workflowActivitiContext.xml","status":"modified","additions":7,"deletions":7,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fresources%2FworkflowActivitiContext.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fresources%2FworkflowActivitiContext.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-activiti%2Fsrc%2Fmain%2Fresources%2FworkflowActivitiContext.xml?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -26,12 +26,12 @@ under the License.\n                            http://www.springframework.org/schema/context/spring-context.xsd\">\n \n   <bean id=\"userWorkflowDef\" class=\"org.apache.syncope.server.misc.spring.ResourceWithFallbackLoader\">\n-    <property name=\"primary\" value=\"file:${conf.directory}/userWorkflow.bpmn20.xml\"/>\n+    <property name=\"primary\" value=\"file:${wf.directory}/userWorkflow.bpmn20.xml\"/>\n     <property name=\"fallback\" value=\"classpath:userWorkflow.bpmn20.xml\"/>\n   </bean>\n \n-  <bean id=\"syncopeActivitiUserManager\" class=\"org.apache.syncope.workflow.activiti.SyncopeUserManager\"/>\n-  <bean id=\"syncopeActivitiGroupManager\" class=\"org.apache.syncope.workflow.activiti.SyncopeGroupManager\"/>\n+  <bean id=\"syncopeActivitiUserManager\" class=\"org.apache.syncope.server.workflow.activiti.SyncopeUserManager\"/>\n+  <bean id=\"syncopeActivitiGroupManager\" class=\"org.apache.syncope.server.workflow.activiti.SyncopeGroupManager\"/>\n \n   <bean id=\"processEngineConfiguration\" class=\"org.activiti.spring.SpringProcessEngineConfiguration\">\n     <property name=\"dataSource\" ref=\"dataSource\"/>\n@@ -47,17 +47,17 @@ under the License.\n \n     <property name=\"customSessionFactories\">\n       <list>\n-        <bean class=\"org.apache.syncope.workflow.activiti.SyncopeSessionFactory\">\n+        <bean class=\"org.apache.syncope.server.workflow.activiti.SyncopeSessionFactory\">\n           <property name=\"syncopeSession\" ref=\"syncopeActivitiUserManager\"/>\n         </bean>\n-        <bean class=\"org.apache.syncope.workflow.activiti.SyncopeSessionFactory\">\n+        <bean class=\"org.apache.syncope.server.workflow.activiti.SyncopeSessionFactory\">\n           <property name=\"syncopeSession\" ref=\"syncopeActivitiGroupManager\"/>\n         </bean>\n       </list>\n     </property>\n     <property name=\"customPreVariableTypes\">\n       <list>\n-        <bean class=\"org.apache.syncope.workflow.activiti.SyncopeEntitiesVariableType\"/>\n+        <bean class=\"org.apache.syncope.server.workflow.activiti.SyncopeEntitiesVariableType\"/>\n       </list>\n     </property>\n   </bean>\n@@ -74,6 +74,6 @@ under the License.\n   <bean id=\"identityService\" factory-bean=\"processEngine\" factory-method=\"getIdentityService\"/>\n   <bean id=\"formService\" factory-bean=\"processEngine\" factory-method=\"getFormService\"/>\n \n-  <context:component-scan base-package=\"org.apache.syncope.workflow.activiti\"/>\n+  <context:component-scan base-package=\"org.apache.syncope.server.workflow.activiti\"/>\n     \n </beans>"},{"sha":"2c08d50177e737a1b87ba503331c424313b26967","filename":"syncope620/server/workflow-java/src/main/resources/workflow.properties","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-java%2Fsrc%2Fmain%2Fresources%2Fworkflow.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1327b2a44abe1cc1cea08540af17749bdbd88d4e/syncope620%2Fserver%2Fworkflow-java%2Fsrc%2Fmain%2Fresources%2Fworkflow.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/syncope620%2Fserver%2Fworkflow-java%2Fsrc%2Fmain%2Fresources%2Fworkflow.properties?ref=1327b2a44abe1cc1cea08540af17749bdbd88d4e","patch":"@@ -14,5 +14,7 @@\n # KIND, either express or implied.  See the License for the\n # specific language governing permissions and limitations\n # under the License.\n+wf.directory=${conf.directory}\n+jobExecutorActivate=false\n uwfAdapter=org.apache.syncope.server.workflow.java.DefaultUserWorkflowAdapter\n rwfAdapter=org.apache.syncope.server.workflow.java.DefaultRoleWorkflowAdapter\n\\ No newline at end of file"}]}
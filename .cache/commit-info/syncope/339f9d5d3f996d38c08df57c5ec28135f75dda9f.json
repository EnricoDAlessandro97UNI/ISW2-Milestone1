{"sha":"339f9d5d3f996d38c08df57c5ec28135f75dda9f","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjMzOWY5ZDVkM2Y5OTZkMzhjMDhkZjU3YzVlYzI4MTM1Zjc1ZGRhOWY=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-06-13T09:49:35Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-06-13T09:49:35Z"},"message":"More fixes to enduser","tree":{"sha":"30c21ac0f78935ef61e50694b992b9002c821be8","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/30c21ac0f78935ef61e50694b992b9002c821be8"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/339f9d5d3f996d38c08df57c5ec28135f75dda9f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/339f9d5d3f996d38c08df57c5ec28135f75dda9f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/339f9d5d3f996d38c08df57c5ec28135f75dda9f","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/339f9d5d3f996d38c08df57c5ec28135f75dda9f/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"9d15e6f19bd0db7375a024a4d313fe3f84dac70a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/9d15e6f19bd0db7375a024a4d313fe3f84dac70a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/9d15e6f19bd0db7375a024a4d313fe3f84dac70a"}],"stats":{"total":37,"additions":17,"deletions":20},"files":[{"sha":"ebba78a54dc5f2a1c008a9d5763ab0b99e7b9c24","filename":"client/enduser/src/main/resources/META-INF/resources/app/index.html","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/339f9d5d3f996d38c08df57c5ec28135f75dda9f/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/339f9d5d3f996d38c08df57c5ec28135f75dda9f/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html?ref=339f9d5d3f996d38c08df57c5ec28135f75dda9f","patch":"@@ -89,7 +89,6 @@\n     <script src=\"js/services/resourceService.js\"></script>\n     <script src=\"js/services/groupService.js\"></script>\n     <script src=\"js/services/anyService.js\"></script>\n-    <script src=\"js/services/captchaService.js\"></script>\n     <!--controllers-->\n     <script src=\"js/controllers/HomeController.js\"></script>\n     <script src=\"js/controllers/LoginController.js\"></script>"},{"sha":"3f356c9280459afeb56864a542be5c3ff3946ce1","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/app.js","status":"modified","additions":5,"deletions":6,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/339f9d5d3f996d38c08df57c5ec28135f75dda9f/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/339f9d5d3f996d38c08df57c5ec28135f75dda9f/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js?ref=339f9d5d3f996d38c08df57c5ec28135f75dda9f","patch":"@@ -211,11 +211,10 @@ app.config(['$stateProvider', '$urlRouterProvider', '$httpProvider',\n     $httpProvider.defaults.headers.common[\"If-Modified-Since\"] = \"0\";\n \n     $httpProvider.interceptors.push(function ($q, $rootScope, $location) {\n-      var numLoadings = 0;\n       return {\n         'request': function (config, a, b) {\n           //if the url is an html, we're changing page\n-          if (config.url.indexOf('.html', config.url.length - 5) == -1) {\n+          if (config.url.indexOf('.html', config.url.length - 5) === -1) {\n             $rootScope.$broadcast(\"xhrStarted\");\n             var separator = config.url.indexOf('?') === -1 ? '?' : '&';\n             config.url = config.url + separator + 'noCache=' + new Date().getTime();\n@@ -231,15 +230,15 @@ app.config(['$stateProvider', '$urlRouterProvider', '$httpProvider',\n         },\n         'responseError': function (response) {\n           $rootScope.spinner.off();\n-          if (response.config.url.indexOf(\"acceptError=true\") == -1) {\n+          if (response.config.url.indexOf(\"acceptError=true\") === -1) {\n             var status = response.status;\n-            if (status == 401) {\n+            if (status === 401) {\n               console.error(\"ERROR \", status);\n             }\n-            if (status == 403) {\n+            if (status === 403) {\n               console.error(\"UNAUTHORIZED \", status);\n             }\n-            if (status == 400 || status == 404 || status == 412 || status == 500) {\n+            if (status === 400 || status === 404 || status === 412 || status === 500) {\n               console.error(\"GENERIC ERROR \", status);\n             }\n           }"},{"sha":"3aa009ad5a7251cbb758a112652fedf010251886","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/controllers/UserController.js","status":"modified","additions":5,"deletions":8,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/339f9d5d3f996d38c08df57c5ec28135f75dda9f/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/339f9d5d3f996d38c08df57c5ec28135f75dda9f/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js?ref=339f9d5d3f996d38c08df57c5ec28135f75dda9f","patch":"@@ -20,11 +20,10 @@\n 'use strict';\n \n angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$location', '$compile', 'AuthService',\n-  'UserSelfService', 'SchemaService', 'RealmService', 'ResourceService', 'SecurityQuestionService', 'CaptchaService',\n-  'GroupService', 'AnyService', 'UserUtil', 'GenericUtil', \"ValidationExecutor\",\n+  'UserSelfService', 'SchemaService', 'RealmService', 'ResourceService', 'SecurityQuestionService', 'GroupService',\n+  'AnyService', 'UserUtil', 'GenericUtil', \"ValidationExecutor\",\n   function ($scope, $rootScope, $location, $compile, AuthService, UserSelfService, SchemaService, RealmService,\n-          ResourceService, SecurityQuestionService, CaptchaService, GroupService, AnyService, UserUtil, GenericUtil,\n-          ValidationExecutor) {\n+          ResourceService, SecurityQuestionService, GroupService, AnyService, UserUtil, GenericUtil, ValidationExecutor) {\n \n     $scope.user = {};\n     $scope.confirmPassword = {\n@@ -255,8 +254,7 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n           }\n           if ($scope.user.mustChangePassword) {\n             $location.path('/mustchangepassword')\n-          }\n-          else {\n+          } else {\n             initProperties();\n           }\n         }, function (e) {\n@@ -395,8 +393,7 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n             }\n             $scope.showError(\"Error retrieving user security question: \" + errorMessage, $scope.notification);\n           });\n-        }\n-        else {\n+        } else {\n           $scope.userSecurityQuestion = \"\";\n         }\n       }"},{"sha":"a2d593808db4bc9289dac65c094dc1e53e99da96","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/captcha.js","status":"modified","additions":7,"deletions":5,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/339f9d5d3f996d38c08df57c5ec28135f75dda9f/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Fcaptcha.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/339f9d5d3f996d38c08df57c5ec28135f75dda9f/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Fcaptcha.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Fcaptcha.js?ref=339f9d5d3f996d38c08df57c5ec28135f75dda9f","patch":"@@ -19,17 +19,17 @@\n 'use strict';\n \n angular.module('self')\n-        .directive('captcha', function (CaptchaService) {\n+        .directive('captcha', function () {\n           return {\n             restrict: 'E',\n             templateUrl: 'views/captcha.html',\n             scope: {\n               input: \"=\",\n-              captchaEnabled : '=enabled'\n+              captchaEnabled: '=enabled'\n             },\n             controller: function ($scope) {\n               $scope.captchaUrl = '';\n-                            \n+\n               //initialize captcha\n               $scope.refreshCaptcha = function () {\n                 console.debug(\"REFRESH CAPTCHA\")\n@@ -38,8 +38,10 @@ angular.module('self')\n \n               // initialize captcha\n               $scope.refreshCaptcha();\n-              \n-              $scope.$on(\"refreshCaptcha\", function(){$scope.refreshCaptcha()});\n+\n+              $scope.$on(\"refreshCaptcha\", function () {\n+                $scope.refreshCaptcha()\n+              });\n             }\n           };\n         });"}]}
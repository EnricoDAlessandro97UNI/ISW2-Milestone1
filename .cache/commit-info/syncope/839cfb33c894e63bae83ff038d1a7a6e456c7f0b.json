{"sha":"839cfb33c894e63bae83ff038d1a7a6e456c7f0b","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjgzOWNmYjMzYzg5NGU2M2JhZTgzZmYwMzhkMWE3YTZlNDU2YzdmMGI=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2012-01-10T14:46:35Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2012-01-10T14:46:35Z"},"message":"Update issue 238\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/branches/0_8_X_ASL@1247323 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"70e8f64dd3f40bdb4ff77a8f9f677651fdb67567","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/70e8f64dd3f40bdb4ff77a8f9f677651fdb67567"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/839cfb33c894e63bae83ff038d1a7a6e456c7f0b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/839cfb33c894e63bae83ff038d1a7a6e456c7f0b","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/839cfb33c894e63bae83ff038d1a7a6e456c7f0b","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/comments","author":null,"committer":null,"parents":[{"sha":"7a052b351fc437233ac30ccb5af06b47dca0310d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/7a052b351fc437233ac30ccb5af06b47dca0310d","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/7a052b351fc437233ac30ccb5af06b47dca0310d"}],"stats":{"total":70,"additions":42,"deletions":28},"files":[{"sha":"db265a679f73d495dfb830bfd91b35ac18c80726","filename":"core/src/main/java/org/syncope/core/persistence/beans/membership/MAttr.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fmembership%2FMAttr.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fmembership%2FMAttr.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fmembership%2FMAttr.java?ref=839cfb33c894e63bae83ff038d1a7a6e456c7f0b","patch":"@@ -17,10 +17,10 @@\n import java.util.ArrayList;\n import java.util.List;\n import javax.persistence.CascadeType;\n-import javax.persistence.Column;\n import javax.persistence.Entity;\n import javax.persistence.FetchType;\n import javax.persistence.Id;\n+import javax.persistence.JoinColumn;\n import javax.persistence.ManyToOne;\n import javax.persistence.OneToMany;\n import javax.persistence.OneToOne;\n@@ -42,7 +42,7 @@ public class MAttr extends AbstractAttr {\n     private Membership owner;\n \n     @ManyToOne(fetch = FetchType.EAGER)\n-    @Column(name = \"schema_name\")\n+    @JoinColumn(name = \"schema_name\")\n     private MSchema schema;\n \n     @OneToMany(cascade = CascadeType.MERGE, orphanRemoval = true,"},{"sha":"a78d87d7f1acf79277381dc433c246460aa6e1ec","filename":"core/src/main/java/org/syncope/core/persistence/beans/membership/MAttrUniqueValue.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fmembership%2FMAttrUniqueValue.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fmembership%2FMAttrUniqueValue.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fmembership%2FMAttrUniqueValue.java?ref=839cfb33c894e63bae83ff038d1a7a6e456c7f0b","patch":"@@ -14,9 +14,9 @@\n  */\n package org.syncope.core.persistence.beans.membership;\n \n-import javax.persistence.Column;\n import javax.persistence.Entity;\n import javax.persistence.Id;\n+import javax.persistence.JoinColumn;\n import javax.persistence.ManyToOne;\n import javax.persistence.OneToOne;\n import org.syncope.core.persistence.beans.AbstractAttr;\n@@ -35,7 +35,7 @@ public class MAttrUniqueValue extends AbstractAttrUniqueValue {\n     private MAttr attribute;\n \n     @ManyToOne(optional = false)\n-    @Column(name = \"schema_name\")\n+    @JoinColumn(name = \"schema_name\")\n     private MSchema schema;\n \n     @Override"},{"sha":"2add8629021f3f5f42cbfd15328f350b062f228d","filename":"core/src/main/java/org/syncope/core/persistence/beans/role/RAttr.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Frole%2FRAttr.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Frole%2FRAttr.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Frole%2FRAttr.java?ref=839cfb33c894e63bae83ff038d1a7a6e456c7f0b","patch":"@@ -17,10 +17,10 @@\n import java.util.ArrayList;\n import java.util.List;\n import javax.persistence.CascadeType;\n-import javax.persistence.Column;\n import javax.persistence.Entity;\n import javax.persistence.FetchType;\n import javax.persistence.Id;\n+import javax.persistence.JoinColumn;\n import javax.persistence.ManyToOne;\n import javax.persistence.OneToMany;\n import javax.persistence.OneToOne;\n@@ -42,7 +42,7 @@ public class RAttr extends AbstractAttr {\n     private SyncopeRole owner;\n \n     @ManyToOne(fetch = FetchType.EAGER)\n-    @Column(name = \"schema_name\")\n+    @JoinColumn(name = \"schema_name\")\n     private RSchema schema;\n \n     @OneToMany(cascade = CascadeType.MERGE, orphanRemoval = true,"},{"sha":"b8a09c7e4fd180393bc7ed2b10e90b5f97f95492","filename":"core/src/main/java/org/syncope/core/persistence/beans/role/RAttrUniqueValue.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Frole%2FRAttrUniqueValue.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Frole%2FRAttrUniqueValue.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Frole%2FRAttrUniqueValue.java?ref=839cfb33c894e63bae83ff038d1a7a6e456c7f0b","patch":"@@ -14,9 +14,9 @@\n  */\n package org.syncope.core.persistence.beans.role;\n \n-import javax.persistence.Column;\n import javax.persistence.Entity;\n import javax.persistence.Id;\n+import javax.persistence.JoinColumn;\n import javax.persistence.ManyToOne;\n import javax.persistence.OneToOne;\n import org.syncope.core.persistence.beans.AbstractAttr;\n@@ -35,7 +35,7 @@ public class RAttrUniqueValue extends AbstractAttrUniqueValue {\n     private RAttr attribute;\n \n     @ManyToOne(optional = false)\n-    @Column(name = \"schema_name\")\n+    @JoinColumn(name = \"schema_name\")\n     private RSchema schema;\n \n     @Override"},{"sha":"57f6ab437aba2ccbb054a8c3b3dc55dd5926e7da","filename":"core/src/main/java/org/syncope/core/persistence/beans/user/UAttr.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FUAttr.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FUAttr.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FUAttr.java?ref=839cfb33c894e63bae83ff038d1a7a6e456c7f0b","patch":"@@ -17,10 +17,10 @@\n import java.util.ArrayList;\n import java.util.List;\n import javax.persistence.CascadeType;\n-import javax.persistence.Column;\n import javax.persistence.Entity;\n import javax.persistence.FetchType;\n import javax.persistence.Id;\n+import javax.persistence.JoinColumn;\n import javax.persistence.ManyToOne;\n import javax.persistence.OneToMany;\n import javax.persistence.OneToOne;\n@@ -54,7 +54,7 @@ public class UAttr extends AbstractAttr {\n      * The schema of this attribute.\n      */\n     @ManyToOne(fetch = FetchType.EAGER)\n-    @Column(name = \"schema_name\")\n+    @JoinColumn(name = \"schema_name\")\n     private USchema schema;\n \n     /**"},{"sha":"d0bb995cccc0277b2d86e1557ca59cb223b583d8","filename":"core/src/main/java/org/syncope/core/persistence/beans/user/UAttrUniqueValue.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FUAttrUniqueValue.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FUAttrUniqueValue.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FUAttrUniqueValue.java?ref=839cfb33c894e63bae83ff038d1a7a6e456c7f0b","patch":"@@ -14,9 +14,9 @@\n  */\n package org.syncope.core.persistence.beans.user;\n \n-import javax.persistence.Column;\n import javax.persistence.Entity;\n import javax.persistence.Id;\n+import javax.persistence.JoinColumn;\n import javax.persistence.ManyToOne;\n import javax.persistence.OneToOne;\n import org.syncope.core.persistence.beans.AbstractAttr;\n@@ -35,7 +35,7 @@ public class UAttrUniqueValue extends AbstractAttrUniqueValue {\n     private UAttr attribute;\n \n     @ManyToOne(optional = false)\n-    @Column(name = \"schema_name\")\n+    @JoinColumn(name = \"schema_name\")\n     private USchema schema;\n \n     @Override"},{"sha":"544a9d49f5eed9e7000fe232a9992ca199df57ae","filename":"core/src/main/java/org/syncope/core/persistence/dao/impl/ConnInstanceDAOImpl.java","status":"modified","additions":21,"deletions":1,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2Fimpl%2FConnInstanceDAOImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2Fimpl%2FConnInstanceDAOImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2Fimpl%2FConnInstanceDAOImpl.java?ref=839cfb33c894e63bae83ff038d1a7a6e456c7f0b","patch":"@@ -14,7 +14,9 @@\n  */\n package org.syncope.core.persistence.dao.impl;\n \n+import java.util.HashSet;\n import java.util.List;\n+import java.util.Set;\n import javassist.NotFoundException;\n import javax.persistence.Query;\n import org.springframework.beans.factory.annotation.Autowired;\n@@ -23,11 +25,15 @@\n import org.syncope.core.persistence.beans.ConnInstance;\n import org.syncope.core.persistence.beans.ExternalResource;\n import org.syncope.core.persistence.dao.ConnInstanceDAO;\n+import org.syncope.core.persistence.dao.ResourceDAO;\n \n @Repository\n public class ConnInstanceDAOImpl extends AbstractDAOImpl\n         implements ConnInstanceDAO {\n \n+    @Autowired\n+    private ResourceDAO resourceDAO;\n+\n     @Autowired\n     private ConnInstanceLoader connInstanceLoader;\n \n@@ -60,7 +66,21 @@ public ConnInstance save(final ConnInstance connector) {\n \n     @Override\n     public void delete(final Long id) {\n-        entityManager.remove(find(id));\n+        ConnInstance connInstance = find(id);\n+        if (connInstance == null) {\n+            return;\n+        }\n+\n+        Set<String> resourceNames =\n+                new HashSet<String>(connInstance.getResources().size());\n+        for (ExternalResource resource: connInstance.getResources()) {\n+            resourceNames.add(resource.getName());\n+        }\n+        for (String resourceName : resourceNames) {\n+            resourceDAO.delete(resourceName);\n+        }\n+\n+        entityManager.remove(connInstance);\n \n         connInstanceLoader.unregisterConnector(id.toString());\n     }"},{"sha":"112a90bc345c3fbe45e0d744220c5d5d9c98150b","filename":"core/src/main/java/org/syncope/core/rest/data/ResourceDataBinder.java","status":"modified","additions":2,"deletions":7,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FResourceDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FResourceDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FResourceDataBinder.java?ref=839cfb33c894e63bae83ff038d1a7a6e456c7f0b","patch":"@@ -79,15 +79,10 @@ public ExternalResource update(final ExternalResource resource,\n \n         resource.setName(resourceTO.getName());\n \n-        ConnInstance connector = null;\n-\n         if (resourceTO.getConnectorId() != null) {\n-            connector = connectorInstanceDAO.find(resourceTO.getConnectorId());\n-        }\n-\n-        if (connector != null) {\n+            ConnInstance connector =\n+                    connectorInstanceDAO.find(resourceTO.getConnectorId());\n             resource.setConnector(connector);\n-            connector.addResource(resource);\n         }\n \n         resource.setForceMandatoryConstraint("},{"sha":"78b74d2d1a5a013412d9d2f65d43a4977c72486a","filename":"core/src/main/resources/persistenceContext.xml","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fresources%2FpersistenceContext.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fresources%2FpersistenceContext.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2FpersistenceContext.xml?ref=839cfb33c894e63bae83ff038d1a7a6e456c7f0b","patch":"@@ -15,20 +15,19 @@\n <beans xmlns=\"http://www.springframework.org/schema/beans\"\n        xmlns:context=\"http://www.springframework.org/schema/context\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n-       xmlns:p=\"http://www.springframework.org/schema/p\"\n        xmlns:tx=\"http://www.springframework.org/schema/tx\"\n        xmlns:aop=\"http://www.springframework.org/schema/aop\"\n        xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd\n-       http://www.springframework.org/schema/p\n-       http://www.springframework.org/schema/p/spring-p.xsd\n        http://www.springframework.org/schema/tx\n        http://www.springframework.org/schema/tx/spring-tx.xsd\n        http://www.springframework.org/schema/aop\n        http://www.springframework.org/schema/aop/spring-aop.xsd\">\n \n+    <import resource=\"persistenceContextEMFactory.xml\"/>\n+\n     <context:annotation-config/>\n     <context:component-scan base-package=\"org.syncope.core.persistence\"/>\n     <context:component-scan base-package=\"org.syncope.core.rest.data\"/>"},{"sha":"34dad5cfb88b96c8b4603aae10ec88df1dd683e4","filename":"core/src/main/resources/persistenceContextEMFactory.xml","status":"renamed","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fresources%2FpersistenceContextEMFactory.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Fmain%2Fresources%2FpersistenceContextEMFactory.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2FpersistenceContextEMFactory.xml?ref=839cfb33c894e63bae83ff038d1a7a6e456c7f0b","previous_filename":"core/src/main/resources/entityManagerFactoryContext.xml"},{"sha":"d5b51036dd5c447668cb1772211c62312ca4e047","filename":"core/src/test/java/org/syncope/core/AbstractTest.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2FAbstractTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2FAbstractTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2FAbstractTest.java?ref=839cfb33c894e63bae83ff038d1a7a6e456c7f0b","patch":"@@ -33,7 +33,6 @@\n @ContextConfiguration(locations = {\n     \"classpath:syncopeContext.xml\",\n     \"classpath:persistenceContext.xml\",\n-    \"classpath:entityManagerFactoryContext.xml\",\n     \"classpath:schedulingContext.xml\",\n     \"classpath:workflowContext.xml\"\n })"},{"sha":"47594d79806dddb303b6bf42f8639465aec44c6a","filename":"core/src/test/java/org/syncope/core/persistence/dao/UserSearchTest.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2FUserSearchTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2FUserSearchTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2FUserSearchTest.java?ref=839cfb33c894e63bae83ff038d1a7a6e456c7f0b","patch":"@@ -37,7 +37,6 @@\n @ContextConfiguration(locations = {\n     \"classpath:syncopeContext.xml\",\n     \"classpath:persistenceContext.xml\",\n-    \"classpath:entityManagerFactoryContext.xml\",\n     \"classpath:schedulingContext.xml\",\n     \"classpath:workflowContext.xml\"\n })"},{"sha":"672038190561e5c92fc825b6b7e34f7518d7a62d","filename":"core/src/test/java/org/syncope/core/persistence/relationships/ResourceTest.java","status":"modified","additions":5,"deletions":2,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Frelationships%2FResourceTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Frelationships%2FResourceTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Frelationships%2FResourceTest.java?ref=839cfb33c894e63bae83ff038d1a7a6e456c7f0b","patch":"@@ -126,9 +126,11 @@ public final void issue42() {\n \n         ExternalResource resource = resourceDataBinder.create(resourceTO);\n         resource = resourceDAO.save(resource);\n+\n         resourceDAO.flush();\n \n         ExternalResource actual = resourceDAO.find(\"resource-issue42\");\n+        assertNotNull(actual);\n         assertEquals(resource, actual);\n \n         userId = schemaDAO.find(\"userId\", USchema.class);\n@@ -157,7 +159,6 @@ public final void save() {\n         assertNotNull(\"connector not found\", connector);\n \n         resource.setConnector(connector);\n-        connector.addResource(resource);\n \n         // specify mappings\n         SchemaMapping mapping = null;\n@@ -195,6 +196,8 @@ public final void save() {\n         assertNotNull(actual);\n \n         resourceDAO.flush();\n+        resourceDAO.detach(actual);\n+        resourceDAO.detach(connector);\n \n         // assign the new resource to an user\n         SyncopeUser user = userDAO.find(1L);\n@@ -314,7 +317,7 @@ public void issue243() {\n         assertEquals(origMappings + 1, csv.getMappings().size());\n \n         resourceDAO.clear();\n-        \n+\n         int currentMappings = 0;\n         List<SchemaMapping> allMappings = resourceDAO.findAllMappings();\n         for (SchemaMapping mapping : allMappings) {"},{"sha":"0c62b449dddb7df10ce11712654e972d629fea3d","filename":"core/src/test/notifications/java/org/syncope/core/notification/NotificationTest.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Ftest%2Fnotifications%2Fjava%2Forg%2Fsyncope%2Fcore%2Fnotification%2FNotificationTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/839cfb33c894e63bae83ff038d1a7a6e456c7f0b/core%2Fsrc%2Ftest%2Fnotifications%2Fjava%2Forg%2Fsyncope%2Fcore%2Fnotification%2FNotificationTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fnotifications%2Fjava%2Forg%2Fsyncope%2Fcore%2Fnotification%2FNotificationTest.java?ref=839cfb33c894e63bae83ff038d1a7a6e456c7f0b","patch":"@@ -59,7 +59,6 @@\n     \"classpath:syncopeContext.xml\",\n     \"classpath:restContext.xml\",\n     \"classpath:persistenceContext.xml\",\n-    \"classpath:entityManagerFactoryContext.xml\",\n     \"classpath:schedulingContext.xml\",\n     \"classpath:workflowContext.xml\"\n })"}]}
{"sha":"c67b22d2d71817333a4fdb83f817a67dd87698d1","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmM2N2IyMmQyZDcxODE3MzMzYTRmZGI4M2Y4MTdhNjdkZDg3Njk4ZDE=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2011-10-14T13:46:47Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2011-10-14T13:46:47Z"},"message":"Fixes issue 179\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247138 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"b70a945742e91f3f98bce4fa2a0e57d85d040051","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/b70a945742e91f3f98bce4fa2a0e57d85d040051"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/c67b22d2d71817333a4fdb83f817a67dd87698d1","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c67b22d2d71817333a4fdb83f817a67dd87698d1","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c67b22d2d71817333a4fdb83f817a67dd87698d1","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c67b22d2d71817333a4fdb83f817a67dd87698d1/comments","author":null,"committer":null,"parents":[{"sha":"110a4dcfcf00fd2338fdf56b107136af9dc82d92","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/110a4dcfcf00fd2338fdf56b107136af9dc82d92","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/110a4dcfcf00fd2338fdf56b107136af9dc82d92"}],"stats":{"total":125,"additions":89,"deletions":36},"files":[{"sha":"50b54a0bc24054b42a1de4c4b51a29d3dc55d61a","filename":"console/src/main/java/org/syncope/console/SchemaModalPageFactory.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2FSchemaModalPageFactory.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2FSchemaModalPageFactory.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2FSchemaModalPageFactory.java?ref=c67b22d2d71817333a4fdb83f817a67dd87698d1","patch":"@@ -29,6 +29,8 @@\n  */\n abstract public class SchemaModalPageFactory extends BaseModalPage {\n \n+    private static final long serialVersionUID = -3533177688264693505L;\n+\n     @SpringBean\n     protected SchemaRestClient restClient;\n "},{"sha":"df3a94940c73b66f0963917f020b06c633628894","filename":"console/src/main/java/org/syncope/console/commons/RoleTreeBuilder.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fcommons%2FRoleTreeBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fcommons%2FRoleTreeBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fcommons%2FRoleTreeBuilder.java?ref=c67b22d2d71817333a4fdb83f817a67dd87698d1","patch":"@@ -89,6 +89,8 @@ public int compare(final RoleTO r1, final RoleTO r2) {\n \n     private static class FakerootTO extends RoleTO {\n \n+        private static final long serialVersionUID = 4839183625773925488L;\n+\n         public FakerootTO() {\n             super();\n "},{"sha":"6d6d940ebb9c9707b1b6ffc8706fbd3257754e1d","filename":"console/src/main/java/org/syncope/console/pages/BaseModalPage.java","status":"modified","additions":11,"deletions":0,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.java?ref=c67b22d2d71817333a4fdb83f817a67dd87698d1","patch":"@@ -19,6 +19,7 @@\n import org.apache.wicket.spring.injection.annot.SpringBean;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n+import org.syncope.client.AbstractBaseBean;\n import org.syncope.console.commons.XMLRolesReader;\n \n /**\n@@ -39,9 +40,19 @@ public class BaseModalPage extends WebPage {\n \n     protected FeedbackPanel feedbackPanel;\n \n+    private AbstractBaseBean bean;\n+\n     public BaseModalPage() {\n         feedbackPanel = new FeedbackPanel(\"feedback\");\n         feedbackPanel.setOutputMarkupId(true);\n         add(feedbackPanel);\n     }\n+\n+    public AbstractBaseBean getBean() {\n+        return bean;\n+    }\n+\n+    public void setBean(final AbstractBaseBean bean) {\n+        this.bean = bean;\n+    }\n }"},{"sha":"2a3e4b2a363d6cbd31a5a78a2744e04109cc683a","filename":"console/src/main/java/org/syncope/console/pages/MembershipModalPage.java","status":"modified","additions":17,"deletions":9,"changes":26,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.java?ref=c67b22d2d71817333a4fdb83f817a67dd87698d1","patch":"@@ -14,6 +14,7 @@\n  */\n package org.syncope.console.pages;\n \n+import org.apache.wicket.PageReference;\n import org.syncope.console.pages.panels.AttributesPanel;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n@@ -22,6 +23,7 @@\n import org.apache.wicket.markup.html.form.Form;\n import org.apache.wicket.model.CompoundPropertyModel;\n import org.apache.wicket.model.ResourceModel;\n+import org.syncope.client.AbstractBaseBean;\n import org.syncope.client.to.MembershipTO;\n import org.syncope.client.to.UserTO;\n import org.syncope.console.pages.panels.DerivedAttributesPanel;\n@@ -37,38 +39,44 @@ public class MembershipModalPage extends BaseModalPage {\n     private AjaxButton submit;\n \n     public MembershipModalPage(\n+            final PageReference pageRef,\n             final ModalWindow window,\n-            final MembershipTO membershipTO,\n-            final UserTO userTO) {\n+            final MembershipTO membershipTO) {\n \n         final Form form = new Form(\"MembershipForm\");\n \n+        final AbstractBaseBean bean =\n+                ((BaseModalPage) pageRef.getPage()).getBean();\n+\n         form.setModel(new CompoundPropertyModel(membershipTO));\n \n         submit = new AjaxButton(\"submit\", new ResourceModel(\"submit\")) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target,\n-                    final Form form) {\n+            protected void onSubmit(\n+                    final AjaxRequestTarget target, final Form form) {\n+\n+                ((UserTO) bean).removeMembership(membershipTO);\n+                ((UserTO) bean).addMembership(membershipTO);\n+\n+                ((BaseModalPage) pageRef.getPage()).setBean(bean);\n \n-                userTO.removeMembership(membershipTO);\n-                userTO.addMembership(membershipTO);\n                 window.close(target);\n             }\n \n             @Override\n-            protected void onError(final AjaxRequestTarget target,\n-                    final Form form) {\n+            protected void onError(\n+                    final AjaxRequestTarget target, final Form form) {\n \n                 target.add(feedbackPanel);\n             }\n         };\n \n         String allowedRoles = null;\n \n-        if (userTO.getId() == 0) {\n+        if (((UserTO) bean).getId() == 0) {\n             allowedRoles = xmlRolesReader.getAllAllowedRoles(\"Users\", \"create\");\n         } else {\n             allowedRoles = xmlRolesReader.getAllAllowedRoles(\"Users\", \"update\");"},{"sha":"b128d0f109034b0cb778ad7245e26f0b71c33481","filename":"console/src/main/java/org/syncope/console/pages/RoleModalPage.java","status":"modified","additions":0,"deletions":5,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java?ref=c67b22d2d71817333a4fdb83f817a67dd87698d1","patch":"@@ -275,9 +275,6 @@ private void cloneOldRoleTO(RoleTO roleTO) {\n     private void setupRoleMod(final RoleTO roleTO) {\n         roleMod = new RoleMod();\n \n-        LOG.error(\"AAAAAAAAA1 {}\", roleTO);\n-        LOG.error(\"AAAAAAAAA2 {}\", oldRole);\n-\n         //1.Check if the role's name has been changed\n         if (!oldRole.getName().equals(roleTO.getName())) {\n             roleMod.setName(roleTO.getName());\n@@ -317,8 +314,6 @@ private void setupRoleMod(final RoleTO roleTO) {\n                     newVirtualAttribute.getSchema());\n         }\n \n-        LOG.error(\"AAAAAAAAA2 {}\", roleMod);\n-\n         //4.Search and update role's attributes\n         for (AttributeTO attributeTO : roleTO.getAttributes()) {\n             searchAndUpdateAttribute(attributeTO);"},{"sha":"d2e029bc8d464b0469a0f8c77c7d933cd9b32a4a","filename":"console/src/main/java/org/syncope/console/pages/Schema.java","status":"modified","additions":8,"deletions":8,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.java?ref=c67b22d2d71817333a4fdb83f817a67dd87698d1","patch":"@@ -207,17 +207,17 @@ public Schema(PageParameters parameters) {\n         add(createRoleSchemaWin = new ModalWindow(\"createRoleSchemaWin\"));\n         add(editRoleSchemaWin = new ModalWindow(\"editRoleSchemaWin\"));\n \n-        add(createRoleDerivedSchemaWin = new ModalWindow(\n-                \"createRoleDerivedSchemaWin\"));\n+        add(createRoleDerivedSchemaWin =\n+                new ModalWindow(\"createRoleDerivedSchemaWin\"));\n \n-        add(createRoleVirtualSchemaWin = new ModalWindow(\n-                \"createRoleVirtualSchemaWin\"));\n+        add(createRoleVirtualSchemaWin =\n+                new ModalWindow(\"createRoleVirtualSchemaWin\"));\n \n-        add(editRoleDerivedSchemaWin = new ModalWindow(\n-                \"editRoleDerivedSchemaWin\"));\n+        add(editRoleDerivedSchemaWin =\n+                new ModalWindow(\"editRoleDerivedSchemaWin\"));\n \n-        add(editRoleVirtualSchemaWin = new ModalWindow(\n-                \"editRoleVirtualSchemaWin\"));\n+        add(editRoleVirtualSchemaWin =\n+                new ModalWindow(\"editRoleVirtualSchemaWin\"));\n \n         add(createUserSchemaWin = new ModalWindow(\"createUserSchemaWin\"));\n "},{"sha":"ac1815613d245e0af75995a576c7797c84ac9afb","filename":"console/src/main/java/org/syncope/console/pages/UserModalPage.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java?ref=c67b22d2d71817333a4fdb83f817a67dd87698d1","patch":"@@ -70,6 +70,8 @@ public UserModalPage(final PageReference callerPageRef,\n \n         super();\n \n+        setBean(userTO);\n+\n         if (userTO.getId() > 0) {\n             cloneOldUserTO(userTO);\n         }"},{"sha":"0bafaf002670b3c491c31ae172b575f9a52a2776","filename":"console/src/main/java/org/syncope/console/pages/panels/DerivedAttributesPanel.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FDerivedAttributesPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FDerivedAttributesPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FDerivedAttributesPanel.java?ref=c67b22d2d71817333a4fdb83f817a67dd87698d1","patch":"@@ -53,6 +53,8 @@ public class DerivedAttributesPanel extends Panel {\n     protected static final Logger LOG =\n             LoggerFactory.getLogger(DerivedAttributesPanel.class);\n \n+    private static final long serialVersionUID = -5387344116983102292L;\n+\n     @SpringBean\n     private SchemaRestClient schemaRestClient;\n "},{"sha":"dd867c449f16d1ed4221446cad63886e0cd0d687","filename":"console/src/main/java/org/syncope/console/pages/panels/RolesPanel.java","status":"modified","additions":45,"deletions":13,"changes":58,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRolesPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRolesPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRolesPanel.java?ref=c67b22d2d71817333a4fdb83f817a67dd87698d1","patch":"@@ -33,27 +33,38 @@\n import org.apache.wicket.model.Model;\n import org.apache.wicket.model.PropertyModel;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n+import org.syncope.client.AbstractBaseBean;\n import org.syncope.client.to.MembershipTO;\n import org.syncope.client.to.RoleTO;\n import org.syncope.client.to.UserTO;\n import org.syncope.console.commons.RoleTreeBuilder;\n import org.syncope.console.pages.MembershipModalPage;\n+import org.syncope.console.pages.UserModalPage;\n import org.syncope.console.rest.RoleRestClient;\n import org.syncope.console.wicket.ajax.markup.html.IndicatingDeleteOnConfirmAjaxLink;\n \n public class RolesPanel extends Panel {\n \n+    private static final long serialVersionUID = -2559791301973107191L;\n+\n     @SpringBean\n     private RoleRestClient roleRestClient;\n \n     @SpringBean\n     private RoleTreeBuilder roleTreeBuilder;\n \n-    private WebMarkupContainer membershipsContainer;\n+    private UserTO userTO = null;\n \n     public RolesPanel(final String id, final UserTO userTO) {\n         super(id);\n \n+        this.userTO = userTO;\n+\n+        final WebMarkupContainer membershipsContainer =\n+                new WebMarkupContainer(\"membershipsContainer\");\n+        membershipsContainer.setOutputMarkupId(true);\n+        add(membershipsContainer);\n+\n         final ModalWindow membershipWin = new ModalWindow(\"membershipWin\");\n         membershipWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n         membershipWin.setCookieName(\"create-membership-modal\");\n@@ -62,6 +73,8 @@ public RolesPanel(final String id, final UserTO userTO) {\n         final List<RoleTO> roles = roleRestClient.getAllRoles();\n         BaseTree tree = new LinkTree(\"treeTable\", roleTreeBuilder.build()) {\n \n+            private static final long serialVersionUID = -5514696922119256101L;\n+\n             @Override\n             protected IModel getNodeTextModel(final IModel model) {\n                 return new PropertyModel(model, \"userObject.displayName\");\n@@ -76,6 +89,9 @@ protected void onNodeLinkClicked(final Object node,\n \n                 membershipWin.setPageCreator(new ModalWindow.PageCreator() {\n \n+                    private static final long serialVersionUID =\n+                            7661763358801821185L;\n+\n                     private MembershipTO membershipTO;\n \n                     @Override\n@@ -84,22 +100,26 @@ public Page createPage() {\n                         membershipTO.setRoleId(roleTO.getId());\n \n                         return new MembershipModalPage(\n-                                membershipWin, membershipTO, userTO);\n+                                getPage().getPageReference(),\n+                                membershipWin,\n+                                membershipTO);\n                     }\n                 });\n                 membershipWin.show(target);\n             }\n         };\n \n+        tree.setOutputMarkupId(true);\n         tree.getTreeState().expandAll();\n-        tree.updateTree();\n \n         add(tree);\n \n         ListView<MembershipTO> membershipsView = new ListView<MembershipTO>(\n                 \"memberships\", new PropertyModel<List<? extends MembershipTO>>(\n                 userTO, \"memberships\")) {\n \n+            private static final long serialVersionUID = 9101744072914090143L;\n+\n             @Override\n             protected void populateItem(final ListItem item) {\n                 final MembershipTO membershipTO =\n@@ -112,20 +132,23 @@ protected void populateItem(final ListItem item) {\n \n                 AjaxLink editLink = new IndicatingAjaxLink(\"editLink\") {\n \n+                    private static final long serialVersionUID =\n+                            -7978723352517770644L;\n+\n                     @Override\n                     public void onClick(AjaxRequestTarget target) {\n                         membershipWin.setPageCreator(\n                                 new ModalWindow.PageCreator() {\n \n+                                    private static final long serialVersionUID =\n+                                            -7834632442532690940L;\n+\n                                     @Override\n                                     public Page createPage() {\n-                                        MembershipModalPage window =\n-                                                new MembershipModalPage(\n+                                        return new MembershipModalPage(\n+                                                getPage().getPageReference(),\n                                                 membershipWin,\n-                                                membershipTO,\n-                                                userTO);\n-\n-                                        return window;\n+                                                membershipTO);\n \n                                     }\n                                 });\n@@ -137,6 +160,9 @@ public Page createPage() {\n                 AjaxLink deleteLink = new IndicatingDeleteOnConfirmAjaxLink(\n                         \"deleteLink\") {\n \n+                    private static final long serialVersionUID =\n+                            -7978723352517770644L;\n+\n                     @Override\n                     public void onClick(final AjaxRequestTarget target) {\n                         userTO.removeMembership(membershipTO);\n@@ -147,10 +173,7 @@ public void onClick(final AjaxRequestTarget target) {\n             }\n         };\n \n-        membershipsContainer = new WebMarkupContainer(\"membershipsContainer\");\n         membershipsContainer.add(membershipsView);\n-        membershipsContainer.setOutputMarkupId(true);\n-        add(membershipsContainer);\n \n         setWindowClosedCallback(membershipWin, membershipsContainer);\n     }\n@@ -171,14 +194,23 @@ private String getRoleName(long roleId, List<RoleTO> roles) {\n         return result;\n     }\n \n-    private void setWindowClosedCallback(final ModalWindow window,\n+    private void setWindowClosedCallback(\n+            final ModalWindow window,\n             final WebMarkupContainer container) {\n \n         window.setWindowClosedCallback(\n                 new ModalWindow.WindowClosedCallback() {\n \n+                    private static final long serialVersionUID =\n+                            8804221891699487139L;\n+\n                     @Override\n                     public void onClose(final AjaxRequestTarget target) {\n+\n+                        final AbstractBaseBean bean =\n+                                ((UserModalPage) getPage()).getBean();\n+\n+                        userTO.setMemberships(((UserTO) bean).getMemberships());\n                         target.add(container);\n                     }\n                 });"},{"sha":"83ef00791b8c64fa0dfbc708393a9da4d5d1d724","filename":"console/src/test/java/org/syncope/console/AbstractTest.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fconsole%2FAbstractTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c67b22d2d71817333a4fdb83f817a67dd87698d1/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fconsole%2FAbstractTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fconsole%2FAbstractTest.java?ref=c67b22d2d71817333a4fdb83f817a67dd87698d1","patch":"@@ -13,7 +13,6 @@\n  */\n package org.syncope.console;\n \n-import com.thoughtworks.selenium.DefaultSelenium;\n import com.thoughtworks.selenium.SeleneseTestCase;\n import org.junit.After;\n import org.junit.Before;"}]}
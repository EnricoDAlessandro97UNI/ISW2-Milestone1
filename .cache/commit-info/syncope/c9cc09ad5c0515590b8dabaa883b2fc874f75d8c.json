{"sha":"c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","node_id":"C_kwDOJfYA1toAKGM5Y2MwOWFkNWMwNTE1NTkwYjhkYWJhYTg4M2IyZmM4NzRmNzVkOGM","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2022-09-02T09:28:35Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2022-09-02T09:28:35Z"},"message":"[SYNCOPE-1694] ImplementationManager in its own package","tree":{"sha":"d256033e0d73b881741686a6f24d6960aebbd3d0","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/d256033e0d73b881741686a6f24d6960aebbd3d0"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"5119be8c2506d5aaa0965dd085a01756fbd3c91a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5119be8c2506d5aaa0965dd085a01756fbd3c91a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/5119be8c2506d5aaa0965dd085a01756fbd3c91a"}],"stats":{"total":149,"additions":87,"deletions":62},"files":[{"sha":"813c7e7301e8e67c642979e5a0f3630b17127f4c","filename":"core/idrepo/logic/src/main/java/org/apache/syncope/core/logic/AbstractAnyLogic.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAbstractAnyLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAbstractAnyLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAbstractAnyLogic.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -41,7 +41,7 @@\n import org.apache.syncope.core.persistence.api.entity.Realm;\n import org.apache.syncope.core.provisioning.api.LogicActions;\n import org.apache.syncope.core.provisioning.java.utils.TemplateUtils;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n \n public abstract class AbstractAnyLogic<TO extends AnyTO, C extends AnyCR, U extends AnyUR>\n         extends AbstractResourceAssociator<TO> {"},{"sha":"cc901cd51a86ecbecf6a61f077b4618b9d3a860e","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/attrvalue/validation/DefaultPlainAttrValidationManager.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fattrvalue%2Fvalidation%2FDefaultPlainAttrValidationManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fattrvalue%2Fvalidation%2FDefaultPlainAttrValidationManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fattrvalue%2Fvalidation%2FDefaultPlainAttrValidationManager.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -24,7 +24,7 @@\n import org.apache.syncope.core.persistence.api.attrvalue.validation.PlainAttrValueValidator;\n import org.apache.syncope.core.persistence.api.entity.PlainAttrValue;\n import org.apache.syncope.core.persistence.api.entity.PlainSchema;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n "},{"sha":"be986811140ecf3d7fc866906d0a5ef537bf1c8b","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/dao/JPAImplementationDAO.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAImplementationDAO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAImplementationDAO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAImplementationDAO.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -23,7 +23,7 @@\n import org.apache.syncope.core.persistence.api.dao.ImplementationDAO;\n import org.apache.syncope.core.persistence.api.entity.Implementation;\n import org.apache.syncope.core.persistence.jpa.entity.JPAImplementation;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.springframework.transaction.annotation.Transactional;\n \n public class JPAImplementationDAO extends AbstractDAO<Implementation> implements ImplementationDAO {"},{"sha":"03ad7c92e4497d52423ef8c4426c112651b6baa8","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/dao/JPAUserDAO.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAUserDAO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAUserDAO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAUserDAO.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -70,7 +70,7 @@\n import org.apache.syncope.core.persistence.jpa.entity.user.JPAUMembership;\n import org.apache.syncope.core.persistence.jpa.entity.user.JPAUser;\n import org.apache.syncope.core.provisioning.api.utils.RealmUtils;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.apache.syncope.core.spring.policy.AccountPolicyException;\n import org.apache.syncope.core.spring.policy.PasswordPolicyException;\n import org.apache.syncope.core.spring.security.AuthContextUtils;"},{"sha":"f519390e206c0cfe7fb00a4f6d7c6ede2f7dde42","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/TaskJob.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FTaskJob.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FTaskJob.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FTaskJob.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -25,7 +25,7 @@\n import org.apache.syncope.core.provisioning.api.job.JobManager;\n import org.apache.syncope.core.provisioning.api.job.SchedTaskJobDelegate;\n import org.apache.syncope.core.spring.ApplicationContextProvider;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.apache.syncope.core.spring.security.AuthContextUtils;\n import org.quartz.JobExecutionContext;\n import org.quartz.JobExecutionException;"},{"sha":"b2183d0979ea82d7d4ccf4940e7f1636d0e28e1c","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/DefaultReportJobDelegate.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FDefaultReportJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FDefaultReportJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FDefaultReportJobDelegate.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -44,7 +44,7 @@\n import org.apache.syncope.core.persistence.api.entity.ReportExec;\n import org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate;\n import org.apache.syncope.core.provisioning.api.utils.ExceptionUtils2;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.quartz.JobExecutionException;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;"},{"sha":"229f83f78242de9ea337dd5b969c5a80f3a31007","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/notification/DefaultNotificationManager.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fnotification%2FDefaultNotificationManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fnotification%2FDefaultNotificationManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fnotification%2FDefaultNotificationManager.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -75,7 +75,7 @@\n import org.apache.syncope.core.provisioning.api.jexl.JexlUtils;\n import org.apache.syncope.core.provisioning.api.notification.NotificationManager;\n import org.apache.syncope.core.provisioning.api.notification.RecipientsProvider;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.transaction.annotation.Transactional;"},{"sha":"733da0b7a94b08b8b63a307d7af3ea101fdf3a05","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/AbstractPropagationTaskExecutor.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FAbstractPropagationTaskExecutor.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FAbstractPropagationTaskExecutor.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FAbstractPropagationTaskExecutor.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -17,7 +17,6 @@\n  * under the License.\n  */\n package org.apache.syncope.core.provisioning.java.propagation;\n-\n import java.time.OffsetDateTime;\n import java.util.ArrayList;\n import java.util.Collections;\n@@ -70,7 +69,7 @@\n import org.apache.syncope.core.provisioning.java.pushpull.OutboundMatcher;\n import org.apache.syncope.core.provisioning.java.utils.ConnObjectUtils;\n import org.apache.syncope.core.provisioning.java.utils.MappingUtils;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.apache.syncope.core.spring.security.AuthContextUtils;\n import org.identityconnectors.framework.common.exceptions.ConnectorException;\n import org.identityconnectors.framework.common.objects.Attribute;"},{"sha":"284ff0f4261704f57feba2781e9e036bced842dd","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/AbstractProvisioningJobDelegate.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FAbstractProvisioningJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FAbstractProvisioningJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FAbstractProvisioningJobDelegate.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -40,7 +40,7 @@\n import org.apache.syncope.core.provisioning.api.ProvisionSorter;\n import org.apache.syncope.core.provisioning.java.job.AbstractSchedTaskJobDelegate;\n import org.apache.syncope.core.provisioning.java.job.TaskJob;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.quartz.JobExecutionContext;\n import org.quartz.JobExecutionException;\n import org.springframework.beans.factory.annotation.Autowired;"},{"sha":"3ca42deca6b4965d50ffe1a811fb2094e5f93688","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/InboundMatcher.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FInboundMatcher.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FInboundMatcher.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FInboundMatcher.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -64,7 +64,7 @@\n import org.apache.syncope.core.provisioning.api.VirAttrHandler;\n import org.apache.syncope.core.provisioning.api.data.ItemTransformer;\n import org.apache.syncope.core.provisioning.java.utils.MappingUtils;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.identityconnectors.framework.common.objects.Attribute;\n import org.identityconnectors.framework.common.objects.AttributeUtil;\n import org.identityconnectors.framework.common.objects.ConnectorObject;"},{"sha":"0d20222ec0704496c995d9bce8636a4f20e4604c","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/OutboundMatcher.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FOutboundMatcher.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FOutboundMatcher.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FOutboundMatcher.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -47,7 +47,7 @@\n import org.apache.syncope.core.provisioning.api.propagation.PropagationActions;\n import org.apache.syncope.core.provisioning.api.propagation.PropagationTaskInfo;\n import org.apache.syncope.core.provisioning.java.utils.MappingUtils;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.identityconnectors.framework.common.objects.AttributeBuilder;\n import org.identityconnectors.framework.common.objects.ConnectorObject;\n import org.identityconnectors.framework.common.objects.ObjectClass;"},{"sha":"5b74e44abcecf961aac96591141ccc0de1c47848","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/PullJobDelegate.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FPullJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FPullJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FPullJobDelegate.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -63,7 +63,7 @@\n import org.apache.syncope.core.provisioning.java.utils.ConnObjectUtils;\n import org.apache.syncope.core.provisioning.java.utils.MappingUtils;\n import org.apache.syncope.core.spring.ApplicationContextProvider;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.identityconnectors.framework.common.objects.Name;\n import org.identityconnectors.framework.common.objects.ObjectClass;\n import org.identityconnectors.framework.common.objects.OperationOptions;"},{"sha":"124a1890592bb5f253fe75de8f0a237e48675e04","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/PushJobDelegate.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FPushJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FPushJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FPushJobDelegate.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -58,7 +58,7 @@\n import org.apache.syncope.core.provisioning.api.pushpull.SyncopePushResultHandler;\n import org.apache.syncope.core.provisioning.api.pushpull.UserPushResultHandler;\n import org.apache.syncope.core.spring.ApplicationContextProvider;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.quartz.JobExecutionContext;\n import org.quartz.JobExecutionException;\n import org.springframework.beans.factory.annotation.Autowired;"},{"sha":"a650bc2047e9a6c851820202198fb094dfe59c9a","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/utils/MappingUtils.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Futils%2FMappingUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Futils%2FMappingUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Futils%2FMappingUtils.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -37,7 +37,7 @@\n import org.apache.syncope.core.provisioning.api.data.JEXLItemTransformer;\n import org.apache.syncope.core.provisioning.java.data.JEXLItemTransformerImpl;\n import org.apache.syncope.core.spring.ApplicationContextProvider;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.identityconnectors.framework.common.objects.Name;\n import org.identityconnectors.framework.common.objects.OperationOptions;\n import org.identityconnectors.framework.common.objects.OperationOptionsBuilder;"},{"sha":"e00da5d9dfbc8fd11e13f0461d5fd548cd7d52c9","filename":"core/spring/src/main/java/org/apache/syncope/core/spring/implementation/ImplementationManager.java","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fimplementation%2FImplementationManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fimplementation%2FImplementationManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fimplementation%2FImplementationManager.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.spring;\n+package org.apache.syncope.core.spring.implementation;\n \n import groovy.lang.GroovyClassLoader;\n import java.util.Collections;\n@@ -39,8 +39,7 @@\n import org.apache.syncope.core.persistence.api.dao.Reportlet;\n import org.apache.syncope.core.persistence.api.entity.Implementation;\n import org.apache.syncope.core.provisioning.api.serialization.POJOHelper;\n-import org.apache.syncope.core.spring.implementation.InstanceScope;\n-import org.apache.syncope.core.spring.implementation.SyncopeImplementation;\n+import org.apache.syncope.core.spring.ApplicationContextProvider;\n import org.springframework.beans.factory.support.AbstractBeanDefinition;\n \n public final class ImplementationManager {"},{"sha":"9cc98cc5bbc753deaf7dd1cb8b8ad418fa76ca7d","filename":"core/spring/src/main/java/org/apache/syncope/core/spring/security/DefaultPasswordGenerator.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FDefaultPasswordGenerator.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FDefaultPasswordGenerator.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FDefaultPasswordGenerator.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -28,7 +28,7 @@\n import org.apache.syncope.core.persistence.api.entity.ExternalResource;\n import org.apache.syncope.core.persistence.api.entity.Implementation;\n import org.apache.syncope.core.persistence.api.entity.policy.PasswordPolicy;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.apache.syncope.core.spring.policy.DefaultPasswordRule;\n import org.passay.CharacterRule;\n import org.passay.EnglishCharacterData;"},{"sha":"7ddf5051c4dcd9a5f220a58e5f33db77b2eefacc","filename":"core/spring/src/test/java/org/apache/syncope/core/spring/implementation/ImplementationManagerTest.java","status":"renamed","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fspring%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fimplementation%2FImplementationManagerTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fspring%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fimplementation%2FImplementationManagerTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fspring%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fimplementation%2FImplementationManagerTest.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.spring;\n+package org.apache.syncope.core.spring.implementation;\n \n import static org.junit.jupiter.api.Assertions.assertTimeoutPreemptively;\n import static org.junit.jupiter.api.Assertions.assertTrue;\n@@ -30,6 +30,8 @@\n import java.util.stream.Collectors;\n import org.apache.syncope.common.lib.policy.DefaultPasswordRuleConf;\n import org.apache.syncope.core.provisioning.api.serialization.POJOHelper;\n+import org.apache.syncope.core.spring.SpringTestConfiguration;\n+import org.apache.syncope.core.spring.SpringTestConfiguration;\n import org.apache.syncope.core.spring.security.TestImplementation;\n import org.junit.jupiter.api.Test;\n import org.springframework.test.context.junit.jupiter.SpringJUnitConfig;","previous_filename":"core/spring/src/test/java/org/apache/syncope/core/spring/ImplementationManagerTest.java"},{"sha":"576b5a3686bf525645bbe46a3b0e40066a5a4b3e","filename":"core/spring/src/test/java/org/apache/syncope/core/spring/security/PasswordGeneratorTest.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fspring%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FPasswordGeneratorTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/core%2Fspring%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FPasswordGeneratorTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fspring%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FPasswordGeneratorTest.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -24,8 +24,8 @@\n import java.util.List;\n import org.apache.syncope.common.lib.policy.DefaultPasswordRuleConf;\n import org.apache.syncope.core.provisioning.api.serialization.POJOHelper;\n-import org.apache.syncope.core.spring.ImplementationManagerTest;\n import org.apache.syncope.core.spring.SpringTestConfiguration;\n+import org.apache.syncope.core.spring.implementation.ImplementationManagerTest;\n import org.junit.jupiter.api.Test;\n import org.springframework.test.context.junit.jupiter.SpringJUnitConfig;\n "},{"sha":"36c5f6b0ecc6b97cdf04b73cba8906c810ff4d9e","filename":"ext/oidcc4ui/logic/src/main/java/org/apache/syncope/core/logic/oidc/OIDCUserManager.java","status":"modified","additions":13,"deletions":5,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/ext%2Foidcc4ui%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Foidc%2FOIDCUserManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/ext%2Foidcc4ui%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Foidc%2FOIDCUserManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Foidcc4ui%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Foidc%2FOIDCUserManager.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -21,8 +21,10 @@\n import java.text.ParseException;\n import java.util.ArrayList;\n import java.util.List;\n+import java.util.Map;\n import java.util.Objects;\n import java.util.Optional;\n+import java.util.concurrent.ConcurrentHashMap;\n import java.util.stream.Collectors;\n import org.apache.commons.lang3.SerializationUtils;\n import org.apache.commons.lang3.tuple.Pair;\n@@ -51,7 +53,7 @@\n import org.apache.syncope.core.provisioning.java.pushpull.InboundMatcher;\n import org.apache.syncope.core.provisioning.java.utils.MappingUtils;\n import org.apache.syncope.core.provisioning.java.utils.TemplateUtils;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.transaction.annotation.Propagation;\n@@ -61,7 +63,7 @@ public class OIDCUserManager {\n \n     protected static final Logger LOG = LoggerFactory.getLogger(OIDCUserManager.class);\n \n-    protected static final String OIDC_CLIENT_CONTEXT = \"ODIC Client\";\n+    protected static final String OIDC_CLIENT_CONTEXT = \"OIDC Client\";\n \n     protected final InboundMatcher inboundMatcher;\n \n@@ -77,6 +79,8 @@ public class OIDCUserManager {\n \n     protected final UserDataBinder binder;\n \n+    protected final Map<String, OIDCC4UIProviderActions> perContextActions = new ConcurrentHashMap<>();\n+\n     public OIDCUserManager(\n             final InboundMatcher inboundMatcher,\n             final UserDAO userDAO,\n@@ -108,16 +112,20 @@ public List<String> findMatchingUser(\n     }\n \n     protected List<OIDCC4UIProviderActions> getActions(final OIDCC4UIProvider op) {\n-        List<OIDCC4UIProviderActions> actions = new ArrayList<>();\n+        List<OIDCC4UIProviderActions> result = new ArrayList<>();\n+\n         op.getActions().forEach(impl -> {\n             try {\n-                actions.add(ImplementationManager.build(impl));\n+                result.add(ImplementationManager.build(\n+                        impl,\n+                        () -> perContextActions.get(impl.getKey()),\n+                        instance -> perContextActions.put(impl.getKey(), instance)));\n             } catch (Exception e) {\n                 LOG.warn(\"While building {}\", impl, e);\n             }\n         });\n \n-        return actions;\n+        return result;\n     }\n \n     protected List<Implementation> getTransformers(final Item item) {"},{"sha":"b4344ecac8bdf0db239b2fab1928bf79e2c46f25","filename":"ext/saml2sp4ui/logic/src/main/java/org/apache/syncope/core/logic/SAML2SP4UILogic.java","status":"modified","additions":41,"deletions":32,"changes":73,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/ext%2Fsaml2sp4ui%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FSAML2SP4UILogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/ext%2Fsaml2sp4ui%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FSAML2SP4UILogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fsaml2sp4ui%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FSAML2SP4UILogic.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -53,11 +53,12 @@\n import org.apache.syncope.core.logic.saml2.SAML2SP4UIUserManager;\n import org.apache.syncope.core.persistence.api.dao.NotFoundException;\n import org.apache.syncope.core.persistence.api.dao.SAML2SP4UIIdPDAO;\n+import org.apache.syncope.core.persistence.api.entity.Implementation;\n import org.apache.syncope.core.persistence.api.entity.SAML2SP4UIIdP;\n import org.apache.syncope.core.provisioning.api.RequestedAuthnContextProvider;\n import org.apache.syncope.core.provisioning.api.data.AccessTokenDataBinder;\n import org.apache.syncope.core.provisioning.api.serialization.POJOHelper;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.apache.syncope.core.spring.security.AuthContextUtils;\n import org.apache.syncope.core.spring.security.AuthDataAccessor;\n import org.apache.syncope.core.spring.security.Encryptor;\n@@ -115,6 +116,8 @@ public class SAML2SP4UILogic extends AbstractTransactionalLogic<EntityTO> {\n \n     protected final Map<String, String> metadataCache = new ConcurrentHashMap<>();\n \n+    protected final Map<String, RequestedAuthnContextProvider> perContextRACP = new ConcurrentHashMap<>();\n+\n     public SAML2SP4UILogic(\n             final SAML2SP4UILoader loader,\n             final AccessTokenDataBinder accessTokenDataBinder,\n@@ -193,7 +196,7 @@ public void getMetadata(final String spEntityID, final String urlContext, final\n             }\n         }\n \n-        try (OutputStreamWriter osw = new OutputStreamWriter(os)) {\n+        try ( OutputStreamWriter osw = new OutputStreamWriter(os)) {\n             osw.write(metadata);\n         } catch (Exception e) {\n             LOG.error(\"While getting SP metadata\", e);\n@@ -235,6 +238,22 @@ protected static SAML2Request buildRequest(final String idpEntityID, final Redir\n         return requestTO;\n     }\n \n+    protected Optional<RequestedAuthnContextProvider> getRequestedAuthnContextProvider(final SAML2SP4UIIdP idp) {\n+        Implementation impl = idp.getRequestedAuthnContextProvider();\n+        if (impl != null) {\n+            try {\n+                return Optional.of(ImplementationManager.build(\n+                        impl,\n+                        () -> perContextRACP.get(impl.getKey()),\n+                        instance -> perContextRACP.put(impl.getKey(), instance)));\n+            } catch (Exception e) {\n+                LOG.warn(\"Cannot instantiate '{}', reverting to default behavior\", impl, e);\n+            }\n+        }\n+\n+        return Optional.empty();\n+    }\n+\n     @PreAuthorize(\"hasRole('\" + IdRepoEntitlement.ANONYMOUS + \"')\")\n     public SAML2Request createLoginRequest(\n             final String spEntityID,\n@@ -250,37 +269,27 @@ public SAML2Request createLoginRequest(\n         // 1. look for configured client\n         SAML2Client saml2Client = getSAML2Client(idp, spEntityID, urlContext);\n \n-        if (idp.getRequestedAuthnContextProvider() != null) {\n-            RequestedAuthnContextProvider requestedAuthnContextProvider = null;\n-            try {\n-                requestedAuthnContextProvider = ImplementationManager.build(idp.getRequestedAuthnContextProvider());\n-            } catch (Exception e) {\n-                LOG.warn(\"Cannot instantiate '{}', reverting to default behavior\",\n-                        idp.getRequestedAuthnContextProvider(), e);\n-            }\n+        getRequestedAuthnContextProvider(idp).ifPresent(requestedAuthnContextProvider -> {\n+            RequestedAuthnContext requestedAuthnContext = requestedAuthnContextProvider.get();\n+            saml2Client.setRedirectionActionBuilder(new SAML2RedirectionActionBuilder(saml2Client) {\n \n-            if (requestedAuthnContextProvider != null) {\n-                RequestedAuthnContext requestedAuthnContext = requestedAuthnContextProvider.get();\n-                saml2Client.setRedirectionActionBuilder(new SAML2RedirectionActionBuilder(saml2Client) {\n-\n-                    @Override\n-                    public Optional<RedirectionAction> getRedirectionAction(\n-                            final WebContext wc, final SessionStore sessionStore) {\n-\n-                        this.saml2ObjectBuilder = new SAML2AuthnRequestBuilder() {\n-\n-                            @Override\n-                            public AuthnRequest build(final SAML2MessageContext context) {\n-                                AuthnRequest authnRequest = super.build(context);\n-                                authnRequest.setRequestedAuthnContext(requestedAuthnContext);\n-                                return authnRequest;\n-                            }\n-                        };\n-                        return super.getRedirectionAction(wc, sessionStore);\n-                    }\n-                });\n-            }\n-        }\n+                @Override\n+                public Optional<RedirectionAction> getRedirectionAction(\n+                        final WebContext wc, final SessionStore sessionStore) {\n+\n+                    this.saml2ObjectBuilder = new SAML2AuthnRequestBuilder() {\n+\n+                        @Override\n+                        public AuthnRequest build(final SAML2MessageContext context) {\n+                            AuthnRequest authnRequest = super.build(context);\n+                            authnRequest.setRequestedAuthnContext(requestedAuthnContext);\n+                            return authnRequest;\n+                        }\n+                    };\n+                    return super.getRedirectionAction(wc, sessionStore);\n+                }\n+            });\n+        });\n \n         // 2. create AuthnRequest\n         SAML2SP4UIContext ctx = new SAML2SP4UIContext("},{"sha":"c7ab14d98ad38d1da6087764bef7ff65f9f8face","filename":"ext/saml2sp4ui/logic/src/main/java/org/apache/syncope/core/logic/saml2/SAML2SP4UIUserManager.java","status":"modified","additions":12,"deletions":4,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/ext%2Fsaml2sp4ui%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Fsaml2%2FSAML2SP4UIUserManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c9cc09ad5c0515590b8dabaa883b2fc874f75d8c/ext%2Fsaml2sp4ui%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Fsaml2%2FSAML2SP4UIUserManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fsaml2sp4ui%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Fsaml2%2FSAML2SP4UIUserManager.java?ref=c9cc09ad5c0515590b8dabaa883b2fc874f75d8c","patch":"@@ -22,8 +22,10 @@\n import java.util.ArrayList;\n import java.util.Collections;\n import java.util.List;\n+import java.util.Map;\n import java.util.Objects;\n import java.util.Optional;\n+import java.util.concurrent.ConcurrentHashMap;\n import java.util.stream.Collectors;\n import org.apache.commons.lang3.SerializationUtils;\n import org.apache.commons.lang3.tuple.Pair;\n@@ -53,7 +55,7 @@\n import org.apache.syncope.core.provisioning.java.pushpull.InboundMatcher;\n import org.apache.syncope.core.provisioning.java.utils.MappingUtils;\n import org.apache.syncope.core.provisioning.java.utils.TemplateUtils;\n-import org.apache.syncope.core.spring.ImplementationManager;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.transaction.annotation.Propagation;\n@@ -81,6 +83,8 @@ public class SAML2SP4UIUserManager {\n \n     protected final UserDataBinder binder;\n \n+    protected final Map<String, SAML2SP4UIIdPActions> perContextActions = new ConcurrentHashMap<>();\n+\n     public SAML2SP4UIUserManager(\n             final SAML2SP4UIIdPDAO idpDAO,\n             final InboundMatcher inboundMatcher,\n@@ -120,16 +124,20 @@ public List<String> findMatchingUser(final String connObjectKeyValue, final Stri\n     }\n \n     protected List<SAML2SP4UIIdPActions> getActions(final SAML2SP4UIIdP idp) {\n-        List<SAML2SP4UIIdPActions> actions = new ArrayList<>();\n+        List<SAML2SP4UIIdPActions> result = new ArrayList<>();\n+\n         idp.getActions().forEach(impl -> {\n             try {\n-                actions.add(ImplementationManager.build(impl));\n+                result.add(ImplementationManager.build(\n+                        impl,\n+                        () -> perContextActions.get(impl.getKey()),\n+                        instance -> perContextActions.put(impl.getKey(), instance)));\n             } catch (Exception e) {\n                 LOG.warn(\"While building {}\", impl, e);\n             }\n         });\n \n-        return actions;\n+        return result;\n     }\n \n     protected List<Implementation> getTransformers(final Item item) {"}]}
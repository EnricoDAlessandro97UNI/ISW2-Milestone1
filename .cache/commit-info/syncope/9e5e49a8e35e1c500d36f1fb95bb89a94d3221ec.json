{"sha":"9e5e49a8e35e1c500d36f1fb95bb89a94d3221ec","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjllNWU0OWE4ZTM1ZTFjNTAwZDM2ZjFmYjk1YmI4OWE5NGQzMjIxZWM=","commit":{"author":{"name":"Massimiliano Perrone","email":"massi@apache.org","date":"2013-06-03T18:21:57Z"},"committer":{"name":"Massimiliano Perrone","email":"massi@apache.org","date":"2013-06-03T18:21:57Z"},"message":"Builder instead of constructors\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1489092 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"f51137e5db0b45666ddf585ca5e850de7e8ec64e","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/f51137e5db0b45666ddf585ca5e850de7e8ec64e"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/9e5e49a8e35e1c500d36f1fb95bb89a94d3221ec","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/9e5e49a8e35e1c500d36f1fb95bb89a94d3221ec","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/9e5e49a8e35e1c500d36f1fb95bb89a94d3221ec","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/9e5e49a8e35e1c500d36f1fb95bb89a94d3221ec/comments","author":null,"committer":null,"parents":[{"sha":"678165e1ace759fab0bf6e8818581e08ca45d0c3","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/678165e1ace759fab0bf6e8818581e08ca45d0c3","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/678165e1ace759fab0bf6e8818581e08ca45d0c3"},{"sha":"bbbbb860180d52eee91a0fc119bdbbec557260fa","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bbbbb860180d52eee91a0fc119bdbbec557260fa","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/bbbbb860180d52eee91a0fc119bdbbec557260fa"}],"stats":{"total":94,"additions":59,"deletions":35},"files":[{"sha":"f449ebc2c83d4ba92581ec3a3738005f5011ef73","filename":"console/src/main/java/org/apache/syncope/console/pages/Roles.java","status":"modified","additions":5,"deletions":4,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9e5e49a8e35e1c500d36f1fb95bb89a94d3221ec/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoles.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9e5e49a8e35e1c500d36f1fb95bb89a94d3221ec/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoles.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoles.java?ref=9e5e49a8e35e1c500d36f1fb95bb89a94d3221ec","patch":"@@ -67,8 +67,8 @@ public Roles(final PageParameters parameters) {\n         treePanel.setOutputMarkupId(true);\n         add(treePanel);\n \n-        final RoleSummaryPanel summaryPanel = new RoleSummaryPanel(\"summaryPanel\", editRoleWin,\n-                Roles.this.getPageReference());\n+        final RoleSummaryPanel summaryPanel = new RoleSummaryPanel.Builder(\"summaryPanel\")\n+                .window(editRoleWin).callerPageRef(Roles.this.getPageReference()).build();\n         add(summaryPanel);\n \n         editRoleWin.setWindowClosedCallback(new ModalWindow.WindowClosedCallback() {\n@@ -144,8 +144,9 @@ public void onEvent(final IEvent<?> event) {\n         if (event.getPayload() instanceof TreeNodeClickUpdate) {\n             final TreeNodeClickUpdate update = (TreeNodeClickUpdate) event.getPayload();\n \n-            final RoleSummaryPanel summaryPanel = new RoleSummaryPanel(\"summaryPanel\", editRoleWin,\n-                    Roles.this.getPageReference(), update.getSelectedNodeId());\n+            final RoleSummaryPanel summaryPanel = new RoleSummaryPanel.Builder(\"summaryPanel\")\n+                    .window(editRoleWin).callerPageRef(Roles.this.getPageReference())\n+                    .selectedNodeId(update.getSelectedNodeId()).build();\n \n             addOrReplace(summaryPanel);\n             update.getTarget().add(this);"},{"sha":"6d02e544f3b7959c71d4e06ea0c238414179f674","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/RoleSummaryPanel.java","status":"modified","additions":45,"deletions":20,"changes":65,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9e5e49a8e35e1c500d36f1fb95bb89a94d3221ec/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleSummaryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9e5e49a8e35e1c500d36f1fb95bb89a94d3221ec/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleSummaryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleSummaryPanel.java?ref=9e5e49a8e35e1c500d36f1fb95bb89a94d3221ec","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.console.pages.panels;\n \n+import java.io.Serializable;\n import org.apache.syncope.common.to.RoleTO;\n import org.apache.syncope.common.validation.SyncopeClientCompositeErrorException;\n import org.apache.syncope.console.rest.RoleRestClient;\n@@ -51,44 +52,68 @@ public class RoleSummaryPanel extends Panel {\n \n     private TreeActionLinkPanel actionLink;\n \n-    private final PageReference callerPageRef;\n+    public static class Builder implements Serializable {\n \n-    private final ModalWindow window;\n+        private static final long serialVersionUID = 8150440254654306070L;\n \n-    public RoleSummaryPanel(final String id, final ModalWindow window, final PageReference callerPageRef) {\n-        this(id, window, callerPageRef, null);\n-    }\n+        private String id;\n+\n+        private ModalWindow window;\n+\n+        private PageReference callerPageRef;\n+\n+        private Long selectedNodeId = null;\n \n-    public RoleSummaryPanel(final String id, final ModalWindow window, final PageReference callerPageRef,\n-            Long selectedNodeId) {\n+        public Builder(final String id) {\n+            this.id = id;\n+        }\n+\n+        public RoleSummaryPanel.Builder window(final ModalWindow window) {\n+            this.window = window;\n+            return this;\n+        }\n \n-        super(id);\n+        public RoleSummaryPanel.Builder callerPageRef(final PageReference callerPageRef) {\n+            this.callerPageRef = callerPageRef;\n+            return this;\n+        }\n+\n+        public RoleSummaryPanel.Builder selectedNodeId(final Long selectedNodeId) {\n+            this.selectedNodeId = selectedNodeId;\n+            return this;\n+        }\n+\n+        public RoleSummaryPanel build() {\n+            return new RoleSummaryPanel(this);\n+        }\n+    }\n \n-        this.callerPageRef = callerPageRef;\n-        this.window = window;\n+    private RoleSummaryPanel(final Builder builder) {\n+        super(builder.id);\n \n-        if (selectedNodeId == null || selectedNodeId == 0) {\n+        if (builder.selectedNodeId == null || builder.selectedNodeId == 0) {\n             this.selectedNode = null;\n         } else {\n             try {\n-                this.selectedNode = restClient.read(selectedNodeId);\n+                this.selectedNode = restClient.read(builder.selectedNodeId);\n             } catch (SyncopeClientCompositeErrorException e) {\n-                LOG.error(\"Could not read {}\", selectedNodeId, e);\n+                LOG.error(\"Could not read {}\", builder.selectedNodeId, e);\n                 this.selectedNode = null;\n-                selectedNodeId = null;\n+                builder.selectedNodeId = null;\n             }\n         }\n \n-        fragment = new Fragment(\"roleSummaryPanel\", selectedNodeId == null ? \"fakerootFrag\"\n-                : (selectedNodeId == 0 ? \"rootPanel\" : \"roleViewPanel\"), this);\n+        fragment = new Fragment(\"roleSummaryPanel\", builder.selectedNodeId == null ? \"fakerootFrag\"\n+                : (builder.selectedNodeId == 0 ? \"rootPanel\" : \"roleViewPanel\"), this);\n \n-        if (selectedNodeId != null) {\n-            if (selectedNodeId == 0) {\n-                actionLink = new TreeActionLinkPanel(\"actionLink\", selectedNodeId, new Model(), window, callerPageRef);\n+        if (builder.selectedNodeId != null) {\n+            if (builder.selectedNodeId == 0) {\n+                actionLink = new TreeActionLinkPanel(\"actionLink\", builder.selectedNodeId, new Model(),\n+                        builder.window, builder.callerPageRef);\n                 actionLink.setOutputMarkupId(true);\n                 fragment.add(actionLink);\n             } else {\n-                roleTabPanel = new RoleTabPanel(\"nodeViewPanel\", selectedNode, window, callerPageRef);\n+                roleTabPanel = new RoleTabPanel(\"nodeViewPanel\", selectedNode, builder.window, builder.callerPageRef);\n                 roleTabPanel.setOutputMarkupId(true);\n                 fragment.add(roleTabPanel);\n             }"},{"sha":"14597a80f8de1134af96ae87269867a77e70e76e","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/StatusPanel.java","status":"modified","additions":9,"deletions":11,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9e5e49a8e35e1c500d36f1fb95bb89a94d3221ec/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FStatusPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9e5e49a8e35e1c500d36f1fb95bb89a94d3221ec/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FStatusPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FStatusPanel.java?ref=9e5e49a8e35e1c500d36f1fb95bb89a94d3221ec","patch":"@@ -165,39 +165,33 @@ protected void populateItem(final ListItem<StatusBean> item) {\n                 switch (item.getModelObject().getStatus()) {\n \n                     case NOT_YET_SUBMITTED:\n-                        image = new Image(\"icon\", IMG_STATUES + StatusUtils.Status.UNDEFINED.toString()\n-                                + Constants.PNG_EXT);\n+                        image = newImage(StatusUtils.Status.UNDEFINED.toString());\n                         alt = \"undefined icon\";\n                         title = \"Not yet submitted\";\n                         break;\n \n                     case ACTIVE:\n-                        image = new Image(\"icon\", IMG_STATUES + StatusUtils.Status.ACTIVE.toString()\n-                                + Constants.PNG_EXT);\n+                        image = newImage(StatusUtils.Status.ACTIVE.toString());\n                         alt = \"active icon\";\n                         title = \"Enabled\";\n                         break;\n \n                     case UNDEFINED:\n-                        image = new Image(\"icon\", IMG_STATUES + StatusUtils.Status.UNDEFINED.toString()\n-                                + Constants.PNG_EXT);\n+                        image = newImage(StatusUtils.Status.UNDEFINED.toString());\n                         checkVisibility = false;\n                         alt = \"undefined icon\";\n                         title = \"Undefined status\";\n                         break;\n \n                     case OBJECT_NOT_FOUND:\n-                        image =\n-                                new Image(\"icon\", IMG_STATUES + StatusUtils.Status.OBJECT_NOT_FOUND.toString()\n-                                + Constants.PNG_EXT);\n+                        image = newImage(StatusUtils.Status.OBJECT_NOT_FOUND.toString());\n                         checkVisibility = false;\n                         alt = \"notfound icon\";\n                         title = \"User not found\";\n                         break;\n \n                     default:\n-                        image = new Image(\"icon\", IMG_STATUES + StatusUtils.Status.SUSPENDED.toString()\n-                                + Constants.PNG_EXT);\n+                        image = newImage(StatusUtils.Status.SUSPENDED.toString());\n                         alt = \"inactive icon\";\n                         title = \"Disabled\";\n                 }\n@@ -267,6 +261,10 @@ public Page createPage() {\n         checkGroup.add(statusBeansListView);\n     }\n \n+    private Image newImage(final String imageStatus) {\n+        return new Image(\"icon\", IMG_STATUES + imageStatus + Constants.PNG_EXT);\n+    }\n+\n     public PropagationRequestTO getPropagationRequestTO() {\n         PropagationRequestTO result = null;\n "}]}
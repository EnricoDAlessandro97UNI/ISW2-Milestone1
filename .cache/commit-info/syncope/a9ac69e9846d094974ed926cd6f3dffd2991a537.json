{"sha":"a9ac69e9846d094974ed926cd6f3dffd2991a537","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmE5YWM2OWU5ODQ2ZDA5NDk3NGVkOTI2Y2Q2ZjNkZmZkMjk5MWE1Mzc=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2018-03-22T14:43:41Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2018-03-22T14:43:41Z"},"message":"Increase readability (and possibly efficiency)","tree":{"sha":"61f8856cc03bcf47961311665cf5b3474a5e893c","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/61f8856cc03bcf47961311665cf5b3474a5e893c"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/a9ac69e9846d094974ed926cd6f3dffd2991a537","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a9ac69e9846d094974ed926cd6f3dffd2991a537","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/a9ac69e9846d094974ed926cd6f3dffd2991a537","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a9ac69e9846d094974ed926cd6f3dffd2991a537/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"d9489063858f04fb1527b182408bb147f52c6a4a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d9489063858f04fb1527b182408bb147f52c6a4a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d9489063858f04fb1527b182408bb147f52c6a4a"}],"stats":{"total":17,"additions":7,"deletions":10},"files":[{"sha":"abba39c35a8e570840d44c47cb12143424397b48","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/dao/JPAAnyObjectDAO.java","status":"modified","additions":7,"deletions":10,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a9ac69e9846d094974ed926cd6f3dffd2991a537/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAAnyObjectDAO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a9ac69e9846d094974ed926cd6f3dffd2991a537/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAAnyObjectDAO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAAnyObjectDAO.java?ref=a9ac69e9846d094974ed926cd6f3dffd2991a537","patch":"@@ -250,21 +250,18 @@ public void delete(final AnyObject anyObject) {\n         groupDAO().removeDynMemberships(anyObject);\n         dynRealmDAO().removeDynMemberships(anyObject.getKey());\n \n-        findARelationships(anyObject).stream().map(relationship -> {\n+        findARelationships(anyObject).forEach(relationship -> {\n             relationship.getLeftEnd().getRelationships().remove(relationship);\n-            return relationship;\n-        }).map(relationship -> {\n             save(relationship.getLeftEnd());\n-            return relationship;\n-        }).forEachOrdered(relationship -> entityManager().remove(relationship));\n \n-        findURelationships(anyObject).stream().map(relationship -> {\n+            entityManager().remove(relationship);\n+        });\n+        findURelationships(anyObject).forEach(relationship -> {\n             relationship.getLeftEnd().getRelationships().remove(relationship);\n-            return relationship;\n-        }).map(relationship -> {\n             userDAO().save(relationship.getLeftEnd());\n-            return relationship;\n-        }).forEachOrdered(relationship -> entityManager().remove(relationship));\n+\n+            entityManager().remove(relationship);\n+        });\n \n         entityManager().remove(anyObject);\n         publisher.publishEvent("}]}
{"sha":"de5e9f1aff72eb8d7a14642c392c32c1351e1254","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmRlNWU5ZjFhZmY3MmViOGQ3YTE0NjQyYzM5MmMzMmMxMzUxZTEyNTQ=","commit":{"author":{"name":"Matteo Di Carlo","email":"matteo.dicarlo@tirasa.net","date":"2016-09-06T10:11:34Z"},"committer":{"name":"Matteo Di Carlo","email":"matteo.dicarlo@tirasa.net","date":"2016-09-07T07:31:17Z"},"message":"[SYNCOPE-853] add test for group with type extensions in edit user test for enduser","tree":{"sha":"f4db8cb2e1110179a2667e20d3b1bd0935f06646","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/f4db8cb2e1110179a2667e20d3b1bd0935f06646"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/de5e9f1aff72eb8d7a14642c392c32c1351e1254","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/de5e9f1aff72eb8d7a14642c392c32c1351e1254","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/de5e9f1aff72eb8d7a14642c392c32c1351e1254","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/de5e9f1aff72eb8d7a14642c392c32c1351e1254/comments","author":null,"committer":null,"parents":[{"sha":"ac5be5889c26e41f39dc8d660bdd6b4813ead47d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ac5be5889c26e41f39dc8d660bdd6b4813ead47d","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ac5be5889c26e41f39dc8d660bdd6b4813ead47d"}],"stats":{"total":32,"additions":21,"deletions":11},"files":[{"sha":"04e888de3de5e5bbb12b37d80d3153c4c10b877e","filename":"client/enduser/src/test/resources/org/apache/syncope/client/enduser/protractor/tests/edituser.js","status":"modified","additions":21,"deletions":11,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/de5e9f1aff72eb8d7a14642c392c32c1351e1254/client%2Fenduser%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fedituser.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/de5e9f1aff72eb8d7a14642c392c32c1351e1254/client%2Fenduser%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fedituser.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fedituser.js?ref=de5e9f1aff72eb8d7a14642c392c32c1351e1254","patch":"@@ -32,7 +32,7 @@ describe('syncope enduser user edit', function () {\n   it('should edit user credentials', function () {\n     browser.get('http://localhost:9080/syncope-enduser/app/');\n \n-//login\n+    //login\n     element(by.model('credentials.username')).sendKeys('bellini');\n     element(by.model('credentials.password')).sendKeys('password');\n     element.all(by.options('language.name for language in languages.availableLanguages track by language.id')).\n@@ -43,34 +43,39 @@ describe('syncope enduser user edit', function () {\n             get(0).click();\n     element(by.id('login-btn')).click();\n \n-//credential\n+    //credential\n     element(by.model('user.username')).clear();\n     element(by.model('user.username')).sendKeys('bellini');\n     element(by.model('user.password')).clear();\n     element(by.model('user.password')).sendKeys('password');\n     element(by.model('confirmPassword.value')).sendKeys('password');\n     var secQuestion = element(by.model('user.securityQuestion'));\n-    var selectedSecQuestion = secQuestion.all(by.options('securityQuestion.key as securityQuestion.content for securityQuestion in availableSecurityQuestions')).last();\n+    var selectedSecQuestion = secQuestion.all(by.options\n+            ('securityQuestion.key as securityQuestion.content for securityQuestion in availableSecurityQuestions'))\n+            .last();\n     selectedSecQuestion.click();\n     element(by.model('user.securityAnswer')).sendKeys('Agata Ferlito');\n-    browser.driver.sleep(1000);\n+//    browser.driver.sleep(1000);\n     next();\n \n-//groups\n+    //groups\n     var group = element(by.model('dynamicForm.selectedGroups'));\n     var selectedGroup = group.element(by.css('.ui-select-search'));\n     group.click();\n-    \n+\n+    // add \"additional\", a group with type extensions, and \"root\".\n     selectedGroup.sendKeys('additional');\n     element.all(by.css('.ui-select-choices-row-inner span')).first().click();\n     selectedGroup.sendKeys('root');\n     element.all(by.css('.ui-select-choices-row-inner span')).first().click();\n-    browser.driver.sleep(1500);\n-        \n     next();\n \n-//plainSchemas\n-\n+    //plainSchemas\n+    //  count groups in plainschemas: \"own\" and \"additional\".\n+    element.all(by.repeater('groupSchema in dynamicForm.groupSchemas')).then(function (groupSchema) {\n+      expect(groupSchema.length).toBe(2);\n+    })\n+    //  fills own fields\n     element(by.css('[name=\"fullname\"]')).clear();\n     element(by.css('[name=\"fullname\"]')).sendKeys('Vincenzo Bellini');\n     element(by.css('[name=\"userId\"]')).clear();\n@@ -84,7 +89,12 @@ describe('syncope enduser user edit', function () {\n     element(by.css('[name=\"surname\"]')).sendKeys('Bellini');\n     element(by.css('[name=\"ctype\"]')).clear();\n     element(by.css('[name=\"ctype\"]')).sendKeys('bellinictype');\n-\n+    next();\n+    //derSchemas\n+    next();\n+    //virSchemas\n+    next();\n+    //Resources\n     next();\n \n   });"}]}
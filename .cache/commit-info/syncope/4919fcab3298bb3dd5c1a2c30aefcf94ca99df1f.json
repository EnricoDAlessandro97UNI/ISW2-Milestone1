{"sha":"4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f","node_id":"C_kwDOJfYA1toAKDQ5MTlmY2FiMzI5OGJiM2RkNWMxYTJjMzBhZWZjZjk0Y2E5OWRmMWY","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2022-05-19T12:46:46Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2022-05-19T12:46:46Z"},"message":"Further flexibility for Realms","tree":{"sha":"5d21ef598c0562d98531d426624862c88d40fa5d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/5d21ef598c0562d98531d426624862c88d40fa5d"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"97e6a90bf21415e8459cfd05c0f25a4c705b17e7","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/97e6a90bf21415e8459cfd05c0f25a4c705b17e7","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/97e6a90bf21415e8459cfd05c0f25a4c705b17e7"}],"stats":{"total":26,"additions":14,"deletions":12},"files":[{"sha":"fd2dfc49e46fcd494a480d0a70f09d6c880e54e5","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/status/ReconTaskPanel.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FReconTaskPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FReconTaskPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FReconTaskPanel.java?ref=4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f","patch":"@@ -131,7 +131,7 @@ protected Iterator<String> getChoices(final String input) {\n                     return (RealmsUtils.checkInput(input)\n                             ? (isSearchEnabled\n                                     ? RealmRestClient.search(RealmsUtils.buildQuery(input)).getResult()\n-                                    : RealmRestClient.list())\n+                                    : RealmRestClient.list(SyncopeConstants.ROOT_REALM))\n                             : List.<RealmTO>of()).stream().\n                             sorted(Comparator.comparing(RealmTO::getName)).\n                             map(RealmTO::getFullPath).collect(Collectors.toList()).iterator();"},{"sha":"d41143ce98543ee9a3390e234e034cd8e125f838","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/wizards/resources/ConnectorDetailsPanel.java","status":"modified","additions":5,"deletions":4,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FConnectorDetailsPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FConnectorDetailsPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FConnectorDetailsPanel.java?ref=4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f","patch":"@@ -33,6 +33,7 @@\n import org.apache.syncope.client.ui.commons.markup.html.form.AjaxDropDownChoicePanel;\n import org.apache.syncope.client.ui.commons.markup.html.form.AjaxSpinnerFieldPanel;\n import org.apache.syncope.client.ui.commons.markup.html.form.AjaxTextFieldPanel;\n+import org.apache.syncope.common.lib.SyncopeConstants;\n import org.apache.syncope.common.lib.to.ConnBundleTO;\n import org.apache.syncope.common.lib.to.ConnInstanceTO;\n import org.apache.syncope.common.lib.to.ConnPoolConfTO;\n@@ -66,9 +67,9 @@ public ConnectorDetailsPanel(final ConnInstanceTO connInstanceTO, final List<Con\n             protected Iterator<String> getChoices(final String input) {\n                 return (isSearchEnabled\n                         ? RealmRestClient.search(RealmsUtils.buildQuery(input)).getResult()\n-                        : RealmRestClient.list()).\n-                        stream().filter(realm -> SyncopeConsoleSession.get().getAuthRealms().stream().anyMatch(\n-                                authRealm -> realm.getFullPath().startsWith(authRealm))).\n+                        : RealmRestClient.list(SyncopeConstants.ROOT_REALM)).\n+                        stream().filter(realm -> SyncopeConsoleSession.get().getAuthRealms().stream().\n+                        anyMatch(authRealm -> realm.getFullPath().startsWith(authRealm))).\n                         map(RealmTO::getFullPath).collect(Collectors.toList()).iterator();\n             }\n         };\n@@ -211,7 +212,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n \n     private static List<String> getVersions(final ConnInstanceTO connInstanceTO, final List<ConnBundleTO> bundles) {\n         return bundles.stream().filter(object -> object.getLocation().equals(connInstanceTO.getLocation())\n-                        && object.getBundleName().equals(connInstanceTO.getBundleName())).\n+                && object.getBundleName().equals(connInstanceTO.getBundleName())).\n                 map(ConnBundleTO::getVersion).collect(Collectors.toList());\n     }\n "},{"sha":"9313bacd1e957f7cf3dd813dee466239f4edcab0","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/RealmChoicePanel.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealmChoicePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealmChoicePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealmChoicePanel.java?ref=4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f","patch":"@@ -401,7 +401,7 @@ public final RealmChoicePanel reloadRealmTree(final AjaxRequestTarget target, fi\n     protected Map<String, Pair<RealmTO, List<RealmTO>>> reloadRealmParentMap() {\n         List<RealmTO> realmsToList = isSearchEnabled\n                 ? RealmRestClient.search(RealmsUtils.buildQuery(searchQuery)).getResult()\n-                : RealmRestClient.list();\n+                : RealmRestClient.list(SyncopeConstants.ROOT_REALM);\n \n         return reloadRealmParentMap(realmsToList.stream().\n                 sorted(Comparator.comparing(RealmTO::getName))."},{"sha":"b76fcafa194ad6a1bdafe3a57660267876513b74","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/rest/RealmRestClient.java","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FRealmRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FRealmRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FRealmRestClient.java?ref=4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f","patch":"@@ -21,7 +21,6 @@\n import java.util.List;\n import javax.ws.rs.core.GenericType;\n import javax.ws.rs.core.Response;\n-import org.apache.syncope.common.lib.SyncopeConstants;\n import org.apache.syncope.common.lib.to.DynRealmTO;\n import org.apache.syncope.common.lib.to.PagedResult;\n import org.apache.syncope.common.lib.to.ProvisioningResult;\n@@ -41,8 +40,8 @@ public static PagedResult<RealmTO> search(final RealmQuery query) {\n         return getService(RealmService.class).search(query);\n     }\n \n-    public static List<RealmTO> list() {\n-        return getService(RealmService.class).list(SyncopeConstants.ROOT_REALM);\n+    public static List<RealmTO> list(final String fullpath) {\n+        return getService(RealmService.class).list(fullpath);\n     }\n \n     public static List<DynRealmTO> listDynRealms() {"},{"sha":"0d0ff3a90cc3a3f731726d3dcc66123879f92435","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/tasks/SchedTaskWizardBuilder.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskWizardBuilder.java?ref=4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f","patch":"@@ -102,7 +102,7 @@ protected WizardModel buildModelSteps(final SchedTaskTO modelObject, final Wizar\n     private List<RealmTO> searchRealms(final String realmQuery) {\n         return isSearchEnabled\n                 ? RealmRestClient.search(RealmsUtils.buildQuery(realmQuery)).getResult()\n-                : RealmRestClient.list();\n+                : RealmRestClient.list(SyncopeConstants.ROOT_REALM);\n     }\n \n     public class Profile extends WizardStep {"},{"sha":"9840b143f18dd7d732d0b3832d03e6d31285be57","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wizards/any/Details.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.java?ref=4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f","patch":"@@ -30,6 +30,7 @@\n import org.apache.syncope.client.ui.commons.markup.html.form.AjaxTextFieldPanel;\n import org.apache.syncope.client.ui.commons.markup.html.form.FieldPanel;\n import org.apache.syncope.client.ui.commons.wizards.any.AnyWrapper;\n+import org.apache.syncope.common.lib.SyncopeConstants;\n import org.apache.syncope.common.lib.to.AnyTO;\n import org.apache.syncope.common.lib.to.RealmTO;\n import org.apache.wicket.Component;\n@@ -85,7 +86,7 @@ protected Iterator<String> getChoices(final String input) {\n                             ? RealmRestClient.search(RealmsUtils.buildQuery(input)).getResult()\n                             : pageRef.getPage() instanceof Realms\n                             ? getRealmsFromLinks(Realms.class.cast(pageRef.getPage()).getRealmChoicePanel().getLinks())\n-                            : RealmRestClient.list()).\n+                            : RealmRestClient.list(SyncopeConstants.ROOT_REALM)).\n                             stream().filter(realm -> authRealms.stream().anyMatch(\n                             authRealm -> realm.getFullPath().startsWith(authRealm))).\n                             map(RealmTO::getFullPath).collect(Collectors.toList()).iterator();"},{"sha":"cff14c12221e6c35de119f89c6b19392f1e7079d","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wizards/role/RoleWizardBuilder.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Frole%2FRoleWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Frole%2FRoleWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Frole%2FRoleWizardBuilder.java?ref=4919fcab3298bb3dd5c1a2c30aefcf94ca99df1f","patch":"@@ -34,6 +34,7 @@\n import org.apache.syncope.client.console.wizards.BaseAjaxWizardBuilder;\n import org.apache.syncope.client.ui.commons.markup.html.form.AjaxTextFieldPanel;\n import org.apache.syncope.client.ui.commons.wizards.AjaxWizardBuilder;\n+import org.apache.syncope.common.lib.SyncopeConstants;\n import org.apache.syncope.common.lib.to.EntityTO;\n import org.apache.syncope.common.lib.to.RealmTO;\n import org.apache.syncope.common.lib.to.RoleTO;\n@@ -161,7 +162,7 @@ public Realms(final RoleTO modelObject) {\n             setTitleModel(new ResourceModel(\"realms\"));\n             add(new AjaxPalettePanel.Builder<>().build(\"realms\",\n                     new PropertyModel<>(modelObject, \"realms\"),\n-                    new ListModel<>(RealmRestClient.list().stream().\n+                    new ListModel<>(RealmRestClient.list(SyncopeConstants.ROOT_REALM).stream().\n                             map(RealmTO::getFullPath).collect(Collectors.toList()))).\n                     hideLabel().setOutputMarkupId(true));\n         }"}]}
{"sha":"ef11c189ae570d6b155df28a25610c339202e79b","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmVmMTFjMTg5YWU1NzBkNmIxNTVkZjI4YTI1NjEwYzMzOTIwMmU3OWI=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-10-22T15:28:50Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-10-22T15:28:50Z"},"message":"Merge branch '1_2_X'","tree":{"sha":"23677bc4f15456833d64c07b6838ff5f98686bf6","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/23677bc4f15456833d64c07b6838ff5f98686bf6"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/ef11c189ae570d6b155df28a25610c339202e79b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ef11c189ae570d6b155df28a25610c339202e79b","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ef11c189ae570d6b155df28a25610c339202e79b","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ef11c189ae570d6b155df28a25610c339202e79b/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"abc3764fdc459a8873a71b2c997ea77db04547dd","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/abc3764fdc459a8873a71b2c997ea77db04547dd","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/abc3764fdc459a8873a71b2c997ea77db04547dd"},{"sha":"c6adbef3ceef989551beabfff3658d0fea92fba9","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c6adbef3ceef989551beabfff3658d0fea92fba9","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c6adbef3ceef989551beabfff3658d0fea92fba9"}],"stats":{"total":1488,"additions":807,"deletions":681},"files":[{"sha":"f48f6ae8902ae9e9bf68c7ba66e80a52a1f5f928","filename":"console/src/test/java/org/apache/syncope/console/AbstractTest.java","status":"modified","additions":20,"deletions":15,"changes":35,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FAbstractTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FAbstractTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FAbstractTest.java?ref=ef11c189ae570d6b155df28a25610c339202e79b","patch":"@@ -18,21 +18,23 @@\n  */\n package org.apache.syncope.console;\n \n-import com.thoughtworks.selenium.Selenium;\n-import com.thoughtworks.selenium.webdriven.WebDriverBackedSelenium;\n import junit.framework.TestCase;\n import org.junit.After;\n import org.junit.Before;\n import org.junit.runner.RunWith;\n+import org.openqa.selenium.By;\n import org.openqa.selenium.WebDriver;\n+import org.openqa.selenium.WebElement;\n import org.openqa.selenium.firefox.FirefoxDriver;\n+import org.openqa.selenium.support.ui.ExpectedConditions;\n+import org.openqa.selenium.support.ui.WebDriverWait;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.test.context.ContextConfiguration;\n import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n \n @RunWith(SpringJUnit4ClassRunner.class)\n-@ContextConfiguration(locations = { \"classpath:consoleContext.xml\" })\n+@ContextConfiguration(locations = {\"classpath:consoleContext.xml\"})\n public abstract class AbstractTest extends TestCase {\n \n     /**\n@@ -46,31 +48,34 @@ public abstract class AbstractTest extends TestCase {\n \n     protected static final String BASE_URL = \"http://localhost:9080/syncope-console/\";\n \n-    protected Selenium selenium;\n-\n     protected WebDriver seleniumDriver;\n+    \n+    protected WebDriverWait wait;\n \n     @Override\n     @Before\n     public void setUp() throws Exception {\n         super.setUp();\n \n         seleniumDriver = new FirefoxDriver();\n-        selenium = new WebDriverBackedSelenium(seleniumDriver, BASE_URL);\n-\n-        selenium.open(\"/syncope-console/\");\n-        selenium.type(\"name=userId\", ADMIN);\n-        selenium.type(\"name=password\", PASSWORD);\n-        selenium.click(\"name=:submit\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//img[@alt='Logout']\\\");\", \"60000\");\n+        seleniumDriver.get(BASE_URL);\n+        wait = new WebDriverWait(seleniumDriver, 6);\n+        \n+        WebElement element = seleniumDriver.findElement(By.name(\"userId\"));\n+        element.sendKeys(ADMIN);\n+        element = seleniumDriver.findElement(By.name(\"password\"));\n+        element.sendKeys(PASSWORD);\n+        seleniumDriver.findElement(By.name(\":submit\")).click();\n+        \n+        (new WebDriverWait(seleniumDriver, 6))\n+                .until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//img[@alt='Logout']\")));\n     }\n \n     @Override\n     @After\n     public void tearDown() throws Exception {\n-        selenium.click(\"css=img[alt=\\\"Logout\\\"]\");\n-        selenium.stop();\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Logout\\\"]\")).click();\n+        seleniumDriver.quit();\n         super.tearDown();\n     }\n }"},{"sha":"3e140d8a7fb5ec6668cef3570d1b3b4654cff2a1","filename":"console/src/test/java/org/apache/syncope/console/AccessTestITCase.java","status":"modified","additions":36,"deletions":37,"changes":73,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FAccessTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FAccessTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FAccessTestITCase.java?ref=ef11c189ae570d6b155df28a25610c339202e79b","patch":"@@ -19,63 +19,62 @@\n package org.apache.syncope.console;\n \n import org.junit.Test;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.support.ui.ExpectedConditions;\n \n public class AccessTestITCase extends AbstractTest {\n \n     @Test\n     public void clickAround() {\n-        selenium.click(\"css=img[alt=\\\"Schema\\\"]\");\n-        selenium.waitForPageToLoad(\"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Schema\\\"]\")).click();\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']/ul/li[2]/a\")));\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[2]/a\");\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"xpath=//div[@id='uschema']/div/div/span/ul/li[2]/a\\\");\",\n-                \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[2]/a\")).click();\n \n-        selenium.click(\"//div[@id='uschema']/div/div/span/ul/li[2]/a\");\n-        selenium.click(\"//div[@id='uschema']/div/div/span/ul/li[3]/a\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//div[@id='uschema']/div/div/span/ul/li[2]/a\")));\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[3]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='uschema']/div/div/span/ul/li[2]/a\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='uschema']/div/div/span/ul/li[3]/a\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[3]/a\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='mschema']/div/div/span/ul/li[2]/a\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='mschema']/div/div/span/ul/li[3]/a\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[4]/a\")).click();\n \n-        selenium.click(\"//div[@id='mschema']/div/div/span/ul/li[2]/a\");\n-        selenium.click(\"//div[@id='mschema']/div/div/span/ul/li[3]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='rschema']/div/div/span/ul/li[2]/a\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='rschema']/div/div/span/ul/li[3]/a\")).click();\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[4]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Users\\\"]\")).click();\n \n-        selenium.click(\"//div[@id='rschema']/div/div/span/ul/li[2]/a\");\n-        selenium.click(\"//div[@id='rschema']/div/div/span/ul/li[3]/a\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[3]/ul/li[2]/a/span\")));\n+        seleniumDriver.findElement(By.xpath(\"//div[3]/ul/li[2]/a/span\")).click();\n \n-        selenium.click(\"css=img[alt=\\\"Users\\\"]\");\n-        selenium.waitForPageToLoad(\"30000\");\n-        selenium.click(\"link=Search\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Roles\\\"]\")).click();\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//img[@alt=\\\"Resources\\\"]\")));\n \n-        selenium.click(\"css=img[alt=\\\"Roles\\\"]\");\n-        selenium.waitForPageToLoad(\"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Resources\\\"]\")).click();\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//img[@alt=\\\"TODO\\\"]\")));\n \n-        selenium.click(\"css=img[alt=\\\"Resources\\\"]\");\n-        selenium.waitForPageToLoad(\"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"TODO\\\"]\")).click();\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//img[@alt=\\\"Reports\\\"]\")));\n \n-        selenium.click(\"css=img[alt=\\\"TODO\\\"]\");\n-        selenium.waitForPageToLoad(\"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Reports\\\"]\")).click();\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//img[@alt=\\\"Configuration\\\"]\")));\n \n-        selenium.click(\"css=img[alt=\\\"Reports\\\"]\");\n-        selenium.waitForPageToLoad(\"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Configuration\\\"]\")).click();\n \n-        selenium.click(\"css=img[alt=\\\"Configuration\\\"]\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']/ul/li[2]/a/span\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//div[@id='tabs']/ul/li[2]/a/span\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[3]/a/span\")).click();\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[2]/a/span\");\n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//div[@id='tabs']/ul/li[3]/a/span\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[3]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Tasks\\\"]\")).click();\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[3]/a/span\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']/ul/li[2]/a/span\")));\n \n-        selenium.click(\"css=img[alt=\\\"Tasks\\\"]\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//div[@id='tabs']/ul/li[2]/a/span\\\");\", \"30000\");\n-\n-        selenium.click(\"//div[@id='tabs']/ul/li[2]/a/span\");\n-        selenium.click(\"//div[@id='tabs']/ul/li[3]/a/span\");\n-        selenium.click(\"//div[@id='tabs']/ul/li[4]/a/span\");\n-        selenium.click(\"//div[@id='tabs']/ul/li[5]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[2]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Tasks\\\"]\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[4]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[5]/a/span\")).click();\n     }\n }"},{"sha":"1ec720ddc217b6c29578881d94cb15adcccb6381","filename":"console/src/test/java/org/apache/syncope/console/ConfigurationTestITCase.java","status":"modified","additions":232,"deletions":196,"changes":428,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java?ref=ef11c189ae570d6b155df28a25610c339202e79b","patch":"@@ -19,331 +19,367 @@\n package org.apache.syncope.console;\n \n import org.junit.Test;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.WebElement;\n+import org.openqa.selenium.support.ui.ExpectedConditions;\n+import org.openqa.selenium.support.ui.Select;\n \n public class ConfigurationTestITCase extends AbstractTest {\n \n     @Test\n     public void editParameters() {\n-        selenium.click(\"css=img[alt=\\\"Configuration\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Configuration\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//span[contains(text(), 'log.lastlogindate')]/../../div[2]/span/input\");\n-        selenium.click(\"//div[@id='parameters']/form/a\");\n+        seleniumDriver.findElement(By.xpath(\"//span[contains(text(), 'log.lastlogindate')]/../../div[2]/span/input\")).\n+                click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='parameters']/form/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isTextPresent(\\\"Operation executed successfully\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n+        wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(\"feedback\")));\n+        assertTrue(seleniumDriver.findElement(By.tagName(\"body\")).getText().contains(\"Operation executed successfully\"));\n     }\n \n     @Test\n     public void browsePasswordPolicy() {\n-        selenium.click(\"css=img[alt=\\\"Configuration\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Configuration\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[2]/a\");\n-        selenium.click(\"//div[@id='policies']/ul/li[2]/a\");\n-        selenium.click(\"//div[@id='password']/span/div/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[3]/a\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='policies']/ul/li[2]/a\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='password']/span/div/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//input[@name='id:textField']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//input[@name='id:textField']\")));        \n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n-\n-        selenium.type(\"name=description:textField\", \"new description\");\n-        selenium.click(\"//div[2]/form/div[3]/input[@type='submit']\");\n+        WebElement element = seleniumDriver.findElement(By.name(\"description:textField\"));\n+        element.sendKeys(\"new description\");\n \n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/input[@type='submit']\")).click();\n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.waitForCondition(\"selenium.isTextPresent(\\\"new description\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n+        wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(\"feedback\")));\n+        assertTrue(seleniumDriver.findElement(By.tagName(\"body\")).getText().contains(\"Operation executed successfully\"));\n     }\n \n     @Test\n     public void browseWorkflowDef() {\n-        selenium.click(\"css=img[alt=\\\"Configuration\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Configuration\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[4]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[5]/a/span\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='workflow']/div/span/img\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='workflow']/div/span/img\")));\n     }\n \n     @Test\n     public void setLogLevel() {\n-        selenium.click(\"css=img[alt=\\\"Configuration\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Configuration\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[6]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[7]/a\")).click();\n \n-        selenium.select(\"//div[@id='core']/div/span/table/tbody/tr/td[2]/select\", \"label=ERROR\");\n+        final Select select = new Select(\n+                seleniumDriver.findElement(By.xpath(\"//div[@id='core']/div/span/table/tbody/tr/td[2]/select\")));\n+        select.selectByVisibleText(\"ERROR\");\n \n-        selenium.waitForCondition(\"selenium.isTextPresent(\\\"Operation executed successfully\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='workflow']/div/span/img\")));\n+        wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(\"feedback\")));\n+        assertTrue(seleniumDriver.findElement(By.tagName(\"body\")).getText().contains(\"Operation executed successfully\"));        \n     }\n \n     @Test\n     public void createNotification() {\n-        selenium.click(\"css=img[alt=\\\"Configuration\\\"]\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Configuration\\\"]\")).click();\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[3]/a\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//div[@id='notifications']/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[4]/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//div[2]/form/div[3]/div/div/div/div/label\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='notifications']/a\")).click();\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//input[@name='sender:textField']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[2]/form/div[3]/div/div/div/div/label\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//input[@name='sender:textField']\")));        \n \n-        selenium.type(\"name=sender:textField\", \"test@syncope.it\");\n+        seleniumDriver.findElement(By.name(\"sender:textField\")).sendKeys(\"test@syncope.it\");\n \n-        selenium.type(\"name=subject:textField\", \"test@syncope.it\");\n+        seleniumDriver.findElement(By.name(\"subject:textField\")).sendKeys(\"test@syncope.it\");\n \n-        selenium.select(\"//div[2]/form/div[3]/div/div/div[3]/div[2]/span/select\", \"label=UserSchema\");\n+        Select select = new Select(\n+                seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/div/div[3]/div[2]/span/select\")));\n+        select.selectByVisibleText(\"UserSchema\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//div[2]/form/div[3]/div/div/div[4]/div[2]/span/select/option[2]\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//div[2]/form/div[3]/div/div/div[4]/div[2]/span/select/option[2]\")));\n \n-        selenium.select(\"//div[2]/form/div[3]/div/div/div[4]/div[2]/span/select\", \"label=fullname\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/div/div[4]/div[2]/span/select\")));\n+        select.selectByVisibleText(\"fullname\");\n \n-        selenium.select(\"//div[2]/form/div[3]/div/div/div[5]/div[2]/span/select\", \"label=optin\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/div/div[5]/div[2]/span/select\")));\n+        select.selectByVisibleText(\"optin\");\n \n-        selenium.select(\"//div[2]/form/div[3]/div/div/div[6]/div[2]/span/select\", \"label=ALL\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/div/div[6]/div[2]/span/select\")));\n+        select.selectByVisibleText(\"ALL\");\n \n-        selenium.click(\"//div[2]/form/div[3]/ul/li[3]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/ul/li[3]/a/span\")).click();\n \n-        selenium.click(\"//div[2]/form/div[3]/ul/li[2]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/ul/li[2]/a/span\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"\"\n-                + \"//select[@name='eventSelection:categoryContainer:type:dropDownChoiceField']\"\n-                + \"/option[text()='PROPAGATION']\\\");\",\n-                \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//select[@name='eventSelection:categoryContainer:type:dropDownChoiceField']\"\n+                        + \"/option[text()='PROPAGATION']\")));\n \n-        selenium.select(\n-                \"//select[@name='eventSelection:categoryContainer:type:dropDownChoiceField']\",\n-                \"label=PROPAGATION\");\n+        select = new Select(seleniumDriver.findElement(By.xpath(\n+                \"//select[@name='eventSelection:categoryContainer:type:dropDownChoiceField']\")));\n+        select.selectByVisibleText(\"PROPAGATION\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"\"\n-                + \"//select[@name='eventSelection:categoryContainer:category:dropDownChoiceField']\"\n-                + \"/option[text()='role']\\\");\",\n-                \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//select[@name='eventSelection:categoryContainer:category:dropDownChoiceField']\"\n+                        + \"/option[text()='role']\")));\n \n-        selenium.select(\n-                \"//select[@name='eventSelection:categoryContainer:category:dropDownChoiceField']\",\n-                \"label=role\");\n+        select = new Select(seleniumDriver.findElement(By.xpath(\n+                \"//select[@name='eventSelection:categoryContainer:category:dropDownChoiceField']\")));\n+        select.selectByVisibleText(\"role\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"\"\n-                + \"//select[@name='eventSelection:categoryContainer:subcategory:dropDownChoiceField']\"\n-                + \"/option[text()='resource-db-sync']\\\");\",\n-                \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//select[@name='eventSelection:categoryContainer:subcategory:dropDownChoiceField']\"\n+                        + \"/option[text()='resource-db-sync']\")));\n \n-        selenium.select(\n-                \"//select[@name='eventSelection:categoryContainer:subcategory:dropDownChoiceField']\",\n-                \"label=resource-db-sync\");\n+        select = new Select(seleniumDriver.findElement(By.xpath(\n+                \"//select[@name='eventSelection:categoryContainer:subcategory:dropDownChoiceField']\")));\n+        select.selectByVisibleText(\"resource-db-sync\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//input[@name='eventSelection:eventsContainer:eventsPanel:failureGroup']\\\");\",\n-                \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//input[@name='eventSelection:eventsContainer:eventsPanel:failureGroup']\")));\n \n-        selenium.click(\"//div[@class='eventSelectionWidzard']/div[2]/div[3]/span/div/input\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@class='eventSelectionWidzard']/div[2]/div[3]/span/div/input\")).\n+                click();\n \n-        selenium.click(\"//div[2]/form/div[3]/ul/li[4]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/ul/li[4]/a\")).click();\n \n-        selenium.click(\"//div[2]/form/div[3]/div[4]/div/div/span/input\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div[4]/div/div/span/input\")).click();\n \n-        selenium.type(\n-                \"name=staticRecipients:multiValueContainer:view:0:panel:textField\", \"syncope445@syncope.apache.org\");\n+        wait.until(ExpectedConditions.elementToBeClickable(By.name(\"staticRecipients:multiValueContainer:view:0:panel:textField\")));\n+        \n+        seleniumDriver.findElement(By.name(\n+                \"staticRecipients:multiValueContainer:view:0:panel:textField\")).\n+                sendKeys(\"syncope445@syncope.apache.org\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//div[2]/form/div[3]/div[4]/div/div[2]/label\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//div[2]/form/div[3]/div[4]/div/div[2]/label\")));\n \n-        selenium.click(\"//div[2]/form/div[4]/input\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[4]/input\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n     }\n \n     @Test\n     public void createDisabledNotification() {\n-        selenium.click(\"css=img[alt=\\\"Configuration\\\"]\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Configuration\\\"]\")).click();\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[3]/a\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//div[@id='notifications']/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[4]/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//div[2]/form/div[3]/div/div/div/div/label\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='notifications']/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//input[@name='sender:textField']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[2]/form/div[3]/div/div/div/div/label\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//input[@name='sender:textField']\")));\n \n-        selenium.type(\"name=sender:textField\", \"test@syncope.it\");\n+        seleniumDriver.findElement(By.name(\"sender:textField\")).sendKeys(\"test@syncope.it\");\n \n-        selenium.type(\"name=sender:textField\", \"test@syncope.it\");\n+        Select select = new Select(seleniumDriver.findElement(\n+                By.xpath(\"//div[2]/form/div[3]/div/div[1]/div[3]/div[2]/span/select\")));\n+        select.selectByVisibleText(\"UserSchema\");\n \n-        selenium.select(\"//div[2]/form/div[3]/div/div/div[3]/div[2]/span/select\", \"label=UserSchema\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\n+                \"//div[2]/form/div[3]/div/div/div[4]/div[2]/span/select/option[2]\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//div[2]/form/div[3]/div/div/div[4]/div[2]/span/select/option[2]\\\");\", \"30000\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/div/div[4]/div[2]/span/select\")));\n+        select.selectByVisibleText(\"fullname\");\n \n-        selenium.select(\"//div[2]/form/div[3]/div/div/div[4]/div[2]/span/select\", \"label=fullname\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/div/div[5]/div[2]/span/select\")));\n+        select.selectByVisibleText(\"optin\");\n \n-        selenium.select(\"//div[2]/form/div[3]/div/div/div[5]/div[2]/span/select\", \"label=optin\");\n-\n-        selenium.select(\"//div[2]/form/div[3]/div/div/div[6]/div[2]/span/select\", \"label=ALL\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/div/div[6]/div[2]/span/select\")));\n+        select.selectByVisibleText(\"ALL\");\n \n         // disable notification\n-        selenium.click(\"//div[2]/form/div[3]/div/div/div[7]/div[2]/span/input\");\n-\n-        selenium.click(\"//div[2]/form/div[3]/ul/li[3]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/div/div[7]/div[2]/span/input\")).click();\n \n-        selenium.click(\"//div[2]/form/div[3]/ul/li[2]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/ul/li[3]/a/span\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"\"\n-                + \"//select[@name='eventSelection:categoryContainer:type:dropDownChoiceField']\"\n-                + \"/option[text()='PROPAGATION']\\\");\",\n-                \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/ul/li[2]/a/span\")).click();\n \n-        selenium.select(\n-                \"//select[@name='eventSelection:categoryContainer:type:dropDownChoiceField']\",\n-                \"label=PROPAGATION\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\n+                \"//select[@name='eventSelection:categoryContainer:type:dropDownChoiceField']\"\n+                + \"/option[text()='PROPAGATION']\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"\"\n-                + \"//select[@name='eventSelection:categoryContainer:category:dropDownChoiceField']\"\n-                + \"/option[text()='role']\\\");\",\n-                \"30000\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\n+                                \"//select[@name='eventSelection:categoryContainer:type:dropDownChoiceField']\")));\n+        select.selectByVisibleText(\"PROPAGATION\");\n \n-        selenium.select(\n-                \"//select[@name='eventSelection:categoryContainer:category:dropDownChoiceField']\",\n-                \"label=role\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\n+                \"//select[@name='eventSelection:categoryContainer:category:dropDownChoiceField']\"\n+                + \"/option[text()='role']\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"\"\n-                + \"//select[@name='eventSelection:categoryContainer:subcategory:dropDownChoiceField']\"\n-                + \"/option[text()='resource-db-sync']\\\");\",\n-                \"30000\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\n+                                \"//select[@name='eventSelection:categoryContainer:category:dropDownChoiceField']\")));\n+        select.selectByVisibleText(\"role\");\n \n-        selenium.select(\n-                \"//select[@name='eventSelection:categoryContainer:subcategory:dropDownChoiceField']\",\n-                \"label=resource-db-sync\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\n+                \"//select[@name='eventSelection:categoryContainer:subcategory:dropDownChoiceField']\"\n+                + \"/option[text()='resource-db-sync']\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//input[@name='eventSelection:eventsContainer:eventsPanel:failureGroup']\\\");\",\n-                \"30000\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\"//select[@name='eventSelection:categoryContainer:subcategory:dropDownChoiceField']\")));\n+        select.selectByVisibleText(\"resource-db-sync\");\n \n-        selenium.click(\"//div[@class='eventSelectionWidzard']/div[2]/div[3]/span/div/input\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\n+                \"//input[@name='eventSelection:eventsContainer:eventsPanel:failureGroup']\")));\n \n-        selenium.click(\"//div[2]/form/div[3]/ul/li[4]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@class='eventSelectionWidzard']/div[2]/div[3]/span/div/input\")).\n+                click();\n \n-        selenium.click(\"//div[2]/form/div[3]/div[4]/div/div/span/input\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/ul/li[4]/a/span\")).click();\n \n-        selenium.type(\n-                \"name=staticRecipients:multiValueContainer:view:0:panel:textField\", \"syncope492@syncope.apache.org\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div[4]/div/div/span/input\")).click();\n+                                             \n+        wait.until(ExpectedConditions.elementToBeClickable(By.name(\"staticRecipients:multiValueContainer:view:0:panel:textField\")));\n+        \n+        seleniumDriver.findElement(\n+                By.name(\"staticRecipients:multiValueContainer:view:0:panel:textField\"))\n+                .sendKeys(\"syncope492@syncope.apache.org\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//div[2]/form/div[3]/div[4]/div/div[2]/label\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\n+                                        \"//div[2]/form/div[3]/div[4]/div/div[2]/label\")));\n \n-        selenium.click(\"//div[2]/form/div[4]/input\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[4]/input\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n     }\n \n     @Test\n     public void issueSYNCOPE446() {\n-        selenium.click(\"css=img[alt=\\\"Configuration\\\"]\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n-\n-        selenium.click(\"//div[@id='tabs']/ul/li[3]/a\");\n-\n-        selenium.click(\"//div[@id='notifications']/a\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//div[2]/form/div[3]/div/div/div/div/label\\\");\", \"30000\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//input[@name='sender:textField']\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Configuration\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.type(\"name=sender:textField\", \"syncope446@syncope.it\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[4]/a\")).click();\n \n-        selenium.type(\"name=subject:textField\", \"Test issue Syncope 446\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='notifications']/a\")).click();\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n \n-        selenium.select(\"//div[2]/form/div[3]/div/div/div[3]/div[2]/span/select\", \"label=UserSchema\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[2]/form/div[3]/div/div/div/div/label\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//div[2]/form/div[3]/div/div/div[4]/div[2]/span/select/option[2]\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//input[@name='sender:textField']\")));        \n \n-        selenium.select(\"//div[2]/form/div[3]/div/div/div[4]/div[2]/span/select\", \"label=email\");\n+        seleniumDriver.findElement(By.name(\"sender:textField\")).sendKeys(\"syncope446@syncope.it\");\n+        seleniumDriver.findElement(By.name(\"subject:textField\")).sendKeys(\"Test issue Syncope 446\");\n \n-        selenium.select(\"//div[2]/form/div[3]/div/div/div[5]/div[2]/span/select\", \"label=optin\");\n+        Select select = new Select(\n+                seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/div/div[3]/div[2]/span/select\")));\n+        select.selectByVisibleText(\"UserSchema\");\n \n-        selenium.select(\"//div[2]/form/div[3]/div/div/div[6]/div[2]/span/select\", \"label=ALL\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//div[2]/form/div[3]/div/div/div[4]/div[2]/span/select/option[2]\")));\n \n-        selenium.click(\"//div[2]/form/div[3]/ul/li[3]/a/span\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/div/div[4]/div[2]/span/select\")));\n+        select.selectByVisibleText(\"email\");\n \n-        selenium.click(\"//div[2]/form/div[3]/ul/li[2]/a/span\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/div/div[5]/div[2]/span/select\")));\n+        select.selectByVisibleText(\"optin\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"\"\n-                + \"//select[@name='eventSelection:categoryContainer:type:dropDownChoiceField']\"\n-                + \"/option[text()='REST']\\\");\",\n-                \"30000\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/div/div[6]/div[2]/span/select\")));\n+        select.selectByVisibleText(\"ALL\");\n \n-        selenium.select(\n-                \"//select[@name='eventSelection:categoryContainer:type:dropDownChoiceField']\",\n-                \"label=REST\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/ul/li[3]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/ul/li[2]/a/span\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"\"\n-                + \"//select[@name='eventSelection:categoryContainer:category:dropDownChoiceField']\"\n-                + \"/option[text()='RoleController']\\\");\",\n-                \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//select[@name='eventSelection:categoryContainer:type:dropDownChoiceField']\"\n+                        + \"/option[text()='REST']\")));\n \n-        selenium.select(\n-                \"//select[@name='eventSelection:categoryContainer:category:dropDownChoiceField']\",\n-                \"label=RoleController\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\n+                                \"//select[@name='eventSelection:categoryContainer:type:dropDownChoiceField']\")));\n+        select.selectByVisibleText(\"REST\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//input[@name='eventSelection:eventsContainer:eventsPanel:successGroup']\\\");\",\n-                \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//select[@name='eventSelection:categoryContainer:category:dropDownChoiceField']\"\n+                        + \"/option[text()='RoleController']\")));\n \n-        selenium.click(\"//div[@class='eventSelectionWidzard']/div[2]/div[3]/span/div/input\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\n+                                \"//select[@name='eventSelection:categoryContainer:category:dropDownChoiceField']\")));\n+        select.selectByVisibleText(\"RoleController\");\n \n-        selenium.click(\"//div[2]/form/div[3]/ul/li[3]/a/span\");\n-        selenium.click(\"//div[2]/form/div[3]/div[3]/span/div[4]/div/span/input\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//input[@name='eventSelection:eventsContainer:eventsPanel:successGroup']\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"\"\n-                + \"//select[@name='aboutContainer:roleAbout:searchFormContainer:searchView:0:type']\"\n-                + \"/option[text()='ENTITLEMENT']\\\");\",\n-                \"30000\");\n+        seleniumDriver.findElement(\n+                By.xpath(\"//div[@class='eventSelectionWidzard']/div[2]/div[3]/span/div/input\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/ul/li[3]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div[3]/span/div[4]/div/span/input\")).click();\n \n-        selenium.select(\n-                \"//select[@name='aboutContainer:roleAbout:searchFormContainer:searchView:0:type']\",\n-                \"label=ENTITLEMENT\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//select[@name='aboutContainer:roleAbout:searchFormContainer:searchView:0:type']\"\n+                        + \"/option[text()='ENTITLEMENT']\")));\n+        \n+        wait.until(ExpectedConditions.elementToBeClickable(\n+                By.xpath(\"//select[@name='aboutContainer:roleAbout:searchFormContainer:searchView:0:type']\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"\"\n-                + \"//select[@name='aboutContainer:roleAbout:searchFormContainer:searchView:0:property']\"\n-                + \"/option[text()='ROLE_CREATE']\\\");\",\n-                \"30000\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\n+                                \"//select[@name='aboutContainer:roleAbout:searchFormContainer:searchView:0:type']\")));\n+        select.selectByVisibleText(\"ENTITLEMENT\");\n \n-        selenium.select(\n-                \"//select[@name='aboutContainer:roleAbout:searchFormContainer:searchView:0:property']\",\n-                \"label=ROLE_CREATE\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\n+                \"//select[@name='aboutContainer:roleAbout:searchFormContainer:searchView:0:property']\"\n+                + \"/option[text()='ROLE_CREATE']\")));\n \n-        selenium.click(\"//div[2]/form/div[3]/ul/li[4]/a/span\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\n+                                \"//select[@name='aboutContainer:roleAbout:searchFormContainer:searchView:0:property']\")));\n+        select.selectByVisibleText(\"ROLE_CREATE\");\n \n-        selenium.click(\"//input[@name='recipientsContainer:checkRecipients:checkboxField']\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/ul/li[4]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//input[@name='recipientsContainer:checkRecipients:checkboxField']\")).\n+                click();\n \n-        selenium.type(\n-                \"name=staticRecipients:multiValueContainer:view:0:panel:textField\", \"syncope446@syncope.apache.org\");\n+        wait.until(ExpectedConditions.elementToBeClickable(By.name(\"staticRecipients:multiValueContainer:view:0:panel:textField\")));\n+        \n+        seleniumDriver.findElement(By.name(\"staticRecipients:multiValueContainer:view:0:panel:textField\")).sendKeys(\n+                \"syncope446@syncope.apache.org\");\n \n-        selenium.click(\"//div[2]/form/div[4]/input\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[4]/input\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n     }"},{"sha":"72715abd024888c86383f3158bfda87ea2611a8d","filename":"console/src/test/java/org/apache/syncope/console/ConnInstanceTestITCase.java","status":"modified","additions":98,"deletions":82,"changes":180,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConnInstanceTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConnInstanceTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConnInstanceTestITCase.java?ref=ef11c189ae570d6b155df28a25610c339202e79b","patch":"@@ -19,157 +19,173 @@\n package org.apache.syncope.console;\n \n import org.junit.Test;\n+import org.openqa.selenium.Alert;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.support.ui.ExpectedConditions;\n+import org.openqa.selenium.support.ui.Select;\n \n public class ConnInstanceTestITCase extends AbstractTest {\n \n     @Test\n     public void browseCreateModal() {\n-        selenium.click(\"css=img[alt=\\\"Resources\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Resources\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[2]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[2]/a\")).click();\n \n-        selenium.click(\"//div[3]/div[2]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[3]/div[2]/a\")).click();\n \n-        selenium.waitForCondition(\n-                \"selenium.isElementPresent(\\\"//form/div[2]/div/div/div[3]/div[2]/span/select\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath((\"//iframe\"))));\n+        seleniumDriver.switchTo().frame(0);\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//form/div[2]/div/div/div[3]/div[2]/span/select\")));        \n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n+        Select select = new Select(\n+                seleniumDriver.findElement(By.xpath(\"//form/div[2]/div[1]/div[1]/div[2]/div[2]/span/select\")));\n+                                                     \n+        select.selectByValue(\"0\");\n \n-        selenium.select(\"//select[@name='location:dropDownChoiceField']\", \"value=0\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//select[@name='connectorName:dropDownChoiceField']/option[3]\")));\n \n-        selenium.waitForCondition(\n-                \"selenium.isElementPresent(\\\"//select[@name='connectorName:dropDownChoiceField']/option[3]\\\");\",\n-                \"30000\");\n+        select = new Select(\n+                seleniumDriver.findElement(By.xpath(\"//form/div[2]/div[1]/div[1]/div[3]/div[2]/span/select\")));\n+        select.selectByVisibleText(\"org.connid.bundles.soap\");\n \n-        selenium.select(\"//select[@name='connectorName:dropDownChoiceField']\", \"label=org.connid.bundles.soap\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[2]/ul/li[1]/a/span\")).click();\n \n-        selenium.click(\"//div[2]/form/div[2]/ul/li[2]/a/span\");\n-        selenium.click(\"//div[2]/form/div[2]/ul/li[1]/a/span\");\n-\n-        assertTrue(selenium.isElementPresent(\"//form/div[2]/div/div/div[3]/div[2]/\"));\n+        assertTrue(seleniumDriver.findElement(By.xpath(\"//form/div[2]/div/div/div[3]/div[2]\")).isDisplayed());\n \n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.click(\"css=a.w_close\");\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n \n     @Test\n     public void browseEditModal() {\n-        selenium.click(\"css=img[alt=\\\"Resources\\\"]\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n-\n-        selenium.click(\"//div[3]/ul/li[2]/a\");\n-        selenium.click(\"//tr[4]/td[7]/div/span[13]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Resources\\\"]\")).click();\n \n-        selenium.waitForCondition(\n-                \"selenium.isElementPresent(\\\"//div[2]/form/div[2]/div/div/div[3]/div[2]/span/select\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n+        seleniumDriver.findElement(By.xpath(\"//div[3]/ul/li[2]/a\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//tr[4]/td[7]/div/span[13]/a\")).click();\n \n-        assertEquals(\"ConnInstance103\", selenium.getAttribute(\"//input[@name='displayName:textField']/@value\"));\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\n+                \"//div[2]/form/div[2]/div/div/div[3]/div[2]/span/select\")));     \n+        \n+        assertEquals(\"ConnInstance103\",  \n+                seleniumDriver.findElement(By.xpath(\"//input[@name='displayName:textField']\")).getAttribute(\"value\"));\n \n-        assertEquals(\"org.connid.bundles.soap\",\n-                selenium.getSelectedLabel(\"//select[@name='connectorName:dropDownChoiceField']\"));\n+        assertEquals(\"org.connid.bundles.soap\",(new Select(seleniumDriver.findElement(\n+                By.xpath(\"//select[@name='connectorName:dropDownChoiceField']\")))).getFirstSelectedOption().getText());\n \n-        selenium.click(\"//div[2]/form/div[2]/ul/li[2]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[2]/ul/li[2]/a/span\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.click(\"css=a.w_close\");\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n-\n+    \n     @Test\n     public void delete() {\n-        selenium.click(\"css=img[alt=\\\"Resources\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Resources\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//div[3]/ul/li[2]/a\");\n-        selenium.click(\"//tr[4]/td[7]/div/span[15]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[3]/ul/li[2]/a\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//tr[4]/td[7]/div/span[15]/a\")).click();\n \n-        assertTrue(selenium.getConfirmation().equals(\"Do you really want to delete the selected item(s)?\"));\n+        Alert alert = seleniumDriver.switchTo().alert();\n+        assertTrue(alert.getText().equals(\"Do you really want to delete the selected item(s)?\"));\n+        alert.accept();\n \n-        selenium.waitForCondition(\"selenium.isTextPresent(\\\"Error:\\\");\", \"10000\");\n+        wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(\"feedback\")));\n+        assertTrue(seleniumDriver.findElement(By.tagName(\"body\")).getText().contains(\"Error: \"));\n     }\n-\n+    \n     @Test\n     public void checkConnection() {\n-        selenium.click(\"css=img[alt=\\\"Resources\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Resources\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//div[3]/ul/li[2]/a\");\n-        selenium.click(\"//tr[2]/td[7]/div/span[13]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[3]/ul/li[2]/a\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//tr[2]/td[7]/div/span[13]/a\")).click();\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//select[@name='version:dropDownChoiceField']\")));\n \n-        selenium.waitForCondition(\n-                \"selenium.isElementPresent(\\\"//select[@name='version:dropDownChoiceField']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\n+                \"//div[2]/form/div[2]/div/div/div[3]/div[2]/span/select\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[2]/ul/li[2]/a\")).click();\n \n-        selenium.click(\"//div[2]/form/div[2]/ul/li[2]/a\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//div[2]/form/div[2]/div[2]/div/span/div[2]/div[30]/a\")));\n \n-        selenium.waitForCondition(\n-                \"selenium.isElementPresent(\\\"//div[2]/form/div[2]/div/div/div[3]/div[2]/span/select\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[2]/div[2]/div/span/div[2]/div[30]/a\")).click();\n \n-        selenium.click(\"//div[2]/form/div[2]/div[2]/div/span/div[2]/div[30]/a\");\n-\n-        selenium.waitForCondition(\n-                \"selenium.isElementPresent(\\\"//div/ul/li/span[contains(text(),'Successful connection')]\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//div/ul/li/span[contains(text(),'Successful connection')]\")));\n \n         seleniumDriver.switchTo().defaultContent();\n     }\n-\n+    \n     @Test\n     public void issueSyncope506() {\n-        selenium.click(\"css=img[alt=\\\"Resources\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Resources\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//tr[4]/td[3]/div/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//tr[4]/td[3]/div/a/span\")).click();\n \n-        selenium.waitForCondition(\n-                \"selenium.isElementPresent(\\\"//select[@name='version:dropDownChoiceField']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//select[@name='version:dropDownChoiceField']\")));\n \n-        selenium.selectFrame(\"index=0\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[2]/ul/li[2]/a\")).click();\n \n-        selenium.click(\"//div[2]/form/div[2]/ul/li[2]/a\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[2]/form/div[2]/div/div/div[3]/div[2]/span/select\")));\n \n-        selenium.waitForCondition(\n-                \"selenium.isElementPresent(\\\"//div[2]/form/div[2]/div/div/div[3]/div[2]/span/select\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\n+                \"//div[2]/form/div[2]/div[2]/div/span/div[2]/div[30]/div[3]/span/div/div/span/a[2]/span/span\")).click();\n \n-        selenium.click(\"//div[2]/form/div[2]/div[2]/div/span/div[2]/div[30]/div[3]/span/div/div/span/a[2]/span/span\");\n-\n-        selenium.click(\"//div[2]/form/div[3]/input\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/input\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.waitForCondition(\"selenium.isTextPresent(\\\"Operation executed successfully\\\");\", \"30000\");\n-\n-        selenium.click(\"//tr[4]/td[3]/div/a/span\");\n+        wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(\"feedback\")));\n+        assertTrue(seleniumDriver.findElement(By.tagName(\"body\")).getText().contains(\"Operation executed successfully\"));\n \n-        selenium.waitForCondition(\n-                \"selenium.isElementPresent(\\\"//select[@name='version:dropDownChoiceField']\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//tr[4]/td[3]/div/a/span\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//select[@name='version:dropDownChoiceField']\")));\n \n-        selenium.click(\"//div[2]/form/div[2]/ul/li[2]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[2]/ul/li[2]/a\")).click();\n \n-        selenium.waitForCondition(\n-                \"selenium.isElementPresent(\\\"//div[2]/form/div[2]/div/div/div[3]/div[2]/span/select\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//div[2]/form/div[2]/div/div/div[3]/div[2]/span/select\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//input[@value='99']\\\");\", \"3000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//input[@value='99']\")));\n \n-        selenium.click(\"//div[2]/form/div[2]/ul/li[2]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[2]/ul/li[2]/a/span\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.click(\"css=a.w_close\");\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n }"},{"sha":"c06e084dfaa3949603a332dd1557127c7d018044","filename":"console/src/test/java/org/apache/syncope/console/EditProfileTestITCase.java","status":"modified","additions":40,"deletions":25,"changes":65,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FEditProfileTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FEditProfileTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FEditProfileTestITCase.java?ref=ef11c189ae570d6b155df28a25610c339202e79b","patch":"@@ -18,59 +18,74 @@\n  */\n package org.apache.syncope.console;\n \n-import com.thoughtworks.selenium.webdriven.WebDriverBackedSelenium;\n+import java.util.concurrent.TimeUnit;\n+import static org.apache.syncope.console.AbstractTest.ADMIN;\n import org.junit.After;\n import org.junit.Before;\n import org.junit.Test;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.WebElement;\n import org.openqa.selenium.firefox.FirefoxDriver;\n+import org.openqa.selenium.support.ui.ExpectedConditions;\n+import org.openqa.selenium.support.ui.WebDriverWait;\n \n public class EditProfileTestITCase extends AbstractTest {\n \n     @Override\n     @Before\n     public void setUp() throws Exception {\n         seleniumDriver = new FirefoxDriver();\n-        selenium = new WebDriverBackedSelenium(seleniumDriver, BASE_URL);\n-\n-        selenium.open(\"/syncope-console/\");\n+        //selenium = new WebDriverBackedSelenium(seleniumDriver, BASE_URL);\n+        seleniumDriver.get(BASE_URL);        \n+        wait = new WebDriverWait(seleniumDriver, 6);\n+        \n     }\n \n     @Test\n     public void selfRegistration() {\n-        selenium.click(\"//div/span/span/a\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//span[contains(text(),'Attributes')]\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//div/div[2]/div[1]/span/a/span\")).click();\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n \n-        selenium.click(\"css=a.w_close\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//span[contains(text(),'Attributes')]\")));\n+        seleniumDriver.switchTo().defaultContent();\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();               \n \n         // only to have some \"Logout\" available for @After\n-        selenium.open(\"/syncope-console/\");\n-        selenium.waitForPageToLoad(\"30000\");\n-        selenium.type(\"name=userId\", ADMIN);\n-        selenium.type(\"name=password\", PASSWORD);\n-        selenium.click(\"name=:submit\");\n-        selenium.waitForPageToLoad(\"30000\");\n+        seleniumDriver.get(BASE_URL);\n+        seleniumDriver.manage().timeouts().pageLoadTimeout(30, TimeUnit.SECONDS);\n+        WebElement element = seleniumDriver.findElement(By.name(\"userId\"));\n+        element.sendKeys(ADMIN);\n+        element = seleniumDriver.findElement(By.name(\"password\"));\n+        element.sendKeys(PASSWORD);\n+        seleniumDriver.findElement(By.name(\":submit\")).click();\n+        seleniumDriver.manage().timeouts().pageLoadTimeout(30, TimeUnit.SECONDS);\n     }\n-\n+    \n     @Test\n     public void editUserProfile() {\n-        selenium.type(\"name=userId\", \"rossini\");\n-        selenium.type(\"name=password\", \"password\");\n-        selenium.click(\"name=:submit\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='username']/a\\\");\", \"30000\");\n-        selenium.click(\"//div[@id='username']/a\");\n+        WebElement element = seleniumDriver.findElement(By.name(\"userId\"));\n+        element.sendKeys(\"rossini\");\n+        element = seleniumDriver.findElement(By.name(\"password\"));\n+        element.sendKeys(\"password\");\n+        seleniumDriver.findElement(By.name(\":submit\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//span[contains(text(),'Attributes')]\\\");\", \"30000\");\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//input[@value='rossini']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='username']/a\")));\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='username']/a\")).click();\n \n-        selenium.click(\"css=a.w_close\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//span[contains(text(),'Attributes')]\")));\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//input[@value='rossini']\")));\n+        seleniumDriver.switchTo().defaultContent();\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n \n     @Override\n     @After\n     public void tearDown() throws Exception {\n         super.tearDown();\n-        selenium.stop();\n+        //seleniumDriver.stop();\n     }\n }"},{"sha":"fae8233d76357cc35cc4f5538cf5266c51414056","filename":"console/src/test/java/org/apache/syncope/console/ReportTestITCase.java","status":"modified","additions":59,"deletions":54,"changes":113,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FReportTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FReportTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FReportTestITCase.java?ref=ef11c189ae570d6b155df28a25610c339202e79b","patch":"@@ -19,90 +19,95 @@\n package org.apache.syncope.console;\n \n import org.junit.Test;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.support.ui.ExpectedConditions;\n+import org.openqa.selenium.support.ui.Select;\n \n public class ReportTestITCase extends AbstractTest {\n \n     @Test\n     public void readReportlet() {\n-        selenium.click(\"css=img[alt=\\\"Reports\\\"]\");\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n-\n-        selenium.click(\"//table/tbody/tr/td[8]/div/span[13]/a\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//div[2]/form/div[2]/div/div/span/div/div/div/span\\\");\", \"30000\");\n-\n-        selenium.click(\"//div[2]/form/div[2]/div/div/span/div/div[5]/div[2]/div/div[2]/div/a\");\n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//div[2]/form/div[2]/div/div/span/div/div[5]/div[2]/div/div/select\\\");\", \"30000\");\n-\n-        selenium.select(\"//div[2]/form/div[2]/div/div/span/div/div[5]/div[2]/div/div/select\", \"testUserReportlet\");\n-        selenium.click(\"//div[2]/form/div[2]/div/div/span/div/div[5]/div[2]/div[2]/div[2]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Reports\\\"]\")).click();        \n+\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n+        seleniumDriver.findElement(By.xpath(\"//table/tbody/tr/td[8]/div/span[13]/a\")).click();\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//div[2]/form/div[2]/div/div/span/div/div/div/span\")));\n+\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[2]/div/div/span/div/div[5]/div[2]/div/div[2]/div/a\"))\n+                .click();\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//div[2]/form/div[2]/div/div/span/div/div[5]/div[2]/div/div/select\")));\n+\n+        Select select = new Select(seleniumDriver.findElement(\n+                By.xpath(\"//div[2]/form/div[2]/div/div/span/div/div[5]/div[2]/div/div/select\")));\n+        select.selectByVisibleText(\"testUserReportlet\");\n+        \n+        seleniumDriver.findElement(\n+                By.xpath(\"//div[2]/form/div[2]/div/div/span/div/div[5]/div[2]/div[2]/div[2]/a\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n+        wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(\n+                By.xpath(\"//div[7]/form/div/div[2]/div/div/div/div[2]/div/div/iframe\")));       \n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.name(\"reportletClass:dropDownChoiceField\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"name=reportletClass:dropDownChoiceField\\\");\", \"30000\");\n-\n-        selenium.selectFrame(\"index=1\");\n-\n-        selenium.select(\"name=reportletClass:dropDownChoiceField\",\n-                \"org.apache.syncope.common.report.StaticReportletConf\");\n+        select = new Select(seleniumDriver.findElement(By.name(\"reportletClass:dropDownChoiceField\")));\n+        select.selectByVisibleText(\"org.apache.syncope.common.report.StaticReportletConf\");\n \n-        selenium.click(\"//div[2]/form/div[3]/input\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/input\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.click(\"css=a.w_close\");\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n \n     @Test\n     public void executeReport() {\n-        selenium.click(\"css=img[alt=\\\"Reports\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Reports\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//table/tbody/tr/td[8]/div/span[6]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//table/tbody/tr/td[8]/div/span[6]/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isTextPresent(\\\"Operation executed successfully\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(\"feedback\")));\n+        assertTrue(seleniumDriver.findElement(By.tagName(\"body\")).getText().contains(\"Operation executed successfully\"));\n     }\n \n     @Test\n     public void navigateAudit() {\n-        selenium.click(\"css=img[alt=\\\"Reports\\\"]\");\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Reports\\\"]\")).click();\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[2]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[2]/a/span\")).click();\n \n-        selenium.waitForCondition(\n-                \"selenium.isTextPresent(\\\"[REST]:[EntitlementController]:[]:[getOwn]:[SUCCESS]\\\");\",\n-                \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\n+                \"//option[contains(text(),'[REST]:[EntitlementController]:[]:[getOwn]:[SUCCESS]')]\")));        \n \n-        selenium.select(\n-                \"//select[@name='events:categoryContainer:type:dropDownChoiceField']\",\n-                \"label=PROPAGATION\");\n+        Select select = new Select(seleniumDriver.findElement(By.xpath(\n+                \"//select[@name='events:categoryContainer:type:dropDownChoiceField']\")));\n+        select.selectByVisibleText(\"PROPAGATION\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"\"\n-                + \"//select[@name='events:categoryContainer:category:dropDownChoiceField']/option[text()='user']\\\");\",\n-                \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\n+                \"//select[@name='events:categoryContainer:category:dropDownChoiceField']/option[text()='user']\")));                \n \n-        selenium.select(\n-                \"//select[@name='events:categoryContainer:category:dropDownChoiceField']\",\n-                \"label=user\");\n+        select = new Select(seleniumDriver.findElement(By.xpath(\n+                \"//select[@name='events:categoryContainer:category:dropDownChoiceField']\")));\n+        select.selectByVisibleText(\"user\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"\"\n-                + \"//select[@name='events:categoryContainer:subcategory:dropDownChoiceField']/option[text()='resource-csv']\\\");\",\n-                \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\n+                \"//select[@name='events:categoryContainer:subcategory:dropDownChoiceField']\"\n+                        + \"/option[text()='resource-csv']\")));               \n \n-        selenium.select(\n-                \"//select[@name='events:categoryContainer:subcategory:dropDownChoiceField']\",\n-                \"label=resource-csv\");\n+        select = new Select(seleniumDriver.findElement(By.xpath(\n+                \"//select[@name='events:categoryContainer:subcategory:dropDownChoiceField']\")));\n+        select.selectByVisibleText(\"resource-csv\");\n \n-        selenium.waitForCondition(\n-                \"selenium.isElementPresent(\\\"//input[@name='events:eventsContainer:eventsPanel:successGroup']\\\");\",\n-                \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\n+                \"//input[@name='events:eventsContainer:eventsPanel:successGroup']\")));\n     }\n }"},{"sha":"c862dc35f8ae73ed1144d186e9aaf32b06f19dab","filename":"console/src/test/java/org/apache/syncope/console/ResourceTestITCase.java","status":"modified","additions":65,"deletions":52,"changes":117,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FResourceTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FResourceTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FResourceTestITCase.java?ref=ef11c189ae570d6b155df28a25610c339202e79b","patch":"@@ -19,110 +19,123 @@\n package org.apache.syncope.console;\n \n import org.junit.Test;\n+import org.openqa.selenium.Alert;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.support.ui.ExpectedConditions;\n \n public class ResourceTestITCase extends AbstractTest {\n \n     @Test\n     public void browseCreateModal() {\n-        selenium.click(\"css=img[alt=\\\"Resources\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Resources\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//div[3]/div/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[3]/div/a\")).click();\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//form/div[3]/div/span/div/div/div/label[text()='Name']\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//form/div[3]/div/span/div/div/div/label[text()='Name']\\\");\", \"30000\");\n-\n-        selenium.click(\"css=a.w_close\");\n+        seleniumDriver.switchTo().defaultContent();\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n \n     @Test\n     public void browseEditModal() {\n-        selenium.click(\"css=img[alt=\\\"Resources\\\"]\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Resources\\\"]\")).click();\n \n-        selenium.click(\"//td[6]/div/span[13]/a\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"class=wicket_modal\\\");\", \"30000\");\n-        selenium.waitForFrameToLoad(\"class=wicket_modal\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//form/div[3]/div/span/div/div/div/label[text()='Name']\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//td[6]/div/span[13]/a\")).click();\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\n+                \"//form/div[3]/div/span/div/div/div/label[text()='Name']\")));\n \n-        selenium.click(\"//li[2]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//li[2]/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//tbody/tr[2]/td/input\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//tbody/tr[2]/td/input\")));\n \n-        selenium.click(\"//tbody/tr[2]/td/input\");\n+        seleniumDriver.findElement(By.xpath(\"//tbody/tr[2]/td/input\")).click();\n \n-        assertTrue(selenium.getConfirmation().equals(\"Do you really want to delete the selected item(s)?\"));\n+        Alert alert = seleniumDriver.switchTo().alert();\n+        assertTrue(alert.getText().equals(\"Do you really want to delete the selected item(s)?\"));\n+        alert.accept();\n \n-        selenium.click(\"//div[4]/input\");\n+        seleniumDriver.findElement(By.xpath(\"//div[4]/input\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n     }\n \n     @Test\n     public void delete() {\n-        selenium.click(\"css=img[alt=\\\"Resources\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Resources\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//tr[3]/td[6]/div/span[15]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//tr[3]/td[6]/div/span[15]/a\")).click();\n \n-        assertTrue(selenium.getConfirmation().equals(\"Do you really want to delete the selected item(s)?\"));\n+        Alert alert = seleniumDriver.switchTo().alert();\n+        assertTrue(alert.getText().equals(\"Do you really want to delete the selected item(s)?\"));\n+        alert.accept();\n     }\n \n     @Test\n     public void checkSecurityTab() {\n-        selenium.click(\"css=img[alt=\\\"Resources\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Resources\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//td[6]/div/span[13]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//td[6]/div/span[13]/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//form/div[3]/div/span/div/div/div/label[text()='Name']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//form/div[3]/div/span/div/div/div/label[text()='Name']\")));        \n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n+        seleniumDriver.findElement(By.xpath(\"//li[4]/a\")).click();\n \n-        selenium.click(\"//li[4]/a\");\n+        assertTrue(seleniumDriver.findElements(By.xpath(\"//label[@for='passwordPolicy']\")).size()>0);\n \n-        assertTrue(selenium.isElementPresent(\"//label[@for='passwordPolicy']\"));\n-\n-        selenium.click(\"//li[1]/a\");\n-        selenium.click(\"//li[2]/a\");\n-        selenium.click(\"//li[3]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//li[1]/a\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//li[2]/a\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//li[3]/a\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.click(\"css=a.w_close\");\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n \n     @Test\n     public void checkConnection() {\n-        selenium.click(\"css=img[alt=\\\"Resources\\\"]\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Resources\\\"]\")).click();\n \n-        selenium.click(\"//*[@id=\\\"users-contain\\\"]//*[div=\\\"ws-target-resource-delete\\\"]/../td[6]/div/span[13]/a\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//form/div[3]/div/span/div/div/div/label[text()='Name']\\\");\", \"30000\");\n+        seleniumDriver.findElement(\n+                By.xpath(\"//*[@id=\\\"users-contain\\\"]//*[div=\\\"ws-target-resource-delete\\\"]/../td[6]/div/span[13]/a\"))\n+                .click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//form/div[3]/div/span/div/div/div/label[text()='Name']\")));        \n \n-        selenium.click(\"//li[4]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//li[4]/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//span[text()='endpoint']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//span[text()='endpoint']\")));\n \n-        selenium.click(\"//div[2]/form/div[3]/div[4]/span/span/div[2]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div[4]/span/span/div[2]/a\")).click();\n \n-        selenium.waitForCondition(\n-                \"selenium.isElementPresent(\\\"//div/ul/li/span[contains(text(), 'Successful connection')]\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//div/ul/li/span[contains(text(), 'Successful connection')]\")));\n \n         seleniumDriver.switchTo().defaultContent();\n     }"},{"sha":"8c720e064a6d6c58c6ee1913d0edbb63cc4ad51b","filename":"console/src/test/java/org/apache/syncope/console/RoleTestITCase.java","status":"modified","additions":98,"deletions":87,"changes":185,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FRoleTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FRoleTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FRoleTestITCase.java?ref=ef11c189ae570d6b155df28a25610c339202e79b","patch":"@@ -18,182 +18,193 @@\n  */\n package org.apache.syncope.console;\n \n+import static junit.framework.TestCase.assertTrue;\n import org.junit.Test;\n+import org.openqa.selenium.Alert;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.support.ui.ExpectedConditions;\n+import org.openqa.selenium.support.ui.Select;\n \n public class RoleTestITCase extends AbstractTest {\n \n     @Test\n     public void createRootNodeModal() {\n-        selenium.click(\"css=img[alt=\\\"Roles\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Roles\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='navigationPane']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='navigationPane']\")));\n \n-        selenium.click(\"//div/div/span/div/div/div/div/div/span/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div/div/span/div/div/div/div/div/span/a\")).click();\n \n-        selenium.waitForCondition(\n-                \"selenium.isElementPresent(\\\"//div/div/span[2]/span/div/p/span/span/a\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div/div/span[2]/span/div/p/span/span/a\")));\n \n-        selenium.click(\"//div/div/span[2]/span/div/p/span/span/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div/div/span[2]/span/div/p/span/span/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//span[contains(text(),'Attributes')]\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//span[contains(text(),'Attributes')]\")));\n \n-        selenium.selectFrame(\"relative=up\");\n-        selenium.click(\"css=a.w_close\");\n+        seleniumDriver.switchTo().defaultContent();\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n \n     @Test\n     public void browseCreateModal() {\n-        selenium.click(\"css=img[alt=\\\"Roles\\\"]\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='navigationPane']\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Roles\\\"]\")).click();\n \n-        selenium.click(\"//div/div/span/div/div/div/div/div[2]/div/div/span/a\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='navigationPane']\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//img[@alt='create icon']\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//div/div/span/div/div/div/div/div[2]/div/div/span/a\")).click();\n \n-        selenium.click(\"//img[@alt='create icon']\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//img[@alt='create icon']\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt='create icon']\")).click();\n \n-        selenium.selectFrame(\"index=0\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[2]/form/div[3]/div/ul/li[1]/a/span\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[2]/form/div[3]/div/ul/li[1]/a/span\")));\n \n-        selenium.click(\"//div[2]/form/div[3]/div/ul/li[1]/a/span\");\n-        selenium.click(\"//div[2]/form/div[3]/div/ul/li[2]/a/span\");\n-        selenium.click(\"//div[2]/form/div[3]/div/ul/li[3]/a/span\");\n-        selenium.click(\"//div[2]/form/div[3]/div/ul/li[4]/a/span\");\n-        selenium.click(\"//div[2]/form/div[3]/div/ul/li[5]/a/span\");\n-        selenium.click(\"//div[2]/form/div[3]/div/ul/li[6]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/ul/li[1]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/ul/li[2]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/ul/li[3]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/ul/li[4]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/ul/li[5]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/ul/li[6]/a/span\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.click(\"css=a.w_close\");\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n \n     @Test\n     public void browseEditModal() {\n-        selenium.click(\"css=img[alt=\\\"Roles\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Roles\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='navigationPane']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='navigationPane']\")));\n \n-        selenium.click(\"//div/div/span/div/div/div/div/div[2]/div/div/span/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div/div/span/div/div/div/div/div[2]/div/div/span/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//img[@alt='edit icon']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//img[@alt='edit icon']\")));\n \n-        selenium.click(\"//img[@alt='edit icon']\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt='edit icon']\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n \n-        selenium.selectFrame(\"index=0\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[2]/form/div[3]/div/ul/li[1]/a/span\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[2]/form/div[3]/div/ul/li[1]/a/span\\\");\", \"30000\");\n-\n-        selenium.click(\"//div[2]/form/div[3]/div/ul/li[2]/a/span\");\n-        selenium.click(\"//div[2]/form/div[3]/div/ul/li[3]/a/span\");\n-        selenium.click(\"//div[2]/form/div[3]/div/ul/li[4]/a/span\");\n-        selenium.click(\"//div[2]/form/div[3]/div/ul/li[5]/a/span\");\n-        selenium.click(\"//div[2]/form/div[3]/div/ul/li[6]/a/span\");\n-        selenium.click(\"//div[2]/form/div[3]/div/ul/li[7]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/ul/li[2]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/ul/li[3]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/ul/li[4]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/ul/li[5]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/ul/li[6]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/div/ul/li[7]/a/span\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.click(\"css=a.w_close\");\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n \n     @Test\n     public void checkSecurityTab() {\n-        selenium.click(\"css=img[alt=\\\"Roles\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Roles\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='navigationPane']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='navigationPane']\")));\n \n-        selenium.click(\"//div/div/span/div/div/div/div/div[2]/div/div/span/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div/div/span/div/div/div/div/div[2]/div/div/span/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div/form/div[2]/ul/li[7]/a\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div/form/div[2]/ul/li[7]/a\")));\n \n-        selenium.click(\"//div/form/div[2]/ul/li[7]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div/form/div[2]/ul/li[7]/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//form/div[2]/div/div[8]/span/div/div/div/label\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//form/div[2]/div/div[8]/span/div/div/div/label\")));\n     }\n \n     @Test\n     public void browseUserEditModal() {\n-        selenium.click(\"css=img[alt=\\\"Roles\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Roles\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='navigationPane']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='navigationPane']\")));\n \n-        selenium.click(\"//div/div/span/div/div/div/div/div[2]/div/div/span/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div/div/span/div/div/div/div/div[2]/div/div/span/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//div/div/span[2]/span/span/div/form/div[2]/ul/li[9]/a\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//div/div/span[2]/span/span/div/form/div[2]/ul/li[9]/a\")));\n \n-        selenium.click(\"//div/div/span[2]/span/span/div/form/div[2]/ul/li[9]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div/div/span[2]/span/span/div/form/div[2]/ul/li[9]/a\")).click();\n \n-        selenium.click(\"//input[@name=\\\"userListContainer:search\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//input[@name=\\\"userListContainer:search\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//table/tbody/tr/td[5]/div/span[13]/a\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//table/tbody/tr/td[5]/div/span[13]/a\")));\n \n-        selenium.click(\"//table/tbody/tr/td[5]/div/span[13]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//table/tbody/tr/td[5]/div/span[13]/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//form/div[3]/div/span/div/div/div[contains(text(),'Username')]\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//form/div[3]/div/span/div/div/div[contains(text(),'Username')]\")));\n \n-        selenium.selectFrame(\"relative=up\");\n-        selenium.click(\"css=a.w_close\");\n+        seleniumDriver.switchTo().defaultContent();\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n \n     @Test\n     public void searchUsers() {\n-        selenium.click(\"css=img[alt=\\\"Roles\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Roles\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='navigationPane']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='navigationPane']\")));\n \n-        selenium.click(\"//div/div/span/div/div/div/div/div[2]/div/div/span/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div/div/span/div/div/div/div/div[2]/div/div/span/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//div/div/span[2]/span/span/div/form/div[2]/ul/li[9]/a\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//div/div/span[2]/span/span/div/form/div[2]/ul/li[9]/a\")));\n \n-        selenium.click(\"//div/div/span[2]/span/span/div/form/div[2]/ul/li[9]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div/div/span[2]/span/span/div/form/div[2]/ul/li[9]/a\")).click();\n \n-        selenium.click(\"//input[@name=\\\"userListContainer:search\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//input[@name=\\\"userListContainer:search\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//span[15]/a\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//span[15]/a\")));\n     }\n \n     @Test\n     public void deleteRole() {\n-        selenium.click(\"css=img[alt=\\\"Roles\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Roles\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='navigationPane']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='navigationPane']\")));\n \n-        selenium.click(\n-                \"//div/div/span/div/div/div/div/div[2]/div[2]/div[2]/div/div[2]/div[3]/div/span[2]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\n+                \"//div/div/span/div/div/div/div/div[2]/div[2]/div[2]/div/div[2]/div[3]/div/span[2]/a/span\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//img[@alt='delete icon']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//img[@alt='delete icon']\")));\n \n-        selenium.click(\"//img[@alt='delete icon']\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt='delete icon']\")).click();\n \n-        assertTrue(selenium.getConfirmation().equals(\"Do you really want to delete the selected item(s)?\"));\n+        Alert alert = seleniumDriver.switchTo().alert();\n+        assertTrue(alert.getText().equals(\"Do you really want to delete the selected item(s)?\"));\n+        alert.accept();\n     }\n \n     @Test\n     public void issueSYNCOPE510() {\n-        selenium.click(\"css=img[alt=\\\"Roles\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Roles\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"link=Search\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//span[contains(text(),'Search')]\")));\n \n-        selenium.click(\"link=Search\");\n-        selenium.select(\"//td[2]/select\", \"label=RESOURCE\");\n+        seleniumDriver.findElement(By.xpath(\"//span[contains(text(),'Search')]\")).click() ;\n+        Select select = new Select(seleniumDriver.findElement(By.xpath(\"//td[2]/select\")));\n+        select.selectByVisibleText(\"RESOURCE\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//td[3]/select[option='ws-target-resource-2']\\\");\",\n-                \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//td[3]/select[option='ws-target-resource-2']\")));\n \n-        selenium.select(\"//td[3]/select\", \"label=ws-target-resource-2\");\n-        selenium.click(\"//form/a\");\n+        select = new Select(seleniumDriver.findElement(By.xpath(\"//td[3]/select\")));\n+        select.selectByVisibleText(\"ws-target-resource-2\");\n+        seleniumDriver.findElement(By.xpath(\"//form/a\")).click();\n \n-        selenium.waitForCondition(\n-                \"selenium.isElementPresent(\\\"//div[3]/div[2]/div[2]/span/div[1]/span[1]/span/form/span/table/tbody/\"\n-                + \"tr/td[3]/div\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//div[3]/div[2]/div[2]/span/div[1]/span[1]/span/form/span/table/tbody/tr/td[3]/div\")));\n     }\n }"},{"sha":"2a081b93a8acf92830f73a84a66452c1bf98155c","filename":"console/src/test/java/org/apache/syncope/console/SchemaTestITCase.java","status":"modified","additions":28,"deletions":17,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FSchemaTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FSchemaTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FSchemaTestITCase.java?ref=ef11c189ae570d6b155df28a25610c339202e79b","patch":"@@ -18,42 +18,53 @@\n  */\n package org.apache.syncope.console;\n \n+import static junit.framework.TestCase.assertTrue;\n import org.junit.Test;\n+import org.openqa.selenium.Alert;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.WebElement;\n+import org.openqa.selenium.support.ui.ExpectedConditions;\n+import org.openqa.selenium.support.ui.Select;\n \n public class SchemaTestITCase extends AbstractTest {\n \n     @Test\n     public void create() {\n-        selenium.click(\"css=img[alt=\\\"Schema\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Schema\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[4]/a\");\n-        selenium.click(\"//div[@id='rschema']/div/div/div/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[4]/a\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='rschema']/div/div/div/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//*[@id='_wicket_window_0']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//*[@name='name:textField']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//*[@name='name:textField']\")));\n \n-        selenium.selectFrame(\"index=0\");\n-\n-        selenium.select(\"name=type:dropDownChoiceField\", \"value=0\");\n-        selenium.type(\"name=name:textField\", \"newschema\");\n-        selenium.click(\"name=apply\");\n+        Select select = new Select(seleniumDriver.findElement(By.name(\"type:dropDownChoiceField\")));\n+        select.selectByValue(\"0\");\n+        WebElement textField = seleniumDriver.findElement(By.name(\"name:textField\"));\n+        textField.sendKeys(\"newschema\");\n+        seleniumDriver.findElement(By.name(\"apply\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.waitForCondition(\"selenium.isTextPresent(\\\"newschema\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(\"feedback\")));\n+        assertTrue(seleniumDriver.findElement(By.tagName(\"body\")).getText().contains(\"newschema\"));\n     }\n \n     @Test\n     public void delete() {\n-        selenium.click(\"css=img[alt=\\\"Schema\\\"]\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Schema\\\"]\")).click();\n \n-        selenium.click(\"//div[3]/div/div/div/div/div/span/table/tbody/tr/td[7]/div/span[15]/a\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        assertTrue(selenium.getConfirmation().equals(\"Do you really want to delete the selected item(s)?\"));\n+        seleniumDriver.findElement(\n+                By.xpath(\"//div[3]/div/div/div/div/div/span/table/tbody/tr/td[7]/div/span[15]/a\")).click();\n+        \n+        Alert alert = seleniumDriver.switchTo().alert();\n+        assertTrue(alert.getText().equals(\"Do you really want to delete the selected item(s)?\"));\n+        alert.accept();\n     }\n }"},{"sha":"cb11c536b584dad1fd66da1fc49d08e8b0073cf2","filename":"console/src/test/java/org/apache/syncope/console/TaskTestITCase.java","status":"modified","additions":45,"deletions":42,"changes":87,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FTaskTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FTaskTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FTaskTestITCase.java?ref=ef11c189ae570d6b155df28a25610c339202e79b","patch":"@@ -19,97 +19,100 @@\n package org.apache.syncope.console;\n \n import org.junit.Test;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.support.ui.ExpectedConditions;\n \n public class TaskTestITCase extends AbstractTest {\n \n     @Test\n     public void execute() {\n-        selenium.click(\"css=img[alt=\\\"Tasks\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Tasks\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[1]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[1]/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//tr[4]/td[10]/div/span[6]/a/img\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//tr[4]/td[10]/div/span[6]/a/img\")));\n \n-        selenium.click(\"//tr[4]/td[10]/div/span[6]/a/img\");\n+        seleniumDriver.findElement(By.xpath(\"//tr[4]/td[10]/div/span[6]/a/img\")).click();\n \n-        selenium.waitForCondition(\"selenium.isTextPresent(\\\"Operation executed successfully\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(\"feedback\")));\n+        assertTrue(seleniumDriver.findElement(By.tagName(\"body\")).getText().contains(\"Operation executed successfully\"));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//tr[4]/td[10]/div/span[13]/a/img\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//tr[4]/td[10]/div/span[13]/a/img\")));\n \n-        selenium.click(\"//tr[4]/td[10]/div/span[13]/a/img\");\n+        seleniumDriver.findElement(By.xpath(\"//tr[4]/td[10]/div/span[13]/a/img\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//div[2]/form/div[2]/ul/li[2]/a\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[2]/form/div[2]/ul/li[2]/a\")));\n \n-        selenium.click(\"//div[2]/form/div[2]/ul/li[2]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[2]/ul/li[2]/a\"));\n \n-        assertTrue(selenium.isElementPresent(\"//div[2]/form/div[2]/div[2]/span/table/tbody/tr/td[4]\"));\n+        assertTrue(seleniumDriver.findElements(\n+                By.xpath(\"//div[2]/form/div[2]/div[2]/span/table/tbody/tr/td[4]\")).size()>0);\n \n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.click(\"css=a.w_close\");\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n \n     @Test\n     public void delete() {\n-        selenium.click(\"css=img[alt=\\\"Tasks\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Tasks\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[3]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[3]/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"xpath=(//img[@alt='delete icon'])[6]\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(\"(//img[@alt='delete icon'])[6]\")));\n \n-        selenium.click(\"xpath=(//img[@alt='delete icon'])[6]\"); // \n+        seleniumDriver.findElement(By.xpath(\"(//img[@alt='delete icon'])[6]\")).click();\n+        seleniumDriver.switchTo().alert().accept();\n \n-        selenium.waitForCondition(\"selenium.isTextPresent(\\\"Operation executed successfully\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(\"feedback\")));\n+        assertTrue(seleniumDriver.findElement(By.tagName(\"body\")).getText().contains(\"Operation executed successfully\"));\n     }\n \n     @Test\n     public void issueSYNCOPE148() {\n-        selenium.click(\"css=img[alt=\\\"Tasks\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Tasks\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[3]/a/span\");\n-        selenium.click(\"//a[contains(text(),'Create')]\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[3]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//a[contains(text(),'Create')]\")).click();\n \n-        selenium.waitForCondition(\n-                \"selenium.isElementPresent(\\\"//div[2]/form/div[2]/div/div/span/div/div[2]/div/label\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//div[2]/form/div[2]/div/div/span/div/div[2]/div/label\")));        \n \n-        selenium.selectFrame(\"index=0\");\n-\n-        selenium.click(\"//div[2]/form/div[3]/input[2]\");\n+        seleniumDriver.findElement(By.xpath(\"//div[2]/form/div[3]/input[2]\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.waitForCondition(\"selenium.isTextPresent(\\\"Id\\\");\", \"30000\");\n+        assertTrue(seleniumDriver.findElement(By.tagName(\"body\")).getText().contains(\"Id\"));\n     }\n \n     @Test\n     public void issueSYNCOPE473() {\n-        selenium.click(\"css=img[alt=\\\"Tasks\\\"]\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Tasks\\\"]\")).click();\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[5]/a/span\");\n-        selenium.click(\"//div[5]/span/a\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[5]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[5]/span/a\")).click();\n \n-        selenium.selectFrame(\"index=0\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n \n-        selenium.isElementPresent(\"//div[@id='userFilter']\");\n+        assertTrue(seleniumDriver.findElements(By.xpath(\"//div[@id='userFilter']\")).size()>0);        \n \n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.click(\"css=a.w_close\");\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n }"},{"sha":"4ba5215229e72e67f7f30db04d6dd7c2fb2c4b3d","filename":"console/src/test/java/org/apache/syncope/console/UserTestITCase.java","status":"modified","additions":86,"deletions":74,"changes":160,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FUserTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef11c189ae570d6b155df28a25610c339202e79b/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FUserTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FUserTestITCase.java?ref=ef11c189ae570d6b155df28a25610c339202e79b","patch":"@@ -18,155 +18,167 @@\n  */\n package org.apache.syncope.console;\n \n+import static junit.framework.TestCase.assertTrue;\n import org.junit.Test;\n+import org.openqa.selenium.Alert;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.support.ui.ExpectedConditions;\n+import org.openqa.selenium.support.ui.Select;\n \n public class UserTestITCase extends AbstractTest {\n \n     @Test\n     @SuppressWarnings(\"SleepWhileHoldingLock\")\n     public void browseCreateModal() {\n-        selenium.click(\"css=img[alt=\\\"Users\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Users\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//div[@id='tabs-1']/a\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs-1']/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//span[contains(text(),'Attributes')]\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//span[contains(text(),'Attributes')]\")));\n \n-        selenium.click(\"//div/form/div[3]/div[1]/span[2]/div/div[2]/span\");\n+        seleniumDriver.findElement(By.xpath(\"//div/form/div[3]/div[1]/span[2]/div/div[2]/span\")).click();\n         \n-        selenium.click(\"//div[@id='tabs']/ul/li[2]/a/span\");\n-        selenium.click(\"//div[@id='tabs']/ul/li[3]/a/span\");\n-        selenium.click(\"//div[@id='tabs']/ul/li[4]/a/span\");\n-        selenium.click(\"//div[@id='tabs']/ul/li[5]/a/span\");\n-        selenium.click(\"//div[@id='tabs']/ul/li[6]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[2]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[3]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[4]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[5]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[6]/a/span\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.click(\"css=a.w_close\");\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n \n     @Test\n     @SuppressWarnings(\"SleepWhileHoldingLock\")\n     public void browseEditModal() {\n-        selenium.click(\"css=img[alt=\\\"Users\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Users\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n         //Edit vivaldi\n-        selenium.click(\"//*[@id=\\\"users-contain\\\"]//*[div=3]/../td[5]/div/span[13]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//*[@id=\\\"users-contain\\\"]//*[div=3]/../td[5]/div/span[13]/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//input[@value='Antonio Vivaldi']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//input[@value='Antonio Vivaldi']\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//input[@value='Vivaldi']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//input[@value='Vivaldi']\")));\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[2]/a/span\");\n-        selenium.click(\"//div[@id='tabs']/ul/li[3]/a/span\");\n-        selenium.click(\"//div[@id='tabs']/ul/li[4]/a/span\");\n-        selenium.click(\"//div[@id='tabs']/ul/li[5]/a/span\");\n-        selenium.click(\"//div[@id='tabs']/ul/li[6]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[2]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[3]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[4]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[5]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[6]/a/span\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.click(\"css=a.w_close\");\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n \n     @Test\n     public void search() {\n-        selenium.click(\"css=img[alt=\\\"Users\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Users\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"link=Search\");\n-        selenium.select(\"//td[2]/select\", \"label=MEMBERSHIP\");\n+        seleniumDriver.findElement(By.xpath(\"//span[contains(text(),'Search')]\")).click();\n+        Select select = new Select(seleniumDriver.findElement(By.xpath(\"//td[2]/select\")));\n+        select.selectByVisibleText(\"MEMBERSHIP\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//td[3]/select[option='3 citizen']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(\n+                By.xpath(\"//td[3]/select[option='3 citizen']\")));\n \n-        selenium.select(\"//td[3]/select\", \"label=3 citizen\");\n-        selenium.click(\"//form/a\");\n+        select = new Select(seleniumDriver.findElement(By.xpath(\"//td[3]/select\")));\n+        select.selectByVisibleText(\"3 citizen\");\n+        seleniumDriver.findElement(By.xpath(\"//form/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//*[@id='users-contain']//*[div=2]\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//*[@id='users-contain']//*[div=2]\")));\n     }\n \n     @Test\n     public void delete() {\n-        selenium.click(\"css=img[alt=\\\"Users\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Users\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//*[@id=\\\"users-contain\\\"]//*[div=4]/../td[5]/div/span[15]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//*[@id=\\\"users-contain\\\"]//*[div=4]/../td[5]/div/span[15]/a\")).click();\n \n-        assertTrue(selenium.getConfirmation().equals(\"Do you really want to delete the selected item(s)?\"));\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//div[@id='propagation']/span\\\");\", \"30000\");\n-\n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n+        Alert alert = seleniumDriver.switchTo().alert();\n+        assertTrue(alert.getText().equals(\"Do you really want to delete the selected item(s)?\"));\n+        alert.accept();\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='propagation']/span\")));       \n \n-        selenium.click(\"//*[@id=\\\"users-contain\\\"]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//*[@id=\\\"users-contain\\\"]/a\")).click();\n \n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.waitForCondition(\"selenium.isTextPresent(\" + \"\\\"Operation executed successfully\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(\"feedback\")));\n+        assertTrue(seleniumDriver.findElement(By.tagName(\"body\")).getText().contains(\"Operation executed successfully\"));\n     }\n \n     @Test\n     public void browseProvisioningFeatures() {\n-        selenium.click(\"css=img[alt=\\\"Users\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Users\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n         //Edit vivaldi\n-        selenium.click(\"//*[@id=\\\"users-contain\\\"]//*[div=3]/../td[5]/div/span[2]/a\");\n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//td[div='ws-target-resource-1']\\\");\", \"30000\");\n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//td[div='resource-testdb']\\\");\", \"30000\");\n-\n-        selenium.selectFrame(\"index=0\");\n+        seleniumDriver.findElement(By.xpath(\"//*[@id=\\\"users-contain\\\"]//*[div=3]/../td[5]/div/span[2]/a\")).click();\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n+        \n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//td[div='ws-target-resource-1']\")));\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//td[div='resource-testdb']\")));\n \n-        selenium.click(\"//div[@class='navigator']/div/span[4]/a\");\n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//td[div='resource-ldap']\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@class='navigator']/div/span[4]/a\")).click();\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//td[div='resource-ldap']\")));\n \n-        selenium.click(\"//div[@class='navigator']/div/span/a\");\n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//td[div='ws-target-resource-1']\\\");\", \"30000\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@class='navigator']/div/span/a\")).click();\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//td[div='ws-target-resource-1']\")));\n \n         seleniumDriver.switchTo().defaultContent();\n \n-        selenium.click(\"css=a.w_close\");\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n \n     @Test\n     @SuppressWarnings(\"SleepWhileHoldingLock\")\n     public void issueSYNCOPE495() {\n-        selenium.click(\"css=img[alt=\\\"Users\\\"]\");\n+        seleniumDriver.findElement(By.xpath(\"//img[@alt=\\\"Users\\\"]\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@id='tabs']\")));\n \n-        selenium.click(\"//*[@id=\\\"users-contain\\\"]//*[div=3]/../td[5]/div/span[13]/a\");\n+        seleniumDriver.findElement(By.xpath(\"//*[@id=\\\"users-contain\\\"]//*[div=3]/../td[5]/div/span[13]/a\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n-        selenium.selectFrame(\"index=0\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//iframe\")));\n+        seleniumDriver.switchTo().frame(0);\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//input[@value='Antonio Vivaldi']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//input[@value='Antonio Vivaldi']\")));\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//input[@value='Vivaldi']\\\");\", \"30000\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//input[@value='Vivaldi']\")));\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[2]/a/span\");\n-        selenium.click(\"//div[@id='tabs']/ul/li[3]/a/span\");\n-        selenium.click(\"//div[@id='tabs']/ul/li[4]/a/span\");\n-        selenium.click(\"//div[@id='tabs']/ul/li[5]/a/span\");\n-        selenium.click(\"//div[@id='tabs']/ul/li[6]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[2]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[3]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[4]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[5]/a/span\")).click();\n+        seleniumDriver.findElement(By.xpath(\"//div[@id='tabs']/ul/li[6]/a/span\")).click();\n \n-        selenium.click(\"//span[2]/a/span\");\n+        seleniumDriver.findElement(By.xpath(\"//span[2]/a/span\")).click();\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@class='infolabel']\\\");\", \"30000\");\n-        selenium.selectFrame(\"relative=up\");\n-        selenium.click(\"css=a.w_close\");\n+        wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//div[@class='infolabel']\")));\n+        seleniumDriver.switchTo().defaultContent();\n+        seleniumDriver.findElement(By.xpath(\"//a[@class='w_close']\")).click();\n     }\n }"}]}
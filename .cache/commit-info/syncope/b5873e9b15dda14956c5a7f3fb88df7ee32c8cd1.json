{"sha":"b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmI1ODczZTliMTVkZGExNDk1NmM1YTdmM2ZiODhkZjdlZTMyYzhjZDE=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2012-07-05T15:41:43Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2012-07-05T15:41:43Z"},"message":"Refactoring: removing useless ApplicationContextManager\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1357693 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"aa3888b402119cf1b97c666584a656c596e764a7","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/aa3888b402119cf1b97c666584a656c596e764a7"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"0acf6a7f7f448ab4ffe3930aa179e47c120b3920","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/0acf6a7f7f448ab4ffe3930aa179e47c120b3920","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/0acf6a7f7f448ab4ffe3930aa179e47c120b3920"}],"stats":{"total":153,"additions":61,"deletions":92},"files":[{"sha":"facfc157c9fc68eab776f48ba822ae67ee88bc7e","filename":"core/src/main/java/org/apache/syncope/core/init/ConnInstanceLoader.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Finit%2FConnInstanceLoader.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Finit%2FConnInstanceLoader.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Finit%2FConnInstanceLoader.java?ref=b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1","patch":"@@ -27,7 +27,7 @@\n import org.apache.syncope.core.persistence.beans.ExternalResource;\n import org.apache.syncope.core.persistence.dao.ResourceDAO;\n import org.apache.syncope.core.propagation.ConnectorFacadeProxy;\n-import org.apache.syncope.core.util.ApplicationContextManager;\n+import org.apache.syncope.core.util.ApplicationContextProvider;\n import org.apache.syncope.core.util.ConnBundleManager;\n import org.apache.syncope.types.ConnConfProperty;\n import org.identityconnectors.common.l10n.CurrentLocale;\n@@ -55,7 +55,7 @@ public class ConnInstanceLoader {\n     private ConnBundleManager connBundleManager;\n \n     private DefaultListableBeanFactory getBeanFactory() {\n-        ConfigurableApplicationContext context = ApplicationContextManager.getApplicationContext();\n+        ConfigurableApplicationContext context = ApplicationContextProvider.getApplicationContext();\n \n         return (DefaultListableBeanFactory) context.getBeanFactory();\n     }"},{"sha":"346000c1c987437f3ce9a04669289be49aef5e02","filename":"core/src/main/java/org/apache/syncope/core/init/JobInstanceLoader.java","status":"modified","additions":14,"deletions":14,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Finit%2FJobInstanceLoader.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Finit%2FJobInstanceLoader.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Finit%2FJobInstanceLoader.java?ref=b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1","patch":"@@ -23,6 +23,19 @@\n import java.util.regex.Matcher;\n import java.util.regex.Pattern;\n import org.apache.commons.lang.StringUtils;\n+import org.apache.syncope.core.persistence.beans.Report;\n+import org.apache.syncope.core.persistence.beans.SchedTask;\n+import org.apache.syncope.core.persistence.beans.SyncTask;\n+import org.apache.syncope.core.persistence.beans.Task;\n+import org.apache.syncope.core.persistence.dao.ReportDAO;\n+import org.apache.syncope.core.persistence.dao.TaskDAO;\n+import org.apache.syncope.core.scheduling.AbstractTaskJob;\n+import org.apache.syncope.core.scheduling.DefaultSyncJobActions;\n+import org.apache.syncope.core.scheduling.NotificationJob;\n+import org.apache.syncope.core.scheduling.ReportJob;\n+import org.apache.syncope.core.scheduling.SyncJob;\n+import org.apache.syncope.core.scheduling.SyncJobActions;\n+import org.apache.syncope.core.util.ApplicationContextProvider;\n import org.quartz.Job;\n import org.quartz.JobDetail;\n import org.quartz.Scheduler;\n@@ -38,19 +51,6 @@\n import org.springframework.scheduling.quartz.SchedulerFactoryBean;\n import org.springframework.stereotype.Component;\n import org.springframework.transaction.annotation.Transactional;\n-import org.apache.syncope.core.persistence.beans.Report;\n-import org.apache.syncope.core.persistence.beans.SchedTask;\n-import org.apache.syncope.core.persistence.beans.SyncTask;\n-import org.apache.syncope.core.persistence.beans.Task;\n-import org.apache.syncope.core.persistence.dao.ReportDAO;\n-import org.apache.syncope.core.persistence.dao.TaskDAO;\n-import org.apache.syncope.core.scheduling.AbstractTaskJob;\n-import org.apache.syncope.core.scheduling.DefaultSyncJobActions;\n-import org.apache.syncope.core.scheduling.NotificationJob;\n-import org.apache.syncope.core.scheduling.ReportJob;\n-import org.apache.syncope.core.scheduling.SyncJob;\n-import org.apache.syncope.core.scheduling.SyncJobActions;\n-import org.apache.syncope.core.util.ApplicationContextManager;\n \n @Component\n public class JobInstanceLoader {\n@@ -67,7 +67,7 @@ public class JobInstanceLoader {\n     private ReportDAO reportDAO;\n \n     private DefaultListableBeanFactory getBeanFactory() {\n-        ConfigurableApplicationContext context = ApplicationContextManager.getApplicationContext();\n+        ConfigurableApplicationContext context = ApplicationContextProvider.getApplicationContext();\n \n         return (DefaultListableBeanFactory) context.getBeanFactory();\n     }"},{"sha":"4d6bb4158f36aa91c2f70bb9945123dfc91af13c","filename":"core/src/main/java/org/apache/syncope/core/persistence/beans/AbstractDerAttr.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractDerAttr.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractDerAttr.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractDerAttr.java?ref=b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1","patch":"@@ -24,10 +24,10 @@\n import javax.persistence.Id;\n import javax.persistence.MappedSuperclass;\n import org.apache.commons.jexl2.JexlContext;\n-import org.springframework.context.ConfigurableApplicationContext;\n import org.apache.syncope.core.persistence.beans.user.SyncopeUser;\n-import org.apache.syncope.core.util.ApplicationContextManager;\n+import org.apache.syncope.core.util.ApplicationContextProvider;\n import org.apache.syncope.core.util.JexlUtil;\n+import org.springframework.context.ConfigurableApplicationContext;\n \n @MappedSuperclass\n public abstract class AbstractDerAttr extends AbstractBaseBean {\n@@ -49,7 +49,7 @@ public Long getId() {\n      */\n     public String getValue(final Collection<? extends AbstractAttr> attributes) {\n \n-        final ConfigurableApplicationContext context = ApplicationContextManager.getApplicationContext();\n+        final ConfigurableApplicationContext context = ApplicationContextProvider.getApplicationContext();\n         final JexlUtil jexlUtil = context.getBean(JexlUtil.class);\n \n         // Prepare context using user attributes"},{"sha":"1c517f088027270a3316446a68fbc87c39121306","filename":"core/src/main/java/org/apache/syncope/core/scheduling/ReportJob.java","status":"modified","additions":10,"deletions":10,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fscheduling%2FReportJob.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fscheduling%2FReportJob.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fscheduling%2FReportJob.java?ref=b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1","patch":"@@ -31,14 +31,6 @@\n import javax.xml.transform.sax.SAXTransformerFactory;\n import javax.xml.transform.sax.TransformerHandler;\n import javax.xml.transform.stream.StreamResult;\n-import org.quartz.JobExecutionContext;\n-import org.quartz.JobExecutionException;\n-import org.quartz.StatefulJob;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n-import org.springframework.beans.factory.annotation.Autowired;\n-import org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\n-import org.springframework.beans.factory.support.AbstractBeanDefinition;\n import org.apache.syncope.client.report.ReportletConf;\n import org.apache.syncope.core.persistence.beans.Report;\n import org.apache.syncope.core.persistence.beans.ReportExec;\n@@ -50,8 +42,16 @@\n import static org.apache.syncope.core.scheduling.ReportXMLConst.ATTR_NAME;\n import static org.apache.syncope.core.scheduling.ReportXMLConst.ELEMENT_REPORT;\n import static org.apache.syncope.core.scheduling.ReportXMLConst.XSD_STRING;\n-import org.apache.syncope.core.util.ApplicationContextManager;\n+import org.apache.syncope.core.util.ApplicationContextProvider;\n import org.apache.syncope.types.ReportExecStatus;\n+import org.quartz.JobExecutionContext;\n+import org.quartz.JobExecutionException;\n+import org.quartz.StatefulJob;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\n+import org.springframework.beans.factory.support.AbstractBeanDefinition;\n import org.xml.sax.helpers.AttributesImpl;\n \n /**\n@@ -137,7 +137,7 @@ public void execute(final JobExecutionContext context) throws JobExecutionExcept\n         execution = reportExecDAO.save(execution);\n \n         ConfigurableListableBeanFactory beanFactory =\n-                ApplicationContextManager.getApplicationContext().getBeanFactory();\n+                ApplicationContextProvider.getApplicationContext().getBeanFactory();\n \n         // 3. actual report execution\n         StringBuilder reportExecutionMessage = new StringBuilder();"},{"sha":"e5646a125120537d7599450bbc62dcad0ac3fc27","filename":"core/src/main/java/org/apache/syncope/core/util/ApplicationContextManager.java","status":"removed","additions":0,"deletions":34,"changes":34,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/0acf6a7f7f448ab4ffe3930aa179e47c120b3920/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FApplicationContextManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/0acf6a7f7f448ab4ffe3930aa179e47c120b3920/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FApplicationContextManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FApplicationContextManager.java?ref=0acf6a7f7f448ab4ffe3930aa179e47c120b3920","patch":"@@ -1,34 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.util;\n-\n-import org.springframework.context.ConfigurableApplicationContext;\n-\n-public class ApplicationContextManager {\n-\n-    private static ConfigurableApplicationContext ctx;\n-\n-    public static void setApplicationContext(final ConfigurableApplicationContext applicationContext) {\n-        ctx = applicationContext;\n-    }\n-\n-    public static ConfigurableApplicationContext getApplicationContext() {\n-        return ctx;\n-    }\n-}"},{"sha":"d857cea1dece700c163012159d051aa015242a30","filename":"core/src/main/java/org/apache/syncope/core/util/ApplicationContextProvider.java","status":"modified","additions":8,"deletions":5,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FApplicationContextProvider.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FApplicationContextProvider.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FApplicationContextProvider.java?ref=b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1","patch":"@@ -18,22 +18,25 @@\n  */\n package org.apache.syncope.core.util;\n \n-import org.springframework.beans.BeansException;\n import org.springframework.context.ApplicationContext;\n import org.springframework.context.ApplicationContextAware;\n import org.springframework.context.ConfigurableApplicationContext;\n \n public class ApplicationContextProvider implements ApplicationContextAware {\n \n+    private static ConfigurableApplicationContext ctx;\n+\n+    public static ConfigurableApplicationContext getApplicationContext() {\n+        return ctx;\n+    }\n+\n     /**\n      * Wiring the ApplicationContext into a static method.\n      *\n      * @param ctx Spring application context\n-     * @throws BeansException if thrown by application context methods\n      */\n     @Override\n-    public void setApplicationContext(final ApplicationContext ctx) throws BeansException {\n-\n-        ApplicationContextManager.setApplicationContext((ConfigurableApplicationContext) ctx);\n+    public void setApplicationContext(ApplicationContext ctx) {\n+        ApplicationContextProvider.ctx = (ConfigurableApplicationContext) ctx;\n     }\n }"},{"sha":"fd6e473044905341781daaf66e16e412741ad364","filename":"core/src/main/java/org/apache/syncope/core/util/ConnObjectUtil.java","status":"modified","additions":14,"deletions":14,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FConnObjectUtil.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FConnObjectUtil.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FConnObjectUtil.java?ref=b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1","patch":"@@ -27,19 +27,6 @@\n import javassist.NotFoundException;\n import org.apache.commons.lang.RandomStringUtils;\n import org.apache.commons.lang.StringUtils;\n-import org.identityconnectors.common.security.GuardedByteArray;\n-import org.identityconnectors.common.security.GuardedString;\n-import org.identityconnectors.framework.common.objects.Attribute;\n-import org.identityconnectors.framework.common.objects.ConnectorObject;\n-import org.identityconnectors.framework.common.objects.ObjectClass;\n-import org.identityconnectors.framework.common.objects.OperationOptionsBuilder;\n-import org.identityconnectors.framework.common.objects.Uid;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n-import org.springframework.beans.factory.annotation.Autowired;\n-import org.springframework.context.ConfigurableApplicationContext;\n-import org.springframework.stereotype.Component;\n-import org.springframework.transaction.annotation.Transactional;\n import org.apache.syncope.client.mod.UserMod;\n import org.apache.syncope.client.to.AbstractAttributableTO;\n import org.apache.syncope.client.to.AttributeTO;\n@@ -57,6 +44,19 @@\n import org.apache.syncope.core.propagation.ConnectorFacadeProxy;\n import org.apache.syncope.core.rest.controller.UnauthorizedRoleException;\n import org.apache.syncope.core.rest.data.UserDataBinder;\n+import org.identityconnectors.common.security.GuardedByteArray;\n+import org.identityconnectors.common.security.GuardedString;\n+import org.identityconnectors.framework.common.objects.Attribute;\n+import org.identityconnectors.framework.common.objects.ConnectorObject;\n+import org.identityconnectors.framework.common.objects.ObjectClass;\n+import org.identityconnectors.framework.common.objects.OperationOptionsBuilder;\n+import org.identityconnectors.framework.common.objects.Uid;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.context.ConfigurableApplicationContext;\n+import org.springframework.stereotype.Component;\n+import org.springframework.transaction.annotation.Transactional;\n \n @Component\n public class ConnObjectUtil {\n@@ -288,7 +288,7 @@ public ConnObjectTO getConnObjectTO(final ConnectorObject connObject) {\n     }\n \n     public void retrieveVirAttrValues(final AbstractAttributable owner) {\n-        final ConfigurableApplicationContext context = ApplicationContextManager.getApplicationContext();\n+        final ConfigurableApplicationContext context = ApplicationContextProvider.getApplicationContext();\n         final ConnInstanceLoader connInstanceLoader = context.getBean(ConnInstanceLoader.class);\n \n         final Map<SchemaMappingUtil.SchemaMappingsWrapper, ConnectorObject> remoteObjects ="},{"sha":"a3a7b447be2982b064c87d9896d2d37b2d64cff8","filename":"core/src/main/java/org/apache/syncope/core/workflow/activiti/AbstractActivitiDelegate.java","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Factiviti%2FAbstractActivitiDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Factiviti%2FAbstractActivitiDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Factiviti%2FAbstractActivitiDelegate.java?ref=b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1","patch":"@@ -21,12 +21,12 @@\n import org.activiti.engine.TaskService;\n import org.activiti.engine.delegate.DelegateExecution;\n import org.activiti.engine.delegate.JavaDelegate;\n+import org.apache.syncope.core.persistence.dao.ConfDAO;\n+import org.apache.syncope.core.rest.data.UserDataBinder;\n+import org.apache.syncope.core.util.ApplicationContextProvider;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.context.ConfigurableApplicationContext;\n-import org.apache.syncope.core.persistence.dao.ConfDAO;\n-import org.apache.syncope.core.rest.data.UserDataBinder;\n-import org.apache.syncope.core.util.ApplicationContextManager;\n \n /**\n  * Abstract base class for Activiti's JavaDelegate implementations in Syncope.\n@@ -38,7 +38,7 @@ public abstract class AbstractActivitiDelegate implements JavaDelegate {\n      */\n     protected static final Logger LOG = LoggerFactory.getLogger(AbstractActivitiDelegate.class);\n \n-    protected static final ConfigurableApplicationContext CONTEXT = ApplicationContextManager.getApplicationContext();\n+    protected static final ConfigurableApplicationContext CONTEXT = ApplicationContextProvider.getApplicationContext();\n \n     protected TaskService taskService;\n "},{"sha":"3439dc5393e9b6fa097a0132cd4ee3ab45dbe80b","filename":"core/src/test/java/org/apache/syncope/core/init/ConnInstanceLoaderTest.java","status":"modified","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Finit%2FConnInstanceLoaderTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Finit%2FConnInstanceLoaderTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Finit%2FConnInstanceLoaderTest.java?ref=b5873e9b15dda14956c5a7f3fb88df7ee32c8cd1","patch":"@@ -18,7 +18,6 @@\n  */\n package org.apache.syncope.core.init;\n \n-import org.apache.syncope.core.init.ConnInstanceLoader;\n import static org.junit.Assert.assertEquals;\n \n import org.junit.Before;\n@@ -29,7 +28,7 @@\n import org.apache.syncope.core.AbstractTest;\n import org.apache.syncope.core.persistence.dao.ResourceDAO;\n import org.apache.syncope.core.propagation.ConnectorFacadeProxy;\n-import org.apache.syncope.core.util.ApplicationContextManager;\n+import org.apache.syncope.core.util.ApplicationContextProvider;\n import org.apache.syncope.core.util.ConnBundleManager;\n \n @Transactional\n@@ -51,8 +50,8 @@ public void before() {\n \n         // Remove any other connector instance bean set up by\n         // standard ConnInstanceLoader.load()\n-        for (String bean : ApplicationContextManager.getApplicationContext().getBeanNamesForType(\n-                ConnectorFacadeProxy.class)) {\n+        for (String bean : ApplicationContextProvider.getApplicationContext().\n+                getBeanNamesForType(ConnectorFacadeProxy.class)) {\n \n             cil.unregisterConnector(bean);\n         }\n@@ -62,7 +61,8 @@ public void before() {\n     public void load() {\n         cil.load();\n \n-        assertEquals(resourceDAO.findAll().size(), ApplicationContextManager.getApplicationContext()\n-                .getBeanNamesForType(ConnectorFacadeProxy.class).length);\n+        assertEquals(resourceDAO.findAll().size(),\n+                ApplicationContextProvider.getApplicationContext().\n+                getBeanNamesForType(ConnectorFacadeProxy.class).length);\n     }\n }"}]}
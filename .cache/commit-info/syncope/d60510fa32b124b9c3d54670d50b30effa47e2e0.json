{"sha":"d60510fa32b124b9c3d54670d50b30effa47e2e0","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmQ2MDUxMGZhMzJiMTI0YjljM2Q1NDY3MGQ1MGIzMGVmZmE0N2UyZTA=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2010-11-22T12:10:34Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2010-11-22T12:10:34Z"},"message":"AjaxDropDownChoice panel added\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1246636 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"115e898d0c115c5199d8b8101ff8e37399cfe997","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/115e898d0c115c5199d8b8101ff8e37399cfe997"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/d60510fa32b124b9c3d54670d50b30effa47e2e0","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d60510fa32b124b9c3d54670d50b30effa47e2e0","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d60510fa32b124b9c3d54670d50b30effa47e2e0","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d60510fa32b124b9c3d54670d50b30effa47e2e0/comments","author":null,"committer":null,"parents":[{"sha":"88e7c08f7d44c89079c42e9211f3f133ca426ef6","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/88e7c08f7d44c89079c42e9211f3f133ca426ef6","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/88e7c08f7d44c89079c42e9211f3f133ca426ef6"}],"stats":{"total":70,"additions":67,"deletions":3},"files":[{"sha":"585da41734cde253885669ed06d6d33125b94e8c","filename":"console/src/main/java/org/syncope/console/pages/UserModalPage.java","status":"modified","additions":31,"deletions":2,"changes":33,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d60510fa32b124b9c3d54670d50b30effa47e2e0/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d60510fa32b124b9c3d54670d50b30effa47e2e0/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java?ref=d60510fa32b124b9c3d54670d50b30effa47e2e0","patch":"@@ -37,6 +37,7 @@\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n+import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n \n import org.apache.wicket.extensions.markup.html.form.palette.Palette;\n@@ -327,7 +328,7 @@ protected void onSubmit(AjaxRequestTarget target,\n \n userForm.add(container);\n \n-submit = new AjaxButton(\"submit\", new Model(getString(\"submit\"))) {\n+submit = new IndicatingAjaxButton (\"submit\", new Model(getString(\"submit\"))){\n \n     @Override\n     protected void onSubmit(AjaxRequestTarget target, Form form) {\n@@ -372,10 +373,25 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n     protected void onError(AjaxRequestTarget target, Form form) {\n         target.addComponent(form.get(\"feedback\"));\n     }\n+\n+//    @Override\n+//    protected IAjaxCallDecorator getAjaxCallDecorator() {\n+//        return new AjaxPostprocessingCallDecorator(super.getAjaxCallDecorator()) {\n+//            private static final long serialVersionUID = 1L;\n+//\n+//            @Override\n+//            public CharSequence postDecorateScript(CharSequence script) {\n+//                return script + \"for(i = 0;i<document.forms[0].length;i++) \" +\n+//                        \"{document.forms[0].elements[i].disabled ='disabled'}\";\n+//            }\n+//        };\n+//    }\n };\n \n userForm.add(submit);\n \n+//userForm.add(new NiceButton(\"submit\", new Model(getString(\"submit\"))));\n+\n userForm.add(new FeedbackPanel(\"feedback\").setOutputMarkupId(true));\n \n //Roles Tab\n@@ -534,7 +550,20 @@ public void cloneOldUserTO(UserTO userTO) {\n \n     oldUser.setId(userTO.getId());\n     oldUser.setPassword(userTO.getPassword());\n-    oldUser.setAttributes(userTO.getAttributes());\n+\n+    AttributeTO tempAttr;\n+    for(AttributeTO attribute : userTO.getAttributes()) {\n+        tempAttr = new AttributeTO();\n+        tempAttr.setReadonly(attribute.isReadonly());\n+\n+        tempAttr.setSchema(attribute.getSchema());\n+\n+        for (String tempVal : attribute.getValues() )\n+            tempAttr.getValues().add(tempVal);\n+\n+        oldUser.getAttributes().add(tempAttr);\n+    }\n+\n     oldUser.setResources(userTO.getResources());\n     oldUser.setMemberships(new ArrayList<MembershipTO>());\n "},{"sha":"a77208d8833dae464f07859d049e58a08d379621","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/form/UpdatingDropDownChoice.java","status":"modified","additions":13,"deletions":0,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d60510fa32b124b9c3d54670d50b30effa47e2e0/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FUpdatingDropDownChoice.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d60510fa32b124b9c3d54670d50b30effa47e2e0/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FUpdatingDropDownChoice.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FUpdatingDropDownChoice.java?ref=d60510fa32b124b9c3d54670d50b30effa47e2e0","patch":"@@ -15,9 +15,11 @@\n \n package org.syncope.console.wicket.markup.html.form;\n \n+import java.util.List;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.markup.html.form.DropDownChoice;\n+import org.apache.wicket.markup.html.form.IChoiceRenderer;\n import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.PropertyModel;\n \n@@ -36,4 +38,15 @@ protected void onUpdate( AjaxRequestTarget target )\n             }\n         } );\n     }\n+\n+     public UpdatingDropDownChoice(String id, IModel model,\n+             List<String> choices, IChoiceRenderer renderer) {\n+        super(id, model, choices,renderer);\n+        add( new AjaxFormComponentUpdatingBehavior( \"onblur\" )\n+        {\n+            protected void onUpdate( AjaxRequestTarget target )\n+            {\n+            }\n+        } );\n+    }\n  }\n\\ No newline at end of file"},{"sha":"ecaad7873ed4ca9c218ca1a4a1aa1bcb7fef9892","filename":"console/src/main/resources/org/syncope/console/wicket/markup/html/form/AjaxDropDownChoicePanel.html","status":"added","additions":20,"deletions":0,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d60510fa32b124b9c3d54670d50b30effa47e2e0/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxDropDownChoicePanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d60510fa32b124b9c3d54670d50b30effa47e2e0/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxDropDownChoicePanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxDropDownChoicePanel.html?ref=d60510fa32b124b9c3d54670d50b30effa47e2e0","patch":"@@ -0,0 +1,20 @@\n+<!--\n+ Licensed under the Apache License, Version 2.0 (the \"License\");\n+ you may not use this file except in compliance with the License.\n+ You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+ Unless required by applicable law or agreed to in writing, software\n+ distributed under the License is distributed on an \"AS IS\" BASIS,\n+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ See the License for the specific language governing permissions and\n+ limitations under the License.\n+ under the License.\n+-->\n+<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n+    \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n+<wicket:panel>\n+    <select class=\"ui-widget-content ui-corner-all\"\n+            wicket:id=\"dropDownChoiceField\"/>\n+</wicket:panel>\n\\ No newline at end of file"},{"sha":"a1af75a18b7bb95fd3441b757ae1f1c483deef87","filename":"console/src/main/resources/org/syncope/console/wicket/markup/html/form/AjaxTextFieldPanel.html","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d60510fa32b124b9c3d54670d50b30effa47e2e0/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxTextFieldPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d60510fa32b124b9c3d54670d50b30effa47e2e0/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxTextFieldPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxTextFieldPanel.html?ref=d60510fa32b124b9c3d54670d50b30effa47e2e0","patch":"@@ -15,7 +15,9 @@\n <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n     \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n <wicket:panel>\n-    <input type=\"text\" class=\"text ui-widget-content ui-corner-all\" style=\"margin-bottom:10px;width:95%;padding:.4em;\" wicket:id=\"textField\"/>\n+    <input type=\"text\" class=\"text ui-widget-content ui-corner-all\" \n+           style=\"margin-bottom:10px;width:95%;padding:.4em;\"\n+           wicket:id=\"textField\"/>\n     <span wicket:id=\"required\"/>\n     <br/>\n </wicket:panel>\n\\ No newline at end of file"}]}
{"sha":"d337311563d6e028d7a69aa2d114e91661a74af3","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmQzMzczMTE1NjNkNmUwMjhkN2E2OWFhMmQxMTRlOTE2NjFhNzRhZjM=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2018-06-27T15:06:12Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2018-06-27T15:10:20Z"},"message":"Adjust release process","tree":{"sha":"156b595ef06f30bb295851b1c51810fc476d8c7d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/156b595ef06f30bb295851b1c51810fc476d8c7d"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/d337311563d6e028d7a69aa2d114e91661a74af3","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d337311563d6e028d7a69aa2d114e91661a74af3","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d337311563d6e028d7a69aa2d114e91661a74af3","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d337311563d6e028d7a69aa2d114e91661a74af3/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"9b1cb59788fde2a5a320de84b88a96dbf48b9134","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/9b1cb59788fde2a5a320de84b88a96dbf48b9134","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/9b1cb59788fde2a5a320de84b88a96dbf48b9134"}],"stats":{"total":273,"additions":17,"deletions":256},"files":[{"sha":"717afc9f969561fa98dde682fce1039677ecbead","filename":"common/rest-api/pom.xml","status":"modified","additions":0,"deletions":65,"changes":65,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d337311563d6e028d7a69aa2d114e91661a74af3/common%2Frest-api%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d337311563d6e028d7a69aa2d114e91661a74af3/common%2Frest-api%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Frest-api%2Fpom.xml?ref=d337311563d6e028d7a69aa2d114e91661a74af3","patch":"@@ -78,69 +78,4 @@ under the License.\n       </plugin>\n     </plugins>\n   </build>\n-  \n-  <profiles>\n-    <profile>\n-      <id>site</id>\n-\n-      <build>\n-        <defaultGoal>clean generate-resources compile site-deploy</defaultGoal>\n-\n-        <plugins>\n-          <plugin>\n-            <groupId>org.apache.maven.plugins</groupId>\n-            <artifactId>maven-javadoc-plugin</artifactId>\n-            <inherited>true</inherited>\n-            <executions>\n-              <execution>\n-                <id>javadocs-for-wadl</id>\n-                <phase>pre-site</phase>                \n-                <goals>\n-                  <goal>jar</goal>\n-                </goals>\n-              </execution>\n-            </executions>\n-          </plugin>\n-          \n-          <plugin>\n-            <groupId>org.apache.cxf</groupId>\n-            <artifactId>cxf-java2wadl-plugin</artifactId>\n-            <inherited>true</inherited>\n-            <executions>\n-              <execution>\n-                <id>parse-javadoc-for-wadl</id>\n-                <phase>pre-site</phase>\n-                <goals>\n-                  <goal>parsejavadoc</goal>\n-                </goals>\n-                <configuration>\n-                  <encoding>UTF-8</encoding>\n-                </configuration>\n-              </execution>\n-              <execution>\n-                <id>generate-wadl</id>\n-                <phase>pre-site</phase>\n-                <goals>\n-                  <goal>java2wadl</goal>\n-                </goals>\n-                <configuration>\n-                  <applicationTitle>Apache Syncope ${project.version}</applicationTitle>\n-                  <namespacePrefix>syncope21</namespacePrefix>\n-                  <incrementNamespacePrefix>false</incrementNamespacePrefix>\n-                  <linkAnyMediaTypeToXmlSchema>true</linkAnyMediaTypeToXmlSchema>\n-                  <useJaxbContextForQnames>true</useJaxbContextForQnames>\n-                  <addResourceAndMethodIds>true</addResourceAndMethodIds>\n-                  <usePathParamsToCompareOperations>false</usePathParamsToCompareOperations>\n-                  <classResourceNames />\n-                  <basePackages>org.apache.syncope.common.rest.api.service</basePackages>\n-                  <docProvider>org.apache.cxf.maven_plugin.javatowadl.ResourceMapJavaDocProvider</docProvider>\n-                  <attachWadl>true</attachWadl>\n-                </configuration>\n-              </execution>\n-            </executions>\n-          </plugin>\n-        </plugins>\n-      </build>\n-    </profile>\n-  </profiles>\n </project>"},{"sha":"3387ff1eb99e8d0cb02f6762c776a69a9dd51a26","filename":"core/rest-cxf/pom.xml","status":"modified","additions":1,"deletions":141,"changes":142,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d337311563d6e028d7a69aa2d114e91661a74af3/core%2Frest-cxf%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d337311563d6e028d7a69aa2d114e91661a74af3/core%2Frest-cxf%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Frest-cxf%2Fpom.xml?ref=d337311563d6e028d7a69aa2d114e91661a74af3","patch":"@@ -155,152 +155,12 @@ under the License.\n         <artifactId>maven-checkstyle-plugin</artifactId>\n       </plugin>\n     </plugins>\n-    \n+\n     <resources>\n       <resource>\n         <directory>src/main/resources</directory>\n         <filtering>true</filtering>\n       </resource>\n     </resources>\n   </build>\n-  \n-  <profiles>\n-    <profile>\n-      <id>site</id>\n-      \n-      <build>        \n-        <plugins>\n-          <!-- 1. Transform WADL into 2 HTML pages -->\n-          <plugin>\n-            <groupId>org.codehaus.mojo</groupId>\n-            <artifactId>xml-maven-plugin</artifactId>\n-            <inherited>true</inherited>\n-            <executions>\n-              <execution>\n-                <id>wadl2html</id>\n-                <phase>pre-site</phase>\n-                <goals>\n-                  <goal>transform</goal>\n-                </goals>\n-              </execution>\n-            </executions>\n-            <configuration>\n-              <transformationSets>\n-                <transformationSet>\n-                  <dir>${basedir}/../../common/rest-api/target/generated/wadl</dir>\n-                  <includes>\n-                    <include>application.wadl</include>\n-                  </includes>\n-                  <outputDir>${project.build.directory}/generated/wadl</outputDir>\n-                  <stylesheet>${basedir}/src/main/resources/wadl2html/identity.xsl</stylesheet>\n-                  <outputProperties>\n-                    <outputProperty>\n-                      <name>indent</name>\n-                      <value>yes</value>\n-                    </outputProperty>\n-                  </outputProperties>\n-                  <fileMappers>\n-                    <fileMapper implementation=\"org.codehaus.plexus.components.io.filemappers.RegExpFileMapper\">\n-                      <pattern>^.*$</pattern>\n-                      <replacement>syncope.wadl</replacement>\n-                    </fileMapper>\n-                  </fileMappers>\n-                </transformationSet>\n-                <transformationSet>\n-                  <dir>${project.build.directory}/generated/wadl</dir>\n-                  <includes>\n-                    <include>syncope.wadl</include>\n-                  </includes>\n-                  <outputDir>${project.build.directory}/generated/wadl</outputDir>\n-                  <stylesheet>${basedir}/src/main/resources/wadl2html/index.xsl</stylesheet>\n-                  <parameters>\n-                    <parameter>\n-                      <name>contextPath</name>\n-                      <value>..</value>\n-                    </parameter>\n-                  </parameters>\n-                  <outputProperties>\n-                    <outputProperty>\n-                      <name>indent</name>\n-                      <value>yes</value>\n-                    </outputProperty>\n-                  </outputProperties>\n-                  <fileMappers>\n-                    <fileMapper implementation=\"org.codehaus.plexus.components.io.filemappers.RegExpFileMapper\">\n-                      <pattern>^.*$</pattern>\n-                      <replacement>index.html</replacement>\n-                    </fileMapper>\n-                  </fileMappers>\n-                </transformationSet>\n-                <transformationSet>\n-                  <dir>${project.build.directory}/generated/wadl</dir>\n-                  <includes>\n-                    <include>syncope.wadl</include>\n-                  </includes>\n-                  <outputDir>${project.build.directory}/generated/wadl</outputDir>\n-                  <stylesheet>${basedir}/src/main/resources/wadl2html/schema.xsl</stylesheet>\n-                  <parameters>\n-                    <parameter>\n-                      <name>contextPath</name>\n-                      <value>..</value>\n-                    </parameter>\n-                    <parameter>\n-                      <name>schema-position</name>\n-                      <value>1</value>\n-                    </parameter>\n-                    <parameter>\n-                      <name>schema-prefix</name>\n-                      <value>syncope21</value>\n-                    </parameter>\n-                  </parameters>\n-                  <outputProperties>\n-                    <outputProperty>\n-                      <name>indent</name>\n-                      <value>yes</value>\n-                    </outputProperty>\n-                  </outputProperties>\n-                  <fileMappers>\n-                    <fileMapper implementation=\"org.codehaus.plexus.components.io.filemappers.RegExpFileMapper\">\n-                      <pattern>^.*$</pattern>\n-                      <replacement>schema_1_syncope21.html</replacement>\n-                    </fileMapper>\n-                  </fileMappers>\n-                </transformationSet>\n-              </transformationSets>\n-            </configuration>\n-          </plugin>\n-          \n-          <!-- 2. Fix external references -->\n-          <plugin>\n-            <groupId>org.apache.maven.plugins</groupId>\n-            <artifactId>maven-antrun-plugin</artifactId>\n-            <inherited>true</inherited>\n-            <executions>\n-              <execution>\n-                <id>copy-rest-reference-to-site</id>\n-                <phase>pre-site</phase>\n-                <configuration>\n-                  <target>\n-                    <replace file=\"${project.build.directory}/generated/wadl/index.html\" token=\"../webjars/jquery/$/jquery.min.js\" value=\"https://code.jquery.com/jquery-${jquery.version}.min.js\" />\n-                    <replace file=\"${project.build.directory}/generated/wadl/index.html\" token=\"../webjars/jquery-ui/$/jquery-ui.min.js\" value=\"http://code.jquery.com/ui/${jquery-ui.version}/jquery-ui.min.js\" />\n-                    <replace file=\"${project.build.directory}/generated/wadl/index.html\" token=\"../webjars/jquery-ui-themes/$/smoothness/jquery-ui.min.css\" value=\"https://code.jquery.com/ui/${jquery-ui.version}/themes/smoothness/jquery-ui.css\" />      \n-\n-                    <replace file=\"${project.build.directory}/generated/wadl/schema_1_syncope21.html\" token=\"../webjars/highlightjs/$/highlight.min.js\" value=\"http://cdnjs.cloudflare.com/ajax/libs/highlight.js/${highlightjs.version}/highlight.min.js\" />\n-                    <replace file=\"${project.build.directory}/generated/wadl/schema_1_syncope21.html\" token=\"../webjars/highlightjs/$/styles/default.min.css\" value=\"http://cdnjs.cloudflare.com/ajax/libs/highlight.js/${highlightjs.version}/styles/default.min.css\" />      \n-\n-                    <copy todir=\"${site.deploymentBaseDir}/rest/2.0\">\n-                      <fileset dir=\"${project.build.directory}/generated/wadl\" />\n-                    </copy>\n-                  </target>\n-                </configuration>\n-                <goals>\n-                  <goal>run</goal>\n-                </goals>\n-              </execution>\n-            </executions>\n-          </plugin>\n-        </plugins>\n-      </build>\n-    </profile>\n-  </profiles>\n </project>"},{"sha":"3678f8075cd7b430b635e70ea94715697ba7ad30","filename":"core/rest-cxf/src/main/resources/wadl2html/identity.xsl","status":"removed","additions":0,"deletions":28,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9b1cb59788fde2a5a320de84b88a96dbf48b9134/core%2Frest-cxf%2Fsrc%2Fmain%2Fresources%2Fwadl2html%2Fidentity.xsl","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9b1cb59788fde2a5a320de84b88a96dbf48b9134/core%2Frest-cxf%2Fsrc%2Fmain%2Fresources%2Fwadl2html%2Fidentity.xsl","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Frest-cxf%2Fsrc%2Fmain%2Fresources%2Fwadl2html%2Fidentity.xsl?ref=9b1cb59788fde2a5a320de84b88a96dbf48b9134","patch":"@@ -1,28 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n-<!--\n-  Licensed to the Apache Software Foundation (ASF) under one\n-  or more contributor license agreements.  See the NOTICE file\n-  distributed with this work for additional information\n-  regarding copyright ownership.  The ASF licenses this file\n-  to you under the Apache License, Version 2.0 (the\n-  \"License\"); you may not use this file except in compliance\n-  with the License.  You may obtain a copy of the License at\n-\n-   http://www.apache.org/licenses/LICENSE-2.0\n-\n-  Unless required by applicable law or agreed to in writing,\n-  software distributed under the License is distributed on an\n-  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-  KIND, either express or implied.  See the License for the\n-  specific language governing permissions and limitations\n-  under the License.\n--->\n-<xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\n-                version=\"1.0\">\n-\n-    <xsl:template match=\"node()|@*\">\n-        <xsl:copy>\n-            <xsl:apply-templates select=\"@*|node()\"/>\n-        </xsl:copy>\n-    </xsl:template>\n-</xsl:stylesheet>"},{"sha":"ba1b346309bb5d02479c48ec69b5512106deab4e","filename":"src/site/xdoc/release-process.xml","status":"modified","additions":16,"deletions":22,"changes":38,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d337311563d6e028d7a69aa2d114e91661a74af3/src%2Fsite%2Fxdoc%2Frelease-process.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d337311563d6e028d7a69aa2d114e91661a74af3/src%2Fsite%2Fxdoc%2Frelease-process.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fsite%2Fxdoc%2Frelease-process.xml?ref=d337311563d6e028d7a69aa2d114e91661a74af3","patch":"@@ -317,14 +317,26 @@ mvn javadoc:aggregate\n cd common\n mvn -P offline-doc\n \n+# else if releasing from 2_0_X\n+cd fit/core-reference && mvn -Pdebug,all\n+curl -o /tmp/index.html http://localhost:9080/syncope/index.html\n+sed -i 's/\\/syncope\\/webjars\\/jquery\\/2.2.4\\/jquery.min.js/https:\\/\\/code.jquery.com\\/jquery-2.2.4.min.js/' index.html \n+sed -i 's/\\/syncope\\/webjars\\/jquery-ui\\/1.11.4\\/jquery-ui.min.js/http:\\/\\/code.jquery.com\\/ui\\/1.11.4\\/jquery-ui.min.js/' index.html               \n+sed -i 's/\\/syncope\\/webjars\\/jquery-ui-themes\\/1.11.4\\/smoothness\\/jquery-ui.min.css/https:\\/\\/code.jquery.com\\/ui\\/1.11.4\\/themes\\/smoothness\\/jquery-ui.css/' index.html \n+curl -o /tmp/schema_1_syncope2.html http://localhost:9080/syncope/schema_1_syncope2.html\n+sed -i 's/\\/syncope\\/webjars\\/highlightjs\\/9.8.0\\/styles\\/default.min.css/http:\\/\\/cdnjs.cloudflare.com\\/ajax\\/libs\\/highlight.js\\/9.8.0\\/styles\\/default.min.css/' schema_1_syncope2.html \n+sed -i 's/\\/syncope\\/webjars\\/highlightjs\\/9.8.0\\/highlight.min.js/http:\\/\\/cdnjs.cloudflare.com\\/ajax\\/libs\\/highlight.js\\/9.8.0\\/highlight.min.js/' schema_1_syncope2.html \n+curl -o /tmp/syncope.wadl http://localhost:9080/syncope/syncope.wadl\n+# now CTRL+C to stop cargo\n+\n svn checkout https://svn.apache.org/repos/asf/syncope/site/ site\n \n cd $SYNCOPE_SITE_DIR\n mvn -P site -Dsite.deploymentBaseUrl=file:///<absolute path to/site>/$VERSION\n \n cd <absolute path to/site>/$VERSION\n \n-# if releasing from 1_2_X              \n+# if releasing from 1_2_X         \n cp -r <absolute path to syncope-$VERSION above>/target/site/apidocs apidocs/1.2              \n cp -r <absolute path to syncope-$VERSION above>/common/target/generated/wadl/ rest/1.2\n rm -rf apidocs/2.0\n@@ -438,13 +450,13 @@ GIT source tag (XXXXXXXXXXXXXXXX):\n https://git-wip-us.apache.org/repos/asf?p=syncope.git;a=tag;h=XXXXXXXXXXXXXXXX\n \n List of changes:\n-https://git-wip-us.apache.org/repos/asf?p=syncope.git;a=blob_plain;f=CHANGES;h=0a7fb550234f89f4ad315272cf934f2e050250f7;hb=acbc816bdd6a75b27d8fb12b46905fe07e2cd977              \n+https://git-wip-us.apache.org/repos/asf?p=syncope.git;a=blob_plain;f=CHANGES;h=XXXXXXXXXXXXXXXX;hb=YYYYYYYYYYYYYYYYYYYYY              \n \n Staging artifacts:\n https://dist.apache.org/repos/dist/dev/syncope/$VERSION\n \n Maven staging repo:\n-https://repository.apache.org/content/repositories/orgapachesyncope-YYY/\n+https://repository.apache.org/content/repositories/orgapachesyncope-ZZZZ/\n \n Staging site:\n http://syncope.apache.org/$VERSION/\n@@ -458,24 +470,6 @@ Vote will be open for 72 hours.\n [ ] +0  no opinion\n [ ] -1  disapprove (and reason why)]]></pre>\n           </li>\n-          <li>\n-            Create a <code>DISCUSS</code> email thread on <a href=\"mailto:dev@syncope.apache.org\">syncope-dev</a> for any vote questions, e.g.:\n-            <pre><![CDATA[\n-To: dev@syncope.apache.org\n-Subject: [DISCUSS] Apache Syncope $VERSION\n-\n-Discussion thread for vote on $VERSION release, with GIT source tag (XXXXXXXXXXXXXXXX).\n-\n-For more information on the release process, check out http://www.apache.org/dev/release.html\n-\n-Some of the things to check before voting are:\n-- does \"mvn apache-rat:check\" pass on the source\n-- can you build the contents of source release zip and GIT tag\n-- do all of the staged jars/wars/zips contain the required LICENSE and NOTICE files\n-- are all of the staged jars/wars/zips signed and the signature verifiable\n-- is the signing key in the project's KEYS file and on a public server (i.e. http://www.apache.org/dist/syncope/)]]>\n-            </pre>\n-          </li>\n           <li>\n             Perform a review of the release and cast your vote; more details on\n             <a href=\"http://www.apache.org/dev/release.html\">Apache releases</a>.\n@@ -575,7 +569,7 @@ svn commit -m \"Promoting the staging site\"]]></source>\n           </li>\n           <li>\n             If releasing from 2_0_X, deploy the updated Docker images to <a href=\"https://hub.docker.com/\">DockerHub</a> by adjusting the GIT tag\n-             name then running the <a href=\"https://builds.apache.org/job/Syncope-2_0_X-Docker\"/>dedicated Jenkins job</a>.\n+             name then running the <a href=\"https://builds.apache.org/job/Syncope-2_0_X-Docker\">dedicated Jenkins job</a>.\n           </li>\n         </ol>\n       </subsection>"}]}
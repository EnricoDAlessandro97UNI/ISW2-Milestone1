{"sha":"b91c7452356693ccf596d2c9eb681edf74fc58e5","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmI5MWM3NDUyMzU2NjkzY2NmNTk2ZDJjOWViNjgxZWRmNzRmYzU4ZTU=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2010-08-20T14:45:22Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2010-08-20T14:45:22Z"},"message":"bug-fix on identityconnector bundles\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1246442 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"b5ca6e28808ea297627466d9c93a8b41132fd1d4","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/b5ca6e28808ea297627466d9c93a8b41132fd1d4"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/b91c7452356693ccf596d2c9eb681edf74fc58e5","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b91c7452356693ccf596d2c9eb681edf74fc58e5","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/b91c7452356693ccf596d2c9eb681edf74fc58e5","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b91c7452356693ccf596d2c9eb681edf74fc58e5/comments","author":null,"committer":null,"parents":[{"sha":"356790b61f505df7c35cef5bd7311a18f3803fd9","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/356790b61f505df7c35cef5bd7311a18f3803fd9","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/356790b61f505df7c35cef5bd7311a18f3803fd9"}],"stats":{"total":223,"additions":179,"deletions":44},"files":[{"sha":"56ec07e2730d1c7b8d9ebac33a1687a14d9b8e94","filename":"identityconnectors/bundles/staticws/staticwebservice/src/main/java/org/syncope/identityconnectors/bundles/staticwebservice/WebServiceConnector.java","status":"modified","additions":8,"deletions":12,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b91c7452356693ccf596d2c9eb681edf74fc58e5/identityconnectors%2Fbundles%2Fstaticws%2Fstaticwebservice%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2FWebServiceConnector.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b91c7452356693ccf596d2c9eb681edf74fc58e5/identityconnectors%2Fbundles%2Fstaticws%2Fstaticwebservice%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2FWebServiceConnector.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/identityconnectors%2Fbundles%2Fstaticws%2Fstaticwebservice%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2FWebServiceConnector.java?ref=b91c7452356693ccf596d2c9eb681edf74fc58e5","patch":"@@ -74,19 +74,23 @@ public class WebServiceConnector implements\n      */\n     private static final Logger log =\n             LoggerFactory.getLogger(WebServiceConnector.class);\n+\n     /**\n      * Place holder for the Connection created in the init method.\n      */\n     private WebServiceConnection connection;\n+\n     /**\n      * Place holder for the {@link Configuration} passed into the init() method\n      * {@link WebServiceConnector#init}.\n      */\n     private WebServiceConfiguration config;\n+\n     /**\n      * Schema.\n      */\n     private Schema schema = null;\n+\n     /**\n      * Web Service Attributes.\n      */\n@@ -286,8 +290,7 @@ public Uid create(\n                         \"Missing required parameter\");\n             }\n \n-            if (value instanceof GuardedString\n-                    || value instanceof GuardedByteArray) {\n+            if (value instanceof GuardedString || value instanceof GuardedByteArray) {\n \n                 wsAttributeValue.setValue(value.toString());\n             } else {\n@@ -309,8 +312,7 @@ public Uid create(\n \n         if (log.isDebugEnabled()) {\n             log.debug(\n-                    \"\\nUser \" + accountName\n-                    + \"\\n\\tattributes: \" + attributes.size());\n+                    \"\\nUser \" + accountName + \"\\n\\tattributes: \" + attributes.size());\n         }\n \n         try {\n@@ -395,12 +397,7 @@ public Schema schema() {\n \n             if (log.isDebugEnabled()) {\n                 log.debug(\n-                        \"\\nAttribute: \"\n-                        + \"\\n\\tName: \" + attribute.getName()\n-                        + \"\\n\\tType: \" + attribute.getType()\n-                        + \"\\n\\tIsKey: \" + attribute.isKey()\n-                        + \"\\n\\tIsPassword: \" + attribute.isPassword()\n-                        + \"\\n\\tIsNullable: \" + attribute.isNullable());\n+                        \"\\nAttribute: \" + \"\\n\\tName: \" + attribute.getName() + \"\\n\\tType: \" + attribute.getType() + \"\\n\\tIsKey: \" + attribute.isKey() + \"\\n\\tIsPassword: \" + attribute.isPassword() + \"\\n\\tIsNullable: \" + attribute.isNullable());\n             }\n \n             try {\n@@ -608,8 +605,7 @@ public Uid update(ObjectClass objclass,\n                         \"Missing required parameter\");\n             }\n \n-            if (value instanceof GuardedString\n-                    || value instanceof GuardedByteArray) {\n+            if (value instanceof GuardedString || value instanceof GuardedByteArray) {\n \n                 wsAttributeValue.setValue(value.toString());\n             } else {"},{"sha":"69d337083c0f04164a4ae26e98858f2ef2273cae","filename":"identityconnectors/bundles/staticws/staticwebservice/src/test/java/org/syncope/identityconnectors/bundles/StaticWSTestITCase.java","status":"modified","additions":6,"deletions":5,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b91c7452356693ccf596d2c9eb681edf74fc58e5/identityconnectors%2Fbundles%2Fstaticws%2Fstaticwebservice%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2FStaticWSTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b91c7452356693ccf596d2c9eb681edf74fc58e5/identityconnectors%2Fbundles%2Fstaticws%2Fstaticwebservice%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2FStaticWSTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/identityconnectors%2Fbundles%2Fstaticws%2Fstaticwebservice%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2FStaticWSTestITCase.java?ref=b91c7452356693ccf596d2c9eb681edf74fc58e5","patch":"@@ -269,10 +269,10 @@ public boolean handle(ConnectorObject obj) {\n                 AttributeBuilder.build(Name.NAME, \"test\"));\n \n         Filter nameFilter = FilterBuilder.equalTo(\n-                AttributeBuilder.build(\"nome\", \"jhon\"));\n+                AttributeBuilder.build(\"name\", \"jhon\"));\n \n         Filter surnameFilter = FilterBuilder.equalTo(\n-                AttributeBuilder.build(\"cognome\", \"doe\"));\n+                AttributeBuilder.build(\"surname\", \"doe\"));\n \n         Filter filter = FilterBuilder.or(\n                 usernameFilter,\n@@ -302,9 +302,10 @@ public void create() {\n \n         attrs.add(AttributeBuilder.buildPassword(\"TESTPASSWORD\".toCharArray()));\n \n-        attrs.add(AttributeBuilder.build(\"cognome\", \"Doe\"));\n-        attrs.add(AttributeBuilder.build(\"privacy\", true));\n-        attrs.add(AttributeBuilder.build(\"data di nascita\", \"12/03/1990\"));\n+        attrs.add(AttributeBuilder.build(\"name\", \"John\"));\n+        attrs.add(AttributeBuilder.build(\"surname\", \"Doe\"));\n+        attrs.add(AttributeBuilder.build(\"type\", \"person\"));\n+        attrs.add(AttributeBuilder.build(\"birthdate\", \"12/03/1990\"));\n \n         Uid userUid = connector.create(ObjectClass.ACCOUNT, attrs, null);\n "},{"sha":"6c799a757a6b6ddfd05c79d4cec406f3498be1f9","filename":"identityconnectors/bundles/staticws/utilities/src/main/java/org/syncope/identityconnectors/bundles/commons/staticwebservice/to/WSAttribute.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b91c7452356693ccf596d2c9eb681edf74fc58e5/identityconnectors%2Fbundles%2Fstaticws%2Futilities%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fcommons%2Fstaticwebservice%2Fto%2FWSAttribute.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b91c7452356693ccf596d2c9eb681edf74fc58e5/identityconnectors%2Fbundles%2Fstaticws%2Futilities%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fcommons%2Fstaticwebservice%2Fto%2FWSAttribute.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/identityconnectors%2Fbundles%2Fstaticws%2Futilities%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fcommons%2Fstaticwebservice%2Fto%2FWSAttribute.java?ref=b91c7452356693ccf596d2c9eb681edf74fc58e5","patch":"@@ -101,7 +101,8 @@ public boolean isKey() {\n \n     public void setKey(boolean key) {\n         this.key = key;\n-        this.nullable = false;\n+        if(key)\n+            this.nullable = false;\n     }\n \n     public boolean isNullable() {"},{"sha":"8ae13562c1f4f8a8433918244425d25ff7a5af29","filename":"identityconnectors/bundles/staticws/ws-target-resource/src/main/java/org/syncope/identityconnectors/bundles/staticwebservice/wstarget/ProvisioningImpl.java","status":"modified","additions":147,"deletions":10,"changes":157,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b91c7452356693ccf596d2c9eb681edf74fc58e5/identityconnectors%2Fbundles%2Fstaticws%2Fws-target-resource%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2Fwstarget%2FProvisioningImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b91c7452356693ccf596d2c9eb681edf74fc58e5/identityconnectors%2Fbundles%2Fstaticws%2Fws-target-resource%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2Fwstarget%2FProvisioningImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/identityconnectors%2Fbundles%2Fstaticws%2Fws-target-resource%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2Fwstarget%2FProvisioningImpl.java?ref=b91c7452356693ccf596d2c9eb681edf74fc58e5","patch":"@@ -91,35 +91,172 @@ public String checkAlive() {\n      */\n     @Override\n     public List<WSAttribute> schema() {\n+        if (log.isInfoEnabled()) {\n+            log.info(\"Operation request received\");\n+        }\n+\n         List<WSAttribute> attrs = new ArrayList<WSAttribute>();\n \n         WSAttribute attr = null;\n \n-        attr = new WSAttribute(\"nome\");\n+        attr = new WSAttribute();\n+        attr.setName(\"userId\");\n+        attr.setNullable(false);\n+        attr.setPassword(false);\n+        attr.setKey(true);\n+        attr.setType(\"String\");\n         attrs.add(attr);\n \n-        attr = new WSAttribute(\"cognome\");\n+        attr = new WSAttribute();\n+        attr.setName(\"password\");\n         attr.setNullable(false);\n+        attr.setPassword(true);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n         attrs.add(attr);\n \n-        attr = new WSAttribute(\"username\");\n-        attr.setKey(true);\n+        attr = new WSAttribute();\n+        attr.setName(\"type\");\n+        attr.setNullable(false);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n         attrs.add(attr);\n \n-        attr = new WSAttribute(\"password\");\n-        attr.setPassword(true);\n+        attr = new WSAttribute();\n+        attr.setName(\"residence\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n+        attrs.add(attr);\n+\n+        attr = new WSAttribute();\n+        attr.setName(\"telephone\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n+        attrs.add(attr);\n+\n+        attr = new WSAttribute();\n+        attr.setName(\"fax\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n+        attrs.add(attr);\n+\n+        attr = new WSAttribute();\n+        attr.setName(\"preference\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n+        attrs.add(attr);\n+\n+        attr = new WSAttribute();\n+        attr.setName(\"name\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n+        attrs.add(attr);\n+\n+        attr = new WSAttribute();\n+        attr.setName(\"surname\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n+        attrs.add(attr);\n+\n+        attr = new WSAttribute();\n+        attr.setName(\"birthdate\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"Date\");\n+        attrs.add(attr);\n+\n+        attr = new WSAttribute();\n+        attr.setName(\"telephone\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n+        attrs.add(attr);\n+\n+        attr = new WSAttribute();\n+        attr.setName(\"gender\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n+        attrs.add(attr);\n+\n+        attr = new WSAttribute();\n+        attr.setName(\"taxNumber\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n+        attrs.add(attr);\n+\n+        attr = new WSAttribute();\n+        attr.setName(\"state\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n+        attrs.add(attr);\n+\n+        attr = new WSAttribute();\n+        attr.setName(\"studyTitle\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n+        attrs.add(attr);\n+\n+        attr = new WSAttribute();\n+        attr.setName(\"studyArea\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n         attrs.add(attr);\n \n-        attr = new WSAttribute(\"data di nascita\", \"Date\");\n+        attr = new WSAttribute();\n+        attr.setName(\"job\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n         attrs.add(attr);\n \n-        attr = new WSAttribute(\"privacy\", \"Boolean\");\n+        attr = new WSAttribute();\n+        attr.setName(\"companyType\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n         attrs.add(attr);\n \n-        attr = new WSAttribute(\"altezza\", \"Double\");\n+        attr = new WSAttribute();\n+        attr.setName(\"companyName\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n         attrs.add(attr);\n \n-        attr = new WSAttribute(\"eta\", \"Long\");\n+        attr = new WSAttribute();\n+        attr.setName(\"vatNumber\");\n+        attr.setNullable(true);\n+        attr.setPassword(false);\n+        attr.setKey(false);\n+        attr.setType(\"String\");\n         attrs.add(attr);\n \n         return attrs;"},{"sha":"b83c14169972e1cecc12d3f0131049b04e022767","filename":"identityconnectors/bundles/staticws/ws-target-resource/src/test/java/org/syncope/identityconnectors/bundles/staticwebservice/wstarget/test/ProvisioningTestITCase.java","status":"modified","additions":16,"deletions":16,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b91c7452356693ccf596d2c9eb681edf74fc58e5/identityconnectors%2Fbundles%2Fstaticws%2Fws-target-resource%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2Fwstarget%2Ftest%2FProvisioningTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b91c7452356693ccf596d2c9eb681edf74fc58e5/identityconnectors%2Fbundles%2Fstaticws%2Fws-target-resource%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2Fwstarget%2Ftest%2FProvisioningTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/identityconnectors%2Fbundles%2Fstaticws%2Fws-target-resource%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2Fwstarget%2Ftest%2FProvisioningTestITCase.java?ref=b91c7452356693ccf596d2c9eb681edf74fc58e5","patch":"@@ -140,45 +140,45 @@ public void create() {\n \n         try {\n             WSAttributeValue uid = new WSAttributeValue();\n-            uid.setName(\"username\");\n-            uid.setValue(\"test1\");\n+            uid.setName(\"userId\");\n+            uid.setValue(\"john.doe@gmail.com\");\n             uid.setKey(true);\n \n             WSAttributeValue password = new WSAttributeValue();\n             password.setName(\"password\");\n             password.setValue(\"password\");\n             password.setPassword(true);\n \n+            WSAttributeValue type = new WSAttributeValue();\n+            type.setName(\"type\");\n+            type.setValue(\"person\");\n+\n             WSAttributeValue name = new WSAttributeValue();\n-            name.setName(\"nome\");\n-            name.setValue(\"test1\");\n+            name.setName(\"name\");\n+            name.setValue(\"john\");\n \n             WSAttributeValue surname = new WSAttributeValue();\n-            surname.setName(\"cognome\");\n-            surname.setValue(\"test1\");\n-\n-            WSAttributeValue privacy = new WSAttributeValue();\n-            privacy.setName(\"privacy\");\n-            privacy.setValue(Boolean.TRUE);\n+            surname.setName(\"surname\");\n+            surname.setValue(\"doe\");\n \n-            WSAttributeValue birthday = new WSAttributeValue();\n-            birthday.setName(\"data di nascita\");\n-            birthday.setValue(\"12/09/1990\");\n+            WSAttributeValue birthdate = new WSAttributeValue();\n+            birthdate.setName(\"birthdate\");\n+            birthdate.setValue(\"1990-01-01\");\n \n             List<WSAttributeValue> attrs = new ArrayList<WSAttributeValue>();\n             attrs.add(uid);\n             attrs.add(password);\n+            attrs.add(type);\n             attrs.add(name);\n             attrs.add(surname);\n-            attrs.add(privacy);\n-            attrs.add(birthday);\n+            attrs.add(birthdate);\n \n             provisioning.create(attrs);\n \n         } catch (Exception e) {\n \n             if (log.isDebugEnabled()) {\n-                log.debug(\"Unknown exception!\", e);\n+                    log.debug(\"Unknown exception!\", e);\n             }\n \n             t = e;"}]}
{"sha":"f17be3cf91d484595a632d01761a62b1b1d29b34","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmYxN2JlM2NmOTFkNDg0NTk1YTYzMmQwMTc2MWE2MmIxYjFkMjliMzQ=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-09-05T13:01:08Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-09-05T13:01:23Z"},"message":"[SYNCOPE-880] Cleanup, finalize, rework - This closes #26","tree":{"sha":"7f3bfcb646ad51f99581c9ad2d2ec766ed727a56","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/7f3bfcb646ad51f99581c9ad2d2ec766ed727a56"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/f17be3cf91d484595a632d01761a62b1b1d29b34","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f17be3cf91d484595a632d01761a62b1b1d29b34","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f17be3cf91d484595a632d01761a62b1b1d29b34","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f17be3cf91d484595a632d01761a62b1b1d29b34/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"2191c595f5a7a42e26e7658c80d959f0cb9af330","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/2191c595f5a7a42e26e7658c80d959f0cb9af330","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/2191c595f5a7a42e26e7658c80d959f0cb9af330"}],"stats":{"total":935,"additions":473,"deletions":462},"files":[{"sha":"eb865ab9ca9136004f4c3b9a30aa014b8aec11a0","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/entity/user/JPAUser.java","status":"modified","additions":27,"deletions":29,"changes":56,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Fuser%2FJPAUser.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Fuser%2FJPAUser.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Fuser%2FJPAUser.java?ref=f17be3cf91d484595a632d01761a62b1b1d29b34","patch":"@@ -136,14 +136,20 @@\n     @Temporal(TemporalType.TIMESTAMP)\n     private Date lastLoginDate;\n \n- \n     /**\n      * Change password date.\n      */\n     @Column(nullable = true)\n     @Temporal(TemporalType.TIMESTAMP)\n     private Date changePwdDate;\n \n+    @Column(nullable = true)\n+    private String lastRecertificator;\n+\n+    @Column(nullable = true)\n+    @Temporal(TemporalType.TIMESTAMP)\n+    private Date lastRecertification;\n+\n     @Basic\n     @Min(0)\n     @Max(1)\n@@ -185,14 +191,6 @@\n     @Column(nullable = true)\n     private String securityAnswer;\n \n-    @Column(nullable = true)\n-    private String lastRecertificator;\n-\n-    @Column(nullable = true)\n-    @Temporal(TemporalType.TIMESTAMP)\n-    private Date lastRecertification;\n-\n-    \n     @Override\n     public AnyType getType() {\n         return ApplicationContextProvider.getBeanFactory().getBean(AnyTypeDAO.class).findUser();\n@@ -396,6 +394,26 @@ public void setLastLoginDate(final Date lastLoginDate) {\n                 : new Date(lastLoginDate.getTime());\n     }\n \n+    @Override\n+    public String getLastRecertificator() {\n+        return lastRecertificator;\n+    }\n+\n+    @Override\n+    public void setLastRecertificator(final String lastRecertificator) {\n+        this.lastRecertificator = lastRecertificator;\n+    }\n+\n+    @Override\n+    public Date getLastRecertification() {\n+        return lastRecertification;\n+    }\n+\n+    @Override\n+    public void setLastRecertification(final Date lastRecertification) {\n+        this.lastRecertification = lastRecertification;\n+    }\n+\n     @Override\n     public String getUsername() {\n         return username;\n@@ -499,24 +517,4 @@ public List<? extends UMembership> getMemberships() {\n         return memberships;\n     }\n \n-    @Override\n-    public String getLastRecertificator() {\n-        return lastRecertificator;\n-    }\n-\n-    @Override\n-    public void setLastRecertificator(final String lastRecertificator) {\n-        this.lastRecertificator = lastRecertificator;\n-    }\n-\n-    @Override\n-    public Date getLastRecertification() {\n-        return lastRecertification;\n-    }\n-\n-    @Override\n-    public void setLastRecertification(final Date lastRecertification) {\n-        this.lastRecertification = lastRecertification;\n-    }\n-\n }"},{"sha":"05f39211e059feeae1087c9fc96260aaa0540918","filename":"core/persistence-jpa/src/main/resources/domains/MasterContent.xml","status":"modified","additions":11,"deletions":2,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fdomains%2FMasterContent.xml?ref=f17be3cf91d484595a632d01761a62b1b1d29b34","patch":"@@ -125,6 +125,15 @@ under the License.\n   <CPlainAttrValue id=\"e5fa94db-b524-4309-908d-8198d0b3f779\"\n                    attribute_id=\"bcfd7efc-0605-4b5e-b4bb-85c1d5f6493a\" booleanValue=\"0\"/>\n \n+  <!-- Identity Recertification interval in days -->                   \n+  <SyncopeSchema id=\"identity.recertification.day.interval\"/>\n+  <PlainSchema id=\"identity.recertification.day.interval\" type=\"Long\"\n+               mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n+  <CPlainAttr id=\"bcfd7efc-0605-4b5e-b4bb-85c1d5f64bbb\"\n+              owner_id=\"cd64d66f-6fff-4008-b966-a06b1cc1436d\" schema_id=\"identity.recertification.day.interval\"/>\n+  <CPlainAttrValue id=\"e5fa94db-b524-4309-908d-8198d0b3f77b\"\n+                   attribute_id=\"bcfd7efc-0605-4b5e-b4bb-85c1d5f64bbb\" longValue=\"-1\"/>\n+  \n   <AnyType id=\"USER\" kind=\"USER\"/>\n   <AnyTypeClass id=\"BaseUser\"/>\n   <AnyType_AnyTypeClass anyType_id=\"USER\" anyTypeClass_id=\"BaseUser\"/>\n@@ -139,8 +148,8 @@ under the License.\n                mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"\n                validatorClass=\"org.apache.syncope.core.persistence.jpa.attrvalue.validation.EmailAddressValidator\"/>\n \n-  <Task DTYPE=\"SchedTask\" id=\"e95555d2-1b09-42c8-b25b-f4c4ec598989\" name=\"Identity Recertification Task\"  active=\"1\"\n-        jobDelegateClassName=\"org.apache.syncope.core.provisioning.java.job.IdentityRecertification\" cronExpression=\"0 0 0 0 0 0\"/>\n+  <Task DTYPE=\"SchedTask\" id=\"e95555d2-1b09-42c8-b25b-f4c4ec598989\" name=\"Identity Recertification Task\"  active=\"0\"\n+        jobDelegateClassName=\"org.apache.syncope.core.provisioning.java.job.IdentityRecertification\"/>\n   \n   <!-- Password reset notifications -->\n   <MailTemplate id=\"requestPasswordReset\""},{"sha":"123da30222e146764b3cf949dce2b489d0a92431","filename":"core/persistence-jpa/src/test/resources/domains/MasterContent.xml","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml?ref=f17be3cf91d484595a632d01761a62b1b1d29b34","patch":"@@ -133,7 +133,7 @@ under the License.\n               owner_id=\"cd64d66f-6fff-4008-b966-a06b1cc1436d\" schema_id=\"identity.recertification.day.interval\"/>\n   <CPlainAttrValue id=\"e5fa94db-b524-4309-908d-8198d0b3f77b\"\n                    attribute_id=\"bcfd7efc-0605-4b5e-b4bb-85c1d5f64bbb\" longValue=\"365\"/>\n-    \n+\n   <!-- sample policies -->\n   <PullPolicy id=\"66691e96-285f-4464-bc19-e68384ea4c85\" description=\"a pull policy\"\n               specification='{\"conflictResolutionAction\":\"IGNORE\"}'/>\n@@ -1062,7 +1062,7 @@ under the License.\n   <Task DTYPE=\"SchedTask\" id=\"e95555d2-1b09-42c8-b25b-f4c4ec597979\" name=\"SampleJob Task\"  active=\"1\"\n         jobDelegateClassName=\"org.apache.syncope.fit.core.reference.TestSampleJobDelegate\" cronExpression=\"0 0 0 1 * ?\"/>\n   <Task DTYPE=\"SchedTask\" id=\"e95555d2-1b09-42c8-b25b-f4c4ec598989\" name=\"Identity Recertification Task\"  active=\"1\"\n-        jobDelegateClassName=\"org.apache.syncope.core.provisioning.java.job.IdentityRecertification\" cronExpression=\"0 0 0 1 * ?\"/>\n+        jobDelegateClassName=\"org.apache.syncope.core.provisioning.java.job.IdentityRecertification\"/>\n   <Task DTYPE=\"PropagationTask\" id=\"d6c2d6d3-6329-44c1-9187-f1469ead1cfa\" operation=\"UPDATE\"\n         objectClassName=\"__ACCOUNT__\" resource_id=\"ws-target-resource-nopropagation\" anyTypeKind=\"USER\" entityKey=\"1417acbe-cbf6-4277-9372-e75e04f97000\"\n         attributes='[{\"name\":\"__PASSWORD__\",\"value\":[{\"readOnly\":false,\"disposed\":false,\"encryptedBytes\":\"m9nh2US0Sa6m+cXccCq0Xw==\",\"base64SHA1Hash\":\"GFJ69qfjxEOdrmt+9q+0Cw2uz60=\"}]},{\"name\":\"__NAME__\",\"value\":[\"userId\"],\"nameValue\":\"userId\"},{\"name\":\"fullname\",\"value\":[\"fullname\"]},{\"name\":\"type\",\"value\":[\"type\"]}]'/>"},{"sha":"65584db7707f0f897180420be67a15caa1f823f7","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/IdentityRecertification.java","status":"modified","additions":48,"deletions":42,"changes":90,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FIdentityRecertification.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FIdentityRecertification.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FIdentityRecertification.java?ref=f17be3cf91d484595a632d01761a62b1b1d29b34","patch":"@@ -19,6 +19,7 @@\n package org.apache.syncope.core.provisioning.java.job;\r\n \r\n import java.util.Date;\r\n+import org.apache.commons.lang3.StringUtils;\r\n import org.apache.syncope.core.persistence.api.dao.ConfDAO;\r\n import org.apache.syncope.core.persistence.api.dao.UserDAO;\r\n import org.apache.syncope.core.persistence.api.entity.conf.CPlainAttr;\r\n@@ -30,71 +31,76 @@\n \r\n public class IdentityRecertification extends AbstractSchedTaskJobDelegate {\r\n \r\n-    @Autowired\r\n-    private UserDAO userDao;\r\n+    private static final String RECERTIFICATION_TIME = \"identity.recertification.day.interval\";\r\n \r\n-    @Autowired \r\n-    private UserWorkflowAdapter engine;\r\n-    \r\n     @Autowired\r\n     private ConfDAO confDAO;\r\n \r\n-    private long recertificationTimeLong = -1;\r\n+    @Autowired\r\n+    private UserDAO userDAO;\r\n \r\n-    public static final String RECERTIFICATION_TIME = \"identity.recertification.day.interval\";\r\n+    @Autowired\r\n+    private UserWorkflowAdapter uwfAdapter;\r\n \r\n-    @Override\r\n-    protected String doExecute(final boolean dryRun) throws JobExecutionException {\r\n+    private long recertificationTime = -1;\r\n \r\n-        LOG.info(\"TestIdentityRecertification {} running [SchedTask {}]\", (dryRun\r\n-              ? \"dry \"\r\n-              : \"\"), task.getKey());\r\n-        init();\r\n+    protected void init() {\r\n+        synchronized (this) {\r\n+            if (recertificationTime == -1) {\r\n+                CPlainAttr recertificationTimeAttr = confDAO.find(RECERTIFICATION_TIME);\r\n+                if (recertificationTimeAttr == null\r\n+                        || recertificationTimeAttr.getValues().get(0).getLongValue() == null) {\r\n \r\n-        if (recertificationTimeLong == -1) {\r\n-            LOG.debug(\"Identity Recertification disabled\");\r\n-            return (\"IDENTITY RECERT DISABLED\");\r\n+                    recertificationTime = -1;\r\n+                    return;\r\n+                }\r\n+\r\n+                recertificationTime = recertificationTimeAttr.getValues().get(0).getLongValue() * 1000 * 60 * 60 * 24;\r\n+            }\r\n         }\r\n+    }\r\n \r\n-        for (User u :userDao.findAll()) {\r\n-            LOG.debug(\"Processing user: {}\", u.getUsername());\r\n+    protected boolean isToBeRecertified(final User user) {\r\n+        Date lastCertificationDate = user.getLastRecertification();\r\n \r\n-            if (u.getWorkflowId() != null && !u.getWorkflowId().equals(\"\")\r\n-                    && toBeRecertified(u) && !dryRun) {\r\n-                engine.requestCertify(u);\r\n+        if (lastCertificationDate != null) {\r\n+            if (lastCertificationDate.getTime() + recertificationTime < System.currentTimeMillis()) {\r\n+                LOG.debug(\"{} is to be recertified\", user);\r\n+                return true;\r\n             } else {\r\n-                LOG.warn(\"Workflow for user: {} is null or empty\", u.getUsername());\r\n+                LOG.debug(\"{} do not need to be recertified\", user);\r\n+                return false;\r\n             }\r\n         }\r\n \r\n-        return (dryRun\r\n-                ? \"DRY \"\r\n-                : \"\") + \"RUNNING\";\r\n+        return true;\r\n     }\r\n \r\n-    public void init() {\r\n-        CPlainAttr recertificationTime = confDAO.find(RECERTIFICATION_TIME);\r\n-        if (recertificationTime == null || recertificationTime.getValues().get(0).getLongValue() == null) {\r\n-            recertificationTimeLong = -1;\r\n-            return;\r\n-        }\r\n-        recertificationTimeLong = recertificationTime.getValues().get(0).getLongValue() * 1000 * 60 * 60 * 24;\r\n-    }\r\n+    @Override\r\n+    protected String doExecute(final boolean dryRun) throws JobExecutionException {\r\n+        LOG.info(\"IdentityRecertification {} running [SchedTask {}]\", (dryRun\r\n+                ? \"dry \"\r\n+                : \"\"), task.getKey());\r\n \r\n-    public boolean toBeRecertified(final User user) {\r\n+        init();\r\n+        if (recertificationTime == -1) {\r\n+            LOG.debug(\"Identity Recertification disabled\");\r\n+            return (\"IDENTITY RECERTIFICATION DISABLED\");\r\n+        }\r\n \r\n-        Date lastCertificationDate = user.getLastRecertification();\r\n+        for (User user : userDAO.findAll()) {\r\n+            LOG.debug(\"Processing user: {}\", user.getUsername());\r\n \r\n-        if (lastCertificationDate != null) {\r\n-            if (lastCertificationDate.getTime() + recertificationTimeLong < System.currentTimeMillis()) {\r\n-                LOG.debug(\"User:  {}  to be recertified\", user.getUsername());\r\n-                return true;\r\n+            if (StringUtils.isNotBlank(user.getWorkflowId()) && isToBeRecertified(user) && !dryRun) {\r\n+                uwfAdapter.requestCertify(user);\r\n             } else {\r\n-                LOG.debug(\"User: {} do not needs to be recertified\", user.getUsername());\r\n-                return false;\r\n+                LOG.warn(\"Workflow for {} is null or empty\", user);\r\n             }\r\n         }\r\n-        return true;\r\n+\r\n+        return (dryRun\r\n+                ? \"DRY \"\r\n+                : \"\") + \"RUNNING\";\r\n     }\r\n \r\n     @Override\r"},{"sha":"d5248310e8ffd9206368a0160023ddb8cc60de7d","filename":"core/workflow-activiti/src/main/java/org/apache/syncope/core/workflow/activiti/ActivitiUserWorkflowAdapter.java","status":"modified","additions":3,"deletions":5,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Factiviti%2FActivitiUserWorkflowAdapter.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Factiviti%2FActivitiUserWorkflowAdapter.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Factiviti%2FActivitiUserWorkflowAdapter.java?ref=f17be3cf91d484595a632d01761a62b1b1d29b34","patch":"@@ -355,13 +355,12 @@ public WorkflowResult<String> requestCertify(final User user) {\n \n         LOG.debug(\"Executing request-certify\");\n         Set<String> performedTasks = doExecuteTask(user, \"request-certify\", null);\n-                \n+\n         PropagationByResource propByRes = engine.getRuntimeService().getVariable(\n                 user.getWorkflowId(), PROP_BY_RESOURCE, PropagationByResource.class);\n \n-        saveForFormSubmit(\n-                user, null, propByRes);\n-                \n+        saveForFormSubmit(user, null, propByRes);\n+\n         return new WorkflowResult<>(user.getKey(), null, performedTasks);\n     }\n \n@@ -371,7 +370,6 @@ protected WorkflowResult<String> doSuspend(final User user) {\n         updateStatus(user);\n         User updated = userDAO.save(user);\n \n-\n         return new WorkflowResult<>(updated.getKey(), null, performedTasks);\n     }\n "},{"sha":"d597a9adbfae7e8fc02284bcd85a18e503171fb2","filename":"core/workflow-activiti/src/main/java/org/apache/syncope/core/workflow/activiti/task/Recertify.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Factiviti%2Ftask%2FRecertify.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Factiviti%2Ftask%2FRecertify.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fworkflow-activiti%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Factiviti%2Ftask%2FRecertify.java?ref=f17be3cf91d484595a632d01761a62b1b1d29b34","patch":"@@ -41,7 +41,6 @@ public class Recertify extends AbstractActivitiServiceTask {\n \n     @Override\n     protected void doExecute(final String executionId) {\n-\n         LOG.debug(\"Processing Recertification {}\", executionId);\n         User user = engine.getRuntimeService().\n                 getVariable(executionId, ActivitiUserWorkflowAdapter.USER, User.class);"},{"sha":"fadeb801ce5eaf2670e6451690c2295f37d28c1f","filename":"core/workflow-activiti/src/main/resources/userWorkflow.bpmn20.xml","status":"modified","additions":5,"deletions":8,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fworkflow-activiti%2Fsrc%2Fmain%2Fresources%2FuserWorkflow.bpmn20.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fworkflow-activiti%2Fsrc%2Fmain%2Fresources%2FuserWorkflow.bpmn20.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fworkflow-activiti%2Fsrc%2Fmain%2Fresources%2FuserWorkflow.bpmn20.xml?ref=f17be3cf91d484595a632d01761a62b1b1d29b34","patch":"@@ -83,7 +83,7 @@ under the License.\n     <serviceTask id=\"delete\" name=\"Delete\" activiti:expression=\"#{delete.execute(execution.processInstanceId)}\"/>\n     <sequenceFlow id=\"flow99\" sourceRef=\"delete\" targetRef=\"theEnd\"/>\n     <!-- Recertification tasks -->\n-    <userTask id=\"RecertificationRequest\" name=\"Recertification Request\" activiti:formKey=\"recertify\">\n+    <userTask id=\"recertificationRequest\" name=\"Recertification Request\" activiti:formKey=\"recertify\">\n       <extensionElements>\n         <activiti:formProperty id=\"fullname\" name=\"Identity\" type=\"string\" expression=\"${user.getPlainAttr('fullname').getUniqueValue().getStringValue()}\" writable=\"false\"/> \n         <activiti:formProperty id=\"username\" name=\"Username\" type=\"string\" expression=\"${user.username}\" writable=\"false\"/>\n@@ -92,11 +92,11 @@ under the License.\n       </extensionElements>\n     </userTask>\n     <serviceTask id=\"recertify-task\" name=\"Recertify\" activiti:expression=\"#{recertify.execute(execution.processInstanceId)}\"/>\n-    <sequenceFlow id=\"recert-request-start-flow\" sourceRef=\"activeGw\" targetRef=\"RecertificationRequest\">\n+    <sequenceFlow id=\"recert-request-start-flow\" sourceRef=\"activeGw\" targetRef=\"recertificationRequest\">\n       <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${task == 'request-certify'}]]></conditionExpression>\n     </sequenceFlow>\n     <exclusiveGateway id=\"recert-condition\"/>\n-    <sequenceFlow id=\"recert-flow1\" sourceRef=\"RecertificationRequest\" targetRef=\"recertify-task\"/>\n+    <sequenceFlow id=\"recert-flow1\" sourceRef=\"recertificationRequest\" targetRef=\"recertify-task\"/>\n     <sequenceFlow id=\"recert-flow2\" sourceRef=\"recertify-task\" targetRef=\"recert-condition\"/>\n     <sequenceFlow id=\"recert-approved-flow\" sourceRef=\"recert-condition\" targetRef=\"active\">\n       <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${approve}]]></conditionExpression>\n@@ -110,19 +110,16 @@ under the License.\n   \n   <bpmndi:BPMNDiagram id=\"BPMNDiagram_userWorkflow\">\n     <bpmndi:BPMNPlane bpmnElement=\"userWorkflow\" id=\"BPMNPlane_userWorkflow\">\n-      <bpmndi:BPMNShape bpmnElement=\"RecertificationRequest\" id=\"BPMNShape_RecertificationRequest\">\n+      <bpmndi:BPMNShape bpmnElement=\"recertificationRequest\" id=\"BPMNShape_recertificationRequest\">\n         <omgdc:Bounds height=\"80.0\" width=\"100.0\" x=\"1370.0\" y=\"375.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"recertify-task\" id=\"BPMNShape_recertify-task\">\n         <omgdc:Bounds height=\"80.0\" width=\"100.0\" x=\"1230.0\" y=\"375.0\"/>\n       </bpmndi:BPMNShape>\n-      <bpmndi:BPMNShape bpmnElement=\"theEnd\" id=\"BPMNShape_theEnd\">\n-        <omgdc:Bounds height=\"28.0\" width=\"28.0\" x=\"2080.0\" y=\"451.0\"/>\n-      </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"recert-condition\" id=\"BPMNShape_recert-condition\">\n         <omgdc:Bounds height=\"39.99999999999994\" width=\"40.0\" x=\"1178.1817939458806\" y=\"475.4545368832992\"/>\n       </bpmndi:BPMNShape>\n-     <bpmndi:BPMNShape bpmnElement=\"theStart\" id=\"BPMNShape_theStart\">\n+      <bpmndi:BPMNShape bpmnElement=\"theStart\" id=\"BPMNShape_theStart\">\n         <omgdc:Bounds height=\"30.0\" width=\"30.0\" x=\"540.0\" y=\"525.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"create\" id=\"BPMNShape_create\">"},{"sha":"d348b24c5db4403482d0b0290bd80e8d968f88cd","filename":"core/workflow-api/src/main/java/org/apache/syncope/core/workflow/api/UserWorkflowAdapter.java","status":"modified","additions":7,"deletions":3,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fworkflow-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Fapi%2FUserWorkflowAdapter.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fworkflow-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Fapi%2FUserWorkflowAdapter.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fworkflow-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Fapi%2FUserWorkflowAdapter.java?ref=f17be3cf91d484595a632d01761a62b1b1d29b34","patch":"@@ -61,10 +61,14 @@ WorkflowResult<Pair<String, Boolean>> create(\n     WorkflowResult<Pair<String, Boolean>> create(\n             UserTO userTO, boolean disablePwdPolicyCheck, final Boolean enabled, boolean storePassword);\n \n+    /**\n+     * Request certification for the given user.\n+     * \n+     * @param user user to be subject to recertification\n+     * @return user just updated\n+     */\n+    WorkflowResult<String> requestCertify(User user);\n \n-    WorkflowResult<String> requestCertify(final User user);\n-\n-    \n     /**\n      * Execute a task on an user.\n      *"},{"sha":"ff8bc45e75c43765e9578c21b974fecc172fdef8","filename":"core/workflow-java/src/main/java/org/apache/syncope/core/workflow/java/DefaultUserWorkflowAdapter.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fworkflow-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Fjava%2FDefaultUserWorkflowAdapter.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f17be3cf91d484595a632d01761a62b1b1d29b34/core%2Fworkflow-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Fjava%2FDefaultUserWorkflowAdapter.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fworkflow-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Fjava%2FDefaultUserWorkflowAdapter.java?ref=f17be3cf91d484595a632d01761a62b1b1d29b34","patch":"@@ -209,7 +209,7 @@ public WorkflowResult<UserPatch> submitForm(final WorkflowFormTO form) {\n \n     @Override\n     public WorkflowResult<String> requestCertify(final User user) {\n-        throw new UnsupportedOperationException(\"Not supported.\"); \n+        throw new UnsupportedOperationException(\"Not supported.\");\n     }\n \n }"},{"sha":"aa811cf7015dc0725f35a3f79bc331caa1408354","filename":"fit/core-reference/src/main/resources/userWorkflow.bpmn20.xml","status":"modified","additions":304,"deletions":307,"changes":611,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f17be3cf91d484595a632d01761a62b1b1d29b34/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2FuserWorkflow.bpmn20.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f17be3cf91d484595a632d01761a62b1b1d29b34/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2FuserWorkflow.bpmn20.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2FuserWorkflow.bpmn20.xml?ref=f17be3cf91d484595a632d01761a62b1b1d29b34","patch":"@@ -69,7 +69,7 @@ try {\n     execution.setVariable(\"task\", null);\n   }\n }]]></script>\n-    </scriptTask>   \n+    </scriptTask>\n     <sequenceFlow id=\"sid-56E7041A-748A-4C71-ABF3-7DCA0BEC8991\" sourceRef=\"CreateApprovalEvaluation\" targetRef=\"createApprovalGW\"/>\n     <exclusiveGateway id=\"createApprovalGW\" default=\"sid-76B82B68-099D-4729-B8CF-D028386FE900\"/>\n     <sequenceFlow id=\"sid-76B82B68-099D-4729-B8CF-D028386FE900\" sourceRef=\"createApprovalGW\" targetRef=\"createApproval\"/>\n@@ -187,21 +187,20 @@ try {\n     <sequenceFlow id=\"flow8ter\" sourceRef=\"rejectUpdate\" targetRef=\"active\"/>\n     <serviceTask id=\"update\" name=\"Update\" activiti:expression=\"#{update.execute(execution.processInstanceId)}\"/>\n     <sequenceFlow id=\"flow9\" sourceRef=\"update\" targetRef=\"active\"/>\n-    <!-- Recertification tasks -->\n-    <userTask id=\"RecertificationRequest\" name=\"Recertification Request\" activiti:candidateGroups=\"managingDirector\" activiti:formKey=\"recertify\">\n+    <userTask id=\"recertificationRequest\" name=\"Recertification Request\" activiti:candidateGroups=\"managingDirector\" activiti:formKey=\"recertify\">\n       <extensionElements>\n-        <activiti:formProperty id=\"fullname\" name=\"Identity\" type=\"string\" expression=\"${user.getPlainAttr('fullname').getUniqueValue().getStringValue()}\" writable=\"false\"/> \n+        <activiti:formProperty id=\"fullname\" name=\"Identity\" type=\"string\" expression=\"${user.getPlainAttr('fullname').getUniqueValue().getStringValue()}\" writable=\"false\"/>\n         <activiti:formProperty id=\"username\" name=\"Username\" type=\"string\" expression=\"${user.username}\" writable=\"false\"/>\n         <activiti:formProperty id=\"approve\" name=\"Recertify?\" type=\"boolean\" required=\"true\"/>\n         <activiti:formProperty id=\"rejectReason\" name=\"Reason for not recertifying\" type=\"string\" variable=\"rejectReason\"/>\n       </extensionElements>\n     </userTask>\n+    <sequenceFlow id=\"recert-flow1\" sourceRef=\"recertificationRequest\" targetRef=\"recertify-task\"/>\n     <serviceTask id=\"recertify-task\" name=\"Recertify\" activiti:expression=\"#{recertify.execute(execution.processInstanceId)}\"/>\n-    <sequenceFlow id=\"recert-request-start-flow\" sourceRef=\"activeGw\" targetRef=\"RecertificationRequest\">\n+    <sequenceFlow id=\"recert-request-start-flow\" sourceRef=\"activeGw\" targetRef=\"recertificationRequest\">\n       <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${task == 'request-certify'}]]></conditionExpression>\n     </sequenceFlow>\n     <exclusiveGateway id=\"recert-condition\"/>\n-    <sequenceFlow id=\"recert-flow1\" sourceRef=\"RecertificationRequest\" targetRef=\"recertify-task\"/>\n     <sequenceFlow id=\"recert-flow2\" sourceRef=\"recertify-task\" targetRef=\"recert-condition\"/>\n     <sequenceFlow id=\"recert-approved-flow\" sourceRef=\"recert-condition\" targetRef=\"active\">\n       <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${approve}]]></conditionExpression>\n@@ -260,446 +259,444 @@ try {\n       ]]></script>\n     </scriptTask>\n     <sequenceFlow id=\"flow14ter\" sourceRef=\"rejectDelete\" targetRef=\"active\"/>\n-\n     <serviceTask id=\"generateToken4PasswordReset\" name=\"Generate token\" activiti:expression=\"#{generateToken.execute(execution.processInstanceId)}\"/>\n     <sequenceFlow id=\"flow15\" sourceRef=\"generateToken4PasswordReset\" targetRef=\"notify4RequestPasswordReset\"/>\n     <serviceTask id=\"notify4RequestPasswordReset\" name=\"Notification\" activiti:expression=\"#{notify.execute(execution.processInstanceId)}\"/>\n     <sequenceFlow id=\"flow16\" sourceRef=\"notify4RequestPasswordReset\" targetRef=\"active\"/>\n-    \n     <serviceTask id=\"checkToken4ConfirmPasswordReset\" name=\"Check token, remove and update password\" activiti:expression=\"#{passwordReset.execute(execution.processInstanceId)}\"/>\n     <sequenceFlow id=\"flow17\" sourceRef=\"checkToken4ConfirmPasswordReset\" targetRef=\"notify4ConfirmPasswordReset\"/>\n     <serviceTask id=\"notify4ConfirmPasswordReset\" name=\"Notification\" activiti:expression=\"#{notify.execute(execution.processInstanceId)}\"/>\n     <sequenceFlow id=\"flow18\" sourceRef=\"notify4ConfirmPasswordReset\" targetRef=\"active\"/>\n-    \n     <serviceTask id=\"delete\" name=\"Delete\" activiti:expression=\"#{delete.execute(execution.processInstanceId)}\"/>\n     <sequenceFlow id=\"flow99\" sourceRef=\"delete\" targetRef=\"theEnd\"/>\n     <endEvent id=\"theEnd\"/>\n   </process>\n-  \n   <bpmndi:BPMNDiagram id=\"BPMNDiagram_userWorkflow\">\n     <bpmndi:BPMNPlane bpmnElement=\"userWorkflow\" id=\"BPMNPlane_userWorkflow\">\n-      <bpmndi:BPMNShape bpmnElement=\"recert-condition\" id=\"BPMNShape_recert-condition\">\n-        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"1439.4825360864054\" y=\"12.176664483986166\"/>\n-      </bpmndi:BPMNShape>\n-      <bpmndi:BPMNShape bpmnElement=\"recertify-task\" id=\"BPMNShape_recertify-task\">\n-        <omgdc:Bounds height=\"80.0\" width=\"100.0\" x=\"1110.0\" y=\"15.0\"/>\n-      </bpmndi:BPMNShape>\n-      <bpmndi:BPMNShape bpmnElement=\"RecertificationRequest\" id=\"BPMNShape_RecertificationRequest\">\n-        <omgdc:Bounds height=\"80.0\" width=\"100.0\" x=\"930.0\" y=\"15.0\"/>\n-      </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"theStart\" id=\"BPMNShape_theStart\">\n-        <omgdc:Bounds height=\"30.0\" width=\"30.0\" x=\"0.0\" y=\"512.0\"/>\n+        <omgdc:Bounds height=\"30.0\" width=\"30.0\" x=\"335.0\" y=\"253.87982696585692\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"create\" id=\"BPMNShape_create\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"80.0\" y=\"497.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.00000000000011\" x=\"300.0\" y=\"323.1197797747269\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"createGW\" id=\"BPMNShape_createGW\">\n-        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"230.0\" y=\"507.0\"/>\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"330.0\" y=\"507.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"createApproval\" id=\"BPMNShape_createApproval\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"320.0\" y=\"560.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"420.0\" y=\"560.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"CreateApprovalEvaluation\" id=\"BPMNShape_CreateApprovalEvaluation\">\n+        <omgdc:Bounds height=\"80.0\" width=\"100.0\" x=\"420.0\" y=\"732.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"createApprovalGW\" id=\"BPMNShape_createApprovalGW\">\n-        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"470.0\" y=\"570.0\"/>\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"570.0\" y=\"570.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"enableGW\" id=\"BPMNShape_enableGW\">\n-        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"590.0\" y=\"429.0\"/>\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"690.0\" y=\"429.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"activate\" id=\"BPMNShape_activate\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"710.0\" y=\"610.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"810.0\" y=\"610.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"generateToken\" id=\"BPMNShape_generateToken\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"710.0\" y=\"213.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"810.0\" y=\"213.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"created\" id=\"BPMNShape_created\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"852.0\" y=\"213.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"952.0\" y=\"213.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"optinGW\" id=\"BPMNShape_optinGW\">\n-        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"1002.0\" y=\"223.0\"/>\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"1102.0\" y=\"223.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"removeToken\" id=\"BPMNShape_removeToken\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1080.0\" y=\"213.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1180.0\" y=\"213.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"active\" id=\"BPMNShape_active\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1030.0\" y=\"511.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1130.0\" y=\"511.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"activeGw\" id=\"BPMNShape_activeGw\">\n-        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"1400.0\" y=\"520.0\"/>\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"1500.0\" y=\"520.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"updateApproval\" id=\"BPMNShape_updateApproval\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1490.0\" y=\"740.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1590.0\" y=\"740.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"UpdateApprovalEvaluation\" id=\"BPMNShape_UpdateApprovalEvaluation\">\n+        <omgdc:Bounds height=\"80.0\" width=\"100.0\" x=\"1590.0\" y=\"824.5833282470703\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"updateApprovalGW\" id=\"BPMNShape_updateApprovalGW\">\n-        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"1670.0\" y=\"750.0\"/>\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"1770.0\" y=\"750.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"rejectUpdate\" id=\"BPMNShape_rejectUpdate\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1790.0\" y=\"840.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1890.0\" y=\"840.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"update\" id=\"BPMNShape_update\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1790.0\" y=\"700.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1890.0\" y=\"700.0\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"recertificationRequest\" id=\"BPMNShape_recertificationRequest\">\n+        <omgdc:Bounds height=\"80.0\" width=\"100.0\" x=\"1964.8786471876083\" y=\"499.9999999999999\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"recertify-task\" id=\"BPMNShape_recertify-task\">\n+        <omgdc:Bounds height=\"80.0\" width=\"100.00000000000045\" x=\"2106.1893792531678\" y=\"500.0000000000001\"/>\n+      </bpmndi:BPMNShape>\n+      <bpmndi:BPMNShape bpmnElement=\"recert-condition\" id=\"BPMNShape_recert-condition\">\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"2136.189379253168\" y=\"410.85416175189727\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"suspend\" id=\"BPMNShape_suspend\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1490.0\" y=\"100.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1590.0\" y=\"100.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"suspended\" id=\"BPMNShape_suspended\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1640.0\" y=\"120.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1740.0\" y=\"120.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"suspendedGw\" id=\"BPMNShape_suspendedGw\">\n-        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"1820.0\" y=\"180.0\"/>\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"1920.0\" y=\"180.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"reactivate\" id=\"BPMNShape_reactivate\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1940.0\" y=\"110.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"2040.0\" y=\"110.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"reject\" id=\"BPMNShape_reject\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"560.0\" y=\"659.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"660.0\" y=\"659.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"rejected\" id=\"BPMNShape_rejected\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"710.0\" y=\"770.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"810.0\" y=\"770.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"rejectedGw\" id=\"BPMNShape_rejectedGw\">\n-        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"890.0\" y=\"780.0\"/>\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"990.0\" y=\"780.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"deleteApproval\" id=\"BPMNShape_deleteApproval\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1490.0\" y=\"280.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1590.0\" y=\"280.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"deleteApprovalGW\" id=\"BPMNShape_deleteApprovalGW\">\n-        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"1670.0\" y=\"300.0\"/>\n+        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"1770.0\" y=\"300.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"rejectDelete\" id=\"BPMNShape_rejectDelete\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1790.0\" y=\"240.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1890.0\" y=\"240.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"generateToken4PasswordReset\" id=\"BPMNShape_generateToken4PasswordReset\">\n-        <omgdc:Bounds height=\"59.99999999999994\" width=\"100.0\" x=\"1543.209935088986\" y=\"452.6749142927693\"/>\n+        <omgdc:Bounds height=\"59.99999999999994\" width=\"100.0\" x=\"1643.209935088986\" y=\"452.6749142927693\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"notify4RequestPasswordReset\" id=\"BPMNShape_notify4RequestPasswordReset\">\n-        <omgdc:Bounds height=\"60.00000000000006\" width=\"100.0\" x=\"1748.9712597675173\" y=\"452.6749142927692\"/>\n+        <omgdc:Bounds height=\"60.00000000000006\" width=\"100.0\" x=\"1848.971259767517\" y=\"452.6749142927692\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"checkToken4ConfirmPasswordReset\" id=\"BPMNShape_checkToken4ConfirmPasswordReset\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1543.209935088986\" y=\"561.167207412115\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1643.209935088986\" y=\"561.167207412115\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"notify4ConfirmPasswordReset\" id=\"BPMNShape_notify4ConfirmPasswordReset\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1748.971259767517\" y=\"561.167207412115\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1848.971259767517\" y=\"561.167207412115\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"delete\" id=\"BPMNShape_delete\">\n-        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1940.0\" y=\"358.0\"/>\n+        <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"2220.0\" y=\"358.0\"/>\n       </bpmndi:BPMNShape>\n       <bpmndi:BPMNShape bpmnElement=\"theEnd\" id=\"BPMNShape_theEnd\">\n-        <omgdc:Bounds height=\"28.0\" width=\"28.0\" x=\"2078.1893792531678\" y=\"374.0\"/>\n+        <omgdc:Bounds height=\"28.0\" width=\"28.0\" x=\"2358.1893792531678\" y=\"374.0\"/>\n       </bpmndi:BPMNShape>\n-      <bpmndi:BPMNShape bpmnElement=\"CreateApprovalEvaluation\" id=\"BPMNShape_CreateApprovalEvaluation\">\n-        <omgdc:Bounds height=\"80.0\" width=\"100.0\" x=\"320.0\" y=\"732.0\"/>\n-      </bpmndi:BPMNShape>\n-      <bpmndi:BPMNShape bpmnElement=\"UpdateApprovalEvaluation\" id=\"BPMNShape_UpdateApprovalEvaluation\">\n-        <omgdc:Bounds height=\"80.0\" width=\"100.0\" x=\"1490.0\" y=\"824.5833282470703\"/>\n-      </bpmndi:BPMNShape>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow12\" id=\"BPMNEdge_flow12\">\n-        <omgdi:waypoint x=\"1940.0\" y=\"129.51612903225805\"/>\n-        <omgdi:waypoint x=\"1928.0\" y=\"127.0\"/>\n-        <omgdi:waypoint x=\"1378.0\" y=\"40.0\"/>\n-        <omgdi:waypoint x=\"1097.8443113772455\" y=\"511.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"active2Update\" id=\"BPMNEdge_active2Update\">\n+        <omgdi:waypoint x=\"1540.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1556.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1556.0\" y=\"730.0\"/>\n+        <omgdi:waypoint x=\"1890.0\" y=\"730.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow11\" id=\"BPMNEdge_flow11\">\n-        <omgdi:waypoint x=\"1740.0\" y=\"150.0\"/>\n-        <omgdi:waypoint x=\"1752.0\" y=\"150.0\"/>\n-        <omgdi:waypoint x=\"1752.0\" y=\"200.0\"/>\n-        <omgdi:waypoint x=\"1820.0\" y=\"200.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"sid-76B82B68-099D-4729-B8CF-D028386FE900\" id=\"BPMNEdge_sid-76B82B68-099D-4729-B8CF-D028386FE900\">\n+        <omgdi:waypoint x=\"570.0\" y=\"590.0\"/>\n+        <omgdi:waypoint x=\"520.0\" y=\"590.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow10\" id=\"BPMNEdge_flow10\">\n-        <omgdi:waypoint x=\"1590.0\" y=\"130.0\"/>\n-        <omgdi:waypoint x=\"1602.0\" y=\"130.0\"/>\n-        <omgdi:waypoint x=\"1602.0\" y=\"150.0\"/>\n-        <omgdi:waypoint x=\"1640.0\" y=\"150.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"active2ConfirmPasswordReset\" id=\"BPMNEdge_active2ConfirmPasswordReset\">\n+        <omgdi:waypoint x=\"1540.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1693.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1693.0868474125596\" y=\"561.167207412115\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"sid-E58BBC2D-8831-4CF2-A798-14B258FE569B\" id=\"BPMNEdge_sid-E58BBC2D-8831-4CF2-A798-14B258FE569B\">\n-        <omgdi:waypoint x=\"1670.4333333333334\" y=\"770.4333333333333\"/>\n-        <omgdi:waypoint x=\"1590.0\" y=\"770.1661129568106\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"rejected2Rejected\" id=\"BPMNEdge_rejected2Rejected\">\n+        <omgdi:waypoint x=\"990.0\" y=\"800.0\"/>\n+        <omgdi:waypoint x=\"910.0\" y=\"800.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"createApproval2Reject\" id=\"BPMNEdge_createApproval2Reject\">\n-        <omgdi:waypoint x=\"510.0\" y=\"590.0\"/>\n-        <omgdi:waypoint x=\"522.0\" y=\"590.0\"/>\n-        <omgdi:waypoint x=\"522.0\" y=\"689.0\"/>\n-        <omgdi:waypoint x=\"560.0\" y=\"689.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"sid-56E7041A-748A-4C71-ABF3-7DCA0BEC8991\" id=\"BPMNEdge_sid-56E7041A-748A-4C71-ABF3-7DCA0BEC8991\">\n+        <omgdi:waypoint x=\"496.3736263736264\" y=\"732.0\"/>\n+        <omgdi:waypoint x=\"582.0529801324503\" y=\"602.0529801324503\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"updateApprovalGW2Update\" id=\"BPMNEdge_updateApprovalGW2Update\">\n-        <omgdi:waypoint x=\"1710.0\" y=\"770.0\"/>\n-        <omgdi:waypoint x=\"1752.0\" y=\"770.0\"/>\n-        <omgdi:waypoint x=\"1752.0\" y=\"730.0\"/>\n-        <omgdi:waypoint x=\"1790.0\" y=\"730.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"active2Delete\" id=\"BPMNEdge_active2Delete\">\n+        <omgdi:waypoint x=\"1540.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1552.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1552.0\" y=\"680.0\"/>\n+        <omgdi:waypoint x=\"2174.4835898825067\" y=\"680.0\"/>\n+        <omgdi:waypoint x=\"2260.186670193408\" y=\"418.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"rejected2Delete\" id=\"BPMNEdge_rejected2Delete\">\n-        <omgdi:waypoint x=\"930.0\" y=\"800.0\"/>\n-        <omgdi:waypoint x=\"972.0\" y=\"800.0\"/>\n-        <omgdi:waypoint x=\"1223.0\" y=\"1000.5833740234375\"/>\n-        <omgdi:waypoint x=\"1990.0\" y=\"1000.5833740234375\"/>\n-        <omgdi:waypoint x=\"1990.0\" y=\"418.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"createApprovalGW2OptIn\" id=\"BPMNEdge_createApprovalGW2OptIn\">\n+        <omgdi:waypoint x=\"730.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"860.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"860.0\" y=\"273.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"updateApprovalGW2Reject\" id=\"BPMNEdge_updateApprovalGW2Reject\">\n-        <omgdi:waypoint x=\"1710.0\" y=\"770.0\"/>\n-        <omgdi:waypoint x=\"1752.0\" y=\"770.0\"/>\n-        <omgdi:waypoint x=\"1752.0\" y=\"870.0\"/>\n-        <omgdi:waypoint x=\"1790.0\" y=\"870.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow1\" id=\"BPMNEdge_flow1\">\n+        <omgdi:waypoint x=\"350.0\" y=\"283.8798269658569\"/>\n+        <omgdi:waypoint x=\"350.0\" y=\"323.1197797747269\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow8ter\" id=\"BPMNEdge_flow8ter\">\n-        <omgdi:waypoint x=\"1840.0\" y=\"900.0\"/>\n-        <omgdi:waypoint x=\"1840.0\" y=\"924.5833740234375\"/>\n-        <omgdi:waypoint x=\"1238.0\" y=\"924.5833740234375\"/>\n-        <omgdi:waypoint x=\"1114.0\" y=\"837.5833740234375\"/>\n-        <omgdi:waypoint x=\"1083.4391678338632\" y=\"571.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow2\" id=\"BPMNEdge_flow2\">\n+        <omgdi:waypoint x=\"350.00000000000006\" y=\"383.1197797747269\"/>\n+        <omgdi:waypoint x=\"350.0\" y=\"507.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow17\" id=\"BPMNEdge_flow17\">\n-        <omgdi:waypoint x=\"1643.209935088986\" y=\"591.167207412115\"/>\n-        <omgdi:waypoint x=\"1748.971259767517\" y=\"591.167207412115\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow3\" id=\"BPMNEdge_flow3\">\n+        <omgdi:waypoint x=\"470.0\" y=\"620.0\"/>\n+        <omgdi:waypoint x=\"470.0\" y=\"732.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow18\" id=\"BPMNEdge_flow18\">\n-        <omgdi:waypoint x=\"1748.971259767517\" y=\"619.2818713118841\"/>\n-        <omgdi:waypoint x=\"1673.0\" y=\"662.0\"/>\n-        <omgdi:waypoint x=\"1130.0\" y=\"551.2023608768972\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow4\" id=\"BPMNEdge_flow4\">\n+        <omgdi:waypoint x=\"910.0\" y=\"640.0\"/>\n+        <omgdi:waypoint x=\"922.0\" y=\"640.0\"/>\n+        <omgdi:waypoint x=\"1059.0\" y=\"640.0\"/>\n+        <omgdi:waypoint x=\"1143.3333333333333\" y=\"571.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow15\" id=\"BPMNEdge_flow15\">\n-        <omgdi:waypoint x=\"1643.209935088986\" y=\"482.67491429276924\"/>\n-        <omgdi:waypoint x=\"1748.9712597675173\" y=\"482.67491429276924\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"updateApprovalGW2Update\" id=\"BPMNEdge_updateApprovalGW2Update\">\n+        <omgdi:waypoint x=\"1810.0\" y=\"770.0\"/>\n+        <omgdi:waypoint x=\"1852.0\" y=\"770.0\"/>\n+        <omgdi:waypoint x=\"1852.0\" y=\"730.0\"/>\n+        <omgdi:waypoint x=\"1890.0\" y=\"730.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow16\" id=\"BPMNEdge_flow16\">\n-        <omgdi:waypoint x=\"1748.9712597675173\" y=\"459.5618225523418\"/>\n-        <omgdi:waypoint x=\"1592.0\" y=\"387.0\"/>\n-        <omgdi:waypoint x=\"1130.0\" y=\"525.9609375\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow5\" id=\"BPMNEdge_flow5\">\n+        <omgdi:waypoint x=\"910.0\" y=\"243.0\"/>\n+        <omgdi:waypoint x=\"952.0\" y=\"243.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow13\" id=\"BPMNEdge_flow13\">\n-        <omgdi:waypoint x=\"660.0\" y=\"689.0\"/>\n-        <omgdi:waypoint x=\"672.0\" y=\"689.0\"/>\n-        <omgdi:waypoint x=\"672.0\" y=\"800.0\"/>\n-        <omgdi:waypoint x=\"710.0\" y=\"800.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow6\" id=\"BPMNEdge_flow6\">\n+        <omgdi:waypoint x=\"1002.0\" y=\"273.0\"/>\n+        <omgdi:waypoint x=\"1002.0\" y=\"310.0\"/>\n+        <omgdi:waypoint x=\"1122.0\" y=\"310.0\"/>\n+        <omgdi:waypoint x=\"1122.0\" y=\"263.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow14\" id=\"BPMNEdge_flow14\">\n-        <omgdi:waypoint x=\"760.0\" y=\"770.0\"/>\n-        <omgdi:waypoint x=\"760.0\" y=\"732.0\"/>\n-        <omgdi:waypoint x=\"910.0\" y=\"732.0\"/>\n-        <omgdi:waypoint x=\"910.0\" y=\"780.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow7\" id=\"BPMNEdge_flow7\">\n+        <omgdi:waypoint x=\"1224.96644295302\" y=\"273.0\"/>\n+        <omgdi:waypoint x=\"1185.03355704698\" y=\"511.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"createApprovalGW2EnableGW\" id=\"BPMNEdge_createApprovalGW2EnableGW\">\n-        <omgdi:waypoint x=\"510.0\" y=\"590.0\"/>\n-        <omgdi:waypoint x=\"522.0\" y=\"590.0\"/>\n-        <omgdi:waypoint x=\"522.0\" y=\"449.0\"/>\n-        <omgdi:waypoint x=\"590.0\" y=\"449.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow8\" id=\"BPMNEdge_flow8\">\n+        <omgdi:waypoint x=\"1230.0\" y=\"540.8529411764706\"/>\n+        <omgdi:waypoint x=\"1500.058651026393\" y=\"540.0586510263929\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"create2Activate\" id=\"BPMNEdge_create2Activate\">\n-        <omgdi:waypoint x=\"270.0\" y=\"527.0\"/>\n-        <omgdi:waypoint x=\"282.0\" y=\"527.0\"/>\n-        <omgdi:waypoint x=\"282.0\" y=\"449.0\"/>\n-        <omgdi:waypoint x=\"590.0\" y=\"449.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow9\" id=\"BPMNEdge_flow9\">\n+        <omgdi:waypoint x=\"1990.0\" y=\"730.0\"/>\n+        <omgdi:waypoint x=\"2037.0\" y=\"730.0\"/>\n+        <omgdi:waypoint x=\"2037.0\" y=\"946.0\"/>\n+        <omgdi:waypoint x=\"1336.0\" y=\"946.0\"/>\n+        <omgdi:waypoint x=\"1180.0\" y=\"844.0\"/>\n+        <omgdi:waypoint x=\"1180.0\" y=\"571.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"active2RequestPasswordReset\" id=\"BPMNEdge_active2RequestPasswordReset\">\n-        <omgdi:waypoint x=\"1440.0\" y=\"540.0\"/>\n-        <omgdi:waypoint x=\"1593.0\" y=\"540.0\"/>\n-        <omgdi:waypoint x=\"1593.100069528527\" y=\"512.6749142927692\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"active2Suspend\" id=\"BPMNEdge_active2Suspend\">\n+        <omgdi:waypoint x=\"1540.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1552.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1552.0\" y=\"130.0\"/>\n+        <omgdi:waypoint x=\"1590.0\" y=\"130.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"created2Activate\" id=\"BPMNEdge_created2Activate\">\n-        <omgdi:waypoint x=\"1042.0\" y=\"243.0\"/>\n-        <omgdi:waypoint x=\"1080.0\" y=\"243.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"recert-flow2\" id=\"BPMNEdge_recert-flow2\">\n+        <omgdi:waypoint x=\"2156.189379253168\" y=\"500.0000000000001\"/>\n+        <omgdi:waypoint x=\"2156.189379253168\" y=\"450.85416175189727\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"createAsAnonymous2Approval\" id=\"BPMNEdge_createAsAnonymous2Approval\">\n-        <omgdi:waypoint x=\"270.0\" y=\"527.0\"/>\n-        <omgdi:waypoint x=\"282.0\" y=\"527.0\"/>\n-        <omgdi:waypoint x=\"282.0\" y=\"590.0\"/>\n-        <omgdi:waypoint x=\"320.0\" y=\"590.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"recert-flow1\" id=\"BPMNEdge_recert-flow1\">\n+        <omgdi:waypoint x=\"2064.8786471876083\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"2106.1893792531678\" y=\"540.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"sid-76B82B68-099D-4729-B8CF-D028386FE900\" id=\"BPMNEdge_sid-76B82B68-099D-4729-B8CF-D028386FE900\">\n-        <omgdi:waypoint x=\"470.0\" y=\"590.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"recert-denied-flow\" id=\"BPMNEdge_recert-denied-flow\">\n+        <omgdi:waypoint x=\"2156.189379253168\" y=\"410.85416175189727\"/>\n+        <omgdi:waypoint x=\"2156.189379253168\" y=\"53.25887430323031\"/>\n+        <omgdi:waypoint x=\"1640.0\" y=\"53.2588743032303\"/>\n+        <omgdi:waypoint x=\"1640.0\" y=\"100.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"createApprovalGW2Active\" id=\"BPMNEdge_createApprovalGW2Active\">\n+        <omgdi:waypoint x=\"730.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"861.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"861.0\" y=\"541.0\"/>\n+        <omgdi:waypoint x=\"1130.0\" y=\"541.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"active2UpdateApproval\" id=\"BPMNEdge_active2UpdateApproval\">\n+        <omgdi:waypoint x=\"1540.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1554.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1554.0\" y=\"770.0\"/>\n+        <omgdi:waypoint x=\"1590.0\" y=\"770.0\"/>\n+      </bpmndi:BPMNEdge>\n+      <bpmndi:BPMNEdge bpmnElement=\"createAsAnonymous2Approval\" id=\"BPMNEdge_createAsAnonymous2Approval\">\n+        <omgdi:waypoint x=\"370.0\" y=\"527.0\"/>\n+        <omgdi:waypoint x=\"382.0\" y=\"527.0\"/>\n+        <omgdi:waypoint x=\"382.0\" y=\"590.0\"/>\n         <omgdi:waypoint x=\"420.0\" y=\"590.0\"/>\n       </bpmndi:BPMNEdge>\n       <bpmndi:BPMNEdge bpmnElement=\"sid-B5FFEBCA-1FBF-457F-BC55-39FD387188B2\" id=\"BPMNEdge_sid-B5FFEBCA-1FBF-457F-BC55-39FD387188B2\">\n-        <omgdi:waypoint x=\"1690.5\" y=\"789.5\"/>\n-        <omgdi:waypoint x=\"1690.5\" y=\"821.5833740234375\"/>\n-        <omgdi:waypoint x=\"1990.0\" y=\"821.5833740234375\"/>\n-        <omgdi:waypoint x=\"1990.0\" y=\"418.0\"/>\n+        <omgdi:waypoint x=\"1790.0\" y=\"790.0\"/>\n+        <omgdi:waypoint x=\"1790.0\" y=\"821.0\"/>\n+        <omgdi:waypoint x=\"2270.0\" y=\"821.0\"/>\n+        <omgdi:waypoint x=\"2270.0\" y=\"418.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow14ter\" id=\"BPMNEdge_flow14ter\">\n-        <omgdi:waypoint x=\"1790.0\" y=\"260.7451923076923\"/>\n-        <omgdi:waypoint x=\"1424.0\" y=\"193.0\"/>\n-        <omgdi:waypoint x=\"1109.655172413793\" y=\"511.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"deleteApprovalGW2Delete\" id=\"BPMNEdge_deleteApprovalGW2Delete\">\n+        <omgdi:waypoint x=\"1810.0\" y=\"320.0\"/>\n+        <omgdi:waypoint x=\"1852.0\" y=\"320.0\"/>\n+        <omgdi:waypoint x=\"1852.0\" y=\"388.0\"/>\n+        <omgdi:waypoint x=\"2220.0\" y=\"388.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"createApprovalGW2OptIn\" id=\"BPMNEdge_createApprovalGW2OptIn\">\n-        <omgdi:waypoint x=\"630.0\" y=\"449.0\"/>\n-        <omgdi:waypoint x=\"760.0\" y=\"449.0\"/>\n-        <omgdi:waypoint x=\"760.0\" y=\"273.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"createApproval2Reject\" id=\"BPMNEdge_createApproval2Reject\">\n+        <omgdi:waypoint x=\"610.0\" y=\"590.0\"/>\n+        <omgdi:waypoint x=\"622.0\" y=\"590.0\"/>\n+        <omgdi:waypoint x=\"622.0\" y=\"689.0\"/>\n+        <omgdi:waypoint x=\"660.0\" y=\"689.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"createApprovalGW2Activate\" id=\"BPMNEdge_createApprovalGW2Activate\">\n-        <omgdi:waypoint x=\"630.0\" y=\"449.0\"/>\n-        <omgdi:waypoint x=\"672.0\" y=\"449.0\"/>\n-        <omgdi:waypoint x=\"672.0\" y=\"640.0\"/>\n-        <omgdi:waypoint x=\"710.0\" y=\"640.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"sid-53FA7F29-CE60-4AE6-921D-AF7331CDB19F\" id=\"BPMNEdge_sid-53FA7F29-CE60-4AE6-921D-AF7331CDB19F\">\n+        <omgdi:waypoint x=\"1690.0\" y=\"833.0555521647135\"/>\n+        <omgdi:waypoint x=\"1777.7342416529327\" y=\"777.7342416529327\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"active2DeleteApproval\" id=\"BPMNEdge_active2DeleteApproval\">\n-        <omgdi:waypoint x=\"1440.0\" y=\"540.0\"/>\n-        <omgdi:waypoint x=\"1454.0\" y=\"540.0\"/>\n-        <omgdi:waypoint x=\"1454.0\" y=\"310.0\"/>\n-        <omgdi:waypoint x=\"1490.0\" y=\"310.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"rejected2Delete\" id=\"BPMNEdge_rejected2Delete\">\n+        <omgdi:waypoint x=\"1030.0\" y=\"800.0\"/>\n+        <omgdi:waypoint x=\"1072.0\" y=\"800.0\"/>\n+        <omgdi:waypoint x=\"1323.0\" y=\"1000.0\"/>\n+        <omgdi:waypoint x=\"2270.0\" y=\"1000.0\"/>\n+        <omgdi:waypoint x=\"2270.0\" y=\"418.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow14bis\" id=\"BPMNEdge_flow14bis\">\n-        <omgdi:waypoint x=\"1590.0\" y=\"310.0\"/>\n-        <omgdi:waypoint x=\"1602.0\" y=\"310.0\"/>\n-        <omgdi:waypoint x=\"1602.0\" y=\"320.0\"/>\n-        <omgdi:waypoint x=\"1670.0\" y=\"320.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow14ter\" id=\"BPMNEdge_flow14ter\">\n+        <omgdi:waypoint x=\"1890.0\" y=\"260.7451923076923\"/>\n+        <omgdi:waypoint x=\"1524.0\" y=\"193.0\"/>\n+        <omgdi:waypoint x=\"1209.655172413793\" y=\"511.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"deleteApprovalGW2Delete\" id=\"BPMNEdge_deleteApprovalGW2Delete\">\n-        <omgdi:waypoint x=\"1710.0\" y=\"320.0\"/>\n-        <omgdi:waypoint x=\"1752.0\" y=\"320.0\"/>\n-        <omgdi:waypoint x=\"1752.0\" y=\"388.0\"/>\n-        <omgdi:waypoint x=\"1940.0\" y=\"388.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"suspended2Delete\" id=\"BPMNEdge_suspended2Delete\">\n+        <omgdi:waypoint x=\"1960.0\" y=\"200.0\"/>\n+        <omgdi:waypoint x=\"2270.0\" y=\"200.0\"/>\n+        <omgdi:waypoint x=\"2270.0\" y=\"358.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"active2Delete\" id=\"BPMNEdge_active2Delete\">\n-        <omgdi:waypoint x=\"1440.0\" y=\"540.0\"/>\n-        <omgdi:waypoint x=\"1452.0\" y=\"540.0\"/>\n-        <omgdi:waypoint x=\"1452.0\" y=\"680.0\"/>\n-        <omgdi:waypoint x=\"1955.0\" y=\"680.0\"/>\n-        <omgdi:waypoint x=\"1986.4041095890411\" y=\"418.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"deleteApprovalGW2Reject\" id=\"BPMNEdge_deleteApprovalGW2Reject\">\n+        <omgdi:waypoint x=\"1810.0\" y=\"320.0\"/>\n+        <omgdi:waypoint x=\"1852.0\" y=\"320.0\"/>\n+        <omgdi:waypoint x=\"1852.0\" y=\"270.0\"/>\n+        <omgdi:waypoint x=\"1890.0\" y=\"270.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"sid-A2BDF803-688C-4A4D-9D33-6D859C029245\" id=\"BPMNEdge_sid-A2BDF803-688C-4A4D-9D33-6D859C029245\">\n-        <omgdi:waypoint x=\"1540.0\" y=\"800.0\"/>\n-        <omgdi:waypoint x=\"1540.0\" y=\"824.5833282470703\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"createApprovalGW2EnableGW\" id=\"BPMNEdge_createApprovalGW2EnableGW\">\n+        <omgdi:waypoint x=\"610.0\" y=\"590.0\"/>\n+        <omgdi:waypoint x=\"622.0\" y=\"590.0\"/>\n+        <omgdi:waypoint x=\"622.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"690.0\" y=\"449.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"sid-B2EEC511-2924-4A95-B0B8-E35DA268DD58\" id=\"BPMNEdge_sid-B2EEC511-2924-4A95-B0B8-E35DA268DD58\">\n-        <omgdi:waypoint x=\"490.0\" y=\"610.0\"/>\n-        <omgdi:waypoint x=\"490.0\" y=\"859.0\"/>\n-        <omgdi:waypoint x=\"910.0\" y=\"859.0\"/>\n-        <omgdi:waypoint x=\"910.0\" y=\"820.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"created2Created\" id=\"BPMNEdge_created2Created\">\n+        <omgdi:waypoint x=\"1102.0\" y=\"243.0\"/>\n+        <omgdi:waypoint x=\"1052.0\" y=\"243.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"active2UpdateApproval\" id=\"BPMNEdge_active2UpdateApproval\">\n-        <omgdi:waypoint x=\"1440.0\" y=\"540.0\"/>\n-        <omgdi:waypoint x=\"1454.0\" y=\"540.0\"/>\n-        <omgdi:waypoint x=\"1454.0\" y=\"770.0\"/>\n-        <omgdi:waypoint x=\"1490.0\" y=\"770.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"suspended2Reactivate\" id=\"BPMNEdge_suspended2Reactivate\">\n+        <omgdi:waypoint x=\"1960.0\" y=\"200.0\"/>\n+        <omgdi:waypoint x=\"2002.0\" y=\"200.0\"/>\n+        <omgdi:waypoint x=\"2002.0\" y=\"140.0\"/>\n+        <omgdi:waypoint x=\"2040.0\" y=\"140.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"createApprovalGW2Active\" id=\"BPMNEdge_createApprovalGW2Active\">\n-        <omgdi:waypoint x=\"630.0\" y=\"449.0\"/>\n-        <omgdi:waypoint x=\"761.0\" y=\"449.0\"/>\n-        <omgdi:waypoint x=\"761.0\" y=\"541.0\"/>\n-        <omgdi:waypoint x=\"1030.0\" y=\"541.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"active2DeleteApproval\" id=\"BPMNEdge_active2DeleteApproval\">\n+        <omgdi:waypoint x=\"1540.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1554.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1554.0\" y=\"310.0\"/>\n+        <omgdi:waypoint x=\"1590.0\" y=\"310.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"suspended2Reactivate\" id=\"BPMNEdge_suspended2Reactivate\">\n-        <omgdi:waypoint x=\"1860.0\" y=\"200.0\"/>\n-        <omgdi:waypoint x=\"1902.0\" y=\"200.0\"/>\n-        <omgdi:waypoint x=\"1902.0\" y=\"140.0\"/>\n-        <omgdi:waypoint x=\"1940.0\" y=\"140.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"recert-approved-flow\" id=\"BPMNEdge_recert-approved-flow\">\n+        <omgdi:waypoint x=\"2137.1194728625946\" y=\"429.9240681424709\"/>\n+        <omgdi:waypoint x=\"1593.2010935079752\" y=\"365.2037059337773\"/>\n+        <omgdi:waypoint x=\"1230.0\" y=\"519.7275134518939\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"sid-53FA7F29-CE60-4AE6-921D-AF7331CDB19F\" id=\"BPMNEdge_sid-53FA7F29-CE60-4AE6-921D-AF7331CDB19F\">\n-        <omgdi:waypoint x=\"1590.0\" y=\"833.0555521647135\"/>\n-        <omgdi:waypoint x=\"1677.7342416529327\" y=\"777.7342416529327\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow17\" id=\"BPMNEdge_flow17\">\n+        <omgdi:waypoint x=\"1743.209935088986\" y=\"591.167207412115\"/>\n+        <omgdi:waypoint x=\"1848.971259767517\" y=\"591.167207412115\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"active2Update\" id=\"BPMNEdge_active2Update\">\n-        <omgdi:waypoint x=\"1440.0\" y=\"540.0\"/>\n-        <omgdi:waypoint x=\"1456.0\" y=\"540.0\"/>\n-        <omgdi:waypoint x=\"1456.0\" y=\"730.0\"/>\n-        <omgdi:waypoint x=\"1790.0\" y=\"730.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"sid-A2BDF803-688C-4A4D-9D33-6D859C029245\" id=\"BPMNEdge_sid-A2BDF803-688C-4A4D-9D33-6D859C029245\">\n+        <omgdi:waypoint x=\"1640.0\" y=\"800.0\"/>\n+        <omgdi:waypoint x=\"1640.0\" y=\"824.5833282470703\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"active2Suspend\" id=\"BPMNEdge_active2Suspend\">\n-        <omgdi:waypoint x=\"1440.0\" y=\"540.0\"/>\n-        <omgdi:waypoint x=\"1452.0\" y=\"540.0\"/>\n-        <omgdi:waypoint x=\"1452.0\" y=\"130.0\"/>\n-        <omgdi:waypoint x=\"1490.0\" y=\"130.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow18\" id=\"BPMNEdge_flow18\">\n+        <omgdi:waypoint x=\"1848.971259767517\" y=\"619.2818713118841\"/>\n+        <omgdi:waypoint x=\"1773.0\" y=\"662.0\"/>\n+        <omgdi:waypoint x=\"1230.0\" y=\"551.2023608768972\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"suspended2Delete\" id=\"BPMNEdge_suspended2Delete\">\n-        <omgdi:waypoint x=\"1860.0\" y=\"200.0\"/>\n-        <omgdi:waypoint x=\"1990.0\" y=\"200.0\"/>\n-        <omgdi:waypoint x=\"1990.0\" y=\"358.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow13\" id=\"BPMNEdge_flow13\">\n+        <omgdi:waypoint x=\"760.0\" y=\"689.0\"/>\n+        <omgdi:waypoint x=\"772.0\" y=\"689.0\"/>\n+        <omgdi:waypoint x=\"772.0\" y=\"800.0\"/>\n+        <omgdi:waypoint x=\"810.0\" y=\"800.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow3\" id=\"BPMNEdge_flow3\">\n-        <omgdi:waypoint x=\"370.0\" y=\"620.0\"/>\n-        <omgdi:waypoint x=\"370.0\" y=\"732.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow14\" id=\"BPMNEdge_flow14\">\n+        <omgdi:waypoint x=\"860.0\" y=\"770.0\"/>\n+        <omgdi:waypoint x=\"860.0\" y=\"732.0\"/>\n+        <omgdi:waypoint x=\"1010.0\" y=\"732.0\"/>\n+        <omgdi:waypoint x=\"1010.0\" y=\"780.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow2\" id=\"BPMNEdge_flow2\">\n-        <omgdi:waypoint x=\"180.0\" y=\"527.0\"/>\n-        <omgdi:waypoint x=\"230.0\" y=\"527.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"sid-B2EEC511-2924-4A95-B0B8-E35DA268DD58\" id=\"BPMNEdge_sid-B2EEC511-2924-4A95-B0B8-E35DA268DD58\">\n+        <omgdi:waypoint x=\"590.0\" y=\"610.0\"/>\n+        <omgdi:waypoint x=\"590.0\" y=\"859.0\"/>\n+        <omgdi:waypoint x=\"1010.0\" y=\"859.0\"/>\n+        <omgdi:waypoint x=\"1010.0\" y=\"820.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"sid-56E7041A-748A-4C71-ABF3-7DCA0BEC8991\" id=\"BPMNEdge_sid-56E7041A-748A-4C71-ABF3-7DCA0BEC8991\">\n-        <omgdi:waypoint x=\"396.3736263736264\" y=\"732.0\"/>\n-        <omgdi:waypoint x=\"482.05298013245033\" y=\"602.0529801324503\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow15\" id=\"BPMNEdge_flow15\">\n+        <omgdi:waypoint x=\"1743.209935088986\" y=\"482.67491429276924\"/>\n+        <omgdi:waypoint x=\"1848.971259767517\" y=\"482.67491429276924\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow5\" id=\"BPMNEdge_flow5\">\n-        <omgdi:waypoint x=\"810.0\" y=\"243.0\"/>\n-        <omgdi:waypoint x=\"852.0\" y=\"243.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"updateApprovalGW2Reject\" id=\"BPMNEdge_updateApprovalGW2Reject\">\n+        <omgdi:waypoint x=\"1810.0\" y=\"770.0\"/>\n+        <omgdi:waypoint x=\"1852.0\" y=\"770.0\"/>\n+        <omgdi:waypoint x=\"1852.0\" y=\"870.0\"/>\n+        <omgdi:waypoint x=\"1890.0\" y=\"870.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"rejected2Rejected\" id=\"BPMNEdge_rejected2Rejected\">\n-        <omgdi:waypoint x=\"890.0\" y=\"800.0\"/>\n-        <omgdi:waypoint x=\"810.0\" y=\"800.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow16\" id=\"BPMNEdge_flow16\">\n+        <omgdi:waypoint x=\"1848.971259767517\" y=\"459.5618225523418\"/>\n+        <omgdi:waypoint x=\"1692.0\" y=\"387.0\"/>\n+        <omgdi:waypoint x=\"1230.0\" y=\"525.9609375\"/>\n       </bpmndi:BPMNEdge>\n       <bpmndi:BPMNEdge bpmnElement=\"createApprovalGW2Suspended\" id=\"BPMNEdge_createApprovalGW2Suspended\">\n-        <omgdi:waypoint x=\"630.0\" y=\"449.0\"/>\n-        <omgdi:waypoint x=\"672.0\" y=\"449.0\"/>\n-        <omgdi:waypoint x=\"672.0\" y=\"130.0\"/>\n-        <omgdi:waypoint x=\"1490.0\" y=\"130.0\"/>\n+        <omgdi:waypoint x=\"730.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"772.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"772.0\" y=\"130.0\"/>\n+        <omgdi:waypoint x=\"1590.0\" y=\"130.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow4\" id=\"BPMNEdge_flow4\">\n-        <omgdi:waypoint x=\"810.0\" y=\"640.0\"/>\n-        <omgdi:waypoint x=\"822.0\" y=\"640.0\"/>\n-        <omgdi:waypoint x=\"959.0\" y=\"640.0\"/>\n-        <omgdi:waypoint x=\"1043.3333333333333\" y=\"571.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow14bis\" id=\"BPMNEdge_flow14bis\">\n+        <omgdi:waypoint x=\"1690.0\" y=\"310.0\"/>\n+        <omgdi:waypoint x=\"1702.0\" y=\"310.0\"/>\n+        <omgdi:waypoint x=\"1702.0\" y=\"320.0\"/>\n+        <omgdi:waypoint x=\"1770.0\" y=\"320.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow1\" id=\"BPMNEdge_flow1\">\n-        <omgdi:waypoint x=\"30.0\" y=\"527.0\"/>\n-        <omgdi:waypoint x=\"80.0\" y=\"527.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"createApprovalGW2Activate\" id=\"BPMNEdge_createApprovalGW2Activate\">\n+        <omgdi:waypoint x=\"730.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"772.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"772.0\" y=\"640.0\"/>\n+        <omgdi:waypoint x=\"810.0\" y=\"640.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"active2ConfirmPasswordReset\" id=\"BPMNEdge_active2ConfirmPasswordReset\">\n-        <omgdi:waypoint x=\"1440.0\" y=\"540.0\"/>\n-        <omgdi:waypoint x=\"1593.209935088986\" y=\"540.0\"/>\n-        <omgdi:waypoint x=\"1593.209935088986\" y=\"561.167207412115\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"created2Activate\" id=\"BPMNEdge_created2Activate\">\n+        <omgdi:waypoint x=\"1142.0\" y=\"243.0\"/>\n+        <omgdi:waypoint x=\"1180.0\" y=\"243.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"created2Created\" id=\"BPMNEdge_created2Created\">\n-        <omgdi:waypoint x=\"1002.0\" y=\"243.0\"/>\n-        <omgdi:waypoint x=\"952.0\" y=\"243.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"sid-E58BBC2D-8831-4CF2-A798-14B258FE569B\" id=\"BPMNEdge_sid-E58BBC2D-8831-4CF2-A798-14B258FE569B\">\n+        <omgdi:waypoint x=\"1770.0\" y=\"770.0\"/>\n+        <omgdi:waypoint x=\"1690.0\" y=\"770.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow7\" id=\"BPMNEdge_flow7\">\n-        <omgdi:waypoint x=\"1124.96644295302\" y=\"273.0\"/>\n-        <omgdi:waypoint x=\"1085.03355704698\" y=\"511.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"recert-request-start-flow\" id=\"BPMNEdge_recert-request-start-flow\">\n+        <omgdi:waypoint x=\"1540.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1964.8786471876083\" y=\"539.9999999999999\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow6\" id=\"BPMNEdge_flow6\">\n-        <omgdi:waypoint x=\"902.0\" y=\"273.0\"/>\n-        <omgdi:waypoint x=\"902.0\" y=\"310.0\"/>\n-        <omgdi:waypoint x=\"1022.0\" y=\"310.0\"/>\n-        <omgdi:waypoint x=\"1022.0\" y=\"263.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"create2Activate\" id=\"BPMNEdge_create2Activate\">\n+        <omgdi:waypoint x=\"370.0\" y=\"527.0\"/>\n+        <omgdi:waypoint x=\"382.0\" y=\"527.0\"/>\n+        <omgdi:waypoint x=\"382.0\" y=\"449.0\"/>\n+        <omgdi:waypoint x=\"690.0\" y=\"449.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"deleteApprovalGW2Reject\" id=\"BPMNEdge_deleteApprovalGW2Reject\">\n-        <omgdi:waypoint x=\"1710.0\" y=\"320.0\"/>\n-        <omgdi:waypoint x=\"1752.0\" y=\"320.0\"/>\n-        <omgdi:waypoint x=\"1752.0\" y=\"270.0\"/>\n-        <omgdi:waypoint x=\"1790.0\" y=\"270.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"active2RequestPasswordReset\" id=\"BPMNEdge_active2RequestPasswordReset\">\n+        <omgdi:waypoint x=\"1540.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1693.0\" y=\"540.0\"/>\n+        <omgdi:waypoint x=\"1693.100069528527\" y=\"512.6749142927692\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow9\" id=\"BPMNEdge_flow9\">\n-        <omgdi:waypoint x=\"1890.0\" y=\"730.0\"/>\n-        <omgdi:waypoint x=\"1937.0\" y=\"730.0\"/>\n-        <omgdi:waypoint x=\"1937.0\" y=\"946.5833740234375\"/>\n-        <omgdi:waypoint x=\"1236.0\" y=\"946.5833740234375\"/>\n-        <omgdi:waypoint x=\"1080.0\" y=\"844.5833740234375\"/>\n-        <omgdi:waypoint x=\"1080.0\" y=\"571.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow10\" id=\"BPMNEdge_flow10\">\n+        <omgdi:waypoint x=\"1690.0\" y=\"130.0\"/>\n+        <omgdi:waypoint x=\"1702.0\" y=\"130.0\"/>\n+        <omgdi:waypoint x=\"1702.0\" y=\"150.0\"/>\n+        <omgdi:waypoint x=\"1740.0\" y=\"150.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"flow8\" id=\"BPMNEdge_flow8\">\n-        <omgdi:waypoint x=\"1130.0\" y=\"540.8529411764706\"/>\n-        <omgdi:waypoint x=\"1400.058651026393\" y=\"540.0586510263929\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow11\" id=\"BPMNEdge_flow11\">\n+        <omgdi:waypoint x=\"1840.0\" y=\"150.0\"/>\n+        <omgdi:waypoint x=\"1852.0\" y=\"150.0\"/>\n+        <omgdi:waypoint x=\"1852.0\" y=\"200.0\"/>\n+        <omgdi:waypoint x=\"1920.0\" y=\"200.0\"/>\n       </bpmndi:BPMNEdge>\n       <bpmndi:BPMNEdge bpmnElement=\"flow99\" id=\"BPMNEdge_flow99\">\n-        <omgdi:waypoint x=\"2040.0\" y=\"388.0\"/>\n-        <omgdi:waypoint x=\"2078.1893792531678\" y=\"388.0\"/>\n+        <omgdi:waypoint x=\"2320.0\" y=\"388.0\"/>\n+        <omgdi:waypoint x=\"2358.1893792531678\" y=\"388.0\"/>\n       </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"recert-flow2\" id=\"BPMNEdge_recert-flow2\">\n-        <omgdi:waypoint x=\"1210.0\" y=\"51.18953815900822\"/>\n-        <omgdi:waypoint x=\"1440.8987892500566\" y=\"33.59291764763734\"/>\n-      </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"recert-flow1\" id=\"BPMNEdge_recert-flow1\">\n-        <omgdi:waypoint x=\"1030.0\" y=\"55.0\"/>\n-        <omgdi:waypoint x=\"1110.0\" y=\"55.0\"/>\n-      </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"recert-denied-flow\" id=\"BPMNEdge_recert-denied-flow\">\n-        <omgdi:waypoint x=\"1479.438749881016\" y=\"32.13287827859691\"/>\n-        <omgdi:waypoint x=\"1540.0\" y=\"32.0\"/>\n-        <omgdi:waypoint x=\"1540.0\" y=\"100.0\"/>\n-      </bpmndi:BPMNEdge>\n-      <bpmndi:BPMNEdge bpmnElement=\"recert-approved-flow\" id=\"BPMNEdge_recert-approved-flow\">\n-        <omgdi:waypoint x=\"1450.9385750878846\" y=\"43.63270348546535\"/>\n-        <omgdi:waypoint x=\"1102.3741233704363\" y=\"511.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow12\" id=\"BPMNEdge_flow12\">\n+        <omgdi:waypoint x=\"2040.0\" y=\"129.51612903225805\"/>\n+        <omgdi:waypoint x=\"2028.0\" y=\"127.0\"/>\n+        <omgdi:waypoint x=\"1478.0\" y=\"40.0\"/>\n+        <omgdi:waypoint x=\"1197.8443113772455\" y=\"511.0\"/>\n       </bpmndi:BPMNEdge>\n-       <bpmndi:BPMNEdge bpmnElement=\"recert-request-start-flow\" id=\"BPMNEdge_recert-request-start-flow\">\n-        <omgdi:waypoint x=\"1410.4864864864865\" y=\"529.5135135135135\"/>\n-        <omgdi:waypoint x=\"1016.2886597938144\" y=\"95.0\"/>\n+      <bpmndi:BPMNEdge bpmnElement=\"flow8ter\" id=\"BPMNEdge_flow8ter\">\n+        <omgdi:waypoint x=\"1940.0\" y=\"900.0\"/>\n+        <omgdi:waypoint x=\"1940.0\" y=\"924.0\"/>\n+        <omgdi:waypoint x=\"1338.0\" y=\"924.0\"/>\n+        <omgdi:waypoint x=\"1214.0\" y=\"837.0\"/>\n+        <omgdi:waypoint x=\"1183.445945945946\" y=\"571.0\"/>\n       </bpmndi:BPMNEdge>\n     </bpmndi:BPMNPlane>\n   </bpmndi:BPMNDiagram>"},{"sha":"d053271356a3bfabb229309c4c58b08456991009","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/RecertificationITCase.java","status":"modified","additions":7,"deletions":8,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f17be3cf91d484595a632d01761a62b1b1d29b34/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FRecertificationITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f17be3cf91d484595a632d01761a62b1b1d29b34/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FRecertificationITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FRecertificationITCase.java?ref=f17be3cf91d484595a632d01761a62b1b1d29b34","patch":"@@ -28,24 +28,23 @@\n import org.junit.runners.MethodSorters;\r\n \r\n @FixMethodOrder(MethodSorters.JVM)\r\n-public class RecertificationITCase extends AbstractTaskITCase{\r\n+public class RecertificationITCase extends AbstractTaskITCase {\r\n \r\n     @Test\r\n     public void recertification() {\r\n         execTask(taskService, \"e95555d2-1b09-42c8-b25b-f4c4ec598989\", \"JOB_FIRED\", 10, false);\r\n \r\n         List<WorkflowFormTO> forms = userWorkflowService.getForms();\r\n         assertFalse(forms.isEmpty());\r\n-        for (WorkflowFormTO f : forms) {\r\n-            userWorkflowService.claimForm(f.getTaskId());\r\n-            WorkflowFormPropertyTO w = f.getPropertyMap().get(\"approve\");\r\n-            w.setValue(\"true\");\r\n-            userWorkflowService.submitForm(f);\r\n+        for (WorkflowFormTO form : forms) {\r\n+            userWorkflowService.claimForm(form.getTaskId());\r\n+            WorkflowFormPropertyTO property = form.getPropertyMap().get(\"approve\");\r\n+            property.setValue(\"true\");\r\n+            userWorkflowService.submitForm(form);\r\n         }\r\n \r\n         forms = userWorkflowService.getForms();\r\n         assertTrue(forms.isEmpty());\r\n-\r\n     }\r\n \r\n-}\n\\ No newline at end of file\n+}\r"},{"sha":"3bc913cfbb8c1c13fbf19db1b0b9a03f41f1b1c8","filename":"pom.xml","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f17be3cf91d484595a632d01761a62b1b1d29b34/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f17be3cf91d484595a632d01761a62b1b1d29b34/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=f17be3cf91d484595a632d01761a62b1b1d29b34","patch":"@@ -204,7 +204,6 @@ under the License.\n       <roles>\n         <role>committer</role>\n       </roles>\n-      <url></url>\n     </developer>\n     <developer>\n       <id>coheigea</id>"},{"sha":"15e5f2ab58c82d70aaa463e9c42080a2d3e766af","filename":"src/main/asciidoc/reference-guide/concepts/workflow.adoc","status":"modified","additions":55,"deletions":0,"changes":55,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f17be3cf91d484595a632d01761a62b1b1d29b34/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fworkflow.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f17be3cf91d484595a632d01761a62b1b1d29b34/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fworkflow.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fworkflow.adoc?ref=f17be3cf91d484595a632d01761a62b1b1d29b34","patch":"@@ -155,3 +155,58 @@ the following flow (the actual operations on the admin console for the sample ab\n . administrator A claims the approval and is then allowed to manage it\n . administrator A reviews the updated user, with ongoing modification applied (no actual modification performed yet)\n . administrator A can approve or reject such modification\n+\n+===== Identity Recertification\n+\n+Recertification, also referred to as Attestation, is the process of periodically reviewing all the identities and\n+granted accesses, within a given organization.\n+\n+[TIP]\n+====\n+Recertification is the traditional and most effective countermeasure against __privilege creep__, that is the\n+rentention of accounts during time even when the user change his role, or even his job. \n+\n+Recertification is a good practice, recommended and often required by international or organizational standards.\n+====\n+\n+Typically, every entity within an Identity Manager needs to be periodically recertified:\n+\n+* *Identities*: Is the user still valid for the organization?\n+* *Accounts*: Is the user still using this account?\n+* *Group Memberships / Entitlements*: Does the user require this functionality?\n+\n+A basic <<tasks-custom,custom task>> implementing identity recertification is provided with the\n+ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/IdentityRecertification.java[IdentityRecertification^]\n+endif::[]\n+ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n+https://github.com/apache/syncope/blob/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/IdentityRecertification.java[IdentityRecertification^]\n+endif::[]\n+class, which can be used as base to implement more complex recertification processes.\n+\n+Essentially, this task goes through all the available users and checks whether they where already recertified in the\n+past `identity.recertification.day.interval` days - see <<configuration-parameters, below>> for details; when needed,\n+it triggers a specific <<approval,approval>>.\n+\n+The delegated administrator for approving recertifications can be configured by modifying the\n+\"Recertification Request\" task in the workflow definition.\n+\n+.Certifiers are members of the `managingDirector` group\n+====\n+[source,xml]\n+----\n+<userTask id=\"recertificationRequest\" name=\"Recertification Request\"\n+          activiti:formKey=\"recertify\"\n+          activiti:candidateGroups=\"managingDirector\">\n+----\n+====\n+\n+.Certifier is the manager defined in the user's `lastRecertificator` attribute\n+====\n+[source,xml]\n+----\n+<userTask id=\"recertificationRequest\" name=\"Recertification Request\"\n+          activiti:formKey=\"recertify\"\n+          activiti:candidateUser=\"${user.lastRecertificator}\">\n+----\n+===="},{"sha":"55fdc6d5e8dd04b9aa55489a5b75865368f581aa","filename":"src/main/asciidoc/reference-guide/workingwithapachesyncope/systemadministration/configurationparameters.adoc","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f17be3cf91d484595a632d01761a62b1b1d29b34/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fconfigurationparameters.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f17be3cf91d484595a632d01761a62b1b1d29b34/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fconfigurationparameters.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fconfigurationparameters.adoc?ref=f17be3cf91d484595a632d01761a62b1b1d29b34","patch":"@@ -40,5 +40,7 @@ application) is allowed;\n * `log.lastlogindate` - whether the system updates the `lastLoginDate` field of users upon authentication;\n * `tasks.interruptMaxRetries` - how many attempts shall be made when interrupting a running <<task,task>>;\n * `return.password.value` - whether the hashed password value shall be returned when reading users;\n-* `identity.recertification.day.interval` - Number of days bewteen identity recertifications.\n+* `identity.recertification.day.interval` - number of days bewteen\n+<<identity-recertification,identity recertifications>>.\n+\n Besides this default set, new configuration parameters can be defined to support <<customization,custom>> code."},{"sha":"138ad516ee57193edbd8c316adbe8f6a37844c24","filename":"src/main/asciidoc/reference-guide/workingwithapachesyncope/systemadministration/identityrecertification.adoc","status":"removed","additions":0,"deletions":50,"changes":50,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/2191c595f5a7a42e26e7658c80d959f0cb9af330/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fidentityrecertification.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/2191c595f5a7a42e26e7658c80d959f0cb9af330/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fidentityrecertification.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fidentityrecertification.adoc?ref=2191c595f5a7a42e26e7658c80d959f0cb9af330","patch":"@@ -1,50 +0,0 @@\n-//\n-// Licensed to the Apache Software Foundation (ASF) under one\n-// or more contributor license agreements.  See the NOTICE file\n-// distributed with this work for additional information\n-// regarding copyright ownership.  The ASF licenses this file\n-// to you under the Apache License, Version 2.0 (the\n-// \"License\"); you may not use this file except in compliance\n-// with the License.  You may obtain a copy of the License at\n-//\n-//   http://www.apache.org/licenses/LICENSE-2.0\n-//\n-// Unless required by applicable law or agreed to in writing,\n-// software distributed under the License is distributed on an\n-// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-// KIND, either express or implied.  See the License for the\n-// specific language governing permissions and limitations\n-// under the License.\n-//\n-==== Identity Recertification\n-\n-Recertification is the process to review all the identities and access within one organization. This is a tipical countermeasure against the  __privilege creep__, that is the rentention of accounts during time even when the user change his role, or even his job. Ths good practice is recomendded and often required by international or organizational standards.\n-\n-Tipically every \"object\" within one IDM system needs to be periodically re-certified:\n-\n-* Identities: Is the user still valid for the organization?\n-* Accounts: Is thie user still using this account?\n-* Group Membership/Entitlements: Does the user require this functionality?\n-\n-One simple scheduled job to implement Identity Recertification is provided. The class name is: __org.apache.syncope.core.provisioning.java.job.IdentityRecertification__ .\n-It can be used as base to implement more complex recertification processes.\n-It go through all the users and check if they have been recertified the past __identity.recertification.day.interval__ days. This is a global Parameter that can be set using Syncope Console or REST webservices.\n-The recertificaton task implemented by default set two attributes for each users:\n-- lastRertificator: the name of the user that re-certified the user\n-- lastRecertiication: the date when the re-certification is performed\n-This task is implement by the class: __org.apache.syncope.core.workflow.activiti.task.Recertify__\n-The certificator can be defined modifying the task: \"Create Recertification\". Actviti is very flexible, and allows to define approver user, groups, or even to use expression language to define approvers from attributes from the user, for example the user manager.\n-\n-Example 1: Certifier users are members of managingDirector group:\n-=====================================================================\n-    <userTask id=\"createApproval\" name=\"Create approval\"\n-              activiti:candidateGroups=\"managingDirector\" \n-              activiti:formKey=\"createApproval\">\n-=====================================================================\n-\n-Example 2: Certifier user is the user manager defined in the user attribute: __lastRecertificator__\n-=====================================================================\n-    < userTask id = \"createApproval\" name = \"Create Recertification\"\n-               activiti:candidateGroups=\"${user.lastRecertificator}\" \n-               activiti:formKey=\"createApproval\">\n-====================================================================="},{"sha":"016c3911b8f33e793ca5d0d2e36f2c8130a13910","filename":"src/main/asciidoc/reference-guide/workingwithapachesyncope/systemadministration/systemadministration.adoc","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f17be3cf91d484595a632d01761a62b1b1d29b34/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fsystemadministration.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f17be3cf91d484595a632d01761a62b1b1d29b34/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fsystemadministration.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fsystemadministration.adoc?ref=f17be3cf91d484595a632d01761a62b1b1d29b34","patch":"@@ -70,6 +70,4 @@ include::connectorbundles.adoc[]\n \n include::emailconfiguration.adoc[]\n \n-include::identityrecertification.adoc[]\n-\n include::configurationparameters.adoc[]"}]}
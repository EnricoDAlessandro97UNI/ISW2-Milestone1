{"sha":"dde0773f3321a9dc5a92fd1404f273af48cfc6c9","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmRkZTA3NzNmMzMyMWE5ZGM1YTkyZmQxNDA0ZjI3M2FmNDhjZmM2Yzk=","commit":{"author":{"name":"Colm O hEigeartaigh","email":"coheigea@apache.org","date":"2017-07-26T15:36:29Z"},"committer":{"name":"Colm O hEigeartaigh","email":"coheigea@apache.org","date":"2017-07-26T15:36:29Z"},"message":"SYNCOPE-1173 - Replace List<String> dynGroups with List<MembershipTO> dynMemberships","tree":{"sha":"0b711a12ddacd02c6c044e4cb5066cfe4fa3e236","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/0b711a12ddacd02c6c044e4cb5066cfe4fa3e236"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/dde0773f3321a9dc5a92fd1404f273af48cfc6c9","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/dde0773f3321a9dc5a92fd1404f273af48cfc6c9","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/dde0773f3321a9dc5a92fd1404f273af48cfc6c9","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/comments","author":{"login":"coheigea","id":472162,"node_id":"MDQ6VXNlcjQ3MjE2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/472162?v=4","gravatar_id":"","url":"https://api.github.com/users/coheigea","html_url":"https://github.com/coheigea","followers_url":"https://api.github.com/users/coheigea/followers","following_url":"https://api.github.com/users/coheigea/following{/other_user}","gists_url":"https://api.github.com/users/coheigea/gists{/gist_id}","starred_url":"https://api.github.com/users/coheigea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coheigea/subscriptions","organizations_url":"https://api.github.com/users/coheigea/orgs","repos_url":"https://api.github.com/users/coheigea/repos","events_url":"https://api.github.com/users/coheigea/events{/privacy}","received_events_url":"https://api.github.com/users/coheigea/received_events","type":"User","site_admin":false},"committer":{"login":"coheigea","id":472162,"node_id":"MDQ6VXNlcjQ3MjE2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/472162?v=4","gravatar_id":"","url":"https://api.github.com/users/coheigea","html_url":"https://github.com/coheigea","followers_url":"https://api.github.com/users/coheigea/followers","following_url":"https://api.github.com/users/coheigea/following{/other_user}","gists_url":"https://api.github.com/users/coheigea/gists{/gist_id}","starred_url":"https://api.github.com/users/coheigea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coheigea/subscriptions","organizations_url":"https://api.github.com/users/coheigea/orgs","repos_url":"https://api.github.com/users/coheigea/repos","events_url":"https://api.github.com/users/coheigea/events{/privacy}","received_events_url":"https://api.github.com/users/coheigea/received_events","type":"User","site_admin":false},"parents":[{"sha":"b436c7a7d7bba80ce3f085e9c9bca7c83e961b57","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b436c7a7d7bba80ce3f085e9c9bca7c83e961b57","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/b436c7a7d7bba80ce3f085e9c9bca7c83e961b57"}],"stats":{"total":116,"additions":74,"deletions":42},"files":[{"sha":"499bc261af24f6cc974130cbbc2f25cf11984600","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/Groups.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FGroups.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FGroups.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FGroups.java?ref=dde0773f3321a9dc5a92fd1404f273af48cfc6c9","patch":"@@ -313,8 +313,8 @@ private void reloadDynMemberships() {\n             GroupFiqlSearchConditionBuilder searchConditionBuilder = SyncopeClient.getGroupSearchConditionBuilder();\n \n             ArrayList<CompleteCondition> conditions = new ArrayList<>();\n-            for (String groupKey : GroupableRelatableTO.class.cast(anyTO).getDynGroups()) {\n-                conditions.add(searchConditionBuilder.is(\"key\").equalTo(groupKey).wrap());\n+            for (MembershipTO membership : GroupableRelatableTO.class.cast(anyTO).getDynMemberships()) {\n+                conditions.add(searchConditionBuilder.is(\"key\").equalTo(membership.getGroupKey()).wrap());\n             }\n \n             Map<String, GroupTO> assignedGroups = new HashMap<>();"},{"sha":"af8b0eae418fcd0abcbf0332dfb7a200d7e18481","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/to/AnyObjectTO.java","status":"modified","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FAnyObjectTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FAnyObjectTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FAnyObjectTO.java?ref=dde0773f3321a9dc5a92fd1404f273af48cfc6c9","patch":"@@ -41,7 +41,7 @@ public class AnyObjectTO extends AnyTO implements GroupableRelatableTO {\n \n     private final List<MembershipTO> memberships = new ArrayList<>();\n \n-    private final List<String> dynGroups = new ArrayList<>();\n+    private final List<MembershipTO> dynMemberships = new ArrayList<>();\n \n     public String getName() {\n         return name;\n@@ -91,11 +91,11 @@ public List<MembershipTO> getMemberships() {\n         return memberships;\n     }\n \n-    @XmlElementWrapper(name = \"dynGroups\")\n-    @XmlElement(name = \"role\")\n-    @JsonProperty(\"dynGroups\")\n+    @XmlElementWrapper(name = \"dynMemberships\")\n+    @XmlElement(name = \"dynMembership\")\n+    @JsonProperty(\"dynMemberships\")\n     @Override\n-    public List<String> getDynGroups() {\n-        return dynGroups;\n+    public List<MembershipTO> getDynMemberships() {\n+        return dynMemberships;\n     }\n }"},{"sha":"f2b8dbc2a9fcaf73369a14b4155ab97c0cfa2a7c","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/to/GroupableRelatableTO.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FGroupableRelatableTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FGroupableRelatableTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FGroupableRelatableTO.java?ref=dde0773f3321a9dc5a92fd1404f273af48cfc6c9","patch":"@@ -26,7 +26,7 @@ public interface GroupableRelatableTO {\n \n     List<MembershipTO> getMemberships();\n \n-    List<String> getDynGroups();\n+    List<MembershipTO> getDynMemberships();\n \n     RelationshipTO getRelationship(String type, String rightKey);\n "},{"sha":"6deab32f2906a9fd0afe61256ac7e635a4615037","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/to/UserTO.java","status":"modified","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FUserTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FUserTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FUserTO.java?ref=dde0773f3321a9dc5a92fd1404f273af48cfc6c9","patch":"@@ -68,7 +68,7 @@ public class UserTO extends AnyTO implements GroupableRelatableTO {\n \n     private final List<MembershipTO> memberships = new ArrayList<>();\n \n-    private final List<String> dynGroups = new ArrayList<>();\n+    private final List<MembershipTO> dynMemberships = new ArrayList<>();\n \n     @Override\n     public String getType() {\n@@ -235,12 +235,12 @@ public List<MembershipTO> getMemberships() {\n         return memberships;\n     }\n \n-    @XmlElementWrapper(name = \"dynGroups\")\n-    @XmlElement(name = \"role\")\n-    @JsonProperty(\"dynGroups\")\n+    @XmlElementWrapper(name = \"dynMemberships\")\n+    @XmlElement(name = \"dynMembership\")\n+    @JsonProperty(\"dynMemberships\")\n     @Override\n-    public List<String> getDynGroups() {\n-        return dynGroups;\n+    public List<MembershipTO> getDynMemberships() {\n+        return dynMemberships;\n     }\n \n     @Override"},{"sha":"59bef1925beedfd543e7d1b9a037cecdd6f4e7db","filename":"core/persistence-jpa/src/test/resources/domains/MasterContent.xml","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml?ref=dde0773f3321a9dc5a92fd1404f273af48cfc6c9","patch":"@@ -1167,7 +1167,7 @@ under the License.\n         pullMode=\"INCREMENTAL\" unmatchingRule=\"ASSIGN\" matchingRule=\"UPDATE\" active=\"1\"/>\n   <AnyTemplatePullTask id=\"3a6173a9-8c34-4e37-b3b1-0c2ea385fac0\"\n                        pullTask_id=\"c41b9b71-9bfa-4f90-89f2-84787def4c5c\" anyType_id=\"USER\"\n-                       template='{\"@class\":\"org.apache.syncope.common.lib.to.UserTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":null,\"type\":\"USER\",\"realm\":null,\"status\":null,\"password\":null,\"token\":null,\"tokenExpireTime\":null,\"username\":null,\"lastLoginDate\":null,\"changePwdDate\":null,\"failedLogins\":null,\"securityQuestion\":null,\"securityAnswer\":null,\"auxClasses\":[\"csv\"],\"derAttrs\":[{\"schema\":\"cn\",\"values\":[\"\"]}],\"virAttrs\":[],\"resources\":[\"resource-testdb\"],\"relationships\":[],\"memberships\":[{\"rightType\":\"GROUP\",\"rightKey\":\"f779c0d4-633b-4be5-8f57-32eb478a3ca5\",\"groupName\":null}],\"dynGroups\":[],\"roles\":[],\"dynRoles\":[],\"plainAttrs\":[{\"schema\":\"ctype\",\"values\":[\"email == &apos;test8@syncope.apache.org&apos;? &apos;TYPE_8&apos;: &apos;TYPE_OTHER&apos;\"]}]}'/>\n+                       template='{\"@class\":\"org.apache.syncope.common.lib.to.UserTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":null,\"type\":\"USER\",\"realm\":null,\"status\":null,\"password\":null,\"token\":null,\"tokenExpireTime\":null,\"username\":null,\"lastLoginDate\":null,\"changePwdDate\":null,\"failedLogins\":null,\"securityQuestion\":null,\"securityAnswer\":null,\"auxClasses\":[\"csv\"],\"derAttrs\":[{\"schema\":\"cn\",\"values\":[\"\"]}],\"virAttrs\":[],\"resources\":[\"resource-testdb\"],\"relationships\":[],\"memberships\":[{\"rightType\":\"GROUP\",\"rightKey\":\"f779c0d4-633b-4be5-8f57-32eb478a3ca5\",\"groupName\":null}],\"dynMemberships\":[],\"roles\":[],\"dynRoles\":[],\"plainAttrs\":[{\"schema\":\"ctype\",\"values\":[\"email == &apos;test8@syncope.apache.org&apos;? &apos;TYPE_8&apos;: &apos;TYPE_OTHER&apos;\"]}]}'/>\n   <AnyTemplatePullTask id=\"b3772d66-ec06-4133-bf38-b3273845ac5b\"\n                        pullTask_id=\"c41b9b71-9bfa-4f90-89f2-84787def4c5c\" anyType_id=\"GROUP\"\n                        template='{\"@class\":\"org.apache.syncope.common.lib.to.GroupTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":null,\"type\":\"GROUP\",\"realm\":null,\"status\":null,\"name\":null,\"userOwner\":null,\"groupOwner\":null,\"udynMembershipCond\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[],\"plainAttrs\":[]}'/>\n@@ -1186,7 +1186,7 @@ under the License.\n         destinationRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\" performCreate=\"1\" performUpdate=\"1\" performDelete=\"0\" syncStatus=\"1\" pullMode=\"FULL_RECONCILIATION\"\n         unmatchingRule=\"PROVISION\" matchingRule=\"UPDATE\" active=\"1\"/>\n   <AnyTemplatePullTask id=\"6c3f578d-327b-4a7c-8037-6f5ba24eb770\" pullTask_id=\"83f7e85d-9774-43fe-adba-ccd856312994\" anyType_id=\"USER\"\n-                       template='{\"@class\":\"org.apache.syncope.common.lib.to.UserTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":null,\"type\":\"USER\",\"realm\":null,\"status\":null,\"password\":null,\"token\":null,\"tokenExpireTime\":null,\"username\":null,\"lastLoginDate\":null,\"changePwdDate\":null,\"failedLogins\":null,\"securityQuestion\":null,\"securityAnswer\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[],\"relationships\":[],\"memberships\":[],\"dynGroups\":[],\"roles\":[],\"dynRoles\":[],\"plainAttrs\":[{\"schema\":\"ctype\",\"values\":[\"&apos;type a&apos;\"]},{\"schema\":\"userId\",\"values\":[\"&apos;reconciled@syncope.apache.org&apos;\"]},{\"schema\":\"fullname\",\"values\":[\"&apos;reconciled fullname&apos;\"]},{\"schema\":\"surname\",\"values\":[\"&apos;surname&apos;\"]}]}'/>\n+                       template='{\"@class\":\"org.apache.syncope.common.lib.to.UserTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":null,\"type\":\"USER\",\"realm\":null,\"status\":null,\"password\":null,\"token\":null,\"tokenExpireTime\":null,\"username\":null,\"lastLoginDate\":null,\"changePwdDate\":null,\"failedLogins\":null,\"securityQuestion\":null,\"securityAnswer\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[],\"relationships\":[],\"memberships\":[],\"dynMemberships\":[],\"roles\":[],\"dynRoles\":[],\"plainAttrs\":[{\"schema\":\"ctype\",\"values\":[\"&apos;type a&apos;\"]},{\"schema\":\"userId\",\"values\":[\"&apos;reconciled@syncope.apache.org&apos;\"]},{\"schema\":\"fullname\",\"values\":[\"&apos;reconciled fullname&apos;\"]},{\"schema\":\"surname\",\"values\":[\"&apos;surname&apos;\"]}]}'/>\n   <AnyTemplatePullTask id=\"45b61137-c7c3-49ee-86e0-9efffa75ae68\" pullTask_id=\"83f7e85d-9774-43fe-adba-ccd856312994\" anyType_id=\"GROUP\"\n                        template='{\"@class\":\"org.apache.syncope.common.lib.to.GroupTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":null,\"type\":\"GROUP\",\"realm\":null,\"status\":null,\"name\":null,\"userOwner\":null,\"groupOwner\":null,\"udynMembershipCond\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[],\"plainAttrs\":[]}'/>\n   <Task DTYPE=\"PullTask\" id=\"81d88f73-d474-4450-9031-605daa4e313f\" name=\"TestDB2 Task\" resource_id=\"resource-testdb2\"\n@@ -1199,7 +1199,7 @@ under the License.\n         destinationRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\" pullMode=\"FULL_RECONCILIATION\" performCreate=\"1\" performDelete=\"1\" performUpdate=\"1\" syncStatus=\"0\"\n         unmatchingRule=\"PROVISION\" matchingRule=\"UPDATE\" active=\"1\"/>\n   <AnyTemplatePullTask id=\"df655a2a-40c0-43b1-a157-3f4988802f58\" pullTask_id=\"1e419ca4-ea81-4493-a14f-28b90113686d\" anyType_id=\"USER\"\n-                       template='{\"@class\":\"org.apache.syncope.common.lib.to.UserTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":null,\"type\":\"USER\",\"realm\":\"&apos;/&apos; + title\",\"status\":null,\"password\":null,\"token\":null,\"tokenExpireTime\":null,\"username\":null,\"lastLoginDate\":null,\"changePwdDate\":null,\"failedLogins\":null,\"securityQuestion\":null,\"securityAnswer\":null,\"auxClasses\":[\"minimal group\"],\"derAttrs\":[],\"virAttrs\":[{\"schema\":\"virtualReadOnly\",\"values\":[\"\"]}],\"resources\":[\"resource-ldap\"],\"roles\":[],\"dynRoles\":[],\"relationships\":[],\"memberships\":[],\"dynGroups\":[],\"plainAttrs\":[]}'/>\n+                       template='{\"@class\":\"org.apache.syncope.common.lib.to.UserTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":null,\"type\":\"USER\",\"realm\":\"&apos;/&apos; + title\",\"status\":null,\"password\":null,\"token\":null,\"tokenExpireTime\":null,\"username\":null,\"lastLoginDate\":null,\"changePwdDate\":null,\"failedLogins\":null,\"securityQuestion\":null,\"securityAnswer\":null,\"auxClasses\":[\"minimal group\"],\"derAttrs\":[],\"virAttrs\":[{\"schema\":\"virtualReadOnly\",\"values\":[\"\"]}],\"resources\":[\"resource-ldap\"],\"roles\":[],\"dynRoles\":[],\"relationships\":[],\"memberships\":[],\"dynMemberships\":[],\"plainAttrs\":[]}'/>\n   <AnyTemplatePullTask id=\"fda22ff3-98f3-42e4-a2ae-cd9a28282d57\" pullTask_id=\"1e419ca4-ea81-4493-a14f-28b90113686d\" anyType_id=\"GROUP\"\n                        template='{\"@class\":\"org.apache.syncope.common.lib.to.GroupTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":null,\"type\":\"GROUP\",\"realm\":null,\"status\":null,\"name\":null,\"userOwner\":null,\"groupOwner\":null,\"udynMembershipCond\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[],\"plainAttrs\":[{\"schema\":\"show\",\"values\":[\"true\"]}]}'/>\n   <PullTask_actionsClassNames pullTask_id=\"1e419ca4-ea81-4493-a14f-28b90113686d\" actionClassName=\"org.apache.syncope.core.provisioning.java.pushpull.LDAPMembershipPullActions\"/>\n@@ -1276,7 +1276,7 @@ under the License.\n         destinationRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\" performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\" pullMode=\"INCREMENTAL\"\n         unmatchingRule=\"PROVISION\" matchingRule=\"UPDATE\" active=\"1\"/>\n   <AnyTemplatePullTask id=\"8bc41ba1-cc1d-4ee0-bb43-61cd148b414f\" pullTask_id=\"986867e2-993b-430e-8feb-aa9abb4c1dcd\" anyType_id=\"USER\"\n-                       template='{\"@class\":\"org.apache.syncope.common.lib.to.UserTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":null,\"type\":\"USER\",\"realm\":null,\"status\":null,\"password\":null,\"token\":null,\"tokenExpireTime\":null,\"username\":null,\"lastLoginDate\":null,\"changePwdDate\":null,\"failedLogins\":null,\"securityQuestion\":null,\"securityAnswer\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[\"resource-testdb\"],\"roles\":[],\"dynRoles\":[],\"relationships\":[],\"memberships\":[],\"dynGroups\":[],\"plainAttrs\":[{\"schema\":\"firstname\",\"values\":[\"\"]},{\"schema\":\"userId\",\"values\":[\"&apos;test&apos;\"]},{\"schema\":\"fullname\",\"values\":[\"&apos;test&apos;\"]},{\"schema\":\"surname\",\"values\":[\"&apos;test&apos;\"]}]}'/>\n+                       template='{\"@class\":\"org.apache.syncope.common.lib.to.UserTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":null,\"type\":\"USER\",\"realm\":null,\"status\":null,\"password\":null,\"token\":null,\"tokenExpireTime\":null,\"username\":null,\"lastLoginDate\":null,\"changePwdDate\":null,\"failedLogins\":null,\"securityQuestion\":null,\"securityAnswer\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[\"resource-testdb\"],\"roles\":[],\"dynRoles\":[],\"relationships\":[],\"memberships\":[],\"dynMemberships\":[],\"plainAttrs\":[{\"schema\":\"firstname\",\"values\":[\"\"]},{\"schema\":\"userId\",\"values\":[\"&apos;test&apos;\"]},{\"schema\":\"fullname\",\"values\":[\"&apos;test&apos;\"]},{\"schema\":\"surname\",\"values\":[\"&apos;test&apos;\"]}]}'/>\n   <AnyTemplatePullTask id=\"9af0e343-8a37-42d2-9bc7-6e2e3b103219\" pullTask_id=\"986867e2-993b-430e-8feb-aa9abb4c1dcd\" anyType_id=\"GROUP\"\n                        template='{\"@class\":\"org.apache.syncope.common.lib.to.GroupTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":null,\"type\":\"GROUP\",\"realm\":null,\"status\":null,\"name\":null,\"userOwner\":null,\"groupOwner\":null,\"udynMembershipCond\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[],\"plainAttrs\":[]}'/>\n   <Task DTYPE=\"PullTask\" id=\"feae4e57-15ca-40d9-b973-8b9015efca49\" name=\"CSV (unlink matching; ignore unmatching)\" resource_id=\"resource-csv\""},{"sha":"26207183f3bb98c5ba627e3e50223d8452665c21","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/data/AnyObjectDataBinderImpl.java","status":"modified","additions":12,"deletions":2,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FAnyObjectDataBinderImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FAnyObjectDataBinderImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FAnyObjectDataBinderImpl.java?ref=dde0773f3321a9dc5a92fd1404f273af48cfc6c9","patch":"@@ -69,7 +69,7 @@\n public class AnyObjectDataBinderImpl extends AbstractAnyDataBinder implements AnyObjectDataBinder {\n \n     private static final String[] IGNORE_PROPERTIES = {\n-        \"type\", \"realm\", \"auxClasses\", \"relationships\", \"memberships\", \"dynGroups\",\n+        \"type\", \"realm\", \"auxClasses\", \"relationships\", \"memberships\", \"dynMemberships\",\n         \"plainAttrs\", \"derAttrs\", \"virAttrs\", \"resources\"\n     };\n \n@@ -131,7 +131,17 @@ public MembershipTO transform(final AMembership membership) {\n \n             // dynamic memberships\n             CollectionUtils.collect(anyObjectDAO.findDynGroups(anyObject.getKey()),\n-                    EntityUtils.<Group>keyTransformer(), anyObjectTO.getDynGroups());\n+                                    new Transformer<Group, MembershipTO>() {\n+\n+                @Override\n+                public MembershipTO transform(final Group group) {\n+                    MembershipTO membershipTO = new MembershipTO.Builder().\n+                        group(group.getKey(), group.getName()).\n+                        build();\n+                    return membershipTO;\n+\n+                }\n+            }, anyObjectTO.getDynMemberships());\n         }\n \n         return anyObjectTO;"},{"sha":"ed77df425a48dc8815a466adbe09b60427d3451d","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/data/UserDataBinderImpl.java","status":"modified","additions":12,"deletions":3,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FUserDataBinderImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FUserDataBinderImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FUserDataBinderImpl.java?ref=dde0773f3321a9dc5a92fd1404f273af48cfc6c9","patch":"@@ -86,7 +86,7 @@\n public class UserDataBinderImpl extends AbstractAnyDataBinder implements UserDataBinder {\n \n     private static final String[] IGNORE_PROPERTIES = {\n-        \"type\", \"realm\", \"auxClasses\", \"roles\", \"dynRoles\", \"relationships\", \"memberships\", \"dynGroups\",\n+        \"type\", \"realm\", \"auxClasses\", \"roles\", \"dynRoles\", \"relationships\", \"memberships\", \"dynMemberships\",\n         \"plainAttrs\", \"derAttrs\", \"virAttrs\", \"resources\", \"securityQuestion\", \"securityAnswer\"\n     };\n \n@@ -637,8 +637,17 @@ public MembershipTO transform(final UMembership membership) {\n             // dynamic memberships\n             CollectionUtils.collect(userDAO.findDynRoles(user.getKey()),\n                     EntityUtils.<Role>keyTransformer(), userTO.getDynRoles());\n-            CollectionUtils.collect(userDAO.findDynGroups(user.getKey()),\n-                    EntityUtils.<Group>keyTransformer(), userTO.getDynGroups());\n+            CollectionUtils.collect(userDAO.findDynGroups(user.getKey()), new Transformer<Group, MembershipTO>() {\n+\n+                @Override\n+                public MembershipTO transform(final Group group) {\n+                    MembershipTO membershipTO = new MembershipTO.Builder().\n+                        group(group.getKey(), group.getName()).\n+                        build();\n+                    return membershipTO;\n+\n+                }\n+            }, userTO.getDynMemberships());\n         }\n \n         return userTO;"},{"sha":"9d833cce4ca5e17ee5436d31854d1979a14a0d81","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/GroupITCase.java","status":"modified","additions":27,"deletions":15,"changes":42,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FGroupITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FGroupITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FGroupITCase.java?ref=dde0773f3321a9dc5a92fd1404f273af48cfc6c9","patch":"@@ -601,7 +601,7 @@ public void createWithMandatorySchema() {\n                 assertEquals(ClientExceptionType.RequiredValuesMissing, e.getType());\n             }\n \n-            // 5. also add an actual attribute for badge - it will work        \n+            // 5. also add an actual attribute for badge - it will work\n             groupPatch.getPlainAttrs().add(attrAddReplacePatch(badge.getKey(), \"xxxxxxxxxx\"));\n \n             groupTO = updateGroup(groupPatch).getEntity();\n@@ -642,22 +642,24 @@ public void anonymous() {\n \n     @Test\n     public void uDynMembership() {\n-        assertTrue(userService.read(\"c9b2dec2-00a7-4855-97c0-d854842b4b24\").getDynGroups().isEmpty());\n+        assertTrue(userService.read(\"c9b2dec2-00a7-4855-97c0-d854842b4b24\").getDynMemberships().isEmpty());\n \n         GroupTO group = getBasicSampleTO(\"uDynMembership\");\n         group.setUDynMembershipCond(\"cool==true\");\n         group = createGroup(group).getEntity();\n         assertNotNull(group);\n+        final String groupKey = group.getKey();\n \n-        assertTrue(userService.read(\n-                \"c9b2dec2-00a7-4855-97c0-d854842b4b24\").getDynGroups().contains(group.getKey()));\n+        List<MembershipTO> memberships = userService.read(\n+            \"c9b2dec2-00a7-4855-97c0-d854842b4b24\").getDynMemberships();\n+        assertTrue(memberships.stream().anyMatch(m -> m.getGroupKey().equals(groupKey)));\n \n         GroupPatch patch = new GroupPatch();\n         patch.setKey(group.getKey());\n         patch.setUDynMembershipCond(\"cool==false\");\n         groupService.update(patch);\n \n-        assertTrue(userService.read(\"c9b2dec2-00a7-4855-97c0-d854842b4b24\").getDynGroups().isEmpty());\n+        assertTrue(userService.read(\"c9b2dec2-00a7-4855-97c0-d854842b4b24\").getDynMemberships().isEmpty());\n     }\n \n     @Test\n@@ -671,18 +673,24 @@ public void aDynMembership() {\n         assertEquals(fiql, group.getADynMembershipConds().get(\"PRINTER\"));\n \n         group = groupService.read(group.getKey());\n+        final String groupKey = group.getKey();\n         assertEquals(fiql, group.getADynMembershipConds().get(\"PRINTER\"));\n \n         // verify that the condition is dynamically applied\n         AnyObjectTO newAny = AnyObjectITCase.getSampleTO(\"aDynMembership\");\n         newAny.getResources().clear();\n         newAny = createAnyObject(newAny).getEntity();\n         assertNotNull(newAny.getPlainAttr(\"location\"));\n-        assertTrue(anyObjectService.read(\n-                \"fc6dbc3a-6c07-4965-8781-921e7401a4a5\").getDynGroups().contains(group.getKey()));\n-        assertTrue(anyObjectService.read(\n-                \"8559d14d-58c2-46eb-a2d4-a7d35161e8f8\").getDynGroups().contains(group.getKey()));\n-        assertTrue(anyObjectService.read(newAny.getKey()).getDynGroups().contains(group.getKey()));\n+        List<MembershipTO> memberships = anyObjectService.read(\n+            \"fc6dbc3a-6c07-4965-8781-921e7401a4a5\").getDynMemberships();\n+        assertTrue(memberships.stream().anyMatch(m -> m.getGroupKey().equals(groupKey)));\n+\n+        memberships = anyObjectService.read(\n+            \"8559d14d-58c2-46eb-a2d4-a7d35161e8f8\").getDynMemberships();\n+        assertTrue(memberships.stream().anyMatch(m -> m.getGroupKey().equals(groupKey)));\n+\n+        memberships = anyObjectService.read(newAny.getKey()).getDynMemberships();\n+        assertTrue(memberships.stream().anyMatch(m -> m.getGroupKey().equals(groupKey)));\n \n         // 2. update group and change aDynMembership condition\n         fiql = SyncopeClient.getAnyObjectSearchConditionBuilder(\"PRINTER\").is(\"location\").nullValue().query();\n@@ -706,11 +714,15 @@ public void aDynMembership() {\n                 build());\n         newAny = updateAnyObject(anyPatch).getEntity();\n         assertNull(newAny.getPlainAttr(\"location\"));\n-        assertFalse(anyObjectService.read(\n-                \"fc6dbc3a-6c07-4965-8781-921e7401a4a5\").getDynGroups().contains(group.getKey()));\n-        assertFalse(anyObjectService.read(\n-                \"8559d14d-58c2-46eb-a2d4-a7d35161e8f8\").getDynGroups().contains(group.getKey()));\n-        assertTrue(anyObjectService.read(newAny.getKey()).getDynGroups().contains(group.getKey()));\n+\n+        memberships = anyObjectService.read(\n+            \"fc6dbc3a-6c07-4965-8781-921e7401a4a5\").getDynMemberships();\n+        assertFalse(memberships.stream().anyMatch(m -> m.getGroupKey().equals(groupKey)));\n+        memberships = anyObjectService.read(\n+            \"8559d14d-58c2-46eb-a2d4-a7d35161e8f8\").getDynMemberships();\n+        assertFalse(memberships.stream().anyMatch(m -> m.getGroupKey().equals(groupKey)));\n+        memberships = anyObjectService.read(newAny.getKey()).getDynMemberships();\n+        assertTrue(memberships.stream().anyMatch(m -> m.getGroupKey().equals(groupKey)));\n     }\n \n     @Test"},{"sha":"fe71fd1512932e605937b94b94d128c03026eb42","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/RoleITCase.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FRoleITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FRoleITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FRoleITCase.java?ref=dde0773f3321a9dc5a92fd1404f273af48cfc6c9","patch":"@@ -136,6 +136,6 @@ public void dynMembership() {\n         role.setDynMembershipCond(\"cool==false\");\n         roleService.update(role);\n \n-        assertTrue(userService.read(\"c9b2dec2-00a7-4855-97c0-d854842b4b24\").getDynGroups().isEmpty());\n+        assertTrue(userService.read(\"c9b2dec2-00a7-4855-97c0-d854842b4b24\").getDynMemberships().isEmpty());\n     }\n }"},{"sha":"4e7988a6ee76c534d5225243a703fe041c944129","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/UserIssuesITCase.java","status":"modified","additions":3,"deletions":2,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FUserIssuesITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/dde0773f3321a9dc5a92fd1404f273af48cfc6c9/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FUserIssuesITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FUserIssuesITCase.java?ref=dde0773f3321a9dc5a92fd1404f273af48cfc6c9","patch":"@@ -922,7 +922,7 @@ public void issueSYNCOPE493() {\n         assertNotNull(mapItems);\n         assertEquals(7, mapItems.size());\n \n-        // 3.  update user and check firstname propagation        \n+        // 3.  update user and check firstname propagation\n         UserPatch userPatch = new UserPatch();\n         userPatch.setKey(userTO.getKey());\n         userPatch.setPassword(new PasswordPatch());\n@@ -1349,7 +1349,8 @@ public void issueSYNCOPE1099() {\n \n         // 3. verify that dynamic membership is set and that resource is consequently assigned\n         user = created.getEntity();\n-        assertTrue(user.getDynGroups().contains(group.getKey()));\n+        final String groupKey = group.getKey();\n+        assertTrue(user.getDynMemberships().stream().anyMatch(m -> m.getGroupKey().equals(groupKey)));\n         assertTrue(user.getResources().contains(RESOURCE_NAME_TESTDB));\n \n         // 4. verify that propagation happened towards the resource of the dynamic group"}]}
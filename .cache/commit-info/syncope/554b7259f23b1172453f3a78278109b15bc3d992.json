{"sha":"554b7259f23b1172453f3a78278109b15bc3d992","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjU1NGI3MjU5ZjIzYjExNzI0NTNmM2E3ODI3ODEwOWIxNWJjM2Q5OTI=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2015-08-13T14:18:20Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2015-08-13T15:16:51Z"},"message":"[SYNCOPE-652] Fixing test execution","tree":{"sha":"9410a3bbed58df465428d3be17804289f2eafa4f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/9410a3bbed58df465428d3be17804289f2eafa4f"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/554b7259f23b1172453f3a78278109b15bc3d992","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/554b7259f23b1172453f3a78278109b15bc3d992","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/554b7259f23b1172453f3a78278109b15bc3d992","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/554b7259f23b1172453f3a78278109b15bc3d992/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"74aed4af3b0ad072c7cab7e5b5eb196c050e7471","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/74aed4af3b0ad072c7cab7e5b5eb196c050e7471","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/74aed4af3b0ad072c7cab7e5b5eb196c050e7471"}],"stats":{"total":19,"additions":11,"deletions":8},"files":[{"sha":"e95f70b209586b15633d980d87517bb80aeefc9c","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/DomainLogic.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/554b7259f23b1172453f3a78278109b15bc3d992/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FDomainLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/554b7259f23b1172453f3a78278109b15bc3d992/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FDomainLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FDomainLogic.java?ref=554b7259f23b1172453f3a78278109b15bc3d992","patch":"@@ -76,7 +76,7 @@ public DomainTO transform(final Domain input) {\n             + \"T(org.apache.syncope.common.lib.SyncopeConstants).MASTER_DOMAIN\")\n     public DomainTO create(final DomainTO domainTO) {\n         if (!domainsHolder.getDomains().keySet().contains(domainTO.getKey())) {\n-            throw new NotFoundException(\"No configuration is available for domain '\" + domainTO.getKey());\n+            throw new NotFoundException(\"No configuration is available for domain \" + domainTO.getKey());\n         }\n \n         return binder.getDomainTO(domainDAO.save(binder.create(domainTO)));"},{"sha":"51d4aaf68313d01db6a3c005337758f8f59bbff0","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/reference/DomainITCase.java","status":"modified","additions":10,"deletions":7,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/554b7259f23b1172453f3a78278109b15bc3d992/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FDomainITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/554b7259f23b1172453f3a78278109b15bc3d992/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FDomainITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FDomainITCase.java?ref=554b7259f23b1172453f3a78278109b15bc3d992","patch":"@@ -25,7 +25,6 @@\n \n import java.security.AccessControlException;\n import java.util.List;\n-import org.apache.commons.lang3.SerializationUtils;\n import org.apache.syncope.client.lib.SyncopeClientFactoryBean;\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.to.DomainTO;\n@@ -63,11 +62,18 @@ public void create() {\n         }\n     }\n \n+    private void restoreTwo() {\n+        DomainTO two = new DomainTO();\n+        two.setKey(\"Two\");\n+        two.setAdminCipherAlgorithm(CipherAlgorithm.SHA);\n+        two.setAdminPwd(\"password2\");\n+        domainService.create(two);\n+    }\n+\n     @Test\n     public void update() {\n         DomainTO two = domainService.read(\"Two\");\n         assertNotNull(two);\n-        DomainTO origTwo = SerializationUtils.clone(two);\n \n         try {\n             // 1. change admin pwd for domain Two\n@@ -87,8 +93,7 @@ public void update() {\n             new SyncopeClientFactoryBean().setAddress(ADDRESS).setDomain(\"Two\").\n                     create(ADMIN_UNAME, \"password3\").self();\n         } finally {\n-            // restore old password\n-            domainService.create(origTwo);\n+            restoreTwo();\n         }\n     }\n \n@@ -107,9 +112,7 @@ public void delete() {\n                 assertEquals(ClientExceptionType.NotFound, e.getType());\n             }\n         } finally {\n-            // restore old password\n-            two.setAdminPwd(\"password2\");\n-            domainService.create(two);\n+            restoreTwo();\n         }\n     }\n }"}]}
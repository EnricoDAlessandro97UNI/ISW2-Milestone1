{"sha":"3419d9eddfe0bf74e3a8b108f43242b6aa654e19","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjM0MTlkOWVkZGZlMGJmNzRlM2E4YjEwOGY0MzI0MmI2YWE2NTRlMTk=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apachge.org","date":"2019-05-07T07:27:36Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apachge.org","date":"2019-05-07T07:29:14Z"},"message":"[SYNCOPE-1470] Workaround (as Flowable does not support MariaDB): treat MariaDB as MySQL","tree":{"sha":"95fea671642627b90a86aea874fa16d017234072","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/95fea671642627b90a86aea874fa16d017234072"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/3419d9eddfe0bf74e3a8b108f43242b6aa654e19","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3419d9eddfe0bf74e3a8b108f43242b6aa654e19","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/3419d9eddfe0bf74e3a8b108f43242b6aa654e19","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3419d9eddfe0bf74e3a8b108f43242b6aa654e19/comments","author":null,"committer":null,"parents":[{"sha":"4cf2d5c306e1a89350294821924365fe587be16c","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/4cf2d5c306e1a89350294821924365fe587be16c","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/4cf2d5c306e1a89350294821924365fe587be16c"}],"stats":{"total":37,"additions":34,"deletions":3},"files":[{"sha":"138a89c5e7b3a791f323679f4e13d23073648ae9","filename":"ext/flowable/flowable-bpmn/src/main/java/org/apache/syncope/core/flowable/WorkflowFlowableContext.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3419d9eddfe0bf74e3a8b108f43242b6aa654e19/ext%2Fflowable%2Fflowable-bpmn%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fflowable%2FWorkflowFlowableContext.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3419d9eddfe0bf74e3a8b108f43242b6aa654e19/ext%2Fflowable%2Fflowable-bpmn%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fflowable%2FWorkflowFlowableContext.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fflowable-bpmn%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fflowable%2FWorkflowFlowableContext.java?ref=3419d9eddfe0bf74e3a8b108f43242b6aa654e19","patch":"@@ -22,6 +22,7 @@\n import org.apache.syncope.core.flowable.impl.FlowableBpmnProcessManager;\n import org.apache.syncope.core.flowable.impl.FlowableUserRequestHandler;\n import org.apache.syncope.core.flowable.impl.FlowableWorkflowUtils;\n+import org.apache.syncope.core.flowable.support.DomainProcessEngineConfiguration;\n import org.apache.syncope.core.flowable.support.SyncopeEntitiesVariableType;\n import org.apache.syncope.core.flowable.support.SyncopeFormHandlerHelper;\n import org.apache.syncope.core.flowable.support.SyncopeIdmIdentityService;\n@@ -33,7 +34,6 @@\n import org.flowable.engine.impl.db.DbIdGenerator;\n import org.flowable.idm.spring.SpringIdmEngineConfiguration;\n import org.flowable.idm.spring.configurator.SpringIdmEngineConfigurator;\n-import org.flowable.spring.SpringProcessEngineConfiguration;\n import org.springframework.beans.factory.annotation.Value;\n import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\n import org.springframework.context.annotation.Bean;\n@@ -122,8 +122,8 @@ public IdGenerator idGenerator() {\n     @ConditionalOnMissingBean\n     @Bean\n     @Scope(\"prototype\")\n-    public SpringProcessEngineConfiguration processEngineConfiguration() {\n-        SpringProcessEngineConfiguration conf = new SpringProcessEngineConfiguration();\n+    public DomainProcessEngineConfiguration processEngineConfiguration() {\n+        DomainProcessEngineConfiguration conf = new DomainProcessEngineConfiguration();\n         conf.setDatabaseSchemaUpdate(AbstractEngineConfiguration.DB_SCHEMA_UPDATE_TRUE);\n         conf.setJpaHandleTransaction(true);\n         conf.setJpaCloseEntityManager(false);"},{"sha":"6f18e8466697c200dedd19628129b6d7aa59d8ce","filename":"ext/flowable/flowable-bpmn/src/main/java/org/apache/syncope/core/flowable/support/DomainProcessEngineConfiguration.java","status":"added","additions":31,"deletions":0,"changes":31,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3419d9eddfe0bf74e3a8b108f43242b6aa654e19/ext%2Fflowable%2Fflowable-bpmn%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fflowable%2Fsupport%2FDomainProcessEngineConfiguration.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3419d9eddfe0bf74e3a8b108f43242b6aa654e19/ext%2Fflowable%2Fflowable-bpmn%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fflowable%2Fsupport%2FDomainProcessEngineConfiguration.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fflowable-bpmn%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fflowable%2Fsupport%2FDomainProcessEngineConfiguration.java?ref=3419d9eddfe0bf74e3a8b108f43242b6aa654e19","patch":"@@ -0,0 +1,31 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.core.flowable.support;\n+\n+import org.flowable.spring.SpringProcessEngineConfiguration;\n+\n+public class DomainProcessEngineConfiguration extends SpringProcessEngineConfiguration {\n+\n+    public DomainProcessEngineConfiguration() {\n+        super();\n+\n+        // workaround for Flowable not supporting (yet?) MariaDB\n+        databaseTypeMappings.setProperty(\"MariaDB\", DATABASE_TYPE_MYSQL);\n+    }\n+}"}]}
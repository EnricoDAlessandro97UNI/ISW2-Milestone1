{"sha":"bcdd141106ecd0f5cc1933e2422837ca0186e06d","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmJjZGQxNDExMDZlY2QwZjVjYzE5MzNlMjQyMjgzN2NhMDE4NmUwNmQ=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2012-02-04T15:20:30Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2012-02-04T15:20:30Z"},"message":"Fixes issue 266\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247393 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"ed81a3ddfd2e1de47be3ba8942cc7c0d1d31eddd","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/ed81a3ddfd2e1de47be3ba8942cc7c0d1d31eddd"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/bcdd141106ecd0f5cc1933e2422837ca0186e06d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bcdd141106ecd0f5cc1933e2422837ca0186e06d","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/bcdd141106ecd0f5cc1933e2422837ca0186e06d","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bcdd141106ecd0f5cc1933e2422837ca0186e06d/comments","author":null,"committer":null,"parents":[{"sha":"1d6bed8ef8850f50d4bbc2e368ce410257dfcaff","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1d6bed8ef8850f50d4bbc2e368ce410257dfcaff","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/1d6bed8ef8850f50d4bbc2e368ce410257dfcaff"}],"stats":{"total":307,"additions":236,"deletions":71},"files":[{"sha":"5c94d343d603ee3e7c0fe6e394913074edeb4010","filename":"build-tools/src/main/resources/testdb.sql","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcdd141106ecd0f5cc1933e2422837ca0186e06d/build-tools%2Fsrc%2Fmain%2Fresources%2Ftestdb.sql","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcdd141106ecd0f5cc1933e2422837ca0186e06d/build-tools%2Fsrc%2Fmain%2Fresources%2Ftestdb.sql","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/build-tools%2Fsrc%2Fmain%2Fresources%2Ftestdb.sql?ref=bcdd141106ecd0f5cc1933e2422837ca0186e06d","patch":"@@ -13,8 +13,8 @@ ALTER USER sa SET PASSWORD '${testdb.password}';\n \n DROP TABLE test IF EXISTS;\n CREATE TABLE test (\n-id INTEGER PRIMARY KEY,\n+id VARCHAR(50) PRIMARY KEY,\n password VARCHAR(255) NOT NULL,\n status VARCHAR(5));\n \n-INSERT INTO test VALUES (1, 'password', 'false');\n+INSERT INTO test VALUES ('testuser1', 'password', 'false');"},{"sha":"c9b6944e46215720a2baddcfe6837a1386033532","filename":"client/src/main/java/org/syncope/client/to/SyncTaskTO.java","status":"modified","additions":10,"deletions":0,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcdd141106ecd0f5cc1933e2422837ca0186e06d/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FSyncTaskTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcdd141106ecd0f5cc1933e2422837ca0186e06d/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FSyncTaskTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FSyncTaskTO.java?ref=bcdd141106ecd0f5cc1933e2422837ca0186e06d","patch":"@@ -30,6 +30,8 @@ public class SyncTaskTO extends SchedTaskTO {\n \n     private boolean syncStatus;\n \n+    private boolean fullReconciliation;\n+\n     private String jobActionsClassName;\n \n     public UserTO getUserTemplate() {\n@@ -80,6 +82,14 @@ public void setSyncStatus(boolean syncStatus) {\n         this.syncStatus = syncStatus;\n     }\n \n+    public boolean isFullReconciliation() {\n+        return fullReconciliation;\n+    }\n+\n+    public void setFullReconciliation(boolean fullReconciliation) {\n+        this.fullReconciliation = fullReconciliation;\n+    }\n+\n     public String getJobActionsClassName() {\n         return jobActionsClassName;\n     }"},{"sha":"328b8666d70961c183f501354cfd170fb0fbdfc3","filename":"console/src/main/java/org/syncope/console/pages/SyncTaskModalPage.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcdd141106ecd0f5cc1933e2422837ca0186e06d/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcdd141106ecd0f5cc1933e2422837ca0186e06d/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.java?ref=bcdd141106ecd0f5cc1933e2422837ca0186e06d","patch":"@@ -124,5 +124,10 @@ protected List<String> load() {\n                 \"syncStatus\", getString(\"status\"),\n                 new PropertyModel<Boolean>(taskTO, \"syncStatus\"), false);\n         profile.add(status);\n+\n+        final AjaxCheckBoxPanel fullReconciliation = new AjaxCheckBoxPanel(\n+                \"fullReconciliation\", getString(\"fullReconciliation\"),\n+                new PropertyModel<Boolean>(taskTO, \"fullReconciliation\"), false);\n+        profile.add(fullReconciliation);\n     }\n }"},{"sha":"31badec61de1b66627369afc7cf69c6971f523f2","filename":"console/src/main/resources/org/syncope/console/pages/SyncTaskModalPage.html","status":"modified","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcdd141106ecd0f5cc1933e2422837ca0186e06d/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcdd141106ecd0f5cc1933e2422837ca0186e06d/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.html?ref=bcdd141106ecd0f5cc1933e2422837ca0186e06d","patch":"@@ -106,6 +106,14 @@\n                                         <span wicket:id=\"syncStatus\">[syncStatus]</span>\n                                     </div>\n                                 </div>\n+                                <div class=\"tablerow\">\n+                                    <div class=\"tablecolumn_label short_dynamicsize\">\n+                                        <label for=\"fullReconciliation\"><wicket:message key=\"fullReconciliation\"/></label>\n+                                    </div>\n+                                    <div class=\"tablecolumn_field medium_dynamicsize\">\n+                                        <span wicket:id=\"fullReconciliation\">[fullReconciliation]</span>\n+                                    </div>\n+                                </div>\n                             </div>\n \n                             <script type=\"text/javascript\">"},{"sha":"a7686a6c277af17efc4d949f97be461a47477be9","filename":"console/src/main/resources/org/syncope/console/pages/SyncTaskModalPage.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcdd141106ecd0f5cc1933e2422837ca0186e06d/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcdd141106ecd0f5cc1933e2422837ca0186e06d/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.properties?ref=bcdd141106ecd0f5cc1933e2422837ca0186e06d","patch":"@@ -31,4 +31,5 @@ chooseForTemplate=Use A Template\n creates=Create new identities\n deletes=Delete matching identities\n status=Synchronize user status\n+fullReconciliation=Full reconciliation\n actionsClass=Actions class"},{"sha":"19a0def2b495f3ce68b1a58d6bbfcefa59aed5df","filename":"console/src/main/resources/org/syncope/console/pages/SyncTaskModalPage_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcdd141106ecd0f5cc1933e2422837ca0186e06d/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcdd141106ecd0f5cc1933e2422837ca0186e06d/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage_it.properties?ref=bcdd141106ecd0f5cc1933e2422837ca0186e06d","patch":"@@ -31,4 +31,5 @@ chooseForTemplate=Usa Un Template\n creates=Crea nuove identit\\u00e0\n deletes=Elimina identit\\u00e0 esistenti\n status=Sincronizza stato utente\n+fullReconciliation=Riconciliazione totale\n actionsClass=Classe azioni"},{"sha":"8d998fdae01c6a9a65b74e94e5bae2145ff99ffb","filename":"core/src/main/java/org/syncope/core/init/ConnInstanceLoader.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Finit%2FConnInstanceLoader.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Finit%2FConnInstanceLoader.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Finit%2FConnInstanceLoader.java?ref=bcdd141106ecd0f5cc1933e2422837ca0186e06d","patch":"@@ -13,7 +13,6 @@\n  */\n package org.syncope.core.init;\n \n-import org.syncope.core.util.ConnBundleManager;\n import java.util.HashSet;\n import java.util.Locale;\n import java.util.Set;\n@@ -30,6 +29,7 @@\n import org.syncope.core.persistence.beans.ExternalResource;\n import org.syncope.core.persistence.dao.ResourceDAO;\n import org.syncope.core.propagation.ConnectorFacadeProxy;\n+import org.syncope.core.util.ConnBundleManager;\n import org.syncope.types.ConnConfProperty;\n \n /**"},{"sha":"07e10bd82372b66713ca0dfd20346c09daaeb58f","filename":"core/src/main/java/org/syncope/core/persistence/beans/SyncTask.java","status":"modified","additions":13,"deletions":0,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FSyncTask.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FSyncTask.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FSyncTask.java?ref=bcdd141106ecd0f5cc1933e2422837ca0186e06d","patch":"@@ -59,6 +59,11 @@ public class SyncTask extends SchedTask {\n     @Max(1)\n     private Integer syncStatus;\n \n+    @Basic\n+    @Min(0)\n+    @Max(1)\n+    private Integer fullReconciliation;\n+\n     private String jobActionsClassName;\n \n     /**\n@@ -124,6 +129,14 @@ public void setSyncStatus(final boolean syncStatus) {\n         this.syncStatus = getBooleanAsInteger(syncStatus);\n     }\n \n+    public boolean isFullReconciliation() {\n+        return isBooleanAsInteger(fullReconciliation);\n+    }\n+\n+    public void setFullReconciliation(final boolean fullReconciliation) {\n+        this.fullReconciliation = getBooleanAsInteger(fullReconciliation);\n+    }\n+\n     public String getJobActionsClassName() {\n         return jobActionsClassName;\n     }"},{"sha":"8f7c42fef631c75a336c67fcdc6338f7e541fe2f","filename":"core/src/main/java/org/syncope/core/propagation/ConnectorFacadeProxy.java","status":"modified","additions":42,"deletions":15,"changes":57,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpropagation%2FConnectorFacadeProxy.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpropagation%2FConnectorFacadeProxy.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpropagation%2FConnectorFacadeProxy.java?ref=bcdd141106ecd0f5cc1933e2422837ca0186e06d","patch":"@@ -30,19 +30,7 @@\n import org.identityconnectors.framework.api.ConnectorFacadeFactory;\n import org.identityconnectors.framework.api.ConnectorInfo;\n import org.identityconnectors.framework.api.ConnectorKey;\n-import org.identityconnectors.framework.common.objects.Attribute;\n-import org.identityconnectors.framework.common.objects.AttributeInfo;\n-import org.identityconnectors.framework.common.objects.ConnectorObject;\n-import org.identityconnectors.framework.common.objects.Name;\n-import org.identityconnectors.framework.common.objects.ObjectClass;\n-import org.identityconnectors.framework.common.objects.ObjectClassInfo;\n-import org.identityconnectors.framework.common.objects.OperationOptions;\n-import org.identityconnectors.framework.common.objects.OperationalAttributes;\n-import org.identityconnectors.framework.common.objects.Schema;\n-import org.identityconnectors.framework.common.objects.SyncDelta;\n-import org.identityconnectors.framework.common.objects.SyncResultsHandler;\n-import org.identityconnectors.framework.common.objects.SyncToken;\n-import org.identityconnectors.framework.common.objects.Uid;\n+import org.identityconnectors.framework.common.objects.*;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.util.ClassUtils;\n@@ -507,6 +495,45 @@ public ConnectorObject getObject(\n         return result;\n     }\n \n+    /**\n+     * Get remote object used by the propagation manager in order to choose for\n+     * a create (object doesn't exist) or an update (object exists).\n+     *\n+     * @param objectClass ConnId's object class\n+     * @param options ConnId's OperationOptions\n+     * @return ConnId's connector object for given uid\n+     */\n+    public List<SyncDelta> getAllObjects(\n+            final ObjectClass objectClass,\n+            final OperationOptions options) {\n+\n+        final List<SyncDelta> result = new ArrayList<SyncDelta>();\n+\n+        if (capabitilies.contains(ConnectorCapability.SEARCH)) {\n+            connector.search(objectClass, null,\n+                    new ResultsHandler() {\n+\n+                        @Override\n+                        public boolean handle(final ConnectorObject obj) {\n+                            final SyncDeltaBuilder bld = new SyncDeltaBuilder();\n+                            bld.setObject(obj);\n+                            bld.setUid(obj.getUid());\n+                            bld.setDeltaType(SyncDeltaType.CREATE_OR_UPDATE);\n+                            bld.setToken(new SyncToken(\"\"));\n+\n+                            return result.add(bld.build());\n+                        }\n+                    }, options);\n+\n+        } else {\n+            LOG.info(\"Search was attempted, although the \"\n+                    + \"connector only has these capabilities: {}. No action.\",\n+                    capabitilies);\n+        }\n+\n+        return result;\n+    }\n+\n     /**\n      * Read attribute for a given connector object.\n      *\n@@ -554,8 +581,8 @@ public Set<Attribute> getObjectAttributes(\n         final Set<Attribute> attributes = new HashSet<Attribute>();\n \n         try {\n-            final ConnectorObject object = connector.getObject(objectClass, uid,\n-                    options);\n+            final ConnectorObject object =\n+                    connector.getObject(objectClass, uid, options);\n \n             for (String attribute : attributeNames) {\n                 attributes.add(object.getAttributeByName(attribute));"},{"sha":"8c9b8c240d398eecda379b8668b59ef241626446","filename":"core/src/main/java/org/syncope/core/rest/controller/TaskController.java","status":"modified","additions":4,"deletions":3,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fcontroller%2FTaskController.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fcontroller%2FTaskController.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fcontroller%2FTaskController.java?ref=bcdd141106ecd0f5cc1933e2422837ca0186e06d","patch":"@@ -101,7 +101,7 @@ public class TaskController extends AbstractController {\n     @RequestMapping(method = RequestMethod.POST,\n     value = \"/create/sync\")\n     public TaskTO createSyncTask(final HttpServletResponse response,\n-            final @RequestBody SyncTaskTO taskTO)\n+            @RequestBody final SyncTaskTO taskTO)\n             throws NotFoundException {\n \n         return createSchedTask(response, taskTO);\n@@ -110,8 +110,9 @@ public TaskTO createSyncTask(final HttpServletResponse response,\n     @PreAuthorize(\"hasRole('TASK_CREATE')\")\n     @RequestMapping(method = RequestMethod.POST,\n     value = \"/create/sched\")\n-    public TaskTO createSchedTask(final HttpServletResponse response,\n-            final @RequestBody SchedTaskTO taskTO)\n+    public TaskTO createSchedTask(\n+            final HttpServletResponse response,\n+            @RequestBody final SchedTaskTO taskTO)\n             throws NotFoundException {\n \n         LOG.debug(\"Creating task \" + taskTO);"},{"sha":"2f54ce56249d7e747b9db1e356736a237e28c9e7","filename":"core/src/main/java/org/syncope/core/rest/data/TaskDataBinder.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FTaskDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FTaskDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FTaskDataBinder.java?ref=bcdd141106ecd0f5cc1933e2422837ca0186e06d","patch":"@@ -138,6 +138,7 @@ private void fill(final SyncTask task, final SyncTaskTO taskTO) {\n         task.setPerformUpdate(taskTO.isPerformUpdate());\n         task.setPerformDelete(taskTO.isPerformDelete());\n         task.setSyncStatus(taskTO.isSyncStatus());\n+        task.setFullReconciliation(taskTO.isFullReconciliation());\n \n         task.setJobActionsClassName(taskTO.getJobActionsClassName());\n     }"},{"sha":"be15243215253be21c0b8537cb6cc0163123c6f5","filename":"core/src/main/java/org/syncope/core/scheduling/SyncJob.java","status":"modified","additions":12,"deletions":6,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fscheduling%2FSyncJob.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fscheduling%2FSyncJob.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fscheduling%2FSyncJob.java?ref=bcdd141106ecd0f5cc1933e2422837ca0186e06d","patch":"@@ -26,6 +26,7 @@\n import org.identityconnectors.framework.common.objects.Attribute;\n import org.identityconnectors.framework.common.objects.AttributeUtil;\n import org.identityconnectors.framework.common.objects.ConnectorObject;\n+import org.identityconnectors.framework.common.objects.ObjectClass;\n import org.identityconnectors.framework.common.objects.OperationalAttributes;\n import org.identityconnectors.framework.common.objects.SyncDelta;\n import org.identityconnectors.framework.common.objects.Uid;\n@@ -349,12 +350,11 @@ private UserTO getUserTO(final ConnectorObject obj) {\n     /**\n      * Build an UserMod out of connector object attributes and schema mapping.\n      *\n-     * @param user user to be updated\n+     * @param userId user to be updated\n      * @param obj connector object\n      * @return UserMod for the user to be updated\n      */\n-    private UserMod getUserMod(final Long userId,\n-            final ConnectorObject obj) {\n+    private UserMod getUserMod(final Long userId, final ConnectorObject obj) {\n \n         final SyncTask syncTask = (SyncTask) this.task;\n \n@@ -618,6 +618,7 @@ private SyncResult createUser(final SyncDelta delta, final boolean dryRun)\n         result.setOperation(Operation.CREATE);\n \n         UserTO userTO = getUserTO(delta.getObject());\n+        \n         actions.beforeCreate(delta, userTO);\n \n         if (dryRun) {\n@@ -698,6 +699,7 @@ private void updateUsers(final SyncDelta delta,\n \n                     final UserMod userMod =\n                             getUserMod(userId, delta.getObject());\n+                    \n                     actions.beforeUpdate(delta, userTO, userMod);\n \n                     result.setStatus(Status.SUCCESS);\n@@ -966,9 +968,13 @@ protected String doExecute(final boolean dryRun)\n \n         final List<SyncDelta> deltas;\n         try {\n-            deltas = connector.sync(syncTask.getResource().getSyncToken());\n+            if (syncTask.isFullReconciliation()) {\n+                deltas = connector.getAllObjects(ObjectClass.ACCOUNT, null);\n+            } else {\n+                deltas = connector.sync(syncTask.getResource().getSyncToken());\n+            }\n \n-            if (!dryRun) {\n+            if (!dryRun && !syncTask.isFullReconciliation()) {\n                 try {\n                     ExternalResource resource =\n                             resourceDAO.find(syncTask.getResource().getName());\n@@ -1012,7 +1018,7 @@ protected String doExecute(final boolean dryRun)\n                     delta.getDeltaType(), delta.getUid().getUidValue());\n \n             List<Long> users = findExistingUsers(delta);\n-\n+            \n             switch (delta.getDeltaType()) {\n                 case CREATE_OR_UPDATE:\n                     if (users.isEmpty()) {"},{"sha":"f4806b30b5d6cbabe635701bb4eaaee75718883d","filename":"core/src/test/java/org/syncope/core/persistence/dao/TaskTest.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2FTaskTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2FTaskTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2FTaskTest.java?ref=bcdd141106ecd0f5cc1933e2422837ca0186e06d","patch":"@@ -65,7 +65,7 @@ public void findAll() {\n         assertEquals(1, sclist.size());\n \n         List<SyncTask> sylist = taskDAO.findAll(SyncTask.class);\n-        assertEquals(1, sylist.size());\n+        assertEquals(2, sylist.size());\n \n         ExternalResource resource = resourceDAO.find(\"ws-target-resource-2\");\n         assertNotNull(resource);"},{"sha":"b62065cf37b164e56d0d92506aaa2aed71564924","filename":"core/src/test/java/org/syncope/core/rest/TaskTestITCase.java","status":"modified","additions":86,"deletions":2,"changes":88,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FTaskTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FTaskTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FTaskTestITCase.java?ref=bcdd141106ecd0f5cc1933e2422837ca0186e06d","patch":"@@ -293,14 +293,17 @@ public void sync() {\n         assertNotNull(taskTO);\n         assertNotNull(taskTO.getExecutions());\n \n-        // read executions before sync (dryrun test could be executed before)        \n+        // read executions before sync (dryrun test could be executed before)\n         int preSyncSize = taskTO.getExecutions().size();\n \n         TaskExecTO execution = restTemplate.postForObject(\n                 BASE_URL + \"task/execute/{taskId}\", null,\n                 TaskExecTO.class, taskTO.getId());\n         assertEquals(\"JOB_FIRED\", execution.getStatus());\n \n+        int i = 0;\n+        int maxit = 20;\n+\n         // wait for sync completion (executions incremented)\n         do {\n             try {\n@@ -315,7 +318,9 @@ public void sync() {\n             assertNotNull(taskTO);\n             assertNotNull(taskTO.getExecutions());\n \n-        } while (preSyncSize == taskTO.getExecutions().size());\n+            i++;\n+\n+        } while (preSyncSize == taskTO.getExecutions().size() && i < maxit);\n \n         // check for sync policy\n         userTO = restTemplate.getForObject(BASE_URL + \"user/read/{userId}.json\",\n@@ -376,6 +381,85 @@ public void sync() {\n         assertEquals(\"active\", userTO.getStatus());\n     }\n \n+    @Test\n+    public void reconcile() {\n+        // Update sync task\n+        SyncTaskTO task = restTemplate.getForObject(\n+                BASE_URL + \"task/read/{taskId}\", SyncTaskTO.class, 7);\n+        assertNotNull(task);\n+\n+        //  add user template\n+        UserTO template = new UserTO();\n+\n+        AttributeTO attrTO = new AttributeTO();\n+        attrTO.setSchema(\"type\");\n+        attrTO.addValue(\"'type a'\");\n+        template.addAttribute(attrTO);\n+\n+        attrTO = new AttributeTO();\n+        attrTO.setSchema(\"userId\");\n+        attrTO.addValue(\"'reconciled@syncope.org'\");\n+        template.addAttribute(attrTO);\n+\n+        attrTO = new AttributeTO();\n+        attrTO.setSchema(\"fullname\");\n+        attrTO.addValue(\"'reconciled fullname'\");\n+        template.addAttribute(attrTO);\n+\n+        attrTO = new AttributeTO();\n+        attrTO.setSchema(\"surname\");\n+        attrTO.addValue(\"'surname'\");\n+        template.addAttribute(attrTO);\n+\n+        task.setUserTemplate(template);\n+\n+        SyncTaskTO actual = restTemplate.postForObject(\n+                BASE_URL + \"task/update/sync\", task, SyncTaskTO.class);\n+        assertNotNull(actual);\n+        assertEquals(task.getId(), actual.getId());\n+\n+        // read executions before sync (dryrun test could be executed before)\n+        int preSyncSize = actual.getExecutions().size();\n+\n+        TaskExecTO execution = restTemplate.postForObject(\n+                BASE_URL + \"task/execute/{taskId}\", null,\n+                TaskExecTO.class, actual.getId());\n+        assertEquals(\"JOB_FIRED\", execution.getStatus());\n+\n+        int i = 0;\n+        int maxit = 20;\n+\n+        // wait for sync completion (executions incremented)\n+        do {\n+            try {\n+                Thread.sleep(1000);\n+            } catch (InterruptedException e) {\n+            }\n+\n+            actual = restTemplate.getForObject(BASE_URL + \"task/read/{taskId}\",\n+                    SyncTaskTO.class, actual.getId());\n+\n+            assertNotNull(actual);\n+            assertNotNull(actual.getExecutions());\n+\n+            i++;\n+\n+        } while (preSyncSize == actual.getExecutions().size() && i < maxit);\n+\n+        assertEquals(1, actual.getExecutions().size());\n+\n+        final String status = actual.getExecutions().get(0).getStatus();\n+        assertNotNull(status);\n+        assertTrue(PropagationTaskExecStatus.valueOf(status).isSuccessful());\n+\n+        final UserTO userTO = restTemplate.getForObject(\n+                BASE_URL + \"user/read.json?username=testuser1\", UserTO.class);\n+\n+        assertNotNull(userTO);\n+        assertEquals(\"reconciled@syncope.org\",\n+                userTO.getAttributeMap().get(\"userId\").getValues().get(0));\n+    }\n+\n     @Test\n     public void issue196() {\n         TaskExecTO execution = restTemplate.postForObject("},{"sha":"5811f21ba7adf3025547658db7d8e1ffb4a5de03","filename":"core/src/test/java/org/syncope/core/rest/UserTestITCase.java","status":"modified","additions":17,"deletions":12,"changes":29,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java?ref=bcdd141106ecd0f5cc1933e2422837ca0186e06d","patch":"@@ -740,7 +740,7 @@ public void createWithApproval() {\n         Exception exception = null;\n         try {\n             jdbcTemplate.queryForInt(\n-                    \"SELECT id FROM test WHERE id=?\", userTO.getId());\n+                    \"SELECT id FROM test WHERE id=?\", userTO.getUsername());\n         } catch (EmptyResultDataAccessException e) {\n             exception = e;\n         }\n@@ -776,9 +776,11 @@ public void createWithApproval() {\n         assertFalse(userTO.getPropagationStatusMap().isEmpty());\n         exception = null;\n         try {\n-            int id = jdbcTemplate.queryForInt(\n-                    \"SELECT id FROM test WHERE id=?\", userTO.getId());\n-            assertEquals(userTO.getId(), id);\n+            String username = jdbcTemplate.queryForObject(\n+                    \"SELECT id FROM test WHERE id=?\",\n+                    String.class,\n+                    userTO.getUsername());\n+            assertEquals(userTO.getUsername(), username);\n         } catch (EmptyResultDataAccessException e) {\n             exception = e;\n         }\n@@ -1396,7 +1398,7 @@ public void suspendReactivateOnResource() {\n         assertNotNull(userTO);\n         assertEquals(\"suspended\", userTO.getStatus());\n \n-        String dbTableUID = String.valueOf(userTO.getId());\n+        String dbTableUID = userTO.getUsername();\n         assertNotNull(dbTableUID);\n \n         ConnObjectTO connObjectTO = restTemplate.getForObject(\n@@ -1461,24 +1463,27 @@ public void issue213() {\n \n         JdbcTemplate jdbcTemplate = new JdbcTemplate(testDataSource);\n \n-        int id = jdbcTemplate.queryForInt(\n-                \"SELECT id FROM test WHERE id=?\", userTO.getId());\n+        String username = jdbcTemplate.queryForObject(\n+                \"SELECT id FROM test WHERE id=?\",\n+                String.class,\n+                userTO.getUsername());\n \n-        assertEquals(userTO.getId(), id);\n+        assertEquals(userTO.getUsername(), username);\n \n         UserMod userMod = new UserMod();\n \n         userMod.setId(userTO.getId());\n-        userMod.addResourceToBeRemoved(\n-                \"resource-testdb\");\n+        userMod.addResourceToBeRemoved(\"resource-testdb\");\n \n         userTO = restTemplate.postForObject(BASE_URL + \"user/update\",\n                 userMod, UserTO.class);\n \n         assertTrue(userTO.getResources().isEmpty());\n \n-        jdbcTemplate.queryForInt(\n-                \"SELECT id FROM test WHERE id=?\", userTO.getId());\n+        jdbcTemplate.queryForObject(\n+                \"SELECT id FROM test WHERE id=?\",\n+                String.class,\n+                userTO.getUsername());\n     }\n \n     @Test"},{"sha":"5fbd3bf0773a6dee5a661c73342ebd6cd6664062","filename":"core/src/test/resources/content.xml","status":"modified","additions":32,"deletions":29,"changes":61,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bcdd141106ecd0f5cc1933e2422837ca0186e06d/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml?ref=bcdd141106ecd0f5cc1933e2422837ca0186e06d","patch":"@@ -69,32 +69,32 @@\n     <Membership id=\"6\" syncopeUser_id=\"2\" syncopeRole_id=\"3\"/>\n \n     <USchema name=\"fullname\" type=\"String\"\n-                mandatoryCondition=\"true\" multivalue=\"0\" uniqueConstraint=\"1\" readonly=\"0\"/>\n+             mandatoryCondition=\"true\" multivalue=\"0\" uniqueConstraint=\"1\" readonly=\"0\"/>\n     <USchema name=\"userId\" type=\"String\"\n-                mandatoryCondition=\"true\" multivalue=\"0\" uniqueConstraint=\"1\" readonly=\"0\"\n-                validatorClass=\"org.syncope.core.persistence.validation.attrvalue.EmailAddressValidator\"/>\n+             mandatoryCondition=\"true\" multivalue=\"0\" uniqueConstraint=\"1\" readonly=\"0\"\n+             validatorClass=\"org.syncope.core.persistence.validation.attrvalue.EmailAddressValidator\"/>\n     <USchema name=\"loginDate\" type=\"Date\"\n-                mandatoryCondition=\"false\" multivalue=\"1\" uniqueConstraint=\"0\" readonly=\"0\"\n-                conversionPattern=\"yyyy-MM-dd\"/>\n+             mandatoryCondition=\"false\" multivalue=\"1\" uniqueConstraint=\"0\" readonly=\"0\"\n+             conversionPattern=\"yyyy-MM-dd\"/>\n     <USchema name=\"firstname\" type=\"String\"\n-                mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n+             mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n     <USchema name=\"surname\" type=\"String\"\n-                mandatoryCondition=\"true\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n+             mandatoryCondition=\"true\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n     <USchema name=\"type\" type=\"String\"\n-                mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n+             mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n     <USchema name=\"email\" type=\"String\"\n-                mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"\n-                validatorClass=\"org.syncope.core.persistence.validation.attrvalue.EmailAddressValidator\"/>\n+             mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"\n+             validatorClass=\"org.syncope.core.persistence.validation.attrvalue.EmailAddressValidator\"/>\n     <USchema name=\"activationDate\" type=\"Date\"\n-                mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"\n-                conversionPattern=\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\"/>\n+             mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"\n+             conversionPattern=\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\"/>\n     <USchema name=\"uselessReadonly\" type=\"String\"\n-                mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"1\"/>\n+             mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"1\"/>\n     <USchema name=\"cool\" type=\"Boolean\"\n-                mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n+             mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n     <USchema name=\"gender\" type=\"Enum\"\n-                mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"\n-                enumerationValues=\"M;F\"/>\n+             mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"\n+             enumerationValues=\"M;F\"/>\n \n     <UDerSchema name=\"csvuserid\" expression=\"firstname + ',' + surname\"/>\n \n@@ -197,7 +197,7 @@\n                   bundleName=\"org.connid.bundles.soap\"\n                   connectorName=\"org.connid.bundles.soap.WebServiceConnector\"\n                   version=\"${connid.soap.version}\"\n-\t\t  xmlConfiguration=\"%3Cset%3E%0A++%3Corg.syncope.types.ConnConfProperty%3E%0A++++%3Cschema%3E%0A++++++%3Cname%3Eendpoint%3C/name%3E%0A++++++%3Ctype%3Ejava.lang.String%3C/type%3E%0A++++++%3Crequired%3Etrue%3C/required%3E%0A++++%3C/schema%3E%0A%0A%3Cvalues%3E%0A%3Cjava.lang.String%3Ehttp%3A//localhost%3A9080/wssample/services/provisioning%3C/java.lang.String%3E%0A%3C/values%3E%0A%0A++++%3Coverridable%3Efalse%3C/overridable%3E%0A++%3C/org.syncope.types.ConnConfProperty%3E%0A++%3Corg.syncope.types.ConnConfProperty%3E%0A++++%3Cschema%3E%0A++++++%3Cname%3Eservicename%3C/name%3E%0A++++++%3Ctype%3Ejava.lang.String%3C/type%3E%0A++++++%3Crequired%3Etrue%3C/required%3E%0A++++%3C/schema%3E%0A%0A%3Cvalues%3E%0A%3Cjava.lang.String%3Eorg.connid.bundles.soap.provisioning.interfaces.Provisioning%3C/java.lang.String%3E%0A%3C/values%3E%0A%0A++++%3Coverridable%3Efalse%3C/overridable%3E%0A++%3C/org.syncope.types.ConnConfProperty%3E%0A%3C/set%3E\"/>\n+                  xmlConfiguration=\"%3Cset%3E%0A++%3Corg.syncope.types.ConnConfProperty%3E%0A++++%3Cschema%3E%0A++++++%3Cname%3Eendpoint%3C/name%3E%0A++++++%3Ctype%3Ejava.lang.String%3C/type%3E%0A++++++%3Crequired%3Etrue%3C/required%3E%0A++++%3C/schema%3E%0A%0A%3Cvalues%3E%0A%3Cjava.lang.String%3Ehttp%3A//localhost%3A9080/wssample/services/provisioning%3C/java.lang.String%3E%0A%3C/values%3E%0A%0A++++%3Coverridable%3Efalse%3C/overridable%3E%0A++%3C/org.syncope.types.ConnConfProperty%3E%0A++%3Corg.syncope.types.ConnConfProperty%3E%0A++++%3Cschema%3E%0A++++++%3Cname%3Eservicename%3C/name%3E%0A++++++%3Ctype%3Ejava.lang.String%3C/type%3E%0A++++++%3Crequired%3Etrue%3C/required%3E%0A++++%3C/schema%3E%0A%0A%3Cvalues%3E%0A%3Cjava.lang.String%3Eorg.connid.bundles.soap.provisioning.interfaces.Provisioning%3C/java.lang.String%3E%0A%3C/values%3E%0A%0A++++%3Coverridable%3Efalse%3C/overridable%3E%0A++%3C/org.syncope.types.ConnConfProperty%3E%0A%3C/set%3E\"/>\n     <ConnInstance_capabilities ConnInstance_id=\"100\" capabilities=\"ONE_PHASE_CREATE\"/>\n     <ConnInstance_capabilities ConnInstance_id=\"100\" capabilities=\"ONE_PHASE_UPDATE\"/>\n     <ConnInstance_capabilities ConnInstance_id=\"100\" capabilities=\"ONE_PHASE_DELETE\"/>\n@@ -223,7 +223,7 @@\n                   bundleName=\"org.connid.bundles.soap\"\n                   connectorName=\"org.connid.bundles.soap.WebServiceConnector\"\n                   version=\"${connid.soap.version}\"\n-\t\t  xmlConfiguration=\"%3Cset%3E%0A++%3Corg.syncope.types.ConnConfProperty%3E%0A++++%3Cschema%3E%0A++++++%3Cname%3Eservicename%3C/name%3E%0A++++++%3Ctype%3Ejava.lang.String%3C/type%3E%0A++++++%3Crequired%3Etrue%3C/required%3E%0A++++%3C/schema%3E%0A%3Cvalues%3E%0A%3Cjava.lang.String%3Eorg.connid.bundles.soap.provisioning.interfaces.Provisioning%3C/java.lang.String%3E%0A%3C/values%3E%0A++++%3Coverridable%3Efalse%3C/overridable%3E%0A++%3C/org.syncope.types.ConnConfProperty%3E%0A++%3Corg.syncope.types.ConnConfProperty%3E%0A++++%3Cschema%3E%0A++++++%3Cname%3Eendpoint%3C/name%3E%0A++++++%3Ctype%3Ejava.lang.String%3C/type%3E%0A++++++%3Crequired%3Etrue%3C/required%3E%0A++++%3C/schema%3E%0A%3Cvalues%3E%0A%3Cjava.lang.String%3Ehttp%3A//localhost%3A9080/wssample/services/provisioning%3C/java.lang.String%3E%0A%3C/values%3E%0A++++%3Coverridable%3Etrue%3C/overridable%3E%0A++%3C/org.syncope.types.ConnConfProperty%3E%0A%3C/set%3E\"/>\n+                  xmlConfiguration=\"%3Cset%3E%0A++%3Corg.syncope.types.ConnConfProperty%3E%0A++++%3Cschema%3E%0A++++++%3Cname%3Eservicename%3C/name%3E%0A++++++%3Ctype%3Ejava.lang.String%3C/type%3E%0A++++++%3Crequired%3Etrue%3C/required%3E%0A++++%3C/schema%3E%0A%3Cvalues%3E%0A%3Cjava.lang.String%3Eorg.connid.bundles.soap.provisioning.interfaces.Provisioning%3C/java.lang.String%3E%0A%3C/values%3E%0A++++%3Coverridable%3Efalse%3C/overridable%3E%0A++%3C/org.syncope.types.ConnConfProperty%3E%0A++%3Corg.syncope.types.ConnConfProperty%3E%0A++++%3Cschema%3E%0A++++++%3Cname%3Eendpoint%3C/name%3E%0A++++++%3Ctype%3Ejava.lang.String%3C/type%3E%0A++++++%3Crequired%3Etrue%3C/required%3E%0A++++%3C/schema%3E%0A%3Cvalues%3E%0A%3Cjava.lang.String%3Ehttp%3A//localhost%3A9080/wssample/services/provisioning%3C/java.lang.String%3E%0A%3C/values%3E%0A++++%3Coverridable%3Etrue%3C/overridable%3E%0A++%3C/org.syncope.types.ConnConfProperty%3E%0A%3C/set%3E\"/>\n     <ConnInstance_capabilities ConnInstance_id=\"102\" capabilities=\"ONE_PHASE_CREATE\"/>\n     <ConnInstance_capabilities ConnInstance_id=\"102\" capabilities=\"ONE_PHASE_UPDATE\"/>\n     <ConnInstance_capabilities ConnInstance_id=\"102\" capabilities=\"ONE_PHASE_DELETE\"/>\n@@ -383,7 +383,7 @@\n                    \n     <SchemaMapping id=\"116\" extAttrName=\"ID\"\n                    resource_name=\"resource-testdb\"\n-                   intMappingType=\"SyncopeUserId\" mandatoryCondition=\"true\"\n+                   intMappingType=\"Username\" mandatoryCondition=\"true\"\n                    accountid=\"1\" password=\"0\"/>\n                    \n     <SchemaMapping id=\"117\" extAttrName=\"PASSWORD\"\n@@ -450,23 +450,26 @@\n                    mandatoryCondition=\"false\" resource_name=\"resource-ldap\"/>\n                    \n     <Task DTYPE=\"PropagationTask\" id=\"1\" propagationMode=\"TWO_PHASES\" propagationOperation=\"UPDATE\"\n-                 resource_name=\"ws-target-resource-2\" syncopeUser_id=\"1\"\n-                 xmlAttributes=\"%3Cset%3E%0A++%3Corg.identityconnectors.framework.common.objects.Name%3E%0A++++%3Cname%3E__NAME__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3EuserId%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Name%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3E__PASSWORD__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Corg.identityconnectors.common.security.GuardedString%3E%0A++++++++++%3C__readOnly%3Efalse%3C%2F__readOnly%3E%0A++++++++++%3C__disposed%3Efalse%3C%2F__disposed%3E%0A++++++++++%3C__encryptedBytes%3EQTOgwEhIHqtAI%2FYlgDhYc37esEF8VLDMU2IY1ciltrg%3D%3C%2F__encryptedBytes%3E%0A++++++++++%3C__base64SHA1Hash%3EW5%2FrwtdCnI8gAnIUhKcahMEnMMc%3D%3C%2F__base64SHA1Hash%3E%0A++++++++%3C%2Forg.identityconnectors.common.security.GuardedString%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Etype%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Etype%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Efullname%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Efullname%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A%3C%2Fset%3E%0A\"/>\n+          resource_name=\"ws-target-resource-2\" syncopeUser_id=\"1\"\n+          xmlAttributes=\"%3Cset%3E%0A++%3Corg.identityconnectors.framework.common.objects.Name%3E%0A++++%3Cname%3E__NAME__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3EuserId%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Name%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3E__PASSWORD__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Corg.identityconnectors.common.security.GuardedString%3E%0A++++++++++%3C__readOnly%3Efalse%3C%2F__readOnly%3E%0A++++++++++%3C__disposed%3Efalse%3C%2F__disposed%3E%0A++++++++++%3C__encryptedBytes%3EQTOgwEhIHqtAI%2FYlgDhYc37esEF8VLDMU2IY1ciltrg%3D%3C%2F__encryptedBytes%3E%0A++++++++++%3C__base64SHA1Hash%3EW5%2FrwtdCnI8gAnIUhKcahMEnMMc%3D%3C%2F__base64SHA1Hash%3E%0A++++++++%3C%2Forg.identityconnectors.common.security.GuardedString%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Etype%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Etype%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Efullname%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Efullname%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A%3C%2Fset%3E%0A\"/>\n     <TaskExec id=\"1\" task_id=\"1\" status=\"SUCCESS\"/>\n     <Task DTYPE=\"PropagationTask\" id=\"2\" propagationMode=\"ONE_PHASE\" propagationOperation=\"CREATE\"\n-                 resource_name=\"ws-target-resource-2\" syncopeUser_id=\"1\"\n-                 xmlAttributes=\"%3Cset%3E%0A++%3Corg.identityconnectors.framework.common.objects.Name%3E%0A++++%3Cname%3E__NAME__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3EuserId%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Name%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3E__PASSWORD__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Corg.identityconnectors.common.security.GuardedString%3E%0A++++++++++%3C__readOnly%3Efalse%3C%2F__readOnly%3E%0A++++++++++%3C__disposed%3Efalse%3C%2F__disposed%3E%0A++++++++++%3C__encryptedBytes%3EQTOgwEhIHqtAI%2FYlgDhYc37esEF8VLDMU2IY1ciltrg%3D%3C%2F__encryptedBytes%3E%0A++++++++++%3C__base64SHA1Hash%3EW5%2FrwtdCnI8gAnIUhKcahMEnMMc%3D%3C%2F__base64SHA1Hash%3E%0A++++++++%3C%2Forg.identityconnectors.common.security.GuardedString%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Etype%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Etype%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Efullname%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Efullname%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A%3C%2Fset%3E%0A\"/>\n+          resource_name=\"ws-target-resource-2\" syncopeUser_id=\"1\"\n+          xmlAttributes=\"%3Cset%3E%0A++%3Corg.identityconnectors.framework.common.objects.Name%3E%0A++++%3Cname%3E__NAME__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3EuserId%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Name%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3E__PASSWORD__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Corg.identityconnectors.common.security.GuardedString%3E%0A++++++++++%3C__readOnly%3Efalse%3C%2F__readOnly%3E%0A++++++++++%3C__disposed%3Efalse%3C%2F__disposed%3E%0A++++++++++%3C__encryptedBytes%3EQTOgwEhIHqtAI%2FYlgDhYc37esEF8VLDMU2IY1ciltrg%3D%3C%2F__encryptedBytes%3E%0A++++++++++%3C__base64SHA1Hash%3EW5%2FrwtdCnI8gAnIUhKcahMEnMMc%3D%3C%2F__base64SHA1Hash%3E%0A++++++++%3C%2Forg.identityconnectors.common.security.GuardedString%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Etype%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Etype%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Efullname%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Efullname%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A%3C%2Fset%3E%0A\"/>\n     <Task DTYPE=\"PropagationTask\" id=\"3\" propagationMode=\"TWO_PHASES\" propagationOperation=\"DELETE\"\n-                 resource_name=\"ws-target-resource-2\" syncopeUser_id=\"1\"\n-                 xmlAttributes=\"%3Cset%3E%0A++%3Corg.identityconnectors.framework.common.objects.Name%3E%0A++++%3Cname%3E__NAME__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3EuserId%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Name%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3E__PASSWORD__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Corg.identityconnectors.common.security.GuardedString%3E%0A++++++++++%3C__readOnly%3Efalse%3C%2F__readOnly%3E%0A++++++++++%3C__disposed%3Efalse%3C%2F__disposed%3E%0A++++++++++%3C__encryptedBytes%3EQTOgwEhIHqtAI%2FYlgDhYc37esEF8VLDMU2IY1ciltrg%3D%3C%2F__encryptedBytes%3E%0A++++++++++%3C__base64SHA1Hash%3EW5%2FrwtdCnI8gAnIUhKcahMEnMMc%3D%3C%2F__base64SHA1Hash%3E%0A++++++++%3C%2Forg.identityconnectors.common.security.GuardedString%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Etype%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Etype%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A%3C%2Fset%3E\"/>\n+          resource_name=\"ws-target-resource-2\" syncopeUser_id=\"1\"\n+          xmlAttributes=\"%3Cset%3E%0A++%3Corg.identityconnectors.framework.common.objects.Name%3E%0A++++%3Cname%3E__NAME__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3EuserId%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Name%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3E__PASSWORD__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Corg.identityconnectors.common.security.GuardedString%3E%0A++++++++++%3C__readOnly%3Efalse%3C%2F__readOnly%3E%0A++++++++++%3C__disposed%3Efalse%3C%2F__disposed%3E%0A++++++++++%3C__encryptedBytes%3EQTOgwEhIHqtAI%2FYlgDhYc37esEF8VLDMU2IY1ciltrg%3D%3C%2F__encryptedBytes%3E%0A++++++++++%3C__base64SHA1Hash%3EW5%2FrwtdCnI8gAnIUhKcahMEnMMc%3D%3C%2F__base64SHA1Hash%3E%0A++++++++%3C%2Forg.identityconnectors.common.security.GuardedString%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Etype%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Etype%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A%3C%2Fset%3E\"/>\n     <Task DTYPE=\"SyncTask\" id=\"4\" resource_name=\"resource-csv\"\n-          performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\" \n+          performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\" fullReconciliation=\"0\"\n           jobClassName=\"org.syncope.core.scheduling.SyncJob\"/>\n     <Task DTYPE=\"SchedTask\" id=\"5\" jobClassName=\"org.syncope.core.scheduling.SampleJob\" cronExpression=\"0 0 0 1 * ?\"/>\n     <Task DTYPE=\"PropagationTask\" id=\"6\" propagationMode=\"TWO_PHASES\" propagationOperation=\"UPDATE\"\n-                 resource_name=\"ws-target-resource-nopropagation\" syncopeUser_id=\"1\"\n-                 xmlAttributes=\"%3Cset%3E%0A++%3Corg.identityconnectors.framework.common.objects.Name%3E%0A++++%3Cname%3E__NAME__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3EuserId%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Name%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3E__PASSWORD__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Corg.identityconnectors.common.security.GuardedString%3E%0A++++++++++%3C__readOnly%3Efalse%3C%2F__readOnly%3E%0A++++++++++%3C__disposed%3Efalse%3C%2F__disposed%3E%0A++++++++++%3C__encryptedBytes%3EQTOgwEhIHqtAI%2FYlgDhYc37esEF8VLDMU2IY1ciltrg%3D%3C%2F__encryptedBytes%3E%0A++++++++++%3C__base64SHA1Hash%3EW5%2FrwtdCnI8gAnIUhKcahMEnMMc%3D%3C%2F__base64SHA1Hash%3E%0A++++++++%3C%2Forg.identityconnectors.common.security.GuardedString%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Etype%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Etype%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Efullname%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Efullname%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A%3C%2Fset%3E%0A\"/>\n-          \n+          resource_name=\"ws-target-resource-nopropagation\" syncopeUser_id=\"1\"\n+          xmlAttributes=\"%3Cset%3E%0A++%3Corg.identityconnectors.framework.common.objects.Name%3E%0A++++%3Cname%3E__NAME__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3EuserId%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Name%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3E__PASSWORD__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Corg.identityconnectors.common.security.GuardedString%3E%0A++++++++++%3C__readOnly%3Efalse%3C%2F__readOnly%3E%0A++++++++++%3C__disposed%3Efalse%3C%2F__disposed%3E%0A++++++++++%3C__encryptedBytes%3EQTOgwEhIHqtAI%2FYlgDhYc37esEF8VLDMU2IY1ciltrg%3D%3C%2F__encryptedBytes%3E%0A++++++++++%3C__base64SHA1Hash%3EW5%2FrwtdCnI8gAnIUhKcahMEnMMc%3D%3C%2F__base64SHA1Hash%3E%0A++++++++%3C%2Forg.identityconnectors.common.security.GuardedString%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Etype%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Etype%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Efullname%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Efullname%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A%3C%2Fset%3E%0A\"/>\n+    <Task DTYPE=\"SyncTask\" id=\"7\" resource_name=\"resource-testdb\"\n+                performCreate=\"1\" performUpdate=\"1\" performDelete=\"0\" syncStatus=\"1\" fullReconciliation=\"1\"\n+                jobClassName=\"org.syncope.core.scheduling.SyncJob\"/>\n+                \n     <RDerSchema name=\"displayProperty\" expression=\"icon + ': ' + show\"/>\n \n     <RDerAttr id=\"1001\" derivedSchema_name=\"displayProperty\" owner_id=\"1\"/>"}]}
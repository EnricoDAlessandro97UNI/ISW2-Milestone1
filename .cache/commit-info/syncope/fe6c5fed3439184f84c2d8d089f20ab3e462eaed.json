{"sha":"fe6c5fed3439184f84c2d8d089f20ab3e462eaed","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmZlNmM1ZmVkMzQzOTE4NGY4NGMyZDhkMDg5ZjIwYWIzZTQ2MmVhZWQ=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2018-06-26T14:24:29Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2018-06-26T14:33:55Z"},"message":"Integration tests (MySQL, MariaDB, PostgreSQL, Oracle, Elasticsearch) now run via Docker","tree":{"sha":"964dccfc268716f573c0ccdd673566778a7fc14c","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/964dccfc268716f573c0ccdd673566778a7fc14c"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/fe6c5fed3439184f84c2d8d089f20ab3e462eaed","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fe6c5fed3439184f84c2d8d089f20ab3e462eaed","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/fe6c5fed3439184f84c2d8d089f20ab3e462eaed","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"5ddca9dfb2b027f534ce9cdab2bb1b51fce72487","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5ddca9dfb2b027f534ce9cdab2bb1b51fce72487","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/5ddca9dfb2b027f534ce9cdab2bb1b51fce72487"}],"stats":{"total":550,"additions":498,"deletions":52},"files":[{"sha":"c97deab7e38d9bbc1f605282e019d43c67a6f711","filename":"docker/src/main/resources/docker-compose-ha.yml","status":"modified","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/docker%2Fsrc%2Fmain%2Fresources%2Fdocker-compose-ha.yml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/docker%2Fsrc%2Fmain%2Fresources%2Fdocker-compose-ha.yml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/docker%2Fsrc%2Fmain%2Fresources%2Fdocker-compose-ha.yml?ref=fe6c5fed3439184f84c2d8d089f20ab3e462eaed","patch":"@@ -15,6 +15,9 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+# Full deployment (Core, Console, Enduser) on PostgreSQL, with high-availability set for Core\n+# http://syncope.apache.org/docs/reference-guide.html#high-availability\n+\n version: '3.3'\n \n services:"},{"sha":"7e78637e86790fe6e835871dcb9a147cdce342a3","filename":"docker/src/main/resources/docker-compose-mariadb.yml","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/docker%2Fsrc%2Fmain%2Fresources%2Fdocker-compose-mariadb.yml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/docker%2Fsrc%2Fmain%2Fresources%2Fdocker-compose-mariadb.yml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/docker%2Fsrc%2Fmain%2Fresources%2Fdocker-compose-mariadb.yml?ref=fe6c5fed3439184f84c2d8d089f20ab3e462eaed","patch":"@@ -15,6 +15,8 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+# Full deployment (Core, Console, Enduser) on MariaDB\n+\n version: '3.3'\n \n services:"},{"sha":"592192a3c4ae7552b8e3e27f6e71ac8eaf7626a6","filename":"docker/src/main/resources/docker-compose-mssql.yml","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/docker%2Fsrc%2Fmain%2Fresources%2Fdocker-compose-mssql.yml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/docker%2Fsrc%2Fmain%2Fresources%2Fdocker-compose-mssql.yml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/docker%2Fsrc%2Fmain%2Fresources%2Fdocker-compose-mssql.yml?ref=fe6c5fed3439184f84c2d8d089f20ab3e462eaed","patch":"@@ -15,6 +15,8 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+# Full deployment (Core, Console, Enduser) on MS SQL Server\n+\n version: '3.3'\n \n services:"},{"sha":"ed29be50844527eb397dda3c1e634dbd14cd75ef","filename":"docker/src/main/resources/docker-compose-mysql.yml","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/docker%2Fsrc%2Fmain%2Fresources%2Fdocker-compose-mysql.yml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/docker%2Fsrc%2Fmain%2Fresources%2Fdocker-compose-mysql.yml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/docker%2Fsrc%2Fmain%2Fresources%2Fdocker-compose-mysql.yml?ref=fe6c5fed3439184f84c2d8d089f20ab3e462eaed","patch":"@@ -15,6 +15,8 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+# Full deployment (Core, Console, Enduser) on MySQL\n+\n version: '3.3'\n \n services:"},{"sha":"e7abdfe76bb240f3f99c6b4ebac7d4dae0941a95","filename":"docker/src/main/resources/docker-compose-postgresql.yml","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/docker%2Fsrc%2Fmain%2Fresources%2Fdocker-compose-postgresql.yml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/docker%2Fsrc%2Fmain%2Fresources%2Fdocker-compose-postgresql.yml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/docker%2Fsrc%2Fmain%2Fresources%2Fdocker-compose-postgresql.yml?ref=fe6c5fed3439184f84c2d8d089f20ab3e462eaed","patch":"@@ -15,6 +15,8 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+# Full deployment (Core, Console, Enduser) on PostgreSQL\n+\n version: '3.3'\n \n services:"},{"sha":"0f1e4a89b4179da25a6bfad9d5353ea395934fc1","filename":"fit/core-reference/pom.xml","status":"modified","additions":398,"deletions":0,"changes":398,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/fit%2Fcore-reference%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/fit%2Fcore-reference%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fpom.xml?ref=fe6c5fed3439184f84c2d8d089f20ab3e462eaed","patch":"@@ -480,6 +480,68 @@ under the License.\n               <webXml>${basedir}/src/main/resources/elasticsearch/web.xml</webXml>\n             </configuration>\n           </plugin>\n+          \n+          <plugin>\n+            <groupId>io.fabric8</groupId>\n+            <artifactId>docker-maven-plugin</artifactId>\n+            <configuration>\n+              <images>\n+                <image>\n+                  <name>docker.elastic.co/elasticsearch/elasticsearch:${elasticsearch.version}</name>\n+                  <run>\n+                    <env>\n+                      <discovery.type>single-node</discovery.type>\n+                      <cluster.name>elasticsearch</cluster.name>\n+                      <xpack.security.enabled>false</xpack.security.enabled>\n+                    </env>\n+                    <ports>\n+                      <port>9200:9200</port>\n+                      <port>9300:9300</port>\n+                    </ports>\n+                  </run>\n+                </image>\n+              </images>\n+            </configuration>\n+            <executions>\n+              <execution>\n+                <id>start-elasticsearch</id>\n+                <phase>pre-integration-test</phase>\n+                <goals>\n+                  <goal>start</goal>\n+                </goals>\n+              </execution>\n+              <execution>\n+                <id>stop-elasticsearch</id>\n+                <phase>post-integration-test</phase>\n+                <goals>\n+                  <goal>stop</goal>\n+                  <goal>remove</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+          \n+          <plugin>\n+            <groupId>org.codehaus.cargo</groupId>\n+            <artifactId>cargo-maven2-plugin</artifactId>\n+            <inherited>true</inherited>\n+            <executions>\n+              <execution>\n+                <id>start-container</id>\n+                <phase>pre-integration-test</phase>\n+                <goals>\n+                  <goal>start</goal>\n+                </goals>\n+              </execution>\n+              <execution>\n+                <id>stop-container</id>\n+                <phase>post-integration-test</phase>\n+                <goals>\n+                  <goal>stop</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n         </plugins>\n         \n         <testResources>\n@@ -531,6 +593,75 @@ under the License.\n       <build>\n         <defaultGoal>clean verify</defaultGoal>\n \n+        <plugins>\n+          <plugin>\n+            <groupId>io.fabric8</groupId>\n+            <artifactId>docker-maven-plugin</artifactId>\n+            <configuration>\n+              <images>\n+                <image>\n+                  <name>crunchydata/crunchy-postgres:centos7-10.3-1.8.2</name>\n+                  <run>\n+                    <env>\n+                      <PG_ROOT_PASSWORD>postgres</PG_ROOT_PASSWORD>\n+                      <PG_MODE>primary</PG_MODE>\n+                      <PG_PRIMARY_USER>postgres</PG_PRIMARY_USER>\n+                      <PG_PRIMARY_PASSWORD>postgres</PG_PRIMARY_PASSWORD>\n+                      <PG_PRIMARY_HOST>localhost</PG_PRIMARY_HOST>\n+                      <PG_PRIMARY_PORT>5432</PG_PRIMARY_PORT>\n+                      <PG_DATABASE>syncope</PG_DATABASE>\n+                      <PG_USER>syncope</PG_USER>\n+                      <PG_PASSWORD>syncope</PG_PASSWORD>\n+                    </env>\n+                    <ports>\n+                      <port>5432:5432</port>\n+                    </ports>\n+                  </run>\n+                </image>\n+              </images>\n+            </configuration>\n+            <executions>\n+              <execution>\n+                <id>start-postgres</id>\n+                <phase>pre-integration-test</phase>\n+                <goals>\n+                  <goal>start</goal>\n+                </goals>\n+              </execution>\n+              <execution>\n+                <id>stop-postgres</id>\n+                <phase>post-integration-test</phase>\n+                <goals>\n+                  <goal>stop</goal>\n+                  <goal>remove</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+          \n+          <plugin>\n+            <groupId>org.codehaus.cargo</groupId>\n+            <artifactId>cargo-maven2-plugin</artifactId>\n+            <inherited>true</inherited>\n+            <executions>\n+              <execution>\n+                <id>start-container</id>\n+                <phase>pre-integration-test</phase>\n+                <goals>\n+                  <goal>start</goal>\n+                </goals>\n+              </execution>\n+              <execution>\n+                <id>stop-container</id>\n+                <phase>post-integration-test</phase>\n+                <goals>\n+                  <goal>stop</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+        </plugins>\n+\n         <resources>\n           <resource>\n             <directory>src/main/resources</directory>\n@@ -578,6 +709,69 @@ under the License.\n       <build>\n         <defaultGoal>clean verify</defaultGoal>\n \n+        <plugins>\n+          <plugin>\n+            <groupId>io.fabric8</groupId>\n+            <artifactId>docker-maven-plugin</artifactId>\n+            <configuration>\n+              <images>\n+                <image>\n+                  <name>mysql/mysql-server:5.7</name>\n+                  <run>\n+                    <env>\n+                      <MYSQL_DATABASE>syncope</MYSQL_DATABASE>\n+                      <MYSQL_USER>syncope</MYSQL_USER>\n+                      <MYSQL_PASSWORD>syncope</MYSQL_PASSWORD>\n+                    </env>\n+                    <ports>\n+                      <port>3306:3306</port>\n+                    </ports>\n+                  </run>\n+                </image>\n+              </images>\n+            </configuration>\n+            <executions>\n+              <execution>\n+                <id>start-mysql</id>\n+                <phase>pre-integration-test</phase>\n+                <goals>\n+                  <goal>start</goal>\n+                </goals>\n+              </execution>\n+              <execution>\n+                <id>stop-mysql</id>\n+                <phase>post-integration-test</phase>\n+                <goals>\n+                  <goal>stop</goal>\n+                  <goal>remove</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+          \n+          <plugin>\n+            <groupId>org.codehaus.cargo</groupId>\n+            <artifactId>cargo-maven2-plugin</artifactId>\n+            <inherited>true</inherited>\n+            <executions>\n+              <execution>\n+                <id>start-container</id>\n+                <phase>pre-integration-test</phase>\n+                <goals>\n+                  <goal>start</goal>\n+                </goals>\n+              </execution>\n+              <execution>\n+                <id>stop-container</id>\n+                <phase>post-integration-test</phase>\n+                <goals>\n+                  <goal>stop</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+        </plugins>\n+\n         <resources>\n           <resource>\n             <directory>src/main/resources</directory>\n@@ -614,6 +808,70 @@ under the License.\n       <build>\n         <defaultGoal>clean verify</defaultGoal>\n \n+        <plugins>\n+          <plugin>\n+            <groupId>io.fabric8</groupId>\n+            <artifactId>docker-maven-plugin</artifactId>\n+            <configuration>\n+              <images>\n+                <image>\n+                  <name>mariadb:10.3.7</name>\n+                  <run>\n+                    <env>\n+                      <MYSQL_ROOT_PASSWORD>password</MYSQL_ROOT_PASSWORD>\n+                      <MYSQL_DATABASE>syncope</MYSQL_DATABASE>\n+                      <MYSQL_USER>syncope</MYSQL_USER>\n+                      <MYSQL_PASSWORD>syncope</MYSQL_PASSWORD>\n+                    </env>\n+                    <ports>\n+                      <port>3306:3306</port>\n+                    </ports>\n+                  </run>\n+                </image>\n+              </images>\n+            </configuration>\n+            <executions>\n+              <execution>\n+                <id>start-mariadb</id>\n+                <phase>pre-integration-test</phase>\n+                <goals>\n+                  <goal>start</goal>\n+                </goals>\n+              </execution>\n+              <execution>\n+                <id>stop-mariadb</id>\n+                <phase>post-integration-test</phase>\n+                <goals>\n+                  <goal>stop</goal>\n+                  <goal>remove</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+          \n+          <plugin>\n+            <groupId>org.codehaus.cargo</groupId>\n+            <artifactId>cargo-maven2-plugin</artifactId>\n+            <inherited>true</inherited>\n+            <executions>\n+              <execution>\n+                <id>start-container</id>\n+                <phase>pre-integration-test</phase>\n+                <goals>\n+                  <goal>start</goal>\n+                </goals>\n+              </execution>\n+              <execution>\n+                <id>stop-container</id>\n+                <phase>post-integration-test</phase>\n+                <goals>\n+                  <goal>stop</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+        </plugins>\n+\n         <resources>\n           <resource>\n             <directory>src/main/resources</directory>\n@@ -650,6 +908,81 @@ under the License.\n       <build>\n         <defaultGoal>clean verify</defaultGoal>\n \n+        <plugins>\n+          <plugin>\n+            <groupId>io.fabric8</groupId>\n+            <artifactId>docker-maven-plugin</artifactId>\n+            <configuration>\n+              <images>\n+                <image>\n+                  <name>oracle-xe-11g</name>\n+                  <build>\n+                    <dockerFileDir>${project.basedir}/src/main/resources/oracle</dockerFileDir>\n+                  </build>\n+                  <run>\n+                    <env>\n+                      <ORACLE_DISABLE_ASYNCH_IO>true</ORACLE_DISABLE_ASYNCH_IO>\n+                    </env>\n+                    <ports>\n+                      <port>1521:1521</port>\n+                    </ports>\n+                    <wait>\n+                      <log>Disconnected from Oracle Database 11g Express Edition Release 11.2.0.2.0 - 64bit Production</log>\n+                      <time>30000</time>\n+                    </wait>                \n+                  </run>\n+                </image>\n+              </images>\n+            </configuration>\n+            <executions>\n+              <execution>\n+                <id>buid-oracle</id>\n+                <phase>initialize</phase>\n+                <goals>\n+                  <goal>build</goal>\n+                </goals>\n+              </execution>\n+              <execution>\n+                <id>start-oracle</id>\n+                <phase>pre-integration-test</phase>\n+                <goals>\n+                  <goal>start</goal>\n+                </goals>\n+              </execution>\n+              <execution>\n+                <id>stop-oracle</id>\n+                <phase>post-integration-test</phase>\n+                <goals>\n+                  <goal>stop</goal>\n+                  <goal>remove</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+          \n+          <plugin>\n+            <groupId>org.codehaus.cargo</groupId>\n+            <artifactId>cargo-maven2-plugin</artifactId>\n+            <inherited>true</inherited>\n+            <executions>\n+              <execution>\n+                <id>start-container</id>\n+                <phase>pre-integration-test</phase>\n+                <goals>\n+                  <goal>start</goal>\n+                </goals>\n+              </execution>\n+              <execution>\n+                <id>stop-container</id>\n+                <phase>post-integration-test</phase>\n+                <goals>\n+                  <goal>stop</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+        </plugins>\n+\n         <resources>\n           <resource>\n             <directory>src/main/resources</directory>\n@@ -686,6 +1019,71 @@ under the License.\n       <build>\n         <defaultGoal>clean verify</defaultGoal>\n \n+        <plugins>\n+          <plugin>\n+            <groupId>io.fabric8</groupId>\n+            <artifactId>docker-maven-plugin</artifactId>\n+            <configuration>\n+              <images>\n+                <image>\n+                  <name>mcmoe/mssqldocker:latest</name>\n+                  <run>\n+                    <env>\n+                      <ACCEPT_EULA>Y</ACCEPT_EULA>\n+                      <SA_PASSWORD>2astazeY</SA_PASSWORD>\n+                      <MSSQL_DB>syncope</MSSQL_DB>\n+                      <MSSQL_USER>syncope</MSSQL_USER>\n+                      <MSSQL_PASSWORD>Syncope123</MSSQL_PASSWORD>\n+                    </env>\n+                    <ports>\n+                      <port>1433:1433</port>\n+                    </ports>\n+                  </run>\n+                </image>\n+              </images>\n+            </configuration>\n+            <executions>\n+              <execution>\n+                <id>start-sqlserver</id>\n+                <phase>pre-integration-test</phase>\n+                <goals>\n+                  <goal>start</goal>\n+                </goals>\n+              </execution>\n+              <execution>\n+                <id>stop-sqlserver</id>\n+                <phase>post-integration-test</phase>\n+                <goals>\n+                  <goal>stop</goal>\n+                  <goal>remove</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+          \n+          <plugin>\n+            <groupId>org.codehaus.cargo</groupId>\n+            <artifactId>cargo-maven2-plugin</artifactId>\n+            <inherited>true</inherited>\n+            <executions>\n+              <execution>\n+                <id>start-container</id>\n+                <phase>pre-integration-test</phase>\n+                <goals>\n+                  <goal>start</goal>\n+                </goals>\n+              </execution>\n+              <execution>\n+                <id>stop-container</id>\n+                <phase>post-integration-test</phase>\n+                <goals>\n+                  <goal>stop</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+        </plugins>\n+\n         <resources>\n           <resource>\n             <directory>src/main/resources</directory>"},{"sha":"b69d61324e377b43d287c528bb09004e5846d70f","filename":"fit/core-reference/src/main/resources/oracle/Dockerfile","status":"added","additions":20,"deletions":0,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Foracle%2FDockerfile","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Foracle%2FDockerfile","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Foracle%2FDockerfile?ref=fe6c5fed3439184f84c2d8d089f20ab3e462eaed","patch":"@@ -0,0 +1,20 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+FROM wnameless/oracle-xe-11g\n+\n+ADD init.sql /docker-entrypoint-initdb.d/"},{"sha":"e45677a14b01bd66d7fc695c5db40901ae96660e","filename":"fit/core-reference/src/main/resources/oracle/init.sql","status":"added","additions":43,"deletions":0,"changes":43,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Foracle%2Finit.sql","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Foracle%2Finit.sql","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Foracle%2Finit.sql?ref=fe6c5fed3439184f84c2d8d089f20ab3e462eaed","patch":"@@ -0,0 +1,43 @@\n+-- Licensed to the Apache Software Foundation (ASF) under one\n+-- or more contributor license agreements.  See the NOTICE file\n+-- distributed with this work for additional information\n+-- regarding copyright ownership.  The ASF licenses this file\n+-- to you under the Apache License, Version 2.0 (the\n+-- \"License\"); you may not use this file except in compliance\n+-- with the License.  You may obtain a copy of the License at\n+--\n+--   http://www.apache.org/licenses/LICENSE-2.0\n+--\n+-- Unless required by applicable law or agreed to in writing,\n+-- software distributed under the License is distributed on an\n+-- \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+-- KIND, either express or implied.  See the License for the\n+-- specific language governing permissions and limitations\n+-- under the License.\n+\n+CREATE TABLESPACE SYNCOPE\n+  DATAFILE 'SYNCOPE.dat'\n+  SIZE 10M AUTOEXTEND on;\n+\n+CREATE TEMPORARY TABLESPACE SYNCOPE_TEMP\n+  TEMPFILE 'SYNCOPE_TEMP.dat'\n+  SIZE 5M AUTOEXTEND on;\n+\n+CREATE USER syncope\n+  IDENTIFIED BY syncope\n+  DEFAULT TABLESPACE SYNCOPE\n+  TEMPORARY TABLESPACE SYNCOPE_TEMP\n+  QUOTA 256M on SYNCOPE;\n+\n+GRANT create session TO syncope;\n+GRANT create table TO syncope;\n+GRANT create view TO syncope;\n+GRANT create any trigger TO syncope;\n+GRANT create any procedure TO syncope;\n+GRANT create sequence TO syncope;\n+GRANT create synonym TO syncope;\n+\n+CREATE DATABASE syncope\n+  CHARACTER SET US7ASCII\n+  DEFAULT TABLESPACE SYNCOPE\n+  DEFAULT TEMPORARY TABLESPACE SYNCOPE_TEMP"},{"sha":"29aa6c35f97040157015f1ade98ed56ecf2ef19e","filename":"fit/core-reference/src/main/resources/sqlserver/domains/Master.properties","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fsqlserver%2Fdomains%2FMaster.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fsqlserver%2Fdomains%2FMaster.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fsqlserver%2Fdomains%2FMaster.properties?ref=fe6c5fed3439184f84c2d8d089f20ab3e462eaed","patch":"@@ -14,11 +14,11 @@\n # KIND, either express or implied.  See the License for the\n # specific language governing permissions and limitations\n # under the License.\n-Master.driverClassName=com/microsoft/sqlserver/jdbc/SQLServerDriver\n-Master.url=jdbc:sqlserver://teak:1433;databaseName=syncope\n+Master.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\n+Master.url=jdbc:sqlserver://localhost:1433;databaseName=syncope\n Master.schema=dbo\n Master.username=syncope\n-Master.password=syncope\n+Master.password=Syncope123\n Master.databasePlatform=org.apache.openjpa.jdbc.sql.SQLServerDictionary\n Master.orm=META-INF/spring-orm-sqlserver.xml\n "},{"sha":"54abfebd5eff8fe828c443d0f6a58afeb1675ce7","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/IdentityRecertificationITCase.java","status":"removed","additions":0,"deletions":49,"changes":49,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5ddca9dfb2b027f534ce9cdab2bb1b51fce72487/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FIdentityRecertificationITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5ddca9dfb2b027f534ce9cdab2bb1b51fce72487/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FIdentityRecertificationITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FIdentityRecertificationITCase.java?ref=5ddca9dfb2b027f534ce9cdab2bb1b51fce72487","patch":"@@ -1,49 +0,0 @@\n-/*\r\n- * Licensed to the Apache Software Foundation (ASF) under one\r\n- * or more contributor license agreements.  See the NOTICE file\r\n- * distributed with this work for additional information\r\n- * regarding copyright ownership.  The ASF licenses this file\r\n- * to you under the Apache License, Version 2.0 (the\r\n- * \"License\"); you may not use this file except in compliance\r\n- * with the License.  You may obtain a copy of the License at\r\n- *\r\n- *   http://www.apache.org/licenses/LICENSE-2.0\r\n- *\r\n- * Unless required by applicable law or agreed to in writing,\r\n- * software distributed under the License is distributed on an\r\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n- * KIND, either express or implied.  See the License for the\r\n- * specific language governing permissions and limitations\r\n- * under the License.\r\n- */\r\n-package org.apache.syncope.fit.core;\r\n-\r\n-import static org.junit.jupiter.api.Assertions.assertFalse;\r\n-import static org.junit.jupiter.api.Assertions.assertTrue;\r\n-\r\n-import java.util.List;\r\n-import org.apache.syncope.common.lib.to.WorkflowFormPropertyTO;\r\n-import org.apache.syncope.common.lib.to.WorkflowFormTO;\r\n-import org.junit.jupiter.api.Test;\r\n-import org.apache.syncope.common.lib.types.TaskType;\r\n-\r\n-public class IdentityRecertificationITCase extends AbstractTaskITCase {\r\n-\r\n-    @Test\r\n-    public void recertification() {\r\n-        execTask(taskService, TaskType.SCHEDULED, \"e95555d2-1b09-42c8-b25b-f4c4ec598989\", \"JOB_FIRED\", 50, false);\r\n-\r\n-        List<WorkflowFormTO> forms = userWorkflowService.getForms();\r\n-        assertFalse(forms.isEmpty());\r\n-        for (WorkflowFormTO form : forms) {\r\n-            userWorkflowService.claimForm(form.getTaskId());\r\n-            WorkflowFormPropertyTO approve = form.getProperty(\"approve\").get();\r\n-            approve.setValue(\"true\");\r\n-            userWorkflowService.submitForm(form);\r\n-        }\r\n-\r\n-        forms = userWorkflowService.getForms();\r\n-        assertTrue(forms.isEmpty());\r\n-    }\r\n-\r\n-}\r"},{"sha":"a3af47d4c77754ea4ac4a9fd90eddf9513d197f3","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/SchedTaskITCase.java","status":"modified","additions":23,"deletions":0,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FSchedTaskITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe6c5fed3439184f84c2d8d089f20ab3e462eaed/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FSchedTaskITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FSchedTaskITCase.java?ref=fe6c5fed3439184f84c2d8d089f20ab3e462eaed","patch":"@@ -24,6 +24,7 @@\n import static org.junit.jupiter.api.Assertions.assertNull;\n import static org.junit.jupiter.api.Assertions.assertTrue;\n import static org.junit.jupiter.api.Assertions.fail;\n+import static org.junit.jupiter.api.Assumptions.assumeTrue;\n \n import java.util.Date;\n import java.util.List;\n@@ -39,12 +40,15 @@\n import org.apache.syncope.common.lib.to.ExecTO;\n import org.apache.syncope.common.lib.to.ImplementationTO;\n import org.apache.syncope.common.lib.types.ImplementationType;\n+import org.apache.syncope.common.lib.to.WorkflowFormPropertyTO;\n+import org.apache.syncope.common.lib.to.WorkflowFormTO;\n import org.apache.syncope.common.lib.types.JobAction;\n import org.apache.syncope.common.lib.types.TaskType;\n import org.apache.syncope.common.rest.api.beans.ExecuteQuery;\n import org.apache.syncope.common.rest.api.beans.ExecQuery;\n import org.apache.syncope.common.rest.api.beans.TaskQuery;\n import org.apache.syncope.common.rest.api.service.TaskService;\n+import org.apache.syncope.fit.FlowableDetector;\n import org.apache.syncope.fit.core.reference.TestSampleJobDelegate;\n import org.junit.jupiter.api.Test;\n \n@@ -133,6 +137,25 @@ public void deferred() {\n         assertTrue(DateUtils.addSeconds(execs.getResult().get(0).getStart(), 1).after(later));\n     }\n \n+    @Test\n+    public void recertification() {\n+        assumeTrue(FlowableDetector.isFlowableEnabledForUsers(syncopeService));\n+\n+        execTask(taskService, TaskType.SCHEDULED, \"e95555d2-1b09-42c8-b25b-f4c4ec598989\", \"JOB_FIRED\", 50, false);\n+\n+        List<WorkflowFormTO> forms = userWorkflowService.getForms();\n+        assertFalse(forms.isEmpty());\n+        forms.forEach(form -> {\n+            userWorkflowService.claimForm(form.getTaskId());\n+            WorkflowFormPropertyTO approve = form.getProperty(\"approve\").orElse(null);\n+            approve.setValue(\"true\");\n+            userWorkflowService.submitForm(form);\n+        });\n+\n+        forms = userWorkflowService.getForms();\n+        assertTrue(forms.isEmpty());\n+    }\n+\n     @Test\n     public void issueSYNCOPE144() {\n         ImplementationTO taskJobDelegate = implementationService.read("}]}
{"sha":"a23abdf3eae907839a64ce7f9f82d6296626f38a","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmEyM2FiZGYzZWFlOTA3ODM5YTY0Y2U3ZjlmODJkNjI5NjYyNmYzOGE=","commit":{"author":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2017-10-03T06:45:59Z"},"committer":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2017-10-03T06:46:40Z"},"message":"[SYNCOPE-1213] aligned enduser maxUploadFileSize behavior to console's one","tree":{"sha":"7612136b288db85a3aaca94a78fb46393dfbe54f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/7612136b288db85a3aaca94a78fb46393dfbe54f"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/a23abdf3eae907839a64ce7f9f82d6296626f38a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a23abdf3eae907839a64ce7f9f82d6296626f38a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/a23abdf3eae907839a64ce7f9f82d6296626f38a","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a23abdf3eae907839a64ce7f9f82d6296626f38a/comments","author":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"committer":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"cf9a1881eac25e0e24c516faed1ce3df66d73596","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/cf9a1881eac25e0e24c516faed1ce3df66d73596","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/cf9a1881eac25e0e24c516faed1ce3df66d73596"}],"stats":{"total":16,"additions":9,"deletions":7},"files":[{"sha":"f918d30c22e15ee3a86d72e7a118a3a3b3443c69","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/SyncopeEnduserApplication.java","status":"modified","additions":5,"deletions":3,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a23abdf3eae907839a64ce7f9f82d6296626f38a/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a23abdf3eae907839a64ce7f9f82d6296626f38a/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java?ref=a23abdf3eae907839a64ce7f9f82d6296626f38a","patch":"@@ -83,7 +83,7 @@ public static SyncopeEnduserApplication get() {\n     private boolean xsrfEnabled;\n \n     private Integer maxUploadFileSizeMB;\n-    \n+\n     private SyncopeClientFactoryBean clientFactory;\n \n     private Map<String, CustomAttributesInfo> customForm;\n@@ -121,7 +121,9 @@ protected void init() {\n         Args.notNull(rootPath, \"<rootPath>\");\n         String useGZIPCompression = props.getProperty(\"useGZIPCompression\");\n         Args.notNull(useGZIPCompression, \"<useGZIPCompression>\");\n-        maxUploadFileSizeMB = Integer.valueOf(props.getProperty(\"maxUploadFileSizeMB\"));\n+        maxUploadFileSizeMB = props.getProperty(\"maxUploadFileSizeMB\") == null\n+                ? null\n+                : Integer.valueOf(props.getProperty(\"maxUploadFileSizeMB\"));\n \n         clientFactory = new SyncopeClientFactoryBean().\n                 setAddress(scheme + \"://\" + host + \":\" + port + \"/\" + rootPath).\n@@ -272,7 +274,7 @@ public boolean isXsrfEnabled() {\n     public Integer getMaxUploadFileSizeMB() {\n         return maxUploadFileSizeMB;\n     }\n-    \n+\n     public Map<String, CustomAttributesInfo> getCustomForm() {\n         return customForm;\n     }"},{"sha":"a9fcf3c8d2d43fbae3b7275ff2bf32691826159d","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/adapters/PlatformInfoAdapter.java","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a23abdf3eae907839a64ce7f9f82d6296626f38a/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fadapters%2FPlatformInfoAdapter.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a23abdf3eae907839a64ce7f9f82d6296626f38a/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fadapters%2FPlatformInfoAdapter.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fadapters%2FPlatformInfoAdapter.java?ref=a23abdf3eae907839a64ce7f9f82d6296626f38a","patch":"@@ -34,7 +34,9 @@ public static PlatformInfoRequest toPlatformInfoRequest(final PlatformInfo platf\n         request.setPwdResetRequiringSecurityQuestions(platformInfo.isPwdResetRequiringSecurityQuestions());\n         request.setVersion(platformInfo.getVersion());\n         request.setCaptchaEnabled(SyncopeEnduserApplication.get().isCaptchaEnabled());\n-        request.setMaxUploadFileSizeMB(SyncopeEnduserApplication.get().getMaxUploadFileSizeMB());\n+        if (SyncopeEnduserApplication.get().getMaxUploadFileSizeMB() != null) {\n+            request.setMaxUploadFileSizeMB(SyncopeEnduserApplication.get().getMaxUploadFileSizeMB());\n+        }\n         request.setCustomForm(customForm);\n \n         return request;"},{"sha":"71a39855949e6c8141c04e80b1d3788267d6dd45","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/app.js","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a23abdf3eae907839a64ce7f9f82d6296626f38a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a23abdf3eae907839a64ce7f9f82d6296626f38a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js?ref=a23abdf3eae907839a64ce7f9f82d6296626f38a","patch":"@@ -359,7 +359,6 @@ app.controller('ApplicationController', ['$scope', '$rootScope', '$location', 'I\n       $rootScope.pwdResetRequiringSecurityQuestions = false;\n       $rootScope.captchaEnabled = false;\n       $rootScope.validationEnabled = true;\n-      $rootScope.maxUploadFileSizeMB = 5;\n       $rootScope.saml2idps = {\n         available: [],\n         selected: {}"},{"sha":"50f4a7f989ea1451d25095f2285494c163641c7b","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/fileInput.js","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a23abdf3eae907839a64ce7f9f82d6296626f38a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FfileInput.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a23abdf3eae907839a64ce7f9f82d6296626f38a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FfileInput.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FfileInput.js?ref=a23abdf3eae907839a64ce7f9f82d6296626f38a","patch":"@@ -47,7 +47,7 @@ angular.module('self')\n                   initialPreview: [\n                     previewImgComposite\n                   ],\n-                  'maxFileSize': parseInt($rootScope.maxUploadFileSizeMB) * 1000\n+                  'maxFileSize': $rootScope.maxUploadFileSizeMB ? parseInt($rootScope.maxUploadFileSizeMB) * 1000 : undefined\n                 });\n               }\n             };"},{"sha":"7387c0d35f445b53638ae2d3c04bf208e214771d","filename":"fit/enduser-reference/src/test/resources/enduser.properties","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a23abdf3eae907839a64ce7f9f82d6296626f38a/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fenduser.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a23abdf3eae907839a64ce7f9f82d6296626f38a/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fenduser.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fenduser.properties?ref=a23abdf3eae907839a64ce7f9f82d6296626f38a","patch":"@@ -22,7 +22,6 @@ anonymousUser=${anonymousUser}\n anonymousKey=${anonymousKey}\n adminUser=${adminUser}\n useGZIPCompression=true\n-maxUploadFileSizeMB=5\n \n scheme=http\n host=localhost"}]}
{"sha":"80593da82898c1e798f69029a8c313ef0dac685f","node_id":"C_kwDOJfYA1toAKDgwNTkzZGE4Mjg5OGMxZTc5OGY2OTAyOWE4YzMxM2VmMGRhYzY4NWY","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2023-03-03T14:08:31Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@users.noreply.github.com","date":"2023-03-04T07:05:02Z"},"message":"Upgrading Swagger UI, Tomcat and checkstyle","tree":{"sha":"85a344504f158f372fa564d9930712320ddfeefb","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/85a344504f158f372fa564d9930712320ddfeefb"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/80593da82898c1e798f69029a8c313ef0dac685f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/80593da82898c1e798f69029a8c313ef0dac685f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/80593da82898c1e798f69029a8c313ef0dac685f","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/80593da82898c1e798f69029a8c313ef0dac685f/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"b506bcde1f2744aaa8f44886c878d6805759b108","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b506bcde1f2744aaa8f44886c878d6805759b108","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/b506bcde1f2744aaa8f44886c878d6805759b108"}],"stats":{"total":103,"additions":62,"deletions":41},"files":[{"sha":"1d342eaa1893754684e8844759fc655115154b03","filename":".github/workflows/fit_Wildfly.yml.disabled","status":"renamed","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/80593da82898c1e798f69029a8c313ef0dac685f/.github%2Fworkflows%2Ffit_Wildfly.yml.disabled","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/80593da82898c1e798f69029a8c313ef0dac685f/.github%2Fworkflows%2Ffit_Wildfly.yml.disabled","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/.github%2Fworkflows%2Ffit_Wildfly.yml.disabled?ref=80593da82898c1e798f69029a8c313ef0dac685f","previous_filename":".github/workflows/fit_Wildfly.yml"},{"sha":"7cddc0b22141cb6e8ea85898f2f5d6d31aebd1d4","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/DefaultConnIdBundleManager.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/80593da82898c1e798f69029a8c313ef0dac685f/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FDefaultConnIdBundleManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/80593da82898c1e798f69029a8c313ef0dac685f/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FDefaultConnIdBundleManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FDefaultConnIdBundleManager.java?ref=80593da82898c1e798f69029a8c313ef0dac685f","patch":"@@ -102,8 +102,7 @@ protected void initLocal(final URI location) {\n         if (bundleFileURLs.isEmpty()) {\n             LOG.warn(\"No connector bundles found in {}\", location);\n         }\n-        LOG.debug(\"Configuring local connector server:\"\n-                + \"\\n\\tFiles: {}\", bundleFileURLs);\n+        LOG.debug(\"Configuring local connector server:\\n\\tFiles: {}\", bundleFileURLs);\n \n         // 2. Get connector info manager\n         ConnectorInfoManager manager ="},{"sha":"8765c137331ca91e38cd9727ac56c01c515fe888","filename":"fit/build-tools/pom.xml","status":"modified","additions":0,"deletions":6,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/80593da82898c1e798f69029a8c313ef0dac685f/fit%2Fbuild-tools%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/80593da82898c1e798f69029a8c313ef0dac685f/fit%2Fbuild-tools%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fbuild-tools%2Fpom.xml?ref=80593da82898c1e798f69029a8c313ef0dac685f","patch":"@@ -102,12 +102,6 @@ under the License.\n       <groupId>org.apache.cxf</groupId>\n       <artifactId>cxf-rt-frontend-jaxws</artifactId>\n       <version>${cxf.version}</version>\n-      <exclusions>\n-        <exclusion>\n-          <groupId>org.eclipse.angus</groupId>\n-          <artifactId>angus-mail</artifactId>\n-        </exclusion>\n-      </exclusions>\n     </dependency>\n \n     <dependency>"},{"sha":"8471b08524d629421d1dc094f825cb65f2e5740e","filename":"fit/wa-reference/src/test/java/org/apache/syncope/fit/AbstractITCase.java","status":"modified","additions":24,"deletions":2,"changes":26,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/80593da82898c1e798f69029a8c313ef0dac685f/fit%2Fwa-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FAbstractITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/80593da82898c1e798f69029a8c313ef0dac685f/fit%2Fwa-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FAbstractITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fwa-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FAbstractITCase.java?ref=80593da82898c1e798f69029a8c313ef0dac685f","patch":"@@ -22,9 +22,12 @@\n import static org.junit.jupiter.api.Assertions.assertNotNull;\n import static org.junit.jupiter.api.Assertions.assertTrue;\n \n+import com.nimbusds.jose.util.IOUtils;\n import jakarta.ws.rs.core.HttpHeaders;\n import jakarta.ws.rs.core.MediaType;\n import java.io.IOException;\n+import java.io.InputStream;\n+import java.nio.charset.StandardCharsets;\n import java.util.ArrayList;\n import java.util.List;\n import java.util.Optional;\n@@ -48,6 +51,7 @@\n import org.apache.syncope.common.rest.api.service.SAML2SP4UIIdPService;\n import org.apache.syncope.common.rest.api.service.SRARouteService;\n import org.apache.syncope.common.rest.api.service.UserService;\n+import org.apache.syncope.common.rest.api.service.wa.WAConfigService;\n import org.apache.syncope.fit.sra.AbstractSRAITCase;\n import org.jsoup.Connection;\n import org.jsoup.Jsoup;\n@@ -90,6 +94,8 @@ public abstract class AbstractITCase {\n \n     protected static OIDCC4UIProviderService OIDCC4UI_PROVIDER_SERVICE;\n \n+    protected static WAConfigService WA_CONFIG_SERVICE;\n+\n     @BeforeAll\n     public static void restSetup() {\n         CLIENT_FACTORY = new SyncopeClientFactoryBean().setAddress(CORE_ADDRESS);\n@@ -101,16 +107,32 @@ public static void restSetup() {\n         SRA_ROUTE_SERVICE = ADMIN_CLIENT.getService(SRARouteService.class);\n         SAML2SP4UI_IDP_SERVICE = ADMIN_CLIENT.getService(SAML2SP4UIIdPService.class);\n         OIDCC4UI_PROVIDER_SERVICE = ADMIN_CLIENT.getService(OIDCC4UIProviderService.class);\n+        WA_CONFIG_SERVICE = ADMIN_CLIENT.getService(WAConfigService.class);\n     }\n \n     @BeforeAll\n     public static void waitForWARefresh() {\n         SAML2IdPEntityService samlIdPEntityService = ADMIN_CLIENT.getService(SAML2IdPEntityService.class);\n \n-        await().atMost(50, TimeUnit.SECONDS).pollInterval(1, TimeUnit.SECONDS).until(() -> {\n+        await().atMost(50, TimeUnit.SECONDS).pollInterval(5, TimeUnit.SECONDS).until(() -> {\n             boolean refreshed = false;\n             try {\n-                WebClient.create(WA_ADDRESS + \"/idp/metadata\").get();\n+                String metadata = IOUtils.readInputStreamToString(\n+                        (InputStream) WebClient.create(\n+                                WA_ADDRESS + \"/idp/metadata\").get().getEntity(),\n+                        StandardCharsets.UTF_8);\n+                if (metadata.contains(\"localhost:8080\")) {\n+                    WA_CONFIG_SERVICE.pushToWA();\n+                    throw new IllegalStateException();\n+                }\n+                metadata = IOUtils.readInputStreamToString(\n+                        (InputStream) WebClient.create(\n+                                WA_ADDRESS + \"/oidc/.well-known/openid-configuration\").get().getEntity(),\n+                        StandardCharsets.UTF_8);\n+                if (metadata.contains(\"localhost:8080\")) {\n+                    WA_CONFIG_SERVICE.pushToWA();\n+                    throw new IllegalStateException();\n+                }\n \n                 samlIdPEntityService.get(SAML2IdPEntityService.DEFAULT_OWNER);\n                 refreshed = true;"},{"sha":"a57df96e104bba84c022bd65907680fb3d6693ae","filename":"fit/wa-reference/src/test/java/org/apache/syncope/fit/sra/AbstractSRAITCase.java","status":"modified","additions":3,"deletions":5,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/80593da82898c1e798f69029a8c313ef0dac685f/fit%2Fwa-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fsra%2FAbstractSRAITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/80593da82898c1e798f69029a8c313ef0dac685f/fit%2Fwa-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fsra%2FAbstractSRAITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fwa-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fsra%2FAbstractSRAITCase.java?ref=80593da82898c1e798f69029a8c313ef0dac685f","patch":"@@ -69,9 +69,7 @@ public abstract class AbstractSRAITCase extends AbstractITCase {\n \n     protected static final JsonMapper MAPPER = JsonMapper.builder().findAndAddModules().build();\n \n-    protected static final int PORT = 8080;\n-\n-    protected static final String SRA_ADDRESS = \"http://localhost:\" + PORT;\n+    protected static final String SRA_ADDRESS = \"http://127.0.0.1:8080\";\n \n     protected static final String QUERY_STRING =\n             \"key1=value1&key2=value2&key2=value3&key3=an%20url%20encoded%20value%3A%20this%21\";\n@@ -196,7 +194,7 @@ protected static void doStartSRA(final String activeProfile)\n         await().atMost(120, TimeUnit.SECONDS).pollInterval(3, TimeUnit.SECONDS).until(() -> {\n             boolean connected = false;\n             try (Socket socket = new Socket()) {\n-                socket.connect(new InetSocketAddress(\"0.0.0.0\", PORT));\n+                socket.connect(new InetSocketAddress(\"0.0.0.0\", 8080));\n                 connected = socket.isConnected();\n             } catch (ConnectException e) {\n                 // ignore\n@@ -294,7 +292,7 @@ protected static ObjectNode checkGetResponse(\n \n         ObjectNode headers = (ObjectNode) json.get(\"headers\");\n         assertEquals(MediaType.TEXT_HTML, headers.get(HttpHeaders.ACCEPT).asText());\n-        assertThat(headers.get(\"X-Forwarded-Host\").asText(), is(oneOf(\"localhost:\" + PORT, \"127.0.0.1:\" + PORT)));\n+        assertThat(headers.get(\"X-Forwarded-Host\").asText(), is(oneOf(\"localhost:8080\", \"127.0.0.1:8080\")));\n \n         String withHost = StringUtils.substringBefore(originalRequestURI, \"?\");\n         String withIP = withHost.replace(\"localhost\", \"127.0.0.1\");"},{"sha":"35b5e52e5883e84cbe5033dc82a77d948986520c","filename":"fit/wa-reference/src/test/java/org/apache/syncope/fit/sra/CASSRAITCase.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/80593da82898c1e798f69029a8c313ef0dac685f/fit%2Fwa-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fsra%2FCASSRAITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/80593da82898c1e798f69029a8c313ef0dac685f/fit%2Fwa-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fsra%2FCASSRAITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fwa-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fsra%2FCASSRAITCase.java?ref=80593da82898c1e798f69029a8c313ef0dac685f","patch":"@@ -71,7 +71,7 @@ public static void clientAppSetup() {\n                     CASSPClientAppTO app = new CASSPClientAppTO();\n                     app.setName(appName);\n                     app.setClientAppId(4L);\n-                    app.setServiceId(\"http://localhost:8080/.*\");\n+                    app.setServiceId(\"http://127.0.0.1:8080/.*\");\n \n                     Response response = CLIENT_APP_SERVICE.create(ClientAppType.CASSP, app);\n                     if (response.getStatusInfo().getStatusCode() != Response.Status.CREATED.getStatusCode()) {"},{"sha":"18879c0cdba19c48ef897eefa8e40d1f2161293a","filename":"fit/wa-reference/src/test/java/org/apache/syncope/fit/sra/OIDCSRAITCase.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/80593da82898c1e798f69029a8c313ef0dac685f/fit%2Fwa-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fsra%2FOIDCSRAITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/80593da82898c1e798f69029a8c313ef0dac685f/fit%2Fwa-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fsra%2FOIDCSRAITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fwa-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fsra%2FOIDCSRAITCase.java?ref=80593da82898c1e798f69029a8c313ef0dac685f","patch":"@@ -18,7 +18,6 @@\n  */\n package org.apache.syncope.fit.sra;\n \n-import static org.apache.syncope.fit.sra.AbstractSRAITCase.PORT;\n import static org.hamcrest.MatcherAssert.assertThat;\n import static org.hamcrest.Matchers.is;\n import static org.hamcrest.Matchers.oneOf;\n@@ -276,7 +275,7 @@ public void rest() throws IOException, ParseException {\n         ObjectNode headers = (ObjectNode) json.get(\"headers\");\n         assertEquals(MediaType.APPLICATION_JSON, headers.get(HttpHeaders.ACCEPT).asText());\n         assertEquals(MediaType.APPLICATION_JSON, headers.get(HttpHeaders.CONTENT_TYPE).asText());\n-        assertThat(headers.get(\"X-Forwarded-Host\").asText(), is(oneOf(\"localhost:\" + PORT, \"127.0.0.1:\" + PORT)));\n+        assertThat(headers.get(\"X-Forwarded-Host\").asText(), is(oneOf(\"localhost:8080\", \"127.0.0.1:8080\")));\n \n         String withHost = client.getBaseURI().toASCIIString().replace(\"/protected\", \"\");\n         String withIP = withHost.replace(\"localhost\", \"127.0.0.1\");"},{"sha":"b4af1d4fc8ab1a76f341191a789e6c309f7f2db8","filename":"fit/wa-reference/src/test/resources/sra-saml2.properties","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/80593da82898c1e798f69029a8c313ef0dac685f/fit%2Fwa-reference%2Fsrc%2Ftest%2Fresources%2Fsra-saml2.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/80593da82898c1e798f69029a8c313ef0dac685f/fit%2Fwa-reference%2Fsrc%2Ftest%2Fresources%2Fsra-saml2.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fwa-reference%2Fsrc%2Ftest%2Fresources%2Fsra-saml2.properties?ref=80593da82898c1e798f69029a8c313ef0dac685f","patch":"@@ -22,7 +22,7 @@ sra.am-type=SAML2\n sra.saml2.authn-request-binding=POST\n sra.saml2.logout-request-binding=POST\n sra.saml2.logout-response-binding=REDIRECT\n-sra.saml2.entityId=http://localhost:8080\n+sra.saml2.entityId=http://127.0.0.1:8080\n sra.saml2.skew=300\n sra.saml2.sp-metadata-file-path=/tmp/saml2-sp-metadata.xml\n sra.saml2.idp-metadata=https://localhost:9443/syncope-wa/idp/metadata"},{"sha":"5d0bfe1d68f40cd73a40993661fd313a6384f8e8","filename":"pom.xml","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/80593da82898c1e798f69029a8c313ef0dac685f/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/80593da82898c1e798f69029a8c313ef0dac685f/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=80593da82898c1e798f69029a8c313ef0dac685f","patch":"@@ -439,13 +439,13 @@ under the License.\n \n     <pac4j.version>6.0.0-RC5</pac4j.version>\n \n-    <cas.version>7.0.0-RC4</cas.version>\n+    <cas.version>7.0.0-SNAPSHOT</cas.version>\n     <cas-client.version>4.0.1</cas-client.version>\n \n     <h2.version>2.1.214</h2.version>\n \n     <swagger-core.version>2.2.8</swagger-core.version>\n-    <swagger-ui.version>4.15.5</swagger-ui.version>\n+    <swagger-ui.version>4.17.0</swagger-ui.version>\n \n     <jquery-slimscroll.version>1.3.8</jquery-slimscroll.version>\n     <jquery-cookie.version>1.4.1-1</jquery-cookie.version>\n@@ -493,7 +493,7 @@ under the License.\n     <cargo.rmi.port>9805</cargo.rmi.port>\n     <cargo.deployable.ping.timeout>60000</cargo.deployable.ping.timeout>\n \n-    <tomcat.version>10.1.5</tomcat.version>\n+    <tomcat.version>10.1.6</tomcat.version>\n     <wildfly.version>27.0.1.Final</wildfly.version>\n     <payara.version>6.2022.2</payara.version>\n     <jakarta.faces.version>4.0.0-M1</jakarta.faces.version>\n@@ -1688,7 +1688,7 @@ under the License.\n             <dependency>\n               <groupId>com.puppycrawl.tools</groupId>\n               <artifactId>checkstyle</artifactId>\n-              <version>10.7.0</version>\n+              <version>10.8.0</version>\n             </dependency>\n           </dependencies>\n           <configuration>"},{"sha":"c4f3040d56026b2e854162579a459944e7f1f0ba","filename":"sra/pom.xml","status":"modified","additions":10,"deletions":1,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/80593da82898c1e798f69029a8c313ef0dac685f/sra%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/80593da82898c1e798f69029a8c313ef0dac685f/sra%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/sra%2Fpom.xml?ref=80593da82898c1e798f69029a8c313ef0dac685f","patch":"@@ -257,6 +257,7 @@ under the License.\n       <id>debug</id>\n \n       <properties>\n+        <maven.build.cache.skipCache>true</maven.build.cache.skipCache>\n         <maven.test.skip>true</maven.test.skip>\n       </properties>\n \n@@ -269,7 +270,7 @@ under the License.\n       </dependencies>\n \n       <build>\n-        <defaultGoal>clean spring-boot:run</defaultGoal>\n+        <defaultGoal>clean package</defaultGoal>\n \n         <plugins>\n           <plugin>\n@@ -287,6 +288,14 @@ under the License.\n                 <profile>debug</profile>\n               </profiles>\n             </configuration>\n+            <executions>\n+              <execution>\n+                <phase>package</phase>\n+                <goals>\n+                  <goal>run</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n           </plugin>\n         </plugins>\n         "},{"sha":"2efa2abf8df2e9a71d9dd9e27e2298dcd6aab390","filename":"sra/src/test/resources/debug/sra-debug.properties","status":"modified","additions":16,"deletions":16,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/80593da82898c1e798f69029a8c313ef0dac685f/sra%2Fsrc%2Ftest%2Fresources%2Fdebug%2Fsra-debug.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/80593da82898c1e798f69029a8c313ef0dac685f/sra%2Fsrc%2Ftest%2Fresources%2Fdebug%2Fsra-debug.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/sra%2Fsrc%2Ftest%2Fresources%2Fdebug%2Fsra-debug.properties?ref=80593da82898c1e798f69029a8c313ef0dac685f","patch":"@@ -18,10 +18,10 @@ keymaster.address=https://localhost:9443/syncope/rest/keymaster\n keymaster.username=${anonymousUser}\n keymaster.password=${anonymousKey}\n \n-sra.am-type=OIDC\n-sra.oidc.configuration=https://localhost:9443/syncope-wa/oidc\n-sra.oidc.client-id=oidcTestClientId\n-sra.oidc.client-secret=oidcTestClientSecret\n+#sra.am-type=OIDC\n+#sra.oidc.configuration=https://localhost:9443/syncope-wa/oidc\n+#sra.oidc.client-id=oidcTestClientId\n+#sra.oidc.client-secret=oidcTestClientSecret\n \n #sra.am-type=OAUTH2\n #sra.oauth2.tokenUri=https://localhost:9443/syncope-wa/oauth2.0/accessToken\n@@ -34,18 +34,18 @@ sra.oidc.client-secret=oidcTestClientSecret\n #sra.oauth2.client-id=oauth2TestClientId\n #sra.oauth2.client-secret=oauth2TestClientSecret\n \n-#sra.am-type=SAML2\n-#sra.saml2.authn-request-binding=POST\n-#sra.saml2.logout-request-binding=POST\n-#sra.saml2.logout-response-binding=REDIRECT\n-#sra.saml2.entityId=http://localhost:8080\n-#sra.saml2.skew=300\n-#sra.saml2.sp-metadata-file-path=/tmp/saml2-sp-metadata.xml\n-#sra.saml2.idp-metadata=https://localhost:9443/syncope-wa/idp/metadata\n-#sra.saml2.keystore=classpath:/saml.keystore.jks\n-#sra.saml2.keystore-type=jks\n-#sra.saml2.keystore-storepass=changeit\n-#sra.saml2.keystore-keypass=changeit\n+sra.am-type=SAML2\n+sra.saml2.authn-request-binding=POST\n+sra.saml2.logout-request-binding=POST\n+sra.saml2.logout-response-binding=REDIRECT\n+sra.saml2.entityId=http://127.0.0.1:8080\n+sra.saml2.skew=300\n+sra.saml2.sp-metadata-file-path=/tmp/saml2-sp-metadata.xml\n+sra.saml2.idp-metadata=https://localhost:9443/syncope-wa/idp/metadata\n+sra.saml2.keystore=classpath:/saml.keystore.jks\n+sra.saml2.keystore-type=jks\n+sra.saml2.keystore-storepass=changeit\n+sra.saml2.keystore-keypass=changeit\n \n #sra.am-type=CAS\n #sra.cas.server-prefix=https://localhost:9443/syncope-wa/"},{"sha":"ad6333e714f88ba84c52ca52ac9cbc928e00606c","filename":"wa/starter/src/main/java/org/apache/syncope/wa/starter/mapping/DefaultAuthMapper.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/80593da82898c1e798f69029a8c313ef0dac685f/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FDefaultAuthMapper.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/80593da82898c1e798f69029a8c313ef0dac685f/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FDefaultAuthMapper.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FDefaultAuthMapper.java?ref=80593da82898c1e798f69029a8c313ef0dac685f","patch":"@@ -113,7 +113,7 @@ public AuthMapperResult build(\n         DefaultRegisteredServiceDelegatedAuthenticationPolicy delegatedAuthPolicy = null;\n         if (!delegatedAuthHandlers.isEmpty()) {\n             delegatedAuthPolicy = new DefaultRegisteredServiceDelegatedAuthenticationPolicy();\n-            delegatedAuthPolicy.getAllowedProviders().addAll(\n+            delegatedAuthPolicy.setAllowedProviders(\n                     delegatedAuthHandlers.stream().map(Pair::getRight).collect(Collectors.toSet()));\n         }\n "}]}
{"sha":"caa7e0a214fe239977b0a65fdd1931cb271fff93","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmNhYTdlMGEyMTRmZTIzOTk3N2IwYTY1ZmRkMTkzMWNiMjcxZmZmOTM=","commit":{"author":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2014-05-15T13:47:33Z"},"committer":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2014-05-15T13:47:33Z"},"message":"[SYNCOPE-486] updated Selenium version to 2.41.0, changed console IT tests accordingly (selenium-maven-plugin no more used)\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/branches/1_1_X@1594915 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"0176a37895eb24eda3941d931f28729f9f18fd8c","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/0176a37895eb24eda3941d931f28729f9f18fd8c"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/caa7e0a214fe239977b0a65fdd1931cb271fff93","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/caa7e0a214fe239977b0a65fdd1931cb271fff93","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/caa7e0a214fe239977b0a65fdd1931cb271fff93","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/caa7e0a214fe239977b0a65fdd1931cb271fff93/comments","author":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"committer":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"9eba67054492be0c33c3d799b94373dfbe2748e9","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/9eba67054492be0c33c3d799b94373dfbe2748e9","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/9eba67054492be0c33c3d799b94373dfbe2748e9"}],"stats":{"total":280,"additions":208,"deletions":72},"files":[{"sha":"c5c84998db7dfc1be0a3122f21613f9419c16b51","filename":"console/pom.xml","status":"modified","additions":15,"deletions":29,"changes":44,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fpom.xml?ref=caa7e0a214fe239977b0a65fdd1931cb271fff93","patch":"@@ -139,11 +139,23 @@ under the License.\n       <artifactId>junit</artifactId>\n       <scope>test</scope>\n     </dependency>\n+    <!-- SELENIUM INTEGRATION TEST -->\n     <dependency>\n-      <groupId>org.seleniumhq.selenium.client-drivers</groupId>\n-      <artifactId>selenium-java-client-driver</artifactId>\n+      <groupId>org.seleniumhq.selenium</groupId>\n+      <artifactId>selenium-java</artifactId>\n       <scope>test</scope>\n     </dependency>\n+    <dependency>\n+      <groupId>org.seleniumhq.selenium</groupId>\n+      <artifactId>selenium-api</artifactId>\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.seleniumhq.selenium</groupId>\n+      <artifactId>selenium-support</artifactId>\n+      <scope>test</scope>\n+    </dependency>\n+    <!-- /SELENIUM INTEGRATION TEST -->\n     <dependency>\n       <groupId>org.springframework</groupId>\n       <artifactId>spring-test</artifactId>\n@@ -607,32 +619,6 @@ under the License.\n         <defaultGoal>clean verify</defaultGoal>\n         <plugins>\n \n-          <plugin>\n-            <groupId>org.codehaus.mojo</groupId>\n-            <artifactId>selenium-maven-plugin</artifactId>\n-            <inherited>true</inherited>\n-            <executions>\n-              <execution>\n-                <id>start-selenium</id>\n-                <phase>pre-integration-test</phase>\n-                <goals>\n-                  <goal>start-server</goal>\n-                </goals>\n-                <configuration>\n-                  <background>true</background>\n-                  <logOutput>true</logOutput>\n-                </configuration>\n-              </execution>\n-              <execution>\n-                <id>stop-selenium</id>\n-                <phase>post-integration-test</phase>\n-                <goals>\n-                  <goal>stop-server</goal>\n-                </goals>\n-              </execution>\n-            </executions>\n-          </plugin>\n-\n           <plugin>\n             <groupId>org.apache.maven.plugins</groupId>\n             <artifactId>maven-failsafe-plugin</artifactId>\n@@ -664,7 +650,7 @@ under the License.\n               </execution>\n               <execution>\n                 <id>stop-container</id>\n-                <phase>post-integratison-test</phase>\n+                <phase>post-integration-test</phase>\n                 <goals>\n                   <goal>stop</goal>\n                 </goals>"},{"sha":"f9e989bc0ede5605ed3f3eced111c7c3d82fd03f","filename":"console/src/test/java/org/apache/syncope/console/AbstractTest.java","status":"modified","additions":14,"deletions":3,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FAbstractTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FAbstractTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FAbstractTest.java?ref=caa7e0a214fe239977b0a65fdd1931cb271fff93","patch":"@@ -18,18 +18,22 @@\n  */\n package org.apache.syncope.console;\n \n-import com.thoughtworks.selenium.SeleneseTestCase;\n+import com.thoughtworks.selenium.Selenium;\n+import com.thoughtworks.selenium.webdriven.WebDriverBackedSelenium;\n+import junit.framework.TestCase;\n import org.junit.After;\n import org.junit.Before;\n import org.junit.runner.RunWith;\n+import org.openqa.selenium.WebDriver;\n+import org.openqa.selenium.firefox.FirefoxDriver;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.test.context.ContextConfiguration;\n import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n \n @RunWith(SpringJUnit4ClassRunner.class)\n @ContextConfiguration(locations = {\"classpath:applicationContext.xml\"})\n-public abstract class AbstractTest extends SeleneseTestCase {\n+public abstract class AbstractTest extends TestCase {\n \n     /**\n      * Logger.\n@@ -42,10 +46,17 @@ public abstract class AbstractTest extends SeleneseTestCase {\n \n     protected static final String BASE_URL = \"http://localhost:9080/syncope-console/\";\n \n+    protected Selenium selenium;\n+    \n+    protected WebDriver seleniumDriver;\n+\n     @Override\n     @Before\n     public void setUp() throws Exception {\n-        super.setUp(BASE_URL, \"*firefox\");\n+        super.setUp();\n+\n+        seleniumDriver = new FirefoxDriver();\n+        selenium = new WebDriverBackedSelenium(seleniumDriver, BASE_URL);\n \n         selenium.open(\"/syncope-console/\");\n         selenium.type(\"name=userId\", ADMIN);"},{"sha":"c683bf8ea241e80be3f9225e3790a1191485e578","filename":"console/src/test/java/org/apache/syncope/console/ConfigurationTestITCase.java","status":"modified","additions":27,"deletions":3,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java?ref=caa7e0a214fe239977b0a65fdd1931cb271fff93","patch":"@@ -32,10 +32,15 @@ public void browseCreateModal() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//input[@name='key:textField']\\\");\", \"30000\");\n \n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        selenium.selectFrame(\"index=0\");\n+\n         selenium.type(\"name=key:textField\", \"test1\");\n         selenium.type(\"name=value:textField\", \"value1\");\n         selenium.click(\"name=apply\");\n \n+        seleniumDriver.switchTo().defaultContent();\n+\n         selenium.waitForCondition(\"selenium.isTextPresent(\\\"Operation executed successfully\\\");\", \"30000\");\n     }\n \n@@ -65,9 +70,14 @@ public void browsePasswordPolicy() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//input[@name='id:textField']\\\");\", \"30000\");\n \n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        selenium.selectFrame(\"index=0\");\n+\n         selenium.type(\"name=description:textField\", \"new description\");\n         selenium.click(\"//div[2]/form/div[3]/input[@type='submit']\");\n \n+        seleniumDriver.switchTo().defaultContent();\n+\n         selenium.waitForCondition(\"selenium.isTextPresent(\\\"new description\\\");\", \"30000\");\n     }\n \n@@ -101,7 +111,7 @@ public void setLogLevel() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n-        selenium.click(\"//div[@id='logs']/ul/li/a/span\");\n+        selenium.click(\"//div[@id='tabs']/ul/li[5]/a\");\n \n         selenium.select(\"//div[@id='core']/div/span/table/tbody/tr/td[2]/select\", \"label=ERROR\");\n \n@@ -114,11 +124,18 @@ public void createNotification() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n+        selenium.click(\"//div[@id='tabs']/ul/li[3]/a\");\n+\n         selenium.click(\"//a[contains(text(),'Create new notification')]\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\"\n                 + \"\\\"//div[2]/form/div[3]/div/div/div/div/label\\\");\", \"30000\");\n \n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//input[@name='sender:textField']\\\");\", \"30000\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        selenium.selectFrame(\"index=0\");\n+\n         selenium.type(\"name=sender:textField\", \"test@syncope.it\");\n \n         selenium.type(\"name=sender:textField\", \"test@syncope.it\");\n@@ -134,10 +151,10 @@ public void createNotification() {\n \n         selenium.select(\"//div[2]/form/div[3]/div/div/div[6]/div[2]/span/select\", \"label=ALL\");\n \n-        selenium.click(\"//div[2]/form/div[3]/ul/li[2]/a/span\");\n-\n         selenium.click(\"//div[2]/form/div[3]/ul/li[3]/a/span\");\n \n+        selenium.click(\"//div[2]/form/div[3]/ul/li[2]/a/span\");\n+\n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"\"\n                 + \"//select[@name='eventSelection:categoryContainer:type:dropDownChoiceField']\"\n                 + \"/option[text()='PROPAGATION']\\\");\",\n@@ -177,6 +194,8 @@ public void createNotification() {\n                 + \"\\\"//div[2]/form/div[3]/div[4]/div/div[2]/label\\\");\", \"30000\");\n \n         selenium.click(\"//div[2]/form/div[4]/input\");\n+\n+        seleniumDriver.switchTo().defaultContent();\n     }\n \n     @Test\n@@ -189,6 +208,11 @@ public void issueSYNCOPE189() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//input[@name='key:textField']\\\");\", \"30000\");\n \n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        selenium.selectFrame(\"index=0\");\n+\n         selenium.keyPressNative(\"27\");\n+\n+        seleniumDriver.switchTo().defaultContent();\n     }\n }"},{"sha":"0a645212e95399eb27f011636a1d7cadb59d4c70","filename":"console/src/test/java/org/apache/syncope/console/ConnInstanceTestITCase.java","status":"modified","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConnInstanceTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConnInstanceTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConnInstanceTestITCase.java?ref=caa7e0a214fe239977b0a65fdd1931cb271fff93","patch":"@@ -28,10 +28,16 @@ public void browseCreateModal() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n+        selenium.click(\"//div[@id='tabs']/ul/li[2]/a\");\n+\n         selenium.click(\"//div[3]/div[2]/a\");\n \n         selenium.waitForCondition(\n                 \"selenium.isElementPresent(\\\"//form/div[2]/div/div/div[3]/div[2]/span/select\\\");\", \"30000\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        selenium.selectFrame(\"index=0\");\n+\n         selenium.select(\"//select[@name='location:dropDownChoiceField']\", \"value=0\");\n \n         selenium.waitForCondition(\n@@ -45,6 +51,8 @@ public void browseCreateModal() {\n \n         assertTrue(selenium.isElementPresent(\"//form/div[2]/div/div/div[3]/div[2]/\"));\n \n+        seleniumDriver.switchTo().defaultContent();\n+\n         selenium.click(\"css=a.w_close\");\n     }\n \n@@ -60,12 +68,18 @@ public void browseEditModal() {\n         selenium.waitForCondition(\n                 \"selenium.isElementPresent(\\\"//div[2]/form/div[2]/div/div/div[3]/div[2]/span/select\\\");\", \"30000\");\n \n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        selenium.selectFrame(\"index=0\");\n+\n         assertEquals(\"ConnInstance103\", selenium.getAttribute(\"//input[@name='displayName:textField']/@value\"));\n \n         assertEquals(\"org.connid.bundles.soap\",\n                 selenium.getSelectedLabel(\"//select[@name='connectorName:dropDownChoiceField']\"));\n \n         selenium.click(\"//div[2]/form/div[2]/ul/li[2]/a/span\");\n+\n+        seleniumDriver.switchTo().defaultContent();\n+\n         selenium.click(\"css=a.w_close\");\n     }\n \n@@ -95,6 +109,9 @@ public void checkConnection() {\n         selenium.waitForCondition(\n                 \"selenium.isElementPresent(\\\"//select[@name='version:dropDownChoiceField']\\\");\", \"30000\");\n \n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        selenium.selectFrame(\"index=0\");\n+\n         selenium.click(\"//div[2]/form/div[2]/ul/li[2]/a\");\n \n         selenium.waitForCondition(\n@@ -104,5 +121,7 @@ public void checkConnection() {\n \n         selenium.waitForCondition(\n                 \"selenium.isElementPresent(\\\"//div/ul/li/span[contains(text(),'Successful connection')]\\\");\", \"30000\");\n+\n+        seleniumDriver.switchTo().defaultContent();\n     }\n }"},{"sha":"c7d400e9e35e38bb7a489c263abed1197f264b13","filename":"console/src/test/java/org/apache/syncope/console/EditProfileTestITCase.java","status":"modified","additions":15,"deletions":5,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FEditProfileTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FEditProfileTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FEditProfileTestITCase.java?ref=caa7e0a214fe239977b0a65fdd1931cb271fff93","patch":"@@ -18,28 +18,32 @@\n  */\n package org.apache.syncope.console;\n \n+import com.thoughtworks.selenium.webdriven.WebDriverBackedSelenium;\n+import org.junit.After;\n import org.junit.Before;\n import org.junit.Test;\n+import org.openqa.selenium.firefox.FirefoxDriver;\n \n public class EditProfileTestITCase extends AbstractTest {\n \n     @Override\n     @Before\n     public void setUp() throws Exception {\n-        super.setUp(BASE_URL, \"*firefox\");\n+        seleniumDriver = new FirefoxDriver();\n+        selenium = new WebDriverBackedSelenium(seleniumDriver, BASE_URL);\n+\n+        selenium.open(\"/syncope-console/\");\n     }\n \n     @Test\n     public void selfRegistration() {\n-        selenium.open(\"/syncope-console/\");\n-\n         selenium.click(\"//div/span/span/a\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//span[contains(text(),'Attributes')]\\\");\", \"30000\");\n \n         selenium.click(\"css=a.w_close\");\n \n-        // only to have some \"Logout\" availabe for @After\n+        // only to have some \"Logout\" available for @After\n         selenium.type(\"name=userId\", \"rossini\");\n         selenium.type(\"name=password\", \"password\");\n         selenium.click(\"name=:submit\");\n@@ -49,7 +53,6 @@ public void selfRegistration() {\n \n     @Test\n     public void editUserProfile() {\n-        selenium.open(\"/syncope-console/\");\n         selenium.type(\"name=userId\", \"rossini\");\n         selenium.type(\"name=password\", \"password\");\n         selenium.click(\"name=:submit\");\n@@ -65,4 +68,11 @@ public void editUserProfile() {\n \n         selenium.click(\"css=a.w_close\");\n     }\n+\n+    @Override\n+    @After\n+    public void tearDown() throws Exception {\n+        super.tearDown();\n+        selenium.stop();\n+    }\n }"},{"sha":"688d0131efb98e91b9c288a3d76d736f1a1ab56e","filename":"console/src/test/java/org/apache/syncope/console/ReportTestITCase.java","status":"modified","additions":15,"deletions":4,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FReportTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FReportTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FReportTestITCase.java?ref=caa7e0a214fe239977b0a65fdd1931cb271fff93","patch":"@@ -28,6 +28,10 @@ public void readReportlet() {\n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n         selenium.click(\"//table/tbody/tr/td[8]/div/span[9]/a\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        selenium.selectFrame(\"index=0\");\n+\n         selenium.waitForCondition(\"selenium.isElementPresent(\"\n                 + \"\\\"//div[2]/form/div[2]/div/div/span/div/div/div/span\\\");\", \"30000\");\n \n@@ -38,13 +42,20 @@ public void readReportlet() {\n         selenium.select(\"//div[2]/form/div[2]/div/div/span/div/div[5]/div[2]/div/div/select\", \"testUserReportlet\");\n         selenium.click(\"//div[2]/form/div[2]/div/div/span/div/div[5]/div[2]/div[2]/div[2]/a\");\n \n+        seleniumDriver.switchTo().defaultContent();\n+\n         selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//div[2]/form/div[2]/div/div/div/div/label\\\");\", \"30000\");\n+                + \"\\\"name=reportletClass:dropDownChoiceField\\\");\", \"30000\");\n \n-        selenium.select(\"//form/div[2]/div/div/div[2]/div[2]/span/select\",\n-                \"label=org.apache.syncope.common.report.UserReportletConf\");\n+        selenium.selectFrame(\"index=1\");\n+\n+        selenium.select(\"name=reportletClass:dropDownChoiceField\",\n+                \"org.apache.syncope.common.report.StaticReportletConf\");\n+\n+        selenium.click(\"//div[2]/form/div[3]/input\");\n+\n+        seleniumDriver.switchTo().defaultContent();\n \n-        selenium.click(\"css=a.w_close\");\n         selenium.click(\"css=a.w_close\");\n     }\n "},{"sha":"4723aca2c1d028df60e572422e9aa00a538d43ed","filename":"console/src/test/java/org/apache/syncope/console/ResourceTestITCase.java","status":"modified","additions":19,"deletions":4,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FResourceTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FResourceTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FResourceTestITCase.java?ref=caa7e0a214fe239977b0a65fdd1931cb271fff93","patch":"@@ -43,19 +43,24 @@ public void browseEditModal() {\n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n         selenium.click(\"//td[6]/div/span[9]/a\");\n-\n+        \n+        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"class=wicket_modal\\\");\", \"30000\");\n+        selenium.waitForFrameToLoad(\"class=wicket_modal\", \"30000\");\n+        selenium.selectFrame(\"index=0\");\n         selenium.waitForCondition(\"selenium.isElementPresent(\"\n                 + \"\\\"//form/div[3]/div/span/div/div/div/label[text()='Name']\\\");\", \"30000\");\n \n         selenium.click(\"//li[2]/a\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//tbody/tr\\\");\", \"30000\");\n+        selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//tbody/tr[2]/td/input\\\");\", \"30000\");\n \n         selenium.click(\"//tbody/tr[2]/td/input\");\n \n         assertTrue(selenium.getConfirmation().equals(\"Do you really want to delete the selected item(s)?\"));\n \n-        selenium.click(\"name=apply\");\n+        selenium.click(\"//div[4]/input\");\n+\n+        seleniumDriver.switchTo().defaultContent();\n     }\n \n     @Test\n@@ -80,6 +85,9 @@ public void checkSecurityTab() {\n         selenium.waitForCondition(\"selenium.isElementPresent(\"\n                 + \"\\\"//form/div[3]/div/span/div/div/div/label[text()='Name']\\\");\", \"30000\");\n \n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        selenium.selectFrame(\"index=0\");\n+        \n         selenium.click(\"//li[4]/a\");\n \n         assertTrue(selenium.isElementPresent(\"//label[@for='passwordPolicy']\"));\n@@ -88,6 +96,8 @@ public void checkSecurityTab() {\n         selenium.click(\"//li[2]/a\");\n         selenium.click(\"//li[3]/a\");\n \n+        seleniumDriver.switchTo().defaultContent();\n+\n         selenium.click(\"css=a.w_close\");\n     }\n \n@@ -102,13 +112,18 @@ public void checkConnection() {\n         selenium.waitForCondition(\"selenium.isElementPresent(\"\n                 + \"\\\"//form/div[3]/div/span/div/div/div/label[text()='Name']\\\");\", \"30000\");\n \n-        selenium.click(\"//li[3]/a\");\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        selenium.selectFrame(\"index=0\");\n+        \n+        selenium.click(\"//li[4]/a\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//span[text()='endpoint']\\\");\", \"30000\");\n \n         selenium.click(\"//div[2]/form/div[3]/div[4]/span/span/div[2]/a\");\n \n         selenium.waitForCondition(\n                 \"selenium.isElementPresent(\\\"//div/ul/li/span[contains(text(), 'Successful connection')]\\\");\", \"30000\");\n+\n+        seleniumDriver.switchTo().defaultContent();\n     }\n }"},{"sha":"b9b91e1b0abd77d2eae0cde77180de7a2ef7a14c","filename":"console/src/test/java/org/apache/syncope/console/RoleTestITCase.java","status":"modified","additions":12,"deletions":8,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FRoleTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FRoleTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FRoleTestITCase.java?ref=caa7e0a214fe239977b0a65fdd1931cb271fff93","patch":"@@ -49,13 +49,13 @@ public void browseCreateModal() {\n \n         selenium.click(\"//div/div/span/div/div/div/div/div[2]/div/div/span/a\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"css=img[title='Create']\\\");\", \"30000\");\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//img[@alt='create icon']\\\");\", \"30000\");\n \n-        selenium.click(\"css=img[title='Create']\");\n+        selenium.click(\"//img[@alt='create icon']\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n \n-        selenium.selectFrame(\"relative=up\");\n+        selenium.selectFrame(\"index=0\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[2]/form/div[3]/div/ul/li[1]/a/span\\\");\", \"30000\");\n \n@@ -66,6 +66,8 @@ public void browseCreateModal() {\n         selenium.click(\"//div[2]/form/div[3]/div/ul/li[5]/a/span\");\n         selenium.click(\"//div[2]/form/div[3]/div/ul/li[6]/a/span\");\n \n+        seleniumDriver.switchTo().defaultContent();\n+        \n         selenium.click(\"css=a.w_close\");\n     }\n \n@@ -77,13 +79,13 @@ public void browseEditModal() {\n \n         selenium.click(\"//div/div/span/div/div/div/div/div[2]/div/div/span/a\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"css=img[title='Edit']\\\");\", \"30000\");\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//img[@alt='edit icon']\\\");\", \"30000\");\n \n-        selenium.click(\"css=img[title='Edit']\");\n+        selenium.click(\"//img[@alt='edit icon']\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n \n-        selenium.selectFrame(\"relative=up\");\n+        selenium.selectFrame(\"index=0\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[2]/form/div[3]/div/ul/li[1]/a/span\\\");\", \"30000\");\n \n@@ -94,6 +96,8 @@ public void browseEditModal() {\n         selenium.click(\"//div[2]/form/div[3]/div/ul/li[6]/a/span\");\n         selenium.click(\"//div[2]/form/div[3]/div/ul/li[7]/a/span\");\n \n+        seleniumDriver.switchTo().defaultContent();\n+        \n         selenium.click(\"css=a.w_close\");\n     }\n \n@@ -166,9 +170,9 @@ public void deleteRole() {\n         selenium.click(\n                 \"//div/div/span/div/div/div/div/div[2]/div[2]/div[2]/div/div[2]/div[3]/div/span[2]/a/span\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"css=img[title='Delete']\\\");\", \"30000\");\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//img[@alt='delete icon']\\\");\", \"30000\");\n \n-        selenium.click(\"css=img[title='Delete']\");\n+        selenium.click(\"//img[@alt='delete icon']\");\n \n         assertTrue(selenium.getConfirmation().equals(\"Do you really want to delete the selected item(s)?\"));\n     }"},{"sha":"18e36209137a32ead884e08cda84edad889f973a","filename":"console/src/test/java/org/apache/syncope/console/SchemaTestITCase.java","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FSchemaTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FSchemaTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FSchemaTestITCase.java?ref=caa7e0a214fe239977b0a65fdd1931cb271fff93","patch":"@@ -35,10 +35,14 @@ public void create() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//*[@name='name:textField']\\\");\", \"30000\");\n \n+        selenium.selectFrame(\"index=0\");\n+\n         selenium.select(\"name=type:dropDownChoiceField\", \"value=0\");\n         selenium.type(\"name=name:textField\", \"newschema\");\n         selenium.click(\"name=apply\");\n \n+        seleniumDriver.switchTo().defaultContent();\n+\n         selenium.waitForCondition(\"selenium.isTextPresent(\\\"newschema\\\");\", \"30000\");\n     }\n "},{"sha":"9c6617f54e00513d17977543e66384b49cd96325","filename":"console/src/test/java/org/apache/syncope/console/TaskTestITCase.java","status":"modified","additions":27,"deletions":8,"changes":35,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FTaskTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FTaskTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FTaskTestITCase.java?ref=caa7e0a214fe239977b0a65fdd1931cb271fff93","patch":"@@ -28,17 +28,31 @@ public void execute() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[4]/a\");\n-        selenium.click(\"//*[div=1]/../td[10]/div/span[3]/a\");\n+        selenium.click(\"//div[@id='tabs']/ul/li[1]/a\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\"\n+                + \"\\\"//tr[4]/td[10]/div/span[3]/a/img\\\");\", \"30000\");\n+\n+        selenium.click(\"//tr[4]/td[10]/div/span[3]/a/img\");\n \n         selenium.waitForCondition(\"selenium.isTextPresent(\" + \"\\\"Operation executed successfully\\\");\", \"30000\");\n \n-        selenium.click(\"//*[div=1]/../td[10]/div/span[9]/a\");\n+        selenium.waitForCondition(\"selenium.isElementPresent(\"\n+                + \"\\\"//tr[4]/td[10]/div/span[9]/a/img\\\");\", \"30000\");\n+\n+        selenium.click(\"//tr[4]/td[10]/div/span[9]/a/img\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        selenium.selectFrame(\"index=0\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\"\n-                + \"\\\"//form/div[2]/div/div/span/div/div/div[2]/span/input\\\");\", \"30000\");\n+                + \"\\\"//div[2]/form/div[2]/ul/li[2]/a\\\");\", \"30000\");\n \n-        assertTrue(selenium.isElementPresent(\"//form/div[2]/div[2]/span/table/tbody/tr[2]/td\"));\n+        selenium.click(\"//div[2]/form/div[2]/ul/li[2]/a\");\n+\n+        assertTrue(selenium.isElementPresent(\"//div[2]/form/div[2]/div[2]/span/table/tbody/tr[2]/td[2]\"));\n+\n+        seleniumDriver.switchTo().defaultContent();\n \n         selenium.click(\"css=a.w_close\");\n     }\n@@ -49,10 +63,11 @@ public void delete() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n-        selenium.click(\"//div[@id='tabs']/ul/li[3]/a/span\");\n-        selenium.click(\"//table/tbody/tr/td[8]/div/span[11]/a\");\n+        selenium.click(\"//div[@id='tabs']/ul/li[3]/a\");\n \n-        assertTrue(selenium.getConfirmation().equals(\"Do you really want to delete the selected item(s)?\"));\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"xpath=(//img[@alt='delete icon'])[6]\\\");\", \"30000\");\n+\n+        selenium.click(\"xpath=(//img[@alt='delete icon'])[6]\"); // \n \n         selenium.waitForCondition(\"selenium.isTextPresent(\\\"Operation executed successfully\\\");\", \"30000\");\n     }\n@@ -69,8 +84,12 @@ public void issueSYNCOPE148() {\n         selenium.waitForCondition(\n                 \"selenium.isElementPresent(\\\"//div[2]/form/div[2]/div/div/span/div/div[2]/div/label\\\");\", \"30000\");\n \n+        selenium.selectFrame(\"index=0\");\n+\n         selenium.click(\"//div[2]/form/div[3]/input[2]\");\n \n+        seleniumDriver.switchTo().defaultContent();\n+\n         selenium.waitForCondition(\"selenium.isTextPresent(\\\"Id\\\");\", \"30000\");\n     }\n }"},{"sha":"12ca23e78ac7d830a9b155dff1dcf9e4e8ab48e4","filename":"console/src/test/java/org/apache/syncope/console/UserTestITCase.java","status":"modified","additions":18,"deletions":1,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FUserTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/caa7e0a214fe239977b0a65fdd1931cb271fff93/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FUserTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FUserTestITCase.java?ref=caa7e0a214fe239977b0a65fdd1931cb271fff93","patch":"@@ -31,6 +31,9 @@ public void browseCreateModal() {\n \n         selenium.click(\"//a[contains(text(),'Create new user')]\");\n \n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        selenium.selectFrame(\"index=0\");\n+\n         selenium.waitForCondition(\"selenium.isElementPresent(\"\n                 + \"\\\"//span[contains(text(),'Attributes')]\\\");\", \"30000\");\n \n@@ -39,6 +42,9 @@ public void browseCreateModal() {\n         selenium.click(\"//div[@id='tabs']/ul/li[4]/a/span\");\n         selenium.click(\"//div[@id='tabs']/ul/li[5]/a/span\");\n         selenium.click(\"//div[@id='tabs']/ul/li[6]/a/span\");\n+\n+        seleniumDriver.switchTo().defaultContent();\n+\n         selenium.click(\"css=a.w_close\");\n     }\n \n@@ -52,6 +58,9 @@ public void browseEditModal() {\n         //Edit vivaldi\n         selenium.click(\"//*[@id=\\\"users-contain\\\"]//*[div=3]/../td[5]/div/span[9]/a\");\n \n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        selenium.selectFrame(\"index=0\");\n+\n         selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//input[@value='Antonio Vivaldi']\\\");\", \"30000\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//input[@value='Vivaldi']\\\");\", \"30000\");\n@@ -61,6 +70,9 @@ public void browseEditModal() {\n         selenium.click(\"//div[@id='tabs']/ul/li[4]/a/span\");\n         selenium.click(\"//div[@id='tabs']/ul/li[5]/a/span\");\n         selenium.click(\"//div[@id='tabs']/ul/li[6]/a/span\");\n+        \n+        seleniumDriver.switchTo().defaultContent();\n+        \n         selenium.click(\"css=a.w_close\");\n     }\n \n@@ -77,7 +89,7 @@ public void search() {\n                 + \"\\\"//td[4]/select[option='3 citizen']\\\");\", \"30000\");\n \n         selenium.select(\"//td[4]/select\", \"label=3 citizen\");\n-        selenium.click(\"name=search\");\n+        selenium.click(\"//form/a\");\n \n         selenium.waitForCondition(\n                 \"selenium.isElementPresent(\\\"//*[@id='users-contain']//*[div=2]\\\");\", \"30000\");\n@@ -95,8 +107,13 @@ public void delete() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//div[@id='propagation']/span\\\");\", \"30000\");\n \n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        selenium.selectFrame(\"index=0\");\n+        \n         selenium.click(\"//*[@id=\\\"users-contain\\\"]/a\");\n \n+        seleniumDriver.switchTo().defaultContent();\n+        \n         selenium.waitForCondition(\"selenium.isTextPresent(\" + \"\\\"Operation executed successfully\\\");\", \"30000\");\n     }\n }"},{"sha":"9f66c613e39f2f432c4f24048ffd38358873ddc6","filename":"pom.xml","status":"modified","additions":23,"deletions":7,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/caa7e0a214fe239977b0a65fdd1931cb271fff93/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/caa7e0a214fe239977b0a65fdd1931cb271fff93/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=caa7e0a214fe239977b0a65fdd1931cb271fff93","patch":"@@ -346,7 +346,7 @@ under the License.\n     <slf4j.version>1.7.7</slf4j.version>\n \n     <junit.version>4.11</junit.version>\n-    <selenium-java-client-driver.version>1.0.2</selenium-java-client-driver.version>\n+    <selenium-version>2.41.0</selenium-version>\n \n     <apacheds.version>1.5.7</apacheds.version>\n \n@@ -856,16 +856,32 @@ under the License.\n       </dependency>\n         \n       <!-- TEST -->\n+      \n+      <!-- SELENIUM INTEGRATION TEST -->\n       <dependency>\n-        <groupId>junit</groupId>\n-        <artifactId>junit</artifactId>\n-        <version>${junit.version}</version>\n+        <groupId>org.seleniumhq.selenium</groupId>\n+        <artifactId>selenium-api</artifactId>\n+        <version>${selenium-version}</version>\n+        <scope>test</scope>\n+      </dependency>\n+      <dependency>\n+        <groupId>org.seleniumhq.selenium</groupId>\n+        <artifactId>selenium-java</artifactId>\n+        <version>${selenium-version}</version>\n         <scope>test</scope>\n       </dependency>\n       <dependency>\n-        <groupId>org.seleniumhq.selenium.client-drivers</groupId>\n-        <artifactId>selenium-java-client-driver</artifactId>\n-        <version>${selenium-java-client-driver.version}</version>\n+        <groupId>org.seleniumhq.selenium</groupId>\n+        <artifactId>selenium-support</artifactId>\n+        <version>${selenium-version}</version>\n+        <scope>test</scope>\n+      </dependency>\n+      <!-- /SELENIUM INTEGRATION TEST -->\n+      \n+      <dependency>\n+        <groupId>junit</groupId>\n+        <artifactId>junit</artifactId>\n+        <version>${junit.version}</version>\n         <scope>test</scope>\n       </dependency>\n       <dependency>"}]}
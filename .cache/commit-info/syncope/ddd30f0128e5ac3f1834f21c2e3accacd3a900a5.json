{"sha":"ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmRkZDMwZjAxMjhlNWFjM2YxODM0ZjIxYzJlM2FjY2FjZDNhOTAwYTU=","commit":{"author":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2018-12-05T11:42:09Z"},"committer":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2018-12-05T11:43:38Z"},"message":"[SYNCOPE-1381] User requests and user request forms management in enduser UI","tree":{"sha":"da2d0434f3062ab554fd8180ea50aade04208fad","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/da2d0434f3062ab554fd8180ea50aade04208fad"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/comments","author":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"committer":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"e4a6d350373fcde0b0937238badd82c901e0a67a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e4a6d350373fcde0b0937238badd82c901e0a67a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/e4a6d350373fcde0b0937238badd82c901e0a67a"}],"stats":{"total":1992,"additions":1974,"deletions":18},"files":[{"sha":"9e7ebb5a405270a53bfb346474dd14fe91ddb17e","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/BaseResource.java","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FBaseResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FBaseResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FBaseResource.java?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.client.enduser.resources;\n \n+import com.fasterxml.jackson.databind.DeserializationFeature;\n import com.fasterxml.jackson.databind.ObjectMapper;\n import javax.servlet.http.HttpServletRequest;\n import org.apache.commons.lang3.StringUtils;\n@@ -34,7 +35,8 @@ public abstract class BaseResource extends AbstractResource {\n \n     protected static final Logger LOG = LoggerFactory.getLogger(BaseResource.class);\n \n-    protected static final ObjectMapper MAPPER = new ObjectMapper();\n+    protected static final ObjectMapper MAPPER = new ObjectMapper()\n+            .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n \n     protected final boolean xsrfCheck(final HttpServletRequest request) {\n         final String requestXSRFHeader = request.getHeader(SyncopeEnduserConstants.XSRF_HEADER_NAME);"},{"sha":"0f4ef7f38065621b0bf9605bb18926501c7af49f","filename":"client/enduser/src/main/resources/META-INF/resources/app/css/accessibility/accessibilityFont.css","status":"modified","additions":4,"deletions":1,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Faccessibility%2FaccessibilityFont.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Faccessibility%2FaccessibilityFont.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Faccessibility%2FaccessibilityFont.css?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -34,7 +34,10 @@ body {\n .suggestions,\n .k-notification-wrap,\n .btn-secondary,\n- .card-body #attribute .fa {\n+div[role=\"tablist\"] .card-header a,\n+div[role=\"tablist\"] .card-collapse,\n+ul.pagination,\n+.card-body #attribute .fa {\n   font-size: 20px;\n }\n "},{"sha":"0d9c90d27e06f7dd2fa8d9117deaed087e796f42","filename":"client/enduser/src/main/resources/META-INF/resources/app/css/accessibility/accessibilityHC.css","status":"modified","additions":55,"deletions":2,"changes":57,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Faccessibility%2FaccessibilityHC.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Faccessibility%2FaccessibilityHC.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Faccessibility%2FaccessibilityHC.css?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -37,7 +37,8 @@ body {\n #next,\n #save,\n #finish,\n-#resetpassword {\n+#resetpassword,\n+.modal-content {\n   background: #464646;\n   color: #ffffff;\n }\n@@ -104,6 +105,59 @@ span.k-dropdown,\n   color: #ffffff;\n }\n \n+.modal-content {\n+  border: solid 1px #ffffff;\n+}\n+\n+.btn-warning {\n+  background-color: #70420A;\n+}\n+\n+.btn-warning:hover {\n+  background-color: #F3AD57;\n+  color: #000000;\n+}\n+\n+.btn-primary {\n+  background-color: #205179;\n+}\n+\n+.btn-primary:hover {\n+  background-color: #2F78B3;\n+  color: #ffffff;\n+}\n+\n+.pagination>.disabled>a, .pagination>.disabled>a:focus, .pagination>.disabled>a:hover, .pagination>.disabled>span, \n+.pagination>.disabled>span:focus, .pagination>.disabled>span:hover {\n+    color: #ffffff;\n+    background-color: #343434;\n+    border-color: #ddd;\n+}\n+\n+.pagination>.active>a, .pagination>.active>a:focus, .pagination>.active>a:hover, .pagination>.active>span, \n+.pagination>.active>span:focus, .pagination>.active>span:hover {\n+    color: #ffffff;\n+    background-color: #343434;\n+    border-color: #ffffff;\n+}\n+\n+.pagination>.active>a, .pagination>.active>span {\n+    color: #343434;\n+    background-color: #ffffff;\n+    border-color: #ffffff;\n+}\n+\n+.pagination>li>a, .pagination>li>span {\n+    color: #ffffff;\n+    background-color: #343434;\n+    border-color: #ffffff;\n+}\n+\n+.pagination>li>a:focus, .pagination>li>a:hover, .pagination>li>span:focus, .pagination>li>span:hover {\n+    color: #343434;\n+    background-color: #ffffff;\n+    border-color: #ffffff;\n+}\n \n /* Login\n ============================================================================= */\n@@ -141,7 +195,6 @@ span.k-dropdown,\n #login-container .login-btn {\n   color: #ffffff;\n   background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#6a9647), color-stop(100%,#48543d));\n-\n   background: #464646;\n }\n "},{"sha":"301a19b9adb8d9a940877d2d2c4351df7820ef78","filename":"client/enduser/src/main/resources/META-INF/resources/app/css/app.css","status":"modified","additions":10,"deletions":0,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Fapp.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Fapp.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Fapp.css?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -97,4 +97,14 @@ under the License.\n   background-color: #fff;\n   border-color: #ccc;\n }\n+\n+.pagination-size {\n+  margin: 20px 0;\n+  width: 20%;\n+}\n+\n+.pagination-size-sm {\n+  margin: 20px 0;\n+  width: 12%;\n+}\n /* Useless with Bootstrap > 3 --> */\n\\ No newline at end of file"},{"sha":"47d64d64cf18aeabf1baf5d28c1ce7dafa50ab7b","filename":"client/enduser/src/main/resources/META-INF/resources/app/css/editUser.css","status":"modified","additions":11,"deletions":3,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FeditUser.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FeditUser.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FeditUser.css?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -179,7 +179,7 @@ span.k-datetimepicker{\n   width: 170%;\n }\n \n-#date{\n+#date, #date-property{\n   position: relative;\n   display: table; \n   border-collapse: separate;\n@@ -309,6 +309,14 @@ div[role=\"tablist\"] {\n   margin-bottom: 2px;\n }\n \n+.schema-type #date-property {\n+    margin-bottom: 2px;\n+}\n+\n+.property-label{\n+  margin-top: 15px\n+}\n+\n .multivalue input{\n   width: calc(100% - 70px);\n   margin-top: 10px\n@@ -636,7 +644,7 @@ div[role=\"tablist\"] {\n     width:100px;\n   }\n \n-  #date{\n+  #date, #date-property{\n     position: relative;\n     display: table; \n     border-collapse: separate;\n@@ -686,7 +694,7 @@ div[role=\"tablist\"] {\n     margin-top: 0px\n   }\n \n-  #date{\n+  #date, #date-property{\n     position: relative;\n     display: table; \n     border-collapse: separate;"},{"sha":"7122b50671c7dfaa24ab3254d5c6270cff22c041","filename":"client/enduser/src/main/resources/META-INF/resources/app/index.html","status":"modified","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -124,6 +124,8 @@\n   <script src=\"js/services/oidcProviderService.js\"></script>\n   <script src=\"js/services/saml2SPService.js\"></script>\n   <script src=\"js/services/oidcClientService.js\"></script>\n+  <script src=\"js/services/bpmnProcessService.js\"></script>\n+  <script src=\"js/services/userRequestsService.js\"></script>\n   <!--controllers-->\n   <script src=\"js/controllers/HomeController.js\"></script>\n   <script src=\"js/controllers/LoginController.js\"></script>\n@@ -142,13 +144,19 @@\n   <script src=\"js/directives/loader.js\"></script>\n   <script src=\"js/directives/captcha.js\"></script>\n   <script src=\"js/directives/resources.js\"></script>\n+  <script src=\"js/directives/requests.js\"></script>\n+  <script src=\"js/directives/requestForms.js\"></script>\n+  <script src=\"js/directives/formProperty.js\"></script>\n   <script src=\"js/directives/groups.js\"></script>\n   <script src=\"js/directives/auxClasses.js\"></script>\n   <script src=\"js/directives/validate.js\"></script>\n   <script src=\"js/directives/validationMessage.js\"></script>\n   <script src=\"js/directives/validateDropdown.js\"></script>\n   <script src=\"js/directives/fileInput.js\"></script>\n   <script src=\"js/directives/dynamicTemplateItem.js\"></script>\n+  <script src=\"js/directives/modalWindow.js\"></script>\n+  <script src=\"js/directives/bpmnProcesses.js\"></script>\n+  <script src=\"js/directives/modalContent.js\"></script>\n   <script src=\"js/directives/ngEnter.js\"></script>\n   <!--validator-->\n   <script src=\"js/validator/validationRules.js\"></script>"},{"sha":"18f0d531e11ad7dbd44cb539ece7023b5084d944","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/app.js","status":"modified","additions":69,"deletions":0,"changes":69,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -226,6 +226,26 @@ app.config(['$stateProvider', '$urlRouterProvider', '$httpProvider', '$translate\n                   }]\n               }\n             })\n+            .state('update.userRequests', {\n+              url: '/user-requests',\n+              templateUrl: 'views/user-requests.html',\n+              resolve: {\n+                'authenticated': ['AuthService',\n+                  function (AuthService) {\n+                    return AuthService.islogged();\n+                  }]\n+              }\n+            })\n+            .state('update.userRequestForms', {\n+              url: '/user-request-forms',\n+              templateUrl: 'views/user-request-forms.html',\n+              resolve: {\n+                'authenticated': ['AuthService',\n+                  function (AuthService) {\n+                    return AuthService.islogged();\n+                  }]\n+              }\n+            })\n             .state('update.finish', {\n               url: '/finish',\n               templateUrl: 'views/user-form-finish.html',\n@@ -430,6 +450,9 @@ app.controller('ApplicationController', ['$scope', '$rootScope', 'InfoService',\n                      * Wizard steps from JSON\n                      */\n                     $scope.wizard = response.wizard.steps;\n+                    $scope.creationWizard = $scope.clone($scope.wizard);\n+                    delete $scope.creationWizard['userRequests'];\n+                    delete $scope.creationWizard['userRequestForms'];\n                     $scope.wizardFirstStep = response.wizard.firstStep;\n \n                     callback($rootScope.dynTemplate);\n@@ -549,6 +572,15 @@ app.controller('ApplicationController', ['$scope', '$rootScope', 'InfoService',\n         }\n       };\n \n+      /* \n+       * Date formatters\n+       */\n+      \n+      // from timestamp\n+      $rootScope.formatDate = function (timestamp) {\n+        return new Date(timestamp).toLocaleString();\n+      };\n+\n       /*\n        |--------------------------------------------------------------------------\n        | Notification mgmt\n@@ -650,4 +682,41 @@ app.controller('ApplicationController', ['$scope', '$rootScope', 'InfoService',\n         $templateCache.removeAll();\n       };\n     };\n+\n+    $scope.clone = function clone(obj) {\n+      var copy;\n+\n+      // Handle the 3 simple types, and null or undefined\n+      if (null == obj || \"object\" != typeof obj)\n+        return obj;\n+\n+      // Handle Date\n+      if (obj instanceof Date) {\n+        copy = new Date();\n+        copy.setTime(obj.getTime());\n+        return copy;\n+      }\n+\n+      // Handle Array\n+      if (obj instanceof Array) {\n+        copy = [];\n+        for (var i = 0, len = obj.length; i < len; i++) {\n+          copy[i] = clone(obj[i]);\n+        }\n+        return copy;\n+      }\n+\n+      // Handle Object\n+      if (obj instanceof Object) {\n+        copy = {};\n+        for (var attr in obj) {\n+          if (obj.hasOwnProperty(attr))\n+            copy[attr] = clone(obj[attr]);\n+        }\n+        return copy;\n+      }\n+\n+      throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n+    };\n+\n   }]);"},{"sha":"f81747b432ff839b2cc714dd3e6225ca81f9f888","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/controllers/UserController.js","status":"modified","additions":16,"deletions":3,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -23,10 +23,11 @@\n \n angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$location', \"$state\",\n   'UserSelfService', 'SchemaService', 'RealmService', 'ResourceService', 'SecurityQuestionService',\n-  'GroupService', 'AnyService', 'UserUtil', 'GenericUtil', 'ValidationExecutor', '$translate', '$filter',\n+  'GroupService', 'AnyService', 'BpmnProcessService', 'UserRequestsService', 'UserUtil', 'GenericUtil',\n+  'ValidationExecutor', '$translate', '$filter',\n   function ($scope, $rootScope, $location, $state, UserSelfService, SchemaService, RealmService,\n-          ResourceService, SecurityQuestionService, GroupService, AnyService, UserUtil, GenericUtil, ValidationExecutor,\n-          $translate, $filter) {\n+          ResourceService, SecurityQuestionService, GroupService, AnyService, BpmnProcessService, UserRequestsService,\n+          UserUtil, GenericUtil, ValidationExecutor, $translate, $filter) {\n \n     $scope.user = {};\n     $scope.confirmPassword = {\n@@ -37,6 +38,9 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n \n     $scope.availableRealms = [];\n     $scope.availableSecurityQuestions = [];\n+    $scope.bpmnProcesses = [];\n+    $scope.userRequests = [];\n+    $scope.userRequestsForms = [];\n \n     $scope.initialSecurityQuestion = '';\n     $scope.captchaInput = {\n@@ -334,6 +338,15 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n         initUserSchemas();\n         // initialize available resources\n         initResources();\n+        // initialize user requests\n+//        if (!$scope.createMode && $scope.wizard.userRequests) {\n+//          console.debug(\"About to init user requests data\");\n+//          initBpmnProcesses();\n+//          // this call will ever get the first 10 User Requests\n+//          initUserRequests();\n+//          // this call will ever get the first 10 User Requests Forms\n+//          initUserRequestsForms();\n+//        }\n       };\n \n       var readUser = function () {"},{"sha":"58c8e71cea06f87a2054c11435329e2f0782fc87","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/bpmnProcesses.js","status":"added","additions":39,"deletions":0,"changes":39,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FbpmnProcesses.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FbpmnProcesses.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FbpmnProcesses.js?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,39 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+angular.module('self').directive('bpmnProcesses', [function () {\n+    return {\n+      restrict: 'E',\n+      templateUrl: 'views/bpmnProcesses.html',\n+      scope: {\n+      },\n+      controller: function ($scope) {\n+        $scope.bpmnProcesses = $scope.$parent.$parent.resolve.bpmnProcesses;\n+        $scope.selectedProcesses = $scope.$parent.$parent.resolve.selectedProcesses;\n+        $scope.toggleSelection =\n+                function (bpmnProcessKey) {\n+                  var index = $scope.selectedProcesses.indexOf(bpmnProcessKey);\n+                  if (index > -1) {\n+                    $scope.selectedProcesses.splice(index, 1);\n+                  } else {\n+                    $scope.selectedProcesses.push(bpmnProcessKey);\n+                  }\n+                };\n+      }};\n+  }]);\n+"},{"sha":"39ad82a2bfb9dba777abeb3342a46ac39eca9bbd","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/formProperty.js","status":"added","additions":83,"deletions":0,"changes":83,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FformProperty.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FformProperty.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FformProperty.js?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,83 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+'use strict';\n+\n+angular.module('self')\n+        .directive('formProperty', ['$rootScope', function ($rootScope) {\n+            return {\n+              restrict: 'E',\n+              templateUrl: 'views/formProperty.html',\n+              scope: {\n+                property: \"=\"\n+              },\n+              controller: function ($scope) {\n+                $scope.initAttribute = function () {\n+                  switch ($scope.property.type) {\n+                    case \"Long\":\n+                      $scope.property.value = Number($scope.property.value) || undefined;\n+                      break;\n+                    case \"Enum\":\n+                      if ($scope.property.required !== \"true\") {\n+                        $scope.property.enumValues.empty = \"\";\n+                      }\n+                      $scope.enumKeys = Object.keys($scope.property.enumValues);\n+                      $scope.property.value = $scope.property.value || $scope.property.enumValues.empty;\n+                      break;\n+                    case \"Dropdown\":\n+                      if ($scope.property.required !== \"true\") {\n+                        $scope.property.dropdownValues.empty = \"\";\n+                      }\n+                      $scope.dropdownKeys = Object.keys($scope.property.dropdownValues);\n+                      $scope.property.value = $scope.property.value || $scope.property.dropdownValues.empty;\n+                      break;\n+                    case \"Date\":\n+                      $scope.getType = function (x) {\n+                        return typeof x;\n+                      };\n+                      $scope.isDate = function (x) {\n+                        return x instanceof Date;\n+                      };\n+                      $scope.languageid = $rootScope.languages.selectedLanguage.id;\n+                      $scope.isDateOnly = $scope.property.datePattern.indexOf(\"H\") === -1\n+                              && $scope.property.datePattern.indexOf(\"h\") === -1;\n+                      $scope.languageFormat = $scope.isDateOnly\n+                              ? $rootScope.languages.selectedLanguage.format.replace(\" HH:mm\", \"\")\n+                              : $rootScope.languages.selectedLanguage.format;\n+                      $scope.languageCulture = $rootScope.languages.selectedLanguage.culture;\n+                      // read date in milliseconds\n+                      $scope.selectedDate = $scope.property.value === null\n+                              ? undefined\n+                              : new Date($scope.property.value * 1);\n+                      $scope.bindDateToModel = function (selectedDate, extendedDate) {\n+                        if (selectedDate) {\n+                          // save date in milliseconds\n+                          $scope.property.value = new Date(extendedDate).getTime();\n+                        }\n+                      };\n+                      break;\n+                    case \"Boolean\":\n+                      $scope.property.value = $scope.property.value === \"true\" ? \"true\" : \"false\";\n+                      break;\n+\n+                  }\n+                };\n+\n+              }\n+            };\n+          }]);\n\\ No newline at end of file"},{"sha":"f0aed2037bbb569f9c959542623f0221e9529cfe","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/modalContent.js","status":"added","additions":31,"deletions":0,"changes":31,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FmodalContent.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FmodalContent.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FmodalContent.js?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,31 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+angular.module('self').directive('modalContent', ['$compile', function ($compile) {\n+    return {\n+      restrict: 'E',\n+      scope: {\n+        modalHtml: \"=\"\n+      },\n+      replace: true,\n+      link: function ($scope, element, attrs) {\n+        var template = $compile($scope.modalHtml)($scope);\n+        element.replaceWith(template);\n+      }};\n+  }]);\n+"},{"sha":"3ad18e9e6347bc4a23a51ea09456fb16faece56f","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/modalWindow.js","status":"added","additions":43,"deletions":0,"changes":43,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FmodalWindow.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FmodalWindow.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FmodalWindow.js?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,43 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+angular.module('self').directive('modalWindow', [function () {\n+    return {\n+      restrict: 'E',\n+      templateUrl: 'views/modalWindow.html',\n+      scope: {\n+        resolve: '<',\n+        close: '&',\n+        dismiss: '&'\n+      },\n+      controller: function ($scope) {\n+        $scope.init = function () {\n+          // Please provide an init logic, by default do nothing\n+        };\n+\n+        $scope.ok = function () {\n+          $scope.close({$value: $scope.resolve.result});\n+        };\n+\n+        $scope.cancel = function () {\n+          $scope.dismiss({$value: 'cancel'});\n+        };\n+\n+      }};\n+  }]);\n+"},{"sha":"4512257718825c94bee71702c817a6f5c79ba192","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/requestForms.js","status":"added","additions":110,"deletions":0,"changes":110,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FrequestForms.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FrequestForms.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FrequestForms.js?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,110 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+'use strict';\n+\n+angular.module('self')\n+        .directive('requestForms', ['UserRequestsService',\n+          function (UserRequestsService) {\n+            return {\n+              restrict: 'E',\n+              templateUrl: 'views/requestForms.html',\n+              scope: {\n+                user: \"=\"\n+              },\n+              controller: function ($scope) {\n+                // Initialization\n+                $scope.query = {\n+                  user: $scope.user.username,\n+                  page: 1,\n+                  size: 10\n+                };\n+\n+                var calculatePages = function () {\n+                  $scope.totalPages = Math.ceil($scope.forms.totalCount / $scope.query.size);\n+                  $scope.pages = _.range(1, $scope.totalPages + 1);\n+                };\n+\n+                // <Pagination>\n+                $scope.reloadPage = function (page, size, successMsg) {\n+                  // update query pagination parameters\n+                  $scope.query.page = page;\n+                  $scope.query.size = size;\n+                  // recalculate pages\n+                  calculatePages();\n+                  if (page < 1 || page > $scope.totalPages) {\n+                    return;\n+                  }\n+                  // get current page of items\n+\n+                  $scope.getUserRequestForms($scope.query, function (forms) {\n+                    $scope.forms = forms;\n+                    $scope.$parent.showSuccess(successMsg, $scope.$parent.notification);\n+                  });\n+                };\n+                // </Pagination>\n+\n+                var init = function () {\n+                  $scope.getUserRequestForms({\n+                    user: $scope.user.username,\n+                    page: 1,\n+                    size: 10\n+                  }, function (requestsForms) {\n+                    $scope.forms = requestsForms;\n+                    calculatePages();\n+                    $scope.availableSizes = [{id: 1, value: 10}, {id: 2, value: 25}, {id: 3, value: 50}];\n+                    $scope.selectedSize = $scope.availableSizes[0];\n+                  });\n+                };\n+\n+                $scope.getUserRequestForms = function (query, callback) {\n+                  UserRequestsService.getUserRequestForms(query).then(function (response) {\n+                    callback(response);\n+                  }, function (response) {\n+                    var errorMessage;\n+                    // parse error response \n+                    if (response !== undefined) {\n+                      errorMessage = response.split(\"ErrorMessage{{\")[1];\n+                      errorMessage = errorMessage.split(\"}}\")[0];\n+                    }\n+                    console.error(\"Error retrieving User Request Forms: \", errorMessage);\n+                  });\n+                };\n+\n+                init();\n+\n+                $scope.submit = function (form) {\n+                  UserRequestsService.submitForm(form).then(function (response) {\n+                    console.debug(\"Form successfully submitted\");\n+                    $scope.$parent.showSuccess(\"Form successfully submitted\", $scope.$parent.notification);\n+                    $scope.reloadPage($scope.query.page, $scope.query.size, \"Form successfully submitted\");\n+                  }, function (response) {\n+                    var errorMessage;\n+                    // parse error response \n+                    if (response !== undefined) {\n+                      errorMessage = response.split(\"ErrorMessage{{\")[1];\n+                      errorMessage = errorMessage.split(\"}}\")[0];\n+                    }\n+                    console.error(\"Error retrieving User Request Forms: \", errorMessage);\n+                    $scope.$parent.showError(\"Error: \" + (errorMessage || response), $scope.$parent.notification);\n+                  });\n+\n+                };\n+              }\n+            };\n+          }]);\n\\ No newline at end of file"},{"sha":"64d15a5cd89f84e9d78843a8db91517ae6a77e83","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/requests.js","status":"added","additions":192,"deletions":0,"changes":192,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Frequests.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Frequests.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Frequests.js?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,192 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+'use strict';\n+\n+angular.module('self')\n+        .directive('requests', ['UserRequestsService', 'BpmnProcessService', \"$uibModal\", \"$document\", '$filter',\n+          '$rootScope',\n+          function (UserRequestsService, BpmnProcessService, $uibModal, $document, $filter, $rootScope) {\n+            return {\n+              restrict: 'E',\n+              templateUrl: 'views/requests.html',\n+              scope: {\n+                user: \"=\"\n+              },\n+              controller: function ($scope) {\n+                // Initialization\n+                $scope.query = {\n+                  user: $scope.user.username,\n+                  page: 1,\n+                  size: 10\n+                };\n+\n+                var calculatePages = function () {\n+                  $scope.totalPages = Math.ceil($scope.requests.totalCount / $scope.query.size);\n+                  $scope.pages = _.range(1, $scope.totalPages + 1);\n+                };\n+\n+                // <Pagination>\n+                $scope.reloadPage = function (page, size, successMsg) {\n+                  // update query pagination parameters\n+                  $scope.query.page = page;\n+                  $scope.query.size = size;\n+                  // recalculate pages\n+                  calculatePages();\n+                  if (page < 1 || page > $scope.totalPages) {\n+                    return;\n+                  }\n+                  // get current page of items\n+\n+                  $scope.getUserRequests($scope.query, function (requests) {\n+                    $scope.requests = requests;\n+                    if (successMsg) {\n+                      $scope.$parent.showSuccess(successMsg, $scope.$parent.notification);\n+                    }\n+                  });\n+                };\n+                // </Pagination>\n+\n+                $scope.getUserRequests = function (query, callback) {\n+                  UserRequestsService.getUserRequests(query).then(function (response) {\n+                    callback(response);\n+                  }, function (response) {\n+                    var errorMessage;\n+                    // parse error response \n+                    console.log(\"ERROR \", response);\n+                    if (response !== undefined) {\n+                      errorMessage = response.split(\"ErrorMessage{{\")[1];\n+                      errorMessage = errorMessage.split(\"}}\")[0];\n+                    }\n+                    console.error(\"Error retrieving User Requests: \", errorMessage);\n+                    $scope.$parent.showError(\"Error: \" + (errorMessage || response), $scope.$parent.notification);\n+                  });\n+                };\n+\n+                var init = function () {\n+                  $scope.requests = [];\n+                  $scope.getUserRequests($scope.query, function (requests) {\n+                    $scope.requests = requests;\n+                    calculatePages();\n+                    $scope.availableSizes = [{id: 1, value: 10}, {id: 2, value: 25}, {id: 3, value: 50}];\n+                    $scope.selectedSize = $scope.availableSizes[0];\n+                    // date formatting\n+                    $scope.formatDate = $rootScope.formatDate;\n+                  });\n+\n+                };\n+\n+                var initBpmnProcesses = function () {\n+                  $scope.bpmnProcesses = [];\n+                  BpmnProcessService.getBpmnProcesses().then(function (response) {\n+                    $scope.bpmnProcesses = response;\n+                  }, function (response) {\n+                    // parse error response and log\n+                    if (response !== undefined) {\n+                      var errorMessages = response.toString().split(\"ErrorMessage{{\");\n+                      if (errorMessages.length > 1) {\n+                        console.error(\"Error retrieving BPMN Processes: \", response.toString()\n+                                .split(\"ErrorMessage{{\")[1].split(\"}}\")[0]);\n+                      } else {\n+                        console.error(\"Error retrieving BPMN Processes: \", errorMessages);\n+                      }\n+                    }\n+                  });\n+                };\n+\n+                init();\n+                initBpmnProcesses();\n+\n+                $scope.cancel = function (request, reason) {\n+                  console.log(\"Cancel request \", request.executionId, reason);\n+                  UserRequestsService.cancel(request.executionId, reason).then(function (response) {\n+                    var index = $scope.requests.result.indexOf(request);\n+                    if (index > -1) {\n+                      $scope.requests.result.splice(index, 1);\n+                      $scope.requests.totalCount--;\n+                      $scope.reloadPage($scope.query.page, $scope.query.size, \n+                      \"Process \" + request.executionId + \" successfully canceled\");\n+                    }\n+                  }, function (response) {\n+                    var errorMessage;\n+                    // parse error response \n+                    if (response !== undefined) {\n+                      errorMessage = response.split(\"ErrorMessage{{\")[1];\n+                      errorMessage = errorMessage.split(\"}}\")[0];\n+                    }\n+                    console.error(\"Error canceling User Request: \", request.executionId, errorMessage);\n+                  });\n+                };\n+\n+                $scope.openComponentModal = function (size, parentSelector) {\n+                  $scope.selectedProcesses = [];\n+                  var parentElem = parentSelector ?\n+                          angular.element($document[0].querySelector(parentSelector)) : undefined;\n+                  var modalInstance = $uibModal.open({\n+                    animation: true,\n+                    ariaLabelledBy: 'modal-title',\n+                    ariaDescribedBy: 'modal-body',\n+                    component: 'modalWindow',\n+                    appendTo: parentElem,\n+                    size: size,\n+                    windowClass: 'in',\n+                    backdropClass: 'in',\n+                    resolve: {\n+                      bpmnProcesses: function () {\n+                        return $scope.bpmnProcesses;\n+                      },\n+                      selectedProcesses: function () {\n+                        return $scope.selectedProcesses;\n+                      },\n+                      modalHtml: function () {\n+                        return '<bpmn-processes></bpmn-processes>';\n+                      },\n+                      title: function () {\n+                        return $filter('translate')([\"SELECT_PROCESS\"]).SELECT_PROCESS;\n+                      }\n+                    }\n+                  });\n+\n+                  modalInstance.result.then(function () {\n+                    for (var i = 0; i < $scope.selectedProcesses.length; i++) {\n+                      startRequest(i);\n+                    }\n+                  }, function () {\n+                  });\n+                };\n+\n+                var startRequest = function (i) {\n+                  var currentProc = $scope.selectedProcesses[i];\n+                  UserRequestsService.start(currentProc).then(function (response) {\n+                    console.log(\"Process \" + currentProc + \" successfully started\");\n+                    $scope.reloadPage($scope.query.page, $scope.query.size,\n+                            \"Process \" + currentProc + \" successfully started\");\n+                  }, function (response) {\n+                    var errorMessage;\n+                    // parse error response \n+                    if (response !== undefined) {\n+                      errorMessage = response.split(\"ErrorMessage{{\")[1];\n+                      errorMessage = errorMessage.split(\"}}\")[0];\n+                    }\n+                    $scope.$parent.showError(\"Error: \" + (errorMessage || response), $scope.$parent.notification);\n+                    console.error(\"Error starting User Request: \", errorMessage);\n+                  });\n+                };\n+              }\n+            };\n+          }]);\n\\ No newline at end of file"},{"sha":"73c8d7a4402096d7ba35399c16b5d56f5cdbe7c6","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/services/bpmnProcessService.js","status":"added","additions":38,"deletions":0,"changes":38,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FbpmnProcessService.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FbpmnProcessService.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FbpmnProcessService.js?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,38 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict';\n+\n+angular.module('self')\n+        .factory('BpmnProcessService', ['$resource', '$q', '$http',\n+          function ($resource, $q, $http) {\n+\n+            var bpmnService = {};\n+\n+            bpmnService.getBpmnProcesses = function () {\n+              return  $http.get(\"../api/flowable/bpmnProcesses/\")\n+                      .then(function (response) {\n+                        return response.data;\n+                      }, function (response) {\n+                        return $q.reject(response.data || response.statusText);\n+                      });\n+            };\n+\n+            return bpmnService;\n+          }]);"},{"sha":"b88778456a3b0c51999a2fb06b1c677f8232a3a4","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/services/userRequestsService.js","status":"added","additions":78,"deletions":0,"changes":78,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FuserRequestsService.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FuserRequestsService.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FuserRequestsService.js?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,78 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict';\n+\n+angular.module('self')\n+        .factory('UserRequestsService', ['$q', '$http', function ($q, $http) {\n+\n+            var userRequestsService = {};\n+\n+            userRequestsService.getUserRequests = function (query) {\n+              return  $http.get(\"../api/flowable/userRequests?user=\" + query.user\n+                      + (query.page ? \"&page=\" + query.page + (query.size ? \"&size=\" + query.size : \"\") : \"\")\n+                      + (query.orderBy ? \"&orderBy=\" + query.orderby : \"\"))\n+                      .then(function (response) {\n+                        return response.data;\n+                      }, function (response) {\n+                        return $q.reject(response.data || response.statusText);\n+                      });\n+            };\n+\n+            userRequestsService.getUserRequestForms = function (query) {\n+              return  $http.get(\"../api/flowable/userRequests/forms?user=\" + query.user\n+                      + (query.page ? \"&page=\" + query.page + (query.size ? \"&size=\" + query.size : \"\") : \"\")\n+                      + (query.orderBy ? \"&orderBy=\" + query.orderby : \"\"))\n+                      .then(function (response) {\n+                        return response.data;\n+                      }, function (response) {\n+                        return $q.reject(response.data || response.statusText);\n+                      });\n+            };\n+\n+            userRequestsService.submitForm = function (form) {\n+              return  $http.post(\"../api/flowable/userRequests/forms\", form)\n+                      .then(function (response) {\n+                        return response.data;\n+                      }, function (response) {\n+                        return $q.reject(response.data || response.statusText);\n+                      });\n+            };\n+\n+            userRequestsService.cancel = function (executionId, reason) {\n+              return  $http.delete(\"../api/flowable/userRequests?executionId=\" + executionId\n+                      + (reason ? \"&reason=\" + reason : \"\"))\n+                      .then(function (response) {\n+                        return response.data;\n+                      }, function (response) {\n+                        return $q.reject(response.data || response.statusText);\n+                      });\n+            };\n+\n+            userRequestsService.start = function (bpmnProcess) {\n+              return  $http.post(\"../api/flowable/userRequests/start/\" + bpmnProcess)\n+                      .then(function (response) {\n+                        return response.data;\n+                      }, function (response) {\n+                        return $q.reject(response.data || response.statusText);\n+                      });\n+            };\n+\n+            return userRequestsService;\n+          }]);"},{"sha":"b685f6b94ab932f7e16d299740b149e65b0bbc68","filename":"client/enduser/src/main/resources/META-INF/resources/app/languages/de/static.json","status":"modified","additions":8,"deletions":1,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Flanguages%2Fde%2Fstatic.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Flanguages%2Fde%2Fstatic.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Flanguages%2Fde%2Fstatic.json?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -54,6 +54,13 @@\n   \"PASSWORD_UPDATED\": \"Passwort erfolgreich reset\",\n   \"GOBACKHOME\": \"Hier klicken um zur Homepage zurck zu gelangen\",\n   \"CONFIRM_REMOVE\": \"Lschen besttigen\",\n-  \"own\": \"Besitzen\"\n+  \"SELECT_PROCESS\": \"Whlen Sie einen oder mehrere Prozesse aus, um die Anfragen zu starten\",\n+  \"PAGE_SIZE\": \"Seitengre\",\n+  \"EXECUTION_ID\": \"Ausfhrungs-ID\",\n+  \"START_TIME\": \"Startzeit\",\n+  \"START\": \"Start\",\n+  \"own\": \"Besitzen\",\n+  \"userRequests\": \"Anfragen\",\n+  \"userRequestForms\": \"Formen\"\n }\n "},{"sha":"31574e47a8dda26874192cd009864e3ace3358f3","filename":"client/enduser/src/main/resources/META-INF/resources/app/languages/en/static.json","status":"modified","additions":7,"deletions":0,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Flanguages%2Fen%2Fstatic.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Flanguages%2Fen%2Fstatic.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Flanguages%2Fen%2Fstatic.json?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -45,6 +45,8 @@\n   \"derivedSchemas\": \"DerivedSchemas\",\n   \"virtualSchemas\": \"VirtualSchemas\",\n   \"resources\": \"Resources\",\n+  \"userRequests\": \"Requests\",\n+  \"userRequestForms\": \"Forms\",\n   \"finish\": \"Finish\",\n   \"RESOURCES_PLACEHOLDER\": \"Click to select resources...\",\n   \"REALM\": \"Realm\",\n@@ -54,6 +56,11 @@\n   \"PASSWORD_UPDATED\": \"Password successfully reset\",\n   \"GOBACKHOME\": \"Click on this link to go back to the home page\",\n   \"CONFIRM_REMOVE\": \"This will remove the current value. Continue?\",\n+  \"SELECT_PROCESS\": \"Select one (or many) processes to start request(s)\",\n+  \"PAGE_SIZE\": \"Page size\",\n+  \"EXECUTION_ID\": \"Execution id\",\n+  \"START_TIME\": \"Start time\",\n+  \"START\": \"Start\",\n   \"own\": \"Own\"\n }\n "},{"sha":"3194dfc3cb54168fcc9324f135724dab1e5a05b7","filename":"client/enduser/src/main/resources/META-INF/resources/app/languages/it/static.json","status":"modified","additions":7,"deletions":0,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Flanguages%2Fit%2Fstatic.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Flanguages%2Fit%2Fstatic.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Flanguages%2Fit%2Fstatic.json?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -45,6 +45,8 @@\n   \"derivedSchemas\": \"DerivedSchemas\",\n   \"virtualSchemas\": \"VirtualSchemas\",\n   \"resources\": \"Risorse\",\n+  \"userRequests\": \"Richieste\",\n+  \"userRequestForms\": \"Form\",\n   \"finish\": \"Fine\",\n   \"RESOURCES_PLACEHOLDER\": \"Clicca per selezionare risorse...\",\n   \"NEWUSER\": \"Nuovo utente\",\n@@ -54,5 +56,10 @@\n   \"PASSWORD_UPDATED\": \"Password resettata con successo\",\n   \"GOBACKHOME\": \"Clicca su questo link per tornare alla home page\",\n   \"CONFIRM_REMOVE\": \"Questa azione rimuover il valore corrente. Continuare?\",\n+  \"SELECT_PROCESS\": \"Selezionare uno (o pi) processi per far partire una richiesta(e)\",\n+  \"PAGE_SIZE\": \"Elementi per pagina\",\n+  \"EXECUTION_ID\": \"Id Esecuzione\",\n+  \"START_TIME\": \"Effettuata il\",\n+  \"START\": \"Start\",\n   \"own\": \"Propri\"\n }"},{"sha":"51cd7289d3eeeddc9d1a5a54209518c7388e83b7","filename":"client/enduser/src/main/resources/META-INF/resources/app/languages/ja/static.json","status":"modified","additions":7,"deletions":0,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Flanguages%2Fja%2Fstatic.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Flanguages%2Fja%2Fstatic.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Flanguages%2Fja%2Fstatic.json?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -54,6 +54,13 @@\n   \"PASSWORD_UPDATED\": \"\",\n   \"GOBACKHOME\": \"\",\n   \"CONFIRM_REMOVE\": \"?\",\n+  \"SELECT_PROCESS\": \"1\",\n+  \"PAGE_SIZE\": \"\",\n+  \"EXECUTION_ID\": \"ID\",\n+  \"START_TIME\": \"\",\n+  \"START\": \"\",\n+  \"userRequests\": \"\",\n+  \"userRequestForms\": \"\",\n   \"own\": \"\"\n }\n "},{"sha":"b2e5be81e839eb50f5a25516a6633d2359ad58dd","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/bpmnProcesses.html","status":"added","additions":31,"deletions":0,"changes":31,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FbpmnProcesses.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FbpmnProcesses.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FbpmnProcesses.html?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,31 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<ul>\n+  <li style=\"list-style-type: none;\" ng-repeat=\"bpmnProcess in bpmnProcesses\">\n+    <label>\n+      <input\n+        type=\"checkbox\"\n+        name=\"selected[]\"\n+        value=\"{{bpmnProcess.key}}\"\n+        ng-checked=\"selectedProcesses.indexOf(bpmnProcess.key) > -1\"\n+        ng-click=\"toggleSelection(bpmnProcess.key)\"\n+        > {{bpmnProcess.key}}\n+    </label>\n+  </li>\n+</ul>"},{"sha":"4827a3aeed2cece3ae4135332caace4d96c92d50","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/formProperty.html","status":"added","additions":92,"deletions":0,"changes":92,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FformProperty.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FformProperty.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FformProperty.html?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,92 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+        \n+  http://www.apache.org/licenses/LICENSE-2.0\n+    \n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<div ng-switch=\"property.type\" class=\"schema-type\">\n+  <input ng-switch-when=\"String\" class=\"form-control\" type=\"text\"\n+         ng-model=\"property.value\"\n+         ng-required=\"{{property.required}}\" validate=\"true\"\n+         ng-disabled=\"!property.writable\"\n+         name=\"{{property.name}}\"/>\n+\n+  <div ng-switch-when=\"Boolean\">\n+    <input type=\"checkbox\"\n+           ng-true-value=\"'true'\"\n+           ng-false-value=\"'false'\" \n+           ng-model=\"property.value\"\n+           ng-required=\"{{property.required}}\" validate=\"true\"\n+           ng-disabled=\"!property.writable\"\n+           ng-init=\"initAttribute()\"\n+           name=\"{{property.name}}\"/>\n+  </div>\n+\n+  <input ng-switch-when=\"Long\" class=\"form-control\"\n+         type=\"number\"\n+         ng-model=\"property.value\"\n+         ng-required=\"{{property.required}}\" validate=\"true\"\n+         ng-disabled=\"!property.writable\"\n+         ng-init=\"initAttribute()\"\n+         name=\"{{property.name}}\"/>\n+\n+  <div ng-switch-when=\"Date\" id=\"date-property\">\n+    <input type=\"text\" class=\"dateTimePicker\"\n+           kendo-date-time-picker\n+           ng-show=\"!isDateOnly\"\n+           ng-model=\"extendedDate\"\n+           ng-required=\"{{property.required}}\" close-text=\"Close\"\n+           ng-init=\"initAttribute()\"\n+           ng-change=\"bindDateToModel(selectedDate, extendedDate)\"\n+           ng-disabled=\"!property.writable\"\n+           k-ng-model=\"selectedDate\"\n+           data-k-format=\"languageFormat\"\n+           />\n+    <input type=\"text\" class=\"datePicker\"\n+           kendo-date-picker\n+           ng-show=\"isDateOnly\"\n+           ng-model=\"extendedDate\"\n+           ng-required=\"{{property.required}}\" close-text=\"Close\"\n+           ng-init=\"initAttribute()\"\n+           ng-change=\"bindDateToModel(selectedDate, extendedDate)\"\n+           ng-disabled=\"!property.writable\"\n+           k-ng-model=\"selectedDate\"\n+           data-k-format=\"languageFormat\"\n+           />\n+  </div>  \n+\n+  <div ng-switch-when=\"Enum\" \n+       ng-init=\"initAttribute()\">\n+    <select class=\"form-control custom-select\"\n+  ng-model=\"property.value\"\n+  ng-required=\"{{property.required}}\"\n+  ng-disabled=\"!property.writable\">\n+      <option ng-repeat=\"key in enumKeys\" value=\"{{key}}\">\n+        {{\"empty\" === key ? \"\" : property.enumValues[key]}}\n+      </option>\n+    </select>\n+  </div>\n+  <div ng-switch-when=\"Dropdown\" \n+       ng-init=\"initAttribute()\">\n+    <select class=\"form-control custom-select\"\n+            ng-model=\"property.value\"\n+            ng-required=\"{{property.required}}\"\n+            ng-disabled=\"!property.writable\">\n+      <option ng-repeat=\"key in dropdownKeys\" value=\"{{key}}\">\n+        {{\"empty\" === key ? \"\" : property.dropdownValues[key]}}\n+      </option>\n+    </select>\n+  </div>\n+</div>\n\\ No newline at end of file"},{"sha":"9f15200d14e927bc399c3dd377943f277915c11e","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/modalWindow.html","status":"added","additions":30,"deletions":0,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FmodalWindow.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FmodalWindow.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FmodalWindow.html?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,30 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<div ng-init=\"init()\">\n+  <div class=\"modal-header\">\n+    <h3 class=\"modal-title\" id=\"modal-title\">{{resolve.title}}</h3>\n+  </div>\n+  <div class=\"modal-body\" id=\"modal-body\">\n+    <modal-content id=\"modal-content\" modal-html=\"resolve.modalHtml\"></modal-content>\n+  </div>\n+  <div class=\"modal-footer\">\n+    <button class=\"btn btn-primary\" type=\"button\" ng-click=\"ok()\">{{ 'START' | translate}}</button>\n+    <button class=\"btn btn-warning\" type=\"button\" ng-click=\"cancel()\">{{'CANCEL'| translate}}</button>\n+  </div>\n+</div>"},{"sha":"aa44b2c3be3e655cdd6dfe8afea444bf0378c832","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/requestForms.html","status":"added","additions":61,"deletions":0,"changes":61,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FrequestForms.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FrequestForms.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FrequestForms.html?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,61 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+        \n+  http://www.apache.org/licenses/LICENSE-2.0\n+    \n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<div ng-repeat=\"form in forms.result\">\n+  <uib-accordion ng-if=\"forms.result.length\">\n+    <div  uib-accordion-group heading=\"{{form.bpmnProcess| translate}}\" class=\"breadcrumb-header panel panel-default\">\n+      <div id=\"attribute\" class=\"form-group\" ng-repeat=\"property in form.properties\">\n+        <label class=\"property-label\" for=\"property.name\">{{property.name}}\n+          <span ng-if=\"property.required\">*</span>\n+        </label>\n+        <form-property property=\"property\"></form-property>\n+        <validation-message name=\"{{property.name}}\"/>\n+      </div>\n+      <div style=\"text-align: right\">\n+        <button class=\"btn btn-secondary btn-default\" type=\"button\" ng-click=\"submit(form)\">{{ 'SUBMIT' | translate}}</button>\n+      </div>\n+    </div>\n+  </uib-accordion>\n+</div>\n+<div class=\"row\">\n+  <div class=\"col-md-9\" style=\"text-align: center\">\n+    <!-- pager -->\n+    <ul ng-if=\"totalPages > 1\" class=\"pagination\">\n+      <li ng-class=\"{disabled:query.page === 1}\">\n+        <a ng-click=\"reloadPage(1, query.size)\">First</a>\n+      </li>\n+      <li ng-class=\"{disabled:query.page === 1}\">\n+        <a ng-click=\"reloadPage(query.page - 1, query.size)\">Previous</a>\n+      </li>\n+      <li ng-repeat=\"page in pages\" ng-class=\"{active:query.page === page}\">\n+        <a ng-click=\"reloadPage(page, query.size)\">{{page}}</a>\n+      </li>                \n+      <li ng-class=\"{disabled:query.page === totalPages}\">\n+        <a ng-click=\"reloadPage(query.page + 1, query.size)\">Next</a>\n+      </li>\n+      <li ng-class=\"{disabled:query.page === totalPages}\">\n+        <a ng-click=\"reloadPage(totalPages, query.size)\">Last</a>\n+      </li>\n+    </ul>\n+  </div>\n+  <div ng-if=\"totalPages > 1\" class=\"form-group col-md-3 pagination-size-sm\" style=\"text-align: left\">\n+    <select class=\"form-control\" name=\"sizeSelect\" id=\"sizeSelect\"\n+            ng-options=\"option.value for option in availableSizes track by option.id\"\n+            ng-model=\"selectedSize\" ng-change=\"reloadPage(query.page, selectedSize.value)\"></select>\n+  </div>\n+</div>\n\\ No newline at end of file"},{"sha":"68c1da39573e0b7157d4dcce8c723cf66a7e80eb","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/requests.html","status":"added","additions":76,"deletions":0,"changes":76,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Frequests.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Frequests.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Frequests.html?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,76 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+        \n+  http://www.apache.org/licenses/LICENSE-2.0\n+    \n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<div ng-repeat=\"request in requests.result\">\n+  <uib-accordion ng-if=\"requests.result.length\">\n+    <div uib-accordion-group heading=\"{{request.bpmnProcess| translate}}\" class=\"breadcrumb-header panel panel-default\">\n+      <table class=\"table\">\n+        <thead> \n+          <tr> \n+            <th>{{'EXECUTION_ID'| translate}}</th> \n+            <th>{{'START_TIME'| translate}}</th>\n+          </tr> \n+        </thead>\n+\n+        <tbody> \n+          <tr>\n+            <td>{{request.executionId}}</td> \n+            <td>{{formatDate(request.startTime)}}</td> \n+          </tr>\n+        </tbody>\n+      </table>\n+      <div style=\"text-align: right\">\n+        <a id=\"cancelRequest\" class=\"btn btn-secondary btn-default\" ng-click=\"cancel(request)\">\n+          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\n+        </a>\n+      </div>\n+    </div>\n+  </uib-accordion>\n+</div>\n+<div class=\"row\">\n+  <div class=\"col-md-9\" style=\"text-align: center\">\n+    <!-- pager -->\n+    <ul ng-if=\"totalPages > 1\" class=\"pagination\">\n+      <li ng-class=\"{disabled:query.page === 1}\">\n+        <a ng-click=\"reloadPage(1, query.size)\">First</a>\n+      </li>\n+      <li ng-class=\"{disabled:query.page === 1}\">\n+        <a ng-click=\"reloadPage(query.page - 1, query.size)\">Previous</a>\n+      </li>\n+      <li ng-repeat=\"page in pages\" ng-class=\"{active:query.page === page}\">\n+        <a ng-click=\"reloadPage(page, query.size)\">{{page}}</a>\n+      </li>                \n+      <li ng-class=\"{disabled:query.page === totalPages}\">\n+        <a ng-click=\"reloadPage(query.page + 1, query.size)\">Next</a>\n+      </li>\n+      <li ng-class=\"{disabled:query.page === totalPages}\">\n+        <a ng-click=\"reloadPage(totalPages, query.size)\">Last</a>\n+      </li>\n+    </ul>\n+  </div>\n+  <div ng-if=\"totalPages > 1\" class=\"form-group col-md-3 pagination-size\" style=\"text-align: left\">\n+    <select class=\"form-control\" name=\"sizeSelect\" id=\"sizeSelect\"\n+            ng-options=\"option.value for option in availableSizes track by option.id\"\n+            ng-model=\"selectedSize\" ng-change=\"reloadPage(query.page, selectedSize.value)\"></select>\n+  </div>\n+</div>\n+<div class=\"row\" style=\"text-align: right\">\n+  <button class=\"btn btn-default btn-sm\" type=\"button\" ng-click=\"openComponentModal()\">\n+    <i class=\"fa fa-plus\" title=\"Start requests\"></i>\n+  </button>\n+</div>\n\\ No newline at end of file"},{"sha":"5d164340b604aebc7e48961b4af683d836672f74","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/templates/editUserTemplate.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Ftemplates%2FeditUserTemplate.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Ftemplates%2FeditUserTemplate.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Ftemplates%2FeditUserTemplate.html?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -40,7 +40,7 @@\n                 <i class=\"fa fa-power-off\" style=\"color:red\"></i>\n               </a>\n               <!-- add class breadcrumb-disabled-link to buttons to prevent click -->              \n-              <a ng-repeat=\"(key, value) in wizard\" ui-sref-active=\"active\" ui-sref=\".{{key}}\" \n+              <a ng-repeat=\"(key, value) in (createMode ? creationWizard : wizard)\" ui-sref-active=\"active\" ui-sref=\".{{key}}\" \n                  class=\"btn btn-secondary btn-default breadcrumb-btn-elem\" \n                  ng-class=\"createMode && !endReached ? 'disable-link' : ''\">{{key| translate}}</a>       \n             </div>"},{"sha":"4971143dcd512afc9f7ace750ccfec1d559f4ec7","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-request-forms.html","status":"added","additions":48,"deletions":0,"changes":48,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-request-forms.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-request-forms.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-request-forms.html?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,48 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<div>\n+    <request-forms user=\"user\"></request-forms>\n+</div>\n+\n+<div id=\"attribute\" class=\"form-group row justify-content-between p-0\">\n+  <div class=\"col-xs-3\">\n+    <a id=\"cancel\" class=\"btn btn-danger float-left nav-button\" tabindex=\"0\" \n+       ng-enter=\"logout()\" ng-click=\"logout()\">\n+      {{'CANCEL'| translate}}\n+    </a>\n+  </div>\n+  <div class=\"col-xs-9\">\n+    <div id=\"navButtons\" class=\"float-left\"\n+         ng-class=\"(!createMode || (createMode && endReached)) ? 'col-xs-10' : 'col-xs-12'\">\n+      <navigation-buttons-partial ng-show=\"createMode\" base=\"create\" current=\"userRequestForms\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n+      <navigation-buttons-partial ng-show=\"!createMode\" base=\"update\" current=\"userRequestForms\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n+    </div>\n+    <div class=\"float-right p-0\" \n+         ng-class=\"(!createMode || (createMode && endReached)) ? 'col-xs-2' : ''\" \n+         ng-show=\"!createMode || (createMode && endReached)\">\n+      <button id=\"finish\" type=\"button\" tabindex=\"0\"\n+              class=\"btn btn-secondary btn-default float-right nav-button\" \n+              ng-enter=\"finish()\" ng-click=\"finish()\">\n+        {{'FINISH'| translate}}\n+      </button>\n+    </div>\n+  </div>\n+</div>\n\\ No newline at end of file"},{"sha":"62c3e01ddc1390c8b1f191b84f5d784cd891c240","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-requests.html","status":"added","additions":48,"deletions":0,"changes":48,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-requests.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-requests.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-requests.html?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,48 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<div id=\"attribute\" class=\"form-group row upper-select ng-scope\">\n+    <requests user=\"user\"></requests>\n+</div>\n+\n+<div id=\"attribute\" class=\"form-group row justify-content-between p-0\">\n+  <div class=\"col-xs-3\">\n+    <a id=\"cancel\" class=\"btn btn-danger float-left nav-button\" tabindex=\"0\" \n+       ng-enter=\"logout()\" ng-click=\"logout()\">\n+      {{'CANCEL'| translate}}\n+    </a>\n+  </div>\n+  <div class=\"col-xs-9\">\n+    <div id=\"navButtons\" class=\"float-left\"\n+         ng-class=\"(!createMode || (createMode && endReached)) ? 'col-xs-10' : 'col-xs-12'\">\n+      <navigation-buttons-partial ng-show=\"createMode\" base=\"create\" current=\"userRequests\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n+      <navigation-buttons-partial ng-show=\"!createMode\" base=\"update\" current=\"userRequests\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n+    </div>\n+    <div class=\"float-right p-0\" \n+         ng-class=\"(!createMode || (createMode && endReached)) ? 'col-xs-2' : ''\" \n+         ng-show=\"!createMode || (createMode && endReached)\">\n+      <button id=\"finish\" type=\"button\" tabindex=\"0\"\n+              class=\"btn btn-secondary btn-default float-right nav-button\" \n+              ng-enter=\"finish()\" ng-click=\"finish()\">\n+        {{'FINISH'| translate}}\n+      </button>\n+    </div>\n+  </div>\n+</div>\n\\ No newline at end of file"},{"sha":"12c7f3b16ebbc2751128f6ac86464f034e2feaf6","filename":"client/enduser/src/main/resources/customTemplate.json","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -74,6 +74,12 @@\n               \"resources\": {\n                 \"url\": \"/resources\"\n               },\n+              \"userRequests\": {\n+                \"url\": \"/user-requests\"\n+              },\n+              \"userRequestForms\": {\n+                \"url\": \"/user-request-forms\"\n+              },\n               \"finish\": {\n                 \"url\": \"/finish\"\n               }"},{"sha":"1eb40c6d79d632f1dc1041175a25dd142eea8356","filename":"ext/flowable/client-console/src/main/java/org/apache/syncope/client/console/pages/Flowable.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FFlowable.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FFlowable.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FFlowable.java?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -29,7 +29,7 @@\n import org.apache.wicket.request.mapper.parameter.PageParameters;\n \n @ExtPage(label = \"Flowable\", icon = \"fa-briefcase\",\n-        listEntitlement = FlowableEntitlement.BPMN_PROCESS_LIST, priority = 200)\n+        listEntitlement = FlowableEntitlement.BPMN_PROCESS_GET, priority = 200)\n public class Flowable extends BaseExtPage {\n \n     private static final long serialVersionUID = -8781434495150074529L;\n@@ -49,7 +49,7 @@ public Flowable(final PageParameters parameters) {\n \n         }.disableCheckBoxes().build(\"bpmnProcessesPanel\");\n         bpmnProcessesPanel.setOutputMarkupPlaceholderTag(true);\n-        MetaDataRoleAuthorizationStrategy.authorize(bpmnProcessesPanel, ENABLE, FlowableEntitlement.BPMN_PROCESS_LIST);\n+        MetaDataRoleAuthorizationStrategy.authorize(bpmnProcessesPanel, ENABLE, FlowableEntitlement.BPMN_PROCESS_GET);\n \n         content.add(bpmnProcessesPanel);\n     }"},{"sha":"40943de2470b207a855ae3c4f718c4441069b04a","filename":"ext/flowable/common-lib/src/main/java/org/apache/syncope/common/lib/types/FlowableEntitlement.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fcommon-lib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FFlowableEntitlement.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fcommon-lib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FFlowableEntitlement.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fcommon-lib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FFlowableEntitlement.java?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -26,8 +26,6 @@\n \n public final class FlowableEntitlement {\n \n-    public static final String BPMN_PROCESS_LIST = \"BPMN_PROCESS_LIST\";\n-\n     public static final String BPMN_PROCESS_GET = \"BPMN_PROCESS_GET\";\n \n     public static final String BPMN_PROCESS_SET = \"BPMN_PROCESS_SET\";"},{"sha":"e7bfa00c41febd6cb46a06277f920dd9f631e895","filename":"ext/flowable/flowable-bpmn/src/main/java/org/apache/syncope/core/flowable/impl/FlowableRuntimeUtils.java","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fflowable-bpmn%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fflowable%2Fimpl%2FFlowableRuntimeUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fflowable-bpmn%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fflowable%2Fimpl%2FFlowableRuntimeUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fflowable-bpmn%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fflowable%2Fimpl%2FFlowableRuntimeUtils.java?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -209,7 +209,9 @@ public static void saveForFormSubmit(\n     }\n \n     public static void throwException(final FlowableException e, final String defaultMessage) {\n-        if (e.getCause() instanceof SyncopeClientException) {\n+        if (e.getCause() == null) {\n+            throw new WorkflowException(defaultMessage, e);\n+        } else if (e.getCause() instanceof SyncopeClientException) {\n             throw (SyncopeClientException) e.getCause();\n         } else if (e.getCause() instanceof ParsingValidationException) {\n             throw (ParsingValidationException) e.getCause();"},{"sha":"c28516b74585550b61243813c5a9869ec6a4401c","filename":"ext/flowable/logic/src/main/java/org/apache/syncope/core/logic/BpmnProcessLogic.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FBpmnProcessLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FBpmnProcessLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FBpmnProcessLogic.java?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -36,7 +36,7 @@ public class BpmnProcessLogic extends AbstractTransactionalLogic<BpmnProcess> {\n     @Autowired\n     private BpmnProcessManager bpmnProcessManager;\n \n-    @PreAuthorize(\"hasRole('\" + FlowableEntitlement.BPMN_PROCESS_LIST + \"')\")\n+    @PreAuthorize(\"isAuthenticated()\")\n     @Transactional(readOnly = true)\n     public List<BpmnProcess> list() {\n         return bpmnProcessManager.getProcesses();"},{"sha":"916655755a7b0677d8a374bd93d7ef0dd0e9bde7","filename":"ext/flowable/pom.xml","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fpom.xml?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -44,6 +44,7 @@ under the License.\n     <module>rest-cxf</module>\n     <module>flowable-bpmn</module>\n     <module>client-console</module>\n+    <module>syncope-ext-flowable-client-enduser</module>\n   </modules>\n \n </project>"},{"sha":"09d58447473afff2c4f036ce39fa2fd392178cab","filename":"ext/flowable/syncope-ext-flowable-client-enduser/pom.xml","status":"added","additions":80,"deletions":0,"changes":80,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fpom.xml?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,80 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+  <modelVersion>4.0.0</modelVersion>\n+\n+  <parent>\n+    <groupId>org.apache.syncope.ext</groupId>\n+    <artifactId>syncope-ext-flowable</artifactId>\n+    <version>2.1.3-SNAPSHOT</version>\n+  </parent>\n+\n+  <name>Apache Syncope Ext: Flowable Client Enduser</name>\n+  <description>Apache Syncope Ext: Flowable Client Enduser</description>\n+  <groupId>org.apache.syncope.ext.flowable</groupId>\n+  <artifactId>syncope-ext-flowable-client-enduser</artifactId>\n+  <packaging>jar</packaging>\n+  \n+  <properties>\n+    <rootpom.basedir>${basedir}/../../..</rootpom.basedir>\n+  </properties>\n+  \n+  <dependencies>\n+    <dependency>\n+      <groupId>org.apache.syncope.ext.flowable</groupId>\n+      <artifactId>syncope-ext-flowable-common-lib</artifactId>\n+      <version>${project.version}</version>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.apache.syncope.ext.flowable</groupId>\n+      <artifactId>syncope-ext-flowable-rest-api</artifactId>\n+      <version>${project.version}</version>\n+    </dependency>\n+    \n+    <dependency>\n+      <groupId>org.apache.syncope.client</groupId>\n+      <artifactId>syncope-client-enduser</artifactId>\n+      <version>${project.version}</version>\n+    </dependency>\n+ \n+    <dependency>\n+      <groupId>javax.servlet</groupId>\n+      <artifactId>javax.servlet-api</artifactId>\n+    </dependency>\n+ \n+  </dependencies>\n+  \n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-checkstyle-plugin</artifactId>\n+      </plugin>\n+    </plugins>\n+    <resources>\n+      <resource>\n+        <directory>src/main/resources</directory>\n+        <filtering>true</filtering>\n+      </resource>\n+    </resources>\n+  </build>\n+  \n+</project>\n\\ No newline at end of file"},{"sha":"4b8d80bafd39826c0b007d96470d8080bd675c68","filename":"ext/flowable/syncope-ext-flowable-client-enduser/src/main/java/org/apache/syncope/client/enduser/resources/BpmnProcessList.java","status":"added","additions":87,"deletions":0,"changes":87,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FBpmnProcessList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FBpmnProcessList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FBpmnProcessList.java?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,87 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import static org.apache.syncope.client.enduser.resources.BaseResource.LOG;\n+import static org.apache.syncope.client.enduser.resources.BaseResource.MAPPER;\n+\n+import java.io.IOException;\n+import java.nio.charset.StandardCharsets;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n+import org.apache.syncope.client.enduser.annotations.Resource;\n+import org.apache.syncope.common.lib.to.BpmnProcess;\n+import org.apache.syncope.common.rest.api.service.BpmnProcessService;\n+import org.apache.wicket.request.resource.AbstractResource;\n+import org.apache.wicket.request.resource.IResource;\n+\n+@Resource(key = \"bpmnProcessesList\", path = \"/api/flowable/bpmnProcesses/\")\n+public class BpmnProcessList extends BaseResource {\n+\n+    private static final long serialVersionUID = 7273151109078469253L;\n+\n+    @Override\n+    protected ResourceResponse newResourceResponse(final IResource.Attributes attributes) {\n+        LOG.debug(\"List available Flowable BPMN processes definitions [{}] useful to start User Requests\");\n+\n+        ResourceResponse response = new AbstractResource.ResourceResponse();\n+        response.setContentType(MediaType.APPLICATION_JSON);\n+        try {\n+            HttpServletRequest request = (HttpServletRequest) attributes.getRequest().getContainerRequest();\n+            if (!xsrfCheck(request)) {\n+                LOG.error(\"XSRF TOKEN does not match\");\n+                response.setError(Response.Status.BAD_REQUEST.getStatusCode(), \"XSRF TOKEN does not match\");\n+                return response;\n+            }\n+\n+            final List<BpmnProcess> bpmnProcesses = SyncopeEnduserSession.get().\n+                    getService(BpmnProcessService.class).list();\n+\n+            response.setWriteCallback(new AbstractResource.WriteCallback() {\n+\n+                @Override\n+                public void writeData(final IResource.Attributes attributes) throws IOException {\n+                    // retain also not userWorkflow processes\n+                    attributes.getResponse().write(MAPPER.writeValueAsString(bpmnProcesses == null\n+                            ? Collections.<BpmnProcess>emptyList()\n+                            : bpmnProcesses.stream().filter(bpmnProcess -> !bpmnProcess.isUserWorkflow()).collect(\n+                                    Collectors.toList())));\n+                }\n+            });\n+\n+            response.setContentType(MediaType.APPLICATION_JSON);\n+            response.setTextEncoding(StandardCharsets.UTF_8.name());\n+            response.setStatusCode(Response.Status.OK.getStatusCode());\n+        } catch (Exception e) {\n+            LOG.error(\"Error retrieving BPMN processes\", e);\n+            response.setError(Response.Status.BAD_REQUEST.getStatusCode(), new StringBuilder()\n+                    .append(\"ErrorMessage{{ \")\n+                    .append(e.getMessage())\n+                    .append(\" }}\")\n+                    .toString());\n+        }\n+\n+        return response;\n+    }\n+}"},{"sha":"4012b6985c074d7c9435085f5a1d5e9a03f2af96","filename":"ext/flowable/syncope-ext-flowable-client-enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserRequestCancelResource.java","status":"added","additions":101,"deletions":0,"changes":101,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestCancelResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestCancelResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestCancelResource.java?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,101 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import static org.apache.syncope.client.enduser.resources.BaseResource.LOG;\n+\n+import java.io.IOException;\n+import java.nio.charset.StandardCharsets;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.ws.rs.HttpMethod;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n+import org.apache.syncope.client.enduser.annotations.Resource;\n+import org.apache.syncope.common.rest.api.service.UserRequestService;\n+import org.apache.wicket.request.IRequestParameters;\n+import org.apache.wicket.request.mapper.parameter.PageParameters;\n+import org.apache.wicket.request.resource.AbstractResource;\n+import org.apache.wicket.request.resource.IResource;\n+import org.apache.wicket.util.string.StringValue;\n+\n+@Resource(key = \"userRequestCancel\", path = \"/api/flowable/userRequests/${executionId}\")\n+public class UserRequestCancelResource extends BaseResource {\n+\n+    private static final long serialVersionUID = 7273151109078469253L;\n+\n+    @Override\n+    protected ResourceResponse newResourceResponse(final IResource.Attributes attributes) {\n+\n+        ResourceResponse response = new AbstractResource.ResourceResponse();\n+        response.setContentType(MediaType.APPLICATION_JSON);\n+        StringValue executionId;\n+        try {\n+            HttpServletRequest request = (HttpServletRequest) attributes.getRequest().getContainerRequest();\n+            if (!xsrfCheck(request)) {\n+                LOG.error(\"XSRF TOKEN does not match\");\n+                response.setError(Response.Status.BAD_REQUEST.getStatusCode(), \"XSRF TOKEN does not match\");\n+                return response;\n+            }\n+\n+            if (!HttpMethod.DELETE.equals(request.getMethod())) {\n+                throw new UnsupportedOperationException(\"Unsupported operation, only DELETE allowed\");\n+            }\n+\n+            PageParameters parameters = attributes.getParameters();\n+            executionId = parameters.get(\"executionId\");\n+            IRequestParameters requestParameters = attributes.getRequest().getQueryParameters();\n+            StringValue reason = requestParameters.getParameterValue(\"reason\");\n+            LOG.debug(\"Cancel Flowable User Request with execution id [{}] for user [{}] with reason [{}]\", executionId,\n+                    SyncopeEnduserSession.get().getSelfTO().getUsername(), reason);\n+            if (executionId.isEmpty()) {\n+                throw new IllegalArgumentException(\"Empty executionId, please provide a value\");\n+            }\n+\n+            SyncopeEnduserSession.get().getService(UserRequestService.class).cancel(executionId.toString(),\n+                    reason.toString());\n+\n+            final String outcomeMessage = String.format(\n+                    \"User Request with execution id [%s] successfully canceled for User [%s]\", executionId.\n+                            toString(), SyncopeEnduserSession.get().getSelfTO().getUsername());\n+\n+            response.setWriteCallback(new AbstractResource.WriteCallback() {\n+\n+                @Override\n+                public void writeData(final IResource.Attributes attributes) throws IOException {\n+                    attributes.getResponse().write(outcomeMessage);\n+                }\n+            });\n+\n+            response.setContentType(MediaType.APPLICATION_JSON);\n+            response.setTextEncoding(StandardCharsets.UTF_8.name());\n+            response.setStatusCode(Response.Status.OK.getStatusCode());\n+        } catch (Exception e) {\n+            LOG.error(\"Error cancelling User Request for [{}]\", SyncopeEnduserSession.get().getSelfTO().getUsername(),\n+                    e);\n+            response.setError(Response.Status.BAD_REQUEST.getStatusCode(), new StringBuilder()\n+                    .append(\"ErrorMessage{{ \")\n+                    .append(e.getMessage())\n+                    .append(\" }}\")\n+                    .toString());\n+        }\n+\n+        return response;\n+    }\n+}"},{"sha":"a342c7f7c713cdfb6e0106fff4d6c5ddbee4cedb","filename":"ext/flowable/syncope-ext-flowable-client-enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserRequestFormClaimResource.java","status":"added","additions":91,"deletions":0,"changes":91,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestFormClaimResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestFormClaimResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestFormClaimResource.java?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,91 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import static org.apache.syncope.client.enduser.resources.BaseResource.LOG;\n+import static org.apache.syncope.client.enduser.resources.BaseResource.MAPPER;\n+\n+import java.io.IOException;\n+import java.nio.charset.StandardCharsets;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n+import org.apache.syncope.client.enduser.annotations.Resource;\n+import org.apache.syncope.common.lib.to.UserRequestForm;\n+import org.apache.syncope.common.rest.api.service.UserRequestService;\n+import org.apache.wicket.request.mapper.parameter.PageParameters;\n+import org.apache.wicket.request.resource.AbstractResource;\n+import org.apache.wicket.request.resource.IResource;\n+import org.apache.wicket.util.string.StringValue;\n+\n+@Resource(key = \"userRequestCancelByUsername\", path = \"/api/flowable/userRequests/forms/${taskId}/claim\")\n+public class UserRequestFormClaimResource extends BaseResource {\n+\n+    private static final long serialVersionUID = 7273151109078469253L;\n+\n+    @Override\n+    protected ResourceResponse newResourceResponse(final IResource.Attributes attributes) {\n+\n+        ResourceResponse response = new AbstractResource.ResourceResponse();\n+        response.setContentType(MediaType.APPLICATION_JSON);\n+        StringValue taskId;\n+        try {\n+            HttpServletRequest request = (HttpServletRequest) attributes.getRequest().getContainerRequest();\n+            if (!xsrfCheck(request)) {\n+                LOG.error(\"XSRF TOKEN does not match\");\n+                response.setError(Response.Status.BAD_REQUEST.getStatusCode(), \"XSRF TOKEN does not match\");\n+                return response;\n+            }\n+\n+            PageParameters parameters = attributes.getParameters();\n+            taskId = parameters.get(\"taskId\");\n+            LOG.debug(\"Claim Flowable User Request Form with task id [{}] for user [{}] with reason [{}]\", taskId,\n+                    SyncopeEnduserSession.get().getSelfTO().getUsername());\n+            if (taskId.isEmpty()) {\n+                throw new IllegalArgumentException(\"Empty taskId, please provide a value\");\n+            }\n+            UserRequestForm requestForm = SyncopeEnduserSession.get().getService(UserRequestService.class).claimForm(\n+                    taskId.toString());\n+\n+            response.setWriteCallback(new AbstractResource.WriteCallback() {\n+\n+                @Override\n+                public void writeData(final IResource.Attributes attributes) throws IOException {\n+                    attributes.getResponse().write(MAPPER.writeValueAsString(requestForm));\n+                }\n+            });\n+\n+            response.setContentType(MediaType.APPLICATION_JSON);\n+            response.setTextEncoding(StandardCharsets.UTF_8.name());\n+            response.setStatusCode(Response.Status.OK.getStatusCode());\n+        } catch (Exception e) {\n+            LOG.\n+                    error(\"Error claiming User Request Form for [{}]\", SyncopeEnduserSession.get().getSelfTO().\n+                            getUsername(), e);\n+            response.setError(Response.Status.BAD_REQUEST.getStatusCode(), new StringBuilder()\n+                    .append(\"ErrorMessage{{ \")\n+                    .append(e.getMessage())\n+                    .append(\" }}\")\n+                    .toString());\n+        }\n+\n+        return response;\n+    }\n+}"},{"sha":"f303070e2a01b4826e619db53db1d02dc8b87845","filename":"ext/flowable/syncope-ext-flowable-client-enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserRequestsFormsResource.java","status":"added","additions":165,"deletions":0,"changes":165,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestsFormsResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestsFormsResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestsFormsResource.java?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,165 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import static org.apache.syncope.client.enduser.resources.BaseResource.LOG;\n+import static org.apache.syncope.client.enduser.resources.BaseResource.MAPPER;\n+\n+import java.io.IOException;\n+import java.nio.charset.StandardCharsets;\n+import java.text.ParseException;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.ws.rs.HttpMethod;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.commons.lang3.time.FastDateFormat;\n+import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n+import org.apache.syncope.client.enduser.annotations.Resource;\n+import org.apache.syncope.common.lib.to.PagedResult;\n+import org.apache.syncope.common.lib.to.UserRequestForm;\n+import org.apache.syncope.common.lib.types.UserRequestFormPropertyType;\n+import org.apache.syncope.common.rest.api.beans.UserRequestFormQuery;\n+import org.apache.syncope.common.rest.api.service.UserRequestService;\n+import org.apache.wicket.request.IRequestParameters;\n+import org.apache.wicket.request.resource.AbstractResource;\n+import org.apache.wicket.request.resource.IResource;\n+import org.apache.wicket.util.string.StringValue;\n+\n+@Resource(key = \"userRequestsForms\", path = \"/api/flowable/userRequests/forms\")\n+public class UserRequestsFormsResource extends BaseResource {\n+\n+    private static final long serialVersionUID = 7273151109078469253L;\n+\n+    @Override\n+    protected ResourceResponse newResourceResponse(final IResource.Attributes attributes) {\n+\n+        ResourceResponse response = new AbstractResource.ResourceResponse();\n+        response.setContentType(MediaType.APPLICATION_JSON);\n+        response.setTextEncoding(StandardCharsets.UTF_8.name());\n+        StringValue username = StringValue.valueOf(SyncopeEnduserSession.get().getSelfTO().getUsername());\n+        try {\n+            HttpServletRequest request = (HttpServletRequest) attributes.getRequest().getContainerRequest();\n+            if (!xsrfCheck(request)) {\n+                LOG.error(\"XSRF TOKEN does not match\");\n+                response.setError(Response.Status.BAD_REQUEST.getStatusCode(), \"XSRF TOKEN does not match\");\n+                return response;\n+            }\n+\n+            switch (request.getMethod()) {\n+                case HttpMethod.GET:\n+                    IRequestParameters requestParameters = attributes.getRequest().getQueryParameters();\n+                    StringValue page = requestParameters.getParameterValue(\"page\");\n+                    StringValue size = requestParameters.getParameterValue(\"size\");\n+                    LOG.debug(\"List available Flowable User Requests Forms by user [{}]\", username);\n+                    final PagedResult<UserRequestForm> userRequestForms = SyncopeEnduserSession.get().\n+                            getService(UserRequestService.class).getForms(\n+                            new UserRequestFormQuery.Builder()\n+                                    .user(username.isEmpty()\n+                                            ? SyncopeEnduserSession.get().getSelfTO().getUsername()\n+                                            : username.toString())\n+                                    .page(page.isEmpty()\n+                                            ? 1\n+                                            : Integer.parseInt(page.toString()))\n+                                    .size(size.isEmpty()\n+                                            ? 10\n+                                            : Integer.parseInt(size.toString())).build());\n+\n+                    // Date -> millis conversion for Date properties of the form\n+                    userRequestForms.getResult().stream().forEach(form\n+                            -> form.getProperties().stream()\n+                                    .filter(prop -> UserRequestFormPropertyType.Date == prop.getType()\n+                                    && StringUtils.isNotBlank(prop.getValue()))\n+                                    .forEach(prop -> {\n+                                        try {\n+                                            prop.setValue(String.valueOf(FastDateFormat.getInstance(prop.\n+                                                    getDatePattern()).parse(prop.getValue()).getTime()));\n+                                        } catch (ParseException e) {\n+                                            LOG.error(\"Unable to parse date\", e);\n+                                        }\n+                                    }));\n+\n+                    response.setWriteCallback(new AbstractResource.WriteCallback() {\n+\n+                        @Override\n+                        public void writeData(final IResource.Attributes attributes) throws IOException {\n+                            attributes.getResponse().write(MAPPER.writeValueAsString(userRequestForms));\n+                        }\n+                    });\n+                    break;\n+                case HttpMethod.POST:\n+                    UserRequestForm requestForm = MAPPER.\n+                            readValue(request.getReader().readLine(), UserRequestForm.class);\n+                    if (requestForm == null) {\n+                        throw new IllegalArgumentException(\"Empty userRequestForm, please provide a valid one\");\n+                    }\n+\n+                    UserRequestService userRequestService = SyncopeEnduserSession.get().getService(\n+                            UserRequestService.class);\n+                    // 1. claim form as logged user\n+                    userRequestService.claimForm(requestForm.getTaskId());\n+                    // millis -> Date conversion for Date properties of the form\n+                    requestForm.getProperties().stream()\n+                            .filter(prop -> UserRequestFormPropertyType.Date == prop.getType()\n+                            && StringUtils.isNotBlank(prop.getValue()))\n+                            .forEach(prop -> {\n+                                try {\n+                                    prop.setValue(FastDateFormat.getInstance(prop.getDatePattern()).format(Long.valueOf(\n+                                            prop.getValue())));\n+                                } catch (NumberFormatException e) {\n+                                    LOG.error(\"Unable to format date\", e);\n+                                }\n+                            });\n+                    // 2. Submit form\n+                    LOG.debug(\"Submit Flowable User Request Form for user [{}]\", requestForm.getUsername());\n+                    userRequestService.submitForm(requestForm);\n+\n+                    response.setStatusCode(Response.Status.NO_CONTENT.getStatusCode());\n+                    response.setWriteCallback(new AbstractResource.WriteCallback() {\n+\n+                        @Override\n+                        public void writeData(final IResource.Attributes attributes) throws IOException {\n+                            // DO NOTHING\n+                        }\n+                    });\n+                    break;\n+                default:\n+                    LOG.error(\"Method [{}] not supported\", request.getMethod());\n+                    response.setError(Response.Status.BAD_REQUEST.getStatusCode(), new StringBuilder()\n+                            .append(\"ErrorMessage{{ \")\n+                            .append(\"Method not supported\")\n+                            .append(\" }}\")\n+                            .toString());\n+                    break;\n+            }\n+            response.setContentType(MediaType.APPLICATION_JSON);\n+            response.setTextEncoding(StandardCharsets.UTF_8.name());\n+            response.setStatusCode(Response.Status.OK.getStatusCode());\n+        } catch (Exception e) {\n+            LOG.error(\"Error dealing with forms of user [{}]\", username, e);\n+            response.setError(Response.Status.BAD_REQUEST.getStatusCode(), new StringBuilder()\n+                    .append(\"ErrorMessage{{ \")\n+                    .append(e.getMessage())\n+                    .append(\" }}\")\n+                    .toString());\n+        }\n+\n+        return response;\n+    }\n+}"},{"sha":"812e408845a212304a214a5bd8f2329c56beb225","filename":"ext/flowable/syncope-ext-flowable-client-enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserRequestsResource.java","status":"added","additions":130,"deletions":0,"changes":130,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestsResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestsResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestsResource.java?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,130 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import static org.apache.syncope.client.enduser.resources.BaseResource.LOG;\n+\n+import java.io.IOException;\n+import java.nio.charset.StandardCharsets;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.ws.rs.HttpMethod;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n+import org.apache.syncope.client.enduser.annotations.Resource;\n+import org.apache.syncope.common.lib.to.PagedResult;\n+import org.apache.syncope.common.lib.to.UserRequest;\n+import org.apache.syncope.common.rest.api.beans.UserRequestQuery;\n+import org.apache.syncope.common.rest.api.service.UserRequestService;\n+import org.apache.wicket.request.IRequestParameters;\n+import org.apache.wicket.request.resource.AbstractResource;\n+import org.apache.wicket.request.resource.IResource;\n+import org.apache.wicket.util.string.StringValue;\n+\n+@Resource(key = \"userRequests\", path = \"/api/flowable/userRequests\")\n+public class UserRequestsResource extends BaseResource {\n+\n+    private static final long serialVersionUID = 7273151109078469253L;\n+\n+    @Override\n+    protected ResourceResponse newResourceResponse(final IResource.Attributes attributes) {\n+\n+        ResourceResponse response = new AbstractResource.ResourceResponse();\n+        response.setContentType(MediaType.APPLICATION_JSON);\n+        StringValue username = StringValue.valueOf(SyncopeEnduserSession.get().getSelfTO().getUsername());\n+        try {\n+            HttpServletRequest request = (HttpServletRequest) attributes.getRequest().getContainerRequest();\n+            if (!xsrfCheck(request)) {\n+                LOG.error(\"XSRF TOKEN does not match\");\n+                response.setError(Response.Status.BAD_REQUEST.getStatusCode(), \"XSRF TOKEN does not match\");\n+                return response;\n+            }\n+\n+            IRequestParameters requestParameters = attributes.getRequest().getQueryParameters();\n+            switch (request.getMethod()) {\n+                case HttpMethod.DELETE:\n+                    StringValue executionId = requestParameters.getParameterValue(\"executionId\");\n+                    StringValue reason = requestParameters.getParameterValue(\"reason\");\n+                    LOG.debug(\"Cancel Flowable User Request with execution id [{}] for user [{}] with reason [{}]\",\n+                            executionId, SyncopeEnduserSession.get().getSelfTO().getUsername(), reason);\n+                    if (executionId.isEmpty()) {\n+                        throw new IllegalArgumentException(\"Empty executionId, please provide a value\");\n+                    }\n+                    SyncopeEnduserSession.get().getService(UserRequestService.class).cancel(executionId.toString(),\n+                            reason.toString());\n+                    response.setStatusCode(Response.Status.NO_CONTENT.getStatusCode());\n+                    response.setWriteCallback(new AbstractResource.WriteCallback() {\n+\n+                        @Override\n+                        public void writeData(final IResource.Attributes attributes) throws IOException {\n+                            // DO NOTHING\n+                        }\n+                    });\n+                    break;\n+\n+                case HttpMethod.GET:\n+                    StringValue page = requestParameters.getParameterValue(\"page\");\n+                    StringValue size = requestParameters.getParameterValue(\"size\");\n+                    LOG.debug(\"List available Flowable User Requests for user [{}]\", username);\n+                    final PagedResult<UserRequest> userRequests = SyncopeEnduserSession.get().\n+                            getService(UserRequestService.class).list(\n+                            new UserRequestQuery.Builder()\n+                                    .user(username.isEmpty()\n+                                            ? SyncopeEnduserSession.get().getSelfTO().getUsername()\n+                                            : username.toString())\n+                                    .page(page.isEmpty()\n+                                            ? 1\n+                                            : Integer.parseInt(\n+                                                    page.toString()))\n+                                    .size(size.isEmpty()\n+                                            ? 10\n+                                            : Integer.parseInt(\n+                                                    size.toString())).build());\n+                    response.setWriteCallback(new AbstractResource.WriteCallback() {\n+\n+                        @Override\n+                        public void writeData(final IResource.Attributes attributes) throws IOException {\n+                            attributes.getResponse().write(MAPPER.writeValueAsString(userRequests));\n+                        }\n+                    });\n+                    break;\n+                default:\n+                    LOG.error(\"Method [{}] not supported\", request.getMethod());\n+                    response.setError(Response.Status.BAD_REQUEST.getStatusCode(), new StringBuilder()\n+                            .append(\"ErrorMessage{{ \")\n+                            .append(\"Method not supported\")\n+                            .append(\" }}\")\n+                            .toString());\n+                    break;\n+            }\n+            response.setContentType(MediaType.APPLICATION_JSON);\n+            response.setTextEncoding(StandardCharsets.UTF_8.name());\n+            response.setStatusCode(Response.Status.OK.getStatusCode());\n+        } catch (Exception e) {\n+            LOG.error(\"Error retrieving user requests for [{}]\", username, e);\n+            response.setError(Response.Status.BAD_REQUEST.getStatusCode(), new StringBuilder()\n+                    .append(\"ErrorMessage{{ \")\n+                    .append(e.getMessage())\n+                    .append(\" }}\")\n+                    .toString());\n+        }\n+\n+        return response;\n+    }\n+}"},{"sha":"4c657684169e6c3b5bbb073f92ae2277a7a3942e","filename":"ext/flowable/syncope-ext-flowable-client-enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserRequestsStartResource.java","status":"added","additions":86,"deletions":0,"changes":86,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestsStartResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestsStartResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fsyncope-ext-flowable-client-enduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserRequestsStartResource.java?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -0,0 +1,86 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import static org.apache.syncope.client.enduser.resources.BaseResource.LOG;\n+\n+import java.io.IOException;\n+import java.nio.charset.StandardCharsets;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n+import org.apache.syncope.client.enduser.annotations.Resource;\n+import org.apache.syncope.common.rest.api.service.UserRequestService;\n+import org.apache.wicket.request.mapper.parameter.PageParameters;\n+import org.apache.wicket.request.resource.AbstractResource;\n+import org.apache.wicket.request.resource.IResource;\n+import org.apache.wicket.util.string.StringValue;\n+\n+@Resource(key = \"userRequests\", path = \"/api/flowable/userRequests/start/${bpmnProcess}\")\n+public class UserRequestsStartResource extends BaseResource {\n+\n+    private static final long serialVersionUID = 7273151109078469253L;\n+\n+    @Override\n+    protected ResourceResponse newResourceResponse(final IResource.Attributes attributes) {\n+        ResourceResponse response = new AbstractResource.ResourceResponse();\n+        response.setContentType(MediaType.APPLICATION_JSON);\n+        StringValue bpmnProcess = null;\n+        try {\n+            HttpServletRequest request = (HttpServletRequest) attributes.getRequest().getContainerRequest();\n+            if (!xsrfCheck(request)) {\n+                LOG.error(\"XSRF TOKEN does not match\");\n+                response.setError(Response.Status.BAD_REQUEST.getStatusCode(), \"XSRF TOKEN does not match\");\n+                return response;\n+            }\n+\n+            PageParameters parameters = attributes.getParameters();\n+            bpmnProcess = parameters.get(\"bpmnProcess\");\n+\n+            LOG.debug(\"Start Flowable User Request from process [{}] for user [{}]\",\n+                    bpmnProcess, SyncopeEnduserSession.get().getSelfTO().getUsername());\n+            if (bpmnProcess.isEmpty()) {\n+                throw new IllegalArgumentException(\"Empty bpmnProcess, please provide a value\");\n+            }\n+            SyncopeEnduserSession.get().getService(UserRequestService.class).start(bpmnProcess.toString(), null);\n+            response.setStatusCode(Response.Status.NO_CONTENT.getStatusCode());\n+            response.setWriteCallback(new AbstractResource.WriteCallback() {\n+\n+                @Override\n+                public void writeData(final IResource.Attributes attributes) throws IOException {\n+                    // DO NOTHING\n+                }\n+            });\n+\n+            response.setContentType(MediaType.APPLICATION_JSON);\n+            response.setTextEncoding(StandardCharsets.UTF_8.name());\n+            response.setStatusCode(Response.Status.OK.getStatusCode());\n+        } catch (Exception e) {\n+            LOG.error(\"Error starting user request from [{}]\", bpmnProcess, e);\n+            response.setError(Response.Status.BAD_REQUEST.getStatusCode(), new StringBuilder()\n+                    .append(\"ErrorMessage{{ \")\n+                    .append(e.getMessage())\n+                    .append(\" }}\")\n+                    .toString());\n+        }\n+\n+        return response;\n+    }\n+}"},{"sha":"48a721478305d9339976ab5a1571871fc1278e15","filename":"fit/enduser-reference/pom.xml","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/fit%2Fenduser-reference%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/fit%2Fenduser-reference%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fpom.xml?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -72,6 +72,12 @@ under the License.\n       <version>${project.version}</version>\n     </dependency>\n \n+    <dependency>\n+      <groupId>org.apache.syncope.ext.flowable</groupId>\n+      <artifactId>syncope-ext-flowable-client-enduser</artifactId>\n+      <version>${project.version}</version>\n+    </dependency>\n+\n     <dependency>\n       <groupId>org.slf4j</groupId>\n       <artifactId>slf4j-api</artifactId>"},{"sha":"72236107cec873f2ce2b873b9be400ffa62bd88e","filename":"fit/enduser-reference/src/main/resources/customTemplate.json","status":"modified","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -74,6 +74,9 @@\n               \"resources\": {\n                 \"url\": \"/resources\"\n               },\n+              \"userRequests\": {\n+                \"url\": \"/user-requests\"\n+              },\n               \"finish\": {\n                 \"url\": \"/finish\"\n               }"},{"sha":"12c7f3b16ebbc2751128f6ac86464f034e2feaf6","filename":"fit/enduser-reference/src/test/resources/customTemplate.json","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2FcustomTemplate.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ddd30f0128e5ac3f1834f21c2e3accacd3a900a5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2FcustomTemplate.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2FcustomTemplate.json?ref=ddd30f0128e5ac3f1834f21c2e3accacd3a900a5","patch":"@@ -74,6 +74,12 @@\n               \"resources\": {\n                 \"url\": \"/resources\"\n               },\n+              \"userRequests\": {\n+                \"url\": \"/user-requests\"\n+              },\n+              \"userRequestForms\": {\n+                \"url\": \"/user-request-forms\"\n+              },\n               \"finish\": {\n                 \"url\": \"/finish\"\n               }"}]}
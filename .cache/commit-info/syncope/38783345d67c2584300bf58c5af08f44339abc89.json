{"sha":"38783345d67c2584300bf58c5af08f44339abc89","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjM4NzgzMzQ1ZDY3YzI1ODQzMDBiZjU4YzVhZjA4ZjQ0MzM5YWJjODk=","commit":{"author":{"name":"Andrei Shakirin","email":"ashakirin@apache.org","date":"2013-01-30T16:10:20Z"},"committer":{"name":"Andrei Shakirin","email":"ashakirin@apache.org","date":"2013-01-30T16:10:20Z"},"message":"[SYNCOPE-231] Fixed and enabled Task.deal() test\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1440494 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"0725e699e5265b93aa7c891e03ef6348a5611766","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/0725e699e5265b93aa7c891e03ef6348a5611766"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/38783345d67c2584300bf58c5af08f44339abc89","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/38783345d67c2584300bf58c5af08f44339abc89","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/38783345d67c2584300bf58c5af08f44339abc89","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/38783345d67c2584300bf58c5af08f44339abc89/comments","author":{"login":"ashakirin-apache","id":77056600,"node_id":"MDQ6VXNlcjc3MDU2NjAw","avatar_url":"https://avatars.githubusercontent.com/u/77056600?v=4","gravatar_id":"","url":"https://api.github.com/users/ashakirin-apache","html_url":"https://github.com/ashakirin-apache","followers_url":"https://api.github.com/users/ashakirin-apache/followers","following_url":"https://api.github.com/users/ashakirin-apache/following{/other_user}","gists_url":"https://api.github.com/users/ashakirin-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/ashakirin-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashakirin-apache/subscriptions","organizations_url":"https://api.github.com/users/ashakirin-apache/orgs","repos_url":"https://api.github.com/users/ashakirin-apache/repos","events_url":"https://api.github.com/users/ashakirin-apache/events{/privacy}","received_events_url":"https://api.github.com/users/ashakirin-apache/received_events","type":"User","site_admin":false},"committer":{"login":"ashakirin-apache","id":77056600,"node_id":"MDQ6VXNlcjc3MDU2NjAw","avatar_url":"https://avatars.githubusercontent.com/u/77056600?v=4","gravatar_id":"","url":"https://api.github.com/users/ashakirin-apache","html_url":"https://github.com/ashakirin-apache","followers_url":"https://api.github.com/users/ashakirin-apache/followers","following_url":"https://api.github.com/users/ashakirin-apache/following{/other_user}","gists_url":"https://api.github.com/users/ashakirin-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/ashakirin-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashakirin-apache/subscriptions","organizations_url":"https://api.github.com/users/ashakirin-apache/orgs","repos_url":"https://api.github.com/users/ashakirin-apache/repos","events_url":"https://api.github.com/users/ashakirin-apache/events{/privacy}","received_events_url":"https://api.github.com/users/ashakirin-apache/received_events","type":"User","site_admin":false},"parents":[{"sha":"39c2d0ed9217f6b53ec25805ea9d39e8a634b628","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/39c2d0ed9217f6b53ec25805ea9d39e8a634b628","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/39c2d0ed9217f6b53ec25805ea9d39e8a634b628"}],"stats":{"total":19,"additions":13,"deletions":6},"files":[{"sha":"253bd40838a189aeac939b9b213ceff78a5cb953","filename":"client/src/main/java/org/apache/syncope/client/services/proxy/TaskServiceProxy.java","status":"modified","additions":13,"deletions":5,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/38783345d67c2584300bf58c5af08f44339abc89/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fservices%2Fproxy%2FTaskServiceProxy.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/38783345d67c2584300bf58c5af08f44339abc89/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fservices%2Fproxy%2FTaskServiceProxy.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fservices%2Fproxy%2FTaskServiceProxy.java?ref=38783345d67c2584300bf58c5af08f44339abc89","patch":"@@ -26,6 +26,7 @@\n import java.util.Set;\r\n \r\n import javax.ws.rs.core.Response;\r\n+import javax.xml.ws.WebServiceException;\r\n \r\n import org.apache.syncope.common.services.TaskService;\r\n import org.apache.syncope.common.to.JobClassTO;\r\n@@ -40,6 +41,8 @@\n import org.apache.syncope.common.types.TaskType;\r\n import org.apache.syncope.common.util.CollectionWrapper;\r\n import org.springframework.http.HttpMethod;\r\n+import org.springframework.http.client.ClientHttpRequest;\r\n+import org.springframework.http.client.ClientHttpResponse;\r\n import org.springframework.web.client.RestTemplate;\r\n \r\n @SuppressWarnings(\"unchecked\")\r\n@@ -70,12 +73,17 @@ public Response create(final TaskTO taskTO) {\n \r\n     @Override\r\n     public void delete(final Long taskId) {\r\n+        ClientHttpResponse response = null;\r\n         try {\r\n-            getRestTemplate().getRequestFactory()\r\n-                    .createRequest(URI.create(baseUrl + \"task/delete/\" + taskId), HttpMethod.GET).execute();\r\n+            ClientHttpRequest request = getRestTemplate().getRequestFactory().createRequest(\r\n+                    URI.create(baseUrl + \"task/delete/\" + taskId), HttpMethod.GET);\r\n+            response = request.execute();\r\n         } catch (IOException e) {\r\n-            // TODO log event\r\n-            e.printStackTrace();\r\n+            throw new WebServiceException(\"Cannot send request to delete task \" + taskId, e);\r\n+        } finally {\r\n+            if (response != null) {\r\n+                response.close();\r\n+            }\r\n         }\r\n     }\r\n \r\n@@ -170,7 +178,7 @@ public <T extends TaskTO> T read(final TaskType type, final Long taskId) {\n \r\n     @Override\r\n     public TaskExecTO readExecution(final Long executionId) {\r\n-        return getRestTemplate().getForObject(baseUrl + \"task/execution/read/{taskId}.json\", TaskExecTO.class,\r\n+        return getRestTemplate().getForObject(baseUrl + \"task/execution/read/{executionId}.json\", TaskExecTO.class,\r\n                 executionId);\r\n     }\r\n \r"},{"sha":"b4cb3ddc2414d398d4a098d816674765fc8d955f","filename":"core/src/test/java/org/apache/syncope/core/rest/TaskTestITCase.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/38783345d67c2584300bf58c5af08f44339abc89/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FTaskTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/38783345d67c2584300bf58c5af08f44339abc89/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FTaskTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FTaskTestITCase.java?ref=38783345d67c2584300bf58c5af08f44339abc89","patch":"@@ -202,7 +202,6 @@ public void readExecution() {\n     }\n \n     @Test\n-    @Ignore\n     public void deal() {\n         try {\n             taskService.delete(0L);"}]}
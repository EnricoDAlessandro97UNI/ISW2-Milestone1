{"sha":"e4f1f02375e55c48d48aec2e66689885a1c482ef","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmU0ZjFmMDIzNzVlNTVjNDhkNDhhZWMyZTY2Njg5ODg1YTFjNDgyZWY=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-09-08T11:47:31Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-09-08T11:47:43Z"},"message":"Adding REST headers to the reference guide","tree":{"sha":"13aa2896c7e44d5a5fda98d47d2df757dca6279c","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/13aa2896c7e44d5a5fda98d47d2df757dca6279c"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/e4f1f02375e55c48d48aec2e66689885a1c482ef","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e4f1f02375e55c48d48aec2e66689885a1c482ef","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/e4f1f02375e55c48d48aec2e66689885a1c482ef","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e4f1f02375e55c48d48aec2e66689885a1c482ef/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"10ed646583e9545c80a13590875e4d9e77d32082","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/10ed646583e9545c80a13590875e4d9e77d32082","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/10ed646583e9545c80a13590875e4d9e77d32082"}],"stats":{"total":66,"additions":66,"deletions":0},"files":[{"sha":"7c899898c3394fc51103ce9345504fbab9bb9ed3","filename":"src/main/asciidoc/reference-guide/workingwithapachesyncope/restfulservices.adoc","status":"modified","additions":66,"deletions":0,"changes":66,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e4f1f02375e55c48d48aec2e66689885a1c482ef/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Frestfulservices.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e4f1f02375e55c48d48aec2e66689885a1c482ef/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Frestfulservices.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Frestfulservices.adoc?ref=e4f1f02375e55c48d48aec2e66689885a1c482ef","patch":"@@ -44,6 +44,72 @@ where `protocol`, `host` and `port` reflect your Java EE container installation.\n [TIP]\n The <<swagger,Swagger extension>> might also help greatly when working with RESTful services.\n \n+==== REST Headers\n+\n+Besides the common HTTP headers as `Accept`, `Content-Type`, ... more are supported, as reported below.\n+\n+[TIP]\n+Dealing with the headers below when using the <<client-library>> is possible via the `SyncopeClient` class methods.\n+\n+===== X-Syncope-Domain\n+\n+`X-Syncope-Domain` can be optionally set for requests (when not set, `Master` is assumed) to select the target\n+<<domains,domain>>. +\n+Value for this header is provided in all responses.\n+\n+===== X-Syncope-Key and Location\n+\n+When creating an entity (User, Group, Schema, External Resource, ...) these two headers are populated respectively with\n+the entity key (which may be auto-generated) and the absolute URI identifying the new REST resource.\n+\n+===== X-Application-Error-Code and X-Application-Error-Info\n+\n+If the requested operation is in error, `X-Application-Error-Code` will contain the error code (mostly from\n+ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/common/lib/src/main/java/org/apache/syncope/common/lib/types/ClientExceptionType.java[ClientExceptionType^])\n+endif::[]\n+ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n+https://github.com/apache/syncope/blob/master/common/lib/src/main/java/org/apache/syncope/common/lib/types/ClientExceptionType.java[ClientExceptionType^])\n+endif::[]\n+and `X-Application-Error-Info` might be optionally populated with more details, if available.\n+\n+===== X-Syncope-Null-Priority-Async\n+\n+When set to `true`, this request header instructs the <<propagation,propagation process>> to not wait for completion\n+when communicating with <<external-resource-details,External Resources>> with no priority set.\n+\n+===== Prefer and Preference-Applied\n+\n+Some REST endpoints - typically for creating, updating or deleting Users, Groups or Any Objects - return by default the\n+entity in the response payload. +\n+If this is not required, the `Prefer` request header can be set to `return-no-content` (`return-content` will instead\n+keep the default behavior).\n+\n+When `Prefer` is specified in the request, the response will feature the `Preference-Applied` header, with value set\n+to the effective preference applied.\n+\n+[TIP]\n+Use `Prefer` in scenarios where it is important to avoid unnecessary data in the response payload.\n+\n+===== ETag, If-Match and If-None-Match\n+\n+For each response containing Users, Groups or Any Objects, the https://en.wikipedia.org/wiki/HTTP_ETag[ETag^] header is\n+generated, which contains the latest modification date.\n+\n+This value can be passed, during subsequent modifying requests for the same entity, via the `If-Match` or\n+`If-None-Match` headers. +\n+When the provided `If-Match` value does not match the latest modification date of the entity, an error is reported and\n+the requested operation is not performed.\n+\n+[TIP]\n+The combined usage of `ETag` and `If-Match` can be enforced to implement optimistic concurrency control over Users,\n+Groups and Any Objects operations.\n+\n+===== X-Syncope-Entitlements\n+\n+When invoking the REST endpoint `/users/self` in `GET`, the `X-Syncope-Entitlements` response header will list all\n+the <<entitlements,entitlements>> owned by the requesting user.\n+\n ==== Client Library\n \n The Java client library simplifies the interaction with the <<core>> by hiding the underlying HTTP"}]}
{"sha":"13f9e9b9b34659ef36ce3631b7e26073e72125e1","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjEzZjllOWI5YjM0NjU5ZWYzNmNlMzYzMWI3ZTI2MDczZTcyMTI1ZTE=","commit":{"author":{"name":"Matteo Alessandroni","email":"matteo.alessandroni@tirasa.net","date":"2017-07-12T07:20:42Z"},"committer":{"name":"Francesco Chicchiricc√≤","email":"ilgrosso@apache.org","date":"2017-07-13T08:10:41Z"},"message":"Keep resource provision list order after editing for SYNCOPE-1154 - This closes #53","tree":{"sha":"9bb523e9995719e43d0ce5ef6ea762062b8ec613","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/9bb523e9995719e43d0ce5ef6ea762062b8ec613"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/13f9e9b9b34659ef36ce3631b7e26073e72125e1","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/13f9e9b9b34659ef36ce3631b7e26073e72125e1","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/13f9e9b9b34659ef36ce3631b7e26073e72125e1","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/13f9e9b9b34659ef36ce3631b7e26073e72125e1/comments","author":{"login":"mat-ale","id":25547301,"node_id":"MDQ6VXNlcjI1NTQ3MzAx","avatar_url":"https://avatars.githubusercontent.com/u/25547301?v=4","gravatar_id":"","url":"https://api.github.com/users/mat-ale","html_url":"https://github.com/mat-ale","followers_url":"https://api.github.com/users/mat-ale/followers","following_url":"https://api.github.com/users/mat-ale/following{/other_user}","gists_url":"https://api.github.com/users/mat-ale/gists{/gist_id}","starred_url":"https://api.github.com/users/mat-ale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mat-ale/subscriptions","organizations_url":"https://api.github.com/users/mat-ale/orgs","repos_url":"https://api.github.com/users/mat-ale/repos","events_url":"https://api.github.com/users/mat-ale/events{/privacy}","received_events_url":"https://api.github.com/users/mat-ale/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"bd6f46e9df674fe02721687d8ae810f040e850bc","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bd6f46e9df674fe02721687d8ae810f040e850bc","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/bd6f46e9df674fe02721687d8ae810f040e850bc"}],"stats":{"total":29,"additions":24,"deletions":5},"files":[{"sha":"86d27c1f87029bcfcdc0e482b62050ae568f1864","filename":"client/console/src/main/java/org/apache/syncope/client/console/rest/AnyTypeRestClient.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/13f9e9b9b34659ef36ce3631b7e26073e72125e1/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FAnyTypeRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/13f9e9b9b34659ef36ce3631b7e26073e72125e1/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FAnyTypeRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FAnyTypeRestClient.java?ref=13f9e9b9b34659ef36ce3631b7e26073e72125e1","patch":"@@ -75,7 +75,7 @@ public void delete(final String key) {\n         getService(AnyTypeService.class).delete(key);\n     }\n \n-    private static class AnyTypeComparator implements Comparator<AnyTypeTO>, Serializable {\n+    public static class AnyTypeComparator implements Comparator<AnyTypeTO>, Serializable {\n \n         private static final long serialVersionUID = -8227715253094467138L;\n \n@@ -97,7 +97,7 @@ public int compare(final AnyTypeTO o1, final AnyTypeTO o2) {\n         }\n     }\n \n-    private static class AnyTypeKeyComparator implements Comparator<String>, Serializable {\n+    public static class AnyTypeKeyComparator implements Comparator<String>, Serializable {\n \n         private static final long serialVersionUID = -7778622183107320760L;\n "},{"sha":"33e254a04433a2b69b335c0e69b7b4e1ac717786","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/resources/ResourceProvisionPanel.java","status":"modified","additions":22,"deletions":3,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/13f9e9b9b34659ef36ce3631b7e26073e72125e1/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceProvisionPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/13f9e9b9b34659ef36ce3631b7e26073e72125e1/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceProvisionPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceProvisionPanel.java?ref=13f9e9b9b34659ef36ce3631b7e26073e72125e1","patch":"@@ -21,6 +21,8 @@\n import java.io.Serializable;\n import java.util.ArrayList;\n import java.util.Collection;\n+import java.util.Collections;\n+import java.util.Comparator;\n import java.util.List;\n import org.apache.commons.collections4.IterableUtils;\n import org.apache.commons.collections4.IteratorUtils;\n@@ -33,6 +35,7 @@\n import org.apache.syncope.client.console.panels.AbstractModalPanel;\n import org.apache.syncope.client.console.panels.ListViewPanel;\n import org.apache.syncope.client.console.panels.ListViewPanel.ListViewReload;\n+import org.apache.syncope.client.console.rest.AnyTypeRestClient;\n import org.apache.syncope.client.console.rest.ConnectorRestClient;\n import org.apache.syncope.client.console.rest.ResourceRestClient;\n import org.apache.syncope.client.console.wicket.ajax.form.IndicatorAjaxFormComponentUpdatingBehavior;\n@@ -193,7 +196,7 @@ public boolean evaluate(final ProvisionTO in) {\n \n             @Override\n             protected void customActionCallback(final AjaxRequestTarget target) {\n-                // change modal foter visibility\n+                // change modal footer visibility\n                 send(ResourceProvisionPanel.this, Broadcast.BUBBLE, new BaseModal.ChangeFooterVisibilityEvent(target));\n             }\n \n@@ -202,7 +205,7 @@ protected void customActionOnCancelCallback(final AjaxRequestTarget target) {\n                 ResourceProvisionPanel.this.aboutRealmProvison.setVisible(true);\n                 target.add(ResourceProvisionPanel.this.aboutRealmProvison);\n \n-                // change modal foter visibility\n+                // change modal footer visibility\n                 send(ResourceProvisionPanel.this, Broadcast.BUBBLE, new BaseModal.ChangeFooterVisibilityEvent(target));\n             }\n \n@@ -211,11 +214,17 @@ protected void customActionOnFinishCallback(final AjaxRequestTarget target) {\n                 ResourceProvisionPanel.this.aboutRealmProvison.setVisible(true);\n                 target.add(ResourceProvisionPanel.this.aboutRealmProvison);\n \n-                // change modal foter visibility\n+                // keep list ordered - SYNCOPE-1154\n+                sortProvisionList();\n+\n+                // change modal footer visibility\n                 send(ResourceProvisionPanel.this, Broadcast.BUBBLE, new BaseModal.ChangeFooterVisibilityEvent(target));\n             }\n         };\n \n+        // keep list ordered - SYNCOPE-1154\n+        sortProvisionList();\n+\n         builder.setItems(resourceTO.getProvisions());\n         builder.includes(\"anyType\", \"objectClass\", \"auxClasses\");\n         builder.setReuseItem(false);\n@@ -349,6 +358,16 @@ public boolean evaluate(final MappingItemTO item) {\n         ((BasePage) pageRef.getPage()).getNotificationPanel().refresh(target);\n     }\n \n+    private void sortProvisionList() {\n+        Collections.sort(resourceTO.getProvisions(), new Comparator<ProvisionTO>() {\n+\n+            @Override\n+            public int compare(final ProvisionTO o1, final ProvisionTO o2) {\n+                return new AnyTypeRestClient.AnyTypeKeyComparator().compare(o1.getAnyType(), o2.getAnyType());\n+            }\n+        });\n+    }\n+\n     @Override\n     public void onEvent(final IEvent<?> event) {\n         if (event.getPayload() instanceof AjaxWizard.NewItemActionEvent) {"}]}
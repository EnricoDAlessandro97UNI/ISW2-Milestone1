{"sha":"0377b6b1c39fae4878ed2b77e19d290fe62797da","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjAzNzdiNmIxYzM5ZmFlNDg3OGVkMmI3N2UxOWQyOTBmZTYyNzk3ZGE=","commit":{"author":{"name":"fmartelli","email":"fabio.martelli@gmail.com","date":"2018-12-10T14:38:49Z"},"committer":{"name":"fmartelli","email":"fabio.martelli@gmail.com","date":"2018-12-10T14:40:17Z"},"message":"[SYNCOPE-1411] fixes merge from 2_0_X","tree":{"sha":"5c9c2407935f8d4a50bcf4eb789bd631f30cba6f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/5c9c2407935f8d4a50bcf4eb789bd631f30cba6f"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/0377b6b1c39fae4878ed2b77e19d290fe62797da","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/0377b6b1c39fae4878ed2b77e19d290fe62797da","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/0377b6b1c39fae4878ed2b77e19d290fe62797da","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/0377b6b1c39fae4878ed2b77e19d290fe62797da/comments","author":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"committer":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"1f4686455d7ca6d973d9f898f6c86ee1d0ae73ff","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1f4686455d7ca6d973d9f898f6c86ee1d0ae73ff","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/1f4686455d7ca6d973d9f898f6c86ee1d0ae73ff"}],"stats":{"total":12,"additions":1,"deletions":11},"files":[{"sha":"a6e3f176d1a0c94e3f0e939563164cb8651376a1","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/data/AnyObjectDataBinderImpl.java","status":"modified","additions":0,"deletions":6,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/0377b6b1c39fae4878ed2b77e19d290fe62797da/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FAnyObjectDataBinderImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/0377b6b1c39fae4878ed2b77e19d290fe62797da/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FAnyObjectDataBinderImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FAnyObjectDataBinderImpl.java?ref=0377b6b1c39fae4878ed2b77e19d290fe62797da","patch":"@@ -54,7 +54,6 @@\n import org.apache.syncope.core.persistence.api.entity.group.Group;\n import org.apache.syncope.core.persistence.api.entity.resource.ExternalResource;\n import org.apache.syncope.core.provisioning.api.data.AnyObjectDataBinder;\n-import org.apache.syncope.core.provisioning.api.utils.EntityUtils;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.stereotype.Component;\n import org.springframework.transaction.annotation.Transactional;\n@@ -342,17 +341,12 @@ public PropagationByResource update(final AnyObject toBeUpdated, final AnyObject\n             anyObject.getMembership(membPatch.getGroup()).ifPresent(membership -> {\n                 anyObject.remove(membership);\n                 membership.setLeftEnd(null);\n-                Set<String> membAttrKeys = new HashSet<>();\n                 anyObject.getPlainAttrs(membership).forEach(attr -> {\n                     anyObject.remove(attr);\n                     attr.setOwner(null);\n                     attr.setMembership(null);\n-                    membAttrKeys.add(attr.getKey());\n                     plainAttrValueDAO.deleteAll(attr, anyUtils);\n                 });\n-                membAttrKeys.forEach(attrKey -> {\n-                    plainAttrDAO.delete(attrKey, anyUtils.plainAttrClass());\n-                });\n \n                 if (membPatch.getOperation() == PatchOperation.DELETE) {\n                     groupDAO.findAllResourceKeys(membership.getRightEnd().getKey()).stream()."},{"sha":"c31bbbb108ec1ed345e9ed11299420bf7bedb630","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/data/UserDataBinderImpl.java","status":"modified","additions":1,"deletions":5,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/0377b6b1c39fae4878ed2b77e19d290fe62797da/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FUserDataBinderImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/0377b6b1c39fae4878ed2b77e19d290fe62797da/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FUserDataBinderImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FUserDataBinderImpl.java?ref=0377b6b1c39fae4878ed2b77e19d290fe62797da","patch":"@@ -414,16 +414,12 @@ public PropagationByResource update(final User toBeUpdated, final UserUR userUR)\n             user.getMembership(membPatch.getGroup()).ifPresent(membership -> {\n                 user.remove(membership);\n                 membership.setLeftEnd(null);\n-                Set<String> membAttrKeys = new HashSet<>();\n                 user.getPlainAttrs(membership).forEach(attr -> {\n                     user.remove(attr);\n                     attr.setOwner(null);\n                     attr.setMembership(null);\n-                    membAttrKeys.add(attr.getKey());\n                     plainAttrValueDAO.deleteAll(attr, anyUtils);\n-                });\n-                membAttrKeys.forEach(attrKey -> {\n-                    plainAttrDAO.delete(attrKey, anyUtils.plainAttrClass());\n+                    plainAttrDAO.delete(attr);\n                 });\n                 \n                 if (membPatch.getOperation() == PatchOperation.DELETE) {"}]}
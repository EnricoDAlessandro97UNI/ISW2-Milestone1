{"sha":"5b00c8c8cd59df96ac34f3a7495b9b396891a1cc","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjViMDBjOGM4Y2Q1OWRmOTZhYzM0ZjNhNzQ5NWI5YjM5Njg5MWExY2M=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-12-30T11:58:12Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-12-30T11:58:25Z"},"message":"[SYNCOPE-987] Fixing Enduser IT","tree":{"sha":"49a5fc7f7428addd1655a191986f7635d0f88b35","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/49a5fc7f7428addd1655a191986f7635d0f88b35"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/5b00c8c8cd59df96ac34f3a7495b9b396891a1cc","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5b00c8c8cd59df96ac34f3a7495b9b396891a1cc","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/5b00c8c8cd59df96ac34f3a7495b9b396891a1cc","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5b00c8c8cd59df96ac34f3a7495b9b396891a1cc/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"c615370e1351e5c07da87d8dfe510ff4e1fb8609","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c615370e1351e5c07da87d8dfe510ff4e1fb8609","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c615370e1351e5c07da87d8dfe510ff4e1fb8609"}],"stats":{"total":49,"additions":33,"deletions":16},"files":[{"sha":"8f929856b3364a36ba87b3e92ffa6fa3efe170f9","filename":"fit/enduser-reference/pom.xml","status":"modified","additions":32,"deletions":15,"changes":47,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5b00c8c8cd59df96ac34f3a7495b9b396891a1cc/fit%2Fenduser-reference%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5b00c8c8cd59df96ac34f3a7495b9b396891a1cc/fit%2Fenduser-reference%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fpom.xml?ref=5b00c8c8cd59df96ac34f3a7495b9b396891a1cc","patch":"@@ -36,6 +36,8 @@ under the License.\n   <properties>\n     <rootpom.basedir>${basedir}/../..</rootpom.basedir>\n     <enduser-test.dir>${project.build.directory}/enduser-test</enduser-test.dir>\n+    <protractor.cmd>${enduser-test.dir}/nodejs/bin/protractor</protractor.cmd>\n+    <webdriver-manager.cmd>${enduser-test.dir}/nodejs/bin/webdriver-manager</webdriver-manager.cmd>\n   </properties>\n \n   <dependencies>\n@@ -135,18 +137,19 @@ under the License.\n         <artifactId>phantomjs-maven-plugin</artifactId>\n         <configuration>\n           <version>${phantomjs.version}</version>\n-          <checkSystemPath>false</checkSystemPath>          \n+          <checkSystemPath>false</checkSystemPath>\n           <skip>${skipTests}</skip>\n-        </configuration> \n+        </configuration>\n         <executions>\n           <execution>\n+            <id>install-phantomjs</id>\n             <goals>\n               <goal>install</goal>\n             </goals>\n           </execution>\n         </executions>\n       </plugin>\n-           \n+\n       <plugin>\n         <groupId>org.apache.maven.plugins</groupId>\n         <artifactId>maven-antrun-plugin</artifactId>\n@@ -156,13 +159,14 @@ under the License.\n             <id>setup-enduser-it</id>\n             <phase>pre-integration-test</phase>\n             <configuration>\n-              <target>               \n-                <mkdir dir=\"${enduser-test.dir}\" />\n+              <target>\n+                <mkdir dir=\"${enduser-test.dir}\"/>\n                 <copy todir=\"${enduser-test.dir}\" overwrite=\"true\">\n-                  <fileset dir=\"${basedir}/src/test/resources/org/apache/syncope/client/enduser/protractor/\" includes=\"**/*\" />                  \n+                  <file name=\"${project.build.directory}/test-classes/protractor-conf.js\"/>\n+                  <fileset dir=\"${project.build.directory}/test-classes\" includes=\"tests/**\"/>\n                 </copy>\n-                <replace file=\"${enduser-test.dir}/protractor-conf.js\" token=\"@phantomjs.binary.path@\" value=\"${phantomjs.binary}\" />\n-                <delete file=\"${basedir}/../core-reference/target/syncope-fit-core-reference-${project.version}/WEB-INF/classes/userWorkflow.bpmn20.xml\" />\n+\n+                <delete file=\"${basedir}/../core-reference/target/syncope-fit-core-reference-${project.version}/WEB-INF/classes/userWorkflow.bpmn20.xml\"/>\n               </target>\n               <skip>${skipTests}</skip>\n             </configuration>\n@@ -172,7 +176,7 @@ under the License.\n           </execution>\n         </executions>\n       </plugin>     \n-                                                                        \n+\n       <plugin>\n         <groupId>com.github.eirslett</groupId>\n         <artifactId>frontend-maven-plugin</artifactId>\n@@ -182,7 +186,7 @@ under the License.\n         </configuration>\n         <executions>\n           <execution>\n-            <id>install node and npm</id>\n+            <id>install-node-npm</id>\n             <phase>pre-integration-test</phase>            \n             <goals>\n               <goal>install-node-and-npm</goal>\n@@ -204,7 +208,7 @@ under the License.\n         </configuration>\n         <executions>\n           <execution>            \n-            <id>Install Protractor</id>\n+            <id>install-protractor</id>\n             <phase>pre-integration-test</phase>\n             <goals>\n               <goal>exec</goal>\n@@ -221,7 +225,7 @@ under the License.\n             </configuration>\n           </execution>\n           <execution>            \n-            <id>Install Agent</id>\n+            <id>update-protractor-webdriver-manager</id>\n             <phase>pre-integration-test</phase>\n             <goals>\n               <goal>exec</goal>\n@@ -230,21 +234,21 @@ under the License.\n               <workingDirectory>${enduser-test.dir}/nodejs/lib</workingDirectory>\n               <executable>${enduser-test.dir}/nodejs/node/node</executable>\n               <arguments>\n-                <argument>node_modules/protractor/bin/webdriver-manager</argument>\n+                <argument>${webdriver-manager.cmd}</argument>\n                 <argument>update</argument>                             \n               </arguments>\n             </configuration>\n           </execution>\n           <execution>            \n-            <id>Execute Tests</id>\n+            <id>exec-protractor</id>\n             <phase>integration-test</phase>\n             <goals>\n               <goal>exec</goal>\n             </goals>\n             <configuration>\n               <executable>${enduser-test.dir}/nodejs/node/node</executable>\n               <arguments>\n-                <argument>${enduser-test.dir}/nodejs/bin/protractor</argument>\n+                <argument>${protractor.cmd}</argument>\n                 <argument>${enduser-test.dir}/protractor-conf.js</argument>                             \n               </arguments>\n             </configuration>\n@@ -380,6 +384,19 @@ under the License.\n   </build>\n   \n   <profiles>\n+    <profile>\n+      <id>windows-it</id>\n+\n+      <activation>\n+        <os><family>Windows</family></os>\n+      </activation>\n+\n+      <properties>\n+\t<protractor.cmd>${enduser-test.dir}/nodejs/node/node_modules/protractor/bin/protractor</protractor.cmd>\n+\t<webdriver-manager.cmd>${enduser-test.dir}/nodejs/node/node_modules/protractor/bin/webdriver-manager</webdriver-manager.cmd>\n+      </properties>\n+    </profile>\n+\n     <profile>\n       <id>debug</id>\n "},{"sha":"efc31f96efa15ed75adb0500e68472cd2b6aef6e","filename":"fit/enduser-reference/src/test/resources/protractor-conf.js","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5b00c8c8cd59df96ac34f3a7495b9b396891a1cc/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fprotractor-conf.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5b00c8c8cd59df96ac34f3a7495b9b396891a1cc/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fprotractor-conf.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fprotractor-conf.js?ref=5b00c8c8cd59df96ac34f3a7495b9b396891a1cc","patch":"@@ -20,7 +20,7 @@ exports.config = {\n   directConnect: false,\n   capabilities: {\n     'browserName': 'phantomjs',\n-    'phantomjs.binary.path': '@phantomjs.binary.path@',\n+    'phantomjs.binary.path': '${phantomjs.binary}',\n     'phantomjs.ghostdriver.cli.args': ['--loglevel=DEBUG']\n   },\n   ","previous_filename":"fit/enduser-reference/src/test/resources/org/apache/syncope/client/enduser/protractor/protractor-conf.js"},{"sha":"1f1b2ecadb6f6bbbb1f754abf505619c59091012","filename":"fit/enduser-reference/src/test/resources/tests/abstract.js","status":"renamed","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5b00c8c8cd59df96ac34f3a7495b9b396891a1cc/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fabstract.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5b00c8c8cd59df96ac34f3a7495b9b396891a1cc/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fabstract.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fabstract.js?ref=5b00c8c8cd59df96ac34f3a7495b9b396891a1cc","previous_filename":"fit/enduser-reference/src/test/resources/org/apache/syncope/client/enduser/protractor/tests/abstract.js"},{"sha":"0da74b4c4628ae983030cd60ddddc3d3e3a6707c","filename":"fit/enduser-reference/src/test/resources/tests/create.js","status":"renamed","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5b00c8c8cd59df96ac34f3a7495b9b396891a1cc/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fcreate.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5b00c8c8cd59df96ac34f3a7495b9b396891a1cc/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fcreate.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fcreate.js?ref=5b00c8c8cd59df96ac34f3a7495b9b396891a1cc","previous_filename":"fit/enduser-reference/src/test/resources/org/apache/syncope/client/enduser/protractor/tests/create.js"},{"sha":"9c49f44cbb0a4b36cebdb74ae5e7137a24a69b5e","filename":"fit/enduser-reference/src/test/resources/tests/edit.js","status":"renamed","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5b00c8c8cd59df96ac34f3a7495b9b396891a1cc/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fedit.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5b00c8c8cd59df96ac34f3a7495b9b396891a1cc/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fedit.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fedit.js?ref=5b00c8c8cd59df96ac34f3a7495b9b396891a1cc","previous_filename":"fit/enduser-reference/src/test/resources/org/apache/syncope/client/enduser/protractor/tests/edit.js"},{"sha":"0ceaf024527488e8d296d464b83df4e8033bd090","filename":"fit/enduser-reference/src/test/resources/tests/passwordreset.js","status":"renamed","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5b00c8c8cd59df96ac34f3a7495b9b396891a1cc/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fpasswordreset.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5b00c8c8cd59df96ac34f3a7495b9b396891a1cc/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fpasswordreset.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fpasswordreset.js?ref=5b00c8c8cd59df96ac34f3a7495b9b396891a1cc","previous_filename":"fit/enduser-reference/src/test/resources/org/apache/syncope/client/enduser/protractor/tests/passwordreset.js"}]}
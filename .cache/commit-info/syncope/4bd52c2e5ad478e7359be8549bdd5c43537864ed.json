{"sha":"4bd52c2e5ad478e7359be8549bdd5c43537864ed","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjRiZDUyYzJlNWFkNDc4ZTczNTliZTg1NDliZGQ1YzQzNTM3ODY0ZWQ=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-02-18T09:19:25Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-02-18T09:19:25Z"},"message":"[SYNCOPE-315] Merge from 1_0_X\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1447162 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"6a8b9e016246dc4ea507f08a46e8f158330daf3d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/6a8b9e016246dc4ea507f08a46e8f158330daf3d"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/4bd52c2e5ad478e7359be8549bdd5c43537864ed","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/4bd52c2e5ad478e7359be8549bdd5c43537864ed","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/4bd52c2e5ad478e7359be8549bdd5c43537864ed","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/4bd52c2e5ad478e7359be8549bdd5c43537864ed/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"c004645f3b104de218511e8b10ee7e542607e932","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c004645f3b104de218511e8b10ee7e542607e932","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c004645f3b104de218511e8b10ee7e542607e932"}],"stats":{"total":1238,"additions":664,"deletions":574},"files":[{"sha":"bc08bf215a18bf039c4e5a65ee5ab8ee2870bad7","filename":"console/src/main/java/org/apache/syncope/console/pages/AbstractSchedTaskModalPage.java","status":"modified","additions":9,"deletions":14,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FAbstractSchedTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FAbstractSchedTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FAbstractSchedTaskModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -23,11 +23,12 @@\n import org.apache.syncope.common.validation.SyncopeClientCompositeErrorException;\n import org.apache.syncope.console.commons.DateFormatROModel;\n import org.apache.syncope.console.markup.html.CrontabContainer;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.form.Form;\n import org.apache.wicket.model.PropertyModel;\n@@ -44,9 +45,9 @@ public abstract class AbstractSchedTaskModalPage extends TaskModalPage {\n     protected CrontabContainer crontab;\n \n     public AbstractSchedTaskModalPage(final ModalWindow window, final SchedTaskTO taskTO,\n-            final PageReference callerPageRef) {\n+            final PageReference pageRef) {\n \n-        super(taskTO);\n+        super(taskTO, pageRef);\n \n         crontab = new CrontabContainer(\"crontab\", new PropertyModel<String>(taskTO, \"cronExpression\"),\n                 taskTO.getCronExpression());\n@@ -72,13 +73,12 @@ public AbstractSchedTaskModalPage(final ModalWindow window, final SchedTaskTO ta\n         nextExec.setEnabled(false);\n         profile.add(nextExec);\n \n-        final IndicatingAjaxButton submit = new IndicatingAjaxButton(\"apply\", new ResourceModel(\"apply\")) {\n+        final AjaxButton submit = new ClearIndicatingAjaxButton(\"apply\", new ResourceModel(\"apply\"), pageRef) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 SchedTaskTO taskTO = (SchedTaskTO) form.getModelObject();\n                 taskTO.setCronExpression(!StringUtils.hasText(taskTO.getCronExpression())\n                         ? null\n@@ -99,7 +99,7 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n                         }\n                     }\n \n-                    ((BasePage) callerPageRef.getPage()).setModalResult(true);\n+                    ((BasePage) pageRef.getPage()).setModalResult(true);\n \n                     window.close(target);\n                 } catch (SyncopeClientCompositeErrorException e) {\n@@ -111,23 +111,18 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n \n             @Override\n             protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-\n                 target.add(feedbackPanel);\n             }\n         };\n \n-        final IndicatingAjaxButton cancel = new IndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\")) {\n+        final AjaxButton cancel = new ClearIndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\"), pageRef) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 window.close(target);\n             }\n-\n-            @Override\n-            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-            }\n         };\n \n         cancel.setDefaultFormProcessing(false);"},{"sha":"66d813b50344e52db008bbe638f607ce0043e3d6","filename":"console/src/main/java/org/apache/syncope/console/pages/ApprovalModalPage.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FApprovalModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FApprovalModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FApprovalModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -72,7 +72,7 @@ public class ApprovalModalPage extends BaseModalPage {\n \n     private final ModalWindow editUserWin;\n \n-    public ApprovalModalPage(final PageReference callerPageRef, final ModalWindow window, final WorkflowFormTO formTO) {\n+    public ApprovalModalPage(final PageReference pageRef, final ModalWindow window, final WorkflowFormTO formTO) {\n         super();\n \n         IModel<List<WorkflowFormPropertyTO>> formProps = new LoadableDetachableModel<List<WorkflowFormPropertyTO>>() {\n@@ -227,7 +227,7 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n                 try {\n                     restClient.submitForm(formTO);\n \n-                    ((Todo) callerPageRef.getPage()).setModalResult(true);\n+                    ((Todo) pageRef.getPage()).setModalResult(true);\n                     window.close(target);\n                 } catch (SyncopeClientCompositeErrorException e) {\n                     error(getString(\"error\") + \":\" + e.getMessage());"},{"sha":"47d829fe195e389cc13b2461f5329a9c3ec8f84f","filename":"console/src/main/java/org/apache/syncope/console/pages/BaseModalPage.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -29,7 +29,7 @@ public abstract class BaseModalPage extends AbstractBasePage {\n \n     public BaseModalPage() {\n         super();\n-        \n+\n         add(new CloseOnESCBehavior(\"keyup\"));\n     }\n }"},{"sha":"144dc13ccf2f68ab9398d03fcf9419d0b62644c5","filename":"console/src/main/java/org/apache/syncope/console/pages/Configuration.java","status":"modified","additions":25,"deletions":25,"changes":50,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -42,14 +42,15 @@\n import org.apache.syncope.console.rest.LoggerRestClient;\n import org.apache.syncope.console.rest.NotificationRestClient;\n import org.apache.syncope.console.rest.WorkflowRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLinksPanel;\n import org.apache.wicket.Page;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n+import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n@@ -135,9 +136,9 @@ public Configuration(final PageParameters parameters) {\n         add(editConfigWin = new ModalWindow(\"editConfigurationWin\"));\n         setupSyncopeConf();\n \n-        add(new PoliciesPanel(\"passwordPoliciesPanel\", PolicyType.PASSWORD));\n-        add(new PoliciesPanel(\"accountPoliciesPanel\", PolicyType.ACCOUNT));\n-        add(new PoliciesPanel(\"syncPoliciesPanel\", PolicyType.SYNC));\n+        add(new PoliciesPanel(\"passwordPoliciesPanel\", getPageReference(), PolicyType.PASSWORD));\n+        add(new PoliciesPanel(\"accountPoliciesPanel\", getPageReference(), PolicyType.ACCOUNT));\n+        add(new PoliciesPanel(\"syncPoliciesPanel\", getPageReference(), PolicyType.SYNC));\n \n         add(createNotificationWin = new ModalWindow(\"createNotificationWin\"));\n         add(editNotificationWin = new ModalWindow(\"editNotificationWin\"));\n@@ -154,28 +155,27 @@ public Configuration(final PageParameters parameters) {\n                 new PropertyModel<WorkflowDefinitionTO>(workflowDef, \"xmlDefinition\"));\n         wfForm.add(workflowDefArea);\n \n-        IndicatingAjaxButton submit = new IndicatingAjaxButton(\"apply\", new Model<String>(getString(\"submit\"))) {\n+        AjaxButton submit =\n+                new ClearIndicatingAjaxButton(\"apply\", new Model<String>(getString(\"submit\")), getPageReference()) {\n \n-            private static final long serialVersionUID = -958724007591692537L;\n+                    private static final long serialVersionUID = -958724007591692537L;\n \n-            @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-\n-                try {\n-                    wfRestClient.updateDefinition(workflowDef);\n-                    info(getString(\"operation_succeeded\"));\n-                } catch (SyncopeClientCompositeErrorException scee) {\n-                    error(getString(\"error\") + \":\" + scee.getMessage());\n-                }\n-                target.add(feedbackPanel);\n-            }\n-\n-            @Override\n-            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n+                    @Override\n+                    protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n+                        try {\n+                            wfRestClient.updateDefinition(workflowDef);\n+                            info(getString(\"operation_succeeded\"));\n+                        } catch (SyncopeClientCompositeErrorException scee) {\n+                            error(getString(\"error\") + \":\" + scee.getMessage());\n+                        }\n+                        target.add(feedbackPanel);\n+                    }\n \n-                target.add(feedbackPanel);\n-            }\n-        };\n+                    @Override\n+                    protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n+                        target.add(feedbackPanel);\n+                    }\n+                };\n \n         MetaDataRoleAuthorizationStrategy.authorize(submit, ENABLE, xmlRolesReader.getAllAllowedRoles(\"Configuration\",\n                 \"workflowDefUpdate\"));\n@@ -233,7 +233,7 @@ public void populateItem(final Item<ICellPopulator<ConfigurationTO>> cellItem, f\n \n                 final ConfigurationTO configurationTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -402,7 +402,7 @@ public void populateItem(final Item<ICellPopulator<NotificationTO>> cellItem, fi\n \n                 final NotificationTO notificationTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n "},{"sha":"f527d7c873809d9d7e9a8ee18b831ade6299c1e4","filename":"console/src/main/java/org/apache/syncope/console/pages/ConfigurationModalPage.java","status":"modified","additions":5,"deletions":3,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfigurationModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfigurationModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfigurationModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -50,12 +50,12 @@ public class ConfigurationModalPage extends BaseModalPage {\n     /**\n      * ConfigurationModalPage constructor.\n      *\n-     * @param callPageRef base\n+     * @param pageRef base\n      * @param window\n      * @param configurationTO\n      * @param createFlag true for CREATE and false for UPDATE operation\n      */\n-    public ConfigurationModalPage(final PageReference callPageRef, final ModalWindow window,\n+    public ConfigurationModalPage(final PageReference pageRef, final ModalWindow window,\n             final ConfigurationTO configurationTO, final boolean createFlag) {\n \n         Form form = new Form(\"form\", new CompoundPropertyModel(configurationTO));\n@@ -70,6 +70,7 @@ public ConfigurationModalPage(final PageReference callPageRef, final ModalWindow\n         form.add(value);\n \n         submit = new IndicatingAjaxButton(\"apply\", new Model<String>(getString(\"submit\"))) {\n+\n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n@@ -81,7 +82,7 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n                         configurationsRestClient.updateConfiguration(configurationTO);\n                     }\n \n-                    Configuration callerPage = (Configuration) callPageRef.getPage();\n+                    Configuration callerPage = (Configuration) pageRef.getPage();\n                     callerPage.setModalResult(true);\n \n                     window.close(target);\n@@ -103,6 +104,7 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n         };\n \n         final IndicatingAjaxButton cancel = new IndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\")) {\n+\n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override"},{"sha":"cd8aad37920186adbc839ddcaa3ada284495b411","filename":"console/src/main/java/org/apache/syncope/console/pages/ConnectorModalPage.java","status":"modified","additions":3,"deletions":5,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -96,9 +96,7 @@ public class ConnectorModalPage extends BaseModalPage {\n \n     private List<ConnConfProperty> properties;\n \n-    public ConnectorModalPage(final PageReference callerPageRef, final ModalWindow window,\n-            final ConnInstanceTO connectorTO) {\n-\n+    public ConnectorModalPage(final PageReference pageRef, final ModalWindow window, final ConnInstanceTO connectorTO) {\n         super();\n \n         selectedCapabilities = new ArrayList<ConnectorCapability>(connectorTO.getId() == 0\n@@ -355,12 +353,12 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n                         restClient.update(conn);\n                     }\n \n-                    ((Resources) callerPageRef.getPage()).setModalResult(true);\n+                    ((Resources) pageRef.getPage()).setModalResult(true);\n                     window.close(target);\n                 } catch (SyncopeClientCompositeErrorException e) {\n                     error(getString(\"error\") + \":\" + e.getMessage());\n                     target.add(feedbackPanel);\n-                    ((Resources) callerPageRef.getPage()).setModalResult(false);\n+                    ((Resources) pageRef.getPage()).setModalResult(false);\n                     LOG.error(\"While creating or updating connector {}\", conn, e);\n                 }\n             }"},{"sha":"f941c084540f003746f8a3e0e562e64becf92255","filename":"console/src/main/java/org/apache/syncope/console/pages/DerivedSchemaModalPage.java","status":"modified","additions":9,"deletions":14,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -23,12 +23,13 @@\n import org.apache.syncope.common.types.AttributableType;\n import org.apache.syncope.common.validation.SyncopeClientCompositeErrorException;\n import org.apache.syncope.console.commons.JexlHelpUtil;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n+import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.form.Form;\n@@ -48,7 +49,7 @@ public DerivedSchemaModalPage(AttributableType kind) {\n     }\n \n     @Override\n-    public void setSchemaModalPage(final PageReference callerPageRef, final ModalWindow window,\n+    public void setSchemaModalPage(final PageReference pageRef, final ModalWindow window,\n             AbstractBaseBean schema, final boolean createFlag) {\n \n         if (schema == null) {\n@@ -77,13 +78,12 @@ public void setSchemaModalPage(final PageReference callerPageRef, final ModalWin\n \n         name.setEnabled(createFlag);\n \n-        final IndicatingAjaxButton submit = new IndicatingAjaxButton(\"apply\", new ResourceModel(\"submit\")) {\n+        final AjaxButton submit = new ClearIndicatingAjaxButton(\"apply\", new ResourceModel(\"submit\"), pageRef) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form form) {\n                 DerivedSchemaTO schemaTO = (DerivedSchemaTO) form.getDefaultModelObject();\n \n                 try {\n@@ -92,8 +92,8 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n                     } else {\n                         restClient.updateDerivedSchema(kind, schemaTO);\n                     }\n-                    if (callerPageRef.getPage() instanceof BasePage) {\n-                        ((BasePage) callerPageRef.getPage()).setModalResult(true);\n+                    if (pageRef.getPage() instanceof BasePage) {\n+                        ((BasePage) pageRef.getPage()).setModalResult(true);\n                     }\n \n                     window.close(target);\n@@ -105,23 +105,18 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n \n             @Override\n             protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-\n                 target.add(feedbackPanel);\n             }\n         };\n \n-        final IndicatingAjaxButton cancel = new IndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\")) {\n+        final AjaxButton cancel = new ClearIndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\"), pageRef) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 window.close(target);\n             }\n-\n-            @Override\n-            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-            }\n         };\n \n         cancel.setDefaultFormProcessing("},{"sha":"1b4f67847fe8ae289df171f480d6600817cde336","filename":"console/src/main/java/org/apache/syncope/console/pages/DisplayAttributesModalPage.java","status":"modified","additions":11,"deletions":16,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDisplayAttributesModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDisplayAttributesModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDisplayAttributesModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -30,9 +30,10 @@\n import org.apache.syncope.console.commons.Constants;\n import org.apache.syncope.console.commons.PreferenceManager;\n import org.apache.syncope.console.rest.SchemaRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n+import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.basic.Label;\n import org.apache.wicket.markup.html.form.Check;\n@@ -160,7 +161,7 @@ protected List<String> load() {\n \n     private final List<String> selectedDerSchemas;\n \n-    public DisplayAttributesModalPage(final PageReference callerPageRef, final ModalWindow window) {\n+    public DisplayAttributesModalPage(final PageReference pageRef, final ModalWindow window) {\n \n         super();\n \n@@ -265,18 +266,16 @@ protected void populateItem(ListItem<String> item) {\n             selectedDerSchemas.clear();\n         }\n \n-        final IndicatingAjaxButton submit = new IndicatingAjaxButton(\"submit\", new ResourceModel(\"submit\")) {\n+        final AjaxButton submit = new ClearIndicatingAjaxButton(\"submit\", new ResourceModel(\"submit\"), pageRef) {\n \n             private static final long serialVersionUID = -4804368561204623354L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n+                if (selectedDetails.size() + selectedSchemas.size() + selectedVirSchemas.size()\n+                        + selectedDerSchemas.size() > MAX_SELECTIONS) {\n \n-                if (selectedDetails.size() + selectedSchemas.size() + selectedVirSchemas.size() + selectedDerSchemas.\n-                        size()\n-                        > MAX_SELECTIONS) {\n-\n-                    error(getString(\"tooMuchSelections\"));\n+                    error(getString(\"tooManySelections\"));\n                     onError(target, form);\n                 } else {\n                     final Map<String, List<String>> prefs = new HashMap<String, List<String>>();\n@@ -291,7 +290,7 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n \n                     prefMan.setList(getRequest(), getResponse(), prefs);\n \n-                    ((BasePage) callerPageRef.getPage()).setModalResult(true);\n+                    ((BasePage) pageRef.getPage()).setModalResult(true);\n \n                     window.close(target);\n                 }\n@@ -305,18 +304,14 @@ protected void onError(AjaxRequestTarget target, Form<?> form) {\n \n         form.add(submit);\n \n-        final IndicatingAjaxButton cancel = new IndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\")) {\n+        final AjaxButton cancel = new ClearIndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\"), pageRef) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 window.close(target);\n             }\n-\n-            @Override\n-            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-            }\n         };\n \n         cancel.setDefaultFormProcessing(false);"},{"sha":"72b81dd7682650d3863df985ff9c007cec8e1ed4","filename":"console/src/main/java/org/apache/syncope/console/pages/EditUserModalPage.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FEditUserModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FEditUserModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FEditUserModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -52,8 +52,8 @@ public class EditUserModalPage extends UserModalPage {\n \n     private StatusPanel statusPanel;\n \n-    public EditUserModalPage(final PageReference callerPageRef, final ModalWindow window, final UserTO userTO) {\n-        super(callerPageRef, window, userTO, Mode.ADMIN, true);\n+    public EditUserModalPage(final PageReference pageRef, final ModalWindow window, final UserTO userTO) {\n+        super(pageRef, window, userTO, Mode.ADMIN, true);\n \n         this.initialUserTO = AttributableOperations.clone(userTO);\n \n@@ -71,7 +71,7 @@ public EditUserModalPage(final PageReference callerPageRef, final ModalWindow wi\n \n             form.addOrReplace(new ResourcesPanel(\"resources\", userTO, statusPanel));\n \n-            form.addOrReplace(new MembershipsPanel(\"memberships\", userTO, false, statusPanel));\n+            form.addOrReplace(new MembershipsPanel(\"memberships\", userTO, false, statusPanel, pageRef));\n         }\n     }\n "},{"sha":"1d604888fcbc50fe3fef3530a057325b8fe42251","filename":"console/src/main/java/org/apache/syncope/console/pages/Login.java","status":"modified","additions":7,"deletions":5,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FLogin.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FLogin.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FLogin.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -35,10 +35,12 @@\n import org.apache.syncope.common.util.CollectionWrapper;\n import org.apache.syncope.console.SyncopeSession;\n import org.apache.syncope.console.wicket.markup.html.form.LinkPanel;\n+import org.apache.syncope.console.SyncopeSession;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n+import org.apache.syncope.console.wicket.markup.html.form.LinkPanel;\n import org.apache.wicket.Page;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.WebPage;\n import org.apache.wicket.markup.html.basic.Label;\n@@ -123,8 +125,8 @@ public void onSubmit() {\n                     error(getString(\"login-error\"));\n \n                     PreemptiveAuthHttpRequestFactory requestFactory =\n-                            ((PreemptiveAuthHttpRequestFactory) SyncopeSession.get().getRestTemplate().\n-                            getRequestFactory());\n+                            ((PreemptiveAuthHttpRequestFactory) SyncopeSession.\n+                            get().getRestTemplate().getRequestFactory());\n \n                     ((DefaultHttpClient) requestFactory.getHttpClient()).getCredentialsProvider().clear();\n                 }\n@@ -149,12 +151,12 @@ public void onSubmit() {\n         if (isSelfRegistrationAllowed()) {\n             selfRegFrag = new Fragment(\"selfRegistration\", \"selfRegAllowed\", this);\n \n-            final AjaxLink selfRegLink = new IndicatingAjaxLink(\"link\") {\n+            final AjaxLink selfRegLink = new ClearIndicatingAjaxLink(\"link\", getPageReference()) {\n \n                 private static final long serialVersionUID = -7978723352517770644L;\n \n                 @Override\n-                public void onClick(final AjaxRequestTarget target) {\n+                protected void onClickInternal(final AjaxRequestTarget target) {\n                     editProfileModalWin.setPageCreator(new ModalWindow.PageCreator() {\n \n                         private static final long serialVersionUID = -7834632442532690940L;"},{"sha":"3ce6d2d98edbfd85615fbe9c2f62247c01e254b7","filename":"console/src/main/java/org/apache/syncope/console/pages/MembershipModalPage.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -95,13 +95,13 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n         //--------------------------------\n         // Derived attributes container\n         //--------------------------------\n-        form.add(new DerivedAttributesPanel(\"derivedAttributes\", membershipTO));\n+        form.add(new DerivedAttributesPanel(\"derivedAttributes\", membershipTO, pageRef));\n         //--------------------------------\n \n         //--------------------------------\n         // Virtual attributes container\n         //--------------------------------\n-        form.add(new VirtualAttributesPanel(\"virtualAttributes\", membershipTO, templateMode));\n+        form.add(new VirtualAttributesPanel(\"virtualAttributes\", membershipTO, templateMode, pageRef));\n         //--------------------------------\n \n         add(form);"},{"sha":"59a88dd15b04c087c7c5f5b2a908527e0d9848a7","filename":"console/src/main/java/org/apache/syncope/console/pages/NotificationModalPage.java","status":"modified","additions":7,"deletions":11,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -32,6 +32,7 @@\n import org.apache.syncope.console.pages.panels.UserSearchPanel;\n import org.apache.syncope.console.rest.NotificationRestClient;\n import org.apache.syncope.console.rest.SchemaRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxPalettePanel;\n@@ -41,7 +42,6 @@\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.form.Form;\n@@ -68,7 +68,7 @@ class NotificationModalPage extends BaseModalPage {\n     @SpringBean\n     private SchemaRestClient schemaRestClient;\n \n-    public NotificationModalPage(final PageReference callPageRef, final ModalWindow window,\n+    public NotificationModalPage(final PageReference pageRef, final ModalWindow window,\n             final NotificationTO notificationTO, final boolean createFlag) {\n \n         Form form = new Form(\"form\", new CompoundPropertyModel(notificationTO));\n@@ -195,12 +195,12 @@ protected void onUpdate(final AjaxRequestTarget target) {\n             }\n         });\n \n-        AjaxButton submit = new IndicatingAjaxButton(\"apply\", new Model<String>(getString(\"submit\"))) {\n+        AjaxButton submit = new ClearIndicatingAjaxButton(\"apply\", new Model<String>(getString(\"submit\")), pageRef) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 notificationTO.setAbout(about.buildSearchCond());\n                 notificationTO.setRecipients(checkRecipients.getModelObject() ? recipients.buildSearchCond() : null);\n \n@@ -212,7 +212,7 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n                     }\n                     info(getString(\"operation_succeeded\"));\n \n-                    Configuration callerPage = (Configuration) callPageRef.getPage();\n+                    Configuration callerPage = (Configuration) pageRef.getPage();\n                     callerPage.setModalResult(true);\n \n                     window.close(target);\n@@ -229,18 +229,14 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n             }\n         };\n \n-        final IndicatingAjaxButton cancel = new IndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\")) {\n+        final AjaxButton cancel = new ClearIndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\"), pageRef) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 window.close(target);\n             }\n-\n-            @Override\n-            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-            }\n         };\n \n         cancel.setDefaultFormProcessing(false);"},{"sha":"5b24db39ce6202fbc083f8c6555308dd3e8ac63a","filename":"console/src/main/java/org/apache/syncope/console/pages/NotificationTaskModalPage.java","status":"modified","additions":3,"deletions":2,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationTaskModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -22,6 +22,7 @@\n import org.apache.syncope.common.to.NotificationTaskTO;\n import org.apache.syncope.common.to.TaskTO;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n+import org.apache.wicket.PageReference;\n import org.apache.wicket.markup.html.form.ListMultipleChoice;\n import org.apache.wicket.markup.html.form.TextArea;\n import org.apache.wicket.model.PropertyModel;\n@@ -30,8 +31,8 @@ public class NotificationTaskModalPage extends TaskModalPage {\n \n     private static final long serialVersionUID = -4399606755452034216L;\n \n-    public NotificationTaskModalPage(final TaskTO taskTO) {\n-        super(taskTO);\n+    public NotificationTaskModalPage(final TaskTO taskTO, final PageReference pageRef) {\n+        super(taskTO, pageRef);\n \n         final AjaxTextFieldPanel sender = new AjaxTextFieldPanel(\"sender\", getString(\"sender\"),\n                 new PropertyModel<String>(taskTO, \"sender\"));"},{"sha":"2a387c2101cb389c0a479e966c4f3f4cfc4fd4b8","filename":"console/src/main/java/org/apache/syncope/console/pages/PolicyModalPage.java","status":"modified","additions":6,"deletions":5,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FPolicyModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FPolicyModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FPolicyModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -30,9 +30,12 @@\n import org.apache.syncope.common.types.SyncPolicySpec;\n import org.apache.syncope.console.pages.panels.PolicyBeanPanel;\n import org.apache.syncope.console.rest.PolicyRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n+import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.form.ChoiceRenderer;\n@@ -51,8 +54,7 @@\n     @SpringBean\n     private PolicyRestClient policyRestClient;\n \n-    public PolicyModalPage(final ModalWindow window, final T policyTO) {\n-\n+    public PolicyModalPage(final ModalWindow window, final T policyTO, final PageReference pageRef) {\n         super();\n \n         final Form form = new Form(\"form\");\n@@ -101,13 +103,12 @@ public PolicyModalPage(final ModalWindow window, final T policyTO) {\n \n         form.add(new PolicyBeanPanel(\"panel\", policy));\n \n-        final IndicatingAjaxButton submit = new IndicatingAjaxButton(\"apply\", new ResourceModel(\"apply\")) {\n+        final AjaxButton submit = new ClearIndicatingAjaxButton(\"apply\", new ResourceModel(\"apply\"), pageRef) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 setPolicySpecification(policyTO, policy);\n \n                 try {"},{"sha":"9f3a6b38b03a92e4b6ea6580128a1ebff23fe63a","filename":"console/src/main/java/org/apache/syncope/console/pages/PropagationTaskModalPage.java","status":"modified","additions":3,"deletions":2,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FPropagationTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FPropagationTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FPropagationTaskModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -20,6 +20,7 @@\n \n import org.apache.syncope.common.to.TaskTO;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n+import org.apache.wicket.PageReference;\n import org.apache.wicket.model.PropertyModel;\n \n /**\n@@ -29,8 +30,8 @@ public class PropagationTaskModalPage extends TaskModalPage {\n \n     private static final long serialVersionUID = 523379887023786151L;\n \n-    public PropagationTaskModalPage(final TaskTO taskTO) {\n-        super(taskTO);\n+    public PropagationTaskModalPage(final TaskTO taskTO, final PageReference pageRef) {\n+        super(taskTO, pageRef);\n \n         final AjaxTextFieldPanel accountId = new AjaxTextFieldPanel(\"accountId\", getString(\"accountId\"),\n                 new PropertyModel<String>(taskTO, \"accountId\"));"},{"sha":"0b041ab9d7d2c3e844ba44c8416860d3c0b1f111","filename":"console/src/main/java/org/apache/syncope/console/pages/ReportModalPage.java","status":"modified","additions":43,"deletions":44,"changes":87,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -35,6 +35,8 @@\n import org.apache.syncope.console.markup.html.CrontabContainer;\n import org.apache.syncope.console.rest.ReportRestClient;\n import org.apache.syncope.console.wicket.ajax.form.AbstractAjaxDownloadBehavior;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n import org.apache.syncope.console.wicket.extensions.markup.html.repeater.data.table.DatePropertyColumn;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLinksPanel;\n@@ -47,9 +49,8 @@\n import org.apache.wicket.ajax.attributes.AjaxRequestAttributes;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n+import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n@@ -130,39 +131,40 @@ public ReportModalPage(final ModalWindow window, final ReportTO reportTO, final\n                 \"cronExpression\"), reportTO.getCronExpression());\n         form.add(crontab);\n \n-        final IndicatingAjaxButton submit = new IndicatingAjaxButton(\"apply\", new ResourceModel(\"apply\")) {\n+        final AjaxButton submit =\n+                new ClearIndicatingAjaxButton(\"apply\", new ResourceModel(\"apply\"), getPageReference()) {\n \n-            private static final long serialVersionUID = -958724007591692537L;\n+                    private static final long serialVersionUID = -958724007591692537L;\n \n-            @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-                ReportTO reportTO = (ReportTO) form.getModelObject();\n-                reportTO.setCronExpression(StringUtils.hasText(reportTO.getCronExpression())\n-                        ? crontab.getCronExpression()\n-                        : null);\n-\n-                try {\n-                    if (reportTO.getId() > 0) {\n-                        restClient.update(reportTO);\n-                    } else {\n-                        restClient.create(reportTO);\n-                    }\n+                    @Override\n+                    protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n+                        ReportTO reportTO = (ReportTO) form.getModelObject();\n+                        reportTO.setCronExpression(StringUtils.hasText(reportTO.getCronExpression())\n+                                ? crontab.getCronExpression()\n+                                : null);\n \n-                    ((BasePage) callerPageRef.getPage()).setModalResult(true);\n+                        try {\n+                            if (reportTO.getId() > 0) {\n+                                restClient.update(reportTO);\n+                            } else {\n+                                restClient.create(reportTO);\n+                            }\n \n-                    window.close(target);\n-                } catch (SyncopeClientCompositeErrorException e) {\n-                    LOG.error(\"While creating or updating report\", e);\n-                    error(getString(\"error\") + \":\" + e.getMessage());\n-                    target.add(feedbackPanel);\n-                }\n-            }\n+                            ((BasePage) callerPageRef.getPage()).setModalResult(true);\n \n-            @Override\n-            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-                target.add(feedbackPanel);\n-            }\n-        };\n+                            window.close(target);\n+                        } catch (SyncopeClientCompositeErrorException e) {\n+                            LOG.error(\"While creating or updating report\", e);\n+                            error(getString(\"error\") + \":\" + e.getMessage());\n+                            target.add(feedbackPanel);\n+                        }\n+                    }\n+\n+                    @Override\n+                    protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n+                        target.add(feedbackPanel);\n+                    }\n+                };\n \n         if (reportTO.getId() > 0) {\n             MetaDataRoleAuthorizationStrategy.authorize(submit, RENDER, xmlRolesReader.getAllAllowedRoles(\"Reports\",\n@@ -174,19 +176,16 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n \n         form.add(submit);\n \n-        final IndicatingAjaxButton cancel = new IndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\")) {\n-\n-            private static final long serialVersionUID = -958724007591692537L;\n+        final AjaxButton cancel =\n+                new ClearIndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\"), getPageReference()) {\n \n-            @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-                window.close(target);\n-            }\n+                    private static final long serialVersionUID = -958724007591692537L;\n \n-            @Override\n-            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-            }\n-        };\n+                    @Override\n+                    protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n+                        window.close(target);\n+                    }\n+                };\n \n         cancel.setDefaultFormProcessing(false);\n         form.add(cancel);\n@@ -465,7 +464,7 @@ public void populateItem(final Item<ICellPopulator<ReportExecTO>> cellItem, fina\n \n                 final ReportExecTO taskExecutionTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -537,12 +536,12 @@ public void onClick(final AjaxRequestTarget target) {\n                 new ReportExecutionsProvider(reportTO), 10);\n         executions.add(table);\n \n-        final AjaxLink reload = new IndicatingAjaxLink(\"reload\") {\n+        final AjaxLink reload = new ClearIndicatingAjaxLink(\"reload\", getPageReference()) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(AjaxRequestTarget target) {\n+            protected void onClickInternal(final AjaxRequestTarget target) {\n                 if (target != null) {\n                     final ReportTO currentReportTO = reportTO.getId() == 0\n                             ? reportTO"},{"sha":"0063956e370f7c28b48c22992cd95e736b7f3917","filename":"console/src/main/java/org/apache/syncope/console/pages/ReportletConfModalPage.java","status":"modified","additions":11,"deletions":14,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportletConfModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportletConfModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportletConfModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -26,17 +26,16 @@\n import java.util.Date;\n import java.util.Iterator;\n import java.util.List;\n-\n import org.apache.commons.lang.ArrayUtils;\n import org.apache.syncope.common.SyncopeConstants;\n import org.apache.syncope.common.annotation.FormAttributeField;\n import org.apache.syncope.common.report.AbstractReportletConf;\n-import org.apache.syncope.common.report.ReportletConf;\n import org.apache.syncope.common.search.NodeCond;\n import org.apache.syncope.common.types.AttributableType;\n import org.apache.syncope.console.pages.panels.UserSearchPanel;\n import org.apache.syncope.console.rest.ReportRestClient;\n import org.apache.syncope.console.rest.SchemaRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxNumberFieldPanel;\n@@ -51,7 +50,6 @@\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.basic.Label;\n@@ -86,16 +84,19 @@ public class ReportletConfModalPage extends BaseModalPage {\n \n     private AbstractReportletConf reportletConf;\n \n-    final AjaxTextFieldPanel name;\n+    private final PageReference pageRef;\n+\n+    private final AjaxTextFieldPanel name;\n \n     private WebMarkupContainer propertiesContainer;\n \n     private ListView<String> propView;\n \n     public ReportletConfModalPage(final AbstractReportletConf reportletConf, final ModalWindow window,\n-            final PageReference callerPageRef) {\n+            final PageReference pageRef) {\n \n         this.reportletConf = reportletConf;\n+        this.pageRef = pageRef;\n \n         Form form = new Form(\"form\");\n         add(form);\n@@ -179,7 +180,7 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n                     }\n                 }\n \n-                ((ReportModalPage) callerPageRef.getPage())\n+                ((ReportModalPage) pageRef.getPage())\n                         .setModalReportletConf(ReportletConfModalPage.this.reportletConf);\n                 window.close(target);\n             }\n@@ -191,18 +192,14 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n         };\n         form.add(submit);\n \n-        final IndicatingAjaxButton cancel = new IndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\")) {\n+        final AjaxButton cancel = new ClearIndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\"), pageRef) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 window.close(target);\n             }\n-\n-            @Override\n-            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-            }\n         };\n \n         cancel.setDefaultFormProcessing(false);\n@@ -268,8 +265,8 @@ protected void populateItem(final ListItem<String> item) {\n                 try {\n                     field = ReportletConfModalPage.this.reportletConf.getClass().getDeclaredField(fieldName);\n                 } catch (Exception e) {\n-                    LOG.error(\"Could not find field {} in class {}\", fieldName,\n-                            ReportletConfModalPage.this.reportletConf.getClass(), e);\n+                    LOG.error(\"Could not find field {} in class {}\", new Object[]{fieldName,\n+                                ReportletConfModalPage.this.reportletConf.getClass(), e});\n                 }\n                 if (field == null) {\n                     return;"},{"sha":"0d209bfd9161f92e1440802ca0708bffc0c2a85d","filename":"console/src/main/java/org/apache/syncope/console/pages/Reports.java","status":"modified","additions":8,"deletions":8,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReports.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReports.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReports.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -36,6 +36,7 @@\n import org.apache.syncope.console.pages.panels.JQueryTabbedPanel;\n import org.apache.syncope.console.rest.LoggerRestClient;\n import org.apache.syncope.console.rest.ReportRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n import org.apache.syncope.console.wicket.extensions.markup.html.repeater.data.table.DatePropertyColumn;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLinksPanel;\n@@ -47,7 +48,6 @@\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n import org.apache.wicket.behavior.Behavior;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n@@ -153,7 +153,7 @@ public void populateItem(final Item<ICellPopulator<ReportTO>> cellItem, final St\n \n                 final ReportTO reportTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -189,7 +189,7 @@ public void onClick(final AjaxRequestTarget target) {\n                             error(scce.getMessage());\n                         }\n \n-                        target.add(getPage().get(\"feedback\"));\n+                        target.add(feedbackPanel);\n                         target.add(reportContainer);\n                     }\n                 }, ActionLink.ActionType.EXECUTE, \"Reports\", \"execute\");\n@@ -207,7 +207,7 @@ public void onClick(final AjaxRequestTarget target) {\n                             error(scce.getMessage());\n                         }\n                         target.add(reportContainer);\n-                        target.add(getPage().get(\"feedback\"));\n+                        target.add(feedbackPanel);\n                     }\n                 }, ActionLink.ActionType.DELETE, \"Reports\", \"delete\");\n \n@@ -221,12 +221,12 @@ public void onClick(final AjaxRequestTarget target) {\n         reportContainer.add(reportTable);\n         reportContainer.setOutputMarkupId(true);\n \n-        final AjaxLink reload = new IndicatingAjaxLink(\"reload\") {\n+        final AjaxLink reload = new ClearIndicatingAjaxLink(\"reload\", getPageReference()) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(AjaxRequestTarget target) {\n+            protected void onClickInternal(final AjaxRequestTarget target) {\n                 if (target != null) {\n                     target.add(reportTable);\n                 }\n@@ -279,12 +279,12 @@ protected void onUpdate(final AjaxRequestTarget target) {\n         paginatorForm.add(rowsChooser);\n         add(paginatorForm);\n \n-        AjaxLink createLink = new IndicatingAjaxLink(\"createLink\") {\n+        AjaxLink createLink = new ClearIndicatingAjaxLink(\"createLink\", getPageReference()) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(final AjaxRequestTarget target) {\n+            protected void onClickInternal(final AjaxRequestTarget target) {\n                 window.setPageCreator(new ModalWindow.PageCreator() {\n \n                     private static final long serialVersionUID = -7834632442532690940L;"},{"sha":"1736ee93f093aa58183bf0b9225998fbc232d5df","filename":"console/src/main/java/org/apache/syncope/console/pages/ResourceModalPage.java","status":"modified","additions":5,"deletions":5,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -50,7 +50,7 @@ public class ResourceModalPage extends BaseModalPage {\n     @SpringBean\n     private ResourceRestClient restClient;\n \n-    public ResourceModalPage(final PageReference pageref, final ModalWindow window, final ResourceTO resourceTO,\n+    public ResourceModalPage(final PageReference pageRef, final ModalWindow window, final ResourceTO resourceTO,\n             final boolean createFlag) {\n \n         super();\n@@ -76,14 +76,14 @@ public ResourceModalPage(final PageReference pageref, final ModalWindow window,\n         //--------------------------------\n         // Resource mapping panels\n         //--------------------------------\n-        form.add(new ResourceMappingPanel(\"umapping\", resourceTO, AttributableType.USER));\n-        form.add(new ResourceMappingPanel(\"rmapping\", resourceTO, AttributableType.ROLE));\n+        form.add(new ResourceMappingPanel(\"umapping\", resourceTO, AttributableType.USER, pageRef));\n+        form.add(new ResourceMappingPanel(\"rmapping\", resourceTO, AttributableType.ROLE, pageRef));\n         //--------------------------------\n \n         //--------------------------------\n         // Resource mapping panel\n         //--------------------------------\n-        form.add(new ResourceConnConfPanel(\"connconf\", resourceTO, createFlag));\n+        form.add(new ResourceConnConfPanel(\"connconf\", resourceTO, createFlag, pageRef));\n         //--------------------------------\n \n         //--------------------------------\n@@ -137,7 +137,7 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n                             restClient.update(resourceTO);\n                         }\n \n-                        ((Resources) pageref.getPage()).setModalResult(true);\n+                        ((Resources) pageRef.getPage()).setModalResult(true);\n                         window.close(target);\n                     } catch (Exception e) {\n                         LOG.error(\"Failure managing resource {}\", resourceTO, e);"},{"sha":"52780b9c2226153526054efc8e0d3ed67309b122","filename":"console/src/main/java/org/apache/syncope/console/pages/Resources.java","status":"modified","additions":9,"deletions":11,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -30,6 +30,7 @@\n import org.apache.syncope.console.commons.SortableDataProviderComparator;\n import org.apache.syncope.console.rest.ConnectorRestClient;\n import org.apache.syncope.console.rest.ResourceRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLinksPanel;\n import org.apache.syncope.console.wicket.markup.html.form.LinkPanel;\n@@ -38,7 +39,6 @@\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n@@ -125,12 +125,12 @@ private void setupResources() {\n             public void populateItem(final Item<ICellPopulator<ResourceTO>> cellItem, final String componentId,\n                     final IModel<ResourceTO> rowModel) {\n \n-                final IndicatingAjaxLink<String> editLink = new IndicatingAjaxLink<String>(\"link\") {\n+                final AjaxLink<String> editLink = new ClearIndicatingAjaxLink<String>(\"link\", getPageReference()) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n \n                         editConnectorWin.setPageCreator(new ModalWindow.PageCreator() {\n \n@@ -177,7 +177,7 @@ public void populateItem(final Item<ICellPopulator<ResourceTO>> cellItem, final\n                     final IModel<ResourceTO> model) {\n                 final ResourceTO resourceTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -250,13 +250,12 @@ public void onClick(final AjaxRequestTarget target) {\n         editResourceWin.setInitialWidth(WIN_WIDTH);\n         editResourceWin.setCookieName(\"edit-res-modal\");\n \n-        AjaxLink createResourceLink = new IndicatingAjaxLink(\"createResourceLink\") {\n+        AjaxLink createResourceLink = new ClearIndicatingAjaxLink(\"createResourceLink\", getPageReference()) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(final AjaxRequestTarget target) {\n-\n+            protected void onClickInternal(final AjaxRequestTarget target) {\n                 createResourceWin.setPageCreator(new ModalWindow.PageCreator() {\n \n                     private static final long serialVersionUID = -7834632442532690940L;\n@@ -329,7 +328,7 @@ public void populateItem(final Item<ICellPopulator<ConnInstanceTO>> cellItem, fi\n \n                 final ConnInstanceTO connectorTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -401,13 +400,12 @@ public void onClick(final AjaxRequestTarget target) {\n         editConnectorWin.setInitialWidth(WIN_WIDTH);\n         editConnectorWin.setCookieName(\"edit-conn-modal\");\n \n-        AjaxLink createConnectorLink = new IndicatingAjaxLink(\"createConnectorLink\") {\n+        AjaxLink createConnectorLink = new ClearIndicatingAjaxLink(\"createConnectorLink\", getPageReference()) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(final AjaxRequestTarget target) {\n-\n+            protected void onClickInternal(final AjaxRequestTarget target) {\n                 createConnectorWin.setPageCreator(new ModalWindow.PageCreator() {\n \n                     private static final long serialVersionUID = -7834632442532690940L;"},{"sha":"e7203a00a52052f70cc1169e8d4fb300b24ed30d","filename":"console/src/main/java/org/apache/syncope/console/pages/RoleModalPage.java","status":"modified","additions":13,"deletions":19,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -25,11 +25,11 @@\n import org.apache.syncope.common.util.AttributableOperations;\n import org.apache.syncope.console.pages.panels.RolePanel;\n import org.apache.syncope.console.rest.RoleRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.basic.Label;\n import org.apache.wicket.markup.html.form.Form;\n@@ -54,7 +54,7 @@ public enum Mode {\n     @SpringBean\n     private RoleRestClient roleRestClient;\n \n-    protected final PageReference callerPageRef;\n+    protected final PageReference pageRef;\n \n     protected final ModalWindow window;\n \n@@ -70,16 +70,14 @@ public RoleModalPage(final ModalWindow window, final RoleTO roleTO) {\n         this(null, window, roleTO, Mode.ADMIN);\n     }\n \n-    public RoleModalPage(final PageReference callerPageRef, final ModalWindow window, final RoleTO roleTO) {\n-        this(callerPageRef, window, roleTO, Mode.ADMIN);\n+    public RoleModalPage(final PageReference pageRef, final ModalWindow window, final RoleTO roleTO) {\n+        this(pageRef, window, roleTO, Mode.ADMIN);\n     }\n \n-    public RoleModalPage(final PageReference callerPageRef, final ModalWindow window, final RoleTO roleTO,\n-            final Mode mode) {\n-\n+    public RoleModalPage(final PageReference pageRef, final ModalWindow window, final RoleTO roleTO, final Mode mode) {\n         super();\n \n-        this.callerPageRef = callerPageRef;\n+        this.pageRef = pageRef;\n         this.window = window;\n         this.mode = mode;\n \n@@ -94,20 +92,20 @@ public RoleModalPage(final PageReference callerPageRef, final ModalWindow window\n \n         form.setModel(new CompoundPropertyModel(roleTO));\n \n-        this.rolePanel = new RolePanel(\"rolePanel\", form, roleTO, mode);\n+        this.rolePanel = new RolePanel(\"rolePanel\", form, roleTO, mode, pageRef);\n         form.add(rolePanel);\n \n-        final AjaxButton submit = new IndicatingAjaxButton(\"submit\", new ResourceModel(\"submit\")) {\n+        final AjaxButton submit = new ClearIndicatingAjaxButton(\"submit\", new ResourceModel(\"submit\"), pageRef) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 try {\n                     submitAction(target, form);\n \n-                    if (callerPageRef.getPage() instanceof BasePage) {\n-                        ((BasePage) callerPageRef.getPage()).setModalResult(true);\n+                    if (pageRef.getPage() instanceof BasePage) {\n+                        ((BasePage) pageRef.getPage()).setModalResult(true);\n                     }\n \n                     closeAction(target, form);\n@@ -123,18 +121,14 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n             }\n         };\n \n-        final IndicatingAjaxButton cancel = new IndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\")) {\n+        final AjaxButton cancel = new ClearIndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\"), pageRef) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 closeAction(target, form);\n             }\n-\n-            @Override\n-            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-            }\n         };\n \n         cancel.setDefaultFormProcessing(false);"},{"sha":"273d4e563416f5e51102c26132cb30496999920b","filename":"console/src/main/java/org/apache/syncope/console/pages/Roles.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoles.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoles.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoles.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -24,12 +24,12 @@\n import org.apache.syncope.console.pages.panels.RoleSearchResultPanel;\n import org.apache.syncope.console.pages.panels.RoleSummaryPanel;\n import org.apache.syncope.console.rest.RoleRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.syncope.console.wicket.markup.html.tree.TreeRolePanel;\n import org.apache.wicket.Session;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.event.Broadcast;\n import org.apache.wicket.event.IEvent;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.form.Form;\n@@ -112,12 +112,12 @@ public void onClose(final AjaxRequestTarget target) {\n         final RoleSearchPanel searchPanel = new RoleSearchPanel(\"searchPanel\");\n         searchForm.add(searchPanel);\n \n-        searchForm.add(new IndicatingAjaxButton(\"search\", new ResourceModel(\"search\")) {\n+        searchForm.add(new ClearIndicatingAjaxButton(\"search\", new ResourceModel(\"search\"), getPageReference()) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 final NodeCond searchCond = searchPanel.buildSearchCond();\n                 LOG.debug(\"Node condition {}\", searchCond);\n "},{"sha":"df39fec14eb825a212cb4423e58871ec08719f40","filename":"console/src/main/java/org/apache/syncope/console/pages/Schema.java","status":"modified","additions":4,"deletions":5,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchema.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchema.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchema.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -33,6 +33,7 @@\n import org.apache.syncope.console.commons.SelectChoiceRenderer;\n import org.apache.syncope.console.commons.SortableDataProviderComparator;\n import org.apache.syncope.console.rest.SchemaRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLink.ActionType;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLinksPanel;\n@@ -41,7 +42,6 @@\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n@@ -731,7 +731,7 @@ public void populateItem(final Item<ICellPopulator<AbstractBaseBean>> cellItem,\n \n                 final AbstractBaseBean schemaTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -823,13 +823,12 @@ private <T extends AbstractSchemaModalPage> AjaxLink getCreateSchemaWindow(final\n             final AttributableType attributableType, final SchemaModalPageFactory.SchemaType schemaType,\n             final String winLinkName, final String winName, final String createPermissions) {\n \n-        AjaxLink createSchemaWinLink = new IndicatingAjaxLink(winLinkName) {\n+        AjaxLink createSchemaWinLink = new ClearIndicatingAjaxLink(winLinkName, getPageReference()) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(final AjaxRequestTarget target) {\n-\n+            protected void onClickInternal(final AjaxRequestTarget target) {\n                 createSchemaWin.setPageCreator(new ModalWindow.PageCreator() {\n \n                     private static final long serialVersionUID = -7834632442532690940L;"},{"sha":"4a2ff102f85ae4d0086b8885f913205fc9fe79f5","filename":"console/src/main/java/org/apache/syncope/console/pages/SchemaModalPage.java","status":"modified","additions":20,"deletions":18,"changes":38,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -30,6 +30,7 @@\n import org.apache.syncope.common.types.AttributableType;\n import org.apache.syncope.common.types.AttributeSchemaType;\n import org.apache.syncope.common.validation.SyncopeClientCompositeErrorException;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n@@ -39,7 +40,6 @@\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.autocomplete.AutoCompleteTextField;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.form.DropDownChoice;\n@@ -64,8 +64,9 @@ public SchemaModalPage(AttributableType kind) {\n     }\n \n     @Override\n-    public void setSchemaModalPage(final PageReference callerPageRef, final ModalWindow window,\n+    public void setSchemaModalPage(final PageReference pageRef, final ModalWindow window,\n             AbstractBaseBean schemaTO, final boolean createFlag) {\n+\n         final SchemaTO schema;\n         if (schemaTO != null && schemaTO instanceof SchemaTO) {\n             schema = (SchemaTO) schemaTO;\n@@ -88,6 +89,7 @@ public void setSchemaModalPage(final PageReference callerPageRef, final ModalWin\n                 getString(\"conversionPattern\"), new PropertyModel<String>(schema, \"conversionPattern\"));\n \n         final IModel<List<String>> validatorsList = new LoadableDetachableModel<List<String>>() {\n+\n             private static final long serialVersionUID = 5275935387613157437L;\n \n             @Override\n@@ -102,13 +104,14 @@ protected List<String> load() {\n         ((DropDownChoice) validatorClass.getField()).setNullValid(true);\n         validatorClass.setChoices(validatorsList.getObject());\n \n-        final AjaxDropDownChoicePanel<AttributeSchemaType> type = new AjaxDropDownChoicePanel<AttributeSchemaType>(\"type\",\n+        final AjaxDropDownChoicePanel<AttributeSchemaType> type = new AjaxDropDownChoicePanel<AttributeSchemaType>(\n+                \"type\",\n                 getString(\"type\"), new PropertyModel(schema, \"type\"));\n         type.setChoices(Arrays.asList(AttributeSchemaType.values()));\n         type.addRequiredLabel();\n \n-        final AjaxTextFieldPanel enumerationValuesPanel = \n-            new AjaxTextFieldPanel(\"panel\", \"enumerationValues\", new Model<String>(null));\n+        final AjaxTextFieldPanel enumerationValuesPanel =\n+                new AjaxTextFieldPanel(\"panel\", \"enumerationValues\", new Model<String>(null));\n         final MultiValueSelectorPanel<String> enumerationValues =\n                 new MultiValueSelectorPanel<String>(\"enumerationValues\",\n                 new Model(),\n@@ -135,6 +138,7 @@ protected List<String> load() {\n         }\n \n         type.getField().add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n+\n             private static final long serialVersionUID = -1107858522700306810L;\n \n             @Override\n@@ -170,6 +174,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n         });\n \n         final AutoCompleteTextField mandatoryCondition = new AutoCompleteTextField(\"mandatoryCondition\") {\n+\n             private static final long serialVersionUID = -2428903969518079100L;\n \n             @Override\n@@ -192,6 +197,7 @@ protected Iterator<String> getChoices(String input) {\n         };\n \n         mandatoryCondition.add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n+\n             private static final long serialVersionUID = -1107858522700306810L;\n \n             @Override\n@@ -208,12 +214,12 @@ protected void onUpdate(AjaxRequestTarget art) {\n         final AjaxCheckBoxPanel uniqueConstraint = new AjaxCheckBoxPanel(\"uniqueConstraint\",\n                 getString(\"uniqueConstraint\"), new PropertyModel<Boolean>(schema, \"uniqueConstraint\"));\n \n-        final AjaxButton submit = new IndicatingAjaxButton(\"apply\", new ResourceModel(\"submit\")) {\n+        final AjaxButton submit = new ClearIndicatingAjaxButton(\"apply\", new ResourceModel(\"submit\"), pageRef) {\n+\n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 final SchemaTO schemaTO = (SchemaTO) form.getDefaultModelObject();\n \n                 schemaTO.setEnumerationValues(getEnumValuesAsString(enumerationValues.getView().getModelObject()));\n@@ -231,8 +237,8 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n                     } else {\n                         restClient.updateSchema(kind, schemaTO);\n                     }\n-                    if (callerPageRef.getPage() instanceof BasePage) {\n-                        ((BasePage) callerPageRef.getPage()).setModalResult(true);\n+                    if (pageRef.getPage() instanceof BasePage) {\n+                        ((BasePage) pageRef.getPage()).setModalResult(true);\n                     }\n \n                     window.close(target);\n@@ -244,24 +250,20 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n \n             @Override\n             protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-\n                 target.add(feedbackPanel);\n             }\n         };\n \n-        final IndicatingAjaxButton cancel = new IndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\")) {\n+        final AjaxButton cancel = new ClearIndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\"), pageRef) {\n+\n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 window.close(target);\n             }\n-\n-            @Override\n-            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-            }\n         };\n-        \n+\n         cancel.setDefaultFormProcessing(false);\n \n         String allowedRoles;"},{"sha":"6c2ced28c0c00a8d33d266c9076a357c249f9bb5","filename":"console/src/main/java/org/apache/syncope/console/pages/StatusModalPage.java","status":"modified","additions":11,"deletions":17,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FStatusModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FStatusModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FStatusModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -25,10 +25,10 @@\n import org.apache.syncope.console.commons.StatusBean;\n import org.apache.syncope.console.pages.panels.StatusPanel;\n import org.apache.syncope.console.rest.UserRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.form.Form;\n import org.apache.wicket.model.ResourceModel;\n@@ -41,7 +41,7 @@ public class StatusModalPage extends BaseModalPage {\n     @SpringBean\n     private UserRestClient userRestClient;\n \n-    public StatusModalPage(final PageReference callerPageRef, final ModalWindow window,\n+    public StatusModalPage(final PageReference pageRef, final ModalWindow window,\n             final AbstractAttributableTO attributable) {\n \n         super();\n@@ -56,18 +56,17 @@ public StatusModalPage(final PageReference callerPageRef, final ModalWindow wind\n \n         final AjaxButton disable;\n         if (attributable instanceof UserTO) {\n-            disable = new IndicatingAjaxButton(\"disable\", new ResourceModel(\"disable\", \"Disable\")) {\n+            disable = new ClearIndicatingAjaxButton(\"disable\", new ResourceModel(\"disable\", \"Disable\"), pageRef) {\n \n                 private static final long serialVersionUID = -958724007591692537L;\n \n                 @Override\n-                protected void onSubmit(final AjaxRequestTarget target, final Form form) {\n-\n+                protected void onSubmitInternal(final AjaxRequestTarget target, final Form form) {\n                     try {\n                         userRestClient.suspend(attributable.getId(), statuses);\n \n-                        if (callerPageRef.getPage() instanceof BasePage) {\n-                            ((BasePage) callerPageRef.getPage()).setModalResult(true);\n+                        if (pageRef.getPage() instanceof BasePage) {\n+                            ((BasePage) pageRef.getPage()).setModalResult(true);\n                         }\n \n                         window.close(target);\n@@ -95,17 +94,16 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n \n         final AjaxButton enable;\n         if (attributable instanceof UserTO) {\n-            enable = new IndicatingAjaxButton(\"enable\", new ResourceModel(\"enable\", \"Enable\")) {\n+            enable = new ClearIndicatingAjaxButton(\"enable\", new ResourceModel(\"enable\", \"Enable\"), pageRef) {\n \n                 private static final long serialVersionUID = -958724007591692537L;\n \n                 @Override\n-                protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-\n+                protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                     try {\n                         userRestClient.reactivate(attributable.getId(), statuses);\n \n-                        ((BasePage) callerPageRef.getPage()).setModalResult(true);\n+                        ((BasePage) pageRef.getPage()).setModalResult(true);\n \n                         window.close(target);\n                     } catch (Exception e) {\n@@ -131,18 +129,14 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n         }\n         form.add(enable);\n \n-        final IndicatingAjaxButton cancel = new IndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\")) {\n+        final AjaxButton cancel = new ClearIndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\"), pageRef) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form form) {\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form form) {\n                 window.close(target);\n             }\n-\n-            @Override\n-            protected void onError(final AjaxRequestTarget target, final Form form) {\n-            }\n         };\n         cancel.setDefaultFormProcessing(false);\n         form.add(cancel);"},{"sha":"e32229129b3804f4327173e56aeeefb49b8a7826","filename":"console/src/main/java/org/apache/syncope/console/pages/SyncTaskModalPage.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -43,9 +43,9 @@ public class SyncTaskModalPage extends AbstractSchedTaskModalPage {\n     @SpringBean\n     private ResourceRestClient resourceRestClient;\n \n-    public SyncTaskModalPage(final ModalWindow window, final SyncTaskTO taskTO, final PageReference callerPageRef) {\n+    public SyncTaskModalPage(final ModalWindow window, final SyncTaskTO taskTO, final PageReference pageRef) {\n \n-        super(window, taskTO, callerPageRef);\n+        super(window, taskTO, pageRef);\n \n         final IModel<List<String>> allResources = new LoadableDetachableModel<List<String>>() {\n "},{"sha":"98499b4417a4bf8c269e11676d5e709e8341fcc4","filename":"console/src/main/java/org/apache/syncope/console/pages/TaskModalPage.java","status":"modified","additions":14,"deletions":12,"changes":26,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -31,16 +31,17 @@\n import org.apache.syncope.common.validation.SyncopeClientCompositeErrorException;\n import org.apache.syncope.console.commons.SortableDataProviderComparator;\n import org.apache.syncope.console.rest.TaskRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n import org.apache.syncope.console.wicket.extensions.markup.html.repeater.data.table.DatePropertyColumn;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLinksPanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.apache.wicket.Component;\n import org.apache.wicket.Page;\n+import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.behavior.Behavior;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n@@ -71,15 +72,14 @@ public abstract class TaskModalPage extends BaseModalPage {\n \n     @SpringBean\n     protected TaskRestClient taskRestClient;\n-    \n+\n     protected WebMarkupContainer profile;\n \n     protected WebMarkupContainer executions;\n \n     protected Form form;\n-    \n-    public TaskModalPage(final TaskTO taskTO) {\n \n+    public TaskModalPage(final TaskTO taskTO, final PageReference pageRef) {\n         final ModalWindow taskExecMessageWin = new ModalWindow(\"taskExecMessageWin\");\n         taskExecMessageWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n         taskExecMessageWin.setCookieName(\"task-exec-message-win-modal\");\n@@ -105,7 +105,7 @@ public TaskModalPage(final TaskTO taskTO) {\n \n         id.setEnabled(false);\n         profile.add(id);\n-        \n+\n         final List<IColumn> columns = new ArrayList<IColumn>();\n         columns.add(new PropertyColumn(new ResourceModel(\"id\"), \"id\", \"id\"));\n \n@@ -130,7 +130,7 @@ public void populateItem(final Item<ICellPopulator<TaskExecTO>> cellItem, final\n \n                 final TaskExecTO taskExecutionTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -182,23 +182,25 @@ public void onClick(final AjaxRequestTarget target) {\n \n         executions.add(table);\n \n-        final AjaxLink reload = new IndicatingAjaxLink(\"reload\") {\n+        final AjaxLink reload = new ClearIndicatingAjaxLink(\"reload\", pageRef) {\n+\n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(AjaxRequestTarget target) {\n+            protected void onClickInternal(final AjaxRequestTarget target) {\n                 if (target != null) {\n-                    final AjaxFallbackDefaultDataTable currentTable = \n+                    final AjaxFallbackDefaultDataTable currentTable =\n                             new AjaxFallbackDefaultDataTable(\"executionsTable\", columns,\n                             new TaskExecutionsProvider(getCurrentTaskExecution(taskTO)), paginatorRows);\n                     currentTable.setOutputMarkupId(true);\n                     target.add(currentTable);\n-                    executions.addOrReplace(currentTable);   \n+                    executions.addOrReplace(currentTable);\n                 }\n             }\n         };\n-        \n+\n         reload.add(new Behavior() {\n+\n             private static final long serialVersionUID = 1469628524240283489L;\n \n             @Override\n@@ -239,7 +241,7 @@ public Iterator<TaskExecTO> iterator(final long first, final long count) {\n \n             Collections.sort(list, comparator);\n \n-            return list.subList((int)first, (int)first + (int)count).iterator();\n+            return list.subList((int) first, (int) first + (int) count).iterator();\n         }\n \n         @Override"},{"sha":"9b75c11981ad612b4e45d3e6b450964a26d2d4ab","filename":"console/src/main/java/org/apache/syncope/console/pages/Tasks.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTasks.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTasks.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTasks.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -50,8 +50,8 @@ public class Tasks extends BasePage {\n     public Tasks(final PageParameters parameters) {\n         super();\n \n-        add(new PropagationTasks(\"propagation\"));\n-        add(new NotificationTasks(\"notification\"));\n+        add(new PropagationTasks(\"propagation\", getPageReference()));\n+        add(new NotificationTasks(\"notification\", getPageReference()));\n         add(new SchedTasks(\"sched\", getPageReference()));\n         add(new SyncTasks(\"sync\", getPageReference()));\n     }"},{"sha":"6b37bb72c2eee61fe8fd04744f99b94c4f4423ed","filename":"console/src/main/java/org/apache/syncope/console/pages/Todo.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTodo.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTodo.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTodo.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -136,7 +136,7 @@ public void populateItem(final Item<ICellPopulator<WorkflowFormTO>> cellItem, fi\n \n                 final WorkflowFormTO formTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -248,7 +248,7 @@ public void populateItem(final Item<ICellPopulator<UserRequestTO>> cellItem, fin\n \n                 final UserRequestTO request = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n "},{"sha":"0561f50dd87d9549a145dc0c4b5c39003f5d3d86","filename":"console/src/main/java/org/apache/syncope/console/pages/UserModalPage.java","status":"modified","additions":10,"deletions":11,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -25,11 +25,11 @@\n import org.apache.syncope.console.pages.panels.ResourcesPanel;\n import org.apache.syncope.console.pages.panels.UserDetailsPanel;\n import org.apache.syncope.console.pages.panels.VirtualAttributesPanel;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.basic.Label;\n import org.apache.wicket.markup.html.form.Form;\n@@ -53,7 +53,7 @@ public enum Mode {\n \n     private static final long serialVersionUID = 5002005009737457667L;\n \n-    protected final PageReference callerPageRef;\n+    protected final PageReference pageRef;\n \n     protected final ModalWindow window;\n \n@@ -70,7 +70,7 @@ public UserModalPage(final PageReference callerPageRef, final ModalWindow window\n \n         super();\n \n-        this.callerPageRef = callerPageRef;\n+        this.pageRef = callerPageRef;\n         this.window = window;\n         this.userTO = userTO;\n         this.mode = mode;\n@@ -122,13 +122,13 @@ protected Form setupEditPanel() {\n         //--------------------------------\n         // Derived attributes panel\n         //--------------------------------\n-        form.add(new DerivedAttributesPanel(\"derivedAttributes\", userTO));\n+        form.add(new DerivedAttributesPanel(\"derivedAttributes\", userTO, pageRef));\n         //--------------------------------\n \n         //--------------------------------\n         // Virtual attributes panel\n         //--------------------------------\n-        form.add(new VirtualAttributesPanel(\"virtualAttributes\", userTO, mode == Mode.TEMPLATE));\n+        form.add(new VirtualAttributesPanel(\"virtualAttributes\", userTO, mode == Mode.TEMPLATE, pageRef));\n         //--------------------------------\n \n         //--------------------------------\n@@ -140,7 +140,7 @@ protected Form setupEditPanel() {\n         //--------------------------------\n         // Roles panel\n         //--------------------------------\n-        form.add(new MembershipsPanel(\"memberships\", userTO, mode == Mode.TEMPLATE, null));\n+        form.add(new MembershipsPanel(\"memberships\", userTO, mode == Mode.TEMPLATE, null, pageRef));\n         //--------------------------------\n \n         final AjaxButton submit = getOnSubmit();\n@@ -176,17 +176,17 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n     }\n \n     protected AjaxButton getOnSubmit() {\n-        return new IndicatingAjaxButton(\"apply\", new ResourceModel(\"submit\")) {\n+        return new ClearIndicatingAjaxButton(\"apply\", new ResourceModel(\"submit\"), pageRef) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 try {\n                     submitAction(target, form);\n \n-                    if (callerPageRef.getPage() instanceof BasePage) {\n-                        ((BasePage) callerPageRef.getPage()).setModalResult(true);\n+                    if (pageRef.getPage() instanceof BasePage) {\n+                        ((BasePage) pageRef.getPage()).setModalResult(true);\n                     }\n \n                     closeAction(target, form);\n@@ -199,7 +199,6 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n \n             @Override\n             protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-\n                 target.add(feedbackPanel);\n             }\n         };"},{"sha":"910c1c1bfe3ecbc87c38090624bc1921c4f54d9e","filename":"console/src/main/java/org/apache/syncope/console/pages/Users.java","status":"modified","additions":6,"deletions":7,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUsers.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUsers.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUsers.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -25,14 +25,14 @@\n import org.apache.syncope.console.pages.panels.UserSearchPanel;\n import org.apache.syncope.console.pages.panels.UserSearchResultPanel;\n import org.apache.syncope.console.rest.UserRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n import org.apache.wicket.Page;\n import org.apache.wicket.Session;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n import org.apache.wicket.event.Broadcast;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.form.Form;\n import org.apache.wicket.model.ResourceModel;\n@@ -70,12 +70,12 @@ public Users(final PageParameters parameters) {\n         add(listResult);\n \n         // create new user\n-        final AjaxLink createLink = new IndicatingAjaxLink(\"createLink\") {\n+        final AjaxLink createLink = new ClearIndicatingAjaxLink(\"createLink\", getPageReference()) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(final AjaxRequestTarget target) {\n+            protected void onClickInternal(final AjaxRequestTarget target) {\n                 editModalWin.setPageCreator(new ModalWindow.PageCreator() {\n \n                     private static final long serialVersionUID = -7834632442532690940L;\n@@ -101,13 +101,12 @@ public Page createPage() {\n         final UserSearchPanel searchPanel = new UserSearchPanel(\"searchPanel\");\n         searchForm.add(searchPanel);\n \n-        searchForm.add(new IndicatingAjaxButton(\"search\", new ResourceModel(\"search\")) {\n+        searchForm.add(new ClearIndicatingAjaxButton(\"search\", new ResourceModel(\"search\"), getPageReference()) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 final NodeCond searchCond = searchPanel.buildSearchCond();\n                 LOG.debug(\"Node condition \" + searchCond);\n "},{"sha":"e539130169fc9dbf49b92bcbede12b211aba6c17","filename":"console/src/main/java/org/apache/syncope/console/pages/VirtualSchemaModalPage.java","status":"modified","additions":14,"deletions":19,"changes":33,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FVirtualSchemaModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FVirtualSchemaModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FVirtualSchemaModalPage.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -22,12 +22,13 @@\n import org.apache.syncope.common.to.VirtualSchemaTO;\n import org.apache.syncope.common.types.AttributableType;\n import org.apache.syncope.common.validation.SyncopeClientCompositeErrorException;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.form.Form;\n import org.apache.wicket.model.CompoundPropertyModel;\n@@ -46,7 +47,7 @@ public VirtualSchemaModalPage(AttributableType kind) {\n     }\n \n     @Override\n-    public void setSchemaModalPage(final PageReference callerPageRef, final ModalWindow window,\n+    public void setSchemaModalPage(final PageReference pageRef, final ModalWindow window,\n             AbstractBaseBean schema, final boolean createFlag) {\n \n         if (schema == null) {\n@@ -62,27 +63,25 @@ public void setSchemaModalPage(final PageReference callerPageRef, final ModalWin\n         name.addRequiredLabel();\n \n         name.setEnabled(createFlag);\n-        \n+\n         final AjaxCheckBoxPanel readonly = new AjaxCheckBoxPanel(\"readonly\", getString(\"readonly\"),\n-                                                                 new PropertyModel<Boolean>(schema, \"readonly\"));\n+                new PropertyModel<Boolean>(schema, \"readonly\"));\n \n-        final IndicatingAjaxButton submit = new IndicatingAjaxButton(\"apply\", new ResourceModel(\"submit\")) {\n+        final AjaxButton submit = new ClearIndicatingAjaxButton(\"apply\", new ResourceModel(\"submit\"), pageRef) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form form) {\n                 VirtualSchemaTO schemaTO = (VirtualSchemaTO) form.getDefaultModelObject();\n-\n                 try {\n                     if (createFlag) {\n                         restClient.createVirtualSchema(kind, schemaTO);\n                     } else {\n                         restClient.updateVirtualSchema(kind, schemaTO);\n                     }\n-                    if (callerPageRef.getPage() instanceof BasePage) {\n-                        ((BasePage) callerPageRef.getPage()).setModalResult(true);\n+                    if (pageRef.getPage() instanceof BasePage) {\n+                        ((BasePage) pageRef.getPage()).setModalResult(true);\n                     }\n \n                     window.close(target);\n@@ -94,24 +93,20 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n \n             @Override\n             protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-\n                 target.add(feedbackPanel);\n             }\n         };\n-        \n-        final IndicatingAjaxButton cancel = new IndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\")) {\n+\n+        final AjaxButton cancel = new ClearIndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\"), pageRef) {\n+\n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 window.close(target);\n             }\n-\n-            @Override\n-            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-            }\n         };\n-        \n+\n         cancel.setDefaultFormProcessing(false);\n \n         String allowedRoles;"},{"sha":"f809fd6596271c07c1cd81965973f5d8356a60ef","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/AbstractSearchResultPanel.java","status":"modified","additions":8,"deletions":8,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAbstractSearchResultPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAbstractSearchResultPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAbstractSearchResultPanel.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -29,6 +29,7 @@\n import org.apache.syncope.console.pages.DisplayAttributesModalPage;\n import org.apache.syncope.console.rest.AbstractAttributableRestClient;\n import org.apache.syncope.console.rest.UserRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n import org.apache.wicket.Component;\n import org.apache.wicket.Page;\n import org.apache.wicket.PageReference;\n@@ -40,7 +41,6 @@\n import org.apache.wicket.event.Broadcast;\n import org.apache.wicket.event.IEvent;\n import org.apache.wicket.event.IEventSource;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n@@ -165,13 +165,13 @@ public abstract class AbstractSearchResultPanel extends Panel implements IEventS\n     protected final AbstractBasePage page;\n \n     protected <T extends AbstractAttributableTO> AbstractSearchResultPanel(final String id, final boolean filtered,\n-            final NodeCond searchCond, final PageReference callerRef, final AbstractAttributableRestClient restClient) {\n+            final NodeCond searchCond, final PageReference pageRef, final AbstractAttributableRestClient restClient) {\n \n         super(id);\n \n         setOutputMarkupId(true);\n \n-        this.page = (AbstractBasePage) callerRef.getPage();\n+        this.page = (AbstractBasePage) pageRef.getPage();\n \n         this.filtered = filtered;\n         this.filter = searchCond;\n@@ -215,13 +215,12 @@ protected <T extends AbstractAttributableTO> AbstractSearchResultPanel(final Str\n             // ---------------------------\n             // Link to select schemas/columns to be shown (User)\n             // ---------------------------\n-            displayAttrsLink = new IndicatingAjaxLink(\"displayAttrsLink\") {\n+            displayAttrsLink = new ClearIndicatingAjaxLink(\"displayAttrsLink\", pageRef) {\n \n                 private static final long serialVersionUID = -7978723352517770644L;\n \n                 @Override\n-                public void onClick(final AjaxRequestTarget target) {\n-\n+                protected void onClickInternal(final AjaxRequestTarget target) {\n                     displaymodal.setPageCreator(new ModalWindow.PageCreator() {\n \n                         private static final long serialVersionUID = -7834632442532690940L;\n@@ -258,6 +257,7 @@ public void onComponentTag(final Component component, final ComponentTag tag) {\n                     displayAttrsLink, ENABLE, xmlRolesReader.getAllAllowedRoles(\"Users\", \"changeView\"));\n         } else {\n             displayAttrsLink = new AjaxLink(\"displayAttrsLink\") {\n+\n                 private static final long serialVersionUID = -7978723352517770644L;\n \n                 @Override\n@@ -268,12 +268,12 @@ public void onClick(final AjaxRequestTarget target) {\n         }\n         container.add(displayAttrsLink);\n \n-        final AjaxLink reload = new IndicatingAjaxLink(\"reload\") {\n+        final AjaxLink reload = new ClearIndicatingAjaxLink(\"reload\", pageRef) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(final AjaxRequestTarget target) {\n+            protected void onClickInternal(final AjaxRequestTarget target) {\n                 if (target != null) {\n                     target.add(resultTable);\n                 }"},{"sha":"b828b795d1cd0ba34d9274e3bd47ebaea26fa128","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/DerivedAttributesPanel.java","status":"modified","additions":8,"deletions":6,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FDerivedAttributesPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FDerivedAttributesPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FDerivedAttributesPanel.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -25,15 +25,16 @@\n import org.apache.syncope.common.to.UserTO;\n import org.apache.syncope.common.types.AttributableType;\n import org.apache.syncope.console.rest.SchemaRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxDecoratedCheckbox;\n import org.apache.wicket.Component;\n+import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.attributes.AjaxCallListener;\n import org.apache.wicket.ajax.attributes.AjaxRequestAttributes;\n import org.apache.wicket.ajax.attributes.IAjaxCallListener;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.form.DropDownChoice;\n import org.apache.wicket.markup.html.form.Form;\n@@ -62,7 +63,9 @@ public class DerivedAttributesPanel extends Panel {\n     @SpringBean\n     private SchemaRestClient schemaRestClient;\n \n-    public <T extends AbstractAttributableTO> DerivedAttributesPanel(final String id, final T entityTO) {\n+    public <T extends AbstractAttributableTO> DerivedAttributesPanel(final String id, final T entityTO,\n+            final PageReference pageRef) {\n+\n         super(id);\n         setOutputMarkupId(true);\n \n@@ -87,20 +90,19 @@ protected List<String> load() {\n         attributesContainer.setOutputMarkupId(true);\n         add(attributesContainer);\n \n-        AjaxButton addAttributeBtn = new IndicatingAjaxButton(\"addAttributeBtn\", new ResourceModel(\"addAttributeBtn\")) {\n+        AjaxButton addAttributeBtn = new ClearIndicatingAjaxButton(\"addAttributeBtn\",\n+                new ResourceModel(\"addAttributeBtn\"), pageRef) {\n \n             private static final long serialVersionUID = -4804368561204623354L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 entityTO.getDerivedAttributes().add(new AttributeTO());\n                 target.add(attributesContainer);\n             }\n \n             @Override\n             protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-\n                 target.add(attributesContainer);\n             }\n         };"},{"sha":"35d964c881b18afcd8db5ffd2a8e51a188517049","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/MembershipsPanel.java","status":"modified","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FMembershipsPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FMembershipsPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FMembershipsPanel.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -31,6 +31,7 @@\n import org.apache.syncope.console.commons.StatusUtils;\n import org.apache.syncope.console.pages.MembershipModalPage;\n import org.apache.syncope.console.pages.UserModalPage;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n import org.apache.syncope.console.wicket.ajax.markup.html.IndicatingDeleteOnConfirmAjaxLink;\n import org.apache.syncope.console.wicket.markup.html.tree.DefaultMutableTreeNodeExpansion;\n import org.apache.syncope.console.wicket.markup.html.tree.DefaultMutableTreeNodeExpansionModel;\n@@ -40,7 +41,6 @@\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.markup.html.repeater.tree.DefaultNestedTree;\n import org.apache.wicket.extensions.markup.html.repeater.tree.ITreeProvider;\n@@ -73,7 +73,7 @@ public class MembershipsPanel extends Panel {\n     private final NestedTree<DefaultMutableTreeNode> tree;\n \n     public MembershipsPanel(final String id, final UserTO userTO, final boolean templateMode,\n-            final StatusPanel statusPanel) {\n+            final StatusPanel statusPanel, final PageReference pageRef) {\n \n         super(id);\n         this.userTO = userTO;\n@@ -160,12 +160,12 @@ protected void populateItem(final ListItem<MembershipTO> item) {\n                 item.add(new Label(\"roleId\", new Model<Long>(membershipTO.getRoleId())));\n                 item.add(new Label(\"roleName\", new Model<String>(membershipTO.getRoleName())));\n \n-                AjaxLink editLink = new IndicatingAjaxLink(\"editLink\") {\n+                AjaxLink editLink = new ClearIndicatingAjaxLink(\"editLink\", pageRef) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n                         membWin.setPageCreator(new ModalWindow.PageCreator() {\n \n                             private static final long serialVersionUID = -7834632442532690940L;\n@@ -182,12 +182,12 @@ public Page createPage() {\n                 };\n                 item.add(editLink);\n \n-                AjaxLink deleteLink = new IndicatingDeleteOnConfirmAjaxLink(\"deleteLink\") {\n+                AjaxLink deleteLink = new IndicatingDeleteOnConfirmAjaxLink(\"deleteLink\", pageRef) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n                         userTO.removeMembership(membershipTO);\n                         target.add(membershipsContainer);\n "},{"sha":"4128b83f9222dc3e9606fc17f9dad20c167759f3","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/NotificationTasks.java","status":"modified","additions":13,"deletions":10,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FNotificationTasks.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FNotificationTasks.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FNotificationTasks.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -30,15 +30,16 @@\n import org.apache.syncope.console.pages.Tasks;\n import org.apache.syncope.console.pages.Tasks.TasksProvider;\n import org.apache.syncope.console.rest.TaskRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLinksPanel;\n import org.apache.wicket.Component;\n import org.apache.wicket.Page;\n+import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.behavior.Behavior;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n@@ -86,7 +87,7 @@ public class NotificationTasks extends Panel {\n \n     private AjaxFallbackDefaultDataTable<TaskTO, String> table;\n \n-    public NotificationTasks(String id) {\n+    public NotificationTasks(final String id, final PageReference pageRef) {\n         super(id);\n \n         container = new WebMarkupContainer(\"container\");\n@@ -122,7 +123,7 @@ public void populateItem(final Item<ICellPopulator<TaskTO>> cellItem, final Stri\n \n                 final TaskTO taskTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, pageRef);\n \n                 panel.add(new ActionLink() {\n \n@@ -137,7 +138,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new NotificationTaskModalPage(taskTO);\n+                                return new NotificationTaskModalPage(taskTO, pageRef);\n                             }\n                         });\n \n@@ -192,19 +193,20 @@ public void onClick(final AjaxRequestTarget target) {\n \n         container.add(table);\n \n-        final AjaxLink reload = new IndicatingAjaxLink(\"reload\") {\n+        final AjaxLink reload = new ClearIndicatingAjaxLink(\"reload\", pageRef) {\n+\n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(AjaxRequestTarget target) {\n+            public void onClickInternal(final AjaxRequestTarget target) {\n                 if (target != null) {\n                     target.add(table);\n                 }\n             }\n         };\n \n         reload.add(new Behavior() {\n-            \n+\n             private static final long serialVersionUID = 1469628524240283489L;\n \n             @Override\n@@ -222,6 +224,7 @@ public void onComponentTag(final Component component, final ComponentTag tag) {\n \n         container.add(reload);\n         window.setWindowClosedCallback(new ModalWindow.WindowClosedCallback() {\n+\n             private static final long serialVersionUID = 8804221891699487139L;\n \n             @Override\n@@ -256,10 +259,10 @@ protected void onUpdate(final AjaxRequestTarget target) {\n \n                 table = Tasks.updateTaskTable(\n                         columns,\n-                        new TasksProvider<NotificationTaskTO>(restClient, paginatorRows,\n-                        getId(), NotificationTaskTO.class),\n+                        new TasksProvider<NotificationTaskTO>(restClient, paginatorRows, getId(),\n+                        NotificationTaskTO.class),\n                         container,\n-                        table == null ? 0 : (int)table.getCurrentPage());\n+                        table == null ? 0 : (int) table.getCurrentPage());\n \n                 target.add(container);\n             }"},{"sha":"c6157636cbe255f2cae6a757df0d505c471735e7","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/PoliciesPanel.java","status":"modified","additions":11,"deletions":12,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FPoliciesPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FPoliciesPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FPoliciesPanel.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -34,13 +34,15 @@\n import org.apache.syncope.console.commons.XMLRolesReader;\n import org.apache.syncope.console.pages.PolicyModalPage;\n import org.apache.syncope.console.rest.PolicyRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLinksPanel;\n import org.apache.wicket.Page;\n+import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n+import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n@@ -92,7 +94,7 @@ public class PoliciesPanel extends Panel {\n \n     private PolicyType policyType;\n \n-    public PoliciesPanel(final String id, final PolicyType policyType) {\n+    public PoliciesPanel(final String id, final PageReference pageRef, final PolicyType policyType) {\n         super(id);\n \n         this.policyType = policyType;\n@@ -146,7 +148,7 @@ public void populateItem(final Item<ICellPopulator<PolicyTO>> cellItem, final St\n \n                 final PolicyTO accountPolicyTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, pageRef);\n \n                 panel.add(new ActionLink() {\n \n@@ -161,8 +163,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                final PolicyModalPage page = new PolicyModalPage(mwindow, accountPolicyTO);\n-                                return page;\n+                                return new PolicyModalPage(mwindow, accountPolicyTO, pageRef);\n                             }\n                         });\n \n@@ -184,8 +185,8 @@ public void onClick(final AjaxRequestTarget target) {\n                         } catch (SyncopeClientCompositeErrorException e) {\n                             error(getString(\"operation_error\"));\n \n-                            LOG.error(\"While deleting resource {}({})\", accountPolicyTO.getId(),\n-                                    accountPolicyTO.getDescription(), e);\n+                            LOG.error(\"While deleting resource {}({})\", new Object[]{accountPolicyTO.getId(),\n+                                        accountPolicyTO.getDescription()}, e);\n                         }\n \n                         target.add(container);\n@@ -202,21 +203,19 @@ public void onClick(final AjaxRequestTarget target) {\n \n         container.add(table);\n \n-        final IndicatingAjaxLink createButton = new IndicatingAjaxLink(\"createLink\") {\n+        final AjaxLink createButton = new ClearIndicatingAjaxLink(\"createLink\", pageRef) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(final AjaxRequestTarget target) {\n-\n+            protected void onClickInternal(final AjaxRequestTarget target) {\n                 mwindow.setPageCreator(new ModalWindow.PageCreator() {\n \n                     private static final long serialVersionUID = -7834632442532690940L;\n \n                     @Override\n                     public Page createPage() {\n-                        final PolicyModalPage page = new PolicyModalPage(mwindow, getPolicyTOInstance(policyType));\n-                        return page;\n+                        return new PolicyModalPage(mwindow, getPolicyTOInstance(policyType), pageRef);\n                     }\n                 });\n "},{"sha":"eedf64f777a5e4aacaffedce3823e77b55b9e4ba","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/PropagationTasks.java","status":"modified","additions":8,"deletions":7,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FPropagationTasks.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FPropagationTasks.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FPropagationTasks.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -30,16 +30,17 @@\n import org.apache.syncope.console.pages.Tasks;\n import org.apache.syncope.console.pages.Tasks.TasksProvider;\n import org.apache.syncope.console.rest.TaskRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n import org.apache.syncope.console.wicket.extensions.markup.html.repeater.data.table.DatePropertyColumn;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLinksPanel;\n import org.apache.wicket.Component;\n import org.apache.wicket.Page;\n+import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.behavior.Behavior;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n@@ -90,7 +91,7 @@ public class PropagationTasks extends Panel {\n \n     private AjaxFallbackDefaultDataTable<TaskTO, String> table;\n \n-    public PropagationTasks(final String id) {\n+    public PropagationTasks(final String id, final PageReference pageRef) {\n         super(id);\n \n         container = new WebMarkupContainer(\"container\");\n@@ -137,7 +138,7 @@ public void populateItem(final Item<ICellPopulator<TaskTO>> cellItem, final Stri\n \n                 final TaskTO taskTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, pageRef);\n \n                 panel.add(new ActionLink() {\n \n@@ -152,7 +153,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new PropagationTaskModalPage(taskTO);\n+                                return new PropagationTaskModalPage(taskTO, pageRef);\n                             }\n                         });\n \n@@ -225,12 +226,12 @@ public void onClose(final AjaxRequestTarget target) {\n         window.setInitialWidth(WIN_WIDTH);\n         window.setCookieName(\"view-task-win\");\n \n-        final AjaxLink reload = new IndicatingAjaxLink(\"reload\") {\n+        final AjaxLink reload = new ClearIndicatingAjaxLink(\"reload\", pageRef) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(AjaxRequestTarget target) {\n+            protected void onClickInternal(AjaxRequestTarget target) {\n                 if (target != null) {\n                     target.add(table);\n                 }\n@@ -275,7 +276,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n                         new TasksProvider<PropagationTaskTO>(restClient, paginatorRows,\n                         getId(), PropagationTaskTO.class),\n                         container,\n-                        table == null ? 0 : (int)table.getCurrentPage());\n+                        table == null ? 0 : (int) table.getCurrentPage());\n \n                 target.add(container);\n             }"},{"sha":"0da15805b154ba8f94cd1ec478d3234245d5254a","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/ResourceConnConfPanel.java","status":"modified","additions":6,"deletions":5,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceConnConfPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceConnConfPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceConnConfPanel.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -29,19 +29,20 @@\n import org.apache.syncope.console.pages.ResourceModalPage.ResourceEvent;\n import org.apache.syncope.console.pages.panels.ResourceDetailsPanel.DetailsModEvent;\n import org.apache.syncope.console.rest.ConnectorRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxNumberFieldPanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxPasswordFieldPanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.apache.syncope.console.wicket.markup.html.form.FieldPanel;\n import org.apache.syncope.console.wicket.markup.html.form.MultiValueSelectorPanel;\n import org.apache.syncope.console.wicket.markup.html.form.MultiValueSelectorPanel.MultiValueSelectorEvent;\n+import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.event.Broadcast;\n import org.apache.wicket.event.IEvent;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.basic.Label;\n import org.apache.wicket.markup.html.form.PasswordTextField;\n@@ -93,7 +94,8 @@ public class ResourceConnConfPanel extends Panel {\n \n     private ResourceTO resourceTO;\n \n-    public ResourceConnConfPanel(final String id, final ResourceTO resourceTO, final boolean createFlag) {\n+    public ResourceConnConfPanel(final String id, final ResourceTO resourceTO, final boolean createFlag,\n+            final PageReference pageRef) {\n \n         super(id);\n         setOutputMarkupId(true);\n@@ -107,13 +109,12 @@ public ResourceConnConfPanel(final String id, final ResourceTO resourceTO, final\n         connConfPropContainer.setOutputMarkupId(true);\n         add(connConfPropContainer);\n \n-        check = new IndicatingAjaxLink(\"check\", new ResourceModel(\"check\")) {\n+        check = new ClearIndicatingAjaxLink(\"check\", new ResourceModel(\"check\"), pageRef) {\n \n             private static final long serialVersionUID = -4199438518229098169L;\n \n             @Override\n-            public void onClick(final AjaxRequestTarget target) {\n-\n+            protected void onClickInternal(final AjaxRequestTarget target) {\n                 if (connRestClient.check(resourceTO)) {\n                     info(getString(\"success_connection\"));\n                 } else {"},{"sha":"c04185cd4472a262abc32184341f0a9322cf0f40","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/ResourceMappingPanel.java","status":"modified","additions":7,"deletions":10,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceMappingPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceMappingPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceMappingPanel.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -35,20 +35,21 @@\n import org.apache.syncope.console.pages.panels.ResourceConnConfPanel.ConnConfModEvent;\n import org.apache.syncope.console.rest.ConnectorRestClient;\n import org.apache.syncope.console.rest.SchemaRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxDecoratedCheckbox;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.apache.syncope.console.wicket.markup.html.form.FieldPanel;\n import org.apache.wicket.Component;\n+import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.attributes.AjaxCallListener;\n import org.apache.wicket.ajax.attributes.AjaxRequestAttributes;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.event.IEvent;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.basic.Label;\n import org.apache.wicket.markup.html.form.Form;\n@@ -164,7 +165,8 @@ private MappingTO getMapping() {\n      * @param resourceTO external resource\n      * @param attrType USER / ROLE\n      */\n-    public ResourceMappingPanel(final String panelid, final ResourceTO resourceTO, final AttributableType attrType) {\n+    public ResourceMappingPanel(final String panelid, final ResourceTO resourceTO, final AttributableType attrType,\n+            final PageReference pageRef) {\n \n         super(panelid);\n         setOutputMarkupId(true);\n@@ -369,7 +371,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n                         extAttrName.setModelObject(null);\n                         extAttrName.setRequired(!accountId.getModelObject());\n                         target.add(extAttrName);\n-                        \n+\n                         if (accountId.getModelObject()) {\n                             mapItem.setMandatoryCondition(\"true\");\n                             mandatory.setEnabled(false);\n@@ -426,20 +428,15 @@ protected void onUpdate(final AjaxRequestTarget target) {\n         mappings.setReuseItems(true);\n         mappingContainer.add(mappings);\n \n-        addMappingBtn = new IndicatingAjaxButton(\"addMappingBtn\", new ResourceModel(\"add\")) {\n+        addMappingBtn = new ClearIndicatingAjaxButton(\"addMappingBtn\", new ResourceModel(\"add\"), pageRef) {\n \n             private static final long serialVersionUID = -4804368561204623354L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 getMapping().getItems().add(new MappingItemTO());\n                 target.add(ResourceMappingPanel.this);\n             }\n-\n-            @Override\n-            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-                // ignore errors\n-            }\n         };\n         addMappingBtn.setDefaultFormProcessing(false);\n         addMappingBtn.setEnabled(this.resourceTO.getConnectorId() != null && this.resourceTO.getConnectorId() > 0);"},{"sha":"0170fefdd194f2ac2fe77e730404a766256d8491","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/RolePanel.java","status":"modified","additions":6,"deletions":3,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRolePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRolePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRolePanel.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -23,6 +23,7 @@\n import org.apache.syncope.console.pages.RoleModalPage;\n import org.apache.syncope.console.rest.AuthRestClient;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n+import org.apache.wicket.PageReference;\n import org.apache.wicket.extensions.markup.html.form.palette.Palette;\n import org.apache.wicket.markup.html.form.Form;\n import org.apache.wicket.markup.html.panel.Panel;\n@@ -39,7 +40,9 @@ public class RolePanel extends Panel {\n \n     private final Palette<String> entitlementsPalette;\n \n-    public RolePanel(final String id, final Form form, final RoleTO roleTO, final RoleModalPage.Mode mode) {\n+    public RolePanel(final String id, final Form form, final RoleTO roleTO, final RoleModalPage.Mode mode,\n+            final PageReference pageRef) {\n+\n         super(id);\n \n         this.add(new RoleDetailsPanel(\"details\", roleTO, form, mode == RoleModalPage.Mode.TEMPLATE));\n@@ -57,7 +60,7 @@ public RolePanel(final String id, final Form form, final RoleTO roleTO, final Ro\n         //--------------------------------\n         // Derived attributes container\n         //--------------------------------\n-        this.add(new DerivedAttributesPanel(\"derivedAttributes\", roleTO));\n+        this.add(new DerivedAttributesPanel(\"derivedAttributes\", roleTO, pageRef));\n \n         final AjaxCheckBoxPanel inhDerivedAttributes = new AjaxCheckBoxPanel(\"inheritDerivedAttributes\",\n                 \"inheritDerivedAttributes\", new PropertyModel<Boolean>(roleTO, \"inheritDerivedAttributes\"));\n@@ -69,7 +72,7 @@ public RolePanel(final String id, final Form form, final RoleTO roleTO, final Ro\n         //--------------------------------\n         // Virtual attributes container\n         //--------------------------------\n-        this.add(new VirtualAttributesPanel(\"virtualAttributes\", roleTO, mode == RoleModalPage.Mode.TEMPLATE));\n+        this.add(new VirtualAttributesPanel(\"virtualAttributes\", roleTO, mode == RoleModalPage.Mode.TEMPLATE, pageRef));\n \n         final AjaxCheckBoxPanel inhVirtualAttributes = new AjaxCheckBoxPanel(\"inheritVirtualAttributes\",\n                 \"inheritVirtualAttributes\", new PropertyModel<Boolean>(roleTO, \"inheritVirtualAttributes\"));"},{"sha":"ba8d7597a80015ac4df16575ed3eb57dfb5df208","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/RoleSearchResultPanel.java","status":"modified","additions":33,"deletions":32,"changes":65,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleSearchResultPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleSearchResultPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleSearchResultPanel.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -43,115 +43,116 @@\n import org.apache.wicket.model.ResourceModel;\n \n public class RoleSearchResultPanel extends AbstractSearchResultPanel {\n-\n+    \n     private static final long serialVersionUID = -1180593361914008764L;\n-\n+    \n     public <T extends AbstractAttributableTO> RoleSearchResultPanel(final String id, final boolean filtered,\n             final NodeCond searchCond, final PageReference callerRef,\n             final AbstractAttributableRestClient restClient) {\n-\n+        \n         super(id, filtered, searchCond, callerRef, restClient);\n     }\n-\n+    \n     @Override\n     protected List<IColumn<AbstractAttributableTO, String>> getColumns() {\n         final List<IColumn<AbstractAttributableTO, String>> columns =\n                 new ArrayList<IColumn<AbstractAttributableTO, String>>();\n-\n+        \n         final String[] colnames = {\"id\", \"name\", \"entitlements\"};\n         for (String name : colnames) {\n             columns.add(\n                     new PropertyColumn<AbstractAttributableTO, String>(new ResourceModel(name, name), name, name));\n         }\n-\n+        \n         columns.add(new AbstractColumn<AbstractAttributableTO, String>(new ResourceModel(\"actions\", \"\")) {\n-            private static final long serialVersionUID = -3503023501954863131L;\n \n+            private static final long serialVersionUID = -3503023501954863131L;\n+            \n             @Override\n             public String getCssClass() {\n                 return \"action\";\n             }\n-\n+            \n             @Override\n             public void populateItem(final Item<ICellPopulator<AbstractAttributableTO>> cellItem,\n                     final String componentId, final IModel<AbstractAttributableTO> model) {\n-\n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n-\n+                \n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, page.getPageReference());\n+                \n                 panel.add(new ActionLink() {\n-\n+                    \n                     private static final long serialVersionUID = -3722207913631435501L;\n-\n+                    \n                     @Override\n                     public void onClick(final AjaxRequestTarget target) {\n                         statusmodal.setPageCreator(new ModalWindow.PageCreator() {\n-\n+                            \n                             private static final long serialVersionUID = -7834632442532690940L;\n-\n+                            \n                             @Override\n                             public Page createPage() {\n                                 return new StatusModalPage(page.getPageReference(), statusmodal, model.getObject());\n                             }\n                         });\n-\n+                        \n                         statusmodal.show(target);\n                     }\n                 }, ActionLink.ActionType.SEARCH, \"Roles\", \"read\");\n-\n+                \n                 panel.add(new ActionLink() {\n-\n+                    \n                     private static final long serialVersionUID = -3722207913631435501L;\n-\n+                    \n                     @Override\n                     public void onClick(final AjaxRequestTarget target) {\n                         editmodal.setPageCreator(new ModalWindow.PageCreator() {\n-\n+                            \n                             private static final long serialVersionUID = -7834632442532690940L;\n-\n+                            \n                             @Override\n                             public Page createPage() {\n                                 return new RoleModalPage(\n                                         page.getPageReference(), editmodal, (RoleTO) model.getObject());\n                             }\n                         });\n-\n+                        \n                         editmodal.show(target);\n                     }\n                 }, ActionLink.ActionType.EDIT, \"Roles\", \"update\");\n-\n+                \n                 panel.add(new ActionLink() {\n-\n+                    \n                     private static final long serialVersionUID = -3722207913631435501L;\n-\n+                    \n                     @Override\n                     public void onClick(final AjaxRequestTarget target) {\n                         try {\n                             final RoleTO roleTO = (RoleTO) restClient.delete(model.getObject().getId());\n-\n+                            \n                             page.setModalResult(true);\n-\n+                            \n                             editmodal.setPageCreator(new ModalWindow.PageCreator() {\n-\n+                                \n                                 private static final long serialVersionUID = -7834632442532690940L;\n-\n+                                \n                                 @Override\n                                 public Page createPage() {\n                                     return new ResultStatusModalPage(editmodal, roleTO);\n                                 }\n                             });\n-\n+                            \n                             editmodal.show(target);\n                         } catch (SyncopeClientCompositeErrorException scce) {\n                             error(getString(\"operation_error\") + \": \" + scce.getMessage());\n                             target.add(feedbackPanel);\n                         }\n                     }\n                 }, ActionLink.ActionType.DELETE, \"Roles\", \"delete\");\n-\n+                \n                 cellItem.add(panel);\n             }\n         });\n-\n+        \n         return columns;\n     }\n }"},{"sha":"099872af8ac25114aed26dd34a30828dd52c9ea0","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/RoleTabPanel.java","status":"modified","additions":8,"deletions":12,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleTabPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleTabPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleTabPanel.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -23,10 +23,10 @@\n import org.apache.syncope.common.to.RoleTO;\n import org.apache.syncope.console.pages.RoleModalPage;\n import org.apache.syncope.console.rest.UserRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.syncope.console.wicket.markup.html.tree.TreeActionLinkPanel;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.basic.Label;\n@@ -44,48 +44,44 @@ public class RoleTabPanel extends Panel {\n     private UserRestClient restClient;\n \n     public RoleTabPanel(final String id, final RoleTO roleTO, final ModalWindow window,\n-            final PageReference callerPageRef) {\n+            final PageReference pageRef) {\n \n         super(id);\n \n         final Form form = new Form(\"roleForm\");\n \n         final TreeActionLinkPanel actionLink = new TreeActionLinkPanel(\"actionLink\", roleTO.getId(),\n-                new CompoundPropertyModel(roleTO), window, callerPageRef);\n+                new CompoundPropertyModel(roleTO), window, pageRef);\n \n         this.add(actionLink);\n         this.add(new Label(\"displayName\", roleTO.getDisplayName()));\n \n         form.setModel(new CompoundPropertyModel(roleTO));\n         form.setOutputMarkupId(true);\n \n-        final RolePanel rolePanel = new RolePanel(\"rolePanel\", form, roleTO, RoleModalPage.Mode.ADMIN);\n+        final RolePanel rolePanel = new RolePanel(\"rolePanel\", form, roleTO, RoleModalPage.Mode.ADMIN, pageRef);\n         rolePanel.setEnabled(false);\n         form.add(rolePanel);\n \n         final WebMarkupContainer userListContainer = new WebMarkupContainer(\"userListContainer\");\n \n         userListContainer.setOutputMarkupId(true);\n         userListContainer.setEnabled(true);\n-        userListContainer.add(new UserSearchResultPanel(\"userList\", true, null, callerPageRef, restClient));\n-        userListContainer.add(new IndicatingAjaxButton(\"search\", new ResourceModel(\"search\")) {\n+        userListContainer.add(new UserSearchResultPanel(\"userList\", true, null, pageRef, restClient));\n+        userListContainer.add(new ClearIndicatingAjaxButton(\"search\", new ResourceModel(\"search\"), pageRef) {\n \n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 final MembershipCond membershipCond = new MembershipCond();\n                 membershipCond.setRoleName(roleTO.getName());\n                 NodeCond cond = NodeCond.getLeafCond(membershipCond);\n \n-                userListContainer.replace(new UserSearchResultPanel(\"userList\", true, cond, callerPageRef, restClient));\n+                userListContainer.replace(new UserSearchResultPanel(\"userList\", true, cond, pageRef, restClient));\n \n                 target.add(userListContainer);\n             }\n-\n-            @Override\n-            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-            }\n         });\n \n         form.add(userListContainer);"},{"sha":"37a5230c07dc87325df3499f12cee3c8587d07c1","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/SchedTasks.java","status":"modified","additions":11,"deletions":12,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FSchedTasks.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FSchedTasks.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FSchedTasks.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -30,6 +30,7 @@\n import org.apache.syncope.console.pages.Tasks;\n import org.apache.syncope.console.pages.Tasks.TasksProvider;\n import org.apache.syncope.console.rest.TaskRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n import org.apache.syncope.console.wicket.extensions.markup.html.repeater.data.table.DatePropertyColumn;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLinksPanel;\n@@ -41,7 +42,6 @@\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n import org.apache.wicket.behavior.Behavior;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n@@ -87,7 +87,7 @@ public class SchedTasks extends Panel {\n \n     private AjaxFallbackDefaultDataTable<TaskTO, String> table;\n \n-    public SchedTasks(final String id, final PageReference callerPageRef) {\n+    public SchedTasks(final String id, final PageReference pageRef) {\n \n         super(id);\n \n@@ -102,7 +102,7 @@ public SchedTasks(final String id, final PageReference callerPageRef) {\n         window.setCookieName(\"view-task-win\");\n         add(window);\n \n-        ((Tasks) callerPageRef.getPage()).setWindowClosedCallback(window, container);\n+        ((Tasks) pageRef.getPage()).setWindowClosedCallback(window, container);\n \n         paginatorRows = prefMan.getPaginatorRows(getWebRequest(), Constants.PREF_SCHED_TASKS_PAGINATOR_ROWS);\n \n@@ -138,22 +138,21 @@ public void populateItem(final Item<ICellPopulator<TaskTO>> cellItem, final Stri\n \n                 final SchedTaskTO taskTO = (SchedTaskTO) model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, pageRef);\n \n                 panel.add(new ActionLink() {\n \n                     private static final long serialVersionUID = -3722207913631435501L;\n \n                     @Override\n                     public void onClick(final AjaxRequestTarget target) {\n-\n                         window.setPageCreator(new ModalWindow.PageCreator() {\n \n                             private static final long serialVersionUID = -7834632442532690940L;\n \n                             @Override\n                             public Page createPage() {\n-                                return new SchedTaskModalPage(window, taskTO, callerPageRef);\n+                                return new SchedTaskModalPage(window, taskTO, pageRef);\n                             }\n                         });\n \n@@ -226,12 +225,12 @@ public void onClick(final AjaxRequestTarget target) {\n \n         container.add(table);\n \n-        final AjaxLink reload = new IndicatingAjaxLink(\"reload\") {\n+        final AjaxLink reload = new ClearIndicatingAjaxLink(\"reload\", pageRef) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(AjaxRequestTarget target) {\n+            protected void onClickInternal(AjaxRequestTarget target) {\n                 if (target != null) {\n                     target.add(table);\n                 }\n@@ -275,7 +274,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n                         columns,\n                         new TasksProvider<SchedTaskTO>(restClient, paginatorRows, getId(), SchedTaskTO.class),\n                         container,\n-                        table == null ? 0 : (int)table.getCurrentPage());\n+                        table == null ? 0 : (int) table.getCurrentPage());\n \n                 target.add(container);\n             }\n@@ -284,19 +283,19 @@ protected void onUpdate(final AjaxRequestTarget target) {\n         paginatorForm.add(rowsChooser);\n         add(paginatorForm);\n \n-        AjaxLink createLink = new IndicatingAjaxLink(\"createLink\") {\n+        AjaxLink createLink = new ClearIndicatingAjaxLink(\"createLink\", pageRef) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(final AjaxRequestTarget target) {\n+            protected void onClickInternal(final AjaxRequestTarget target) {\n                 window.setPageCreator(new ModalWindow.PageCreator() {\n \n                     private static final long serialVersionUID = -7834632442532690940L;\n \n                     @Override\n                     public Page createPage() {\n-                        return new SchedTaskModalPage(window, new SchedTaskTO(), callerPageRef);\n+                        return new SchedTaskModalPage(window, new SchedTaskTO(), pageRef);\n                     }\n                 });\n "},{"sha":"df33bd54359d4ecf171834302a5456bcddeadd97","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/SelectOnlyUserSearchResultPanel.java","status":"modified","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FSelectOnlyUserSearchResultPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FSelectOnlyUserSearchResultPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FSelectOnlyUserSearchResultPanel.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -42,17 +42,17 @@ public class SelectOnlyUserSearchResultPanel extends UserSearchResultPanel {\n \n     private static final long serialVersionUID = 2146781496050131930L;\n \n-    private final PageReference callerRef;\n+    private final PageReference pageRef;\n \n     private final ModalWindow window;\n \n     public <T extends AbstractAttributableTO> SelectOnlyUserSearchResultPanel(final String id, final boolean filtered,\n-            final NodeCond searchCond, final PageReference callerRef, final ModalWindow window,\n+            final NodeCond searchCond, final PageReference pageRef, final ModalWindow window,\n             final UserRestClient restClient) {\n \n-        super(id, filtered, searchCond, callerRef, restClient);\n+        super(id, filtered, searchCond, pageRef, restClient);\n \n-        this.callerRef = callerRef;\n+        this.pageRef = pageRef;\n         this.window = window;\n \n         container.get(\"reload\").setEnabled(false);\n@@ -78,15 +78,15 @@ protected List<IColumn<AbstractAttributableTO, String>> getColumns() {\n             public void populateItem(final Item<ICellPopulator<AbstractAttributableTO>> cellItem,\n                     final String componentId, final IModel<AbstractAttributableTO> rowModel) {\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, rowModel);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, rowModel, pageRef);\n \n                 panel.add(new ActionLink() {\n \n                     private static final long serialVersionUID = -3722207913631435501L;\n \n                     @Override\n                     public void onClick(final AjaxRequestTarget target) {\n-                        send(callerRef.getPage(), Broadcast.BREADTH, new RoleDetailsPanel.UserOwnerSelectPayload(\n+                        send(pageRef.getPage(), Broadcast.BREADTH, new RoleDetailsPanel.UserOwnerSelectPayload(\n                                 rowModel.getObject().getId()));\n                         window.close(target);\n                     }"},{"sha":"9c411933f56306118db07a5f83f16297a3c7c48b","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/SyncTasks.java","status":"modified","additions":12,"deletions":13,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FSyncTasks.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FSyncTasks.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FSyncTasks.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -32,6 +32,7 @@\n import org.apache.syncope.console.pages.Tasks.TasksProvider;\n import org.apache.syncope.console.pages.UserTemplateModalPage;\n import org.apache.syncope.console.rest.TaskRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n import org.apache.syncope.console.wicket.extensions.markup.html.repeater.data.table.DatePropertyColumn;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLinksPanel;\n@@ -43,7 +44,6 @@\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n import org.apache.wicket.behavior.Behavior;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n@@ -89,7 +89,7 @@ public class SyncTasks extends Panel {\n \n     private AjaxFallbackDefaultDataTable<TaskTO, String> table;\n \n-    public SyncTasks(String id, final PageReference callerPageRef) {\n+    public SyncTasks(final String id, final PageReference pageRef) {\n         super(id);\n \n         container = new WebMarkupContainer(\"container\");\n@@ -103,7 +103,7 @@ public SyncTasks(String id, final PageReference callerPageRef) {\n         window.setCookieName(\"view-task-win\");\n         add(window);\n \n-        ((Tasks) callerPageRef.getPage()).setWindowClosedCallback(window, container);\n+        ((Tasks) pageRef.getPage()).setWindowClosedCallback(window, container);\n \n         paginatorRows = prefMan.getPaginatorRows(getWebRequest(), Constants.PREF_SYNC_TASKS_PAGINATOR_ROWS);\n \n@@ -139,7 +139,7 @@ public void populateItem(final Item<ICellPopulator<TaskTO>> cellItem, final Stri\n \n                 final SyncTaskTO taskTO = (SyncTaskTO) model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, pageRef);\n \n                 panel.add(new ActionLink() {\n \n@@ -154,7 +154,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new SyncTaskModalPage(window, taskTO, callerPageRef);\n+                                return new SyncTaskModalPage(window, taskTO, pageRef);\n                             }\n                         });\n \n@@ -175,7 +175,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new UserTemplateModalPage(callerPageRef, window, taskTO);\n+                                return new UserTemplateModalPage(pageRef, window, taskTO);\n                             }\n                         });\n \n@@ -196,7 +196,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new RoleTemplateModalPage(callerPageRef, window, taskTO);\n+                                return new RoleTemplateModalPage(pageRef, window, taskTO);\n                             }\n                         });\n \n@@ -269,12 +269,12 @@ public void onClick(final AjaxRequestTarget target) {\n \n         container.add(table);\n \n-        final AjaxLink reload = new IndicatingAjaxLink(\"reload\") {\n+        final AjaxLink reload = new ClearIndicatingAjaxLink(\"reload\", pageRef) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(AjaxRequestTarget target) {\n+            protected void onClickInternal(AjaxRequestTarget target) {\n                 if (target != null) {\n                     target.add(table);\n                 }\n@@ -287,7 +287,6 @@ public void onClick(AjaxRequestTarget target) {\n \n             @Override\n             public void onComponentTag(final Component component, final ComponentTag tag) {\n-\n                 if (table.getRowCount() > paginatorRows) {\n                     tag.remove(\"class\");\n                     tag.put(\"class\", \"settingsPosMultiPage\");\n@@ -328,19 +327,19 @@ protected void onUpdate(final AjaxRequestTarget target) {\n         add(paginatorForm);\n \n         // create new user\n-        AjaxLink createLink = new IndicatingAjaxLink(\"createLink\") {\n+        AjaxLink createLink = new ClearIndicatingAjaxLink(\"createLink\", pageRef) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(final AjaxRequestTarget target) {\n+            protected void onClickInternal(final AjaxRequestTarget target) {\n                 window.setPageCreator(new ModalWindow.PageCreator() {\n \n                     private static final long serialVersionUID = -7834632442532690940L;\n \n                     @Override\n                     public Page createPage() {\n-                        return new SyncTaskModalPage(window, new SyncTaskTO(), callerPageRef);\n+                        return new SyncTaskModalPage(window, new SyncTaskTO(), pageRef);\n                     }\n                 });\n "},{"sha":"296a913081cd9d6d295a3c2645df59290f219088","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/UserSearchPanel.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FUserSearchPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FUserSearchPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FUserSearchPanel.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -20,7 +20,6 @@\n \n import java.util.ArrayList;\n import java.util.List;\n-\n import org.apache.syncope.common.search.NodeCond;\n import org.apache.syncope.common.to.RoleTO;\n import org.apache.syncope.common.types.AttributableType;"},{"sha":"3b9f88511b3974d92da2923618f2827145733b50","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/UserSearchResultPanel.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FUserSearchResultPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FUserSearchResultPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FUserSearchResultPanel.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -114,7 +114,7 @@ public String getCssClass() {\n             public void populateItem(final Item<ICellPopulator<AbstractAttributableTO>> cellItem,\n                     final String componentId, final IModel<AbstractAttributableTO> model) {\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model);\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, page.getPageReference());\n \n                 panel.add(new ActionLink() {\n "},{"sha":"7f5bca575c67cc598f13bbb864611bfbcd1daaf2","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/VirtualAttributesPanel.java","status":"modified","additions":26,"deletions":26,"changes":52,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FVirtualAttributesPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FVirtualAttributesPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FVirtualAttributesPanel.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -22,24 +22,24 @@\n import java.util.HashMap;\n import java.util.List;\n import java.util.Map;\n-\n import org.apache.syncope.common.to.AbstractAttributableTO;\n import org.apache.syncope.common.to.AttributeTO;\n import org.apache.syncope.common.to.RoleTO;\n import org.apache.syncope.common.to.UserTO;\n import org.apache.syncope.common.to.VirtualSchemaTO;\n import org.apache.syncope.common.types.AttributableType;\n import org.apache.syncope.console.rest.SchemaRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxDecoratedCheckbox;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.apache.syncope.console.wicket.markup.html.form.MultiValueSelectorPanel;\n import org.apache.wicket.Component;\n+import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.attributes.AjaxCallListener;\n import org.apache.wicket.ajax.attributes.AjaxRequestAttributes;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.form.ChoiceRenderer;\n import org.apache.wicket.markup.html.form.DropDownChoice;\n@@ -62,36 +62,37 @@ public class VirtualAttributesPanel extends Panel {\n     private SchemaRestClient schemaRestClient;\n \n     public <T extends AbstractAttributableTO> VirtualAttributesPanel(final String id, final T entityTO,\n-            final boolean templateMode) {\n+            final boolean templateMode, final PageReference pageRef) {\n \n         super(id);\n \n         setOutputMarkupId(true);\n \n-        final IModel<Map<String, VirtualSchemaTO>> schemas = new LoadableDetachableModel<Map<String, VirtualSchemaTO>>() {\n+        final IModel<Map<String, VirtualSchemaTO>> schemas =\n+                new LoadableDetachableModel<Map<String, VirtualSchemaTO>>() {\n \n-            private static final long serialVersionUID = -5489981430516587774L;\n+                    private static final long serialVersionUID = -5489981430516587774L;\n \n-            @Override\n-            protected Map<String, VirtualSchemaTO> load() {\n-                final List<VirtualSchemaTO> schemaTOs;\n-                if (entityTO instanceof RoleTO) {\n-                    schemaTOs = schemaRestClient.getVirtualSchemas(AttributableType.ROLE);\n-                } else if (entityTO instanceof UserTO) {\n-                    schemaTOs = schemaRestClient.getVirtualSchemas(AttributableType.USER);\n-                } else {\n-                    schemaTOs = schemaRestClient.getVirtualSchemas(AttributableType.MEMBERSHIP);\n-                }\n+                    @Override\n+                    protected Map<String, VirtualSchemaTO> load() {\n+                        final List<VirtualSchemaTO> schemaTOs;\n+                        if (entityTO instanceof RoleTO) {\n+                            schemaTOs = schemaRestClient.getVirtualSchemas(AttributableType.ROLE);\n+                        } else if (entityTO instanceof UserTO) {\n+                            schemaTOs = schemaRestClient.getVirtualSchemas(AttributableType.USER);\n+                        } else {\n+                            schemaTOs = schemaRestClient.getVirtualSchemas(AttributableType.MEMBERSHIP);\n+                        }\n \n-                final Map<String, VirtualSchemaTO> schemas = new HashMap<String, VirtualSchemaTO>();\n+                        final Map<String, VirtualSchemaTO> schemas = new HashMap<String, VirtualSchemaTO>();\n \n-                for (VirtualSchemaTO schemaTO : schemaTOs) {\n-                    schemas.put(schemaTO.getName(), schemaTO);\n-                }\n+                        for (VirtualSchemaTO schemaTO : schemaTOs) {\n+                            schemas.put(schemaTO.getName(), schemaTO);\n+                        }\n \n-                return schemas;\n-            }\n-        };\n+                        return schemas;\n+                    }\n+                };\n \n         final List<String> virtualSchemaNames = new ArrayList<String>(schemas.getObject().keySet());\n \n@@ -100,20 +101,19 @@ protected Map<String, VirtualSchemaTO> load() {\n         attributesContainer.setOutputMarkupId(true);\n         add(attributesContainer);\n \n-        AjaxButton addAttributeBtn = new IndicatingAjaxButton(\"addAttributeBtn\", new ResourceModel(\"addAttributeBtn\")) {\n+        AjaxButton addAttributeBtn = new ClearIndicatingAjaxButton(\"addAttributeBtn\",\n+                new ResourceModel(\"addAttributeBtn\"), pageRef) {\n \n             private static final long serialVersionUID = -4804368561204623354L;\n \n             @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n                 entityTO.addVirtualAttribute(new AttributeTO());\n                 target.add(attributesContainer);\n             }\n \n             @Override\n             protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-\n                 target.add(attributesContainer);\n             }\n         };"},{"sha":"02ab0172ef0a138019c4e0fc7ea10d1f8081e7a7","filename":"console/src/main/java/org/apache/syncope/console/rest/ApprovalRestClient.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Frest%2FApprovalRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Frest%2FApprovalRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Frest%2FApprovalRestClient.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -19,7 +19,6 @@\n package org.apache.syncope.console.rest;\n \n import java.util.List;\n-\n import org.apache.syncope.common.services.UserWorkflowService;\n import org.apache.syncope.common.to.WorkflowFormTO;\n import org.springframework.stereotype.Component;"},{"sha":"7976b6c684a5e7724997aa447a0669e5060f2432","filename":"console/src/main/java/org/apache/syncope/console/wicket/ajax/markup/html/ClearIndicatingAjaxButton.java","status":"added","additions":69,"deletions":0,"changes":69,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fajax%2Fmarkup%2Fhtml%2FClearIndicatingAjaxButton.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fajax%2Fmarkup%2Fhtml%2FClearIndicatingAjaxButton.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fajax%2Fmarkup%2Fhtml%2FClearIndicatingAjaxButton.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -0,0 +1,69 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.console.wicket.ajax.markup.html;\n+\n+import org.apache.syncope.console.pages.BasePage;\n+import org.apache.wicket.Page;\n+import org.apache.wicket.PageReference;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n+import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.model.IModel;\n+\n+public abstract class ClearIndicatingAjaxButton extends IndicatingAjaxButton {\n+\n+    private static final long serialVersionUID = 7206379812788748287L;\n+\n+    private final PageReference pageRef;\n+\n+    public ClearIndicatingAjaxButton(final String id, final PageReference pageRef) {\n+        super(id);\n+        this.pageRef = pageRef;\n+    }\n+\n+    public ClearIndicatingAjaxButton(final String id, Form<?> form, final PageReference pageRef) {\n+        super(id, form);\n+        this.pageRef = pageRef;\n+    }\n+\n+    public ClearIndicatingAjaxButton(final String id, IModel<String> model, final PageReference pageRef) {\n+        super(id, model);\n+        this.pageRef = pageRef;\n+    }\n+\n+    public ClearIndicatingAjaxButton(final String id, final IModel<String> model, final Form<?> form,\n+            final PageReference pageRef) {\n+\n+        super(id, model, form);\n+        this.pageRef = pageRef;\n+    }\n+\n+    protected abstract void onSubmitInternal(AjaxRequestTarget target, Form<?> form);\n+\n+    @Override\n+    protected final void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+        super.onSubmit(target, form);\n+\n+        Page page = pageRef.getPage();\n+        if (page instanceof BasePage) {\n+            target.add(((BasePage) page).getFeedbackPanel());\n+        }\n+        onSubmitInternal(target, form);\n+    }\n+}"},{"sha":"b37dc077925d2b0e9a9d85739aef05aa4a2b7064","filename":"console/src/main/java/org/apache/syncope/console/wicket/ajax/markup/html/ClearIndicatingAjaxLink.java","status":"added","additions":54,"deletions":0,"changes":54,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fajax%2Fmarkup%2Fhtml%2FClearIndicatingAjaxLink.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fajax%2Fmarkup%2Fhtml%2FClearIndicatingAjaxLink.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fajax%2Fmarkup%2Fhtml%2FClearIndicatingAjaxLink.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -0,0 +1,54 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.console.wicket.ajax.markup.html;\n+\n+import org.apache.syncope.console.pages.BasePage;\n+import org.apache.wicket.Page;\n+import org.apache.wicket.PageReference;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n+import org.apache.wicket.model.IModel;\n+\n+public abstract class ClearIndicatingAjaxLink<T> extends IndicatingAjaxLink<T> {\n+\n+    private static final long serialVersionUID = 7913625094362339643L;\n+\n+    private final PageReference pageRef;\n+\n+    public ClearIndicatingAjaxLink(final String id, final PageReference pageRef) {\n+        super(id);\n+        this.pageRef = pageRef;\n+    }\n+\n+    public ClearIndicatingAjaxLink(final String id, final IModel<T> model, final PageReference pageRef) {\n+        super(id, model);\n+        this.pageRef = pageRef;\n+    }\n+\n+    protected abstract void onClickInternal(AjaxRequestTarget target);\n+\n+    @Override\n+    public final void onClick(final AjaxRequestTarget target) {\n+        Page page = pageRef.getPage();\n+        if (page instanceof BasePage) {\n+            target.add(((BasePage) page).getFeedbackPanel());\n+        }\n+        onClickInternal(target);\n+    }\n+}"},{"sha":"5ef23ae9342bb0b32e33752610722265c90297d1","filename":"console/src/main/java/org/apache/syncope/console/wicket/ajax/markup/html/IndicatingDeleteOnConfirmAjaxLink.java","status":"modified","additions":7,"deletions":7,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fajax%2Fmarkup%2Fhtml%2FIndicatingDeleteOnConfirmAjaxLink.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fajax%2Fmarkup%2Fhtml%2FIndicatingDeleteOnConfirmAjaxLink.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fajax%2Fmarkup%2Fhtml%2FIndicatingDeleteOnConfirmAjaxLink.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -19,29 +19,29 @@\n package org.apache.syncope.console.wicket.ajax.markup.html;\n \n import org.apache.wicket.Component;\n+import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.attributes.AjaxCallListener;\n import org.apache.wicket.ajax.attributes.AjaxRequestAttributes;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.model.IModel;\n \n-public abstract class IndicatingDeleteOnConfirmAjaxLink<T> extends IndicatingAjaxLink<T> {\n+public abstract class IndicatingDeleteOnConfirmAjaxLink<T> extends ClearIndicatingAjaxLink<T> {\n \n     private static final long serialVersionUID = 2228670850922265663L;\n \n-    public IndicatingDeleteOnConfirmAjaxLink(final String id, final IModel<T> model) {\n-        super(id, model);\n+    public IndicatingDeleteOnConfirmAjaxLink(final String id, final PageReference pageRef) {\n+        super(id, pageRef);\n     }\n \n-    public IndicatingDeleteOnConfirmAjaxLink(final String id) {\n-        super(id);\n+    public IndicatingDeleteOnConfirmAjaxLink(final String id, final IModel<T> model, final PageReference pageRef) {\n+        super(id, model, pageRef);\n     }\n \n     @Override\n     protected void updateAjaxAttributes(AjaxRequestAttributes attributes) {\n         super.updateAjaxAttributes(attributes);\n \n         final AjaxCallListener ajaxCallListener = new AjaxCallListener() {\n-            \n+\n             private static final long serialVersionUID = 7160235486520935153L;\n \n             @Override"},{"sha":"44f398ff8d629e8af460615e8ab70a4c67d83a31","filename":"console/src/main/java/org/apache/syncope/console/wicket/markup/html/form/ActionLinksPanel.java","status":"modified","additions":30,"deletions":26,"changes":56,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -19,10 +19,11 @@\n package org.apache.syncope.console.wicket.markup.html.form;\n \n import org.apache.syncope.console.commons.XMLRolesReader;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n import org.apache.syncope.console.wicket.ajax.markup.html.IndicatingDeleteOnConfirmAjaxLink;\n+import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.markup.html.panel.Fragment;\n import org.apache.wicket.markup.html.panel.Panel;\n import org.apache.wicket.model.IModel;\n@@ -41,8 +42,11 @@ public class ActionLinksPanel extends Panel {\n     @SpringBean\n     protected XMLRolesReader xmlRolesReader;\n \n-    public ActionLinksPanel(final String componentId, final IModel<?> model) {\n+    private final PageReference pageRef;\n+\n+    public ActionLinksPanel(final String componentId, final IModel<?> model, final PageReference pageRef) {\n         super(componentId, model);\n+        this.pageRef = pageRef;\n \n         super.add(new Fragment(\"panelClaim\", \"emptyFragment\", this));\n         super.add(new Fragment(\"panelCreate\", \"emptyFragment\", this));\n@@ -84,12 +88,12 @@ public void add(final ActionLink link, final ActionLink.ActionType type, final S\n             case CLAIM:\n                 fragment = new Fragment(\"panelClaim\", \"fragmentClaim\", this);\n \n-                fragment.addOrReplace(new IndicatingAjaxLink(\"claimLink\") {\n+                fragment.addOrReplace(new ClearIndicatingAjaxLink(\"claimLink\", pageRef) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n                         link.onClick(target);\n                     }\n                 });\n@@ -98,12 +102,12 @@ public void onClick(final AjaxRequestTarget target) {\n             case CREATE:\n                 fragment = new Fragment(\"panelCreate\", \"fragmentCreate\", this);\n \n-                fragment.addOrReplace(new IndicatingAjaxLink(\"createLink\") {\n+                fragment.addOrReplace(new ClearIndicatingAjaxLink(\"createLink\", pageRef) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n                         link.onClick(target);\n                     }\n                 });\n@@ -112,12 +116,12 @@ public void onClick(final AjaxRequestTarget target) {\n             case EDIT:\n                 fragment = new Fragment(\"panelEdit\", \"fragmentEdit\", this);\n \n-                fragment.addOrReplace(new IndicatingAjaxLink(\"editLink\") {\n+                fragment.addOrReplace(new ClearIndicatingAjaxLink(\"editLink\", pageRef) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n                         link.onClick(target);\n                     }\n                 });\n@@ -126,12 +130,12 @@ public void onClick(final AjaxRequestTarget target) {\n             case USER_TEMPLATE:\n                 fragment = new Fragment(\"panelUserTemplate\", \"fragmentUserTemplate\", this);\n \n-                fragment.addOrReplace(new IndicatingAjaxLink(\"userTemplateLink\") {\n+                fragment.addOrReplace(new ClearIndicatingAjaxLink(\"userTemplateLink\", pageRef) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n                         link.onClick(target);\n                     }\n                 });\n@@ -140,12 +144,12 @@ public void onClick(final AjaxRequestTarget target) {\n             case ROLE_TEMPLATE:\n                 fragment = new Fragment(\"panelRoleTemplate\", \"fragmentRoleTemplate\", this);\n \n-                fragment.addOrReplace(new IndicatingAjaxLink(\"roleTemplateLink\") {\n+                fragment.addOrReplace(new ClearIndicatingAjaxLink(\"roleTemplateLink\", pageRef) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n                         link.onClick(target);\n                     }\n                 });\n@@ -154,12 +158,12 @@ public void onClick(final AjaxRequestTarget target) {\n             case ENABLE:\n                 fragment = new Fragment(\"panelEnable\", \"fragmentEnable\", this);\n \n-                fragment.addOrReplace(new IndicatingAjaxLink(\"enableLink\") {\n+                fragment.addOrReplace(new ClearIndicatingAjaxLink(\"enableLink\", pageRef) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n                         link.onClick(target);\n                     }\n                 });\n@@ -168,12 +172,12 @@ public void onClick(final AjaxRequestTarget target) {\n             case SEARCH:\n                 fragment = new Fragment(\"panelSearch\", \"fragmentSearch\", this);\n \n-                fragment.addOrReplace(new IndicatingAjaxLink(\"searchLink\") {\n+                fragment.addOrReplace(new ClearIndicatingAjaxLink(\"searchLink\", pageRef) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n                         link.onClick(target);\n                     }\n                 });\n@@ -182,12 +186,12 @@ public void onClick(final AjaxRequestTarget target) {\n             case EXECUTE:\n                 fragment = new Fragment(\"panelExecute\", \"fragmentExecute\", this);\n \n-                fragment.addOrReplace(new IndicatingAjaxLink(\"executeLink\") {\n+                fragment.addOrReplace(new ClearIndicatingAjaxLink(\"executeLink\", pageRef) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n                         link.onClick(target);\n                     }\n                 });\n@@ -196,12 +200,12 @@ public void onClick(final AjaxRequestTarget target) {\n             case DRYRUN:\n                 fragment = new Fragment(\"panelDryRun\", \"fragmentDryRun\", this);\n \n-                fragment.addOrReplace(new IndicatingAjaxLink(\"dryRunLink\") {\n+                fragment.addOrReplace(new ClearIndicatingAjaxLink(\"dryRunLink\", pageRef) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n                         link.onClick(target);\n                     }\n                 });\n@@ -210,12 +214,12 @@ public void onClick(final AjaxRequestTarget target) {\n             case DELETE:\n                 fragment = new Fragment(\"panelDelete\", \"fragmentDelete\", this);\n \n-                fragment.addOrReplace(new IndicatingDeleteOnConfirmAjaxLink(\"deleteLink\") {\n+                fragment.addOrReplace(new IndicatingDeleteOnConfirmAjaxLink(\"deleteLink\", pageRef) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n                         link.onClick(target);\n                     }\n                 });\n@@ -225,12 +229,12 @@ public void onClick(final AjaxRequestTarget target) {\n             case SELECT:\n                 fragment = new Fragment(\"panelSelect\", \"fragmentSelect\", this);\n \n-                fragment.addOrReplace(new IndicatingAjaxLink(\"selectLink\") {\n+                fragment.addOrReplace(new ClearIndicatingAjaxLink(\"selectLink\", pageRef) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n                         link.onClick(target);\n                     }\n                 });\n@@ -240,12 +244,12 @@ public void onClick(final AjaxRequestTarget target) {\n             case EXPORT:\n                 fragment = new Fragment(\"panelExport\", \"fragmentExport\", this);\n \n-                fragment.addOrReplace(new IndicatingAjaxLink(\"exportLink\") {\n+                fragment.addOrReplace(new ClearIndicatingAjaxLink(\"exportLink\", pageRef) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n                         link.onClick(target);\n                     }\n                 });"},{"sha":"b3a938bf0dfee06949c76071dd8eefe7d4a8ab10","filename":"console/src/main/java/org/apache/syncope/console/wicket/markup/html/tree/TreeActionLinkPanel.java","status":"modified","additions":12,"deletions":12,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FTreeActionLinkPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FTreeActionLinkPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FTreeActionLinkPanel.java?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -25,13 +25,13 @@\n import org.apache.syncope.console.pages.RoleModalPage;\n import org.apache.syncope.console.pages.Roles;\n import org.apache.syncope.console.rest.RoleRestClient;\n+import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxLink;\n import org.apache.syncope.console.wicket.ajax.markup.html.IndicatingDeleteOnConfirmAjaxLink;\n import org.apache.wicket.Page;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.panel.Fragment;\n import org.apache.wicket.markup.html.panel.Panel;\n@@ -61,7 +61,7 @@ public class TreeActionLinkPanel extends Panel {\n     private Fragment fragment;\n \n     public TreeActionLinkPanel(final String id, final long idRole, final IModel inputModel, final ModalWindow window,\n-            final PageReference callerPageRef) {\n+            final PageReference pageRef) {\n \n         super(id);\n \n@@ -71,12 +71,12 @@ public TreeActionLinkPanel(final String id, final long idRole, final IModel inpu\n \n         fragment.setOutputMarkupId(true);\n \n-        final AjaxLink createRoleLink = new IndicatingAjaxLink(\"createRoleLink\") {\n+        final AjaxLink createRoleLink = new ClearIndicatingAjaxLink(\"createRoleLink\", pageRef) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n             @Override\n-            public void onClick(final AjaxRequestTarget target) {\n+            protected void onClickInternal(final AjaxRequestTarget target) {\n                 window.setPageCreator(new ModalWindow.PageCreator() {\n \n                     private static final long serialVersionUID = -7834632442532690940L;\n@@ -85,7 +85,7 @@ public void onClick(final AjaxRequestTarget target) {\n                     public Page createPage() {\n                         RoleTO roleTO = new RoleTO();\n                         roleTO.setParent(idRole);\n-                        RoleModalPage form = new RoleModalPage(callerPageRef, window, roleTO);\n+                        RoleModalPage form = new RoleModalPage(pageRef, window, roleTO);\n                         return form;\n                     }\n                 });\n@@ -101,20 +101,20 @@ public Page createPage() {\n         fragment.add(createRoleLink);\n \n         if (idRole != 0) {\n-            final AjaxLink updateRoleLink = new IndicatingAjaxLink(\"updateRoleLink\") {\n+            final AjaxLink updateRoleLink = new ClearIndicatingAjaxLink(\"updateRoleLink\", pageRef) {\n \n                 private static final long serialVersionUID = -7978723352517770644L;\n \n                 @Override\n-                public void onClick(final AjaxRequestTarget target) {\n+                protected void onClickInternal(final AjaxRequestTarget target) {\n                     window.setPageCreator(new ModalWindow.PageCreator() {\n \n                         private static final long serialVersionUID = -7834632442532690940L;\n \n                         @Override\n                         public Page createPage() {\n                             RoleTO roleTO = restClient.read(idRole);\n-                            RoleModalPage form = new RoleModalPage(callerPageRef, window, roleTO);\n+                            RoleModalPage form = new RoleModalPage(pageRef, window, roleTO);\n                             return form;\n                         }\n                     });\n@@ -129,16 +129,16 @@ public Page createPage() {\n             updateRoleLink.setOutputMarkupId(true);\n             fragment.add(updateRoleLink);\n \n-            final AjaxLink dropRoleLink = new IndicatingDeleteOnConfirmAjaxLink(\"dropRoleLink\") {\n+            final AjaxLink dropRoleLink = new IndicatingDeleteOnConfirmAjaxLink(\"dropRoleLink\", pageRef) {\n \n                 private static final long serialVersionUID = -7978723352517770644L;\n \n                 @Override\n-                public void onClick(final AjaxRequestTarget target) {\n+                protected void onClickInternal(final AjaxRequestTarget target) {\n                     try {\n                         final RoleTO roleTO = (RoleTO) restClient.delete(idRole);\n \n-                        ((Roles) callerPageRef.getPage()).setModalResult(true);\n+                        ((Roles) pageRef.getPage()).setModalResult(true);\n \n                         window.setPageCreator(new ModalWindow.PageCreator() {\n \n@@ -153,7 +153,7 @@ public Page createPage() {\n                         window.show(target);\n                     } catch (SyncopeClientCompositeErrorException scce) {\n                         error(getString(\"operation_error\") + \": \" + scce.getMessage());\n-                        target.add(((Roles) callerPageRef.getPage()).getFeedbackPanel());\n+                        target.add(((Roles) pageRef.getPage()).getFeedbackPanel());\n                     }\n                 }\n             };"},{"sha":"4f64bcfd5750864273a761a40323db987c7cd6c4","filename":"console/src/main/resources/org/apache/syncope/console/pages/DisplayAttributesModalPage.properties","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDisplayAttributesModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDisplayAttributesModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDisplayAttributesModalPage.properties?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -15,7 +15,7 @@\n # specific language governing permissions and limitations\n # under the License.\n title=Change display attributes\n-tooMuchSelections=Too many columns to be shown\n+tooManySelections=Too many columns to be shown\n schemas=User attributes\n derSchemas=User derived attributes\n virSchemas=User virtual attributes"},{"sha":"60f818f9404de999135df362c6c188e80e52d8f4","filename":"console/src/main/resources/org/apache/syncope/console/pages/DisplayAttributesModalPage_it.properties","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDisplayAttributesModalPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDisplayAttributesModalPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDisplayAttributesModalPage_it.properties?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -15,7 +15,7 @@\n # specific language governing permissions and limitations\n # under the License.\n title=Scegli attributi da visualizzare\n-tooMuchSelections=Troppe colonne da visualizzare\n+tooManySelections=Troppe colonne da visualizzare\n schemas=Attributi utente\n derSchemas=Attributi derivati utente\n virSchemas=Attributi virtuali utente"},{"sha":"cb24ddc813a59411a5193f283759132af6733d16","filename":"console/src/main/resources/org/apache/syncope/console/pages/Resources.html","status":"modified","additions":47,"deletions":47,"changes":94,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4bd52c2e5ad478e7359be8549bdd5c43537864ed/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.html?ref=4bd52c2e5ad478e7359be8549bdd5c43537864ed","patch":"@@ -18,59 +18,59 @@\n -->\n <wicket:extend>\n \n-    <div id=\"tabs\">\n-        <ul>\n-            <li class=\"tabs-selected\">\n-                <a href=\"#tabs-1\"><span><wicket:message key=\"tab1\"/></span></a>\n-            </li>\n-            <li><a href=\"#tabs-2\"><span><wicket:message key=\"tab2\"/></span></a></li>\n-        </ul>\n-        <div id=\"tabs-1\">\n-            <div id=\"users-contain\" class=\"ui-widget\" style=\"width:inherit\">\n-                <span wicket:id=\"resourceContainer\">\n-                    <table class=\"ui-widget ui-widget-content table-hover\"\n-                           wicket:id=\"resourceDatatable\"/>\n-                </span>\n+  <div id=\"tabs\">\n+    <ul>\n+      <li class=\"tabs-selected\">\n+        <a href=\"#tabs-1\"><span><wicket:message key=\"tab1\"/></span></a>\n+      </li>\n+      <li><a href=\"#tabs-2\"><span><wicket:message key=\"tab2\"/></span></a></li>\n+    </ul>\n+    <div id=\"tabs-1\">\n+      <div id=\"users-contain\" class=\"ui-widget\" style=\"width:inherit\">\n+        <span wicket:id=\"resourceContainer\">\n+          <table class=\"ui-widget ui-widget-content table-hover\"\n+                 wicket:id=\"resourceDatatable\"/>\n+        </span>\n \n-                <span style=\"float:right\">\n-                    <form wicket:id=\"resourcePaginatorForm\" style=\"display:inline\">\n-                        <label><wicket:message key=\"displayRows\"/></label>\n-                        <select class=\"text ui-widget-content ui-corner-all\"\n-                                wicket:id=\"rowsChooser\"/>\n-                    </form>\n-                </span>\n-            </div>\n+        <span style=\"float:right\">\n+          <form wicket:id=\"resourcePaginatorForm\" style=\"display:inline\">\n+            <label><wicket:message key=\"displayRows\"/></label>\n+            <select class=\"text ui-widget-content ui-corner-all\"\n+                    wicket:id=\"rowsChooser\"/>\n+          </form>\n+        </span>\n+      </div>\n \n-            <div wicket:id=\"createResourceWin\">[Show modal window for creating resource]</div>\n-            <div wicket:id=\"editResourceWin\">[Show modal window for editing resource]</div>\n+      <div wicket:id=\"createResourceWin\">[Show modal window for creating resource]</div>\n+      <div wicket:id=\"editResourceWin\">[Show modal window for editing resource]</div>\n \n-            <a class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\" wicket:id=\"createResourceLink\">\n-                <wicket:message key=\"create-resource\"/>\n-            </a>\n-        </div>\n-        <div id=\"tabs-2\">\n-            <div id=\"users-contain\" class=\"ui-widget\" style=\"width:inherit\">\n-                <span wicket:id=\"connectorContainer\">\n-                    <table class=\"ui-widget ui-widget-content table-hover\"\n-                           wicket:id=\"connectorDatatable\"/>\n-                </span>\n+      <a class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\" wicket:id=\"createResourceLink\">\n+        <wicket:message key=\"create-resource\"/>\n+      </a>\n+    </div>\n+    <div id=\"tabs-2\">\n+      <div id=\"users-contain\" class=\"ui-widget\" style=\"width:inherit\">\n+        <span wicket:id=\"connectorContainer\">\n+          <table class=\"ui-widget ui-widget-content table-hover\"\n+                 wicket:id=\"connectorDatatable\"/>\n+        </span>\n \n-                <span style=\"float:right\">\n-                    <form wicket:id=\"connectorPaginatorForm\" style=\"display:inline\">\n-                        <label><wicket:message key=\"displayRows\"/></label>\n-                        <select class=\"text ui-widget-content ui-corner-all\"\n-                                wicket:id=\"rowsChooser\"/>\n-                    </form>\n-                </span>\n-            </div>\n+        <span style=\"float:right\">\n+          <form wicket:id=\"connectorPaginatorForm\" style=\"display:inline\">\n+            <label><wicket:message key=\"displayRows\"/></label>\n+            <select class=\"text ui-widget-content ui-corner-all\"\n+                    wicket:id=\"rowsChooser\"/>\n+          </form>\n+        </span>\n+      </div>\n \n-            <div wicket:id=\"createConnectorWin\">[Show modal window for creating connector]</div>\n-            <div wicket:id=\"editConnectorWin\">[Show modal window for editing connector]</div>\n+      <div wicket:id=\"createConnectorWin\">[Show modal window for creating connector]</div>\n+      <div wicket:id=\"editConnectorWin\">[Show modal window for editing connector]</div>\n \n-            <a class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\" wicket:id=\"createConnectorLink\">\n-                <wicket:message key=\"create-connector\"/>\n-            </a>\n-        </div>\n+      <a class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\" wicket:id=\"createConnectorLink\">\n+        <wicket:message key=\"create-connector\"/>\n+      </a>\n     </div>\n+  </div>\n \n </wicket:extend>"}]}
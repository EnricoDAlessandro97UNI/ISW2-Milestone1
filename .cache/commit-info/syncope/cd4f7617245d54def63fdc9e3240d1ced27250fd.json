{"sha":"cd4f7617245d54def63fdc9e3240d1ced27250fd","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmNkNGY3NjE3MjQ1ZDU0ZGVmNjNmZGM5ZTMyNDBkMWNlZDI3MjUwZmQ=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2012-12-27T16:36:40Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2012-12-27T16:36:40Z"},"message":"[SYNCOPE-172] Now managing role template for sync tasks\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1426250 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"b76ba9350b75b5563e4d76d1c84f0696b9362263","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/b76ba9350b75b5563e4d76d1c84f0696b9362263"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/cd4f7617245d54def63fdc9e3240d1ced27250fd","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/cd4f7617245d54def63fdc9e3240d1ced27250fd","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/cd4f7617245d54def63fdc9e3240d1ced27250fd","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/cd4f7617245d54def63fdc9e3240d1ced27250fd/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"77d8cdb7fc8c9350c5f90e9bfe92f267d5aeeaa3","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/77d8cdb7fc8c9350c5f90e9bfe92f267d5aeeaa3","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/77d8cdb7fc8c9350c5f90e9bfe92f267d5aeeaa3"}],"stats":{"total":634,"additions":452,"deletions":182},"files":[{"sha":"9c6d14ee04b54974a12e7094b063009a7adce491","filename":"console/src/main/java/org/apache/syncope/console/pages/RoleModalPage.java","status":"modified","additions":62,"deletions":30,"changes":92,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -43,34 +43,59 @@\n  */\n public class RoleModalPage extends BaseModalPage {\n \n+    public enum Mode {\n+\n+        ADMIN,\n+        TEMPLATE;\n+\n+    }\n+\n     private static final long serialVersionUID = -1732493223434085205L;\n \n     @SpringBean\n     private RoleRestClient roleRestClient;\n \n-    private RoleTO originalRoleTO;\n+    protected final PageReference callerPageRef;\n+\n+    protected final ModalWindow window;\n+\n+    protected final Mode mode;\n+\n+    protected final boolean createFlag;\n+\n+    protected final RolePanel rolePanel;\n+\n+    protected RoleTO originalRoleTO;\n \n     public RoleModalPage(final ModalWindow window, final RoleTO roleTO) {\n-        this(null, window, roleTO);\n+        this(null, window, roleTO, Mode.ADMIN);\n     }\n \n     public RoleModalPage(final PageReference callerPageRef, final ModalWindow window, final RoleTO roleTO) {\n+        this(callerPageRef, window, roleTO, Mode.ADMIN);\n+    }\n+\n+    public RoleModalPage(final PageReference callerPageRef, final ModalWindow window, final RoleTO roleTO,\n+            final Mode mode) {\n+\n         super();\n \n-        final boolean createFlag = roleTO.getId() == 0;\n+        this.callerPageRef = callerPageRef;\n+        this.window = window;\n+        this.mode = mode;\n+\n+        this.createFlag = roleTO.getId() == 0;\n         if (!createFlag) {\n             originalRoleTO = AttributableOperations.clone(roleTO);\n         }\n \n         final Form form = new Form(\"RoleForm\");\n \n-        add(new Label(\"displayName\", roleTO.getId() != 0\n-                ? roleTO.getDisplayName()\n-                : \"\"));\n+        add(new Label(\"displayName\", roleTO.getId() == 0 ? \"\" : roleTO.getDisplayName()));\n \n         form.setModel(new CompoundPropertyModel(roleTO));\n \n-        final RolePanel rolePanel = new RolePanel(\"rolePanel\", form, roleTO);\n+        this.rolePanel = new RolePanel(\"rolePanel\", form, roleTO, mode);\n         form.add(rolePanel);\n \n         final AjaxButton submit = new IndicatingAjaxButton(\"submit\", new ResourceModel(\"submit\")) {\n@@ -79,31 +104,14 @@ public RoleModalPage(final PageReference callerPageRef, final ModalWindow window\n \n             @Override\n             protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-\n-                final RoleTO roleTO = (RoleTO) form.getDefaultModelObject();\n                 try {\n-                    final List<String> entitlementList = new ArrayList<String>(\n-                            rolePanel.getEntitlementsPalette().getModelCollection());\n-                    roleTO.setEntitlements(entitlementList);\n-\n-                    final RoleTO result;\n-                    if (createFlag) {\n-                        result = roleRestClient.create(roleTO);\n-                    } else {\n-                        RoleMod roleMod = AttributableOperations.diff(roleTO, originalRoleTO);\n-\n-                        // update role just if it is changed\n-                        if (roleMod.isEmpty()) {\n-                            result = roleTO;\n-                        } else {\n-                            result = roleRestClient.update(roleMod);\n-                        }\n-                    }\n-                    if (callerPageRef != null) {\n-                        ((Roles) callerPageRef.getPage()).setModalResult(true);\n+                    submitAction(target, form);\n+\n+                    if (callerPageRef.getPage() instanceof BasePage) {\n+                        ((BasePage) callerPageRef.getPage()).setModalResult(true);\n                     }\n \n-                    setResponsePage(new ResultStatusModalPage(window, result));\n+                    closeAction(target, form);\n                 } catch (Exception e) {\n                     error(getString(\"error\") + \":\" + e.getMessage());\n                     target.add(feedbackPanel);\n@@ -122,7 +130,7 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n \n             @Override\n             protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-                window.close(target);\n+                closeAction(target, form);\n             }\n \n             @Override\n@@ -144,6 +152,30 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n         add(new CloseOnESCBehavior(window));\n     }\n \n+    protected void submitAction(final AjaxRequestTarget target, final Form form) {\n+        final RoleTO roleTO = (RoleTO) form.getDefaultModelObject();\n+        final List<String> entitlementList = new ArrayList<String>(\n+                rolePanel.getEntitlementsPalette().getModelCollection());\n+        roleTO.setEntitlements(entitlementList);\n+\n+        final RoleTO result;\n+        if (createFlag) {\n+            result = roleRestClient.create(roleTO);\n+        } else {\n+            RoleMod roleMod = AttributableOperations.diff(roleTO, originalRoleTO);\n+\n+            // update role just if it is changed\n+            if (roleMod.isEmpty()) {\n+                result = roleTO;\n+            } else {\n+                result = roleRestClient.update(roleMod);\n+            }\n+        }\n+\n+        setResponsePage(new ResultStatusModalPage(window, result));\n+    }\n+\n     protected void closeAction(final AjaxRequestTarget target, final Form form) {\n+        window.close(target);\n     }\n }"},{"sha":"33d25b9c75e10eabff20f89e82a0f6f4e655d5e8","filename":"console/src/main/java/org/apache/syncope/console/pages/RoleSelectModalPage.java","status":"renamed","additions":13,"deletions":6,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleSelectModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleSelectModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleSelectModalPage.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -18,11 +18,11 @@\n  */\n package org.apache.syncope.console.pages;\n \n+import java.lang.reflect.Constructor;\n import javax.swing.tree.DefaultMutableTreeNode;\n import org.apache.syncope.client.to.RoleTO;\n import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.console.commons.RoleTreeBuilder;\n-import org.apache.syncope.console.pages.panels.RoleDetailsPanel;\n import org.apache.syncope.console.wicket.markup.html.tree.DefaultMutableTreeNodeExpansion;\n import org.apache.syncope.console.wicket.markup.html.tree.DefaultMutableTreeNodeExpansionModel;\n import org.apache.syncope.console.wicket.markup.html.tree.TreeRoleProvider;\n@@ -40,7 +40,7 @@\n import org.apache.wicket.model.Model;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n \n-public class RoleOwnerSelectModalPage extends BaseModalPage {\n+public class RoleSelectModalPage extends BaseModalPage {\n \n     private static final long serialVersionUID = 2106489458494696439L;\n \n@@ -49,7 +49,7 @@ public class RoleOwnerSelectModalPage extends BaseModalPage {\n \n     private final NestedTree<DefaultMutableTreeNode> tree;\n \n-    public RoleOwnerSelectModalPage(final PageReference pageRef, final ModalWindow window) {\n+    public RoleSelectModalPage(final PageReference pageRef, final ModalWindow window, final Class payloadClass) {\n         super();\n \n         final ITreeProvider<DefaultMutableTreeNode> treeProvider = new TreeRoleProvider(roleTreeBuilder, true);\n@@ -64,7 +64,7 @@ protected Component newContentComponent(final String id, final IModel<DefaultMut\n                 final DefaultMutableTreeNode treeNode = node.getObject();\n                 final RoleTO roleTO = (RoleTO) treeNode.getUserObject();\n \n-                return new Folder<DefaultMutableTreeNode>(id, RoleOwnerSelectModalPage.this.tree, node) {\n+                return new Folder<DefaultMutableTreeNode>(id, RoleSelectModalPage.this.tree, node) {\n \n                     private static final long serialVersionUID = 9046323319920426493L;\n \n@@ -82,8 +82,15 @@ protected IModel<?> newLabelModel(final IModel<DefaultMutableTreeNode> model) {\n                     protected void onClick(final AjaxRequestTarget target) {\n                         super.onClick(target);\n \n-                        send(pageRef.getPage(), Broadcast.BREADTH,\n-                                new RoleDetailsPanel.RoleOwnerSelectPayload(roleTO.getId()));\n+                        try {\n+                            Constructor constructor = payloadClass.getConstructor(Long.class);\n+                            Object payload = constructor.newInstance(roleTO.getId());\n+\n+                            send(pageRef.getPage(), Broadcast.BREADTH, payload);\n+                        } catch (Exception e) {\n+                            LOG.error(\"Could not send role select event\", e);\n+                        }\n+\n                         window.close(target);\n                     }\n                 };","previous_filename":"console/src/main/java/org/apache/syncope/console/pages/RoleOwnerSelectModalPage.java"},{"sha":"d924d8f099c73c6dcd96a2f5d5125d132d9e1a76","filename":"console/src/main/java/org/apache/syncope/console/pages/RoleTemplateModalPage.java","status":"added","additions":54,"deletions":0,"changes":54,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleTemplateModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleTemplateModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleTemplateModalPage.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -0,0 +1,54 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.console.pages;\n+\n+import org.apache.syncope.client.to.RoleTO;\n+import org.apache.syncope.client.to.SyncTaskTO;\n+import org.apache.syncope.console.rest.TaskRestClient;\n+import org.apache.wicket.PageReference;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.spring.injection.annot.SpringBean;\n+\n+public class RoleTemplateModalPage extends RoleModalPage {\n+\n+    private static final long serialVersionUID = -3849135555203409845L;\n+\n+    @SpringBean\n+    private TaskRestClient taskRestClient;\n+\n+    private SyncTaskTO syncTaskTO;\n+\n+    public RoleTemplateModalPage(final PageReference callerPageRef, final ModalWindow window,\n+            final SyncTaskTO syncTaskTO) {\n+\n+        super(callerPageRef, window, syncTaskTO.getRoleTemplate() == null\n+                ? new RoleTO()\n+                : syncTaskTO.getRoleTemplate(), Mode.TEMPLATE);\n+\n+        this.syncTaskTO = syncTaskTO;\n+    }\n+\n+    @Override\n+    protected void submitAction(AjaxRequestTarget target, Form form) {\n+        syncTaskTO.setRoleTemplate((RoleTO) form.getModelObject());\n+        taskRestClient.updateSyncTask(syncTaskTO);\n+    }\n+}"},{"sha":"bbbdd61e5916b3a8124ee79b892c5f7b0a18168e","filename":"console/src/main/java/org/apache/syncope/console/pages/UserModalPage.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -182,7 +182,6 @@ protected AjaxButton getOnSubmit() {\n \n             @Override\n             protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-\n                 try {\n                     submitAction(target, form);\n "},{"sha":"677272d9d6959fd0fa6c81860a0e09489bbf7005","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/AttributesPanel.java","status":"modified","additions":5,"deletions":3,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAttributesPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAttributesPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAttributesPanel.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -105,9 +105,11 @@ protected Map<String, SchemaTO> load() {\n             protected void populateItem(final ListItem<AttributeTO> item) {\n                 final AttributeTO attributeTO = (AttributeTO) item.getDefaultModelObject();\n \n-                item.add(new Label(\"name\", templateMode\n-                        ? attributeTO.getSchema() + \" (JEXL)\"\n-                        : attributeTO.getSchema()));\n+                final StringBuilder text = new StringBuilder(attributeTO.getSchema());\n+                if (templateMode) {\n+                    text.append(\" (JEXL)\");\n+                }\n+                item.add(new Label(\"name\", text.toString()));\n \n                 final FieldPanel panel =\n                         getFieldPanel(schemas.getObject().get(attributeTO.getSchema()), form, attributeTO);"},{"sha":"70c0d792a38a8967c271d09e04ac44150c0d7517","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/RoleDetailsPanel.java","status":"modified","additions":116,"deletions":6,"changes":122,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -20,7 +20,7 @@\n \n import org.apache.syncope.client.to.RoleTO;\n import org.apache.syncope.client.to.UserTO;\n-import org.apache.syncope.console.pages.RoleOwnerSelectModalPage;\n+import org.apache.syncope.console.pages.RoleSelectModalPage;\n import org.apache.syncope.console.pages.UserOwnerSelectModalPage;\n import org.apache.syncope.console.rest.RoleRestClient;\n import org.apache.syncope.console.rest.UserRestClient;\n@@ -34,6 +34,7 @@\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.markup.html.panel.Fragment;\n import org.apache.wicket.markup.html.panel.Panel;\n import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.PropertyModel;\n@@ -49,13 +50,17 @@ public class RoleDetailsPanel extends Panel {\n     @SpringBean\n     private RoleRestClient roleRestClient;\n \n+    private final Fragment parentFragment;\n+\n     private final WebMarkupContainer ownerContainer;\n \n     private final OwnerModel userOwnerModel;\n \n     private final OwnerModel roleOwnerModel;\n \n-    public RoleDetailsPanel(final String id, final RoleTO roleTO, final Form form) {\n+    private ParentModel parentModel;\n+\n+    public RoleDetailsPanel(final String id, final RoleTO roleTO, final Form form, final boolean templateMode) {\n         super(id);\n \n         ownerContainer = new WebMarkupContainer(\"ownerContainer\");\n@@ -70,10 +75,61 @@ public RoleDetailsPanel(final String id, final RoleTO roleTO, final Form form) {\n         roleOwnerSelectWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n         roleOwnerSelectWin.setCookieName(\"create-roleOwnerSelect-modal\");\n         this.add(roleOwnerSelectWin);\n+        final ModalWindow parentSelectWin = new ModalWindow(\"parentSelectWin\");\n+        parentSelectWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n+        parentSelectWin.setCookieName(\"create-parentSelect-modal\");\n+        this.add(parentSelectWin);\n+\n+        if (templateMode) {\n+            parentFragment = new Fragment(\"parent\", \"parentFragment\", this);\n+\n+            parentModel = new ParentModel(roleTO);\n+            final AjaxTextFieldPanel parent = new AjaxTextFieldPanel(\"parent\", \"parent\", parentModel);\n+            parent.setReadOnly(true);\n+            parent.setOutputMarkupId(true);\n+            parentFragment.add(parent);\n+            final IndicatingAjaxLink parentSelect = new IndicatingAjaxLink(\"parentSelect\") {\n+\n+                private static final long serialVersionUID = -7978723352517770644L;\n+\n+                @Override\n+                public void onClick(final AjaxRequestTarget target) {\n+                    parentSelectWin.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                        private static final long serialVersionUID = -7834632442532690940L;\n+\n+                        @Override\n+                        public Page createPage() {\n+                            return new RoleSelectModalPage(getPage().getPageReference(), parentSelectWin,\n+                                    ParentSelectPayload.class);\n+                        }\n+                    });\n+                    parentSelectWin.show(target);\n+                }\n+            };\n+            parentFragment.add(parentSelect);\n+            final IndicatingAjaxLink parentReset = new IndicatingAjaxLink(\"parentReset\") {\n+\n+                private static final long serialVersionUID = -7978723352517770644L;\n+\n+                @Override\n+                public void onClick(final AjaxRequestTarget target) {\n+                    parentModel.setObject(null);\n+                    target.add(parent);\n+                }\n+            };\n+            parentFragment.add(parentReset);\n+        } else {\n+            parentFragment = new Fragment(\"parent\", \"emptyFragment\", this);\n+        }\n+        parentFragment.setOutputMarkupId(true);\n+        this.add(parentFragment);\n \n         final AjaxTextFieldPanel name =\n                 new AjaxTextFieldPanel(\"name\", \"name\", new PropertyModel<String>(roleTO, \"name\"));\n-        name.addRequiredLabel();\n+        if (!templateMode) {\n+            name.addRequiredLabel();\n+        }\n         this.add(name);\n \n         userOwnerModel = new OwnerModel(roleTO, AttributableType.USER);\n@@ -123,16 +179,17 @@ public void onClick(final AjaxRequestTarget target) {\n \n             @Override\n             public void onClick(final AjaxRequestTarget target) {\n-                roleOwnerSelectWin.setPageCreator(new ModalWindow.PageCreator() {\n+                parentSelectWin.setPageCreator(new ModalWindow.PageCreator() {\n \n                     private static final long serialVersionUID = -7834632442532690940L;\n \n                     @Override\n                     public Page createPage() {\n-                        return new RoleOwnerSelectModalPage(getPage().getPageReference(), roleOwnerSelectWin);\n+                        return new RoleSelectModalPage(getPage().getPageReference(), parentSelectWin,\n+                                RoleOwnerSelectPayload.class);\n                     }\n                 });\n-                roleOwnerSelectWin.show(target);\n+                parentSelectWin.show(target);\n             }\n         };\n         ownerContainer.add(roleOwnerSelect);\n@@ -163,13 +220,18 @@ public void onClick(final AjaxRequestTarget target) {\n     public void onEvent(final IEvent<?> event) {\n         super.onEvent(event);\n \n+        if (event.getPayload() instanceof ParentSelectPayload) {\n+            parentModel.setObject(((ParentSelectPayload) event.getPayload()).getRoleId());\n+        }\n         if (event.getPayload() instanceof UserOwnerSelectPayload) {\n             userOwnerModel.setObject(((UserOwnerSelectPayload) event.getPayload()).getUserId());\n         }\n         if (event.getPayload() instanceof RoleOwnerSelectPayload) {\n             roleOwnerModel.setObject(((RoleOwnerSelectPayload) event.getPayload()).getRoleId());\n         }\n+\n         if (event.getPayload() instanceof AjaxRequestTarget) {\n+            ((AjaxRequestTarget) event.getPayload()).add(parentFragment);\n             ((AjaxRequestTarget) event.getPayload()).add(ownerContainer);\n         }\n     }\n@@ -243,6 +305,41 @@ public void detach() {\n         }\n     }\n \n+    private class ParentModel implements IModel {\n+\n+        private static final long serialVersionUID = 1006546156848990721L;\n+\n+        private final RoleTO roleTO;\n+\n+        public ParentModel(final RoleTO roleTO) {\n+            this.roleTO = roleTO;\n+        }\n+\n+        @Override\n+        public Object getObject() {\n+            Object object = null;\n+            if (roleTO.getParent() != 0) {\n+                RoleTO parent = roleRestClient.read(roleTO.getParent());\n+                if (parent == null) {\n+                    object = String.valueOf(roleTO.getParent());\n+                } else {\n+                    object = parent.getDisplayName();\n+                }\n+            }\n+            return object;\n+        }\n+\n+        @Override\n+        public void setObject(final Object object) {\n+            roleTO.setParent((Long) object);\n+        }\n+\n+        @Override\n+        public void detach() {\n+            // ignore\n+        }\n+    }\n+\n     public static class UserOwnerSelectPayload {\n \n         private final Long userId;\n@@ -268,4 +365,17 @@ public Long getRoleId() {\n             return roleId;\n         }\n     }\n+\n+    public static class ParentSelectPayload {\n+\n+        private final Long roleId;\n+\n+        public ParentSelectPayload(final Long roleId) {\n+            this.roleId = roleId;\n+        }\n+\n+        public Long getRoleId() {\n+            return roleId;\n+        }\n+    }\n }"},{"sha":"6dece14601b7d099053661f35596e28180ee96a1","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/RolePanel.java","status":"modified","additions":6,"deletions":5,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRolePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRolePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRolePanel.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -20,6 +20,7 @@\n \n import org.apache.syncope.client.to.RoleTO;\n import org.apache.syncope.console.commons.SelectChoiceRenderer;\n+import org.apache.syncope.console.pages.RoleModalPage;\n import org.apache.syncope.console.rest.AuthRestClient;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n import org.apache.wicket.extensions.markup.html.form.palette.Palette;\n@@ -38,14 +39,14 @@ public class RolePanel extends Panel {\n \n     private final Palette<String> entitlementsPalette;\n \n-    public RolePanel(final String id, final Form form, final RoleTO roleTO) {\n+    public RolePanel(final String id, final Form form, final RoleTO roleTO, final RoleModalPage.Mode mode) {\n         super(id);\n \n-        this.add(new RoleDetailsPanel(\"details\", roleTO, form).setOutputMarkupId(true));\n+        this.add(new RoleDetailsPanel(\"details\", roleTO, form, mode == RoleModalPage.Mode.TEMPLATE));\n \n         //--------------------------------\n         // Attributes panel\n-        this.add(new AttributesPanel(\"attributes\", roleTO, form, false).setOutputMarkupId(true));\n+        this.add(new AttributesPanel(\"attributes\", roleTO, form, mode == RoleModalPage.Mode.TEMPLATE));\n \n         final AjaxCheckBoxPanel inhAttributes = new AjaxCheckBoxPanel(\"inheritAttributes\", \"inheritAttributes\",\n                 new PropertyModel<Boolean>(roleTO, \"inheritAttributes\"));\n@@ -56,7 +57,7 @@ public RolePanel(final String id, final Form form, final RoleTO roleTO) {\n         //--------------------------------\n         // Derived attributes container\n         //--------------------------------\n-        this.add(new DerivedAttributesPanel(\"derivedAttributes\", roleTO).setOutputMarkupId(true));\n+        this.add(new DerivedAttributesPanel(\"derivedAttributes\", roleTO));\n \n         final AjaxCheckBoxPanel inhDerivedAttributes = new AjaxCheckBoxPanel(\"inheritDerivedAttributes\",\n                 \"inheritDerivedAttributes\", new PropertyModel<Boolean>(roleTO, \"inheritDerivedAttributes\"));\n@@ -68,7 +69,7 @@ public RolePanel(final String id, final Form form, final RoleTO roleTO) {\n         //--------------------------------\n         // Virtual attributes container\n         //--------------------------------\n-        this.add(new VirtualAttributesPanel(\"virtualAttributes\", roleTO, false));\n+        this.add(new VirtualAttributesPanel(\"virtualAttributes\", roleTO, mode == RoleModalPage.Mode.TEMPLATE));\n \n         final AjaxCheckBoxPanel inhVirtualAttributes = new AjaxCheckBoxPanel(\"inheritVirtualAttributes\",\n                 \"inheritVirtualAttributes\", new PropertyModel<Boolean>(roleTO, \"inheritVirtualAttributes\"));"},{"sha":"e064bce444424465f28f837f1b3188cec5493bc1","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/RoleTabPanel.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleTabPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleTabPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleTabPanel.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -21,6 +21,7 @@\n import org.apache.syncope.client.search.MembershipCond;\n import org.apache.syncope.client.search.NodeCond;\n import org.apache.syncope.client.to.RoleTO;\n+import org.apache.syncope.console.pages.RoleModalPage;\n import org.apache.syncope.console.rest.UserRestClient;\n import org.apache.syncope.console.wicket.markup.html.tree.TreeActionLinkPanel;\n import org.apache.wicket.PageReference;\n@@ -58,7 +59,7 @@ public RoleTabPanel(final String id, final RoleTO roleTO, final ModalWindow wind\n         form.setModel(new CompoundPropertyModel(roleTO));\n         form.setOutputMarkupId(true);\n \n-        final RolePanel rolePanel = new RolePanel(\"rolePanel\", form, roleTO);\n+        final RolePanel rolePanel = new RolePanel(\"rolePanel\", form, roleTO, RoleModalPage.Mode.ADMIN);\n         rolePanel.setEnabled(false);\n         form.add(rolePanel);\n "},{"sha":"b33862a0747b08115ff2215d1b414e6a482723bf","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/SyncTasks.java","status":"modified","additions":24,"deletions":2,"changes":26,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FSyncTasks.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FSyncTasks.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FSyncTasks.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -26,6 +26,7 @@\n import org.apache.syncope.console.commons.Constants;\n import org.apache.syncope.console.commons.PreferenceManager;\n import org.apache.syncope.console.commons.XMLRolesReader;\n+import org.apache.syncope.console.pages.RoleTemplateModalPage;\n import org.apache.syncope.console.pages.SyncTaskModalPage;\n import org.apache.syncope.console.pages.Tasks;\n import org.apache.syncope.console.pages.Tasks.TasksProvider;\n@@ -180,7 +181,28 @@ public Page createPage() {\n \n                         window.show(target);\n                     }\n-                }, ActionLink.ActionType.TEMPLATE, \"Tasks\", \"read\");\n+                }, ActionLink.ActionType.USER_TEMPLATE, \"Tasks\", \"read\");\n+\n+                panel.add(new ActionLink() {\n+\n+                    private static final long serialVersionUID = -3722207913631435501L;\n+\n+                    @Override\n+                    public void onClick(final AjaxRequestTarget target) {\n+\n+                        window.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                            private static final long serialVersionUID = -7834632442532690940L;\n+\n+                            @Override\n+                            public Page createPage() {\n+                                return new RoleTemplateModalPage(callerPageRef, window, taskTO);\n+                            }\n+                        });\n+\n+                        window.show(target);\n+                    }\n+                }, ActionLink.ActionType.ROLE_TEMPLATE, \"Tasks\", \"read\");\n \n                 panel.add(new ActionLink() {\n \n@@ -296,7 +318,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n                         columns,\n                         new TasksProvider<SyncTaskTO>(restClient, paginatorRows, getId(), SyncTaskTO.class),\n                         container,\n-                        table == null ? 0 : (int)table.getCurrentPage());\n+                        table == null ? 0 : (int) table.getCurrentPage());\n \n                 target.add(container);\n             }"},{"sha":"a1f9594fba480cea9eb86277624135fe236d1dff","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/VirtualAttributesPanel.java","status":"modified","additions":6,"deletions":4,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FVirtualAttributesPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FVirtualAttributesPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FVirtualAttributesPanel.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -128,7 +128,7 @@ protected void updateAjaxAttributes(AjaxRequestAttributes attributes) {\n                         super.updateAjaxAttributes(attributes);\n \n                         final AjaxCallListener ajaxCallListener = new AjaxCallListener() {\n-                            \n+\n                             private static final long serialVersionUID = 7160235486520935153L;\n \n                             @Override\n@@ -148,9 +148,11 @@ public CharSequence getPrecondition(final Component component) {\n \n                             @Override\n                             public Object getDisplayValue(final String object) {\n-                                return templateMode\n-                                        ? object + \" (JEXL)\"\n-                                        : object;\n+                                final StringBuilder text = new StringBuilder(object);\n+                                if (templateMode) {\n+                                    text.append(\" (JEXL)\");\n+                                }\n+                                return text.toString();\n                             }\n                         });\n "},{"sha":"1f68b163eaba774c87fed49bfd8433fba7591c59","filename":"console/src/main/java/org/apache/syncope/console/wicket/markup/html/form/ActionLink.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -29,7 +29,8 @@ public enum ActionType {\n \n         CREATE,\n         EDIT,\n-        TEMPLATE,\n+        USER_TEMPLATE,\n+        ROLE_TEMPLATE,\n         SEARCH,\n         DELETE,\n         EXECUTE,"},{"sha":"ae89402f88a6f3d0b222895b619422e3f7e6594b","filename":"console/src/main/java/org/apache/syncope/console/wicket/markup/html/form/ActionLinksPanel.java","status":"modified","additions":21,"deletions":6,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -47,7 +47,8 @@ public ActionLinksPanel(final String componentId, final IModel<?> model) {\n         super.add(new Fragment(\"panelClaim\", \"emptyFragment\", this));\n         super.add(new Fragment(\"panelCreate\", \"emptyFragment\", this));\n         super.add(new Fragment(\"panelEdit\", \"emptyFragment\", this));\n-        super.add(new Fragment(\"panelTemplate\", \"emptyFragment\", this));\n+        super.add(new Fragment(\"panelUserTemplate\", \"emptyFragment\", this));\n+        super.add(new Fragment(\"panelRoleTemplate\", \"emptyFragment\", this));\n         super.add(new Fragment(\"panelSearch\", \"emptyFragment\", this));\n         super.add(new Fragment(\"panelDelete\", \"emptyFragment\", this));\n         super.add(new Fragment(\"panelExecute\", \"emptyFragment\", this));\n@@ -121,10 +122,24 @@ public void onClick(final AjaxRequestTarget target) {\n                 });\n                 break;\n \n-            case TEMPLATE:\n-                fragment = new Fragment(\"panelTemplate\", \"fragmentTemplate\", this);\n+            case USER_TEMPLATE:\n+                fragment = new Fragment(\"panelUserTemplate\", \"fragmentUserTemplate\", this);\n \n-                fragment.addOrReplace(new IndicatingAjaxLink(\"templateLink\") {\n+                fragment.addOrReplace(new IndicatingAjaxLink(\"userTemplateLink\") {\n+\n+                    private static final long serialVersionUID = -7978723352517770644L;\n+\n+                    @Override\n+                    public void onClick(final AjaxRequestTarget target) {\n+                        link.onClick(target);\n+                    }\n+                });\n+                break;\n+\n+            case ROLE_TEMPLATE:\n+                fragment = new Fragment(\"panelRoleTemplate\", \"fragmentRoleTemplate\", this);\n+\n+                fragment.addOrReplace(new IndicatingAjaxLink(\"roleTemplateLink\") {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n@@ -246,8 +261,8 @@ public void remove(final ActionLink.ActionType type) {\n                 super.addOrReplace(new Fragment(\"panelEdit\", \"emptyFragment\", this));\n                 break;\n \n-            case TEMPLATE:\n-                super.addOrReplace(new Fragment(\"panelTemplate\", \"emptyFragment\", this));\n+            case USER_TEMPLATE:\n+                super.addOrReplace(new Fragment(\"panelUserTemplate\", \"emptyFragment\", this));\n                 break;\n \n             case SEARCH:"},{"sha":"9e9ef59a616fc0fc3c58deb7f2d84fc5170937b4","filename":"console/src/main/resources/org/apache/syncope/console/pages/RoleSelectModalPage.html","status":"renamed","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleSelectModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleSelectModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleSelectModalPage.html?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","previous_filename":"console/src/main/resources/org/apache/syncope/console/pages/RoleOwnerSelectModalPage.html"},{"sha":"be07ffa4523e8cfa63ba8be91bf9b450c4511b51","filename":"console/src/main/resources/org/apache/syncope/console/pages/UserOwnerSelectModalPage.html","status":"modified","additions":11,"deletions":9,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserOwnerSelectModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserOwnerSelectModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserOwnerSelectModalPage.html?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -17,18 +17,20 @@\n under the License.\n -->\n <wicket:extend>\n-  <form wicket:id=\"searchForm\">\n-    <h2><wicket:message key=\"search_title\"/></h2>\n+  <div style=\"text-align: center;\">\n+    <form wicket:id=\"searchForm\">\n+      <span wicket:id=\"searchPanel\">searchPanel</span>\n \n-    <span wicket:id=\"searchPanel\">searchPanel</span>\n-\n-    <input type=\"button\" class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\"\n-           wicket:id=\"search\"/>\n-  </form>\n+      <br/>\n+      <a wicket:id=\"search\"\n+         class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\">\n+        <img src=\"img/search.png\" alt=\"search\"/>\n+        <wicket:message key=\"search\"/>\n+      </a>\n+    </form>\n+  </div>\n \n   <div id=\"users-contain\" class=\"ui-widget\" style=\"width:auto\">\n-    <img src=\"img/search.png\" alt=\"search\"/>\n-    <h2 stile=\"display:inline;\"><wicket:message key=\"search_results_title\"/></h2>\n     <span wicket:id=\"searchResult\"> [search result] </span>\n   </div>\n </wicket:extend>"},{"sha":"6e0a6eadfb686525e95883cf7550fc38a4b5c733","filename":"console/src/main/resources/org/apache/syncope/console/pages/UserOwnerSelectModalPage.properties","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserOwnerSelectModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserOwnerSelectModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserOwnerSelectModalPage.properties?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -15,9 +15,7 @@\n # specific language governing permissions and limitations\n # under the License.\n search=Search\n-search_title=Set criteria for user search\n search_error=Error:search's format is invalid\n-search_results_title=Search results:\n search_noResults=No matches found.\n reset=Reset\n showingFrom=Showing"},{"sha":"1d4f230691515d2ef5cf161cdbd21f6bd5d326a8","filename":"console/src/main/resources/org/apache/syncope/console/pages/UserOwnerSelectModalPage_it.properties","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserOwnerSelectModalPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserOwnerSelectModalPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserOwnerSelectModalPage_it.properties?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -15,9 +15,7 @@\n # specific language governing permissions and limitations\n # under the License.\n search=Cerca\n-search_title=Impostare i criteri di ricerca\n search_error=Errore:il formato di ricerca non \\u00e8 valido\n-search_results_title=Risultati ricerca:\n search_noResults=Nessuna corrispondenza trovata.\n reset=Reset\n showingFrom=Risultati da"},{"sha":"c3c510937b223605879fde6114208eacba66d83f","filename":"console/src/main/resources/org/apache/syncope/console/pages/panels/RoleDetailsPanel.html","status":"modified","additions":53,"deletions":36,"changes":89,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel.html?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -16,53 +16,70 @@\n specific language governing permissions and limitations\n under the License.\n -->\n-<html>\n-  <wicket:panel>\n-    <div id=\"formtable\">\n+<wicket:panel>\n+  <div id=\"formtable\">\n+    <span wicket:id=\"parent\">[parent]</span>\n+\n+    <div class=\"tablerow\">\n+      <div class=\"tablecolumn_label short_dynamicsize\">\n+        <wicket:message key=\"name\"/>\n+      </div>\n+      <div class=\"tablecolumn_field medium_dynamicsize\">\n+        <span wicket:id=\"name\" />\n+      </div>\n+    </div>\n+\n+    <div wicket:id=\"ownerContainer\">\n       <div class=\"tablerow\">\n         <div class=\"tablecolumn_label short_dynamicsize\">\n-          <wicket:message key=\"name\"/>\n+          <wicket:message key=\"userOwner\"/>\n         </div>\n         <div class=\"tablecolumn_field medium_dynamicsize\">\n-          <span wicket:id=\"name\" />\n-        </div>\n-      </div>\n-\n-      <div wicket:id=\"ownerContainer\">\n-        <div class=\"tablerow\">\n-          <div class=\"tablecolumn_label short_dynamicsize\">\n-            <wicket:message key=\"userOwner\"/>\n-          </div>\n-          <div class=\"tablecolumn_field medium_dynamicsize\">\n-            <span wicket:id=\"userOwner\"/>\n-            <a href=\"#\" wicket:id=\"userOwnerSelect\"><img src=\"img/actions/search.png\" alt=\"select user owner\" title=\"Search\"/></a>\n-            <a href=\"#\" wicket:id=\"userOwnerReset\"><img src=\"img/actions/delete.png\" alt=\"reset user owner\" title=\"Delete\"/></a>\n-          </div>\n-        </div>\n-\n-        <div class=\"tablerow\">\n-          <div class=\"tablecolumn_label short_dynamicsize\">\n-            <wicket:message key=\"roleOwner\"/>\n-          </div>\n-          <div class=\"tablecolumn_field medium_dynamicsize\">\n-            <span wicket:id=\"roleOwner\"/>\n-            <a href=\"#\" wicket:id=\"roleOwnerSelect\"><img src=\"img/actions/search.png\" alt=\"select role owner\" title=\"Search\"/></a>\n-            <a href=\"#\" wicket:id=\"roleOwnerReset\"><img src=\"img/actions/delete.png\" alt=\"reset role owner\" title=\"Delete\"/></a>\n-          </div>\n+          <span wicket:id=\"userOwner\"/>\n+          <a href=\"#\" wicket:id=\"userOwnerSelect\"><img src=\"img/actions/search.png\" alt=\"select user owner\" title=\"Search\"/></a>\n+          <a href=\"#\" wicket:id=\"userOwnerReset\"><img src=\"img/actions/delete.png\" alt=\"reset user owner\" title=\"Delete\"/></a>\n         </div>\n       </div>\n \n-      <div class=\"tablerow alt\">\n+      <div class=\"tablerow\">\n         <div class=\"tablecolumn_label short_dynamicsize\">\n-          <wicket:message key=\"inheritOwner\"/>\n+          <wicket:message key=\"roleOwner\"/>\n         </div>\n         <div class=\"tablecolumn_field medium_dynamicsize\">\n-          <span wicket:id=\"inheritOwner\" />\n+          <span wicket:id=\"roleOwner\"/>\n+          <a href=\"#\" wicket:id=\"roleOwnerSelect\"><img src=\"img/actions/search.png\" alt=\"select role owner\" title=\"Search\"/></a>\n+          <a href=\"#\" wicket:id=\"roleOwnerReset\"><img src=\"img/actions/delete.png\" alt=\"reset role owner\" title=\"Delete\"/></a>\n         </div>\n       </div>\n     </div>\n \n-    <span wicket:id=\"userOwnerSelectWin\"/>\n-    <span wicket:id=\"roleOwnerSelectWin\"/>\n-  </wicket:panel>\n-</html>\n+    <div class=\"tablerow alt\">\n+      <div class=\"tablecolumn_label short_dynamicsize\">\n+        <wicket:message key=\"inheritOwner\"/>\n+      </div>\n+      <div class=\"tablecolumn_field medium_dynamicsize\">\n+        <span wicket:id=\"inheritOwner\" />\n+      </div>\n+    </div>\n+  </div>\n+\n+  <span wicket:id=\"parentSelectWin\"/>\n+  <span wicket:id=\"userOwnerSelectWin\"/>\n+  <span wicket:id=\"roleOwnerSelectWin\"/>\n+\n+  <wicket:fragment wicket:id=\"parentFragment\">\n+    <div class=\"tablerow\">\n+      <div class=\"tablecolumn_label short_dynamicsize\">\n+        <wicket:message key=\"parent\"/>\n+      </div>\n+      <div class=\"tablecolumn_field medium_dynamicsize\">\n+        <span wicket:id=\"parent\"/>\n+        <a href=\"#\" wicket:id=\"parentSelect\"><img src=\"img/actions/search.png\" alt=\"select role parent\" title=\"Search\"/></a>\n+        <a href=\"#\" wicket:id=\"parentReset\"><img src=\"img/actions/delete.png\" alt=\"reset role parent\" title=\"Delete\"/></a>\n+      </div>\n+    </div>\n+  </wicket:fragment>\n+\n+  <wicket:fragment wicket:id=\"emptyFragment\">\n+  </wicket:fragment>\n+</wicket:panel>"},{"sha":"3c87b1978f6bf947bc90f593330f863f75716a02","filename":"console/src/main/resources/org/apache/syncope/console/pages/panels/RoleDetailsPanel.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel.properties?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -18,3 +18,4 @@ name=Name\n userOwner=Owner (user)\n roleOwner=Owner (role)\n inheritOwner=Inherit owner\n+parent=Parent"},{"sha":"3e93b7a20780605dc85a95c7d1455942579b559c","filename":"console/src/main/resources/org/apache/syncope/console/pages/panels/RoleDetailsPanel_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel_it.properties?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -18,3 +18,4 @@ name=Nome\n userOwner=Proprietario (utente)\n roleOwner=Proprietario (ruolo)\n inheritOwner=Eredita proprietario\n+parent=Padre"},{"sha":"1b4b87a3a3adfe60c7d54e7c66be278c1829bcbb","filename":"console/src/main/resources/org/apache/syncope/console/wicket/markup/html/form/ActionLinksPanel.html","status":"modified","additions":53,"deletions":48,"changes":101,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.html?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -17,65 +17,70 @@\n under the License.\n -->\n <wicket:head>\n-    <style>\n-        span#action{\n-            margin-left: 1px;\n-            margin-right: 1px;\n-        }\n-    </style>\n+  <style>\n+    span#action{\n+      margin-left: 1px;\n+      margin-right: 1px;\n+    }\n+  </style>\n </wicket:head>\n <wicket:panel>\n-    <span id=\"action\" wicket:id=\"panelClaim\">[plus]</span>\n-    <span id=\"action\" wicket:id=\"panelDryRun\">[plus]</span>\n-    <span id=\"action\" wicket:id=\"panelExecute\">[plus]</span>\n-    <span id=\"action\" wicket:id=\"panelSearch\">[plus]</span>\n-    <span id=\"action\" wicket:id=\"panelCreate\">[plus]</span>\n-    <span id=\"action\" wicket:id=\"panelTemplate\">[plus]</span>\n-    <span id=\"action\" wicket:id=\"panelEdit\">[plus]</span>\n-    <span id=\"action\" wicket:id=\"panelExport\">[plus]</span>\n-    <span id=\"action\" wicket:id=\"panelDelete\">[plus]</span>\n-    <span id=\"action\" wicket:id=\"panelSelect\">[plus]</span>\n+  <span id=\"action\" wicket:id=\"panelClaim\">[plus]</span>\n+  <span id=\"action\" wicket:id=\"panelDryRun\">[plus]</span>\n+  <span id=\"action\" wicket:id=\"panelExecute\">[plus]</span>\n+  <span id=\"action\" wicket:id=\"panelSearch\">[plus]</span>\n+  <span id=\"action\" wicket:id=\"panelCreate\">[plus]</span>\n+  <span id=\"action\" wicket:id=\"panelUserTemplate\">[plus]</span>\n+  <span id=\"action\" wicket:id=\"panelRoleTemplate\">[plus]</span>\n+  <span id=\"action\" wicket:id=\"panelEdit\">[plus]</span>\n+  <span id=\"action\" wicket:id=\"panelExport\">[plus]</span>\n+  <span id=\"action\" wicket:id=\"panelDelete\">[plus]</span>\n+  <span id=\"action\" wicket:id=\"panelSelect\">[plus]</span>\n \n-    <wicket:fragment wicket:id=\"fragmentClaim\">\n-        <a href=\"#\" wicket:id=\"claimLink\"><img src=\"img/actions/claim.png\" alt=\"claim icon\" title=\"Claim\"/></a>\n-    </wicket:fragment>\n+  <wicket:fragment wicket:id=\"fragmentClaim\">\n+    <a href=\"#\" wicket:id=\"claimLink\"><img src=\"img/actions/claim.png\" alt=\"claim icon\" title=\"Claim\"/></a>\n+  </wicket:fragment>\n \n-    <wicket:fragment wicket:id=\"fragmentCreate\">\n-        <a href=\"#\" wicket:id=\"createLink\"><img src=\"img/actions/create.png\" alt=\"create icon\"  title=\"Create\"/></a>\n-    </wicket:fragment>\n+  <wicket:fragment wicket:id=\"fragmentCreate\">\n+    <a href=\"#\" wicket:id=\"createLink\"><img src=\"img/actions/create.png\" alt=\"create icon\"  title=\"Create\"/></a>\n+  </wicket:fragment>\n \n-    <wicket:fragment wicket:id=\"fragmentSearch\">\n-        <a href=\"#\" wicket:id=\"searchLink\"><img src=\"img/actions/search.png\" alt=\"search icon\"  title=\"Search and modify\" /></a>\n-    </wicket:fragment>\n+  <wicket:fragment wicket:id=\"fragmentSearch\">\n+    <a href=\"#\" wicket:id=\"searchLink\"><img src=\"img/actions/search.png\" alt=\"search icon\"  title=\"Search and modify\" /></a>\n+  </wicket:fragment>\n \n-    <wicket:fragment wicket:id=\"fragmentEdit\">\n-        <a href=\"#\" wicket:id=\"editLink\"><img src=\"img/actions/edit.png\" alt=\"edit icon\"  title=\"Edit\"/></a>\n-    </wicket:fragment>\n+  <wicket:fragment wicket:id=\"fragmentEdit\">\n+    <a href=\"#\" wicket:id=\"editLink\"><img src=\"img/actions/edit.png\" alt=\"edit icon\"  title=\"Edit\"/></a>\n+  </wicket:fragment>\n \n-    <wicket:fragment wicket:id=\"fragmentTemplate\">\n-        <a href=\"#\" wicket:id=\"templateLink\"><img src=\"img/actions/template.png\" alt=\"template icon\"  title=\"Specify template\"/></a>\n-    </wicket:fragment>\n+  <wicket:fragment wicket:id=\"fragmentUserTemplate\">\n+    <a href=\"#\" wicket:id=\"userTemplateLink\"><img src=\"img/actions/user_template.png\" alt=\"user template icon\"  title=\"Specify user template\"/></a>\n+  </wicket:fragment>\n \n-    <wicket:fragment wicket:id=\"fragmentDelete\">\n-        <a href=\"#\" wicket:id=\"deleteLink\"><img src=\"img/actions/delete.png\" alt=\"delete icon\"  title=\"Delete\"/></a>\n-    </wicket:fragment>\n+  <wicket:fragment wicket:id=\"fragmentRoleTemplate\">\n+    <a href=\"#\" wicket:id=\"roleTemplateLink\"><img src=\"img/actions/role_template.png\" alt=\"role template icon\"  title=\"Specify role template\"/></a>\n+  </wicket:fragment>\n \n-    <wicket:fragment wicket:id=\"fragmentDryRun\">\n-        <a href=\"#\" wicket:id=\"dryRunLink\"><img src=\"img/actions/dryrun.png\" alt=\"dryrun icon\"  title=\"DryRun\"/></a>\n-    </wicket:fragment>\n+  <wicket:fragment wicket:id=\"fragmentDelete\">\n+    <a href=\"#\" wicket:id=\"deleteLink\"><img src=\"img/actions/delete.png\" alt=\"delete icon\"  title=\"Delete\"/></a>\n+  </wicket:fragment>\n \n-    <wicket:fragment wicket:id=\"fragmentExecute\">\n-        <a href=\"#\" wicket:id=\"executeLink\"><img src=\"img/actions/execute.png\" alt=\"execute icon\"  title=\"Execute\"/></a>\n-    </wicket:fragment>\n+  <wicket:fragment wicket:id=\"fragmentDryRun\">\n+    <a href=\"#\" wicket:id=\"dryRunLink\"><img src=\"img/actions/dryrun.png\" alt=\"dryrun icon\"  title=\"DryRun\"/></a>\n+  </wicket:fragment>\n \n-    <wicket:fragment wicket:id=\"fragmentSelect\">\n-        <a href=\"#\" wicket:id=\"selectLink\"><img src=\"img/actions/select.png\" alt=\"select icon\"  title=\"Select\"/></a>\n-    </wicket:fragment>\n+  <wicket:fragment wicket:id=\"fragmentExecute\">\n+    <a href=\"#\" wicket:id=\"executeLink\"><img src=\"img/actions/execute.png\" alt=\"execute icon\"  title=\"Execute\"/></a>\n+  </wicket:fragment>\n \n-    <wicket:fragment wicket:id=\"fragmentExport\">\n-        <a href=\"#\" wicket:id=\"exportLink\"><img src=\"img/actions/export.png\" alt=\"export icon\"  title=\"Export\"/></a>\n-    </wicket:fragment>\n+  <wicket:fragment wicket:id=\"fragmentSelect\">\n+    <a href=\"#\" wicket:id=\"selectLink\"><img src=\"img/actions/select.png\" alt=\"select icon\"  title=\"Select\"/></a>\n+  </wicket:fragment>\n \n-    <wicket:fragment wicket:id=\"emptyFragment\">\n-    </wicket:fragment>\n+  <wicket:fragment wicket:id=\"fragmentExport\">\n+    <a href=\"#\" wicket:id=\"exportLink\"><img src=\"img/actions/export.png\" alt=\"export icon\"  title=\"Export\"/></a>\n+  </wicket:fragment>\n+\n+  <wicket:fragment wicket:id=\"emptyFragment\">\n+  </wicket:fragment>\n </wicket:panel>"},{"sha":"dfec6b9ee068f4fb519510fffec72279f271901d","filename":"console/src/main/webapp/css/style.css","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstyle.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstyle.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstyle.css?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -369,7 +369,7 @@ em img {\n }\n \n th.action{\n-  width: 110px;\n+  width: 136px;\n }\n \n td.action{"},{"sha":"d843040590405eb3f70d2a1c02e46c969c2a40b6","filename":"console/src/main/webapp/img/actions/role_template.png","status":"added","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Factions%2Frole_template.png","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Factions%2Frole_template.png","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Factions%2Frole_template.png?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd"},{"sha":"00cb6df04c5b3ee25c3199af3e4fe5ff5f95b962","filename":"console/src/main/webapp/img/actions/user_template.png","status":"renamed","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Factions%2Fuser_template.png","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Factions%2Fuser_template.png","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Factions%2Fuser_template.png?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","previous_filename":"console/src/main/webapp/img/actions/template.png"},{"sha":"012de2b6f3bb18d3de079741f3cb720cfd0392f1","filename":"console/src/test/java/org/apache/syncope/console/ConfigurationTestITCase.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -45,7 +45,7 @@ public void browseEditModal() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n-        selenium.click(\"//tr/td[3]/div/span[7]/a\");\n+        selenium.click(\"//tr/td[3]/div/span[8]/a\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//input[@name='key:textField']\\\");\", \"30000\");\n \n@@ -106,7 +106,7 @@ public void delete() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n-        selenium.click(\"//tr[7]/td[3]/div/span[9]/a\");\n+        selenium.click(\"//tr[7]/td[3]/div/span[10]/a\");\n \n         assertTrue(selenium.getConfirmation().matches(\"^Do you really want to delete the selected item[\\\\s\\\\S]$\"));\n "},{"sha":"22b4840a599c39d0d6148a2610714fc0bb6f9348","filename":"console/src/test/java/org/apache/syncope/console/ConnInstanceTestITCase.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConnInstanceTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConnInstanceTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConnInstanceTestITCase.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -74,7 +74,7 @@ public void browseEditModal() {\n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n         selenium.click(\"//div[3]/ul/li[2]/a\");\n-        selenium.click(\"//tr[4]/td[6]/div/span[7]/a\");\n+        selenium.click(\"//tr[4]/td[6]/div/span[8]/a\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//input[@name='version:textField']\\\");\", \"30000\");\n \n@@ -94,7 +94,7 @@ public void delete() {\n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n         selenium.click(\"//div[3]/ul/li[2]/a\");\n-        selenium.click(\"//tr[4]/td[6]/div/span[9]/a\");\n+        selenium.click(\"//tr[4]/td[6]/div/span[10]/a\");\n \n         assertTrue(selenium.getConfirmation().matches(\"^Do you really want to delete the selected item[\\\\s\\\\S]$\"));\n \n@@ -109,7 +109,7 @@ public void checkConnection() {\n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n         selenium.click(\"//div[3]/ul/li[2]/a\");\n-        selenium.click(\"//tr[2]/td[6]/div/span[7]/a\");\n+        selenium.click(\"//tr[2]/td[6]/div/span[8]/a\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//input[@name='version:textField']\\\");\", \"30000\");\n "},{"sha":"4f3f9bfd3f8011b51609634b542abfa14479dd0a","filename":"console/src/test/java/org/apache/syncope/console/ReportTestITCase.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FReportTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FReportTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FReportTestITCase.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -27,7 +27,7 @@ public void readReportlet() {\n         selenium.click(\"css=img[alt=\\\"Reports\\\"]\");\n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n-        selenium.click(\"//table/tbody/tr/td[8]/div/span[7]/a\");\n+        selenium.click(\"//table/tbody/tr/td[8]/div/span[8]/a\");\n         selenium.waitForCondition(\"selenium.isElementPresent(\"\n                 + \"\\\"//div[2]/form/div[2]/div/div/span/div/div/div/span\\\");\", \"30000\");\n "},{"sha":"965b15f9d67936207d00dee1ac3157dd20fadfc3","filename":"console/src/test/java/org/apache/syncope/console/ResourceTestITCase.java","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FResourceTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FResourceTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FResourceTestITCase.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -42,7 +42,7 @@ public void browseEditModal() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n-        selenium.click(\"//td[4]/div/span[7]/a\");\n+        selenium.click(\"//td[4]/div/span[8]/a\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\"\n                 + \"\\\"//form/div[2]/div/span/div/div/div/label[text()='Name']\\\");\", \"30000\");\n@@ -64,7 +64,7 @@ public void delete() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n-        selenium.click(\"//tr[3]/td[4]/div/span[9]/a\");\n+        selenium.click(\"//tr[3]/td[4]/div/span[10]/a\");\n \n         assertTrue(selenium.getConfirmation().matches(\"^Do you really want to delete the selected item[\\\\s\\\\S]$\"));\n     }\n@@ -75,7 +75,7 @@ public void checkSecurityTab() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n-        selenium.click(\"//td[4]/div/span[7]/a\");\n+        selenium.click(\"//td[4]/div/span[8]/a\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\"\n                 + \"\\\"//form/div[2]/div/span/div/div/div/label[text()='Name']\\\");\", \"30000\");\n@@ -97,7 +97,7 @@ public void checkConnection() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n-        selenium.click(\"//*[@id=\\\"users-contain\\\"]//*[div=\\\"ws-target-resource-delete\\\"]/../td[4]/div/span[7]/a\");\n+        selenium.click(\"//*[@id=\\\"users-contain\\\"]//*[div=\\\"ws-target-resource-delete\\\"]/../td[4]/div/span[8]/a\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\"\n                 + \"\\\"//form/div[2]/div/span/div/div/div/label[text()='Name']\\\");\", \"30000\");"},{"sha":"35f69c9d072c7beed6d7f17d56c0bc40a7f19658","filename":"console/src/test/java/org/apache/syncope/console/RoleTestITCase.java","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FRoleTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FRoleTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FRoleTestITCase.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -130,9 +130,9 @@ public void browseUserEditModal() {\n \n         selenium.click(\"//input[@name=\\\"userListContainer:search\\\"]\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//table/tbody/tr/td[4]/div/span[7]/a\\\");\", \"30000\");\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//table/tbody/tr/td[4]/div/span[8]/a\\\");\", \"30000\");\n \n-        selenium.click(\"//table/tbody/tr/td[4]/div/span[7]/a\");\n+        selenium.click(\"//table/tbody/tr/td[4]/div/span[8]/a\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\"\n                 + \"\\\"//form/div[2]/div/span/div/div/div[contains(text(),'Username')]\\\");\", \"30000\");\n@@ -156,9 +156,9 @@ public void deleteUser() {\n \n         selenium.click(\"//input[@name=\\\"userListContainer:search\\\"]\");\n \n-        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//span[9]/a\\\");\", \"30000\");\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//span[10]/a\\\");\", \"30000\");\n \n-        selenium.click(\"//span[9]/a\");\n+        selenium.click(\"//span[10]/a\");\n \n         assertTrue(selenium.getConfirmation().matches(\"^Do you really want to delete the selected item[\\\\s\\\\S]$\"));\n     }"},{"sha":"b1e80d393a0b1715a84bc66c62c39eb76492ec1e","filename":"console/src/test/java/org/apache/syncope/console/SchemaTestITCase.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FSchemaTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FSchemaTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FSchemaTestITCase.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -51,7 +51,7 @@ public void delete() {\n         selenium.click(\"//div[@id='tabs']/ul/li[3]/a/span\");\n         selenium.click(\"//div[@id='membership']/ul/li[3]/a/span\");\n \n-        selenium.click(\"//table/tbody/tr/td[3]/div/span[9]/a\");\n+        selenium.click(\"//table/tbody/tr/td[3]/div/span[10]/a\");\n \n         assertTrue(selenium.getConfirmation().matches(\"^Do you really want to delete the selected item[\\\\s\\\\S]$\"));\n     }"},{"sha":"f3725834d81610a42745f0aeb39ef953d648fc03","filename":"console/src/test/java/org/apache/syncope/console/TaskTestITCase.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FTaskTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FTaskTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FTaskTestITCase.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -33,7 +33,7 @@ public void execute() {\n \n         selenium.waitForCondition(\"selenium.isTextPresent(\" + \"\\\"Operation executed successfully\\\");\", \"30000\");\n \n-        selenium.click(\"//*[div=1]/../td[9]/div/span[7]/a\");\n+        selenium.click(\"//*[div=1]/../td[9]/div/span[8]/a\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\"\n                 + \"\\\"//form/div[2]/div/div/span/div/div/div[2]/span/input\\\");\", \"30000\");\n@@ -50,7 +50,7 @@ public void delete() {\n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n         selenium.click(\"//div[@id='tabs']/ul/li[3]/a/span\");\n-        selenium.click(\"//table/tbody/tr/td[7]/div/span[9]/a\");\n+        selenium.click(\"//table/tbody/tr/td[7]/div/span[10]/a\");\n \n         assertTrue(selenium.getConfirmation().matches(\"^Do you really want to delete the selected item[\\\\s\\\\S]$\"));\n "},{"sha":"707ada982e28c606bfbf741df1484d20fbb928c2","filename":"console/src/test/java/org/apache/syncope/console/UserTestITCase.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FUserTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FUserTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FUserTestITCase.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -50,7 +50,7 @@ public void browseEditModal() {\n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n         //Edit user3\n-        selenium.click(\"//*[@id=\\\"users-contain\\\"]//*[div=3]/../td[4]/div/span[7]/a\");\n+        selenium.click(\"//*[@id=\\\"users-contain\\\"]//*[div=3]/../td[4]/div/span[8]/a\");\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\" + \"\\\"//input[@value='testUsername']\\\");\", \"30000\");\n \n@@ -89,7 +89,7 @@ public void delete() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n \n-        selenium.click(\"//*[@id=\\\"users-contain\\\"]//*[div=4]/../td[4]/div/span[9]/a\");\n+        selenium.click(\"//*[@id=\\\"users-contain\\\"]//*[div=4]/../td[4]/div/span[10]/a\");\n \n         assertTrue(selenium.getConfirmation().matches(\"^Do you really want to delete the selected item[\\\\s\\\\S]$\"));\n "},{"sha":"7341e74e57012164668eebec9c528e76bf163ff3","filename":"core/src/main/java/org/apache/syncope/core/connid/ConnObjectUtil.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cd4f7617245d54def63fdc9e3240d1ced27250fd/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fconnid%2FConnObjectUtil.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cd4f7617245d54def63fdc9e3240d1ced27250fd/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fconnid%2FConnObjectUtil.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fconnid%2FConnObjectUtil.java?ref=cd4f7617245d54def63fdc9e3240d1ced27250fd","patch":"@@ -336,6 +336,8 @@ private <T extends AbstractAttributableTO> T getAttributableTOFromConnObject(fin\n                 ((RoleTO) attributableTO).setUserOwner(((RoleTO) template).getUserOwner());\n                 ((RoleTO) attributableTO).setRoleOwner(((RoleTO) template).getRoleOwner());\n \n+                ((RoleTO) attributableTO).setEntitlements(((RoleTO) template).getEntitlements());\n+\n                 ((RoleTO) attributableTO).setAccountPolicy(((RoleTO) template).getAccountPolicy());\n                 ((RoleTO) attributableTO).setPasswordPolicy(((RoleTO) template).getPasswordPolicy());\n "}]}
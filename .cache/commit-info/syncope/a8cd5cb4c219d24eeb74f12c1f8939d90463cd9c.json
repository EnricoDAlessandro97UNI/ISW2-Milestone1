{"sha":"a8cd5cb4c219d24eeb74f12c1f8939d90463cd9c","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmE4Y2Q1Y2I0YzIxOWQyNGVlYjc0ZjEyYzFmODkzOWQ5MDQ2M2NkOWM=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2020-05-07T14:31:17Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2020-05-07T14:31:59Z"},"message":"Ensure Audit works with MariaDB","tree":{"sha":"9548d54d5140aa0ad7490df4f8f32e861d76dbaa","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/9548d54d5140aa0ad7490df4f8f32e861d76dbaa"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/a8cd5cb4c219d24eeb74f12c1f8939d90463cd9c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a8cd5cb4c219d24eeb74f12c1f8939d90463cd9c","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/a8cd5cb4c219d24eeb74f12c1f8939d90463cd9c","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a8cd5cb4c219d24eeb74f12c1f8939d90463cd9c/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"8a43984b2dd877d4fdcbd65b5429f96f78524a8f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8a43984b2dd877d4fdcbd65b5429f96f78524a8f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/8a43984b2dd877d4fdcbd65b5429f96f78524a8f"}],"stats":{"total":29,"additions":27,"deletions":2},"files":[{"sha":"c6ee824fc32f763fcf2f75fbcb72543a723deaab","filename":"core/persistence-jpa/src/main/resources/audit/audit_mariadb.sql","status":"added","additions":24,"deletions":0,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a8cd5cb4c219d24eeb74f12c1f8939d90463cd9c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Faudit%2Faudit_mariadb.sql","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a8cd5cb4c219d24eeb74f12c1f8939d90463cd9c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Faudit%2Faudit_mariadb.sql","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Faudit%2Faudit_mariadb.sql?ref=a8cd5cb4c219d24eeb74f12c1f8939d90463cd9c","patch":"@@ -0,0 +1,24 @@\n+-- Licensed to the Apache Software Foundation (ASF) under one\n+-- or more contributor license agreements.  See the NOTICE file\n+-- distributed with this work for additional information\n+-- regarding copyright ownership.  The ASF licenses this file\n+-- to you under the Apache License, Version 2.0 (the\n+-- \"License\"); you may not use this file except in compliance\n+-- with the License.  You may obtain a copy of the License at\n+--\n+--   http://www.apache.org/licenses/LICENSE-2.0\n+--\n+-- Unless required by applicable law or agreed to in writing,\n+-- software distributed under the License is distributed on an\n+-- \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+-- KIND, either express or implied.  See the License for the\n+-- specific language governing permissions and limitations\n+-- under the License.\n+\n+CREATE TABLE IF NOT EXISTS SYNCOPEAUDIT (\n+  EVENT_DATE TIMESTAMP,\n+  LOGGER_LEVEL VARCHAR(255) NOT NULL,\n+  LOGGER VARCHAR(255) NOT NULL,\n+  MESSAGE LONGTEXT NOT NULL,\n+  THROWABLE TEXT\n+);"},{"sha":"0cff2c4a119a291dc816719bd9a56bfcd0be0267","filename":"fit/core-reference/src/main/resources/mariadb/domains/Master.properties","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a8cd5cb4c219d24eeb74f12c1f8939d90463cd9c/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fmariadb%2Fdomains%2FMaster.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a8cd5cb4c219d24eeb74f12c1f8939d90463cd9c/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fmariadb%2Fdomains%2FMaster.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fresources%2Fmariadb%2Fdomains%2FMaster.properties?ref=a8cd5cb4c219d24eeb74f12c1f8939d90463cd9c","patch":"@@ -15,7 +15,7 @@\n # specific language governing permissions and limitations\n # under the License.\n Master.driverClassName=org.mariadb.jdbc.Driver\n-Master.url=jdbc:mariadb://localhost:3306/syncope?characterEncoding=UTF-8\n+Master.url=jdbc:mariadb://${DB_CONTAINER_IP}:3306/syncope?characterEncoding=UTF-8\n Master.schema=\n Master.username=syncope\n Master.password=syncope\n@@ -25,4 +25,4 @@ Master.orm=META-INF/spring-orm.xml\n Master.pool.maxActive=10\n Master.pool.minIdle=2\n \n-Master.audit.sql=audit.sql\n+Master.audit.sql=audit_mariadb.sql"},{"sha":"9cf2becf9d3da15eca0a82cc43b208c1bd1a7a6e","filename":"src/main/asciidoc/reference-guide/workingwithapachesyncope/systemadministration/dbms.adoc","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a8cd5cb4c219d24eeb74f12c1f8939d90463cd9c/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fdbms.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a8cd5cb4c219d24eeb74f12c1f8939d90463cd9c/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fdbms.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fsystemadministration%2Fdbms.adoc?ref=a8cd5cb4c219d24eeb74f12c1f8939d90463cd9c","patch":"@@ -317,6 +317,7 @@ Master.username=syncope\n Master.password=syncope\n Master.databasePlatform=org.apache.openjpa.jdbc.sql.MariaDBDictionary(blobTypeName=LONGBLOB,dateFractionDigits=3)\n Master.orm=META-INF/spring-orm.xml\n+Master.audit.sql=audit_mariadb.sql\n ....\n \n [CAUTION]"}]}
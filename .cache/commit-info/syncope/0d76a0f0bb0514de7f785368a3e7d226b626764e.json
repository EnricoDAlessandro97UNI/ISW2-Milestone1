{"sha":"0d76a0f0bb0514de7f785368a3e7d226b626764e","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjBkNzZhMGYwYmIwNTE0ZGU3Zjc4NTM2OGEzZTdkMjI2YjYyNjc2NGU=","commit":{"author":{"name":"Marco Di Sabatino Di Diodoro","email":"mdisabatino@apache.org","date":"2016-03-03T15:34:47Z"},"committer":{"name":"Marco Di Sabatino Di Diodoro","email":"mdisabatino@apache.org","date":"2016-03-03T15:34:47Z"},"message":"[SYNCOPE-752] Add console test for roles","tree":{"sha":"ab3153cfd5538989519636384dc7e5c609c99b03","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/ab3153cfd5538989519636384dc7e5c609c99b03"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/0d76a0f0bb0514de7f785368a3e7d226b626764e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/0d76a0f0bb0514de7f785368a3e7d226b626764e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/0d76a0f0bb0514de7f785368a3e7d226b626764e","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/0d76a0f0bb0514de7f785368a3e7d226b626764e/comments","author":{"login":"mdisabatino","id":1792527,"node_id":"MDQ6VXNlcjE3OTI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1792527?v=4","gravatar_id":"","url":"https://api.github.com/users/mdisabatino","html_url":"https://github.com/mdisabatino","followers_url":"https://api.github.com/users/mdisabatino/followers","following_url":"https://api.github.com/users/mdisabatino/following{/other_user}","gists_url":"https://api.github.com/users/mdisabatino/gists{/gist_id}","starred_url":"https://api.github.com/users/mdisabatino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdisabatino/subscriptions","organizations_url":"https://api.github.com/users/mdisabatino/orgs","repos_url":"https://api.github.com/users/mdisabatino/repos","events_url":"https://api.github.com/users/mdisabatino/events{/privacy}","received_events_url":"https://api.github.com/users/mdisabatino/received_events","type":"User","site_admin":false},"committer":{"login":"mdisabatino","id":1792527,"node_id":"MDQ6VXNlcjE3OTI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1792527?v=4","gravatar_id":"","url":"https://api.github.com/users/mdisabatino","html_url":"https://github.com/mdisabatino","followers_url":"https://api.github.com/users/mdisabatino/followers","following_url":"https://api.github.com/users/mdisabatino/following{/other_user}","gists_url":"https://api.github.com/users/mdisabatino/gists{/gist_id}","starred_url":"https://api.github.com/users/mdisabatino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdisabatino/subscriptions","organizations_url":"https://api.github.com/users/mdisabatino/orgs","repos_url":"https://api.github.com/users/mdisabatino/repos","events_url":"https://api.github.com/users/mdisabatino/events{/privacy}","received_events_url":"https://api.github.com/users/mdisabatino/received_events","type":"User","site_admin":false},"parents":[{"sha":"f561358688c6ae7892326b522f55c6e36f89519c","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f561358688c6ae7892326b522f55c6e36f89519c","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f561358688c6ae7892326b522f55c6e36f89519c"}],"stats":{"total":51,"additions":29,"deletions":22},"files":[{"sha":"0112f7d639e120f23785d44e7e7eaf637af9e919","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/console/RolesITCase.java","status":"modified","additions":29,"deletions":22,"changes":51,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/0d76a0f0bb0514de7f785368a3e7d226b626764e/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FRolesITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/0d76a0f0bb0514de7f785368a3e7d226b626764e/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FRolesITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FRolesITCase.java?ref=0d76a0f0bb0514de7f785368a3e7d226b626764e","patch":"@@ -25,7 +25,6 @@\n import org.apache.syncope.client.console.pages.Roles;\n import org.apache.wicket.Component;\n import org.apache.wicket.util.tester.FormTester;\n-import org.junit.Assert;\n import org.junit.Before;\n import org.junit.FixMethodOrder;\n import org.junit.Test;\n@@ -34,27 +33,13 @@\n @FixMethodOrder(MethodSorters.JVM)\n public class RolesITCase extends AbstractConsoleITCase<String> {\n \n-    @Before\n-    public void login() {\n-        doLogin(ADMIN_UNAME, ADMIN_PWD);\n-        wicketTester.clickLink(\"body:configurationLI:configurationUL:rolesLI:roles\");\n-        wicketTester.assertRenderedPage(Roles.class);\n-    }\n-\n-    @Test\n-    public void read() {\n-        Assert.assertNull(findComponentByProp(KEY, \"body:content:rolesPanel:container:content:searchContainer:\"\n-                + \"resultTable:tablePanel:groupForm:checkgroup:dataTable\", \"OTHER\"));\n-    }\n-\n-    @Test\n-    public void create() {\n+    private void createRole(final String name) {\n         wicketTester.clickLink(\"body:content:rolesPanel:container:content:add\");\n \n         wicketTester.assertComponent(\"body:content:rolesPanel:modal\", Modal.class);\n \n         FormTester formTester = wicketTester.newFormTester(\"body:content:rolesPanel:modal:form\");\n-        formTester.setValue(\"content:form:view:key:textField\", \"testRole\");\n+        formTester.setValue(\"content:form:view:key:textField\", name);\n         formTester.submit(\"content:form:buttons:next\");\n \n         formTester = wicketTester.newFormTester(\"body:content:rolesPanel:modal:form\");\n@@ -67,21 +52,42 @@ public void create() {\n \n         wicketTester.assertInfoMessages(\"Operation executed successfully\");\n         wicketTester.cleanupFeedbackMessages();\n+        \n+        wicketTester.clickLink(\"body:configurationLI:configurationUL:rolesLI:roles\");\n+    }\n+\n+    @Before\n+    public void login() {\n+        doLogin(ADMIN_UNAME, ADMIN_PWD);\n+        wicketTester.clickLink(\"body:configurationLI:configurationUL:rolesLI:roles\");\n+        wicketTester.assertRenderedPage(Roles.class);\n+    }\n+\n+    @Test\n+    public void read() {\n+        assertNull(findComponentByProp(KEY, \"body:content:rolesPanel:container:content:searchContainer:\"\n+                + \"resultTable:tablePanel:groupForm:checkgroup:dataTable\", \"OTHER\"));\n+    }\n+\n+    @Test\n+    public void create() {\n+        createRole(\"testRole\");\n     }\n \n     @Test\n     public void update() {\n+        createRole(\"updateRole\");\n         Component result = findComponentByProp(KEY, \"body:content:rolesPanel:container:content:searchContainer:\"\n-                + \"resultTable:tablePanel:groupForm:checkgroup:dataTable\", \"testRole\");\n+                + \"resultTable:tablePanel:groupForm:checkgroup:dataTable\", \"updateRole\");\n \n         wicketTester.assertLabel(\n-                result.getPageRelativePath() + \":cells:1:cell\", \"testRole\");\n+                result.getPageRelativePath() + \":cells:1:cell\", \"updateRole\");\n \n         wicketTester.clickLink(\n                 result.getPageRelativePath() + \":cells:4:cell:panelEdit:editLink\");\n \n         FormTester formTester = wicketTester.newFormTester(\"body:content:rolesPanel:modal:form\");\n-        formTester.setValue(\"content:form:view:key:textField\", \"testRole\");\n+        formTester.setValue(\"content:form:view:key:textField\", \"updateRole\");\n         formTester.submit(\"content:form:buttons:next\");\n \n         formTester = wicketTester.newFormTester(\"body:content:rolesPanel:modal:form\");\n@@ -98,11 +104,12 @@ public void update() {\n \n     @Test\n     public void delete() {\n+        createRole(\"deleteRole\");\n         Component result = findComponentByProp(KEY, \"body:content:rolesPanel:container:content:searchContainer:\"\n-                + \"resultTable:tablePanel:groupForm:checkgroup:dataTable\", \"testRole\");\n+                + \"resultTable:tablePanel:groupForm:checkgroup:dataTable\", \"deleteRole\");\n \n         wicketTester.assertLabel(\n-                result.getPageRelativePath() + \":cells:1:cell\", \"testRole\");\n+                result.getPageRelativePath() + \":cells:1:cell\", \"deleteRole\");\n \n         wicketTester.getRequest().addParameter(\"confirm\", \"true\");\n         wicketTester.clickLink("}]}
{"sha":"fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmZlNDcyMWJjMmU3NmQxMjdiZmVjYzFiYTI5OTAwN2I1NWFiMmVmNWU=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2020-05-12T09:07:40Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2020-05-12T09:35:58Z"},"message":"[SYNCOPE-1560] Setting FileInputConfig's language after SyncopeConsoleSession","tree":{"sha":"3b9c33ecff912653c4b342e6f7189d2d19038948","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/3b9c33ecff912653c4b342e6f7189d2d19038948"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"272fcb759421bec3ea467b9fad92ea9df69cbccc","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/272fcb759421bec3ea467b9fad92ea9df69cbccc","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/272fcb759421bec3ea467b9fad92ea9df69cbccc"}],"stats":{"total":155,"additions":55,"deletions":100},"files":[{"sha":"12e55f1e2c6e7cfc512ba5303cb20d02036f8931","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/wizards/CSVPullWizardBuilder.java","status":"modified","additions":22,"deletions":7,"changes":29,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FCSVPullWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FCSVPullWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FCSVPullWizardBuilder.java?ref=fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","patch":"@@ -26,6 +26,9 @@\n import java.util.stream.Collectors;\n import java.util.stream.Stream;\n import org.apache.commons.lang3.StringUtils;\n+import org.apache.syncope.client.console.SyncopeConsoleSession;\n+import org.apache.syncope.client.console.SyncopeWebApplication;\n+import org.apache.syncope.client.console.pages.BasePage;\n import org.apache.syncope.client.console.panels.CSVConfPanel;\n import org.apache.syncope.client.console.rest.ImplementationRestClient;\n import org.apache.syncope.client.console.rest.ReconciliationRestClient;\n@@ -58,6 +61,7 @@\n import org.apache.wicket.model.Model;\n import org.apache.wicket.model.PropertyModel;\n import org.apache.wicket.model.util.ListModel;\n+import org.apache.wicket.util.lang.Bytes;\n \n public class CSVPullWizardBuilder extends BaseAjaxWizardBuilder<CSVPullSpec> {\n \n@@ -90,8 +94,14 @@ public static LineSeparator byRepr(final String repr) {\n \n     private final Model<byte[]> csv = new Model<>();\n \n+    private final Bytes maxUploadSize;\n+\n     public CSVPullWizardBuilder(final CSVPullSpec defaultItem, final PageReference pageRef) {\n         super(defaultItem, pageRef);\n+\n+        this.maxUploadSize = SyncopeWebApplication.get().getMaxUploadFileSizeMB() == null\n+                ? null\n+                : Bytes.megabytes(SyncopeWebApplication.get().getMaxUploadFileSizeMB());\n     }\n \n     @Override\n@@ -118,12 +128,10 @@ public class Details extends WizardStep {\n         private static final long serialVersionUID = -4736870165235853919L;\n \n         public Details(final CSVPullSpec spec) {\n-            FileInputConfig csvFile = new FileInputConfig();\n-            csvFile.showUpload(false);\n-            csvFile.showRemove(false);\n-            csvFile.showPreview(false);\n-            csvFile.browseClass(\"btn btn-success\");\n-            csvFile.browseIcon(\"<i class=\\\"fas fa-folder-open\\\"></i> &nbsp;\");\n+            FileInputConfig csvFile = new FileInputConfig().\n+                    showUpload(false).showRemove(false).showPreview(false).\n+                    withLocale(SyncopeConsoleSession.get().getLocale().getLanguage()).\n+                    browseClass(\"btn btn-success\").browseIcon(\"<i class=\\\"fas fa-folder-open\\\"></i> &nbsp;\");\n             BootstrapFileInputField csvUpload =\n                     new BootstrapFileInputField(\"csvUpload\", new ListModel<>(new ArrayList<>()), csvFile);\n             csvUpload.setRequired(true);\n@@ -136,7 +144,14 @@ public Details(final CSVPullSpec spec) {\n                 protected void onSubmit(final AjaxRequestTarget target) {\n                     FileUpload uploadedFile = csvUpload.getFileUpload();\n                     if (uploadedFile != null) {\n-                        csv.setObject(uploadedFile.getBytes());\n+                        if (maxUploadSize != null && uploadedFile.getSize() > maxUploadSize.bytes()) {\n+                            SyncopeConsoleSession.get().error(getString(\"tooLargeFile\").\n+                                    replace(\"${maxUploadSizeB}\", String.valueOf(maxUploadSize.bytes())).\n+                                    replace(\"${maxUploadSizeMB}\", String.valueOf(maxUploadSize.bytes() / 1000000L)));\n+                            ((BasePage) getPageReference().getPage()).getNotificationPanel().refresh(target);\n+                        } else {\n+                            csv.setObject(uploadedFile.getBytes());\n+                        }\n                     }\n                 }\n             });"},{"sha":"610ef7c334e541a07558945401606279a73b53b9","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wicket/markup/html/form/BinaryFieldPanel.java","status":"modified","additions":11,"deletions":13,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel.java?ref=fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","patch":"@@ -178,12 +178,10 @@ public void onClick(final AjaxRequestTarget target) {\n         downloadLink.setOutputMarkupId(true);\n         uploadForm.add(downloadLink);\n \n-        FileInputConfig config = new FileInputConfig();\n-        config.showUpload(false);\n-        config.showRemove(false);\n-        config.showPreview(false);\n-        config.browseClass(\"btn btn-success\");\n-        config.browseIcon(\"<i class=\\\"fas fa-folder-open\\\"></i> &nbsp;\");\n+        FileInputConfig config = new FileInputConfig().\n+                showUpload(false).showRemove(false).showPreview(false).\n+                withLocale(SyncopeConsoleSession.get().getLocale().getLanguage()).\n+                browseClass(\"btn btn-success\").browseIcon(\"<i class=\\\"fas fa-folder-open\\\"></i> &nbsp;\");\n \n         fileUpload = new BootstrapFileInputField(\"fileUpload\", new ListModel<>(new ArrayList<>()), config);\n         fileUpload.setOutputMarkupId(true);\n@@ -194,24 +192,24 @@ public void onClick(final AjaxRequestTarget target) {\n \n             @Override\n             protected void onSubmit(final AjaxRequestTarget target) {\n-                final FileUpload uploadedFile = fileUpload.getFileUpload();\n+                FileUpload uploadedFile = fileUpload.getFileUpload();\n                 if (uploadedFile != null) {\n                     if (maxUploadSize != null && uploadedFile.getSize() > maxUploadSize.bytes()) {\n                         // SYNCOPE-1213 manage directly max upload file size (if set in properties file)\n-                        SyncopeConsoleSession.get().error(getString(\"tooLargeFile\")\n-                                .replace(\"${maxUploadSizeB}\", String.valueOf(maxUploadSize.bytes()))\n-                                .replace(\"${maxUploadSizeMB}\", String.valueOf(maxUploadSize.bytes() / 1000000L)));\n+                        SyncopeConsoleSession.get().error(getString(\"tooLargeFile\").\n+                                replace(\"${maxUploadSizeB}\", String.valueOf(maxUploadSize.bytes())).\n+                                replace(\"${maxUploadSizeMB}\", String.valueOf(maxUploadSize.bytes() / 1000000L)));\n                         ((BasePage) getPageReference().getPage()).getNotificationPanel().refresh(target);\n                     } else {\n-                        final byte[] uploadedBytes = uploadedFile.getBytes();\n-                        final String uploaded = Base64.getEncoder().encodeToString(uploadedBytes);\n+                        byte[] uploadedBytes = uploadedFile.getBytes();\n+                        String uploaded = Base64.getEncoder().encodeToString(uploadedBytes);\n                         field.setModelObject(uploaded);\n                         target.add(field);\n \n                         if (previewer == null) {\n                             container.addOrReplace(emptyFragment);\n                         } else {\n-                            final Component panelPreview = previewer.preview(uploadedBytes);\n+                            Component panelPreview = previewer.preview(uploadedBytes);\n                             changePreviewer(panelPreview);\n                             fileUpload.setModelObject(null);\n                             uploadForm.addOrReplace(fileUpload);"},{"sha":"3104d7ea5fad2337d072a20cc3518de5e1d998f4","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/SyncopeWebApplication.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication.properties?ref=fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","patch":"@@ -78,3 +78,4 @@ networkservices=Network Services\n keymaster=Keymaster\n domains=Domains\n nomatch=No matches found\n+tooLargeFile=File is too large, max upload file size is ${maxUploadSizeB} bytes (${maxUploadSizeMB} MB). "},{"sha":"d9ebbf325ea6bad3cd9ce4884845f64f13ff7975","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/SyncopeWebApplication_fr_CA.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication_fr_CA.properties?ref=fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","patch":"@@ -77,3 +77,4 @@ networkservices=Services r\\u00e9seau\n keymaster=Keymaster\n domains=Domaines\n nomatch=Aucune correspondance trouv\\u00e9e\n+tooLargeFile=Fichier trop volumineux, la taille maximale autoris\\u00e9e est de $ {maxUploadSizeB} octets ($ {maxUploadSizeMB} Mo)."},{"sha":"c1c0ef87ff242badc17c62bafd8d563b4aa69177","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/SyncopeWebApplication_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication_it.properties?ref=fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","patch":"@@ -78,3 +78,4 @@ networkservices=Servizi di Rete\n keymaster=Keymaster\n domains=Domini\n nomatch=Nessun risultato trovato\n+tooLargeFile=File troppo grande, la dimensione massima ammessa \\u00e8 ${maxUploadSizeB} bytes (${maxUploadSizeMB} MB). "},{"sha":"85f9f2361f06f3fb3be44aeb4f3a40f36792f757","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/SyncopeWebApplication_ja.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication_ja.properties?ref=fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","patch":"@@ -76,3 +76,4 @@ networkservices=\\u30cd\\u30c3\\u30c8\\u30ef\\u30fc\\u30af\\u30b5\\u30fc\\u30d3\\u30b9\n keymaster=\\u30ad\\u30fc\\u30de\\u30b9\\u30bf\\u30fc\n domains=\\u30c9\\u30e1\\u30a4\\u30f3\n nomatch=No matches found\n+tooLargeFile=File is too large, max upload file size is ${maxUploadSizeB} bytes (${maxUploadSizeMB} MB). "},{"sha":"112c58e8ec0faf4c7b84eee3d03e96b52327f8da","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/SyncopeWebApplication_pt_BR.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication_pt_BR.properties?ref=fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","patch":"@@ -78,3 +78,4 @@ networkservices=Servi\\u00e7os de Rede\n keymaster=Keymaster\n domains=Dom\\u00ednios\n nomatch=Nenhuma correspond\\u00eancia encontrada\n+tooLargeFile=File is too large, max upload file size is ${maxUploadSizeB} bytes (${maxUploadSizeMB} MB). "},{"sha":"d0855bbaabc685458edaf7bf28e983fe10a7e342","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/SyncopeWebApplication_ru.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication_ru.properties?ref=fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","patch":"@@ -77,3 +77,4 @@ networkservices=Network Services\n keymaster=Keymaster\n domains=Domains\n nomatch=No matches found\n+tooLargeFile=File is too large, max upload file size is ${maxUploadSizeB} bytes (${maxUploadSizeMB} MB). "},{"sha":"6db49aff565b8de5c2cccbf5e94c434bd90112fe","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/BinaryFieldPanel.properties","status":"removed","additions":0,"deletions":17,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/272fcb759421bec3ea467b9fad92ea9df69cbccc/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/272fcb759421bec3ea467b9fad92ea9df69cbccc/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel.properties?ref=272fcb759421bec3ea467b9fad92ea9df69cbccc","patch":"@@ -1,17 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-tooLargeFile=File is too large, max upload file size is ${maxUploadSizeB} bytes (${maxUploadSizeMB} MB)."},{"sha":"f82cd54a5a411a75bcdd05af1dc5cea6b9acc602","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/BinaryFieldPanel_ja.properties","status":"removed","additions":0,"deletions":17,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/272fcb759421bec3ea467b9fad92ea9df69cbccc/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/272fcb759421bec3ea467b9fad92ea9df69cbccc/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel_ja.properties?ref=272fcb759421bec3ea467b9fad92ea9df69cbccc","patch":"@@ -1,17 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-tooLargeFile=\\u30d5\\u30a1\\u30a4\\u30eb\\u304c\\u5927\\u304d\\u3059\\u304e\\u307e\\u3059\\u3002\\u6700\\u5927\\u30a2\\u30c3\\u30d7\\u30ed\\u30fc\\u30c9\\u30b5\\u30a4\\u30ba\\u306f ${maxUploadSizeB} \\u30d0\\u30a4\\u30c8 (${maxUploadSizeMB} MB) \\u3067\\u3059\\u3002"},{"sha":"4bb7621503744808d025c5ebd4e9d8131c77318d","filename":"client/idrepo/enduser/src/main/java/org/apache/syncope/client/enduser/markup/html/form/BinaryFieldPanel.java","status":"modified","additions":11,"deletions":12,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel.java?ref=fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","patch":"@@ -176,11 +176,10 @@ public void onClick(final AjaxRequestTarget target) {\n         downloadLink.setOutputMarkupId(true);\n         uploadForm.add(downloadLink);\n \n-        FileInputConfig config = new FileInputConfig();\n-        config.showUpload(false);\n-        config.showRemove(false);\n-        config.showPreview(false);\n-        config.browseIcon(\"<i class=\\\"fas fa-folder-open\\\"></i> &nbsp;\");\n+        FileInputConfig config = new FileInputConfig().\n+                showUpload(false).showRemove(false).showPreview(false).\n+                withLocale(SyncopeEnduserSession.get().getLocale().getLanguage()).\n+                browseClass(\"btn btn-success\").browseIcon(\"<i class=\\\"fas fa-folder-open\\\"></i> &nbsp;\");\n \n         fileUpload = new BootstrapFileInputField(\"fileUpload\", new ListModel<>(new ArrayList<>()), config);\n         fileUpload.setOutputMarkupId(true);\n@@ -191,24 +190,24 @@ public void onClick(final AjaxRequestTarget target) {\n \n             @Override\n             protected void onSubmit(final AjaxRequestTarget target) {\n-                final FileUpload uploadedFile = fileUpload.getFileUpload();\n+                FileUpload uploadedFile = fileUpload.getFileUpload();\n                 if (uploadedFile != null) {\n                     if (maxUploadSize != null && uploadedFile.getSize() > maxUploadSize.bytes()) {\n                         // SYNCOPE-1213 manage directly max upload file size (if set in properties file)\n-                        SyncopeEnduserSession.get().error(getString(\"tooLargeFile\")\n-                                .replace(\"${maxUploadSizeB}\", String.valueOf(maxUploadSize.bytes()))\n-                                .replace(\"${maxUploadSizeMB}\", String.valueOf(maxUploadSize.bytes() / 1000000L)));\n+                        SyncopeEnduserSession.get().error(getString(\"tooLargeFile\").\n+                                replace(\"${maxUploadSizeB}\", String.valueOf(maxUploadSize.bytes())).\n+                                replace(\"${maxUploadSizeMB}\", String.valueOf(maxUploadSize.bytes() / 1000000L)));\n                         ((BaseWebPage) getPageReference().getPage()).getNotificationPanel().refresh(target);\n                     } else {\n-                        final byte[] uploadedBytes = uploadedFile.getBytes();\n-                        final String uploaded = Base64.getEncoder().encodeToString(uploadedBytes);\n+                        byte[] uploadedBytes = uploadedFile.getBytes();\n+                        String uploaded = Base64.getEncoder().encodeToString(uploadedBytes);\n                         field.setModelObject(uploaded);\n                         target.add(field);\n \n                         if (previewer == null) {\n                             container.addOrReplace(emptyFragment);\n                         } else {\n-                            final Component panelPreview = previewer.preview(uploadedBytes);\n+                            Component panelPreview = previewer.preview(uploadedBytes);\n                             changePreviewer(panelPreview);\n                             fileUpload.setModelObject(null);\n                             uploadForm.addOrReplace(fileUpload);"},{"sha":"0c1754b3913ba8a8edbc0bbd754735f00b0f6616","filename":"client/idrepo/enduser/src/main/resources/org/apache/syncope/client/enduser/SyncopeWebApplication.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeWebApplication.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeWebApplication.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeWebApplication.properties?ref=fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","patch":"@@ -80,3 +80,4 @@ after=After\n captcha_error=Captcha entered does not match\n \n invalid.security.answer=Invalid security answer\n+tooLargeFile=File is too large, max upload file size is ${maxUploadSizeB} bytes (${maxUploadSizeMB} MB). "},{"sha":"e8620a014fc2a5526390debfc9c3959cdd39102f","filename":"client/idrepo/enduser/src/main/resources/org/apache/syncope/client/enduser/SyncopeWebApplication_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeWebApplication_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeWebApplication_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeWebApplication_it.properties?ref=fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","patch":"@@ -77,3 +77,4 @@ after=Dopo\n captcha_error=Il Captcha inserito non \\u00e8 corretto\n \n invalid.security.answer=Risposta di sicurezza non valida\n+tooLargeFile=File troppo grande, la dimensione massima ammessa \\\\u00e8 ${maxUploadSizeB} bytes (${maxUploadSizeMB} MB)."},{"sha":"553dfb98315d7c02184f720335605e9d933964c7","filename":"client/idrepo/enduser/src/main/resources/org/apache/syncope/client/enduser/SyncopeWebApplication_ja.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeWebApplication_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeWebApplication_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeWebApplication_ja.properties?ref=fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","patch":"@@ -74,3 +74,4 @@ after=\\u5f8c\n \n captcha_error=\\u5165\\u529b\\u3055\\u308c\\u305f\\u30ad\\u30e3\\u30d7\\u30c1\\u30e3\\u304c\\u4e00\\u81f4\\u3057\\u307e\\u305b\\u3093\n invalid.security.answer=Invalid security answer\n+tooLargeFile=File is too large, max upload file size is ${maxUploadSizeB} bytes (${maxUploadSizeMB} MB). "},{"sha":"d1d66c58268ad830226dacdf59f41b01aa4f2edd","filename":"client/idrepo/enduser/src/main/resources/org/apache/syncope/client/enduser/SyncopeWebApplication_pt_BR.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeWebApplication_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeWebApplication_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeWebApplication_pt_BR.properties?ref=fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","patch":"@@ -76,3 +76,4 @@ after=After\n \n captcha_error=Captcha entered does not match\n invalid.security.answer=Invalid security answer\n+tooLargeFile=File is too large, max upload file size is ${maxUploadSizeB} bytes (${maxUploadSizeMB} MB)."},{"sha":"a1859f5554fdca77daad14079687adf2f3f8511d","filename":"client/idrepo/enduser/src/main/resources/org/apache/syncope/client/enduser/SyncopeWebApplication_ru.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeWebApplication_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe4721bc2e76d127bfecc1ba299007b55ab2ef5e/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeWebApplication_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeWebApplication_ru.properties?ref=fe4721bc2e76d127bfecc1ba299007b55ab2ef5e","patch":"@@ -75,3 +75,4 @@ after=After\n \n captcha_error=Captcha entered does not match\n invalid.security.answer=Invalid security answer\n+tooLargeFile=File is too large, max upload file size is ${maxUploadSizeB} bytes (${maxUploadSizeMB} MB). "},{"sha":"6db49aff565b8de5c2cccbf5e94c434bd90112fe","filename":"client/idrepo/enduser/src/main/resources/org/apache/syncope/client/enduser/markup/html/form/BinaryFieldPanel.properties","status":"removed","additions":0,"deletions":17,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/272fcb759421bec3ea467b9fad92ea9df69cbccc/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/272fcb759421bec3ea467b9fad92ea9df69cbccc/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel.properties?ref=272fcb759421bec3ea467b9fad92ea9df69cbccc","patch":"@@ -1,17 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-tooLargeFile=File is too large, max upload file size is ${maxUploadSizeB} bytes (${maxUploadSizeMB} MB)."},{"sha":"f82cd54a5a411a75bcdd05af1dc5cea6b9acc602","filename":"client/idrepo/enduser/src/main/resources/org/apache/syncope/client/enduser/markup/html/form/BinaryFieldPanel_ja.properties","status":"removed","additions":0,"deletions":17,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/272fcb759421bec3ea467b9fad92ea9df69cbccc/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/272fcb759421bec3ea467b9fad92ea9df69cbccc/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmarkup%2Fhtml%2Fform%2FBinaryFieldPanel_ja.properties?ref=272fcb759421bec3ea467b9fad92ea9df69cbccc","patch":"@@ -1,17 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-tooLargeFile=\\u30d5\\u30a1\\u30a4\\u30eb\\u304c\\u5927\\u304d\\u3059\\u304e\\u307e\\u3059\\u3002\\u6700\\u5927\\u30a2\\u30c3\\u30d7\\u30ed\\u30fc\\u30c9\\u30b5\\u30a4\\u30ba\\u306f ${maxUploadSizeB} \\u30d0\\u30a4\\u30c8 (${maxUploadSizeMB} MB) \\u3067\\u3059\\u3002"}]}
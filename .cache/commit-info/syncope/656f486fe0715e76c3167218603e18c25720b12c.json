{"sha":"656f486fe0715e76c3167218603e18c25720b12c","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjY1NmY0ODZmZTA3MTVlNzZjMzE2NzIxODYwM2UxOGMyNTcyMGIxMmM=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2010-09-21T14:43:22Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2010-09-21T14:43:22Z"},"message":"Merge from branches/0_1_X\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1246523 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"717633c7c63b9de78cf345b0d0161477b60cf836","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/717633c7c63b9de78cf345b0d0161477b60cf836"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/656f486fe0715e76c3167218603e18c25720b12c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/656f486fe0715e76c3167218603e18c25720b12c","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/656f486fe0715e76c3167218603e18c25720b12c","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/656f486fe0715e76c3167218603e18c25720b12c/comments","author":null,"committer":null,"parents":[{"sha":"d4922e5670d2b243362163687c5277077c789ebf","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d4922e5670d2b243362163687c5277077c789ebf","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d4922e5670d2b243362163687c5277077c789ebf"}],"stats":{"total":394,"additions":143,"deletions":251},"files":[{"sha":"8fbfff39d41c99756bb7c580d89e0b0c0b530b32","filename":"archetype/pom.xml","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/656f486fe0715e76c3167218603e18c25720b12c/archetype%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/656f486fe0715e76c3167218603e18c25720b12c/archetype%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fpom.xml?ref=656f486fe0715e76c3167218603e18c25720b12c","patch":"@@ -20,7 +20,7 @@\n \r\n     <groupId>org.syncope</groupId>\r\n     <artifactId>syncope-archetype</artifactId>\r\n-    <version>0.1-SNAPSHOT</version>\r\n+    <version>0.2-SNAPSHOT</version>\r\n     <packaging>maven-archetype</packaging>\r\n \r\n     <name>syncope-archetype</name>\r\n@@ -29,7 +29,7 @@\n     <parent>\r\n         <groupId>org.sonatype.oss</groupId>\r\n         <artifactId>oss-parent</artifactId>\r\n-        <version>3</version>\r\n+        <version>5</version>\r\n     </parent>\r\n \r\n     <url>http://syncope.googlecode.com/</url>\r"},{"sha":"895d8b9f5356f9c8e7d206454bfff6c1728d359c","filename":"console/src/main/java/org/syncope/console/SyncopeApplication.java","status":"modified","additions":0,"deletions":11,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication.java?ref=656f486fe0715e76c3167218603e18c25720b12c","patch":"@@ -78,17 +78,6 @@ public Class getHomePage()\n         return (user == null) ? Login.class :  WelcomePage.class;\n     }\n \n-    /**\n-     * Use this method to switch from DEVELOPMENT to DEPLOYMENT mode\n-     * on production enviroment.\n-     *\n-     * @return String : Configuration type\n-     */\n-    @Override\n-    public String getConfigurationType()\n-    {\n-        return DEVELOPMENT;\n-    }\n \n     @Override\n     public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {"},{"sha":"a58281c60fe00d18d1dc94092910fbd941c50a34","filename":"console/src/main/java/org/syncope/console/pages/Login.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FLogin.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FLogin.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FLogin.java?ref=656f486fe0715e76c3167218603e18c25720b12c","patch":"@@ -70,20 +70,20 @@ public Login(PageParameters parameters) {\n             public void onSubmit() {\n                 inputStream = ((SyncopeApplication)getApplication()).getAuthenticationFile();\n                 Authentication auth = new Authentication();\n-                Boolean authenticated = auth.authentication(usernameField.getRawInput(), passwordField.getRawInput(), inputStream);\n+                Boolean authenticated = auth.authentication(usernameField.getRawInput(),\n+                        passwordField.getRawInput(), inputStream);\n                 if (authenticated == true) {\n                     SyncopeUser user = new SyncopeUser();\n                     user.setUsername(usernameField.getRawInput());\n                     ((SyncopeSession)Session.get()).setUser(user);\n                     setResponsePage(new WelcomePage(null));\n-                    info(\"\");\n                     try {\n                         inputStream.close();\n                     } catch (IOException ex) {\n                         Logger.getLogger(Login.class.getName()).log(Level.SEVERE, null, ex);\n                     }\n                 } else {\n-                    info(\"Username e/o password errati\");\n+                    error(getString(\"login-error\"));\n                 }\n             }\n         };"},{"sha":"d9b066ab6dcc7d995b956044b83bed289e51d774","filename":"console/src/main/java/org/syncope/console/pages/RoleModalPage.java","status":"modified","additions":89,"deletions":35,"changes":124,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java?ref=656f486fe0715e76c3167218603e18c25720b12c","patch":"@@ -22,6 +22,7 @@\n import java.text.ParseException;\n import java.text.SimpleDateFormat;\n import java.util.ArrayList;\n+import java.util.Collection;\n import java.util.Date;\n import java.util.HashSet;\n import java.util.List;\n@@ -33,16 +34,19 @@\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.extensions.markup.html.form.palette.Palette;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.form.TextField;\n import org.apache.wicket.markup.html.basic.Label;\n+import org.apache.wicket.markup.html.form.ChoiceRenderer;\n import org.apache.wicket.markup.html.form.Form;\n import org.apache.wicket.markup.html.list.ListItem;\n import org.apache.wicket.markup.html.list.ListView;\n import org.apache.wicket.markup.html.panel.FeedbackPanel;\n import org.apache.wicket.markup.html.panel.Panel;\n import org.apache.wicket.model.CompoundPropertyModel;\n import org.apache.wicket.model.Model;\n+import org.apache.wicket.model.util.ListModel;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n \n import org.syncope.client.mod.AttributeMod;\n@@ -61,7 +65,6 @@\n import org.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n import org.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.syncope.console.wicket.markup.html.form.DateFieldPanel;\n-import org.syncope.console.wicket.markup.html.form.ListMultipleChoiceTransfer;\n \n /**\n  * Modal window with Role form.\n@@ -76,6 +79,7 @@ public class RoleModalPage extends SyncopeModalPage {\n \n     RoleTO oldRole;\n     RoleMod roleMod;\n+    \n     /**\n      *\n      * @param basePage base\n@@ -112,20 +116,7 @@ protected void populateItem(ListItem item) {\n                     @Override\n                     protected void populateItem(final ListItem item) {\n \n-                        if (schemaTO.getType().getClassName().equals(\"java.lang.String\")) {\n-                            panel = new AjaxTextFieldPanel(\"panel\", schemaTO.getName(), new Model() {\n-\n-                                @Override\n-                                public Serializable getObject() {\n-                                    return (String) item.getModelObject();\n-                                }\n-\n-                                @Override\n-                                public void setObject(Serializable object) {\n-                                    item.setModelObject((String) object);\n-                                }\n-                            }, schemaTO.isMandatory());\n-                        } else if (schemaTO.getType().getClassName().equals(\"java.lang.Boolean\")) {\n+                      if (schemaTO.getType().getClassName().equals(\"java.lang.Boolean\")) {\n                             panel = new AjaxCheckBoxPanel(\"panel\", schemaTO.getName(), new Model() {\n \n                                 @Override\n@@ -168,6 +159,21 @@ public void setObject(Serializable object) {\n                                         }\n                                     }, schemaTO.isMandatory());\n                         }\n+                        //Common other cases : java.lang.String,java.lang.Double,java.lang.Long\n+                        else  {\n+                            panel = new AjaxTextFieldPanel(\"panel\", schemaTO.getName(), new Model() {\n+\n+                                @Override\n+                                public Serializable getObject() {\n+                                    return (String) item.getModelObject();\n+                                }\n+\n+                                @Override\n+                                public void setObject(Serializable object) {\n+                                    item.setModelObject((String) object);\n+                                }\n+                            }, schemaTO.isMandatory());\n+                        }\n \n                         item.add(panel);\n                     }\n@@ -216,7 +222,7 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n \n         form.add(roleAttributesView);\n \n-        final ListMultipleChoiceTransfer resourcesTransfer =\n+        /*final ListMultipleChoiceTransfer resourcesTransfer =\n                 new ListMultipleChoiceTransfer(\"resourcesChoiceTransfer\",\n                 getString(\"firstResourcesList\"), getString(\"secondResourcesList\")) {\n \n@@ -262,11 +268,23 @@ public List<String> setupDestinations() {\n                     }\n                 };\n \n-        form.add(resourcesTransfer);\n+        form.add(resourcesTransfer);*/\n+\n+        ListModel<ResourceTO> selectedResources = new ListModel<ResourceTO>();\n+        selectedResources.setObject(getSelectedResources(roleTO));\n+\n+        ListModel<ResourceTO> availableResources = new ListModel<ResourceTO>();\n+        availableResources.setObject(getAvailableResources(roleTO));\n+\n+        ChoiceRenderer paletteRenderer = new ChoiceRenderer(\"name\", \"name\");\n+\n+        final Palette<ResourceTO> resourcesPalette = new Palette(\"resourcesPalette\",\n+        selectedResources, availableResources, paletteRenderer, 8, false);\n+\n+        form.add(resourcesPalette);\n \n         container = new WebMarkupContainer(\"container\");\n         container.add(roleAttributesView);\n-\n         container.setOutputMarkupId(true);\n \n         form.add(container);\n@@ -285,7 +303,7 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n \n                 try {\n \n-                    roleTO.setResources(getResourcesSet(resourcesTransfer.getFinalSelections()));\n+                    roleTO.setResources(getResourcesSet(resourcesPalette.getModelCollection()));\n                     roleTO.setAttributes(getRoleAttributes());\n \n                     if (createFlag) {\n@@ -326,6 +344,58 @@ protected void onError(AjaxRequestTarget target, Form form) {\n         add(form);\n     }\n \n+    /**\n+     * Covert a resources List<String> to Set<String>.\n+     * @return Set<String> of Resources.\n+     */\n+    public Set<String> getResourcesSet(Collection<ResourceTO> resourcesList) {\n+        Set<String> resourcesSet = new HashSet<String>();\n+\n+       for (ResourceTO resourceTO : resourcesList) {\n+            resourcesSet.add(resourceTO.getName());\n+        }\n+\n+        return resourcesSet;\n+    }\n+\n+    /**\n+     * Originals: resources provided for a stored role.\n+     * @param roleTO\n+     * @return List<ResourceTO>\n+     */\n+    public List<ResourceTO> getSelectedResources(RoleTO roleTO) {\n+        List<ResourceTO> resources = new ArrayList<ResourceTO>();\n+        ResourceTO clusterableResourceTO;\n+\n+        for (String resourceName : roleTO.getResources()) {\n+            clusterableResourceTO = new ResourceTO();\n+            clusterableResourceTO.setName(resourceName);\n+            resources.add(clusterableResourceTO);\n+        }\n+        return resources;\n+    }\n+\n+\n+    /**\n+     * Destinations: all available\n+     * @param roleTO\n+     * @return List<ResourceTO>\n+     */\n+    public List<ResourceTO> getAvailableResources(RoleTO roleTO) {\n+\n+        List<ResourceTO> resources = new ArrayList<ResourceTO>();\n+\n+        ResourcesRestClient resourcesRestClient = (ResourcesRestClient) ((SyncopeApplication) Application.get()).getApplicationContext().getBean(\"resourcesRestClient\");\n+\n+        ResourceTOs resourcesTos = resourcesRestClient.getAllResources();\n+\n+        for (ResourceTO resourceTO : resourcesTos) \n+             resources.add(resourceTO);\n+                \n+        \n+        return resources;\n+    }\n+\n     public void setupSchemaWrappers(boolean create, RoleTO roleTO) {\n \n         schemaWrappers = new ArrayList<SchemaWrapper>();\n@@ -430,22 +500,6 @@ public void cloneOldRoleTO(RoleTO roleTO){\n     public void setupRoleMod(RoleTO roleTO){\n         roleMod = new RoleMod();\n \n-//        AttributeMod attributeMod;\n-//        Set<AttributeMod> attributesToUpdate = new HashSet<AttributeMod>();\n-\n-//        for (SchemaWrapper schemaWrapper : schemaWrappers) {\n-\n-//            attributeMod = new AttributeMod();\n-//            attributeMod.setSchema(schemaWrapper.getSchemaTO().getName());\n-//            attributeMod.setValuesToBeAdded(new HashSet<String>());\n-//\n-//            for (String value : schemaWrapper.getValues()) {\n-//                attributeMod.getValuesToBeAdded().add(value);\n-//            }\n-//\n-//            attributesToUpdate.add(attributeMod);\n-//        }\n-\n         roleMod.setId(roleTO.getId());\n \n         if(!oldRole.getName().equals(roleTO.getName()))"},{"sha":"e81bad535c6c984f2054e6132779cc93143c7097","filename":"console/src/main/java/org/syncope/console/pages/UserModalPage.java","status":"modified","additions":14,"deletions":10,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java?ref=656f486fe0715e76c3167218603e18c25720b12c","patch":"@@ -267,15 +267,15 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n \n         userForm.add(userAttributesView);\n \n-        ListModel<ResourceTO> originals = new ListModel<ResourceTO>();\n-        originals.setObject(getOriginals(userTO));\n+        ListModel<ResourceTO> selectedResources = new ListModel<ResourceTO>();\n+        selectedResources.setObject(getSelectedResources(userTO));\n \n-        ListModel<ResourceTO> destinations = new ListModel<ResourceTO>();\n-        destinations.setObject(getDestinations(userTO));\n+        ListModel<ResourceTO> availableResources = new ListModel<ResourceTO>();\n+        availableResources.setObject(getAvailableResources(userTO));\n \n         ChoiceRenderer paletteRenderer = new ChoiceRenderer(\"name\", \"name\");\n-        final Palette resourcesPalette = new Palette(\"resourcesPalette\", originals, destinations, paletteRenderer, 8, false);\n-\n+        final Palette resourcesPalette = new Palette(\"resourcesPalette\", selectedResources,\n+                availableResources, paletteRenderer, 8, false);\n         userForm.add(resourcesPalette);\n \n         container = new WebMarkupContainer(\"container\");\n@@ -444,7 +444,7 @@ public void onClick(AjaxRequestTarget target) {\n      * @param userTO\n      * @return\n      */\n-    public List<ResourceTO> getOriginals(UserTO userTO) {\n+    public List<ResourceTO> getSelectedResources(UserTO userTO) {\n         List<ResourceTO> resources = new ArrayList<ResourceTO>();\n         ResourceTO clusterableResourceTO;\n \n@@ -461,15 +461,19 @@ public List<ResourceTO> getOriginals(UserTO userTO) {\n      * @param userTO\n      * @return\n      */\n-    public List<ResourceTO> getDestinations(UserTO userTO) {\n+    public List<ResourceTO> getAvailableResources(UserTO userTO) {\n \n         List<ResourceTO> resources = new ArrayList<ResourceTO>();\n \n         ResourcesRestClient resourcesRestClient = (ResourcesRestClient) ((SyncopeApplication) Application.get()).getApplicationContext().getBean(\"resourcesRestClient\");\n \n         ResourceTOs resourcesTos = resourcesRestClient.getAllResources();\n \n-        if (userTO.getResources().size() == 0) {\n+        for (ResourceTO resourceTO : resourcesTos)\n+                resources.add(resourceTO);\n+\n+\n+        /*if (userTO.getResources().size() == 0) {\n             for (ResourceTO resourceTO : resourcesTos) \n                 resources.add(resourceTO);\n         } else {\n@@ -480,7 +484,7 @@ public List<ResourceTO> getDestinations(UserTO userTO) {\n                         resources.add(resourceTO);\n                 }\n             }\n-        }\n+        }*/\n         return resources;\n     }\n "},{"sha":"34540ac17875aeb1f5780e450fe40cc5b3da31f1","filename":"console/src/main/java/org/syncope/console/rest/SchemaRestClient.java","status":"modified","additions":15,"deletions":0,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FSchemaRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FSchemaRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FSchemaRestClient.java?ref=656f486fe0715e76c3167218603e18c25720b12c","patch":"@@ -16,6 +16,7 @@\n \n import java.util.ArrayList;\n import java.util.List;\n+import java.util.Set;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.web.client.RestClientException;\n@@ -529,6 +530,20 @@ public void deleteMemberhipSchema(String name) {\n         }\n     }\n \n+    /**\n+     * Populator for Validator Schema DropDown components.\n+     */\n+    public Set<String> getAllValidatorClasses() {\n+        Set<String> validators = null;\n+\n+        try {\n+            validators = restClient.getRestTemplate().getForObject(\n+                    restClient.getBaseURL() + \"configuration/validators.json\", Set.class);\n+        } catch (SyncopeClientCompositeErrorException e) {\n+            e.printStackTrace();\n+        }\n+        return validators;\n+    }\n     /**\n      * Get all membership's derived schemas.\n      * @return DerivedSchemaTOs"},{"sha":"5c0d1abc5e7dfd8619fed5901e3d6faa0edcbea7","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/form/ListMultipleChoiceTransfer.java","status":"removed","additions":0,"deletions":138,"changes":138,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d4922e5670d2b243362163687c5277077c789ebf/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FListMultipleChoiceTransfer.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d4922e5670d2b243362163687c5277077c789ebf/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FListMultipleChoiceTransfer.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FListMultipleChoiceTransfer.java?ref=d4922e5670d2b243362163687c5277077c789ebf","patch":"@@ -1,138 +0,0 @@\n-/*\n- *  Licensed under the Apache License, Version 2.0 (the \"License\");\n- *  you may not use this file except in compliance with the License.\n- *  You may obtain a copy of the License at\n- *\n- *       http://www.apache.org/licenses/LICENSE-2.0\n- *\n- *  Unless required by applicable law or agreed to in writing, software\n- *  distributed under the License is distributed on an \"AS IS\" BASIS,\n- *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- *  See the License for the specific language governing permissions and\n- *  limitations under the License.\n- *  under the License.\n- */\n-\n-package org.syncope.console.wicket.markup.html.form;\n-\n-import java.util.AbstractList;\n-import java.util.ArrayList;\n-import java.util.List;\n-\n-import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n-import org.apache.wicket.markup.html.basic.Label;\n-import org.apache.wicket.markup.html.form.Form;\n-import org.apache.wicket.markup.html.form.ListMultipleChoice;\n-import org.apache.wicket.markup.html.panel.Panel;\n-import org.apache.wicket.model.PropertyModel;\n-\n-/**\n- * ListMultipleChoiceTransfer Wicket component.\n- */\n-public abstract class ListMultipleChoiceTransfer extends Panel {\n-  \n-  //The list choices.\n-  private ListMultipleChoice originals;\n-  private ListMultipleChoice destinations;\n-\n-  // The Selected options in the list choices.\n-  public List<String> selectedOriginals  = new ArrayList<String>();\n-  public List<String> selectedDestinations  = new ArrayList<String>();\n-\n-  // The Buttons that contain actions.\n-  private AjaxButton add;\n-  private AjaxButton remove;\n-\n-  /**\n-   * Default constructor.\n-   * @param Wicket placeholder id\n-   * @param Widget's title\n-   */\n-  public ListMultipleChoiceTransfer(String id, String originalsName,\n-          String destinationsName) {\n-    super(id);\n-\n-    originals = new ListMultipleChoice(\"originals\", new PropertyModel(this,\"selectedOriginals\"), setupOriginals());\n-    originals.setOutputMarkupId(true);\n-    add(originals);\n-\n-    destinations = new ListMultipleChoice(\"destinations\", new PropertyModel(this, \"selectedDestinations\"), setupDestinations());\n-    destinations.setOutputMarkupId(true);\n-    add(destinations);\n-\n-    add(new Label(\"originalsName\",originalsName));\n-\n-    add(new Label(\"destinationsName\",destinationsName));\n-\n-    add = new AjaxButton(\"add\") {\n-      @Override\n-      protected void onSubmit(AjaxRequestTarget target, Form form) {\n-        update(target,originals.getChoices(), originals, destinations);\n-      }\n-    };\n-    add.setDefaultFormProcessing(false);\n-    add(add);\n-\n-    remove = new AjaxButton(\"remove\") {\n-      @Override\n-      protected void onSubmit(AjaxRequestTarget target, Form form) {\n-        update(target, destinations.getChoices(), destinations, originals);\n-      }\n-    };\n-    remove.setDefaultFormProcessing(false);\n-    add(remove);\n-  }\n-\n-  /**\n-   * Updates the select boxes.\n-   * @param target The {@link AjaxRequestTarget}.\n-   */\n-  private void update(AjaxRequestTarget target, List<String> selections, ListMultipleChoice from, ListMultipleChoice to) {\n-    for (String selection : selections) {\n-      List<String> choices = getChoices(from);\n-      if (!to.getChoices().contains(selection)) {\n-        to.getChoices().add(selection);\n-        choices.remove(selection);\n-        from.setChoices(choices);\n-      }\n-    }\n-    target.addComponent(to);\n-    target.addComponent(from);\n-  }\n-\n-  /**\n-   * Retrieves a {@link List} of choices for the given {@link ListMultipleChoice}. Because the\n-   * {@link AbstractList} method remove is a stub so we need to <br />\n-   * create a new List so we can remove the item.\n-   *\n-   * @return\n-   */\n-  @SuppressWarnings(\"unchecked\")\n-  private List<String> getChoices(ListMultipleChoice choice) {\n-    List<String> choices = new ArrayList<String>();\n-    choices.addAll(choice.getChoices());\n-    return choices;\n-  }\n-\n-   /**\n-    * It's used for getting final user's selections.\n-    * @return List<String>\n-    */\n-    public List<String> getFinalSelections() {\n-        return originals.getChoices();\n-    }    \n-\n-  /**\n-   * Setup originals list.\n-   * @return List<String>\n-   */\n-  public abstract List<String> setupOriginals();\n-\n-  /**\n-   * Setup originals list.\n-   * @return List<String\n-   */\n-  public abstract List<String> setupDestinations();\n-\n-}\n\\ No newline at end of file"},{"sha":"db9a5f4487334d37dfb05ba39ae663b1463643ac","filename":"console/src/main/resources/org/syncope/console/pages/Login.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FLogin.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FLogin.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FLogin.properties?ref=656f486fe0715e76c3167218603e18c25720b12c","patch":"@@ -1,3 +1,4 @@\n username=Username\n password=Password\n submit=Login\n+login-error=Username and/or password wronged\n\\ No newline at end of file"},{"sha":"4011859cdb3b560f599772905538fde5263a42f6","filename":"console/src/main/resources/org/syncope/console/pages/Login_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FLogin_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FLogin_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FLogin_it.properties?ref=656f486fe0715e76c3167218603e18c25720b12c","patch":"@@ -1,3 +1,4 @@\n username=Nome utente\n password=Password\n submit=Login\n+login-error=Username e/o password errate"},{"sha":"6ec292ba5ad7b59db6565fc00dfc8af3eef5bdb8","filename":"console/src/main/resources/org/syncope/console/pages/RoleModalPage.html","status":"modified","additions":10,"deletions":3,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.html?ref=656f486fe0715e76c3167218603e18c25720b12c","patch":"@@ -12,8 +12,15 @@\n  limitations under the License.\n  under the License.\n -->\n-<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n-    \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n+<wicket:head>\n+    <style>\n+        table.palette td.header {\n+            background:url(\"images/ui-bg_glass_75_e6e6e6_1x400.png\")\n+                repeat-x scroll 50% 50% #E6E6E6 !important;\n+        }\n+    </style>\n+</wicket:head>\n+\n <wicket:extend>\n     <div style=\"margin:10px\" title=\"Create new Resource-Mappings\">\n         <p class=\"ui-widget ui-corner-all ui-widget-header\"><wicket:message key=\"title\"/></p>\n@@ -49,7 +56,7 @@\n                          </table>\n                     </div>\n                     <div id=\"tabs-3\">\n-                        <span wicket:id=\"resourcesChoiceTransfer\"/>\n+                        <span wicket:id=\"resourcesPalette\"/>\n                     </div>\n                 </div>\n                 <div>"},{"sha":"e5df732b6dbdb34b4086a99678cb7e8cbbe5bfea","filename":"console/src/main/resources/org/syncope/console/wicket/markup/html/form/ListMultipleChoiceTransfer.html","status":"removed","additions":0,"deletions":47,"changes":47,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d4922e5670d2b243362163687c5277077c789ebf/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FListMultipleChoiceTransfer.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d4922e5670d2b243362163687c5277077c789ebf/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FListMultipleChoiceTransfer.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FListMultipleChoiceTransfer.html?ref=d4922e5670d2b243362163687c5277077c789ebf","patch":"@@ -1,47 +0,0 @@\n-<!--\n- Licensed under the Apache License, Version 2.0 (the \"License\");\n- you may not use this file except in compliance with the License.\n- You may obtain a copy of the License at\n-\n-      http://www.apache.org/licenses/LICENSE-2.0\n-\n- Unless required by applicable law or agreed to in writing, software\n- distributed under the License is distributed on an \"AS IS\" BASIS,\n- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- See the License for the specific language governing permissions and\n- limitations under the License.\n- under the License.\n--->\n-<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n-    \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n-<wicket:panel>\n-\t\t<table style=\"width: auto; height: auto;font-size:14px\">\n-\t\t\t<tbody style=\"overflow-y: hidden;\">\n-                                <tr>\n-\t\t\t\t\t<td>\n-                                            <span wicket:id=\"originalsName\"/>\n-                                        </td>\n-\n-                                        <td>\n-                                            &nbsp;\n-\t\t\t\t\t</td>\n-\n-                                        <td>\n-                                            <span wicket:id=\"destinationsName\"/>\n-\t\t\t\t\t</td>\n-\t\t\t\t</tr>\n-                                <tr>\n-                                        <td>\n-                                                <select wicket:id=\"originals\" size=\"7\" style=\"width:200px;\"></select>\n-                                        </td>\n-                                        <td>\n-                                                <input wicket:id=\"add\" type=\"button\" value=\"&rarr;\" /><br />\n-                                                        <input wicket:id=\"remove\" type=\"button\" value=\"&larr;\" />\n-                                        </td>\n-                                        <td>\n-                                                <select wicket:id=\"destinations\" size=\"7\" style=\"width:200px;\"></select>\n-                                        </td>\n-                                </tr>\n-\t\t\t</tbody>\n-\t\t</table>\n-</wicket:panel>\n\\ No newline at end of file"},{"sha":"7257c223a24b45d9bd864b41fb4bc646e9b104e2","filename":"console/src/main/webapp/WEB-INF/web.xml","status":"modified","additions":8,"deletions":2,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fweb.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/656f486fe0715e76c3167218603e18c25720b12c/console%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fweb.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fweb.xml?ref=656f486fe0715e76c3167218603e18c25720b12c","patch":"@@ -29,15 +29,21 @@\n         <servlet-name>SyncopeApplication</servlet-name>\n         <url-pattern>/*</url-pattern>\n     </servlet-mapping>\n+\n     <context-param>\n         <param-name>contextConfigLocation</param-name>\n         <param-value>/WEB-INF/classes/applicationContext.xml\n         </param-value>\n     </context-param>\n+\n     <context-param>\n         <param-name>authenticationFile</param-name>\n-        <param-value>/WEB-INF/authentication.xml\n-        </param-value>\n+        <param-value>/WEB-INF/authentication.xml</param-value>\n+    </context-param>\n+\n+    <context-param>\n+        <param-name>configuration</param-name>\n+        <param-value>deployment</param-value>\n     </context-param>\n \n     <listener>"}]}
{"sha":"f27187cff6ad569d8df623e83bd3a2fc1cc08d60","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmYyNzE4N2NmZjZhZDU2OWQ4ZGY2MjNlODNiZDNhMmZjMWNjMDhkNjA=","commit":{"author":{"name":"giacomolm","email":"giacomolm@hotmail.it","date":"2016-01-21T15:17:04Z"},"committer":{"name":"giacomolm","email":"giacomolm@hotmail.it","date":"2016-01-21T15:17:15Z"},"message":"[SYNCOPE-719] Added loading spinner","tree":{"sha":"b2719601ee323bb69e3c8ed1f1d739e2f351f91c","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/b2719601ee323bb69e3c8ed1f1d739e2f351f91c"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/f27187cff6ad569d8df623e83bd3a2fc1cc08d60","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f27187cff6ad569d8df623e83bd3a2fc1cc08d60","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f27187cff6ad569d8df623e83bd3a2fc1cc08d60","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f27187cff6ad569d8df623e83bd3a2fc1cc08d60/comments","author":{"login":"giacomolm","id":4027829,"node_id":"MDQ6VXNlcjQwMjc4Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/4027829?v=4","gravatar_id":"","url":"https://api.github.com/users/giacomolm","html_url":"https://github.com/giacomolm","followers_url":"https://api.github.com/users/giacomolm/followers","following_url":"https://api.github.com/users/giacomolm/following{/other_user}","gists_url":"https://api.github.com/users/giacomolm/gists{/gist_id}","starred_url":"https://api.github.com/users/giacomolm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giacomolm/subscriptions","organizations_url":"https://api.github.com/users/giacomolm/orgs","repos_url":"https://api.github.com/users/giacomolm/repos","events_url":"https://api.github.com/users/giacomolm/events{/privacy}","received_events_url":"https://api.github.com/users/giacomolm/received_events","type":"User","site_admin":false},"committer":{"login":"giacomolm","id":4027829,"node_id":"MDQ6VXNlcjQwMjc4Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/4027829?v=4","gravatar_id":"","url":"https://api.github.com/users/giacomolm","html_url":"https://github.com/giacomolm","followers_url":"https://api.github.com/users/giacomolm/followers","following_url":"https://api.github.com/users/giacomolm/following{/other_user}","gists_url":"https://api.github.com/users/giacomolm/gists{/gist_id}","starred_url":"https://api.github.com/users/giacomolm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giacomolm/subscriptions","organizations_url":"https://api.github.com/users/giacomolm/orgs","repos_url":"https://api.github.com/users/giacomolm/repos","events_url":"https://api.github.com/users/giacomolm/events{/privacy}","received_events_url":"https://api.github.com/users/giacomolm/received_events","type":"User","site_admin":false},"parents":[{"sha":"0f8dbd498792dd4988c9ead0ea357b9f4aaa24fc","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/0f8dbd498792dd4988c9ead0ea357b9f4aaa24fc","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/0f8dbd498792dd4988c9ead0ea357b9f4aaa24fc"}],"stats":{"total":57,"additions":37,"deletions":20},"files":[{"sha":"9f023900101ffa7439450d97cb111afb9ab15f07","filename":"client/enduser/pom.xml","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f27187cff6ad569d8df623e83bd3a2fc1cc08d60/client%2Fenduser%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f27187cff6ad569d8df623e83bd3a2fc1cc08d60/client%2Fenduser%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fpom.xml?ref=f27187cff6ad569d8df623e83bd3a2fc1cc08d60","patch":"@@ -94,6 +94,10 @@ under the License.\n       <groupId>org.webjars.bower</groupId>\n       <artifactId>angular-cookies</artifactId>\n     </dependency>\n+    <dependency>\n+      <groupId>org.webjars.bower</groupId>\n+      <artifactId>angular-treasure-overlay-spinner</artifactId>      \n+    </dependency>\n     <dependency>\n       <groupId>org.webjars</groupId>\n       <artifactId>kendo-ui-core</artifactId>"},{"sha":"f1beecdc5a24d3be0f97ca3b60f5a3d59297365d","filename":"client/enduser/src/main/resources/META-INF/resources/app/index.html","status":"modified","additions":6,"deletions":3,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f27187cff6ad569d8df623e83bd3a2fc1cc08d60/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f27187cff6ad569d8df623e83bd3a2fc1cc08d60/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html?ref=f27187cff6ad569d8df623e83bd3a2fc1cc08d60","patch":"@@ -43,9 +43,10 @@\n     <span id=\"notifications\" kendo-notification=\"notifications\"></span>\n     \n     <!--<div ng-view ng-cloak ng-controller=\"ApplicationController\"></div>-->\n-    <div ui-view ng-cloak ng-controller=\"ApplicationController\" ng-init=\"initApplication()\">      \n-    </div>    \n-\n+    <treasure-overlay-spinner active='spinner.active'>\n+      <div ui-view ng-cloak ng-controller=\"ApplicationController\" ng-init=\"initApplication()\">      \n+      </div>    \n+    </treasure-overlay-spinner>\n     <!--    <footer id=\"footer\" class=\"hidden-print\">\n           <ul class=\"nav pull-right\">\n               <li>\n@@ -73,6 +74,7 @@\n     <script src=\"../webjars/kendo-ui-core/${kendo-ui-core.version}/js/kendo.ui.core.min.js\"></script>\n     <script src=\"../webjars/kendo-ui-core/${kendo-ui-core.version}/js/kendo.notification.min.js\"></script>\n     <script src=\"../webjars/kendo-ui-core/${kendo-ui-core.version}/js/kendo.angular.js\"></script>\n+    <script src=\"../webjars/angular-treasure-overlay-spinner/${angular-treasure-overlay-spinner}/dist/treasure-overlay-spinner.min.js\"></script>\n     <script type=\"text/javascript\" src=\"../webjars/bootstrap-select/${bootstrap-select.version}/js/bootstrap-select.min.js\"></script>\n     <script src=\"../webjars/FileSaver.js/${FileSaver.version}/FileSaver.js\" type=\"text/javascript\"></script>\n     <!--main angular application-->\n@@ -121,6 +123,7 @@\n     <link href=\"../webjars/angular-ui-select/${angular-ui-select.version}/select.css\" rel=\"stylesheet\" type=\"text/css\"/>\n     <link href=\"../webjars//kendo-ui-core/${kendo-ui-core.version}/styles/web/kendo.common.core.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n     <link href=\"../webjars//kendo-ui-core/${kendo-ui-core.version}/styles/web/kendo.default.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n+    <link href=\"../webjars/angular-treasure-overlay-spinner/${angular-treasure-overlay-spinner}/dist/treasure-overlay-spinner.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n     <link href=\"../webjars/select2/${select2.version}/select2.css\" rel=\"stylesheet\" />\n     <link href=\"css/app.css\" rel=\"stylesheet\" type=\"text/css\" />\n     <link href=\"css/login.css\" rel=\"stylesheet\" type=\"text/css\" />"},{"sha":"b42e01563be36b719bcad3ed7ffe1d20a1239b6a","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/app.js","status":"modified","additions":18,"deletions":14,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f27187cff6ad569d8df623e83bd3a2fc1cc08d60/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f27187cff6ad569d8df623e83bd3a2fc1cc08d60/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js?ref=f27187cff6ad569d8df623e83bd3a2fc1cc08d60","patch":"@@ -34,6 +34,7 @@ var app = angular.module('SyncopeEnduserApp', [\n   'ngAnimate',\n   'ngResource',\n   'ngCookies',\n+  'treasure-overlay-spinner',\n   'kendo.directives',\n   'home',\n   'login',\n@@ -196,21 +197,15 @@ app.config(['$stateProvider', '$urlRouterProvider', '$httpProvider',\n           if (config.url.indexOf('.html', config.url.length - 5) == -1) {\n             $rootScope.$broadcast(\"xhrStarted\");\n           }\n-          /*numLoadings++;\n-           // Show loader\n-           if (config.url.indexOf(\"skipLoader=true\") == -1) {\n-           $rootScope.$broadcast(\"loader_show\");\n-           }*/\n+          $rootScope.spinner.on();\n           return config || $q.when(config);\n         },\n-//        'response': function (response) {\n-//          if ((--numLoadings) === 0) {\n-//            // Hide loader\n-//            $rootScope.$broadcast(\"loader_hide\");\n-//          }\n-//          return response || $q.when(response);\n-//        },\n+        'response': function (response) {\n+          $rootScope.spinner.off();\n+          return response || $q.when(response);\n+        },\n         'responseError': function (response) {\n+          $rootScope.spinner.off();\n           if (response.config.url.indexOf(\"acceptError=true\") == -1) {\n             var status = response.status;\n             if (status == 401) {\n@@ -270,6 +265,15 @@ app.run(['$rootScope', '$location', '$cookies', '$state',\n //                $location.path('/self');\n //            }\n //        });\n+    $rootScope.spinner = {\n+      active: false,\n+      on: function () {\n+        this.active = true;\n+      },\n+      off: function () {\n+        this.active = false;\n+      }\n+    };\n   }]);\n \n app.controller('ApplicationController', ['$scope', '$rootScope', 'InfoService', function ($scope, $rootScope,\n@@ -317,7 +321,7 @@ app.controller('ApplicationController', ['$scope', '$rootScope', 'InfoService',\n           component.show(message, \"success\");\n         }\n       }\n-      $scope.showError = function (message, component) {        \n+      $scope.showError = function (message, component) {\n         if (!$scope.notificationExists(message)) {\n           component.options.autoHideAfter = 0;\n           component.show(message, \"error\");\n@@ -370,7 +374,7 @@ app.controller('ApplicationController', ['$scope', '$rootScope', 'InfoService',\n       });\n       //Intercepting xhr start event\n       $scope.$on('xhrStarted', function (event, next, current) {\n-        $scope.hideNotifications(0);\n+        $scope.hideNotifications(0);           \n       });\n     }\n   }]);"},{"sha":"b784b6a1f9c41660318693297ab8afcaefae1b33","filename":"pom.xml","status":"modified","additions":9,"deletions":3,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f27187cff6ad569d8df623e83bd3a2fc1cc08d60/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f27187cff6ad569d8df623e83bd3a2fc1cc08d60/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=f27187cff6ad569d8df623e83bd3a2fc1cc08d60","patch":"@@ -332,9 +332,9 @@ under the License.\n     <camel.version>2.16.1</camel.version>\t\n \n     <!-- Cannot upgrade to 2.7.0 because current swagger-jaxrs relies on\n-         com.fasterxml.jackson.databind.type.TypeFactory.constructType(Type, Class<?>)\n-         which was removed in 2.7.0\n-         See https://github.com/swagger-api/swagger-core/issues/1601 -->\n+    com.fasterxml.jackson.databind.type.TypeFactory.constructType(Type, Class<?>)\n+    which was removed in 2.7.0\n+    See https://github.com/swagger-api/swagger-core/issues/1601 -->\n     <jackson.version>2.6.5</jackson.version>\n \n     <spring.version>4.2.4.RELEASE</spring.version>\n@@ -404,6 +404,7 @@ under the License.\n     <angular-ui-bootstrap.version>1.0.3</angular-ui-bootstrap.version>\n     <angular-ui-select.version>0.13.1</angular-ui-select.version>\n     <angular-sanitize.version>1.4.8</angular-sanitize.version>\n+    <angular-treasure-overlay-spinner>1.1.0</angular-treasure-overlay-spinner>\n     <kendo-ui-core.version>2014.2.716</kendo-ui-core.version>\n     <select2.version>3.4.8</select2.version>\n     <FileSaver.version>0.0.2</FileSaver.version>\n@@ -1076,6 +1077,11 @@ under the License.\n         <artifactId>angular-sanitize</artifactId>\n         <version>${angular-sanitize.version}</version>\n       </dependency>\n+      <dependency>\n+        <groupId>org.webjars.bower</groupId>\n+        <artifactId>angular-treasure-overlay-spinner</artifactId>\n+        <version>${angular-treasure-overlay-spinner}</version>\n+      </dependency>\n       <dependency>\n         <groupId>org.webjars</groupId>\n         <artifactId>kendo-ui-core</artifactId>"}]}
{"sha":"57a120244baeb9d8dd38e9f242b0f54631b7083a","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjU3YTEyMDI0NGJhZWI5ZDhkZDM4ZTlmMjQyYjBmNTQ2MzFiNzA4M2E=","commit":{"author":{"name":"Andrea Patricelli","email":"andrea.patricelli@tirasa.net","date":"2015-12-29T11:38:45Z"},"committer":{"name":"Andrea Patricelli","email":"andrea.patricelli@tirasa.net","date":"2015-12-29T11:38:45Z"},"message":"[SYNCOPE-719] added last wizard page with captcha validation, implemented also captcha backend","tree":{"sha":"5c8671ffa90ad4469a02609b596e2725a0d22811","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/5c8671ffa90ad4469a02609b596e2725a0d22811"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/57a120244baeb9d8dd38e9f242b0f54631b7083a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/57a120244baeb9d8dd38e9f242b0f54631b7083a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/57a120244baeb9d8dd38e9f242b0f54631b7083a","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/57a120244baeb9d8dd38e9f242b0f54631b7083a/comments","author":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"committer":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"f93b48951c2696d71608559b51d8d63699797b9e","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f93b48951c2696d71608559b51d8d63699797b9e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f93b48951c2696d71608559b51d8d63699797b9e"}],"stats":{"total":535,"additions":479,"deletions":56},"files":[{"sha":"5a565a41b50055f42cd331eb357653554ad4524a","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/SyncopeEnduserApplication.java","status":"modified","additions":24,"deletions":0,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -27,6 +27,8 @@\n import java.util.Locale;\n import java.util.Properties;\n import org.apache.commons.io.FileUtils;\n+import org.apache.syncope.client.enduser.resources.CaptchaResource;\n+import org.apache.syncope.client.enduser.resources.CaptchaValidateResource;\n import org.apache.syncope.client.enduser.resources.InfoResource;\n import org.apache.syncope.client.enduser.resources.LoginResource;\n import org.apache.syncope.client.enduser.resources.LogoutResource;\n@@ -200,6 +202,28 @@ public IResource getResource() {\n             }\n         });\n \n+        // resource to get a fresh captcha image\n+        mountResource(\"/api/captcha\", new ResourceReference(\"captcha\") {\n+\n+            private static final long serialVersionUID = -128426276529456602L;\n+\n+            @Override\n+            public IResource getResource() {\n+                return new CaptchaResource();\n+            }\n+        });\n+\n+        // resource to validate current captcha\n+        mountResource(\"/api/captcha/validate\", new ResourceReference(\"captchaValidate\") {\n+\n+            private static final long serialVersionUID = -128426276529456602L;\n+\n+            @Override\n+            public IResource getResource() {\n+                return new CaptchaValidateResource();\n+            }\n+        });\n+\n     }\n \n     @Override"},{"sha":"daa0e153ee8ea8b28fdd97aefe5a7b0133b493b1","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/SyncopeEnduserConstants.java","status":"added","additions":29,"deletions":0,"changes":29,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserConstants.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserConstants.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserConstants.java?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -0,0 +1,29 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser;\n+\n+public final class SyncopeEnduserConstants {\n+\n+    public static final String CAPTCHA_SESSION_KEY  = \"captcha\";\n+\n+    private SyncopeEnduserConstants() {\n+        // private constructor for utility class\n+    }\n+    \n+}"},{"sha":"3c05d34a5b86324fb29c2acd7ce1790703dcbe29","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/model/CaptchaRequest.java","status":"added","additions":49,"deletions":0,"changes":49,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCaptchaRequest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCaptchaRequest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCaptchaRequest.java?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -0,0 +1,49 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.model;\n+\n+import java.io.Serializable;\n+\n+public class CaptchaRequest implements Serializable {\n+\n+    private static final long serialVersionUID = -8608459099587628110L;\n+\n+    private String value;\n+\n+    public CaptchaRequest() {\n+    }\n+\n+    public String getValue() {\n+        return value;\n+    }\n+\n+    public void setValue(final String value) {\n+        this.value = value;\n+    }\n+\n+    @Override\n+    public String toString() {\n+        StringBuilder toStringBuilder;\n+        toStringBuilder = new StringBuilder(\"CaptchaRequest{\");\n+        toStringBuilder.append(\"value=\").append(this.value);\n+        toStringBuilder.append('}');\n+        return toStringBuilder.toString();\n+    }\n+\n+}"},{"sha":"ad71a8505b960fbe83ec490f96bee35b43db953a","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/CaptchaResource.java","status":"added","additions":61,"deletions":0,"changes":61,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FCaptchaResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FCaptchaResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FCaptchaResource.java?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -0,0 +1,61 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import javax.servlet.http.HttpServletRequest;\n+import org.apache.syncope.client.enduser.SyncopeEnduserConstants;\n+import org.apache.wicket.extensions.markup.html.captcha.CaptchaImageResource;\n+import org.apache.wicket.request.Request;\n+import org.apache.wicket.request.cycle.RequestCycle;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class CaptchaResource extends CaptchaImageResource {\n+\n+    private static final long serialVersionUID = 8293404296348102926L;\n+\n+    private static final Logger LOG = LoggerFactory.getLogger(CaptchaResource.class);\n+\n+    public static int randomInt(final int min, final int max) {\n+        return (int) (Math.random() * (max - min) + min);\n+    }\n+\n+    public static String randomString(final int min, final int max) {\n+        int num = randomInt(min, max);\n+        byte[] b = new byte[num];\n+        for (int i = 0; i < num; i++) {\n+            b[i] = (byte) randomInt('a', 'z');\n+        }\n+        return new String(b);\n+    }\n+\n+    @Override\n+    protected byte[] render() {\n+        LOG.info(\"Generate captcha\");\n+        final String captcha = randomString(6, 8);\n+        Request request = RequestCycle.get().getRequest();\n+        HttpServletRequest httpRequest = ((HttpServletRequest) request.getContainerRequest());\n+        // store the captcha in the current session\n+        httpRequest.getSession().setAttribute(SyncopeEnduserConstants.CAPTCHA_SESSION_KEY, captcha);\n+        \n+        getChallengeIdModel().setObject(captcha);\n+        return super.render();\n+    }\n+\n+}"},{"sha":"5ae63129eec4dfc2ea117cc00ecb80383d230e13","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/CaptchaValidateResource.java","status":"added","additions":83,"deletions":0,"changes":83,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FCaptchaValidateResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FCaptchaValidateResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FCaptchaValidateResource.java?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -0,0 +1,83 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import java.io.IOException;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.ws.rs.core.Response;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.syncope.client.enduser.SyncopeEnduserConstants;\n+import org.apache.syncope.client.enduser.model.CaptchaRequest;\n+import org.apache.syncope.core.misc.serialization.POJOHelper;\n+import org.apache.wicket.request.resource.IResource;\n+import org.apache.wicket.util.io.IOUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class CaptchaValidateResource extends AbstractBaseResource {\n+\n+    private static final Logger LOG = LoggerFactory.getLogger(CaptchaValidateResource.class);\n+\n+    private static final long serialVersionUID = 6453101466981543020L;\n+\n+    @Override\n+    protected ResourceResponse newResourceResponse(final IResource.Attributes attributes) {\n+\n+        LOG.debug(\"Validate captcha request\");\n+\n+        ResourceResponse response = new ResourceResponse();\n+        try {\n+            HttpServletRequest currentRequest = (HttpServletRequest) attributes.getRequest().getContainerRequest();\n+            final CaptchaRequest enteredCaptcha = POJOHelper.deserialize(IOUtils.toString(currentRequest.\n+                    getInputStream()), CaptchaRequest.class);\n+\n+            final String currentCaptcha = currentRequest.getSession().getAttribute(\n+                    SyncopeEnduserConstants.CAPTCHA_SESSION_KEY) == null\n+                            ? null\n+                            : currentRequest.getSession().getAttribute(SyncopeEnduserConstants.CAPTCHA_SESSION_KEY).\n+                            toString();\n+\n+            if (StringUtils.isBlank(currentCaptcha) || enteredCaptcha == null) {\n+                LOG.info(\"Could not validate captcha: current session captcha or inserted captcha are empty or null\");\n+                response.setError(Response.Status.BAD_REQUEST.getStatusCode(), new StringBuilder().append(\n+                        \"ErrorMessage{{ Could not validate captcha: current session captcha or entered captcha are empty or null }}\").\n+                        toString());\n+            } else {\n+                LOG.info(\"Is entered captcha equal to current session captcha? {}\", enteredCaptcha.getValue().equals(\n+                        currentCaptcha));\n+\n+                response.setWriteCallback(new WriteCallback() {\n+\n+                    @Override\n+                    public void writeData(final IResource.Attributes attributes) throws IOException {\n+                        attributes.getResponse().\n+                                write(String.valueOf(enteredCaptcha.getValue().equals(currentCaptcha)));\n+                    }\n+                });\n+                response.setStatusCode(Response.Status.OK.getStatusCode());\n+            }\n+        } catch (Exception e) {\n+            LOG.error(\"Could not validate captcha\", e);\n+            response.setError(Response.Status.BAD_REQUEST.getStatusCode(), new StringBuilder().append(\n+                    \"ErrorMessage{{ Could not validate captcha \")\n+                    .append(e.getMessage()).append(\" }}\").toString());\n+        }\n+        return response;\n+    }\n+}"},{"sha":"117796be2a5e4af1aa6c29cae7d00fecd192e984","filename":"client/enduser/src/main/resources/META-INF/resources/app/index.html","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -82,6 +82,7 @@\n     <script src=\"js/services/realmService.js\"></script>\n     <script src=\"js/services/securityQuestionService.js\"></script>\n     <script src=\"js/services/infoService.js\"></script>\n+    <script src=\"js/services/captchaService.js\"></script>\n     <!--controllers-->\n     <script src=\"js/controllers/HomeController.js\"></script>\n     <script src=\"js/controllers/LoginController.js\"></script>\n@@ -95,6 +96,7 @@\n     <script src=\"js/directives/navigationButtons.js\"></script>\n     <script src=\"js/directives/loader.js\"></script>\n     <script src=\"js/directives/equals.js\"></script>\n+    <script src=\"js/directives/captcha.js\"></script>\n     <!--filters-->\n     <script src=\"js/filters/propsFilter.js\"></script>\n \n@@ -108,7 +110,7 @@\n     <link href=\"../webjars/ionicons/${ionicons.version}/css/ionicons.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n     <link href=\"../webjars/angular-ui-select/${angular-ui-select.version}/select.css\" rel=\"stylesheet\" type=\"text/css\"/>\n     <link href=\"../webjars/angular-growl-2/${angular-growl-2.version}/angular-growl.css\" rel=\"stylesheet\" type=\"text/css\"/>\n-    <link href=\"../webjars/select2/${select2.version}/select2.css\" rel=\"stylesheet\" type=\"text/css\"/>\n+    <link href=\"../webjars/select2/${select2.version}/select2.css\" rel=\"stylesheet\" />\n     <link href=\"css/app.css\" rel=\"stylesheet\" type=\"text/css\" />\n     <link href=\"css/login.css\" rel=\"stylesheet\" type=\"text/css\" />\n     <link href=\"css/editUser.css\" rel=\"stylesheet\" type=\"text/css\" />"},{"sha":"43ea447e577ec6dbbb89ae15bde577290d1f5572","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/app.js","status":"modified","additions":13,"deletions":0,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -96,6 +96,10 @@ app.config(['$stateProvider', '$urlRouterProvider', '$httpProvider', 'growlProvi\n               url: '/resources',\n               templateUrl: 'views/user-resources.html'\n             })\n+            .state('create.finish', {\n+              url: '/finish',\n+              templateUrl: 'views/user-form-finish.html'\n+            })\n             .state('update', {\n               url: '/self/update',\n               templateUrl: 'views/editUser.html',\n@@ -162,6 +166,15 @@ app.config(['$stateProvider', '$urlRouterProvider', '$httpProvider', 'growlProvi\n                   return AuthenticationHelper.authenticated();\n                 }\n               }\n+            })\n+            .state('update.finish', {\n+              url: '/finish',\n+              templateUrl: 'views/user-form-finish.html',\n+              resolve: {\n+                'authenticated': function (AuthenticationHelper) {\n+                  return AuthenticationHelper.authenticated();\n+                }\n+              }\n             });\n \n     // catch all other routes"},{"sha":"86ff2976d15bf72cbd759ac8a48f943082634d54","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/controllers/UserController.js","status":"modified","additions":63,"deletions":45,"changes":108,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -20,8 +20,9 @@\n 'use strict';\n \n angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$location', '$compile', 'AuthService',\n-  'UserSelfService', 'SchemaService', 'RealmService', 'SecurityQuestionService', 'growl', function ($scope, $rootScope,\n-          $location, $compile, AuthService, UserSelfService, SchemaService, RealmService, SecurityQuestionService, growl) {\n+  'UserSelfService', 'SchemaService', 'RealmService', 'SecurityQuestionService', 'CaptchaService', 'growl', function ($scope,\n+          $rootScope, $location, $compile, AuthService, UserSelfService, SchemaService, RealmService, SecurityQuestionService,\n+          CaptchaService, growl) {\n \n     $scope.user = {};\n     $scope.confirmPassword = {\n@@ -34,6 +35,9 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n     $scope.availableSecurityQuestions = [];\n \n     $scope.initialSecurityQuestion = undefined;\n+    $scope.captchaInput = {\n+      value: \"\"\n+    };\n \n     $scope.initUser = function () {\n \n@@ -47,7 +51,6 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n         attributeTable: {}\n       };\n \n-\n       var initSchemas = function () {\n         // initialization is done here synchronously to have all schema fields populated correctly\n         SchemaService.getUserSchemas().then(function (schemas) {\n@@ -178,58 +181,73 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n \n       }\n \n+\n+\n       initRealms();\n       //retrieve security available questions\n       initSecurityQuestions();\n       // initialize user attributes starting from any object schemas\n       initSchemas();\n-\n     };\n \n     $scope.saveUser = function (user) {\n       console.log(\"Save user: \", user);\n-\n-      if ($scope.createMode) {\n-\n-        UserSelfService.create(user).then(function (response) {\n-          console.log(\"Created user: \", response);\n-          growl.success(\"User \" + $scope.user.username + \" successfully created\", {referenceId: 1});\n-          $location.path('/self');\n-        }, function (response) {\n-          console.log(\"Error during user creation: \", response);\n-          var errorMessage;\n-          // parse error response \n-          if (response !== undefined) {\n-            errorMessage = response.split(\"ErrorMessage{{\")[1];\n-            errorMessage = errorMessage.split(\"}}\")[0];\n-          }\n-          growl.error(\"Error: \" + (errorMessage || response), {referenceId: 2});\n-        });\n-\n-      } else {\n-\n-        UserSelfService.update(user).then(function (response) {\n-          console.log(\"Updated user: \", response);\n-          AuthService.logout().then(function (response) {\n-            console.log(\"LOGOUT SUCCESS: \", response);\n+      // validate captcha and then save user\n+      CaptchaService.validate($scope.captchaInput).then(function (response) {\n+        if (!(response === 'true')) {\n+          growl.error(\"Captcha inserted is not valid, please digit the correct captcha\", {referenceId: 2});\n+          return;\n+        }\n+\n+        if ($scope.createMode) {\n+\n+          UserSelfService.create(user).then(function (response) {\n+            console.log(\"Created user: \", response);\n+            growl.success(\"User \" + $scope.user.username + \" successfully created\", {referenceId: 1});\n             $location.path('/self');\n-            growl.success(\"User \" + $scope.user.username + \" successfully updated\", {referenceId: 1});\n-          }, function () {\n-            console.log(\"LOGOUT FAILED\");\n+          }, function (response) {\n+            console.log(\"Error during user creation: \", response);\n+            var errorMessage;\n+            // parse error response \n+            if (response !== undefined) {\n+              errorMessage = response.split(\"ErrorMessage{{\")[1];\n+              errorMessage = errorMessage.split(\"}}\")[0];\n+            }\n+            growl.error(\"Error: \" + (errorMessage || response), {referenceId: 2});\n           });\n-        }, function (response) {\n-          console.log(\"Error during user update: \", response);\n-          var errorMessage;\n-          // parse error response \n-          if (response !== undefined) {\n-            errorMessage = response.split(\"ErrorMessage{{\")[1];\n-            errorMessage = errorMessage.split(\"}}\")[0];\n-          }\n-          growl.error(\"Error: \" + (errorMessage || response), {referenceId: 2});\n-        });\n-      }\n-    };\n-\n-\n \n+        } else {\n+\n+          UserSelfService.update(user).then(function (response) {\n+            console.log(\"Updated user: \", response);\n+            AuthService.logout().then(function (response) {\n+              console.log(\"LOGOUT SUCCESS: \", response);\n+              $location.path('/self');\n+              growl.success(\"User \" + $scope.user.username + \" successfully updated\", {referenceId: 1});\n+            }, function () {\n+              console.log(\"LOGOUT FAILED\");\n+            });\n+          }, function (response) {\n+            console.log(\"Error during user update: \", response);\n+            var errorMessage;\n+            // parse error response \n+            if (response !== undefined) {\n+              errorMessage = response.split(\"ErrorMessage{{\")[1];\n+              errorMessage = errorMessage.split(\"}}\")[0];\n+            }\n+            growl.error(\"Error: \" + (errorMessage || response), {referenceId: 2});\n+          });\n+        }\n+      }, function (response) {\n+        console.log(\"Error during validate captcha \", response);\n+        var errorMessage;\n+        // parse error response \n+        if (response !== undefined) {\n+          errorMessage = response.split(\"ErrorMessage{{\")[1];\n+          errorMessage = errorMessage.split(\"}}\")[0];\n+        }\n+        growl.error(\"Error: \" + (errorMessage || response), {referenceId: 2});\n+        return;\n+      });\n+    };\n   }]);"},{"sha":"c00a4f27adecdf8505bcd34e2e9e9e7a486a3ec9","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/captcha.js","status":"added","additions":42,"deletions":0,"changes":42,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Fcaptcha.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Fcaptcha.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Fcaptcha.js?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -0,0 +1,42 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+'use strict';\n+\n+angular.module('self')\n+        .directive('captcha', function (CaptchaService) {\n+          return {\n+            restrict: 'E',\n+            templateUrl: 'views/captcha.html',\n+            scope: {\n+              input: \"=\",\n+            },\n+            controller: function ($scope) {\n+              $scope.captchaUrl = '';\n+              \n+              //initialize captcha\n+              $scope.refreshCaptcha = function () {\n+                console.log(\"REFRESH CAPTCHA\")\n+                $scope.captchaUrl = '/syncope-enduser/api/captcha' + '?' + new Date();\n+              };\n+\n+              // initialize captcha\n+              $scope.refreshCaptcha();\n+            }\n+          };\n+        });"},{"sha":"6361d92ce1e358ea84a09942e0271c5b6a7e9466","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/services/captchaService.js","status":"added","additions":54,"deletions":0,"changes":54,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FcaptchaService.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FcaptchaService.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FcaptchaService.js?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -0,0 +1,54 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict';\n+\n+angular.module('self')\n+        .factory('CaptchaService', ['$resource', '$q', '$http', function ($resource, $q, $http) {\n+\n+            var captchaService = {};\n+\n+            captchaService.getCaptcha = function () {\n+              return $http\n+                      .get('/syncope-enduser/api/captcha')\n+                      .then(function (response) {\n+                        return response;\n+                      }, function (response) {\n+                        console.log(\"Something went wrong during generation of chaptcha, exit with status: \",\n+                                response.statusText);\n+                      });\n+            };\n+\n+            captchaService.validate = function (captcha) {\n+              return $http\n+                      .post('/syncope-enduser/api/captcha/validate', captcha)\n+                      .then(function (response) {\n+                        return response.data;\n+                      }, function (response) {\n+                        console.log(\"Something went wrong during validation of captcha: , exit with status: \", captcha,\n+                                response.statusText);\n+                        return $q.reject(response.data || response.statusText);\n+                      });\n+            };\n+\n+            return captchaService;\n+\n+          }]);\n+\n+"},{"sha":"2f713a7015640226d87b637afb0a016ef186819c","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/services/userSelfService.js","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FuserSelfService.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FuserSelfService.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FuserSelfService.js?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -41,7 +41,7 @@ angular.module('login')\n               return $http\n                       .post('/syncope-enduser/api/self/create', user)\n                       .then(function (response) {\n-                        console.log(\"response save: \", response)\n+                        console.log(\"response save: \", response);\n                         var username = response;\n                       }, function (response) {\n                         console.log(\"Something went wrong during user self creation, exit with status: \", response);"},{"sha":"3613778f687cbd7d12cc8f7d91a89893a6ddebc2","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/captcha.html","status":"added","additions":17,"deletions":0,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fcaptcha.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fcaptcha.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fcaptcha.html?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -0,0 +1,17 @@\n+<div style=\"padding-left: 29%\">\n+  <nav class=\"navbar\">\n+    <div class=\"container-fluid\">\n+      <div class=\"navbar-header\">\n+        <img alt=\"captcha\" ng-src=\"{{captchaUrl}}'\"/>\n+        <div style=\"margin-top: 5%\">\n+          <button id=\"refresh\" type=\"button\" class=\"btn btn-default btn-xs glyphicon glyphicon-refresh\" ng-click=\"refreshCaptcha()\" title=\"Refresh Captcha\"></button>\n+          <a id=\"refresh\" class=\"btn btn-default btn-xs glyphicon glyphicon-question-sign\" title=\"What is?\" href=\"https://it.wikipedia.org/wiki/CAPTCHA\"/>\n+        </div>\n+        <input class=\"form-control\" style=\"margin-top: 5%\" type=\"text\" ng-model=\"input.value\"/>\n+      </div>\n+      <div class=\"navbar-header\">\n+        <span class=\"help-block\">Please enter the code displayed within the image.</span>\n+      </div>\n+    </div>\n+  </nav>\n+</div>\n\\ No newline at end of file"},{"sha":"30480100da6b241bc2d8e8f600325eb1d2564fd3","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/editUser.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FeditUser.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FeditUser.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FeditUser.html?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -22,7 +22,6 @@\n \n     <div id=\"form-container\" class=\"col-md-6 col-md-offset-3\" style=\"box-sizing: border-box; background-color: #F7F7F7;\">\n \n-\n       <div>\n         <div class=\"page-header\" style=\"text-align: left; font-weight: 700;\">\n           <span ng-show=\"createMode\">New User</span>\n@@ -44,6 +43,7 @@\n               <!--<a ui-sref-active=\"active\" ui-sref=\".derivedSchemas\" class=\"btn btn-default\">Derived Schemas</a>\n               <a ui-sref-active=\"active\" ui-sref=\".virtualSchemas\" class=\"btn btn-default\">Virtual Schemas</a>-->              \n               <a ui-sref-active=\"active\" ui-sref=\".resources\" class=\"btn btn-default\">Resources</a>\n+              <a ui-sref-active=\"active\" ui-sref=\".finish\" class=\"btn btn-default\">Finish</a>\n             </div>\n           </div>\n         </div>"},{"sha":"31bc00d012b2f0a73031a598301a0ec9722effb7","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-credentials.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-credentials.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-credentials.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-credentials.html?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -55,6 +55,6 @@\n   <navigation-buttons ng-show=\"createMode\" next=\"create.groups\" previous=\"none\"></navigation-buttons>\n   <navigation-buttons ng-show=\"!createMode\" next=\"update.groups\" previous=\"none\"></navigation-buttons>\n   <div class=\"pull-left\">\n-    <a id=\"cancel\" href=\"#/self\" class=\"btn btn-default pull-left\">Cancel</a>\n+    <a id=\"cancel\" href=\"#/self\" class=\"btn btn-danger pull-left\">Cancel</a>\n   </div>\n </div>"},{"sha":"a78670727519e60835a6b10db9098d949a495d5e","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-form-finish.html","status":"added","additions":32,"deletions":0,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-form-finish.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-form-finish.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-form-finish.html?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -0,0 +1,32 @@\n+<!DOCTYPE html>\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+<div id=\"attribute\" class=\"form-group row\">\n+  <!--captcha-->\n+  <div class=\"form-group row\">\n+    <captcha input=\"captchaInput\"></captcha>\n+  </div>\n+  <button id=\"save\" type=\"submit\" class=\"btn btn-default pull-right\">Save</button>\n+  <navigation-buttons ng-show=\"createMode\" next=\"none\" previous=\"create.resources\"></navigation-buttons>\n+  <navigation-buttons ng-show=\"!createMode\" next=\"none\" previous=\"update.resources\"></navigation-buttons>\n+  <div class=\"pull-left\">\n+    <a id=\"cancel\" href=\"#/self\" class=\"btn btn-danger\">Cancel</a>\n+  </div>\n+</div>\n\\ No newline at end of file"},{"sha":"efca0396ed7aad47d8e2a364c2daf63ebea2d82a","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-groups.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-groups.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-groups.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-groups.html?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -32,6 +32,6 @@\n   <navigation-buttons ng-show=\"createMode\" next=\"create.plainSchemas\" previous=\"create.credentials\"></navigation-buttons>\n   <navigation-buttons ng-show=\"!createMode\" next=\"update.plainSchemas\" previous=\"update.credentials\"></navigation-buttons>\n   <div class=\"pull-left\">\n-    <a id=\"cancel\" href=\"#/self\" class=\"btn btn-default pull-left\">Cancel</a>\n+    <a id=\"cancel\" href=\"#/self\" class=\"btn btn-danger pull-left\">Cancel</a>\n   </div>\n </div>"},{"sha":"a81b3c3338908d1b747ac1f4e0f8c3a33e5d254f","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-plain-schemas.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-plain-schemas.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-plain-schemas.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-plain-schemas.html?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -32,6 +32,6 @@\n   <navigation-buttons ng-show=\"createMode\" next=\"create.resources\" previous=\"create.groups\"></navigation-buttons>\n   <navigation-buttons ng-show=\"!createMode\" next=\"update.resources\" previous=\"update.groups\"></navigation-buttons>\n   <div class=\"pull-left\">\n-    <a id=\"cancel\" href=\"#/self\" class=\"btn btn-default pull-left\">Cancel</a>\n+    <a id=\"cancel\" href=\"#/self\" class=\"btn btn-danger pull-left\">Cancel</a>\n   </div>\n </div>"},{"sha":"30b79c530a7739cccecb82d02e54b25b641a7464","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-resources.html","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-resources.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-resources.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-resources.html?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -19,9 +19,8 @@\n -->\n \n <div id=\"attribute\" class=\"form-group row\">\n-  <button id=\"save\" type=\"submit\" class=\"btn btn-default pull-right\">Save</button>\n-  <navigation-buttons ng-show=\"createMode\" next=\"none\" previous=\"create.plainSchemas\"></navigation-buttons>\n-  <navigation-buttons ng-show=\"!createMode\" next=\"none\" previous=\"update.plainSchemas\"></navigation-buttons>\n+  <navigation-buttons ng-show=\"createMode\" next=\"create.finish\" previous=\"create.plainSchemas\"></navigation-buttons>\n+  <navigation-buttons ng-show=\"!createMode\" next=\"update.finish\" previous=\"update.plainSchemas\"></navigation-buttons>\n   <div class=\"pull-left\">\n     <a id=\"cancel\" href=\"#/self\" class=\"btn btn-danger\">Cancel</a>\n   </div>"},{"sha":"5226fb01d2a780804238f391c8f9dea158016c5e","filename":"fit/enduser-reference/src/main/resources/log4j2.xml","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57a120244baeb9d8dd38e9f242b0f54631b7083a/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2Flog4j2.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57a120244baeb9d8dd38e9f242b0f54631b7083a/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2Flog4j2.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2Flog4j2.xml?ref=57a120244baeb9d8dd38e9f242b0f54631b7083a","patch":"@@ -41,7 +41,7 @@ under the License.\n       <appender-ref ref=\"main\"/>\n     </asyncLogger>\n \n-    <asyncLogger name=\"org.apache.syncope.client.enduser\" additivity=\"false\" level=\"ERROR\">\n+    <asyncLogger name=\"org.apache.syncope.client.enduser\" additivity=\"false\" level=\"INFO\">\n       <appender-ref ref=\"main\"/>\n     </asyncLogger>\n \n@@ -53,7 +53,7 @@ under the License.\n       <appender-ref ref=\"main\"/>\n     </asyncLogger>\n     \n-    <root level=\"ERROR\">\n+    <root level=\"INFO\">\n       <appender-ref ref=\"main\"/>\n     </root>\n   "}]}
{"sha":"04941418ad182489e0f45eb450fad8141897faed","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjA0OTQxNDE4YWQxODI0ODllMGY0NWViNDUwZmFkODE0MTg5N2ZhZWQ=","commit":{"author":{"name":"Tushar","email":"tusharm567@gmail.com","date":"2016-08-17T04:11:53Z"},"committer":{"name":"Francesco Chicchiricc√≤","email":"ilgrosso@apache.org","date":"2016-08-19T11:32:47Z"},"message":"[SYNCOPE-809] Added Tests for Eclipse Plugin - This closes #34","tree":{"sha":"d013afc4d0257cad670733cb75a670dafea16c6b","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/d013afc4d0257cad670733cb75a670dafea16c6b"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/04941418ad182489e0f45eb450fad8141897faed","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/04941418ad182489e0f45eb450fad8141897faed","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/04941418ad182489e0f45eb450fad8141897faed","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/04941418ad182489e0f45eb450fad8141897faed/comments","author":{"login":"tmess567","id":9494086,"node_id":"MDQ6VXNlcjk0OTQwODY=","avatar_url":"https://avatars.githubusercontent.com/u/9494086?v=4","gravatar_id":"","url":"https://api.github.com/users/tmess567","html_url":"https://github.com/tmess567","followers_url":"https://api.github.com/users/tmess567/followers","following_url":"https://api.github.com/users/tmess567/following{/other_user}","gists_url":"https://api.github.com/users/tmess567/gists{/gist_id}","starred_url":"https://api.github.com/users/tmess567/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmess567/subscriptions","organizations_url":"https://api.github.com/users/tmess567/orgs","repos_url":"https://api.github.com/users/tmess567/repos","events_url":"https://api.github.com/users/tmess567/events{/privacy}","received_events_url":"https://api.github.com/users/tmess567/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"607e239c890f7d60918fac6c50a6c549954640ac","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/607e239c890f7d60918fac6c50a6c549954640ac","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/607e239c890f7d60918fac6c50a6c549954640ac"}],"stats":{"total":556,"additions":555,"deletions":1},"files":[{"sha":"deb11f0392958f6e1aa2dc7613da817c82b5df27","filename":".gitignore","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/04941418ad182489e0f45eb450fad8141897faed/.gitignore","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/04941418ad182489e0f45eb450fad8141897faed/.gitignore","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/.gitignore?ref=04941418ad182489e0f45eb450fad8141897faed","patch":"@@ -11,3 +11,5 @@ maven-eclipse.xml\n archetype/src/main/resources/archetype-resources/pom.xml\n ide/eclipse/bundles/org.apache.syncope.ide.eclipse.plugin/bin/\n ide/eclipse/bundles/org.apache.syncope.ide.eclipse.plugin/lib/\n+ide/eclipse/bundles/org.apache.syncope.ide.eclipse.tests/bin/\n+ide/eclipse/bundles/org.apache.syncope.ide.eclipse.tests/screenshots/"},{"sha":"44ab47fd8c808e233a1de357b47db1c72124ddee","filename":"ide/eclipse/bundles/org.apache.syncope.ide.eclipse.tests/META-INF/MANIFEST.MF","status":"added","additions":21,"deletions":0,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/04941418ad182489e0f45eb450fad8141897faed/ide%2Feclipse%2Fbundles%2Forg.apache.syncope.ide.eclipse.tests%2FMETA-INF%2FMANIFEST.MF","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/04941418ad182489e0f45eb450fad8141897faed/ide%2Feclipse%2Fbundles%2Forg.apache.syncope.ide.eclipse.tests%2FMETA-INF%2FMANIFEST.MF","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ide%2Feclipse%2Fbundles%2Forg.apache.syncope.ide.eclipse.tests%2FMETA-INF%2FMANIFEST.MF?ref=04941418ad182489e0f45eb450fad8141897faed","patch":"@@ -0,0 +1,21 @@\n+Manifest-Version: 1.0\n+Bundle-ManifestVersion: 2\n+Bundle-Name: org.apache.syncope.ide.eclipse.tests\n+Bundle-SymbolicName: org.apache.syncope.ide.eclipse.tests;singleton:=true\n+Bundle-Version: 2.0.0.qualifier\n+Bundle-ActivationPolicy: lazy\n+Bundle-Vendor: \n+Bundle-RequiredExecutionEnvironment: J2SE-1.5\n+Require-Bundle: org.eclipse.swtbot.go,\n+ org.eclipse.jface.text,\n+ org.eclipse.core.resources,\n+ org.eclipse.ui,\n+ org.eclipse.ui.editors,\n+ org.eclipse.ui.ide,\n+ org.eclipse.core.runtime,\n+ org.eclipse.swtbot.swt.finder,\n+ org.eclipse.swtbot.eclipse.finder,\n+ org.apache.log4j,\n+ org.eclipse.swtbot.junit4_x,\n+ org.apache.syncope.ide.eclipse.plugin,\n+ org.eclipse.swtbot.eclipse.ui"},{"sha":"f397c4d8b9afc6fcb1c9f2670482f4bc2718bf2a","filename":"ide/eclipse/bundles/org.apache.syncope.ide.eclipse.tests/build.properties","status":"added","additions":22,"deletions":0,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/04941418ad182489e0f45eb450fad8141897faed/ide%2Feclipse%2Fbundles%2Forg.apache.syncope.ide.eclipse.tests%2Fbuild.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/04941418ad182489e0f45eb450fad8141897faed/ide%2Feclipse%2Fbundles%2Forg.apache.syncope.ide.eclipse.tests%2Fbuild.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ide%2Feclipse%2Fbundles%2Forg.apache.syncope.ide.eclipse.tests%2Fbuild.properties?ref=04941418ad182489e0f45eb450fad8141897faed","patch":"@@ -0,0 +1,22 @@\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+#\n+source.. = src/\n+output.. = bin/\n+bin.includes = META-INF/,\\\n+               ."},{"sha":"61d586193eaa2e9f3428d2c95919137120505a96","filename":"ide/eclipse/bundles/org.apache.syncope.ide.eclipse.tests/pom.xml","status":"added","additions":154,"deletions":0,"changes":154,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/04941418ad182489e0f45eb450fad8141897faed/ide%2Feclipse%2Fbundles%2Forg.apache.syncope.ide.eclipse.tests%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/04941418ad182489e0f45eb450fad8141897faed/ide%2Feclipse%2Fbundles%2Forg.apache.syncope.ide.eclipse.tests%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ide%2Feclipse%2Fbundles%2Forg.apache.syncope.ide.eclipse.tests%2Fpom.xml?ref=04941418ad182489e0f45eb450fad8141897faed","patch":"@@ -0,0 +1,154 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+  <modelVersion>4.0.0</modelVersion>\n+\n+  <parent>\n+    <groupId>org.apache.syncope.ide</groupId>\n+    <artifactId>syncope-ide-eclipse</artifactId>\n+    <version>2.0.0-SNAPSHOT</version>\n+    <relativePath>../../</relativePath>\n+  </parent>\n+\n+  <name>Apache Syncope IDE Eclipse Tests</name>\n+  <description>Apache Syncope IDE Eclipse Tests</description>\n+  <groupId>org.apache.syncope.ide.eclipse</groupId>\n+  <artifactId>org.apache.syncope.ide.eclipse.tests</artifactId>\n+  <packaging>eclipse-test-plugin</packaging>\n+  \n+  <properties>\n+    <rootpom.basedir>${basedir}/../../../..</rootpom.basedir>\n+  </properties>\n+\n+  <dependencies>\n+    <dependency>\n+      <groupId>com.h2database</groupId>\n+      <artifactId>h2</artifactId>\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.apache.syncope.fit</groupId>\n+      <artifactId>syncope-fit-core-reference</artifactId>\n+      <version>${project.version}</version>\n+      <type>war</type>\n+      <scope>test</scope>\n+    </dependency>\n+  </dependencies>\n+\n+  <profiles>\n+    <profile>\n+      <id>eclipse-it</id>\n+      <build>\n+        <plugins>\n+          <plugin>\n+            <groupId>org.eclipse.tycho</groupId>\n+            <artifactId>target-platform-configuration</artifactId>\n+            <configuration>\n+              <dependency-resolution>\n+                <extraRequirements>\n+                  <requirement>\n+                    <type>eclipse-feature</type>\n+                    <id>org.eclipse.e4.rcp</id>\n+                    <versionRange>0.0.0</versionRange>\n+                  </requirement>\n+                  <requirement>\n+                    <type>eclipse-feature</type>\n+                    <id>org.eclipse.pde</id>\n+                    <versionRange>0.0.0</versionRange>\n+                  </requirement>\n+                  <requirement>\n+                    <type>eclipse-feature</type>\n+                    <id>org.eclipse.cvs</id>\n+                    <versionRange>0.0.0</versionRange>\n+                  </requirement>\n+                </extraRequirements>\n+              </dependency-resolution>\n+            </configuration>\n+          </plugin>\n+          \n+          <plugin>\t\t\n+            <groupId>org.eclipse.tycho</groupId>\t\t\n+            <artifactId>tycho-surefire-plugin</artifactId>\t\t\n+            <configuration>\t\t\n+              <useUIHarness>true</useUIHarness>\t\t\n+              <useUIThread>false</useUIThread>\t\t\n+              <product>org.eclipse.sdk.ide</product>\t\t\n+              <application>org.eclipse.ui.ide.workbench</application>\t\t\n+            </configuration>\t\t\n+          </plugin>\n+ \n+          <plugin>\n+            <groupId>org.codehaus.cargo</groupId>\n+            <artifactId>cargo-maven2-plugin</artifactId>\n+            <inherited>true</inherited>\n+            <configuration>\n+              <container>\n+                <dependencies>\n+                  <dependency>\n+                    <groupId>com.h2database</groupId>\n+                    <artifactId>h2</artifactId>\n+                  </dependency>\n+                </dependencies>\n+              </container>\n+              <configuration>\n+                <type>standalone</type>\n+                <properties>\n+                  <cargo.servlet.port>${cargo.servlet.port}</cargo.servlet.port>\n+                  <cargo.tomcat.ajp.port>${cargo.tomcat.ajp.port}</cargo.tomcat.ajp.port>\n+                  <cargo.rmi.port>${cargo.rmi.port}</cargo.rmi.port>\n+\n+                  <cargo.jvmargs>-XX:+CMSClassUnloadingEnabled -XX:+UseConcMarkSweepGC -XX:MaxPermSize=512m -Xmx1024m -Xms512m</cargo.jvmargs>\n+                </properties>\n+              </configuration>\n+              <deployables>\n+                <deployable>\n+                  <location>${basedir}/../../../../fit/core-reference/target/syncope-fit-core-reference-${project.version}.war</location>\n+                  <pingURL>http://localhost:${cargo.servlet.port}/syncope/cacheStats.jsp</pingURL>\n+                  <pingTimeout>60000</pingTimeout>\n+                  <properties>\n+                    <context>syncope</context>\n+                  </properties>\n+                  <type>war</type>\n+                </deployable>\n+              </deployables>\n+            </configuration>\n+            <executions>\n+              <execution>\n+                <id>start-container</id>\n+                <phase>pre-integration-test</phase>\n+                <goals>\n+                  <goal>start</goal>\n+                </goals>\n+              </execution>\n+              <execution>\n+                <id>stop-container</id>\n+                <phase>post-integration-test</phase>\n+                <goals>\n+                  <goal>stop</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+        </plugins>\n+      </build>\n+    </profile>\n+  </profiles>\n+</project>"},{"sha":"92284818e532cea807902ce5e1443a1d69bfb270","filename":"ide/eclipse/bundles/org.apache.syncope.ide.eclipse.tests/src/main/java/org/apache/syncope/ide/eclipse/tests/SyncopeViewTest.java","status":"added","additions":343,"deletions":0,"changes":343,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/04941418ad182489e0f45eb450fad8141897faed/ide%2Feclipse%2Fbundles%2Forg.apache.syncope.ide.eclipse.tests%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fide%2Feclipse%2Ftests%2FSyncopeViewTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/04941418ad182489e0f45eb450fad8141897faed/ide%2Feclipse%2Fbundles%2Forg.apache.syncope.ide.eclipse.tests%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fide%2Feclipse%2Ftests%2FSyncopeViewTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ide%2Feclipse%2Fbundles%2Forg.apache.syncope.ide.eclipse.tests%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fide%2Feclipse%2Ftests%2FSyncopeViewTest.java?ref=04941418ad182489e0f45eb450fad8141897faed","patch":"@@ -0,0 +1,343 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.ide.eclipse.tests;\n+\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+import org.eclipse.swtbot.eclipse.finder.SWTWorkbenchBot;\n+import org.eclipse.swtbot.eclipse.finder.widgets.SWTBotView;\n+import org.eclipse.swtbot.swt.finder.SWTBot;\n+import org.eclipse.swtbot.swt.finder.junit.SWTBotJunit4ClassRunner;\n+import org.eclipse.swtbot.swt.finder.waits.ICondition;\n+import org.eclipse.swtbot.swt.finder.widgets.SWTBotShell;\n+import org.eclipse.swtbot.swt.finder.widgets.SWTBotTreeItem;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+@RunWith(SWTBotJunit4ClassRunner.class)\n+public class SyncopeViewTest {\n+\n+    private static SWTWorkbenchBot BOT;\n+\n+    private SWTBotView syncopeView;\n+\n+    private SWTBotTreeItem mTemplateItem;\n+\n+    private SWTBotTreeItem rTemplateItem;\n+\n+    private SWTBotTreeItem[] mtemplateList;\n+\n+    private SWTBotTreeItem[] rtemplateList;\n+\n+    protected static final String ADMIN_UNAME = \"admin\";\n+\n+    protected static final String ADMIN_PWD = \"password\";\n+\n+    protected static final String ADDRESS = \"http://localhost:9080/syncope/rest\";\n+\n+    @BeforeClass\n+    public static void beforeClass() throws Exception {\n+        BOT = new SWTWorkbenchBot();\n+    }\n+\n+    @Test\n+    public void canOpenView() throws Exception {\n+        BOT.menu(\"Window\").menu(\"Show View\").menu(\"Other...\").click();\n+        SWTBotShell shell = BOT.shell(\"Show View\");\n+        shell.activate();\n+        BOT.tree().expandNode(\"Apache Syncope\").select(\"Apache Syncope Templates\").click();\n+        BOT.button(\"OK\").click();\n+    }\n+\n+    @Test\n+    public void canOpenLoginDialog() throws Exception {\n+        SWTBotView view = BOT.viewByTitle(\"Apache Syncope Templates\");\n+        view.getToolbarButtons().get(0).click();\n+    }\n+\n+    @Test\n+    public void canLoginAdmin() throws Exception {\n+        SWTBotShell loginShell = BOT.activeShell();\n+        loginShell.activate();\n+        BOT.textWithLabel(\"Deployment Url\").setText(ADDRESS);\n+        BOT.textWithLabel(\"Username\").setText(ADMIN_UNAME);\n+        BOT.textWithLabel(\"Password\").setText(ADMIN_PWD);\n+        BOT.button(\"Login\").click();\n+        BOT.waitWhile(new ICondition() {\n+\n+            @Override\n+            public boolean test() throws Exception {\n+                String title = BOT.activeShell().getText();\n+                return title.equals(\"Loading Templates\");\n+            }\n+\n+            @Override\n+            public void init(final SWTBot bot) {\n+            }\n+\n+            @Override\n+            public String getFailureMessage() {\n+                return \"Unable to Login\";\n+            }\n+        });\n+    }\n+\n+    @Test\n+    public void hasCorrectTemplates() throws Exception {\n+        syncopeView = BOT.viewByTitle(\"Apache Syncope Templates\");\n+        mTemplateItem = syncopeView.bot().tree().expandNode(\"Mail Templates\");\n+        rTemplateItem = syncopeView.bot().tree().expandNode(\"Report Templates\");\n+\n+        mtemplateList = mTemplateItem.getItems();\n+        rtemplateList = rTemplateItem.getItems();\n+\n+        assertNotNull(mtemplateList);\n+        assertNotNull(rtemplateList);\n+\n+        assertTrue(checkMailTemplateKeys());\n+        assertTrue(checkReportTemplateKeys());\n+        assertTrue(canAddMailTemplate());\n+        assertTrue(canDeleteMailTemplate());\n+        assertTrue(canAddReportTemplate());\n+        assertTrue(canDeleteReportTemplate());\n+\n+        assertTrue(canOpenMailTemplateEditor());\n+        assertTrue(canOpenReportTemplateEditor());\n+    }\n+\n+    public boolean checkMailTemplateKeys() {\n+        return (mtemplateList[0].getText().equals(\"confirmPasswordReset\")\n+                && mtemplateList[1].getText().equals(\"optin\")\n+                && mtemplateList[2].getText().equals(\"requestPasswordReset\")\n+                && mtemplateList[3].getText().equals(\"test\"));\n+    }\n+\n+    public boolean checkReportTemplateKeys() {\n+        return (rtemplateList[0].getText().equals(\"empty\") && rtemplateList[1].getText().equals(\"sample\"));\n+    }\n+\n+    private boolean canAddMailTemplate() {\n+        SWTBotTreeItem mTemplateHead = syncopeView.bot().tree().getTreeItem(\"Mail Templates\");\n+        mTemplateHead.setFocus();\n+        mTemplateHead.select().contextMenu(\"Add Template\").click();\n+        BOT.sleep(1000);\n+\n+        // Filling Dialog details\n+        SWTBotShell addTemplateShell = BOT.activeShell();\n+        addTemplateShell.activate();\n+        BOT.textWithLabel(\"Key\").setText(\"newMailTemplate\");\n+        BOT.button(\"Add\").click();\n+\n+        // wait for template keys reload\n+        BOT.waitWhile(new ICondition() {\n+\n+            @Override\n+            public boolean test() throws Exception {\n+                String title = BOT.activeShell().getText();\n+                return title.equals(\"Loading Templates\");\n+            }\n+\n+            @Override\n+            public void init(final SWTBot bot) {\n+            }\n+\n+            @Override\n+            public String getFailureMessage() {\n+                return \"Unable to Login\";\n+            }\n+        });\n+\n+        // recheck available templates\n+        syncopeView = BOT.viewByTitle(\"Apache Syncope Templates\");\n+        mTemplateItem = syncopeView.bot().tree().expandNode(\"Mail Templates\");\n+        mtemplateList = mTemplateItem.getItems();\n+\n+        return (mtemplateList.length == 5 && mtemplateList[1].getText().equals(\"newMailTemplate\"));\n+    }\n+\n+    private boolean canAddReportTemplate() {\n+        SWTBotTreeItem rTemplateHead = syncopeView.bot().tree().getTreeItem(\"Report Templates\");\n+        rTemplateHead.setFocus();\n+        rTemplateHead.select().contextMenu(\"Add Template\").click();\n+        BOT.sleep(1000);\n+\n+        // Filling Dialog details\n+        SWTBotShell addTemplateShell = BOT.activeShell();\n+        addTemplateShell.activate();\n+        BOT.textWithLabel(\"Key\").setText(\"newReportTemplate\");\n+        BOT.button(\"Add\").click();\n+\n+        // wait for template keys reload\n+        BOT.waitWhile(new ICondition() {\n+\n+            @Override\n+            public boolean test() throws Exception {\n+                String title = BOT.activeShell().getText();\n+                return title.equals(\"Loading Templates\");\n+            }\n+\n+            @Override\n+            public void init(final SWTBot bot) {\n+            }\n+\n+            @Override\n+            public String getFailureMessage() {\n+                return \"Unable to Login\";\n+            }\n+        });\n+\n+        // recheck available templates\n+        syncopeView = BOT.viewByTitle(\"Apache Syncope Templates\");\n+        rTemplateItem = syncopeView.bot().tree().expandNode(\"Report Templates\");\n+        rtemplateList = rTemplateItem.getItems();\n+\n+        return (rtemplateList.length == 3 && rtemplateList[1].getText().equals(\"newReportTemplate\"));\n+    }\n+\n+    private boolean canDeleteMailTemplate() {\n+        SWTBotTreeItem mTemplateHead = syncopeView.bot().tree().getTreeItem(\"Mail Templates\");\n+\n+        if (!mTemplateHead.isExpanded()) {\n+            mTemplateHead.expand();\n+        }\n+\n+        SWTBotTreeItem mNewTemplate = mTemplateHead.getNode(\"newMailTemplate\");\n+\n+        mNewTemplate.setFocus();\n+        mNewTemplate.select().contextMenu(\"Remove template\").click();\n+        BOT.sleep(1000);\n+        // wait for template keys reload\n+        BOT.waitWhile(new ICondition() {\n+\n+            @Override\n+            public boolean test() throws Exception {\n+                String title = BOT.activeShell().getText();\n+                return title.equals(\"Loading Templates\");\n+            }\n+\n+            @Override\n+            public void init(final SWTBot bot) {\n+            }\n+\n+            @Override\n+            public String getFailureMessage() {\n+                return \"Unable to Login\";\n+            }\n+        });\n+\n+        // recheck available templates\n+        mTemplateItem = syncopeView.bot().tree().expandNode(\"Mail Templates\");\n+        mtemplateList = mTemplateItem.getItems();\n+\n+        return (mtemplateList.length == 4);\n+    }\n+\n+    private boolean canDeleteReportTemplate() {\n+        SWTBotTreeItem rTemplateHead = syncopeView.bot().tree().getTreeItem(\"Report Templates\");\n+\n+        if (!rTemplateHead.isExpanded()) {\n+            rTemplateHead.expand();\n+        }\n+\n+        SWTBotTreeItem rNewTemplate = rTemplateHead.getNode(\"newReportTemplate\");\n+\n+        rNewTemplate.setFocus();\n+        rNewTemplate.select().contextMenu(\"Remove template\").click();\n+        BOT.sleep(1000);\n+        // wait for template keys reload\n+        BOT.waitWhile(new ICondition() {\n+\n+            @Override\n+            public boolean test() throws Exception {\n+                String title = BOT.activeShell().getText();\n+                return title.equals(\"Loading Templates\");\n+            }\n+\n+            @Override\n+            public void init(final SWTBot bot) {\n+            }\n+\n+            @Override\n+            public String getFailureMessage() {\n+                return \"Unable to Login\";\n+            }\n+        });\n+\n+        // recheck available templates\n+        rTemplateItem = syncopeView.bot().tree().expandNode(\"Report Templates\");\n+        rtemplateList = rTemplateItem.getItems();\n+\n+        return (rtemplateList.length == 2);\n+    }\n+\n+    public boolean canOpenMailTemplateEditor() {\n+        final int initBotEditors = BOT.editors().size();\n+        SWTBotTreeItem optin = syncopeView.bot().tree().expandNode(\"Mail Templates\").getNode(\"optin\");\n+        optin.setFocus();\n+        optin.select().contextMenu(\"View Template\").click();\n+\n+        // wait for template keys reload\n+        BOT.waitWhile(new ICondition() {\n+\n+            @Override\n+            public boolean test() throws Exception {\n+                return BOT.editors().size() == initBotEditors;\n+            }\n+\n+            @Override\n+            public void init(final SWTBot bot) {\n+            }\n+\n+            @Override\n+            public String getFailureMessage() {\n+                return \"Unable to Login\";\n+            }\n+        });\n+        return !BOT.editors().isEmpty();\n+    }\n+\n+    public boolean canOpenReportTemplateEditor() {\n+        final int initBotEditors = BOT.editors().size();\n+        SWTBotTreeItem sample = syncopeView.bot().tree().expandNode(\"Report Templates\").getNode(\"sample\");\n+        sample.setFocus();\n+        sample.select().contextMenu(\"View Template\").click();\n+\n+        // wait for template keys reload\n+        BOT.waitWhile(new ICondition() {\n+\n+            @Override\n+            public boolean test() throws Exception {\n+                return BOT.editors().size() == initBotEditors;\n+            }\n+\n+            @Override\n+            public void init(final SWTBot bot) {\n+            }\n+\n+            @Override\n+            public String getFailureMessage() {\n+                return \"Unable to Login\";\n+            }\n+        });\n+        return !BOT.editors().isEmpty();\n+    }\n+\n+}"},{"sha":"eaafddf56997e735b0885b1df0c52bcabc5ddc9d","filename":"ide/eclipse/pom.xml","status":"modified","additions":7,"deletions":0,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/04941418ad182489e0f45eb450fad8141897faed/ide%2Feclipse%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/04941418ad182489e0f45eb450fad8141897faed/ide%2Feclipse%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ide%2Feclipse%2Fpom.xml?ref=04941418ad182489e0f45eb450fad8141897faed","patch":"@@ -92,6 +92,13 @@ under the License.\n   </build>\n   \n   <profiles>\n+    <profile>\n+      <id>eclipse-it</id>\n+      <modules>\n+        <module>bundles/org.apache.syncope.ide.eclipse.tests</module>\n+      </modules>\n+    </profile>\n+\n     <profile>\n       <id>apache-release</id>\n "},{"sha":"69a3d1a4c2721a5e51ddd594959a5380e1bd6bb1","filename":"pom.xml","status":"modified","additions":6,"deletions":1,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/04941418ad182489e0f45eb450fad8141897faed/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/04941418ad182489e0f45eb450fad8141897faed/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=04941418ad182489e0f45eb450fad8141897faed","patch":"@@ -1575,7 +1575,12 @@ under the License.\n           <groupId>org.eclipse.tycho</groupId>\n           <artifactId>tycho-p2-repository-plugin</artifactId>\n           <version>${tycho-version}</version>\n-        </plugin>                \n+        </plugin>   \n+        <plugin>\n+          <groupId>org.eclipse.tycho</groupId>\n+          <artifactId>tycho-surefire-plugin</artifactId>\n+          <version>${tycho-version}</version>\n+        </plugin>             \n       </plugins>\n     </pluginManagement>\n "}]}
{"sha":"4ba66c335f5ab7bc7f51ea2ef1568ad03b299eda","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjRiYTY2YzMzNWY1YWI3YmM3ZjUxZWEyZWYxNTY4YWQwM2IyOTllZGE=","commit":{"author":{"name":"Andrea Patricelli","email":"andrea.patricelli@tirasa.net","date":"2017-04-03T11:15:06Z"},"committer":{"name":"Andrea Patricelli","email":"andrea.patricelli@tirasa.net","date":"2017-04-03T12:08:48Z"},"message":"[SYNCOPE-1052] fixed captcha api to reload captcha, this api is reacheable only if captcha is enabled","tree":{"sha":"19cec3426a03da9055ce48910bf9302871e0054f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/19cec3426a03da9055ce48910bf9302871e0054f"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/4ba66c335f5ab7bc7f51ea2ef1568ad03b299eda","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/4ba66c335f5ab7bc7f51ea2ef1568ad03b299eda","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/4ba66c335f5ab7bc7f51ea2ef1568ad03b299eda","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/4ba66c335f5ab7bc7f51ea2ef1568ad03b299eda/comments","author":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"committer":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"4fe838d2d7c09ebb3063c7baa3739bfe6c9e8325","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/4fe838d2d7c09ebb3063c7baa3739bfe6c9e8325","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/4fe838d2d7c09ebb3063c7baa3739bfe6c9e8325"}],"stats":{"total":15,"additions":13,"deletions":2},"files":[{"sha":"cfed2c5e972783c67a45297165f9e4d427f0d0be","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/SyncopeEnduserApplication.java","status":"modified","additions":13,"deletions":0,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4ba66c335f5ab7bc7f51ea2ef1568ad03b299eda/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4ba66c335f5ab7bc7f51ea2ef1568ad03b299eda/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java?ref=4ba66c335f5ab7bc7f51ea2ef1568ad03b299eda","patch":"@@ -28,6 +28,7 @@\n import org.apache.syncope.client.enduser.annotations.Resource;\n import org.apache.syncope.client.enduser.init.ClassPathScanImplementationLookup;\n import org.apache.syncope.client.enduser.init.EnduserInitializer;\n+import org.apache.syncope.client.enduser.resources.CaptchaResource;\n import org.apache.syncope.client.lib.SyncopeClientFactoryBean;\n import org.apache.syncope.common.lib.SyncopeConstants;\n import org.apache.wicket.Page;\n@@ -156,6 +157,18 @@ public IResource getResource() {\n                 }\n             }\n         }\n+        //mount captcha resource only if captcha is enabled\n+        if (captchaEnabled) {\n+            mountResource(\"/api/captcha\", new ResourceReference(\"captcha\") {\n+\n+                private static final long serialVersionUID = -128426276529456602L;\n+\n+                @Override\n+                public IResource getResource() {\n+                    return new CaptchaResource();\n+                }\n+            });\n+        }\n     }\n \n     @Override"},{"sha":"528bc46ea07bcbeeebe5e34e55a3b46f065d9092","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/CaptchaResource.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/4ba66c335f5ab7bc7f51ea2ef1568ad03b299eda/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FCaptchaResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/4ba66c335f5ab7bc7f51ea2ef1568ad03b299eda/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FCaptchaResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FCaptchaResource.java?ref=4ba66c335f5ab7bc7f51ea2ef1568ad03b299eda","patch":"@@ -21,13 +21,11 @@\n import javax.servlet.http.HttpServletRequest;\n import org.apache.commons.lang3.RandomStringUtils;\n import org.apache.syncope.client.enduser.SyncopeEnduserConstants;\n-import org.apache.syncope.client.enduser.annotations.Resource;\n import org.apache.wicket.extensions.markup.html.captcha.CaptchaImageResource;\n import org.apache.wicket.request.cycle.RequestCycle;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n-@Resource(key = \"captcha\", path = \"/api/captcha\")\n public class CaptchaResource extends CaptchaImageResource {\n \n     private static final long serialVersionUID = 8293404296348102926L;"}]}
{"sha":"46864183920323eb5e64780919455dd880585d8d","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjQ2ODY0MTgzOTIwMzIzZWI1ZTY0NzgwOTE5NDU1ZGQ4ODA1ODVkOGQ=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-04-10T14:54:38Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-04-10T14:54:38Z"},"message":"[CVE-2014-0111] Refactoring JEXL evaluation\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/branches/1_1_X@1586317 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"3f4e7bb96eb0dbc75a6f95840eb5b5592e9d51e7","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/3f4e7bb96eb0dbc75a6f95840eb5b5592e9d51e7"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/46864183920323eb5e64780919455dd880585d8d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/46864183920323eb5e64780919455dd880585d8d","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/46864183920323eb5e64780919455dd880585d8d","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/46864183920323eb5e64780919455dd880585d8d/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"4b3a3d8a05c4ee9b2c35b4d410996b441c66f354","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/4b3a3d8a05c4ee9b2c35b4d410996b441c66f354","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/4b3a3d8a05c4ee9b2c35b4d410996b441c66f354"}],"stats":{"total":122,"additions":97,"deletions":25},"files":[{"sha":"39fc36a204e7af6c7b401a52fcecc6e55d74bdfd","filename":"core/src/main/java/org/apache/syncope/core/connid/ConnObjectUtil.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fconnid%2FConnObjectUtil.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fconnid%2FConnObjectUtil.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fconnid%2FConnObjectUtil.java?ref=46864183920323eb5e64780919455dd880585d8d","patch":"@@ -59,7 +59,7 @@\n import org.apache.syncope.core.util.ApplicationContextProvider;\n import org.apache.syncope.core.util.AttributableUtil;\n import org.apache.syncope.core.util.InvalidPasswordPolicySpecException;\n-import org.apache.syncope.core.util.JexlUtil;\n+import org.apache.syncope.core.util.jexl.JexlUtil;\n import org.apache.syncope.core.util.MappingUtil;\n import org.apache.syncope.core.util.SecureRandomUtil;\n import org.apache.syncope.core.util.VirAttrCache;"},{"sha":"6dd716d54ff077021d33d2bd3f0e03438ed7071c","filename":"core/src/main/java/org/apache/syncope/core/persistence/beans/AbstractDerAttr.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractDerAttr.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractDerAttr.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractDerAttr.java?ref=46864183920323eb5e64780919455dd880585d8d","patch":"@@ -25,7 +25,7 @@\n import javax.persistence.MappedSuperclass;\n import org.apache.commons.jexl2.JexlContext;\n import org.apache.commons.jexl2.MapContext;\n-import org.apache.syncope.core.util.JexlUtil;\n+import org.apache.syncope.core.util.jexl.JexlUtil;\n \n @MappedSuperclass\n public abstract class AbstractDerAttr extends AbstractBaseBean {"},{"sha":"166bb2bb6a0145883ba7c7c87f865b31798e78cd","filename":"core/src/main/java/org/apache/syncope/core/propagation/impl/LDAPMembershipPropagationActions.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpropagation%2Fimpl%2FLDAPMembershipPropagationActions.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpropagation%2Fimpl%2FLDAPMembershipPropagationActions.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpropagation%2Fimpl%2FLDAPMembershipPropagationActions.java?ref=46864183920323eb5e64780919455dd880585d8d","patch":"@@ -32,7 +32,7 @@\n import org.apache.syncope.core.persistence.beans.user.SyncopeUser;\n import org.apache.syncope.core.persistence.dao.UserDAO;\n import org.apache.syncope.core.propagation.DefaultPropagationActions;\n-import org.apache.syncope.core.util.JexlUtil;\n+import org.apache.syncope.core.util.jexl.JexlUtil;\n import org.identityconnectors.framework.common.objects.Attribute;\n import org.identityconnectors.framework.common.objects.AttributeBuilder;\n import org.identityconnectors.framework.common.objects.AttributeUtil;"},{"sha":"2e8e2ad1520a508c152c37d412453892737ef2a0","filename":"core/src/main/java/org/apache/syncope/core/propagation/impl/PropagationManager.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpropagation%2Fimpl%2FPropagationManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpropagation%2Fimpl%2FPropagationManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpropagation%2Fimpl%2FPropagationManager.java?ref=46864183920323eb5e64780919455dd880585d8d","patch":"@@ -51,7 +51,7 @@\n import org.apache.syncope.core.rest.data.RoleDataBinder;\n import org.apache.syncope.core.rest.data.UserDataBinder;\n import org.apache.syncope.core.util.AttributableUtil;\n-import org.apache.syncope.core.util.JexlUtil;\n+import org.apache.syncope.core.util.jexl.JexlUtil;\n import org.apache.syncope.core.util.MappingUtil;\n import org.apache.syncope.core.util.VirAttrCache;\n import org.apache.syncope.core.workflow.WorkflowResult;"},{"sha":"c72821fb1c3f27e68ba8d890934359c3c3311586","filename":"core/src/main/java/org/apache/syncope/core/rest/data/AbstractAttributableDataBinder.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FAbstractAttributableDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FAbstractAttributableDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FAbstractAttributableDataBinder.java?ref=46864183920323eb5e64780919455dd880585d8d","patch":"@@ -63,7 +63,7 @@\n import org.apache.syncope.core.persistence.dao.VirSchemaDAO;\n import org.apache.syncope.core.propagation.PropagationByResource;\n import org.apache.syncope.core.util.AttributableUtil;\n-import org.apache.syncope.core.util.JexlUtil;\n+import org.apache.syncope.core.util.jexl.JexlUtil;\n import org.apache.syncope.core.util.MappingUtil;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;"},{"sha":"b54536f78d8cc72eb29d54d6e7516cb13251609e","filename":"core/src/main/java/org/apache/syncope/core/rest/data/DerivedSchemaDataBinder.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FDerivedSchemaDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FDerivedSchemaDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FDerivedSchemaDataBinder.java?ref=46864183920323eb5e64780919455dd880585d8d","patch":"@@ -24,7 +24,7 @@\n import org.apache.syncope.common.validation.SyncopeClientCompositeErrorException;\n import org.apache.syncope.common.validation.SyncopeClientException;\n import org.apache.syncope.core.persistence.beans.AbstractDerSchema;\n-import org.apache.syncope.core.util.JexlUtil;\n+import org.apache.syncope.core.util.jexl.JexlUtil;\n import org.springframework.beans.BeanUtils;\n import org.springframework.http.HttpStatus;\n import org.springframework.stereotype.Component;"},{"sha":"14b4db19d6005f1a4cd02df3e4f418bfc64ea622","filename":"core/src/main/java/org/apache/syncope/core/rest/data/ResourceDataBinder.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FResourceDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FResourceDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FResourceDataBinder.java?ref=46864183920323eb5e64780919455dd880585d8d","patch":"@@ -48,7 +48,7 @@\n import org.apache.syncope.core.persistence.dao.ConnInstanceDAO;\n import org.apache.syncope.core.persistence.dao.NotFoundException;\n import org.apache.syncope.core.persistence.dao.PolicyDAO;\n-import org.apache.syncope.core.util.JexlUtil;\n+import org.apache.syncope.core.util.jexl.JexlUtil;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.beans.BeanUtils;"},{"sha":"137a9590f613e804caf3fbedd3944daef4f13379","filename":"core/src/main/java/org/apache/syncope/core/rest/data/SchemaDataBinder.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FSchemaDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FSchemaDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FSchemaDataBinder.java?ref=46864183920323eb5e64780919455dd880585d8d","patch":"@@ -28,7 +28,7 @@\n import org.apache.syncope.core.persistence.beans.AbstractSchema;\n import org.apache.syncope.core.persistence.dao.SchemaDAO;\n import org.apache.syncope.core.util.AttributableUtil;\n-import org.apache.syncope.core.util.JexlUtil;\n+import org.apache.syncope.core.util.jexl.JexlUtil;\n import org.springframework.beans.BeanUtils;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.http.HttpStatus;"},{"sha":"f4122c065fb71b282e9d45b116c50edcec03bb6c","filename":"core/src/main/java/org/apache/syncope/core/rest/data/TaskDataBinder.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FTaskDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FTaskDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FTaskDataBinder.java?ref=46864183920323eb5e64780919455dd880585d8d","patch":"@@ -43,7 +43,7 @@\n import org.apache.syncope.core.persistence.dao.NotFoundException;\n import org.apache.syncope.core.persistence.dao.ResourceDAO;\n import org.apache.syncope.core.persistence.dao.TaskExecDAO;\n-import org.apache.syncope.core.util.JexlUtil;\n+import org.apache.syncope.core.util.jexl.JexlUtil;\n import org.apache.syncope.core.util.TaskUtil;\n import org.quartz.Scheduler;\n import org.quartz.SchedulerException;"},{"sha":"c6bb274ce3135e65b1839cf9b1d68483751a6403","filename":"core/src/main/java/org/apache/syncope/core/util/MappingUtil.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FMappingUtil.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FMappingUtil.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2FMappingUtil.java?ref=46864183920323eb5e64780919455dd880585d8d","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.core.util;\n \n+import org.apache.syncope.core.util.jexl.JexlUtil;\n import java.util.AbstractMap;\n import java.util.ArrayList;\n import java.util.Collection;"},{"sha":"8b7d7e845d623ec2a9287d9162b0872ecb954342","filename":"core/src/main/java/org/apache/syncope/core/util/jexl/ClassFreeUberspectImpl.java","status":"added","additions":43,"deletions":0,"changes":43,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2Fjexl%2FClassFreeUberspectImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2Fjexl%2FClassFreeUberspectImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2Fjexl%2FClassFreeUberspectImpl.java?ref=46864183920323eb5e64780919455dd880585d8d","patch":"@@ -0,0 +1,43 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.core.util.jexl;\n+\n+import org.apache.commons.jexl2.JexlInfo;\n+import org.apache.commons.jexl2.introspection.JexlMethod;\n+import org.apache.commons.jexl2.introspection.JexlPropertyGet;\n+import org.apache.commons.jexl2.introspection.UberspectImpl;\n+import org.apache.commons.logging.Log;\n+\n+class ClassFreeUberspectImpl extends UberspectImpl {\n+\n+    public ClassFreeUberspectImpl(final Log runtimeLogger) {\n+        super(runtimeLogger);\n+    }\n+\n+    @Override\n+    public JexlPropertyGet getPropertyGet(final Object obj, final Object identifier, final JexlInfo info) {\n+        return \"class\".equals(identifier) ? null : super.getPropertyGet(obj, identifier, info);\n+    }\n+\n+    @Override\n+    public JexlMethod getMethod(final Object obj, final String method, final Object[] args, final JexlInfo info) {\n+        return \"getClass\".equals(method) ? null : super.getMethod(obj, method, args, info);\n+    }\n+\n+}"},{"sha":"55b82c5dd94660321b481fcabf4973df132ee21f","filename":"core/src/main/java/org/apache/syncope/core/util/jexl/EmptyClassLoader.java","status":"added","additions":36,"deletions":0,"changes":36,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2Fjexl%2FEmptyClassLoader.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2Fjexl%2FEmptyClassLoader.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2Fjexl%2FEmptyClassLoader.java?ref=46864183920323eb5e64780919455dd880585d8d","patch":"@@ -0,0 +1,36 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.core.util.jexl;\n+\n+/**\n+ * A class loader that will throw {@link ClassNotFoundException} for every class name.\n+ */\n+class EmptyClassLoader extends ClassLoader {\n+\n+    @Override\n+    public Class<?> loadClass(final String name) throws ClassNotFoundException {\n+        throw new ClassNotFoundException(\"This classloader won't attemp to load \" + name);\n+    }\n+\n+    @Override\n+    protected Class<?> loadClass(final String name, boolean resolve) throws ClassNotFoundException {\n+        throw new ClassNotFoundException(\"This classloader won't attemp to load \" + name);\n+    }\n+\n+}"},{"sha":"1ef0ddbc4803e4f292bc3ae1dac657c927aff3de","filename":"core/src/main/java/org/apache/syncope/core/util/jexl/JexlUtil.java","status":"renamed","additions":8,"deletions":3,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2Fjexl%2FJexlUtil.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2Fjexl%2FJexlUtil.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Futil%2Fjexl%2FJexlUtil.java?ref=46864183920323eb5e64780919455dd880585d8d","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.util;\n+package org.apache.syncope.core.util.jexl;\n \n import java.lang.reflect.Field;\n import java.util.Collection;\n@@ -36,13 +36,14 @@\n import org.apache.syncope.core.persistence.beans.AbstractAttributable;\n import org.apache.syncope.core.persistence.beans.AbstractDerAttr;\n import org.apache.syncope.core.persistence.beans.AbstractVirAttr;\n+import org.apache.syncope.core.util.DataFormat;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n /**\n  * @see http://commons.apache.org/jexl/reference/index.html\n  */\n-public class JexlUtil {\n+public final class JexlUtil {\n \n     /**\n      * Logger.\n@@ -57,7 +58,11 @@ public class JexlUtil {\n     private static JexlEngine getEngine() {\n         synchronized (LOG) {\n             if (jexlEngine == null) {\n-                jexlEngine = ApplicationContextProvider.getApplicationContext().getBean(JexlEngine.class);\n+                jexlEngine = new JexlEngine(new ClassFreeUberspectImpl(null), null, null, null);\n+                jexlEngine.setClassLoader(new EmptyClassLoader());\n+                jexlEngine.setCache(512);\n+                jexlEngine.setLenient(true);\n+                jexlEngine.setSilent(false);\n             }\n         }\n ","previous_filename":"core/src/main/java/org/apache/syncope/core/util/JexlUtil.java"},{"sha":"1ded456166840a1a5e61de34d9499a541f2803bc","filename":"core/src/main/resources/syncopeContext.xml","status":"modified","additions":0,"deletions":6,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fresources%2FsyncopeContext.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Fmain%2Fresources%2FsyncopeContext.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2FsyncopeContext.xml?ref=46864183920323eb5e64780919455dd880585d8d","patch":"@@ -85,12 +85,6 @@ under the License.\n   \n   <task:annotation-driven executor=\"connectorExecutor\"/>\n   <task:executor id=\"connectorExecutor\" pool-size=\"10\"/>\n-\n-  <bean id=\"jexlEngine\" class=\"org.apache.commons.jexl2.JexlEngine\">\n-    <property name=\"cache\" value=\"512\"/>\n-    <property name=\"lenient\" value=\"true\"/>\n-    <property name=\"silent\" value=\"false\"/>\n-  </bean>\n   \n   <bean id=\"virAttrCache\" class=\"org.apache.syncope.core.util.VirAttrCache\" scope=\"singleton\">\n     <constructor-arg value=\"60\"/>"},{"sha":"64616278d3e9b805ea70e0446fce5b6869b1bdf8","filename":"core/src/test/resources/persistenceTestEnv.xml","status":"modified","additions":0,"deletions":7,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Ftest%2Fresources%2FpersistenceTestEnv.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/46864183920323eb5e64780919455dd880585d8d/core%2Fsrc%2Ftest%2Fresources%2FpersistenceTestEnv.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fresources%2FpersistenceTestEnv.xml?ref=46864183920323eb5e64780919455dd880585d8d","patch":"@@ -75,12 +75,5 @@ under the License.\n     </property>\n   </bean>\n \n-  <bean id=\"jexlEngine\" class=\"org.apache.commons.jexl2.JexlEngine\">\n-    <property name=\"cache\" value=\"512\"/>\n-    <property name=\"lenient\" value=\"true\"/>\n-    <property name=\"silent\" value=\"false\"/>\n-  </bean>\n-  <bean id=\"jexlUtil\" class=\"org.apache.syncope.core.util.JexlUtil\"/>\n-\n   <import resource=\"persistenceContext.xml\"/>\n </beans>"}]}
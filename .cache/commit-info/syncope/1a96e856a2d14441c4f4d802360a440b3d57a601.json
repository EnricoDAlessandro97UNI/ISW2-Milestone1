{"sha":"1a96e856a2d14441c4f4d802360a440b3d57a601","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjFhOTZlODU2YTJkMTQ0NDFjNGY0ZDgwMjM2MGE0NDBiM2Q1N2E2MDE=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-01-03T17:38:35Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-01-03T17:38:35Z"},"message":"[SYNCOPE-260] Unmerging unwanted commit for WIP SYNCOPE-172\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1428501 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"6ce62114d73a428a10b09d967dda2ce67d2cd9f4","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/6ce62114d73a428a10b09d967dda2ce67d2cd9f4"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/1a96e856a2d14441c4f4d802360a440b3d57a601","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1a96e856a2d14441c4f4d802360a440b3d57a601","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/1a96e856a2d14441c4f4d802360a440b3d57a601","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1a96e856a2d14441c4f4d802360a440b3d57a601/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"bc0f5e7a6e0907900fa9af6f8bf24faee7dc5f61","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bc0f5e7a6e0907900fa9af6f8bf24faee7dc5f61","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/bc0f5e7a6e0907900fa9af6f8bf24faee7dc5f61"}],"stats":{"total":427,"additions":207,"deletions":220},"files":[{"sha":"035a474d7bddb4242ff3d97c86ede2c30eb0687c","filename":"console/src/main/java/org/apache/syncope/console/commons/PreferenceManager.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fcommons%2FPreferenceManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fcommons%2FPreferenceManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fcommons%2FPreferenceManager.java?ref=1a96e856a2d14441c4f4d802360a440b3d57a601","patch":"@@ -148,7 +148,7 @@ public void set(final Request request, final Response response, final Map<String\n         try {\n             cookieUtils.save(PREFMAN_KEY, new String(Base64.encodeBase64(setPrefs(current).getBytes())));\n         } catch (IOException e) {\n-            LOG.error(\"Could not save {} info: {}\", getClass().getSimpleName(), current, e);\n+            LOG.error(\"Could not save {} info: {}\", new Object[]{getClass().getSimpleName(), current, e});\n         }\n     }\n \n@@ -166,7 +166,7 @@ public void set(final Request request, final Response response, final String key\n         try {\n             cookieUtils.save(PREFMAN_KEY, new String(Base64.encodeBase64(setPrefs(current).getBytes())));\n         } catch (IOException e) {\n-            LOG.error(\"Could not save {} info: {}\", getClass().getSimpleName(), current, e);\n+            LOG.error(\"Could not save {} info: {}\", new Object[]{getClass().getSimpleName(), current, e});\n         }\n     }\n "},{"sha":"a47e0c747722479a31d7251bf2916d3fbae097c7","filename":"console/src/main/java/org/apache/syncope/console/pages/ReportletConfModalPage.java","status":"modified","additions":3,"deletions":10,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportletConfModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportletConfModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportletConfModalPage.java?ref=1a96e856a2d14441c4f4d802360a440b3d57a601","patch":"@@ -113,7 +113,6 @@ public ReportletConfModalPage(final ReportletConf reportletConf, final ModalWind\n \n         final AjaxDropDownChoicePanel<String> reportletClass = new AjaxDropDownChoicePanel<String>(\"reportletClass\",\n                 \"reportletClass\", new IModel<String>() {\n-\n             private static final long serialVersionUID = -2316468110411802130L;\n \n             @Override\n@@ -143,7 +142,6 @@ public void detach() {\n         ((DropDownChoice) reportletClass.getField()).setNullValid(true);\n         reportletClass.addRequiredLabel();\n         reportletClass.getField().add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n-\n             private static final long serialVersionUID = 5538299138211283825L;\n \n             @Override\n@@ -158,7 +156,6 @@ protected void onUpdate(final AjaxRequestTarget target) {\n         propertiesContainer.add(buildPropView());\n \n         final AjaxButton submit = new AjaxButton(\"apply\", new ResourceModel(\"apply\")) {\n-\n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n@@ -192,7 +189,6 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n         form.add(submit);\n \n         final IndicatingAjaxButton cancel = new IndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\")) {\n-\n             private static final long serialVersionUID = -958724007591692537L;\n \n             @Override\n@@ -235,7 +231,6 @@ private FieldPanel buildSinglePanel(final Class<?> type, final String fieldName,\n \n     private ListView<String> buildPropView() {\n         LoadableDetachableModel<List<String>> propViewModel = new LoadableDetachableModel<List<String>>() {\n-\n             private static final long serialVersionUID = 5275935387613157437L;\n \n             @Override\n@@ -254,7 +249,6 @@ protected List<String> load() {\n         };\n \n         propView = new ListView<String>(\"propView\", propViewModel) {\n-\n             private static final long serialVersionUID = 9101744072914090143L;\n \n             @Override\n@@ -268,8 +262,8 @@ protected void populateItem(final ListItem<String> item) {\n                 try {\n                     field = ReportletConfModalPage.this.reportletConf.getClass().getDeclaredField(fieldName);\n                 } catch (Exception e) {\n-                    LOG.error(\"Could not find field {} in class {}\", fieldName,\n-                            ReportletConfModalPage.this.reportletConf.getClass(), e);\n+                    LOG.error(\"Could not find field {} in class {}\", new Object[]{fieldName,\n+                                ReportletConfModalPage.this.reportletConf.getClass(), e});\n                 }\n                 if (field == null) {\n                     return;\n@@ -291,8 +285,7 @@ protected void populateItem(final ListItem<String> item) {\n \n                     Class<?> listItemType = String.class;\n                     if (field.getGenericType() instanceof ParameterizedType) {\n-                        listItemType =\n-                                (Class<?>) ((ParameterizedType) field.getGenericType()).getActualTypeArguments()[0];\n+                        listItemType = (Class<?>) ((ParameterizedType) field.getGenericType()).getActualTypeArguments()[0];\n                     }\n \n                     FormAttributeField annotation = field.getAnnotation(FormAttributeField.class);"},{"sha":"181daf84c7bf685fdb60c52a6672d72a9178a769","filename":"console/src/main/java/org/apache/syncope/console/pages/ResourceModalPage.java","status":"modified","additions":2,"deletions":4,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java?ref=1a96e856a2d14441c4f4d802360a440b3d57a601","patch":"@@ -26,7 +26,6 @@\n import org.apache.syncope.console.pages.panels.ResourceMappingPanel;\n import org.apache.syncope.console.pages.panels.ResourceSecurityPanel;\n import org.apache.syncope.console.rest.ResourceRestClient;\n-import org.apache.syncope.types.AttributableType;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n@@ -64,10 +63,9 @@ public ResourceModalPage(final PageReference pageref, final ModalWindow window,\n         //--------------------------------\n \n         //--------------------------------\n-        // Resource mapping panels\n+        // Resource mapping panel\n         //--------------------------------\n-        form.add(new ResourceMappingPanel(\"umapping\", resourceTO, AttributableType.USER));\n-        form.add(new ResourceMappingPanel(\"rmapping\", resourceTO, AttributableType.ROLE));\n+        form.add(new ResourceMappingPanel(\"mapping\", resourceTO));\n         //--------------------------------\n \n         //--------------------------------"},{"sha":"0d24f33779f7ac824b4dc5e1749f1ed8086c9a6e","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/PoliciesPanel.java","status":"modified","additions":4,"deletions":3,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FPoliciesPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FPoliciesPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FPoliciesPanel.java?ref=1a96e856a2d14441c4f4d802360a440b3d57a601","patch":"@@ -22,6 +22,7 @@\n import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n+\n import org.apache.wicket.Page;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n@@ -184,8 +185,8 @@ public void onClick(final AjaxRequestTarget target) {\n                         } catch (SyncopeClientCompositeErrorException e) {\n                             error(getString(\"operation_error\"));\n \n-                            LOG.error(\"While deleting resource {}({})\", accountPolicyTO.getId(),\n-                                    accountPolicyTO.getDescription(), e);\n+                            LOG.error(\"While deleting resource {}({})\", new Object[] { accountPolicyTO.getId(),\n+                                    accountPolicyTO.getDescription() }, e);\n                         }\n \n                         target.add(container);\n@@ -292,7 +293,7 @@ public Iterator<PolicyTO> iterator(final long first, final long count) {\n \n             Collections.sort(policies, comparator);\n \n-            return policies.subList((int) first, (int) first + (int) count).iterator();\n+            return policies.subList((int)first, (int)first + (int)count).iterator();\n         }\n \n         @Override"},{"sha":"5fb456b8a20386a8fb75f2723b62e739dff6add6","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/ResourceMappingPanel.java","status":"modified","additions":88,"deletions":91,"changes":179,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceMappingPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceMappingPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceMappingPanel.java?ref=1a96e856a2d14441c4f4d802360a440b3d57a601","patch":"@@ -39,10 +39,7 @@\n import org.apache.syncope.types.AttributableType;\n import org.apache.syncope.types.ConnConfProperty;\n import org.apache.syncope.types.IntMappingType;\n-import org.apache.wicket.Component;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.ajax.attributes.AjaxCallListener;\n-import org.apache.wicket.ajax.attributes.AjaxRequestAttributes;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.event.IEvent;\n@@ -58,133 +55,116 @@\n import org.apache.wicket.spring.injection.annot.SpringBean;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n+import org.apache.wicket.Component;\n+import org.apache.wicket.ajax.attributes.AjaxCallListener;\n+import org.apache.wicket.ajax.attributes.AjaxRequestAttributes;\n \n /**\n  * Resource mapping panel.\n  */\n public class ResourceMappingPanel extends Panel {\n \n-    private static final long serialVersionUID = -7982691107029848579L;\n-\n     /**\n-     * Logger.\n-     */\n-    private static final Logger LOG = LoggerFactory.getLogger(ResourceMappingPanel.class);\n-\n-    /**\n-     * OnChange event name.\n-     */\n-    private static final String ON_CHANGE = \"onchange\";\n-\n-    /**\n-     * Mapping field style sheet.\n+     * Serial verion UID.\n      */\n-    private static final String FIELD_STYLE = \"ui-widget-content ui-corner-all short_fixedsize\";\n-\n-    /**\n-     * Mapping field style sheet.\n-     */\n-    private static final String DEF_FIELD_STYLE = \"ui-widget-content ui-corner-all\";\n+    private static final long serialVersionUID = -7982691107029848579L;\n \n     /**\n-     * Mapping field style sheet.\n+     * Logger.\n      */\n-    private static final String SHORT_FIELD_STYLE = \"ui-widget-content ui-corner-all veryshort_fixedsize\";\n+    protected static final Logger LOG = LoggerFactory.getLogger(ResourceMappingPanel.class);\n \n     /**\n      * Schema rest client.\n      */\n     @SpringBean\n-    private SchemaRestClient schemaRestClient;\n+    private transient SchemaRestClient schemaRestClient;\n \n     /**\n      * ConnInstance rest client.\n      */\n     @SpringBean\n-    private ConnectorRestClient connRestClient;\n+    private transient ConnectorRestClient connRestClient;\n \n     /**\n      * Resource schema name.\n      */\n-    private final List<String> schemaNames;\n+    private transient List<String> schemaNames;\n \n     /**\n      * Internal attribute types.\n      */\n-    private final List<IntMappingType> attrTypes = new ArrayList<IntMappingType>();\n+    private transient List<IntMappingType> attrTypes = new ArrayList<IntMappingType>();\n \n     /**\n      * Add mapping button.\n      */\n-    private final AjaxButton addMappingBtn;\n+    private final transient AjaxButton addMappingBtn;\n \n     /**\n      * All mappings.\n      */\n-    private final ListView mappings;\n+    private final transient ListView mappings;\n \n     /**\n      * External resource to be updated.\n      */\n-    private final ResourceTO resourceTO;\n-\n-    private final AttributableType attrType;\n+    private final transient ResourceTO resourceTO;\n \n     /**\n      * Mapping container.\n      */\n-    private final WebMarkupContainer mappingContainer;\n+    private final transient WebMarkupContainer mappingContainer;\n \n     /**\n      * AccountLink container.\n      */\n-    private final WebMarkupContainer accountLinkContainer;\n+    private final transient WebMarkupContainer accountLinkContainer;\n \n-    private MappingTO getMapping() {\n-        MappingTO result = null;\n+    /**\n+     * OnChange event name.\n+     */\n+    private static String onchange = \"onchange\";\n \n-        if (AttributableType.USER == attrType) {\n-            if (this.resourceTO.getUmapping() == null) {\n-                this.resourceTO.setUmapping(new MappingTO());\n-            }\n-            result = this.resourceTO.getUmapping();\n-        }\n-        if (AttributableType.ROLE == attrType) {\n-            if (this.resourceTO.getRmapping() == null) {\n-                this.resourceTO.setRmapping(new MappingTO());\n-            }\n-            result = this.resourceTO.getRmapping();\n-        }\n+    /**\n+     * Mapping field style sheet.\n+     */\n+    private static String fieldStyle = \"ui-widget-content ui-corner-all short_fixedsize\";\n \n-        return result;\n-    }\n+    /**\n+     * Mapping field style sheet.\n+     */\n+    private static String defFieldStyle = \"ui-widget-content ui-corner-all\";\n+\n+    /**\n+     * Mapping field style sheet.\n+     */\n+    private static String shortFieldStyle = \"ui-widget-content ui-corner-all veryshort_fixedsize\";\n \n     /**\n      * Attribute Mapping Panel.\n      *\n      * @param panelid panel id.\n      * @param resourceTO external resource.\n      */\n-    public ResourceMappingPanel(final String panelid, final ResourceTO resourceTO, final AttributableType attrType) {\n+    public ResourceMappingPanel(final String panelid, final ResourceTO resourceTO) {\n+\n         super(panelid);\n         setOutputMarkupId(true);\n \n         this.resourceTO = resourceTO;\n-        this.attrType = attrType;\n-\n-        if (this.resourceTO.getConnectorId() != null && this.resourceTO.getConnectorId() > 0) {\n-            schemaNames =\n-                    getResourceSchemaNames(this.resourceTO.getConnectorId(), this.resourceTO.getConnConfProperties());\n-        } else {\n-            schemaNames = Collections.<String>emptyList();\n+        if (resourceTO.getUmapping() == null) {\n+            resourceTO.setUmapping(new MappingTO());\n         }\n \n+        initResourceSchemaNames();\n+\n         accountLinkContainer = new WebMarkupContainer(\"accountLinkContainer\");\n         accountLinkContainer.setOutputMarkupId(true);\n         add(accountLinkContainer);\n \n         boolean accountLinkEnabled = false;\n-        if (getMapping().getAccountLink() != null) {\n+        if (resourceTO.getUmapping().getAccountLink() != null) {\n             accountLinkEnabled = true;\n         }\n         final AjaxCheckBoxPanel accountLinkCheckbox = new AjaxCheckBoxPanel(\"accountLinkCheckbox\",\n@@ -195,7 +175,7 @@ public ResourceMappingPanel(final String panelid, final ResourceTO resourceTO, f\n         accountLinkContainer.add(accountLinkCheckbox);\n \n         final AjaxTextFieldPanel accountLink = new AjaxTextFieldPanel(\"accountLink\", new ResourceModel(\"accountLink\",\n-                \"accountLink\").getObject(), new PropertyModel<String>(getMapping(), \"accountLink\"));\n+                \"accountLink\").getObject(), new PropertyModel<String>(resourceTO.getUmapping(), \"accountLink\"));\n         accountLink.setEnabled(accountLinkEnabled);\n \n         accountLinkContainer.add(accountLink);\n@@ -223,21 +203,26 @@ protected void onUpdate(final AjaxRequestTarget target) {\n         mappingContainer.setOutputMarkupId(true);\n         add(mappingContainer);\n \n-        mappings = new ListView<MappingItemTO>(\"mappings\", getMapping().getItems()) {\n+        mappings = new ListView<MappingItemTO>(\"mappings\", resourceTO.getUmapping().getItems()) {\n \n+            /**\n+             * Serial version UID.\n+             */\n             private static final long serialVersionUID = 4949588177564901031L;\n \n             @Override\n             protected void populateItem(final ListItem<MappingItemTO> item) {\n \n                 final MappingItemTO mapItem = item.getModelObject();\n \n-                AttributableType entity = null;\n+                final AttributableType entity;\n                 if (mapItem.getIntMappingType() != null) {\n                     entity = mapItem.getIntMappingType().getAttributableType();\n+                } else {\n+                    entity = null;\n                 }\n-                attrTypes.clear();\n-                attrTypes.addAll(getAttributeTypes(entity));\n+\n+                attrTypes = getAttributeTypes(entity);\n \n                 item.add(new AjaxDecoratedCheckbox(\"toRemove\", new Model<Boolean>(Boolean.FALSE)) {\n \n@@ -246,25 +231,25 @@ protected void populateItem(final ListItem<MappingItemTO> item) {\n                     @Override\n                     protected void onUpdate(final AjaxRequestTarget target) {\n                         int index = -1;\n-                        for (int i = 0; i < getMapping().getItems().size() && index == -1; i++) {\n-                            if (mapItem.equals(getMapping().getItems().get(i))) {\n+                        for (int i = 0; i < resourceTO.getUmapping().getItems().size() && index == -1; i++) {\n+                            if (mapItem.equals(resourceTO.getUmapping().getItems().get(i))) {\n                                 index = i;\n                             }\n                         }\n \n                         if (index != -1) {\n-                            getMapping().getItems().remove(index);\n+                            resourceTO.getUmapping().getItems().remove(index);\n                             item.getParent().removeAll();\n                             target.add(mappingContainer);\n                         }\n                     }\n \n                     @Override\n-                    protected void updateAjaxAttributes(final AjaxRequestAttributes attributes) {\n+                    protected void updateAjaxAttributes(AjaxRequestAttributes attributes) {\n                         super.updateAjaxAttributes(attributes);\n \n                         final AjaxCallListener ajaxCallListener = new AjaxCallListener() {\n-\n+                            \n                             private static final long serialVersionUID = 7160235486520935153L;\n \n                             @Override\n@@ -280,7 +265,7 @@ public CharSequence getPrecondition(final Component component) {\n                         getString(\"intAttrNames\"), new PropertyModel<String>(mapItem, \"intAttrName\"));\n                 intAttrNames.setChoices(schemaNames);\n                 intAttrNames.setRequired(true);\n-                intAttrNames.setStyleSheet(FIELD_STYLE);\n+                intAttrNames.setStyleSheet(fieldStyle);\n                 item.add(intAttrNames);\n \n                 final AjaxDropDownChoicePanel<IntMappingType> typesPanel =\n@@ -292,25 +277,25 @@ public CharSequence getPrecondition(final Component component) {\n \n                 typesPanel.setRequired(true);\n                 typesPanel.setChoices(attrTypes);\n-                typesPanel.setStyleSheet(FIELD_STYLE);\n+                typesPanel.setStyleSheet(fieldStyle);\n                 item.add(typesPanel);\n \n                 final AjaxDropDownChoicePanel mappingTypesPanel = new AjaxDropDownChoicePanel(\"mappingTypes\",\n                         new ResourceModel(\"mappingTypes\", \"mappingTypes\").getObject(), new Model(entity));\n \n                 mappingTypesPanel.setChoices(Arrays.asList(AttributableType.values()));\n-                mappingTypesPanel.setStyleSheet(DEF_FIELD_STYLE);\n+                mappingTypesPanel.setStyleSheet(defFieldStyle);\n \n                 item.add(mappingTypesPanel);\n \n-                mappingTypesPanel.getField().add(new AjaxFormComponentUpdatingBehavior(ON_CHANGE) {\n+                mappingTypesPanel.getField().add(new AjaxFormComponentUpdatingBehavior(onchange) {\n \n                     private static final long serialVersionUID = -1107858522700306810L;\n \n                     @Override\n                     protected void onUpdate(final AjaxRequestTarget target) {\n-                        attrTypes.clear();\n-                        attrTypes.addAll(getAttributeTypes((AttributableType) mappingTypesPanel.getModelObject()));\n+\n+                        attrTypes = getAttributeTypes((AttributableType) mappingTypesPanel.getModelObject());\n \n                         typesPanel.setChoices(attrTypes);\n                         List<String> emptyList = Collections.emptyList();\n@@ -323,9 +308,11 @@ protected void onUpdate(final AjaxRequestTarget target) {\n                 });\n \n                 final FieldPanel extAttrName;\n+\n                 if (schemaNames.isEmpty()) {\n                     extAttrName = new AjaxTextFieldPanel(\"extAttrName\", new ResourceModel(\"extAttrNames\",\n                             \"extAttrNames\").getObject(), new PropertyModel<String>(mapItem, \"extAttrName\"));\n+\n                 } else {\n                     extAttrName = new AjaxDropDownChoicePanel<String>(\"extAttrName\", new ResourceModel(\"extAttrNames\",\n                             \"extAttrNames\").getObject(), new PropertyModel(mapItem, \"extAttrName\"));\n@@ -337,10 +324,11 @@ protected void onUpdate(final AjaxRequestTarget target) {\n                     required = true;\n                 }\n \n+\n                 extAttrName.setRequired(required);\n                 extAttrName.setEnabled(required);\n \n-                extAttrName.setStyleSheet(FIELD_STYLE);\n+                extAttrName.setStyleSheet(fieldStyle);\n                 item.add(extAttrName);\n \n                 final AjaxTextFieldPanel mandatory = new AjaxTextFieldPanel(\"mandatoryCondition\", new ResourceModel(\n@@ -349,14 +337,14 @@ protected void onUpdate(final AjaxRequestTarget target) {\n \n                 mandatory.setChoices(Arrays.asList(new String[]{\"true\", \"false\"}));\n \n-                mandatory.setStyleSheet(SHORT_FIELD_STYLE);\n+                mandatory.setStyleSheet(shortFieldStyle);\n \n                 item.add(mandatory);\n \n                 final AjaxCheckBoxPanel accountId = new AjaxCheckBoxPanel(\"accountId\", new ResourceModel(\"accountId\",\n                         \"accountId\").getObject(), new PropertyModel(mapItem, \"accountid\"));\n \n-                accountId.getField().add(new AjaxFormComponentUpdatingBehavior(ON_CHANGE) {\n+                accountId.getField().add(new AjaxFormComponentUpdatingBehavior(onchange) {\n \n                     private static final long serialVersionUID = -1107858522700306810L;\n \n@@ -374,7 +362,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n                 final AjaxCheckBoxPanel password = new AjaxCheckBoxPanel(\"password\", new ResourceModel(\"password\",\n                         \"password\").getObject(), new PropertyModel(mapItem, \"password\"));\n \n-                password.getField().add(new AjaxFormComponentUpdatingBehavior(ON_CHANGE) {\n+                password.getField().add(new AjaxFormComponentUpdatingBehavior(onchange) {\n \n                     private static final long serialVersionUID = -1107858522700306810L;\n \n@@ -391,11 +379,8 @@ protected void onUpdate(final AjaxRequestTarget target) {\n                 });\n \n                 item.add(password);\n-                if (AttributableType.USER != ResourceMappingPanel.this.attrType) {\n-                    password.setVisible(false);\n-                }\n \n-                typesPanel.getField().add(new AjaxFormComponentUpdatingBehavior(ON_CHANGE) {\n+                typesPanel.getField().add(new AjaxFormComponentUpdatingBehavior(onchange) {\n \n                     private static final long serialVersionUID = -1107858522700306810L;\n \n@@ -423,7 +408,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n \n             @Override\n             protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-                getMapping().getItems().add(new MappingItemTO());\n+                resourceTO.getUmapping().getItems().add(new MappingItemTO());\n                 target.add(mappingContainer);\n             }\n \n@@ -434,8 +419,20 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n         };\n \n         addMappingBtn.setDefaultFormProcessing(false);\n-        addMappingBtn.setEnabled(this.resourceTO.getConnectorId() != null && this.resourceTO.getConnectorId() > 0);\n+        addMappingBtn.setEnabled(resourceTO.getConnectorId() != null && resourceTO.getConnectorId() > 0);\n         mappingContainer.add(addMappingBtn);\n+\n+    }\n+\n+    /**\n+     * Initialize resource schema names.\n+     */\n+    private void initResourceSchemaNames() {\n+        if (resourceTO != null && resourceTO.getConnectorId() != null && resourceTO.getConnectorId() > 0) {\n+            schemaNames = getResourceSchemaNames(resourceTO.getConnectorId(), resourceTO.getConnConfProperties());\n+        } else {\n+            schemaNames = Collections.emptyList();\n+        }\n     }\n \n     /**\n@@ -449,11 +446,13 @@ private List<String> getResourceSchemaNames(final Long connectorId, final Set<Co\n         final List<String> names = new ArrayList<String>();\n \n         try {\n+\n             final ConnInstanceTO connInstanceTO = new ConnInstanceTO();\n             connInstanceTO.setId(connectorId);\n             connInstanceTO.setConfiguration(conf);\n \n             names.addAll(connRestClient.getSchemaNames(connInstanceTO));\n+\n         } catch (Exception e) {\n             LOG.warn(\"Error retrieving resource schema names\", e);\n         }\n@@ -463,7 +462,9 @@ private List<String> getResourceSchemaNames(final Long connectorId, final Set<Co\n \n     @Override\n     public void onEvent(final IEvent<?> event) {\n+\n         if (event.getPayload() instanceof ConnConfModEvent) {\n+\n             final AjaxRequestTarget target = ((ConnConfModEvent) event.getPayload()).getTarget();\n \n             final List<ConnConfProperty> conf = ((ConnConfModEvent) event.getPayload()).getConfiguration();\n@@ -472,9 +473,7 @@ public void onEvent(final IEvent<?> event) {\n \n             addMappingBtn.setEnabled(resourceTO.getConnectorId() != null && resourceTO.getConnectorId() > 0);\n \n-            schemaNames.clear();\n-            schemaNames.addAll(\n-                    getResourceSchemaNames(resourceTO.getConnectorId(), new HashSet<ConnConfProperty>(conf)));\n+            schemaNames = getResourceSchemaNames(resourceTO.getConnectorId(), new HashSet<ConnConfProperty>(conf));\n \n             target.add(mappingContainer);\n         }\n@@ -518,8 +517,6 @@ private void setAttrNames(final IntMappingType type, final AjaxDropDownChoicePan\n                 case UserId:\n                 case Password:\n                 case Username:\n-                case RoleId:\n-                case RoleName:\n                 default:\n                     toBeUpdated.setRequired(false);\n                     toBeUpdated.setEnabled(false);"},{"sha":"427fd93822bccf674096bab4a22a453ab33f46f8","filename":"console/src/main/resources/org/apache/syncope/console/pages/ResourceModalPage.html","status":"modified","additions":5,"deletions":7,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.html?ref=1a96e856a2d14441c4f4d802360a440b3d57a601","patch":"@@ -49,23 +49,21 @@\n       <div id=\"tabs\">\n         <ul>\n           <li  class=\"tabs-selected\"><a href=\"#resource\"><span><wicket:message key=\"resource\"/></span></a></li>\n-          <li><a href=\"#umapping\"><span><wicket:message key=\"umapping\"/></span></a></li>\n-          <li><a href=\"#rmapping\"><span><wicket:message key=\"rmapping\"/></span></a></li>\n+          <li><a href=\"#mappings\"><span><wicket:message key=\"mappings\"/></span></a></li>\n           <li><a href=\"#connectorProperties\"><span><wicket:message key=\"connectorProperties\"/></span></a></li>\n           <li><a href=\"#security\"><span><wicket:message key=\"security\"/></span></a></li>\n         </ul>\n         <div id=\"resource\">\n           <span wicket:id=\"details\">[details]</span>\n         </div>\n-        <div id=\"umapping\">\n-          <span wicket:id=\"umapping\">[umapping]</span>\n-        </div>\n-        <div id=\"rmapping\">\n-          <span wicket:id=\"rmapping\">[rmapping]</span>\n+        <div id=\"mappings\">\n+          <span wicket:id=\"mapping\">[mapping]</span>\n         </div>\n+\n         <div id=\"connectorProperties\">\n           <span wicket:id=\"connconf\">[connconf]</span>\n         </div>\n+\n         <div id=\"security\">\n           <span wicket:id=\"security\">[security]</span>\n         </div>"},{"sha":"a141eaece8a92f1e57f4d998a70a9d05f6d0b33e","filename":"console/src/main/resources/org/apache/syncope/console/pages/ResourceModalPage.properties","status":"modified","additions":5,"deletions":6,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.properties?ref=1a96e856a2d14441c4f4d802360a440b3d57a601","patch":"@@ -14,8 +14,8 @@\n # KIND, either express or implied.  See the License for the\n # specific language governing permissions and limitations\n # under the License.\n-resource=Resource details\n-umapping=User mapping\n+resource=Resource Details\n+mappings=Schema Mappings\n connectorProperties=Connector properties\n security=Security\n create_attribute=Create new resource\n@@ -25,7 +25,7 @@ existing_resources=Existing resources\n action=Action\n edit_attribute=Edit resource\n title=Resource\n-extAttrNames=External attributes\n+extAttrNames=External Attributes\n intMappingTypes=Internal mapping types\n entity=Entity\n roleSchema=Role Schema\n@@ -35,7 +35,7 @@ password=Password\n mappingUserSchema=Mapping User Schema\n mappingRoleSchema=Mapping Role Schema\n delete=Delete\n-intAttrNames=Internal attributes\n+intAttrNames=Internal Attributes\n enforceMandatoryCondition=Enforce mandatory condition\n fieldName=Field name\n \n@@ -50,10 +50,9 @@ deleteTraceLevel=Delete trace level\n syncTraceLevel=Synchronization trace level\n propagationPriority=Propagation priority\n propagationPrimary=Propagation primary\n-resetToken=Reset token\n+resetToken=Reset Token\n \n success_connection=Successful connection\n error_connection=Connection failure\n check=Check connection\n actionsClass=Actions class\n-rmapping=Role mapping"},{"sha":"18fbab19e794859888864ab151d57a51a4d2d65d","filename":"console/src/main/resources/org/apache/syncope/console/pages/ResourceModalPage_it.properties","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage_it.properties?ref=1a96e856a2d14441c4f4d802360a440b3d57a601","patch":"@@ -15,7 +15,7 @@\n # specific language governing permissions and limitations\n # under the License.\n resource=Dettagli Risorsa\n-umapping=Mapping utenti\n+mappings=Schema Mapping\n connectorProperties=Propriet\\u00e0\\u00a0 Connettore\n security=Sicurezza\n \n@@ -51,10 +51,9 @@ deleteTraceLevel=Livello di tracciamento delle cancellazioni\n syncTraceLevel=Livello di tracciamento delle sincronizzazioni\n propagationPriority=Priorit\\u00e0 in propagazione\n propagationPrimary=Primaria in propagazione\n-resetToken=Reset token\n+resetToken=Reset Token\n \n success_connection=Connessione avvenuta con successo\n error_connection=Connessione non riuscita\n check=Verifica connessione\n actionsClass=Classe azioni\n-rmapping=Mapping ruoli"},{"sha":"f40b45ac50a76762cee43ffeb3a157a4a5dc83a5","filename":"console/src/main/resources/org/apache/syncope/console/pages/panels/ResourceMappingPanel.html","status":"modified","additions":96,"deletions":94,"changes":190,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceMappingPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a96e856a2d14441c4f4d802360a440b3d57a601/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceMappingPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceMappingPanel.html?ref=1a96e856a2d14441c4f4d802360a440b3d57a601","patch":"@@ -16,99 +16,101 @@\n specific language governing permissions and limitations\n under the License.\n -->\n-<wicket:panel>\n-  <div id=\"formtable\">\n-    <div class=\"tablerow\">\n-      <div class=\"tablecolumn_field all_dynamicsize\">\n-        <table id=\"mappingUserSchema\"\n-               class=\"ui-widget ui-widget-content ui-corner-all\"\n-               style=\"font-size: 1em;margin-top:2px;\"\n-               width=\"100%\" cellpadding=\"2px\" cellspacing=\"1px\"\n-               wicket:id=\"mappingContainer\">\n-          <thead>\n-            <tr class=\"ui-widget-header\">\n-              <th><wicket:message key=\"delete\"/></th>\n-          <th><wicket:message key=\"entity\"/></th>\n-          <th><wicket:message key=\"intMappingTypes\"/></th>\n-          <th><wicket:message key=\"intAttrNames\"/></th>\n-          <th><wicket:message key=\"extAttrNames\"/></th>\n-          <th><wicket:message key=\"mandatoryCondition\"/></th>\n-          <th><wicket:message key=\"accountId\"/></th>\n-          <th><wicket:message key=\"password\"/></th>\n-          </tr>\n-          </thead>\n-          <tfoot>\n-            <tr>\n-              <td colspan=\"7\" style=\"padding: 5px\">\n-                <input type=\"submit\" class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\"\n-                       wicket:id=\"addUserSchemaMappingBtn\" />\n-              </td>\n-            </tr>\n-          </tfoot>\n-          <tbody>\n-            <tr wicket:id=\"mappings\">\n-              <td align=\"center\" valign=\"middle\">\n-                <input type=\"checkbox\" class=\"text ui-widget-content ui-corner-all\"  wicket:id=\"toRemove\"/>\n-              </td>\n-              <td align=\"center\" valign=\"middle\">\n-                <span wicket:id=\"mappingTypes\">[mappingTypes]</span>\n-              </td>\n-              <td align=\"center\" valign=\"middle\">\n-                <span wicket:id=\"intMappingTypes\">[intMappingTypes]</span>\n-              </td>\n-              <td align=\"center\" valign=\"middle\">\n-                <span wicket:id=\"intAttrNames\">[intAttrNames]</span>\n-              </td>\n-              <td align=\"center\" valign=\"middle\">\n-                <span wicket:id=\"extAttrName\">[extAttrName]</span>\n-              </td>\n-              <td align=\"center\" valign=\"middle\">\n-                <span wicket:id=\"mandatoryCondition\">[mandatoryCondition]</span>\n-              </td>\n-              <td align=\"center\" valign=\"middle\">\n-                <span wicket:id=\"accountId\">[accountId]</span>\n-              </td>\n-              <td align=\"center\" valign=\"middle\">\n-                <span wicket:id=\"password\">[password]</span>\n-              </td>\n-            </tr>\n-          </tbody>\n-        </table>\n-      </div>\n-    </div>\n+<html>\n+    <wicket:panel>\n+        <div id=\"formtable\">\n+            <div class=\"tablerow\">\n+                <div class=\"tablecolumn_field all_dynamicsize\">\n+                    <table id=\"mappingUserSchema\"\n+                           class=\"ui-widget ui-widget-content ui-corner-all\"\n+                           style=\"font-size: 1em;margin-top:2px;\"\n+                           width=\"100%\" cellpadding=\"2px\" cellspacing=\"1px\"\n+                           wicket:id=\"mappingContainer\">\n+                        <thead>\n+                            <tr class=\"ui-widget-header\">\n+                                <th><wicket:message key=\"delete\"/></th>\n+                        <th><wicket:message key=\"entity\"/></th>\n+                        <th><wicket:message key=\"intMappingTypes\"/></th>\n+                        <th><wicket:message key=\"intAttrNames\"/></th>\n+                        <th><wicket:message key=\"extAttrNames\"/></th>\n+                        <th><wicket:message key=\"mandatoryCondition\"/></th>\n+                        <th><wicket:message key=\"accountId\"/></th>\n+                        <th><wicket:message key=\"password\"/></th>\n+                        </tr>\n+                        </thead>\n+                        <tfoot>\n+                            <tr>\n+                                <td colspan=\"7\" style=\"padding: 5px\">\n+                                    <input type=\"submit\" class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\"\n+                                           wicket:id=\"addUserSchemaMappingBtn\" />\n+                                </td>\n+                            </tr>\n+                        </tfoot>\n+                        <tbody>\n+                            <tr wicket:id=\"mappings\">\n+                                <td align=\"center\" valign=\"middle\">\n+                                    <input type=\"checkbox\" class=\"text ui-widget-content ui-corner-all\"  wicket:id=\"toRemove\"/>\n+                                </td>\n+                                <td align=\"center\" valign=\"middle\">\n+                                    <span wicket:id=\"mappingTypes\">[mappingTypes]</span>\n+                                </td>\n+                                <td align=\"center\" valign=\"middle\">\n+                                    <span wicket:id=\"intMappingTypes\">[intMappingTypes]</span>\n+                                </td>\n+                                <td align=\"center\" valign=\"middle\">\n+                                    <span wicket:id=\"intAttrNames\">[intAttrNames]</span>\n+                                </td>\n+                                <td align=\"center\" valign=\"middle\">\n+                                    <span wicket:id=\"extAttrName\">[extAttrName]</span>\n+                                </td>\n+                                <td align=\"center\" valign=\"middle\">\n+                                    <span wicket:id=\"mandatoryCondition\">[mandatoryCondition]</span>\n+                                </td>\n+                                <td align=\"center\" valign=\"middle\">\n+                                    <span wicket:id=\"accountId\">[accountId]</span>\n+                                </td>\n+                                <td align=\"center\" valign=\"middle\">\n+                                    <span wicket:id=\"password\">[password]</span>\n+                                </td>\n+                            </tr>\n+                        </tbody>\n+                    </table>\n+                </div>\n+            </div>\n \n-    <div class=\"tablerow\">\n-      <div class=\"tablecolumn_field all_dynamicsize\">\n-        <table id=\"accountLinkTable\"\n-               class=\"ui-widget ui-widget-content ui-corner-all\"\n-               style=\"font-size: 1em;margin-top:2px;\"\n-               border-width=\"1px;\" border-color=\"#cccccc;\" border-style=\"solid;\"\n-               width=\"100%\" cellpadding=\"2px\" cellspacing=\"1px\"\n-               wicket:id=\"accountLinkContainer\">\n-          <thead>\n-            <tr class=\"ui-widget-header\">\n-              <th width=\"10%\" align=\"left\"><wicket:message key=\"enable\"/></th>\n-          <th align=\"left\"><wicket:message key=\"accountLink\"/></th>\n-          </tr>\n-          </thead>\n-          <tbody>\n-            <tr>\n-              <td width=\"10%\" align=\"left\" valign=\"middle\">\n-                <span wicket:id=\"accountLinkCheckbox\">[accountLinkCheckbox]</span>\n-              </td>\n-              <td align=\"left\" valign=\"middle\">\n-                <span wicket:id=\"accountLink\">[accountLink]</span>\n-              </td>\n-            </tr>\n-          </tbody>\n-        </table>\n-      </div>\n-    </div>\n-  </div>\n+            <div class=\"tablerow\">\n+                <div class=\"tablecolumn_field all_dynamicsize\">\n+                    <table id=\"accountLinkTable\"\n+                           class=\"ui-widget ui-widget-content ui-corner-all\"\n+                           style=\"font-size: 1em;margin-top:2px;\"\n+                           border-width=\"1px;\" border-color=\"#cccccc;\" border-style=\"solid;\"\n+                           width=\"100%\" cellpadding=\"2px\" cellspacing=\"1px\"\n+                           wicket:id=\"accountLinkContainer\">\n+                        <thead>\n+                            <tr class=\"ui-widget-header\">\n+                                <th width=\"10%\" align=\"left\"><wicket:message key=\"enable\"/></th>\n+                                <th align=\"left\"><wicket:message key=\"accountLink\"/></th>\n+                            </tr>\n+                        </thead>\n+                        <tbody>\n+                            <tr>\n+                                <td width=\"10%\" align=\"left\" valign=\"middle\">\n+                                    <span wicket:id=\"accountLinkCheckbox\">[accountLinkCheckbox]</span>\n+                                </td>\n+                                <td align=\"left\" valign=\"middle\">\n+                                    <span wicket:id=\"accountLink\">[accountLink]</span>\n+                                </td>\n+                            </tr>\n+                        </tbody>\n+                    </table>\n+                </div>\n+            </div>\n+        </div>\n \n-  <script type=\"text/javascript\">\n-    $(function() {\n-      $('div#mappings div#formtable div.tablerow:even').addClass(\"alt\");\n-    });\n-  </script>\n-</wicket:panel>\n+        <script type=\"text/javascript\">\n+            $(function() {\n+                $('div#mappings div#formtable div.tablerow:even').addClass(\"alt\");\n+            });\n+        </script>\n+    </wicket:panel>\n+</html>"}]}
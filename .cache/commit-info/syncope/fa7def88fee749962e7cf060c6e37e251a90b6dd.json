{"sha":"fa7def88fee749962e7cf060c6e37e251a90b6dd","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmZhN2RlZjg4ZmVlNzQ5OTYyZTdjZjA2MGM2ZTM3ZTI1MWE5MGI2ZGQ=","commit":{"author":{"name":"fmartelli","email":"fabio.martelli@gmail.com","date":"2016-05-12T16:15:04Z"},"committer":{"name":"fmartelli","email":"fabio.martelli@gmail.com","date":"2016-05-12T16:15:04Z"},"message":"[SYNCOPE-826] fixes templates for reals + provides console IT tests for template definition","tree":{"sha":"27d0fb3faa8c1f4caae7ac16c56730b1e33e9671","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/27d0fb3faa8c1f4caae7ac16c56730b1e33e9671"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/fa7def88fee749962e7cf060c6e37e251a90b6dd","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fa7def88fee749962e7cf060c6e37e251a90b6dd","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/fa7def88fee749962e7cf060c6e37e251a90b6dd","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fa7def88fee749962e7cf060c6e37e251a90b6dd/comments","author":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"committer":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"951a64a7aa83c92ed619a3b306ddf92d0968a468","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/951a64a7aa83c92ed619a3b306ddf92d0968a468","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/951a64a7aa83c92ed619a3b306ddf92d0968a468"}],"stats":{"total":536,"additions":381,"deletions":155},"files":[{"sha":"cfcce00737b6a7c9f1d3a05ef8024a29982647f2","filename":"client/console/src/main/java/org/apache/syncope/client/console/layout/AnyForm.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Flayout%2FAnyForm.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Flayout%2FAnyForm.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Flayout%2FAnyForm.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -23,5 +23,4 @@\n import org.apache.syncope.common.lib.to.AnyTO;\n \n public interface AnyForm<A extends AnyTO> extends ModalPanelBuilder<AnyWrapper<A>> {\n-\n }"},{"sha":"26cd41309a4dfa7e42b80266d881d512455709b5","filename":"client/console/src/main/java/org/apache/syncope/client/console/pages/Realms.java","status":"modified","additions":74,"deletions":0,"changes":74,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -19,22 +19,30 @@\n package org.apache.syncope.client.console.pages;\n \n import de.agilecoders.wicket.core.markup.html.bootstrap.dialog.Modal;\n+import java.io.Serializable;\n import org.apache.syncope.client.console.BookmarkablePageLinkBuilder;\n import org.apache.syncope.client.console.SyncopeConsoleSession;\n import org.apache.syncope.client.console.commons.Constants;\n import org.apache.syncope.client.console.panels.Realm;\n import org.apache.syncope.client.console.panels.RealmModalPanel;\n import org.apache.syncope.client.console.panels.RealmChoicePanel;\n import org.apache.syncope.client.console.panels.RealmChoicePanel.ChosenRealm;\n+import org.apache.syncope.client.console.panels.WizardModalPanel;\n import org.apache.syncope.client.console.rest.RealmRestClient;\n+import org.apache.syncope.client.console.tasks.TemplatesTogglePanel;\n import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n+import org.apache.syncope.client.console.wizards.AjaxWizard;\n+import org.apache.syncope.common.lib.to.AnyTO;\n import org.apache.syncope.common.lib.to.RealmTO;\n+import org.apache.syncope.common.lib.to.TemplatableTO;\n import org.apache.syncope.common.lib.types.StandardEntitlement;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.event.IEvent;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow.WindowClosedCallback;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.basic.Label;\n+import org.apache.wicket.model.CompoundPropertyModel;\n+import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.Model;\n import org.apache.wicket.model.ResourceModel;\n import org.apache.wicket.model.StringResourceModel;\n@@ -46,15 +54,32 @@ public class Realms extends BasePage {\n \n     private final RealmRestClient realmRestClient = new RealmRestClient();\n \n+    private final TemplatesTogglePanel templates;\n+\n     private final RealmChoicePanel realmChoicePanel;\n \n     private final WebMarkupContainer content;\n \n     private final BaseModal<RealmTO> modal;\n \n+    private final BaseModal<Serializable> templateModal;\n+\n     public Realms(final PageParameters parameters) {\n         super(parameters);\n \n+        templates = new TemplatesTogglePanel(BaseModal.CONTENT_ID, this, getPageReference()) {\n+\n+            private static final long serialVersionUID = 4828350561653999922L;\n+\n+            @Override\n+            protected Serializable onApplyInternal(\n+                    final TemplatableTO targetObject, final String type, final AnyTO anyTO) {\n+                targetObject.getTemplates().put(type, anyTO);\n+                new RealmRestClient().update(RealmTO.class.cast(targetObject));\n+                return targetObject;\n+            }\n+        };\n+\n         body.add(BookmarkablePageLinkBuilder.build(\"dashboard\", \"dashboardBr\", Dashboard.class));\n \n         content = new WebMarkupContainer(\"content\");\n@@ -71,6 +96,21 @@ public Realms(final PageParameters parameters) {\n         modal.size(Modal.Size.Large);\n         content.add(modal);\n \n+        content.add(templates);\n+\n+        templateModal = new BaseModal<Serializable>(\"templateModal\") {\n+\n+            private static final long serialVersionUID = 5787433530654262016L;\n+\n+            @Override\n+            protected void onConfigure() {\n+                super.onConfigure();\n+                setFooterVisible(false);\n+            }\n+        };\n+        templateModal.size(Modal.Size.Large);\n+        content.add(templateModal);\n+\n         modal.setWindowClosedCallback(new WindowClosedCallback() {\n \n             private static final long serialVersionUID = 8804221891699487139L;\n@@ -83,6 +123,17 @@ public void onClose(final AjaxRequestTarget target) {\n             }\n         });\n \n+        templateModal.setWindowClosedCallback(new WindowClosedCallback() {\n+\n+            private static final long serialVersionUID = 8804221891699487139L;\n+\n+            @Override\n+            public void onClose(final AjaxRequestTarget target) {\n+                target.add(content);\n+                templateModal.show(false);\n+            }\n+        });\n+\n         updateRealmContent(realmChoicePanel.getCurrentRealm());\n     }\n \n@@ -95,6 +146,23 @@ public void onEvent(final IEvent<?> event) {\n             final ChosenRealm<RealmTO> choosenRealm = ChosenRealm.class.cast(event.getPayload());\n             updateRealmContent(choosenRealm.getObj());\n             choosenRealm.getTarget().add(content);\n+        } else if (event.getPayload() instanceof AjaxWizard.NewItemEvent) {\n+            final AjaxWizard.NewItemEvent<?> newItemEvent = AjaxWizard.NewItemEvent.class.cast(event.getPayload());\n+            final WizardModalPanel<?> modalPanel = newItemEvent.getModalPanel();\n+\n+            if (event.getPayload() instanceof AjaxWizard.NewItemActionEvent && modalPanel != null) {\n+                final IModel<Serializable> model = new CompoundPropertyModel<>(modalPanel.getItem());\n+                templateModal.setFormModel(model);\n+                templateModal.header(newItemEvent.getResourceModel());\n+                newItemEvent.getTarget().add(templateModal.setContent(modalPanel));\n+                templateModal.show(true);\n+            } else if (event.getPayload() instanceof AjaxWizard.NewItemCancelEvent) {\n+                templateModal.close(newItemEvent.getTarget());\n+            } else if (event.getPayload() instanceof AjaxWizard.NewItemFinishEvent) {\n+                info(getString(Constants.OPERATION_SUCCEEDED));\n+                SyncopeConsoleSession.get().getNotificationPanel().refresh(newItemEvent.getTarget());\n+                templateModal.close(newItemEvent.getTarget());\n+            }\n         }\n     }\n \n@@ -106,6 +174,12 @@ private WebMarkupContainer updateRealmContent(final RealmTO realmTO) {\n \n             private static final long serialVersionUID = 8221398624379357183L;\n \n+            @Override\n+            protected void onClickTemplate(final AjaxRequestTarget target) {\n+                templates.setTargetObject(realmTO);\n+                templates.toggle(target, true);\n+            }\n+\n             @Override\n             protected void onClickCreate(final AjaxRequestTarget target) {\n                 modal.header(new ResourceModel(\"newRealm\"));"},{"sha":"863fb44a5bc0cf5ea1f8f7ad048dc9da84639a8b","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/DirectoryPanel.java","status":"modified","additions":14,"deletions":0,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDirectoryPanel.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -35,6 +35,7 @@\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.event.Broadcast;\n import org.apache.wicket.event.IEvent;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.form.DropDownChoice;\n@@ -153,6 +154,19 @@ protected DirectoryPanel(final String id, final Builder<T, W, E> builder, final\n         setWindowClosedReloadCallback(altDefaultModal);\n         setWindowClosedReloadCallback(displayAttributeModal);\n \n+        displayAttributeModal.setWindowClosedCallback(new ModalWindow.WindowClosedCallback() {\n+\n+            private static final long serialVersionUID = 8804221891699487139L;\n+\n+            @Override\n+            public void onClose(final AjaxRequestTarget target) {\n+                DirectoryPanel.EventDataWrapper event = new DirectoryPanel.EventDataWrapper();\n+                event.setTarget(target);\n+                send(DirectoryPanel.this, Broadcast.EXACT, event);\n+                modal.show(false);\n+            }\n+        });\n+\n         altDefaultModal.size(Modal.Size.Medium);\n         displayAttributeModal.size(Modal.Size.Medium);\n         displayAttributeModal.addSubmitButton();"},{"sha":"f058c5c841474a616abf0ebd2c6fc8a00afa5bbf","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/Realm.java","status":"modified","additions":13,"deletions":2,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealm.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealm.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealm.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -80,6 +80,15 @@ private List<ITab> buildTabList(final PageReference pageRef) {\n             @Override\n             public Panel getPanel(final String panelId) {\n                 ActionLinksPanel<RealmTO> actionLinksPanel = ActionLinksPanel.<RealmTO>builder().\n+                        add(new ActionLink<RealmTO>(realmTO) {\n+\n+                            private static final long serialVersionUID = 2802988981431379827L;\n+\n+                            @Override\n+                            public void onClick(final AjaxRequestTarget target, final RealmTO modelObject) {\n+                                onClickTemplate(target);\n+                            }\n+                        }, ActionLink.ActionType.TEMPLATE, StandardEntitlement.REALM_CREATE).\n                         add(new ActionLink<RealmTO>(realmTO) {\n \n                             private static final long serialVersionUID = 2802988981431379827L;\n@@ -116,8 +125,8 @@ public void onClick(final AjaxRequestTarget target, final RealmTO modelObject) {\n             }\n         });\n \n-        final Triple<UserFormLayoutInfo, GroupFormLayoutInfo, Map<String, AnyObjectFormLayoutInfo>> formLayoutInfo =\n-                FormLayoutInfoUtils.fetch(anyTypeTOs);\n+        final Triple<UserFormLayoutInfo, GroupFormLayoutInfo, Map<String, AnyObjectFormLayoutInfo>> formLayoutInfo\n+                = FormLayoutInfoUtils.fetch(anyTypeTOs);\n \n         Collections.sort(anyTypeTOs, new AnyTypeComparator());\n         for (final AnyTypeTO anyTypeTO : anyTypeTOs) {\n@@ -135,6 +144,8 @@ public Panel getPanel(final String panelId) {\n         return tabs;\n     }\n \n+    protected abstract void onClickTemplate(final AjaxRequestTarget target);\n+\n     protected abstract void onClickCreate(final AjaxRequestTarget target);\n \n     protected abstract void onClickEdit(final AjaxRequestTarget target, final RealmTO realmTO);"},{"sha":"187acdbe12064d8247e6dc9e2d887decd5cf8aeb","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/TypeExtensionDirectoryPanel.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FTypeExtensionDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FTypeExtensionDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FTypeExtensionDirectoryPanel.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -78,7 +78,6 @@ protected TypeExtensionDirectoryPanel(\n                 new StringResourceModel(\"anyType\", this).getObject(),\n                 new StringResourceModel(\"auxClasses\", this).getObject(),\n                 pageRef);\n-        builder.setEventSink(this);\n         this.addNewItemPanelBuilder(builder, true);\n \n         setShowResultPage(false);"},{"sha":"166abbb75782ba3d26bb725702a3c3300f14e32a","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/UserDirectoryPanel.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -112,8 +112,6 @@ protected List<IColumn<UserTO, String>> getColumns() {\n                     Arrays.asList(UserDisplayAttributesModalPanel.DEFAULT_SELECTION));\n         }\n \n-        setWindowClosedReloadCallback(displayAttributeModal);\n-\n         columns.add(new ActionColumn<UserTO, String>(new ResourceModel(\"actions\")) {\n \n             private static final long serialVersionUID = -3503023501954863131L;"},{"sha":"7f7eb5e0f07393fb57099817a40dae3bc429cf32","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/search/SearchClausePanel.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2Fsearch%2FSearchClausePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2Fsearch%2FSearchClausePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2Fsearch%2FSearchClausePanel.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -341,7 +341,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n         field.add(comparator);\n \n         final AjaxTextFieldPanel value = new AjaxTextFieldPanel(\n-                \"value\", \"value\", new PropertyModel<String>(searchClause, \"value\"));\n+                \"value\", \"value\", new PropertyModel<String>(searchClause, \"value\"), false);\n         value.hideLabel().setOutputMarkupId(true);\n         field.add(value);\n "},{"sha":"ce852d95b278c49cb95c2597119aa3b5c07a97f5","filename":"client/console/src/main/java/org/apache/syncope/client/console/reports/ReportletDirectoryPanel.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -95,8 +95,7 @@ protected ReportletDirectoryPanel(\n \n         enableExitButton();\n \n-        this.addNewItemPanelBuilder(new ReportletWizardBuilder(\n-                report, new ReportletWrapper(), pageRef).setEventSink(ReportletDirectoryPanel.this), true);\n+        this.addNewItemPanelBuilder(new ReportletWizardBuilder(report, new ReportletWrapper(), pageRef), true);\n \n         MetaDataRoleAuthorizationStrategy.authorize(addAjaxLink, ENABLE, StandardEntitlement.REPORT_UPDATE);\n         restClient = new ReportRestClient();"},{"sha":"76c07e7fcd703548aed8160770c4cb0fded0f9da","filename":"client/console/src/main/java/org/apache/syncope/client/console/reports/ReportletWizardBuilder.java","status":"modified","additions":0,"deletions":6,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -74,7 +74,6 @@\n import org.springframework.util.ClassUtils;\n import org.apache.syncope.common.lib.report.SearchCondition;\n import org.apache.syncope.common.lib.search.AbstractFiqlSearchConditionBuilder;\n-import org.apache.wicket.event.IEventSink;\n \n public class ReportletWizardBuilder extends AjaxWizardBuilder<ReportletDirectoryPanel.ReportletWrapper> {\n \n@@ -92,11 +91,6 @@ public ReportletWizardBuilder(\n         this.report = report;\n     }\n \n-    public ReportletWizardBuilder setEventSink(final IEventSink eventSink) {\n-        this.eventSink = eventSink;\n-        return this;\n-    }\n-\n     @Override\n     protected Serializable onApplyInternal(final ReportletDirectoryPanel.ReportletWrapper modelObject) {\n         modelObject.getConf().setName(modelObject.getName());"},{"sha":"d6a294ad5e34b6f8f0f0c31ae0e13ac03eb1f6cd","filename":"client/console/src/main/java/org/apache/syncope/client/console/tasks/PullTaskDirectoryPanel.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FPullTaskDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FPullTaskDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FPullTaskDirectoryPanel.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -60,7 +60,7 @@ protected void addFurtherAcions(final ActionLinksPanel.Builder<PullTaskTO> panel\n \n             @Override\n             public void onClick(final AjaxRequestTarget target, final PullTaskTO ignore) {\n-                templates.setTask(model.getObject());\n+                templates.setTargetObject(model.getObject());\n                 templates.toggle(target, true);\n             }\n         }, ActionLink.ActionType.TEMPLATE, StandardEntitlement.TASK_UPDATE);"},{"sha":"3dce1213ddd73c0569c16696c016d6018f8a6e27","filename":"client/console/src/main/java/org/apache/syncope/client/console/tasks/SchedTaskDirectoryPanel.java","status":"modified","additions":18,"deletions":3,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.client.console.tasks;\n \n+import java.io.Serializable;\n import java.util.ArrayList;\n import java.util.Collection;\n import java.util.Collections;\n@@ -31,6 +32,7 @@\n import org.apache.syncope.client.console.commons.TaskDataProvider;\n import org.apache.syncope.client.console.panels.ModalPanel;\n import org.apache.syncope.client.console.panels.MultilevelPanel;\n+import org.apache.syncope.client.console.rest.TaskRestClient;\n import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.ActionColumn;\n import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.BooleanPropertyColumn;\n import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.DatePropertyColumn;\n@@ -43,7 +45,9 @@\n import org.apache.syncope.common.lib.types.StandardEntitlement;\n import org.apache.syncope.common.lib.types.TaskType;\n import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.to.AnyTO;\n import org.apache.syncope.common.lib.to.SchedTaskTO;\n+import org.apache.syncope.common.lib.to.TemplatableTO;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n@@ -90,8 +94,7 @@ protected SchedTaskDirectoryPanel(\n             LOG.error(\"Falure instantiating task\", e);\n         }\n \n-        this.addNewItemPanelBuilder(\n-                new SchedTaskWizardBuilder<>(schedTaskTO, pageRef).setEventSink(SchedTaskDirectoryPanel.this), true);\n+        this.addNewItemPanelBuilder(new SchedTaskWizardBuilder<>(schedTaskTO, pageRef), true);\n \n         MetaDataRoleAuthorizationStrategy.authorize(addAjaxLink, ENABLE, StandardEntitlement.TASK_CREATE);\n \n@@ -103,7 +106,19 @@ protected SchedTaskDirectoryPanel(\n         startAt = new TaskStartAtTogglePanel(container);\n         addInnerObject(startAt);\n \n-        templates = new TemplatesTogglePanel(this, pageRef);\n+        templates = new TemplatesTogglePanel(getActualId(), this, pageRef) {\n+\n+            private static final long serialVersionUID = -8765794727538618705L;\n+\n+            @Override\n+            protected Serializable onApplyInternal(\n+                    final TemplatableTO targetObject, final String type, final AnyTO anyTO) {\n+                targetObject.getTemplates().put(type, anyTO);\n+                new TaskRestClient().update(SchedTaskTO.class.cast(targetObject));\n+                return targetObject;\n+            }\n+        };\n+\n         addInnerObject(templates);\n     }\n "},{"sha":"b7325254bc0d07ffc35ae77c015cb5a1b7a141a4","filename":"client/console/src/main/java/org/apache/syncope/client/console/tasks/SchedTaskWizardBuilder.java","status":"modified","additions":0,"deletions":7,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskWizardBuilder.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -45,7 +45,6 @@\n import org.apache.syncope.common.lib.types.UnmatchingRule;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.event.IEventSink;\n import org.apache.wicket.extensions.wizard.WizardModel;\n import org.apache.wicket.extensions.wizard.WizardStep;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n@@ -285,11 +284,5 @@ public Schedule(final SchedTaskTO taskTO) {\n             add(new CrontabPanel(\n                     \"schedule\", new PropertyModel<String>(taskTO, \"cronExpression\"), taskTO.getCronExpression()));\n         }\n-\n-    }\n-\n-    public SchedTaskWizardBuilder<T> setEventSink(final IEventSink eventSink) {\n-        this.eventSink = eventSink;\n-        return this;\n     }\n }"},{"sha":"d07d1f2ebf8bda897260b6962dc5d6c6dad995b1","filename":"client/console/src/main/java/org/apache/syncope/client/console/tasks/TemplatesTogglePanel.java","status":"modified","additions":55,"deletions":17,"changes":72,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FTemplatesTogglePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FTemplatesTogglePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FTemplatesTogglePanel.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -34,14 +34,20 @@\n import org.apache.syncope.client.console.wicket.markup.html.form.FieldPanel;\n import org.apache.syncope.client.console.wizards.AjaxWizard;\n import org.apache.syncope.client.console.wizards.any.AnyObjectTemplateWizardBuilder;\n+import org.apache.syncope.client.console.wizards.any.AnyWizardBuilder;\n+import org.apache.syncope.client.console.wizards.any.AnyWrapper;\n import org.apache.syncope.client.console.wizards.any.GroupTemplateWizardBuilder;\n import org.apache.syncope.client.console.wizards.any.TemplateWizardBuilder;\n import org.apache.syncope.client.console.wizards.any.UserTemplateWizardBuilder;\n import org.apache.syncope.common.lib.EntityTOUtils;\n import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.to.AnyObjectTO;\n+import org.apache.syncope.common.lib.to.AnyTO;\n import org.apache.syncope.common.lib.to.AnyTypeTO;\n-import org.apache.syncope.common.lib.to.PullTaskTO;\n+import org.apache.syncope.common.lib.to.GroupTO;\n+import org.apache.syncope.common.lib.to.TemplatableTO;\n import org.apache.syncope.common.lib.to.UserTO;\n+import org.apache.wicket.MarkupContainer;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.form.AjaxSubmitLink;\n@@ -51,11 +57,11 @@\n import org.apache.wicket.model.Model;\n import org.apache.wicket.model.StringResourceModel;\n \n-public class TemplatesTogglePanel extends TogglePanel<Serializable> {\n+public abstract class TemplatesTogglePanel extends TogglePanel<Serializable> {\n \n     private static final long serialVersionUID = -3195479265440591519L;\n \n-    private PullTaskTO task;\n+    private TemplatableTO targetObject;\n \n     protected final Form<?> form;\n \n@@ -73,8 +79,8 @@ protected List<String> load() {\n         }\n     };\n \n-    public TemplatesTogglePanel(final SchedTaskDirectoryPanel<?> container, final PageReference pageRef) {\n-        super(\"schedTaskTemplates\");\n+    public TemplatesTogglePanel(final String targetId, final MarkupContainer container, final PageReference pageRef) {\n+        super(\"toggleTemplates\");\n         this.pageRef = pageRef;\n \n         form = new Form<>(\"templatesForm\");\n@@ -95,11 +101,12 @@ public TemplatesTogglePanel(final SchedTaskDirectoryPanel<?> container, final Pa\n             @Override\n             protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n                 try {\n-                    final AjaxWizard.NewItemActionEvent<UserTO> payload\n-                            = new AjaxWizard.NewItemActionEvent<UserTO>(null, target);\n+                    final AjaxWizard.NewItemActionEvent<AnyTO> payload\n+                            = new AjaxWizard.NewItemActionEvent<AnyTO>(null, target);\n \n                     payload.setResourceModel(new StringResourceModel(\"inner.template.edit\", container,\n-                            Model.of(Pair.of(typeModel.getObject(), task.getName()))).setDefaultValue(\"Edit template\"));\n+                            Model.of(Pair.of(typeModel.getObject(), targetObject))).setDefaultValue(\n+                            \"Edit template\"));\n \n                     final List<String> classes = new AnyTypeRestClient().read(typeModel.getObject()).getClasses();\n \n@@ -108,27 +115,55 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n                     switch (typeModel.getObject()) {\n                         case \"USER\":\n                             builder = new UserTemplateWizardBuilder(\n-                                    task,\n+                                    targetObject,\n                                     classes,\n                                     new UserFormLayoutInfo(),\n-                                    pageRef);\n+                                    pageRef) {\n+\n+                                private static final long serialVersionUID = -7978723352517770634L;\n+\n+                                @Override\n+                                protected Serializable onApplyInternal(final AnyWrapper<UserTO> modelObject) {\n+                                    return TemplatesTogglePanel.this.onApplyInternal(\n+                                            targetObject, typeModel.getObject(), modelObject.getInnerObject());\n+                                }\n+                            };\n                             break;\n                         case \"GROUP\":\n                             builder = new GroupTemplateWizardBuilder(\n-                                    task,\n+                                    targetObject,\n                                     classes,\n                                     new GroupFormLayoutInfo(),\n-                                    pageRef);\n+                                    pageRef) {\n+\n+                                private static final long serialVersionUID = -7978723352517770634L;\n+\n+                                @Override\n+                                protected Serializable onApplyInternal(final AnyWrapper<GroupTO> modelObject) {\n+                                    return TemplatesTogglePanel.this.onApplyInternal(\n+                                            targetObject, typeModel.getObject(), modelObject.getInnerObject());\n+                                }\n+                            };\n                             break;\n                         default:\n                             builder = new AnyObjectTemplateWizardBuilder(\n-                                    task,\n+                                    targetObject,\n                                     typeModel.getObject(),\n                                     classes,\n                                     new AnyObjectFormLayoutInfo(),\n-                                    pageRef);\n+                                    pageRef) {\n+\n+                                private static final long serialVersionUID = -7978723352517770634L;\n+\n+                                @Override\n+                                protected Serializable onApplyInternal(final AnyWrapper<AnyObjectTO> modelObject) {\n+                                    return TemplatesTogglePanel.this.onApplyInternal(\n+                                            targetObject, typeModel.getObject(), modelObject.getInnerObject());\n+                                }\n+                            };\n                     }\n-                    payload.forceModalPanel(builder.setEventSink(container).build(container.getActualId()));\n+                    AnyWizardBuilder.class.cast(builder).setEventSink(container);\n+                    payload.forceModalPanel(builder.build(targetId));\n                     send(container, Broadcast.EXACT, payload);\n                     toggle(target, false);\n                 } catch (SyncopeClientException e) {\n@@ -145,7 +180,10 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n         });\n     }\n \n-    public void setTask(final PullTaskTO task) {\n-        this.task = task;\n+    protected abstract Serializable onApplyInternal(\n+            final TemplatableTO targetObject, final String type, final AnyTO anyTO);\n+\n+    public void setTargetObject(final TemplatableTO targetObject) {\n+        this.targetObject = targetObject;\n     }\n }"},{"sha":"f16bd12d4045f4efc4e497427c77781e356707e8","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/AbstractModalPanelBuilder.java","status":"modified","additions":14,"deletions":0,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FAbstractModalPanelBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FAbstractModalPanelBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FAbstractModalPanelBuilder.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -21,6 +21,7 @@\n import java.io.Serializable;\n import org.apache.commons.lang3.SerializationUtils;\n import org.apache.wicket.PageReference;\n+import org.apache.wicket.event.IEventSink;\n \n public abstract class AbstractModalPanelBuilder<T extends Serializable> implements ModalPanelBuilder<T> {\n \n@@ -32,6 +33,8 @@\n \n     private T item;\n \n+    protected IEventSink eventSink = null;\n+\n     /**\n      * Construct.\n      *\n@@ -80,4 +83,15 @@ public AbstractModalPanelBuilder<T> setItem(final T item) {\n     public PageReference getPageReference() {\n         return pageRef;\n     }\n+\n+    @Override\n+    public ModalPanelBuilder<T> setEventSink(final IEventSink eventSink) {\n+        this.eventSink = eventSink;\n+        return this;\n+    }\n+\n+    @Override\n+    public IEventSink getEventSink() {\n+        return eventSink;\n+    }\n }"},{"sha":"de4a4e143b0719c6f4f01af04616f1f7a9addd30","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/AjaxWizardBuilder.java","status":"modified","additions":0,"deletions":3,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FAjaxWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FAjaxWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FAjaxWizardBuilder.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -26,7 +26,6 @@\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.event.Broadcast;\n-import org.apache.wicket.event.IEventSink;\n import org.apache.wicket.extensions.wizard.WizardModel;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n@@ -39,8 +38,6 @@\n \n     protected AjaxWizard.Mode mode = AjaxWizard.Mode.CREATE;\n \n-    protected IEventSink eventSink = null;\n-\n     private final List<Component> outerObjects = new ArrayList<>();\n \n     /**"},{"sha":"ba3475aab5a716385717b9b9cd9049a6e4244a1f","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/ModalPanelBuilder.java","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FModalPanelBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FModalPanelBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FModalPanelBuilder.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -21,6 +21,7 @@\n import java.io.Serializable;\n import org.apache.wicket.PageReference;\n import org.apache.syncope.client.console.panels.WizardModalPanel;\n+import org.apache.wicket.event.IEventSink;\n \n public interface ModalPanelBuilder<T extends Serializable> extends Serializable {\n \n@@ -46,4 +47,7 @@\n      */\n     ModalPanelBuilder<T> setItem(T item);\n \n+    ModalPanelBuilder<T> setEventSink(IEventSink eventSink);\n+\n+    IEventSink getEventSink();\n }"},{"sha":"115ce2a958b486d43d6dd881e87f22ac8cc31b24","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/TypeExtensionWizardBuilder.java","status":"modified","additions":0,"deletions":5,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FTypeExtensionWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FTypeExtensionWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FTypeExtensionWizardBuilder.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -32,7 +32,6 @@\n import org.apache.syncope.common.lib.to.TypeExtensionTO;\n import org.apache.syncope.common.lib.types.AnyTypeKind;\n import org.apache.wicket.PageReference;\n-import org.apache.wicket.event.IEventSink;\n import org.apache.wicket.extensions.wizard.WizardModel;\n import org.apache.wicket.extensions.wizard.WizardStep;\n import org.apache.wicket.markup.html.basic.Label;\n@@ -63,10 +62,6 @@ public TypeExtensionWizardBuilder(\n         this.auxClassesLabel = auxClassesLabel;\n     }\n \n-    public void setEventSink(final IEventSink eventSink) {\n-        this.eventSink = eventSink;\n-    }\n-\n     @Override\n     protected WizardModel buildModelSteps(final TypeExtensionTO modelObject, final WizardModel wizardModel) {\n         wizardModel.add(new Details(modelObject.getAnyType()));"},{"sha":"76a7a164196479c3155e78c016081b14edba6718","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/WizardMgtPanel.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FWizardMgtPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FWizardMgtPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FWizardMgtPanel.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -315,6 +315,7 @@ protected <B extends ModalPanelBuilder<T>> WizardMgtPanel<T> addNewItemPanelBuil\n         if (this.newItemPanelBuilder != null) {\n             addAjaxLink.setEnabled(newItemDefaultButtonEnabled);\n             addAjaxLink.setVisible(newItemDefaultButtonEnabled);\n+            this.newItemPanelBuilder.setEventSink(WizardMgtPanel.this);\n         }\n \n         return this;"},{"sha":"6f60db342d6defadf0ea9560397c4c16cefdb20f","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/AnyObjectTemplateWizardBuilder.java","status":"modified","additions":5,"deletions":27,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAnyObjectTemplateWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAnyObjectTemplateWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAnyObjectTemplateWizardBuilder.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -18,40 +18,31 @@\n  */\n package org.apache.syncope.client.console.wizards.any;\n \n-import java.io.Serializable;\n import java.util.List;\n import org.apache.syncope.client.console.layout.AnyObjectFormLayoutInfo;\n-import org.apache.syncope.client.console.rest.TaskRestClient;\n import org.apache.syncope.client.console.wizards.AjaxWizard;\n import org.apache.syncope.common.lib.to.AnyObjectTO;\n-import org.apache.syncope.common.lib.to.PullTaskTO;\n+import org.apache.syncope.common.lib.to.TemplatableTO;\n import org.apache.wicket.PageReference;\n-import org.apache.wicket.event.IEventSink;\n \n public class AnyObjectTemplateWizardBuilder extends AnyObjectWizardBuilder\n         implements TemplateWizardBuilder<AnyObjectTO> {\n \n     private static final long serialVersionUID = 6716803168859873877L;\n \n-    private final PullTaskTO task;\n-\n-    private final String anyType;\n-\n     public AnyObjectTemplateWizardBuilder(\n-            final PullTaskTO task,\n+            final TemplatableTO templatable,\n             final String anyType,\n             final List<String> anyTypeClasses,\n             final AnyObjectFormLayoutInfo formLayoutInfo,\n             final PageReference pageRef) {\n         super(null, anyTypeClasses, formLayoutInfo, pageRef);\n-        this.task = task;\n-        this.anyType = anyType;\n \n-        if (task.getTemplates().containsKey(this.anyType)) {\n-            setItem(new AnyWrapper<>(AnyObjectTO.class.cast(task.getTemplates().get(this.anyType))));\n+        if (templatable.getTemplates().containsKey(anyType)) {\n+            setItem(new AnyWrapper<>(AnyObjectTO.class.cast(templatable.getTemplates().get(anyType))));\n         } else {\n             AnyObjectTO anyObjectTO = new AnyObjectTO();\n-            anyObjectTO.setType(this.anyType);\n+            anyObjectTO.setType(anyType);\n             setItem(new AnyWrapper<>(new AnyObjectTO()));\n         }\n     }\n@@ -60,17 +51,4 @@ public AnyObjectTemplateWizardBuilder(\n     public AjaxWizard<AnyWrapper<AnyObjectTO>> build(final String id) {\n         return super.build(id, AjaxWizard.Mode.TEMPLATE);\n     }\n-\n-    @Override\n-    protected Serializable onApplyInternal(final AnyWrapper<AnyObjectTO> modelObject) {\n-        task.getTemplates().put(anyType, modelObject.getInnerObject());\n-        new TaskRestClient().update(task);\n-        return task;\n-    }\n-\n-    @Override\n-    public TemplateWizardBuilder<AnyObjectTO> setEventSink(final IEventSink eventSink) {\n-        this.eventSink = eventSink;\n-        return this;\n-    }\n }"},{"sha":"3f07a38524b08e5641098bc4f90e916f9a826f9d","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/GroupTemplateWizardBuilder.java","status":"modified","additions":4,"deletions":26,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FGroupTemplateWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FGroupTemplateWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FGroupTemplateWizardBuilder.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -18,36 +18,27 @@\n  */\n package org.apache.syncope.client.console.wizards.any;\n \n-import java.io.Serializable;\n import java.util.List;\n import org.apache.syncope.client.console.layout.GroupFormLayoutInfo;\n-import org.apache.syncope.client.console.rest.TaskRestClient;\n import org.apache.syncope.client.console.wizards.AjaxWizard;\n import org.apache.syncope.common.lib.to.GroupTO;\n-import org.apache.syncope.common.lib.to.PullTaskTO;\n+import org.apache.syncope.common.lib.to.TemplatableTO;\n import org.apache.syncope.common.lib.types.AnyTypeKind;\n import org.apache.wicket.PageReference;\n-import org.apache.wicket.event.IEventSink;\n \n public class GroupTemplateWizardBuilder extends GroupWizardBuilder implements TemplateWizardBuilder<GroupTO> {\n \n     private static final long serialVersionUID = 6716803168859873877L;\n \n-    private final PullTaskTO task;\n-\n-    private final String anyType;\n-\n     public GroupTemplateWizardBuilder(\n-            final PullTaskTO task,\n+            final TemplatableTO templatable,\n             final List<String> anyTypeClasses,\n             final GroupFormLayoutInfo formLayoutInfo,\n             final PageReference pageRef) {\n         super(null, anyTypeClasses, formLayoutInfo, pageRef);\n-        this.task = task;\n-        this.anyType = AnyTypeKind.GROUP.name();\n \n-        if (task.getTemplates().containsKey(this.anyType)) {\n-            setItem(new GroupWrapper(GroupTO.class.cast(task.getTemplates().get(this.anyType))));\n+        if (templatable.getTemplates().containsKey(AnyTypeKind.GROUP.name())) {\n+            setItem(new GroupWrapper(GroupTO.class.cast(templatable.getTemplates().get(AnyTypeKind.GROUP.name()))));\n         } else {\n             setItem(new GroupWrapper(new GroupTO()));\n         }\n@@ -57,17 +48,4 @@ public GroupTemplateWizardBuilder(\n     public AjaxWizard<AnyWrapper<GroupTO>> build(final String id) {\n         return super.build(id, AjaxWizard.Mode.TEMPLATE);\n     }\n-\n-    @Override\n-    protected Serializable onApplyInternal(final AnyWrapper<GroupTO> modelObject) {\n-        task.getTemplates().put(anyType, modelObject.getInnerObject());\n-        new TaskRestClient().update(task);\n-        return task;\n-    }\n-\n-    @Override\n-    public TemplateWizardBuilder<GroupTO> setEventSink(final IEventSink eventSink) {\n-        this.eventSink = eventSink;\n-        return this;\n-    }\n }"},{"sha":"4e994c18561c7122afaff7e2daca510bc37c2a0a","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/TemplateWizardBuilder.java","status":"modified","additions":0,"deletions":3,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FTemplateWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FTemplateWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FTemplateWizardBuilder.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -20,11 +20,8 @@\n \n import org.apache.syncope.client.console.wizards.AjaxWizard;\n import org.apache.syncope.common.lib.to.AnyTO;\n-import org.apache.wicket.event.IEventSink;\n \n public interface TemplateWizardBuilder<T extends AnyTO> {\n \n     AjaxWizard<AnyWrapper<T>> build(String id);\n-\n-    TemplateWizardBuilder<T> setEventSink(IEventSink eventSink);\n }"},{"sha":"4e99a5e4517350957ededfd9368416b81354b6f7","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/UserTemplateWizardBuilder.java","status":"modified","additions":4,"deletions":26,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FUserTemplateWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FUserTemplateWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FUserTemplateWizardBuilder.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -18,36 +18,27 @@\n  */\n package org.apache.syncope.client.console.wizards.any;\n \n-import java.io.Serializable;\n import java.util.List;\n import org.apache.syncope.client.console.layout.UserFormLayoutInfo;\n-import org.apache.syncope.client.console.rest.TaskRestClient;\n import org.apache.syncope.client.console.wizards.AjaxWizard;\n-import org.apache.syncope.common.lib.to.PullTaskTO;\n+import org.apache.syncope.common.lib.to.TemplatableTO;\n import org.apache.syncope.common.lib.to.UserTO;\n import org.apache.syncope.common.lib.types.AnyTypeKind;\n import org.apache.wicket.PageReference;\n-import org.apache.wicket.event.IEventSink;\n \n public class UserTemplateWizardBuilder extends UserWizardBuilder implements TemplateWizardBuilder<UserTO> {\n \n     private static final long serialVersionUID = 6716803168859873877L;\n \n-    private final PullTaskTO task;\n-\n-    private final String anyType;\n-\n     public UserTemplateWizardBuilder(\n-            final PullTaskTO task,\n+            final TemplatableTO templatable,\n             final List<String> anyTypeClasses,\n             final UserFormLayoutInfo formLayoutInfo,\n             final PageReference pageRef) {\n         super(null, anyTypeClasses, formLayoutInfo, pageRef);\n-        this.task = task;\n-        this.anyType = AnyTypeKind.USER.name();\n \n-        if (task.getTemplates().containsKey(this.anyType)) {\n-            setItem(new UserWrapper(UserTO.class.cast(task.getTemplates().get(this.anyType))));\n+        if (templatable.getTemplates().containsKey(AnyTypeKind.USER.name())) {\n+            setItem(new UserWrapper(UserTO.class.cast(templatable.getTemplates().get(AnyTypeKind.USER.name()))));\n         } else {\n             setItem(new UserWrapper(new UserTO()));\n         }\n@@ -57,17 +48,4 @@ public UserTemplateWizardBuilder(\n     public AjaxWizard<AnyWrapper<UserTO>> build(final String id) {\n         return super.build(id, AjaxWizard.Mode.TEMPLATE);\n     }\n-\n-    @Override\n-    protected Serializable onApplyInternal(final AnyWrapper<UserTO> modelObject) {\n-        task.getTemplates().put(anyType, modelObject.getInnerObject());\n-        new TaskRestClient().update(task);\n-        return task;\n-    }\n-\n-    @Override\n-    public TemplateWizardBuilder<UserTO> setEventSink(final IEventSink eventSink) {\n-        this.eventSink = eventSink;\n-        return this;\n-    }\n }"},{"sha":"6f5badb37b5d80830e5901cc3fedcd1fbb709447","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/resources/ProvisionWizardBuilder.java","status":"modified","additions":0,"deletions":5,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FProvisionWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FProvisionWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FProvisionWizardBuilder.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -42,7 +42,6 @@\n import org.apache.syncope.common.lib.types.AnyTypeKind;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.event.IEventSink;\n import org.apache.wicket.extensions.wizard.WizardModel;\n import org.apache.wicket.extensions.wizard.WizardStep;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n@@ -235,10 +234,6 @@ public ProvisionWizardBuilder(final ResourceTO resurceTO, final PageReference pa\n         this.resourceTO = resurceTO;\n     }\n \n-    public void setEventSink(final IEventSink eventSink) {\n-        this.eventSink = eventSink;\n-    }\n-\n     @Override\n     protected WizardModel buildModelSteps(final ProvisionTO modelObject, final WizardModel wizardModel) {\n         wizardModel.add(new ObjectType(modelObject));"},{"sha":"a4922693b05d846b02169adeecb0fe9ba7ae9d66","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/resources/ResourceProvisionPanel.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceProvisionPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceProvisionPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FResourceProvisionPanel.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -145,8 +145,6 @@ public void onClick(final AjaxRequestTarget target, final ProvisionTO provisionT\n         builder.addNewItemPanelBuilder(wizard);\n \n         final WizardMgtPanel<ProvisionTO> list = builder.build(\"provision\");\n-        wizard.setEventSink(list);\n-\n         add(list);\n     }\n "},{"sha":"718fe3daf0096e4c2dc40c32be2d393447d8fc04","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/Realms.html","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms.html?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -34,6 +34,8 @@ <h1>&nbsp;</h1>\n         </div>\n       </div>\n       <div wicket:id=\"modal\"/>\n+      <div wicket:id=\"templateModal\"/>\n+      <span wicket:id=\"toggleTemplates\"/>\n     </section>\n   </wicket:extend>\n </html>\n\\ No newline at end of file"},{"sha":"3f7890a172a46cde9af05586d125e8428f1a2f2f","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/Realms.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms.properties?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -16,3 +16,4 @@\n # under the License.\n newRealm=New Realm\n editRealm=Edit Realm ${fullPath}\n+inner.template.edit=Edit ${left} template for '${right.fullPath}' "},{"sha":"d3d65f1419e90432161595431d2326cb6b922a4b","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/Realms_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms_it.properties?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -16,3 +16,4 @@\n # under the License.\n newRealm=New Realm\n editRealm=Edit Realm ${key}\n+inner.template.edit=Modifica ${left} template per '${right.fullPath}' "},{"sha":"d8eaba6f2d38a91fbcbd551d30481c26580a4cff","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/Realms_pt_BR.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms_pt_BR.properties?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -16,3 +16,4 @@\n # under the License.\n newRealm=New Realm\n editRealm=Edit Realm ${key}\n+inner.template.edit=Edit ${left} template for '${right.fullPath}' "},{"sha":"209f852d47dd94c4588fcc41e0ae07a2591519c3","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/Realms_ru.properties","status":"modified","additions":3,"deletions":2,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms_ru.properties?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -15,7 +15,8 @@\n # specific language governing permissions and limitations\n # under the License.\n #\n-# newRealm= \n+# newRealm=\\u00d0\\u00a1\\u00d0\\u00be\\u00d0\\u00b7\\u00d0\\u00b4\\u00d0\\u00b0\\u00d1\\u0082\\u00d1\\u008c \\u00d0\\u00be\\u00d0\\u00b1\\u00d0\\u00bb\\u00d0\\u00b0\\u00d1\\u0081\\u00d1\\u0082\\u00d1\\u008c\n newRealm=\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c \\u043e\\u0431\\u043b\\u0430\\u0441\\u0442\\u044c\n-# editRealm=  ${fullPath}\n+# editRealm=\\u00d0\\u0098\\u00d0\\u00b7\\u00d0\\u00bc\\u00d0\\u00b5\\u00d0\\u00bd\\u00d0\\u00b8\\u00d1\\u0082\\u00d1\\u008c \\u00d0\\u00be\\u00d0\\u00b1\\u00d0\\u00bb\\u00d0\\u00b0\\u00d1\\u0081\\u00d1\\u0082\\u00d1\\u008c ${fullPath}\n editRealm=\\u0418\\u0437\\u043c\\u0435\\u043d\\u0438\\u0442\\u044c \\u043e\\u0431\\u043b\\u0430\\u0441\\u0442\\u044c ${fullPath}\n+inner.template.edit=Edit ${left} template for '${right.fullPath}' "},{"sha":"93e3979ed4f6608c03676151c5c80758d201e287","filename":"client/console/src/main/resources/org/apache/syncope/client/console/tasks/SchedTaskDirectoryPanel.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskDirectoryPanel.html?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -19,6 +19,6 @@\n <html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n   <wicket:extend>\n     <span wicket:id=\"startAt\"/>\n-    <span wicket:id=\"schedTaskTemplates\"/>\n+    <span wicket:id=\"toggleTemplates\"/>\n   </wicket:extend>\n </html>"},{"sha":"2c61d96f8f0c7af4036e12e4b2f2780efb8e9e68","filename":"client/console/src/main/resources/org/apache/syncope/client/console/tasks/TaskDirectoryPanel.properties","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FTaskDirectoryPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FTaskDirectoryPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FTaskDirectoryPanel.properties?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -22,7 +22,7 @@ end=End date\n latestExecStatus=Last execution status\n \n task.view=Executions of task '${right.name}'\n-inner.template.edit=Edit ${left} template for task '${right}'\n+inner.template.edit=Edit ${left} template for task '${right.name}'\n inner.task.edit=Edit task '${right.name}'\n inner.task.new=New task\n inner.task.clone=Clone task '${right.name}'"},{"sha":"674d3fd6573ac1439302cca385d6e5543314c12f","filename":"client/console/src/main/resources/org/apache/syncope/client/console/tasks/TaskDirectoryPanel_it.properties","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FTaskDirectoryPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FTaskDirectoryPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FTaskDirectoryPanel_it.properties?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -22,7 +22,7 @@ end=Data di conclusione\n latestExecStatus=Stato ultima esecuzione\n \n task.view=Esecuzioni del task '${right.name}'\n-inner.template.edit=Modifica ${left} template per il task '${right}'\n+inner.template.edit=Modifica ${left} template per il task '${right.name}'\n inner.task.edit=Modifica task '${right.name}'\n inner.task.new=Nuovo task\n inner.task.clone=Clona task '${right.name}'"},{"sha":"af97f62d93a95b0b7292345a80c37b3b54b1945f","filename":"client/console/src/main/resources/org/apache/syncope/client/console/tasks/TaskDirectoryPanel_pt_BR.properties","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FTaskDirectoryPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FTaskDirectoryPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FTaskDirectoryPanel_pt_BR.properties?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -22,7 +22,7 @@ end=Data Final\n latestExecStatus=Stato ultima esecuzione\n \n task.view=Executions of task '${right.name}'\n-inner.template.edit=Edit ${left} template for task '${right}'\n+inner.template.edit=Edit ${left} template for task '${right.name}'\n inner.task.edit=Edit task '${right.name}'\n inner.task.new=New task\n inner.task.clone=Clone task '${right.name}'"},{"sha":"cb222fbc1800a3774d595dba692737dc2c7c6d96","filename":"client/console/src/main/resources/org/apache/syncope/client/console/tasks/TaskDirectoryPanel_ru.properties","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FTaskDirectoryPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FTaskDirectoryPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FTaskDirectoryPanel_ru.properties?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -30,7 +30,7 @@ latestExecStatus=\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \\u043f\\u0440\\u0435\\u0434\\u\n \n # task.view=\\u00d0\\u0097\\u00d0\\u00b0\\u00d0\\u00bf\\u00d1\\u0083\\u00d1\\u0081\\u00d0\\u00ba\\u00d0\\u00b8 \\u00d0\\u00b7\\u00d0\\u00b0\\u00d0\\u00b4\\u00d0\\u00b0\\u00d1\\u0087\\u00d0\\u00b8\n task.view=\\u0417\\u0430\\u043f\\u0443\\u0441\\u043a\\u0438 \\u0437\\u0430\\u0434\\u0430\\u0447\\u0438 '${right.name}'\n-inner.template.edit=Edit ${left} template for task '${right}'\n+inner.template.edit=Edit ${left} template for task '${right.name}'\n inner.task.edit=Edit task '${right.name}'\n inner.task.new=New task\n inner.task.clone=Clone task '${right.name}'"},{"sha":"bb9176ad382853c30af59ca78d8fb0e26e7527f4","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionLinksPanel.html","status":"modified","additions":5,"deletions":5,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.html?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -42,8 +42,8 @@\n     <span wicket:id=\"panelClone\">[plus]</span>\n     <span wicket:id=\"panelCreate\">[plus]</span>\n     <span wicket:id=\"panelReset\">[plus]</span>\n-    <span wicket:id=\"panelTemplate\">[plus]</span>\n     <span wicket:id=\"panelEdit\">[plus]</span>\n+    <span wicket:id=\"panelTemplate\">[plus]</span>\n     <span wicket:id=\"panelTypeExtensions\">[plus]</span>\n     <span wicket:id=\"panelFoEdit\">[plus]</span>\n     <span wicket:id=\"panelHtmlEdit\">[plus]</span>\n@@ -126,14 +126,14 @@\n       <a href=\"#\" wicket:id=\"enableLink\" class=\"btn\"><i id=\"actionLink\" class=\"fa fa-toggle-on\" alt=\"enable icon\" title=\"Enable / Disable\"></i></a>\n     </wicket:fragment>\n \n-    <wicket:fragment wicket:id=\"fragmentTemplate\">\n-      <a href=\"#\" wicket:id=\"templateLink\" class=\"btn\"><i id=\"actionLink\" class=\"fa fa-list-alt\" alt=\"template icon\" title=\"Template\"></i></a>\n-    </wicket:fragment>\n-\n     <wicket:fragment wicket:id=\"fragmentEdit\">\n       <a href=\"#\" wicket:id=\"editLink\" class=\"btn\"><i id=\"actionLink\" class=\"glyphicon glyphicon-pencil\" alt=\"edit icon\" title=\"Edit\"></i></a>\n     </wicket:fragment>\n \n+    <wicket:fragment wicket:id=\"fragmentTemplate\">\n+      <a href=\"#\" wicket:id=\"templateLink\" class=\"btn\"><i id=\"actionLink\" class=\"fa fa-list-alt\" alt=\"template icon\" title=\"Template\"></i></a>\n+    </wicket:fragment>\n+\n     <wicket:fragment wicket:id=\"fragmentTypeExtensions\">\n       <a href=\"#\" wicket:id=\"typeExtensionsLink\" class=\"btn\"><i id=\"actionLink\" class=\"fa fa-expand\" alt=\"typeExtensions icon\" title=\"Type extensions\"></i></a>\n     </wicket:fragment>"},{"sha":"8f6de9f2315764aecd50fe6555d64fa5c2b8c036","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/report/UserReportletConf.java","status":"modified","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FUserReportletConf.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FUserReportletConf.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FUserReportletConf.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -51,7 +51,10 @@ public enum Feature {\n         username,\n         workflowId,\n         status,\n+        creator,\n         creationDate,\n+        lastModifier,\n+        lastChangeDate,\n         lastLoginDate,\n         changePwdDate,\n         passwordHistorySize,"},{"sha":"9aaccf2c0528fa215a0515b5624cb68a720834f4","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/to/PullTaskTO.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FPullTaskTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FPullTaskTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FPullTaskTO.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -33,7 +33,7 @@\n @XmlRootElement(name = \"pullTask\")\n @XmlType\n @XmlAccessorType(XmlAccessType.FIELD)\n-public class PullTaskTO extends AbstractProvisioningTaskTO {\n+public class PullTaskTO extends AbstractProvisioningTaskTO implements TemplatableTO {\n \n     private static final long serialVersionUID = -2143537546915809017L;\n \n@@ -72,6 +72,7 @@ public void setDestinationRealm(final String destinationRealm) {\n     }\n \n     @JsonProperty\n+    @Override\n     public Map<String, AnyTO> getTemplates() {\n         return templates;\n     }"},{"sha":"d7dfd9ff75e8c542c6e160546977c6396eab3272","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/to/RealmTO.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FRealmTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FRealmTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FRealmTO.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -35,7 +35,7 @@\n \n @XmlRootElement(name = \"realm\")\n @XmlType\n-public class RealmTO extends AbstractBaseBean implements EntityTO {\n+public class RealmTO extends AbstractBaseBean implements EntityTO, TemplatableTO {\n \n     private static final long serialVersionUID = 516330662956254391L;\n \n@@ -116,6 +116,7 @@ public Set<String> getActionsClassNames() {\n     }\n \n     @JsonProperty\n+    @Override\n     public Map<String, AnyTO> getTemplates() {\n         return templates;\n     }"},{"sha":"d802de64a0bf68cccf471de24896f6963be62e98","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/to/TemplatableTO.java","status":"added","additions":27,"deletions":0,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FTemplatableTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FTemplatableTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FTemplatableTO.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -0,0 +1,27 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.common.lib.to;\n+\n+import java.io.Serializable;\n+import java.util.Map;\n+\n+public interface TemplatableTO extends Serializable {\n+\n+    Map<String, AnyTO> getTemplates();\n+}"},{"sha":"3ab369f18f1484a9b589c36e356af7f2e6b9b8a5","filename":"core/persistence-jpa/src/test/resources/domains/MasterContent.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -1176,7 +1176,7 @@ $$ }&#10;\n because one of the following events occurred:\n &lt;ul&gt;&#10;\n $$ for (event: events) {&#10;\n-  &lt;li&gt;${event}&lt;/i&gt;&#10;\n+  &lt;li&gt;${event}&lt;/li&gt;&#10;\n $$ }&#10;\n &lt;/ul&gt;&#10;\n &lt;/p&gt;"},{"sha":"69ab0d47c21b68d08905b2e52c552e46654ef30b","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/console/RealmsITCase.java","status":"modified","additions":52,"deletions":0,"changes":52,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FRealmsITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FRealmsITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FRealmsITCase.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -20,6 +20,7 @@\n \n import de.agilecoders.wicket.core.markup.html.bootstrap.dialog.Modal;\n import org.apache.syncope.client.console.pages.Realms;\n+import org.apache.syncope.client.console.panels.TogglePanel;\n import org.apache.wicket.util.tester.FormTester;\n import org.junit.Before;\n import org.junit.FixMethodOrder;\n@@ -56,4 +57,55 @@ public void create() {\n         wicketTester.cleanupFeedbackMessages();\n     }\n \n+    @Test\n+    public void update() {\n+        wicketTester.clickLink(\"body:content:body:tabbedPanel:panel:actions:actions:panelEdit:editLink\");\n+        wicketTester.assertComponent(\"body:content:modal\", Modal.class);\n+\n+        FormTester formTester = wicketTester.newFormTester(\"body:content:modal:form\");\n+        wicketTester.clickLink(\"body:content:modal:dialog:footer:inputs:0:submit\");\n+\n+        wicketTester.assertInfoMessages(\"Operation executed successfully\");\n+        wicketTester.cleanupFeedbackMessages();\n+    }\n+\n+    @Test\n+    public void addUserTemplate() {\n+        wicketTester.clickLink(\"body:content:body:tabbedPanel:panel:actions:actions:panelTemplate:templateLink\");\n+        wicketTester.assertComponent(\"body:content:toggleTemplates\", TogglePanel.class);\n+\n+        FormTester formTester = wicketTester.newFormTester(\n+                \"body:content:toggleTemplates:container:content:togglePanelContainer:templatesForm\");\n+        formTester.setValue(\"type:dropDownChoiceField\", \"0\");\n+        formTester.submit(\"changeit\");\n+\n+        wicketTester.assertComponent(\"body:content:templateModal\", Modal.class);\n+\n+        formTester = wicketTester.newFormTester(\"body:content:templateModal:form:content:form\");\n+        formTester.setValue(\"view:username:textField\", \"'k' + firstname\");\n+        formTester.submit(\"buttons:finish\");\n+\n+        wicketTester.assertInfoMessages(\"Operation executed successfully\");\n+        wicketTester.cleanupFeedbackMessages();\n+\n+        wicketTester.clickLink(\"body:content:body:tabbedPanel:panel:actions:actions:panelTemplate:templateLink\");\n+        wicketTester.assertComponent(\"body:content:toggleTemplates\", TogglePanel.class);\n+\n+        formTester = wicketTester.newFormTester(\n+                \"body:content:toggleTemplates:container:content:togglePanelContainer:templatesForm\");\n+        formTester.setValue(\"type:dropDownChoiceField\", \"0\");\n+        formTester.submit(\"changeit\");\n+\n+        wicketTester.assertComponent(\"body:content:templateModal\", Modal.class);\n+\n+        wicketTester.assertModelValue(\"body:content:templateModal:form:content:form:view:username:textField\",\n+                \"'k' + firstname\");\n+\n+        formTester = wicketTester.newFormTester(\"body:content:templateModal:form:content:form\");\n+        formTester.setValue(\"view:username:textField\", \"\");\n+        formTester.submit(\"buttons:finish\");\n+\n+        wicketTester.assertInfoMessages(\"Operation executed successfully\");\n+        wicketTester.cleanupFeedbackMessages();\n+    }\n }"},{"sha":"c5b5c09961bf52ea82784a5000fc560e8c8b0931","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/console/TopologyITCase.java","status":"modified","additions":67,"deletions":0,"changes":67,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fa7def88fee749962e7cf060c6e37e251a90b6dd/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FTopologyITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fa7def88fee749962e7cf060c6e37e251a90b6dd/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FTopologyITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FTopologyITCase.java?ref=fa7def88fee749962e7cf060c6e37e251a90b6dd","patch":"@@ -21,9 +21,11 @@\n import static org.junit.Assert.assertNotNull;\n import static org.junit.Assert.assertNull;\n \n+import de.agilecoders.wicket.core.markup.html.bootstrap.dialog.Modal;\n import org.apache.wicket.ajax.markup.html.form.AjaxSubmitLink;\n import java.util.UUID;\n import org.apache.syncope.client.console.commons.Constants;\n+import org.apache.syncope.client.console.panels.TogglePanel;\n import org.apache.syncope.client.console.wicket.markup.html.form.NonI18nPalette;\n import org.apache.wicket.Component;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n@@ -301,4 +303,69 @@ public void createSchedTask() {\n         formTester.submit(\"buttons:finish\");\n         wicketTester.cleanupFeedbackMessages();\n     }\n+\n+    @Test\n+    public void addGroupTemplate() {\n+        wicketTester.clickLink(\"body:topologyLI:topology\");\n+\n+        Component component = findComponentByProp(\"key\", \"body:resources\", \"resource-testdb\");\n+        assertNotNull(component);\n+        wicketTester.executeAjaxEvent(component.getPageRelativePath() + \":res\", Constants.ON_CLICK);\n+        wicketTester.clickLink(\"body:toggle:container:content:togglePanelContainer:container:actions:pull\");\n+\n+        wicketTester.clickLink(\"body:toggle:outerObjectsRepeater:2:outer:form:content:tasks:firstLevelContainer:\"\n+                + \"first:container:content:searchContainer:resultTable:tablePanel:groupForm:checkgroup:dataTable:\"\n+                + \"body:rows:1:cells:10:cell:panelTemplate:templateLink\");\n+\n+        wicketTester.assertComponent(\"body:toggle:outerObjectsRepeater:2:outer:form:content:tasks:firstLevelContainer:\"\n+                + \"first:container:content:toggleTemplates\", TogglePanel.class);\n+\n+        FormTester formTester = wicketTester.newFormTester(\n+                \"body:toggle:outerObjectsRepeater:2:outer:form:content:tasks:firstLevelContainer:first:container:\"\n+                + \"content:toggleTemplates:container:content:togglePanelContainer:templatesForm\");\n+\n+        formTester.setValue(\"type:dropDownChoiceField\", \"1\");\n+        formTester.submit(\"changeit\");\n+\n+        wicketTester.assertComponent(\"body:toggle:outerObjectsRepeater:2:outer\", Modal.class);\n+\n+        formTester = wicketTester.newFormTester(\"body:toggle:outerObjectsRepeater:2:outer:form:content:tasks:\"\n+                + \"firstLevelContainer:first:container:content:wizard:form\");\n+        formTester.setValue(\"view:name:textField\", \"'k' + name\");\n+        formTester.submit(\"buttons:finish\");\n+\n+        wicketTester.assertInfoMessages(\"Operation executed successfully\");\n+        wicketTester.cleanupFeedbackMessages();\n+\n+        wicketTester.clickLink(\"body:toggle:outerObjectsRepeater:2:outer:form:content:tasks:firstLevelContainer:\"\n+                + \"first:container:content:searchContainer:resultTable:tablePanel:groupForm:checkgroup:dataTable:\"\n+                + \"body:rows:1:cells:10:cell:panelTemplate:templateLink\");\n+\n+        wicketTester.assertComponent(\"body:toggle:outerObjectsRepeater:2:outer:form:content:tasks:firstLevelContainer:\"\n+                + \"first:container:content:toggleTemplates\", TogglePanel.class);\n+\n+        wicketTester.assertComponent(\"body:toggle:outerObjectsRepeater:2:outer:form:content:tasks:firstLevelContainer:\"\n+                + \"first:container:content:toggleTemplates\", TogglePanel.class);\n+\n+        formTester = wicketTester.newFormTester(\n+                \"body:toggle:outerObjectsRepeater:2:outer:form:content:tasks:firstLevelContainer:first:container:\"\n+                + \"content:toggleTemplates:container:content:togglePanelContainer:templatesForm\");\n+\n+        formTester.setValue(\"type:dropDownChoiceField\", \"1\");\n+        formTester.submit(\"changeit\");\n+\n+        wicketTester.assertComponent(\"body:toggle:outerObjectsRepeater:2:outer\", Modal.class);\n+\n+        wicketTester.assertModelValue(\"body:toggle:outerObjectsRepeater:2:outer:form:content:tasks:\"\n+                + \"firstLevelContainer:first:container:content:wizard:form:view:name:textField\",\n+                \"'k' + name\");\n+        \n+        formTester = wicketTester.newFormTester(\"body:toggle:outerObjectsRepeater:2:outer:form:content:tasks:\"\n+                + \"firstLevelContainer:first:container:content:wizard:form\");\n+        formTester.setValue(\"view:name:textField\", \"\");\n+        formTester.submit(\"buttons:finish\");\n+\n+        wicketTester.assertInfoMessages(\"Operation executed successfully\");\n+        wicketTester.cleanupFeedbackMessages();\n+    }\n }"}]}
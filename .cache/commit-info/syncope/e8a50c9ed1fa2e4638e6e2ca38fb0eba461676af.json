{"sha":"e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmU4YTUwYzllZDFmYTJlNDYzOGU2ZTJjYTM4ZmIwZWJhNDYxNjc2YWY=","commit":{"author":{"name":"Fabio Martelli","email":"fmartelli@apache.org","date":"2013-03-19T14:30:32Z"},"committer":{"name":"Fabio Martelli","email":"fmartelli@apache.org","date":"2013-03-19T14:30:32Z"},"message":"SYNCOPE-336 fixed\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1458310 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"d4586fdb54745135c9376ba7f93966ffabd82ae3","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/d4586fdb54745135c9376ba7f93966ffabd82ae3"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af/comments","author":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"committer":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"15dd07372c0da6075d3607e68f316924d2d42c88","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/15dd07372c0da6075d3607e68f316924d2d42c88","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/15dd07372c0da6075d3607e68f316924d2d42c88"}],"stats":{"total":35,"additions":18,"deletions":17},"files":[{"sha":"be25c7c7b321ab390d003401dad4ac2dd35af73d","filename":"common/src/main/java/org/apache/syncope/common/types/MappingPurpose.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Ftypes%2FMappingPurpose.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Ftypes%2FMappingPurpose.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Ftypes%2FMappingPurpose.java?ref=e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af","patch":"@@ -17,8 +17,8 @@\n \n public enum MappingPurpose {\n \n+    BOTH,\n     SYNCHRONIZATION,\n-    PROPAGATION,\n-    BOTH\n+    PROPAGATION\n \n }"},{"sha":"8ecbdd6d8fd01ab824bc2481141b78a039c2ae1f","filename":"console/src/main/java/org/apache/syncope/console/pages/Resources.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.java?ref=e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af","patch":"@@ -92,7 +92,7 @@ public class Resources extends BasePage {\n \n     private static final int WIN_HEIGHT = 600;\n \n-    private static final int WIN_WIDTH = 950;\n+    private static final int WIN_WIDTH = 1100;\n \n     private WebMarkupContainer resourceContainer;\n "},{"sha":"0986afb499b2648af6f7f3db8b7827224a6c4f41","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/ResourceMappingPanel.java","status":"modified","additions":8,"deletions":10,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceMappingPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceMappingPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FResourceMappingPanel.java?ref=e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af","patch":"@@ -278,6 +278,9 @@ public int compare(final MappingItemTO left, final MappingItemTO right) {\n             @Override\n             protected void populateItem(final ListItem<MappingItemTO> item) {\n                 final MappingItemTO mapItem = item.getModelObject();\n+                if (mapItem.getPurpose() == null) {\n+                    mapItem.setPurpose(MappingPurpose.BOTH);\n+                }\n \n                 AttributableType entity = null;\n                 if (mapItem.getIntMappingType() != null) {\n@@ -363,22 +366,17 @@ protected void onUpdate(final AjaxRequestTarget target) {\n                 });\n                 item.add(entitiesPanel);\n \n-                final FieldPanel extAttrName;\n-                if (schemaNames.isEmpty()) {\n-                    extAttrName = new AjaxTextFieldPanel(\"extAttrName\", new ResourceModel(\"extAttrNames\",\n-                            \"extAttrNames\").getObject(), new PropertyModel<String>(mapItem, \"extAttrName\"));\n-                } else {\n-                    extAttrName = new AjaxDropDownChoicePanel<String>(\"extAttrName\", new ResourceModel(\"extAttrNames\",\n-                            \"extAttrNames\").getObject(), new PropertyModel(mapItem, \"extAttrName\"), false);\n-                    ((AjaxDropDownChoicePanel) extAttrName).setChoices(schemaNames);\n-                }\n+                final FieldPanel extAttrName = new AjaxTextFieldPanel(\"extAttrName\", new ResourceModel(\"extAttrNames\",\n+                        \"extAttrNames\").getObject(), new PropertyModel<String>(mapItem, \"extAttrName\"));\n+                ((AjaxTextFieldPanel) extAttrName).setChoices(schemaNames);\n+\n                 boolean required = false;\n                 if (mapItem != null) {\n                     boolean accountIdOrPassword = mapItem.isAccountid() || mapItem.isPassword();\n                     if (!accountIdOrPassword) {\n                         required = true;\n                     } else if (accountIdOrPassword && !schemaNames.isEmpty()) {\n-                        ((AjaxDropDownChoicePanel) extAttrName).setModelObject(null);\n+                        ((AjaxTextFieldPanel) extAttrName).setModelObject(null);\n                     }\n                 }\n                 extAttrName.setRequired(required);"},{"sha":"af4c924b79784acc84d5f9903d9a7c26f9771e50","filename":"console/src/main/java/org/apache/syncope/console/wicket/markup/html/form/AjaxTextFieldPanel.java","status":"modified","additions":7,"deletions":2,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxTextFieldPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxTextFieldPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxTextFieldPanel.java?ref=e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af","patch":"@@ -26,6 +26,7 @@\n \n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n+import org.apache.wicket.extensions.ajax.markup.html.autocomplete.AutoCompleteSettings;\n import org.apache.wicket.extensions.ajax.markup.html.autocomplete.AutoCompleteTextField;\n import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.Model;\n@@ -41,12 +42,16 @@ public AjaxTextFieldPanel(final String id, final String name, final IModel<Strin\n \n         super(id, name, model);\n \n-        field = new AutoCompleteTextField<String>(\"textField\", model) {\n+        final AutoCompleteSettings settings = new AutoCompleteSettings();\n+        settings.setShowCompleteListOnFocusGain(true);\n+        settings.setShowListOnEmptyInput(true);\n+\n+        field = new AutoCompleteTextField<String>(\"textField\", model, settings) {\n \n             private static final long serialVersionUID = -6648767303091874219L;\n \n             @Override\n-            protected Iterator<String> getChoices(String input) {\n+            protected Iterator<String> getChoices(final String input) {\n                 final Pattern pattern = Pattern.compile(Pattern.quote(input) + \".*\", Pattern.CASE_INSENSITIVE);\n \n                 final List<String> result = new ArrayList<String>();"},{"sha":"27bd048e80cf64f757d707c3a6c8b4c10e387a08","filename":"console/src/main/resources/org/apache/syncope/console/pages/BaseModalPage.html","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.html?ref=e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af","patch":"@@ -22,7 +22,6 @@\n     <link rel=\"stylesheet\" type=\"text/css\" href=\"css/style.css\" media=\"all\"/>\n     <link rel=\"stylesheet\" type=\"text/css\" href=\"css/fieldstyle.css\" media=\"all\"/>\n \n-    <script type=\"text/javascript\" src=\"wicket/resource/org.apache.wicket.resource.JQueryResourceReference/jquery/jquery.min.js\"></script>\n     <script type=\"text/javascript\" src=\"scripts/jquery-ui.js\"></script>\n \n     <script type=\"text/javascript\">"},{"sha":"ca4a9e3944f7a861e0716234886143344b3b1fa4","filename":"console/src/main/resources/org/apache/syncope/console/pages/BasePage.html","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBasePage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBasePage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBasePage.html?ref=e8a50c9ed1fa2e4638e6e2ca38fb0eba461676af","patch":"@@ -36,7 +36,6 @@\n     <link rel=\"stylesheet\" type=\"text/css\" href=\"css/style.css\" media=\"all\"/>\n     <link rel=\"stylesheet\" type=\"text/css\" href=\"css/fieldstyle.css\" />\n \n-    <script type=\"text/javascript\" src=\"wicket/resource/org.apache.wicket.resource.JQueryResourceReference/jquery/jquery.min.js\"></script>\n     <script type=\"text/javascript\" src=\"scripts/jquery-ui.js\"></script>\n \n     <script type=\"text/javascript\">"}]}
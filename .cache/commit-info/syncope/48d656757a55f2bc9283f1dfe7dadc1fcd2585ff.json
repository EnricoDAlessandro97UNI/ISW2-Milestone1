{"sha":"48d656757a55f2bc9283f1dfe7dadc1fcd2585ff","node_id":"C_kwDOJfYA1toAKDQ4ZDY1Njc1N2E1NWYyYmM5MjgzZjFkZmU3ZGFkYzFmY2QyNTg1ZmY","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2023-01-19T12:28:12Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2023-01-19T12:28:48Z"},"message":"Adding doc for actuator","tree":{"sha":"961845908051ea790ded1089901c0610027a77cb","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/961845908051ea790ded1089901c0610027a77cb"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/48d656757a55f2bc9283f1dfe7dadc1fcd2585ff","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/48d656757a55f2bc9283f1dfe7dadc1fcd2585ff","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/48d656757a55f2bc9283f1dfe7dadc1fcd2585ff","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/48d656757a55f2bc9283f1dfe7dadc1fcd2585ff/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"d24ea662a505f929719fe1204614913df7b07bcb","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d24ea662a505f929719fe1204614913df7b07bcb","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d24ea662a505f929719fe1204614913df7b07bcb"}],"stats":{"total":116,"additions":113,"deletions":3},"files":[{"sha":"b8683f303212cadec3d6227e448225640c91ff98","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/NetworkServiceDirectoryPanel.java","status":"modified","additions":24,"deletions":1,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/48d656757a55f2bc9283f1dfe7dadc1fcd2585ff/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FNetworkServiceDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/48d656757a55f2bc9283f1dfe7dadc1fcd2585ff/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FNetworkServiceDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FNetworkServiceDirectoryPanel.java?ref=48d656757a55f2bc9283f1dfe7dadc1fcd2585ff","patch":"@@ -23,15 +23,19 @@\n import java.util.Collection;\n import java.util.Iterator;\n import java.util.List;\n+import org.apache.syncope.client.console.SyncopeConsoleSession;\n import org.apache.syncope.client.console.commons.IdRepoConstants;\n+import org.apache.syncope.client.console.pages.BasePage;\n import org.apache.syncope.client.console.panels.NetworkServiceDirectoryPanel.NetworkServiceProvider;\n import org.apache.syncope.client.console.rest.SyncopeRestClient;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionsPanel;\n import org.apache.syncope.client.ui.commons.DirectoryDataProvider;\n import org.apache.syncope.common.keymaster.client.api.ServiceOps;\n import org.apache.syncope.common.keymaster.client.api.model.NetworkService;\n+import org.apache.syncope.common.lib.types.IdRepoEntitlement;\n import org.apache.wicket.PageReference;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.extensions.markup.html.repeater.data.sort.SortOrder;\n import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n@@ -80,7 +84,26 @@ protected List<IColumn<NetworkService, String>> getColumns() {\n \n     @Override\n     protected ActionsPanel<NetworkService> getActions(final IModel<NetworkService> model) {\n-        return super.getActions(model);\n+        ActionsPanel<NetworkService> panel = super.getActions(model);\n+\n+        panel.add(new ActionLink<>() {\n+\n+            private static final long serialVersionUID = -3722207913631435501L;\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target, final NetworkService ignore) {\n+                try {\n+                    serviceOps.unregister(model.getObject());\n+                    target.add(container);\n+                } catch (Exception e) {\n+                    LOG.error(\"While deleting {}\", model.getObject().getAddress(), e);\n+                    SyncopeConsoleSession.get().onException(e);\n+                }\n+                ((BasePage) pageRef.getPage()).getNotificationPanel().refresh(target);\n+            }\n+        }, ActionLink.ActionType.DELETE, IdRepoEntitlement.KEYMASTER, true);\n+\n+        return panel;\n     }\n \n     @Override"},{"sha":"6c6d488cb40d879c4ec06dc29294a8f9c4fd0a8f","filename":"src/main/asciidoc/reference-guide/usage/actuator.adoc","status":"added","additions":85,"deletions":0,"changes":85,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/48d656757a55f2bc9283f1dfe7dadc1fcd2585ff/src%2Fmain%2Fasciidoc%2Freference-guide%2Fusage%2Factuator.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/48d656757a55f2bc9283f1dfe7dadc1fcd2585ff/src%2Fmain%2Fasciidoc%2Freference-guide%2Fusage%2Factuator.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fusage%2Factuator.adoc?ref=48d656757a55f2bc9283f1dfe7dadc1fcd2585ff","patch":"@@ -0,0 +1,85 @@\n+//\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+//\n+=== Actuator Endpoints\n+\n+Spring Boot's actuator endpoints let you monitor and interact with Syncope components.\n+\n+Each individual endpoint can be enabled / disabled and exposed over HTTP (pre-defined, under the `/actuator` subcontext)\n+or JMX.\n+\n+Besides a number of https://docs.spring.io/spring-boot/docs/2.7.x/reference/htmlsingle/#actuator.endpoints[built-in endpoints^],\n+more are made available for each component, as reported below.\n+\n+[NOTE]\n+The pre-defined `health` and `info` endpoints are extended by each Syncope component, to add sensible data for the\n+given component.\n+\n+[TIP]\n+The pre-defined `health` endpoint is typically used for liveness and readiness probes, even with Kubernetes.\n+\n+[[actuator-core]]\n+==== Core\n+\n+[cols=\"1,2\"]\n+|===\n+\n+| `entityCache`\n+a| Allows to work with https://openjpa.apache.org/builds/3.2.2/apache-openjpa/docs/#ref_guide_cache_statistics[JPA cache statistics^]\n+\n+* `GET` - shows JPA cache statistics\n+* `POST {ENABLE,DISABLE,RESET}` - performs the requested operation onto JPA cache\n+* `DELETE` - clears JPA cache's current content\n+\n+|===\n+\n+[[actuator-wa]]\n+==== WA\n+\n+[cols=\"1,2\"]\n+|===\n+\n+| `ssoSessions`\n+| https://apereo.github.io/cas/6.6.x/authentication/Configuring-SSO.html#actuator-endpoints[More details^]\n+| `registeredServices`\n+| https://apereo.github.io/cas/6.6.x/services/Service-Management.html#actuator-endpoints[More details^]\n+| `authenticationHandlers`\n+| https://apereo.github.io/cas/6.6.x/authentication/Configuring-Authentication-Components.html#actuator-endpoints[More details^]\n+| `authenticationPolicies`\n+| https://apereo.github.io/cas/6.6.x/authentication/Configuring-Authentication-Policy.html#actuator-endpoints[More details^]\n+| `resolveAttributes`\n+| https://apereo.github.io/cas/6.6.x/integration/Attribute-Resolution.html#actuator-endpoints[More details^]\n+\n+|===\n+\n+[[actuator-sra]]\n+==== SRA\n+\n+[cols=\"1,2\"]\n+|===\n+\n+| `sraSessions`\n+a| \n+* `GET` - lists the current sessions\n+* `GET {id}` - reads the session with given `id`\n+* `DELETE {id}` - removes the session with given `id`\n+\n+| `gateway`\n+| https://docs.spring.io/spring-cloud-gateway/docs/3.1.x/reference/html/#actuator-api[More details^]\n+\n+|==="},{"sha":"a3c4fe193c43e03de4ec00f1908f9700971e01c6","filename":"src/main/asciidoc/reference-guide/usage/customization.adoc","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/48d656757a55f2bc9283f1dfe7dadc1fcd2585ff/src%2Fmain%2Fasciidoc%2Freference-guide%2Fusage%2Fcustomization.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/48d656757a55f2bc9283f1dfe7dadc1fcd2585ff/src%2Fmain%2Fasciidoc%2Freference-guide%2Fusage%2Fcustomization.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fusage%2Fcustomization.adoc?ref=48d656757a55f2bc9283f1dfe7dadc1fcd2585ff","patch":"@@ -185,13 +185,13 @@ Syncope componet context is refreshed as a result of an external property change\n In order to register your own configuration class, create a file named\n \n ----\n-<component>/src/main/resources/META-INF/spring.factories\n+<component>/src/main/resources/META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports\n ----\n \n with content\n \n ----\n-org.springframework.boot.autoconfigure.EnableAutoConfiguration=org.apache.syncope.custom.config.SomethingConfiguration\n+org.apache.syncope.custom.config.SomethingConfiguration\n ----\n \n What if you needed to override the definition of a Syncope-provided bean and replace it entirely with your own? +"},{"sha":"102feaa63db00291594cef6812b5500efc1458c2","filename":"src/main/asciidoc/reference-guide/usage/usage.adoc","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/48d656757a55f2bc9283f1dfe7dadc1fcd2585ff/src%2Fmain%2Fasciidoc%2Freference-guide%2Fusage%2Fusage.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/48d656757a55f2bc9283f1dfe7dadc1fcd2585ff/src%2Fmain%2Fasciidoc%2Freference-guide%2Fusage%2Fusage.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fusage%2Fusage.adoc?ref=48d656757a55f2bc9283f1dfe7dadc1fcd2585ff","patch":"@@ -37,3 +37,5 @@ include::core.adoc[]\n include::clientlibrary.adoc[]\n \n include::customization.adoc[]\n+\n+include::actuator.adoc[]"}]}
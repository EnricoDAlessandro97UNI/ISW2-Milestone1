{"sha":"e039f8936228fcde8a4c4428c8e241376fd509f8","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmUwMzlmODkzNjIyOGZjZGU4YTRjNDQyOGM4ZTI0MTM3NmZkNTA5Zjg=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-06-26T11:57:33Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-06-26T11:57:33Z"},"message":"[SYNCOPE-511] Merge from 1_1_X\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1605751 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"31242c8f3eeeb902c056c81ef6a9c33f1be3ebd6","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/31242c8f3eeeb902c056c81ef6a9c33f1be3ebd6"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/e039f8936228fcde8a4c4428c8e241376fd509f8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e039f8936228fcde8a4c4428c8e241376fd509f8","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/e039f8936228fcde8a4c4428c8e241376fd509f8","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e039f8936228fcde8a4c4428c8e241376fd509f8/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"e35c02a553cafc8965546648dcdc2e96d0326bd6","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e35c02a553cafc8965546648dcdc2e96d0326bd6","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/e35c02a553cafc8965546648dcdc2e96d0326bd6"},{"sha":"a77dee7721cef2d2b3d8aa80a88ad13e42204454","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a77dee7721cef2d2b3d8aa80a88ad13e42204454","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/a77dee7721cef2d2b3d8aa80a88ad13e42204454"}],"stats":{"total":37,"additions":23,"deletions":14},"files":[{"sha":"54d8f5065bce6d21c37b45445d4ab1a3f5290b2a","filename":"console/src/main/webapp/css/style.css","status":"modified","additions":7,"deletions":1,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e039f8936228fcde8a4c4428c8e241376fd509f8/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstyle.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e039f8936228fcde8a4c4428c8e241376fd509f8/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstyle.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstyle.css?ref=e039f8936228fcde8a4c4428c8e241376fd509f8","patch":"@@ -541,4 +541,10 @@ div.wicket-aa ul li.selected {\n .notificationpanel_row_ERROR span {  \n   border:0 none;\n }    \n-\n+pre {\n+  white-space: -moz-pre-wrap; /* Mozilla, supported since 1999 */\n+  white-space: -pre-wrap; /* Opera */\n+  white-space: -o-pre-wrap; /* Opera */\n+  white-space: pre-wrap; /* CSS3 - Text module (Candidate Recommendation) http://www.w3.org/TR/css3-text/#white-space */\n+  word-wrap: break-word; /* IE 5.5+ */\n+}\n\\ No newline at end of file"},{"sha":"a295ac3c8c0d1e6477a372cb2788ede857ec7d96","filename":"core/src/main/java/org/apache/syncope/core/notification/NotificationJob.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e039f8936228fcde8a4c4428c8e241376fd509f8/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fnotification%2FNotificationJob.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e039f8936228fcde8a4c4428c8e241376fd509f8/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fnotification%2FNotificationJob.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fnotification%2FNotificationJob.java?ref=e039f8936228fcde8a4c4428c8e241376fd509f8","patch":"@@ -21,7 +21,6 @@\n import java.util.Date;\n \n import javax.mail.internet.MimeMessage;\n-\n import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.common.types.AuditElements;\n import org.apache.syncope.common.types.AuditElements.Result;"},{"sha":"0b065eb2ef0be56eb2d3b1ac5bddeecbfb85fc16","filename":"core/src/main/java/org/apache/syncope/core/persistence/beans/ExternalResource.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e039f8936228fcde8a4c4428c8e241376fd509f8/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FExternalResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e039f8936228fcde8a4c4428c8e241376fd509f8/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FExternalResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FExternalResource.java?ref=e039f8936228fcde8a4c4428c8e241376fd509f8","patch":"@@ -39,7 +39,6 @@\n import javax.validation.constraints.Min;\n import javax.validation.constraints.NotNull;\n import org.apache.commons.lang3.StringUtils;\n-import org.apache.openjpa.persistence.PersistentCollection;\n import org.apache.syncope.common.types.ConnConfProperty;\n import org.apache.syncope.common.types.PropagationMode;\n import org.apache.syncope.common.types.TraceLevel;"},{"sha":"c42920984a133f06add68b53b616c62c7460e79a","filename":"core/src/main/java/org/apache/syncope/core/persistence/dao/impl/AbstractDAOImpl.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e039f8936228fcde8a4c4428c8e241376fd509f8/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2Fimpl%2FAbstractDAOImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e039f8936228fcde8a4c4428c8e241376fd509f8/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2Fimpl%2FAbstractDAOImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2Fimpl%2FAbstractDAOImpl.java?ref=e039f8936228fcde8a4c4428c8e241376fd509f8","patch":"@@ -24,8 +24,7 @@\n import javax.persistence.EntityManager;\n import javax.persistence.PersistenceContext;\n import javax.persistence.PersistenceContextType;\n-\n-import org.apache.commons.lang.StringUtils;\n+import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.core.persistence.beans.AbstractBaseBean;\n import org.apache.syncope.core.persistence.dao.DAO;\n import org.apache.syncope.core.persistence.dao.search.OrderByClause;"},{"sha":"4c04854161c1ca749961aa2367dcb6ea363901d8","filename":"core/src/main/java/org/apache/syncope/core/persistence/dao/impl/AbstractSubjectDAOImpl.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e039f8936228fcde8a4c4428c8e241376fd509f8/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2Fimpl%2FAbstractSubjectDAOImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e039f8936228fcde8a4c4428c8e241376fd509f8/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2Fimpl%2FAbstractSubjectDAOImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2Fimpl%2FAbstractSubjectDAOImpl.java?ref=e039f8936228fcde8a4c4428c8e241376fd509f8","patch":"@@ -32,7 +32,7 @@\n import org.apache.commons.jexl2.parser.Parser;\n import org.apache.commons.jexl2.parser.ParserConstants;\n import org.apache.commons.jexl2.parser.Token;\n-import org.apache.commons.lang.StringUtils;\n+import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.core.persistence.beans.AbstractAttrValue;\n import org.apache.syncope.core.persistence.beans.AbstractAttributable;\n import org.apache.syncope.core.persistence.beans.AbstractDerSchema;"},{"sha":"6fee438fc90458b0461aa8e25a1c4f0d22907d5a","filename":"core/src/main/java/org/apache/syncope/core/sync/impl/AbstractSubjectPushResultHandler.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e039f8936228fcde8a4c4428c8e241376fd509f8/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FAbstractSubjectPushResultHandler.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e039f8936228fcde8a4c4428c8e241376fd509f8/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FAbstractSubjectPushResultHandler.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FAbstractSubjectPushResultHandler.java?ref=e039f8936228fcde8a4c4428c8e241376fd509f8","patch":"@@ -23,6 +23,7 @@\n import java.util.HashSet;\n import java.util.Map;\n import java.util.Set;\n+import org.apache.commons.lang3.exception.ExceptionUtils;\n import org.apache.syncope.common.types.AttributableType;\n import org.apache.syncope.common.types.AuditElements;\n import org.apache.syncope.common.types.AuditElements.Result;\n@@ -225,7 +226,7 @@ protected final void doHandle(final AbstractSubject subject)\n             output = getRemoteObject(oclass, values.getKey(), profile.getSyncTask().getResource().getName());\n         } catch (Exception e) {\n             result.setStatus(SyncResult.Status.FAILURE);\n-            result.setMessage(e.getMessage());\n+            result.setMessage(ExceptionUtils.getRootCauseMessage(e));\n             resultStatus = AuditElements.Result.FAILURE;\n             output = e;\n "},{"sha":"4326512bf50aa3eba22e54326c91c1fa40f9e073","filename":"core/src/main/java/org/apache/syncope/core/sync/impl/AbstractSubjectSyncResultHandler.java","status":"modified","additions":7,"deletions":5,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e039f8936228fcde8a4c4428c8e241376fd509f8/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FAbstractSubjectSyncResultHandler.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e039f8936228fcde8a4c4428c8e241376fd509f8/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FAbstractSubjectSyncResultHandler.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FAbstractSubjectSyncResultHandler.java?ref=e039f8936228fcde8a4c4428c8e241376fd509f8","patch":"@@ -19,12 +19,14 @@\n package org.apache.syncope.core.sync.impl;\n \n import org.apache.syncope.core.sync.SyncUtilities;\n+\n import static org.apache.syncope.core.sync.impl.AbstractSyncopeResultHandler.LOG;\n \n import java.util.ArrayList;\n import java.util.Collection;\n import java.util.Collections;\n import java.util.List;\n+import org.apache.commons.lang3.exception.ExceptionUtils;\n import org.apache.syncope.common.mod.AbstractSubjectMod;\n import org.apache.syncope.common.to.AbstractSubjectTO;\n import org.apache.syncope.common.to.RoleTO;\n@@ -183,7 +185,7 @@ private List<SyncResult> create(\n                 resultStatus = Result.FAILURE;\n             } catch (Exception e) {\n                 result.setStatus(SyncResult.Status.FAILURE);\n-                result.setMessage(e.getMessage());\n+                result.setMessage(ExceptionUtils.getRootCauseMessage(e));\n                 LOG.error(\"Could not create {} {} \", attrUtil.getType(), _delta.getUid().getUidValue(), e);\n                 output = e;\n                 resultStatus = Result.FAILURE;\n@@ -278,7 +280,7 @@ protected List<SyncResult> update(SyncDelta delta, final List<Long> subjects, fi\n                 resultStatus = Result.FAILURE;\n             } catch (Exception e) {\n                 result.setStatus(SyncResult.Status.FAILURE);\n-                result.setMessage(e.getMessage());\n+                result.setMessage(ExceptionUtils.getRootCauseMessage(e));\n                 LOG.error(\"Could not update {} {}\", attrUtil.getType(), delta.getUid().getUidValue(), e);\n                 output = e;\n                 resultStatus = Result.FAILURE;\n@@ -387,7 +389,7 @@ protected List<SyncResult> deprovision(\n                 resultStatus = Result.FAILURE;\n             } catch (Exception e) {\n                 result.setStatus(SyncResult.Status.FAILURE);\n-                result.setMessage(e.getMessage());\n+                result.setMessage(ExceptionUtils.getRootCauseMessage(e));\n                 LOG.error(\"Could not update {} {}\", attrUtil.getType(), delta.getUid().getUidValue(), e);\n                 output = e;\n                 resultStatus = Result.FAILURE;\n@@ -495,7 +497,7 @@ protected List<SyncResult> link(\n                 resultStatus = Result.FAILURE;\n             } catch (Exception e) {\n                 result.setStatus(SyncResult.Status.FAILURE);\n-                result.setMessage(e.getMessage());\n+                result.setMessage(ExceptionUtils.getRootCauseMessage(e));\n                 LOG.error(\"Could not update {} {}\", attrUtil.getType(), delta.getUid().getUidValue(), e);\n                 output = e;\n                 resultStatus = Result.FAILURE;\n@@ -575,7 +577,7 @@ protected List<SyncResult> delete(SyncDelta delta, final List<Long> subjects, fi\n                         resultStatus = Result.SUCCESS;\n                     } catch (Exception e) {\n                         result.setStatus(SyncResult.Status.FAILURE);\n-                        result.setMessage(e.getMessage());\n+                        result.setMessage(ExceptionUtils.getRootCauseMessage(e));\n                         LOG.error(\"Could not delete {} {}\", attrUtil.getType(), id, e);\n                         output = e;\n                     }"},{"sha":"67d63057460ce5948add3d265cc720640430aa9b","filename":"core/src/main/java/org/apache/syncope/core/sync/impl/PushJob.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e039f8936228fcde8a4c4428c8e241376fd509f8/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FPushJob.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e039f8936228fcde8a4c4428c8e241376fd509f8/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FPushJob.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FPushJob.java?ref=e039f8936228fcde8a4c4428c8e241376fd509f8","patch":"@@ -23,7 +23,7 @@\n import java.util.Collections;\n import java.util.List;\n import java.util.Set;\n-import org.apache.commons.lang.StringUtils;\n+import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.common.types.SubjectType;\n import org.apache.syncope.common.types.SyncPolicySpec;\n import org.apache.syncope.core.persistence.beans.PushTask;"},{"sha":"1e276af33d377fba02a8944fbe561a4730e05aa7","filename":"core/src/main/java/org/apache/syncope/core/sync/impl/UserSyncResultHandler.java","status":"modified","additions":4,"deletions":1,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e039f8936228fcde8a4c4428c8e241376fd509f8/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FUserSyncResultHandler.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e039f8936228fcde8a4c4428c8e241376fd509f8/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FUserSyncResultHandler.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FUserSyncResultHandler.java?ref=e039f8936228fcde8a4c4428c8e241376fd509f8","patch":"@@ -19,11 +19,13 @@\n package org.apache.syncope.core.sync.impl;\n \n import static org.apache.syncope.core.sync.impl.AbstractSyncopeResultHandler.LOG;\n+\n import java.util.AbstractMap;\n import java.util.Collections;\n import java.util.HashSet;\n import java.util.List;\n import java.util.Map;\n+import org.apache.commons.lang3.exception.ExceptionUtils;\n import org.apache.syncope.common.mod.AbstractSubjectMod;\n import org.apache.syncope.common.mod.UserMod;\n import org.apache.syncope.common.to.AbstractSubjectTO;\n@@ -107,7 +109,8 @@ protected AbstractSubjectTO update(\n             LOG.error(\"Update of user {} failed, trying to sync its status anyway (if configured)\", before.getId(), e);\n \n             result.setStatus(SyncResult.Status.FAILURE);\n-            result.setMessage(\"Update failed, trying to sync status anyway (if configured)\\n\" + e.getMessage());\n+            result.setMessage(\"Update failed, trying to sync status anyway (if configured)\\n\"\n+                    + ExceptionUtils.getRootCauseMessage(e));\n \n             updated = new WorkflowResult<Map.Entry<UserMod, Boolean>>(\n                     new AbstractMap.SimpleEntry<UserMod, Boolean>(userMod, false), new PropagationByResource(),"}]}
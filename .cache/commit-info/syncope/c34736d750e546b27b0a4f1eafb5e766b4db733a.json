{"sha":"c34736d750e546b27b0a4f1eafb5e766b4db733a","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmMzNDczNmQ3NTBlNTQ2YjI3YjBhNGYxZWFmYjVlNzY2YjRkYjczM2E=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2011-08-23T13:02:54Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2011-08-23T13:02:54Z"},"message":"(Fixes issue 127)\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247085 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"5c6064db1411c4626c242e2d36f5e6f5c60634a3","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/5c6064db1411c4626c242e2d36f5e6f5c60634a3"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/c34736d750e546b27b0a4f1eafb5e766b4db733a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c34736d750e546b27b0a4f1eafb5e766b4db733a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c34736d750e546b27b0a4f1eafb5e766b4db733a","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c34736d750e546b27b0a4f1eafb5e766b4db733a/comments","author":null,"committer":null,"parents":[{"sha":"1dd3374a81715c019e0b76dd4b8d8464fc37ebbe","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1dd3374a81715c019e0b76dd4b8d8464fc37ebbe","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/1dd3374a81715c019e0b76dd4b8d8464fc37ebbe"}],"stats":{"total":293,"additions":215,"deletions":78},"files":[{"sha":"fa0d214a045fdd250b81bd690aaa9c9a6c3ad82e","filename":"archetype/src/main/resources/archetype-resources/console/pom.xml","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fconsole%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fconsole%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fconsole%2Fpom.xml?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -170,9 +170,9 @@\n                         <phase>package</phase>\r\n                         <configuration>\r\n                             <target>\r\n-                                <get src=\"http://www.apache.org/dist/tomcat/tomcat-7/v7.0.20/bin/apache-tomcat-7.0.20.zip\"\r\n+                                <get src=\"http://www.apache.org/dist/tomcat/tomcat-7/v${tomcat.version}/bin/apache-tomcat-${tomcat.version}.zip\"\r\n                                      dest=\"${java.io.tmpdir}\" skipexisting=\"true\"/>\r\n-                                <unzip src=\"${java.io.tmpdir}/apache-tomcat-7.0.20.zip\"\r\n+                                <unzip src=\"${java.io.tmpdir}/apache-tomcat-${tomcat.version}.zip\"\r\n                                        dest=\"${java.io.tmpdir}\" overwrite=\"false\"/>\r\n                             </target>\r\n                         </configuration>\r\n@@ -222,7 +222,7 @@\n                     <wait>true</wait>\r\n                     <container>\r\n                         <containerId>tomcat7x</containerId>\r\n-                        <home>${java.io.tmpdir}/apache-tomcat-7.0.20</home>\r\n+                        <home>${java.io.tmpdir}/apache-tomcat-${tomcat.version}</home>\r\n                         <log>${cargo.log}</log>\r\n                         <output>${cargo.output}</output>\r\n                         <dependencies>\r"},{"sha":"b065621b8dd205d8f85bf9bef45a7ed6a42cf35f","filename":"archetype/src/main/resources/archetype-resources/core/pom.xml","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcore%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcore%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcore%2Fpom.xml?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -182,9 +182,9 @@\n                         <phase>package</phase>\r\n                         <configuration>\r\n                             <target>\r\n-                                <get src=\"http://www.apache.org/dist/tomcat/tomcat-7/v7.0.20/bin/apache-tomcat-7.0.20.zip\"\r\n+                                <get src=\"http://www.apache.org/dist/tomcat/tomcat-7/v${tomcat.version}/bin/apache-tomcat-${tomcat.version}.zip\"\r\n                                      dest=\"${java.io.tmpdir}\" skipexisting=\"true\"/>\r\n-                                <unzip src=\"${java.io.tmpdir}/apache-tomcat-7.0.20.zip\"\r\n+                                <unzip src=\"${java.io.tmpdir}/apache-tomcat-${tomcat.version}.zip\"\r\n                                        dest=\"${java.io.tmpdir}\" overwrite=\"false\"/>\r\n                             </target>\r\n                         </configuration>\r\n@@ -234,7 +234,7 @@\n                     <wait>true</wait>\r\n                     <container>\r\n                         <containerId>tomcat7x</containerId>\r\n-                        <home>${java.io.tmpdir}/apache-tomcat-7.0.20</home>\r\n+                        <home>${java.io.tmpdir}/apache-tomcat-${tomcat.version}</home>\r\n                         <log>${cargo.log}</log>\r\n                         <output>${cargo.output}</output>\r\n                         <dependencies>\r"},{"sha":"51b2bbe3afc9f3e51cc75d306b8d8160cba2c90f","filename":"archetype/src/main/resources/archetype-resources/pom.xml","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fpom.xml?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -34,14 +34,15 @@\n         <commons-lang.version>2.6</commons-lang.version>\r\n         <commons-httpclient.version>3.1</commons-httpclient.version>\r\n \r\n-        <cxf.version>2.4.1</cxf.version>\r\n+        <cxf.version>2.4.2</cxf.version>\r\n \r\n         <logback.version>0.9.29</logback.version>\r\n         <slf4j.version>1.6.1</slf4j.version>\r\n \r\n         <junit.version>4.8.2</junit.version>\r\n \r\n         <cargo.version>1.1.1</cargo.version>\r\n+        <tomcat.version>7.0.20</tomcat.version>\r\n \r\n         <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\r\n     </properties>\r"},{"sha":"69398daf8c13d18851c60c5ab8f2fe8106a76d9e","filename":"client/src/main/java/org/syncope/types/PolicyType.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Ftypes%2FPolicyType.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Ftypes%2FPolicyType.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Ftypes%2FPolicyType.java?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -18,11 +18,11 @@ public enum PolicyType {\n \n     /**\n      * Account policy like:\n-     * password expire time, chenage password at first access, ...\n+     * password expire time, change password at first access, ...\n      */\n     ACCOUNT,\n     /**\n-     * Password policy regarding password synctax.\n+     * Password policy regarding password syntax.\n      */\n     PASSWORD,\n     /**"},{"sha":"e2bc9078c5f6f584d719860ee84bd947a38473f7","filename":"console/pom.xml","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/console%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/console%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fpom.xml?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -259,8 +259,8 @@\n                                 <phase>package</phase>\n                                 <configuration>\n                                     <target>\n-                                        <get src=\"http://www.apache.org/dist/tomcat/tomcat-7/v7.0.20/bin/apache-tomcat-7.0.20.zip\" dest=\"${java.io.tmpdir}\" skipexisting=\"true\" />\n-                                        <unzip src=\"${java.io.tmpdir}/apache-tomcat-7.0.20.zip\" dest=\"${java.io.tmpdir}\" overwrite=\"false\" />\n+                                        <get src=\"http://www.apache.org/dist/tomcat/tomcat-7/v${tomcat.version}/bin/apache-tomcat-${tomcat.version}.zip\" dest=\"${java.io.tmpdir}\" skipexisting=\"true\" />\n+                                        <unzip src=\"${java.io.tmpdir}/apache-tomcat-${tomcat.version}.zip\" dest=\"${java.io.tmpdir}\" overwrite=\"false\" />\n                                     </target>\n                                 </configuration>\n                                 <goals>\n@@ -308,7 +308,7 @@\n                         <configuration>\n                             <container>\n                                 <containerId>tomcat7x</containerId>\n-                                <home>${java.io.tmpdir}/apache-tomcat-7.0.20</home>\n+                                <home>${java.io.tmpdir}/apache-tomcat-${tomcat.version}</home>\n                                 <log>${cargo.log}</log>\n                                 <output>${cargo.output}</output>\n                                 <dependencies>"},{"sha":"f9de15f51dd9df52cce1e88bfe5061af826451d4","filename":"core/pom.xml","status":"modified","additions":120,"deletions":5,"changes":125,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpom.xml?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -29,6 +29,9 @@\n     <packaging>war</packaging>\n \n     <properties>\n+        <jdbcdriver.groupId>org.hsqldb</jdbcdriver.groupId>    \n+        <jdbcdriver.artifactId>hsqldb</jdbcdriver.artifactId>    \n+        \n         <cargo.servlet.port>9080</cargo.servlet.port>\n         <cargo.run.dir>${project.build.directory}/syncope-core-test</cargo.run.dir>\n         <cargo.log>/var/tmp/syncope-core-cargo.log</cargo.log>\n@@ -253,6 +256,17 @@\n             <scope>runtime</scope>\n         </dependency>\n \n+        <dependency>\n+            <groupId>postgresql</groupId>\n+            <artifactId>postgresql</artifactId>\n+            <version>9.0-801.jdbc4</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>com.oracle</groupId>\n+            <artifactId>ojdbc6</artifactId>\n+            <version>11.1.0</version>\n+        </dependency>\n+\n         <!-- TEST -->\n         <dependency>\n             <groupId>org.connid.bundles.soap</groupId>\n@@ -411,8 +425,8 @@\n                         <phase>package</phase>\n                         <configuration>\n                             <target>\n-                                <get src=\"http://www.apache.org/dist/tomcat/tomcat-7/v7.0.20/bin/apache-tomcat-7.0.20.zip\" dest=\"${java.io.tmpdir}\" skipexisting=\"true\" />\n-                                <unzip src=\"${java.io.tmpdir}/apache-tomcat-7.0.20.zip\" dest=\"${java.io.tmpdir}\" overwrite=\"false\" />\n+                                <get src=\"http://www.apache.org/dist/tomcat/tomcat-7/v${tomcat.version}/bin/apache-tomcat-${tomcat.version}.zip\" dest=\"${java.io.tmpdir}\" skipexisting=\"true\" />\n+                                <unzip src=\"${java.io.tmpdir}/apache-tomcat-${tomcat.version}.zip\" dest=\"${java.io.tmpdir}\" overwrite=\"false\" />\n                             </target>\n                         </configuration>\n                         <goals>\n@@ -519,15 +533,20 @@\n                     <wait>true</wait>\n                     <container>\n                         <containerId>tomcat7x</containerId>\n-                        <home>${java.io.tmpdir}/apache-tomcat-7.0.20</home>\n+                        <home>${java.io.tmpdir}/apache-tomcat-${tomcat.version}</home>\n                         <log>${cargo.log}</log>\n                         <output>${cargo.output}</output>\n                         <dependencies>\n                             <dependency>\n-                                <location>${settings.localRepository}/org/hsqldb/hsqldb/${hsqldb.version}/hsqldb-${hsqldb.version}.jar</location>\n+                                <location>${project.build.directory}/test-classes/</location>\n+                            </dependency>\n+                            <dependency>\n+                                <groupId>org.hsqldb</groupId>\n+                                <artifactId>hsqldb</artifactId>\n                             </dependency>\n                             <dependency>\n-                                <location>${project.build.directory}/test-classes/</location>\n+                                <groupId>${jdbcdriver.groupId}</groupId>\n+                                <artifactId>${jdbcdriver.artifactId}</artifactId>\n                             </dependency>\n                         </dependencies>\n                     </container>\n@@ -602,6 +621,10 @@\n             <testResource>\n                 <directory>src/test/resources</directory>\n                 <filtering>true</filtering>\n+                <excludes>\n+                    <exclude>oracle/**</exclude>    \n+                    <exclude>postgres/**</exclude>    \n+                </excludes>\n             </testResource>\n         </testResources>\n     </build>\n@@ -618,4 +641,96 @@\n         </plugins>\n     </reporting>\n     \n+    <profiles>\n+        \n+        <profile>\n+            <id>oracle-it</id>\n+            <properties>\n+                <jdbcdriver.groupId>com.oracle</jdbcdriver.groupId>    \n+                <jdbcdriver.artifactId>ojdbc6</jdbcdriver.artifactId>    \n+            </properties>\n+            <dependencies>\n+                <dependency>\n+                    <groupId>com.oracle</groupId>\n+                    <artifactId>ojdbc6</artifactId>\n+                    <version>11.1.0</version>\n+                    <scope>test</scope>\n+                </dependency>\n+            </dependencies>\n+            <build>\n+                <defaultGoal>clean verify</defaultGoal>\n+                \n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <inherited>true</inherited>\n+                        <executions>\n+                            <execution>\n+                                <id>set-oracle</id>\n+                                <phase>process-test-resources</phase>\n+                                <configuration>\n+                                    <target>\n+                                        <copy todir=\"${project.build.directory}/test-classes\" overwrite=\"true\">\n+                                            <fileset dir=\"${basedir}/src/test/resources/oracle\"/>\n+                                        </copy>\n+                                        <copy tofile=\"${project.build.directory}/classes/META-INF/orm.xml\"\n+                                              file=\"${basedir}/src/main/resources/META-INF/orm.xml.oracle\"\n+                                              overwrite=\"true\"/>\n+                                    </target>\n+                                </configuration>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>    \n+        \n+        <profile>\n+            <id>postgres-it</id>\n+            <properties>\n+                <jdbcdriver.groupId>postgresql</jdbcdriver.groupId>    \n+                <jdbcdriver.artifactId>postgresql</jdbcdriver.artifactId>    \n+            </properties>\n+            <dependencies>\n+                <dependency>\n+                    <groupId>postgresql</groupId>\n+                    <artifactId>postgresql</artifactId>\n+                    <version>9.0-801.jdbc4</version>\n+                    <scope>test</scope>\n+                </dependency>\n+            </dependencies>\n+            <build>\n+                <defaultGoal>clean verify</defaultGoal>\n+        \n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <inherited>true</inherited>\n+                        <executions>\n+                            <execution>\n+                                <id>set-postgres</id>\n+                                <phase>process-test-resources</phase>\n+                                <configuration>\n+                                    <target>\n+                                        <copy todir=\"${project.build.directory}/test-classes\" overwrite=\"true\">\n+                                            <fileset dir=\"${basedir}/src/test/resources/postgres\"/>\n+                                        </copy>\n+                                    </target>\n+                                </configuration>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile> \n+    </profiles>\n+    \n </project>"},{"sha":"5275d69635b1dc403f3e6cba8cbc98eac63c1ea3","filename":"core/src/main/java/jpasymphony/beans/JPAPropertySetItem.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fjava%2Fjpasymphony%2Fbeans%2FJPAPropertySetItem.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fjava%2Fjpasymphony%2Fbeans%2FJPAPropertySetItem.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Fjpasymphony%2Fbeans%2FJPAPropertySetItem.java?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -24,6 +24,7 @@\n import javax.persistence.Temporal;\n import javax.persistence.TemporalType;\n import javax.persistence.UniqueConstraint;\n+import org.hibernate.annotations.Type;\n import org.syncope.core.persistence.beans.AbstractBaseBean;\n \n @Entity\n@@ -54,6 +55,7 @@ public class JPAPropertySetItem extends AbstractBaseBean {\n     private String stringValue;\n \n     @Lob\n+    @Type(type = \"org.hibernate.type.StringClobType\")\n     private String textValue;\n \n     @Temporal(TemporalType.TIMESTAMP)"},{"sha":"3b4fcb6f4b8d280315ae339ec90ca4c66ca88a78","filename":"core/src/main/java/org/syncope/core/persistence/beans/ConnInstance.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FConnInstance.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FConnInstance.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FConnInstance.java?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -36,6 +36,7 @@\n import javax.persistence.Id;\n import javax.persistence.Lob;\n import javax.persistence.OneToMany;\n+import org.hibernate.annotations.Type;\n import org.identityconnectors.framework.common.objects.SyncToken;\n import org.springframework.context.ConfigurableApplicationContext;\n import org.syncope.core.util.ApplicationContextManager;\n@@ -84,9 +85,8 @@ public class ConnInstance extends AbstractBaseBean {\n      * This is directly implemented by the Configuration bean class which\n      * contains annotated ConfigurationProperties (@ConfigurationProperty).\n      */\n-    // @Lob\n-    // TODO: http://code.google.com/p/syncope/issues/detail?id=127\n-    @Column(nullable = false, length = 1000000)\n+    @Lob\n+    @Type(type = \"org.hibernate.type.StringClobType\")\n     private String xmlConfiguration;\n \n     private String displayName;"},{"sha":"aea88d176e06e442928cca7a2443fe7afcf58e9e","filename":"core/src/main/java/org/syncope/core/persistence/beans/Policy.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FPolicy.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FPolicy.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FPolicy.java?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -58,9 +58,8 @@ public void setType(PolicyType type) {\n         this.type = type;\n     }\n \n-    // TODO: http://code.google.com/p/syncope/issues/detail?id=127\n     @Lob\n-    @Type(type = \"org.hibernate.type.TextType\")\n+    @Type(type = \"org.hibernate.type.StringClobType\")\n     private String specification;\n \n     public <T extends AbstractPolicy> T getSpecification() {"},{"sha":"5e025664aafeedf34d4754de6620227620effded","filename":"core/src/main/java/org/syncope/core/persistence/beans/PropagationTask.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FPropagationTask.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FPropagationTask.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FPropagationTask.java?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -24,6 +24,7 @@\n import javax.persistence.Enumerated;\n import javax.persistence.Lob;\n import javax.persistence.ManyToOne;\n+import org.hibernate.annotations.Type;\n import org.identityconnectors.framework.common.objects.Attribute;\n import org.springframework.context.ConfigurableApplicationContext;\n import org.syncope.core.persistence.validation.entity.PropagationTaskCheck;\n@@ -66,6 +67,7 @@ public class PropagationTask extends Task {\n      * Attributes to be propagated.\n      */\n     @Lob\n+    @Type(type = \"org.hibernate.type.StringClobType\")\n     private String xmlAttributes;\n \n     /**"},{"sha":"156abb804e10ccce2a6425a9590c54a4db6cc029","filename":"core/src/main/java/org/syncope/core/persistence/beans/TaskExec.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FTaskExec.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FTaskExec.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FTaskExec.java?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -22,6 +22,7 @@\n import javax.persistence.ManyToOne;\n import javax.persistence.Temporal;\n import javax.persistence.TemporalType;\n+import org.hibernate.annotations.Type;\n \n /**\n  * An execution (with result) of a Task.\n@@ -54,6 +55,7 @@ public class TaskExec extends AbstractBaseBean {\n      * Any information to be accompained to this execution's result.\n      */\n     @Lob\n+    @Type(type = \"org.hibernate.type.StringClobType\")\n     private String message;\n \n     /**"},{"sha":"b66d0cb95886ab9fa3cd8a1a3d7fdc428772006b","filename":"core/src/main/java/org/syncope/core/persistence/beans/user/SyncopeUser.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FSyncopeUser.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FSyncopeUser.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FSyncopeUser.java?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -39,6 +39,7 @@\n import javax.validation.Valid;\n import org.apache.commons.codec.binary.Base64;\n import org.apache.commons.lang.RandomStringUtils;\n+import org.hibernate.annotations.Type;\n import org.syncope.core.persistence.beans.AbstractAttributable;\n import org.syncope.core.persistence.beans.AbstractAttr;\n import org.syncope.core.persistence.beans.AbstractDerAttr;\n@@ -92,6 +93,7 @@ public class SyncopeUser extends AbstractAttributable {\n     private Long workflowId;\n \n     @Lob\n+    @Type(type = \"org.hibernate.type.StringClobType\")\n     private String token;\n \n     @Temporal(TemporalType.TIMESTAMP)"},{"sha":"03025716c81b4f631c75d93d43d43459659ce1bf","filename":"core/src/main/java/org/syncope/core/persistence/dao/impl/UserSearchDAOImpl.java","status":"modified","additions":17,"deletions":16,"changes":33,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2Fimpl%2FUserSearchDAOImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2Fimpl%2FUserSearchDAOImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdao%2Fimpl%2FUserSearchDAOImpl.java?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -22,6 +22,7 @@\n import java.util.HashSet;\n import java.util.List;\n import java.util.Map;\n+import java.util.Map.Entry;\n import java.util.Random;\n import java.util.Set;\n import javax.persistence.Query;\n@@ -139,21 +140,18 @@ public List<SyncopeUser> search(final Set<Long> adminRoles,\n             final int page,\n             final int itemsPerPage) {\n \n-        List<SyncopeUser> result;\n+        List<SyncopeUser> result = Collections.EMPTY_LIST;\n \n         LOG.debug(\"Search condition:\\n{}\", searchCondition);\n         if (!searchCondition.checkValidity()) {\n             LOG.error(\"Invalid search condition:\\n{}\", searchCondition);\n-\n-            result = Collections.EMPTY_LIST;\n-        }\n-\n-        try {\n-            result = doSearch(adminRoles, searchCondition, page, itemsPerPage);\n-        } catch (Throwable t) {\n-            LOG.error(\"While searching users\", t);\n-\n-            result = Collections.EMPTY_LIST;\n+        } else {\n+            try {\n+                result = doSearch(adminRoles, searchCondition, page,\n+                        itemsPerPage);\n+            } catch (Throwable t) {\n+                LOG.error(\"While searching users\", t);\n+            }\n         }\n \n         return result;\n@@ -178,12 +176,15 @@ private Integer setParameter(final Random random,\n     private void fillWithParameters(final Query query,\n             final Map<Integer, Object> parameters) {\n \n-        for (Integer key : parameters.keySet()) {\n-            if (parameters.get(key) instanceof Date) {\n-                query.setParameter(\"param\" + key,\n-                        (Date) parameters.get(key), TemporalType.TIMESTAMP);\n+        for (Entry<Integer, Object> entry : parameters.entrySet()) {\n+            if (entry.getValue() instanceof Date) {\n+                query.setParameter(\"param\" + entry.getKey(),\n+                        (Date) entry.getValue(), TemporalType.TIMESTAMP);\n+            } else if (entry.getValue() instanceof Boolean) {\n+                query.setParameter(\"param\" + entry.getKey(),\n+                        ((Boolean) entry.getValue()) ? 1 : 0);\n             } else {\n-                query.setParameter(\"param\" + key, parameters.get(key));\n+                query.setParameter(\"param\" + entry.getKey(), entry.getValue());\n             }\n         }\n     }"},{"sha":"5136dae83751180162012e040e232522bfdcb477","filename":"core/src/main/resources/logback.xml","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fresources%2Flogback.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fresources%2Flogback.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2Flogback.xml?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -210,6 +210,7 @@\n         <appender-ref ref=\"test\"/>\n     </logger>\n \n+    <!-- Log4JDBC -->\n     <logger name=\"jdbc.sqlonly\" additivity=\"false\">\n         <level value=\"INFO\"/>\n         <appender-ref ref=\"test\"/>\n@@ -226,10 +227,15 @@\n         <level value=\"OFF\"/>\n         <appender-ref ref=\"test\"/>\n     </logger>\n+    <logger name=\"jdbc.resultsettable\" additivity=\"false\">\n+        <level value=\"OFF\"/>\n+        <appender-ref ref=\"test\"/>\n+    </logger>\n     <logger name=\"jdbc.connection\" additivity=\"false\">\n         <level value=\"OFF\"/>\n         <appender-ref ref=\"test\"/>\n     </logger>\n+    <!-- /Log4JDBC -->\n     \n     <root>\n         <level value=\"INFO\"/>"},{"sha":"65691d81e58f9a23ff45c9775b35ea431ec2eaa0","filename":"core/src/main/resources/persistenceContext.xml","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fresources%2FpersistenceContext.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Fmain%2Fresources%2FpersistenceContext.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2FpersistenceContext.xml?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -53,10 +53,10 @@\n     </bean>\n     <bean id=\"localDataSource\"\n           class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\">\n-        <property name=\"driverClassName\" value=\"${hibernate.connection.driver_class:org.hsqldb.jdbcDriver}\"/>\n-        <property name=\"url\" value=\"${hibernate.connection.url:jdbc:hsqldb:mem:syncopedb}\"/>\n-        <property name=\"username\" value=\"${hibernate.connection.username:sa}\"/>\n-        <property name=\"password\" value=\"${hibernate.connection.password:}\"/>\n+        <property name=\"driverClassName\" value=\"${hibernate.connection.driver_class}\"/>\n+        <property name=\"url\" value=\"${hibernate.connection.url}\"/>\n+        <property name=\"username\" value=\"${hibernate.connection.username}\"/>\n+        <property name=\"password\" value=\"${hibernate.connection.password}\"/>\n     </bean>\n \n     <bean id=\"entityManagerFactory\""},{"sha":"b1b4e4f1da84a17cfbd9b3b01792524e13b75a1c","filename":"core/src/test/java/org/syncope/core/rest/UserTestITCase.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -669,8 +669,6 @@ public final void paginatedSearch() {\n             userIds.add(user.getId());\n         }\n         assertEquals(2, userIds.size());\n-        assertTrue(userIds.contains(2L));\n-        assertTrue(userIds.contains(3L));\n     }\n \n     @Test"},{"sha":"af4a8778720dae42475a815fa6671bbcb6d1d92b","filename":"core/src/test/resources/log4j.xml","status":"removed","additions":0,"deletions":31,"changes":31,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1dd3374a81715c019e0b76dd4b8d8464fc37ebbe/core%2Fsrc%2Ftest%2Fresources%2Flog4j.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1dd3374a81715c019e0b76dd4b8d8464fc37ebbe/core%2Fsrc%2Ftest%2Fresources%2Flog4j.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fresources%2Flog4j.xml?ref=1dd3374a81715c019e0b76dd4b8d8464fc37ebbe","patch":"@@ -1,31 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n-<!DOCTYPE log4j:configuration SYSTEM \"log4j.dtd\">\n-<!--\n-  Licensed under the Apache License, Version 2.0 (the \"License\");\n-  you may not use this file except in compliance with the License.\n-  You may obtain a copy of the License at\n-\n-       http://www.apache.org/licenses/LICENSE-2.0\n-\n-  Unless required by applicable law or agreed to in writing, software\n-  distributed under the License is distributed on an \"AS IS\" BASIS,\n-  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n-  See the License for the specific language governing permissions and\n-  limitations under the License.\n--->\n-<log4j:configuration>\n-    <appender name=\"main\" class=\"org.apache.log4j.RollingFileAppender\">\n-        <param name=\"File\" value=\"${logfile.test}\"/>\n-        <param name=\"Append\" value=\"true\"/>\n-        <param name=\"MaxFileSize\" value=\"10240KB\" />\n-        <param name=\"MaxBackupIndex\" value=\"10\" />\n-        <layout class=\"org.apache.log4j.PatternLayout\">\n-            <param name=\"ConversionPattern\" value=\"%-5p %d %C.%M:%L %m%n\"/>\n-        </layout>\n-    </appender>\n-\n-    <root>\n-        <priority value=\"INFO\"/>\n-        <appender-ref ref=\"main\"/>\n-    </root>\n-</log4j:configuration>"},{"sha":"bc0945aa8526483f11d789c1ea48c653ca48b86a","filename":"core/src/test/resources/oracle/persistence.properties","status":"added","additions":20,"deletions":0,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Ftest%2Fresources%2Foracle%2Fpersistence.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Ftest%2Fresources%2Foracle%2Fpersistence.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fresources%2Foracle%2Fpersistence.properties?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -0,0 +1,20 @@\n+#  Licensed under the Apache License, Version 2.0 (the \"License\");\n+#  you may not use this file except in compliance with the License.\n+#  You may obtain a copy of the License at\n+#\n+#       http://www.apache.org/licenses/LICENSE-2.0\n+#\n+#  Unless required by applicable law or agreed to in writing, software\n+#  distributed under the License is distributed on an \"AS IS\" BASIS,\n+#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+#  See the License for the specific language governing permissions and\n+#  limitations under the License.\n+hibernate.connection.driver_class=oracle.jdbc.driver.OracleDriver\n+hibernate.connection.url=jdbc:oracle:thin:@pioppo:1521:orcl\n+hibernate.connection.username=syncope\n+hibernate.connection.password=syncope\n+hibernate.dialect=org.hibernate.dialect.Oracle10gDialect\n+dbUnitDataTypeFactory=org.dbunit.ext.oracle.Oracle10DataTypeFactory\n+quartz.jobstore=org.quartz.impl.jdbcjobstore.oracle.OracleDelegate\n+quartz.sql=tables_oracle.sql\n+database.schema=SYNCOPE"},{"sha":"4f01db1dca6352513de00ad6aa671dd5fb34aaaf","filename":"core/src/test/resources/postgres/persistence.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Ftest%2Fresources%2Fpostgres%2Fpersistence.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/core%2Fsrc%2Ftest%2Fresources%2Fpostgres%2Fpersistence.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fresources%2Fpostgres%2Fpersistence.properties?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -0,0 +1,19 @@\n+#  Licensed under the Apache License, Version 2.0 (the \"License\");\n+#  you may not use this file except in compliance with the License.\n+#  You may obtain a copy of the License at\n+#\n+#       http://www.apache.org/licenses/LICENSE-2.0\n+#\n+#  Unless required by applicable law or agreed to in writing, software\n+#  distributed under the License is distributed on an \"AS IS\" BASIS,\n+#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+#  See the License for the specific language governing permissions and\n+#  limitations under the License.\n+hibernate.connection.driver_class=org.postgresql.Driver\n+hibernate.connection.url=jdbc:postgresql://localhost:5432/syncope\n+hibernate.connection.username=syncope\n+hibernate.connection.password=syncope\n+hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\n+dbUnitDataTypeFactory=org.dbunit.ext.postgresql.PostgresqlDataTypeFactory\n+quartz.jobstore=org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\n+quartz.sql=tables_postgres.sql"},{"sha":"e4ccfb1250a83920efc90d0144c3a67980b99d77","filename":"pom.xml","status":"modified","additions":4,"deletions":3,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c34736d750e546b27b0a4f1eafb5e766b4db733a/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c34736d750e546b27b0a4f1eafb5e766b4db733a/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=c34736d750e546b27b0a4f1eafb5e766b4db733a","patch":"@@ -96,13 +96,13 @@\n         <velocity.version>1.7</velocity.version>\n         <quartz.version>1.8.5</quartz.version>\n \n-        <hibernate.version>3.6.6.Final</hibernate.version>\n+        <hibernate.version>3.6.7.Final</hibernate.version>\n         <hibernate-validator.version>4.2.0.Final</hibernate-validator.version>\n-        <ehcache.version>2.4.3</ehcache.version>\n+        <ehcache.version>2.4.4</ehcache.version>\n \n         <wicket.version>1.4.17</wicket.version>\n \n-        <org.apache.cxf.version>2.4.1</org.apache.cxf.version>\n+        <org.apache.cxf.version>2.4.2</org.apache.cxf.version>\n \n         <hsqldb.version>2.2.4</hsqldb.version>\n \n@@ -116,6 +116,7 @@\n         <dbunit.version>2.4.8</dbunit.version>\n \n         <cargo.version>1.1.1</cargo.version>\n+        <tomcat.version>7.0.20</tomcat.version>\n \n         <bundles.directory>/var/tmp/bundles</bundles.directory>\n         <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>"}]}
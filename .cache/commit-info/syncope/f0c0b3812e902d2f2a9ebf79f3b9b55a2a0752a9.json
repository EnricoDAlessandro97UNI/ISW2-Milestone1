{"sha":"f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmYwYzBiMzgxMmU5MDJkMmYyYTllYmY3OWYzYjliNTVhMmEwNzUyYTk=","commit":{"author":{"name":"Christian Schneider","email":"cschneider@apache.org","date":"2013-01-25T17:28:03Z"},"committer":{"name":"Christian Schneider","email":"cschneider@apache.org","date":"2013-01-25T17:28:03Z"},"message":"SYNCOPE-231 Restoring old behaviour of isCreateAllowed in UserRequestService\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1438603 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"2ae29fa0a40d7e4f3c686bfea13b609cbf8351a2","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/2ae29fa0a40d7e4f3c686bfea13b609cbf8351a2"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9/comments","author":{"login":"cschneider","id":484584,"node_id":"MDQ6VXNlcjQ4NDU4NA==","avatar_url":"https://avatars.githubusercontent.com/u/484584?v=4","gravatar_id":"","url":"https://api.github.com/users/cschneider","html_url":"https://github.com/cschneider","followers_url":"https://api.github.com/users/cschneider/followers","following_url":"https://api.github.com/users/cschneider/following{/other_user}","gists_url":"https://api.github.com/users/cschneider/gists{/gist_id}","starred_url":"https://api.github.com/users/cschneider/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cschneider/subscriptions","organizations_url":"https://api.github.com/users/cschneider/orgs","repos_url":"https://api.github.com/users/cschneider/repos","events_url":"https://api.github.com/users/cschneider/events{/privacy}","received_events_url":"https://api.github.com/users/cschneider/received_events","type":"User","site_admin":false},"committer":{"login":"cschneider","id":484584,"node_id":"MDQ6VXNlcjQ4NDU4NA==","avatar_url":"https://avatars.githubusercontent.com/u/484584?v=4","gravatar_id":"","url":"https://api.github.com/users/cschneider","html_url":"https://github.com/cschneider","followers_url":"https://api.github.com/users/cschneider/followers","following_url":"https://api.github.com/users/cschneider/following{/other_user}","gists_url":"https://api.github.com/users/cschneider/gists{/gist_id}","starred_url":"https://api.github.com/users/cschneider/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cschneider/subscriptions","organizations_url":"https://api.github.com/users/cschneider/orgs","repos_url":"https://api.github.com/users/cschneider/repos","events_url":"https://api.github.com/users/cschneider/events{/privacy}","received_events_url":"https://api.github.com/users/cschneider/received_events","type":"User","site_admin":false},"parents":[{"sha":"f48e7aef61a0d2a34a0120bebae7a75c77b071e6","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f48e7aef61a0d2a34a0120bebae7a75c77b071e6","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f48e7aef61a0d2a34a0120bebae7a75c77b071e6"}],"stats":{"total":18,"additions":12,"deletions":6},"files":[{"sha":"8f103dba22a21947cf7221460a548361aee70148","filename":"client/src/main/java/org/apache/syncope/client/services/proxy/UserRequestServiceProxy.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fservices%2Fproxy%2FUserRequestServiceProxy.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fservices%2Fproxy%2FUserRequestServiceProxy.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fservices%2Fproxy%2FUserRequestServiceProxy.java?ref=f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9","patch":"@@ -37,6 +37,7 @@ public Response getOptions() {\n         return Response.ok().allow(\"GET\", \"POST\", \"DELETE\").header(SYNCOPE_CREATE_ALLOWED, isCreateAllowed()).build();\r\n     }\r\n \r\n+    @Override\r\n     public boolean isCreateAllowed() {\r\n         return getRestTemplate().getForObject(baseUrl + \"user/request/create/allowed\", Boolean.class);\r\n     }\r"},{"sha":"1df1e599ca4069dc9922c7383638996cfc18fde9","filename":"common/src/main/java/org/apache/syncope/common/services/UserRequestService.java","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fservices%2FUserRequestService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fservices%2FUserRequestService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fservices%2FUserRequestService.java?ref=f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9","patch":"@@ -37,6 +37,10 @@ public interface UserRequestService {\n     @OPTIONS\r\n     Response getOptions();\r\n \r\n+    @GET\r\n+    @Path(\"create/allowed\")\r\n+    boolean isCreateAllowed();\r\n+\r\n     @POST\r\n     Response create(UserRequestTO userRequestTO);\r\n \r"},{"sha":"b0894ca35fe36184a40bed860e240a1656ff430c","filename":"console/src/main/java/org/apache/syncope/console/pages/Login.java","status":"modified","additions":2,"deletions":6,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FLogin.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FLogin.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FLogin.java?ref=f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9","patch":"@@ -29,6 +29,7 @@\n import org.apache.http.util.EntityUtils;\n import org.apache.syncope.client.http.PreemptiveAuthHttpRequestFactory;\n import org.apache.syncope.common.services.EntitlementService;\n+import org.apache.syncope.common.services.UserRequestService;\n import org.apache.syncope.common.to.EntitlementTO;\n import org.apache.syncope.common.to.UserTO;\n import org.apache.syncope.common.util.CollectionWrapper;\n@@ -197,12 +198,7 @@ private String[] authenticate(final String userId, final String password) {\n     private boolean isSelfRegistrationAllowed() {\n         Boolean result = null;\n         try {\n-            // TODO: broken by revision 1438558 - temporary workaround\n-            /*String createAllowed = SyncopeSession.get().getService(UserRequestService.class).getOptions().\n-             getHeaderString(UserRequestService.SYNCOPE_CREATE_ALLOWED);\n-             result = Boolean.parseBoolean(createAllowed);*/\n-            result = SyncopeSession.get().getRestTemplate().getForObject(\n-                    baseURL + \"user/request/create/allowed\", Boolean.class);\n+            result = SyncopeSession.get().getService(UserRequestService.class).isCreateAllowed();\n         } catch (HttpClientErrorException e) {\n             LOG.error(\"While seeking if self registration is allowed\", e);\n         }"},{"sha":"36fda3a565250dfffa62aba99c0ae1ac9516f07e","filename":"core/src/main/java/org/apache/syncope/core/services/UserRequestServiceImpl.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fservices%2FUserRequestServiceImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fservices%2FUserRequestServiceImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fservices%2FUserRequestServiceImpl.java?ref=f0c0b3812e902d2f2a9ebf79f3b9b55a2a0752a9","patch":"@@ -47,6 +47,11 @@ public Response getOptions() {\n                 .header(SYNCOPE_CREATE_ALLOWED, userRequestController.isCreateAllowedByConf()).build();\n     }\n \n+    @Override\n+    public boolean isCreateAllowed() {\n+        return userRequestController.isCreateAllowedByConf();\n+    }\n+\n     @Override\n     public Response create(UserRequestTO userRequestTO) {\n         try {"}]}
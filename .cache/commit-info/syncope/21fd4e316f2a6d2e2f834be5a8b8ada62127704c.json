{"sha":"21fd4e316f2a6d2e2f834be5a8b8ada62127704c","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjIxZmQ0ZTMxNmYyYTZkMmUyZjgzNGJlNWE4YjhhZGE2MjEyNzcwNGM=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2010-07-26T11:36:10Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2010-07-26T11:36:10Z"},"message":"bug-fix\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1246414 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"e372d413d51437f5c895cc7f3a3639e5fc6a1e89","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/e372d413d51437f5c895cc7f3a3639e5fc6a1e89"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/21fd4e316f2a6d2e2f834be5a8b8ada62127704c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/21fd4e316f2a6d2e2f834be5a8b8ada62127704c","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/21fd4e316f2a6d2e2f834be5a8b8ada62127704c","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/comments","author":null,"committer":null,"parents":[{"sha":"3cb97dcc81748b97c4f818b7653ea41f2d74f2c3","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3cb97dcc81748b97c4f818b7653ea41f2d74f2c3","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/3cb97dcc81748b97c4f818b7653ea41f2d74f2c3"}],"stats":{"total":130,"additions":83,"deletions":47},"files":[{"sha":"c5da7d38c220cf9ed54df4e7b2a84092f011b034","filename":"core/pom.xml","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/core%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/core%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpom.xml?ref=21fd4e316f2a6d2e2f834be5a8b8ada62127704c","patch":"@@ -369,7 +369,8 @@\n                         <configuration>\n                             <packagingExcludes>\n                                 WEB-INF/classes/org/syncope/core/persistence/db.properties,\n-                                WEB-INF/classes/org/syncope/core/persistence/content.xml\n+                                WEB-INF/classes/org/syncope/core/persistence/content.xml,\n+                                WEB-INF/classes/beans.xml\n                             </packagingExcludes>\n                         </configuration>\n                     </execution>"},{"sha":"7f1d5e224ac616813d2d3caae1c86af8a76531c2","filename":"core/src/main/java/org/syncope/core/persistence/propagation/PropagationManager.java","status":"modified","additions":21,"deletions":6,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fpropagation%2FPropagationManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fpropagation%2FPropagationManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fpropagation%2FPropagationManager.java?ref=21fd4e316f2a6d2e2f834be5a8b8ada62127704c","patch":"@@ -230,24 +230,35 @@ private void propagate(SyncopeUser user, Resource resource, boolean merge)\n                     \"Connector instance bean not found\");\n         }\n \n+        // get password\n+        String password = user.getPassword();\n+\n+        // get mapping\n         Set<SchemaMapping> mappings = resource.getMappings();\n \n+        // set of user attributes\n         Set<Attribute> attrs = new HashSet<Attribute>();\n \n+        // cast to be applied on SchemaType\n         Class castToBeApplied = null;\n-        SchemaType type = null;\n \n+        // account id\n         String accountId = null;\n \n+        // resource field\n         String field = null;\n+        // resource field values\n+        Set objValues = null;\n \n-        UserAttribute userAttribute = null;\n+        // syncope attribute schema name\n         String schema = null;\n+        // syncope user attribute\n+        UserAttribute userAttribute = null;\n+        // syncope user attribute schema type\n+        SchemaType type = null;\n+        // syncope user attribute values\n         Set<UserAttributeValue> values = null;\n \n-        String password = user.getPassword();\n-\n-        Set objValues = new HashSet();\n \n         for (SchemaMapping mapping : mappings) {\n \n@@ -266,15 +277,19 @@ private void propagate(SyncopeUser user, Resource resource, boolean merge)\n                 castToBeApplied = String.class;\n             }\n \n-\n             if (log.isDebugEnabled()) {\n                 log.debug(\n                         \"\\nDefine mapping for: \" +\n                         \"\\n* Field \" + field +\n+                        \"\\n* is accountId \" + mapping.isAccountid() +\n+                        \"\\n* is password \" + mapping.isPassword() +\n+                        \"\\n* is nullable \" + mapping.isNullable() +\n                         \"\\n* Schema \" + schema +\n                         \"\\n* Type \" + type.getClassName());\n             }\n \n+            objValues = new HashSet();\n+\n             if (userAttribute != null) {\n                 values = (Set<UserAttributeValue>) userAttribute.getAttributeValues();\n "},{"sha":"10badb0336d162c99bcba54eefe6fc105b8357eb","filename":"core/src/main/java/org/syncope/core/persistence/security/AsymmetricCipher.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fsecurity%2FAsymmetricCipher.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fsecurity%2FAsymmetricCipher.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fsecurity%2FAsymmetricCipher.java?ref=21fd4e316f2a6d2e2f834be5a8b8ada62127704c","patch":"@@ -29,7 +29,7 @@\n \n public class AsymmetricCipher {\n \n-    final private static String xform = \"RSA/NONE/PKCS1PADDING\";\n+    final private static String xform = \"RSA/NONE/PKCS1Padding\";\n     final private static String algorithm = \"RSA\";\n \n     public static byte[] encrypt(byte[] inpBytes, PublicKey key)"},{"sha":"ea2ea14c13f768bf66bb1623d6c56c85263a1265","filename":"core/src/main/resources/log4j.xml","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/core%2Fsrc%2Fmain%2Fresources%2Flog4j.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/core%2Fsrc%2Fmain%2Fresources%2Flog4j.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2Flog4j.xml?ref=21fd4e316f2a6d2e2f834be5a8b8ada62127704c","patch":"@@ -55,12 +55,12 @@\n     </appender>\n \n     <logger name=\"org.syncope.core.persistence\" additivity=\"false\">\n-        <level value=\"INFO\"/>\n+        <level value=\"DEBUG\"/>\n         <appender-ref ref=\"persistence\"/>\n     </logger>\n \n     <logger name=\"org.syncope.core.rest\" additivity=\"false\">\n-        <level value=\"INFO\"/>\n+        <level value=\"DEBUG\"/>\n         <appender-ref ref=\"rest\"/>\n     </logger>\n \n@@ -100,7 +100,7 @@\n     </logger>\n \n     <root>\n-        <priority value=\"INFO\"/>\n+        <priority value=\"DEBUG\"/>\n         <appender-ref ref=\"main\"/>\n         <appender-ref ref=\"persistence\"/>\n         <appender-ref ref=\"rest\"/>"},{"sha":"d962cdf3888d0fe30776ea784475db00fae7f9e1","filename":"core/src/main/resources/org/syncope/core/persistence/content.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/core%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/core%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fcontent.xml?ref=21fd4e316f2a6d2e2f834be5a8b8ada62127704c","patch":"@@ -40,7 +40,7 @@\n     <UserSchema name=\"email\" type=\"String\" virtual=\"false\"\n                 mandatory=\"false\" multivalue=\"true\" uniquevalue=\"false\"\n                 validatorClass=\"org.syncope.core.persistence.validation.EmailAddressValidator\"/>\n-\n+               \n     <UserDerivedSchema name=\"username\" expression=\"firstname + '.' + surname\"/>\n \n     <UserDerivedSchema_UserSchema derivedSchemas_name=\"username\""},{"sha":"b6f84cc7bb7a967b3fe218602c109800873b11cf","filename":"core/src/test/java/org/syncope/core/test/rest/ResourceTestITCase.java","status":"modified","additions":9,"deletions":7,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Ftest%2Frest%2FResourceTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Ftest%2Frest%2FResourceTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Ftest%2Frest%2FResourceTestITCase.java?ref=21fd4e316f2a6d2e2f834be5a8b8ada62127704c","patch":"@@ -57,13 +57,15 @@ public void create() {\n \n         SchemaMappingTO schemaMappingTO = null;\n \n-        for (int i = 0; i < 3; i++) {\n-            schemaMappingTO = new SchemaMappingTO();\n-            schemaMappingTO.setField(\"test\" + i);\n-            schemaMappingTO.setUserSchema(\"username\");\n-            schemaMappingTO.setRoleSchema(\"icon\");\n-            schemaMappingTOs.addMapping(schemaMappingTO);\n-        }\n+        schemaMappingTO = new SchemaMappingTO();\n+        schemaMappingTO.setField(\"uid\");\n+        schemaMappingTO.setUserSchema(\"userId\");\n+        schemaMappingTOs.addMapping(schemaMappingTO);\n+\n+        schemaMappingTO = new SchemaMappingTO();\n+        schemaMappingTO.setField(\"icon\");\n+        schemaMappingTO.setRoleSchema(\"icon\");\n+        schemaMappingTOs.addMapping(schemaMappingTO);\n \n         resourceTO.setMappings(schemaMappingTOs);\n "},{"sha":"68fde0d7ce26fe67b56af6edcd78ef31d0cf9fbd","filename":"core/src/test/resources/org/syncope/core/persistence/content.xml","status":"modified","additions":13,"deletions":0,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/core%2Fsrc%2Ftest%2Fresources%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/core%2Fsrc%2Ftest%2Fresources%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fresources%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fcontent.xml?ref=21fd4e316f2a6d2e2f834be5a8b8ada62127704c","patch":"@@ -145,6 +145,12 @@\n     <Resource name=\"ws-target-resource-delete\" connector_id=\"100\"/>\n     <Resource name=\"ws-target-resource-update\" connector_id=\"100\"/>\n \n+    <Resource_SyncopeRole Resource_name=\"ws-target-resource-delete\" roles_id=\"3\" />\n+    <SyncopeRole_Resource SyncopeRole_id=\"3\" resources_name=\"ws-target-resource-delete\" />\n+\n+    <Resource_SyncopeUser Resource_name=\"ws-target-resource-delete\" users_id=\"3\" />\n+    <SyncopeUser_Resource SyncopeUser_id=\"3\" resources_name=\"ws-target-resource-delete\" />\n+\n     <Resource_SyncopeRole Resource_name=\"ws-target-resource-list-mappings-1\" roles_id=\"3\" />\n     <SyncopeRole_Resource SyncopeRole_id=\"3\" resources_name=\"ws-target-resource-list-mappings-1\" />\n \n@@ -157,6 +163,11 @@\n     <Resource_SyncopeRole Resource_name=\"ws-target-resource-list-mappings-2\" roles_id=\"3\" />\n     <SyncopeRole_Resource SyncopeRole_id=\"3\" resources_name=\"ws-target-resource-list-mappings-2\" />\n \n+    <SchemaMapping id=\"99\" field=\"username\"\n+                   resource_name=\"ws-target-resource-delete\"\n+                   userSchema_name=\"email\" nullable=\"false\"\n+                   accountid=\"true\" password=\"false\"/>\n+\n     <SchemaMapping id=\"100\" field=\"username\"\n                    resource_name=\"ws-target-resource-1\"\n                    userSchema_name=\"email\" nullable=\"false\"\n@@ -166,10 +177,12 @@\n                    resource_name=\"ws-target-resource-2\"\n                    userSchema_name=\"username\" nullable=\"false\"\n                    accountid=\"true\" password=\"false\"/>\n+\n     <SchemaMapping id=\"105\" field=\"cognome\"\n                    resource_name=\"ws-target-resource-2\"\n                    userSchema_name=\"surname\" nullable=\"false\"\n                    accountid=\"false\" password=\"false\"/>\n+                   \n     <SchemaMapping id=\"106\" field=\"password\"\n                    resource_name=\"ws-target-resource-2\"\n                    userSchema_name=\"surname\" nullable=\"false\""},{"sha":"3876a327a182629f938b1fca643b7c2fbd180393","filename":"identityconnectors/bundles/staticws/staticwebservice/src/main/java/org/syncope/identityconnectors/bundles/staticwebservice/WebServiceConnector.java","status":"modified","additions":9,"deletions":7,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/identityconnectors%2Fbundles%2Fstaticws%2Fstaticwebservice%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2FWebServiceConnector.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/identityconnectors%2Fbundles%2Fstaticws%2Fstaticwebservice%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2FWebServiceConnector.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/identityconnectors%2Fbundles%2Fstaticws%2Fstaticwebservice%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2FWebServiceConnector.java?ref=21fd4e316f2a6d2e2f834be5a8b8ada62127704c","patch":"@@ -1,9 +1,11 @@\n package org.syncope.identityconnectors.bundles.staticwebservice;\n \n+import java.util.ArrayList;\n import org.syncope.identityconnectors.bundles.staticwebservice.provisioning.interfaces.Provisioning;\n import java.util.HashMap;\n import java.util.HashSet;\n import java.util.Iterator;\n+import java.util.List;\n import java.util.Set;\n import org.identityconnectors.common.security.GuardedByteArray;\n import org.identityconnectors.framework.common.objects.filter.FilterTranslator;\n@@ -258,8 +260,8 @@ public Uid create(\n         }\n \n         // to be user in order to pass information to the web service\n-        Set<WSAttributeValue> attributes =\n-                new HashSet<WSAttributeValue>();\n+        List<WSAttributeValue> attributes =\n+                new ArrayList<WSAttributeValue>();\n \n         WSAttributeValue wsAttributeValue = null;\n \n@@ -377,7 +379,7 @@ public Schema schema() {\n             throw new IllegalStateException(\"Web Service client not found\");\n         }\n \n-        Set<WSAttribute> wsAttrs = provisioning.schema();\n+        List<WSAttribute> wsAttrs = provisioning.schema();\n \n         Set<AttributeInfo> attributes = new HashSet<AttributeInfo>();\n \n@@ -505,7 +507,7 @@ public void executeQuery(\n \n         try {\n \n-            Set<WSUser> resultSet = provisioning.query(query);\n+            List<WSUser> resultSet = provisioning.query(query);\n \n             Iterator i = resultSet.iterator();\n \n@@ -580,8 +582,8 @@ public Uid update(ObjectClass objclass,\n         }\n \n         // to be user in order to pass information to the web service\n-        Set<WSAttributeValue> attributes =\n-                new HashSet<WSAttributeValue>();\n+        List<WSAttributeValue> attributes =\n+                new ArrayList<WSAttributeValue>();\n \n         WSAttributeValue wsAttributeValue = null;\n \n@@ -661,7 +663,7 @@ public void sync(\n \n         try {\n \n-            Set<WSChange> changes = provisioning.sync();\n+            List<WSChange> changes = provisioning.sync();\n \n             SyncDeltaBuilder sdb = null;\n "},{"sha":"9f1dc2303d6166b284e9be81cbfa184a60a63a12","filename":"identityconnectors/bundles/staticws/utilities/src/main/java/org/syncope/identityconnectors/bundles/staticwebservice/provisioning/interfaces/Provisioning.java","status":"modified","additions":6,"deletions":7,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/identityconnectors%2Fbundles%2Fstaticws%2Futilities%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2Fprovisioning%2Finterfaces%2FProvisioning.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/identityconnectors%2Fbundles%2Fstaticws%2Futilities%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2Fprovisioning%2Finterfaces%2FProvisioning.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/identityconnectors%2Fbundles%2Fstaticws%2Futilities%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2Fprovisioning%2Finterfaces%2FProvisioning.java?ref=21fd4e316f2a6d2e2f834be5a8b8ada62127704c","patch":"@@ -14,7 +14,7 @@\n  */\n package org.syncope.identityconnectors.bundles.staticwebservice.provisioning.interfaces;\n \n-import java.util.Set;\n+import java.util.List;\n import javax.jws.WebMethod;\n import javax.jws.WebParam;\n import javax.jws.WebService;\n@@ -25,7 +25,6 @@\n import org.syncope.identityconnectors.bundles.staticwebservice.exceptions.ProvisioningException;\n import org.syncope.identityconnectors.bundles.staticwebservice.utilities.Operand;\n \n-\n @WebService\n public interface Provisioning {\n \n@@ -70,7 +69,7 @@ public String authenticate(\n      * @return a set of attributes.\n      */\n     @WebMethod(operationName = \"schema\")\n-    public Set<WSAttribute> schema();\n+    public List<WSAttribute> schema();\n \n     /**\n      * Creates user account.\n@@ -80,7 +79,7 @@ public String authenticate(\n      */\n     @WebMethod(operationName = \"create\")\n     public String create(\n-            @WebParam(name = \"data\") final Set<WSAttributeValue> data)\n+            @WebParam(name = \"data\") final List<WSAttributeValue> data)\n             throws ProvisioningException;\n \n     /**\n@@ -93,7 +92,7 @@ public String create(\n     @WebMethod(operationName = \"update\")\n     public String update(\n             @WebParam(name = \"accountid\") final String accountid,\n-            @WebParam(name = \"data\") final Set<WSAttributeValue> data)\n+            @WebParam(name = \"data\") final List<WSAttributeValue> data)\n             throws ProvisioningException;\n \n     /**\n@@ -112,7 +111,7 @@ public String delete(@WebParam(name = \"accountid\") final String accountid)\n      * @return a set of user accounts.\n      */\n     @WebMethod(operationName = \"query\")\n-    public Set<WSUser> query(@WebParam(name = \"query\") final Operand query);\n+    public List<WSUser> query(@WebParam(name = \"query\") final Operand query);\n \n     /**\n      * Returns accountid related to the specified username.\n@@ -139,6 +138,6 @@ public int getLatestChangeNumber()\n      * @throws ProvisioningException in case of failure\n      */\n     @WebMethod(operationName = \"sync\")\n-    public Set<WSChange> sync()\n+    public List<WSChange> sync()\n             throws ProvisioningException;\n }"},{"sha":"18ca66cb616915245c5ff5f2eef72e57ce5946d4","filename":"identityconnectors/bundles/staticws/ws-target-resource/src/main/java/org/syncope/identityconnectors/bundles/staticwebservice/wstarget/ProvisioningImpl.java","status":"modified","additions":12,"deletions":10,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/identityconnectors%2Fbundles%2Fstaticws%2Fws-target-resource%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2Fwstarget%2FProvisioningImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/identityconnectors%2Fbundles%2Fstaticws%2Fws-target-resource%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2Fwstarget%2FProvisioningImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/identityconnectors%2Fbundles%2Fstaticws%2Fws-target-resource%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2Fwstarget%2FProvisioningImpl.java?ref=21fd4e316f2a6d2e2f834be5a8b8ada62127704c","patch":"@@ -14,7 +14,9 @@\n  */\n package org.syncope.identityconnectors.bundles.staticwebservice.wstarget;\n \n+import java.util.ArrayList;\n import java.util.HashSet;\n+import java.util.List;\n import java.util.Set;\n import javax.jws.WebService;\n import org.slf4j.Logger;\n@@ -88,8 +90,8 @@ public String checkAlive() {\n      * @return a set of attributes.\n      */\n     @Override\n-    public Set<WSAttribute> schema() {\n-        Set<WSAttribute> attrs = new HashSet<WSAttribute>();\n+    public List<WSAttribute> schema() {\n+        List<WSAttribute> attrs = new ArrayList<WSAttribute>();\n \n         WSAttribute attr = null;\n \n@@ -130,11 +132,11 @@ public Set<WSAttribute> schema() {\n      * @throws ProvisioningException in case of failure.\n      */\n     @Override\n-    public String create(final Set<WSAttributeValue> data)\n+    public String create(final List<WSAttributeValue> data)\n             throws ProvisioningException {\n \n-        Set<String> schema = new HashSet<String>();\n-        Set<WSAttribute> attrs = schema();\n+        List<String> schema = new ArrayList<String>();\n+        List<WSAttribute> attrs = schema();\n         for (WSAttribute attr : attrs) {\n             schema.add(attr.getName());\n         }\n@@ -193,7 +195,7 @@ public String delete(final String accountid) throws ProvisioningException {\n     @Override\n     public String update(\n             final String accountid,\n-            final Set<WSAttributeValue> data) throws ProvisioningException {\n+            final List<WSAttributeValue> data) throws ProvisioningException {\n \n         for (WSAttributeValue value : data) {\n             if (log.isDebugEnabled()) {\n@@ -216,9 +218,9 @@ public String update(\n      * @return a set of user accounts.\n      */\n     @Override\n-    public Set<WSUser> query(Operand query) {\n+    public List<WSUser> query(Operand query) {\n \n-        Set<WSUser> resultSet = new HashSet<WSUser>();\n+        List<WSUser> resultSet = new ArrayList<WSUser>();\n \n         WSUser user = null;\n         WSAttributeValue attr = null;\n@@ -278,7 +280,7 @@ public int getLatestChangeNumber() throws ProvisioningException {\n      * @throws ProvisioningException in case of failure\n      */\n     @Override\n-    public Set<WSChange> sync() throws ProvisioningException {\n+    public List<WSChange> sync() throws ProvisioningException {\n \n         WSChange change = new WSChange();\n \n@@ -302,7 +304,7 @@ public Set<WSChange> sync() throws ProvisioningException {\n \n         change.setAttributes(attrs);\n \n-        Set<WSChange> changes = new HashSet<WSChange>();\n+        List<WSChange> changes = new ArrayList<WSChange>();\n         changes.add(change);\n \n         return changes;"},{"sha":"0c0b651ddb48bdbde1581fe3dffcb57b76d4b04f","filename":"identityconnectors/bundles/staticws/ws-target-resource/src/test/java/org/syncope/identityconnectors/bundles/staticwebservice/wstarget/test/ProvisioningTestITCase.java","status":"modified","additions":6,"deletions":4,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/identityconnectors%2Fbundles%2Fstaticws%2Fws-target-resource%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2Fwstarget%2Ftest%2FProvisioningTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/21fd4e316f2a6d2e2f834be5a8b8ada62127704c/identityconnectors%2Fbundles%2Fstaticws%2Fws-target-resource%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2Fwstarget%2Ftest%2FProvisioningTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/identityconnectors%2Fbundles%2Fstaticws%2Fws-target-resource%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fidentityconnectors%2Fbundles%2Fstaticwebservice%2Fwstarget%2Ftest%2FProvisioningTestITCase.java?ref=21fd4e316f2a6d2e2f834be5a8b8ada62127704c","patch":"@@ -14,9 +14,11 @@\n  */\n package org.syncope.identityconnectors.bundles.staticwebservice.wstarget.test;\n \n+import java.util.ArrayList;\n import static org.junit.Assert.*;\n \n import java.util.HashSet;\n+import java.util.List;\n import java.util.Set;\n import org.apache.cxf.jaxws.JaxWsProxyFactoryBean;\n import org.junit.Before;\n@@ -163,7 +165,7 @@ public void create() {\n             birthday.setName(\"data di nascita\");\n             birthday.setValue(\"12/09/1990\");\n \n-            Set<WSAttributeValue> attrs = new HashSet<WSAttributeValue>();\n+            List<WSAttributeValue> attrs = new ArrayList<WSAttributeValue>();\n             attrs.add(uid);\n             attrs.add(password);\n             attrs.add(name);\n@@ -202,7 +204,7 @@ public void update() {\n             name.setValue(\"test1\");\n \n \n-            Set<WSAttributeValue> attrs = new HashSet<WSAttributeValue>();\n+            List<WSAttributeValue> attrs = new ArrayList<WSAttributeValue>();\n             attrs.add(surname);\n             attrs.add(name);\n \n@@ -274,7 +276,7 @@ public void query() {\n \n             Operand query = new Operand(Operator.OR, sop, true);\n \n-            Set<WSUser> results = provisioning.query(query);\n+            List<WSUser> results = provisioning.query(query);\n \n             for (WSUser user : results) {\n                 log.debug(\"Name: \" + user.getAccountid());\n@@ -346,7 +348,7 @@ public void sync() {\n \n         try {\n \n-            Set<WSChange> results = provisioning.sync();\n+            List<WSChange> results = provisioning.sync();\n \n             for (WSChange change : results) {\n                 log.debug(\"Delta: \" + change.getId());"}]}
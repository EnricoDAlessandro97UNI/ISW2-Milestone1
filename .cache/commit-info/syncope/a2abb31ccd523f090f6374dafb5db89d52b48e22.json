{"sha":"a2abb31ccd523f090f6374dafb5db89d52b48e22","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmEyYWJiMzFjY2Q1MjNmMDkwZjYzNzRkYWZiNWRiODlkNTJiNDhlMjI=","commit":{"author":{"name":"Misagh Moayyed","email":"mm1844@gmail.com","date":"2020-05-14T07:32:28Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2020-05-14T07:32:28Z"},"message":"SYNCOPE-1559: Support GoogleAuth MFA configuration (#187)","tree":{"sha":"ca32de10add5a45e01d3f57863078aad5b0699d2","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/ca32de10add5a45e01d3f57863078aad5b0699d2"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/a2abb31ccd523f090f6374dafb5db89d52b48e22","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJevPQMCRBK7hj4Ov3rIwAAdHIIADUdojsbYIiHxEonLBNY2Cj4\nn3oPZd5eG+s65IzE1ooFFaOtQfeRshPPcRwmyyvCGmtLiIItca/sOyJ7RvIDeO2E\nvt1BBQaJ/i778+JAA1rpkphQkVxl38N/jwNqmphk069xHT2v6jDlCFyK+9zOLC+8\nuIIuwPImacjeqGSnPstGq7pymrJVb8R4rdjSuFyh0Eei573eJcwfHsR6Sq4x2G7H\n55YaViYUm6rBv+vGkJHgZoNBU01YJuKhhFHnLB86Z99O/d7PURH9IiA5uJtD2Uc2\nf8jA2CO2bGIUTHgWVyYBfvNBg0QULA/YZji/IT83uOae4t6sM24ml1fDRi2bU8E=\n=wSyM\n-----END PGP SIGNATURE-----\n","payload":"tree ca32de10add5a45e01d3f57863078aad5b0699d2\nparent d984ebbd48013427be797f9c46169d5580c9b81e\nauthor Misagh Moayyed <mm1844@gmail.com> 1589441548 +0430\ncommitter GitHub <noreply@github.com> 1589441548 +0430\n\nSYNCOPE-1559: Support GoogleAuth MFA configuration (#187)\n\n"}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a2abb31ccd523f090f6374dafb5db89d52b48e22","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/a2abb31ccd523f090f6374dafb5db89d52b48e22","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a2abb31ccd523f090f6374dafb5db89d52b48e22/comments","author":{"login":"mmoayyed","id":1205228,"node_id":"MDQ6VXNlcjEyMDUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/1205228?v=4","gravatar_id":"","url":"https://api.github.com/users/mmoayyed","html_url":"https://github.com/mmoayyed","followers_url":"https://api.github.com/users/mmoayyed/followers","following_url":"https://api.github.com/users/mmoayyed/following{/other_user}","gists_url":"https://api.github.com/users/mmoayyed/gists{/gist_id}","starred_url":"https://api.github.com/users/mmoayyed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmoayyed/subscriptions","organizations_url":"https://api.github.com/users/mmoayyed/orgs","repos_url":"https://api.github.com/users/mmoayyed/repos","events_url":"https://api.github.com/users/mmoayyed/events{/privacy}","received_events_url":"https://api.github.com/users/mmoayyed/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"d984ebbd48013427be797f9c46169d5580c9b81e","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d984ebbd48013427be797f9c46169d5580c9b81e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d984ebbd48013427be797f9c46169d5580c9b81e"}],"stats":{"total":38,"additions":22,"deletions":16},"files":[{"sha":"541260662f3d3529bd077e6150c83e3a3f56f69e","filename":"core/persistence-jpa-json/src/test/resources/domains/MasterContent.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a2abb31ccd523f090f6374dafb5db89d52b48e22/core%2Fpersistence-jpa-json%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a2abb31ccd523f090f6374dafb5db89d52b48e22/core%2Fpersistence-jpa-json%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa-json%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml?ref=a2abb31ccd523f090f6374dafb5db89d52b48e22","patch":"@@ -66,7 +66,7 @@ under the License.\n   <AuthModule id=\"4c3ed7e8-7008-11ea-bc55-0242ac130003\" name=\"DefaultJDBCAuthModule\"\n               description=\"JDBC auth module\" jsonConf='{\"@class\":\"org.apache.syncope.common.lib.auth.JDBCAuthModuleConf\",\"name\":\"MyJDBCAuthModuleConf\", \"sql\":\"SELECT * FROM table WHERE name=?\"}'/>\n   <AuthModule id=\"4c3ed4e6-7008-11ea-bc55-0242ac130003\" name=\"DefaultGoogleMfaAuthModule\"\n-              description=\"Google Mfa auth module\" jsonConf='{\"@class\":\"org.apache.syncope.common.lib.auth.GoogleMfaAuthModuleConf\",\"name\":\"MyGoogleMfaAuthModuleConf\",\"codeDigits\":6,\"issuer\":\"SyncopeTest\"}'/>\n+              description=\"Google Mfa auth module\" jsonConf='{\"@class\":\"org.apache.syncope.common.lib.auth.GoogleMfaAuthModuleConf\",\"name\":\"MyGoogleMfaAuthModuleConf\",\"codeDigits\":6,\"issuer\":\"SyncopeTest\", \"label\":\"SyncopeTest\", \"timeStepSize\":30, \"windowSize\":3}'/>\n   <AuthModule id=\"4c3ed8f6-7008-11ea-bc55-0242ac130003\" name=\"DefaultOIDCAuthModule\"\n               description=\"OIDC auth module\"\n               jsonConf='{\"@class\":\"org.apache.syncope.common.lib.auth.OIDCAuthModuleConf\",\"name\":\"MyOIDCAuthModuleConf\", \"discoveryUri\":\"https://accounts.google.com/.well-known/openid-configuration\", \"id\":\"client-id\", \"secret\": \"client-secret\" }'/>"},{"sha":"d9140220a95d742c56c27ab29978d7438644e4e0","filename":"core/persistence-jpa/src/test/resources/domains/MasterContent.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a2abb31ccd523f090f6374dafb5db89d52b48e22/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a2abb31ccd523f090f6374dafb5db89d52b48e22/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml?ref=a2abb31ccd523f090f6374dafb5db89d52b48e22","patch":"@@ -66,7 +66,7 @@ under the License.\n   <AuthModule id=\"4c3ed7e8-7008-11ea-bc55-0242ac130003\" name=\"DefaultJDBCAuthModule\"\n               description=\"JDBC auth module\" jsonConf='{\"@class\":\"org.apache.syncope.common.lib.auth.JDBCAuthModuleConf\",\"name\":\"MyJDBCAuthModuleConf\", \"sql\":\"SELECT * FROM users_table WHERE name=?\", \"fieldPassword\": \"password\"}'/>\n   <AuthModule id=\"4c3ed4e6-7008-11ea-bc55-0242ac130003\" name=\"DefaultGoogleMfaAuthModule\"\n-              description=\"Google Mfa auth module\" jsonConf='{\"@class\":\"org.apache.syncope.common.lib.auth.GoogleMfaAuthModuleConf\",\"name\":\"MyGoogleMfaAuthModuleConf\",\"codeDigits\":6,\"issuer\":\"SyncopeTest\"}'/>\n+              description=\"Google Mfa auth module\" jsonConf='{\"@class\":\"org.apache.syncope.common.lib.auth.GoogleMfaAuthModuleConf\",\"name\":\"MyGoogleMfaAuthModuleConf\",\"codeDigits\":6,\"issuer\":\"SyncopeTest\", \"label\":\"SyncopeTest\", \"timeStepSize\":30, \"windowSize\":3}'/>\n   <AuthModule id=\"4c3ed8f6-7008-11ea-bc55-0242ac130003\" name=\"DefaultOIDCAuthModule\"\n               description=\"OIDC auth module\"\n               jsonConf='{\"@class\":\"org.apache.syncope.common.lib.auth.OIDCAuthModuleConf\",\"name\":\"MyOIDCAuthModuleConf\", \"discoveryUri\":\"https://accounts.google.com/.well-known/openid-configuration\", \"id\":\"client-id\", \"secret\": \"client-secret\" }'/>"},{"sha":"0047d91afcf4a2124cb7df2a26c0f965a0a4d355","filename":"docker/wa/src/main/resources/application.properties","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a2abb31ccd523f090f6374dafb5db89d52b48e22/docker%2Fwa%2Fsrc%2Fmain%2Fresources%2Fapplication.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a2abb31ccd523f090f6374dafb5db89d52b48e22/docker%2Fwa%2Fsrc%2Fmain%2Fresources%2Fapplication.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/docker%2Fwa%2Fsrc%2Fmain%2Fresources%2Fapplication.properties?ref=a2abb31ccd523f090f6374dafb5db89d52b48e22","patch":"@@ -36,7 +36,7 @@ management.endpoint.loggers.enabled=true\n management.endpoint.refresh.enabled=true\n management.endpoint.registeredServices.enabled=true\n \n-cas.serviceRegistry.schedule.enabled=false\n+cas.service-registry.schedule.enabled=false\n \n ##\n # Allow configuration classes to override bean definitions from Spring Boot"},{"sha":"051d54914e7d27ab1966c6c72a08d59b17baf743","filename":"docker/wa/src/main/resources/wa.properties","status":"modified","additions":3,"deletions":4,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a2abb31ccd523f090f6374dafb5db89d52b48e22/docker%2Fwa%2Fsrc%2Fmain%2Fresources%2Fwa.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a2abb31ccd523f090f6374dafb5db89d52b48e22/docker%2Fwa%2Fsrc%2Fmain%2Fresources%2Fwa.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/docker%2Fwa%2Fsrc%2Fmain%2Fresources%2Fwa.properties?ref=a2abb31ccd523f090f6374dafb5db89d52b48e22","patch":"@@ -22,22 +22,21 @@ useGZIPCompression=true\n # Conf directories\n conf.directory=${conf.directory}\n cas.standalone.configurationDirectory=${conf.directory}\n-cas.authn.oidc.jwks.jwksFile=file:${conf.directory}/oidc.keystore\n+cas.authn.oidc.jwks.jwks-file=file:${conf.directory}/oidc.keystore\n \n cas.server.name=http://localhost:8080\n cas.server.prefix=${cas.server.name}/syncope-wa\n cas.server.scope=syncope.org\n \n-cas.authn.samlIdp.entityId=https://syncope.apache.org/saml\n-cas.authn.samlIdp.metadata.location=file:${conf.directory}\n+cas.authn.saml-idp.entity-id=https://syncope.apache.org/saml\n \n # Disable access to the login endpoint\n # if no target application is specified.\n cas.sso.allow-missing-service-parameter=true\n \n # Disable the acceptable usage policy\n # by default for now.\n-cas.acceptableUsagePolicy.enabled=false\n+cas.acceptable-usage-policy.enabled=false\n \n management.endpoints.web.exposure.include=health,loggers,refresh\n management.endpoint.health.show-details=always"},{"sha":"051d54914e7d27ab1966c6c72a08d59b17baf743","filename":"fit/wa-reference/src/main/resources/wa.properties","status":"modified","additions":3,"deletions":4,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a2abb31ccd523f090f6374dafb5db89d52b48e22/fit%2Fwa-reference%2Fsrc%2Fmain%2Fresources%2Fwa.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a2abb31ccd523f090f6374dafb5db89d52b48e22/fit%2Fwa-reference%2Fsrc%2Fmain%2Fresources%2Fwa.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fwa-reference%2Fsrc%2Fmain%2Fresources%2Fwa.properties?ref=a2abb31ccd523f090f6374dafb5db89d52b48e22","patch":"@@ -22,22 +22,21 @@ useGZIPCompression=true\n # Conf directories\n conf.directory=${conf.directory}\n cas.standalone.configurationDirectory=${conf.directory}\n-cas.authn.oidc.jwks.jwksFile=file:${conf.directory}/oidc.keystore\n+cas.authn.oidc.jwks.jwks-file=file:${conf.directory}/oidc.keystore\n \n cas.server.name=http://localhost:8080\n cas.server.prefix=${cas.server.name}/syncope-wa\n cas.server.scope=syncope.org\n \n-cas.authn.samlIdp.entityId=https://syncope.apache.org/saml\n-cas.authn.samlIdp.metadata.location=file:${conf.directory}\n+cas.authn.saml-idp.entity-id=https://syncope.apache.org/saml\n \n # Disable access to the login endpoint\n # if no target application is specified.\n cas.sso.allow-missing-service-parameter=true\n \n # Disable the acceptable usage policy\n # by default for now.\n-cas.acceptableUsagePolicy.enabled=false\n+cas.acceptable-usage-policy.enabled=false\n \n management.endpoints.web.exposure.include=health,loggers,refresh\n management.endpoint.health.show-details=always"},{"sha":"7a7ea3fc663aa693e39995369464096c6072c5cc","filename":"pom.xml","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a2abb31ccd523f090f6374dafb5db89d52b48e22/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a2abb31ccd523f090f6374dafb5db89d52b48e22/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=a2abb31ccd523f090f6374dafb5db89d52b48e22","patch":"@@ -1644,6 +1644,11 @@ under the License.\n         <artifactId>cas-server-support-rest-service-registry</artifactId>\n         <version>${cas.version}</version>\n       </dependency>\n+      <dependency>\n+        <groupId>org.apereo.cas</groupId>\n+        <artifactId>cas-server-support-gauth</artifactId>\n+        <version>${cas.version}</version>\n+      </dependency>\n       <dependency>\n         <groupId>org.apereo.cas</groupId>\n         <artifactId>cas-server-support-oidc-services</artifactId>"},{"sha":"10c3cba5f3b4888bd3c87fa73b70d8851c64b336","filename":"wa/starter/pom.xml","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a2abb31ccd523f090f6374dafb5db89d52b48e22/wa%2Fstarter%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a2abb31ccd523f090f6374dafb5db89d52b48e22/wa%2Fstarter%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/wa%2Fstarter%2Fpom.xml?ref=a2abb31ccd523f090f6374dafb5db89d52b48e22","patch":"@@ -206,6 +206,10 @@ under the License.\n       <groupId>org.apereo.cas</groupId>\n       <artifactId>cas-server-support-rest-service-registry</artifactId>\n     </dependency>\n+    <dependency>\n+      <groupId>org.apereo.cas</groupId>\n+      <artifactId>cas-server-support-gauth</artifactId>\n+    </dependency>\n     <dependency>\n       <groupId>org.apereo.cas</groupId>\n       <artifactId>cas-server-webapp-config</artifactId>"},{"sha":"fd5b2607a3b9fef13cd46024d82a92dba3fcae6c","filename":"wa/starter/src/main/resources/application.properties","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a2abb31ccd523f090f6374dafb5db89d52b48e22/wa%2Fstarter%2Fsrc%2Fmain%2Fresources%2Fapplication.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a2abb31ccd523f090f6374dafb5db89d52b48e22/wa%2Fstarter%2Fsrc%2Fmain%2Fresources%2Fapplication.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/wa%2Fstarter%2Fsrc%2Fmain%2Fresources%2Fapplication.properties?ref=a2abb31ccd523f090f6374dafb5db89d52b48e22","patch":"@@ -36,7 +36,7 @@ management.endpoint.loggers.enabled=true\n management.endpoint.refresh.enabled=true\n management.endpoint.registeredServices.enabled=true\n \n-cas.serviceRegistry.schedule.enabled=false\n+cas.service-registry.schedule.enabled=false\n \n ##\n # Allow configuration classes to override bean definitions from Spring Boot"},{"sha":"6f2df0573228cb229501a445fedc5c4bff090e5e","filename":"wa/starter/src/main/resources/wa.properties","status":"modified","additions":3,"deletions":4,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a2abb31ccd523f090f6374dafb5db89d52b48e22/wa%2Fstarter%2Fsrc%2Fmain%2Fresources%2Fwa.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a2abb31ccd523f090f6374dafb5db89d52b48e22/wa%2Fstarter%2Fsrc%2Fmain%2Fresources%2Fwa.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/wa%2Fstarter%2Fsrc%2Fmain%2Fresources%2Fwa.properties?ref=a2abb31ccd523f090f6374dafb5db89d52b48e22","patch":"@@ -22,22 +22,21 @@ useGZIPCompression=true\n # Conf directories\n conf.directory=${conf.directory}\n cas.standalone.configuration-directory=${conf.directory}\n-cas.authn.oidc.jwks.jwksFile=file:${conf.directory}/oidc.keystore\n+cas.authn.oidc.jwks.jwks-file=file:${conf.directory}/oidc.keystore\n \n cas.server.name=http://localhost:8080\n cas.server.prefix=${cas.server.name}/syncope-wa\n cas.server.scope=syncope.org\n \n-cas.authn.samlIdp.entityId=https://syncope.apache.org/saml\n-cas.authn.samlIdp.metadata.location=file:${conf.directory}\n+cas.authn.saml-idp.entity-id=https://syncope.apache.org/saml\n \n # Disable access to the login endpoint\n # if no target application is specified.\n cas.sso.allow-missing-service-parameter=true\n \n # Disable the acceptable usage policy\n # by default for now.\n-cas.acceptableUsagePolicy.enabled=false\n+cas.acceptable-usage-policy.enabled=false\n \n management.endpoints.web.exposure.include=health,loggers,refresh\n management.endpoint.health.show-details=always"}]}
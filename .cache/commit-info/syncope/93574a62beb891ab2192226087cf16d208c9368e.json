{"sha":"93574a62beb891ab2192226087cf16d208c9368e","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjkzNTc0YTYyYmViODkxYWIyMTkyMjI2MDg3Y2YxNmQyMDhjOTM2OGU=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2011-11-11T13:21:39Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2011-11-11T13:21:39Z"},"message":"Fixes issue 205\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247193 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"e59e418a523a874611b48b013b27afda510c5453","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/e59e418a523a874611b48b013b27afda510c5453"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/93574a62beb891ab2192226087cf16d208c9368e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/93574a62beb891ab2192226087cf16d208c9368e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/93574a62beb891ab2192226087cf16d208c9368e","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/93574a62beb891ab2192226087cf16d208c9368e/comments","author":null,"committer":null,"parents":[{"sha":"b49d18d57b18e62b4bf14fcfd8205a4673db1472","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b49d18d57b18e62b4bf14fcfd8205a4673db1472","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/b49d18d57b18e62b4bf14fcfd8205a4673db1472"}],"stats":{"total":36,"additions":21,"deletions":15},"files":[{"sha":"bc776dcebc9519ef9f34febf6e88e576c3f9ad6f","filename":"core/src/main/resources/restContext.xml","status":"modified","additions":21,"deletions":15,"changes":36,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/93574a62beb891ab2192226087cf16d208c9368e/core%2Fsrc%2Fmain%2Fresources%2FrestContext.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/93574a62beb891ab2192226087cf16d208c9368e/core%2Fsrc%2Fmain%2Fresources%2FrestContext.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2FrestContext.xml?ref=93574a62beb891ab2192226087cf16d208c9368e","patch":"@@ -14,7 +14,6 @@\n -->\n <beans xmlns=\"http://www.springframework.org/schema/beans\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n-       xmlns:p=\"http://www.springframework.org/schema/p\"\n        xmlns:context=\"http://www.springframework.org/schema/context\"\n        xmlns:oxm=\"http://www.springframework.org/schema/oxm\"\n        xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n@@ -30,28 +29,31 @@\n         <constructor-arg value=\"${adminUser}\"/>\n     </bean>\n     \n+    <!-- JSON (via Jackson) -->\n     <bean id=\"jacksonObjectMapper\" class=\"org.syncope.core.rest.jackson.UnwrappedObjectMapper\"/>\n-    \n     <bean id=\"mappingJacksonHttpMessageConverter\"\n           class=\"org.springframework.http.converter.json.MappingJacksonHttpMessageConverter\">\n         <property name=\"objectMapper\" ref=\"jacksonObjectMapper\"/>\n     </bean>\n-\n+    \n+    <!-- XML (via XStream) -->\n+    <bean id=\"xStreamXmlMarshaller\" class=\"org.springframework.oxm.xstream.XStreamMarshaller\">\n+        <property name=\"autodetectAnnotations\" value=\"true\" />\n+    </bean> \n+    <bean id=\"mappingXstreamHttpMessageConverter\" class=\"org.springframework.http.converter.xml.MarshallingHttpMessageConverter\">\n+        <constructor-arg ref=\"xStreamXmlMarshaller\" />\n+    </bean>\n+   \n     <bean class=\"org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping\"/>\n     <bean class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\">\n         <property name=\"messageConverters\">\n             <list>\n                 <ref bean=\"mappingJacksonHttpMessageConverter\"/>\n+                <ref bean=\"mappingXstreamHttpMessageConverter\" />\n             </list>\n         </property>\n     </bean>\n-\n-    <bean id=\"jsonMediaType\" class=\"org.springframework.http.MediaType\">\n-        <constructor-arg value=\"application\"/>\n-        <constructor-arg value=\"json\"/>\n-        <constructor-arg value=\"UTF-8\"/>\n-    </bean>\n-\n+    \n     <bean class=\"org.springframework.web.servlet.view.ContentNegotiatingViewResolver\">\n         <property name=\"mediaTypes\">\n             <map>\n@@ -74,14 +76,18 @@\n                     <property name=\"objectMapper\" ref=\"jacksonObjectMapper\"/>\n                 </bean>\n                 <bean class=\"org.springframework.web.servlet.view.xml.MarshallingView\">\n-                    <constructor-arg>\n-                        <bean class=\"org.springframework.oxm.xstream.XStreamMarshaller\"\n-                              p:autodetectAnnotations=\"false\" p:encoding=\"UTF-8\"/>\n-                    </constructor-arg>\n+                    <constructor-arg ref=\"xStreamXmlMarshaller\"/>\n                 </bean>\n             </list>\n         </property>\n-        <property name=\"defaultContentType\" ref=\"jsonMediaType\"/>\n+        <property name=\"defaultContentType\">        \n+            <bean id=\"jsonMediaType\" class=\"org.springframework.http.MediaType\">\n+                <constructor-arg value=\"application\"/>\n+                <constructor-arg value=\"json\"/>\n+                <constructor-arg value=\"UTF-8\"/>\n+            </bean>\n+        </property>\n+        \n         <property name=\"ignoreAcceptHeader\" value=\"false\"/>\n     </bean>\n "}]}
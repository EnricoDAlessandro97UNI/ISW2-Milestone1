{"sha":"e962bd0956d013cda6419f8ce1063c653ba55100","node_id":"C_kwDOJfYA1toAKGU5NjJiZDA5NTZkMDEzY2RhNjQxOWY4Y2UxMDYzYzY1M2JhNTUxMDA","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2022-06-30T07:58:17Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2022-06-30T07:58:17Z"},"message":"[SYNCOPE-1687] Adding prefetch option to PropagationPolicy","tree":{"sha":"b1cd228229cca4f2ccae86c68fe3d45b5283426b","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/b1cd228229cca4f2ccae86c68fe3d45b5283426b"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/e962bd0956d013cda6419f8ce1063c653ba55100","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e962bd0956d013cda6419f8ce1063c653ba55100","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/e962bd0956d013cda6419f8ce1063c653ba55100","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e962bd0956d013cda6419f8ce1063c653ba55100/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"c6c0c517ebc32510988a7c299ea9cd976a4f9f83","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c6c0c517ebc32510988a7c299ea9cd976a4f9f83","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c6c0c517ebc32510988a7c299ea9cd976a4f9f83"}],"stats":{"total":65,"additions":62,"deletions":3},"files":[{"sha":"058304c883265ad720d4168404d1035cbbd34d07","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/policies/PropagationPolicyDirectoryPanel.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e962bd0956d013cda6419f8ce1063c653ba55100/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPropagationPolicyDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e962bd0956d013cda6419f8ce1063c653ba55100/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPropagationPolicyDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPropagationPolicyDirectoryPanel.java?ref=e962bd0956d013cda6419f8ce1063c653ba55100","patch":"@@ -19,6 +19,7 @@\n package org.apache.syncope.client.console.policies;\n \n import java.util.List;\n+import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.BooleanPropertyColumn;\n import org.apache.syncope.common.lib.policy.PropagationPolicyTO;\n import org.apache.syncope.common.lib.types.IdRepoEntitlement;\n import org.apache.syncope.common.lib.types.PolicyType;\n@@ -46,6 +47,7 @@ public PropagationPolicyDirectoryPanel(final String id, final PageReference page\n \n     @Override\n     protected void addCustomColumnFields(final List<IColumn<PropagationPolicyTO, String>> columns) {\n+        columns.add(new BooleanPropertyColumn<>(new StringResourceModel(\"prefetch\", this), \"prefetch\", \"prefetch\"));\n         columns.add(new PropertyColumn<>(new StringResourceModel(\"maxAttempts\", this), \"maxAttempts\", \"maxAttempts\"));\n     }\n }"},{"sha":"3bd9da6e8ac43cf91911ce3ed9e1bf36db1e0363","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/policies/PolicyModalPanelBuilder.java","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e962bd0956d013cda6419f8ce1063c653ba55100/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyModalPanelBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e962bd0956d013cda6419f8ce1063c653ba55100/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyModalPanelBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyModalPanelBuilder.java?ref=e962bd0956d013cda6419f8ce1063c653ba55100","patch":"@@ -178,6 +178,12 @@ protected List<String> load() {\n                     break;\n \n                 case PROPAGATION:\n+                    fields.add(new AjaxCheckBoxPanel(\n+                            \"field\",\n+                            \"prefetch\",\n+                            new PropertyModel<>(policyTO, \"prefetch\"),\n+                            false));\n+\n                     fields.add(new AjaxSpinnerFieldPanel.Builder<Integer>().build(\n                             \"field\",\n                             \"maxAttempts\","},{"sha":"98454bb6a69c1bf2c3a646e7effc0388c31245fa","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/policies/PolicyDirectoryPanel.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e962bd0956d013cda6419f8ce1063c653ba55100/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e962bd0956d013cda6419f8ce1063c653ba55100/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel.properties?ref=e962bd0956d013cda6419f8ce1063c653ba55100","patch":"@@ -53,3 +53,4 @@ rejectedAttrs.title=Rejected Attributes\n unauthorizedRedirectUrl=Unauthorized Redirect URL\n maxAttempts=Max Attempts\n backOffStrategy=BackOff Strategy\n+prefetch=Prefetch"},{"sha":"8adddbd263092abf06e3565dd11cff488b649c72","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/policies/PolicyDirectoryPanel_fr_CA.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e962bd0956d013cda6419f8ce1063c653ba55100/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e962bd0956d013cda6419f8ce1063c653ba55100/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_fr_CA.properties?ref=e962bd0956d013cda6419f8ce1063c653ba55100","patch":"@@ -53,3 +53,4 @@ rejectedAttrs.title=Rejected Attributes\n unauthorizedRedirectUrl=Unauthorized Redirect URL\n maxAttempts=Max Attempts\n backOffStrategy=BackOff Strategy\n+prefetch=Prefetch"},{"sha":"99c62d4816d6136fc314b1803850039f9d212d14","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/policies/PolicyDirectoryPanel_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e962bd0956d013cda6419f8ce1063c653ba55100/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e962bd0956d013cda6419f8ce1063c653ba55100/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_it.properties?ref=e962bd0956d013cda6419f8ce1063c653ba55100","patch":"@@ -53,3 +53,4 @@ rejectedAttrs.title=Attributi Rifiutati\n unauthorizedRedirectUrl=URL di Ridirezione Per Mancata Autorizzazione\n maxAttempts=Tentativi Massimi\n backOffStrategy=Strategia di BackOff\n+prefetch=Prefetch"},{"sha":"f167bf3b22d7cc3d9a26497cba3d9071d073de92","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/policies/PolicyDirectoryPanel_ja.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e962bd0956d013cda6419f8ce1063c653ba55100/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e962bd0956d013cda6419f8ce1063c653ba55100/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_ja.properties?ref=e962bd0956d013cda6419f8ce1063c653ba55100","patch":"@@ -53,3 +53,4 @@ rejectedAttrs.title=Rejected Attributes\n unauthorizedRedirectUrl=Unauthorized Redirect URL\n maxAttempts=Max Attempts\n backOffStrategy=BackOff Strategy\n+prefetch=Prefetch"},{"sha":"87254c0787515291449abb2dcc045719968202c5","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/policies/PolicyDirectoryPanel_pt_BR.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e962bd0956d013cda6419f8ce1063c653ba55100/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e962bd0956d013cda6419f8ce1063c653ba55100/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_pt_BR.properties?ref=e962bd0956d013cda6419f8ce1063c653ba55100","patch":"@@ -53,3 +53,4 @@ rejectedAttrs.title=Rejected Attributes\n unauthorizedRedirectUrl=Unauthorized Redirect URL\n maxAttempts=Max Attempts\n backOffStrategy=BackOff Strategy\n+prefetch=Prefetch"},{"sha":"963b7d6b2d829cf4291a465b7da10e53314d6dec","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/policies/PolicyDirectoryPanel_ru.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e962bd0956d013cda6419f8ce1063c653ba55100/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e962bd0956d013cda6419f8ce1063c653ba55100/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_ru.properties?ref=e962bd0956d013cda6419f8ce1063c653ba55100","patch":"@@ -54,3 +54,4 @@ rejectedAttrs.title=Rejected Attributes\n unauthorizedRedirectUrl=Unauthorized Redirect URL\n maxAttempts=Max Attempts\n backOffStrategy=BackOff Strategy\n+prefetch=Prefetch"},{"sha":"1fd7ac0524874326375e406b5805054ab5a57732","filename":"common/idm/lib/src/main/java/org/apache/syncope/common/lib/policy/PropagationPolicyTO.java","status":"modified","additions":10,"deletions":0,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e962bd0956d013cda6419f8ce1063c653ba55100/common%2Fidm%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fpolicy%2FPropagationPolicyTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e962bd0956d013cda6419f8ce1063c653ba55100/common%2Fidm%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fpolicy%2FPropagationPolicyTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidm%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fpolicy%2FPropagationPolicyTO.java?ref=e962bd0956d013cda6419f8ce1063c653ba55100","patch":"@@ -28,6 +28,8 @@ public class PropagationPolicyTO extends PolicyTO {\n \n     private static final long serialVersionUID = 10604950933449L;\n \n+    private boolean prefetch = true;\n+\n     private BackOffStrategy backOffStrategy = BackOffStrategy.FIXED;\n \n     private String backOffParams = BackOffStrategy.FIXED.getDefaultBackOffParams();\n@@ -42,6 +44,14 @@ public String getDiscriminator() {\n         return getClass().getName();\n     }\n \n+    public boolean isPrefetch() {\n+        return prefetch;\n+    }\n+\n+    public void setPrefetch(final boolean prefetch) {\n+        this.prefetch = prefetch;\n+    }\n+\n     public BackOffStrategy getBackOffStrategy() {\n         return backOffStrategy;\n     }"},{"sha":"532b27de14e03afd96695e47d097ba149de06398","filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/entity/policy/PropagationPolicy.java","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e962bd0956d013cda6419f8ce1063c653ba55100/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2Fpolicy%2FPropagationPolicy.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e962bd0956d013cda6419f8ce1063c653ba55100/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2Fpolicy%2FPropagationPolicy.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2Fpolicy%2FPropagationPolicy.java?ref=e962bd0956d013cda6419f8ce1063c653ba55100","patch":"@@ -22,6 +22,10 @@\n \n public interface PropagationPolicy extends Policy {\n \n+    boolean isPrefetch();\n+\n+    void setPrefetch(boolean prefetch);\n+\n     BackOffStrategy getBackOffStrategy();\n \n     void setBackOffStrategy(BackOffStrategy backOffStrategy);"},{"sha":"fb4299750bc5f74c00886148cea4b3d20715c349","filename":"core/persistence-jpa-json/src/test/resources/domains/MasterContent.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e962bd0956d013cda6419f8ce1063c653ba55100/core%2Fpersistence-jpa-json%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e962bd0956d013cda6419f8ce1063c653ba55100/core%2Fpersistence-jpa-json%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa-json%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml?ref=e962bd0956d013cda6419f8ce1063c653ba55100","patch":"@@ -44,7 +44,7 @@ under the License.\n                   body='{\"_class\":\"org.apache.syncope.common.lib.policy.DefaultPasswordRuleConf\",\"maxLength\":0,\"minLength\":10,\"special\":1,\"specialChars\":[\"@\",\"!\"],\"digit\":1,\"lowercase\":1,\"uppercase\":1,\"wordsNotPermitted\":[\"notpermitted1\",\"notpermitted2\"]}'/>\n   <PasswordPolicyRule policy_id=\"55e5de0b-c79c-4e66-adda-251b6fb8579a\" implementation_id=\"DefaultPasswordRuleConf3\"/>\n   <PropagationPolicy id=\"89d322db-9878-420c-b49c-67be13df9a12\" name=\"sample propagation policy\"\n-                     maxAttempts=\"5\" backOffStrategy=\"FIXED\" backOffParams=\"10000\"/>\n+                     prefetch=\"1\" maxAttempts=\"5\" backOffStrategy=\"FIXED\" backOffParams=\"10000\"/>\n \n   <!-- Authentication policies -->\n   <AuthPolicy id=\"659b9906-4b6e-4bc0-aca0-6809dff346d4\" name=\"MyDefaultAuthPolicyConf\""},{"sha":"e3b634a2f1e5ad023b51d8e17d44888800b44987","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/entity/policy/JPAPropagationPolicy.java","status":"modified","additions":13,"deletions":0,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e962bd0956d013cda6419f8ce1063c653ba55100/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Fpolicy%2FJPAPropagationPolicy.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e962bd0956d013cda6419f8ce1063c653ba55100/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Fpolicy%2FJPAPropagationPolicy.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Fpolicy%2FJPAPropagationPolicy.java?ref=e962bd0956d013cda6419f8ce1063c653ba55100","patch":"@@ -35,6 +35,9 @@ public class JPAPropagationPolicy extends AbstractPolicy implements PropagationP\n \n     public static final String TABLE = \"PropagationPolicy\";\n \n+    @NotNull\n+    private Boolean prefetch = true;\n+\n     @Enumerated(EnumType.STRING)\n     @NotNull\n     private BackOffStrategy backOffStrategy;\n@@ -44,6 +47,16 @@ public class JPAPropagationPolicy extends AbstractPolicy implements PropagationP\n     @NotNull\n     private Integer maxAttempts = 3;\n \n+    @Override\n+    public boolean isPrefetch() {\n+        return prefetch;\n+    }\n+\n+    @Override\n+    public void setPrefetch(final boolean prefetch) {\n+        this.prefetch = prefetch;\n+    }\n+\n     @Override\n     public BackOffStrategy getBackOffStrategy() {\n         return backOffStrategy;"},{"sha":"1336795aecd311c669d4482f005e2bbb11c10ce8","filename":"core/persistence-jpa/src/test/resources/domains/MasterContent.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e962bd0956d013cda6419f8ce1063c653ba55100/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e962bd0956d013cda6419f8ce1063c653ba55100/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml?ref=e962bd0956d013cda6419f8ce1063c653ba55100","patch":"@@ -44,7 +44,7 @@ under the License.\n                   body='{\"_class\":\"org.apache.syncope.common.lib.policy.DefaultPasswordRuleConf\",\"maxLength\":0,\"minLength\":10,\"special\":1,\"specialChars\":[\"@\",\"!\"],\"digit\":1,\"lowercase\":1,\"uppercase\":1,\"wordsNotPermitted\":[\"notpermitted1\",\"notpermitted2\"]}'/>\n   <PasswordPolicyRule policy_id=\"55e5de0b-c79c-4e66-adda-251b6fb8579a\" implementation_id=\"DefaultPasswordRuleConf3\"/>\n   <PropagationPolicy id=\"89d322db-9878-420c-b49c-67be13df9a12\" name=\"sample propagation policy\"\n-                     maxAttempts=\"5\" backOffStrategy=\"FIXED\" backOffParams=\"10000\"/>\n+                     prefetch=\"1\" maxAttempts=\"5\" backOffStrategy=\"FIXED\" backOffParams=\"10000\"/>\n \n   <!-- Authentication policies -->\n   <AuthPolicy id=\"659b9906-4b6e-4bc0-aca0-6809dff346d4\" name=\"MyDefaultAuthPolicyConf\""},{"sha":"0a97c964bf4a26ccbf798d7ad7401a8db2508129","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/data/PolicyDataBinderImpl.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e962bd0956d013cda6419f8ce1063c653ba55100/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FPolicyDataBinderImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e962bd0956d013cda6419f8ce1063c653ba55100/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FPolicyDataBinderImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FPolicyDataBinderImpl.java?ref=e962bd0956d013cda6419f8ce1063c653ba55100","patch":"@@ -148,6 +148,7 @@ protected <T extends Policy> T getPolicy(final T policy, final PolicyTO policyTO\n             PropagationPolicy propagationPolicy = PropagationPolicy.class.cast(result);\n             PropagationPolicyTO propagationPolicyTO = PropagationPolicyTO.class.cast(policyTO);\n \n+            propagationPolicy.setPrefetch(propagationPolicyTO.isPrefetch());\n             propagationPolicy.setBackOffStrategy(propagationPolicyTO.getBackOffStrategy());\n             propagationPolicy.setBackOffParams(propagationPolicyTO.getBackOffParams());\n             propagationPolicy.setMaxAttempts(propagationPolicyTO.getMaxAttempts());\n@@ -307,6 +308,7 @@ public <T extends PolicyTO> T getPolicyTO(final Policy policy) {\n             PropagationPolicyTO propagationPolicyTO = new PropagationPolicyTO();\n             policyTO = (T) propagationPolicyTO;\n \n+            propagationPolicyTO.setPrefetch(propagationPolicy.isPrefetch());\n             propagationPolicyTO.setBackOffStrategy(propagationPolicy.getBackOffStrategy());\n             propagationPolicyTO.setBackOffParams(propagationPolicy.getBackOffParams());\n             propagationPolicyTO.setMaxAttempts(propagationPolicy.getMaxAttempts());"},{"sha":"4ee1a261146aaefc1e2f49904ed9848643b1d86b","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/AbstractPropagationTaskExecutor.java","status":"modified","additions":14,"deletions":0,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e962bd0956d013cda6419f8ce1063c653ba55100/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FAbstractPropagationTaskExecutor.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e962bd0956d013cda6419f8ce1063c653ba55100/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FAbstractPropagationTaskExecutor.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpropagation%2FAbstractPropagationTaskExecutor.java?ref=e962bd0956d013cda6419f8ce1063c653ba55100","patch":"@@ -705,6 +705,13 @@ protected ConnectorObject getRemoteObject(\n             final List<PropagationActions> actions,\n             final boolean latest) {\n \n+        if (task.getResource().getPropagationPolicy() != null\n+                && !task.getResource().getPropagationPolicy().isPrefetch()) {\n+\n+            LOG.debug(\"Skipping because of configured PropagationPolicy\");\n+            return null;\n+        }\n+\n         String connObjectKeyValue = latest || task.getOldConnObjectKey() == null\n                 ? task.getConnObjectKey()\n                 : task.getOldConnObjectKey();\n@@ -732,6 +739,13 @@ protected ConnectorObject getRemoteObject(\n             final List<PropagationActions> actions,\n             final boolean latest) {\n \n+        if (task.getResource().getPropagationPolicy() != null\n+                && !task.getResource().getPropagationPolicy().isPrefetch()) {\n+\n+            LOG.debug(\"Skipping because of configured PropagationPolicy\");\n+            return null;\n+        }\n+\n         String connObjectKey = latest || task.getOldConnObjectKey() == null\n                 ? task.getConnObjectKey()\n                 : task.getOldConnObjectKey();"},{"sha":"9325fd514bc4dccdf0c69e9f3a8ecbe2352a8457","filename":"src/main/asciidoc/reference-guide/concepts/policies.adoc","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e962bd0956d013cda6419f8ce1063c653ba55100/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fpolicies.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e962bd0956d013cda6419f8ce1063c653ba55100/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fpolicies.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fpolicies.adoc?ref=e962bd0956d013cda6419f8ce1063c653ba55100","patch":"@@ -324,10 +324,12 @@ https://apereo.github.io/cas/6.5.x/authentication/Configuring-Authentication-Pol\n ==== Propagation\n \n Propagation policies are evaluated during the execution of <<tasks-propagation,propagation tasks>> and are meant to\n-retry the configured operations in case of propagation failures.\n+tweak the propagation process by setting the pre-fetch option or letting Syncope to retry the configured operations in\n+case of failures.\n \n When defining a propagation policy, the following information must be provided:\n \n+* pre-fetch - the default behavior to attempt to read upfront the object being propagated can be disabled\n * max number of attempts\n * back-off strategy\n ** `FIXED` - pauses for a fixed period of time before continuing"}]}
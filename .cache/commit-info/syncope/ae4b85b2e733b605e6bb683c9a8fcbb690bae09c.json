{"sha":"ae4b85b2e733b605e6bb683c9a8fcbb690bae09c","node_id":"C_kwDOJfYA1toAKGFlNGI4NWIyZTczM2I2MDVlNmJiNjgzYzlhOGZjYmI2OTBiYWUwOWM","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2022-11-03T14:32:05Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2022-11-03T14:32:05Z"},"message":"[SYNCOPE-1705] Removing deprecated SchedulingPullActions","tree":{"sha":"b919365f9b0b1aff395fe32f6f372a07dd6a91f9","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/b919365f9b0b1aff395fe32f6f372a07dd6a91f9"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/ae4b85b2e733b605e6bb683c9a8fcbb690bae09c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ae4b85b2e733b605e6bb683c9a8fcbb690bae09c","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ae4b85b2e733b605e6bb683c9a8fcbb690bae09c","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ae4b85b2e733b605e6bb683c9a8fcbb690bae09c/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"f42ea0bb756a82a39d42617a746f8f213b1f3ff8","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f42ea0bb756a82a39d42617a746f8f213b1f3ff8","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f42ea0bb756a82a39d42617a746f8f213b1f3ff8"}],"stats":{"total":78,"additions":0,"deletions":78},"files":[{"sha":"c4fdbb0863921053d430ea205039e8a5697ddb83","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/SchedulingPullActions.java","status":"removed","additions":0,"deletions":78,"changes":78,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f42ea0bb756a82a39d42617a746f8f213b1f3ff8/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FSchedulingPullActions.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f42ea0bb756a82a39d42617a746f8f213b1f3ff8/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FSchedulingPullActions.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FSchedulingPullActions.java?ref=f42ea0bb756a82a39d42617a746f8f213b1f3ff8","patch":"@@ -1,78 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.provisioning.java.pushpull;\n-\n-import java.util.Map;\n-import org.apache.syncope.core.provisioning.api.job.JobManager;\n-import org.apache.syncope.core.provisioning.api.job.JobNamer;\n-import org.apache.syncope.core.provisioning.api.pushpull.PullActions;\n-import org.apache.syncope.core.spring.ApplicationContextProvider;\n-import org.apache.syncope.core.spring.security.AuthContextUtils;\n-import org.apache.syncope.core.spring.security.SecureRandomUtils;\n-import org.quartz.Job;\n-import org.quartz.JobBuilder;\n-import org.quartz.JobDataMap;\n-import org.quartz.JobExecutionException;\n-import org.quartz.Scheduler;\n-import org.quartz.SchedulerException;\n-import org.quartz.Trigger;\n-import org.quartz.TriggerBuilder;\n-import org.springframework.beans.factory.annotation.Autowired;\n-import org.springframework.beans.factory.support.AbstractBeanDefinition;\n-import org.springframework.scheduling.quartz.SchedulerFactoryBean;\n-\n-/**\n- * Superclass for pull actions that need to schedule actions to run after their completion.\n- *\n- * @see LDAPMembershipPullActions for a concrete example\n- * @deprecated From 3.0.0-M2 this class is not needed anymore and will be removed from 3.0.0 onwards.\n- * After SYNCOPE-1705 there is no need anymore to schedule a job to run after the current pull task execution\n- */\n-public abstract class SchedulingPullActions implements PullActions {\n-\n-    @Autowired\n-    protected SchedulerFactoryBean scheduler;\n-\n-    protected <T extends Job> void schedule(final Class<T> reference, final Map<String, Object> jobMap)\n-            throws JobExecutionException {\n-\n-        @SuppressWarnings(\"unchecked\")\n-        T jobInstance = (T) ApplicationContextProvider.getBeanFactory().\n-                createBean(reference, AbstractBeanDefinition.AUTOWIRE_BY_TYPE, false);\n-        String jobName = getClass().getSimpleName() + SecureRandomUtils.generateRandomUUID();\n-\n-        jobMap.put(JobManager.DOMAIN_KEY, AuthContextUtils.getDomain());\n-\n-        ApplicationContextProvider.getBeanFactory().registerSingleton(jobName, jobInstance);\n-\n-        JobBuilder jobDetailBuilder = JobBuilder.newJob(reference).\n-                withIdentity(jobName, Scheduler.DEFAULT_GROUP).\n-                usingJobData(new JobDataMap(jobMap));\n-\n-        TriggerBuilder<Trigger> triggerBuilder = TriggerBuilder.newTrigger().\n-                withIdentity(JobNamer.getTriggerName(jobName), Scheduler.DEFAULT_GROUP).\n-                startNow();\n-\n-        try {\n-            scheduler.getScheduler().scheduleJob(jobDetailBuilder.build(), triggerBuilder.build());\n-        } catch (SchedulerException e) {\n-            throw new JobExecutionException(\"Could not schedule, aborting\", e);\n-        }\n-    }\n-}"}]}
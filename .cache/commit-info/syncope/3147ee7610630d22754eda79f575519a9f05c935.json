{"sha":"3147ee7610630d22754eda79f575519a9f05c935","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjMxNDdlZTc2MTA2MzBkMjI3NTRlZGE3OWY1NzU1MTlhOWYwNWM5MzU=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-02-17T16:55:12Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-02-17T16:55:12Z"},"message":"[SYNCOPE-744][SYNCOPE-750] Configuration completeness widget","tree":{"sha":"4bcd28264abbe13286a741f4305d313c1fa0a168","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/4bcd28264abbe13286a741f4305d313c1fa0a168"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/3147ee7610630d22754eda79f575519a9f05c935","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3147ee7610630d22754eda79f575519a9f05c935","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/3147ee7610630d22754eda79f575519a9f05c935","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3147ee7610630d22754eda79f575519a9f05c935/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"3f0f25623ad682e19dcf86d0f5962e3f884b79e6","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3f0f25623ad682e19dcf86d0f5962e3f884b79e6","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/3f0f25623ad682e19dcf86d0f5962e3f884b79e6"}],"stats":{"total":489,"additions":412,"deletions":77},"files":[{"sha":"f0ed504d99373ddf1e29c78379beee0fa4843d00","filename":"client/console/src/main/java/org/apache/syncope/client/console/annotations/ExtPage.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fannotations%2FExtPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fannotations%2FExtPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fannotations%2FExtPage.java?ref=3147ee7610630d22754eda79f575519a9f05c935","patch":"@@ -40,6 +40,11 @@\n      */\n     String icon() default \"fa-circle-o\";\n \n+    /**\n+     * @return the entitlement required to access this extension page\n+     */\n+    String listEntitlement();\n+\n     /**\n      * @return the priority used to determine the display order under the \"Extensions\" menu item, on the left pane; the\n      * higher value, the higher rank"},{"sha":"79d6e5ac1ffe2fd0038417d279fc845f48dcf834","filename":"client/console/src/main/java/org/apache/syncope/client/console/pages/BasePage.java","status":"modified","additions":38,"deletions":34,"changes":72,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FBasePage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FBasePage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FBasePage.java?ref=3147ee7610630d22754eda79f575519a9f05c935","patch":"@@ -109,7 +109,7 @@ public BasePage(final PageParameters parameters) {\n             todos.setDefaultModelObject(new UserWorkflowRestClient().getForms().size());\n         }\n         MetaDataRoleAuthorizationStrategy.authorize(\n-                todosContainer, WebPage.RENDER, StandardEntitlement.WORKFLOW_FORM_LIST);\n+                todosContainer, WebPage.ENABLE, StandardEntitlement.WORKFLOW_FORM_LIST);\n \n         // menu\n         WebMarkupContainer liContainer = new WebMarkupContainer(getLIContainerId(\"dashboard\"));\n@@ -118,19 +118,22 @@ public BasePage(final PageParameters parameters) {\n \n         liContainer = new WebMarkupContainer(getLIContainerId(\"realms\"));\n         body.add(liContainer);\n-        liContainer.add(BookmarkablePageLinkBuilder.build(\"realms\", Realms.class));\n-        MetaDataRoleAuthorizationStrategy.authorize(liContainer, WebPage.RENDER, StandardEntitlement.REALM_LIST);\n+        BookmarkablePageLink<Page> link = BookmarkablePageLinkBuilder.build(\"realms\", Realms.class);\n+        MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.REALM_LIST);\n+        liContainer.add(link);\n \n         liContainer = new WebMarkupContainer(getLIContainerId(\"topology\"));\n         body.add(liContainer);\n-        liContainer.add(BookmarkablePageLinkBuilder.build(\"topology\", Topology.class));\n-        MetaDataRoleAuthorizationStrategy.authorize(liContainer, WebPage.RENDER,\n+        link = BookmarkablePageLinkBuilder.build(\"topology\", Topology.class);\n+        MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE,\n                 String.format(\"%s,%s\", StandardEntitlement.CONNECTOR_LIST, StandardEntitlement.RESOURCE_LIST));\n+        liContainer.add(link);\n \n         liContainer = new WebMarkupContainer(getLIContainerId(\"reports\"));\n         body.add(liContainer);\n-        liContainer.add(BookmarkablePageLinkBuilder.build(\"reports\", Reports.class));\n-        MetaDataRoleAuthorizationStrategy.authorize(liContainer, WebPage.RENDER, StandardEntitlement.REPORT_LIST);\n+        link = BookmarkablePageLinkBuilder.build(\"reports\", Reports.class);\n+        MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.REPORT_LIST);\n+        liContainer.add(link);\n \n         WebMarkupContainer confLIContainer = new WebMarkupContainer(getLIContainerId(\"configuration\"));\n         body.add(confLIContainer);\n@@ -139,54 +142,55 @@ public BasePage(final PageParameters parameters) {\n \n         liContainer = new WebMarkupContainer(getLIContainerId(\"workflow\"));\n         confULContainer.add(liContainer);\n-        BookmarkablePageLink<Page> workflowLink = BookmarkablePageLinkBuilder.build(\"workflow\", Workflow.class);\n-        MetaDataRoleAuthorizationStrategy.authorize(\n-                workflowLink, WebPage.ENABLE, StandardEntitlement.WORKFLOW_DEF_READ);\n-        liContainer.add(workflowLink);\n+        link = BookmarkablePageLinkBuilder.build(\"workflow\", Workflow.class);\n+        MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.WORKFLOW_DEF_READ);\n+        liContainer.add(link);\n \n         liContainer = new WebMarkupContainer(getLIContainerId(\"logs\"));\n         confULContainer.add(liContainer);\n-        BookmarkablePageLink<Page> logsLink = BookmarkablePageLinkBuilder.build(\"logs\", Logs.class);\n-        MetaDataRoleAuthorizationStrategy.authorize(logsLink, WebPage.ENABLE, StandardEntitlement.LOG_LIST);\n-        liContainer.add(logsLink);\n-        MetaDataRoleAuthorizationStrategy.authorize(liContainer, WebPage.RENDER, StandardEntitlement.LOG_LIST);\n+        link = BookmarkablePageLinkBuilder.build(\"logs\", Logs.class);\n+        MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.LOG_LIST);\n+        liContainer.add(link);\n \n         liContainer = new WebMarkupContainer(getLIContainerId(\"securityquestions\"));\n         confULContainer.add(liContainer);\n-        BookmarkablePageLink<Page> secuityQuestionsLink =\n-                BookmarkablePageLinkBuilder.build(\"securityquestions\", SecurityQuestions.class);\n-        liContainer.add(secuityQuestionsLink);\n+        liContainer.add(BookmarkablePageLinkBuilder.build(\"securityquestions\", SecurityQuestions.class));\n \n         liContainer = new WebMarkupContainer(getLIContainerId(\"types\"));\n         confULContainer.add(liContainer);\n-        BookmarkablePageLink<Page> typesLink = BookmarkablePageLinkBuilder.build(\"types\", Types.class);\n-        MetaDataRoleAuthorizationStrategy.authorize(typesLink, WebPage.ENABLE, StandardEntitlement.SCHEMA_LIST);\n-        liContainer.add(typesLink);\n+        link = BookmarkablePageLinkBuilder.build(\"types\", Types.class);\n+        MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.SCHEMA_LIST);\n+        liContainer.add(link);\n \n         liContainer = new WebMarkupContainer(getLIContainerId(\"roles\"));\n         confULContainer.add(liContainer);\n-        liContainer.add(BookmarkablePageLinkBuilder.build(\"roles\", Roles.class));\n-        MetaDataRoleAuthorizationStrategy.authorize(liContainer, WebPage.RENDER, StandardEntitlement.ROLE_LIST);\n+        link = BookmarkablePageLinkBuilder.build(\"roles\", Roles.class);\n+        MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.ROLE_LIST);\n+        liContainer.add(link);\n \n         liContainer = new WebMarkupContainer(getLIContainerId(\"policies\"));\n         confULContainer.add(liContainer);\n-        liContainer.add(BookmarkablePageLinkBuilder.build(\"policies\", Policies.class));\n-        MetaDataRoleAuthorizationStrategy.authorize(liContainer, WebPage.RENDER, StandardEntitlement.POLICY_LIST);\n+        link = BookmarkablePageLinkBuilder.build(\"policies\", Policies.class);\n+        MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.POLICY_LIST);\n+        liContainer.add(link);\n \n         liContainer = new WebMarkupContainer(getLIContainerId(\"layouts\"));\n         confULContainer.add(liContainer);\n-        liContainer.add(BookmarkablePageLinkBuilder.build(\"layouts\", Layouts.class));\n+        link = BookmarkablePageLinkBuilder.build(\"layouts\", Layouts.class);\n+        MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.CONFIGURATION_LIST);\n+        liContainer.add(link);\n \n         liContainer = new WebMarkupContainer(getLIContainerId(\"notifications\"));\n         confULContainer.add(liContainer);\n-        liContainer.add(BookmarkablePageLinkBuilder.build(\"notifications\", Notifications.class));\n-        MetaDataRoleAuthorizationStrategy.authorize(liContainer, WebPage.RENDER, StandardEntitlement.NOTIFICATION_LIST);\n+        link = BookmarkablePageLinkBuilder.build(\"notifications\", Notifications.class);\n+        MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.NOTIFICATION_LIST);\n+        liContainer.add(link);\n \n         liContainer = new WebMarkupContainer(getLIContainerId(\"parameters\"));\n         confULContainer.add(liContainer);\n-        liContainer.add(BookmarkablePageLinkBuilder.build(\"parameters\", Parameters.class));\n-        MetaDataRoleAuthorizationStrategy.authorize(\n-                liContainer, WebPage.RENDER, StandardEntitlement.CONFIGURATION_LIST);\n+        link = BookmarkablePageLinkBuilder.build(\"parameters\", Parameters.class);\n+        MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.CONFIGURATION_LIST);\n+        liContainer.add(link);\n \n         body.add(new AjaxLink<Void>(\"collapse\") {\n \n@@ -279,12 +283,12 @@ public void onComponentTag(final Component component, final ComponentTag tag) {\n                     });\n                 }\n \n-                BookmarkablePageLink<Page> link = new BookmarkablePageLink<>(\"extPage\", item.getModelObject());\n-                containingLI.add(link);\n-\n                 ExtPage ann = item.getModelObject().getAnnotation(ExtPage.class);\n \n+                BookmarkablePageLink<Page> link = new BookmarkablePageLink<>(\"extPage\", item.getModelObject());\n                 link.add(new Label(\"extPageLabel\", ann.label()));\n+                MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, ann.listEntitlement());\n+                containingLI.add(link);\n \n                 Label extPageIcon = new Label(\"extPageIcon\");\n                 extPageIcon.add(new AttributeModifier(\"class\", \"fa \" + ann.icon()));"},{"sha":"396ec2f58180bf7d7d273cee7da18cd99d04303b","filename":"client/console/src/main/java/org/apache/syncope/client/console/pages/Dashboard.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FDashboard.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FDashboard.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FDashboard.java?ref=3147ee7610630d22754eda79f575519a9f05c935","patch":"@@ -21,6 +21,7 @@\n import org.apache.syncope.client.console.SyncopeConsoleSession;\n import org.apache.syncope.client.console.widgets.NumberWidget;\n import org.apache.syncope.client.console.widgets.AnyByRealmWidget;\n+import org.apache.syncope.client.console.widgets.CompletenessWidget;\n import org.apache.syncope.client.console.widgets.LoadWidget;\n import org.apache.syncope.client.console.widgets.UsersByStatusWidget;\n import org.apache.syncope.common.lib.info.NumbersInfo;\n@@ -67,6 +68,7 @@ public Dashboard(final PageParameters parameters) {\n         body.add(new NumberWidget(\"totalAny1OrResources\", \"bg-aqua\", number, label, icon));\n \n         body.add(new UsersByStatusWidget(\"usersByStatus\", numbers.getUsersByStatus()));\n+        body.add(new CompletenessWidget(\"completeness\", numbers.getConfCompleteness()));\n         body.add(new AnyByRealmWidget(\n                 \"anyByRealm\",\n                 numbers.getUsersByRealm(),"},{"sha":"972768f04d224a53c42cdb3c357e3cf13ba13507","filename":"client/console/src/main/java/org/apache/syncope/client/console/widgets/CompletenessWidget.java","status":"added","additions":123,"deletions":0,"changes":123,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget.java?ref=3147ee7610630d22754eda79f575519a9f05c935","patch":"@@ -0,0 +1,123 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.console.widgets;\n+\n+import com.pingunaut.wicket.chartjs.chart.impl.Doughnut;\n+import com.pingunaut.wicket.chartjs.core.panel.DoughnutChartPanel;\n+import java.util.Map;\n+import org.apache.syncope.client.console.BookmarkablePageLinkBuilder;\n+import org.apache.syncope.client.console.pages.Notifications;\n+import org.apache.syncope.client.console.pages.Policies;\n+import org.apache.syncope.client.console.pages.Roles;\n+import org.apache.syncope.client.console.pages.SecurityQuestions;\n+import org.apache.syncope.client.console.pages.Types;\n+import org.apache.syncope.client.console.topology.Topology;\n+import org.apache.syncope.common.lib.info.NumbersInfo;\n+import org.apache.syncope.common.lib.types.StandardEntitlement;\n+import org.apache.wicket.Page;\n+import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n+import org.apache.wicket.markup.html.WebPage;\n+import org.apache.wicket.markup.html.link.BookmarkablePageLink;\n+import org.apache.wicket.model.Model;\n+\n+public class CompletenessWidget extends AbstractWidget {\n+\n+    private static final long serialVersionUID = 7667120094526529934L;\n+\n+    public CompletenessWidget(final String id, final Map<NumbersInfo.ConfItem, Boolean> confCompleteness) {\n+        super(id);\n+\n+        Doughnut doughnut = new Doughnut();\n+        doughnut.getOptions().setResponsive(true);\n+        doughnut.getOptions().setMaintainAspectRatio(true);\n+        doughnut.getOptions().setTooltipTemplate(\"<%= label %>\");\n+\n+        int done = 0;\n+        int todo = 0;\n+        for (Map.Entry<NumbersInfo.ConfItem, Boolean> entry : confCompleteness.entrySet()) {\n+            if (entry.getValue()) {\n+                done += entry.getKey().getScore();\n+            } else {\n+                todo++;\n+            }\n+        }\n+\n+        doughnut.getData().add(\n+                new LabeledDoughnutChartData(done, \"blue\", getString(\"done\")));\n+        doughnut.getData().add(\n+                new LabeledDoughnutChartData(100 - done, \"red\", getString(\"todo\") + \": \" + todo));\n+\n+        add(new DoughnutChartPanel(\"chart\", Model.of(doughnut)));\n+\n+        BookmarkablePageLink<Page> link = BookmarkablePageLinkBuilder.build(\"topology\", Topology.class);\n+        link.setOutputMarkupPlaceholderTag(true);\n+        add(link);\n+        MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE,\n+                String.format(\"%s,%s\", StandardEntitlement.CONNECTOR_LIST, StandardEntitlement.RESOURCE_LIST));\n+        if (confCompleteness.get(NumbersInfo.ConfItem.RESOURCE)\n+                || confCompleteness.get(NumbersInfo.ConfItem.SYNC_TASK)) {\n+\n+            link.setVisible(false);\n+        }\n+\n+        link = BookmarkablePageLinkBuilder.build(\"policies\", Policies.class);\n+        link.setOutputMarkupPlaceholderTag(true);\n+        MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.POLICY_LIST);\n+        add(link);\n+        if (confCompleteness.get(NumbersInfo.ConfItem.ACCOUNT_POLICY)\n+                || confCompleteness.get(NumbersInfo.ConfItem.PASSWORD_POLICY)) {\n+\n+            link.setVisible(false);\n+        }\n+\n+        link = BookmarkablePageLinkBuilder.build(\"notifications\", Notifications.class);\n+        link.setOutputMarkupPlaceholderTag(true);\n+        MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.NOTIFICATION_LIST);\n+        add(link);\n+        if (confCompleteness.get(NumbersInfo.ConfItem.NOTIFICATION)) {\n+            link.setVisible(false);\n+        }\n+\n+        link = BookmarkablePageLinkBuilder.build(\"types\", Types.class);\n+        link.setOutputMarkupPlaceholderTag(true);\n+        MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.SCHEMA_LIST);\n+        add(link);\n+        if (confCompleteness.get(NumbersInfo.ConfItem.VIR_SCHEMA)\n+                || confCompleteness.get(NumbersInfo.ConfItem.ANY_TYPE)) {\n+\n+            link.setVisible(false);\n+        }\n+\n+        link = BookmarkablePageLinkBuilder.build(\"securityquestions\", SecurityQuestions.class);\n+        link.setOutputMarkupPlaceholderTag(true);\n+        add(link);\n+        if (confCompleteness.get(NumbersInfo.ConfItem.SECURITY_QUESTION)) {\n+            link.setVisible(false);\n+        }\n+\n+        link = BookmarkablePageLinkBuilder.build(\"roles\", Roles.class);\n+        link.setOutputMarkupPlaceholderTag(true);\n+        MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.ROLE_LIST);\n+        add(link);\n+        if (confCompleteness.get(NumbersInfo.ConfItem.ROLE)) {\n+            link.setVisible(false);\n+        }\n+    }\n+\n+}"},{"sha":"c6eb3901862c146d14a5407cdc7e447fa99ebc0a","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/Dashboard.html","status":"modified","additions":12,"deletions":3,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FDashboard.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FDashboard.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FDashboard.html?ref=3147ee7610630d22754eda79f575519a9f05c935","patch":"@@ -34,12 +34,21 @@ <h1>\n       </div>\n \n       <div class=\"row\">\n-        <span wicket:id=\"usersByStatus\"/>\n-        <span wicket:id=\"anyByRealm\"/>\n+        <div class=\"col-md-4\">\n+          <span wicket:id=\"usersByStatus\"/>\n+        </div>\n+        <div class=\"col-md-4\">\n+          <span wicket:id=\"completeness\"/>\n+        </div>\n+        <div class=\"col-md-4\">\n+          <span wicket:id=\"load\"/>\n+        </div>\n       </div>\n \n       <div class=\"row\">\n-        <span wicket:id=\"load\"/>\n+        <div class=\"col-md-6\">\n+          <span wicket:id=\"anyByRealm\"/>\n+        </div>\n       </div>\n     </section>\n   </wicket:extend>"},{"sha":"c2f9ce3aeb5ab0bdfc391b56399fd812085ba5aa","filename":"client/console/src/main/resources/org/apache/syncope/client/console/widgets/AnyByRealmWidget.html","status":"modified","additions":8,"deletions":10,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FAnyByRealmWidget.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FAnyByRealmWidget.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FAnyByRealmWidget.html?ref=3147ee7610630d22754eda79f575519a9f05c935","patch":"@@ -18,18 +18,16 @@\n -->\n <html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n   <wicket:panel>\n-    <div class=\"col-md-6\">\n-      <div class=\"box\">\n-        <div class=\"box-header with-border\">\n-          <h3 class=\"box-title\"><wicket:message key=\"usersGroupsAndAnyObjectsDistribution\"/></h3>\n-          <div class=\"box-tools pull-right\">\n-            <button class=\"btn btn-box-tool\" data-widget=\"collapse\"><i class=\"fa fa-minus\"></i></button>\n-          </div>\n-        </div>\n-        <div class=\"box-body\">\n-          <div class=\"chart\" wicket:id=\"chart\"/>\n+    <div class=\"box\">\n+      <div class=\"box-header with-border\">\n+        <h3 class=\"box-title\"><wicket:message key=\"usersGroupsAndAnyObjectsDistribution\"/></h3>\n+        <div class=\"box-tools pull-right\">\n+          <button class=\"btn btn-box-tool\" data-widget=\"collapse\"><i class=\"fa fa-minus\"></i></button>\n         </div>\n       </div>\n+      <div class=\"box-body\">\n+        <div class=\"chart\" wicket:id=\"chart\"/>\n+      </div>\n     </div>\n   </wicket:panel>\n </html>\n\\ No newline at end of file"},{"sha":"c57d40b8ef3c3f5f783e0a16c3d0a7d6848cc96a","filename":"client/console/src/main/resources/org/apache/syncope/client/console/widgets/CompletenessWidget.html","status":"added","additions":46,"deletions":0,"changes":46,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget.html?ref=3147ee7610630d22754eda79f575519a9f05c935","patch":"@@ -0,0 +1,46 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n+  <wicket:panel>\n+    <div class=\"box\">\n+      <div class=\"box-header with-border\">\n+        <h3 class=\"box-title\"><wicket:message key=\"configurationStatus\"/></h3>\n+        <div class=\"box-tools pull-right\">\n+          <div class=\"btn-group\">\n+            <button class=\"btn btn-box-tool dropdown-toggle\" data-toggle=\"dropdown\">\n+              <i class=\"fa fa-wrench\"></i>\n+            </button>\n+            <ul class=\"dropdown-menu\" role=\"menu\">\n+              <li><a href=\"#\" wicket:id=\"topology\"><wicket:message key=\"createResourceOrSyncTask\"/></a></li>\n+              <li><a href=\"#\" wicket:id=\"policies\"><wicket:message key=\"createPolicy\"/></a></li>\n+              <li><a href=\"#\" wicket:id=\"notifications\"><wicket:message key=\"createNotification\"/></a></li>\n+              <li><a href=\"#\" wicket:id=\"types\"><wicket:message key=\"createVirSchemaOrAnyType\"/></a></li>\n+              <li><a href=\"#\" wicket:id=\"securityquestions\"><wicket:message key=\"createSecurityQuestion\"/></a></li>\n+              <li><a href=\"#\" wicket:id=\"roles\"><wicket:message key=\"createRole\"/></a></li>\n+            </ul>\n+          </div>\n+          <button class=\"btn btn-box-tool\" data-widget=\"collapse\"><i class=\"fa fa-minus\"></i></button>\n+        </div>\n+      </div>\n+      <div class=\"box-body\">\n+        <div class=\"chart\" wicket:id=\"chart\"/>\n+      </div>\n+    </div>\n+  </wicket:panel>\n+</html>\n\\ No newline at end of file"},{"sha":"e40cc59c3b6ab4a2177a4eb7111b3911ebb0d582","filename":"client/console/src/main/resources/org/apache/syncope/client/console/widgets/CompletenessWidget.properties","status":"added","additions":25,"deletions":0,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget.properties?ref=3147ee7610630d22754eda79f575519a9f05c935","patch":"@@ -0,0 +1,25 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+configurationStatus=Configuration Status\n+createResourceOrSyncTask=Create Resource or SyncTask\n+createPolicy=Create Policy\n+createVirSchemaOrAnyType=Create Virtual Schema or AnyType\n+createSecurityQuestion=Create Security Question\n+createRole=Create Role\n+createNotification=Create Notification\n+done=Done\n+todo=To do"},{"sha":"641d93e73a761c78704a86b6205514ff8339f963","filename":"client/console/src/main/resources/org/apache/syncope/client/console/widgets/CompletenessWidget_it.properties","status":"added","additions":25,"deletions":0,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget_it.properties?ref=3147ee7610630d22754eda79f575519a9f05c935","patch":"@@ -0,0 +1,25 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+configurationStatus=Stato Configurazione\n+createResourceOrSyncTask=Crea Risorsa o SyncTask\n+createPolicy=Crea Politica\n+createVirSchemaOrAnyType=Crea Virtual Schema o AnyType\n+createSecurityQuestion=Crea Domanda di Sicurezza\n+createRole=Crea Ruolo\n+createNotification=Crea Notifica\n+done=Fatto\n+todo=Da fare"},{"sha":"d921be07542183585efcfa50a9ccbc8621fb3171","filename":"client/console/src/main/resources/org/apache/syncope/client/console/widgets/CompletenessWidget_pt_BR.properties","status":"added","additions":25,"deletions":0,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget_pt_BR.properties?ref=3147ee7610630d22754eda79f575519a9f05c935","patch":"@@ -0,0 +1,25 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+configurationStatus=Estado de configura\\u00e7\\u00e3o\n+createResourceOrSyncTask=Criar recursos ou SyncTask\n+createPolicy=Criar Politica\n+createVirSchemaOrAnyType=Criar Virtual Schema ou AnyType\n+createSecurityQuestion=Criar Perguntas de Seguran\\u00e7a \n+createRole=Criar Fun\\u00e7\\u00e3o\n+createNotification=Criar Notifica\\u00e7\\u00e3o\n+done=Feito\n+todo=Fazer"},{"sha":"d6a4260f648b1052196dd7f5a35ed1f269858563","filename":"client/console/src/main/resources/org/apache/syncope/client/console/widgets/LoadWidget.html","status":"modified","additions":17,"deletions":19,"changes":36,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FLoadWidget.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FLoadWidget.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FLoadWidget.html?ref=3147ee7610630d22754eda79f575519a9f05c935","patch":"@@ -18,27 +18,25 @@\n -->\n <html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n   <wicket:panel>\n-    <div class=\"col-md-6\">\n-      <div class=\"box\">\n-        <div class=\"box-header with-border\">\n-          <h3 class=\"box-title\"><wicket:message key=\"systemLoad\"/></h3>\n-          <div class=\"box-tools pull-right\">\n-            <div class=\"btn-group\">\n-              <button class=\"btn btn-box-tool dropdown-toggle\" data-toggle=\"dropdown\">\n-                <i class=\"fa fa-info\"></i>\n-              </button>\n-              <ul class=\"dropdown-menu\" role=\"menu\">\n-                <li><a href=\"#\"><span wicket:id=\"hostname\"/></a></li>\n-                <li><a href=\"#\"><span wicket:id=\"os\"/></a></li>\n-                <li><a href=\"#\"><span wicket:id=\"jvm\"/></a></li>\n-              </ul>\n-            </div>\n-            <button class=\"btn btn-box-tool\" data-widget=\"collapse\"><i class=\"fa fa-minus\"></i></button>\n+    <div class=\"box\">\n+      <div class=\"box-header with-border\">\n+        <h3 class=\"box-title\"><wicket:message key=\"systemLoad\"/></h3>\n+        <div class=\"box-tools pull-right\">\n+          <div class=\"btn-group\">\n+            <button class=\"btn btn-box-tool dropdown-toggle\" data-toggle=\"dropdown\">\n+              <i class=\"fa fa-info\"></i>\n+            </button>\n+            <ul class=\"dropdown-menu\" role=\"menu\">\n+              <li><a href=\"#\"><span wicket:id=\"hostname\"/></a></li>\n+              <li><a href=\"#\"><span wicket:id=\"os\"/></a></li>\n+              <li><a href=\"#\"><span wicket:id=\"jvm\"/></a></li>\n+            </ul>\n           </div>\n+          <button class=\"btn btn-box-tool\" data-widget=\"collapse\"><i class=\"fa fa-minus\"></i></button>\n         </div>\n-        <div class=\"box-body\">\n-          <div class=\"chart\" wicket:id=\"chart\"/>\n-        </div>\n+      </div>\n+      <div class=\"box-body\">\n+        <div class=\"chart\" wicket:id=\"chart\"/>\n       </div>\n     </div>\n   </wicket:panel>"},{"sha":"ce24a16b57ceab2903e8256791a2257d3b113699","filename":"client/console/src/main/resources/org/apache/syncope/client/console/widgets/UsersByStatusWidget.html","status":"modified","additions":8,"deletions":10,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FUsersByStatusWidget.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3147ee7610630d22754eda79f575519a9f05c935/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FUsersByStatusWidget.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FUsersByStatusWidget.html?ref=3147ee7610630d22754eda79f575519a9f05c935","patch":"@@ -18,18 +18,16 @@\n -->\n <html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n   <wicket:panel>\n-    <div class=\"col-md-6\">\n-      <div class=\"box\">\n-        <div class=\"box-header with-border\">\n-          <h3 class=\"box-title\"><wicket:message key=\"userStatus\"/></h3>\n-          <div class=\"box-tools pull-right\">\n-            <button class=\"btn btn-box-tool\" data-widget=\"collapse\"><i class=\"fa fa-minus\"></i></button>\n-          </div>\n-        </div>\n-        <div class=\"box-body\">\n-          <div class=\"chart\" wicket:id=\"chart\"/>\n+    <div class=\"box\">\n+      <div class=\"box-header with-border\">\n+        <h3 class=\"box-title\"><wicket:message key=\"userStatus\"/></h3>\n+        <div class=\"box-tools pull-right\">\n+          <button class=\"btn btn-box-tool\" data-widget=\"collapse\"><i class=\"fa fa-minus\"></i></button>\n         </div>\n       </div>\n+      <div class=\"box-body\">\n+        <div class=\"chart\" wicket:id=\"chart\"/>\n+      </div>\n     </div>\n   </wicket:panel>\n </html>\n\\ No newline at end of file"},{"sha":"293bb55b22bc4191295acfed663a3707378178ce","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/info/NumbersInfo.java","status":"modified","additions":36,"deletions":0,"changes":36,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3147ee7610630d22754eda79f575519a9f05c935/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Finfo%2FNumbersInfo.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3147ee7610630d22754eda79f575519a9f05c935/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Finfo%2FNumbersInfo.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Finfo%2FNumbersInfo.java?ref=3147ee7610630d22754eda79f575519a9f05c935","patch":"@@ -22,6 +22,7 @@\n import com.fasterxml.jackson.annotation.JsonProperty;\n import java.util.HashMap;\n import java.util.Map;\n+import javax.xml.bind.annotation.XmlEnum;\n import javax.xml.bind.annotation.XmlRootElement;\n import javax.xml.bind.annotation.XmlType;\n import javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter;\n@@ -34,6 +35,32 @@ public class NumbersInfo extends AbstractBaseBean {\n \n     private static final long serialVersionUID = 7691187370598649583L;\n \n+    @XmlEnum\n+    @XmlType(name = \"confItem\")\n+    public enum ConfItem {\n+\n+        RESOURCE(20),\n+        ACCOUNT_POLICY(10),\n+        PASSWORD_POLICY(10),\n+        NOTIFICATION(8),\n+        SYNC_TASK(10),\n+        VIR_SCHEMA(10),\n+        ANY_TYPE(5),\n+        SECURITY_QUESTION(12),\n+        ROLE(15);\n+\n+        private final int score;\n+\n+        ConfItem(final int score) {\n+            this.score = score;\n+        }\n+\n+        public int getScore() {\n+            return score;\n+        }\n+\n+    }\n+\n     private int totalUsers;\n \n     @XmlJavaTypeAdapter(XmlGenericMapAdapter.class)\n@@ -70,6 +97,10 @@ public class NumbersInfo extends AbstractBaseBean {\n \n     private int totalRoles;\n \n+    @XmlJavaTypeAdapter(XmlGenericMapAdapter.class)\n+    @JsonIgnore\n+    private final Map<ConfItem, Boolean> confCompleteness = new HashMap<>();\n+\n     public int getTotalUsers() {\n         return totalUsers;\n     }\n@@ -159,4 +190,9 @@ public Map<String, Integer> getAny2ByRealm() {\n         return any2ByRealm;\n     }\n \n+    @JsonProperty\n+    public Map<ConfItem, Boolean> getConfCompleteness() {\n+        return confCompleteness;\n+    }\n+\n }"},{"sha":"f72d6e9158b1aee42b58db72d2d5ba79320aa0fd","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/SyncopeLogic.java","status":"modified","additions":41,"deletions":0,"changes":41,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3147ee7610630d22754eda79f575519a9f05c935/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FSyncopeLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3147ee7610630d22754eda79f575519a9f05c935/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FSyncopeLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FSyncopeLogic.java?ref=3147ee7610630d22754eda79f575519a9f05c935","patch":"@@ -33,15 +33,22 @@\n import org.apache.syncope.common.lib.info.NumbersInfo;\n import org.apache.syncope.common.lib.info.SystemInfo;\n import org.apache.syncope.common.lib.info.PlatformInfo;\n+import org.apache.syncope.common.lib.types.PolicyType;\n+import org.apache.syncope.common.lib.types.TaskType;\n import org.apache.syncope.core.misc.security.PasswordGenerator;\n import org.apache.syncope.core.persistence.api.ImplementationLookup;\n import org.apache.syncope.core.persistence.api.ImplementationLookup.Type;\n import org.apache.syncope.core.persistence.api.dao.AnyObjectDAO;\n import org.apache.syncope.core.persistence.api.dao.ConfDAO;\n import org.apache.syncope.core.persistence.api.dao.ExternalResourceDAO;\n import org.apache.syncope.core.persistence.api.dao.GroupDAO;\n+import org.apache.syncope.core.persistence.api.dao.NotificationDAO;\n+import org.apache.syncope.core.persistence.api.dao.PolicyDAO;\n import org.apache.syncope.core.persistence.api.dao.RoleDAO;\n+import org.apache.syncope.core.persistence.api.dao.SecurityQuestionDAO;\n+import org.apache.syncope.core.persistence.api.dao.TaskDAO;\n import org.apache.syncope.core.persistence.api.dao.UserDAO;\n+import org.apache.syncope.core.persistence.api.dao.VirSchemaDAO;\n import org.apache.syncope.core.persistence.api.entity.AnyType;\n import org.apache.syncope.core.provisioning.api.AnyObjectProvisioningManager;\n import org.apache.syncope.core.provisioning.api.ConnIdBundleManager;\n@@ -79,9 +86,24 @@ public class SyncopeLogic extends AbstractLogic<AbstractBaseBean> {\n     @Autowired\n     private ExternalResourceDAO resourceDAO;\n \n+    @Autowired\n+    private PolicyDAO policyDAO;\n+\n+    @Autowired\n+    private NotificationDAO notificationDAO;\n+\n+    @Autowired\n+    private TaskDAO taskDAO;\n+\n+    @Autowired\n+    private VirSchemaDAO virSchemaDAO;\n+\n     @Autowired\n     private RoleDAO roleDAO;\n \n+    @Autowired\n+    private SecurityQuestionDAO securityQuestionDAO;\n+\n     @Autowired\n     private ConfDAO confDAO;\n \n@@ -254,6 +276,25 @@ public NumbersInfo numbers() {\n \n         numbersInfo.setTotalRoles(roleDAO.count());\n \n+        numbersInfo.getConfCompleteness().put(\n+                NumbersInfo.ConfItem.RESOURCE, numbersInfo.getTotalResources() > 0);\n+        numbersInfo.getConfCompleteness().put(\n+                NumbersInfo.ConfItem.ACCOUNT_POLICY, !policyDAO.find(PolicyType.ACCOUNT).isEmpty());\n+        numbersInfo.getConfCompleteness().put(\n+                NumbersInfo.ConfItem.PASSWORD_POLICY, !policyDAO.find(PolicyType.PASSWORD).isEmpty());\n+        numbersInfo.getConfCompleteness().put(\n+                NumbersInfo.ConfItem.NOTIFICATION, !notificationDAO.findAll().isEmpty());\n+        numbersInfo.getConfCompleteness().put(\n+                NumbersInfo.ConfItem.SYNC_TASK, !taskDAO.findAll(TaskType.SYNCHRONIZATION).isEmpty());\n+        numbersInfo.getConfCompleteness().put(\n+                NumbersInfo.ConfItem.VIR_SCHEMA, !virSchemaDAO.findAll().isEmpty());\n+        numbersInfo.getConfCompleteness().put(\n+                NumbersInfo.ConfItem.ANY_TYPE, !anyObjectNumbers.isEmpty());\n+        numbersInfo.getConfCompleteness().put(\n+                NumbersInfo.ConfItem.SECURITY_QUESTION, !securityQuestionDAO.findAll().isEmpty());\n+        numbersInfo.getConfCompleteness().put(\n+                NumbersInfo.ConfItem.ROLE, numbersInfo.getTotalRoles() > 0);\n+\n         return numbersInfo;\n     }\n "},{"sha":"b53d1621acc9df717ab3de9832eb2906c352b022","filename":"ext/camel/client-console/src/main/java/org/apache/syncope/client/console/pages/CamelRoutes.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3147ee7610630d22754eda79f575519a9f05c935/ext%2Fcamel%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FCamelRoutes.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3147ee7610630d22754eda79f575519a9f05c935/ext%2Fcamel%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FCamelRoutes.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fcamel%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FCamelRoutes.java?ref=3147ee7610630d22754eda79f575519a9f05c935","patch":"@@ -34,7 +34,7 @@\n import org.apache.wicket.model.Model;\n import org.apache.wicket.request.mapper.parameter.PageParameters;\n \n-@ExtPage(label = \"Camel Routes\", icon = \"fa-road\", priority = 100)\n+@ExtPage(label = \"Camel Routes\", icon = \"fa-road\", listEntitlement = CamelEntitlement.ROUTE_LIST, priority = 100)\n public class CamelRoutes extends AbstractExtPage {\n \n     private static final long serialVersionUID = 1965360932245590233L;"}]}
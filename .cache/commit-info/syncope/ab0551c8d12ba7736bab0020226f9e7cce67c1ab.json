{"sha":"ab0551c8d12ba7736bab0020226f9e7cce67c1ab","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmFiMDU1MWM4ZDEyYmE3NzM2YmFiMDAyMDIyNmY5ZTdjY2U2N2MxYWI=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-03-31T15:54:23Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-03-31T15:54:23Z"},"message":"[SYNCOPE-802] Now using the AjaxPalettePanel for connector capabilities","tree":{"sha":"39b56798ebebe81582b35dbcb2f61a7255269f9d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/39b56798ebebe81582b35dbcb2f61a7255269f9d"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/ab0551c8d12ba7736bab0020226f9e7cce67c1ab","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ab0551c8d12ba7736bab0020226f9e7cce67c1ab","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ab0551c8d12ba7736bab0020226f9e7cce67c1ab","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ab0551c8d12ba7736bab0020226f9e7cce67c1ab/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"3e8912c35062ebfc98037e36001408f80208f3d6","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3e8912c35062ebfc98037e36001408f80208f3d6","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/3e8912c35062ebfc98037e36001408f80208f3d6"}],"stats":{"total":152,"additions":23,"deletions":129},"files":[{"sha":"ffcf163873087354331e3665dfcc97b497a12c3a","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/ConnectorCapabilitiesPanel.java","status":"modified","additions":11,"deletions":20,"changes":31,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ab0551c8d12ba7736bab0020226f9e7cce67c1ab/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FConnectorCapabilitiesPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ab0551c8d12ba7736bab0020226f9e7cce67c1ab/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FConnectorCapabilitiesPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FConnectorCapabilitiesPanel.java?ref=ab0551c8d12ba7736bab0020226f9e7cce67c1ab","patch":"@@ -20,39 +20,30 @@\n \n import java.util.Arrays;\n import java.util.List;\n-import org.apache.syncope.client.console.wicket.markup.html.form.CheckBoxMultipleChoiceFieldPanel;\n+import org.apache.syncope.client.console.wicket.markup.html.form.AjaxPalettePanel;\n import org.apache.syncope.common.lib.to.ConnInstanceTO;\n import org.apache.syncope.common.lib.types.ConnectorCapability;\n import org.apache.wicket.markup.html.panel.Panel;\n import org.apache.wicket.model.IModel;\n-import org.apache.wicket.model.LoadableDetachableModel;\n import org.apache.wicket.model.PropertyModel;\n+import org.apache.wicket.model.util.ListModel;\n \n-/**\n- * Modal window with Connector form.\n- */\n public class ConnectorCapabilitiesPanel extends Panel {\n \n     private static final long serialVersionUID = -2025535531121434050L;\n \n     public ConnectorCapabilitiesPanel(final String id, final IModel<ConnInstanceTO> model) {\n-\n         super(id, model);\n         setOutputMarkupId(true);\n \n-        final IModel<List<ConnectorCapability>> all = new LoadableDetachableModel<List<ConnectorCapability>>() {\n-\n-            private static final long serialVersionUID = 5275935387613157437L;\n-\n-            @Override\n-            protected List<ConnectorCapability> load() {\n-                return Arrays.asList(ConnectorCapability.values());\n-            }\n-        };\n-\n-        add(new CheckBoxMultipleChoiceFieldPanel<>(\n-                \"capabilitiesPalette\",\n-                new PropertyModel<List<ConnectorCapability>>(model.getObject(), \"capabilities\"),\n-                all));\n+        AjaxPalettePanel<ConnectorCapability> capabilitiesPalette =\n+                new AjaxPalettePanel.Builder<ConnectorCapability>().\n+                setAllowMoveAll(true).\n+                build(\"capabilitiesPalette\",\n+                        new PropertyModel<List<ConnectorCapability>>(model.getObject(), \"capabilities\"),\n+                        new ListModel<>(Arrays.asList(ConnectorCapability.values())));\n+        capabilitiesPalette.hideLabel();\n+        capabilitiesPalette.setOutputMarkupId(true);\n+        add(capabilitiesPalette);\n     }\n }"},{"sha":"f47d9bb50d9e5cc0dcef3202eddb8a0d0f74213d","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/ConnectorModal.java","status":"modified","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ab0551c8d12ba7736bab0020226f9e7cce67c1ab/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FConnectorModal.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ab0551c8d12ba7736bab0020226f9e7cce67c1ab/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FConnectorModal.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FConnectorModal.java?ref=ab0551c8d12ba7736bab0020226f9e7cce67c1ab","patch":"@@ -70,9 +70,9 @@ public boolean evaluate(final ConnBundleTO object) {\n         }, new ArrayList<ConnBundleTO>());\n \n         //--------------------------------\n-        // Connector details panel\n+        // Connector details\n         //--------------------------------\n-        tabs.add(new AbstractTab(new ResourceModel(\"general\", \"general\")) {\n+        tabs.add(new AbstractTab(new ResourceModel(\"general\")) {\n \n             private static final long serialVersionUID = -5861786415855103549L;\n \n@@ -84,9 +84,9 @@ public Panel getPanel(final String panelId) {\n         //--------------------------------\n \n         //--------------------------------\n-        // Connector configuration panel\n+        // Connector configuration\n         //--------------------------------\n-        tabs.add(new AbstractTab(new ResourceModel(\"configuration\", \"configuration\")) {\n+        tabs.add(new AbstractTab(new ResourceModel(\"configuration\")) {\n \n             private static final long serialVersionUID = -5861786415855103549L;\n \n@@ -112,9 +112,9 @@ protected void check(final AjaxRequestTarget target) {\n         //--------------------------------\n \n         //--------------------------------\n-        // Connector configuration panel\n+        // Connector capabilities\n         //--------------------------------\n-        tabs.add(new AbstractTab(new ResourceModel(\"capabilities\", \"capabilities\")) {\n+        tabs.add(new AbstractTab(new ResourceModel(\"capabilities\")) {\n \n             private static final long serialVersionUID = -5861786415855103549L;\n "},{"sha":"d84397d060917dd893a9f650a7ed29a6d5838a77","filename":"client/console/src/main/java/org/apache/syncope/client/console/wicket/markup/html/form/AjaxPalettePanel.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ab0551c8d12ba7736bab0020226f9e7cce67c1ab/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxPalettePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ab0551c8d12ba7736bab0020226f9e7cce67c1ab/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxPalettePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxPalettePanel.java?ref=ab0551c8d12ba7736bab0020226f9e7cce67c1ab","patch":"@@ -62,7 +62,7 @@ public AjaxPalettePanel(\n \n         choicesModel = new PaletteLoadableDetachableModel(builder) {\n \n-            private static final long serialVersionUID = 1L;\n+            private static final long serialVersionUID = -108100712154481840L;\n \n             @Override\n             protected List<T> getChoices() {\n@@ -86,7 +86,7 @@ protected List<T> getChoices() {\n                         ? getFilteredList(choices.getObject(), getFilter().replaceAll(\"\\\\*\", \"\\\\.\\\\*\"))\n                         : choices.getObject();\n             }\n-        };     \n+        };\n         initialize(model, builder);\n     }\n \n@@ -209,7 +209,7 @@ public Collection<T> getModelCollection() {\n         private String availableLabel;\n \n         private boolean filtered;\n-        \n+\n         private final AjaxPaletteConf conf = new AjaxPaletteConf();\n \n         private String filter = conf.getDefaultFilter();"},{"sha":"9d0afea5372709f62fdc4ac94989b9448b293699","filename":"client/console/src/main/java/org/apache/syncope/client/console/wicket/markup/html/form/CheckBoxMultipleChoiceFieldPanel.java","status":"removed","additions":0,"deletions":57,"changes":57,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3e8912c35062ebfc98037e36001408f80208f3d6/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FCheckBoxMultipleChoiceFieldPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3e8912c35062ebfc98037e36001408f80208f3d6/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FCheckBoxMultipleChoiceFieldPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FCheckBoxMultipleChoiceFieldPanel.java?ref=3e8912c35062ebfc98037e36001408f80208f3d6","patch":"@@ -1,57 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.client.console.wicket.markup.html.form;\n-\n-import java.util.List;\n-import org.apache.wicket.Component;\n-import org.apache.wicket.behavior.Behavior;\n-import org.apache.wicket.markup.html.form.AbstractChoice;\n-\n-import org.apache.wicket.markup.html.form.CheckBoxMultipleChoice;\n-import org.apache.wicket.model.IModel;\n-\n-public class CheckBoxMultipleChoiceFieldPanel<E> extends AbstractFieldPanel<List<E>> {\n-\n-    private static final long serialVersionUID = 4124935025837737298L;\n-\n-    private final CheckBoxMultipleChoice<E> field;\n-\n-    public CheckBoxMultipleChoiceFieldPanel(\n-            final String id, final IModel<List<E>> model, final IModel<List<E>> choices) {\n-\n-        super(id, id, model);\n-\n-        field = new CheckBoxMultipleChoice<E>(\"checkBoxMultipleChoice\", model, choices);\n-        add(field.\n-                setPrefix(\"<div class=\\\"checkbox\\\">\").\n-                setSuffix(\"</div>\").\n-                setLabelPosition(AbstractChoice.LabelPosition.WRAP_AFTER));\n-    }\n-\n-    @Override\n-    public AbstractFieldPanel<List<E>> setModelObject(final List<E> object) {\n-        field.setModelObject(object);\n-        return this;\n-    }\n-\n-    @Override\n-    public Component add(final Behavior... behaviors) {\n-        return field.add(behaviors);\n-    }\n-}"},{"sha":"ed50fa5b4d43d2c397479f7b538fdc70991f3e3f","filename":"client/console/src/main/resources/org/apache/syncope/client/console/panels/ConnectorCapabilitiesPanel.html","status":"modified","additions":3,"deletions":8,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ab0551c8d12ba7736bab0020226f9e7cce67c1ab/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FConnectorCapabilitiesPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ab0551c8d12ba7736bab0020226f9e7cce67c1ab/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FConnectorCapabilitiesPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FConnectorCapabilitiesPanel.html?ref=ab0551c8d12ba7736bab0020226f9e7cce67c1ab","patch":"@@ -17,12 +17,7 @@\n under the License.\n -->\n <html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n-  <head>\n-    <title>Connector capabilities panel</title>\n-  </head>\n-  <body>\n-    <wicket:panel>\n-      <span wicket:id=\"capabilitiesPalette\"/> \n-    </wicket:panel>\n-  </body>\n+  <wicket:panel>\n+    <span wicket:id=\"capabilitiesPalette\"/> \n+  </wicket:panel>\n </html>"},{"sha":"6053d17f244196b2a8d56f41c8d545bd5c318b46","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/CheckBoxMultipleChoiceFieldPanel.html","status":"removed","additions":0,"deletions":35,"changes":35,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/3e8912c35062ebfc98037e36001408f80208f3d6/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FCheckBoxMultipleChoiceFieldPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/3e8912c35062ebfc98037e36001408f80208f3d6/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FCheckBoxMultipleChoiceFieldPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FCheckBoxMultipleChoiceFieldPanel.html?ref=3e8912c35062ebfc98037e36001408f80208f3d6","patch":"@@ -1,35 +0,0 @@\n-<!--\n-Licensed to the Apache Software Foundation (ASF) under one\n-or more contributor license agreements.  See the NOTICE file\n-distributed with this work for additional information\n-regarding copyright ownership.  The ASF licenses this file\n-to you under the Apache License, Version 2.0 (the\n-\"License\"); you may not use this file except in compliance\n-with the License.  You may obtain a copy of the License at\n-\n-  http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing,\n-software distributed under the License is distributed on an\n-\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-KIND, either express or implied.  See the License for the\n-specific language governing permissions and limitations\n-under the License.\n--->\n-<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n-  <head>\n-    <title>Checkbox multi-choice field panel</title>\n-  </head>\n-  <body>\n-    <wicket:extend>\n-      <wicket:enclosure child=\"field-label\">\n-        <label wicket:id=\"field-label\">[LABEL]</label><span wicket:id=\"required\"/>\n-        <span wicket:id=\"externalAction\"/>\n-      </wicket:enclosure>\n-      <div class=\"form-group\">\n-        <span wicket:id=\"checkBoxMultipleChoice\" />\n-      </div>\n-    </wicket:extend>\n-  </body>\n-</html>\n-"}]}
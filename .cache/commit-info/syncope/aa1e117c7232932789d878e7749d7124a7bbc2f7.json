{"sha":"aa1e117c7232932789d878e7749d7124a7bbc2f7","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmFhMWUxMTdjNzIzMjkzMjc4OWQ4NzhlNzc0OWQ3MTI0YTdiYmMyZjc=","commit":{"author":{"name":"skylark17","email":"matteo.alessandroni@tirasa.net","date":"2017-08-03T14:30:04Z"},"committer":{"name":"skylark17","email":"matteo.alessandroni@tirasa.net","date":"2017-08-03T14:30:51Z"},"message":"[SYNCOPE-1171] 'Relationships' wizard step is now skipped when no relationship types exist","tree":{"sha":"6da27aa4a765bd1e5cfc001f5c659395a10351d3","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/6da27aa4a765bd1e5cfc001f5c659395a10351d3"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/aa1e117c7232932789d878e7749d7124a7bbc2f7","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/aa1e117c7232932789d878e7749d7124a7bbc2f7","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/aa1e117c7232932789d878e7749d7124a7bbc2f7","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/aa1e117c7232932789d878e7749d7124a7bbc2f7/comments","author":{"login":"mat-ale","id":25547301,"node_id":"MDQ6VXNlcjI1NTQ3MzAx","avatar_url":"https://avatars.githubusercontent.com/u/25547301?v=4","gravatar_id":"","url":"https://api.github.com/users/mat-ale","html_url":"https://github.com/mat-ale","followers_url":"https://api.github.com/users/mat-ale/followers","following_url":"https://api.github.com/users/mat-ale/following{/other_user}","gists_url":"https://api.github.com/users/mat-ale/gists{/gist_id}","starred_url":"https://api.github.com/users/mat-ale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mat-ale/subscriptions","organizations_url":"https://api.github.com/users/mat-ale/orgs","repos_url":"https://api.github.com/users/mat-ale/repos","events_url":"https://api.github.com/users/mat-ale/events{/privacy}","received_events_url":"https://api.github.com/users/mat-ale/received_events","type":"User","site_admin":false},"committer":{"login":"mat-ale","id":25547301,"node_id":"MDQ6VXNlcjI1NTQ3MzAx","avatar_url":"https://avatars.githubusercontent.com/u/25547301?v=4","gravatar_id":"","url":"https://api.github.com/users/mat-ale","html_url":"https://github.com/mat-ale","followers_url":"https://api.github.com/users/mat-ale/followers","following_url":"https://api.github.com/users/mat-ale/following{/other_user}","gists_url":"https://api.github.com/users/mat-ale/gists{/gist_id}","starred_url":"https://api.github.com/users/mat-ale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mat-ale/subscriptions","organizations_url":"https://api.github.com/users/mat-ale/orgs","repos_url":"https://api.github.com/users/mat-ale/repos","events_url":"https://api.github.com/users/mat-ale/events{/privacy}","received_events_url":"https://api.github.com/users/mat-ale/received_events","type":"User","site_admin":false},"parents":[{"sha":"0c2414c1ab7a700d83768dd95e7f6379ff2fa6b6","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/0c2414c1ab7a700d83768dd95e7f6379ff2fa6b6","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/0c2414c1ab7a700d83768dd95e7f6379ff2fa6b6"}],"stats":{"total":14,"additions":11,"deletions":3},"files":[{"sha":"115da51e23bb49f57e81957b520518fccbf2fde5","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/Relationships.java","status":"modified","additions":11,"deletions":3,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/aa1e117c7232932789d878e7749d7124a7bbc2f7/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FRelationships.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/aa1e117c7232932789d878e7749d7124a7bbc2f7/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FRelationships.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FRelationships.java?ref=aa1e117c7232932789d878e7749d7124a7bbc2f7","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.client.console.wizards.any;\n \n+\n import java.util.ArrayList;\n import java.util.Arrays;\n import java.util.Collections;\n@@ -69,6 +70,7 @@\n import org.apache.wicket.extensions.markup.html.tabs.AbstractTab;\n import org.apache.wicket.extensions.markup.html.tabs.ITab;\n import org.apache.wicket.extensions.wizard.IWizard;\n+import org.apache.wicket.extensions.wizard.WizardModel;\n import org.apache.wicket.extensions.wizard.WizardStep;\n import org.apache.wicket.markup.head.IHeaderResponse;\n import org.apache.wicket.markup.head.OnDomReadyHeaderItem;\n@@ -82,7 +84,7 @@\n import org.apache.wicket.model.ResourceModel;\n import org.apache.wicket.model.util.ListModel;\n \n-public class Relationships extends WizardStep {\n+public class Relationships extends WizardStep implements WizardModel.ICondition {\n \n     private static final long serialVersionUID = 855618618337931784L;\n \n@@ -93,6 +95,8 @@ public class Relationships extends WizardStep {\n     private final AnyTypeClassRestClient anyTypeClassRestClient = new AnyTypeClassRestClient();\n \n     private final AnyTO anyTO;\n+    \n+    private final RelationshipTypeRestClient relationshipTypeRestClient = new RelationshipTypeRestClient();\n \n     public Relationships(final AnyWrapper<?> modelObject, final PageReference pageRef) {\n         super();\n@@ -233,6 +237,12 @@ private void removeRelationships(\n         }\n     }\n \n+    @Override\n+    public boolean evaluate() {\n+        // [SYNCOPE-1171] - skip current step when the are no relationships types in Syncope\n+        return !relationshipTypeRestClient.list().isEmpty();\n+    }\n+\n     public class Specification extends Panel {\n \n         private static final long serialVersionUID = 6199050589175839467L;\n@@ -243,8 +253,6 @@ public class Specification extends Panel {\n \n         private WizardMgtPanel<AnyWrapper<AnyObjectTO>> anyObjectDirectoryPanel;\n \n-        private final RelationshipTypeRestClient relationshipTypeRestClient = new RelationshipTypeRestClient();\n-\n         public Specification() {\n             super(\"specification\");\n             rel = new RelationshipTO();"}]}
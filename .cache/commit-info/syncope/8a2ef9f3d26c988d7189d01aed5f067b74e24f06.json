{"sha":"8a2ef9f3d26c988d7189d01aed5f067b74e24f06","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjhhMmVmOWYzZDI2Yzk4OGQ3MTg5ZDAxYWVkNWYwNjdiNzRlMjRmMDY=","commit":{"author":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2021-08-14T17:59:08Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2021-08-14T18:05:57Z"},"message":"[SYNCOPE-1640] fixed removal of empty enumeration key on multivalue p… (#286)\n\n* [SYNCOPE-1640] fixed removal of empty enumeration key on multivalue param and enum schema definition","tree":{"sha":"a897a53788196f43ab8b7c011a855c3bdadcdfef","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/a897a53788196f43ab8b7c011a855c3bdadcdfef"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/8a2ef9f3d26c988d7189d01aed5f067b74e24f06","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8a2ef9f3d26c988d7189d01aed5f067b74e24f06","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/8a2ef9f3d26c988d7189d01aed5f067b74e24f06","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8a2ef9f3d26c988d7189d01aed5f067b74e24f06/comments","author":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"6e69957c6cf33407a465ce25e5d9c926ae491610","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/6e69957c6cf33407a465ce25e5d9c926ae491610","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/6e69957c6cf33407a465ce25e5d9c926ae491610"}],"stats":{"total":18,"additions":5,"deletions":13},"files":[{"sha":"654c2e62723892f2183c9a3245520210b6d45f13","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/commons/PropertyList.java","status":"modified","additions":4,"deletions":12,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8a2ef9f3d26c988d7189d01aed5f067b74e24f06/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FPropertyList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8a2ef9f3d26c988d7189d01aed5f067b74e24f06/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FPropertyList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FPropertyList.java?ref=8a2ef9f3d26c988d7189d01aed5f067b74e24f06","patch":"@@ -23,6 +23,7 @@\n import java.util.Iterator;\n import java.util.List;\n import java.util.ListIterator;\n+import java.util.stream.Collectors;\n import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.common.lib.SyncopeConstants;\n \n@@ -171,18 +172,9 @@ public List<String> subList(final int fromIndex, final int toIndex) {\n     }\n \n     public static String getEnumValuesAsString(final List<String> enumerationValues) {\n-        final StringBuilder builder = new StringBuilder();\n-        int index = 0;\n-        for (String str : enumerationValues) {\n-            if (str != null) {\n-                if (index > 0) {\n-                    builder.append(SyncopeConstants.ENUM_VALUES_SEPARATOR);\n-                }\n-                index++;\n-                builder.append(str.trim());\n-            }\n-        }\n-        return builder.toString();\n+        return enumerationValues.stream().\n+                map(v -> StringUtils.isEmpty(v) ? StringUtils.EMPTY : v.trim()).\n+                collect(Collectors.joining(SyncopeConstants.ENUM_VALUES_SEPARATOR));\n     }\n \n     public static List<String> getEnumValuesAsList(final String enumerationValues) {"},{"sha":"80d92449f2323101adca26dfac4c12fab8d210df","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/PlainSchemaDetails.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8a2ef9f3d26c988d7189d01aed5f067b74e24f06/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FPlainSchemaDetails.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8a2ef9f3d26c988d7189d01aed5f067b74e24f06/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FPlainSchemaDetails.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FPlainSchemaDetails.java?ref=8a2ef9f3d26c988d7189d01aed5f067b74e24f06","patch":"@@ -171,7 +171,7 @@ protected String newModelObject() {\n         }.build(\n                 \"enumerationKeys\",\n                 \"enumerationKeys\",\n-                new AjaxTextFieldPanel(\"panel\", \"enumerationKeys\", new Model<String>()));\n+                new AjaxTextFieldPanel(\"panel\", \"enumerationKeys\", new Model<>(null)));\n \n         WebMarkupContainer enumParams = new WebMarkupContainer(\"enumParams\");\n         enumParams.setOutputMarkupPlaceholderTag(true);"}]}
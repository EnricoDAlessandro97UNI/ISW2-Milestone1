{"sha":"803ba44fa12c73c4d7e298bec196ddfd560754ac","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjgwM2JhNDRmYTEyYzczYzRkN2UyOThiZWMxOTZkZGZkNTYwNzU0YWM=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2011-07-20T13:00:38Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2011-07-20T13:00:38Z"},"message":"Added task (propagation, sync and sched) web interfaces\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247046 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"33a821a9205b1d696544760a7a5d31176da5b074","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/33a821a9205b1d696544760a7a5d31176da5b074"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/803ba44fa12c73c4d7e298bec196ddfd560754ac","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/803ba44fa12c73c4d7e298bec196ddfd560754ac","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/803ba44fa12c73c4d7e298bec196ddfd560754ac","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/803ba44fa12c73c4d7e298bec196ddfd560754ac/comments","author":null,"committer":null,"parents":[{"sha":"481612fcfede629a3a31445c17562b6290d40cf8","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/481612fcfede629a3a31445c17562b6290d40cf8","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/481612fcfede629a3a31445c17562b6290d40cf8"}],"stats":{"total":2699,"additions":2297,"deletions":402},"files":[{"sha":"e3fef7534dd1143074f7772f07f824fb8ea33f2f","filename":"archetype/src/main/resources/archetype-resources/core/src/test/resources/content.xml","status":"modified","additions":8,"deletions":5,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcore%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcore%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcore%2Fsrc%2Ftest%2Fresources%2Fcontent.xml?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -29,7 +29,7 @@\n     <hibernate_sequences sequence_name=\"SEQ_RAttrValue\" sequence_next_hi_value=\"1000\"/>\n     <hibernate_sequences sequence_name=\"SEQ_MAttrValue\" sequence_next_hi_value=\"1000\"/>\n     <hibernate_sequences sequence_name=\"SEQ_Task\" sequence_next_hi_value=\"10\"/>\n-    <hibernate_sequences sequence_name=\"SEQ_TaskExecution\" sequence_next_hi_value=\"10\"/>\n+    <hibernate_sequences sequence_name=\"SEQ_TaskExec\" sequence_next_hi_value=\"10\"/>\n     <hibernate_sequences sequence_name=\"SEQ_JPACurrentStep\" sequence_next_hi_value=\"10\"/>\n     <hibernate_sequences sequence_name=\"SEQ_JPAHistoryStep\" sequence_next_hi_value=\"10\"/>\n     <hibernate_sequences sequence_name=\"SEQ_JPAPropertySetItem\" sequence_next_hi_value=\"10\"/>\n@@ -340,16 +340,18 @@\n                    sourceAttrName=\"Password\" sourceMappingType=\"Password\" mandatoryCondition=\"true\"\n                    accountid=\"0\" password=\"1\"/>\n \n-    <Task id=\"1\" propagationMode=\"ASYNC\" resourceOperationType=\"UPDATE\"\n+    <Task DTYPE=\"PropagationTask\" id=\"1\" propagationMode=\"ASYNC\" resourceOperationType=\"UPDATE\"\n                  resource_name=\"ws-target-resource-2\"\n                  xmlAttributes=\"%3Cset%3E%0A++%3Corg.identityconnectors.framework.common.objects.Name%3E%0A++++%3Cname%3E__NAME__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3EuserId%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Name%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3E__PASSWORD__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Corg.identityconnectors.common.security.GuardedString%3E%0A++++++++++%3C__readOnly%3Efalse%3C%2F__readOnly%3E%0A++++++++++%3C__disposed%3Efalse%3C%2F__disposed%3E%0A++++++++++%3C__encryptedBytes%3EQTOgwEhIHqtAI%2FYlgDhYc37esEF8VLDMU2IY1ciltrg%3D%3C%2F__encryptedBytes%3E%0A++++++++++%3C__base64SHA1Hash%3EW5%2FrwtdCnI8gAnIUhKcahMEnMMc%3D%3C%2F__base64SHA1Hash%3E%0A++++++++%3C%2Forg.identityconnectors.common.security.GuardedString%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Etype%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Etype%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Efullname%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Efullname%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A%3C%2Fset%3E%0A\"/>\n-    <TaskExecution id=\"1\" task_id=\"1\" workflowId=\"0\"/>\n-    <Task id=\"2\" propagationMode=\"SYNC\" resourceOperationType=\"CREATE\"\n+    <TaskExec id=\"1\" task_id=\"1\" status=\"SUCCESS\"/>\n+    <Task DTYPE=\"PropagationTask\" id=\"2\" propagationMode=\"SYNC\" resourceOperationType=\"CREATE\"\n                  resource_name=\"ws-target-resource-2\"\n                  xmlAttributes=\"%3Cset%3E%0A++%3Corg.identityconnectors.framework.common.objects.Name%3E%0A++++%3Cname%3E__NAME__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3EuserId%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Name%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3E__PASSWORD__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Corg.identityconnectors.common.security.GuardedString%3E%0A++++++++++%3C__readOnly%3Efalse%3C%2F__readOnly%3E%0A++++++++++%3C__disposed%3Efalse%3C%2F__disposed%3E%0A++++++++++%3C__encryptedBytes%3EQTOgwEhIHqtAI%2FYlgDhYc37esEF8VLDMU2IY1ciltrg%3D%3C%2F__encryptedBytes%3E%0A++++++++++%3C__base64SHA1Hash%3EW5%2FrwtdCnI8gAnIUhKcahMEnMMc%3D%3C%2F__base64SHA1Hash%3E%0A++++++++%3C%2Forg.identityconnectors.common.security.GuardedString%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Etype%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Etype%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Efullname%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Efullname%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A%3C%2Fset%3E%0A\"/>\n-    <Task id=\"3\" propagationMode=\"ASYNC\" resourceOperationType=\"DELETE\"\n+    <Task DTYPE=\"PropagationTask\" id=\"3\" propagationMode=\"ASYNC\" resourceOperationType=\"DELETE\"\n                  resource_name=\"ws-target-resource-2\"\n                  xmlAttributes=\"%3Cset%3E%0A++%3Corg.identityconnectors.framework.common.objects.Name%3E%0A++++%3Cname%3E__NAME__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3EuserId%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Name%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3E__PASSWORD__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Corg.identityconnectors.common.security.GuardedString%3E%0A++++++++++%3C__readOnly%3Efalse%3C%2F__readOnly%3E%0A++++++++++%3C__disposed%3Efalse%3C%2F__disposed%3E%0A++++++++++%3C__encryptedBytes%3EQTOgwEhIHqtAI%2FYlgDhYc37esEF8VLDMU2IY1ciltrg%3D%3C%2F__encryptedBytes%3E%0A++++++++++%3C__base64SHA1Hash%3EW5%2FrwtdCnI8gAnIUhKcahMEnMMc%3D%3C%2F__base64SHA1Hash%3E%0A++++++++%3C%2Forg.identityconnectors.common.security.GuardedString%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Etype%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Etype%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A%3C%2Fset%3E\"/>\n+    <Task DTYPE=\"SyncTask\" id=\"4\" resource_name=\"ws-target-resource-2\" updateIdentities=\"1\" jobClassName=\"org.syncope.core.scheduling.SyncJob\" cronExpression=\"0 0 10 * * ?\"/>\n+    <Task DTYPE=\"SchedTask\" id=\"5\" jobClassName=\"org.syncope.core.scheduling.SampleJob\" cronExpression=\"0 0 0 1 * ?\"/>\n \n     <RDerSchema name=\"displayProperty\" expression=\"icon + ': ' + show\"/>\n \n@@ -391,6 +393,7 @@\n     <Entitlement name=\"CONFIGURATION_READ\"/>\n     <Entitlement name=\"CONFIGURATION_UPDATE\"/>\n     <Entitlement name=\"CONFIGURATION_DELETE\"/>\n+    <Entitlement name=\"TASK_CREATE\"/>\n     <Entitlement name=\"TASK_LIST\"/>\n     <Entitlement name=\"TASK_EXECUTE\"/>\n     <Entitlement name=\"TASK_READ\"/>"},{"sha":"1b3b5f364e98ded0194a9ba2b87d3638fbb05501","filename":"client/src/main/java/org/syncope/client/to/SchedTaskTO.java","status":"modified","additions":22,"deletions":0,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FSchedTaskTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FSchedTaskTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FSchedTaskTO.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -14,6 +14,8 @@\n  */\n package org.syncope.client.to;\n \n+import java.util.Date;\n+\n public class SchedTaskTO extends TaskTO {\n \n     private static final long serialVersionUID = -5722284116974636425L;\n@@ -22,6 +24,10 @@ public class SchedTaskTO extends TaskTO {\n \n     private String jobClassName;\n \n+    private Date lastExec;\n+\n+    private Date nextExec;\n+\n     public String getCronExpression() {\n         return cronExpression;\n     }\n@@ -37,4 +43,20 @@ public String getJobClassName() {\n     public void setJobClassName(String jobClassName) {\n         this.jobClassName = jobClassName;\n     }\n+\n+    public Date getLastExec() {\n+        return lastExec;\n+    }\n+\n+    public void setLastExec(Date lastExec) {\n+        this.lastExec = lastExec;\n+    }\n+\n+    public Date getNextExec() {\n+        return nextExec;\n+    }\n+\n+    public void setNextExec(Date nextExec) {\n+        this.nextExec = nextExec;\n+    }\n }"},{"sha":"8f8d8b2cbe4ea5b59241ecf087f32129ec347be3","filename":"client/src/main/java/org/syncope/client/to/SyncTaskTO.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FSyncTaskTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FSyncTaskTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FSyncTaskTO.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -17,7 +17,7 @@\n import java.util.ArrayList;\n import java.util.List;\n \n-public class SyncTaskTO extends TaskTO {\n+public class SyncTaskTO extends SchedTaskTO {\n \n     private String resource;\n "},{"sha":"39b1b8dd3452a43648c01cbcd08a7caf37aaafb5","filename":"client/src/main/java/org/syncope/client/to/TaskTO.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FTaskTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FTaskTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FTaskTO.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -22,7 +22,7 @@ public class TaskTO extends AbstractBaseBean {\n \n     private static final long serialVersionUID = 386450127003321197L;\n \n-    private Long id;\n+    private long id;\n \n     private List<TaskExecTO> executions;\n \n@@ -45,7 +45,7 @@ public boolean addExecution(TaskExecTO execution) {\n     }\n \n     public boolean removeExecution(TaskExecTO execution) {\n-        return executions.add(execution);\n+        return executions.remove(execution);\n     }\n \n     public List<TaskExecTO> getExecutions() {"},{"sha":"47bab25ff976683c62fe1e2f45135df06f0fa4f1","filename":"console/src/main/java/org/syncope/console/commons/SelectChoiceRenderer.java","status":"renamed","additions":9,"deletions":5,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fcommons%2FSelectChoiceRenderer.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fcommons%2FSelectChoiceRenderer.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fcommons%2FSelectChoiceRenderer.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -16,15 +16,19 @@\n \n import org.apache.wicket.markup.html.form.IChoiceRenderer;\n \n-public class StringChoiceRenderer implements IChoiceRenderer<String> {\n+public class SelectChoiceRenderer implements IChoiceRenderer {\n \n     @Override\n-    public Object getDisplayValue(final String t) {\n-        return t;\n+    public Object getDisplayValue(Object obj) {\n+        if (obj instanceof SelectOption) {\n+            return ((SelectOption) obj).getDisplayValue();\n+        } else {\n+            return obj.toString();\n+        }\n     }\n \n     @Override\n-    public String getIdValue(final String t, final int i) {\n-        return t;\n+    public String getIdValue(Object obj, int i) {\n+        return obj.toString();\n     }\n }","previous_filename":"console/src/main/java/org/syncope/console/commons/StringChoiceRenderer.java"},{"sha":"a6a81f26875b2e71448164806c8f453e295c43de","filename":"console/src/main/java/org/syncope/console/commons/SelectOption.java","status":"added","additions":50,"deletions":0,"changes":50,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fcommons%2FSelectOption.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fcommons%2FSelectOption.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fcommons%2FSelectOption.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,50 @@\n+/*\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ * \n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *  under the License.\n+ */\n+package org.syncope.console.commons;\n+\n+import java.io.Serializable;\n+\n+public class SelectOption implements Serializable {\n+\n+    private String displayValue;\n+\n+    private String keyValue;\n+\n+    public SelectOption(String description, String cronStr) {\n+        this.displayValue = description;\n+        this.keyValue = cronStr;\n+    }\n+\n+    public String getDisplayValue() {\n+        return displayValue;\n+    }\n+\n+    public void setDisplayValue(String displayValue) {\n+        this.displayValue = displayValue;\n+    }\n+\n+    public String getKeyValue() {\n+        return keyValue;\n+    }\n+\n+    public void setKeyValue(String keyValue) {\n+        this.keyValue = keyValue;\n+    }\n+\n+    @Override\n+    public String toString() {\n+        return keyValue;\n+    }\n+}"},{"sha":"df3f6ba931b24a36aaa8febd7fac0c13d8e768a3","filename":"console/src/main/java/org/syncope/console/pages/GTaskModalPage.java","status":"added","additions":66,"deletions":0,"changes":66,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGTaskModalPage.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,66 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.syncope.console.pages;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.markup.html.form.DropDownChoice;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.LoadableDetachableModel;\n+import org.apache.wicket.model.PropertyModel;\n+import org.syncope.client.to.SchedTaskTO;\n+\n+/**\n+ * Modal window with Task form (to stop and start execution).\n+ */\n+public class GTaskModalPage extends SchedTaskModalPage {\n+\n+    /**\n+     *\n+     * @param basePage base\n+     * @param modalWindow modal window\n+     * @param connectorTO\n+     * @param create : set to true only if a CREATE operation is required\n+     */\n+    public GTaskModalPage(\n+            final BasePage basePage,\n+            final ModalWindow window,\n+            final SchedTaskTO taskTO) {\n+\n+        super(basePage, window, taskTO);\n+\n+        final IModel<List<String>> classNames =\n+                new LoadableDetachableModel<List<String>>() {\n+\n+                    @Override\n+                    protected List<String> load() {\n+                        final List<String> classes = new ArrayList<String>(\n+                                taskRestClient.getJobClasses());\n+\n+                        return classes;\n+                    }\n+                };\n+\n+        final DropDownChoice<String> className =\n+                new DropDownChoice(\n+                \"jobClassName\",\n+                new PropertyModel(taskTO, \"jobClassName\"),\n+                classNames);\n+        profile.add(className);\n+    }\n+}"},{"sha":"f3c25fcf96ce66304d0a606ec41dee5132273b31","filename":"console/src/main/java/org/syncope/console/pages/GenericTasks.java","status":"added","additions":348,"deletions":0,"changes":348,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGenericTasks.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGenericTasks.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGenericTasks.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,348 @@\n+/*\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ * \n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *  under the License.\n+ */\n+package org.syncope.console.pages;\n+\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.Iterator;\n+import java.util.List;\n+import org.apache.wicket.Page;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n+import org.apache.wicket.ajax.markup.html.AjaxLink;\n+import org.apache.wicket.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n+import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n+import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.AbstractColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.util.SortableDataProvider;\n+import org.apache.wicket.markup.html.WebMarkupContainer;\n+import org.apache.wicket.markup.html.basic.Label;\n+import org.apache.wicket.markup.html.form.DropDownChoice;\n+import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.markup.html.panel.Panel;\n+import org.apache.wicket.markup.repeater.Item;\n+import org.apache.wicket.model.CompoundPropertyModel;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.Model;\n+import org.apache.wicket.model.PropertyModel;\n+import org.apache.wicket.protocol.http.WebResponse;\n+import org.apache.wicket.spring.injection.annot.SpringBean;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.syncope.client.to.SchedTaskTO;\n+import org.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.syncope.console.commons.Constants;\n+import org.syncope.console.commons.PreferenceManager;\n+import org.syncope.console.commons.SortableDataProviderComparator;\n+import org.syncope.console.commons.XMLRolesReader;\n+import org.syncope.console.rest.TaskRestClient;\n+import org.syncope.console.wicket.ajax.markup.html.IndicatingDeleteOnConfirmAjaxLink;\n+import org.syncope.console.wicket.markup.html.form.DeleteLinkPanel;\n+import org.syncope.console.wicket.markup.html.form.EditLinkPanel;\n+import org.syncope.console.wicket.markup.html.form.LinkPanel;\n+\n+public class GenericTasks extends Panel {\n+\n+    /**\n+     * Logger.\n+     */\n+    protected static final Logger LOG = LoggerFactory.getLogger(\n+            GenericTasks.class);\n+\n+    private static final int WIN_HEIGHT = 500;\n+\n+    private static final int WIN_WIDTH = 700;\n+\n+    @SpringBean\n+    private TaskRestClient restClient;\n+\n+    @SpringBean\n+    private PreferenceManager prefMan;\n+\n+    private int paginatorRows;\n+\n+    private WebMarkupContainer container;\n+\n+    /**\n+     * Response flag set by the Modal Window after the operation is completed:\n+     * TRUE if the operation succedes, FALSE otherwise\n+     */\n+    private boolean operationResult = false;\n+\n+    private ModalWindow window;\n+\n+    @SpringBean\n+    protected XMLRolesReader xmlRolesReader;\n+\n+    public GenericTasks(String id, IModel<?> model) {\n+        super(id, model);\n+    }\n+\n+    public GenericTasks(String id) {\n+        super(id);\n+        add(window = new ModalWindow(\"taskWin\"));\n+\n+        paginatorRows = prefMan.getPaginatorRows(\n+                getWebRequest(),\n+                Constants.PREF_TASKS_PAGINATOR_ROWS);\n+\n+        List<IColumn<SchedTaskTO>> columns =\n+                new ArrayList<IColumn<SchedTaskTO>>();\n+\n+        columns.add(new PropertyColumn(\n+                new Model(getString(\"id\")), \"id\", \"id\"));\n+\n+        columns.add(new PropertyColumn(\n+                new Model(getString(\"class\")), \"jobClassName\", \"jobClassName\"));\n+\n+        columns.add(new PropertyColumn(\n+                new Model(getString(\"lastExec\")), \"lastExec\", \"lastExec\"));\n+\n+        columns.add(new PropertyColumn(\n+                new Model(getString(\"nextExec\")), \"nextExec\", \"nextExec\"));\n+\n+        columns.add(new AbstractColumn<SchedTaskTO>(\n+                new Model<String>(getString(\"detail\"))) {\n+\n+            @Override\n+            public void populateItem(\n+                    final Item<ICellPopulator<SchedTaskTO>> cellItem,\n+                    final String componentId,\n+                    final IModel<SchedTaskTO> model) {\n+\n+                final SchedTaskTO taskTO = model.getObject();\n+\n+                AjaxLink viewLink = new IndicatingAjaxLink(\"editLink\") {\n+\n+                    @Override\n+                    public void onClick(final AjaxRequestTarget target) {\n+\n+                        window.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                            @Override\n+                            public Page createPage() {\n+                                return new GTaskModalPage(\n+                                        (BasePage) getPage(), window, taskTO);\n+                            }\n+                        });\n+\n+                        window.show(target);\n+                    }\n+                };\n+\n+                EditLinkPanel panel = new EditLinkPanel(componentId, model);\n+                panel.add(viewLink);\n+\n+                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n+                        xmlRolesReader.getAllAllowedRoles(\"Tasks\",\n+                        \"read\"));\n+\n+                cellItem.add(panel);\n+            }\n+        });\n+\n+        columns.add(new AbstractColumn<SchedTaskTO>(\n+                new Model<String>(getString(\"execute\"))) {\n+\n+            @Override\n+            public void populateItem(\n+                    final Item<ICellPopulator<SchedTaskTO>> cellItem,\n+                    final String componentId,\n+                    final IModel<SchedTaskTO> model) {\n+\n+                final SchedTaskTO taskTO = model.getObject();\n+\n+                AjaxLink executeLink = new IndicatingAjaxLink(\"link\") {\n+\n+                    @Override\n+                    public void onClick(final AjaxRequestTarget target) {\n+                        try {\n+                            restClient.startExecution(taskTO.getId());\n+                            getSession().info(getString(\"operation_succeded\"));\n+                        } catch (SyncopeClientCompositeErrorException scce) {\n+                            error(scce.getMessage());\n+                        }\n+\n+                        target.addComponent(getPage().get(\"feedback\"));\n+                        target.addComponent(container);\n+                    }\n+                };\n+\n+                executeLink.add(new Label(\"linkTitle\", getString(\"execute\")));\n+\n+                LinkPanel panel = new LinkPanel(componentId);\n+                panel.add(executeLink);\n+\n+                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n+                        xmlRolesReader.getAllAllowedRoles(\"Tasks\", \"execute\"));\n+\n+                cellItem.add(panel);\n+            }\n+        });\n+\n+        columns.add(new AbstractColumn<SchedTaskTO>(\n+                new Model<String>(getString(\"delete\"))) {\n+\n+            @Override\n+            public void populateItem(\n+                    final Item<ICellPopulator<SchedTaskTO>> cellItem,\n+                    final String componentId,\n+                    final IModel<SchedTaskTO> model) {\n+\n+                final SchedTaskTO taskTO = model.getObject();\n+\n+                AjaxLink deleteLink = new IndicatingDeleteOnConfirmAjaxLink(\n+                        \"deleteLink\") {\n+\n+                    @Override\n+                    public void onClick(final AjaxRequestTarget target) {\n+                        try {\n+                            restClient.delete(taskTO.getId());\n+                            info(getString(\"operation_succeded\"));\n+                        } catch (SyncopeClientCompositeErrorException scce) {\n+                            error(scce.getMessage());\n+                        }\n+                        target.addComponent(container);\n+                        target.addComponent(getPage().get(\"feedback\"));\n+                    }\n+                };\n+\n+                DeleteLinkPanel panel = new DeleteLinkPanel(componentId, model);\n+                panel.add(deleteLink);\n+\n+                String allowedRoles = xmlRolesReader.getAllAllowedRoles(\"Tasks\",\n+                        \"delete\");\n+\n+                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n+                        allowedRoles);\n+\n+                cellItem.add(panel);\n+            }\n+        });\n+\n+        final AjaxFallbackDefaultDataTable<SchedTaskTO> table =\n+                new AjaxFallbackDefaultDataTable<SchedTaskTO>(\n+                \"datatable\", columns, new TasksProvider(), paginatorRows);\n+\n+        container = new WebMarkupContainer(\"container\");\n+        container.add(table);\n+        container.setOutputMarkupId(true);\n+\n+        add(container);\n+\n+        window.setWindowClosedCallback(\n+                new ModalWindow.WindowClosedCallback() {\n+\n+                    @Override\n+                    public void onClose(final AjaxRequestTarget target) {\n+                        target.addComponent(container);\n+                        if (operationResult) {\n+                            info(getString(\"operation_succeded\"));\n+                            target.addComponent(getPage().get(\"feedback\"));\n+                            operationResult = false;\n+                        }\n+                    }\n+                });\n+\n+        window.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n+        window.setInitialHeight(WIN_HEIGHT);\n+        window.setInitialWidth(WIN_WIDTH);\n+        window.setPageMapName(\"view-task-win\");\n+        window.setCookieName(\"view-task-win\");\n+\n+        Form paginatorForm = new Form(\"PaginatorForm\");\n+\n+        final DropDownChoice rowsChooser = new DropDownChoice(\"rowsChooser\",\n+                new PropertyModel(this, \"paginatorRows\"),\n+                prefMan.getPaginatorChoices());\n+\n+        rowsChooser.add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n+\n+            @Override\n+            protected void onUpdate(final AjaxRequestTarget target) {\n+                prefMan.set(getWebRequest(), (WebResponse) getResponse(),\n+                        Constants.PREF_TASKS_PAGINATOR_ROWS,\n+                        String.valueOf(paginatorRows));\n+\n+                table.setRowsPerPage(paginatorRows);\n+\n+                target.addComponent(container);\n+            }\n+        });\n+\n+        paginatorForm.add(rowsChooser);\n+        add(paginatorForm);\n+\n+        // create new user\n+        AjaxLink createLink = new IndicatingAjaxLink(\"createLink\") {\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target) {\n+                window.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                    @Override\n+                    public Page createPage() {\n+                        return new GTaskModalPage(\n+                                (BasePage) getPage(),\n+                                window,\n+                                new SchedTaskTO());\n+                    }\n+                });\n+\n+                window.show(target);\n+            }\n+        };\n+        MetaDataRoleAuthorizationStrategy.authorize(\n+                createLink, ENABLE, xmlRolesReader.getAllAllowedRoles(\n+                \"Tasks\", \"create\"));\n+        add(createLink);\n+    }\n+\n+    private class TasksProvider extends SortableDataProvider<SchedTaskTO> {\n+\n+        private SortableDataProviderComparator<SchedTaskTO> comparator;\n+\n+        public TasksProvider() {\n+            super();\n+            //Default sorting\n+            setSort(\"id\", true);\n+            comparator =\n+                    new SortableDataProviderComparator<SchedTaskTO>(this);\n+        }\n+\n+        @Override\n+        public Iterator<SchedTaskTO> iterator(int first, int count) {\n+            final List<SchedTaskTO> tasks = restClient.listSchedTasks(\n+                    (first / paginatorRows) + 1, count);\n+\n+            Collections.sort(tasks, comparator);\n+            return tasks.iterator();\n+        }\n+\n+        @Override\n+        public int size() {\n+            return restClient.count(getId());\n+        }\n+\n+        @Override\n+        public IModel<SchedTaskTO> model(final SchedTaskTO object) {\n+            return new CompoundPropertyModel<SchedTaskTO>(object);\n+        }\n+    }\n+}"},{"sha":"750e3a456b30c4309f0862fc9ee9be791038a4e6","filename":"console/src/main/java/org/syncope/console/pages/PTaskModalPage.java","status":"added","additions":52,"deletions":0,"changes":52,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPTaskModalPage.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.syncope.console.pages;\n+\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.markup.html.form.TextField;\n+import org.syncope.client.to.TaskTO;\n+\n+/**\n+ * Modal window with Task form (to stop and start execution).\n+ */\n+public class PTaskModalPage extends TaskModalPage {\n+\n+    /**\n+     *\n+     * @param basePage base\n+     * @param modalWindow modal window\n+     * @param connectorTO\n+     * @param create : set to true only if a CREATE operation is required\n+     */\n+    public PTaskModalPage(\n+            final BasePage basePage,\n+            final ModalWindow window,\n+            final TaskTO taskTO) {\n+\n+        super(taskTO);\n+\n+        final TextField accountId = new TextField(\"accountId\");\n+        accountId.setEnabled(false);\n+\n+        profile.add(accountId);\n+\n+        final TextField resource = new TextField(\"resource\");\n+        resource.setEnabled(false);\n+\n+        profile.add(resource);\n+    }\n+}"},{"sha":"61c0819ccc9c38a42c9458199f86781f30bbaa03","filename":"console/src/main/java/org/syncope/console/pages/PropagationTasks.java","status":"added","additions":331,"deletions":0,"changes":331,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPropagationTasks.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPropagationTasks.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPropagationTasks.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,331 @@\n+/*\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ * \n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *  under the License.\n+ */\n+package org.syncope.console.pages;\n+\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.Iterator;\n+import java.util.List;\n+import org.apache.wicket.Page;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n+import org.apache.wicket.ajax.markup.html.AjaxLink;\n+import org.apache.wicket.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n+import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n+import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.AbstractColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.util.SortableDataProvider;\n+import org.apache.wicket.markup.html.WebMarkupContainer;\n+import org.apache.wicket.markup.html.basic.Label;\n+import org.apache.wicket.markup.html.form.DropDownChoice;\n+import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.markup.html.panel.Panel;\n+import org.apache.wicket.markup.repeater.Item;\n+import org.apache.wicket.model.CompoundPropertyModel;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.Model;\n+import org.apache.wicket.model.PropertyModel;\n+import org.apache.wicket.protocol.http.WebResponse;\n+import org.apache.wicket.spring.injection.annot.SpringBean;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.syncope.client.to.PropagationTaskTO;\n+import org.syncope.client.to.TaskTO;\n+import org.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.syncope.console.commons.Constants;\n+import org.syncope.console.commons.PreferenceManager;\n+import org.syncope.console.commons.SortableDataProviderComparator;\n+import org.syncope.console.commons.XMLRolesReader;\n+import org.syncope.console.rest.TaskRestClient;\n+import org.syncope.console.wicket.ajax.markup.html.IndicatingDeleteOnConfirmAjaxLink;\n+import org.syncope.console.wicket.markup.html.form.DeleteLinkPanel;\n+import org.syncope.console.wicket.markup.html.form.EditLinkPanel;\n+import org.syncope.console.wicket.markup.html.form.LinkPanel;\n+\n+/**\n+ * Tasks page.\n+ */\n+public class PropagationTasks extends Panel {\n+\n+    /**\n+     * Logger.\n+     */\n+    protected static final Logger LOG = LoggerFactory.getLogger(\n+            PropagationTasks.class);\n+\n+    private static final int WIN_HEIGHT = 500;\n+\n+    private static final int WIN_WIDTH = 700;\n+\n+    @SpringBean\n+    private TaskRestClient restClient;\n+\n+    @SpringBean\n+    private PreferenceManager prefMan;\n+\n+    private int paginatorRows;\n+\n+    private WebMarkupContainer container;\n+\n+    /**\n+     * Response flag set by the Modal Window after the operation is completed:\n+     * TRUE if the operation succedes, FALSE otherwise\n+     */\n+    private boolean operationResult = false;\n+\n+    private ModalWindow window;\n+\n+    @SpringBean\n+    protected XMLRolesReader xmlRolesReader;\n+\n+    public PropagationTasks(\n+            final String id) {\n+\n+        super(id);\n+\n+        add(window = new ModalWindow(\"taskWin\"));\n+\n+        paginatorRows = prefMan.getPaginatorRows(\n+                getWebRequest(),\n+                Constants.PREF_TASKS_PAGINATOR_ROWS);\n+\n+        List<IColumn<TaskTO>> columns = new ArrayList<IColumn<TaskTO>>();\n+\n+        columns.add(new PropertyColumn(\n+                new Model(getString(\"id\")), \"id\", \"id\"));\n+\n+        columns.add(new PropertyColumn(\n+                new Model(getString(\"resource\")), \"resource\", \"resource\"));\n+\n+        columns.add(new PropertyColumn(\n+                new Model(getString(\"accountId\")), \"accountId\", \"accountId\"));\n+\n+        columns.add(new PropertyColumn(\n+                new Model(getString(\"propagationMode\")),\n+                \"propagationMode\", \"propagationMode\"));\n+\n+        columns.add(new PropertyColumn(\n+                new Model(getString(\"resourceOperationType\")),\n+                \"resourceOperationType\", \"resourceOperationType\"));\n+\n+        columns.add(new AbstractColumn<TaskTO>(new Model<String>(getString(\n+                \"detail\"))) {\n+\n+            @Override\n+            public void populateItem(\n+                    final Item<ICellPopulator<TaskTO>> cellItem,\n+                    final String componentId,\n+                    final IModel<TaskTO> model) {\n+\n+                final TaskTO taskTO = model.getObject();\n+\n+                AjaxLink viewLink = new IndicatingAjaxLink(\"editLink\") {\n+\n+                    @Override\n+                    public void onClick(final AjaxRequestTarget target) {\n+\n+                        window.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                            @Override\n+                            public Page createPage() {\n+                                return new PTaskModalPage(\n+                                        (BasePage) getPage(), window, taskTO);\n+                            }\n+                        });\n+\n+                        window.show(target);\n+                    }\n+                };\n+\n+                EditLinkPanel panel = new EditLinkPanel(componentId,\n+                        model);\n+                panel.add(viewLink);\n+\n+                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n+                        xmlRolesReader.getAllAllowedRoles(\"Tasks\",\n+                        \"read\"));\n+\n+                cellItem.add(panel);\n+            }\n+        });\n+\n+        columns.add(new AbstractColumn<TaskTO>(new Model<String>(getString(\n+                \"execute\"))) {\n+\n+            @Override\n+            public void populateItem(\n+                    final Item<ICellPopulator<TaskTO>> cellItem,\n+                    final String componentId,\n+                    final IModel<TaskTO> model) {\n+\n+                final TaskTO taskTO = model.getObject();\n+\n+                AjaxLink executeLink = new IndicatingAjaxLink(\"link\") {\n+\n+                    @Override\n+                    public void onClick(final AjaxRequestTarget target) {\n+                        try {\n+                            restClient.startExecution(taskTO.getId());\n+                            getSession().info(getString(\"operation_succeded\"));\n+                        } catch (SyncopeClientCompositeErrorException scce) {\n+                            error(scce.getMessage());\n+                        }\n+\n+                        target.addComponent(getPage().get(\"feedback\"));\n+                        target.addComponent(container);\n+                    }\n+                };\n+\n+                executeLink.add(new Label(\"linkTitle\", getString(\"execute\")));\n+\n+                LinkPanel panel = new LinkPanel(componentId);\n+                panel.add(executeLink);\n+\n+                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n+                        xmlRolesReader.getAllAllowedRoles(\"Tasks\", \"execute\"));\n+\n+                cellItem.add(panel);\n+            }\n+        });\n+\n+        columns.add(new AbstractColumn<TaskTO>(new Model<String>(getString(\n+                \"delete\"))) {\n+\n+            @Override\n+            public void populateItem(\n+                    final Item<ICellPopulator<TaskTO>> cellItem,\n+                    final String componentId,\n+                    final IModel<TaskTO> model) {\n+\n+                final TaskTO taskTO = model.getObject();\n+\n+                AjaxLink deleteLink = new IndicatingDeleteOnConfirmAjaxLink(\n+                        \"deleteLink\") {\n+\n+                    @Override\n+                    public void onClick(final AjaxRequestTarget target) {\n+                        try {\n+                            restClient.delete(taskTO.getId());\n+                            info(getString(\"operation_succeded\"));\n+                        } catch (SyncopeClientCompositeErrorException scce) {\n+                            error(scce.getMessage());\n+                        }\n+                        target.addComponent(container);\n+                        target.addComponent(getPage().get(\"feedback\"));\n+                    }\n+                };\n+\n+                DeleteLinkPanel panel = new DeleteLinkPanel(componentId, model);\n+                panel.add(deleteLink);\n+\n+                String allowedRoles = xmlRolesReader.getAllAllowedRoles(\"Tasks\",\n+                        \"delete\");\n+\n+                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n+                        allowedRoles);\n+\n+                cellItem.add(panel);\n+            }\n+        });\n+\n+        final AjaxFallbackDefaultDataTable<TaskTO> table =\n+                new AjaxFallbackDefaultDataTable<TaskTO>(\n+                \"datatable\", columns, new TasksProvider(), paginatorRows);\n+\n+        container = new WebMarkupContainer(\"container\");\n+        container.add(table);\n+        container.setOutputMarkupId(true);\n+\n+        add(container);\n+\n+        window.setWindowClosedCallback(\n+                new ModalWindow.WindowClosedCallback() {\n+\n+                    @Override\n+                    public void onClose(final AjaxRequestTarget target) {\n+                        target.addComponent(container);\n+                        if (operationResult) {\n+                            info(getString(\"operation_succeded\"));\n+                            target.addComponent(getPage().get(\"feedback\"));\n+                            operationResult = false;\n+                        }\n+                    }\n+                });\n+\n+        window.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n+        window.setInitialHeight(WIN_HEIGHT);\n+        window.setInitialWidth(WIN_WIDTH);\n+        window.setPageMapName(\"view-task-win\");\n+        window.setCookieName(\"view-task-win\");\n+\n+        Form paginatorForm = new Form(\"PaginatorForm\");\n+\n+        final DropDownChoice rowsChooser = new DropDownChoice(\"rowsChooser\",\n+                new PropertyModel(this, \"paginatorRows\"),\n+                prefMan.getPaginatorChoices());\n+\n+        rowsChooser.add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n+\n+            @Override\n+            protected void onUpdate(final AjaxRequestTarget target) {\n+                prefMan.set(getWebRequest(), (WebResponse) getResponse(),\n+                        Constants.PREF_TASKS_PAGINATOR_ROWS,\n+                        String.valueOf(paginatorRows));\n+\n+                table.setRowsPerPage(paginatorRows);\n+\n+                target.addComponent(container);\n+            }\n+        });\n+\n+        paginatorForm.add(rowsChooser);\n+        add(paginatorForm);\n+    }\n+\n+    private class TasksProvider extends SortableDataProvider<TaskTO> {\n+\n+        private SortableDataProviderComparator<TaskTO> comparator;\n+\n+        public TasksProvider() {\n+            super();\n+            //Default sorting\n+            setSort(\"id\", true);\n+            comparator = new SortableDataProviderComparator<TaskTO>(this);\n+        }\n+\n+        @Override\n+        public Iterator<PropagationTaskTO> iterator(int first, int count) {\n+            final List<PropagationTaskTO> tasks =\n+                    restClient.listPropagationTasks(\n+                    (first / paginatorRows) + 1, count);\n+            Collections.sort(tasks, comparator);\n+            return tasks.iterator();\n+        }\n+\n+        @Override\n+        public int size() {\n+            return restClient.count(getId());\n+        }\n+\n+        @Override\n+        public IModel<TaskTO> model(final TaskTO object) {\n+            return new CompoundPropertyModel<TaskTO>(object);\n+        }\n+    }\n+}"},{"sha":"15bbcc979ed1dd793600e3f99ea1b5898c8d8a4c","filename":"console/src/main/java/org/syncope/console/pages/RoleModalPage.java","status":"modified","additions":11,"deletions":11,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -57,7 +57,7 @@\n import org.syncope.client.to.RoleTO;\n import org.syncope.client.to.SchemaTO;\n import org.syncope.console.commons.SchemaWrapper;\n-import org.syncope.console.commons.StringChoiceRenderer;\n+import org.syncope.console.commons.SelectChoiceRenderer;\n import org.syncope.console.rest.EntitlementRestClient;\n import org.syncope.console.rest.ResourceRestClient;\n import org.syncope.console.rest.RoleRestClient;\n@@ -379,7 +379,7 @@ public CharSequence preDecorateScript(\n \n         final Palette<String> entitlementsPalette = new Palette(\n                 \"entitlementsPalette\", selectedEntitlements,\n-                availableEntitlements, new StringChoiceRenderer(), 20, false);\n+                availableEntitlements, new SelectChoiceRenderer(), 20, false);\n \n         form.add(entitlementsPalette);\n \n@@ -469,7 +469,7 @@ protected void onError(final AjaxRequestTarget target,\n      * @param roleTO\n      * @return List<ResourceTO>\n      */\n-    public List<ResourceTO> getSelectedResources(RoleTO roleTO) {\n+    private List<ResourceTO> getSelectedResources(RoleTO roleTO) {\n         List<ResourceTO> resources = new ArrayList<ResourceTO>();\n         ResourceTO clusterableResourceTO;\n \n@@ -486,7 +486,7 @@ public List<ResourceTO> getSelectedResources(RoleTO roleTO) {\n      * @param roleTO\n      * @return List<ResourceTO>\n      */\n-    public List<ResourceTO> getAvailableResources(RoleTO roleTO) {\n+    private List<ResourceTO> getAvailableResources(RoleTO roleTO) {\n \n         List<ResourceTO> resources = new ArrayList<ResourceTO>();\n \n@@ -499,7 +499,7 @@ public List<ResourceTO> getAvailableResources(RoleTO roleTO) {\n         return resources;\n     }\n \n-    public void setupSchemaWrappers(boolean create, RoleTO roleTO) {\n+    private void setupSchemaWrappers(boolean create, RoleTO roleTO) {\n         schemaWrappers = new ArrayList<SchemaWrapper>();\n         SchemaWrapper schemaWrapper;\n \n@@ -532,7 +532,7 @@ public void setupSchemaWrappers(boolean create, RoleTO roleTO) {\n         }\n     }\n \n-    public List<AttributeTO> getRoleAttributes() {\n+    private List<AttributeTO> getRoleAttributes() {\n \n         List<AttributeTO> attributes = new ArrayList<AttributeTO>();\n \n@@ -558,7 +558,7 @@ public List<AttributeTO> getRoleAttributes() {\n      * Create a copy of old RoleTO\n      * @param roleTO\n      */\n-    public void cloneOldRoleTO(RoleTO roleTO) {\n+    private void cloneOldRoleTO(RoleTO roleTO) {\n         oldRole = new RoleTO();\n \n         oldRole.setId(roleTO.getId());\n@@ -608,7 +608,7 @@ public void cloneOldRoleTO(RoleTO roleTO) {\n         oldRole.setEntitlements(entList);\n     }\n \n-    public void setupRoleMod(final RoleTO roleTO) {\n+    private void setupRoleMod(final RoleTO roleTO) {\n         roleMod = new RoleMod();\n \n         //1.Check if the role's name has been changed\n@@ -690,7 +690,7 @@ public void setupRoleMod(final RoleTO roleTO) {\n      * it doesn't exist.\n      * @param resource, new resource added\n      */\n-    public void searchAndAddResource(String resource) {\n+    private void searchAndAddResource(String resource) {\n         boolean found = false;\n \n         /*\n@@ -719,7 +719,7 @@ public void searchAndAddResource(String resource) {\n      * @param resource\n      * @param roleTO\n      */\n-    public void searchAndDropResource(final String resource,\n+    private void searchAndDropResource(final String resource,\n             final RoleTO roleTO) {\n \n         boolean found = false;\n@@ -740,7 +740,7 @@ public void searchAndDropResource(final String resource,\n         }\n     }\n \n-    public void searchAndUpdateAttribute(AttributeTO attributeTO) {\n+    private void searchAndUpdateAttribute(AttributeTO attributeTO) {\n         boolean found = false;\n         boolean changed = false;\n "},{"sha":"58934d29be55366eab213dd5ebf5a196087aea6e","filename":"console/src/main/java/org/syncope/console/pages/STaskModalPage.java","status":"added","additions":132,"deletions":0,"changes":132,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSTaskModalPage.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,132 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.syncope.console.pages;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.extensions.markup.html.form.palette.Palette;\n+import org.apache.wicket.markup.html.form.CheckBox;\n+import org.apache.wicket.markup.html.form.ChoiceRenderer;\n+import org.apache.wicket.markup.html.form.DropDownChoice;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.LoadableDetachableModel;\n+import org.apache.wicket.model.Model;\n+import org.apache.wicket.model.PropertyModel;\n+import org.apache.wicket.model.util.ListModel;\n+import org.apache.wicket.spring.injection.annot.SpringBean;\n+import org.syncope.client.to.ResourceTO;\n+import org.syncope.client.to.RoleTO;\n+import org.syncope.client.to.SyncTaskTO;\n+import org.syncope.console.commons.SelectChoiceRenderer;\n+import org.syncope.console.rest.ResourceRestClient;\n+import org.syncope.console.rest.RoleRestClient;\n+\n+/**\n+ * Modal window with Task form (to stop and start execution).\n+ */\n+public class STaskModalPage extends SchedTaskModalPage {\n+\n+    @SpringBean\n+    private RoleRestClient roleRestClient;\n+\n+    @SpringBean\n+    private ResourceRestClient resourceRestClient;\n+\n+    /**\n+     *\n+     * @param basePage base\n+     * @param modalWindow modal window\n+     * @param connectorTO\n+     * @param create : set to true only if a CREATE operation is required\n+     */\n+    public STaskModalPage(\n+            final BasePage basePage,\n+            final ModalWindow window,\n+            final SyncTaskTO taskTO) {\n+\n+        super(basePage, window, taskTO);\n+\n+        final IModel<List<String>> allResources =\n+                new LoadableDetachableModel<List<String>>() {\n+\n+                    @Override\n+                    protected List<String> load() {\n+                        final List<String> resourceNames =\n+                                new ArrayList<String>();\n+\n+                        for (ResourceTO resourceTO :\n+                                resourceRestClient.getAllResources()) {\n+                            resourceNames.add(resourceTO.getName());\n+                        }\n+                        return resourceNames;\n+                    }\n+                };\n+\n+        final IModel<List<RoleTO>> allRoles =\n+                new LoadableDetachableModel<List<RoleTO>>() {\n+\n+                    @Override\n+                    protected List<RoleTO> load() {\n+                        return roleRestClient.getAllRoles();\n+                    }\n+                };\n+\n+        final DropDownChoice<ResourceTO> resource =\n+                new DropDownChoice(\n+                \"resource\",\n+                new PropertyModel(taskTO, \"resource\"),\n+                allResources,\n+                new SelectChoiceRenderer());\n+\n+        profile.add(resource);\n+\n+        final CheckBox updates = new CheckBox(\"updateIdentities\",\n+                Model.of(taskTO.isUpdateIdentities()));\n+        profile.add(updates);\n+\n+        final List<String> availableResources = new ArrayList<String>();\n+        for (String resourceName : allResources.getObject()) {\n+            if (!taskTO.getDefaultResources().contains(resourceName)) {\n+                availableResources.add(resourceName);\n+            }\n+        }\n+\n+        final Palette<String> defaultResources = new Palette(\n+                \"defaultResources\",\n+                new PropertyModel(taskTO, \"defaultResources\"),\n+                new ListModel<String>(availableResources),\n+                new SelectChoiceRenderer(), 8, false);\n+\n+        form.add(defaultResources);\n+\n+        final List<RoleTO> availableRoles = new ArrayList<RoleTO>();\n+        for (RoleTO roleTO : allRoles.getObject()) {\n+            if (!taskTO.getDefaultRoles().contains(roleTO.getId())) {\n+                availableRoles.add(roleTO);\n+            }\n+        }\n+\n+        final Palette<ResourceTO> defaultRoles = new Palette(\n+                \"defaultRoles\",\n+                new PropertyModel(taskTO, \"defaultRoles\"),\n+                new ListModel<RoleTO>(availableRoles),\n+                new ChoiceRenderer(\"name\", \"id\"), 8, false);\n+\n+        form.add(defaultRoles);\n+    }\n+}"},{"sha":"e04822ee6e73712def85f667ac3a71d16eb9dbe5","filename":"console/src/main/java/org/syncope/console/pages/SchedTaskModalPage.java","status":"added","additions":167,"deletions":0,"changes":167,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchedTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchedTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchedTaskModalPage.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,167 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.syncope.console.pages;\n+\n+import java.util.Arrays;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n+import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.markup.html.WebMarkupContainer;\n+import org.apache.wicket.markup.html.form.DropDownChoice;\n+import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.markup.html.form.TextField;\n+import org.apache.wicket.model.Model;\n+import org.apache.wicket.model.PropertyModel;\n+import org.syncope.client.to.SchedTaskTO;\n+import org.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.syncope.console.commons.SelectChoiceRenderer;\n+\n+/**\n+ * Modal window with Task form (to stop and start execution).\n+ */\n+public class SchedTaskModalPage extends TaskModalPage {\n+\n+    protected WebMarkupContainer crontab;\n+\n+    /**\n+     *\n+     * @param basePage base\n+     * @param modalWindow modal window\n+     * @param connectorTO\n+     * @param create : set to true only if a CREATE operation is required\n+     */\n+    public SchedTaskModalPage(\n+            final BasePage basePage,\n+            final ModalWindow window,\n+            final SchedTaskTO taskTO) {\n+\n+        super(taskTO);\n+\n+        crontab = new WebMarkupContainer(\"crontab\");\n+        crontab.setOutputMarkupId(true);\n+        form.add(crontab);\n+\n+        final TextField lastExec = new TextField(\"lastExec\");\n+        lastExec.setEnabled(false);\n+        profile.add(lastExec);\n+\n+        final TextField nextExec = new TextField(\"nextExec\");\n+        nextExec.setEnabled(false);\n+        profile.add(nextExec);\n+\n+        final DropDownChoice<String> cronTemplateChooser =\n+                new DropDownChoice(\n+                \"cronTemplateChooser\",\n+                new PropertyModel(taskTO, \"cronExpression\"),\n+                Arrays.asList(Tasks.cronTemplates),\n+                new SelectChoiceRenderer()) {\n+\n+                    @Override\n+                    protected CharSequence getDefaultChoice(Object selected) {\n+                        return \"<option value=\\\"\\\">\"\n+                                + getString(\"chooseForTemplate\")\n+                                + \"</option>\";\n+                    }\n+                };\n+\n+        final TextField seconds = new TextField(\n+                \"seconds\",\n+                new Model(getCronField(taskTO.getCronExpression(), 0)));\n+        crontab.add(seconds);\n+\n+        final TextField minutes = new TextField(\n+                \"minutes\",\n+                new Model(getCronField(taskTO.getCronExpression(), 1)));\n+        crontab.add(minutes);\n+\n+        final TextField hours = new TextField(\n+                \"hours\",\n+                new Model(getCronField(taskTO.getCronExpression(), 2)));\n+        crontab.add(hours);\n+\n+        final TextField daysOfMonth = new TextField(\n+                \"daysOfMonth\",\n+                new Model(getCronField(taskTO.getCronExpression(), 3)));\n+        crontab.add(daysOfMonth);\n+\n+        final TextField months = new TextField(\n+                \"months\",\n+                new Model(getCronField(taskTO.getCronExpression(), 4)));\n+        crontab.add(months);\n+\n+        final TextField daysOfWeek = new TextField(\n+                \"daysOfWeek\",\n+                new Model(getCronField(taskTO.getCronExpression(), 5)));\n+        crontab.add(daysOfWeek);\n+\n+        cronTemplateChooser.add(\n+                new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n+\n+                    @Override\n+                    protected void onUpdate(final AjaxRequestTarget target) {\n+                        seconds.setModelObject(\n+                                getCronField(cronTemplateChooser, 0));\n+                        minutes.setModelObject(\n+                                getCronField(cronTemplateChooser, 1));\n+                        hours.setModelObject(\n+                                getCronField(cronTemplateChooser, 2));\n+                        daysOfMonth.setModelObject(\n+                                getCronField(cronTemplateChooser, 3));\n+                        months.setModelObject(\n+                                getCronField(cronTemplateChooser, 4));\n+                        daysOfWeek.setModelObject(\n+                                getCronField(cronTemplateChooser, 5));\n+                        target.addComponent(crontab);\n+                    }\n+                });\n+\n+        crontab.add(cronTemplateChooser);\n+\n+        final IndicatingAjaxButton submit = new IndicatingAjaxButton(\n+                \"apply\", new Model(getString(\"apply\"))) {\n+\n+            @Override\n+            protected void onSubmit(\n+                    final AjaxRequestTarget target,\n+                    final Form form) {\n+\n+                SchedTaskTO taskTO = (SchedTaskTO) form.getModelObject();\n+\n+                try {\n+                    taskTO.setCronExpression(getCron(\n+                            seconds, minutes, hours,\n+                            daysOfMonth, months, daysOfWeek));\n+\n+                    // update task\n+                    // taskRestClient.update(taskTO);\n+                    window.close(target);\n+                } catch (SyncopeClientCompositeErrorException e) {\n+                    LOG.error(\"While creating or updating task\", e);\n+                    error(getString(\"error\") + \":\" + e.getMessage());\n+                }\n+            }\n+\n+            @Override\n+            protected void onError(AjaxRequestTarget target, Form form) {\n+                target.addComponent(feedbackPanel);\n+            }\n+        };\n+\n+        form.add(submit);\n+    }\n+}"},{"sha":"f2d828a319dc83a09c26cfc52546510e3b22c772","filename":"console/src/main/java/org/syncope/console/pages/SyncTasks.java","status":"added","additions":348,"deletions":0,"changes":348,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTasks.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTasks.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTasks.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,348 @@\n+/*\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *  under the License.\n+ */\n+package org.syncope.console.pages;\n+\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.Iterator;\n+import java.util.List;\n+import org.apache.wicket.Page;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n+import org.apache.wicket.ajax.markup.html.AjaxLink;\n+import org.apache.wicket.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n+import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n+import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.AbstractColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.util.SortableDataProvider;\n+import org.apache.wicket.markup.html.WebMarkupContainer;\n+import org.apache.wicket.markup.html.basic.Label;\n+import org.apache.wicket.markup.html.form.DropDownChoice;\n+import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.markup.html.panel.Panel;\n+import org.apache.wicket.markup.repeater.Item;\n+import org.apache.wicket.model.CompoundPropertyModel;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.Model;\n+import org.apache.wicket.model.PropertyModel;\n+import org.apache.wicket.protocol.http.WebResponse;\n+import org.apache.wicket.spring.injection.annot.SpringBean;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.syncope.client.to.SyncTaskTO;\n+import org.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.syncope.console.commons.Constants;\n+import org.syncope.console.commons.PreferenceManager;\n+import org.syncope.console.commons.SortableDataProviderComparator;\n+import org.syncope.console.commons.XMLRolesReader;\n+import org.syncope.console.rest.TaskRestClient;\n+import org.syncope.console.wicket.ajax.markup.html.IndicatingDeleteOnConfirmAjaxLink;\n+import org.syncope.console.wicket.markup.html.form.DeleteLinkPanel;\n+import org.syncope.console.wicket.markup.html.form.EditLinkPanel;\n+import org.syncope.console.wicket.markup.html.form.LinkPanel;\n+\n+public class SyncTasks extends Panel {\n+\n+    /**\n+     * Logger.\n+     */\n+    protected static final Logger LOG = LoggerFactory.getLogger(\n+            SyncTasks.class);\n+\n+    private static final int WIN_HEIGHT = 500;\n+\n+    private static final int WIN_WIDTH = 700;\n+\n+    @SpringBean\n+    private TaskRestClient restClient;\n+\n+    @SpringBean\n+    private PreferenceManager prefMan;\n+\n+    private int paginatorRows;\n+\n+    private WebMarkupContainer container;\n+\n+    /**\n+     * Response flag set by the Modal Window after the operation is completed:\n+     * TRUE if the operation succedes, FALSE otherwise\n+     */\n+    private boolean operationResult = false;\n+\n+    private ModalWindow window;\n+\n+    @SpringBean\n+    protected XMLRolesReader xmlRolesReader;\n+\n+    public SyncTasks(String id, IModel<?> model) {\n+        super(id, model);\n+    }\n+\n+    public SyncTasks(String id) {\n+        super(id);\n+        add(window = new ModalWindow(\"taskWin\"));\n+\n+        paginatorRows = prefMan.getPaginatorRows(\n+                getWebRequest(),\n+                Constants.PREF_TASKS_PAGINATOR_ROWS);\n+\n+        List<IColumn<SyncTaskTO>> columns =\n+                new ArrayList<IColumn<SyncTaskTO>>();\n+\n+        columns.add(new PropertyColumn(\n+                new Model(getString(\"id\")), \"id\", \"id\"));\n+\n+        columns.add(new PropertyColumn(\n+                new Model(getString(\"resourceName\")), \"resource\", \"resource\"));\n+\n+        columns.add(new PropertyColumn(\n+                new Model(getString(\"lastExec\")), \"lastExec\", \"lastExec\"));\n+\n+        columns.add(new PropertyColumn(\n+                new Model(getString(\"nextExec\")), \"nextExec\", \"nextExec\"));\n+\n+        columns.add(new AbstractColumn<SyncTaskTO>(\n+                new Model<String>(getString(\"detail\"))) {\n+\n+            @Override\n+            public void populateItem(\n+                    final Item<ICellPopulator<SyncTaskTO>> cellItem,\n+                    final String componentId,\n+                    final IModel<SyncTaskTO> model) {\n+\n+                final SyncTaskTO taskTO = model.getObject();\n+\n+                AjaxLink viewLink = new IndicatingAjaxLink(\"editLink\") {\n+\n+                    @Override\n+                    public void onClick(final AjaxRequestTarget target) {\n+\n+                        window.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                            @Override\n+                            public Page createPage() {\n+                                return new STaskModalPage(\n+                                        (BasePage) getPage(), window, taskTO);\n+                            }\n+                        });\n+\n+                        window.show(target);\n+                    }\n+                };\n+\n+                EditLinkPanel panel = new EditLinkPanel(componentId, model);\n+                panel.add(viewLink);\n+\n+                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n+                        xmlRolesReader.getAllAllowedRoles(\"Tasks\",\n+                        \"read\"));\n+\n+                cellItem.add(panel);\n+            }\n+        });\n+\n+        columns.add(new AbstractColumn<SyncTaskTO>(\n+                new Model<String>(getString(\"execute\"))) {\n+\n+            @Override\n+            public void populateItem(\n+                    final Item<ICellPopulator<SyncTaskTO>> cellItem,\n+                    final String componentId,\n+                    final IModel<SyncTaskTO> model) {\n+\n+                final SyncTaskTO taskTO = model.getObject();\n+\n+                AjaxLink executeLink = new IndicatingAjaxLink(\"link\") {\n+\n+                    @Override\n+                    public void onClick(final AjaxRequestTarget target) {\n+                        try {\n+                            restClient.startExecution(taskTO.getId());\n+                            getSession().info(getString(\"operation_succeded\"));\n+                        } catch (SyncopeClientCompositeErrorException scce) {\n+                            error(scce.getMessage());\n+                        }\n+\n+                        target.addComponent(getPage().get(\"feedback\"));\n+                        target.addComponent(container);\n+                    }\n+                };\n+\n+                executeLink.add(new Label(\"linkTitle\", getString(\"execute\")));\n+\n+                LinkPanel panel = new LinkPanel(componentId);\n+                panel.add(executeLink);\n+\n+                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n+                        xmlRolesReader.getAllAllowedRoles(\"Tasks\", \"execute\"));\n+\n+                cellItem.add(panel);\n+            }\n+        });\n+\n+        columns.add(new AbstractColumn<SyncTaskTO>(\n+                new Model<String>(getString(\"delete\"))) {\n+\n+            @Override\n+            public void populateItem(\n+                    final Item<ICellPopulator<SyncTaskTO>> cellItem,\n+                    final String componentId,\n+                    final IModel<SyncTaskTO> model) {\n+\n+                final SyncTaskTO taskTO = model.getObject();\n+\n+                AjaxLink deleteLink = new IndicatingDeleteOnConfirmAjaxLink(\n+                        \"deleteLink\") {\n+\n+                    @Override\n+                    public void onClick(final AjaxRequestTarget target) {\n+                        try {\n+                            restClient.delete(taskTO.getId());\n+                            info(getString(\"operation_succeded\"));\n+                        } catch (SyncopeClientCompositeErrorException scce) {\n+                            error(scce.getMessage());\n+                        }\n+                        target.addComponent(container);\n+                        target.addComponent(getPage().get(\"feedback\"));\n+                    }\n+                };\n+\n+                DeleteLinkPanel panel = new DeleteLinkPanel(componentId, model);\n+                panel.add(deleteLink);\n+\n+                String allowedRoles = xmlRolesReader.getAllAllowedRoles(\"Tasks\",\n+                        \"delete\");\n+\n+                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n+                        allowedRoles);\n+\n+                cellItem.add(panel);\n+            }\n+        });\n+\n+        final AjaxFallbackDefaultDataTable<SyncTaskTO> table =\n+                new AjaxFallbackDefaultDataTable<SyncTaskTO>(\n+                \"datatable\", columns, new TasksProvider(), paginatorRows);\n+\n+        container = new WebMarkupContainer(\"container\");\n+        container.add(table);\n+        container.setOutputMarkupId(true);\n+\n+        add(container);\n+\n+        window.setWindowClosedCallback(\n+                new ModalWindow.WindowClosedCallback() {\n+\n+                    @Override\n+                    public void onClose(final AjaxRequestTarget target) {\n+                        target.addComponent(container);\n+                        if (operationResult) {\n+                            info(getString(\"operation_succeded\"));\n+                            target.addComponent(getPage().get(\"feedback\"));\n+                            operationResult = false;\n+                        }\n+                    }\n+                });\n+\n+        window.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n+        window.setInitialHeight(WIN_HEIGHT);\n+        window.setInitialWidth(WIN_WIDTH);\n+        window.setPageMapName(\"view-task-win\");\n+        window.setCookieName(\"view-task-win\");\n+\n+        Form paginatorForm = new Form(\"PaginatorForm\");\n+\n+        final DropDownChoice rowsChooser = new DropDownChoice(\"rowsChooser\",\n+                new PropertyModel(this, \"paginatorRows\"),\n+                prefMan.getPaginatorChoices());\n+\n+        rowsChooser.add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n+\n+            @Override\n+            protected void onUpdate(final AjaxRequestTarget target) {\n+                prefMan.set(getWebRequest(), (WebResponse) getResponse(),\n+                        Constants.PREF_TASKS_PAGINATOR_ROWS,\n+                        String.valueOf(paginatorRows));\n+\n+                table.setRowsPerPage(paginatorRows);\n+\n+                target.addComponent(container);\n+            }\n+        });\n+\n+        paginatorForm.add(rowsChooser);\n+        add(paginatorForm);\n+\n+        // create new user\n+        AjaxLink createLink = new IndicatingAjaxLink(\"createLink\") {\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target) {\n+                window.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                    @Override\n+                    public Page createPage() {\n+                        return new STaskModalPage(\n+                                (BasePage) getPage(),\n+                                window,\n+                                new SyncTaskTO());\n+                    }\n+                });\n+\n+                window.show(target);\n+            }\n+        };\n+        MetaDataRoleAuthorizationStrategy.authorize(\n+                createLink, ENABLE, xmlRolesReader.getAllAllowedRoles(\n+                \"Tasks\", \"create\"));\n+        add(createLink);\n+    }\n+\n+    private class TasksProvider extends SortableDataProvider<SyncTaskTO> {\n+\n+        private SortableDataProviderComparator<SyncTaskTO> comparator;\n+\n+        public TasksProvider() {\n+            super();\n+            //Default sorting\n+            setSort(\"id\", true);\n+            comparator =\n+                    new SortableDataProviderComparator<SyncTaskTO>(this);\n+        }\n+\n+        @Override\n+        public Iterator<SyncTaskTO> iterator(int first, int count) {\n+            final List<SyncTaskTO> tasks = restClient.listSyncTasks(\n+                    (first / paginatorRows) + 1, count);\n+\n+            Collections.sort(tasks, comparator);\n+            return tasks.iterator();\n+        }\n+\n+        @Override\n+        public int size() {\n+            return restClient.count(getId());\n+        }\n+\n+        @Override\n+        public IModel<SyncTaskTO> model(final SyncTaskTO object) {\n+            return new CompoundPropertyModel<SyncTaskTO>(object);\n+        }\n+    }\n+}"},{"sha":"58e2ae838fa5b987f651afdf5e7daa34c1d07297","filename":"console/src/main/java/org/syncope/console/pages/TaskModalPage.java","status":"modified","additions":92,"deletions":48,"changes":140,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -22,13 +22,12 @@\n import java.util.Date;\n import java.util.Iterator;\n import java.util.List;\n-import org.syncope.console.commons.Constants;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n+import org.syncope.console.commons.Constants;\n import org.apache.wicket.datetime.DateConverter;\n import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n-import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n import org.apache.wicket.extensions.markup.html.repeater.data.table.AbstractColumn;\n@@ -38,6 +37,7 @@\n import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.basic.Label;\n import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.markup.html.form.FormComponent;\n import org.apache.wicket.markup.html.form.TextField;\n import org.apache.wicket.markup.repeater.Item;\n import org.apache.wicket.model.AbstractReadOnlyModel;\n@@ -46,7 +46,7 @@\n import org.apache.wicket.model.Model;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n import org.syncope.client.to.TaskExecTO;\n-import org.syncope.client.to.PropagationTaskTO;\n+import org.syncope.client.to.TaskTO;\n import org.syncope.client.validation.SyncopeClientCompositeErrorException;\n import org.syncope.console.commons.SortableDataProviderComparator;\n import org.syncope.console.rest.TaskRestClient;\n@@ -59,53 +59,44 @@\n  */\n public class TaskModalPage extends BaseModalPage {\n \n-    private TextField id;\n-\n-    private TextField accountId;\n-\n-    private TextField resource;\n-\n-    private Label dialogContent;\n-\n     @SpringBean\n-    private TaskRestClient taskRestClient;\n+    protected TaskRestClient taskRestClient;\n \n-    private WebMarkupContainer container;\n+    protected WebMarkupContainer profile;\n \n-    /**\n-     *\n-     * @param basePage base\n-     * @param modalWindow modal window\n-     * @param connectorTO\n-     * @param create : set to true only if a CREATE operation is required\n-     */\n-    public TaskModalPage(final BasePage basePage, final ModalWindow window,\n-            final PropagationTaskTO taskTO) {\n+    protected WebMarkupContainer executions;\n+\n+    protected Form form;\n \n-        dialogContent = new Label(\"dialogContent\", new Model<String>(\"\"));\n+    public TaskModalPage(final TaskTO taskTO) {\n+        final Label dialogContent =\n+                new Label(\"dialogContent\", new Model<String>(\"\"));\n \n         add(dialogContent.setOutputMarkupId(true));\n \n-        final Form form = new Form(\"TaskForm\");\n+        form = new Form(\"TaskForm\");\n+        add(form);\n \n         form.setModel(new CompoundPropertyModel(taskTO));\n \n-        id = new TextField(\"id\");\n-        id.setEnabled(false);\n-\n-        form.add(id);\n-\n-        accountId = new TextField(\"accountId\");\n-        accountId.setEnabled(false);\n+        profile = new WebMarkupContainer(\"profile\");\n+        profile.setOutputMarkupId(true);\n+        form.add(profile);\n \n-        form.add(accountId);\n+        executions = new WebMarkupContainer(\"executions\");\n+        executions.setOutputMarkupId(true);\n+        form.add(executions);\n \n-        resource = new TextField(\"resource\");\n-        resource.setEnabled(false);\n+        final Label idLabel = new Label(\"idLabel\", getString(\"id\"));\n+        idLabel.setVisible(taskTO.getId() != 0);\n+        profile.add(idLabel);\n \n-        form.add(resource);\n+        final TextField id = new TextField(\"id\");\n+        id.setEnabled(false);\n+        id.setVisible(taskTO.getId() != 0);\n+        profile.add(id);\n \n-        List<IColumn> columns = new ArrayList<IColumn>();\n+        final List<IColumn> columns = new ArrayList<IColumn>();\n         columns.add(new PropertyColumn(new Model(getString(\"id\")), \"id\", \"id\"));\n \n         columns.add(new DatePropertyColumn(new Model(getString(\"startDate\")),\n@@ -169,13 +160,16 @@ public void onClick(final AjaxRequestTarget target) {\n                         try {\n                             taskRestClient.deleteExecution(\n                                     taskExecutionTO.getId());\n+\n+                            taskTO.removeExecution(taskExecutionTO);\n+\n                             info(getString(\"operation_succeded\"));\n                         } catch (SyncopeClientCompositeErrorException scce) {\n                             error(scce.getMessage());\n                         }\n \n                         target.addComponent(feedbackPanel);\n-                        target.addComponent(container);\n+                        target.addComponent(executions);\n                     }\n                 };\n \n@@ -193,22 +187,17 @@ public void onClick(final AjaxRequestTarget target) {\n                 new AjaxFallbackDefaultDataTable(\"executionsTable\", columns,\n                 new TaskExecutionsProvider(taskTO), 10);\n \n-        container = new WebMarkupContainer(\"container\");\n-        container.add(table);\n-        container.setOutputMarkupId(true);\n-\n-        form.add(container);\n-\n-        add(form);\n+        executions.add(table);\n     }\n \n-    class TaskExecutionsProvider extends SortableDataProvider<TaskExecTO> {\n+    protected class TaskExecutionsProvider\n+            extends SortableDataProvider<TaskExecTO> {\n \n         private SortableDataProviderComparator<TaskExecTO> comparator;\n \n-        private PropagationTaskTO taskTO;\n+        private TaskTO taskTO;\n \n-        public TaskExecutionsProvider(PropagationTaskTO taskTO) {\n+        public TaskExecutionsProvider(TaskTO taskTO) {\n             //Default sorting\n             this.taskTO = taskTO;\n             setSort(\"startDate\", true);\n@@ -253,7 +242,7 @@ public List<TaskExecTO> getTaskDB() {\n     /**\n      * Format column's value as date string.\n      */\n-    public class DatePropertyColumn<T> extends PropertyColumn<T> {\n+    protected class DatePropertyColumn<T> extends PropertyColumn<T> {\n \n         private SimpleDateFormat formatter;\n \n@@ -290,4 +279,59 @@ public void populateItem(\n             }\n         }\n     }\n+\n+    protected String getCronField(\n+            final FormComponent formComponent, final int field) {\n+        String cronField = null;\n+\n+        if (formComponent != null) {\n+            cronField = getCronField(formComponent.getInput(), field);\n+        }\n+\n+        return cronField;\n+    }\n+\n+    protected String getCronField(\n+            final String cron, final int field) {\n+        String cronField = null;\n+\n+        if (cron != null && !cron.isEmpty() && !\"UNSCHEDULE\".equals(cron)) {\n+            cronField = cron.split(\" \")[field].trim();\n+        }\n+\n+        return cronField;\n+    }\n+\n+    protected String getCron(\n+            final FormComponent seconds,\n+            final FormComponent minutes,\n+            final FormComponent hours,\n+            final FormComponent daysOfMonth,\n+            final FormComponent months,\n+            final FormComponent daysOfWeek) {\n+\n+        final StringBuilder cron = new StringBuilder();\n+\n+        if (seconds != null && seconds.getInput() != null\n+                && minutes != null && minutes.getInput() != null\n+                && hours != null && hours.getInput() != null\n+                && daysOfMonth != null && daysOfMonth.getInput() != null\n+                && months != null && months.getInput() != null\n+                && daysOfWeek != null && daysOfWeek.getInput() != null) {\n+\n+            cron.append(seconds.getInput().trim()).\n+                    append(\" \").\n+                    append(minutes.getInput().trim()).\n+                    append(\" \").\n+                    append(hours.getInput().trim()).\n+                    append(\" \").\n+                    append(daysOfMonth.getInput().trim()).\n+                    append(\" \").\n+                    append(months.getInput().trim()).\n+                    append(\" \").\n+                    append(daysOfWeek.getInput().trim());\n+        }\n+\n+        return cron.toString();\n+    }\n }"},{"sha":"73809f3c1e1db686d435bd133d35aef4097f9884","filename":"console/src/main/java/org/syncope/console/pages/Tasks.java","status":"modified","additions":88,"deletions":257,"changes":345,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTasks.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTasks.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTasks.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -14,303 +14,134 @@\n  */\n package org.syncope.console.pages;\n \n-import java.util.ArrayList;\n+import java.text.SimpleDateFormat;\n import java.util.Collections;\n+import java.util.Date;\n import java.util.Iterator;\n import java.util.List;\n-import org.apache.wicket.Page;\n import org.apache.wicket.PageParameters;\n-import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n-import org.apache.wicket.ajax.markup.html.AjaxLink;\n-import org.apache.wicket.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n-import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n-import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n-import org.apache.wicket.extensions.markup.html.repeater.data.table.AbstractColumn;\n-import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n import org.apache.wicket.extensions.markup.html.repeater.util.SortableDataProvider;\n-import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.basic.Label;\n-import org.apache.wicket.markup.html.form.DropDownChoice;\n-import org.apache.wicket.markup.html.form.Form;\n import org.apache.wicket.markup.repeater.Item;\n-import org.apache.wicket.model.CompoundPropertyModel;\n+import org.apache.wicket.model.AbstractReadOnlyModel;\n import org.apache.wicket.model.IModel;\n-import org.apache.wicket.model.Model;\n-import org.apache.wicket.model.PropertyModel;\n-import org.apache.wicket.spring.injection.annot.SpringBean;\n-import org.syncope.client.to.PropagationTaskTO;\n-import org.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.apache.wicket.util.convert.converters.DateConverter;\n+import org.syncope.client.to.TaskExecTO;\n+import org.syncope.client.to.TaskTO;\n import org.syncope.console.commons.Constants;\n-import org.syncope.console.commons.PreferenceManager;\n import org.syncope.console.commons.SortableDataProviderComparator;\n-import org.syncope.console.rest.TaskRestClient;\n-import org.syncope.console.wicket.ajax.markup.html.IndicatingDeleteOnConfirmAjaxLink;\n-import org.syncope.console.wicket.markup.html.form.DeleteLinkPanel;\n-import org.syncope.console.wicket.markup.html.form.EditLinkPanel;\n-import org.syncope.console.wicket.markup.html.form.LinkPanel;\n+import org.syncope.console.commons.SelectOption;\n \n-/**\n- * Tasks page.\n- */\n public class Tasks extends BasePage {\n \n-    private static final int WIN_HEIGHT = 400;\n-\n-    private static final int WIN_WIDTH = 600;\n-\n-    @SpringBean\n-    private TaskRestClient restClient;\n-\n-    @SpringBean\n-    private PreferenceManager prefMan;\n-\n-    private int paginatorRows;\n-\n-    private WebMarkupContainer container;\n-\n-    /**\n-     * Response flag set by the Modal Window after the operation is completed:\n-     * TRUE if the operation succedes, FALSE otherwise\n-     */\n-    private boolean operationResult = false;\n-\n-    private ModalWindow window;\n+    public final static SelectOption[] cronTemplates = new SelectOption[]{\n+        new SelectOption(\n+        \"Unschedule\", \"UNSCHEDULE\"),\n+        new SelectOption(\n+        \"Fire at 12pm (noon) every day\", \"0 0 12 * * ?\"),\n+        new SelectOption(\n+        \"Fire at 12am (midnight) every first day of the month\", \"0 0 0 1 * ?\"),\n+        new SelectOption(\n+        \"Fire at 12am (midnight) every Last day of the month\", \"0 0 0 L * ?\"),\n+        new SelectOption(\n+        \"Fire at 12am (midnight) every Monday\", \"0 0 0 ? ? 2\")\n+    };\n \n     public Tasks(final PageParameters parameters) {\n-        super(parameters);\n-\n-        add(window = new ModalWindow(\"taskWin\"));\n-\n-        paginatorRows = prefMan.getPaginatorRows(\n-                getWebRequestCycle().getWebRequest(),\n-                Constants.PREF_TASKS_PAGINATOR_ROWS);\n-\n-        List<IColumn<PropagationTaskTO>> columns = new ArrayList<IColumn<PropagationTaskTO>>();\n-\n-        columns.add(new PropertyColumn(\n-                new Model(getString(\"id\")), \"id\", \"id\"));\n-\n-        columns.add(new PropertyColumn(\n-                new Model(getString(\"resource\")), \"resource\", \"resource\"));\n-\n-        columns.add(new PropertyColumn(\n-                new Model(getString(\"accountId\")), \"accountId\", \"accountId\"));\n-\n-        columns.add(new PropertyColumn(\n-                new Model(getString(\"propagationMode\")),\n-                \"propagationMode\", \"propagationMode\"));\n-\n-        columns.add(new PropertyColumn(\n-                new Model(getString(\"resourceOperationType\")),\n-                \"resourceOperationType\", \"resourceOperationType\"));\n-\n-        columns.add(new AbstractColumn<PropagationTaskTO>(new Model<String>(getString(\n-                \"detail\"))) {\n-\n-            @Override\n-            public void populateItem(\n-                    final Item<ICellPopulator<PropagationTaskTO>> cellItem,\n-                    final String componentId,\n-                    final IModel<PropagationTaskTO> model) {\n-\n-                final PropagationTaskTO taskTO = model.getObject();\n-\n-                AjaxLink viewLink = new IndicatingAjaxLink(\"editLink\") {\n-\n-                    @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n-\n-                        window.setPageCreator(new ModalWindow.PageCreator() {\n-\n-                            @Override\n-                            public Page createPage() {\n-                                return new TaskModalPage(\n-                                        Tasks.this, window, taskTO);\n-                            }\n-                        });\n-\n-                        window.show(target);\n-                    }\n-                };\n-\n-                EditLinkPanel panel = new EditLinkPanel(componentId,\n-                        model);\n-                panel.add(viewLink);\n-\n-                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n-                        xmlRolesReader.getAllAllowedRoles(\"Tasks\",\n-                        \"read\"));\n-\n-                cellItem.add(panel);\n-            }\n-        });\n-\n-        columns.add(new AbstractColumn<PropagationTaskTO>(new Model<String>(getString(\n-                \"execute\"))) {\n-\n-            @Override\n-            public void populateItem(\n-                    final Item<ICellPopulator<PropagationTaskTO>> cellItem,\n-                    final String componentId,\n-                    final IModel<PropagationTaskTO> model) {\n+        add(new PropagationTasks(\"propagation\"));\n+        add(new GenericTasks(\"sched\"));\n+        add(new SyncTasks(\"sync\"));\n+    }\n \n-                final PropagationTaskTO taskTO = model.getObject();\n+    public class TaskExecutionsProvider\n+            extends SortableDataProvider<TaskExecTO> {\n \n-                AjaxLink executeLink = new IndicatingAjaxLink(\"link\") {\n+        private SortableDataProviderComparator<TaskExecTO> comparator;\n \n-                    @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n-                        try {\n-                            restClient.startExecution(taskTO.getId());\n-                            getSession().info(getString(\"operation_succeded\"));\n-                        } catch (SyncopeClientCompositeErrorException scce) {\n-                            error(scce.getMessage());\n-                        }\n+        private TaskTO taskTO;\n \n-                        target.addComponent(getPage().get(\"feedback\"));\n-                        target.addComponent(container);\n-                    }\n-                };\n+        public TaskExecutionsProvider(TaskTO taskTO) {\n+            //Default sorting\n+            this.taskTO = taskTO;\n+            setSort(\"startDate\", true);\n+            comparator =\n+                    new SortableDataProviderComparator<TaskExecTO>(this);\n+        }\n \n-                executeLink.add(new Label(\"linkTitle\", getString(\"execute\")));\n+        @Override\n+        public Iterator<TaskExecTO> iterator(final int first,\n+                final int count) {\n \n-                LinkPanel panel = new LinkPanel(componentId);\n-                panel.add(executeLink);\n+            List<TaskExecTO> list = getTaskDB();\n \n-                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n-                        xmlRolesReader.getAllAllowedRoles(\"Tasks\", \"execute\"));\n+            Collections.sort(list, comparator);\n \n-                cellItem.add(panel);\n-            }\n-        });\n+            return list.subList(first, first + count).iterator();\n+        }\n \n-        columns.add(new AbstractColumn<PropagationTaskTO>(new Model<String>(getString(\n-                \"delete\"))) {\n+        @Override\n+        public int size() {\n+            return getTaskDB().size();\n+        }\n \n-            @Override\n-            public void populateItem(\n-                    final Item<ICellPopulator<PropagationTaskTO>> cellItem,\n-                    final String componentId,\n-                    final IModel<PropagationTaskTO> model) {\n+        @Override\n+        public IModel<TaskExecTO> model(\n+                final TaskExecTO taskExecution) {\n \n-                final PropagationTaskTO taskTO = model.getObject();\n+            return new AbstractReadOnlyModel<TaskExecTO>() {\n \n-                AjaxLink deleteLink = new IndicatingDeleteOnConfirmAjaxLink(\n-                        \"deleteLink\") {\n+                @Override\n+                public TaskExecTO getObject() {\n+                    return taskExecution;\n+                }\n+            };\n+        }\n \n-                    @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n-                        try {\n-                            restClient.delete(taskTO.getId());\n-                            info(getString(\"operation_succeded\"));\n-                        } catch (SyncopeClientCompositeErrorException scce) {\n-                            error(scce.getMessage());\n-                        }\n-                        target.addComponent(container);\n-                        target.addComponent(feedbackPanel);\n-                    }\n-                };\n+        public List<TaskExecTO> getTaskDB() {\n+            return taskTO.getExecutions();\n+        }\n+    }\n \n-                DeleteLinkPanel panel = new DeleteLinkPanel(componentId, model);\n-                panel.add(deleteLink);\n+    /**\n+     * Format column's value as date string.\n+     */\n+    public class DatePropertyColumn<T> extends PropertyColumn<T> {\n \n-                String allowedRoles = xmlRolesReader.getAllAllowedRoles(\"Tasks\",\n-                        \"delete\");\n+        private SimpleDateFormat formatter;\n \n-                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n-                        allowedRoles);\n+        public DatePropertyColumn(\n+                IModel<String> displayModel, String sortProperty,\n+                String propertyExpression, DateConverter converter) {\n+            super(displayModel, sortProperty, propertyExpression);\n \n-                cellItem.add(panel);\n+            String language = \"en\";\n+            if (getSession().getLocale() != null) {\n+                language = getSession().getLocale().getLanguage();\n             }\n-        });\n-\n-\n-        final AjaxFallbackDefaultDataTable<PropagationTaskTO> table =\n-                new AjaxFallbackDefaultDataTable<PropagationTaskTO>(\"datatable\", columns,\n-                new TasksProvider(), paginatorRows);\n-\n-        container = new WebMarkupContainer(\"container\");\n-        container.add(table);\n-        container.setOutputMarkupId(true);\n-\n-        add(container);\n-\n-        window.setWindowClosedCallback(\n-                new ModalWindow.WindowClosedCallback() {\n-\n-                    @Override\n-                    public void onClose(final AjaxRequestTarget target) {\n-                        target.addComponent(container);\n-                        if (operationResult) {\n-                            info(getString(\"operation_succeded\"));\n-                            target.addComponent(feedbackPanel);\n-                            operationResult = false;\n-                        }\n-                    }\n-                });\n-\n-        window.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n-        window.setInitialHeight(WIN_HEIGHT);\n-        window.setInitialWidth(WIN_WIDTH);\n-        window.setPageMapName(\"view-task-win\");\n-        window.setCookieName(\"view-task-win\");\n-\n-        Form paginatorForm = new Form(\"PaginatorForm\");\n \n-        final DropDownChoice rowsChooser = new DropDownChoice(\"rowsChooser\",\n-                new PropertyModel(this, \"paginatorRows\"),\n-                prefMan.getPaginatorChoices());\n-\n-        rowsChooser.add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n-\n-            @Override\n-            protected void onUpdate(final AjaxRequestTarget target) {\n-                prefMan.set(getWebRequestCycle().getWebRequest(),\n-                        getWebRequestCycle().getWebResponse(),\n-                        Constants.PREF_TASKS_PAGINATOR_ROWS,\n-                        String.valueOf(paginatorRows));\n-\n-                table.setRowsPerPage(paginatorRows);\n-\n-                target.addComponent(container);\n+            if (\"it\".equals(language)) {\n+                formatter = new SimpleDateFormat(Constants.ITALIAN_DATE_FORMAT);\n+            } else {\n+                formatter = new SimpleDateFormat(Constants.ENGLISH_DATE_FORMAT);\n             }\n-        });\n-\n-        paginatorForm.add(rowsChooser);\n-        add(paginatorForm);\n-    }\n-\n-    private class TasksProvider extends SortableDataProvider<PropagationTaskTO> {\n-\n-        private SortableDataProviderComparator<PropagationTaskTO> comparator;\n-\n-        public TasksProvider() {\n-            super();\n-            //Default sorting\n-            setSort(\"id\", true);\n-            comparator = new SortableDataProviderComparator<PropagationTaskTO>(this);\n         }\n \n         @Override\n-        public Iterator<PropagationTaskTO> iterator(int first, int count) {\n-            List<PropagationTaskTO> tasks = restClient.list(\n-                    (first / paginatorRows) + 1, count);\n-            Collections.sort(tasks, comparator);\n-            return tasks.iterator();\n-        }\n-\n-        @Override\n-        public int size() {\n-            return restClient.count();\n-        }\n-\n-        @Override\n-        public IModel<PropagationTaskTO> model(final PropagationTaskTO object) {\n-            return new CompoundPropertyModel<PropagationTaskTO>(object);\n+        public void populateItem(\n+                Item<ICellPopulator<T>> item, String componentId,\n+                IModel<T> rowModel) {\n+            IModel date = (IModel<Date>) createLabelModel(rowModel);\n+\n+            String convertedDate = \"\";\n+\n+            if (date.getObject() != null) {\n+                convertedDate = formatter.format(date.getObject());\n+                item.add(new Label(componentId, convertedDate));\n+            } else {\n+                item.add(new Label(componentId, convertedDate));\n+            }\n         }\n     }\n }"},{"sha":"a4af8d74e286cb30b780a198f5537d0fc59a0e21","filename":"console/src/main/java/org/syncope/console/pages/Users.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -498,7 +498,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n         searchPaginatorForm.add(searchRowsChooser);\n     }\n \n-    protected void setWindowClosedReloadCallback(final ModalWindow window,\n+    private void setWindowClosedReloadCallback(final ModalWindow window,\n             final AjaxFallbackDefaultDataTable<UserTO> table) {\n \n         window.setWindowClosedCallback(\n@@ -523,7 +523,7 @@ public void onClose(final AjaxRequestTarget target) {\n                 });\n     }\n \n-    protected List<IColumn<UserTO>> getColumns(final ModalWindow editModalWin) {\n+    private List<IColumn<UserTO>> getColumns(final ModalWindow editModalWin) {\n         List<IColumn<UserTO>> columns = new ArrayList<IColumn<UserTO>>();\n         columns.add(new PropertyColumn(\n                 new Model(getString(\"id\")), \"id\", \"id\"));"},{"sha":"f03c49983f60927a01d20b225e30b1d2dcba8d85","filename":"console/src/main/java/org/syncope/console/rest/TaskRestClient.java","status":"modified","additions":64,"deletions":11,"changes":75,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FTaskRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FTaskRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FTaskRestClient.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -16,9 +16,12 @@\n \n import java.util.Arrays;\n import java.util.List;\n+import java.util.Set;\n import org.springframework.stereotype.Component;\n import org.syncope.client.to.TaskExecTO;\n import org.syncope.client.to.PropagationTaskTO;\n+import org.syncope.client.to.SchedTaskTO;\n+import org.syncope.client.to.SyncTaskTO;\n import org.syncope.client.validation.SyncopeClientCompositeErrorException;\n \n /**\n@@ -27,27 +30,77 @@\n @Component\n public class TaskRestClient extends AbstractBaseRestClient {\n \n-    public Integer count() {\n-        return restTemplate.getForObject(baseURL + \"task/count.json\",\n-                Integer.class);\n+    /**\n+     * Return a list of job classes.\n+     * @return list of classes.\n+     */\n+    public Set<String> getJobClasses() {\n+        Set<String> validators = null;\n+\n+        try {\n+\n+            validators = restTemplate.getForObject(\n+                    baseURL + \"task/jobClasses.json\", Set.class);\n+\n+        } catch (SyncopeClientCompositeErrorException e) {\n+            LOG.error(\"While getting all job classes\", e);\n+        }\n+        return validators;\n+    }\n+\n+    /**\n+     * Return the number of tasks.\n+     * @param kind of task (propagation, sched, sync).\n+     * @return number of stored tasks.\n+     */\n+    public Integer count(final String kind) {\n+        return restTemplate.getForObject(baseURL + \"task/{kind}/count.json\",\n+                Integer.class, kind);\n+    }\n+\n+    /**\n+     * Return a paginated list of generic tasks.\n+     * @param page number.\n+     * @param size per page.\n+     * @return paginated list.\n+     */\n+    public List<SchedTaskTO> listSchedTasks(\n+            final int page, final int size) {\n+        return Arrays.asList(restTemplate.getForObject(\n+                baseURL + \"task/sched/list/{page}/{size}.json\",\n+                SchedTaskTO[].class, page, size));\n+    }\n+\n+    /**\n+     * Return a paginated list of sync tasks.\n+     * @param page number.\n+     * @param size per page.\n+     * @return paginated list.\n+     */\n+    public List<SyncTaskTO> listSyncTasks(\n+            final int page, final int size) {\n+        return Arrays.asList(restTemplate.getForObject(\n+                baseURL + \"task/sync/list/{page}/{size}.json\",\n+                SyncTaskTO[].class, page, size));\n     }\n \n     /**\n-     * Get all stored tasks.\n-     * @param page pagination element to fetch\n-     * @param size maximum number to fetch\n-     * @return list of TaskTO objects\n+     * Return a paginated list of propagation tasks.\n+     * @param page number.\n+     * @param size per page.\n+     * @return paginated list.\n      */\n-    public List<PropagationTaskTO> list(final int page, final int size) {\n+    public List<PropagationTaskTO> listPropagationTasks(\n+            final int page, final int size) {\n         return Arrays.asList(restTemplate.getForObject(\n-                baseURL + \"task/list/{page}/{size}.json\",\n+                baseURL + \"task/propagation/list/{page}/{size}.json\",\n                 PropagationTaskTO[].class, page, size));\n     }\n \n     /**\n      * Load an existing task.\n-     * @param taskId task to read\n-     * @return TaskTO object if the configuration exists, null otherwise\n+     * @param taskId task to read.\n+     * @return TaskTO object if the configuration exists, null otherwise.\n      */\n     public PropagationTaskTO read(final String taskId) {\n         PropagationTaskTO taskTO = null;"},{"sha":"dad3351e8fe534669badd1410353d4fca11073f5","filename":"console/src/main/resources/authorizations.xml","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Fauthorizations.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Fauthorizations.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Fauthorizations.xml?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -180,5 +180,9 @@ page@id= Schema|Users|Roles|Resources|Connectors|Report|Configuration|Task\n         <action id=\"delete\">\n             <entitlement>TASK_DELETE</entitlement>\n         </action>\n+\n+        <action id=\"create\">\n+            <entitlement>TASK_CREATE</entitlement>\n+        </action>\n     </page>\n </auth>"},{"sha":"59591d9d0df4a6d26d35bd79d5874b48cc2b71ed","filename":"console/src/main/resources/org/syncope/console/pages/GTaskModalPage.html","status":"added","additions":94,"deletions":0,"changes":94,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGTaskModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGTaskModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGTaskModalPage.html?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,94 @@\n+<!--\n+ Licensed under the Apache License, Version 2.0 (the \"License\");\n+ you may not use this file except in compliance with the License.\n+ You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+ Unless required by applicable law or agreed to in writing, software\n+ distributed under the License is distributed on an \"AS IS\" BASIS,\n+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ See the License for the specific language governing permissions and\n+ limitations under the License.\n+ under the License.\n+-->\n+<wicket:head>\n+    <style type=\"text/css\">\n+        /* WICKET DATATABLE HEADERS */\n+        .headers {\n+            border: 1px solid #aaaaaa;\n+            background: #cccccc url(css/images/ui-bg_highlight-soft_75_cccccc_1x100.png)\n+                50% 50% repeat-x;\n+        }\n+    </style>\n+    <script type=\"text/javascript\">\n+        jQuery(function() {\n+            $(\"#dialog\").dialog({\n+                autoOpen: false, height: 500,  width: 700, modal: true,\n+                show: \"fade\",\n+                hide: \"fade\"\n+            });\n+        });\n+    </script>\n+</wicket:head>\n+<wicket:extend>\n+    <div id=\"dialog-form\">\n+        <p class=\"ui-widget ui-corner-all ui-widget-header\"><wicket:message key=\"title\"/></p>\n+        <form wicket:id=\"TaskForm\">\n+            <div id=\"tabs\">\n+                <ul>\n+                    <li class=\"tabs-selected\"><a href=\"#profile\"><span><wicket:message key=\"profile\"/></span></a></li>\n+                    <li><a href=\"#crontab\"><span><wicket:message key=\"crontab\"/></span></a></li>\n+                    <li><a href=\"#executions\"><span><wicket:message key=\"executions\"/></span></a></li>\n+                </ul>\n+                <div id=\"profile\">\n+                    <div id=\"users-contain\" class=\"ui-widget\">\n+                        <span wicket:id=\"profile\">\n+                            <fieldset>\n+                                <span wicket:id=\"idLabel\">[Id]</span>\n+                                <input type=\"text\" id=\"id\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"id\" />\n+\n+                                <label for=\"jobClassName\"><wicket:message key=\"class\"/></label>\n+                                <select class=\"text ui-widget-content ui-corner-all\" wicket:id=\"jobClassName\"/>\n+\n+                                <label for=\"lastExec\"><wicket:message key=\"lastExec\"/></label>\n+                                <input type=\"text\" id=\"lastExec\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"lastExec\" />\n+\n+                                <label for=\"nextExec\"><wicket:message key=\"nextExec\"/></label>\n+                                <input type=\"text\" id=\"nextExec\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"nextExec\" />\n+                            </fieldset>\n+                        </span>\n+                    </div>\n+                </div>\n+                <div id=\"crontab\">\n+                    <span wicket:id=\"crontab\">\n+                        <label for=\"cron\"><wicket:message key=\"cron\"/></label>\n+                        <input type=\"text\" id=\"seconds\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"seconds\" style=\"width: 50px;float: left\" />\n+                        <input type=\"text\" id=\"minutes\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"minutes\" style=\"width: 50px;float: left\" />\n+                        <input type=\"text\" id=\"hours\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"hours\" style=\"width: 50px;float: left\" />\n+                        <input type=\"text\" id=\"daysOfMonth\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"daysOfMonth\" style=\"width: 50px;float: left\" />\n+                        <input type=\"text\" id=\"months\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"months\" style=\"width: 50px;float: left\" />\n+                        <input type=\"text\" id=\"daysOfWeek\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"daysOfWeek\" style=\"width: 50px\" />\n+\n+                        <label for=\"cronExpression\"><wicket:message key=\"templates\"/></label>\n+                        <select class=\"text ui-widget-content ui-corner-all\" wicket:id=\"cronTemplateChooser\" style=\"width: 250px\"/>\n+                    </span>\n+                </div>\n+                <div id=\"executions\">\n+                    <span wicket:id=\"executions\" style=\"width: 100%\">\n+                        <table id=\"executions\" class=\"ui-widget ui-widget-content\"\n+                               wicket:id=\"executionsTable\" style=\"width: 100%\"/>\n+                    </span>\n+                </div>\n+            </div>\n+            <div style=\"margin: 20px 10px 0\">\n+                <input type=\"submit\" class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\" wicket:id=\"apply\"/>\n+            </div>\n+        </form>\n+    </div>\n+    <div id=\"dialog\">&nbsp;\n+        <span wicket:id=\"dialogContent\">\n+            [Task execution's message to show]\n+        </span>\n+    </div>\n+</wicket:extend>\n\\ No newline at end of file"},{"sha":"94ca5d546dcab924e31be6394e661014225372ee","filename":"console/src/main/resources/org/syncope/console/pages/GTaskModalPage.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGTaskModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGTaskModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGTaskModalPage.properties?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,19 @@\n+profile=Profile\n+crontab=Schedule\n+executions=Executions\n+title=Task\n+id=Id\n+class=Class Name\n+lastExec=Last Execution\n+nextExec=Next Execution\n+cron=Schedule (seconds, minutes, hours, days of month, months, days of week)\n+templates=Remove task from scheduler / Use a template to schedule\n+apply=Apply changes\n+startDate=Start date\n+endDate=End date\n+status=Status\n+message=Message\n+taskExecutions=Task executions\n+delete=Delete\n+showMessage=Show\n+chooseForTemplate=Use A Template"},{"sha":"3d8f6684e7329cab4b5106af9c2aa185ad9911c8","filename":"console/src/main/resources/org/syncope/console/pages/GTaskModalPage_it.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGTaskModalPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGTaskModalPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGTaskModalPage_it.properties?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,19 @@\n+profile=Profilo\n+crontab=Schedule\n+executions=Esecuzioni\n+title=Task\n+id=Id\n+class=Classe\n+lastExec=Ultima Esecuzuone\n+nextExec=Prossima Esecuzione\n+cron=Schedule (secondi, minuti, ore, giorni del mese, mesi, giorni della settimana)\n+templates=Rimuovi task dallo scheduler / Ustilizza un template per schedulare\n+apply=Applica le modifiche\n+startDate=Data di avvio\n+endDate=Data di conclusione\n+status=Stato\n+message=Messaggio\n+taskExecutions=Esecuzione del task\n+delete=Eliminazione\n+showMessage=Mostra\n+chooseForTemplate=Usa Un Template"},{"sha":"ceac78c88b90c99ca6fcafda5855539a30458a53","filename":"console/src/main/resources/org/syncope/console/pages/GenericTasks.html","status":"added","additions":39,"deletions":0,"changes":39,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGenericTasks.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGenericTasks.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGenericTasks.html?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,39 @@\n+<!--\n+ Licensed under the Apache License, Version 2.0 (the \"License\");\n+ you may not use this file except in compliance with the License.\n+ You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+ Unless required by applicable law or agreed to in writing, software\n+ distributed under the License is distributed on an \"AS IS\" BASIS,\n+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ See the License for the specific language governing permissions and\n+ limitations under the License.\n+ under the License.\n+-->\n+<html>\n+    <wicket:panel>\n+        <div id=\"users-contain\" class=\"ui-widget\" style=\"width:auto\">\n+            <span wicket:id=\"container\">\n+                <table class=\"ui-widget ui-widget-content table-hover\"\n+                       wicket:id=\"datatable\"/>\n+            </span>\n+\n+            <span style=\"float:right\">\n+                <form wicket:id=\"PaginatorForm\" style=\"display:inline\">\n+                    <label><wicket:message key=\"displayRows\"/></label>\n+                    <select class=\"text ui-widget-content ui-corner-all\"\n+                            wicket:id=\"rowsChooser\"/>\n+                </form>\n+            </span>\n+        </div>\n+        <div wicket:id=\"taskWin\">\n+            [Show modal window for viewing task]\n+        </div>\n+        <a class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\"\n+           wicket:id=\"createLink\">\n+            <wicket:message key=\"create_task\"/>\n+        </a>\n+    </wicket:panel>\n+</html>"},{"sha":"43cacb26ee9b198db1870dc614f921cb3f7771de","filename":"console/src/main/resources/org/syncope/console/pages/GenericTasks.properties","status":"added","additions":9,"deletions":0,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGenericTasks.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGenericTasks.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGenericTasks.properties?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,9 @@\n+id=Id\n+class=Class\n+lastExec=Last Execution\n+nextExec=Next Execution\n+detail=Detail\n+delete=Delete\n+edit=Edit\n+execute=Execute\n+create_task=Add New Task\n\\ No newline at end of file"},{"sha":"6cb99d9194ae0e92a365e1aa877d1d6f614111c6","filename":"console/src/main/resources/org/syncope/console/pages/GenericTasks_it.properties","status":"added","additions":9,"deletions":0,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGenericTasks_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGenericTasks_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FGenericTasks_it.properties?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,9 @@\n+id=Id\n+class=Classs\n+lastExec=Ultima Esecuzione\n+nextExec=Prossima Esecuzione\n+detail=Dettagli\n+delete=Rimuovi\n+edit=Modifica\n+execute=Esegui\n+create_task=Aggiungi Nuovo Task\n\\ No newline at end of file"},{"sha":"40055a291f50e1dddd10206d93232d09e676d73f","filename":"console/src/main/resources/org/syncope/console/pages/PTaskModalPage.html","status":"renamed","additions":23,"deletions":13,"changes":36,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPTaskModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPTaskModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPTaskModalPage.html?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -35,23 +35,33 @@\n     <div id=\"dialog-form\">\n         <p class=\"ui-widget ui-corner-all ui-widget-header\"><wicket:message key=\"title\"/></p>\n         <form wicket:id=\"TaskForm\">\n-            <div id=\"users-contain\" class=\"ui-widget\">\n-                <fieldset>\n-                    <label for=\"id\"><wicket:message key=\"id\"/></label>\n-                    <input type=\"text\" id=\"id\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"id\" />\n+            <div id=\"tabs\">\n+                <ul>\n+                    <li class=\"tabs-selected\"><a href=\"#profile\"><span><wicket:message key=\"profile\"/></span></a></li>\n+                    <li><a href=\"#executions\"><span><wicket:message key=\"executions\"/></span></a></li>\n+                </ul>\n+                <div id=\"profile\">\n+                    <div id=\"users-contain\" class=\"ui-widget\">\n+                        <span wicket:id=\"profile\">\n+                            <fieldset>\n+                                <span wicket:id=\"idLabel\">[Id]</span>\n+                                <input type=\"text\" id=\"id\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"id\" />\n \n-                    <label for=\"accountId\"><wicket:message key=\"accountId\"/></label>\n-                    <input type=\"text\" id=\"accountId\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"accountId\" />\n+                                <label for=\"accountId\"><wicket:message key=\"accountId\"/></label>\n+                                <input type=\"text\" id=\"accountId\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"accountId\" />\n \n-                    <label for=\"resource\"><wicket:message key=\"resource\"/></label>\n-                    <input type=\"text\" id=\"resource\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"resource\" />\n-\n-                    <span wicket:id=\"container\">\n-                        <label for=\"executions\"><wicket:message key=\"taskExecutions\"/></label>\n+                                <label for=\"resource\"><wicket:message key=\"resource\"/></label>\n+                                <input type=\"text\" id=\"resource\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"resource\" />\n+                            </fieldset>\n+                        </span>\n+                    </div>\n+                </div>\n+                <div id=\"executions\">\n+                    <span wicket:id=\"executions\">\n                         <table id=\"executions\" class=\"ui-widget ui-widget-content\"\n-                               wicket:id=\"executionsTable\"/>\n+                               wicket:id=\"executionsTable\" style=\"width: 100%\"/>\n                     </span>\n-                </fieldset>\n+                </div>\n             </div>\n         </form>\n     </div>","previous_filename":"console/src/main/resources/org/syncope/console/pages/TaskModalPage.html"},{"sha":"976a491074dc46176802a42f04df9aa8853a2d9b","filename":"console/src/main/resources/org/syncope/console/pages/PTaskModalPage.properties","status":"renamed","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPTaskModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPTaskModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPTaskModalPage.properties?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -1,4 +1,5 @@\n-tab1=Resources\n+profile=Profile\n+executions=Executions\n title=Task\n id=Id\n accountId=Account id","previous_filename":"console/src/main/resources/org/syncope/console/pages/TaskModalPage.properties"},{"sha":"3cfe41617a41245f8062b8fb3175c06f7aa8698a","filename":"console/src/main/resources/org/syncope/console/pages/PTaskModalPage_it.properties","status":"renamed","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPTaskModalPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPTaskModalPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPTaskModalPage_it.properties?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -1,4 +1,5 @@\n-tab1=Risorse\n+profile=Profilo\n+executions=Esecuzioni\n title=Task\n id=Id\n accountId=Id account","previous_filename":"console/src/main/resources/org/syncope/console/pages/TaskModalPage_it.properties"},{"sha":"50e74a53dcfa62f407efefd2a5b5fa3b82de991c","filename":"console/src/main/resources/org/syncope/console/pages/PropagationTasks.html","status":"added","additions":35,"deletions":0,"changes":35,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPropagationTasks.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPropagationTasks.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPropagationTasks.html?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,35 @@\n+<!--\n+ Licensed under the Apache License, Version 2.0 (the \"License\");\n+ you may not use this file except in compliance with the License.\n+ You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+ Unless required by applicable law or agreed to in writing, software\n+ distributed under the License is distributed on an \"AS IS\" BASIS,\n+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ See the License for the specific language governing permissions and\n+ limitations under the License.\n+ under the License.\n+-->\n+<html>\n+    <wicket:panel>\n+        <div id=\"users-contain\" class=\"ui-widget\" style=\"width:auto\">\n+            <span wicket:id=\"container\">\n+                <table class=\"ui-widget ui-widget-content table-hover\"\n+                       wicket:id=\"datatable\"/>\n+            </span>\n+\n+            <span style=\"float:right\">\n+                <form wicket:id=\"PaginatorForm\" style=\"display:inline\">\n+                    <label><wicket:message key=\"displayRows\"/></label>\n+                    <select class=\"text ui-widget-content ui-corner-all\"\n+                            wicket:id=\"rowsChooser\"/>\n+                </form>\n+            </span>\n+        </div>\n+        <div wicket:id=\"taskWin\">\n+            [Show modal window for viewing task]\n+        </div>\n+    </wicket:panel>\n+</html>"},{"sha":"b63a5e184b2af685e504aef3c7f5f08e5a034e38","filename":"console/src/main/resources/org/syncope/console/pages/PropagationTasks.properties","status":"added","additions":9,"deletions":0,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPropagationTasks.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPropagationTasks.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPropagationTasks.properties?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,9 @@\n+id=Id\n+accountId=Account Id\n+resource=Resource\n+execute=Execute\n+detail=Detail\n+delete=Delete\n+edit=Edit\n+propagationMode=Propagation Mode\n+resourceOperationType=Resource operation\n\\ No newline at end of file"},{"sha":"ae5b2d770c93c522c2f6f165dbf3f16364fb014b","filename":"console/src/main/resources/org/syncope/console/pages/PropagationTasks_it.properties","status":"added","additions":9,"deletions":0,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPropagationTasks_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPropagationTasks_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPropagationTasks_it.properties?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,9 @@\n+id=Id\n+accountId=Account Id\n+resource=Risorsa\n+execute=Esegui\n+detail=Dettagli\n+delete=Rimuovi\n+edit=Modifica\n+propagationMode=Propagazione\n+resourceOperationType=Operazione\n\\ No newline at end of file"},{"sha":"a0b94ba4ee04047baad1f59583a3afbedb535964","filename":"console/src/main/resources/org/syncope/console/pages/STaskModalPage.html","status":"added","additions":113,"deletions":0,"changes":113,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSTaskModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSTaskModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSTaskModalPage.html?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,113 @@\n+<!--\n+ Licensed under the Apache License, Version 2.0 (the \"License\");\n+ you may not use this file except in compliance with the License.\n+ You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+ Unless required by applicable law or agreed to in writing, software\n+ distributed under the License is distributed on an \"AS IS\" BASIS,\n+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ See the License for the specific language governing permissions and\n+ limitations under the License.\n+ under the License.\n+-->\n+<wicket:head>\n+    <style type=\"text/css\">\n+        /* WICKET DATATABLE HEADERS */\n+        .headers {\n+            border: 1px solid #aaaaaa;\n+            background: #cccccc url(css/images/ui-bg_highlight-soft_75_cccccc_1x100.png)\n+                50% 50% repeat-x;\n+        }\n+\n+        #resources table{\n+            font-size: 1.1em;\n+        }\n+        #roles table{\n+            font-size: 1.1em;\n+        }\n+    </style>\n+    <script type=\"text/javascript\">\n+        jQuery(function() {\n+            $(\"#dialog\").dialog({\n+                autoOpen: false, height: 500,  width: 700, modal: true,\n+                show: \"fade\",\n+                hide: \"fade\"\n+            });\n+        });\n+    </script>\n+</wicket:head>\n+<wicket:extend>\n+    <div id=\"dialog-form\">\n+        <p class=\"ui-widget ui-corner-all ui-widget-header\"><wicket:message key=\"title\"/></p>\n+        <form wicket:id=\"TaskForm\">\n+\n+            <div id=\"tabs\">\n+                <ul>\n+                    <li class=\"tabs-selected\"><a href=\"#profile\"><span><wicket:message key=\"profile\"/></span></a></li>\n+                    <li><a href=\"#crontab\"><span><wicket:message key=\"crontab\"/></span></a></li>\n+                    <li><a href=\"#resources\"><span><wicket:message key=\"resources\"/></span></a></li>\n+                    <li><a href=\"#roles\"><span><wicket:message key=\"roles\"/></span></a></li>\n+                    <li><a href=\"#executions\"><span><wicket:message key=\"executions\"/></span></a></li>\n+                </ul>\n+                <div id=\"profile\">\n+                    <div id=\"users-contain\" class=\"ui-widget\">\n+                        <span wicket:id=\"profile\">\n+                            <fieldset>\n+                                <span wicket:id=\"idLabel\">[Id]</span>\n+                                <input type=\"text\" id=\"id\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"id\" />\n+\n+                                <label for=\"resource\"><wicket:message key=\"resourceName\"/></label>\n+                                <select class=\"text ui-widget-content ui-corner-all\" wicket:id=\"resource\"/>\n+\n+                                <label for=\"lastExec\"><wicket:message key=\"lastExec\"/></label>\n+                                <input type=\"text\" id=\"lastExec\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"lastExec\" />\n+\n+                                <label for=\"nextExec\"><wicket:message key=\"nextExec\"/></label>\n+                                <input type=\"text\" id=\"nextExec\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"nextExec\" />\n+\n+                                <label for=\"updateIdentities\"><wicket:message key=\"updates\"/></label>\n+                                <input type=\"checkbox\" wicket:id=\"updateIdentities\" />\n+                            </fieldset>\n+                        </span>\n+                    </div>\n+                </div>\n+                <div id=\"crontab\">\n+                    <span wicket:id=\"crontab\">\n+                        <label for=\"cron\"><wicket:message key=\"cron\"/></label>\n+                        <input type=\"text\" id=\"seconds\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"seconds\" style=\"width: 50px;float: left\" />\n+                        <input type=\"text\" id=\"minutes\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"minutes\" style=\"width: 50px;float: left\" />\n+                        <input type=\"text\" id=\"hours\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"hours\" style=\"width: 50px;float: left\" />\n+                        <input type=\"text\" id=\"daysOfMonth\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"daysOfMonth\" style=\"width: 50px;float: left\" />\n+                        <input type=\"text\" id=\"months\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"months\" style=\"width: 50px;float: left\" />\n+                        <input type=\"text\" id=\"daysOfWeek\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"daysOfWeek\" style=\"width: 50px\" />\n+\n+                        <label for=\"cron\"><wicket:message key=\"templates\"/></label>\n+                        <select class=\"text ui-widget-content ui-corner-all\" wicket:id=\"cronTemplateChooser\" style=\"width: 250px\"/>\n+                    </span>\n+                </div>\n+                <div id=\"resources\">\n+                    <span wicket:id=\"defaultResources\"/>\n+                </div>\n+                <div id=\"roles\">\n+                    <span wicket:id=\"defaultRoles\"/>\n+                </div>\n+                <div id=\"executions\">\n+                    <span wicket:id=\"executions\" style=\"width: 100%\">\n+                        <table id=\"executions\" class=\"ui-widget ui-widget-content\"\n+                               wicket:id=\"executionsTable\" style=\"width: 100%\"/>\n+                    </span>\n+                </div>\n+            </div>\n+            <div style=\"margin: 20px 10px 0\">\n+                <input type=\"submit\" class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\" wicket:id=\"apply\"/>\n+            </div>\n+        </form>\n+    </div>\n+    <div id=\"dialog\">&nbsp;\n+        <span wicket:id=\"dialogContent\">\n+            [Task execution's message to show]\n+        </span>\n+    </div>\n+</wicket:extend>\n\\ No newline at end of file"},{"sha":"a763e8810d473c3d8edbae6fe6a6fe54f73c3e25","filename":"console/src/main/resources/org/syncope/console/pages/STaskModalPage.properties","status":"added","additions":21,"deletions":0,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSTaskModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSTaskModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSTaskModalPage.properties?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,21 @@\n+profile=Profile\n+crontab=Schedule\n+resources=Default Resources\n+roles=Default Roles\n+executions=Executions\n+title=Task\n+id=Id\n+resourceName=Resource Name\n+lastExec=Last Execution\n+nextExec=Next Execution\n+updates=Update Matched Identities\n+cron=Schedule (seconds, minutes, hours, days of month, months, days of week)\n+templates=Remove task from scheduler / Use a template to schedule\n+apply=Apply changes\n+startDate=Start date\n+endDate=End date\n+status=Status\n+message=Message\n+delete=Delete\n+showMessage=Show\n+chooseForTemplate=Use A Template\n\\ No newline at end of file"},{"sha":"7da4729a4a57c7ed48dd78097d953a598c5288fe","filename":"console/src/main/resources/org/syncope/console/pages/STaskModalPage_it.properties","status":"added","additions":21,"deletions":0,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSTaskModalPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSTaskModalPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSTaskModalPage_it.properties?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,21 @@\n+profile=Profilo\n+crontab=Schedule\n+resources=Risorse di Default\n+roles=Ruoli di Default\n+executions=Esecuzioni\n+title=Task\n+id=Id\n+resourceName=Nome Risorsa\n+lastExec=Ultima Esecuzuone\n+nextExec=Prossima Esecuzione\n+updates=Aggiorna Identit\\u00e0 Esistenti\n+cron=Schedule (secondi, minuti, ore, giorni del mese, mesi, giorni della settimana)\n+templates=Rimuovi task dallo scheduler / Ustilizza un template per schedulare\n+apply=Applica le modifiche\n+startDate=Data di avvio\n+endDate=Data di conclusione\n+status=Stato\n+message=Messaggio\n+delete=Eliminazione\n+showMessage=Mostra\n+chooseForTemplate=Usa Un Template"},{"sha":"ceac78c88b90c99ca6fcafda5855539a30458a53","filename":"console/src/main/resources/org/syncope/console/pages/SyncTasks.html","status":"added","additions":39,"deletions":0,"changes":39,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTasks.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTasks.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTasks.html?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,39 @@\n+<!--\n+ Licensed under the Apache License, Version 2.0 (the \"License\");\n+ you may not use this file except in compliance with the License.\n+ You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+ Unless required by applicable law or agreed to in writing, software\n+ distributed under the License is distributed on an \"AS IS\" BASIS,\n+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ See the License for the specific language governing permissions and\n+ limitations under the License.\n+ under the License.\n+-->\n+<html>\n+    <wicket:panel>\n+        <div id=\"users-contain\" class=\"ui-widget\" style=\"width:auto\">\n+            <span wicket:id=\"container\">\n+                <table class=\"ui-widget ui-widget-content table-hover\"\n+                       wicket:id=\"datatable\"/>\n+            </span>\n+\n+            <span style=\"float:right\">\n+                <form wicket:id=\"PaginatorForm\" style=\"display:inline\">\n+                    <label><wicket:message key=\"displayRows\"/></label>\n+                    <select class=\"text ui-widget-content ui-corner-all\"\n+                            wicket:id=\"rowsChooser\"/>\n+                </form>\n+            </span>\n+        </div>\n+        <div wicket:id=\"taskWin\">\n+            [Show modal window for viewing task]\n+        </div>\n+        <a class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\"\n+           wicket:id=\"createLink\">\n+            <wicket:message key=\"create_task\"/>\n+        </a>\n+    </wicket:panel>\n+</html>"},{"sha":"204bcdbdee64572657ffe2404af35d95046223d0","filename":"console/src/main/resources/org/syncope/console/pages/SyncTasks.properties","status":"added","additions":9,"deletions":0,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTasks.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTasks.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTasks.properties?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,9 @@\n+id=Id\n+resourceName=Resource Name\n+lastExec=Last Execution\n+nextExec=Next Execution\n+detail=Detail\n+delete=Delete\n+edit=Edit\n+execute=Execute\n+create_task=Add New Task\n\\ No newline at end of file"},{"sha":"f781408381b74efec72e49d0845d2b2788e08631","filename":"console/src/main/resources/org/syncope/console/pages/SyncTasks_it.properties","status":"added","additions":9,"deletions":0,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTasks_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTasks_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTasks_it.properties?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -0,0 +1,9 @@\n+id=Id\n+resourceName=Nome Risorsa\n+lastExec=Ultima Esecuzione\n+nextExec=Prossima Esecuzione\n+detail=Dettagli\n+delete=Rimuovi\n+edit=Modifica\n+execute=Esegui\n+create_task=Aggiungi Nuovo Task\n\\ No newline at end of file"},{"sha":"4b86296fd313fff714fa61c70b8267e530b31d2b","filename":"console/src/main/resources/org/syncope/console/pages/Tasks.html","status":"modified","additions":10,"deletions":23,"changes":33,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTasks.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTasks.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTasks.html?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -36,31 +36,18 @@\n \n     <div id=\"tabs\">\n         <ul>\n-            <li class=\"tabs-selected\">\n-                <a href=\"#tabs-1\">\n-                    <span><wicket:message key=\"tab1\"/>\n-                    </span>\n-                </a>\n-            </li>\n+            <li class=\"tabs-selected\"><a href=\"#tabs-1\"><span><wicket:message key=\"tab1\"/></span></a></li>\n+            <li><a href=\"#tabs-2\"><span><wicket:message key=\"tab2\"/></span></a></li>\n+            <li><a href=\"#tabs-3\"><span><wicket:message key=\"tab3\"/></span></a></li>\n         </ul>\n         <div id=\"tabs-1\">\n-            <div id=\"users-contain\" class=\"ui-widget\" style=\"width:auto\">\n-                <span wicket:id=\"container\">\n-                    <table class=\"ui-widget ui-widget-content table-hover\"\n-                           wicket:id=\"datatable\"/>\n-                </span>\n-\n-                <span style=\"float:right\">\n-                    <form wicket:id=\"PaginatorForm\" style=\"display:inline\">\n-                        <label><wicket:message key=\"displayRows\"/></label>\n-                        <select class=\"text ui-widget-content ui-corner-all\"\n-                                wicket:id=\"rowsChooser\"/>\n-                    </form>\n-                </span>\n-            </div>\n-            <div wicket:id=\"taskWin\">\n-                [Show modal window for viewing task]\n-            </div>\n+            <span wicket:id=\"propagation\">[propagation tasks]</span>\n+        </div>\n+        <div id=\"tabs-2\">\n+            <span wicket:id=\"sync\">[synchronization tasks]</span>\n+        </div>\n+        <div id=\"tabs-3\">\n+            <span wicket:id=\"sched\">[scheduled tasks]</span>\n         </div>\n     </div>\n "},{"sha":"7bc2bfafb5cf4a564eb6f371695083cff45fbc50","filename":"console/src/main/resources/org/syncope/console/pages/Tasks.properties","status":"modified","additions":3,"deletions":10,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTasks.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTasks.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTasks.properties?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -1,10 +1,3 @@\n-tab1=Tasks\n-id=Id\n-accountId=Account Id\n-resource=Resource\n-execute=Execute\n-detail=Detail\n-delete=Delete\n-edit=Edit\n-propagationMode=Propagation Mode\n-resourceOperationType=Resource operation\n\\ No newline at end of file\n+tab1=Propagation Tasks\n+tab2=Synchronization Tasks\n+tab3=Generic Tasks\n\\ No newline at end of file"},{"sha":"89b1c4e8c6160126f65fbc6125c88680e4590d37","filename":"console/src/main/resources/org/syncope/console/pages/Tasks_it.properties","status":"modified","additions":3,"deletions":10,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTasks_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTasks_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTasks_it.properties?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -1,10 +1,3 @@\n-tab1=Tasks\n-id=Id\n-accountId=Account Id\n-resource=Risorsa\n-execute=Esegui\n-detail=Dettaglio\n-delete=Elimina\n-edit=Modifica\n-propagationMode=Propagazione\n-resourceOperationType=Operazione sulla risorsa\n\\ No newline at end of file\n+tab1=Task di propagazione\n+tab2=Task di sincronizzazione\n+tab3=Task generici\n\\ No newline at end of file"},{"sha":"5fa5b5c48961bd643514f0224c527f3d4a09242a","filename":"core/src/main/java/org/syncope/core/persistence/beans/SyncTask.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FSyncTask.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FSyncTask.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FSyncTask.java?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -34,7 +34,7 @@ public class SyncTask extends SchedTask {\n     /**\n      * TargetResource to which the sync happens.\n      */\n-    @ManyToOne(optional = false)\n+    @ManyToOne\n     private TargetResource resource;\n \n     @OneToMany"},{"sha":"e3fef7534dd1143074f7772f07f824fb8ea33f2f","filename":"core/src/test/resources/content.xml","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/803ba44fa12c73c4d7e298bec196ddfd560754ac/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/803ba44fa12c73c4d7e298bec196ddfd560754ac/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml?ref=803ba44fa12c73c4d7e298bec196ddfd560754ac","patch":"@@ -350,7 +350,8 @@\n     <Task DTYPE=\"PropagationTask\" id=\"3\" propagationMode=\"ASYNC\" resourceOperationType=\"DELETE\"\n                  resource_name=\"ws-target-resource-2\"\n                  xmlAttributes=\"%3Cset%3E%0A++%3Corg.identityconnectors.framework.common.objects.Name%3E%0A++++%3Cname%3E__NAME__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3EuserId%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Name%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3E__PASSWORD__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Corg.identityconnectors.common.security.GuardedString%3E%0A++++++++++%3C__readOnly%3Efalse%3C%2F__readOnly%3E%0A++++++++++%3C__disposed%3Efalse%3C%2F__disposed%3E%0A++++++++++%3C__encryptedBytes%3EQTOgwEhIHqtAI%2FYlgDhYc37esEF8VLDMU2IY1ciltrg%3D%3C%2F__encryptedBytes%3E%0A++++++++++%3C__base64SHA1Hash%3EW5%2FrwtdCnI8gAnIUhKcahMEnMMc%3D%3C%2F__base64SHA1Hash%3E%0A++++++++%3C%2Forg.identityconnectors.common.security.GuardedString%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Etype%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Etype%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A%3C%2Fset%3E\"/>\n-    <Task DTYPE=\"SyncTask\" id=\"4\" resource_name=\"ws-target-resource-2\" updateIdentities=\"0\" jobClassName=\"java.lang.String\"/>\n+    <Task DTYPE=\"SyncTask\" id=\"4\" resource_name=\"ws-target-resource-2\" updateIdentities=\"1\" jobClassName=\"org.syncope.core.scheduling.SyncJob\" cronExpression=\"0 0 10 * * ?\"/>\n+    <Task DTYPE=\"SchedTask\" id=\"5\" jobClassName=\"org.syncope.core.scheduling.SampleJob\" cronExpression=\"0 0 0 1 * ?\"/>\n \n     <RDerSchema name=\"displayProperty\" expression=\"icon + ': ' + show\"/>\n "}]}
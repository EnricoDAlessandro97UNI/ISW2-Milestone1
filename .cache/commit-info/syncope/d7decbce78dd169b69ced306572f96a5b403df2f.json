{"sha":"d7decbce78dd169b69ced306572f96a5b403df2f","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmQ3ZGVjYmNlNzhkZDE2OWI2OWNlZDMwNjU3MmY5NmE1YjQwM2RmMmY=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2010-08-04T07:15:34Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2010-08-04T07:15:34Z"},"message":"UserMod from UserTO, utility\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1246422 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"32dc45f10be20db8a2ca0c4164f44ab8132fe304","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/32dc45f10be20db8a2ca0c4164f44ab8132fe304"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/d7decbce78dd169b69ced306572f96a5b403df2f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d7decbce78dd169b69ced306572f96a5b403df2f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d7decbce78dd169b69ced306572f96a5b403df2f","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d7decbce78dd169b69ced306572f96a5b403df2f/comments","author":null,"committer":null,"parents":[{"sha":"48ef39783f3c3cadbdb5247807d89a5153908791","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/48ef39783f3c3cadbdb5247807d89a5153908791","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/48ef39783f3c3cadbdb5247807d89a5153908791"}],"stats":{"total":45,"additions":45,"deletions":0},"files":[{"sha":"ff5df6590b896e3eee1cfd1eb0897d3b4313b3d1","filename":"client/src/main/java/org/syncope/client/to/AbstractAttributableTO.java","status":"modified","additions":25,"deletions":0,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d7decbce78dd169b69ced306572f96a5b403df2f/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FAbstractAttributableTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d7decbce78dd169b69ced306572f96a5b403df2f/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FAbstractAttributableTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FAbstractAttributableTO.java?ref=d7decbce78dd169b69ced306572f96a5b403df2f","patch":"@@ -17,6 +17,8 @@\n import java.util.HashSet;\n import java.util.Set;\n import org.syncope.client.AbstractBaseBean;\n+import org.syncope.client.mod.AbstractAttributableMod;\n+import org.syncope.client.mod.AttributeMod;\n \n public abstract class AbstractAttributableTO extends AbstractBaseBean {\n \n@@ -86,4 +88,27 @@ public Set<String> getResources() {\n     public void setResources(Set<String> resources) {\n         this.resources = resources;\n     }\n+\n+    protected <T extends AbstractAttributableMod> T fillAbstractAttributableMod(\n+            T attributableMod) {\n+\n+        attributableMod.setId(id);\n+\n+        AttributeMod attributeMod = null;\n+        for (AttributeTO attributeTO : attributes) {\n+            attributeMod = new AttributeMod();\n+            attributeMod.setSchema(attributeTO.getSchema());\n+            attributeMod.setValuesToBeAdded(attributeTO.getValues());\n+\n+            attributableMod.addAttributeToBeUpdated(attributeMod);\n+        }\n+        for (AttributeTO derivedAttributeTO : derivedAttributes) {\n+            attributableMod.addDerivedAttributeToBeAdded(\n+                    derivedAttributeTO.getSchema());\n+        }\n+\n+        attributableMod.setResourcesToBeAdded(resources);\n+\n+        return attributableMod;\n+    }\n }"},{"sha":"a354ec82b0077ce5d7b1ae11c2f6390c7a9e9a2a","filename":"client/src/main/java/org/syncope/client/to/UserTO.java","status":"modified","additions":20,"deletions":0,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d7decbce78dd169b69ced306572f96a5b403df2f/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FUserTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d7decbce78dd169b69ced306572f96a5b403df2f/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FUserTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FUserTO.java?ref=d7decbce78dd169b69ced306572f96a5b403df2f","patch":"@@ -17,6 +17,8 @@\n import java.util.Date;\n import java.util.HashSet;\n import java.util.Set;\n+import org.syncope.client.mod.MembershipMod;\n+import org.syncope.client.mod.UserMod;\n \n public class UserTO extends AbstractAttributableTO {\n \n@@ -79,4 +81,22 @@ public Date getTokenExpireTime() {\n     public void setTokenExpireTime(Date tokenExpireTime) {\n         this.tokenExpireTime = tokenExpireTime;\n     }\n+\n+    public UserMod buildUserMod() {\n+        UserMod userMod = new UserMod();\n+        userMod.setPassword(password);\n+        userMod = fillAbstractAttributableMod(userMod);\n+\n+        MembershipMod membershipMod = null;\n+        for (MembershipTO membershipTO : memberships) {\n+            membershipMod = new MembershipMod();\n+            membershipMod.setRole(membershipTO.getRole());\n+            membershipMod =\n+                    membershipTO.fillAbstractAttributableMod(membershipMod);\n+\n+            userMod.addMembershipMod(membershipMod);\n+        }\n+\n+        return userMod;\n+    }\n }"}]}
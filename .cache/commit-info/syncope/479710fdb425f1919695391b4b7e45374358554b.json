{"sha":"479710fdb425f1919695391b4b7e45374358554b","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjQ3OTcxMGZkYjQyNWYxOTE5Njk1MzkxYjRiN2U0NTM3NDM1ODU1NGI=","commit":{"author":{"name":"Marco Di Sabatino Di Diodoro","email":"marco.disabatino@tirasa.net","date":"2020-03-11T16:02:33Z"},"committer":{"name":"Marco Di Sabatino Di Diodoro","email":"mdisabatino@apache.org","date":"2020-03-11T16:54:19Z"},"message":"[SYNCOPE-1547] customize the roles to be displayed","tree":{"sha":"7ae0fb3ab38948697dac07d934d30ba75be8d24a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/7ae0fb3ab38948697dac07d934d30ba75be8d24a"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/479710fdb425f1919695391b4b7e45374358554b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/479710fdb425f1919695391b4b7e45374358554b","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/479710fdb425f1919695391b4b7e45374358554b","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/479710fdb425f1919695391b4b7e45374358554b/comments","author":{"login":"mdisabatino","id":1792527,"node_id":"MDQ6VXNlcjE3OTI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1792527?v=4","gravatar_id":"","url":"https://api.github.com/users/mdisabatino","html_url":"https://github.com/mdisabatino","followers_url":"https://api.github.com/users/mdisabatino/followers","following_url":"https://api.github.com/users/mdisabatino/following{/other_user}","gists_url":"https://api.github.com/users/mdisabatino/gists{/gist_id}","starred_url":"https://api.github.com/users/mdisabatino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdisabatino/subscriptions","organizations_url":"https://api.github.com/users/mdisabatino/orgs","repos_url":"https://api.github.com/users/mdisabatino/repos","events_url":"https://api.github.com/users/mdisabatino/events{/privacy}","received_events_url":"https://api.github.com/users/mdisabatino/received_events","type":"User","site_admin":false},"committer":{"login":"mdisabatino","id":1792527,"node_id":"MDQ6VXNlcjE3OTI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1792527?v=4","gravatar_id":"","url":"https://api.github.com/users/mdisabatino","html_url":"https://github.com/mdisabatino","followers_url":"https://api.github.com/users/mdisabatino/followers","following_url":"https://api.github.com/users/mdisabatino/following{/other_user}","gists_url":"https://api.github.com/users/mdisabatino/gists{/gist_id}","starred_url":"https://api.github.com/users/mdisabatino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdisabatino/subscriptions","organizations_url":"https://api.github.com/users/mdisabatino/orgs","repos_url":"https://api.github.com/users/mdisabatino/repos","events_url":"https://api.github.com/users/mdisabatino/events{/privacy}","received_events_url":"https://api.github.com/users/mdisabatino/received_events","type":"User","site_admin":false},"parents":[{"sha":"bbfd805b6e8b3331a52005e994a2c57a1e943648","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bbfd805b6e8b3331a52005e994a2c57a1e943648","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/bbfd805b6e8b3331a52005e994a2c57a1e943648"}],"stats":{"total":12,"additions":8,"deletions":4},"files":[{"sha":"599734280807e05904bfa7add3566f47ec126664","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wizards/any/Roles.java","status":"modified","additions":8,"deletions":4,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/479710fdb425f1919695391b4b7e45374358554b/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FRoles.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/479710fdb425f1919695391b4b7e45374358554b/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FRoles.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FRoles.java?ref=479710fdb425f1919695391b4b7e45374358554b","patch":"@@ -78,10 +78,7 @@ public <T extends AnyTO> Roles(final AnyWrapper<?> modelObject) {\n \n         this.setOutputMarkupId(true);\n \n-        allRoles = SyncopeWebApplication.get().getSecuritySettings().getAuthorizationStrategy().\n-                isActionAuthorized(this, RENDER)\n-                ? RoleRestClient.list().stream().map(RoleTO::getKey).sorted().collect(Collectors.toList())\n-                : List.of();\n+        allRoles = getManagedRoles();\n \n         add(new AjaxPalettePanel.Builder<String>().\n                 withFilter().\n@@ -124,4 +121,11 @@ public final boolean evaluate() {\n                 && SyncopeWebApplication.get().getSecuritySettings().getAuthorizationStrategy().\n                         isActionAuthorized(this, RENDER);\n     }\n+\n+    protected List<String> getManagedRoles() {\n+        return SyncopeWebApplication.get().getSecuritySettings().getAuthorizationStrategy().\n+                isActionAuthorized(this, RENDER)\n+                ? RoleRestClient.list().stream().map(RoleTO::getKey).sorted().collect(Collectors.toList())\n+                : List.of();\n+    }\n }"}]}
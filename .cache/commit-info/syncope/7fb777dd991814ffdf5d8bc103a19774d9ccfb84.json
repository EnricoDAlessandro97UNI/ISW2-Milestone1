{"sha":"7fb777dd991814ffdf5d8bc103a19774d9ccfb84","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjdmYjc3N2RkOTkxODE0ZmZkZjVkOGJjMTAzYTE5Nzc0ZDljY2ZiODQ=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2011-10-25T16:25:42Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2011-10-25T16:25:42Z"},"message":"Adding JRebel support to console development; three Maven profiles (besides default one) are now available:\n 1. dev - for console development WITHOUT JRebel\n 2. jrebel - for console development WITH JRebel (requires env variable REBEL_HOME and \"mvn compile\" when needing refresh)\n 3. selenium - for Selenium tests\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247166 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"142f4ae4d4aeb1bcc561216e0fe9410afe5d2545","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/142f4ae4d4aeb1bcc561216e0fe9410afe5d2545"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/7fb777dd991814ffdf5d8bc103a19774d9ccfb84","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/7fb777dd991814ffdf5d8bc103a19774d9ccfb84","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/7fb777dd991814ffdf5d8bc103a19774d9ccfb84","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/7fb777dd991814ffdf5d8bc103a19774d9ccfb84/comments","author":null,"committer":null,"parents":[{"sha":"0436fd1efa822811dd0e6217162524f5d39c4925","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/0436fd1efa822811dd0e6217162524f5d39c4925","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/0436fd1efa822811dd0e6217162524f5d39c4925"}],"stats":{"total":181,"additions":106,"deletions":75},"files":[{"sha":"b52de9d8d34b03034003371e0b8865a8a7d79a24","filename":"console/pom.xml","status":"modified","additions":95,"deletions":7,"changes":102,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/7fb777dd991814ffdf5d8bc103a19774d9ccfb84/console%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/7fb777dd991814ffdf5d8bc103a19774d9ccfb84/console%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fpom.xml?ref=7fb777dd991814ffdf5d8bc103a19774d9ccfb84","patch":"@@ -340,6 +340,9 @@\n                         <log>${cargo.log}</log>\n                         <output>${cargo.output}</output>\n                         <dependencies>\n+                            <dependency>\n+                                <location>${project.build.directory}/test-classes/</location>\n+                            </dependency>\n                             <dependency>\n                                 <groupId>com.h2database</groupId>\n                                 <artifactId>h2</artifactId>\n@@ -348,19 +351,21 @@\n                     </container>\n                     <configuration>\n                         <type>standalone</type>\n-                        <configfiles>\n-                            <configfile>\n-                                <file>${project.build.directory}/test-classes/catalina.properties</file>\n-                                <todir>conf</todir>\n-                            </configfile>\n-                        </configfiles>\n                         <properties>\n                             <cargo.servlet.port>${cargo.servlet.port}</cargo.servlet.port>\n                             <cargo.tomcat.ajp.port>8889</cargo.tomcat.ajp.port>\n                             <cargo.rmi.port>8805</cargo.rmi.port>\n                             \n <!--                            <cargo.jvmargs>-Xdebug -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n</cargo.jvmargs>-->\n+                            <cargo.jvmargs>-noverify ${javaagent}</cargo.jvmargs>\n                         </properties>\n+                        <configfiles>\n+                            <configfile>\n+                                <file>${project.build.directory}/test-classes/context.xml</file>\n+                                <todir>conf/</todir>\n+                                <tofile>context.xml</tofile>\n+                            </configfile>\n+                        </configfiles>\n                         <deployables>\n                             <deployable>\n                                 <location>${project.build.directory}/syncope-core-test</location>\n@@ -410,6 +415,7 @@\n             <id>dev</id>\n             <properties>\n                 <maven.test.skip>true</maven.test.skip>\n+                <javaagent></javaagent>\n             </properties>\n             <build>\n                 <defaultGoal>clean verify cargo:run</defaultGoal>\n@@ -422,7 +428,86 @@\n                         <executions>\n                             <execution>\n                                 <id>set-bundles</id>\n-                                <phase>process-test-resources</phase>\n+                                <phase>pre-integration-test</phase>\n+                                <goals>\n+                                    <goal>copy</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                    \n+                    <plugin>\n+                        <groupId>org.codehaus.mojo</groupId>\n+                        <artifactId>exec-maven-plugin</artifactId>\n+                        <inherited>true</inherited>\n+                        <executions>\n+                            <execution>\n+                                <id>startTestDb</id>\n+                                <phase>pre-integration-test</phase>\n+                                <goals>\n+                                    <goal>java</goal>    \n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                    \n+                    <plugin>\n+                        <groupId>org.codehaus.mojo</groupId>\n+                        <artifactId>sql-maven-plugin</artifactId>\n+                        <inherited>true</inherited>\n+                        <executions>\n+                            <execution>\n+                                <id>loadTestDb</id>\n+                                <phase>pre-integration-test</phase>\n+                                <goals>\n+                                    <goal>execute</goal>    \n+                                </goals>\n+                            </execution>    \n+                        </executions>\n+                    </plugin>\n+                    \n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <inherited>true</inherited>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+        \n+        <profile>\n+            <id>jrebel</id>\n+            <properties>\n+                <maven.test.skip>true</maven.test.skip>\n+                <javaagent>-javaagent:${env.REBEL_HOME}/jrebel.jar</javaagent>\n+            </properties>\n+            <build>\n+                <defaultGoal>clean verify cargo:run</defaultGoal>\n+                \n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.zeroturnaround</groupId>\n+                        <artifactId>jrebel-maven-plugin</artifactId>\n+                        <version>1.0.8</version>\n+                        <executions>\n+                            <execution>\n+                                <id>generate-rebel-xml</id>\n+                                <phase>process-resources</phase>\n+                                <goals>\n+                                    <goal>generate</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                \n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-dependency-plugin</artifactId>\n+                        <inherited>true</inherited>\n+                        <executions>\n+                            <execution>\n+                                <id>set-bundles</id>\n+                                <phase>pre-integration-test</phase>\n                                 <goals>\n                                     <goal>copy</goal>\n                                 </goals>\n@@ -471,6 +556,9 @@\n         \n         <profile>\n             <id>selenium</id>\n+            <properties>\n+                <javaagent></javaagent>    \n+            </properties>\n             <build>\n                 <defaultGoal>clean verify</defaultGoal>\n                 <plugins>"},{"sha":"64bca4d211ae937d06de92b61f85b3893ad084b8","filename":"console/src/main/resources/org/syncope/console/pages/ErrorPage.html","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/7fb777dd991814ffdf5d8bc103a19774d9ccfb84/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FErrorPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/7fb777dd991814ffdf5d8bc103a19774d9ccfb84/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FErrorPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FErrorPage.html?ref=7fb777dd991814ffdf5d8bc103a19774d9ccfb84","patch":"@@ -15,7 +15,7 @@\n <wicket:head>\n     <style type=\"text/css\">\n         .ui-state-error, .ui-widget-content .ui-state-error, .ui-widget-header .ui-state-error  {\n-            background:url(\"images/ui-bg_glass_95_fef1ec_1x400.png\") repeat-x scroll 50% 50% #FEF1EC;\n+            background:url(\"../../css/images/ui-bg_glass_95_fef1ec_1x400.png\") repeat-x scroll 50% 50% #FEF1EC;\n             border:1px solid #CD0A0A;\n             color:#CD0A0A;\n             width: 400px;\n@@ -25,7 +25,7 @@\n             margin-right: auto;\n         }\n         body {\n-        background: url(\"css/images/ui-bg_diagonals-thick_20_666666_40x40.png\") \n+        background: url(\"../../css/images/ui-bg_diagonals-thick_20_666666_40x40.png\") \n             repeat scroll 50% 50% #666666;\n         }\n     </style>"},{"sha":"a83a156968bb5ced201a0dbbd85705939020feeb","filename":"console/src/test/resources/catalina.properties","status":"removed","additions":0,"deletions":66,"changes":66,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/0436fd1efa822811dd0e6217162524f5d39c4925/console%2Fsrc%2Ftest%2Fresources%2Fcatalina.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/0436fd1efa822811dd0e6217162524f5d39c4925/console%2Fsrc%2Ftest%2Fresources%2Fcatalina.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fresources%2Fcatalina.properties?ref=0436fd1efa822811dd0e6217162524f5d39c4925","patch":"@@ -1,66 +0,0 @@\n-#\n-# List of comma-separated packages that start with or equal this string\n-# will cause a security exception to be thrown when\n-# passed to checkPackageAccess unless the\n-# corresponding RuntimePermission (\"accessClassInPackage.\"+package) has\n-# been granted.\n-package.access=sun.,org.apache.catalina.,org.apache.coyote.,org.apache.tomcat.,org.apache.jasper.,sun.beans.\n-#\n-# List of comma-separated packages that start with or equal this string\n-# will cause a security exception to be thrown when\n-# passed to checkPackageDefinition unless the\n-# corresponding RuntimePermission (\"defineClassInPackage.\"+package) has\n-# been granted.\n-#\n-# by default, no packages are restricted for definition, and none of\n-# the class loaders supplied with the JDK call checkPackageDefinition.\n-#\n-package.definition=sun.,java.,org.apache.catalina.,org.apache.coyote.,org.apache.tomcat.,org.apache.jasper.\n-\n-#\n-#\n-# List of comma-separated paths defining the contents of the \"common\"\n-# classloader. Prefixes should be used to define what is the repository type.\n-# Path may be relative to the CATALINA_HOME or CATALINA_BASE path or absolute.\n-# If left as blank,the JVM system loader will be used as Catalina's \"common\"\n-# loader.\n-# Examples:\n-#     \"foo\": Add this folder as a class repository\n-#     \"foo/*.jar\": Add all the JARs of the specified folder as class\n-#                  repositories\n-#     \"foo/bar.jar\": Add bar.jar as a class repository\n-common.loader=${catalina.home}/lib,${catalina.home}/lib/*.jar\n-\n-#\n-# List of comma-separated paths defining the contents of the \"server\"\n-# classloader. Prefixes should be used to define what is the repository type.\n-# Path may be relative to the CATALINA_HOME or CATALINA_BASE path or absolute.\n-# If left as blank, the \"common\" loader will be used as Catalina's \"server\"\n-# loader.\n-# Examples:\n-#     \"foo\": Add this folder as a class repository\n-#     \"foo/*.jar\": Add all the JARs of the specified folder as class\n-#                  repositories\n-#     \"foo/bar.jar\": Add bar.jar as a class repository\n-server.loader=\n-\n-#\n-# List of comma-separated paths defining the contents of the \"shared\"\n-# classloader. Prefixes should be used to define what is the repository type.\n-# Path may be relative to the CATALINA_BASE path or absolute. If left as blank,\n-# the \"common\" loader will be used as Catalina's \"shared\" loader.\n-# Examples:\n-#     \"foo\": Add this folder as a class repository\n-#     \"foo/*.jar\": Add all the JARs of the specified folder as class\n-#                  repositories\n-#     \"foo/bar.jar\": Add bar.jar as a class repository\n-# Please note that for single jars, e.g. bar.jar, you need the URL form\n-# starting with file:.\n-shared.loader=${project.build.directory}/test-classes\n-\n-#\n-# String cache configuration.\n-tomcat.util.buf.StringCache.byte.enabled=true\n-#tomcat.util.buf.StringCache.char.enabled=true\n-#tomcat.util.buf.StringCache.trainThreshold=500000\n-#tomcat.util.buf.StringCache.cacheSize=5000"},{"sha":"23cd7f1d6fce76b39cf4d075d2805a57942560cd","filename":"console/src/test/resources/context.xml","status":"added","additions":9,"deletions":0,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/7fb777dd991814ffdf5d8bc103a19774d9ccfb84/console%2Fsrc%2Ftest%2Fresources%2Fcontext.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/7fb777dd991814ffdf5d8bc103a19774d9ccfb84/console%2Fsrc%2Ftest%2Fresources%2Fcontext.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fresources%2Fcontext.xml?ref=7fb777dd991814ffdf5d8bc103a19774d9ccfb84","patch":"@@ -0,0 +1,9 @@\n+<?xml version='1.0' encoding='utf-8'?>\n+<Context>\n+    <!-- Disable session persistence across Tomcat restarts -->\n+    <Manager pathname=\"\" />\n+\n+    <Loader className=\"org.apache.catalina.loader.VirtualWebappLoader\"\n+            virtualClasspath=\"${project.build.directory}/classes:${project.build.directory}/syncope-console/WEB-INF/lib/*.jar\"\n+            searchVirtualFirst=\"true\"/>\n+</Context>"}]}
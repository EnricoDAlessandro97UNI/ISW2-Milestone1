{"sha":"ee9c98147b78793ee877974fbafeb262b008269b","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmVlOWM5ODE0N2I3ODc5M2VlODc3OTc0ZmJhZmViMjYyYjAwODI2OWI=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2011-10-17T10:46:21Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2011-10-17T10:46:21Z"},"message":"(Fixes 186)\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247142 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"eab2cface86b9ae0d68710555ae6886effc12220","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/eab2cface86b9ae0d68710555ae6886effc12220"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/ee9c98147b78793ee877974fbafeb262b008269b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ee9c98147b78793ee877974fbafeb262b008269b","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ee9c98147b78793ee877974fbafeb262b008269b","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ee9c98147b78793ee877974fbafeb262b008269b/comments","author":null,"committer":null,"parents":[{"sha":"ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ac29cebfb1ff8ac32d6c6b2aed999e3ce2d62368"}],"stats":{"total":272,"additions":185,"deletions":87},"files":[{"sha":"2b9c740090cc51056fab3a8575d02a50bda8c446","filename":"console/pom.xml","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ee9c98147b78793ee877974fbafeb262b008269b/console%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ee9c98147b78793ee877974fbafeb262b008269b/console%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fpom.xml?ref=ee9c98147b78793ee877974fbafeb262b008269b","patch":"@@ -179,6 +179,7 @@\n                                             <exclude name=\"**/ehcache.xml\" />\n                                             <exclude name=\"**/persistence.properties\" />\n                                             <exclude name=\"**/security.properties\" />\n+                                            <exclude name=\"**/workflow.properties\" />\n                                         </patternset>\n                                     </unzip>\n                                 </target>"},{"sha":"79bfd59d21ba08986233aad6ca286a338a966a1d","filename":"core/pom.xml","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpom.xml?ref=ee9c98147b78793ee877974fbafeb262b008269b","patch":"@@ -377,6 +377,7 @@\n                                         <exclude name=\"**/ehcache.xml\" />\n                                         <exclude name=\"**/persistence.properties\" />\n                                         <exclude name=\"**/security.properties\" />\n+                                        <exclude name=\"**/workflow.properties\" />\n                                     </patternset>\n                                 </unzip>\n                             </target>"},{"sha":"09cdd37326f7e0530fcd4d69255cc20c20281227","filename":"core/src/main/java/org/syncope/core/persistence/beans/user/UVirAttr.java","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FUVirAttr.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FUVirAttr.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FUVirAttr.java?ref=ee9c98147b78793ee877974fbafeb262b008269b","patch":"@@ -75,7 +75,9 @@ public List<String> getValues() {\n \n         List<String> stringValues = new ArrayList<String>();\n         for (Object value : retrievedValues) {\n-            stringValues.add(value.toString());\n+            if (value != null) {\n+                stringValues.add(value.toString());\n+            }\n         }\n \n         return stringValues;"},{"sha":"c8337df69bd19d0e4f27979cfe7fa2443710841f","filename":"core/src/main/java/org/syncope/core/persistence/propagation/PropagationByResource.java","status":"modified","additions":30,"deletions":19,"changes":49,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fpropagation%2FPropagationByResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fpropagation%2FPropagationByResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fpropagation%2FPropagationByResource.java?ref=ee9c98147b78793ee877974fbafeb262b008269b","patch":"@@ -34,17 +34,17 @@ public class PropagationByResource implements Serializable {\n     /**\n      * Resources for creation.\n      */\n-    private Set<TargetResource> toBeCreated;\n+    private Set<String> toBeCreated;\n \n     /**\n      * Resources for update.\n      */\n-    private Set<TargetResource> toBeUpdated;\n+    private Set<String> toBeUpdated;\n \n     /**\n      * Resources for deletion.\n      */\n-    private Set<TargetResource> toBeDeleted;\n+    private Set<String> toBeDeleted;\n \n     /**\n      * Mapping target resource names to old account ids (when applicable).\n@@ -55,9 +55,9 @@ public class PropagationByResource implements Serializable {\n      * Default constructor.\n      */\n     public PropagationByResource() {\n-        toBeCreated = new HashSet<TargetResource>();\n-        toBeUpdated = new HashSet<TargetResource>();\n-        toBeDeleted = new HashSet<TargetResource>();\n+        toBeCreated = new HashSet<String>();\n+        toBeUpdated = new HashSet<String>();\n+        toBeDeleted = new HashSet<String>();\n \n         oldAccountIds = new HashMap<String, String>();\n     }\n@@ -68,11 +68,11 @@ public PropagationByResource() {\n      * on any resource for which an update is requested.\n      */\n     public final void purge() {\n-        for (TargetResource resource : toBeDeleted) {\n+        for (String resource : toBeDeleted) {\n             toBeCreated.remove(resource);\n             toBeUpdated.remove(resource);\n         }\n-        for (TargetResource resource : toBeUpdated) {\n+        for (String resource : toBeUpdated) {\n             toBeCreated.remove(resource);\n         }\n     }\n@@ -91,15 +91,15 @@ public final boolean add(final PropagationOperation type,\n \n         switch (type) {\n             case CREATE:\n-                result = toBeCreated.add(resource);\n+                result = toBeCreated.add(resource.getName());\n                 break;\n \n             case UPDATE:\n-                result = toBeUpdated.add(resource);\n+                result = toBeUpdated.add(resource.getName());\n                 break;\n \n             case DELETE:\n-                result = toBeDeleted.add(resource);\n+                result = toBeDeleted.add(resource.getName());\n                 break;\n \n             default:\n@@ -108,6 +108,17 @@ public final boolean add(final PropagationOperation type,\n         return result;\n     }\n \n+    private boolean addAll(final Set<String> set,\n+            final Set<TargetResource> resources) {\n+\n+        boolean result = true;\n+        for (TargetResource resource : resources) {\n+            result &= set.add(resource.getName());\n+        }\n+\n+        return result;\n+    }\n+\n     /**\n      * Add some elements.\n      *\n@@ -122,15 +133,15 @@ public boolean addAll(final PropagationOperation type,\n \n         switch (type) {\n             case CREATE:\n-                result = toBeCreated.addAll(resources);\n+                result = addAll(toBeCreated, resources);\n                 break;\n \n             case UPDATE:\n-                result = toBeUpdated.addAll(resources);\n+                result = addAll(toBeUpdated, resources);\n                 break;\n \n             case DELETE:\n-                result = toBeDeleted.addAll(resources);\n+                result = addAll(toBeDeleted, resources);\n                 break;\n \n             default:\n@@ -176,8 +187,8 @@ public final boolean remove(final PropagationOperation type,\n      * @param type resource operation type\n      * @return resource matching the given type\n      */\n-    public final Set<TargetResource> get(final PropagationOperation type) {\n-        Set<TargetResource> result = Collections.EMPTY_SET;\n+    public final Set<String> get(final PropagationOperation type) {\n+        Set<String> result = Collections.EMPTY_SET;\n \n         switch (type) {\n             case CREATE:\n@@ -211,17 +222,17 @@ public final void set(final PropagationOperation type,\n \n             case CREATE:\n                 toBeCreated.clear();\n-                toBeCreated.addAll(resources);\n+                addAll(toBeCreated, resources);\n                 break;\n \n             case UPDATE:\n                 toBeUpdated.clear();\n-                toBeUpdated.addAll(resources);\n+                addAll(toBeUpdated, resources);\n                 break;\n \n             case DELETE:\n                 toBeDeleted.clear();\n-                toBeDeleted.addAll(resources);\n+                addAll(toBeDeleted, resources);\n                 break;\n \n             default:"},{"sha":"a2b4a1e8e2c375c5eeb3d1ce4cee743c62042a6c","filename":"core/src/main/java/org/syncope/core/persistence/propagation/PropagationManager.java","status":"modified","additions":10,"deletions":2,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fpropagation%2FPropagationManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fpropagation%2FPropagationManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fpropagation%2FPropagationManager.java?ref=ee9c98147b78793ee877974fbafeb262b008269b","patch":"@@ -54,6 +54,7 @@\n import org.syncope.core.persistence.beans.user.USchema;\n import org.syncope.core.persistence.beans.user.UVirAttr;\n import org.syncope.core.persistence.beans.user.UVirSchema;\n+import org.syncope.core.persistence.dao.ResourceDAO;\n import org.syncope.core.persistence.dao.SchemaDAO;\n import org.syncope.core.persistence.dao.TaskDAO;\n import org.syncope.core.persistence.dao.TaskExecDAO;\n@@ -82,6 +83,12 @@ public class PropagationManager {\n     @Autowired\n     private ConnInstanceLoader connLoader;\n \n+    /**\n+     * Resource DAO.\n+     */\n+    @Autowired\n+    private ResourceDAO resourceDAO;\n+\n     /**\n      * Schema DAO.\n      */\n@@ -211,12 +218,13 @@ protected void provision(\n         propByRes.purge();\n         LOG.debug(\"After purge: {}\", propByRes);\n \n+        TargetResource resource;\n         Map.Entry<String, Set<Attribute>> preparedAttrs;\n         PropagationTask task;\n         TaskExec execution;\n         for (PropagationOperation type : PropagationOperation.values()) {\n-            for (TargetResource resource : propByRes.get(type)) {\n-\n+            for (String resourceName : propByRes.get(type)) {\n+                resource = resourceDAO.find(resourceName);\n                 preparedAttrs = prepareAttributes(user, password, resource);\n \n                 task = new PropagationTask();"},{"sha":"028dfb3cc1243348fb66049fb62c2b94ecde2063","filename":"core/src/main/java/org/syncope/core/persistence/validation/entity/AttributableValidator.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fvalidation%2Fentity%2FAttributableValidator.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fvalidation%2Fentity%2FAttributableValidator.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fvalidation%2Fentity%2FAttributableValidator.java?ref=ee9c98147b78793ee877974fbafeb262b008269b","patch":"@@ -60,7 +60,6 @@ public boolean isValid(\n             // ------------------------------\n             LOG.debug(\"Password Policy enforcement\");\n \n-            LOG.error(\"AAAA\");\n             final List<Policy> policies =\n                     getPasswordPolicies((SyncopeUser) object);\n "},{"sha":"7aa0c1cd49ddef555de8fac936bba32a43c888dc","filename":"core/src/main/java/org/syncope/core/rest/data/AbstractAttributableDataBinder.java","status":"modified","additions":64,"deletions":62,"changes":126,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FAbstractAttributableDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FAbstractAttributableDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FAbstractAttributableDataBinder.java?ref=ee9c98147b78793ee877974fbafeb262b008269b","patch":"@@ -304,14 +304,59 @@ protected PropagationByResource fill(\n         SyncopeClientException invalidValues = new SyncopeClientException(\n                 SyncopeClientExceptionType.InvalidValues);\n \n+        // 1. resources to be removed\n+        TargetResource resource;\n+        for (String resourceToBeRemoved :\n+                attributableMod.getResourcesToBeRemoved()) {\n+\n+            resource = getResource(resourceToBeRemoved);\n+\n+            if (resource != null) {\n+                propByRes.add(PropagationOperation.DELETE, resource);\n+\n+                attributable.removeTargetResource(resource);\n+\n+                if (attributableUtil == attributableUtil.USER) {\n+                    resource.removeUser((SyncopeUser) attributable);\n+                }\n+                if (attributableUtil == attributableUtil.ROLE) {\n+                    resource.removeRole((SyncopeRole) attributable);\n+                }\n+            }\n+        }\n+\n+        LOG.debug(\"Resources to be removed:\\n{}\", propByRes);\n+\n+        // 2. resources to be added\n+        for (String resourceToBeAdded :\n+                attributableMod.getResourcesToBeAdded()) {\n+\n+            resource = getResource(resourceToBeAdded);\n+\n+            if (resource != null) {\n+                propByRes.add(PropagationOperation.CREATE, resource);\n+\n+                attributable.addTargetResource(resource);\n+\n+                if (attributableUtil == attributableUtil.USER) {\n+                    resource.addUser((SyncopeUser) attributable);\n+                }\n+                if (attributableUtil == attributableUtil.ROLE) {\n+                    resource.addRole((SyncopeRole) attributable);\n+                }\n+            }\n+        }\n+\n+        LOG.debug(\"Resources to be added:\\n{}\", propByRes);\n+\n         AbstractSchema schema;\n         AbstractAttr attribute;\n         AbstractDerSchema derivedSchema;\n         AbstractDerAttr derivedAttribute;\n         AbstractVirSchema virtualSchema;\n         AbstractVirAttr virtualAttribute;\n \n-        // 1. attributes to be removed\n+        // 3. attributes to be removed\n         for (String attributeToBeRemoved :\n                 attributableMod.getAttributesToBeRemoved()) {\n \n@@ -324,7 +369,8 @@ protected PropagationByResource fill(\n                     LOG.debug(\"No attribute found for schema {}\", schema);\n                 } else {\n                     String newValue = null;\n-                    for (AttributeMod mod : attributableMod.getAttributesToBeUpdated()) {\n+                    for (AttributeMod mod : attributableMod.\n+                            getAttributesToBeUpdated()) {\n \n                         if (schema.getName().equals(mod.getSchema())) {\n                             newValue = mod.getValuesToBeAdded().\n@@ -366,9 +412,9 @@ protected PropagationByResource fill(\n             }\n         }\n \n-        LOG.debug(\"About attributes to be removed:\\n{}\", propByRes);\n+        LOG.debug(\"Attributes to be removed:\\n{}\", propByRes);\n \n-        // 2. attributes to be updated\n+        // 4. attributes to be updated\n         Set<Long> valuesToBeRemoved;\n         List<String> valuesToBeAdded;\n         for (AttributeMod attributeMod :\n@@ -451,15 +497,9 @@ protected PropagationByResource fill(\n             compositeErrorException.addException(invalidValues);\n         }\n \n-        SyncopeClientException requiredValuesMissing =\n-                checkMandatory(attributableUtil, attributable);\n-        if (!requiredValuesMissing.getElements().isEmpty()) {\n-            compositeErrorException.addException(requiredValuesMissing);\n-        }\n-\n-        LOG.debug(\"About attributes to be updated:\\n{}\", propByRes);\n+        LOG.debug(\"Attributes to be updated:\\n{}\", propByRes);\n \n-        // 3. derived attributes to be removed\n+        // 5. derived attributes to be removed\n         for (String derivedAttributeToBeRemoved :\n                 attributableMod.getDerivedAttributesToBeRemoved()) {\n \n@@ -504,10 +544,10 @@ protected PropagationByResource fill(\n             }\n         }\n \n-        LOG.debug(\"About derived attributes to be removed:\\n{}\",\n+        LOG.debug(\"Derived attributes to be removed:\\n{}\",\n                 propByRes);\n \n-        // 4. virtual attributes to be removed\n+        // 6. virtual attributes to be removed\n         for (String virtualAttributeToBeRemoved :\n                 attributableMod.getVirtualAttributesToBeRemoved()) {\n \n@@ -550,10 +590,10 @@ protected PropagationByResource fill(\n             }\n         }\n \n-        LOG.debug(\"About virtual attributes to be removed:\\n{}\",\n+        LOG.debug(\"Virtual attributes to be removed:\\n{}\",\n                 propByRes);\n \n-        // 5. derived attributes to be added\n+        // 7. derived attributes to be added\n         for (String derivedAttributeToBeAdded :\n                 attributableMod.getDerivedAttributesToBeAdded()) {\n \n@@ -582,10 +622,10 @@ protected PropagationByResource fill(\n             }\n         }\n \n-        LOG.debug(\"About derived attributes to be added:\\n{}\",\n+        LOG.debug(\"Derived attributes to be added:\\n{}\",\n                 propByRes);\n \n-        // 6. virtual attributes to be added\n+        // 8. virtual attributes to be added\n         for (String virtualAttributeToBeAdded :\n                 attributableMod.getVirtualAttributesToBeAdded()) {\n \n@@ -614,54 +654,16 @@ protected PropagationByResource fill(\n             }\n         }\n \n-        LOG.debug(\"About virtual attributes to be added:\\n{}\",\n+        LOG.debug(\"Virtual attributes to be added:\\n{}\",\n                 propByRes);\n \n-        // 7. resources to be removed\n-        TargetResource resource;\n-        for (String resourceToBeRemoved :\n-                attributableMod.getResourcesToBeRemoved()) {\n-\n-            resource = getResource(resourceToBeRemoved);\n-\n-            if (resource != null) {\n-                propByRes.add(PropagationOperation.DELETE, resource);\n-\n-                attributable.removeTargetResource(resource);\n-\n-                if (attributableUtil == attributableUtil.USER) {\n-                    resource.removeUser((SyncopeUser) attributable);\n-                }\n-                if (attributableUtil == attributableUtil.ROLE) {\n-                    resource.removeRole((SyncopeRole) attributable);\n-                }\n-            }\n-        }\n-\n-        LOG.debug(\"About resources to be removed:\\n{}\", propByRes);\n-\n-        // 6. resources to be added\n-        for (String resourceToBeAdded :\n-                attributableMod.getResourcesToBeAdded()) {\n-\n-            resource = getResource(resourceToBeAdded);\n-\n-            if (resource != null) {\n-                propByRes.add(PropagationOperation.CREATE, resource);\n-\n-                attributable.addTargetResource(resource);\n-\n-                if (attributableUtil == attributableUtil.USER) {\n-                    resource.addUser((SyncopeUser) attributable);\n-                }\n-                if (attributableUtil == attributableUtil.ROLE) {\n-                    resource.addRole((SyncopeRole) attributable);\n-                }\n-            }\n+        // Finally, check if mandatory values are missing\n+        SyncopeClientException requiredValuesMissing =\n+                checkMandatory(attributableUtil, attributable);\n+        if (!requiredValuesMissing.getElements().isEmpty()) {\n+            compositeErrorException.addException(requiredValuesMissing);\n         }\n \n-        LOG.debug(\"About resources to be added:\\n{}\", propByRes);\n-\n         // Throw composite exception if there is at least one element set\n         // in the composing exceptions\n         if (compositeErrorException.hasExceptions()) {"},{"sha":"64ae2f01be8118f1a22c26e37040b3202f31ff2f","filename":"core/src/main/java/org/syncope/core/rest/data/UserDataBinder.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FUserDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FUserDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FUserDataBinder.java?ref=ee9c98147b78793ee877974fbafeb262b008269b","patch":"@@ -102,7 +102,8 @@ public void create(final SyncopeUser user, final UserTO userTO)\n         fill(user, userTO, AttributableUtil.USER, scce);\n     }\n \n-    public PropagationByResource update(SyncopeUser user, UserMod userMod)\n+    public PropagationByResource update(final SyncopeUser user,\n+            final UserMod userMod)\n             throws SyncopeClientCompositeErrorException {\n \n         PropagationByResource propByRes = new PropagationByResource();"},{"sha":"b5484eff2fe27eccb60cac9114f426df4b2c00e3","filename":"core/src/test/java/org/syncope/core/rest/UserTestITCase.java","status":"modified","additions":73,"deletions":0,"changes":73,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java?ref=ee9c98147b78793ee877974fbafeb262b008269b","patch":"@@ -226,6 +226,79 @@ public final void issue172() {\n         assertNotNull(policyTO);\n     }\n \n+    @Test\n+    public final void issue186() {\n+        // 1. create an user with strict mandatory attributes only\n+        UserTO userTO = new UserTO();\n+        userTO.setPassword(\"password\");\n+\n+        AttributeTO attributeTO = new AttributeTO();\n+        attributeTO.setSchema(\"userId\");\n+        attributeTO.addValue(\"issue186@syncope-idm.org\");\n+        userTO.addAttribute(attributeTO);\n+\n+        attributeTO = new AttributeTO();\n+        attributeTO.setSchema(\"username\");\n+        attributeTO.addValue(\"issue186\");\n+        userTO.addAttribute(attributeTO);\n+\n+        attributeTO = new AttributeTO();\n+        attributeTO.setSchema(\"surname\");\n+        attributeTO.addValue(\"issue186\");\n+        userTO.addAttribute(attributeTO);\n+\n+        userTO = restTemplate.postForObject(BASE_URL + \"user/create\",\n+                userTO, UserTO.class);\n+        assertNotNull(userTO);\n+        assertTrue(userTO.getResources().isEmpty());\n+\n+        // 2. update assignign a resource forcing mandatory constraints: must\n+        // fail with RequiredValuesMissing\n+        UserMod userMod = new UserMod();\n+        userMod.setId(userTO.getId());\n+        userMod.setPassword(\"newPassword\");\n+        userMod.addResourceToBeAdded(\"ws-target-resource-2\");\n+\n+        SyncopeClientException sce = null;\n+        try {\n+            userTO = restTemplate.postForObject(\n+                    BASE_URL + \"user/update\", userMod, UserTO.class);\n+        } catch (SyncopeClientCompositeErrorException scce) {\n+            sce = scce.getException(\n+                    SyncopeClientExceptionType.RequiredValuesMissing);\n+        }\n+        assertNotNull(sce);\n+\n+        // 3. update assignign a resource NOT forcing mandatory constraints:\n+        // must fail with PropagationException when called with \n+        // mandatoryResources\n+        userMod = new UserMod();\n+        userMod.setId(userTO.getId());\n+        userMod.setPassword(\"newPassword\");\n+        userMod.addResourceToBeAdded(\"ws-target-resource-1\");\n+\n+        sce = null;\n+        try {\n+            userTO = restTemplate.postForObject(BASE_URL\n+                    + \"user/update?mandatoryResources=ws-target-resource-1\",\n+                    userMod, UserTO.class);\n+        } catch (SyncopeClientCompositeErrorException scce) {\n+            sce = scce.getException(SyncopeClientExceptionType.Propagation);\n+        }\n+        assertNotNull(sce);\n+\n+        // 4. update assignign a resource NOT forcing mandatory constraints:\n+        // must succeed\n+        sce = null;\n+        try {\n+            userTO = restTemplate.postForObject(\n+                    BASE_URL + \"user/update\", userMod, UserTO.class);\n+        } catch (SyncopeClientCompositeErrorException scce) {\n+            sce = scce.getException(SyncopeClientExceptionType.Propagation);\n+        }\n+        assertNull(sce);\n+    }\n+\n     @Test\n     public final void createUserWithDbPropagation() {\n         UserTO userTO = new UserTO();"},{"sha":"5041fa417491f071ab938ae0e20d8059f914799c","filename":"core/src/test/resources/content.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ee9c98147b78793ee877974fbafeb262b008269b/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml?ref=ee9c98147b78793ee877974fbafeb262b008269b","patch":"@@ -227,7 +227,7 @@\n                   xmlConfiguration=\"%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22%3F%3E+%0A%3Cjava+version%3D%221.6.0_26%22+class%3D%22java.beans.XMLDecoder%22%3E+%0A+%3Cobject+class%3D%22java.util.HashSet%22%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22displayName%22%3E+%0A+++++++%3Cstring%3EfieldDelimiter%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22helpMessage%22%3E+%0A+++++++%3Cstring%3EfieldDelimiter%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3EfieldDelimiter%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22required%22%3E+%0A+++++++%3Cboolean%3Etrue%3C%2Fboolean%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Echar%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3E%2C%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22displayName%22%3E+%0A+++++++%3Cstring%3ESource+path%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22helpMessage%22%3E+%0A+++++++%3Cstring%3EAbsolute+path+of+a+directory+where+are+located+CSV+files+to+be+processed%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3EsourcePath%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22required%22%3E+%0A+++++++%3Cboolean%3Etrue%3C%2Fboolean%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Ejava.lang.String%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3E%2F${urlencoded.java.io.tmpdir}%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22displayName%22%3E+%0A+++++++%3Cstring%3EIgnore+header%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22helpMessage%22%3E+%0A+++++++%3Cstring%3ESpecify+it+first+line+file+must+be+ignored%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3EignoreHeader%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22required%22%3E+%0A+++++++%3Cboolean%3Etrue%3C%2Fboolean%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Ejava.lang.Boolean%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3Efalse%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22displayName%22%3E+%0A+++++++%3Cstring%3EFile+encoding%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22helpMessage%22%3E+%0A+++++++%3Cstring%3EBasic+encoding+of+the+file%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3Eencoding%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Ejava.lang.String%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22displayName%22%3E+%0A+++++++%3Cstring%3Efields%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22helpMessage%22%3E+%0A+++++++%3Cstring%3EColumn+names+separated+by+comma%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3Efields%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22required%22%3E+%0A+++++++%3Cboolean%3Etrue%3C%2Fboolean%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3E%5BLjava.lang.String%3B%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3Eid+name+surname+email+password+deleted%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22displayName%22%3E+%0A+++++++%3Cstring%3EDelete+column+name%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22helpMessage%22%3E+%0A+++++++%3Cstring%3EName+of+the+column+used+to+specify+users+to+be+deleted%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3EdeleteColumnName%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Ejava.lang.String%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3Edeleted%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22displayName%22%3E+%0A+++++++%3Cstring%3EKey+separator%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22helpMessage%22%3E+%0A+++++++%3Cstring%3ECharacter+used+to+separate+keys+in+a+multi-key+scenario%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3Ekeyseparator%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22required%22%3E+%0A+++++++%3Cboolean%3Etrue%3C%2Fboolean%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Ejava.lang.String%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3E%2C%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22displayName%22%3E+%0A+++++++%3Cstring%3EKey+column+name%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22helpMessage%22%3E+%0A+++++++%3Cstring%3EName+of+the+column+used+to+identify+user+uniquely%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3EkeyColumnNames%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22required%22%3E+%0A+++++++%3Cboolean%3Etrue%3C%2Fboolean%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3E%5BLjava.lang.String%3B%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3Ename+surname%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22displayName%22%3E+%0A+++++++%3Cstring%3EText+qualifier%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22helpMessage%22%3E+%0A+++++++%3Cstring%3EDelimiter+to+determine+begin+and+end+of+text+in+value%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3EtextQualifier%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Echar%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22displayName%22%3E+%0A+++++++%3Cstring%3EPassword+column+name%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22helpMessage%22%3E+%0A+++++++%3Cstring%3EName+of+the+column+used+to+specify+user+password%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3EpasswordColumnName%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Ejava.lang.String%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3Epassword%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22displayName%22%3E+%0A+++++++%3Cstring%3EFile+mask%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22helpMessage%22%3E+%0A+++++++%3Cstring%3ERegular+expression+describing+files+to+be+processed%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3EfileMask%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22required%22%3E+%0A+++++++%3Cboolean%3Etrue%3C%2Fboolean%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Ejava.lang.String%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3E.*%5C.csv%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22displayName%22%3E+%0A+++++++%3Cstring%3EValue+quotation+required%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22helpMessage%22%3E+%0A+++++++%3Cstring%3ESpecify+if+value+quotation+is+required%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3EquotationRequired%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22required%22%3E+%0A+++++++%3Cboolean%3Etrue%3C%2Fboolean%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Ejava.lang.Boolean%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3Efalse%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A+%3C%2Fobject%3E+%0A%3C%2Fjava%3E+%0A\"/>\n     <ConnInstance_capabilities ConnInstance_id=\"104\" capabilities=\"SYNC\"/>\n     \n-    <TargetResource name=\"ws-target-resource-1\" connector_id=\"100\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"\n+    <TargetResource name=\"ws-target-resource-1\" connector_id=\"100\" forceMandatoryConstraint=\"0\" optionalPropagationMode=\"ASYNC\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"/>\n     <TargetResource name=\"ws-target-resource-2\" connector_id=\"100\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"\n                     createTraceLevel=\"FAILURES\" deleteTraceLevel=\"NONE\" updateTraceLevel=\"ALL\"/>"}]}
{"sha":"89fe8311579a2079c33a17cadbdb9be8e172972f","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjg5ZmU4MzExNTc5YTIwNzljMzNhMTdjYWRiZGI5YmU4ZTE3Mjk3MmY=","commit":{"author":{"name":"skylark17","email":"matteo.alessandroni@tirasa.net","date":"2017-08-02T07:29:18Z"},"committer":{"name":"skylark17","email":"matteo.alessandroni@tirasa.net","date":"2017-08-02T07:32:06Z"},"message":"[SYNCOPE-1178] PlainSchema page empty while self update on Enduser","tree":{"sha":"fdcff49f070fd7a4608c41949d9835aa77967669","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/fdcff49f070fd7a4608c41949d9835aa77967669"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/89fe8311579a2079c33a17cadbdb9be8e172972f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/89fe8311579a2079c33a17cadbdb9be8e172972f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/89fe8311579a2079c33a17cadbdb9be8e172972f","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/89fe8311579a2079c33a17cadbdb9be8e172972f/comments","author":{"login":"mat-ale","id":25547301,"node_id":"MDQ6VXNlcjI1NTQ3MzAx","avatar_url":"https://avatars.githubusercontent.com/u/25547301?v=4","gravatar_id":"","url":"https://api.github.com/users/mat-ale","html_url":"https://github.com/mat-ale","followers_url":"https://api.github.com/users/mat-ale/followers","following_url":"https://api.github.com/users/mat-ale/following{/other_user}","gists_url":"https://api.github.com/users/mat-ale/gists{/gist_id}","starred_url":"https://api.github.com/users/mat-ale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mat-ale/subscriptions","organizations_url":"https://api.github.com/users/mat-ale/orgs","repos_url":"https://api.github.com/users/mat-ale/repos","events_url":"https://api.github.com/users/mat-ale/events{/privacy}","received_events_url":"https://api.github.com/users/mat-ale/received_events","type":"User","site_admin":false},"committer":{"login":"mat-ale","id":25547301,"node_id":"MDQ6VXNlcjI1NTQ3MzAx","avatar_url":"https://avatars.githubusercontent.com/u/25547301?v=4","gravatar_id":"","url":"https://api.github.com/users/mat-ale","html_url":"https://github.com/mat-ale","followers_url":"https://api.github.com/users/mat-ale/followers","following_url":"https://api.github.com/users/mat-ale/following{/other_user}","gists_url":"https://api.github.com/users/mat-ale/gists{/gist_id}","starred_url":"https://api.github.com/users/mat-ale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mat-ale/subscriptions","organizations_url":"https://api.github.com/users/mat-ale/orgs","repos_url":"https://api.github.com/users/mat-ale/repos","events_url":"https://api.github.com/users/mat-ale/events{/privacy}","received_events_url":"https://api.github.com/users/mat-ale/received_events","type":"User","site_admin":false},"parents":[{"sha":"3948bbd7f6870fe50b06fefe1a2b26286544e777","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3948bbd7f6870fe50b06fefe1a2b26286544e777","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/3948bbd7f6870fe50b06fefe1a2b26286544e777"}],"stats":{"total":15,"additions":8,"deletions":7},"files":[{"sha":"36f11f43e0709d007c8a37c118ce4ff7d5e58a74","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/SchemaResource.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/89fe8311579a2079c33a17cadbdb9be8e172972f/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FSchemaResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/89fe8311579a2079c33a17cadbdb9be8e172972f/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FSchemaResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FSchemaResource.java?ref=89fe8311579a2079c33a17cadbdb9be8e172972f","patch":"@@ -77,7 +77,7 @@ protected AbstractResource.ResourceResponse newResourceResponse(final IResource.\n                             getService(SyncopeService.class).readUserTypeExtension(group);\n                     classes = typeExt.getAuxClasses();\n                 } catch (Exception e) {\n-                    LOG.error(\"Could not read User type extension for Group {}\", group, e);\n+                    LOG.error(\"Could not read User type extension for Group {}\", group);\n                 }\n             } else {\n                 String anyTypeClass = attributes.getParameters().get(\"anyTypeClass\").toString();"},{"sha":"eb33307f009507cfe3aec5b327ff971bbdd3471c","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/SyncopeLogic.java","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/89fe8311579a2079c33a17cadbdb9be8e172972f/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FSyncopeLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/89fe8311579a2079c33a17cadbdb9be8e172972f/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FSyncopeLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FSyncopeLogic.java?ref=89fe8311579a2079c33a17cadbdb9be8e172972f","patch":"@@ -242,29 +242,29 @@ public PlatformInfo platform() {\n             PLATFORM_INFO.getEntitlements().clear();\n             PLATFORM_INFO.getEntitlements().addAll(EntitlementsHolder.getInstance().getValues());\n \n-            PLATFORM_INFO.getAnyTypes().clear();\n-            PLATFORM_INFO.getUserClasses().clear();\n-            PLATFORM_INFO.getAnyTypeClasses().clear();\n-            PLATFORM_INFO.getResources().clear();\n             AuthContextUtils.execWithAuthContext(AuthContextUtils.getDomain(), new AuthContextUtils.Executable<Void>() {\n \n                 @Override\n                 public Void exec() {\n+                    PLATFORM_INFO.getAnyTypes().clear();\n                     CollectionUtils.collect(\n                             anyTypeDAO.findAll(),\n                             EntityUtils.keyTransformer(),\n                             PLATFORM_INFO.getAnyTypes());\n \n+                    PLATFORM_INFO.getUserClasses().clear();\n                     CollectionUtils.collect(\n                             anyTypeDAO.findUser().getClasses(),\n                             EntityUtils.keyTransformer(),\n                             PLATFORM_INFO.getUserClasses());\n \n+                    PLATFORM_INFO.getAnyTypeClasses().clear();\n                     CollectionUtils.collect(\n                             anyTypeClassDAO.findAll(),\n                             EntityUtils.keyTransformer(),\n                             PLATFORM_INFO.getAnyTypeClasses());\n \n+                    PLATFORM_INFO.getResources().clear();\n                     CollectionUtils.collect(\n                             resourceDAO.findAll(),\n                             EntityUtils.keyTransformer(),"},{"sha":"b1f049f5b0893d63aae5e8ce19ff9b728dda7e6a","filename":"fit/enduser-reference/src/test/resources/tests/create.js","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/89fe8311579a2079c33a17cadbdb9be8e172972f/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fcreate.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/89fe8311579a2079c33a17cadbdb9be8e172972f/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fcreate.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fcreate.js?ref=89fe8311579a2079c33a17cadbdb9be8e172972f","patch":"@@ -47,7 +47,7 @@ describe('syncope enduser user create', function () {\n     selectedGroup.sendKeys('root');\n     element.all(by.css('.ui-select-choices-row-inner span')).first().click();\n     abstract.waitSpinner();\n-    abstract.doNext();\n+    element.all(by.id('next')).first().click();\n \n     //plainSchemas\n     abstract.waitSpinner();"},{"sha":"2c5bd4496551b7a03de701734b8c1e611721948e","filename":"fit/enduser-reference/src/test/resources/tests/edit.js","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/89fe8311579a2079c33a17cadbdb9be8e172972f/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fedit.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/89fe8311579a2079c33a17cadbdb9be8e172972f/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fedit.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fedit.js?ref=89fe8311579a2079c33a17cadbdb9be8e172972f","patch":"@@ -36,7 +36,8 @@ describe('syncope enduser user edit', function () {\n     element(by.id('login-btn')).click();\n \n     //credential\n-    browser.wait(element(by.id('user.username')).isPresent());\n+    abstract.waitSpinner();\n+    browser.wait(element(by.model('user.username')).isPresent());\n     element(by.model('user.username')).clear();\n     element(by.model('user.username')).sendKeys('bellini');\n     element(by.model('user.password')).clear();"}]}
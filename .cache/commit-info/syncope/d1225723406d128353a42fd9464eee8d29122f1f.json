{"sha":"d1225723406d128353a42fd9464eee8d29122f1f","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmQxMjI1NzIzNDA2ZDEyODM1M2E0MmZkOTQ2NGVlZThkMjkxMjJmMWY=","commit":{"author":{"name":"Jan Bernhardt","email":"jbernhardt@apache.org","date":"2013-01-16T10:27:28Z"},"committer":{"name":"Jan Bernhardt","email":"jbernhardt@apache.org","date":"2013-01-16T10:27:28Z"},"message":"[SYNCOPE-259]\n* Updating Login module to use Spring REST Proxies\n* Removing obsolete comment\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1433883 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"74322a1be804d371f0dc0eb044d92bbbe41cc78e","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/74322a1be804d371f0dc0eb044d92bbbe41cc78e"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/d1225723406d128353a42fd9464eee8d29122f1f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d1225723406d128353a42fd9464eee8d29122f1f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d1225723406d128353a42fd9464eee8d29122f1f","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d1225723406d128353a42fd9464eee8d29122f1f/comments","author":null,"committer":null,"parents":[{"sha":"0071bc83fbb3dcf80496fb6a0af19434a0bc122f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/0071bc83fbb3dcf80496fb6a0af19434a0bc122f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/0071bc83fbb3dcf80496fb6a0af19434a0bc122f"}],"stats":{"total":8,"additions":4,"deletions":4},"files":[{"sha":"ff1a4b2e99c140c3c760601b27301600fa3f2d82","filename":"client/src/main/java/org/apache/syncope/services/UserRequestService.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d1225723406d128353a42fd9464eee8d29122f1f/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fservices%2FUserRequestService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d1225723406d128353a42fd9464eee8d29122f1f/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fservices%2FUserRequestService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fservices%2FUserRequestService.java?ref=d1225723406d128353a42fd9464eee8d29122f1f","patch":"@@ -33,7 +33,6 @@ public interface UserRequestService {\n \r\n     @GET\r\n     @Path(\"create/allowed\")\r\n-    //@RequestMapping(method = RequestMethod.GET, value = \"/create/allowed\")\r\n     boolean isCreateAllowed();\r\n \r\n     @POST\r"},{"sha":"54e7ec74cf235a8dabdbcb233bcbc8e0286be463","filename":"console/src/main/java/org/apache/syncope/console/pages/Login.java","status":"modified","additions":4,"deletions":3,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d1225723406d128353a42fd9464eee8d29122f1f/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FLogin.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d1225723406d128353a42fd9464eee8d29122f1f/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FLogin.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FLogin.java?ref=d1225723406d128353a42fd9464eee8d29122f1f","patch":"@@ -30,6 +30,8 @@\n import org.apache.syncope.client.to.UserTO;\n import org.apache.syncope.console.SyncopeSession;\n import org.apache.syncope.console.wicket.markup.html.form.LinkPanel;\n+import org.apache.syncope.services.EntitlementService;\n+import org.apache.syncope.services.UserRequestService;\n import org.apache.wicket.Page;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n@@ -185,14 +187,13 @@ private String[] authenticate(final String userId, final String password) {\n                 requestFactory.getAuthScope(), new UsernamePasswordCredentials(userId, password));\n \n         // 2. Search authorizations for user specified by credentials\n-        return restTemplate.getForObject(baseURL + \"auth/entitlements.json\", String[].class);\n+        return SyncopeSession.get().getService(EntitlementService.class).getMyEntitlements().toArray(new String[0]);\n     }\n \n     private boolean isSelfRegistrationAllowed() {\n         Boolean result = null;\n         try {\n-            final RestTemplate restTemplate = SyncopeSession.get().getRestTemplate();\n-            result = restTemplate.getForObject(baseURL + \"user/request/create/allowed\", Boolean.class);\n+            result = SyncopeSession.get().getService(UserRequestService.class).isCreateAllowed();\n         } catch (HttpClientErrorException e) {\n             LOG.error(\"While seeking if self registration is allowed\", e);\n         }"}]}
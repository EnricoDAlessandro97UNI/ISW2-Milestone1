{"sha":"9bd4a33024c080dfd62848fd887d39d62335931a","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjliZDRhMzMwMjRjMDgwZGZkNjI4NDhmZDg4N2QzOWQ2MjMzNTkzMWE=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-06-12T14:20:13Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-06-12T14:20:13Z"},"message":"[SYNCOPE-394] Ouch, missing part\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/branches/1_1_X@1492216 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"8634eb6e07c0d6dfa7fd6c119076758f5c33fed6","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/8634eb6e07c0d6dfa7fd6c119076758f5c33fed6"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/9bd4a33024c080dfd62848fd887d39d62335931a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/9bd4a33024c080dfd62848fd887d39d62335931a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/9bd4a33024c080dfd62848fd887d39d62335931a","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/9bd4a33024c080dfd62848fd887d39d62335931a/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"5af121463d1f29cf2fc4d0b38510492099f70fd8","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5af121463d1f29cf2fc4d0b38510492099f70fd8","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/5af121463d1f29cf2fc4d0b38510492099f70fd8"}],"stats":{"total":29,"additions":10,"deletions":19},"files":[{"sha":"37e1c7a8c978f00e93cf03c96396c13e6e12d18d","filename":"core/src/main/java/org/apache/syncope/core/init/JobInstanceLoader.java","status":"modified","additions":7,"deletions":19,"changes":26,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9bd4a33024c080dfd62848fd887d39d62335931a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Finit%2FJobInstanceLoader.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9bd4a33024c080dfd62848fd887d39d62335931a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Finit%2FJobInstanceLoader.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Finit%2FJobInstanceLoader.java?ref=9bd4a33024c080dfd62848fd887d39d62335931a","patch":"@@ -21,7 +21,6 @@\n import static org.apache.syncope.core.init.JobInstanceLoader.getJobName;\n import static org.apache.syncope.core.init.JobInstanceLoader.getTriggerName;\n \n-import java.lang.reflect.InvocationTargetException;\n import java.text.ParseException;\n import java.util.HashSet;\n import java.util.Set;\n@@ -36,7 +35,6 @@\n import org.apache.syncope.core.persistence.dao.ConfDAO;\n import org.apache.syncope.core.persistence.dao.ReportDAO;\n import org.apache.syncope.core.persistence.dao.TaskDAO;\n-import org.apache.syncope.core.quartz.AbstractTaskJob;\n import org.apache.syncope.core.quartz.TaskJob;\n import org.apache.syncope.core.report.ReportJob;\n import org.apache.syncope.core.sync.DefaultSyncActions;\n@@ -160,27 +158,17 @@ private void registerJob(final String jobName, final Job jobInstance, final Stri\n     }\n \n     public void registerJob(final Task task, final String jobClassName, final String cronExpression)\n-            throws ClassNotFoundException, SchedulerException, IllegalArgumentException, InvocationTargetException, IllegalAccessException, ParseException, NoSuchMethodException {\n+            throws ClassNotFoundException, SchedulerException, ParseException {\n \n-        Class jobClass = Class.forName(jobClassName);\n-        TaskJob jobInstance = (TaskJob) ApplicationContextProvider.getBeanFactory().\n+        Class<?> jobClass = Class.forName(jobClassName);\n+        Job jobInstance = (Job) ApplicationContextProvider.getBeanFactory().\n                 createBean(jobClass, AbstractBeanDefinition.AUTOWIRE_BY_TYPE, false);\n-        \n-        LOG.info(\"XXXXXXXXXXXXXXXXx {} {} {}\", jobClassName, jobInstance.getClass().getName(), task.getId());\n-        \n-//        if (AbstractTaskJob.class.isAssignableFrom(jobClass)) {\n-            LOG.info(\"QQQQQQQQ DENTRO\");\n-//            MethodInvoker invoker = new MethodInvoker();\n-//invoker.setTargetMethod(\"setTaskId\");\n-//invoker.setTargetObject(jobInstance);\n-//invoker.setArguments(new Object[]{task.getId()});\n-//invoker.prepare();\n-//invoker.invoke();\n-            jobInstance.setTaskId(task.getId());\n-//        }\n+        if (jobInstance instanceof TaskJob) {\n+            ((TaskJob) jobInstance).setTaskId(task.getId());\n+        }\n         if (jobInstance instanceof SyncJob && task instanceof SyncTask) {\n             String jobActionsClassName = ((SyncTask) task).getActionsClassName();\n-            Class syncActionsClass = DefaultSyncActions.class;\n+            Class<?> syncActionsClass = DefaultSyncActions.class;\n             if (StringUtils.isNotBlank(jobActionsClassName)) {\n                 try {\n                     syncActionsClass = Class.forName(jobActionsClassName);"},{"sha":"fddb641f41fdf608ecdf1097511f84193b88f6a7","filename":"core/src/main/java/org/apache/syncope/core/quartz/AbstractTransactionalTaskJob.java","status":"modified","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9bd4a33024c080dfd62848fd887d39d62335931a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fquartz%2FAbstractTransactionalTaskJob.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9bd4a33024c080dfd62848fd887d39d62335931a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fquartz%2FAbstractTransactionalTaskJob.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fquartz%2FAbstractTransactionalTaskJob.java?ref=9bd4a33024c080dfd62848fd887d39d62335931a","patch":"@@ -22,6 +22,9 @@\n import org.quartz.JobExecutionException;\n import org.springframework.transaction.annotation.Transactional;\n \n+/**\n+ * Abstract job implementation for transactional execution.\n+ */\n public abstract class AbstractTransactionalTaskJob extends AbstractTaskJob {\n \n     @Transactional"}]}
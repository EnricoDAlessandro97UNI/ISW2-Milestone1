{"sha":"191a91dc11cafd866d250bffceab5c1e257b9666","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjE5MWE5MWRjMTFjYWZkODY2ZDI1MGJmZmNlYWI1YzFlMjU3Yjk2NjY=","commit":{"author":{"name":"fmartelli","email":"fabio.martelli@gmail.com","date":"2015-12-17T09:30:20Z"},"committer":{"name":"fmartelli","email":"fabio.martelli@gmail.com","date":"2015-12-17T09:30:20Z"},"message":"[SYNCOPE-156] group owner management completed","tree":{"sha":"1d17cff9aae1e0f91dec4b91e780faac1fe8e2e8","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/1d17cff9aae1e0f91dec4b91e780faac1fe8e2e8"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/191a91dc11cafd866d250bffceab5c1e257b9666","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/191a91dc11cafd866d250bffceab5c1e257b9666","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/191a91dc11cafd866d250bffceab5c1e257b9666","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/191a91dc11cafd866d250bffceab5c1e257b9666/comments","author":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"committer":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"64129fcab688ae0ebcbb8dc5180abb67680c5947","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/64129fcab688ae0ebcbb8dc5180abb67680c5947","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/64129fcab688ae0ebcbb8dc5180abb67680c5947"}],"stats":{"total":27,"additions":17,"deletions":10},"files":[{"sha":"11c24696792ec01f36e7bed60a67ea322ddb9870","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/Ownership.java","status":"modified","additions":16,"deletions":9,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/191a91dc11cafd866d250bffceab5c1e257b9666/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FOwnership.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/191a91dc11cafd866d250bffceab5c1e257b9666/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FOwnership.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FOwnership.java?ref=191a91dc11cafd866d250bffceab5c1e257b9666","patch":"@@ -21,6 +21,8 @@\n import de.agilecoders.wicket.extensions.markup.html.bootstrap.form.checkbox.bootstraptoggle.BootstrapToggle;\n import de.agilecoders.wicket.extensions.markup.html.bootstrap.form.checkbox.bootstraptoggle.BootstrapToggleConfig;\n import java.util.ArrayList;\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.client.console.commons.Constants;\n import org.apache.syncope.client.console.panels.search.GroupSearchPanel;\n@@ -58,6 +60,8 @@ public class Ownership extends WizardStep {\n \n     private static final long serialVersionUID = 855618618337931784L;\n \n+    private final Pattern owner = Pattern.compile(\"\\\\[\\\\(\\\\d+\\\\)\\\\] .*\");\n+\n     private final GroupHandler handler;\n \n     private final WebMarkupContainer ownerContainer;\n@@ -103,11 +107,6 @@ public Ownership(final GroupHandler groupHandler, final PageReference pageRef) {\n             public Boolean getObject() {\n                 return isGroupOwnership.getObject();\n             }\n-\n-            @Override\n-            public void setObject(final Boolean object) {\n-\n-            }\n         }, config) {\n \n             private static final long serialVersionUID = 1L;\n@@ -197,7 +196,8 @@ public String getObject() {\n                         if (groupHandler.getInnerObject().getUserOwner() == null) {\n                             return StringUtils.EMPTY;\n                         } else {\n-                            return String.valueOf(groupHandler.getInnerObject().getUserOwner());\n+                            UserTO userTO = userRestClient.read(groupHandler.getInnerObject().getUserOwner());\n+                            return String.format(\"[%d] %s\", userTO.getKey(), userTO.getUsername());\n                         }\n                     }\n \n@@ -206,7 +206,10 @@ public void setObject(final String object) {\n                         if (StringUtils.isBlank(object)) {\n                             groupHandler.getInnerObject().setUserOwner(null);\n                         } else {\n-                            groupHandler.getInnerObject().setUserOwner(Long.parseLong(object));\n+                            final Matcher matcher = owner.matcher(object);\n+                            if (matcher.matches()) {\n+                                groupHandler.getInnerObject().setUserOwner(Long.parseLong(matcher.group(1)));\n+                            }\n                         }\n                     }\n                 }, false);\n@@ -237,7 +240,8 @@ public String getObject() {\n                         if (groupHandler.getInnerObject().getGroupOwner() == null) {\n                             return StringUtils.EMPTY;\n                         } else {\n-                            return String.valueOf(groupHandler.getInnerObject().getGroupOwner());\n+                            GroupTO groupTO = groupRestClient.read(groupHandler.getInnerObject().getGroupOwner());\n+                            return String.format(\"[%d] %s\", groupTO.getKey(), groupTO.getName());\n                         }\n                     }\n \n@@ -246,7 +250,10 @@ public void setObject(final String object) {\n                         if (StringUtils.isBlank(object)) {\n                             groupHandler.getInnerObject().setGroupOwner(null);\n                         } else {\n-                            groupHandler.getInnerObject().setGroupOwner(Long.parseLong(object));\n+                            final Matcher matcher = owner.matcher(object);\n+                            if (matcher.matches()) {\n+                                groupHandler.getInnerObject().setGroupOwner(Long.parseLong(matcher.group(1)));\n+                            }\n                         }\n                     }\n                 }, false);"},{"sha":"17863dcde449ca547bd6ba96158815b50aba8e61","filename":"client/console/src/main/resources/META-INF/resources/css/syncopeConsole.css","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/191a91dc11cafd866d250bffceab5c1e257b9666/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fcss%2FsyncopeConsole.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/191a91dc11cafd866d250bffceab5c1e257b9666/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fcss%2FsyncopeConsole.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fcss%2FsyncopeConsole.css?ref=191a91dc11cafd866d250bffceab5c1e257b9666","patch":"@@ -339,7 +339,7 @@ END - Style for Information panel\n }\n \n div.searchResult{\n-  margin-top: 30px;\n+  padding-top: 30px;\n   display: block;\n   clear: both;\n }"}]}
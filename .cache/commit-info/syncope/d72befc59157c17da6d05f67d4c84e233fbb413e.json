{"sha":"d72befc59157c17da6d05f67d4c84e233fbb413e","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmQ3MmJlZmM1OTE1N2MxN2RhNmQwNWY2N2Q0Yzg0ZTIzM2ZiYjQxM2U=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-03-17T08:48:25Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-03-17T08:48:25Z"},"message":"[SYNCOPE-776] The problem is due to an incomplete step in the release process: when building with -PskipTests, fit/core-reference will be missing Activiti and Camel components; the solution is to use -PskipTests,all","tree":{"sha":"aaf7358105a855516b8069853e02b0a345d96e62","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/aaf7358105a855516b8069853e02b0a345d96e62"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/d72befc59157c17da6d05f67d4c84e233fbb413e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d72befc59157c17da6d05f67d4c84e233fbb413e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d72befc59157c17da6d05f67d4c84e233fbb413e","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d72befc59157c17da6d05f67d4c84e233fbb413e/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"04183d50fe8bd2e8f9e94a2e115a91c7bd4afac3","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/04183d50fe8bd2e8f9e94a2e115a91c7bd4afac3","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/04183d50fe8bd2e8f9e94a2e115a91c7bd4afac3"}],"stats":{"total":58,"additions":29,"deletions":29},"files":[{"sha":"52b6395e7c246e06b5d5a3fccfddb46a853ca24c","filename":"src/site/xdoc/release-process.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d72befc59157c17da6d05f67d4c84e233fbb413e/src%2Fsite%2Fxdoc%2Frelease-process.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d72befc59157c17da6d05f67d4c84e233fbb413e/src%2Fsite%2Fxdoc%2Frelease-process.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fsite%2Fxdoc%2Frelease-process.xml?ref=d72befc59157c17da6d05f67d4c84e233fbb413e","patch":"@@ -289,7 +289,7 @@ svn commit -m \"Staging artifacts for $VERSION vote\"]]></source>\n             <source><![CDATA[\n unzip $SYNCOPE_RELEASE_DIR/target/syncope-$VERSION-source-release.zip\n cd syncope-$VERSION        \n-mvn -PskipTests\n+mvn -PskipTests,all\n \n # if releasing from 1_2_X              \n mvn javadoc:aggregate"},{"sha":"8f47b585875b3379783b1e7ea14485ca92c3cf7d","filename":"standalone/pom.xml","status":"modified","additions":28,"deletions":28,"changes":56,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d72befc59157c17da6d05f67d4c84e233fbb413e/standalone%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d72befc59157c17da6d05f67d4c84e233fbb413e/standalone%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/standalone%2Fpom.xml?ref=d72befc59157c17da6d05f67d4c84e233fbb413e","patch":"@@ -129,71 +129,71 @@ under the License.\n             <phase>verify</phase>\n             <configuration>\n               <target>\n-                <mkdir dir=\"${work.dir}\" />\n+                <mkdir dir=\"${work.dir}\"/>\n \n                 <!-- legal stuff -->\n-                <copy file=\"${project.build.outputDirectory}/README\" todir=\"${work.dir}\" />\n-                <copy file=\"LICENSE\" todir=\"${work.dir}\" />\n-                <copy file=\"NOTICE\" todir=\"${work.dir}\" />\n+                <copy file=\"${project.build.outputDirectory}/README\" todir=\"${work.dir}\"/>\n+                <copy file=\"LICENSE\" todir=\"${work.dir}\"/>\n+                <copy file=\"NOTICE\" todir=\"${work.dir}\"/>\n \n                 <!-- Unzip Tomcat and remove docs and examples from webapps (space saving) -->\n-                <unzip src=\"${settings.localRepository}/org/codehaus/cargo/cargo-container-archives/apache-tomcat-${tomcat.version}.zip\" dest=\"${work.dir}\" />\n-                <delete dir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/docs\" />\n-                <delete dir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/examples\" />\n+                <unzip src=\"${settings.localRepository}/org/codehaus/cargo/cargo-container-archives/apache-tomcat-${tomcat.version}.zip\" dest=\"${work.dir}\"/>\n+                <delete dir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/docs\"/>\n+                <delete dir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/examples\"/>\n \n                 <!-- Syncope core -->\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope\">\n-                  <fileset dir=\"../fit/core-reference/target/syncope-fit-core-reference-${project.version}\" includes=\"**/*\" />\n+                  <fileset dir=\"../fit/core-reference/target/syncope-fit-core-reference-${project.version}\" includes=\"**/*\"/>\n                 </copy>\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope/WEB-INF/classes\" overwrite=\"true\">\n-                  <fileset dir=\"${project.build.outputDirectory}/core\" />\n+                  <fileset dir=\"${project.build.outputDirectory}/core\"/>\n                 </copy>\n \n                 <!-- Syncope console -->\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-console\">\n-                  <fileset dir=\"../fit/console-reference/target/syncope-fit-console-reference-${project.version}\" includes=\"**/*\" />\n+                  <fileset dir=\"../fit/console-reference/target/syncope-fit-console-reference-${project.version}\" includes=\"**/*\"/>\n                 </copy>\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-console/WEB-INF/classes\" overwrite=\"true\">\n-                  <fileset dir=\"${project.build.outputDirectory}/console\" />\n+                  <fileset dir=\"${project.build.outputDirectory}/console\"/>\n                 </copy>\n \n                 <!-- Syncope enduser -->\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-enduser\">\n-                  <fileset dir=\"../fit/enduser-reference/target/syncope-fit-enduser-reference-${project.version}\" includes=\"**/*\" />\n+                  <fileset dir=\"../fit/enduser-reference/target/syncope-fit-enduser-reference-${project.version}\" includes=\"**/*\"/>\n                 </copy>\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-enduser/WEB-INF/classes\" overwrite=\"true\">\n-                  <fileset dir=\"${project.build.outputDirectory}/enduser\" />\n+                  <fileset dir=\"${project.build.outputDirectory}/enduser\"/>\n                 </copy>\n \n-                <mkdir dir=\"${work.dir}/apache-tomcat-${tomcat.version}/${test.csvdir.path}\" />\n-                <copy file=\"../fit/core-reference/src/test/resources/test.csv\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/${test.csvdir.path}\" />\n+                <mkdir dir=\"${work.dir}/apache-tomcat-${tomcat.version}/${test.csvdir.path}\"/>\n+                <copy file=\"../fit/core-reference/src/test/resources/test.csv\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/${test.csvdir.path}\"/>\n \n                 <!-- ConnId's SOAP wssample (provides endpoint for SOAP resources) -->\n-                <copy file=\"${settings.localRepository}/net/tirasa/connid/bundles/soap/wssample/${connid.soap.version}/wssample-${connid.soap.version}.war\" tofile=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/wssample.war\" />\n+                <copy file=\"${settings.localRepository}/net/tirasa/connid/bundles/soap/wssample/${connid.soap.version}/wssample-${connid.soap.version}.war\" tofile=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/wssample.war\"/>\n \n                 <!-- Syncope build tools (provide H2 and Apache DS resources + ConnId connector server) -->\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\">\n-                  <fileset dir=\"../fit/build-tools/target/syncope-fit-build-tools-${project.version}\" includes=\"**/*\" />\n+                  <fileset dir=\"../fit/build-tools/target/syncope-fit-build-tools-${project.version}\" includes=\"**/*\"/>\n                 </copy>\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools/WEB-INF/lib\">\n-                  <fileset dir=\"../fit/core-reference/target/bundles/\" includes=\"**/*\" />\n+                  <fileset dir=\"../fit/core-reference/target/bundles/\" includes=\"**/*\"/>\n                 </copy>\n-                <zip destfile=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools.war\" basedir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\" />\n-                <delete dir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\" />\n+                <zip destfile=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools.war\" basedir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\"/>\n+                <delete dir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\"/>\n \n                 <!-- Tomcat shared libraries: H2, groovy, StAX2 API, Woodstox -->\n-                <copy file=\"${settings.localRepository}/com/h2database/h2/${h2.version}/h2-${h2.version}.jar\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/lib\" />\n-                <copy file=\"${settings.localRepository}/org/codehaus/groovy/groovy-all/${groovy.version}/groovy-all-${groovy.version}.jar\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/lib\" />\n+                <copy file=\"${settings.localRepository}/com/h2database/h2/${h2.version}/h2-${h2.version}.jar\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/lib\"/>\n+                <copy file=\"${settings.localRepository}/org/codehaus/groovy/groovy-all/${groovy.version}/groovy-all-${groovy.version}.jar\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/lib\"/>\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/lib\">\n-                  <fileset dir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope/WEB-INF/lib\" includes=\"stax2-api-*.jar\" />\n-                  <fileset dir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope/WEB-INF/lib\" includes=\"woodstox-core-asl-*.jar\" />\n+                  <fileset dir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope/WEB-INF/lib\" includes=\"stax2-api-*.jar\"/>\n+                  <fileset dir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope/WEB-INF/lib\" includes=\"woodstox-core-asl-*.jar\"/>\n                 </copy>\n \n                 <!-- Other custom Tomcat resources -->\n-                <copy file=\"../fit/core-reference/target/classes/context.xml\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/conf\" overwrite=\"true\" />\n-                <copy file=\"src/main/resources/setenv.sh\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/bin\" />\n-                <copy file=\"src/main/resources/setenv.bat\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/bin\" />\n-                <replace file=\"${work.dir}/apache-tomcat-${tomcat.version}/conf/server.xml\" token=\"8080\" value=\"${cargo.servlet.port}\" />\n+                <copy file=\"../fit/core-reference/target/classes/context.xml\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/conf\" overwrite=\"true\"/>\n+                <copy file=\"src/main/resources/setenv.sh\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/bin\"/>\n+                <copy file=\"src/main/resources/setenv.bat\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/bin\"/>\n+                <replace file=\"${work.dir}/apache-tomcat-${tomcat.version}/conf/server.xml\" token=\"8080\" value=\"${cargo.servlet.port}\"/>\n               </target>\n             </configuration>\n           </execution>"}]}
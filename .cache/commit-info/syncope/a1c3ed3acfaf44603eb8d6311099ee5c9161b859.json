{"sha":"a1c3ed3acfaf44603eb8d6311099ee5c9161b859","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmExYzNlZDNhY2ZhZjQ0NjAzZWI4ZDYzMTEwOTllZTVjOTE2MWI4NTk=","commit":{"author":{"name":"giacomolm","email":"giacomolm@hotmail.it","date":"2016-01-15T15:27:23Z"},"committer":{"name":"giacomolm","email":"giacomolm@hotmail.it","date":"2016-01-15T15:27:36Z"},"message":"[SYNCOPE-719] Base group management added","tree":{"sha":"d80b07609c68c02873479cbe638686c4d40f409c","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/d80b07609c68c02873479cbe638686c4d40f409c"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/a1c3ed3acfaf44603eb8d6311099ee5c9161b859","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a1c3ed3acfaf44603eb8d6311099ee5c9161b859","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/a1c3ed3acfaf44603eb8d6311099ee5c9161b859","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/comments","author":{"login":"giacomolm","id":4027829,"node_id":"MDQ6VXNlcjQwMjc4Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/4027829?v=4","gravatar_id":"","url":"https://api.github.com/users/giacomolm","html_url":"https://github.com/giacomolm","followers_url":"https://api.github.com/users/giacomolm/followers","following_url":"https://api.github.com/users/giacomolm/following{/other_user}","gists_url":"https://api.github.com/users/giacomolm/gists{/gist_id}","starred_url":"https://api.github.com/users/giacomolm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giacomolm/subscriptions","organizations_url":"https://api.github.com/users/giacomolm/orgs","repos_url":"https://api.github.com/users/giacomolm/repos","events_url":"https://api.github.com/users/giacomolm/events{/privacy}","received_events_url":"https://api.github.com/users/giacomolm/received_events","type":"User","site_admin":false},"committer":{"login":"giacomolm","id":4027829,"node_id":"MDQ6VXNlcjQwMjc4Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/4027829?v=4","gravatar_id":"","url":"https://api.github.com/users/giacomolm","html_url":"https://github.com/giacomolm","followers_url":"https://api.github.com/users/giacomolm/followers","following_url":"https://api.github.com/users/giacomolm/following{/other_user}","gists_url":"https://api.github.com/users/giacomolm/gists{/gist_id}","starred_url":"https://api.github.com/users/giacomolm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giacomolm/subscriptions","organizations_url":"https://api.github.com/users/giacomolm/orgs","repos_url":"https://api.github.com/users/giacomolm/repos","events_url":"https://api.github.com/users/giacomolm/events{/privacy}","received_events_url":"https://api.github.com/users/giacomolm/received_events","type":"User","site_admin":false},"parents":[{"sha":"fa23a95d2d0734fb7f3f5b7a7d2b9cc720613314","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fa23a95d2d0734fb7f3f5b7a7d2b9cc720613314","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/fa23a95d2d0734fb7f3f5b7a7d2b9cc720613314"}],"stats":{"total":524,"additions":433,"deletions":91},"files":[{"sha":"17a92ed245543396360cf2df0147f6e3fe73aa4d","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/SyncopeEnduserApplication.java","status":"modified","additions":11,"deletions":0,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -34,6 +34,7 @@\n import org.apache.syncope.client.enduser.resources.LogoutResource;\n import org.apache.syncope.client.enduser.resources.SchemaResource;\n import org.apache.syncope.client.enduser.resources.SecurityQuestionResource;\n+import org.apache.syncope.client.enduser.resources.SyncopeGroupResource;\n import org.apache.syncope.client.enduser.resources.SyncopeResourceResource;\n import org.apache.syncope.client.enduser.resources.UserSelfCreateResource;\n import org.apache.syncope.client.enduser.resources.UserSelfPasswordReset;\n@@ -256,6 +257,16 @@ public IResource getResource() {\n             }\n         });\n \n+        mountResource(\"/api/groups\", new ResourceReference(\"groups\") {\n+\n+            private static final long serialVersionUID = -128426276529456602L;\n+\n+            @Override\n+            public IResource getResource() {\n+                return new SyncopeGroupResource();\n+            }\n+        });\n+\n     }\n \n     @Override"},{"sha":"280c4eac3512407126a7bea19b10457af1ec28cf","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/adapters/GroupTOAdapter.java","status":"added","additions":41,"deletions":0,"changes":41,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fadapters%2FGroupTOAdapter.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fadapters%2FGroupTOAdapter.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fadapters%2FGroupTOAdapter.java?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -0,0 +1,41 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.adapters;\n+\n+import java.util.List;\n+import org.apache.syncope.client.enduser.model.GroupResponse;\n+import org.apache.syncope.common.lib.to.GroupTO;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class GroupTOAdapter {\n+\n+    private static final Logger LOG = LoggerFactory.getLogger(GroupTOAdapter.class);\n+\n+    public GroupResponse fromGroupTO(final List<GroupTO> groupTOs) {\n+\n+        GroupResponse groupTOResponse = new GroupResponse();\n+\n+        for (GroupTO groupTO : groupTOs) {\n+            groupTOResponse.getGroups().put(groupTO.getKey(), groupTO.getName());\n+        }\n+\n+        return groupTOResponse;\n+    }\n+}"},{"sha":"22aa1399ee265b8ea2e939255aff8f80e5933439","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/adapters/UserTOAdapter.java","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fadapters%2FUserTOAdapter.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fadapters%2FUserTOAdapter.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fadapters%2FUserTOAdapter.java?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -56,6 +56,8 @@ public UserTO fromUserTORequest(final UserTORequest userTORequest, final String\n         userTO.getVirAttrs().addAll(userTORequest.getVirAttrs().values());\n         // add resources\n         userTO.getResources().addAll(userTORequest.getResources());\n+        // add memberships\n+        userTO.getMemberships().addAll(userTORequest.getMemberships());\n \n         return userTO;\n     }\n@@ -74,6 +76,8 @@ public UserTORequest toUserTORequest(final UserTO userTO) {\n         userTORequest.getVirAttrs().putAll(userTO.getVirAttrMap());\n         \n         userTORequest.getResources().addAll(userTO.getResources());\n+               \n+        userTORequest.getMemberships().addAll(userTO.getMemberships());\n \n         return userTORequest;\n     }"},{"sha":"49c2992d8e2ad8419d1cba5a026b683df842753d","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/model/GroupResponse.java","status":"added","additions":45,"deletions":0,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FGroupResponse.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FGroupResponse.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FGroupResponse.java?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -0,0 +1,45 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.model;\n+\n+import java.io.Serializable;\n+import java.util.HashMap;\n+import java.util.Map;\n+import org.apache.commons.lang3.builder.ToStringBuilder;\n+\n+public class GroupResponse implements Serializable {\n+\n+    private static final long serialVersionUID = -7499232727784886980L;\n+\n+    private Map<Long, String> groups = new HashMap<>();\n+\n+    public Map<Long, String> getGroups() {\n+        return groups;\n+    }\n+\n+    public void setGroups(final Map<Long, String> groups) {\n+        this.groups = groups;\n+    }\n+\n+    @Override\n+    public String toString() {\n+        return ToStringBuilder.reflectionToString(this);\n+    }\n+\n+}"},{"sha":"be841a4228ba4c5bc54b79e45e053a538813307a","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/model/UserTORequest.java","status":"modified","additions":13,"deletions":0,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FUserTORequest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FUserTORequest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FUserTORequest.java?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -19,12 +19,15 @@\n package org.apache.syncope.client.enduser.model;\n \n import java.io.Serializable;\n+import java.util.ArrayList;\n import java.util.HashMap;\n import java.util.HashSet;\n+import java.util.List;\n import java.util.Map;\n import java.util.Set;\n import org.apache.commons.lang3.builder.ToStringBuilder;\n import org.apache.syncope.common.lib.to.AttrTO;\n+import org.apache.syncope.common.lib.to.MembershipTO;\n \n public class UserTORequest implements Serializable {\n \n@@ -49,6 +52,8 @@ public class UserTORequest implements Serializable {\n     private Map<String, AttrTO> virAttrs = new HashMap<>();\n \n     private Set<String> resources = new HashSet<>();\n+    \n+    private List<MembershipTO> memberships = new ArrayList<>();\n \n     public UserTORequest() {\n     }\n@@ -132,6 +137,14 @@ public Set<String> getResources() {\n     public void setResources(final Set<String> resources) {\n         this.resources = resources;\n     }\n+    \n+    public List<MembershipTO> getMemberships() {\n+        return memberships;\n+    }\n+\n+    public void setMemberships(final List<MembershipTO> memberships) {\n+        this.memberships = memberships;\n+    }\n \n     public UserTORequest key(final Long value) {\n         this.key = value;"},{"sha":"21d050ac7078ba6f1891e38aac8eb164ee37eecf","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/SyncopeGroupResource.java","status":"added","additions":91,"deletions":0,"changes":91,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FSyncopeGroupResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FSyncopeGroupResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FSyncopeGroupResource.java?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -0,0 +1,91 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import java.io.IOException;\n+import java.util.List;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.ws.rs.core.Response;\n+import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n+import org.apache.syncope.client.enduser.adapters.GroupTOAdapter;\n+import org.apache.syncope.common.lib.SyncopeConstants;\n+import org.apache.syncope.common.lib.to.GroupTO;\n+import org.apache.syncope.common.rest.api.beans.AnyListQuery;\n+import org.apache.syncope.common.rest.api.service.GroupService;\n+import org.apache.syncope.core.misc.serialization.POJOHelper;\n+import org.apache.wicket.request.resource.AbstractResource;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class SyncopeGroupResource extends AbstractBaseResource {\n+\n+    private static final long serialVersionUID = 7475706378304995200L;\n+\n+    private static final Logger LOG = LoggerFactory.getLogger(SyncopeGroupResource.class);\n+\n+    private final GroupService groupService;\n+\n+    private final GroupTOAdapter groupTOAdapter;\n+\n+    public SyncopeGroupResource() {\n+        groupTOAdapter = new GroupTOAdapter();\n+        groupService = SyncopeEnduserSession.get().getService(GroupService.class);\n+    }\n+\n+    @Override\n+    protected ResourceResponse newResourceResponse(final Attributes attributes) {\n+\n+        LOG.debug(\"Search all available groups\");\n+\n+        ResourceResponse response = new ResourceResponse();\n+\n+        try {\n+\n+            HttpServletRequest request = (HttpServletRequest) attributes.getRequest().getContainerRequest();\n+            if (!xsrfCheck(request)) {\n+                LOG.error(\"XSRF TOKEN does not match\");\n+                response.setError(Response.Status.BAD_REQUEST.getStatusCode(), \"XSRF TOKEN does not match\");\n+                return response;\n+            }\n+\n+            String realm = java.net.URLDecoder.decode(attributes.getParameters().get(\"realm\").toString(\n+                    SyncopeConstants.ROOT_REALM), \"UTF-8\");\n+            final List<GroupTO> groupTOs = groupService.list(new AnyListQuery.Builder().realm(realm).build()).\n+                    getResult();\n+\n+            response.setWriteCallback(new AbstractResource.WriteCallback() {\n+\n+                @Override\n+                public void writeData(final Attributes attributes) throws IOException {\n+                    attributes.getResponse().write(POJOHelper.serialize(groupTOAdapter.fromGroupTO(groupTOs)));\n+                }\n+            });\n+            response.setStatusCode(Response.Status.OK.getStatusCode());\n+        } catch (Exception e) {\n+            LOG.error(\"Error retrieving available grupss\", e);\n+            response.setError(Response.Status.BAD_REQUEST.getStatusCode(), new StringBuilder()\n+                    .append(\"ErrorMessage{{ \")\n+                    .append(e.getMessage())\n+                    .append(\" }}\")\n+                    .toString());\n+        }\n+        return response;\n+    }\n+\n+}"},{"sha":"532866609d1cb42d0cd26acc0325f03340c68f4e","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserSelfCreateResource.java","status":"modified","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfCreateResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfCreateResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfCreateResource.java?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -26,7 +26,6 @@\n import org.apache.syncope.client.enduser.model.UserTORequest;\n import org.apache.syncope.common.rest.api.service.UserSelfService;\n import org.apache.syncope.core.misc.serialization.POJOHelper;\n-import org.apache.wicket.util.io.IOUtils;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n@@ -59,9 +58,10 @@ protected ResourceResponse newResourceResponse(final Attributes attributes) {\n                 response.setError(Response.Status.BAD_REQUEST.getStatusCode(), \"XSRF TOKEN is not matching\");\n                 return response;\n             }\n+\n+            String jsonString = request.getReader().readLine();\n             \n-            final UserTORequest userTORequest = POJOHelper.deserialize(IOUtils.toString(request.getInputStream()),\n-                    UserTORequest.class);\n+            final UserTORequest userTORequest = POJOHelper.deserialize(jsonString, UserTORequest.class);\n \n             if (isSelfRegistrationAllowed() && userTORequest != null) {\n                 LOG.debug(\"Received user self registration request for user: [{}]\", userTORequest.getUsername());\n@@ -76,7 +76,7 @@ public void writeData(final Attributes attributes) throws IOException {\n                         attributes.getResponse().write(res.getStatusInfo().getFamily().equals(\n                                 Response.Status.Family.SUCCESSFUL)\n                                         ? responseMessage.append(\"User: \").append(userTORequest.getUsername()).append(\n-                                        \" successfully created\")\n+                                                \" successfully created\")\n                                         : new StringBuilder().append(\"ErrorMessage{{ \").\n                                         append(res.getStatusInfo().getReasonPhrase()).append(\" }}\"));\n                     }\n@@ -85,8 +85,8 @@ public void writeData(final Attributes attributes) throws IOException {\n             } else {\n                 response.setError(Response.Status.FORBIDDEN.getStatusCode(), new StringBuilder().\n                         append(\"ErrorMessage{{\").append(userTORequest == null\n-                        ? \"Request received is not valid }}\"\n-                        : \"Self registration not allowed }}\").toString());\n+                                        ? \"Request received is not valid }}\"\n+                                        : \"Self registration not allowed }}\").toString());\n             }\n \n         } catch (Exception e) {"},{"sha":"6383d038a4e37b201136c03ad5431f700e2cd1c7","filename":"client/enduser/src/main/resources/META-INF/resources/app/css/editUser.css","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FeditUser.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FeditUser.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FeditUser.css?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -84,8 +84,8 @@ under the License.\n }\n \n .attribute-ui-select {\n-  width: 60%;\n-  margin-left: 20%;\n+  width: 100%;\n+  /*margin-left: 20%;*/\n   list-style: none;\n }\n "},{"sha":"b8880516ad0f68ba711ceab9dd54b6e85dbbe15d","filename":"client/enduser/src/main/resources/META-INF/resources/app/index.html","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -85,6 +85,7 @@\n     <script src=\"js/services/securityQuestionService.js\"></script>\n     <script src=\"js/services/infoService.js\"></script>\n     <script src=\"js/services/resourceService.js\"></script>\n+    <script src=\"js/services/groupService.js\"></script>\n     <script src=\"js/services/captchaService.js\"></script>\n     <!--controllers-->\n     <script src=\"js/controllers/HomeController.js\"></script>\n@@ -103,6 +104,7 @@\n     <script src=\"js/directives/equals.js\"></script>\n     <script src=\"js/directives/captcha.js\"></script>\n     <script src=\"js/directives/resources.js\"></script>\n+    <script src=\"js/directives/groups.js\"></script>\n     <!--filters-->\n     <script src=\"js/filters/propsFilter.js\"></script>\n "},{"sha":"1d35bc6d26e9bc1dc9737104b190919cf7326d8e","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/controllers/UserController.js","status":"modified","additions":77,"deletions":52,"changes":129,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -21,8 +21,9 @@\n \n angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$location', '$compile', 'AuthService',\n   'UserSelfService', 'SchemaService', 'RealmService', 'ResourceService', 'SecurityQuestionService', 'CaptchaService',\n+  'GroupService',\n   function ($scope, $rootScope, $location, $compile, AuthService, UserSelfService, SchemaService, RealmService,\n-          ResourceService, SecurityQuestionService, CaptchaService) {\n+          ResourceService, SecurityQuestionService, CaptchaService, GroupService) {\n \n     $scope.user = {};\n     $scope.confirmPassword = {\n@@ -46,10 +47,12 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n         derSchemas: [],\n         virSchemas: [],\n         resources: [],\n+        groups: [],\n         errorMessage: '',\n         attributeTable: {},\n         virtualAttributeTable: {},\n-        selectedResources: []\n+        selectedResources: [],\n+        selectedGroups: []\n       };\n \n       var initSchemas = function () {\n@@ -173,13 +176,33 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n         });\n       };\n \n+      var initGroups = function () {\n+        var realm = $scope.user.realm || \"/\";\n+        GroupService.getGroups(realm).then(function (response) {\n+          $scope.dynamicForm.groups = new Array();\n+          for (var key in response.groups) {\n+            $scope.dynamicForm.groups.push({\"rightKey\": key, \"groupName\": response.groups[key]});\n+          }\n+        }, function (e) {\n+          $scope.showError(\"An error occur during retrieving groups \" + e, $scope.notification)\n+        });\n+      };\n+\n       var readUser = function () {\n         UserSelfService.read().then(function (response) {\n           $scope.user = response;\n           $scope.user.password = undefined;\n           $scope.initialSecurityQuestion = $scope.user.securityQuestion;\n           // initialize already assigned resources\n           $scope.dynamicForm.selectedResources = $scope.user.resources;\n+          // initialize already assigned groups -- keeping the same structure of groups       \n+          for (var index in $scope.user.memberships) {\n+            $scope.dynamicForm.selectedGroups.push(\n+                    {\n+                      \"rightKey\": $scope.user.memberships[index][\"rightKey\"].toString(),\n+                      \"groupName\": $scope.user.memberships[index][\"groupName\"]\n+                    });\n+          }\n         }, function () {\n           console.log(\"Error\");\n         });\n@@ -212,6 +235,8 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n       initSchemas();\n       // initialize available resources\n       initResources();\n+      //initialize available groups\n+      initGroups();\n     };\n \n     $scope.saveUser = function (user) {\n@@ -274,62 +299,62 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n         return;\n       });\n     },\n-    $scope.retrieveSecurityQuestion = function (user) {\n-      if ($rootScope.pwdResetRequiringSecurityQuestions){\n-        if(user && user.username && user.username.length) {\n-        return SecurityQuestionService.\n-                getSecurityQuestionByUser(user.username).then(function (data) {\n-                  $scope.userSecurityQuestion = data.content;          \n+            $scope.retrieveSecurityQuestion = function (user) {\n+              if ($rootScope.pwdResetRequiringSecurityQuestions) {\n+                if (user && user.username && user.username.length) {\n+                  return SecurityQuestionService.\n+                          getSecurityQuestionByUser(user.username).then(function (data) {\n+                    $scope.userSecurityQuestion = data.content;\n+                  }, function (response) {\n+                    var errorMessage;\n+                    // parse error response \n+                    if (response !== undefined) {\n+                      errorMessage = response.split(\"ErrorMessage{{\")[1];\n+                      errorMessage = errorMessage.split(\"}}\")[0];\n+                      $scope.userSecurityQuestion = \"\";\n+                    }\n+                    $scope.showError(\"Error retrieving user security question: \" + errorMessage, $scope.notification);\n+                  });\n+                }\n+                else {\n+                  $scope.userSecurityQuestion = \"\";\n+                }\n+              }\n+            },\n+            $scope.resetPassword = function (user) {\n+              if (user && user.username) {\n+                $scope.retrieveSecurityQuestion(user);\n+                CaptchaService.validate($scope.captchaInput).then(function (response) {\n+                  if (!(response === 'true')) {\n+                    $scope.showError(\"Captcha inserted is not valid, please digit the correct captcha\", $scope.notification);\n+                    return;\n+                  }\n+                  UserSelfService.passwordReset(user).then(function (data) {\n+                    $scope.showSuccess(data, $scope.notification);\n+                    $location.path('/self');\n+                  }, function (response) {\n+                    var errorMessage;\n+                    // parse error response \n+                    if (response !== undefined) {\n+                      errorMessage = response.split(\"ErrorMessage{{\")[1];\n+                      errorMessage = errorMessage.split(\"}}\")[0];\n+                      $scope.showError(\"An error occured during password reset: \" + errorMessage, $scope.notification);\n+                      //we need to refresh captcha after a valid request\n+                      $scope.$broadcast(\"refreshCaptcha\");\n+                    }\n+                  });\n                 }, function (response) {\n                   var errorMessage;\n                   // parse error response \n                   if (response !== undefined) {\n                     errorMessage = response.split(\"ErrorMessage{{\")[1];\n                     errorMessage = errorMessage.split(\"}}\")[0];\n-                    $scope.userSecurityQuestion = \"\";\n                   }\n-                  $scope.showError(\"Error retrieving user security question: \" + errorMessage, $scope.notification);\n+                  $scope.showError(\"Error: \" + (errorMessage || response), $scope.notification);\n+                  return;\n                 });\n-        }\n-        else{\n-           $scope.userSecurityQuestion = \"\";\n-        }    \n-      }\n-    },\n-    $scope.resetPassword = function (user) {\n-      if (user && user.username) {\n-        $scope.retrieveSecurityQuestion(user);\n-        CaptchaService.validate($scope.captchaInput).then(function (response) {\n-          if (!(response === 'true')) {\n-            $scope.showError(\"Captcha inserted is not valid, please digit the correct captcha\", $scope.notification);\n-            return;\n-          }\n-          UserSelfService.passwordReset(user).then(function (data) {\n-            $scope.showSuccess(data, $scope.notification);\n-            $location.path('/self');\n-          }, function (response) {\n-            var errorMessage;\n-            // parse error response \n-            if (response !== undefined) {\n-              errorMessage = response.split(\"ErrorMessage{{\")[1];\n-              errorMessage = errorMessage.split(\"}}\")[0];\n-              $scope.showError(\"An error occured during password reset: \" + errorMessage, $scope.notification);\n-              //we need to refresh captcha after a valid request\n-              $scope.$broadcast(\"refreshCaptcha\");\n-            }\n-          });\n-        }, function (response) {          \n-          var errorMessage;\n-          // parse error response \n-          if (response !== undefined) {\n-            errorMessage = response.split(\"ErrorMessage{{\")[1];\n-            errorMessage = errorMessage.split(\"}}\")[0];\n-          }\n-          $scope.showError(\"Error: \" + (errorMessage || response), $scope.notification);\n-          return;\n-        });\n-      } else {\n-        $scope.showError(\"You should use a valid and non-empty username\", $scope.notification);\n-      }\n-    };\n+              } else {\n+                $scope.showError(\"You should use a valid and non-empty username\", $scope.notification);\n+              }\n+            };\n   }]);"},{"sha":"1f4fa4b5df3540b84015c3392c263fd648be9a09","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/groups.js","status":"added","additions":58,"deletions":0,"changes":58,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Fgroups.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Fgroups.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Fgroups.js?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -0,0 +1,58 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+'use strict';\n+\n+angular.module('self')\n+        .directive('groups', function () {\n+          return {\n+            restrict: 'E',\n+            templateUrl: 'views/groups.html',\n+            scope: {\n+              dynamicForm: \"=form\",\n+              user: \"=\"\n+            },\n+            controller: function ($scope, $filter) {\n+\n+              $scope.init = function () {\n+                if (!$scope.user.memberships) {\n+                  $scope.user.memberships = new Array();\n+                }\n+                $scope.groupDisabled = false\n+              };\n+\n+              $scope.addGroup = function (item, model) {\n+                var group = item;\n+                $scope.user.memberships.push({\"rightKey\": group.rightKey});                \n+              };\n+\n+              $scope.removeGroup = function (item, model) {\n+                var groupIndex = $scope.getIndex(item);\n+                $scope.user.memberships.splice(groupIndex, 1);                \n+              };\n+\n+              $scope.getIndex = function (selectedGroup) {\n+                var groupIndex = $scope.user.memberships.map(function (groupName) {\n+                  return groupName;\n+                }).indexOf(selectedGroup);\n+                return groupIndex;\n+              };\n+\n+            }\n+          };\n+        });"},{"sha":"fe23dceb1e1886cd2056d9388d65a7727da2b458","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/filters/propsFilter.js","status":"modified","additions":19,"deletions":18,"changes":37,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Ffilters%2FpropsFilter.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Ffilters%2FpropsFilter.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Ffilters%2FpropsFilter.js?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -17,36 +17,37 @@\n  * under the License.\n  */\n \n+/**\n+ * This filter has been defined in order to have a workaround for this bug: \n+ * https://github.com/angular-ui/ui-select/issues/665\n+ * \n+ * When the bug is fixed, we can remove it.\n+ */\n+\n 'use strict'\n \n angular.module(\"self\")\n         .filter('propsFilter', function () {\n           return function (items, props) {\n-            var out = [];\n-\n-            if (angular.isArray(items)) {\n-              items.forEach(function (item) {\n-                var itemMatches = false;\n-\n-                var keys = Object.keys(props);\n-                for (var i = 0; i < keys.length; i++) {\n-                  var prop = keys[i];\n-                  var text = props[prop].toLowerCase();\n-                  if (item[prop].toString().toLowerCase().indexOf(text) !== -1) {\n-                    itemMatches = true;\n+            var out = [];            \n+            if (items && items.length && props.selected && props.selected.length) {\n+              var selected = props.selected;              \n+              for (var i = 0; i < items.length; i++) {\n+                var item = items[i], itemMisses = true;\n+                for (var j = 0; j < selected.length; j++) {\n+                  if (item.rightKey == selected[j].rightKey) {\n+                    itemMisses = false;\n                     break;\n                   }\n                 }\n-\n-                if (itemMatches) {\n+                if(itemMisses){\n                   out.push(item);\n                 }\n-              });\n-            } else {\n-              // Let the output be the input untouched\n+              }\n+            }\n+            else{\n               out = items;\n             }\n-\n             return out;\n           };\n         });"},{"sha":"17e2addb9e31aaa8c43fcdc64750dadbc549e856","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/services/groupService.js","status":"added","additions":42,"deletions":0,"changes":42,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FgroupService.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FgroupService.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FgroupService.js?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -0,0 +1,42 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict';\n+\n+angular.module('self')\n+        .factory('GroupService', ['$resource', '$q', '$http',\n+          function ($group, $q, $http) {\n+\n+            var groupService = {};\n+\n+            groupService.getGroups = function (realm) {\n+              console.log(realm)\n+              return  $http.get(\"/syncope-enduser/api/groups?realm=\"+encodeURI(realm))\n+                      .then(function (response) {\n+                        console.log(\"groupAPI response: \", response);\n+                        return response.data;\n+                      }, function (response) {\n+                        console.log(\"Something went wrong during groups retrieval, exit with status: \", response);\n+                        return $q.reject(response.data || response.statusText);\n+                      });\n+            };\n+            return groupService;\n+          }]);\n+\n+"},{"sha":"79cd5a52cc40841c08294eabdcffc9b34f76fd0c","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/groups.html","status":"added","additions":11,"deletions":0,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fgroups.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fgroups.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fgroups.html?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -0,0 +1,11 @@\n+<div ng-init='init()'>\n+  <ui-select on-select=\"addGroup($item, $model)\" on-remove=\"removeGroup($item, $model)\" multiple\n+             ng-model=\"dynamicForm.selectedGroups\" theme=\"select2\" class=\"attribute-ui-select\" \n+             ng-disabled=\"{{groupDisabled}}\">\n+    <ui-select-match placeholder=\"Click to select groups...\">{{$item.groupName}}</ui-select-match>\n+    <ui-select-choices repeat=\"group in dynamicForm.groups | propsFilter: {selected: dynamicForm.selectedGroups} \n+                       track by group.rightKey\">\n+      <div ng-bind-html=\"group.groupName | highlight: $select.search\"></div>\n+    </ui-select-choices>\n+  </ui-select>\n+</div>\n\\ No newline at end of file"},{"sha":"7882e15eac2b8b834124330e40226f4a9312c381","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/resources.html","status":"modified","additions":1,"deletions":6,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fresources.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fresources.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fresources.html?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -4,9 +4,4 @@\n   <ui-select-choices repeat=\"resource in dynamicForm.resources\">\n     <div ng-bind-html=\"resource | highlight: $select.search\"></div>\n   </ui-select-choices>\n-</ui-select>\n-<ul class=\"attribute-ui-select\">\n-  <li class=\"attribute-virtual-value-field\" ng-if=\"dynamicForm.selectedResources.length == 0\">\n-    <strong>No resources selected...</strong>\n-  </li>\n-</ul>\n\\ No newline at end of file\n+</ui-select>\n\\ No newline at end of file"},{"sha":"fbb2dbd0dbeaf7c777f9e5c396096b26ad58c97f","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-derived-schemas.html","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-derived-schemas.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-derived-schemas.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-derived-schemas.html?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -26,10 +26,10 @@\n     </div>-->\n <!--</div>-->\n \n-<div class=\"form-group row\">\n+<div id=\"attribute\" class=\"form-group row\">\n   <navigation-buttons ng-show=\"createMode\" next=\"create.virtualSchemas\" previous=\"create.plainSchemas\"></navigation-buttons>\n   <navigation-buttons ng-show=\"!createMode\" next=\"update.virtualSchemas\" previous=\"update.plainSchemas\"></navigation-buttons>\n-  <div class=\"col-xs-6 col-xs-offset-3\">\n+  <div class=\"pull-left\">\n     <a id=\"cancel\" href=\"#/self\" class=\"btn btn-danger\">Cancel</a>\n   </div>\n </div>"},{"sha":"26ca1ce00b82e6edf64cd0ef5d842eb8476a5a7b","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-groups.html","status":"modified","additions":4,"deletions":1,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-groups.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-groups.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-groups.html?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -27,7 +27,10 @@\n     <option ng-repeat=\"realm in availableRealms\" value=\"{{realm}}\">{{realm}}</option>\n   </select>\n </div>\n-\n+<div id=\"attribute\" class=\"form-group row upper-select\">\n+  <label>Groups</label><br/>\n+  <groups form=\"dynamicForm\" user=\"user\"></groups>\n+</div>\n <div id=\"attribute\" class=\"form-group row\">\n   <navigation-buttons ng-show=\"createMode\" next=\"create.plainSchemas\" previous=\"create.credentials\"></navigation-buttons>\n   <navigation-buttons ng-show=\"!createMode\" next=\"update.plainSchemas\" previous=\"update.credentials\"></navigation-buttons>"},{"sha":"205cc1f50ee8a817990a696c33a963e42df3d6dd","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-resources.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-resources.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-resources.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-resources.html?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -17,7 +17,7 @@\n specific language governing permissions and limitations\n under the License.\n -->\n-<div>\n+<div id=\"attribute\" class=\"form-group row upper-select ng-scope\">\n   <resources form=\"dynamicForm\" user=\"user\"></resources>\n </div>\n <div id=\"attribute\" class=\"form-group row\">"},{"sha":"3a99ffad1226eef78d3e33a46cc79353b0ba1170","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-virtual-schemas.html","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-virtual-schemas.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-virtual-schemas.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-virtual-schemas.html?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -25,10 +25,10 @@\n       <div class=\"col-md-7\">{{attribute.validationMessage| translate }}</div>\n     </div>-->\n <!--</div>-->\n-<div class=\"form-group row\">\n+<div id=\"attribute\" class=\"form-group row\">\n   <navigation-buttons ng-show=\"createMode\" next=\"create.groups\" previous=\"create.derivedSchemas\"></navigation-buttons>\n   <navigation-buttons ng-show=\"!createMode\" next=\"update.groups\" previous=\"update.derivedSchemas\"></navigation-buttons>\n-  <div class=\"col-xs-6 col-xs-offset-3\">\n+  <div class=\"pull-left\">\n     <a id=\"cancel\" href=\"#/self\" class=\"btn btn-danger\">Cancel</a>\n   </div>\n </div>"},{"sha":"984674487327b8c3d07567e8a59574542d18297d","filename":"pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a1c3ed3acfaf44603eb8d6311099ee5c9161b859/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=a1c3ed3acfaf44603eb8d6311099ee5c9161b859","patch":"@@ -401,7 +401,7 @@ under the License.\n     <angular-cookies.version>1.4.8</angular-cookies.version>\n     <angular-animate.version>1.4.8</angular-animate.version>\n     <angular-ui-router.version>0.2.15</angular-ui-router.version>\n-    <angular-ui-bootstrap.version>0.14.0</angular-ui-bootstrap.version>\n+    <angular-ui-bootstrap.version>1.0.3</angular-ui-bootstrap.version>\n     <angular-ui-select.version>0.13.1</angular-ui-select.version>\n     <angular-sanitize.version>1.4.8</angular-sanitize.version>\n     <kendo-ui-core.version>2014.2.716</kendo-ui-core.version>"}]}
{"sha":"a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmE5YWE4MzU0NzlkYWU2Y2JhZmIwY2E3ZTlkYjFlOTg3ZDdjNThkOGE=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2011-08-16T15:39:06Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2011-08-16T15:39:06Z"},"message":"Fixes issue 131\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247081 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"2dc532dc332e697a889c1295628db12042d12049","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/2dc532dc332e697a889c1295628db12042d12049"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/comments","author":null,"committer":null,"parents":[{"sha":"f72f86d6768346fdcd15c3910534067d1309fbbc","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f72f86d6768346fdcd15c3910534067d1309fbbc","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f72f86d6768346fdcd15c3910534067d1309fbbc"}],"stats":{"total":755,"additions":704,"deletions":51},"files":[{"sha":"7d23faa6f11ae4c22c482720e4067fa9a2e8d579","filename":"archetype/src/main/resources/archetype-resources/core/src/test/resources/content.xml","status":"modified","additions":337,"deletions":6,"changes":343,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcore%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcore%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcore%2Fsrc%2Ftest%2Fresources%2Fcontent.xml?ref=a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","patch":"@@ -34,7 +34,7 @@\n     <hibernate_sequences sequence_name=\"SEQ_JPAHistoryStep\" sequence_next_hi_value=\"10\"/>\n     <hibernate_sequences sequence_name=\"SEQ_JPAPropertySetItem\" sequence_next_hi_value=\"10\"/>\n     <hibernate_sequences sequence_name=\"SEQ_JPAWorkflowEntry\" sequence_next_hi_value=\"10\"/>\n-\n+    \n     <SyncopeConf key=\"token.length\" value=\"256\"/>\n     <SyncopeConf key=\"token.expireTime\" value=\"60\"/>\n     <SyncopeConf key=\"token.encryption.key\" value=\"1abcdefghil3mnopqrstuvz2\"/>\n@@ -43,24 +43,336 @@\n     <SyncopeConf key=\"optin.email.subject\" value=\"Welcome to Syncope!\"/>\n     <SyncopeConf key=\"connid.bundles.directory\" value=\"${bundles.directory}\"/>\n     <SyncopeConf key=\"password.cipher.algorithm\" value=\"MD5\"/>\n+                          \n+    <SyncopeUser id=\"1\" workflowId=\"0\" password=\"5f4dcc3b5aa765d61d8327deb882cf99\" cipherAlgorithm=\"MD5\"/>\n+    <SyncopeUser id=\"2\" workflowId=\"0\" password=\"5f4dcc3b5aa765d61d8327deb882cf99\" cipherAlgorithm=\"MD5\"/>\n+    <SyncopeUser id=\"3\" workflowId=\"0\" password=\"5f4dcc3b5aa765d61d8327deb882cf99\" cipherAlgorithm=\"MD5\"/>\n+    <SyncopeUser id=\"4\" workflowId=\"0\" password=\"5f4dcc3b5aa765d61d8327deb882cf99\" cipherAlgorithm=\"MD5\"/>\n+\n+    <SyncopeRole id=\"1\" name=\"root\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\" inheritVirtualAttributes=\"0\"/>\n+    <SyncopeRole id=\"2\" name=\"child\" parent_id=\"1\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\" inheritVirtualAttributes=\"0\"/>\n+    <SyncopeRole id=\"3\" name=\"citizen\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\" inheritVirtualAttributes=\"0\"/>\n+    <SyncopeRole id=\"4\" name=\"employee\" parent_id=\"3\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\" inheritVirtualAttributes=\"0\"/>\n+    <SyncopeRole id=\"5\" name=\"secretary\" parent_id=\"4\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\" inheritVirtualAttributes=\"0\"/>\n+    <SyncopeRole id=\"6\" name=\"director\" parent_id=\"4\" inheritAttributes=\"1\" inheritDerivedAttributes=\"1\" inheritVirtualAttributes=\"1\"/>\n+    <SyncopeRole id=\"7\" name=\"managingDirector\" parent_id=\"6\" inheritAttributes=\"1\" inheritDerivedAttributes=\"1\" inheritVirtualAttributes=\"1\"/>\n+    <SyncopeRole id=\"8\" name=\"otherchild\" parent_id=\"1\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\" inheritVirtualAttributes=\"1\"/>\n \n+    <Membership id=\"1\" syncopeUser_id=\"1\" syncopeRole_id=\"1\"/>\n+    <Membership id=\"2\" syncopeUser_id=\"2\" syncopeRole_id=\"1\"/>\n+    <Membership id=\"3\" syncopeUser_id=\"2\" syncopeRole_id=\"2\"/>\n+    <Membership id=\"4\" syncopeUser_id=\"4\" syncopeRole_id=\"7\"/>\n+    <Membership id=\"5\" syncopeUser_id=\"1\" syncopeRole_id=\"8\"/>\n+    <Membership id=\"6\" syncopeUser_id=\"2\" syncopeRole_id=\"3\"/>\n+\n+    <USchema name=\"username\" type=\"String\"\n+                mandatoryCondition=\"true\" multivalue=\"0\" uniqueConstraint=\"1\" readonly=\"0\"/>\n+    <USchema name=\"userId\" type=\"String\"\n+                mandatoryCondition=\"true\" multivalue=\"0\" uniqueConstraint=\"1\" readonly=\"0\"\n+                validatorClass=\"org.syncope.core.persistence.validation.attrvalue.EmailAddressValidator\"/>\n+    <USchema name=\"loginDate\" type=\"Date\"\n+                mandatoryCondition=\"false\" multivalue=\"1\" uniqueConstraint=\"0\" readonly=\"0\"\n+                conversionPattern=\"yyyy-MM-dd\"/>\n+    <USchema name=\"firstname\" type=\"String\"\n+                mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n     <USchema name=\"surname\" type=\"String\"\n                 mandatoryCondition=\"true\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n-    <USchema name=\"firstname\" type=\"String\"\n+    <USchema name=\"type\" type=\"String\"\n                 mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n     <USchema name=\"email\" type=\"String\"\n-                mandatoryCondition=\"false\" multivalue=\"1\" uniqueConstraint=\"0\" readonly=\"0\"\n+                mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"\n                 validatorClass=\"org.syncope.core.persistence.validation.attrvalue.EmailAddressValidator\"/>\n-               \n-    <UDerSchema name=\"username\" expression=\"firstname + '.' + surname\"/>\n+    <USchema name=\"activationDate\" type=\"Date\"\n+                mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"\n+                conversionPattern=\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\"/>\n+    <USchema name=\"uselessReadonly\" type=\"String\"\n+                mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"1\"/>\n+    <USchema name=\"cool\" type=\"Boolean\"\n+                mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n+    <USchema name=\"gender\" type=\"Enum\"\n+                mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"\n+                enumerationValues=\"M;F\"/>\n \n-    <SyncopeRole id=\"0\" name=\"/\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\" inheritVirtualAttributes=\"0\"/>\n+    <RSchema name=\"icon\" type=\"String\"\n+                mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n+                \n+    <RSchema name=\"show\" type=\"Boolean\"\n+                mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n+\n+    <RSchema name=\"rderived_sx\" type=\"String\"\n+                      mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n+\n+    <RSchema name=\"rderived_dx\" type=\"String\"\n+                      mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n \n     <MSchema name=\"subscriptionDate\" type=\"Date\"\n                       mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"\n                       conversionPattern=\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\"/>\n \n+    <MSchema name=\"mderived_sx\" type=\"String\"\n+                      mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n+\n+    <MSchema name=\"mderived_dx\" type=\"String\"\n+                      mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n+\n+    <UAttr id=\"100\" owner_id=\"1\" schema_name=\"username\"/>\n+    <UAttrUniqueValue id=\"10\" attribute_id=\"100\" schema_name=\"username\" stringValue=\"chicchiricco\"/>\n+    <UAttr id=\"200\" owner_id=\"1\" schema_name=\"loginDate\"/>\n+    <UAttrValue attribute_id=\"200\" id=\"20\" dateValue=\"2009-05-26\"/>\n+    <UAttrValue attribute_id=\"200\" id=\"21\" dateValue=\"2010-05-26 15:40:04\"/>\n+\n+    <UAttr id=\"300\" owner_id=\"2\" schema_name=\"username\"/>\n+    <UAttrUniqueValue id=\"11\" attribute_id=\"300\" schema_name=\"username\" stringValue=\"fabio.martelli\"/>\n+\n+    <UAttr id=\"400\" owner_id=\"3\" schema_name=\"firstname\"/>\n+    <UAttrValue attribute_id=\"400\" id=\"30\" stringValue=\"John\"/>\n+    <UAttr id=\"500\" owner_id=\"3\" schema_name=\"surname\"/>\n+    <UAttrValue attribute_id=\"500\" id=\"31\" stringValue=\"Doe\"/>\n+    <UAttr id=\"540\" owner_id=\"3\" schema_name=\"username\"/>\n+    <UAttrUniqueValue id=\"12\" attribute_id=\"540\" schema_name=\"username\" stringValue=\"test1\"/>\n+\n+    <UAttr id=\"550\" owner_id=\"4\" schema_name=\"loginDate\"/>\n+    <UAttrValue attribute_id=\"550\" id=\"22\" dateValue=\"2009-06-24\"/>\n+    <UAttr id=\"560\" owner_id=\"4\" schema_name=\"cool\"/>\n+    <UAttrValue attribute_id=\"560\" id=\"23\" booleanValue=\"1\"/>\n+    <UAttr id=\"561\" owner_id=\"4\" schema_name=\"gender\"/>\n+    <UAttrValue attribute_id=\"561\" id=\"24\" stringValue=\"M\"/>\n+    \n+    <RAttr id=\"600\" owner_id=\"1\" schema_name=\"icon\"/>\n+    <RAttr id=\"700\" owner_id=\"2\" schema_name=\"icon\"/>\n+    <RAttr id=\"800\" owner_id=\"1\" schema_name=\"show\"/>\n+    <RAttr id=\"900\" owner_id=\"6\" schema_name=\"icon\"/>\n+    <RAttr id=\"950\" owner_id=\"4\" schema_name=\"icon\"/>\n+\n+    <RAttrValue attribute_id=\"600\" id=\"40\" stringValue=\"niceIcon\"/>\n+    <RAttrValue attribute_id=\"700\" id=\"41\" stringValue=\"badIcon\"/>\n+    <RAttrValue attribute_id=\"800\" id=\"42\" booleanValue=\"1\"/>\n+    <RAttrValue attribute_id=\"900\" id=\"43\" stringValue=\"icon6\"/>\n+    <RAttrValue attribute_id=\"950\" id=\"44\" stringValue=\"icon4\"/>\n+\n+    <RAttr id=\"1002\" owner_id=\"1\" schema_name=\"rderived_sx\"/>\n+    <RAttrValue attribute_id=\"1002\" id=\"92\" stringValue=\"sx\"/>\n+\n+    <RAttr id=\"1003\" owner_id=\"1\" schema_name=\"rderived_dx\"/>\n+    <RAttrValue attribute_id=\"1003\" id=\"93\" stringValue=\"dx\"/>\n+\n+    <RDerSchema name=\"rderiveddata\" expression=\"rderived_sx + '-' + rderived_dx\"/>\n+    <RDerAttr id=\"1000\" derivedSchema_name=\"rderiveddata\" owner_id=\"1\"/>\n+\n+    <!-- rderiveddata is used th verify der schema deletion -->\n+    <RDerSchema name=\"rderivedschema\" expression=\"rderived_sx + '-' + rderived_dx\"/>\n+\n+    <MAttr id=\"1000\" owner_id=\"4\" schema_name=\"subscriptionDate\"/>\n+\n+    <MAttrValue attribute_id=\"1000\" id=\"90\" dateValue=\"2009-05-26\"/>\n+    <MAttrValue attribute_id=\"1000\" id=\"91\" dateValue=\"2010-05-26 15:40:04\"/>\n+\n+    <MAttr id=\"1002\" owner_id=\"1\" schema_name=\"mderived_sx\"/>\n+    <MAttrValue attribute_id=\"1002\" id=\"92\" stringValue=\"sx\"/>\n+\n+    <MAttr id=\"1003\" owner_id=\"1\" schema_name=\"mderived_dx\"/>\n+    <MAttrValue attribute_id=\"1003\" id=\"93\" stringValue=\"dx\"/>\n+\n+    <MDerSchema name=\"mderiveddata\" expression=\"mderived_sx + '-' + mderived_dx\"/>\n+    <MDerAttr id=\"1000\" derivedSchema_name=\"mderiveddata\" owner_id=\"1\"/>\n+\n+    <UVirSchema name=\"virtualdata\"/>\n+    <UVirAttr id=\"1000\" virtualSchema_name=\"virtualdata\" owner_id=\"3\"/>\n+\n+    <UDerSchema name=\"cn\" expression=\"surname + ', ' + firstname\"/>\n+    <UDerAttr id=\"1000\" derivedSchema_name=\"cn\" owner_id=\"3\"/>\n+\n+    <UDerSchema name=\"noschema\" expression=\"surname + ', ' + notfound\"/>\n+\n+    <MVirSchema name=\"mvirtualdata\"/>\n+    <RVirSchema name=\"rvirtualdata\"/>\n+    <RVirAttr id=\"1000\" virtualSchema_name=\"rvirtualdata\" owner_id=\"4\"/>\n+\n+    <ConnInstance id=\"100\" displayName=\"ConnInstance100\"\n+                       bundleName=\"org.connid.bundles.soap\"\n+                       connectorName=\"org.connid.bundles.soap.WebServiceConnector\"\n+                       version=\"${connid.soap.version}\"\n+\t\t       xmlConfiguration=\"%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22%3F%3E+%0A%3Cjava+version%3D%221.6.0_24%22+class%3D%22java.beans.XMLDecoder%22%3E+%0A+%3Cobject+class%3D%22java.util.HashSet%22%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3Eendpoint%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22required%22%3E+%0A+++++++%3Cboolean%3Etrue%3C%2Fboolean%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Ejava.lang.String%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3Ehttp%3A%2F%2Flocalhost%3A9080%2Fwssample%2Fservices%2Fprovisioning%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3Eservicename%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22required%22%3E+%0A+++++++%3Cboolean%3Etrue%3C%2Fboolean%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Ejava.lang.String%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3Eorg.connid.bundles.soap.provisioning.interfaces.Provisioning%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A+%3C%2Fobject%3E+%0A%3C%2Fjava%3E+%0A\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"100\" capabilities=\"SYNC_CREATE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"100\" capabilities=\"SYNC_UPDATE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"100\" capabilities=\"SYNC_DELETE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"100\" capabilities=\"ASYNC_CREATE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"100\" capabilities=\"ASYNC_UPDATE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"100\" capabilities=\"ASYNC_DELETE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"100\" capabilities=\"RESOLVE\"/>\n+\n+    <ConnInstance id=\"101\" displayName=\"ConnInstance101\"\n+                       bundleName=\"org.connid.bundles.db.table\"\n+                       connectorName=\"org.identityconnectors.databasetable.DatabaseTableConnector\"\n+                       version=\"${connid.db.table.version}\"\n+                       xmlConfiguration=\"%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%20%0A%3Cjava%20version%3D%221.6.0_24%22%20class%3D%22java.beans.XMLDecoder%22%3E%20%0A%20%3Cobject%20class%3D%22java.util.HashSet%22%3E%20%0A%20%20%3Cvoid%20method%3D%22add%22%3E%20%0A%20%20%20%3Cobject%20class%3D%22org.syncope.types.ConnConfProperty%22%3E%20%0A%20%20%20%20%3Cvoid%20property%3D%22schema%22%3E%20%0A%20%20%20%20%20%3Cobject%20class%3D%22org.syncope.types.ConnConfPropSchema%22%3E%20%0A%20%20%20%20%20%20%3Cvoid%20property%3D%22name%22%3E%20%0A%20%20%20%20%20%20%20%3Cstring%3Epassword%3C%2Fstring%3E%20%0A%20%20%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%20%20%3Cvoid%20property%3D%22type%22%3E%20%0A%20%20%20%20%20%20%20%3Cstring%3Eorg.identityconnectors.common.security.GuardedString%3C%2Fstring%3E%20%0A%20%20%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%20%3C%2Fobject%3E%20%0A%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%3Cvoid%20property%3D%22value%22%3E%20%0A%20%20%20%20%20%3Cstring%3Esa%3C%2Fstring%3E%20%0A%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%3C%2Fobject%3E%20%0A%20%20%3C%2Fvoid%3E%20%0A%20%20%3Cvoid%20method%3D%22add%22%3E%20%0A%20%20%20%3Cobject%20class%3D%22org.syncope.types.ConnConfProperty%22%3E%20%0A%20%20%20%20%3Cvoid%20property%3D%22schema%22%3E%20%0A%20%20%20%20%20%3Cobject%20class%3D%22org.syncope.types.ConnConfPropSchema%22%3E%20%0A%20%20%20%20%20%20%3Cvoid%20property%3D%22name%22%3E%20%0A%20%20%20%20%20%20%20%3Cstring%3EjdbcDriver%3C%2Fstring%3E%20%0A%20%20%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%20%20%3Cvoid%20property%3D%22type%22%3E%20%0A%20%20%20%20%20%20%20%3Cstring%3Ejava.lang.String%3C%2Fstring%3E%20%0A%20%20%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%20%3C%2Fobject%3E%20%0A%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%3Cvoid%20property%3D%22value%22%3E%20%0A%20%20%20%20%20%3Cstring%3Eorg.hsqldb.jdbcDriver%3C%2Fstring%3E%20%0A%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%3C%2Fobject%3E%20%0A%20%20%3C%2Fvoid%3E%20%0A%20%20%3Cvoid%20method%3D%22add%22%3E%20%0A%20%20%20%3Cobject%20class%3D%22org.syncope.types.ConnConfProperty%22%3E%20%0A%20%20%20%20%3Cvoid%20property%3D%22schema%22%3E%20%0A%20%20%20%20%20%3Cobject%20class%3D%22org.syncope.types.ConnConfPropSchema%22%3E%20%0A%20%20%20%20%20%20%3Cvoid%20property%3D%22name%22%3E%20%0A%20%20%20%20%20%20%20%3Cstring%3Etable%3C%2Fstring%3E%20%0A%20%20%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%20%20%3Cvoid%20property%3D%22required%22%3E%20%0A%20%20%20%20%20%20%20%3Cboolean%3Etrue%3C%2Fboolean%3E%20%0A%20%20%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%20%20%3Cvoid%20property%3D%22type%22%3E%20%0A%20%20%20%20%20%20%20%3Cstring%3Ejava.lang.String%3C%2Fstring%3E%20%0A%20%20%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%20%3C%2Fobject%3E%20%0A%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%3Cvoid%20property%3D%22value%22%3E%20%0A%20%20%20%20%20%3Cstring%3Etest%3C%2Fstring%3E%20%0A%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%3C%2Fobject%3E%20%0A%20%20%3C%2Fvoid%3E%20%0A%20%20%3Cvoid%20method%3D%22add%22%3E%20%0A%20%20%20%3Cobject%20class%3D%22org.syncope.types.ConnConfProperty%22%3E%20%0A%20%20%20%20%3Cvoid%20property%3D%22schema%22%3E%20%0A%20%20%20%20%20%3Cobject%20class%3D%22org.syncope.types.ConnConfPropSchema%22%3E%20%0A%20%20%20%20%20%20%3Cvoid%20property%3D%22name%22%3E%20%0A%20%20%20%20%20%20%20%3Cstring%3EpasswordColumn%3C%2Fstring%3E%20%0A%20%20%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%20%20%3Cvoid%20property%3D%22type%22%3E%20%0A%20%20%20%20%20%20%20%3Cstring%3Ejava.lang.String%3C%2Fstring%3E%20%0A%20%20%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%20%3C%2Fobject%3E%20%0A%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%3Cvoid%20property%3D%22value%22%3E%20%0A%20%20%20%20%20%3Cstring%3Epassword%3C%2Fstring%3E%20%0A%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%3C%2Fobject%3E%20%0A%20%20%3C%2Fvoid%3E%20%0A%20%20%3Cvoid%20method%3D%22add%22%3E%20%0A%20%20%20%3Cobject%20class%3D%22org.syncope.types.ConnConfProperty%22%3E%20%0A%20%20%20%20%3Cvoid%20property%3D%22schema%22%3E%20%0A%20%20%20%20%20%3Cobject%20class%3D%22org.syncope.types.ConnConfPropSchema%22%3E%20%0A%20%20%20%20%20%20%3Cvoid%20property%3D%22name%22%3E%20%0A%20%20%20%20%20%20%20%3Cstring%3Euser%3C%2Fstring%3E%20%0A%20%20%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%20%20%3Cvoid%20property%3D%22type%22%3E%20%0A%20%20%20%20%20%20%20%3Cstring%3Ejava.lang.String%3C%2Fstring%3E%20%0A%20%20%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%20%3C%2Fobject%3E%20%0A%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%3Cvoid%20property%3D%22value%22%3E%20%0A%20%20%20%20%20%3Cstring%3Esa%3C%2Fstring%3E%20%0A%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%3C%2Fobject%3E%20%0A%20%20%3C%2Fvoid%3E%20%0A%20%20%3Cvoid%20method%3D%22add%22%3E%20%0A%20%20%20%3Cobject%20class%3D%22org.syncope.types.ConnConfProperty%22%3E%20%0A%20%20%20%20%3Cvoid%20property%3D%22schema%22%3E%20%0A%20%20%20%20%20%3Cobject%20class%3D%22org.syncope.types.ConnConfPropSchema%22%3E%20%0A%20%20%20%20%20%20%3Cvoid%20property%3D%22name%22%3E%20%0A%20%20%20%20%20%20%20%3Cstring%3EkeyColumn%3C%2Fstring%3E%20%0A%20%20%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%20%20%3Cvoid%20property%3D%22required%22%3E%20%0A%20%20%20%20%20%20%20%3Cboolean%3Etrue%3C%2Fboolean%3E%20%0A%20%20%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%20%20%3Cvoid%20property%3D%22type%22%3E%20%0A%20%20%20%20%20%20%20%3Cstring%3Ejava.lang.String%3C%2Fstring%3E%20%0A%20%20%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%20%3C%2Fobject%3E%20%0A%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%3Cvoid%20property%3D%22value%22%3E%20%0A%20%20%20%20%20%3Cstring%3Eid%3C%2Fstring%3E%20%0A%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%3C%2Fobject%3E%20%0A%20%20%3C%2Fvoid%3E%20%0A%20%20%3Cvoid%20method%3D%22add%22%3E%20%0A%20%20%20%3Cobject%20class%3D%22org.syncope.types.ConnConfProperty%22%3E%20%0A%20%20%20%20%3Cvoid%20property%3D%22schema%22%3E%20%0A%20%20%20%20%20%3Cobject%20class%3D%22org.syncope.types.ConnConfPropSchema%22%3E%20%0A%20%20%20%20%20%20%3Cvoid%20property%3D%22name%22%3E%20%0A%20%20%20%20%20%20%20%3Cstring%3EjdbcUrlTemplate%3C%2Fstring%3E%20%0A%20%20%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%20%20%3Cvoid%20property%3D%22type%22%3E%20%0A%20%20%20%20%20%20%20%3Cstring%3Ejava.lang.String%3C%2Fstring%3E%20%0A%20%20%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%20%3C%2Fobject%3E%20%0A%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%20%3Cvoid%20property%3D%22value%22%3E%20%0A%20%20%20%20%20%3Cstring%3Ejdbc%3Ahsqldb%3Ahsql%3A%2F%2Flocalhost%3A9001%2Ftestdb%3C%2Fstring%3E%20%0A%20%20%20%20%3C%2Fvoid%3E%20%0A%20%20%20%3C%2Fobject%3E%20%0A%20%20%3C%2Fvoid%3E%20%0A%20%3C%2Fobject%3E%20%0A%3C%2Fjava%3E%20%0A\"/>   \n+    <ConnInstance_capabilities ConnInstance_id=\"101\" capabilities=\"SYNC_CREATE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"101\" capabilities=\"SYNC_UPDATE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"101\" capabilities=\"SYNC_DELETE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"101\" capabilities=\"ASYNC_CREATE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"101\" capabilities=\"ASYNC_UPDATE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"101\" capabilities=\"ASYNC_DELETE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"101\" capabilities=\"RESOLVE\"/>\n+\n+    <ConnInstance id=\"102\" displayName=\"ConnInstance102\"\n+                       bundleName=\"org.connid.bundles.soap\"\n+                       connectorName=\"org.connid.bundles.soap.WebServiceConnector\"\n+                       version=\"${connid.soap.version}\"\n+\t\t       xmlConfiguration=\"%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22%3F%3E+%0A%3Cjava+version%3D%221.6.0_24%22+class%3D%22java.beans.XMLDecoder%22%3E+%0A+%3Cobject+class%3D%22java.util.HashSet%22%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3Eendpoint%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22required%22%3E+%0A+++++++%3Cboolean%3Etrue%3C%2Fboolean%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Ejava.lang.String%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3Ehttp%3A%2F%2Flocalhost%3A9080%2Fwssample%2Fservices%2Fprovisioning%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3Eservicename%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22required%22%3E+%0A+++++++%3Cboolean%3Etrue%3C%2Fboolean%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Ejava.lang.String%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3Eorg.connid.bundles.soap.provisioning.interfaces.Provisioning%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A+%3C%2Fobject%3E+%0A%3C%2Fjava%3E+%0A\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"102\" capabilities=\"SYNC_CREATE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"102\" capabilities=\"SYNC_UPDATE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"102\" capabilities=\"SYNC_DELETE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"102\" capabilities=\"ASYNC_CREATE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"102\" capabilities=\"ASYNC_UPDATE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"102\" capabilities=\"ASYNC_DELETE\"/>\n+    <ConnInstance_capabilities ConnInstance_id=\"102\" capabilities=\"RESOLVE\"/>\n+\n+    <ConnInstance id=\"103\" displayName=\"ConnInstance103\"\n+                       bundleName=\"org.connid.bundles.soap\"\n+                       connectorName=\"org.connid.bundles.soap.WebServiceConnector\"\n+                       version=\"${connid.soap.version}\"\n+\t\t       xmlConfiguration=\"%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22%3F%3E+%0A%3Cjava+version%3D%221.6.0_24%22+class%3D%22java.beans.XMLDecoder%22%3E+%0A+%3Cobject+class%3D%22java.util.HashSet%22%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3Eendpoint%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22required%22%3E+%0A+++++++%3Cboolean%3Etrue%3C%2Fboolean%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Ejava.lang.String%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3Ehttp%3A%2F%2Flocalhost%3A9080%2Fwssample%2Fservices%2Fprovisioning%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3Eservicename%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22required%22%3E+%0A+++++++%3Cboolean%3Etrue%3C%2Fboolean%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Ejava.lang.String%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3Eorg.connid.bundles.soap.provisioning.interfaces.Provisioning%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A+%3C%2Fobject%3E+%0A%3C%2Fjava%3E+%0A\"/>\n+\n+    <TargetResource name=\"ws-target-resource-1\" connector_id=\"100\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"\n+                       createsTrackingMode=\"ALL\" deletesTrackingMode=\"ALL\" updatesTrackingMode=\"ALL\"/>\n+    <TargetResource name=\"ws-target-resource-2\" connector_id=\"100\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"\n+                       createsTrackingMode=\"FAILURES\" deletesTrackingMode=\"NONE\" updatesTrackingMode=\"ALL\"/>\n+    <TargetResource name=\"ws-target-resource-list-mappings-1\" connector_id=\"100\" forceMandatoryConstraint=\"0\" optionalPropagationMode=\"ASYNC\"\n+                       createsTrackingMode=\"ALL\" deletesTrackingMode=\"ALL\" updatesTrackingMode=\"ALL\"/>\n+    <TargetResource name=\"ws-target-resource-list-mappings-2\" connector_id=\"100\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"\n+                       createsTrackingMode=\"ALL\" deletesTrackingMode=\"ALL\" updatesTrackingMode=\"ALL\"/>\n+    <TargetResource name=\"ws-target-resource-delete\" connector_id=\"102\" forceMandatoryConstraint=\"0\" optionalPropagationMode=\"ASYNC\"\n+                       createsTrackingMode=\"ALL\" deletesTrackingMode=\"ALL\" updatesTrackingMode=\"ALL\"/>\n+    <TargetResource name=\"ws-target-resource-update\" connector_id=\"100\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"\n+                       createsTrackingMode=\"ALL\" deletesTrackingMode=\"ALL\" updatesTrackingMode=\"ALL\"/>\n+    <TargetResource name=\"ws-target-resource-nopropagation\" connector_id=\"103\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"\n+                       createsTrackingMode=\"ALL\" deletesTrackingMode=\"ALL\" updatesTrackingMode=\"ALL\"/>\n+    <TargetResource name=\"ws-target-resource-testdb\" connector_id=\"101\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"SYNC\"\n+                       createsTrackingMode=\"ALL\" deletesTrackingMode=\"ALL\" updatesTrackingMode=\"ALL\"/>\n+\n+    <SyncopeUser_TargetResource users_id=\"3\" targetResources_name=\"ws-target-resource-delete\" />\n+    <SyncopeRole_TargetResource roles_id=\"3\" targetResources_name=\"ws-target-resource-list-mappings-1\" />\n+    <SyncopeUser_TargetResource users_id=\"3\" targetResources_name=\"ws-target-resource-2\" />\n+    <SyncopeRole_TargetResource roles_id=\"8\" targetResources_name=\"ws-target-resource-2\" />\n+    <SyncopeRole_TargetResource roles_id=\"3\" targetResources_name=\"ws-target-resource-list-mappings-2\" />\n+    <SyncopeUser_TargetResource users_id=\"3\" targetResources_name=\"ws-target-resource-1\" />\n+\n+    <SchemaMapping id=\"99\" destAttrName=\"userid\"\n+                   resource_name=\"ws-target-resource-1\"\n+                   sourceAttrName=\"SyncopeUserId\" sourceMappingType=\"SyncopeUserId\" mandatoryCondition=\"true\"\n+                   accountid=\"1\" password=\"0\"/>\n+\n+    <SchemaMapping id=\"100\" destAttrName=\"email\"\n+                   resource_name=\"ws-target-resource-1\"\n+                   sourceAttrName=\"email\" sourceMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n+                   accountid=\"0\" password=\"0\"/>\n+\n+    <SchemaMapping id=\"101\" destAttrName=\"userId\"\n+                   resource_name=\"ws-target-resource-2\"\n+                   sourceAttrName=\"username\" sourceMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n+                   accountid=\"1\" password=\"0\"/>\n+\n+    <SchemaMapping id=\"102\" destAttrName=\"email\"\n+                   resource_name=\"ws-target-resource-list-mappings-1\"\n+                   sourceAttrName=\"email\" sourceMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n+                   accountid=\"1\" password=\"0\"/>\n+\n+    <SchemaMapping id=\"103\" destAttrName=\"surname\"\n+                   resource_name=\"ws-target-resource-list-mappings-1\"\n+                   sourceAttrName=\"surname\" sourceMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n+                   accountid=\"0\" password=\"0\"/>\n+\n+    <SchemaMapping id=\"104\" destAttrName=\"userid\"\n+                   resource_name=\"ws-target-resource-list-mappings-2\"\n+                   sourceAttrName=\"userId\" sourceMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n+                   accountid=\"1\" password=\"0\"/>\n+\n+    <SchemaMapping id=\"105\" destAttrName=\"surname\"\n+                   resource_name=\"ws-target-resource-1\"\n+                   sourceAttrName=\"surname\" sourceMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n+                   accountid=\"0\" password=\"0\"/>\n+\n+    <SchemaMapping id=\"106\" destAttrName=\"password\"\n+                   resource_name=\"ws-target-resource-1\"\n+                   sourceAttrName=\"Password\" sourceMappingType=\"Password\" mandatoryCondition=\"true\"\n+                   accountid=\"0\" password=\"1\"/>\n+\n+    <SchemaMapping id=\"107\" destAttrName=\"password\"\n+                   resource_name=\"ws-target-resource-2\"\n+                   sourceAttrName=\"Password\" sourceMappingType=\"Password\" mandatoryCondition=\"true\"\n+                   accountid=\"0\" password=\"1\"/>\n+\n+    <SchemaMapping id=\"108\" destAttrName=\"type\"\n+                   resource_name=\"ws-target-resource-2\"\n+                   sourceAttrName=\"type\" sourceMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n+                   accountid=\"0\" password=\"0\"/>\n+\n+    <SchemaMapping id=\"109\" destAttrName=\"surname\"\n+                   resource_name=\"ws-target-resource-2\"\n+                   sourceAttrName=\"surname\" sourceMappingType=\"UserSchema\" mandatoryCondition=\"type == 'F'\"\n+                   accountid=\"0\" password=\"0\"/>\n+\n+    <SchemaMapping id=\"110\" destAttrName=\"email\"\n+                   resource_name=\"ws-target-resource-update\"\n+                   sourceAttrName=\"email\" sourceMappingType=\"UserSchema\" mandatoryCondition=\"false\"\n+                   accountid=\"0\" password=\"0\"/>\n+\n+    <SchemaMapping id=\"111\" destAttrName=\"userId\"\n+                   resource_name=\"ws-target-resource-update\"\n+                   sourceAttrName=\"userId\" sourceMappingType=\"UserSchema\" mandatoryCondition=\"false\"\n+                   accountid=\"0\" password=\"0\"/>\n+    \n+    <SchemaMapping id=\"112\" destAttrName=\"test3\"\n+                   resource_name=\"ws-target-resource-update\"\n+                   sourceAttrName=\"username\" sourceMappingType=\"UserSchema\" mandatoryCondition=\"false\"\n+                   accountid=\"0\" password=\"0\"/>\n+\n+    <SchemaMapping id=\"113\" destAttrName=\"name\"\n+                   resource_name=\"ws-target-resource-2\"\n+                   sourceAttrName=\"virtualdata\" sourceMappingType=\"UserVirtualSchema\" mandatoryCondition=\"type == 'F'\"\n+                   accountid=\"0\" password=\"0\"/>\n+\n+    <SchemaMapping id=\"114\" destAttrName=\"fullname\"\n+                   resource_name=\"ws-target-resource-2\"\n+                   sourceAttrName=\"cn\" sourceMappingType=\"UserDerivedSchema\" mandatoryCondition=\"true\"\n+                   accountid=\"0\" password=\"0\"/>\n+\n+    <SchemaMapping id=\"115\" destAttrName=\"name\"\n+                   resource_name=\"ws-target-resource-nopropagation\"\n+                   sourceAttrName=\"firstname\" sourceMappingType=\"UserSchema\" mandatoryCondition=\"true\"\n+                   accountid=\"1\" password=\"0\"/>\n+                   \n+    <SchemaMapping id=\"116\" destAttrName=\"id\"\n+                   resource_name=\"ws-target-resource-testdb\"\n+                   sourceAttrName=\"SyncopeUserId\" sourceMappingType=\"SyncopeUserId\" mandatoryCondition=\"true\"\n+                   accountid=\"1\" password=\"0\"/>\n+                   \n+    <SchemaMapping id=\"117\" destAttrName=\"password\"\n+                   resource_name=\"ws-target-resource-testdb\"\n+                   sourceAttrName=\"Password\" sourceMappingType=\"Password\" mandatoryCondition=\"true\"\n+                   accountid=\"0\" password=\"1\"/>\n+\n+    <Task DTYPE=\"PropagationTask\" id=\"1\" propagationMode=\"ASYNC\" resourceOperationType=\"UPDATE\"\n+                 resource_name=\"ws-target-resource-2\"\n+                 xmlAttributes=\"%3Cset%3E%0A++%3Corg.identityconnectors.framework.common.objects.Name%3E%0A++++%3Cname%3E__NAME__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3EuserId%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Name%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3E__PASSWORD__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Corg.identityconnectors.common.security.GuardedString%3E%0A++++++++++%3C__readOnly%3Efalse%3C%2F__readOnly%3E%0A++++++++++%3C__disposed%3Efalse%3C%2F__disposed%3E%0A++++++++++%3C__encryptedBytes%3EQTOgwEhIHqtAI%2FYlgDhYc37esEF8VLDMU2IY1ciltrg%3D%3C%2F__encryptedBytes%3E%0A++++++++++%3C__base64SHA1Hash%3EW5%2FrwtdCnI8gAnIUhKcahMEnMMc%3D%3C%2F__base64SHA1Hash%3E%0A++++++++%3C%2Forg.identityconnectors.common.security.GuardedString%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Etype%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Etype%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Efullname%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Efullname%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A%3C%2Fset%3E%0A\"/>\n+    <TaskExec id=\"1\" task_id=\"1\" status=\"SUCCESS\"/>\n+    <Task DTYPE=\"PropagationTask\" id=\"2\" propagationMode=\"SYNC\" resourceOperationType=\"CREATE\"\n+                 resource_name=\"ws-target-resource-2\"\n+                 xmlAttributes=\"%3Cset%3E%0A++%3Corg.identityconnectors.framework.common.objects.Name%3E%0A++++%3Cname%3E__NAME__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3EuserId%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Name%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3E__PASSWORD__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Corg.identityconnectors.common.security.GuardedString%3E%0A++++++++++%3C__readOnly%3Efalse%3C%2F__readOnly%3E%0A++++++++++%3C__disposed%3Efalse%3C%2F__disposed%3E%0A++++++++++%3C__encryptedBytes%3EQTOgwEhIHqtAI%2FYlgDhYc37esEF8VLDMU2IY1ciltrg%3D%3C%2F__encryptedBytes%3E%0A++++++++++%3C__base64SHA1Hash%3EW5%2FrwtdCnI8gAnIUhKcahMEnMMc%3D%3C%2F__base64SHA1Hash%3E%0A++++++++%3C%2Forg.identityconnectors.common.security.GuardedString%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Etype%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Etype%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Efullname%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Efullname%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A%3C%2Fset%3E%0A\"/>\n+    <Task DTYPE=\"PropagationTask\" id=\"3\" propagationMode=\"ASYNC\" resourceOperationType=\"DELETE\"\n+                 resource_name=\"ws-target-resource-2\"\n+                 xmlAttributes=\"%3Cset%3E%0A++%3Corg.identityconnectors.framework.common.objects.Name%3E%0A++++%3Cname%3E__NAME__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3EuserId%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Name%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3E__PASSWORD__%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Corg.identityconnectors.common.security.GuardedString%3E%0A++++++++++%3C__readOnly%3Efalse%3C%2F__readOnly%3E%0A++++++++++%3C__disposed%3Efalse%3C%2F__disposed%3E%0A++++++++++%3C__encryptedBytes%3EQTOgwEhIHqtAI%2FYlgDhYc37esEF8VLDMU2IY1ciltrg%3D%3C%2F__encryptedBytes%3E%0A++++++++++%3C__base64SHA1Hash%3EW5%2FrwtdCnI8gAnIUhKcahMEnMMc%3D%3C%2F__base64SHA1Hash%3E%0A++++++++%3C%2Forg.identityconnectors.common.security.GuardedString%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A++%3Corg.identityconnectors.framework.common.objects.Attribute%3E%0A++++%3Cname%3Etype%3C%2Fname%3E%0A++++%3Cvalue+class%3D%22java.util.Collections%24UnmodifiableRandomAccessList%22+resolves-to%3D%22java.util.Collections%24UnmodifiableList%22%3E%0A++++++%3Cc+class%3D%22list%22%3E%0A++++++++%3Cstring%3Etype%3C%2Fstring%3E%0A++++++%3C%2Fc%3E%0A++++++%3Clist+reference%3D%22..%2Fc%22%2F%3E%0A++++%3C%2Fvalue%3E%0A++%3C%2Forg.identityconnectors.framework.common.objects.Attribute%3E%0A%3C%2Fset%3E\"/>\n+    <Task DTYPE=\"SyncTask\" id=\"4\" resource_name=\"ws-target-resource-2\" updateIdentities=\"1\" jobClassName=\"org.syncope.core.scheduling.SyncJob\" cronExpression=\"0 0 10 * * ?\"/>\n+    <Task DTYPE=\"SchedTask\" id=\"5\" jobClassName=\"org.syncope.core.scheduling.SampleJob\" cronExpression=\"0 0 0 1 * ?\"/>\n+\n+    <RDerSchema name=\"displayProperty\" expression=\"icon + ': ' + show\"/>\n+\n+    <RDerAttr id=\"1001\" derivedSchema_name=\"displayProperty\" owner_id=\"1\"/>\n+    <RDerAttr id=\"1002\" derivedSchema_name=\"displayProperty\" owner_id=\"4\"/>\n+\n     <!-- Authentication and authorization -->\n+    <Entitlement name=\"base\"/>\n+    <Entitlement name=\"advanced\" description=\"Advanced entitlement\"/>\n     <Entitlement name=\"SCHEMA_LIST\"/>\n     <Entitlement name=\"SCHEMA_CREATE\"/>\n     <Entitlement name=\"SCHEMA_READ\"/>\n@@ -101,5 +413,24 @@\n     <Entitlement name=\"TASK_DELETE\"/>\n     <Entitlement name=\"LOG_LIST\"/>\n     <Entitlement name=\"LOG_SET_LEVEL\"/>\n+    <Entitlement name=\"ROLE_1\"/>\n+    <Entitlement name=\"ROLE_2\"/>\n+    <Entitlement name=\"ROLE_3\"/>\n+    <Entitlement name=\"ROLE_4\"/>\n+    <Entitlement name=\"ROLE_5\"/>\n+    <Entitlement name=\"ROLE_6\"/>\n+    <Entitlement name=\"ROLE_7\"/>\n+    <Entitlement name=\"ROLE_8\"/>\n \n+    <SyncopeRole_Entitlement entitlements_name=\"base\" roles_id=\"1\"/>\n+    <SyncopeRole_Entitlement entitlements_name=\"advanced\" roles_id=\"1\"/>\n+    <SyncopeRole_Entitlement entitlements_name=\"base\" roles_id=\"2\"/>\n+    <SyncopeRole_Entitlement entitlements_name=\"SCHEMA_READ\" roles_id=\"8\"/>\n+    <SyncopeRole_Entitlement entitlements_name=\"ROLE_LIST\" roles_id=\"8\"/>\n+    <SyncopeRole_Entitlement entitlements_name=\"USER_READ\" roles_id=\"2\"/>\n+    <SyncopeRole_Entitlement entitlements_name=\"USER_LIST\" roles_id=\"2\"/>\n+    <SyncopeRole_Entitlement entitlements_name=\"USER_READ\" roles_id=\"7\"/>\n+    <SyncopeRole_Entitlement entitlements_name=\"USER_LIST\" roles_id=\"7\"/>\n+    <SyncopeRole_Entitlement entitlements_name=\"ROLE_8\" roles_id=\"7\"/>\n+    <SyncopeRole_Entitlement entitlements_name=\"ROLE_1\" roles_id=\"7\"/>\n </dataset>"},{"sha":"62d55f1503f4c64db974a1a55f161fbd470d745d","filename":"client/src/main/java/org/syncope/client/to/ResourceTO.java","status":"modified","additions":34,"deletions":0,"changes":34,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FResourceTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FResourceTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FResourceTO.java?ref=a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","patch":"@@ -18,6 +18,7 @@\n import java.util.List;\n import org.syncope.client.AbstractBaseBean;\n import org.syncope.types.PropagationMode;\n+import org.syncope.types.TrackingMode;\n \n public class ResourceTO extends AbstractBaseBean {\n \n@@ -48,9 +49,18 @@ public class ResourceTO extends AbstractBaseBean {\n      */\n     private boolean forceMandatoryConstraint;\n \n+    private TrackingMode createsTrackingMode;\n+\n+    private TrackingMode deletesTrackingMode;\n+\n+    private TrackingMode updatesTrackingMode;\n+\n     public ResourceTO() {\n         mappings = new ArrayList<SchemaMappingTO>();\n         optionalPropagationMode = PropagationMode.ASYNC;\n+        createsTrackingMode = TrackingMode.ALL;\n+        deletesTrackingMode = TrackingMode.ALL;\n+        updatesTrackingMode = TrackingMode.ALL;\n     }\n \n     public boolean isForceMandatoryConstraint() {\n@@ -110,4 +120,28 @@ public void setOptionalPropagationMode(\n \n         this.optionalPropagationMode = optionalPropagationMode;\n     }\n+\n+    public TrackingMode getCreatesTrackingMode() {\n+        return createsTrackingMode;\n+    }\n+\n+    public void setCreatesTrackingMode(TrackingMode createsTrackingMode) {\n+        this.createsTrackingMode = createsTrackingMode;\n+    }\n+\n+    public TrackingMode getDeletesTrackingMode() {\n+        return deletesTrackingMode;\n+    }\n+\n+    public void setDeletesTrackingMode(TrackingMode deletesTrackingMode) {\n+        this.deletesTrackingMode = deletesTrackingMode;\n+    }\n+\n+    public TrackingMode getUpdatesTrackingMode() {\n+        return updatesTrackingMode;\n+    }\n+\n+    public void setUpdatesTrackingMode(TrackingMode updatesTrackingMode) {\n+        this.updatesTrackingMode = updatesTrackingMode;\n+    }\n }"},{"sha":"1456aa521e2284aa1d474e0eacb55235f97997c4","filename":"client/src/main/java/org/syncope/types/TrackingMode.java","status":"added","additions":20,"deletions":0,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Ftypes%2FTrackingMode.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Ftypes%2FTrackingMode.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Ftypes%2FTrackingMode.java?ref=a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","patch":"@@ -0,0 +1,20 @@\n+/*\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ * \n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *  under the License.\n+ */\n+package org.syncope.types;\n+\n+public enum TrackingMode {\n+\n+    FAILURES, ALL, NONE\n+}"},{"sha":"b3356c78bb09db521617f5bd0192f7af72a4e115","filename":"console/src/main/java/org/syncope/console/pages/ResourceModalPage.java","status":"modified","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java?ref=a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","patch":"@@ -53,6 +53,7 @@\n import org.syncope.console.wicket.markup.html.form.AjaxDecoratedCheckbox;\n import org.syncope.types.PropagationMode;\n import org.syncope.types.SourceMappingType;\n+import org.syncope.types.TrackingMode;\n \n /**\n  * Modal window with Resource form.\n@@ -152,6 +153,24 @@ public void detach() {\n         optionalPropagationMode.setOutputMarkupId(true);\n         resourceForm.add(optionalPropagationMode);\n \n+        final DropDownChoice<TrackingMode> createsTrackingMode =\n+                new DropDownChoice<TrackingMode>(\"createsTrackingMode\",\n+                new PropertyModel<TrackingMode>(resourceTO, \"createsTrackingMode\"),\n+                Arrays.asList(TrackingMode.values()));\n+        resourceForm.add(createsTrackingMode);\n+\n+        final DropDownChoice<TrackingMode> updatesTrackingMode =\n+                new DropDownChoice<TrackingMode>(\"updatesTrackingMode\",\n+                new PropertyModel<TrackingMode>(resourceTO, \"updatesTrackingMode\"),\n+                Arrays.asList(TrackingMode.values()));\n+        resourceForm.add(updatesTrackingMode);\n+\n+        final DropDownChoice<TrackingMode> deletesTrackingMode =\n+                new DropDownChoice<TrackingMode>(\"deletesTrackingMode\",\n+                new PropertyModel<TrackingMode>(resourceTO, \"deletesTrackingMode\"),\n+                Arrays.asList(TrackingMode.values()));\n+        resourceForm.add(deletesTrackingMode);\n+\n         ChoiceRenderer renderer = new ChoiceRenderer(\"displayName\", \"id\");\n         DropDownChoice<ConnInstanceTO> connector =\n                 new DropDownChoice<ConnInstanceTO>(\"connectors\","},{"sha":"17484d77c3211844934a263ba97cff01b7a51e64","filename":"console/src/main/java/org/syncope/console/pages/Users.java","status":"modified","additions":22,"deletions":19,"changes":41,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.java?ref=a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","patch":"@@ -21,6 +21,7 @@\n import java.util.List;\n import org.apache.wicket.Page;\n import org.apache.wicket.PageParameters;\n+import org.apache.wicket.Session;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n@@ -350,26 +351,25 @@ protected void onUpdate(final AjaxRequestTarget target) {\n         final Form searchForm = new Form(\"searchForm\");\n         add(searchForm);\n \n-        FeedbackPanel searchFeedback = new FeedbackPanel(\"searchFeedback\",\n-                new IFeedbackMessageFilter() {\n+        final FeedbackPanel searchFeedback = new FeedbackPanel(\n+                \"searchFeedback\", new IFeedbackMessageFilter() {\n \n-                    @Override\n-                    public boolean accept(final FeedbackMessage message) {\n-                        boolean result;\n-\n-                        // messages reported on the session have a null reporter\n-                        if (message.getReporter() != null) {\n-                            // only accept messages coming from the children\n-                            // of the form\n-                            result = searchForm.contains(message.getReporter(),\n-                                    true);\n-                        } else {\n-                            result = false;\n-                        }\n+            @Override\n+            public boolean accept(final FeedbackMessage message) {\n+                boolean result;\n+\n+                // messages reported on the session have a null reporter\n+                if (message.getReporter() != null) {\n+                    // only accept messages coming from the children\n+                    // of the form\n+                    result = searchForm.contains(message.getReporter(), true);\n+                } else {\n+                    result = false;\n+                }\n \n-                        return result;\n-                    }\n-                });\n+                return result;\n+            }\n+        });\n         searchFeedback.setOutputMarkupId(true);\n         searchForm.add(searchFeedback);\n \n@@ -466,13 +466,16 @@ protected void onSubmit(final AjaxRequestTarget target,\n \n                 doSearch(target, searchConditionList, searchDataProvider,\n                         searchResultTable);\n+\n+                Session.get().getFeedbackMessages().clear();\n+                target.addComponent(searchFeedback);\n             }\n \n             @Override\n             protected void onError(final AjaxRequestTarget target,\n                     final Form form) {\n \n-                target.addComponent(form.get(\"searchFeedback\"));\n+                target.addComponent(searchFeedback);\n             }\n         });\n "},{"sha":"ca22ac4c9918bd7caf9848f1129c22b0d50d2e1b","filename":"console/src/main/resources/org/syncope/console/pages/ResourceModalPage.html","status":"modified","additions":9,"deletions":0,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.html?ref=a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","patch":"@@ -117,6 +117,15 @@\n                 <label for=\"optionalPropagationMode\"><wicket:message key=\"optionalPropagationMode\"/></label>\n                 <select id=\"optionalPropagationMode\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"optionalPropagationMode\"/>\n \n+                <label for=\"createsTrackingMode\"><wicket:message key=\"createsTrackingMode\"/></label>\n+                <select id=\"optionalPropagationMode\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"createsTrackingMode\"/>\n+\n+                <label for=\"updatesTrackingMode\"><wicket:message key=\"updatesTrackingMode\"/></label>\n+                <select id=\"optionalPropagationMode\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"updatesTrackingMode\"/>\n+\n+                <label for=\"deletesTrackingMode\"><wicket:message key=\"deletesTrackingMode\"/></label>\n+                <select id=\"optionalPropagationMode\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"deletesTrackingMode\"/>\n+\n                 <div>\n                     &nbsp;\n                 </div>"},{"sha":"177dac24d199a1dcdde19a9d4d1f06ac4f129052","filename":"console/src/main/resources/org/syncope/console/pages/ResourceModalPage.properties","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.properties?ref=a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","patch":"@@ -19,6 +19,11 @@ delete=Delete\n sourceAttrNames=Source Attributes\n forceMandatoryConstraint=Force mandatory constraint\n fieldName=Field name\n+\n accountIdValidation=There must be exactly one AccountId\n optionalPropagationMode=Mode for non-mandatory propagations\n accountLink=Account link\n+\n+createsTrackingMode=Creates tracking level\n+updatesTrackingMode=Updates tracking level\n+deletesTrackingMode=Deletes tracking level"},{"sha":"00272989a420ce90ed41b4c2652c0139b65a2c67","filename":"console/src/main/resources/org/syncope/console/pages/ResourceModalPage_it.properties","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage_it.properties?ref=a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","patch":"@@ -23,3 +23,7 @@ fieldName=Nome campo\n accountIdValidation=Deve essere definito esattamente un AccountId\n optionalPropagationMode=Modalit\\u00e0 per propagazioni non obbligatorie\n accountLink=Account link\n+\n+createsTrackingMode=Creates tracking level\n+updatesTrackingMode=Updates tracking level\n+deletesTrackingMode=Deletes tracking level"},{"sha":"18c73fbbc6374ada47372f8dcb47b74eaa647f6d","filename":"core/src/main/java/org/syncope/core/persistence/beans/TargetResource.java","status":"modified","additions":41,"deletions":0,"changes":41,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FTargetResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FTargetResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FTargetResource.java?ref=a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","patch":"@@ -38,6 +38,7 @@\n import org.syncope.core.persistence.validation.entity.TargetResourceCheck;\n import org.syncope.types.PropagationMode;\n import org.syncope.types.SourceMappingType;\n+import org.syncope.types.TrackingMode;\n \n /**\n  * A resource to which propagation occurs.\n@@ -100,6 +101,18 @@ public class TargetResource extends AbstractBaseBean {\n     @Column(nullable = false)\n     private PropagationMode optionalPropagationMode;\n \n+    @Enumerated(EnumType.STRING)\n+    @Column(nullable = false)\n+    private TrackingMode createsTrackingMode;\n+\n+    @Enumerated(EnumType.STRING)\n+    @Column(nullable = false)\n+    private TrackingMode deletesTrackingMode;\n+\n+    @Enumerated(EnumType.STRING)\n+    @Column(nullable = false)\n+    private TrackingMode updatesTrackingMode;\n+\n     /**\n      * Default constructor.\n      */\n@@ -111,6 +124,10 @@ public TargetResource() {\n         roles = new HashSet<SyncopeRole>();\n         mappings = new ArrayList<SchemaMapping>();\n         optionalPropagationMode = PropagationMode.ASYNC;\n+        \n+        createsTrackingMode = TrackingMode.FAILURES;\n+        deletesTrackingMode = TrackingMode.FAILURES;\n+        updatesTrackingMode = TrackingMode.FAILURES;\n     }\n \n     public boolean isForceMandatoryConstraint() {\n@@ -239,4 +256,28 @@ public void setUsers(Set<SyncopeUser> users) {\n             this.users.addAll(users);\n         }\n     }\n+\n+    public TrackingMode getCreatesTrackingMode() {\n+        return createsTrackingMode;\n+    }\n+\n+    public void setCreatesTrackingMode(TrackingMode createsTrackingMode) {\n+        this.createsTrackingMode = createsTrackingMode;\n+    }\n+\n+    public TrackingMode getDeletesTrackingMode() {\n+        return deletesTrackingMode;\n+    }\n+\n+    public void setDeletesTrackingMode(TrackingMode deletesTrackingMode) {\n+        this.deletesTrackingMode = deletesTrackingMode;\n+    }\n+\n+    public TrackingMode getUpdatesTrackingMode() {\n+        return updatesTrackingMode;\n+    }\n+\n+    public void setUpdatesTrackingMode(TrackingMode updatesTrackingMode) {\n+        this.updatesTrackingMode = updatesTrackingMode;\n+    }\n }"},{"sha":"1e029fd1c12e38a0780fe5c103d3106ceea075aa","filename":"core/src/main/java/org/syncope/core/persistence/propagation/PropagationManager.java","status":"modified","additions":54,"deletions":16,"changes":70,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fpropagation%2FPropagationManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fpropagation%2FPropagationManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fpropagation%2FPropagationManager.java?ref=a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","patch":"@@ -66,6 +66,7 @@\n import org.syncope.types.SourceMappingType;\n import org.syncope.types.SchemaType;\n import org.syncope.types.PropagationTaskExecStatus;\n+import org.syncope.types.TrackingMode;\n \n /**\n  * Manage the data propagation to target resources.\n@@ -233,6 +234,7 @@ protected void provision(\n         TaskExec execution;\n         for (ResourceOperationType type : ResourceOperationType.values()) {\n             for (TargetResource resource : resourceOperations.get(type)) {\n+\n                 Map<String, Set<Attribute>> preparedAttributes =\n                         prepareAttributes(user, password, resource);\n                 String accountId =\n@@ -250,7 +252,6 @@ protected void provision(\n                         resourceOperations.getOldAccountId(resource.getName()));\n                 task.setAttributes(\n                         preparedAttributes.values().iterator().next());\n-                task = taskDAO.save(task);\n \n                 LOG.debug(\"Execution started for {}\", task);\n \n@@ -575,14 +576,10 @@ private Map<String, Set<Attribute>> prepareAttributes(SyncopeUser user,\n \n     }\n \n-    public TaskExec propagate(final PropagationTask task,\n-            final Date startDate) {\n+    public TaskExec propagate(PropagationTask task, final Date startDate) {\n \n         TaskExec execution = new TaskExec();\n-        execution.setTask(task);\n-        execution.setStatus(\n-                PropagationTaskExecStatus.CREATED.toString());\n-        execution = taskExecDAO.save(execution);\n+        execution.setStatus(PropagationTaskExecStatus.CREATED.toString());\n \n         String taskExecutionMessage = null;\n \n@@ -708,21 +705,62 @@ public TaskExec propagate(final PropagationTask task,\n         } finally {\n             LOG.debug(\"Update execution for {}\", task);\n \n-            if (!propagationAttempted.isEmpty()) {\n-                execution.setStartDate(startDate);\n-                execution.setMessage(taskExecutionMessage);\n-                execution.setEndDate(new Date());\n+            if (hasToBeregistered(task, execution)) {\n+                task = taskDAO.save(task);\n \n-                taskExecDAO.save(execution);\n+                if (!propagationAttempted.isEmpty()) {\n+                    execution.setStartDate(startDate);\n+                    execution.setMessage(taskExecutionMessage);\n+                    execution.setEndDate(new Date());\n \n-                LOG.debug(\"Execution finished: {}\", execution);\n-            } else {\n-                taskExecDAO.delete(execution);\n+                    execution.setTask(task);\n+                    execution = taskExecDAO.save(execution);\n \n-                LOG.debug(\"Execution removed: {}\", execution);\n+                    LOG.debug(\"Execution finished: {}\", execution);\n+                } else {\n+                    LOG.debug(\"No propagation attemped for {}\", execution);\n+                }\n             }\n         }\n \n         return execution;\n     }\n+\n+    private boolean hasToBeregistered(\n+            final PropagationTask task,\n+            final TaskExec execution) {\n+\n+        final Boolean failed = !PropagationTaskExecStatus.SUCCESS.toString().\n+                equals(execution.getStatus());\n+\n+        final Boolean all =\n+                (task.getResourceOperationType().\n+                equals(ResourceOperationType.CREATE)\n+                && task.getResource().getCreatesTrackingMode().\n+                equals(TrackingMode.ALL))\n+                || (task.getResourceOperationType().\n+                equals(ResourceOperationType.UPDATE)\n+                && task.getResource().getUpdatesTrackingMode().\n+                equals(TrackingMode.ALL))\n+                || (task.getResourceOperationType().\n+                equals(ResourceOperationType.DELETE)\n+                && task.getResource().getDeletesTrackingMode().\n+                equals(TrackingMode.ALL));\n+\n+        final Boolean failures =\n+                (task.getResourceOperationType().\n+                equals(ResourceOperationType.CREATE)\n+                && task.getResource().getCreatesTrackingMode().\n+                equals(TrackingMode.FAILURES))\n+                || (task.getResourceOperationType().\n+                equals(ResourceOperationType.UPDATE)\n+                && task.getResource().getUpdatesTrackingMode().\n+                equals(TrackingMode.FAILURES))\n+                || (task.getResourceOperationType().\n+                equals(ResourceOperationType.DELETE)\n+                && task.getResource().getDeletesTrackingMode().\n+                equals(TrackingMode.FAILURES));\n+\n+        return all || (failed && failures);\n+    }\n }"},{"sha":"ae2f5aa1a632b47b5eda1cfe8f22e279f5970ec4","filename":"core/src/main/java/org/syncope/core/rest/data/ResourceDataBinder.java","status":"modified","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FResourceDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FResourceDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FResourceDataBinder.java?ref=a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","patch":"@@ -111,6 +111,10 @@ public TargetResource getResource(TargetResource resource,\n \n         resource.setAccountLink(resourceTO.getAccountLink());\n \n+        resource.setCreatesTrackingMode(resourceTO.getCreatesTrackingMode());\n+        resource.setUpdatesTrackingMode(resourceTO.getUpdatesTrackingMode());\n+        resource.setDeletesTrackingMode(resourceTO.getDeletesTrackingMode());\n+\n         return resource;\n     }\n \n@@ -157,6 +161,10 @@ public ResourceTO getResourceTO(TargetResource resource) {\n         resourceTO.setOptionalPropagationMode(\n                 resource.getOptionalPropagationMode());\n \n+        resourceTO.setCreatesTrackingMode(resource.getCreatesTrackingMode());\n+        resourceTO.setUpdatesTrackingMode(resource.getUpdatesTrackingMode());\n+        resourceTO.setDeletesTrackingMode(resource.getDeletesTrackingMode());\n+\n         return resourceTO;\n     }\n "},{"sha":"df330b62aa756c7280e1807b720855e8cb37c6a9","filename":"core/src/test/java/org/syncope/core/rest/UserTestITCase.java","status":"modified","additions":135,"deletions":2,"changes":137,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java?ref=a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","patch":"@@ -319,15 +319,18 @@ public final void create() {\n             }\n         }\n \n-        assertTrue(newMaxId > maxId);\n+        // default configuration for ws-target-resource2:\n+        //             only failed executions have to be registered\n+        // --> no more tasks/executions should be added\n+        assertEquals(newMaxId, maxId);\n \n         // get last task\n         PropagationTaskTO taskTO = restTemplate.getForObject(\n                 BASE_URL + \"task/read/{taskId}\", PropagationTaskTO.class,\n                 newMaxId);\n \n         assertNotNull(taskTO);\n-        assertFalse(taskTO.getExecutions().isEmpty());\n+        assertTrue(taskTO.getExecutions().isEmpty());\n \n         // 3. verify password\n         Boolean verify = restTemplate.getForObject(\n@@ -731,4 +734,134 @@ public final void update() {\n         }\n         assertTrue(attributeFound);\n     }\n+\n+    @Test\n+    public final void verifyTaskRegistration() {\n+        // get task list\n+        List<PropagationTaskTO> tasks = Arrays.asList(\n+                restTemplate.getForObject(\n+                BASE_URL + \"task/propagation/list\", PropagationTaskTO[].class));\n+\n+        assertNotNull(tasks);\n+        assertFalse(tasks.isEmpty());\n+\n+        // get max task id\n+        long maxId = Long.MIN_VALUE;\n+        for (PropagationTaskTO task : tasks) {\n+            if (task.getId() > maxId) {\n+                maxId = task.getId();\n+            }\n+        }\n+\n+        // --------------------------------------\n+        // Create operation\n+        // --------------------------------------\n+\n+        UserTO userTO = getSampleTO(\"task@propagation.mode\");\n+\n+        // add a membership\n+        MembershipTO membershipTO = new MembershipTO();\n+        membershipTO.setRoleId(8L);\n+        userTO.addMembership(membershipTO);\n+\n+        // 1. create user\n+        userTO = restTemplate.postForObject(\n+                BASE_URL + \"user/create?mandatoryRoles=8\",\n+                userTO, UserTO.class);\n+\n+        assertNotNull(userTO);\n+\n+        WorkflowActionsTO workflowActions = restTemplate.getForObject(\n+                BASE_URL + \"user/actions/{userId}\", WorkflowActionsTO.class,\n+                userTO.getId());\n+        assertTrue(workflowActions.getActions().equals(\n+                Collections.singleton(Constants.ACTION_ACTIVATE)));\n+\n+        // 2. activate user\n+        userTO = restTemplate.postForObject(BASE_URL + \"user/activate\",\n+                userTO, UserTO.class);\n+        assertEquals(\"active\",\n+                restTemplate.getForObject(BASE_URL + \"user/status/\"\n+                + userTO.getId(), String.class));\n+\n+        // get the new task list\n+        tasks = Arrays.asList(\n+                restTemplate.getForObject(\n+                BASE_URL + \"task/propagation/list\", PropagationTaskTO[].class));\n+\n+        assertNotNull(tasks);\n+        assertFalse(tasks.isEmpty());\n+\n+        // get max task id\n+        long newMaxId = Long.MIN_VALUE;\n+        for (PropagationTaskTO task : tasks) {\n+            if (task.getId() > newMaxId) {\n+                newMaxId = task.getId();\n+            }\n+        }\n+\n+        // default configuration for ws-target-resource2:\n+        //             only failed executions have to be registered\n+        // --> no more tasks/executions should be added\n+        assertEquals(newMaxId, maxId);\n+\n+        // --------------------------------------\n+        // Update operation\n+        // --------------------------------------\n+        UserMod userMod = new UserMod();\n+        userMod.setId(userTO.getId());\n+\n+        AttributeMod attributeMod = new AttributeMod();\n+        attributeMod.setSchema(\"surname\");\n+        attributeMod.addValueToBeAdded(\"surname\");\n+        userMod.addAttributeToBeUpdated(attributeMod);\n+\n+        userTO = restTemplate.postForObject(\n+                BASE_URL + \"user/update\", userMod, UserTO.class);\n+\n+        assertNotNull(userTO);\n+\n+        // get the new task list\n+        tasks = Arrays.asList(\n+                restTemplate.getForObject(\n+                BASE_URL + \"task/propagation/list\", PropagationTaskTO[].class));\n+\n+        // get max task id\n+        maxId = newMaxId;\n+        newMaxId = Long.MIN_VALUE;\n+        for (PropagationTaskTO task : tasks) {\n+            if (task.getId() > newMaxId) {\n+                newMaxId = task.getId();\n+            }\n+        }\n+\n+        // default configuration for ws-target-resource2:\n+        //             all update executions have to be registered\n+        assertTrue(newMaxId > maxId);\n+\n+        // --------------------------------------\n+        // Delete operation\n+        // --------------------------------------\n+        restTemplate.delete(\n+                BASE_URL + \"user/delete/{userId}\", userTO.getId());\n+\n+        // get the new task list\n+        tasks = Arrays.asList(\n+                restTemplate.getForObject(\n+                BASE_URL + \"task/propagation/list\", PropagationTaskTO[].class));\n+\n+        // get max task id\n+        maxId = newMaxId;\n+        newMaxId = Long.MIN_VALUE;\n+        for (PropagationTaskTO task : tasks) {\n+            if (task.getId() > newMaxId) {\n+                newMaxId = task.getId();\n+            }\n+        }\n+\n+        // default configuration for ws-target-resource2:\n+        //             no delete executions have to be registered\n+        // --> no more tasks/executions should be added\n+        assertEquals(newMaxId, maxId);\n+    }\n }"},{"sha":"7d23faa6f11ae4c22c482720e4067fa9a2e8d579","filename":"core/src/test/resources/content.xml","status":"modified","additions":16,"deletions":8,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml?ref=a9aa835479dae6cbafb0ca7e9db1e987d7c58d8a","patch":"@@ -233,14 +233,22 @@\n                        version=\"${connid.soap.version}\"\n \t\t       xmlConfiguration=\"%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22%3F%3E+%0A%3Cjava+version%3D%221.6.0_24%22+class%3D%22java.beans.XMLDecoder%22%3E+%0A+%3Cobject+class%3D%22java.util.HashSet%22%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3Eendpoint%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22required%22%3E+%0A+++++++%3Cboolean%3Etrue%3C%2Fboolean%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Ejava.lang.String%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3Ehttp%3A%2F%2Flocalhost%3A9080%2Fwssample%2Fservices%2Fprovisioning%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A++%3Cvoid+method%3D%22add%22%3E+%0A+++%3Cobject+class%3D%22org.syncope.types.ConnConfProperty%22%3E+%0A++++%3Cvoid+property%3D%22schema%22%3E+%0A+++++%3Cobject+class%3D%22org.syncope.types.ConnConfPropSchema%22%3E+%0A++++++%3Cvoid+property%3D%22name%22%3E+%0A+++++++%3Cstring%3Eservicename%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22required%22%3E+%0A+++++++%3Cboolean%3Etrue%3C%2Fboolean%3E+%0A++++++%3C%2Fvoid%3E+%0A++++++%3Cvoid+property%3D%22type%22%3E+%0A+++++++%3Cstring%3Ejava.lang.String%3C%2Fstring%3E+%0A++++++%3C%2Fvoid%3E+%0A+++++%3C%2Fobject%3E+%0A++++%3C%2Fvoid%3E+%0A++++%3Cvoid+property%3D%22value%22%3E+%0A+++++%3Cstring%3Eorg.connid.bundles.soap.provisioning.interfaces.Provisioning%3C%2Fstring%3E+%0A++++%3C%2Fvoid%3E+%0A+++%3C%2Fobject%3E+%0A++%3C%2Fvoid%3E+%0A+%3C%2Fobject%3E+%0A%3C%2Fjava%3E+%0A\"/>\n \n-    <TargetResource name=\"ws-target-resource-1\" connector_id=\"100\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"/>\n-    <TargetResource name=\"ws-target-resource-2\" connector_id=\"100\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"/>\n-    <TargetResource name=\"ws-target-resource-list-mappings-1\" connector_id=\"100\" forceMandatoryConstraint=\"0\" optionalPropagationMode=\"ASYNC\"/>\n-    <TargetResource name=\"ws-target-resource-list-mappings-2\" connector_id=\"100\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"/>\n-    <TargetResource name=\"ws-target-resource-delete\" connector_id=\"102\" forceMandatoryConstraint=\"0\" optionalPropagationMode=\"ASYNC\"/>\n-    <TargetResource name=\"ws-target-resource-update\" connector_id=\"100\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"/>\n-    <TargetResource name=\"ws-target-resource-nopropagation\" connector_id=\"103\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"/>\n-    <TargetResource name=\"ws-target-resource-testdb\" connector_id=\"101\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"SYNC\"/>\n+    <TargetResource name=\"ws-target-resource-1\" connector_id=\"100\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"\n+                       createsTrackingMode=\"ALL\" deletesTrackingMode=\"ALL\" updatesTrackingMode=\"ALL\"/>\n+    <TargetResource name=\"ws-target-resource-2\" connector_id=\"100\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"\n+                       createsTrackingMode=\"FAILURES\" deletesTrackingMode=\"NONE\" updatesTrackingMode=\"ALL\"/>\n+    <TargetResource name=\"ws-target-resource-list-mappings-1\" connector_id=\"100\" forceMandatoryConstraint=\"0\" optionalPropagationMode=\"ASYNC\"\n+                       createsTrackingMode=\"ALL\" deletesTrackingMode=\"ALL\" updatesTrackingMode=\"ALL\"/>\n+    <TargetResource name=\"ws-target-resource-list-mappings-2\" connector_id=\"100\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"\n+                       createsTrackingMode=\"ALL\" deletesTrackingMode=\"ALL\" updatesTrackingMode=\"ALL\"/>\n+    <TargetResource name=\"ws-target-resource-delete\" connector_id=\"102\" forceMandatoryConstraint=\"0\" optionalPropagationMode=\"ASYNC\"\n+                       createsTrackingMode=\"ALL\" deletesTrackingMode=\"ALL\" updatesTrackingMode=\"ALL\"/>\n+    <TargetResource name=\"ws-target-resource-update\" connector_id=\"100\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"\n+                       createsTrackingMode=\"ALL\" deletesTrackingMode=\"ALL\" updatesTrackingMode=\"ALL\"/>\n+    <TargetResource name=\"ws-target-resource-nopropagation\" connector_id=\"103\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"ASYNC\"\n+                       createsTrackingMode=\"ALL\" deletesTrackingMode=\"ALL\" updatesTrackingMode=\"ALL\"/>\n+    <TargetResource name=\"ws-target-resource-testdb\" connector_id=\"101\" forceMandatoryConstraint=\"1\" optionalPropagationMode=\"SYNC\"\n+                       createsTrackingMode=\"ALL\" deletesTrackingMode=\"ALL\" updatesTrackingMode=\"ALL\"/>\n \n     <SyncopeUser_TargetResource users_id=\"3\" targetResources_name=\"ws-target-resource-delete\" />\n     <SyncopeRole_TargetResource roles_id=\"3\" targetResources_name=\"ws-target-resource-list-mappings-1\" />"}]}
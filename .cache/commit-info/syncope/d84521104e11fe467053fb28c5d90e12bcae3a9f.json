{"sha":"d84521104e11fe467053fb28c5d90e12bcae3a9f","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmQ4NDUyMTEwNGUxMWZlNDY3MDUzZmIyOGM1ZDkwZTEyYmNhZTNhOWY=","commit":{"author":{"name":"Fabio Martelli","email":"fmartelli@apache.org","date":"2013-04-23T15:31:17Z"},"committer":{"name":"Fabio Martelli","email":"fmartelli@apache.org","date":"2013-04-23T15:31:17Z"},"message":"merged from 1.1.X\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1471012 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"2f1c67e712a47f6753458cb2b3bec7ed39e6e839","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/2f1c67e712a47f6753458cb2b3bec7ed39e6e839"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/d84521104e11fe467053fb28c5d90e12bcae3a9f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d84521104e11fe467053fb28c5d90e12bcae3a9f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d84521104e11fe467053fb28c5d90e12bcae3a9f","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d84521104e11fe467053fb28c5d90e12bcae3a9f/comments","author":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"committer":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"25fa54767cde686c41427cb8cca1ef8a52614849","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/25fa54767cde686c41427cb8cca1ef8a52614849","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/25fa54767cde686c41427cb8cca1ef8a52614849"},{"sha":"db5ac6b4368721ee47114ede686718d3175b1a24","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/db5ac6b4368721ee47114ede686718d3175b1a24","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/db5ac6b4368721ee47114ede686718d3175b1a24"}],"stats":{"total":15,"additions":9,"deletions":6},"files":[{"sha":"13ec7c4414a5260955a42fd4d9a35d91c388fb40","filename":"core/src/main/java/org/apache/syncope/core/sync/impl/SyncopeSyncResultHandler.java","status":"modified","additions":9,"deletions":6,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d84521104e11fe467053fb28c5d90e12bcae3a9f/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FSyncopeSyncResultHandler.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d84521104e11fe467053fb28c5d90e12bcae3a9f/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FSyncopeSyncResultHandler.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FSyncopeSyncResultHandler.java?ref=d84521104e11fe467053fb28c5d90e12bcae3a9f","patch":"@@ -512,6 +512,7 @@ protected List<SyncResult> create(SyncDelta delta, final AttributableUtil attrUt\n         final SyncResult result = new SyncResult();\n         result.setOperation(ResourceOperation.CREATE);\n         result.setSubjectType(attrUtil.getType());\n+        result.setStatus(SyncResult.Status.SUCCESS);\n \n         AbstractAttributableTO subjectTO = connObjectUtil.getAttributableTO(delta.getObject(), syncTask, attrUtil);\n \n@@ -525,7 +526,6 @@ protected List<SyncResult> create(SyncDelta delta, final AttributableUtil attrUt\n             if (subjectTO instanceof RoleTO) {\n                 result.setName(((RoleTO) subjectTO).getName());\n             }\n-            result.setStatus(SyncResult.Status.SUCCESS);\n         } else {\n             try {\n                 if (AttributableType.USER == attrUtil.getType()) {\n@@ -565,8 +565,10 @@ protected List<SyncResult> create(SyncDelta delta, final AttributableUtil attrUt\n                     result.setId(created.getResult());\n                     result.setName(((RoleTO) subjectTO).getName());\n                 }\n-                result.setStatus(SyncResult.Status.SUCCESS);\n+\n             } catch (PropagationException e) {\n+                // A propagation failure doesn't imply a synchronization failure.\n+                // The propagation exception status will be reported into the propagation task execution.\n                 LOG.error(\"Could not propagate {} {}\", attrUtil.getType(), delta.getUid().getUidValue(), e);\n             } catch (Exception e) {\n                 result.setStatus(SyncResult.Status.FAILURE);\n@@ -716,9 +718,8 @@ protected List<SyncResult> update(SyncDelta delta, final List<Long> subjects, fi\n                     result.setName(updated.getName());\n                 }\n             } catch (PropagationException e) {\n-                result.setStatus(SyncResult.Status.FAILURE);\n-                result.setMessage(delta.getUid().getUidValue() + \"updated but not propagated\\n\" + e.getMessage());\n-\n+                // A propagation failure doesn't imply a synchronization failure.\n+                // The propagation exception status will be reported into the propagation task execution.\n                 LOG.error(\"Could not propagate {} {}\", attrUtil.getType(), delta.getUid().getUidValue(), e);\n             } catch (Exception e) {\n                 result.setStatus(SyncResult.Status.FAILURE);\n@@ -778,6 +779,8 @@ protected List<SyncResult> delete(SyncDelta delta, final List<Long> subjects, fi\n                         }\n                         taskExecutor.execute(tasks);\n                     } catch (Exception e) {\n+                        // A propagation failure doesn't imply a synchronization failure.\n+                        // The propagation exception status will be reported into the propagation task execution.\n                         LOG.error(\"Could not propagate user \" + id, e);\n                     }\n \n@@ -789,7 +792,7 @@ protected List<SyncResult> delete(SyncDelta delta, final List<Long> subjects, fi\n                             rwfAdapter.delete(id);\n                         }\n                     } catch (Exception e) {\n-                        result.setStatus(SyncResult.Status.SUCCESS);\n+                        result.setStatus(SyncResult.Status.FAILURE);\n                         result.setMessage(e.getMessage());\n                         LOG.error(\"Could not delete {} {}\", attrUtil.getType(), id, e);\n                     }"}]}
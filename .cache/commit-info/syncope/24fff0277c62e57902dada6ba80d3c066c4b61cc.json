{"sha":"24fff0277c62e57902dada6ba80d3c066c4b61cc","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjI0ZmZmMDI3N2M2MmU1NzkwMmRhZGE2YmE4MGQzYzA2NmM0YjYxY2M=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-04-04T15:50:56Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-04-04T15:50:56Z"},"message":"Improving standalone configuration, with conf working in apache-release maven profile\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/branches/1_1_X@1464603 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"0886e80d17fdcd87e97bca98a5105f4e6a461c68","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/0886e80d17fdcd87e97bca98a5105f4e6a461c68"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/24fff0277c62e57902dada6ba80d3c066c4b61cc","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/24fff0277c62e57902dada6ba80d3c066c4b61cc","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/24fff0277c62e57902dada6ba80d3c066c4b61cc","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/24fff0277c62e57902dada6ba80d3c066c4b61cc/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"ec4180ba8a9013ad6e7b9623d42f75e42fabd374","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ec4180ba8a9013ad6e7b9623d42f75e42fabd374","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ec4180ba8a9013ad6e7b9623d42f75e42fabd374"}],"stats":{"total":80,"additions":33,"deletions":47},"files":[{"sha":"ea946a78fd98a9fc8b707394d82bb555529a29b7","filename":"pom.xml","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/24fff0277c62e57902dada6ba80d3c066c4b61cc/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/24fff0277c62e57902dada6ba80d3c066c4b61cc/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=24fff0277c62e57902dada6ba80d3c066c4b61cc","patch":"@@ -1240,7 +1240,6 @@ under the License.\n           <mavenExecutorId>forked-path</mavenExecutorId>\n           <autoVersionSubmodules>true</autoVersionSubmodules>\n           <tagNameFormat>syncope-@{project.version}</tagNameFormat>\n-          <arguments>-Papache-release</arguments>\n         </configuration>\n       </plugin>\n     </plugins>"},{"sha":"b18afe49f4964d951ee8b4db4b9821892f9bed24","filename":"standalone/pom.xml","status":"modified","additions":21,"deletions":22,"changes":43,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/24fff0277c62e57902dada6ba80d3c066c4b61cc/standalone%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/24fff0277c62e57902dada6ba80d3c066c4b61cc/standalone%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/standalone%2Fpom.xml?ref=24fff0277c62e57902dada6ba80d3c066c4b61cc","patch":"@@ -90,50 +90,50 @@ under the License.\n             <phase>verify</phase>\n             <configuration>\n               <target>\n-                <mkdir dir=\"${work.dir}\" />\n+                <mkdir dir=\"${work.dir}\"/>\n                 \n                 <!-- legal stuff -->\n-                <copy file=\"${project.build.outputDirectory}/README\" todir=\"${work.dir}\" />\n-                <copy file=\"../legal_ext/LICENSE\" todir=\"${work.dir}\" />\n-                <copy file=\"../legal_ext/NOTICE\" todir=\"${work.dir}\" />\n+                <copy file=\"${project.build.outputDirectory}/README\" todir=\"${work.dir}\"/>\n+                <copy file=\"../legal_ext/LICENSE\" todir=\"${work.dir}\"/>\n+                <copy file=\"../legal_ext/NOTICE\" todir=\"${work.dir}\"/>\n \n                 <!-- Syncope core (as run for integration tests) -->\n-                <unzip src=\"${settings.localRepository}/org/codehaus/cargo/cargo-container-archives/apache-tomcat-${tomcat.version}.zip\" dest=\"${work.dir}\" />\n+                <unzip src=\"${settings.localRepository}/org/codehaus/cargo/cargo-container-archives/apache-tomcat-${tomcat.version}.zip\" dest=\"${work.dir}\"/>\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope\">\n-                  <fileset dir=\"../core/target/syncope-core-test\" includes=\"**/*\" />\n+                  <fileset dir=\"../core/target/syncope-core-test\" includes=\"**/*\"/>\n                 </copy>\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope/WEB-INF/classes\" overwrite=\"true\">\n-                  <fileset dir=\"${project.build.outputDirectory}/core\" />\n+                  <fileset dir=\"${project.build.outputDirectory}/core\"/>\n                 </copy>\n                 \n                 <!-- Syncope console (exploded) -->\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-console\">\n-                  <fileset dir=\"../console/target/syncope-console\" includes=\"**/*\" />\n+                  <fileset dir=\"../console/target/syncope-console\" includes=\"**/*\"/>\n                 </copy>\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-console/WEB-INF/classes\" overwrite=\"true\">\n-                  <fileset dir=\"${project.build.outputDirectory}/console\" />\n+                  <fileset dir=\"${project.build.outputDirectory}/console\"/>\n                 </copy>\n                                 \n                 <!-- ConnId's SOAP wssample (provides endpoint for SOAP resources) -->\n-                <copy file=\"${settings.localRepository}/org/connid/bundles/soap/wssample/${connid.soap.version}/wssample-${connid.soap.version}.war\" tofile=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/wssample.war\" />\n+                <copy file=\"${settings.localRepository}/org/connid/bundles/soap/wssample/${connid.soap.version}/wssample-${connid.soap.version}.war\" tofile=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/wssample.war\"/>\n \n                 <!-- Syncope build tools (provide H2 and Apache DS resources + ConnId connector server) -->\n-                <unzip src=\"../build-tools/target/syncope-build-tools-${project.version}.war\" dest=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\" />\n+                <unzip src=\"../build-tools/target/syncope-build-tools-${project.version}.war\" dest=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\"/>\n                 <copy todir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools/WEB-INF/lib\">\n-                  <fileset dir=\"../core/target/bundles\" includes=\"**/*\" />\n+                  <fileset dir=\"../core/target/bundles\" includes=\"**/*\"/>\n                 </copy>\n-                <zip destfile=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools.war\" basedir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\" />\n-                <delete dir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\" />                  \n+                <zip destfile=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools.war\" basedir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\"/>\n+                <delete dir=\"${work.dir}/apache-tomcat-${tomcat.version}/webapps/syncope-build-tools\"/>                  \n \n                 <!-- Tomcat shared libraries: H2 and groovy -->\n-                <copy file=\"${settings.localRepository}/com/h2database/h2/${h2.version}/h2-${h2.version}.jar\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/lib\" />\n-                <copy file=\"${settings.localRepository}/org/codehaus/groovy/groovy-all/${groovy.version}/groovy-all-${groovy.version}.jar\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/lib\" />\n+                <copy file=\"${settings.localRepository}/com/h2database/h2/${h2.version}/h2-${h2.version}.jar\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/lib\"/>\n+                <copy file=\"${settings.localRepository}/org/codehaus/groovy/groovy-all/${groovy.version}/groovy-all-${groovy.version}.jar\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/lib\"/>\n                 \n                 <!-- Other custom Tomcat resources -->\n-                <copy file=\"../core/target/test-classes/context.xml\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/conf\" overwrite=\"true\" />\n-                <copy file=\"src/main/resources/setenv.sh\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/bin\" />\n-                <copy file=\"src/main/resources/setenv.bat\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/bin\" />\n-                <replace file=\"${work.dir}/apache-tomcat-${tomcat.version}/conf/server.xml\" token=\"8080\" value=\"${cargo.servlet.port}\" />\n+                <copy file=\"../core/target/test-classes/context.xml\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/conf\" overwrite=\"true\"/>\n+                <copy file=\"src/main/resources/setenv.sh\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/bin\"/>\n+                <copy file=\"src/main/resources/setenv.bat\" todir=\"${work.dir}/apache-tomcat-${tomcat.version}/bin\"/>\n+                <replace file=\"${work.dir}/apache-tomcat-${tomcat.version}/conf/server.xml\" token=\"8080\" value=\"${cargo.servlet.port}\"/>\n               </target>\n             </configuration>\n           </execution>\n@@ -142,7 +142,6 @@ under the License.\n       <plugin>\n         <groupId>org.apache.maven.plugins</groupId>\n         <artifactId>maven-assembly-plugin</artifactId>\n-        <inherited>true</inherited>\n         <configuration>\n           <descriptors>\n             <descriptor>src/assemble/standalone-zip.xml</descriptor>\n@@ -151,7 +150,7 @@ under the License.\n         <executions>\n           <execution>\n             <id>make-standalone-zip</id>\n-            <phase>verify</phase>\n+            <phase>install</phase>\n             <goals>\n               <goal>single</goal>\n             </goals>"},{"sha":"4209398d6ed4bfdff78bab1ad766101054b2a933","filename":"standalone/src/assemble/standalone-zip.xml","status":"modified","additions":12,"deletions":24,"changes":36,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/24fff0277c62e57902dada6ba80d3c066c4b61cc/standalone%2Fsrc%2Fassemble%2Fstandalone-zip.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/24fff0277c62e57902dada6ba80d3c066c4b61cc/standalone%2Fsrc%2Fassemble%2Fstandalone-zip.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/standalone%2Fsrc%2Fassemble%2Fstandalone-zip.xml?ref=24fff0277c62e57902dada6ba80d3c066c4b61cc","patch":"@@ -1,11 +1,12 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n <!--\n-     Licensed to the Apache Software Foundation (ASF) under one\n-     or more contributor license agreements.  See the NOTICE file\n-     distributed with this work for additional information\n-     regarding copyright ownership.  The ASF licenses this file\n-     to you under the Apache License, Version 2.0 (the\n-     \"License\"); you may not use this file except in compliance\n-     with the License.  You may obtain a copy of the License at\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n \n   http://www.apache.org/licenses/LICENSE-2.0\n \n@@ -15,12 +16,12 @@ software distributed under the License is distributed on an\n KIND, either express or implied.  See the License for the\n specific language governing permissions and limitations\n under the License.\n-\n -->\n-<assembly xmlns=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0\"\n+<assembly xmlns=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2\"\n           xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n-          xsi:schemaLocation=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0\n-\t\t\t\t              http://maven.apache.org/xsd/assembly-1.1.0.xsd\">\n+          xsi:schemaLocation=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 \n+                              http://maven.apache.org/xsd/assembly-1.1.2.xsd\">\n+\n   <id>distribution</id>\n   <formats>\n     <format>zip</format>\n@@ -30,19 +31,6 @@ under the License.\n     <fileSet>\n       <directory>${work.dir}</directory>\n       <outputDirectory>apache-syncope-standalone-${project.version}</outputDirectory>\n-      <excludes>\n-        <exclude>**/*.sh</exclude>\n-\t\t<exclude>**/*.bat</exclude>\n-      </excludes>\n-    </fileSet>\n-    <fileSet>\n-      <directory>${work.dir}/apache-tomcat-${tomcat.version}/bin</directory>\n-      <outputDirectory>apache-syncope-standalone-${project.version}/apache-tomcat-${tomcat.version}/bin</outputDirectory>\n-      <includes>\n-        <include>*.sh</include>\n-\t\t<include>*.bat</include>\n-      </includes>\n-      <fileMode>0755</fileMode>\n     </fileSet>\n   </fileSets>\n </assembly>"}]}
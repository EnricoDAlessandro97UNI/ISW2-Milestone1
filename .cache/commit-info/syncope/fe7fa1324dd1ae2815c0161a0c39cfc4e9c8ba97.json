{"sha":"fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmZlN2ZhMTMyNGRkMWFlMjgxNWMwMTYxYTBjMzljZmM0ZTljOGJhOTc=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2015-07-23T08:55:40Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2015-07-23T08:55:40Z"},"message":"[SYNCOPE-684] Merge from 1_2_X","tree":{"sha":"b6e3ed35be4505bb65ab619be9e7dac29aacb16f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/b6e3ed35be4505bb65ab619be9e7dac29aacb16f"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"c32826656762164a7e42e2d9c8c3482fa7fb8ed3","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c32826656762164a7e42e2d9c8c3482fa7fb8ed3","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c32826656762164a7e42e2d9c8c3482fa7fb8ed3"},{"sha":"660b0ce88b22152e816b7c7812eb6e1bdfdc496b","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/660b0ce88b22152e816b7c7812eb6e1bdfdc496b","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/660b0ce88b22152e816b7c7812eb6e1bdfdc496b"}],"stats":{"total":37,"additions":21,"deletions":16},"files":[{"sha":"792f3bdad0df1f1754c73e02d258a1cd384d83e6","filename":"client/old_console/src/main/java/org/apache/syncope/client/console/pages/EditUserModalPage.java","status":"modified","additions":2,"deletions":4,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FEditUserModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FEditUserModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FEditUserModalPage.java?ref=fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97","patch":"@@ -76,9 +76,8 @@ public EditUserModalPage(final PageReference pageRef, final ModalWindow window,\n         }\n     }\n \n-    @SuppressWarnings(\"rawtypes\")\n     @Override\n-    protected void submitAction(final AjaxRequestTarget target, final Form form) {\n+    protected void submitAction(final AjaxRequestTarget target, final Form<?> form) {\n         final UserTO updatedUserTO = (UserTO) form.getModelObject();\n \n         if (updatedUserTO.getKey() == 0) {\n@@ -97,9 +96,8 @@ protected void submitAction(final AjaxRequestTarget target, final Form form) {\n         }\n     }\n \n-    @SuppressWarnings(\"rawtypes\")\n     @Override\n-    protected void closeAction(final AjaxRequestTarget target, final Form form) {\n+    protected void closeAction(final AjaxRequestTarget target, final Form<?> form) {\n         setResponsePage(new ResultStatusModalPage.Builder(window, userTO).mode(mode).build());\n     }\n }"},{"sha":"e549505e8deccbd82157d003e3dc8862fbc569f1","filename":"client/old_console/src/main/java/org/apache/syncope/client/console/pages/UserModalPage.java","status":"modified","additions":6,"deletions":8,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FUserModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FUserModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FUserModalPage.java?ref=fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97","patch":"@@ -79,8 +79,7 @@ public UserModalPage(final PageReference callerPageRef, final ModalWindow window\n         fragment.setOutputMarkupId(true);\n         add(fragment);\n \n-        storePassword = new AjaxCheckBoxPanel(\"storePassword\", \"storePassword\",\n-                new Model<Boolean>(Boolean.TRUE));\n+        storePassword = new AjaxCheckBoxPanel(\"storePassword\", \"storePassword\", new Model<Boolean>(Boolean.TRUE));\n     }\n \n     public UserTO getUserTO() {\n@@ -91,18 +90,17 @@ public void setUserTO(final UserTO userTO) {\n         this.userTO = userTO;\n     }\n \n-    @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n-    protected Form setupEditPanel() {\n-        fragment.add(new Label(\"id\", userTO.getKey() == 0\n+    protected Form<UserTO> setupEditPanel() {\n+        fragment.add(new Label(\"id\", userTO.getId() == 0\n                 ? StringUtils.EMPTY\n                 : userTO.getUsername()));\n \n         fragment.add(new Label(\"new\", userTO.getKey() == 0\n                 ? new ResourceModel(\"new\")\n-                : new Model(StringUtils.EMPTY)));\n+                : new Model<String>(StringUtils.EMPTY)));\n \n-        final Form form = new Form(\"UserForm\");\n-        form.setModel(new CompoundPropertyModel(userTO));\n+        final Form<UserTO> form = new Form<UserTO>(\"UserForm\");\n+        form.setModel(new CompoundPropertyModel<UserTO>(userTO));\n \n         //--------------------------------\n         // User details"},{"sha":"aa902c0d1d7650827f74a4d10a5e531c56bd5789","filename":"client/old_console/src/main/java/org/apache/syncope/client/console/pages/UserSelfModalPage.java","status":"modified","additions":9,"deletions":0,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FUserSelfModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FUserSelfModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FUserSelfModalPage.java?ref=fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97","patch":"@@ -24,6 +24,7 @@\n import org.apache.syncope.common.lib.AttributableOperations;\n import org.apache.syncope.common.lib.mod.UserMod;\n import org.apache.syncope.common.lib.to.UserTO;\n+import org.apache.commons.lang3.StringUtils;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n@@ -58,6 +59,14 @@ protected void submitAction(final AjaxRequestTarget target, final Form<?> form)\n         } else {\n             final UserMod userMod = AttributableOperations.diff(updatedUserTO, initialUserTO);\n \n+            if (StringUtils.isNotBlank(userMod.getPassword())) {\n+                StatusMod pwdPropRequest = new StatusMod();\n+                pwdPropRequest.setOnSyncope(true);\n+                pwdPropRequest.getResourceNames().addAll(updatedUserTO.getResources());\n+\n+                userMod.setPwdPropRequest(pwdPropRequest);\n+            }\n+\n             // update user only if it has changed\n             if (!userMod.isEmpty()) {\n                 restClient.update(userMod);"},{"sha":"5f8e36daf46fdf202ff16db97f9fd4df6d3eeffc","filename":"client/old_console/src/main/java/org/apache/syncope/client/console/pages/UserTemplateModalPage.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FUserTemplateModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FUserTemplateModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FUserTemplateModalPage.java?ref=fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97","patch":"@@ -48,13 +48,13 @@ public UserTemplateModalPage(final PageReference callerPageRef, final ModalWindo\n     }\n \n     @Override\n-    protected void submitAction(final AjaxRequestTarget target, final Form form) {\n+    protected void submitAction(final AjaxRequestTarget target, final Form<?> form) {\n         syncTaskTO.setUserTemplate((UserTO) form.getModelObject());\n         taskRestClient.updateSyncTask(syncTaskTO);\n     }\n \n     @Override\n-    protected void closeAction(final AjaxRequestTarget target, final Form form) {\n+    protected void closeAction(final AjaxRequestTarget target, final Form<?> form) {\n         window.close(target);\n     }\n }"},{"sha":"babb6a337a801c29203c75e73741cb5fff1b73a7","filename":"client/old_console/src/main/java/org/apache/syncope/client/console/pages/ViewUserModalPage.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FViewUserModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FViewUserModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FViewUserModalPage.java?ref=fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97","patch":"@@ -43,7 +43,7 @@ protected AjaxButton getOnSubmit() {\n     }\n \n     @Override\n-    protected void submitAction(final AjaxRequestTarget target, final Form form) {\n+    protected void submitAction(final AjaxRequestTarget target, final Form<?> form) {\n         // No submit allowed, read-only form\n     }\n }"},{"sha":"b023414ac448200f2247c81b0009d2c1dbb6e870","filename":"client/old_console/src/main/java/org/apache/syncope/client/console/panels/UserDetailsPanel.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDetailsPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDetailsPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fold_console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDetailsPanel.java?ref=fe7fa1324dd1ae2815c0161a0c39cfc4e9c8ba97","patch":"@@ -41,7 +41,7 @@ public class UserDetailsPanel extends Panel {\n \n     private static final long serialVersionUID = 6592027822510220463L;\n \n-    public UserDetailsPanel(final String id, final UserTO userTO, final Form form, final boolean resetPassword,\n+    public UserDetailsPanel(final String id, final UserTO userTO, final Form<?> form, final boolean resetPassword,\n             final boolean templateMode) {\n \n         super(id);"}]}
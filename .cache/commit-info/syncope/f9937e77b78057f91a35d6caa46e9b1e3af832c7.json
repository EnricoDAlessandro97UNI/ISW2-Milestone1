{"sha":"f9937e77b78057f91a35d6caa46e9b1e3af832c7","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmY5OTM3ZTc3Yjc4MDU3ZjkxYTM1ZDZjYWE0NmU5YjFlM2FmODMyYzc=","commit":{"author":{"name":"skylark17","email":"matteo.alessandroni@tirasa.net","date":"2018-08-28T08:11:47Z"},"committer":{"name":"skylark17","email":"matteo.alessandroni@tirasa.net","date":"2018-09-10T15:47:30Z"},"message":"[SYNCOPE-1019] Added dynamic templating feature to Enduser app","tree":{"sha":"d374de59f70c3f1024715d5df42a5f325381311e","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/d374de59f70c3f1024715d5df42a5f325381311e"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/f9937e77b78057f91a35d6caa46e9b1e3af832c7","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f9937e77b78057f91a35d6caa46e9b1e3af832c7","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f9937e77b78057f91a35d6caa46e9b1e3af832c7","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f9937e77b78057f91a35d6caa46e9b1e3af832c7/comments","author":{"login":"mat-ale","id":25547301,"node_id":"MDQ6VXNlcjI1NTQ3MzAx","avatar_url":"https://avatars.githubusercontent.com/u/25547301?v=4","gravatar_id":"","url":"https://api.github.com/users/mat-ale","html_url":"https://github.com/mat-ale","followers_url":"https://api.github.com/users/mat-ale/followers","following_url":"https://api.github.com/users/mat-ale/following{/other_user}","gists_url":"https://api.github.com/users/mat-ale/gists{/gist_id}","starred_url":"https://api.github.com/users/mat-ale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mat-ale/subscriptions","organizations_url":"https://api.github.com/users/mat-ale/orgs","repos_url":"https://api.github.com/users/mat-ale/repos","events_url":"https://api.github.com/users/mat-ale/events{/privacy}","received_events_url":"https://api.github.com/users/mat-ale/received_events","type":"User","site_admin":false},"committer":{"login":"mat-ale","id":25547301,"node_id":"MDQ6VXNlcjI1NTQ3MzAx","avatar_url":"https://avatars.githubusercontent.com/u/25547301?v=4","gravatar_id":"","url":"https://api.github.com/users/mat-ale","html_url":"https://github.com/mat-ale","followers_url":"https://api.github.com/users/mat-ale/followers","following_url":"https://api.github.com/users/mat-ale/following{/other_user}","gists_url":"https://api.github.com/users/mat-ale/gists{/gist_id}","starred_url":"https://api.github.com/users/mat-ale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mat-ale/subscriptions","organizations_url":"https://api.github.com/users/mat-ale/orgs","repos_url":"https://api.github.com/users/mat-ale/repos","events_url":"https://api.github.com/users/mat-ale/events{/privacy}","received_events_url":"https://api.github.com/users/mat-ale/received_events","type":"User","site_admin":false},"parents":[{"sha":"e1972f84a4cfef01e0789efcf3796a60610c3d4e","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e1972f84a4cfef01e0789efcf3796a60610c3d4e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/e1972f84a4cfef01e0789efcf3796a60610c3d4e"}],"stats":{"total":3579,"additions":2637,"deletions":942},"files":[{"sha":"d479649a1e9b8d4e04a074353a87a3c8dd931f8a","filename":".gitignore","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/.gitignore","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/.gitignore","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/.gitignore?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -14,3 +14,4 @@ ide/eclipse/bundles/org.apache.syncope.ide.eclipse.plugin/lib/\n ide/eclipse/bundles/org.apache.syncope.ide.eclipse.tests/bin/\n ide/eclipse/bundles/org.apache.syncope.ide.eclipse.tests/screenshots/\n *nb-configuration.xml\n+node_modules"},{"sha":"fa948d013a4753907059d7a09f1f13c3634c0375","filename":"archetype/pom.xml","status":"modified","additions":4,"deletions":3,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/archetype%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/archetype%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fpom.xml?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -276,7 +276,8 @@ under the License.\n         <targetPath>${project.build.outputDirectory}/archetype-resources/enduser/src/main/resources</targetPath>\n         <includes>\n           <include>enduser.properties</include>\n-          <include>customForm.json</include>\n+          <include>customFormAttributes.json</include>\n+          <include>customTemplate.json</include>\n         </includes>\n       </resource>\n       <resource>\n@@ -310,7 +311,7 @@ under the License.\n         <includes>\n           <include>enduser.properties</include>\n           <include>saml2sp-agent.properties</include>\n-          <include>customForm.json</include>\n+          <include>customFormAttributes.json</include>\n         </includes>\n       </resource>\n       <resource>\n@@ -319,7 +320,7 @@ under the License.\n         <includes>\n           <include>enduser.properties</include>\n           <include>oidcclient-agent.properties</include>\n-          <include>customForm.json</include>\n+          <include>customFormAttributes.json</include>\n         </includes>\n       </resource>\n       <resource>"},{"sha":"0c03dec646ec8c55c63fdc5d9fc4682f5ef81617","filename":"archetype/src/main/resources/archetype-resources/enduser/pom.xml","status":"modified","additions":5,"deletions":1,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fenduser%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fenduser%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fenduser%2Fpom.xml?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -247,7 +247,11 @@ under the License.\n                           todir=\"${project.build.directory}/${project.build.finalName}/WEB-INF/classes\" \n                           overwrite=\"true\"/>\n                     \n-                    <copy file=\"${project.build.directory}/test-classes/customForm.json\" \n+                    <copy file=\"${project.build.directory}/test-classes/customFormAttributes.json\" \n+                          todir=\"${project.build.directory}/${project.build.finalName}/WEB-INF/classes\" \n+                          overwrite=\"true\"/>\n+                    \n+                    <copy file=\"${project.build.directory}/test-classes/customTemplate.json\" \n                           todir=\"${project.build.directory}/${project.build.finalName}/WEB-INF/classes\" \n                           overwrite=\"true\"/>\n                   </target>"},{"sha":"d477213ac05fc4108ca257e3284f9bc41c882a57","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/BasePage.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FBasePage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FBasePage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FBasePage.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -26,7 +26,7 @@\n \n     <link rel=\"shortcut icon\" href=\"img/favicon.png\" type=\"image/png\"/>\n \n-    <link href=\"webjars/font-awesome/${font-awesome.version}/css/font-awesome.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n+    <link href=\"webjars/font-awesome/${font-awesome.version}/css/${font-awesome.filename}\" rel=\"stylesheet\" type=\"text/css\"/>\n     <link href=\"webjars/ionicons/${ionicons.version}/css/ionicons.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n     <link href=\"css/fonts.css\" rel=\"stylesheet\" type=\"text/css\"/>\n "},{"sha":"0340b83053575bcbadceb9779459b8ed0e689fda","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/Login.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FLogin.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FLogin.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FLogin.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -27,7 +27,7 @@\n \n     <link rel=\"shortcut icon\" href=\"img/favicon.png\" type=\"image/png\"/>\n \n-    <link href=\"webjars/font-awesome/${font-awesome.version}/css/font-awesome.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n+    <link href=\"webjars/font-awesome/${font-awesome.version}/css/${font-awesome.filename}\" rel=\"stylesheet\" type=\"text/css\" />\n     <link href=\"webjars/ionicons/${ionicons.version}/css/ionicons.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n     <link href=\"css/fonts.css\" rel=\"stylesheet\" type=\"text/css\"/>\n "},{"sha":"037ea71bc7579a3666a98cbe8949e68652a58e0e","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/MustChangePassword.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FMustChangePassword.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FMustChangePassword.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FMustChangePassword.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -27,7 +27,7 @@\n \n     <link rel=\"shortcut icon\" href=\"img/favicon.png\" type=\"image/png\"/>\n \n-    <link href=\"webjars/font-awesome/${font-awesome.version}/css/font-awesome.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n+    <link href=\"webjars/font-awesome/${font-awesome.version}/css/${font-awesome.filename}\" rel=\"stylesheet\" type=\"text/css\" />\n     <link href=\"webjars/ionicons/${ionicons.version}/css/ionicons.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n     <link href=\"css/fonts.css\" rel=\"stylesheet\" type=\"text/css\"/>\n "},{"sha":"bd5bf1a5a472c03260c202bc17a5f2a937f177bd","filename":"client/enduser/pom.xml","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fpom.xml?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -137,8 +137,8 @@ under the License.\n       <artifactId>ionicons</artifactId>\n     </dependency>\n     <dependency>\n-      <groupId>org.webjars</groupId>\n-      <artifactId>angular-ui-bootstrap</artifactId>\n+      <groupId>org.webjars.npm</groupId>\n+      <artifactId>ui-bootstrap4</artifactId>\n     </dependency>\n     <dependency>\n       <groupId>org.webjars</groupId>"},{"sha":"be67966cb4800b069f5029031c8c8fbd3bcafd0f","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/SyncopeEnduserApplication.java","status":"modified","additions":106,"deletions":24,"changes":130,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -39,6 +39,7 @@\n import org.apache.syncope.client.enduser.init.ClassPathScanImplementationLookup;\n import org.apache.syncope.client.enduser.init.EnduserInitializer;\n import org.apache.syncope.client.enduser.model.CustomAttributesInfo;\n+import org.apache.syncope.client.enduser.model.CustomTemplateInfo;\n import org.apache.syncope.client.enduser.resources.CaptchaResource;\n import org.apache.syncope.client.lib.SyncopeClientFactoryBean;\n import org.apache.syncope.common.lib.PropertyUtils;\n@@ -64,7 +65,9 @@ public class SyncopeEnduserApplication extends WebApplication implements Seriali\n \n     private static final String ENDUSER_PROPERTIES = \"enduser.properties\";\n \n-    private static final String CUSTOM_FORM_FILE = \"customForm.json\";\n+    private static final String CUSTOM_FORM_ATTRIBUTES_FILE = \"customFormAttributes.json\";\n+\n+    private static final String CUSTOM_TEMPLATE_FILE = \"customTemplate.json\";\n \n     public static SyncopeEnduserApplication get() {\n         return (SyncopeEnduserApplication) WebApplication.get();\n@@ -86,7 +89,9 @@ public static SyncopeEnduserApplication get() {\n \n     private SyncopeClientFactoryBean clientFactory;\n \n-    private Map<String, CustomAttributesInfo> customForm;\n+    private Map<String, CustomAttributesInfo> customFormAttributes;\n+\n+    private CustomTemplateInfo customTemplate;\n \n     private static final ObjectMapper MAPPER = new ObjectMapper();\n \n@@ -130,26 +135,29 @@ protected void init() {\n                 setContentType(SyncopeClientFactoryBean.ContentType.JSON).\n                 setUseCompression(BooleanUtils.toBoolean(useGZIPCompression));\n \n-        // read customForm.json\n-        try (InputStream is = getClass().getResourceAsStream(\"/\" + CUSTOM_FORM_FILE)) {\n-            customForm = MAPPER.readValue(is,\n+        // read customFormAttributes.json\n+        File enduserDir;\n+        try (InputStream is = getClass().getResourceAsStream(\"/\" + CUSTOM_FORM_ATTRIBUTES_FILE)) {\n+            customFormAttributes = MAPPER.readValue(is,\n                     new TypeReference<HashMap<String, CustomAttributesInfo>>() {\n             });\n-            File enduserDir = new File(props.getProperty(\"enduser.directory\"));\n+            enduserDir = new File(props.getProperty(\"enduser.directory\"));\n             boolean existsEnduserDir = enduserDir.exists() && enduserDir.canRead() && enduserDir.isDirectory();\n             if (existsEnduserDir) {\n-                File customFormFile = FileUtils.getFile(enduserDir, CUSTOM_FORM_FILE);\n-                if (customFormFile.exists() && customFormFile.canRead() && customFormFile.isFile()) {\n-                    customForm = MAPPER.readValue(FileUtils.openInputStream(customFormFile),\n+                File customFormAttributesFile = FileUtils.getFile(enduserDir, CUSTOM_FORM_ATTRIBUTES_FILE);\n+                if (customFormAttributesFile.exists()\n+                        && customFormAttributesFile.canRead()\n+                        && customFormAttributesFile.isFile()) {\n+                    customFormAttributes = MAPPER.readValue(FileUtils.openInputStream(customFormAttributesFile),\n                             new TypeReference<HashMap<String, CustomAttributesInfo>>() {\n                     });\n                 }\n             }\n             FileAlterationObserver observer = existsEnduserDir\n                     ? new FileAlterationObserver(enduserDir,\n-                            pathname -> StringUtils.contains(pathname.getPath(), CUSTOM_FORM_FILE))\n-                    : new FileAlterationObserver(getClass().getResource(\"/\" + CUSTOM_FORM_FILE).getFile(),\n-                            pathname -> StringUtils.contains(pathname.getPath(), CUSTOM_FORM_FILE));\n+                            pathname -> StringUtils.contains(pathname.getPath(), CUSTOM_FORM_ATTRIBUTES_FILE))\n+                    : new FileAlterationObserver(getClass().getResource(\"/\" + CUSTOM_FORM_ATTRIBUTES_FILE).getFile(),\n+                            pathname -> StringUtils.contains(pathname.getPath(), CUSTOM_FORM_ATTRIBUTES_FILE));\n \n             FileAlterationMonitor monitor = new FileAlterationMonitor(5000);\n \n@@ -158,8 +166,9 @@ protected void init() {\n                 @Override\n                 public void onFileChange(final File file) {\n                     try {\n-                        LOG.trace(\"{} has changed. Reloading form customization configuration.\", CUSTOM_FORM_FILE);\n-                        customForm = MAPPER.readValue(FileUtils.openInputStream(file),\n+                        LOG.trace(\"{} has changed. Reloading form attributes customization configuration.\",\n+                                CUSTOM_FORM_ATTRIBUTES_FILE);\n+                        customFormAttributes = MAPPER.readValue(FileUtils.openInputStream(file),\n                                 new TypeReference<HashMap<String, CustomAttributesInfo>>() {\n                         });\n                     } catch (IOException e) {\n@@ -170,8 +179,9 @@ public void onFileChange(final File file) {\n                 @Override\n                 public void onFileCreate(final File file) {\n                     try {\n-                        LOG.trace(\"{} has been created. Loading form customization configuration.\", CUSTOM_FORM_FILE);\n-                        customForm = MAPPER.readValue(FileUtils.openInputStream(file),\n+                        LOG.trace(\"{} has been created. Loading form attributes customization configuration.\",\n+                                CUSTOM_FORM_ATTRIBUTES_FILE);\n+                        customFormAttributes = MAPPER.readValue(FileUtils.openInputStream(file),\n                                 new TypeReference<HashMap<String, CustomAttributesInfo>>() {\n                         });\n                     } catch (IOException e) {\n@@ -181,16 +191,80 @@ public void onFileCreate(final File file) {\n \n                 @Override\n                 public void onFileDelete(final File file) {\n-                    LOG.trace(\"{} has been deleted. Resetting form customization configuration.\", CUSTOM_FORM_FILE);\n-                    customForm = null;\n+                    LOG.trace(\"{} has been deleted. Resetting form attributes customization configuration.\",\n+                            CUSTOM_FORM_ATTRIBUTES_FILE);\n+                    customFormAttributes = null;\n+                }\n+            };\n+\n+            observer.addListener(listener);\n+            monitor.addObserver(observer);\n+            monitor.start();\n+        } catch (Exception e) {\n+            throw new WicketRuntimeException(\"Could not read \" + CUSTOM_FORM_ATTRIBUTES_FILE, e);\n+        }\n+\n+        // read customTemplate.json\n+        try (InputStream is = getClass().getResourceAsStream(\"/\" + CUSTOM_TEMPLATE_FILE)) {\n+            customTemplate = MAPPER.readValue(is, CustomTemplateInfo.class);\n+            enduserDir = new File(props.getProperty(\"enduser.directory\"));\n+            boolean existsEnduserDir = enduserDir.exists() && enduserDir.canRead() && enduserDir.isDirectory();\n+            if (existsEnduserDir) {\n+                File customTemplateFile = FileUtils.getFile(enduserDir, CUSTOM_TEMPLATE_FILE);\n+                if (customTemplateFile.exists()\n+                        && customTemplateFile.canRead()\n+                        && customTemplateFile.isFile()) {\n+                    customTemplate = MAPPER.readValue(FileUtils.openInputStream(customTemplateFile),\n+                            CustomTemplateInfo.class);\n+                }\n+            }\n+            FileAlterationObserver observer = existsEnduserDir\n+                    ? new FileAlterationObserver(enduserDir,\n+                            pathname -> StringUtils.contains(pathname.getPath(), CUSTOM_TEMPLATE_FILE))\n+                    : new FileAlterationObserver(getClass().getResource(\"/\" + CUSTOM_TEMPLATE_FILE).getFile(),\n+                            pathname -> StringUtils.contains(pathname.getPath(), CUSTOM_TEMPLATE_FILE));\n+\n+            FileAlterationMonitor monitor = new FileAlterationMonitor(5000);\n+\n+            FileAlterationListener listener = new FileAlterationListenerAdaptor() {\n+\n+                @Override\n+                public void onFileChange(final File file) {\n+                    try {\n+                        LOG.trace(\"{} has changed. Reloading app customization configuration.\",\n+                                CUSTOM_TEMPLATE_FILE);\n+                        customTemplate = MAPPER.readValue(FileUtils.openInputStream(file),\n+                                CustomTemplateInfo.class);\n+                    } catch (IOException e) {\n+                        e.printStackTrace(System.err);\n+                    }\n+                }\n+\n+                @Override\n+                public void onFileCreate(final File file) {\n+                    try {\n+                        LOG.trace(\"{} has been created. Loading app customization configuration.\",\n+                                CUSTOM_TEMPLATE_FILE);\n+                        customTemplate = MAPPER.readValue(FileUtils.openInputStream(file),\n+                                CustomTemplateInfo.class);\n+                    } catch (IOException e) {\n+                        e.printStackTrace(System.err);\n+                    }\n+                }\n+\n+                @Override\n+                public void onFileDelete(final File file) {\n+                    LOG.trace(\"{} has been deleted. Resetting app customization configuration.\",\n+                            CUSTOM_TEMPLATE_FILE);\n+                    customTemplate = null;\n                 }\n             };\n \n             observer.addListener(listener);\n             monitor.addObserver(observer);\n             monitor.start();\n         } catch (Exception e) {\n-            throw new WicketRuntimeException(\"Could not read \" + CUSTOM_FORM_FILE, e);\n+            throw new WicketRuntimeException(\"Could not read \" + CUSTOM_TEMPLATE_FILE, e);\n         }\n \n         // mount resources\n@@ -275,13 +349,21 @@ public Integer getMaxUploadFileSizeMB() {\n         return maxUploadFileSizeMB;\n     }\n \n-    public Map<String, CustomAttributesInfo> getCustomForm() {\n-        return customForm;\n+    public Map<String, CustomAttributesInfo> getCustomFormAttributes() {\n+        return customFormAttributes;\n+    }\n+\n+    public void setCustomFormAttributes(final Map<String, CustomAttributesInfo> customFormAttributes) {\n+        this.customFormAttributes.clear();\n+        this.customFormAttributes.putAll(customFormAttributes);\n+    }\n+\n+    public void setCustomTemplate(final CustomTemplateInfo customTemplate) {\n+        this.customTemplate = customTemplate;\n     }\n \n-    public void setCustomForm(final Map<String, CustomAttributesInfo> customForm) {\n-        this.customForm.clear();\n-        this.customForm.putAll(customForm);\n+    public CustomTemplateInfo getCustomTemplate() {\n+        return customTemplate;\n     }\n \n }"},{"sha":"e194d6b3af8dd56813539906e6eb6537213bcd4d","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/adapters/PlatformInfoAdapter.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fadapters%2FPlatformInfoAdapter.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fadapters%2FPlatformInfoAdapter.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fadapters%2FPlatformInfoAdapter.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -27,7 +27,7 @@\n public final class PlatformInfoAdapter {\n \n     public static PlatformInfoRequest toPlatformInfoRequest(final PlatformInfo platformInfo,\n-            final Map<String, CustomAttributesInfo> customForm) {\n+            final Map<String, CustomAttributesInfo> customFormAttributes) {\n         PlatformInfoRequest request = new PlatformInfoRequest();\n         request.setPwdResetAllowed(platformInfo.isPwdResetAllowed());\n         request.setSelfRegAllowed(platformInfo.isSelfRegAllowed());\n@@ -37,7 +37,7 @@ public static PlatformInfoRequest toPlatformInfoRequest(final PlatformInfo platf\n         if (SyncopeEnduserApplication.get().getMaxUploadFileSizeMB() != null) {\n             request.setMaxUploadFileSizeMB(SyncopeEnduserApplication.get().getMaxUploadFileSizeMB());\n         }\n-        request.setCustomForm(customForm);\n+        request.setCustomFormAttributes(customFormAttributes);\n \n         return request;\n     }"},{"sha":"c49253c742fc75bb981fabdb7792e31d520a9f0d","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/model/CustomAttributesInfo.java","status":"modified","additions":0,"deletions":15,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCustomAttributesInfo.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCustomAttributesInfo.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCustomAttributesInfo.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -26,21 +26,11 @@ public class CustomAttributesInfo implements Serializable {\n \n     private static final long serialVersionUID = 878444785696091916L;\n \n-    private Boolean show = Boolean.TRUE;\n-\n     private Map<String, CustomAttribute> attributes = new LinkedHashMap<>();\n \n     public CustomAttributesInfo() {\n     }\n \n-    public Boolean isShow() {\n-        return show;\n-    }\n-\n-    public void setShow(final Boolean show) {\n-        this.show = show;\n-    }\n-\n     public Map<String, CustomAttribute> getAttributes() {\n         return attributes;\n     }\n@@ -49,11 +39,6 @@ public void setAttributes(final Map<String, CustomAttribute> attributes) {\n         this.attributes = attributes;\n     }\n \n-    public CustomAttributesInfo show(final Boolean value) {\n-        this.show = value;\n-        return this;\n-    }\n-\n     public CustomAttributesInfo attributes(final Map<String, CustomAttribute> value) {\n         this.attributes = value;\n         return this;"},{"sha":"19d4a5b4b06094921af8dc35b480bb681086d3b4","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/model/CustomTemplate.java","status":"added","additions":77,"deletions":0,"changes":77,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCustomTemplate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCustomTemplate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCustomTemplate.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,77 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.model;\n+\n+import java.io.Serializable;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+public class CustomTemplate implements Serializable {\n+\n+    private static final long serialVersionUID = -3870675034923683299L;\n+\n+    private String templateUrl;\n+\n+    private List<String> css = new ArrayList<>();\n+\n+    private List<String> js = new ArrayList<>();\n+\n+    public CustomTemplate() {\n+    }\n+\n+    public String getTemplateUrl() {\n+        return templateUrl;\n+    }\n+\n+    public void setTemplateUrl(final String templateUrl) {\n+        this.templateUrl = templateUrl;\n+    }\n+\n+    public List<String> getCss() {\n+        return css;\n+    }\n+\n+    public void setCss(final List<String> css) {\n+        this.css = css;\n+    }\n+\n+    public List<String> getJs() {\n+        return js;\n+    }\n+\n+    public void setJs(final List<String> js) {\n+        this.js = js;\n+    }\n+\n+    public CustomTemplate templateUrl(final String value) {\n+        this.templateUrl = value;\n+        return this;\n+    }\n+\n+    public CustomTemplate css(final List<String> value) {\n+        this.css = value;\n+        return this;\n+    }\n+\n+    public CustomTemplate js(final List<String> value) {\n+        this.js = value;\n+        return this;\n+    }\n+\n+}"},{"sha":"d2fe9c12e8c54f9d2e1982eadf2cb5616166567b","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/model/CustomTemplateInfo.java","status":"added","additions":72,"deletions":0,"changes":72,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCustomTemplateInfo.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCustomTemplateInfo.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCustomTemplateInfo.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,72 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.model;\n+\n+import java.io.Serializable;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+\n+public class CustomTemplateInfo implements Serializable {\n+\n+    private static final long serialVersionUID = -3422125754029851539L;\n+\n+    private Map<String, CustomTemplate> templates = new LinkedHashMap<>();\n+\n+    private CustomTemplateWizard wizard = new CustomTemplateWizard();\n+\n+    private Map<String, List<String>> generalAssets = new LinkedHashMap<>();\n+\n+    public CustomTemplateInfo() {\n+    }\n+\n+    public Map<String, CustomTemplate> getTemplates() {\n+        return templates;\n+    }\n+\n+    public void setTemplates(final Map<String, CustomTemplate> templates) {\n+        this.templates = templates;\n+    }\n+\n+    public CustomTemplateWizard getWizard() {\n+        return wizard;\n+    }\n+\n+    public void setWizard(final CustomTemplateWizard wizard) {\n+        this.wizard = wizard;\n+    }\n+\n+    public Map<String, List<String>> getGeneralAssets() {\n+        return generalAssets;\n+    }\n+\n+    public void setGeneralAssets(final Map<String, List<String>> generalAssets) {\n+        this.generalAssets = generalAssets;\n+    }\n+\n+    public CustomTemplateInfo templates(final Map<String, CustomTemplate> templates,\n+            final CustomTemplateWizard wizard, final Map<String, List<String>> generalAssets) {\n+\n+        this.templates = templates;\n+        this.wizard = wizard;\n+        this.generalAssets = generalAssets;\n+        return this;\n+    }\n+\n+}"},{"sha":"40bde34e629094693faf3b7ed129e6b0e286c0c3","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/model/CustomTemplateUrl.java","status":"added","additions":37,"deletions":0,"changes":37,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCustomTemplateUrl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCustomTemplateUrl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCustomTemplateUrl.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,37 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.model;\n+\n+import java.io.Serializable;\n+\n+public class CustomTemplateUrl implements Serializable {\n+\n+    private static final long serialVersionUID = 3971593691907398343L;\n+\n+    private String url;\n+\n+    public String getUrl() {\n+        return url;\n+    }\n+\n+    public void setUrl(final String url) {\n+        this.url = url;\n+    }\n+\n+}"},{"sha":"3952f9b1063a7dd9f7e3bb139954033e7a493065","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/model/CustomTemplateWizard.java","status":"added","additions":49,"deletions":0,"changes":49,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCustomTemplateWizard.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCustomTemplateWizard.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCustomTemplateWizard.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,49 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.model;\n+\n+import java.io.Serializable;\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+public class CustomTemplateWizard implements Serializable {\n+\n+    private static final long serialVersionUID = -4290154059045309105L;\n+\n+    private String firstStep;\n+\n+    private Map<String, CustomTemplateUrl> steps = new HashMap<>();\n+\n+    public String getFirstStep() {\n+        return firstStep;\n+    }\n+\n+    public void setFirstStep(final String firstStep) {\n+        this.firstStep = firstStep;\n+    }\n+\n+    public Map<String, CustomTemplateUrl> getSteps() {\n+        return steps;\n+    }\n+\n+    public void setSteps(final Map<String, CustomTemplateUrl> steps) {\n+        this.steps = steps;\n+    }\n+\n+}"},{"sha":"bd80359ffe31b008becd9a930a82cb0953648598","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/model/PlatformInfoRequest.java","status":"modified","additions":5,"deletions":5,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FPlatformInfoRequest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FPlatformInfoRequest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FPlatformInfoRequest.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -37,7 +37,7 @@ public class PlatformInfoRequest implements Serializable {\n \n     private int maxUploadFileSizeMB;\n \n-    private Map<String, CustomAttributesInfo> customForm;\n+    private Map<String, CustomAttributesInfo> customFormAttributes;\n \n     public PlatformInfoRequest() {\n     }\n@@ -90,12 +90,12 @@ public void setMaxUploadFileSizeMB(final int maxUploadFileSizeMB) {\n         this.maxUploadFileSizeMB = maxUploadFileSizeMB;\n     }\n \n-    public Map<String, CustomAttributesInfo> getCustomForm() {\n-        return customForm;\n+    public Map<String, CustomAttributesInfo> getCustomFormAttributes() {\n+        return customFormAttributes;\n     }\n \n-    public void setCustomForm(final Map<String, CustomAttributesInfo> customForm) {\n-        this.customForm = customForm;\n+    public void setCustomFormAttributes(final Map<String, CustomAttributesInfo> customFormAttributes) {\n+        this.customFormAttributes = customFormAttributes;\n     }\n \n }"},{"sha":"86b19bd79819904912682222d255d399361e7f0e","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/DynamicTemplateResource.java","status":"added","additions":79,"deletions":0,"changes":79,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FDynamicTemplateResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FDynamicTemplateResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FDynamicTemplateResource.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,79 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import static org.apache.syncope.client.enduser.resources.BaseResource.MAPPER;\n+\n+import java.io.IOException;\n+import java.nio.charset.StandardCharsets;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.syncope.client.enduser.SyncopeEnduserApplication;\n+import org.apache.syncope.client.enduser.SyncopeEnduserConstants;\n+import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n+import org.apache.syncope.client.enduser.annotations.Resource;\n+import org.apache.syncope.client.enduser.model.CustomTemplateInfo;\n+import org.apache.syncope.client.enduser.util.SaltGenerator;\n+import org.apache.wicket.request.resource.IResource;\n+import org.apache.wicket.util.cookies.CookieUtils;\n+\n+@Resource(key = \"info\", path = \"/api/dynamicTemplate\")\n+public class DynamicTemplateResource extends BaseResource {\n+\n+    private static final long serialVersionUID = 7181372091437530936L;\n+\n+    @Override\n+    protected ResourceResponse newResourceResponse(final IResource.Attributes attributes) {\n+        ResourceResponse response = new ResourceResponse();\n+        response.setContentType(MediaType.APPLICATION_JSON);\n+\n+        try {\n+            final CookieUtils sessionCookieUtils = SyncopeEnduserSession.get().getCookieUtils();\n+            // set XSRF_TOKEN cookie\n+            if (!SyncopeEnduserSession.get().isXsrfTokenGenerated() && (sessionCookieUtils.getCookie(\n+                    SyncopeEnduserConstants.XSRF_COOKIE) == null || StringUtils.isBlank(\n+                            sessionCookieUtils.getCookie(SyncopeEnduserConstants.XSRF_COOKIE).getValue()))) {\n+                LOG.debug(\"Set XSRF-TOKEN cookie\");\n+                SyncopeEnduserSession.get().setXsrfTokenGenerated(true);\n+                sessionCookieUtils.save(SyncopeEnduserConstants.XSRF_COOKIE,\n+                        SaltGenerator.generate(SyncopeEnduserSession.get().getId()));\n+            }\n+            response.setTextEncoding(StandardCharsets.UTF_8.name());\n+            response.setWriteCallback(new WriteCallback() {\n+\n+                @Override\n+                public void writeData(final IResource.Attributes attributes) throws IOException {\n+                    CustomTemplateInfo customTemplate = SyncopeEnduserApplication.get().getCustomTemplate();\n+                    attributes.getResponse().write(MAPPER.writeValueAsString(customTemplate));\n+                }\n+            });\n+            response.setStatusCode(Response.Status.OK.getStatusCode());\n+        } catch (Exception e) {\n+            LOG.error(\"Error retrieving syncope custom dynamic template\", e);\n+            response.setError(Response.Status.INTERNAL_SERVER_ERROR.getStatusCode(), new StringBuilder()\n+                    .append(\"ErrorMessage{{ \")\n+                    .append(e.getMessage())\n+                    .append(\" }}\")\n+                    .toString());\n+        }\n+\n+        return response;\n+    }\n+}"},{"sha":"2d7736c9f5e3bd2a35a4b54b4b567fddc0c271ad","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/ExternalResourceResource.java","status":"modified","additions":11,"deletions":3,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FExternalResourceResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FExternalResourceResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FExternalResourceResource.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -20,12 +20,15 @@\n \n import java.io.IOException;\n import java.nio.charset.StandardCharsets;\n+import java.util.Collections;\n import java.util.List;\n import javax.servlet.http.HttpServletRequest;\n import javax.ws.rs.core.MediaType;\n import javax.ws.rs.core.Response;\n+import org.apache.syncope.client.enduser.SyncopeEnduserApplication;\n import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n import org.apache.syncope.client.enduser.annotations.Resource;\n+import org.apache.syncope.client.enduser.model.CustomTemplateInfo;\n import org.apache.syncope.common.rest.api.service.SyncopeService;\n import org.apache.wicket.request.resource.AbstractResource;\n import org.apache.wicket.request.resource.IResource;\n@@ -49,17 +52,22 @@ protected AbstractResource.ResourceResponse newResourceResponse(final IResource.\n                 return response;\n             }\n \n-            final List<String> resources = SyncopeEnduserSession.get().\n-                    getService(SyncopeService.class).platform().getResources();\n+            CustomTemplateInfo customTemplate =\n+                    SyncopeEnduserApplication.get().getCustomTemplate();\n+            final List<String> resources = customTemplate.getWizard().getSteps().containsKey(\"groups\")\n+                    ? SyncopeEnduserSession.get().\n+                            getService(SyncopeService.class).platform().getResources()\n+                    : Collections.<String>emptyList();\n \n-            response.setTextEncoding(StandardCharsets.UTF_8.name());\n             response.setWriteCallback(new AbstractResource.WriteCallback() {\n \n                 @Override\n                 public void writeData(final IResource.Attributes attributes) throws IOException {\n                     attributes.getResponse().write(MAPPER.writeValueAsString(resources));\n                 }\n             });\n+\n+            response.setTextEncoding(StandardCharsets.UTF_8.name());\n             response.setStatusCode(Response.Status.OK.getStatusCode());\n         } catch (Exception e) {\n             LOG.error(\"Error retrieving available resources\", e);"},{"sha":"14fb790ccc398a64735a55e9026966fa68ba72c2","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/GroupResource.java","status":"modified","additions":27,"deletions":16,"changes":43,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FGroupResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FGroupResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FGroupResource.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -22,14 +22,17 @@\n import java.net.URLDecoder;\n import java.nio.charset.StandardCharsets;\n import java.util.Collections;\n+import java.util.HashMap;\n import java.util.List;\n import java.util.Map;\n import java.util.stream.Collectors;\n import javax.servlet.http.HttpServletRequest;\n import javax.ws.rs.core.MediaType;\n import javax.ws.rs.core.Response;\n+import org.apache.syncope.client.enduser.SyncopeEnduserApplication;\n import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n import org.apache.syncope.client.enduser.annotations.Resource;\n+import org.apache.syncope.client.enduser.model.CustomTemplateInfo;\n import org.apache.syncope.common.lib.SyncopeConstants;\n import org.apache.syncope.common.lib.to.GroupTO;\n import org.apache.syncope.common.rest.api.service.SyncopeService;\n@@ -55,31 +58,39 @@ protected ResourceResponse newResourceResponse(final Attributes attributes) {\n                 return response;\n             }\n \n-            String realm = URLDecoder.decode(attributes.getParameters().get(\"realm\").\n-                    toString(SyncopeConstants.ROOT_REALM), \"UTF-8\");\n-            StringValue term = attributes.getParameters().get(\"term\");\n-\n+            CustomTemplateInfo customTemplate =\n+                    SyncopeEnduserApplication.get().getCustomTemplate();\n             final GroupResponse groupResponse = new GroupResponse();\n-            final int totGroups = SyncopeEnduserSession.get().\n-                    getService(SyncopeService.class).numbers().getTotalGroups();\n-            final List<GroupTO> groupTOs = SyncopeEnduserSession.get().\n-                    getService(SyncopeService.class).searchAssignableGroups(\n-                    realm,\n-                    term.isNull() || term.isEmpty() ? null : URLDecoder.decode(term.toString(), \"UTF-8\"),\n-                    1,\n-                    30).getResult();\n-            groupResponse.setTotGroups(totGroups);\n-            groupResponse.setGroupTOs(groupTOs.stream().collect(\n-                    Collectors.toMap(GroupTO::getKey, GroupTO::getName)));\n+            if (customTemplate.getWizard().getSteps().containsKey(\"groups\")) {\n+                String realm = URLDecoder.decode(attributes.getParameters().get(\"realm\").\n+                        toString(SyncopeConstants.ROOT_REALM), \"UTF-8\");\n+                StringValue term = attributes.getParameters().get(\"term\");\n+\n+                final int totGroups = SyncopeEnduserSession.get().\n+                        getService(SyncopeService.class).numbers().getTotalGroups();\n+                final List<GroupTO> groupTOs = SyncopeEnduserSession.get().\n+                        getService(SyncopeService.class).searchAssignableGroups(\n+                        realm,\n+                        term.isNull() || term.isEmpty() ? null : URLDecoder.decode(term.toString(), \"UTF-8\"),\n+                        1,\n+                        30).getResult();\n+                groupResponse.setTotGroups(totGroups);\n+                groupResponse.setGroupTOs(groupTOs.stream().collect(\n+                        Collectors.toMap(GroupTO::getKey, GroupTO::getName)));\n+            } else {\n+                groupResponse.setTotGroups(0);\n+                Map<String, String> groups = new HashMap<>();\n+                groupResponse.setGroupTOs(groups);\n+            }\n \n-            response.setTextEncoding(StandardCharsets.UTF_8.name());\n             response.setWriteCallback(new AbstractResource.WriteCallback() {\n \n                 @Override\n                 public void writeData(final Attributes attributes) throws IOException {\n                     attributes.getResponse().write(MAPPER.writeValueAsString(groupResponse));\n                 }\n             });\n+            response.setTextEncoding(StandardCharsets.UTF_8.name());\n             response.setStatusCode(Response.Status.OK.getStatusCode());\n         } catch (Exception e) {\n             LOG.error(\"Error retrieving available groups\", e);"},{"sha":"9b990a0d9c4dda20e40cdb29972ab5b4a5597ef5","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/InfoResource.java","status":"modified","additions":5,"deletions":3,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FInfoResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FInfoResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FInfoResource.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -57,18 +57,20 @@ protected ResourceResponse newResourceResponse(final IResource.Attributes attrib\n                         SaltGenerator.generate(SyncopeEnduserSession.get().getId()));\n             }\n             response.setTextEncoding(StandardCharsets.UTF_8.name());\n+\n             response.setWriteCallback(new WriteCallback() {\n \n                 @Override\n                 public void writeData(final IResource.Attributes attributes) throws IOException {\n-                    Map<String, CustomAttributesInfo> customForm = SyncopeEnduserApplication.get().getCustomForm();\n+                    Map<String, CustomAttributesInfo> customFormAttributes =\n+                            SyncopeEnduserApplication.get().getCustomFormAttributes();\n                     attributes.getResponse().write(\n                             MAPPER.writeValueAsString(\n                                     PlatformInfoAdapter.toPlatformInfoRequest(\n                                             SyncopeEnduserSession.get().getPlatformInfo(),\n-                                            customForm == null\n+                                            customFormAttributes == null\n                                                     ? new HashMap<>()\n-                                                    : customForm)));\n+                                                    : customFormAttributes)));\n                 }\n             });\n             response.setStatusCode(Response.Status.OK.getStatusCode());"},{"sha":"b6c57e8bf23cce9ddafb04ec6d5594aae8c7e9aa","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/SchemaResource.java","status":"modified","additions":27,"deletions":18,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FSchemaResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FSchemaResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FSchemaResource.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -35,6 +35,7 @@\n import org.apache.syncope.client.enduser.annotations.Resource;\n import org.apache.syncope.client.enduser.model.CustomAttribute;\n import org.apache.syncope.client.enduser.model.CustomAttributesInfo;\n+import org.apache.syncope.client.enduser.model.CustomTemplateInfo;\n import org.apache.syncope.client.enduser.model.SchemaResponse;\n import org.apache.syncope.common.lib.to.SchemaTO;\n import org.apache.syncope.common.lib.to.TypeExtensionTO;\n@@ -88,38 +89,47 @@ protected AbstractResource.ResourceResponse newResourceResponse(final IResource.\n             }\n \n             // USER from customization, if empty or null ignore it, use it to filter attributes otherwise\n-            Map<String, CustomAttributesInfo> customForm = SyncopeEnduserApplication.get().getCustomForm();\n+            Map<String, CustomAttributesInfo> customFormAttributes =\n+                    SyncopeEnduserApplication.get().getCustomFormAttributes();\n+            CustomTemplateInfo customTemplate =\n+                    SyncopeEnduserApplication.get().getCustomTemplate();\n \n             SchemaService schemaService = SyncopeEnduserSession.get().getService(SchemaService.class);\n             final List<SchemaTO> plainSchemas = classes.isEmpty()\n                     ? Collections.<SchemaTO>emptyList()\n-                    : customForm == null || customForm.isEmpty() || customForm.get(SchemaType.PLAIN.name()) == null\n+                    : customFormAttributes == null\n+                    || customFormAttributes.isEmpty()\n+                    || customFormAttributes.get(SchemaType.PLAIN.name()) == null\n                     ? schemaService.search(\n                             new SchemaQuery.Builder().type(SchemaType.PLAIN).anyTypeClasses(classes).build())\n-                    : customForm.get(SchemaType.PLAIN.name()).isShow()\n+                    : customTemplate.getWizard().getSteps().containsKey(\"plainSchemas\")\n                     ? customizeSchemas(schemaService.search(new SchemaQuery.Builder().type(SchemaType.PLAIN).\n-                            anyTypeClasses(classes).build()), group, customForm.get(SchemaType.PLAIN.name()).\n-                            getAttributes())\n+                            anyTypeClasses(classes).build()), group,\n+                            customFormAttributes.get(SchemaType.PLAIN.name()).getAttributes())\n                     : Collections.<SchemaTO>emptyList();\n             final List<SchemaTO> derSchemas = classes.isEmpty()\n                     ? Collections.<SchemaTO>emptyList()\n-                    : customForm == null || customForm.isEmpty() || customForm.get(SchemaType.DERIVED.name()) == null\n+                    : customFormAttributes == null\n+                    || customFormAttributes.isEmpty()\n+                    || customFormAttributes.get(SchemaType.DERIVED.name()) == null\n                     ? schemaService.search(\n                             new SchemaQuery.Builder().type(SchemaType.DERIVED).anyTypeClasses(classes).build())\n-                    : customForm.get(SchemaType.DERIVED.name()).isShow()\n+                    : customTemplate.getWizard().getSteps().containsKey(\"derivedSchemas\")\n                     ? customizeSchemas(schemaService.search(new SchemaQuery.Builder().type(SchemaType.DERIVED).\n-                            anyTypeClasses(classes).build()), group, customForm.get(SchemaType.DERIVED.name()).\n-                            getAttributes())\n+                            anyTypeClasses(classes).build()), group,\n+                            customFormAttributes.get(SchemaType.DERIVED.name()).getAttributes())\n                     : Collections.<SchemaTO>emptyList();\n             final List<SchemaTO> virSchemas = classes.isEmpty()\n                     ? Collections.<SchemaTO>emptyList()\n-                    : customForm == null || customForm.isEmpty() || customForm.get(SchemaType.VIRTUAL.name()) == null\n+                    : customFormAttributes == null\n+                    || customFormAttributes.isEmpty()\n+                    || customFormAttributes.get(SchemaType.VIRTUAL.name()) == null\n                     ? schemaService.search(\n                             new SchemaQuery.Builder().type(SchemaType.VIRTUAL).anyTypeClasses(classes).build())\n-                    : customForm.get(SchemaType.VIRTUAL.name()).isShow()\n+                    : customTemplate.getWizard().getSteps().containsKey(\"virtualSchemas\")\n                     ? customizeSchemas(schemaService.search(new SchemaQuery.Builder().type(SchemaType.VIRTUAL).\n-                            anyTypeClasses(classes).build()), group, customForm.get(SchemaType.VIRTUAL.name()).\n-                            getAttributes())\n+                            anyTypeClasses(classes).build()), group,\n+                            customFormAttributes.get(SchemaType.VIRTUAL.name()).getAttributes())\n                     : Collections.<SchemaTO>emptyList();\n \n             if (group != null) {\n@@ -161,21 +171,20 @@ public void writeData(final IResource.Attributes attributes) throws IOException\n     private List<SchemaTO> customizeSchemas(\n             final List<SchemaTO> schemaTOs,\n             final String groupParam,\n-            final Map<String, CustomAttribute> customForm) {\n-\n-        if (customForm.isEmpty()) {\n+            final Map<String, CustomAttribute> customFormAttributes) {\n+        if (customFormAttributes.isEmpty()) {\n             return schemaTOs;\n         }\n         final boolean isGroupBlank = StringUtils.isBlank(groupParam);\n \n         schemaTOs.removeAll(schemaTOs.stream().\n-                filter(schema -> !customForm.containsKey(isGroupBlank\n+                filter(schema -> !customFormAttributes.containsKey(isGroupBlank\n                 ? schema.getKey()\n                 : compositeSchemaKey(groupParam, schema.getKey()))).\n                 collect(Collectors.toSet()));\n \n         Collections.sort(schemaTOs, (schemaTO1, schemaTO2) -> {\n-            List<String> order = new ArrayList<>(customForm.keySet());\n+            List<String> order = new ArrayList<>(customFormAttributes.keySet());\n             return order.indexOf(isGroupBlank\n                     ? schemaTO1.getKey()\n                     : compositeSchemaKey(groupParam, schemaTO1.getKey()))"},{"sha":"e017d450b34bbdb97b7f361a7882f5d745630b32","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserSelfCreateResource.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfCreateResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfCreateResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfCreateResource.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -81,7 +81,8 @@ protected ResourceResponse newResourceResponse(final Attributes attributes) {\n                 LOG.trace(\"Request is [{}]\", userTO);\n \n                 // check if request is compliant with customization form rules\n-                if (UserRequestValidator.compliant(userTO, SyncopeEnduserApplication.get().getCustomForm(), true)) {\n+                if (UserRequestValidator.compliant(userTO,\n+                        SyncopeEnduserApplication.get().getCustomFormAttributes(), true)) {\n \n                     // 1. membership attributes management\n                     Set<AttrTO> membAttrs = new HashSet<>();"},{"sha":"3e8e2ceedd93034b41c44564d302dde2ecd544cd","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserSelfReadResource.java","status":"modified","additions":7,"deletions":8,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfReadResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfReadResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfReadResource.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -97,7 +97,7 @@ protected ResourceResponse newResourceResponse(final IResource.Attributes attrib\n                 membership.getVirAttrs().clear();\n             }\n             // USER from customization, if empty or null ignore it, use it to filter attributes otherwise\n-            applyFromCustomization(userTO, SyncopeEnduserApplication.get().getCustomForm());\n+            applyFromCustomization(userTO, SyncopeEnduserApplication.get().getCustomFormAttributes());\n \n             // 1.1 Date -> millis conversion for PLAIN attributes of USER\n             for (PlainSchemaTO plainSchema : SyncopeEnduserSession.get().getDatePlainSchemas()) {\n@@ -127,26 +127,25 @@ public void writeData(final Attributes attributes) throws IOException {\n         return response;\n     }\n \n-    private void applyFromCustomization(final UserTO userTO, final Map<String, CustomAttributesInfo> customForm) {\n-        if (customForm != null && !customForm.isEmpty()) {\n+    private void applyFromCustomization(final UserTO userTO,\n+            final Map<String, CustomAttributesInfo> customFormAttributes) {\n+        if (customFormAttributes != null && !customFormAttributes.isEmpty()) {\n             // filter PLAIN attributes\n-            customizeAttrTOs(userTO.getPlainAttrs(), customForm.get(SchemaType.PLAIN.name()));\n+            customizeAttrTOs(userTO.getPlainAttrs(), customFormAttributes.get(SchemaType.PLAIN.name()));\n             // filter DERIVED attributes\n-            customizeAttrTOs(userTO.getDerAttrs(), customForm.get(SchemaType.DERIVED.name()));\n+            customizeAttrTOs(userTO.getDerAttrs(), customFormAttributes.get(SchemaType.DERIVED.name()));\n             // filter VIRTUAL attributes\n-            customizeAttrTOs(userTO.getVirAttrs(), customForm.get(SchemaType.VIRTUAL.name()));\n+            customizeAttrTOs(userTO.getVirAttrs(), customFormAttributes.get(SchemaType.VIRTUAL.name()));\n         }\n     }\n \n     private void customizeAttrTOs(final Set<AttrTO> attrs, final CustomAttributesInfo customAttributesInfo) {\n         if (customAttributesInfo != null\n-                && customAttributesInfo.isShow()\n                 && !customAttributesInfo.getAttributes().isEmpty()) {\n \n             attrs.removeAll(attrs.stream().\n                     filter(attr -> !customAttributesInfo.getAttributes().containsKey(attr.getSchema())).\n                     collect(Collectors.toList()));\n-        } else if (customAttributesInfo != null && !customAttributesInfo.isShow()) {\n             attrs.clear();\n         }\n     }"},{"sha":"3cccb8fe2008e39aa9f9281739fc8701264e2eb2","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserSelfUpdateResource.java","status":"modified","additions":4,"deletions":3,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfUpdateResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfUpdateResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfUpdateResource.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -66,10 +66,11 @@ protected ResourceResponse newResourceResponse(final IResource.Attributes attrib\n             }\n \n             UserTO userTO = MAPPER.readValue(request.getReader().readLine(), UserTO.class);\n-            Map<String, CustomAttributesInfo> customForm = SyncopeEnduserApplication.get().getCustomForm();\n+            Map<String, CustomAttributesInfo> customFormAttributes =\n+                    SyncopeEnduserApplication.get().getCustomFormAttributes();\n \n             // check if request is compliant with customization form rules\n-            if (UserRequestValidator.compliant(userTO, customForm, false)) {\n+            if (UserRequestValidator.compliant(userTO, customFormAttributes, false)) {\n                 // 1. membership attributes management\n                 Set<AttrTO> membAttrs = new HashSet<>();\n                 userTO.getPlainAttrs().stream().\n@@ -146,7 +147,7 @@ protected ResourceResponse newResourceResponse(final IResource.Attributes attrib\n                 // get old user object from session\n                 UserTO selfTO = SyncopeEnduserSession.get().getSelfTO();\n                 // align \"userTO\" and \"selfTO\" objects\n-                if (customForm != null && !customForm.isEmpty()) {\n+                if (customFormAttributes != null && !customFormAttributes.isEmpty()) {\n                     completeUserObject(userTO, selfTO);\n                 }\n                 // create diff patch"},{"sha":"7772fcbc8aacd515ef66a043018153f0f34fa0b9","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/util/UserRequestValidator.java","status":"modified","additions":23,"deletions":6,"changes":29,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Futil%2FUserRequestValidator.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Futil%2FUserRequestValidator.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Futil%2FUserRequestValidator.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -19,8 +19,10 @@\n package org.apache.syncope.client.enduser.util;\n \n import java.util.Map;\n+import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.client.enduser.model.CustomAttribute;\n import org.apache.syncope.client.enduser.model.CustomAttributesInfo;\n+import org.apache.syncope.client.enduser.model.CustomTemplateInfo;\n import org.apache.syncope.common.lib.EntityTOUtils;\n import org.apache.syncope.common.lib.to.AttrTO;\n import org.apache.syncope.common.lib.to.UserTO;\n@@ -35,26 +37,26 @@ public final class UserRequestValidator {\n     private UserRequestValidator() {\n     }\n \n-    public static boolean compliant(final UserTO userTO, final Map<String, CustomAttributesInfo> customForm,\n+    public static boolean compliant(final UserTO userTO, final Map<String, CustomAttributesInfo> customFormAttributes,\n             final boolean checkDefaultValues) {\n \n-        if (customForm == null || customForm.isEmpty()) {\n+        if (customFormAttributes == null || customFormAttributes.isEmpty()) {\n             return true;\n         }\n \n         return validateAttributes(EntityTOUtils.buildAttrMap(userTO.getPlainAttrs()),\n-                customForm.get(SchemaType.PLAIN.name()), checkDefaultValues)\n+                customFormAttributes.get(SchemaType.PLAIN.name()), checkDefaultValues)\n                 && validateAttributes(EntityTOUtils.buildAttrMap(userTO.getDerAttrs()),\n-                        customForm.get(SchemaType.DERIVED.name()), checkDefaultValues)\n+                        customFormAttributes.get(SchemaType.DERIVED.name()), checkDefaultValues)\n                 && validateAttributes(EntityTOUtils.buildAttrMap(userTO.getVirAttrs()),\n-                        customForm.get(SchemaType.VIRTUAL.name()), checkDefaultValues);\n+                        customFormAttributes.get(SchemaType.VIRTUAL.name()), checkDefaultValues);\n     }\n \n     private static boolean validateAttributes(final Map<String, AttrTO> attrMap,\n             final CustomAttributesInfo customAttrInfo, final boolean checkDefaultValues) {\n \n         return customAttrInfo == null\n-                || (customAttrInfo.getAttributes().isEmpty() && customAttrInfo.isShow())\n+                || customAttrInfo.getAttributes().isEmpty()\n                 || attrMap.entrySet().stream().allMatch(entry -> {\n                     String schemaKey = entry.getKey();\n                     AttrTO attrTO = entry.getValue();\n@@ -69,6 +71,21 @@ private static boolean validateAttributes(final Map<String, AttrTO> attrMap,\n \n     }\n \n+    public static boolean validateSteps(final CustomTemplateInfo customTemplateInfo) {\n+        return customTemplateInfo != null\n+                && StringUtils.isNotBlank(customTemplateInfo.getWizard().getFirstStep())\n+                && !customTemplateInfo.getWizard().getSteps().isEmpty();\n+\n+    }\n+\n+    public static boolean validateStep(final String stepName, final CustomTemplateInfo customTemplateInfo) {\n+        return customTemplateInfo != null\n+                && !customTemplateInfo.getWizard().getSteps().isEmpty()\n+                && customTemplateInfo.getWizard().getSteps().containsKey(stepName)\n+                && StringUtils.isNotBlank(customTemplateInfo.getWizard().getSteps().get(stepName).getUrl());\n+\n+    }\n+\n     private static boolean isValid(final AttrTO attrTO, final CustomAttribute customAttribute) {\n         return customAttribute.isReadonly()\n                 ? attrTO.getValues().stream().allMatch(value -> customAttribute.getDefaultValues().contains(value))"},{"sha":"494fb66f42b04b3d7f2676d83a572011b1ca40f8","filename":"client/enduser/src/main/resources/META-INF/resources/app/css/app.css","status":"modified","additions":54,"deletions":53,"changes":107,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Fapp.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Fapp.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Fapp.css?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -17,7 +17,8 @@ specific language governing permissions and limitations\n under the License.\n */\n \n-/* app general css stylesheet */\n+/* App general css stylesheet\n+============================================================================= */\n \n .growl-container > .growl-item.ng-enter,\n .growl-container > .growl-item.ng-leave {\n@@ -27,73 +28,73 @@ under the License.\n   transition:1s linear all;\n }\n \n-.k-notification-wrap{\n-  white-space: normal !important;\n-  word-wrap: break-word !important;\n-  font-size: 12px;\n-\n+.disable-link {\n+  pointer-events: none;\n+  cursor: default;\n }\n \n-.k-notification{\n-  width : 320px;\n-  font-size: 12px;\n+.form-control:disabled, \n+.form-control[readonly] {\n+  cursor: not-allowed;\n }\n \n-.suggestions{\n-  font-size: 10px;\n-  display: inline-block;\n-  margin-bottom: 5px;\n+.card-container.card {\n+  width: 350px;\n+  padding: 40px 40px 0px;\n }\n \n-#resetpassword{\n-  background: -moz-linear-gradient(top, #a9db80 0%, #96c56f 100%); /* FF3.6+ */\n-  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#a9db80), color-stop(100%,#96c56f)); /* Chrome,Safari4+ */\n-  background: -webkit-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Chrome10+,Safari5.1+ */\n-  background: -o-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Opera 11.10+ */\n-  background: -ms-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* IE10+ */\n-  color: black;\n-  margin-left: 5px;\n-  /*width: 15%;*/\n-}\n-#resetpassword:hover {\n-  background: #658D5D;\n-}\n-#captchaImg{\n-  display: block;\n-  margin: 0 auto;\n+.card {\n+  background-color: #F7F7F7;\n+  /* just in case there no content*/\n+  padding: 20px 25px 30px;\n+  margin: 0 auto 25px;\n+  margin-top: 50px;\n+  /* shadows and rounded borders */\n+  -moz-border-radius: 2px;\n+  -webkit-border-radius: 2px;\n+  border-radius: 2px;\n+  -moz-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n+  -webkit-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n+  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n }\n \n-.disable-link{\n-  pointer-events: none;\n-  cursor: default;\n+.form-control {\n+  display: block;\n+  width: 100%;\n+  height: 34px;\n+  padding: 6px 12px;\n+  font-size: 14px;\n+  line-height: 1.42857;\n+  color: #555;\n+  background-color: #FFF;\n+  /*background-image: none;*/\n+  border: 1px solid #CCC;\n+  border-radius: 4px;\n+  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.075) inset;\n+  transition: border-color 0.15s ease-in-out 0s, box-shadow 0.15s ease-in-out 0s;\n }\n \n-.treasure-overlay-spinner-container{\n-  z-index : 10001;\n+#captchaButtons {\n+  margin-top: 5%;\n+  margin-bottom: 10px;\n }\n \n-treasure-overlay-spinner .treasure-overlay-spinner-content {\n-  height: 100%;\n-}\n-treasure-overlay-spinner {\n-  height: 100%;\n-  top: 0;\n-  bottom: 0;\n-  position: fixed;\n-  right: 0;\n-  left: 0;\n-  overflow-y: auto;\n+/* <!-- Useless with Bootstrap > 3 */\n+.p-0 {\n+  padding-left: 0 !important;\n+  padding-right: 0 !important;\n }\n \n-treasure-overlay-spinner .treasure-overlay-spinner {\n-  position: fixed;\n+.float-left {\n+  float: left !important;\n }\n-\n-treasure-overlay-spinner .treasure-overlay-spinner-container {\n-  position: fixed;\n-  background: rgba(0, 0, 0, 0.5490196078431373);\n+.float-right {\n+  float: right !important;\n }\n \n-treasure-overlay-spinner.treasure-overlay-spinner-active-remove{\n-  transition: all 150ms ease-in 0s\n+.btn-default {\n+  color: #333;\n+  background-color: #fff;\n+  border-color: #ccc;\n }\n+/* Useless with Bootstrap > 3 --> */\n\\ No newline at end of file"},{"sha":"bbfe1de2327026a758440e90dcf53a81ddffbbf8","filename":"client/enduser/src/main/resources/META-INF/resources/app/css/customSpinner.css","status":"added","additions":49,"deletions":0,"changes":49,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FcustomSpinner.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FcustomSpinner.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FcustomSpinner.css?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,49 @@\n+/*\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+*/\n+\n+.treasure-overlay-spinner-container{\n+  z-index : 10001;\n+}\n+\n+treasure-overlay-spinner .treasure-overlay-spinner-content {\n+  height: 100%;\n+}\n+treasure-overlay-spinner {\n+  height: 100%;\n+  top: 0;\n+  bottom: 0;\n+  position: fixed;\n+  right: 0;\n+  left: 0;\n+  overflow-y: auto;\n+}\n+\n+treasure-overlay-spinner .treasure-overlay-spinner {\n+  position: fixed;\n+  pointer-events: none;\n+}\n+\n+treasure-overlay-spinner .treasure-overlay-spinner-container {\n+  position: fixed;\n+  background: rgba(0, 0, 0, 0.5490196078431373);\n+}\n+\n+treasure-overlay-spinner.treasure-overlay-spinner-active-remove {\n+  transition: all 150ms ease-in 0s;\n+}\n\\ No newline at end of file"},{"sha":"41ba63cadc99c46cebacb8a4f3e483ca68a884ba","filename":"client/enduser/src/main/resources/META-INF/resources/app/css/editUser.css","status":"modified","additions":207,"deletions":162,"changes":369,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FeditUser.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FeditUser.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FeditUser.css?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -17,6 +17,8 @@ specific language governing permissions and limitations\n under the License.\n */\n \n+/* Default style\n+============================================================================= */\n * {\n   box-sizing: border-box;\n }\n@@ -27,6 +29,7 @@ under the License.\n   margin-top:-4px;\n   margin: 0 auto;\n   text-align: center;\n+  background-color: #F7F7F7;\n }\n \n #form-container .breadcrumb-header{\n@@ -35,20 +38,23 @@ under the License.\n   padding:10px; \n }\n \n-#form-container .page-header   { background: -moz-linear-gradient(top, #a9db80 0%, #96c56f 100%); /* FF3.6+ */\n-                                 background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#a9db80), color-stop(100%,#96c56f)); /* Chrome,Safari4+ */\n-                                 background: -webkit-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Chrome10+,Safari5.1+ */\n-                                 background: -o-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Opera 11.10+ */\n-                                 background: -ms-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* IE10+ */ \n-                                 margin: 1% 9%;\n-                                 width: 83%; padding:10px; \n-                                 /* shadows and rounded borders */\n-                                 -moz-border-radius: 5px;\n-                                 -webkit-border-radius: 5px;\n-                                 border-radius: 5px;\n-                                 -moz-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n-                                 -webkit-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n-                                 box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n+#form-container .page-header   { \n+  background: -moz-linear-gradient(top, #a9db80 0%, #96c56f 100%); /* FF3.6+ */\n+  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#a9db80), color-stop(100%,#96c56f)); /* Chrome,Safari4+ */\n+  background: -webkit-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Chrome10+,Safari5.1+ */\n+  background: -o-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Opera 11.10+ */\n+  background: -ms-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* IE10+ */ \n+  margin: 1% 9%;\n+  width: 83%; padding:10px; \n+  /* shadows and rounded borders */\n+  -moz-border-radius: 5px;\n+  -webkit-border-radius: 5px;\n+  border-radius: 5px;\n+  -moz-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n+  -webkit-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n+  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n+  text-align: left; \n+  font-weight: 700;\n }\n \n .signup-form {\n@@ -93,79 +99,41 @@ under the License.\n   list-style: none;\n }\n \n-#previous {\n-  background: -moz-linear-gradient(top, #a9db80 0%, #96c56f 100%);  /*FF3.6+ */\n-  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#a9db80), color-stop(100%,#96c56f));  /*Chrome,Safari4+ */\n-  background: -webkit-linear-gradient(top, #a9db80 0%,#96c56f 100%);  /*Chrome10+,Safari5.1+ */\n-  background: -o-linear-gradient(top, #a9db80 0%,#96c56f 100%);  /*Opera 11.10+*/ \n-  background: -ms-linear-gradient(top, #a9db80 0%,#96c56f 100%);  /*IE10+*/ \n-  display: inline-block;\n-  color: black;\n-  padding-left: 8px;\n-  padding-right: 8px;\n-  margin-left: 5px;\n-}\n-\n-#previous:hover {\n-  background: #658D5D;\n-}\n-\n-#next{\n-  background: -moz-linear-gradient(top, #a9db80 0%, #96c56f 100%); /*FF3.6+ */\n+#next,\n+#previous,\n+#save,\n+#finish {\n+  background: -moz-linear-gradient(top, #a9db80 0%, #96c56f 100%);  /*FF3.6+*/ \n   background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#a9db80), color-stop(100%,#96c56f));  /*Chrome,Safari4+ */\n   background: -webkit-linear-gradient(top, #a9db80 0%,#96c56f 100%);  /*Chrome10+,Safari5.1+ */\n   background: -o-linear-gradient(top, #a9db80 0%,#96c56f 100%);  /*Opera 11.10+ */\n   background: -ms-linear-gradient(top, #a9db80 0%,#96c56f 100%);  /*IE10+ */\n   display: inline-block;\n-  margin-left: 5px;\n+\n   padding-left: 8px;\n   padding-right: 8px;\n-  float: right;\n+  margin-left: 5px;\n+  border: none;\n   color: black;\n }\n \n+#save:hover,\n+#previous:hover,\n+#finish:hover,\n #next:hover {\n   background: #658D5D;\n }\n \n-#save{\n-  background: -moz-linear-gradient(top, #a9db80 0%, #96c56f 100%);  /*FF3.6+*/ \n-  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#a9db80), color-stop(100%,#96c56f));  /*Chrome,Safari4+ */\n-  background: -webkit-linear-gradient(top, #a9db80 0%,#96c56f 100%);  /*Chrome10+,Safari5.1+ */\n-  background: -o-linear-gradient(top, #a9db80 0%,#96c56f 100%);  /*Opera 11.10+ */\n-  background: -ms-linear-gradient(top, #a9db80 0%,#96c56f 100%);  /*IE10+ */\n-  color: black;\n-  display: inline-block;\n-  padding-left: 8px;\n-  padding-right: 8px;\n-  margin-left: 5px;\n+#save {\n   margin-right: 5px;\n }\n \n-#save:hover {\n-  background: #658D5D;\n-}\n-\n-#finish{\n-  background: -moz-linear-gradient(top, #a9db80 0%, #96c56f 100%);  /*FF3.6+ */\n-  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#a9db80), color-stop(100%,#96c56f));  /*Chrome,Safari4+ */\n-  background: -webkit-linear-gradient(top, #a9db80 0%,#96c56f 100%);  /*Chrome10+,Safari5.1+*/ \n-  background: -o-linear-gradient(top, #a9db80 0%,#96c56f 100%);  /*Opera 11.10+ */\n-  background: -ms-linear-gradient(top, #a9db80 0%,#96c56f 100%);  /*IE10+*/\n-  display: inline-block;\n-  margin-left:5px;\n-  padding-left: 8px;\n-  padding-right: 8px;\n-  color: black;\n-  margin-left: 5px;\n+#finish {\n   margin-right: 5px;\n }\n \n-#finish:hover {\n-  background: #658D5D;\n-}\n-\n #cancel {\n+  color: #fff;\n   margin-top: 0%;\n }\n \n@@ -228,31 +196,23 @@ span.k-datetimepicker{\n \n /** Button breadcrumb **/\n .btn-breadcrumb .btn:not(:last-child):after {\n-  content: \" \";\n-  display: block;\n-  width: 0;\n-  height: 0;\n-  border-top: 17px solid transparent;\n-  border-bottom: 17px solid transparent;\n   border-left: 10px solid white;\n-  position: absolute;\n-  top: 50%;\n-  margin-top: -17px;\n-  left: 100%;\n-  z-index: 3;\n }\n .btn-breadcrumb .btn:not(:last-child):before {\n+  margin-left: 1px;\n+  border-left: 10px solid rgb(173, 173, 173);\n+}\n+.btn-breadcrumb .btn:not(:last-child):before,\n+.btn-breadcrumb .btn:not(:last-child):after {\n   content: \" \";\n   display: block;\n   width: 0;\n   height: 0;\n   border-top: 17px solid transparent;\n   border-bottom: 17px solid transparent;\n-  border-left: 10px solid rgb(173, 173, 173);\n   position: absolute;\n   top: 50%;\n   margin-top: -17px;\n-  margin-left: 1px;\n   left: 100%;\n   z-index: 3;\n }\n@@ -268,41 +228,154 @@ span.k-datetimepicker{\n   padding:6px 18px 6px 24px;\n }\n \n-/** Default button **/\n-.btn-breadcrumb .btn.btn-default:not(:last-child):after {\n+/** Default buttons **/\n+.breadcrumb-disabled-link {\n+  pointer-events: none;\n+  cursor: default;\n+}\n+\n+.breadcrumb-btn-elem {\n+  border-color: #ccc;\n+}\n+\n+.btn-breadcrumb .breadcrumb-btn-elem:not(:last-child):after {\n   border-left: 10px solid #fff;\n }\n-.btn-breadcrumb .btn.btn-default:not(:last-child):before {\n+.btn-breadcrumb .breadcrumb-btn-elem:not(:last-child):before {\n   border-left: 10px solid #ccc;\n }\n-.btn-breadcrumb .btn.btn-default:hover:not(:last-child):after {\n+\n+.btn-breadcrumb .breadcrumb-btn-elem.active:not(:last-child):after,\n+.btn-breadcrumb .breadcrumb-btn-elem:hover:not(:last-child):after {\n   border-left: 10px solid #ebebeb;\n }\n-.btn-breadcrumb .btn.btn-default:hover:not(:last-child):before {\n+.btn-breadcrumb .breadcrumb-btn-elem.active:not(:last-child):before,\n+.btn-breadcrumb .breadcrumb-btn-elem:hover:not(:last-child):before {\n   border-left: 10px solid #adadad;\n }\n \n-.btn-breadcrumb .btn.btn-default.active:not(:last-child):after {\n-  border-left: 10px solid #e6e6e6;\n+.btn-breadcrumb .breadcrumb-btn-elem.active {\n+  box-shadow: 0 0px 0px rgba(0, 0, 0, 0.125)\n+}\n+.btn-breadcrumb .breadcrumb-btn-elem:focus {\n+  box-shadow: none !important;\n }\n \n-.btn-breadcrumb .btn.btn-default.active {\n-  box-shadow: 0 0px 0px rgba(0, 0, 0, 0.125)\n+.btn-breadcrumb .btn:before,\n+.btn-breadcrumb .btn:after {\n+  transition: all .15s ease-in-out;\n }\n \n-.breadcrumb-disabled-link {\n-  pointer-events: none;\n-  cursor: default;\n+div[role=\"tablist\"] {\n+  margin-bottom: 20px;\n+}\n+\n+/* For Bootstrap 4 */\n+\n+/*\n+.btn-breadcrumb .breadcrumb-btn-elem:hover {\n+  color: #ffffff !important;\n+}\n+\n+.btn-breadcrumb .breadcrumb-btn-elem:not(:hover),\n+.btn-breadcrumb .breadcrumb-home:not(:hover) {\n+  color: #333;\n+  background-color: #fff;\n+}\n+\n+.btn-breadcrumb .breadcrumb-btn-elem:hover:not(:last-child):after,\n+.btn-breadcrumb .breadcrumb-btn-elem:hover:not(:last-child):before,\n+.btn-breadcrumb .breadcrumb-btn-elem.active:not(:last-child):after,\n+.btn-breadcrumb .breadcrumb-btn-elem.active:not(:last-child):before {\n+  border-left: 10px solid #4c4c4c;\n+}\n+*/\n+\n+.btn-file {\n+  background: transparent;\n+  color: black;\n }\n \n .text-validation-error{\n   color: #dd301b;\n   font-weight: 600;\n }\n \n-/*--------------end default style*/\n+.multivalue button{\n+  float: right\n+}\n+.schema-type #date{\n+  margin-top: 35px;\n+  margin-bottom: 2px;\n+}\n+\n+.multivalue input{\n+  width: calc(100% - 70px);\n+  margin-top: 10px\n+}\n+\n+.multivalue input:disabled{\n+  width: 100%;  \n+}\n+\n+.multivalue button{\n+  margin-top: 2px\n+}\n+\n+.multivalue #datetime{\n+  margin-top: 0px\n+}\n+\n+#datetime input{\n+  width: 100%;\n+  margin-top: 0px\n+}\n+#timepicker input{\n+  width: 50px;\n+  margin-top: 0px\n+}\n \n-/*style for devices max width 350 */\n+.multivalue #timepicker {\n+  margin-top: -35px;\n+}\n+\n+.suggestions{\n+  font-size: 10px;\n+  display: inline-block;\n+  margin-bottom: 5px;\n+}\n+\n+#status-buttons {\n+  padding-left: 15px;\n+  -webkit-flex-flow: row wrap; /* Safari 6.1+ */\n+  flex-flow: row wrap;\n+}\n+\n+.card.card-open {\n+  background-color: #ffffff;\n+}\n+\n+.card-header a {\n+  text-decoration: none;\n+}\n+\n+.card-header h5 a {\n+  color: black;\n+}\n+\n+.card-header {\n+  padding: 2px 15px;\n+  border-bottom: 1px solid transparent;\n+  border-top-left-radius: 3px;\n+  border-top-right-radius: 3px;\n+  background-color: #f5f5f5;\n+  border-color: #ddd;\n+}\n+/* end default style\n+============================================================================= */\n+\n+/* Style for devices max width 350\n+============================================================================= */\n @media only screen and (max-width: 350px) {\n \n   input[type=file] {\n@@ -337,39 +410,42 @@ span.k-datetimepicker{\n     padding: 0px 0px 1px 0px\n   }\n \n-  #finish{\n+  #finish,\n+  #save,\n+  #next,\n+  #previous {\n     padding-left: 2px;\n     padding-right: 2px;\n+  }\n+\n+  #finish{\n     margin-left:-27px;\n     margin-top: 2px;\n   }\n   #next{\n-    padding-left: 2px;\n-    padding-right: 2px;\n     margin-left: 1px;\n   }\n   #previous{\n-    padding-left: 2px;\n-    padding-right: 2px;\n     margin-left:-126px;\n   }\n   #save{\n     margin-top: 4px;\n-    padding-left: 2px;\n-    padding-right: 2px;\n     margin-top:-31px;\n     margin-left: -42px;\n     margin-right: 15px;\n   }\n-  \n+\n   span.k-datetimepicker {\n     width: 141%;\n     margin-top: -50px;\n-}\n+  }\n \n }\n+/* \n+============================================================================= */\n \n-/*style for devices max width 400 */\n+/* Style for devices max width 400\n+============================================================================= */\n @media only screen and (max-width: 400px) {\n \n   input[type=file] {\n@@ -418,36 +494,42 @@ span.k-datetimepicker{\n     padding:6px 18px 6px 24px;\n   }\n \n-  #finish{\n+  #next,\n+  #finish,\n+  #previous,\n+  #save {\n     padding-left: 2px;\n+  }\n+\n+  #finish {\n     padding-right: 2px;\n     margin-right: -3px;\n     margin-left: 0px;\n   }\n-  #next{\n-    padding-left: 2px;\n+  #next {\n     padding-right: 2px;\n     margin-right: 23px;\n   }\n-  #previous{\n-    padding-left: 2px;\n+  #previous {\n     padding-right: 2px;\n     margin-left: 0px\n   }\n-  #save{\n-    padding-left: 2px;\n+  #save {\n     padding-right: 0px;\n     margin-left: -21px;\n     margin-top: 4px;\n   }\n-  \n-    span.k-datetimepicker{\n+\n+  span.k-datetimepicker{\n     width: 160%;\n   }\n \n }\n+/* \n+============================================================================= */\n \n-/*style for devices max width 500*/\n+/* Style for devices max width 500\n+============================================================================= */\n @media only screen and (max-width: 500px) {\n \n   * {\n@@ -483,17 +565,13 @@ span.k-datetimepicker{\n     font-size: 12px;\n   }\n \n-  .btn-group .btn+.btn, .btn-group .btn+.btn-group, .btn-group .btn-group+.btn, .btn-group .btn-group+.btn-group {\n+  .btn-group .btn+.btn, \n+  .btn-group .btn+.btn-group, \n+  .btn-group .btn-group+.btn, \n+  .btn-group .btn-group+.btn-group {\n     margin-left: 0px;\n   }\n \n-  .btn-default {\n-    color: #333;\n-    background-color: #fff;\n-    border-color: #ccc;\n-    /*width: 100%;*/\n-  }\n-\n   .card-container.card {\n     width: 295px;\n     padding: 40px 40px 0px;\n@@ -543,12 +621,10 @@ span.k-datetimepicker{\n \n   .select2-results .select2-result-label{\n     font-size: 12px;\n-\n   }\n \n   .select2-container-multi .select2-choices .select2-search-field input{\n     font-size:12px;\n-\n   }\n \n   #datetime{\n@@ -666,8 +742,11 @@ span.k-datetimepicker{\n \n   }\n }\n+/* \n+============================================================================= */\n \n-/*style for devices max width 800) */\n+/* Style for devices max width 800)\n+============================================================================= */\n @media only screen and (max-width: 800px) {\n \n   * {\n@@ -702,6 +781,8 @@ span.k-datetimepicker{\n   }\n \n }\n+/* \n+============================================================================= */\n \n /* ANIMATIONS\n ============================================================================= */\n@@ -729,41 +810,5 @@ span.k-datetimepicker{\n   from    { -webkit-transform:translateX(300%); }\n   to      { -webkit-transform: translateX(0); }\n }\n-\n-.multivalue button{\n-  float: right\n-}\n-.schema-type #date{\n-  margin-top: 35px;\n-  margin-bottom: 2px;\n-}\n-\n-.multivalue input{\n-  width: calc(100% - 70px);\n-  margin-top: 10px\n-}\n-\n-.multivalue input:disabled{\n-  width: 100%;  \n-}\n-\n-.multivalue button{\n-  margin-top: 2px\n-}\n-\n-.multivalue #datetime{\n-  margin-top: 0px\n-}\n-\n-#datetime input{\n-  width: 100%;\n-  margin-top: 0px\n-}\n-#timepicker input{\n-  width: 50px;\n-  margin-top: 0px\n-}\n-\n-.multivalue #timepicker {\n-  margin-top: -35px;\n-}\n+/* \n+============================================================================= */"},{"sha":"03212f34797453070c5ab1eabadbc87a12891b7d","filename":"client/enduser/src/main/resources/META-INF/resources/app/css/login.css","status":"modified","additions":5,"deletions":36,"changes":41,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Flogin.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Flogin.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Flogin.css?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -54,26 +54,6 @@ body{\n   float: right;\n }\n \n-.card-container.card {\n-  width: 350px;\n-  padding: 40px 40px 0px;\n-}\n-\n-.card {\n-  background-color: #F7F7F7;\n-  /* just in case there no content*/\n-  padding: 20px 25px 30px;\n-  margin: 0 auto 25px;\n-  margin-top: 50px;\n-  /* shadows and rounded borders */\n-  -moz-border-radius: 2px;\n-  -webkit-border-radius: 2px;\n-  border-radius: 2px;\n-  -moz-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n-  -webkit-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n-  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n-}\n-\n .login-logo {\n   width: 200px;\n   margin: 0px auto 10px;\n@@ -93,22 +73,11 @@ body{\n   box-sizing: border-box;\n }\n \n-.form-control {\n-  display: block;\n-  width: 100%;\n-  height: 34px;\n-  padding: 6px 12px;\n-  font-size: 14px;\n-  line-height: 1.42857;\n-  color: #555;\n-  background-color: #FFF;\n-  background-image: none;\n-  border: 1px solid #CCC;\n-  border-radius: 4px;\n-  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.075) inset;\n-  transition: border-color 0.15s ease-in-out 0s, box-shadow 0.15s ease-in-out 0s;\n-}\n-\n input[type=\"number\"]{\n   padding-right: 0px !important\n }\n+\n+.dropdown-toggle {\n+  width: 100%; \n+  text-align: left;\n+}\n\\ No newline at end of file"},{"sha":"f2d190ebea7e03ee69060507e48283c88e81e72d","filename":"client/enduser/src/main/resources/META-INF/resources/app/css/notification.css","status":"added","additions":28,"deletions":0,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Fnotification.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Fnotification.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Fnotification.css?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,28 @@\n+/*\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+*/\n+\n+.k-notification-wrap {\n+  white-space: normal !important;\n+  word-wrap: break-word !important;\n+}\n+\n+.k-icon {\n+  margin-right: 5px;\n+  vertical-align: sub;\n+}\n\\ No newline at end of file"},{"sha":"4f03f25c964d3acdabf2328832a7aa50911029d2","filename":"client/enduser/src/main/resources/META-INF/resources/app/css/passwordReset.css","status":"added","additions":37,"deletions":0,"changes":37,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FpasswordReset.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FpasswordReset.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FpasswordReset.css?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,37 @@\n+/*\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+*/\n+\n+#resetpassword {\n+  background: -moz-linear-gradient(top, #a9db80 0%, #96c56f 100%); /* FF3.6+ */\n+  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#a9db80), color-stop(100%,#96c56f)); /* Chrome,Safari4+ */\n+  background: -webkit-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Chrome10+,Safari5.1+ */\n+  background: -o-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Opera 11.10+ */\n+  background: -ms-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* IE10+ */\n+  margin-left: 5px;\n+  color: black;\n+  border: none;\n+}\n+#resetpassword:hover {\n+  background: #658D5D;\n+}\n+\n+#captchaImg {\n+  display: block;\n+  margin: 0 auto;\n+}\n\\ No newline at end of file"},{"sha":"dd0d351bde79c989ee5dcb59f4d63e6b3b4cbc2c","filename":"client/enduser/src/main/resources/META-INF/resources/app/css/templates/dark/editUser.css","status":"added","additions":95,"deletions":0,"changes":95,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Ftemplates%2Fdark%2FeditUser.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Ftemplates%2Fdark%2FeditUser.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Ftemplates%2Fdark%2FeditUser.css?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,95 @@\n+/*\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+*/\n+\n+html,\n+body {\n+  height: 100%;\n+}\n+body {\n+  background: -moz-linear-gradient(94deg, rgba(51,51,51,1) 0%, rgba(101,141,93,1) 100%); /* ff3.6+ */\n+  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgba(101,141,93,1)), color-stop(100%, rgba(51,51,51,1))); /* safari4+,chrome */\n+  background: -webkit-linear-gradient(94deg, rgba(51,51,51,1) 0%, rgba(101,141,93,1) 100%); /* safari5.1+,chrome10+ */\n+  background: -o-linear-gradient(94deg, rgba(51,51,51,1) 0%, rgba(101,141,93,1) 100%); /* opera 11.10+ */\n+  background: -ms-linear-gradient(94deg, rgba(51,51,51,1) 0%, rgba(101,141,93,1) 100%); /* ie10+ */\n+  background: linear-gradient(356deg, rgba(51,51,51,1) 0%, rgba(101,141,93,1) 100%); /* w3c */\n+  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#658d5d', endColorstr='#333333',GradientType=0 ); /* ie6-9 */\n+}\n+\n+#form-container .page-header,\n+#previous,\n+#next,\n+#save,\n+#finish,\n+#resetpassword {\n+  background: -moz-linear-gradient(top, #6a9647 0%, #48543d 100%); /* FF3.6+ */\n+  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#6a9647), color-stop(100%,#48543d)); /* Chrome,Safari4+ */\n+  background: -webkit-linear-gradient(top, #6a9647 0%,#48543d 100%); /* Chrome10+,Safari5.1+ */\n+  background: -o-linear-gradient(top, #6a9647 0%,#48543d 100%); /* Opera 11.10+ */\n+  background: -ms-linear-gradient(top, #6a9647 0%,#48543d 100%); /* IE10+ */\n+  color: white;\n+}\n+\n+#form-container .btn-danger {\n+  background-color: #a93f3c;\n+  border-color: #ffffff;\n+}\n+\n+\n+#form-container,\n+#form-container .panel {\n+  background-color: #151515;\n+  color: white;\n+}\n+\n+#form-container input, \n+#form-container select,\n+#form-container select option,\n+#form-container label {\n+  color: white;\n+}\n+\n+#form-container input:disabled {\n+  background: #6d6d6d;\n+}\n+\n+#form-container input,\n+#form-container select,\n+#form-container select option,\n+span.k-datepicker, \n+span.k-timepicker, \n+span.k-datetimepicker, \n+span.k-colorpicker, \n+span.k-numerictextbox, \n+span.k-combobox, \n+span.k-dropdown, \n+.k-toolbar .k-split-button,\n+.k-autocomplete.k-state-default, \n+.k-picker-wrap.k-state-default, \n+.k-numeric-wrap.k-state-default, \n+.k-dropdown-wrap.k-state-default {\n+  background: #313131;\n+}\n+\n+.card-header h5 a {\n+  color: white;\n+}\n+\n+.card-header {\n+  background-color: #49553e;\n+}\n\\ No newline at end of file"},{"sha":"90da4b07145b25a44e83af5e0984d33b3fb1b925","filename":"client/enduser/src/main/resources/META-INF/resources/app/css/templates/dark/login.css","status":"added","additions":78,"deletions":0,"changes":78,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Ftemplates%2Fdark%2Flogin.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Ftemplates%2Fdark%2Flogin.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Ftemplates%2Fdark%2Flogin.css?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,78 @@\n+/*\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+*/\n+\n+html,\n+body {\n+  height: 100%;\n+}\n+body {\n+  background: -moz-linear-gradient(94deg, rgba(51,51,51,1) 0%, rgba(101,141,93,1) 100%); /* ff3.6+ */\n+  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgba(101,141,93,1)), color-stop(100%, rgba(51,51,51,1))); /* safari4+,chrome */\n+  background: -webkit-linear-gradient(94deg, rgba(51,51,51,1) 0%, rgba(101,141,93,1) 100%); /* safari5.1+,chrome10+ */\n+  background: -o-linear-gradient(94deg, rgba(51,51,51,1) 0%, rgba(101,141,93,1) 100%); /* opera 11.10+ */\n+  background: -ms-linear-gradient(94deg, rgba(51,51,51,1) 0%, rgba(101,141,93,1) 100%); /* ie10+ */\n+  background: linear-gradient(356deg, rgba(51,51,51,1) 0%, rgba(101,141,93,1) 100%); /* w3c */\n+  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#658d5d', endColorstr='#333333',GradientType=0 ); /* ie6-9 */\n+}\n+\n+#login-container .card {\n+  background-color: #151515;\n+  color: white;\n+}\n+\n+#login-container .login-logo {\n+  background-color: rgba(255, 255, 255, 0.15);\n+  border-radius: 10px;\n+\n+  margin: 0px auto 20px auto;\n+}\n+\n+#login-container input,\n+#login-container select,\n+#login-container select option {\n+  color: white;\n+  background: #313131;\n+}\n+\n+#login-container input:disabled {\n+  background: #6d6d6d;\n+}\n+\n+#login-container .btn-link {\n+  color: #82b9e8;\n+}\n+#login-container .btn-link:focus, \n+#login-container .btn-link:hover {\n+  color: #b5dcff;\n+}\n+\n+#login-container .login-btn {\n+  color: white;\n+  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#6a9647), color-stop(100%,#48543d));\n+\n+  background: linear-gradient(top, #6a9647 0%,#48543d 100%);\n+  background: -webkit-linear-gradient(top, #6a9647 0%,#48543d 100%);\n+  background: -moz-linear-gradient(top, #6a9647 0%, #48543d 100%);\n+  background: -o-linear-gradient(top, #6a9647 0%,#48543d 100%);\n+  background: -ms-linear-gradient(top, #6a9647 0%,#48543d 100%);\n+}\n+\n+#login-container .form-group {\n+  margin-bottom: 20px;\n+}"},{"sha":"6ef3c4d5b9d6ae75a0bb4fd3b8c68b740c1e4123","filename":"client/enduser/src/main/resources/META-INF/resources/app/index.html","status":"modified","additions":15,"deletions":12,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -32,43 +32,43 @@\n \n     <link rel=\"shortcut icon\" href=\"img/favicon.png\" type=\"image/png\"/>\n \n-    <link href=\"css/login.css\" rel=\"stylesheet\" type=\"text/css\"/>\n     <link href=\"../webjars/jquery-ui/${jquery-ui.version}/jquery-ui.css\" rel=\"stylesheet\" type=\"text/css\"/>\n     <link href=\"../webjars/bootstrap/${bootstrap.version}/css/bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n     <link href=\"../webjars/bootstrap-select/${bootstrap-select.version}/css/bootstrap-select.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n-    <link href=\"../webjars/font-awesome/${font-awesome.version}/css/font-awesome.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n+    <link href=\"../webjars/font-awesome/${font-awesome.version}/css/${font-awesome.filename}\" rel=\"stylesheet\" type=\"text/css\"/>\n     <link href=\"../webjars/ionicons/${ionicons.version}/css/ionicons.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n     <link href=\"../webjars/angular-ui-select/${angular-ui-select.version}/select.css\" rel=\"stylesheet\" type=\"text/css\"/>\n     <link href=\"../webjars//kendo-ui-core/${kendo-ui-core.version}/styles/web/kendo.common.core.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n     <link href=\"../webjars//kendo-ui-core/${kendo-ui-core.version}/styles/web/kendo.default.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n     <link href=\"../webjars/angular-treasure-overlay-spinner/${angular-treasure-overlay-spinner.version}/dist/treasure-overlay-spinner.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n     <link href=\"../webjars/ng-password-strength/${ng-password-strength.version}/dist/styles/main.css\" rel=\"stylesheet\" type=\"text/css\">\n     <link href=\"../webjars/select2/${select2.version}/select2.css\" rel=\"stylesheet\"/>\n-    <link href=\"css/app.css\" rel=\"stylesheet\" type=\"text/css\"/>\n-    <link href=\"css/login.css\" rel=\"stylesheet\" type=\"text/css\"/>\n-    <link href=\"css/editUser.css\" rel=\"stylesheet\" type=\"text/css\"/>\n+\n+    <link href=\"css/customSpinner.css\" rel=\"stylesheet\" type=\"text/css\"/>\n   </head>\n   <body ng-cloak >\n \n     <!--[if lt IE 7]>\n         <p class=\"browsehappy\">You are using an <strong>outdated</strong> browser. Please <a href=\"http://browsehappy.com/\">upgrade your browser</a> to improve your experience.</p>\n     <![endif]-->\n \n-    <span id=\"notifications\" kendo-notification=\"notifications\"></span>\n+    <span id=\"notifications\"></span>\n \n   <treasure-overlay-spinner active='spinner.active'>\n-    <div ui-view ng-cloak ng-controller=\"ApplicationController\" ng-init=\"initApplication()\">      \n+    <div ui-view ng-cloak ng-controller=\"ApplicationController\" ng-init=\"initApplication()\">   \n+\n     </div>    \n   </treasure-overlay-spinner>\n \n   <script src=\"../webjars/jquery/${jquery.version}/jquery.js\"></script>\n   <script src=\"../webjars/angular/${angular.version}/angular.js\"></script>\n   <script src=\"../webjars/angular-ui-router/${angular-ui-router.version}/release/angular-ui-router.js\"></script>\n   <script src=\"../webjars/angular-animate/${angular.version}/angular-animate.js\"></script>\n-  <script src=\"../webjars/angular-resource/${angular.version}/angular-resource.js\"></script>\n+  <script src=\"../webjars/angular-resource/${angular-resource.version}/angular-resource.js\"></script>\n   <script src=\"../webjars/angular-cookies/${angular.version}/angular-cookies.js\"></script>\n   <script src=\"../webjars/angular-sanitize/${angular.version}/angular-sanitize.js\"></script>\n-  <script src=\"../webjars/angular-ui-bootstrap/${angular-ui-bootstrap.version}/ui-bootstrap-tpls.js\"></script>\n+  <script src=\"../webjars/ui-bootstrap4/${ui-bootstrap.version}/dist/ui-bootstrap.js\"></script>\n+  <script src=\"../webjars/ui-bootstrap4/${ui-bootstrap.version}/dist/ui-bootstrap-tpls.js\"></script>\n   <script src=\"../webjars/angular-ui-select/${angular-ui-select.version}/select.js\"></script>\n   <script src=\"../webjars/kendo-ui-core/${kendo-ui-core.version}/js/kendo.ui.core.min.js\"></script>\n   <script src=\"../webjars/kendo-ui-core/${kendo-ui-core.version}/js/kendo.notification.min.js\"></script>\n@@ -79,11 +79,11 @@\n   <script src=\"../webjars/kendo-ui-core/${kendo-ui-core.version}/js/cultures/kendo.culture.ja.js\"></script>\n   <script src=\"../webjars/angular-treasure-overlay-spinner/${angular-treasure-overlay-spinner.version}/dist/treasure-overlay-spinner.min.js\"></script>\n   <script src=\"../webjars/ng-password-strength/${ng-password-strength.version}/dist/scripts/ng-password-strength.min.js\"></script>\n-  <script type=\"text/javascript\" src=\"../webjars/bootstrap-select/${bootstrap-select.version}/js/bootstrap-select.min.js\"></script>\n+  <script src=\"../webjars/bootstrap-select/${bootstrap-select.version}/js/bootstrap-select.min.js\"></script>\n   <script src=\"../webjars/FileSaver.js/${fileSaver.version}/FileSaver.js\"></script>\n   <script src=\"../webjars/lodash/${lodash.version}/lodash.min.js\"></script>\n   <script src=\"../webjars/angular-translate/${angular-translate.version}/angular-translate.js\"></script>\n-  <script src=\"../webjars/angular-translate-loader-partial/${angular-translate.version}/angular-translate-loader-partial.js\"></script>\n+  <script src=\"../webjars/angular-translate-loader-partial/${angular-translate-loader-partial.version}/angular-translate-loader-partial.js\"></script>\n   <script src=\"../webjars/angular-translate-storage-cookie/${angular-translate.version}/angular-translate-storage-cookie.js\"></script>\n   <script src=\"../webjars/bootstrap-fileinput/${bootstrap-fileinput.version}/js/fileinput.js\"></script>\n \n@@ -96,6 +96,7 @@\n   <script src=\"js/services/realmService.js\"></script>\n   <script src=\"js/services/securityQuestionService.js\"></script>\n   <script src=\"js/services/infoService.js\"></script>\n+  <script src=\"js/services/dynamicTemplateService.js\"></script>\n   <script src=\"js/services/resourceService.js\"></script>\n   <script src=\"js/services/groupService.js\"></script>\n   <script src=\"js/services/anyService.js\"></script>\n@@ -116,7 +117,7 @@\n   <script src=\"js/directives/dynamicPlainAttributes.js\"></script>\n   <script src=\"js/directives/dynamicDerivedAttributes.js\"></script>\n   <script src=\"js/directives/dynamicVirtualAttributes.js\"></script>\n-  <script src=\"js/directives/navigationButtons.js\"></script>\n+  <script src=\"js/directives/navigationButtonsPartial.js\"></script>\n   <script src=\"js/directives/loader.js\"></script>\n   <script src=\"js/directives/captcha.js\"></script>\n   <script src=\"js/directives/resources.js\"></script>\n@@ -126,6 +127,7 @@\n   <script src=\"js/directives/validationMessage.js\"></script>\n   <script src=\"js/directives/validateDropdown.js\"></script>\n   <script src=\"js/directives/fileInput.js\"></script>\n+  <script src=\"js/directives/dynamicTemplateItem.js\"></script>\n   <!--validator-->\n   <script src=\"js/validator/validationRules.js\"></script>\n   <script src=\"js/validator/validationExecutor.js\"></script>\n@@ -134,5 +136,6 @@\n   <!--util-->\n   <script src=\"js/util/userUtil.js\"></script>\n   <script src=\"js/util/genericUtil.js\"></script>\n+  <script src=\"js/util/assetsManager.js\"></script>\n </body>\n </html>"},{"sha":"bcd3fc4b013f30b4c9daf078ed9e71efc8a10ac3","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/app.js","status":"modified","additions":111,"deletions":47,"changes":158,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -66,12 +66,18 @@ app.config(['$stateProvider', '$urlRouterProvider', '$httpProvider', '$translate\n     $stateProvider\n             .state('home', {\n               url: '/',\n-              templateUrl: 'views/self.html'\n+              templateUrl: 'views/self.html',\n+              resolve: {\n+                loadAssets: ['DynamicTemplateService', function (DynamicTemplateService) {\n+                    return DynamicTemplateService.getGeneralAssetsContent([\"css\"]);\n+                  }]\n+              }\n             })\n             .state('self', {\n               url: '/self?errorMessage',\n               templateUrl: 'views/self.html'\n             })\n+\n             /* <Extensions> */\n             .state('self-saml2sp', {\n               url: '/self-saml2sp',\n@@ -99,6 +105,7 @@ app.config(['$stateProvider', '$urlRouterProvider', '$httpProvider', '$translate\n               }\n             })\n             /* </Extensions> */\n+\n             .state('user-self-update', {\n               url: '/user-self-update',\n               templateUrl: 'views/home.html',\n@@ -289,8 +296,8 @@ app.config(['$stateProvider', '$urlRouterProvider', '$httpProvider', '$translate\n       };\n     });\n   }]);\n-app.run(['$rootScope', '$location', '$state', 'AuthService',\n-  function ($rootScope, $location, $state, AuthService) {\n+app.run(['$rootScope', '$location', '$state', 'AuthService', '$transitions',\n+  function ($rootScope, $location, $state, AuthService, $transitions) {\n     /*\n      |--------------------------------------------------------------------------\n      | Main of Syncope Enduser application\n@@ -299,50 +306,63 @@ app.run(['$rootScope', '$location', '$state', 'AuthService',\n      | If the route change failed due to authentication error, redirect them out\n      |--------------------------------------------------------------------------\n      */\n-    $rootScope.$on('$routeChangeError', function (event, current, previous, rejection) {\n-      if (rejection === 'Not Authenticated') {\n-        $location.path('/self');\n+    $transitions.onError({}, function (trans) {\n+      if (trans.error().message === 'Not Authenticated') {\n+        $state.go('home');\n       }\n     });\n-    $rootScope.$on('$stateChangeSuccess', function (event, toState) {\n+\n+    $transitions.onSuccess({}, function (trans) {\n+      var toState = trans.$to();\n+      var fromState = trans.$from();\n+\n       if (toState.name === 'create') {\n-        $state.go('create.credentials');\n+        $state.go('create' + $rootScope.getWizardFirstStep());\n       } else if (toState.name === 'update') {\n-        $state.go('update.credentials');\n+        $state.go('update' + $rootScope.getWizardFirstStep());\n       } else if (toState.name.indexOf(\"update\") > -1) {\n         AuthService.islogged().then(function (response) {\n           if (response === \"true\") {\n             $state.go(toState);\n           } else {\n-            $state.go('self');\n+            $state.go('home');\n           }\n         }, function (response) {\n-          console.error(\"not logged\");\n-          $state.go('self');\n+          console.error(\"Not logged\");\n+          $state.go('home');\n         }\n         );\n-\n       } else if (toState.name === 'home' || toState.name === 'self') {\n+        if (fromState.name === 'home' || fromState.name === 'self') {\n+          return false;\n+        }\n+\n         AuthService.islogged().then(function (response) {\n           if (response === \"true\") {\n-            $state.go('update.credentials');\n-          } else {\n-            $state.go('self');\n+            $state.go('update' + $rootScope.getWizardFirstStep());\n           }\n         }, function (response) {\n           console.error(\"not logged\");\n-          $state.go('self');\n-        }\n-        );\n+          $state.go('home');\n+        });\n         /*\n          * enable \"finish\" button on every page in create mode\n          */\n       } else if (toState.name === 'create.finish') {\n+        if (fromState.name === 'create.finish') {\n+          return false;\n+        }\n+\n         $rootScope.endReached = true;\n       } else {\n+        if (fromState.name === toState.name) {\n+          return false;\n+        }\n+\n         $state.go(toState);\n       }\n     });\n+\n     $rootScope.spinner = {\n       active: false,\n       on: function () {\n@@ -353,9 +373,9 @@ app.run(['$rootScope', '$location', '$state', 'AuthService',\n       }\n     };\n   }]);\n-app.controller('ApplicationController', ['$scope', '$rootScope', '$location', 'InfoService', 'SAML2IdPService',\n-  'OIDCProviderService',\n-  function ($scope, $rootScope, $location, InfoService, SAML2IdPService, OIDCProviderService) {\n+app.controller('ApplicationController', ['$scope', '$rootScope', 'InfoService', 'SAML2IdPService',\n+  'OIDCProviderService', 'DynamicTemplateService',\n+  function ($scope, $rootScope, InfoService, SAML2IdPService, OIDCProviderService, DynamicTemplateService) {\n     $scope.initApplication = function () {\n       /* \n        * disable by default wizard buttons in self-registration\n@@ -396,6 +416,57 @@ app.controller('ApplicationController', ['$scope', '$rootScope', '$location', 'I\n         selected: {}\n       };\n \n+      var doGetDynamicTemplateJSON = function (callback) {\n+        if (!$rootScope.dynTemplate) {\n+          DynamicTemplateService.getContent().then(\n+                  function (response) {\n+                    /* \n+                     * USER dynamic template JSON\n+                     */\n+                    $rootScope.dynTemplate = response;\n+\n+                    /*\n+                     * Wizard steps from JSON\n+                     */\n+                    $scope.wizard = response.wizard.steps;\n+                    $scope.wizardFirstStep = response.wizard.firstStep;\n+\n+                    callback($rootScope.dynTemplate);\n+                  },\n+                  function (response) {\n+                    console.error(\"Something went wrong while accessing dynamic template resource\", response);\n+                  });\n+        } else {\n+          callback($rootScope.dynTemplate);\n+        }\n+      };\n+      $rootScope.getDynamicTemplateInfo = function (type, key, callback) {\n+        if (type) {\n+          doGetDynamicTemplateJSON(function (templateJSON) {\n+            callback((templateJSON && templateJSON[\"templates\"] && templateJSON[\"templates\"][type])\n+                    ? templateJSON[\"templates\"][type][key]\n+                    : \"\");\n+          });\n+        } else {\n+          callback(\"\");\n+        }\n+      };\n+      $rootScope.getDynamicTemplateOtherInfo = function (type, key, callback) {\n+        if (type) {\n+          doGetDynamicTemplateJSON(function (templateJSON) {\n+            callback((templateJSON && templateJSON[type])\n+                    ? templateJSON[type][key]\n+                    : \"\");\n+          });\n+        } else {\n+          callback(\"\");\n+        }\n+      };\n+\n+      $rootScope.getWizardFirstStep = function () {\n+        return ($scope.wizardFirstStep ? ('.' + $scope.wizardFirstStep) : '');\n+      };\n+\n       InfoService.getInfo().then(\n               function (response) {\n                 $rootScope.pwdResetAllowed = response.pwdResetAllowed;\n@@ -407,11 +478,12 @@ app.controller('ApplicationController', ['$scope', '$rootScope', '$location', 'I\n                 /* \n                  * USER form customization JSON\n                  */\n-                $rootScope.customForm = response.customForm;\n+                $rootScope.customFormAttributes = response.customFormAttributes;\n               },\n               function (response) {\n                 console.error(\"Something went wrong while accessing info resource\", response);\n               });\n+\n       /* <Extensions> */\n       SAML2IdPService.getAvailableSAML2IdPs().then(\n               function (response) {\n@@ -421,10 +493,6 @@ app.controller('ApplicationController', ['$scope', '$rootScope', '$location', 'I\n                 console.debug(\"No SAML 2.0 SP extension available\", response);\n               });\n       /* </Extensions> */\n-      /* \n-       * configuration getters\n-       */\n-\n       /* <Extensions> */\n       OIDCProviderService.getAvailableOIDCProviders().then(\n               function (response) {\n@@ -434,6 +502,7 @@ app.controller('ApplicationController', ['$scope', '$rootScope', '$location', 'I\n                 console.debug(\"No OIDC Client extension available\", response);\n               });\n       /* </Extensions> */\n+\n       /* \n        * configuration getters\n        */\n@@ -462,6 +531,7 @@ app.controller('ApplicationController', ['$scope', '$rootScope', '$location', 'I\n       $rootScope.getMaxUploadFileSizeMB = function () {\n         return $rootScope.maxUploadFileSizeMB;\n       };\n+\n       /* \n        * USER Attributes sorting strategies\n        */\n@@ -477,19 +547,25 @@ app.controller('ApplicationController', ['$scope', '$rootScope', '$location', 'I\n           return schemaNameA < schemaNameB ? 1 : schemaNameA > schemaNameB ? -1 : 0;\n         }\n       };\n+\n       /*\n        |--------------------------------------------------------------------------\n        | Notification mgmt\n        |--------------------------------------------------------------------------\n        */\n-      $scope.notification = $('#notifications').kendoNotification().data(\"kendoNotification\");\n-      $scope.notification.setOptions({stacking: \"down\"});\n+      $scope.notificationSuccessTimeout = 4000;\n+//      $scope.notification = $('#notifications').kendoNotification().data(\"kendoNotification\");\n+      $scope.notification = $(\"#notifications\").kendoNotification({\n+        stacking: \"down\",\n+        hideOnClick: true,\n+        width: 320\n+      }).data(\"kendoNotification\");\n       $scope.notification.options.position[\"top\"] = 20;\n       $scope.showSuccess = function (message, component) {\n         if (!$scope.notificationExists(message)) {\n           //forcing scrollTo since kendo doesn't disable scrollTop if pinned is true\n           window.scrollTo(0, 0);\n-          component.options.autoHideAfter = 3000;\n+          component.options.autoHideAfter = $scope.notificationSuccessTimeout;\n           component.show(message, \"success\");\n         }\n       };\n@@ -510,7 +586,7 @@ app.controller('ApplicationController', ['$scope', '$rootScope', '$location', 'I\n       };\n       $scope.notificationExists = function (message) {\n         var result = false;\n-        if ($scope.notification !== null) {\n+        if ($scope.notification) {\n           var pendingNotifications = $scope.notification.getNotifications();\n           pendingNotifications.each(function (idx, element) {\n             var popup = $(element).data(\"kendoPopup\");\n@@ -523,7 +599,7 @@ app.controller('ApplicationController', ['$scope', '$rootScope', '$location', 'I\n         return result;\n       };\n       $scope.hideNotifications = function (timer) {\n-        if ($scope.notification !== null) {\n+        if ($scope.notification) {\n           var pendingNotifications = $scope.notification.getNotifications();\n           if (timer && timer > 0) {\n             setTimeout(function () {\n@@ -547,12 +623,13 @@ app.controller('ApplicationController', ['$scope', '$rootScope', '$location', 'I\n           }\n         }\n       };\n+\n       /*\n        * Intercepting location change event\n        * When a location changes, old notifications should be removed\n        */\n       $rootScope.$on(\"$locationChangeStart\", function (event, next, current) {\n-        $scope.hideNotifications(3000);\n+        $scope.hideNotifications($scope.notificationSuccessTimeout);\n       });\n       //Intercepting xhr start event\n       $scope.$on('xhrStarted', function (event, next, current) {\n@@ -562,20 +639,7 @@ app.controller('ApplicationController', ['$scope', '$rootScope', '$location', 'I\n       $scope.$on('hideErrorMessage', function (event, popupMessage) {\n         $scope.hideError(popupMessage, $scope.notification);\n       });\n-      /*\n-       |--------------------------------------------------------------------------\n-       | Wizard configuration\n-       |--------------------------------------------------------------------------\n-       */\n-      $scope.wizard = {\n-        \"credentials\": {url: \"/credentials\"},\n-        \"groups\": {url: \"/groups\"},\n-        \"plainSchemas\": {url: \"/plainSchemas\"},\n-        \"derivedSchemas\": {url: \"/derivedSchemas\"},\n-        \"virtualSchemas\": {url: \"/virtualSchemas\"},\n-        \"resources\": {url: \"/resources\"},\n-        \"finish\": {url: \"/finish\"}\n-      };\n+\n       /*\n        |--------------------------------------------------------------------------\n        | Utilities"},{"sha":"f92c15c082ef99c6891546c69059bbb137de3d56","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/controllers/LoginController.js","status":"modified","additions":6,"deletions":5,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FLoginController.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FLoginController.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FLoginController.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -18,8 +18,9 @@\n  */\n \n 'use strict';\n-angular.module(\"login\").controller(\"LoginController\", ['$scope', '$rootScope', '$http', '$location', 'AuthService',\n-  function ($scope, $rootScope, $http, $location, AuthService) {\n+angular.module(\"login\").controller(\"LoginController\", ['$scope', '$rootScope', '$http', '$state', '$location',\n+  'AuthService',\n+  function ($scope, $rootScope, $http, $state, $location, AuthService) {\n \n     $scope.credentials = {\n       username: '',\n@@ -37,7 +38,7 @@ angular.module(\"login\").controller(\"LoginController\", ['$scope', '$rootScope', '\n         // reset OIDC name\n         $rootScope.oidcops.selected.name = null;\n         // got to update page\n-        $location.path(\"/self/update\");\n+        $state.go(\"update\" + $rootScope.getWizardFirstStep());\n       }, function (response) {\n         console.info(\"Login failed for: \", response);\n         var errorMessage;\n@@ -65,11 +66,11 @@ angular.module(\"login\").controller(\"LoginController\", ['$scope', '$rootScope', '\n     };\n \n     $scope.selfCreate = function () {\n-      $location.path(\"/self/create\");\n+      $state.go(\"create\" + $rootScope.getWizardFirstStep());\n     };\n \n     $scope.passwordReset = function () {\n-      $location.path(\"/passwordreset\");\n+      $state.go(\"passwordreset\");\n     };\n \n     $scope.$watch(function () {"},{"sha":"8d7b3cdd96686a92c0d08a327fb4683f730981d8","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/controllers/OIDCClientController.js","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FOIDCClientController.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FOIDCClientController.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FOIDCClientController.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -18,9 +18,9 @@\n  */\n \n 'use strict';\n-angular.module(\"login\").controller(\"OIDCClientController\", function ($scope, $rootScope, $location, userAttrs) {\n+angular.module(\"login\").controller(\"OIDCClientController\", function ($scope, $rootScope, $state, userAttrs) {\n   $scope.selfCreate = function () {\n-    $location.path(\"/self/create\");\n+    $state.go(\"create\" + $rootScope.getWizardFirstStep());\n   };\n \n   $rootScope.oidcops.userAttrs = userAttrs;"},{"sha":"6d6bd33fab3e552054e532934605cedba0bec4c2","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/controllers/SAML2SPController.js","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FSAML2SPController.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FSAML2SPController.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FSAML2SPController.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -18,9 +18,9 @@\n  */\n \n 'use strict';\n-angular.module(\"login\").controller(\"SAML2SPController\", function ($scope, $rootScope, $location, userAttrs) {\n+angular.module(\"login\").controller(\"SAML2SPController\", function ($scope, $rootScope, $state, userAttrs) {\n   $scope.selfCreate = function () {\n-    $location.path(\"/self/create\");\n+    $state.go(\"create\" + $rootScope.getWizardFirstStep());\n   };\n \n   $rootScope.saml2idps.userAttrs = userAttrs;"},{"sha":"7718db7b582e395d88d687c1008c83bb0bea6edf","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/controllers/UserController.js","status":"modified","additions":23,"deletions":19,"changes":42,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -119,12 +119,12 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n         // initialize plain attributes\n         for (var i = 0; i < schemas.plainSchemas.length; i++) {\n           var plainSchemaKey = schemas.plainSchemas[i].key;\n-          var initialAttributeValues = $rootScope.customForm != null\n-                  && $rootScope.customForm[\"PLAIN\"] != null\n-                  && $rootScope.customForm[\"PLAIN\"][\"attributes\"] != null\n-                  && $rootScope.customForm[\"PLAIN\"][\"attributes\"][plainSchemaKey] != null\n-                  && $rootScope.customForm[\"PLAIN\"][\"attributes\"][plainSchemaKey].defaultValues\n-                  ? $rootScope.customForm[\"PLAIN\"][\"attributes\"][plainSchemaKey].defaultValues\n+          var initialAttributeValues = $rootScope.customFormAttributes\n+                  && $rootScope.customFormAttributes[\"PLAIN\"]\n+                  && $rootScope.customFormAttributes[\"PLAIN\"][\"attributes\"]\n+                  && $rootScope.customFormAttributes[\"PLAIN\"][\"attributes\"][plainSchemaKey]\n+                  && $rootScope.customFormAttributes[\"PLAIN\"][\"attributes\"][plainSchemaKey].defaultValues\n+                  ? $rootScope.customFormAttributes[\"PLAIN\"][\"attributes\"][plainSchemaKey].defaultValues\n                   : [];\n           if (!$scope.user.plainAttrs[plainSchemaKey]) {\n             $scope.user.plainAttrs[plainSchemaKey] = {\n@@ -135,7 +135,7 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n             if ($scope.loadFromSAML2AuthSelfReg) {\n               $scope.user.plainAttrs[plainSchemaKey].values = findLoadedSAML2AttrValue(plainSchemaKey);\n             }\n-            \n+\n             if ($scope.loadFromOIDCAuthSelfReg) {\n               $scope.user.plainAttrs[plainSchemaKey].values = findLoadedOIDCAttrValue(plainSchemaKey);\n             }\n@@ -193,8 +193,8 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n             if ($scope.loadFromSAML2AuthSelfReg) {\n               $scope.user.virAttrs[virSchemaKey].values = findLoadedSAML2AttrValue(virSchemaKey);\n             }\n-            \n-             if ($scope.loadFromOIDCAuthSelfReg) {\n+\n+            if ($scope.loadFromOIDCAuthSelfReg) {\n               $scope.user.virAttrs[virSchemaKey].values = findLoadedOIDCAttrValue(virSchemaKey);\n             }\n \n@@ -221,7 +221,7 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n \n         //clean SAML Self Reg user attributes variable\n         delete $rootScope.saml2idps.userAttrs;\n-        \n+\n         //clean OIDC Self Reg user attributes variable\n         delete $rootScope.oidcops.userAttrs;\n       };\n@@ -364,7 +364,7 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n             $scope.$emit(\"groupAdded\", $scope.user.memberships[index].groupName);\n           }\n           if ($scope.user.mustChangePassword) {\n-            $location.path('/mustchangepassword');\n+            $state.go('mustchangepassword');\n           } else {\n             initProperties();\n           }\n@@ -469,14 +469,14 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n           if (username.length) {\n             $scope.user.username = username[0];\n           }\n-        } \n-        \n+        }\n+\n         if ($scope.loadFromOIDCAuthSelfReg) {\n           var username = findLoadedOIDCAttrValue(\"username\");\n           if (username.length) {\n             $scope.user.username = username[0];\n           }\n-        } \n+        }\n       } else {\n         // read user from syncope core\n         readUser();\n@@ -490,11 +490,13 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n           console.debug(\"User \" + $scope.user.username + \" successfully CREATED\");\n           $rootScope.currentUser = $scope.user.username;\n           $rootScope.currentOp = \"SUCCESSFULLY_CREATED\";\n-          $scope.success({successMessage: $filter('translate')([\"USER\"]).USER\n+          $scope.success({\n+            successMessage: $filter('translate')([\"USER\"]).USER\n                     + \" \"\n                     + $scope.user.username\n                     + \" \"\n-                    + $filter('translate')([\"SUCCESSFULLY_CREATED\"]).SUCCESSFULLY_CREATED});\n+                    + $filter('translate')([\"SUCCESSFULLY_CREATED\"]).SUCCESSFULLY_CREATED\n+          });\n         }, function (response) {\n           console.error(\"Error during user creation: \", response);\n           var errorMessage;\n@@ -510,11 +512,13 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n           console.debug(\"User \" + $scope.user.username + \" successfully UPDATED\");\n           $rootScope.currentUser = $scope.user.username;\n           $rootScope.currentOp = \"SUCCESSFULLY_UPDATED\";\n-          $scope.logout({successMessage: $filter('translate')([\"USER\"]).USER\n+          $scope.logout({\n+            successMessage: $filter('translate')([\"USER\"]).USER\n                     + \" \"\n                     + $scope.user.username\n                     + \" \"\n-                    + $filter('translate')([\"SUCCESSFULLY_UPDATED\"]).SUCCESSFULLY_UPDATED});\n+                    + $filter('translate')([\"SUCCESSFULLY_UPDATED\"]).SUCCESSFULLY_UPDATED\n+          });\n         }, function (response) {\n           console.info(\"Error during user update: \", response);\n           var errorMessage;\n@@ -652,7 +656,7 @@ angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$l\n \n     $scope.redirect = function () {\n       $translate.use($scope.languages.selectedLanguage.code);\n-      $location.path('/self');\n+      $state.go('home');\n       $rootScope.endReached = false;\n     };\n "},{"sha":"7ed07e1170e06a7a9de973cebdabf490262fafb3","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/dynamicPlainAttribute.js","status":"modified","additions":5,"deletions":5,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicPlainAttribute.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicPlainAttribute.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicPlainAttribute.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -127,11 +127,11 @@ angular.module('self')\n               };\n \n               $scope.customReadonly = function (schemaKey) {\n-                return  $rootScope.customForm != null\n-                        && $rootScope.customForm[\"PLAIN\"] != null\n-                        && $rootScope.customForm[\"PLAIN\"][\"attributes\"] != null\n-                        && $rootScope.customForm[\"PLAIN\"][\"attributes\"][schemaKey] != null\n-                        && $rootScope.customForm[\"PLAIN\"][\"attributes\"][schemaKey].readonly;\n+                return  $rootScope.customFormAttributes\n+                        && $rootScope.customFormAttributes[\"PLAIN\"]\n+                        && $rootScope.customFormAttributes[\"PLAIN\"][\"attributes\"]\n+                        && $rootScope.customFormAttributes[\"PLAIN\"][\"attributes\"][schemaKey]\n+                        && $rootScope.customFormAttributes[\"PLAIN\"][\"attributes\"][schemaKey].readonly;\n               };\n \n               $scope.$watch(function () {"},{"sha":"f82210636f71a5592c2418b38536aee6f0318400","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/dynamicTemplateItem.js","status":"added","additions":79,"deletions":0,"changes":79,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicTemplateItem.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicTemplateItem.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicTemplateItem.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,79 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict';\n+\n+angular.module('self')\n+        .directive('dynamicTemplateItem', ['$rootScope', '$compile', '$http', 'AssetsManager',\n+          function ($rootScope, $compile, $http, AssetsManager) {\n+\n+            var checkGeneralAssets = function () {\n+              $rootScope.getDynamicTemplateOtherInfo(\"generalAssets\", \"css\", function (assets) {\n+                if (assets && assets.length) {\n+                  for (var i = 0; i < assets.length; i++) {\n+                    if (!AssetsManager.checkAlreadyLoaded(assets[i], \"css\")) {\n+                      AssetsManager.inject(\"asset_general_css_\" + i, assets[i], \"css\");\n+                    }\n+                  }\n+                }\n+              });\n+            };\n+\n+            var linker = function ($scope, $element, $attrs) {\n+              // compile template\n+              $rootScope.getDynamicTemplateInfo($attrs.type, \"templateUrl\", function (templateUrl) {\n+                if (templateUrl) {\n+                  $http.get(templateUrl).then(function (response) {\n+                    $element.html(response.data).show();\n+                    $compile($element.contents())($scope);\n+                  }, function (e) {\n+                    console.error(e);\n+                  });\n+                }\n+              });\n+\n+              // inject template assets\n+              $rootScope.getDynamicTemplateInfo($attrs.type, \"css\", function (assets) {\n+                if (assets && assets.length) {\n+                  for (var i = 0; i < assets.length; i++) {\n+                    AssetsManager.inject(\"asset_css_\" + i, assets[i], \"css\");\n+                  }\n+                }\n+              });\n+\n+              // remove useless assets for little optimization\n+              if ($attrs.type !== \"login\") {\n+                $rootScope.getDynamicTemplateInfo(\"login\", \"css\", function (assets) {\n+                  for (var i = 0; i < assets.length; i++) {\n+                    AssetsManager.remove(assets[i], \"css\");\n+                  }\n+                });\n+              }\n+\n+              // check general assets are always loaded (in case page refreshing in wizard)\n+              checkGeneralAssets();\n+            };\n+\n+            return {\n+              restrict: \"E\",\n+              link: linker,\n+              replace: true\n+            };\n+\n+          }]);"},{"sha":"5a1d82c9cfe763bbcd5e6873fc605d3102a4aeda","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/dynamicVirtualAttribute.js","status":"modified","additions":11,"deletions":11,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicVirtualAttribute.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicVirtualAttribute.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicVirtualAttribute.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -29,12 +29,12 @@ angular.module('self')\n               user: \"=\"\n             },\n             controller: function ($scope, $rootScope) {\n-              var customValues = $rootScope.customForm != null\n-                      && $rootScope.customForm[\"VIRTUAL\"] != null\n-                      && $rootScope.customForm[\"VIRTUAL\"][\"attributes\"] != null\n-                      && $rootScope.customForm[\"VIRTUAL\"][\"attributes\"][$scope.schema.key] != null\n-                      && $rootScope.customForm[\"VIRTUAL\"][\"attributes\"][$scope.schema.key].defaultValues\n-                      ? $rootScope.customForm[\"VIRTUAL\"][\"attributes\"][$scope.schema.key].defaultValues\n+              var customValues = $rootScope.customFormAttributes\n+                      && $rootScope.customFormAttributes[\"VIRTUAL\"]\n+                      && $rootScope.customFormAttributes[\"VIRTUAL\"][\"attributes\"]\n+                      && $rootScope.customFormAttributes[\"VIRTUAL\"][\"attributes\"][$scope.schema.key]\n+                      && $rootScope.customFormAttributes[\"VIRTUAL\"][\"attributes\"][$scope.schema.key].defaultValues\n+                      ? $rootScope.customFormAttributes[\"VIRTUAL\"][\"attributes\"][$scope.schema.key].defaultValues\n                       : [];\n \n               $scope.$watch(function () {\n@@ -55,11 +55,11 @@ angular.module('self')\n               });\n \n               $scope.customReadonly = function (schemaKey) {\n-                return  $rootScope.customForm != null\n-                        && $rootScope.customForm[\"VIRTUAL\"] != null\n-                        && $rootScope.customForm[\"VIRTUAL\"][\"attributes\"] != null\n-                        && $rootScope.customForm[\"VIRTUAL\"][\"attributes\"][schemaKey] != null\n-                        && $rootScope.customForm[\"VIRTUAL\"][\"attributes\"][schemaKey].readonly;\n+                return  $rootScope.customFormAttributes\n+                        && $rootScope.customFormAttributes[\"VIRTUAL\"]\n+                        && $rootScope.customFormAttributes[\"VIRTUAL\"][\"attributes\"]\n+                        && $rootScope.customFormAttributes[\"VIRTUAL\"][\"attributes\"][schemaKey]\n+                        && $rootScope.customFormAttributes[\"VIRTUAL\"][\"attributes\"][schemaKey].readonly;\n               };\n             }\n             //replace: true"},{"sha":"8532bef24684bdd2780eb3eb3175446579ed7e72","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/dynamicVirtualAttributes.js","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicVirtualAttributes.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicVirtualAttributes.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicVirtualAttributes.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -56,7 +56,8 @@ angular.module('self')\n               };\n \n               $scope.addVirtualAttributeField = function (virSchemaKey) {\n-                $scope.dynamicForm.virtualAttributeTable[virSchemaKey].fields.push(virSchemaKey + \"_\" + ($scope.dynamicForm.virtualAttributeTable[virSchemaKey].fields.length));\n+                $scope.dynamicForm.virtualAttributeTable[virSchemaKey].fields.push(virSchemaKey + \"_\"\n+                        + ($scope.dynamicForm.virtualAttributeTable[virSchemaKey].fields.length));\n               };\n \n               $scope.removeVirtualAttributeField = function (virSchemaKey, index) {"},{"sha":"331c0f47a557c6374e163fc4ebe00cd4b87bab84","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/fileInput.js","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FfileInput.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FfileInput.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FfileInput.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -35,8 +35,8 @@ angular.module('self')\n                   showClose: true,\n                   showRemove: false,\n                   fileActionSettings: {'showZoom': false, indicatorNew: '', 'removeTitle': 'boh'},\n-                  removeClass: \"btn btn-default\",\n-                  browseClass: \"btn btn-default\",\n+                  removeClass: \"btn btn-secondary btn-default\",\n+                  browseClass: \"btn btn-secondary btn-default\",\n                   browseLabel: '',\n                   dragIcon: '',\n                   browseIcon: '',"},{"sha":"6d0d81dad4d4f8f44584a5b605d01d6182bf627a","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/navigationButtonsPartial.js","status":"renamed","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FnavigationButtonsPartial.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FnavigationButtonsPartial.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FnavigationButtonsPartial.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -19,17 +19,19 @@\n 'use strict';\n \n angular.module('self')\n-        .directive('navigationButtons', ['$state', 'GenericUtil', 'ValidationExecutor', function ($state, GenericUtil, ValidationExecutor) {\n+        .directive('navigationButtonsPartial', ['$state', 'GenericUtil', 'ValidationExecutor',\n+          function ($state, GenericUtil, ValidationExecutor) {\n             return {\n+\n               restrict: 'E',\n-              templateUrl: 'views/navigationButtons.html',\n+              templateUrl: 'views/navigationButtonsPartial.html',\n               scope: {\n                 base: \"@\",\n                 current: \"@\"\n               },\n               link: function (scope, element, attrs) {\n                 var base = (scope.base && scope.base !== \"\" ? scope.base + \".\" : \"\");\n-                scope.wizard = scope.$eval(attrs.wizard) || scope.$parent.wizard;\n+                scope.wizard = scope.$eval(attrs.wizard) || scope.$parent.wizard || scope.$parent.$parent.wizard;\n                 scope.previous = \"none\";\n                 if (scope.wizard) {\n                   var urls = Object.keys(scope.wizard);\n@@ -39,7 +41,6 @@ angular.module('self')\n                 }\n               },\n               controller: function ($scope) {\n-\n                 $scope.validateAndNext = function (event, state) {\n                   //getting the enclosing form in order to access to its name                \n                   var currentForm = GenericUtil.getEnclosingForm(event.target);\n@@ -66,6 +67,5 @@ angular.module('self')\n                 };\n               }\n \n-            }\n-            ;\n+            };\n           }]);","previous_filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/navigationButtons.js"},{"sha":"b3348e0220720a962b0450a2471cf97e76aaa1d8","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/services/dynamicTemplateService.js","status":"added","additions":67,"deletions":0,"changes":67,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FdynamicTemplateService.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FdynamicTemplateService.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FdynamicTemplateService.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,67 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict';\n+\n+angular.module('SyncopeEnduserApp')\n+        .factory('DynamicTemplateService', ['$q', '$http', 'AssetsManager',\n+          function ($q, $http, AssetsManager) {\n+\n+            var dynTemplateService = {};\n+            var dynTemplateUrl = '../api/dynamicTemplate';\n+\n+            var error = function (response) {\n+              console.error(\"Something went wrong while retrieving dynamic template resource\", response);\n+              return $q.reject(response.data || response.statusText);\n+            };\n+\n+            var loadAssets = function (category, assets, types) {\n+              var allPromises = types.reduce((acc, type) => {\n+                if (assets[category][type]) {\n+                  var currentAssetsPromises =\n+                          assets[category][type].map((url, index) => AssetsManager.\n+                            inject(\"elem_\" + index, url, type));\n+                  return acc.concat(currentAssetsPromises);\n+                }\n+              }, []);\n+\n+              return $q.all(allPromises);\n+            };\n+\n+            dynTemplateService.getContent = function () {\n+              return $http\n+                      .get(dynTemplateUrl)\n+                      .then(function (response) {\n+                        return response.data;\n+                      }, error);\n+            };\n+\n+            dynTemplateService.getGeneralAssetsContent = function (types) {\n+              return $http\n+                      .get(dynTemplateUrl)\n+                      .then(function (response) {\n+                        return loadAssets(\"generalAssets\", response.data, types);\n+                      }, error);\n+            };\n+\n+            return dynTemplateService;\n+\n+          }]);\n+\n+"},{"sha":"48ec119d6b7b90ceee35b2b43255264211010ddd","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/util/assetsManager.js","status":"added","additions":105,"deletions":0,"changes":105,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Futil%2FassetsManager.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Futil%2FassetsManager.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Futil%2FassetsManager.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,105 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict';\n+\n+angular.module('SyncopeEnduserApp')\n+        .factory(\"AssetsManager\", ['$q', function ($q) {\n+            var assetsManager = {};\n+\n+            var createLink = function (id, url, deferred) {\n+              if (!angular.element('link#' + id).length && !angular.element('link[href=\"' + url + '\"').length) {\n+                var link = document.createElement('link');\n+                link.rel = 'stylesheet';\n+                link.href = url;\n+                link.onload = deferred.resolve;\n+                link.onerror = deferred.reject;\n+                angular.element('head').append(link);\n+              }\n+            };\n+\n+            var createScript = function (id, url, deferred) {\n+              if (!angular.element('script#' + id).length && !angular.element('script[src=\"' + url + '\"').length) {\n+                var script = document.createElement('script');\n+                script.src = url;\n+                script.onload = deferred.resolve;\n+                script.onerror = deferred.reject;\n+                angular.element('body').append(script);\n+              }\n+            };\n+\n+            assetsManager.checkAlreadyLoaded = function (url, type) {\n+              var elems = (type === 'css') ? document.styleSheets : ((type === 'js') ? document.scripts : '');\n+              var attr = (type === 'js') ? 'src' : ((type === 'css') ? 'href' : 'none');\n+              for (var i in elems) {\n+                var attrUrl = elems[i][attr] || \"\";\n+                var assetName = attrUrl.split(\"/\").slice(-1).join();\n+                if (attrUrl !== \"\"\n+                        && (assetName === url.split(\"/\").slice(-1).join() || assetName === url)) {\n+                  return true;\n+                }\n+              }\n+              return false;\n+            };\n+\n+            var checkLoaded = function (url, deferred, tries, type) {\n+              if (assetsManager.checkAlreadyLoaded(url, type)) {\n+                deferred.resolve();\n+                return;\n+              }\n+              tries++;\n+              setTimeout(function () {\n+                checkLoaded(url, deferred, tries, type);\n+              }, 50);\n+            };\n+\n+            var removeLoaded = function (url, type) {\n+              var tag = (type === 'js') ? 'script' : ((type === 'css') ? 'link' : '');\n+              if (assetsManager.checkAlreadyLoaded(url, type)) {\n+                $(tag + '[href~=\"' + url + '\"]').remove();\n+              }\n+            };\n+\n+            assetsManager.inject = function (id, url, type) {\n+              var tries = 0,\n+                      deferred = $q.defer();\n+\n+              switch (type) {\n+                case 'js':\n+                  createScript(id, url, deferred);\n+                  break;\n+\n+                case 'css':\n+                  createLink(id, url, deferred);\n+                  break;\n+\n+                default:\n+                  break;\n+              }\n+              checkLoaded(url, deferred, tries, type);\n+\n+              return deferred.promise;\n+            };\n+\n+            assetsManager.remove = function (url, type) {\n+              removeLoaded(url, type);\n+            };\n+\n+            return assetsManager;\n+          }]);"},{"sha":"88dfae15301f08d279a1c186a27778cd4257844e","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/captcha.html","status":"modified","additions":7,"deletions":7,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fcaptcha.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fcaptcha.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fcaptcha.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -21,16 +21,16 @@\n     <div class=\"container-fluid\" style=\"text-align: center\">\n       <div id=\"captchainput\" >\n         <img id=\"captchaImg\" alt=\"captcha\" ng-src=\"{{captchaUrl}}'\"/>\n-        <div id=\"captchaButtons\" style=\"margin-top: 5%; margin-bottom: 10px\">\n-          <button id=\"refresh\" type=\"button\" class=\"btn btn-default btn-xs glyphicon glyphicon-refresh\" \n+        <div id=\"captchaButtons\">\n+          <button id=\"refresh\" type=\"button\" class=\"btn btn-default btn-xs fa fa-refresh\" \n                   ng-click=\"refreshCaptcha()\" title=\"Refresh Captcha\"></button>\n-          <a id=\"refresh\" class=\"btn btn-default btn-xs glyphicon glyphicon-question-sign\" title=\"What is?\"\n-             href=\"https://it.wikipedia.org/wiki/CAPTCHA\" target=\"_blank\"/>\n+          <button id=\"questionCaptcha\" class=\"btn btn-default btn-xs fa fa-question-circle\" title=\"What is?\"\n+                  onclick=\"window.open('https://it.wikipedia.org/wiki/CAPTCHA')\"></button>\n         </div>\n         <input class=\"form-control\" style=\"margin:auto; max-width: 260px\" type=\"text\" ng-model=\"input.value\"/>\n-      </div>\n-      <div>\n-        <span class=\"help-block\">{{'CAPTCHA' | translate}}</span>\n+        <div>\n+          <span class=\"help-block\">{{'CAPTCHA'| translate}}</span>\n+        </div>\n       </div>\n     </div>\n   </nav>"},{"sha":"8d165f37efe79ae51a5ce09955f3fbbf2d2dd011","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/confirmpasswordreset.html","status":"modified","additions":16,"deletions":12,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fconfirmpasswordreset.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fconfirmpasswordreset.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fconfirmpasswordreset.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -17,25 +17,26 @@\n under the License.\n -->\n <div ng-cloak class=\"container\">\n-  <div ng-controller=\"UserController\" style=\"box-sizing: border-box; \">\n+  <div ng-controller=\"UserController\">\n \n-    <div id=\"form-container\" class=\"col-md-6 col-md-offset-3\" style=\"box-sizing: border-box; background-color: #F7F7F7;\">\n+    <div id=\"form-container\" class=\"col-md-6 col-md-offset-3\">\n \n       <div>\n-        <div class=\"page-header\" style=\"text-align: left; font-weight: 700;\">\n+        <div class=\"page-header\">\n           <span>{{'CONFIRM_PASSWORD_RESET'| translate}}</span>\n         </div>\n         <div class=\"breadcrumb-header text-center\">\n \n           <div class=\"row\">            \n-            <div id=\"status-buttons\" class=\"btn-group btn-breadcrumb\">\n-              <a href=\"#/self\" class=\"btn btn-default\"><i class=\"glyphicon glyphicon-home\"></i></a>\n+            <div id=\"status-buttons\" class=\"btn-group btn-breadcrumb col-md-12 col-md-offset-3\">\n+              <a href=\"#/self\" class=\"btn btn-secondary btn-default\"><i class=\"fa fa-home\"></i></a>\n               <!--add class breadcrumb-disabled-link to buttons to prevent click-->\n-              <a ui-sref-active=\"active\" class=\"btn btn-default\">Password reset</a>\n+              <a ui-sref-active=\"active\" class=\"btn btn-secondary btn-default\">Password reset</a>\n             </div>\n           </div>\n         </div>\n-        <form class=\"signup-form\" name=\"confirmPasswordResetForm\" ng-submit=\"confirmPasswordReset(user, $event)\" novalidate>\n+        <form class=\"signup-form\" name=\"confirmPasswordResetForm\" ng-submit=\"confirmPasswordReset(user, $event)\" \n+              novalidate>\n \n           <div id=\"form-views\" ui-view>\n             <div id=\"attribute\" class=\"form-group\">\n@@ -45,24 +46,27 @@\n \n             <div id=\"attribute\" class=\"form-group\">\n               <label for=\"confirmPassword\">{{'CONFIRM_PASSWORD'| translate}}</label>\n-              <input name=\"password\" type=\"password\" class=\"form-control\" equals=\"user.password\" ng-model=\"confirmPassword.value\"\n+              <input name=\"password\" type=\"password\" class=\"form-control\" equals=\"user.password\" \n+                     ng-model=\"confirmPassword.value\"\n                      placeholder=\"confirm password\" validate=\"true\">\n               <validation-message name=\"password\"/>\n             </div>\n \n             <div id=\"attribute\" class=\"form-group\">\n               <div class=\"suggestions\">\n                 {{'PASSWORD_STRENGTH'| translate}}:\n-                <span ng-if=\"passStrength < 50\">{{'INSECURE' | translate}}</span>\n+                <span ng-if=\"passStrength < 50\">{{'INSECURE'| translate}}</span>\n                 <span ng-if=\"passStrength >= 50 && passStrength <= 82\">{{'ALMOSTSECURE'| translate}}</span>\n                 <span ng-if=\"passStrength > 82\">{{'VERYGOOD'| translate}}</span>\n               </div>\n-              <div ng-password-strength=\"user.password\" strength=\"passStrength\" inner-class=\"progress-bar\" inner-class-prefix=\"progress-bar-\">\n+              <div ng-password-strength=\"user.password\" strength=\"passStrength\" inner-class=\"progress-bar\" \n+                   inner-class-prefix=\"progress-bar-\">\n               </div>\n             </div>\n             <div id=\"attribute\" class=\"form-group row\">\n-              <button id=\"resetpassword\" type=\"submit\" class=\"btn btn-default pull-right\">{{'SUBMIT'| translate}}</button>\n-              <div class=\"pull-left\">\n+              <button id=\"resetpassword\" type=\"submit\" \n+                      class=\"btn btn-secondary btn-default float-right\">{{'SUBMIT'| translate}}</button>\n+              <div class=\"float-left\">\n                 <a id=\"cancel\" href=\"#/self\" class=\"btn btn-danger\">{{'CANCEL'| translate}}</a>\n               </div>\n             </div>"},{"sha":"1454521dba20d5c89c21d17df93b5673f49789f4","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/dynamicDerivedAttributes.html","status":"modified","additions":12,"deletions":7,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicDerivedAttributes.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicDerivedAttributes.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicDerivedAttributes.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -17,30 +17,35 @@\n under the License.\n -->\n <div ng-repeat=\"groupSchema in dynamicForm.groupSchemas\">\n-  <uib-accordion ng-if=\"getByGroup(groupSchema).length > 0\">\n+  <uib-accordion ng-if=\"getByGroup(groupSchema).length\">\n     <div uib-accordion-group heading=\"{{groupSchema| translate}}\"\n          ng-init=\"status = {isOpen: (groupSchema == 'own')}\" is-open=\"status.isOpen\"\n-         class=\"breadcrumb-header\">\n+         class=\"breadcrumb-header panel panel-default\">\n+\n       <div id=\"attribute\" class=\"form-group\" ng-repeat=\"derSchema in getByGroup(groupSchema) track by $index\">\n-        <label for=\"derSchema.key\">{{derSchema.labels[language] || derSchema.simpleKey}} <span ng-if=\"derSchema.mandatoryCondition === 'true'\">*</span></label>\n+        <label for=\"derSchema.key\">{{derSchema.labels[language] || derSchema.simpleKey}}\n+          <span ng-if=\"derSchema.mandatoryCondition === 'true'\">*</span>\n+        </label>\n         <div ng-if=\"!derSchema.multivalue\">\n           <dynamic-derived-attribute schema=\"derSchema\" user=\"user\" index=\"0\"></dynamic-derived-attribute>\n           <validation-message name=\"{{derSchema.simpleKey}}\"/>\n         </div>\n+\n         <div ng-if=\"derSchema.multivalue\">\n           <div ng-repeat=\"field in dynamicForm.attributeTable[derSchema.key].fields track by $index\" \n                ng-model='dynamicForm.attributeTable[derSchema.key].fields[$index]'>\n             <dynamic-derived-attribute schema=\"derSchema\" user=\"user\" index=\"$index\"></dynamic-derived-attribute>\n             <span>\n-              <button class=\"btn btn-default btn-sm minus\" ng-if=\"$index > 0\" type=\"button\" \n+              <button class=\"btn btn-secondary btn-default btn-sm minus\" ng-if=\"$index > 0\" type=\"button\" \n                       ng-click=\"removeAttributeField(derSchema.key, $index)\">\n-                <i class=\"glyphicon glyphicon-minus\" title=\"Remove value\"></i>\n+                <i class=\"fa fa-minus\" title=\"Remove value\"></i>\n               </button>\n             </span>\n           </div>\n           <span>\n-            <button class=\"btn btn-default btn-sm\" type=\"button\" ng-click=\"addAttributeField(derSchema.key)\">\n-              <i class=\"glyphicon glyphicon-plus\" title=\"Add value\"></i>\n+            <button class=\"btn btn-secondary btn-default btn-sm\" type=\"button\" \n+                    ng-click=\"addAttributeField(derSchema.key)\">\n+              <i class=\"fa fa-plus\" title=\"Add value\"></i>\n             </button>\n           </span>\n         </div>"},{"sha":"c6b50421abfb838d1d9b5b2af3033cec1b420e42","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/dynamicPlainAttribute.html","status":"modified","additions":69,"deletions":70,"changes":139,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicPlainAttribute.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicPlainAttribute.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicPlainAttribute.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -26,7 +26,7 @@\n \n   <div ng-switch-when=\"Encrypted\" class=\"input-group input-group-sm\">\n     <span class=\"input-group-btn\" ng-disabled=\"schema.readonly || customReadonly(schema.key)\">  \n-      <button type=\"button\" class=\"btn btn-default btn-flat\"\n+      <button type=\"button\" class=\"btn btn-default btn-sm btn-flat\"\n               confirm=\"{{'CONFIRM_REMOVE'| translate}}\"\n               onclick=\"var pwd = $(this).parent().next('input');\n                   if (pwd.is('[readonly]')) {\n@@ -49,9 +49,10 @@\n     <input class=\"form-control\" type=\"password\" readonly=\"true\"\n            ng-model=\"user.plainAttrs[schema.key].values[index]\"\n            ng-required=\"{{schema.mandatoryCondition}}\" validate=\"true\"\n-           ng-disabled=\"schema.readonly || customReadonly(schema.key)\" ng-init=\"initAttribute(schema, index)\" name=\"{{schema.key}}\"/>\n+           ng-disabled=\"schema.readonly || customReadonly(schema.key)\" ng-init=\"initAttribute(schema, index)\" \n+           name=\"{{schema.key}}\"/>\n     <span class=\"input-group-btn\">  \n-      <button type=\"button\" class=\"btn btn-default btn-flat\"\n+      <button type=\"button\" class=\"btn btn-default btn-sm btn-flat\"\n               onmousedown=\"var pwd = $(this).parent().prev('input');\n                   if (!pwd.is('[readonly]')) {\n                     pwd.attr('type', 'text');\n@@ -63,87 +64,85 @@\n                     $(this).children().attr('class', 'fa fa-eye');\n                   }\"\n               >\n-  <i class=\"fa fa-eye\"></i>\n-</button>\n-</span>\n-</div>\n+        <i class=\"fa fa-eye\"></i>\n+      </button>\n+    </span>\n+  </div>\n \n-<div ng-switch-when=\"Boolean\">\n-  <input type=\"checkbox\" ng-model=\"user.plainAttrs[schema.key].values[index]\" \n+  <div ng-switch-when=\"Boolean\">\n+    <input type=\"checkbox\" ng-model=\"user.plainAttrs[schema.key].values[index]\" \n            ng-true-value=\"'true'\" \n            ng-false-value=\"'false'\" \n            ng-required=\"{{schema.mandatoryCondition}}\"\n            ng-disabled=\"schema.readonly || customReadonly(schema.key)\"\n            ng-init=\"initAttribute(schema, index)\" />\n-</div>\n+  </div>\n \n-<input ng-switch-when=\"Long\" class=\"form-control\"\n-           type=\"number\"\n-           ng-model=\"user.plainAttrs[schema.key].values[index]\" \n-           ng-required=\"{{schema.mandatoryCondition}}\"\n+  <input ng-switch-when=\"Long\" class=\"form-control\"\n+         type=\"number\"\n+         ng-model=\"user.plainAttrs[schema.key].values[index]\" \n+         ng-required=\"{{schema.mandatoryCondition}}\"\n+         ng-disabled=\"schema.readonly || customReadonly(schema.key)\"\n+         validate=\"true\"\n+         ng-init=\"initAttribute(schema, index)\"\n+         name=\"{{schema.key}}\"/>\n+\n+  <input ng-switch-when=\"Double\" class=\"form-control\" type=\"number\" ng-model=\"user.plainAttrs[schema.key].values[index]\"\n+         ng-required=\"{{schema.mandatoryCondition}}\" validate=\"true\"\n+         ng-disabled=\"schema.readonly || customReadonly(schema.key)\"\n+         ng-init=\"initAttribute(schema, index)\" name=\"{{schema.key}}\"/>\n+\n+  <div ng-switch-when=\"Date\" id=\"date\">\n+    <input type=\"text\" class=\"dateTimePicker\"\n+           kendo-date-time-picker\n+           ng-show=\"!isDateOnly\"\n+           ng-model=\"extendedDate\"\n+           ng-required=\"{{schema.mandatoryCondition}}\" close-text=\"Close\"\n+           ng-init=\"initAttribute(schema, index)\"\n+           ng-change=\"bindDateToModel(selectedDate, extendedDate)\"\n            ng-disabled=\"schema.readonly || customReadonly(schema.key)\"\n-           validate=\"true\"\n+           k-ng-model=\"selectedDate\"\n+           data-k-format=\"languageFormat\"\n+           />\n+    <input type=\"text\" class=\"datePicker\"\n+           kendo-date-picker\n+           ng-show=\"isDateOnly\"\n+           ng-model=\"extendedDate\"\n+           ng-required=\"{{schema.mandatoryCondition}}\" close-text=\"Close\"\n            ng-init=\"initAttribute(schema, index)\"\n-           name=\"{{schema.key}}\"/>\n-\n-<input ng-switch-when=\"Double\" class=\"form-control\" type=\"number\" ng-model=\"user.plainAttrs[schema.key].values[index]\"\n-           ng-required=\"{{schema.mandatoryCondition}}\" validate=\"true\"\n+           ng-change=\"bindDateToModel(selectedDate, extendedDate)\"\n            ng-disabled=\"schema.readonly || customReadonly(schema.key)\"\n-           ng-init=\"initAttribute(schema, index)\" name=\"{{schema.key}}\"/>\n+           k-ng-model=\"selectedDate\"\n+           data-k-format=\"languageFormat\"\n+           />\n+  </div>\n \n-<div ng-switch-when=\"Date\" id=\"date\">\n-<input type=\"text\" class=\"dateTimePicker\"\n-       id=\"dateTimePicker\"\n-       kendo-date-time-picker\n-       ng-show=\"!isDateOnly\"\n-       ng-model=\"extendedDate\"\n-       ng-required=\"{{schema.mandatoryCondition}}\" close-text=\"Close\"\n-       ng-init=\"initAttribute(schema, index)\"\n-       ng-change=\"bindDateToModel(selectedDate, extendedDate)\"\n-ng-disabled=\"schema.readonly || customReadonly(schema.key)\"\n-k-ng-model=\"selectedDate\"\n-data-k-format=\"languageFormat\"\n-/>\n-<input type=\"text\" class=\"datePicker\"\n-       id=\"datePicker\"\n-       kendo-date-picker\n-       ng-show=\"isDateOnly\"\n-       ng-model=\"extendedDate\"\n-       ng-required=\"{{schema.mandatoryCondition}}\" close-text=\"Close\"\n-       ng-init=\"initAttribute(schema, index)\"\n-       ng-change=\"bindDateToModel(selectedDate, extendedDate)\"\n-       ng-disabled=\"schema.readonly || customReadonly(schema.key)\"\n-       k-ng-model=\"selectedDate\"\n-       data-k-format=\"languageFormat\"\n-             />\n-    </div>\n+  <div ng-switch-when=\"Enum\" ng-init=\"initAttribute(schema, index)\">\n+    <select class=\"form-control custom-select\"\n+            ng-model=\"user.plainAttrs[schema.key].values[index]\"\n+            ng-required=\"{{schema.mandatoryCondition}}\"\n+            ng-disabled=\"schema.readonly || customReadonly(schema.key)\">\n+      <option ng-repeat=\"value in enumerationValues\" value=\"{{value}}\">\n+        {{enumerationKeys[$index]|| value}}\n+      </option>\n+    </select>\n+  </div>\n \n-    <div ng-switch-when=\"Enum\" ng-init=\"initAttribute(schema, index)\">\n-      <select class=\"form-control\"\n-              ng-model=\"user.plainAttrs[schema.key].values[index]\"\n-              ng-required=\"{{schema.mandatoryCondition}}\"\n-              ng-disabled=\"schema.readonly || customReadonly(schema.key)\">\n-        <option ng-repeat=\"value in enumerationValues\" value=\"{{value}}\">\n-          {{enumerationKeys[$index]|| value}}\n-        </option>\n-      </select>\n-    </div>\n+  <div ng-switch-when=\"Binary\"\n+       ng-disabled=\"schema.readonly || customReadonly(schema.key)\"\n+       ng-init=\"initAttribute(schema, index)\">\n+    <input file-input type=\"file\" id=\"fileInput\" name=\"fileInput\"/>\n+    <button type=\"button\" title=\"Download file\" class=\"fileButton btn btn-default btn-sm\" ng-click=\"download()\">\n+      <i class=\"fa fa-arrow-circle-down\" ></i>\n+    </button>\n+  </div>\n \n-    <div ng-switch-when=\"Binary\"\n+  <input ng-switch-default class=\"form-control\" type=\"text\"\n+         ng-model=\"user.plainAttrs[schema.key].values[index]\"\n+         ng-required=\"{{schema.mandatoryCondition}}\" \n          ng-disabled=\"schema.readonly || customReadonly(schema.key)\"\n-         ng-init=\"initAttribute(schema, index)\">\n-      <input file-input type=\"file\" id=\"fileInput\" name=\"fileInput\"/>\n-      <button type=\"button\" title=\"Download file\" class=\"fileButton btn btn-default btn-sm\" ng-click=\"download()\">\n-        <i class=\"glyphicon glyphicon-download\" ></i>\n-      </button>\n-    </div>\n-\n-    <input ng-switch-default class=\"form-control\" type=\"text\"\n-           ng-model=\"user.plainAttrs[schema.key].values[index]\"\n-           ng-required=\"{{schema.mandatoryCondition}}\" \n-           ng-disabled=\"schema.readonly || customReadonly(schema.key)\"\n-           ng-init=\"initAttribute(schema, index)\"/>\n-  </div>\n+         ng-init=\"initAttribute(schema, index)\"/>\n+</div>\n \n \n "},{"sha":"77554a0da0f60400b3ea6d0ae3e478528e05881a","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/dynamicPlainAttributes.html","status":"modified","additions":8,"deletions":6,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicPlainAttributes.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicPlainAttributes.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicPlainAttributes.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -17,28 +17,30 @@\n under the License.\n -->\n <div ng-repeat=\"groupSchema in dynamicForm.groupSchemas\">\n-  <uib-accordion ng-if=\"getByGroup(groupSchema).length > 0\">\n+  <uib-accordion ng-if=\"getByGroup(groupSchema).length\">\n     <div uib-accordion-group heading=\"{{groupSchema| translate}}\"\n          ng-init=\"status = {isOpen: (groupSchema == 'own')}\" is-open=\"status.isOpen\"\n-         class=\"breadcrumb-header\">\n+         class=\"breadcrumb-header panel panel-default\">\n \n       <div id=\"attribute\" class=\"form-group\" ng-repeat=\"plainSchema in getByGroup(groupSchema) track by $index\">\n-        <label for=\"plainSchema.key\">{{plainSchema.labels[language] || plainSchema.simpleKey}} <span ng-if=\"plainSchema.mandatoryCondition === 'true'\">*</span></label>\n+        <label for=\"plainSchema.key\">{{plainSchema.labels[language] || plainSchema.simpleKey}}\n+          <span ng-if=\"plainSchema.mandatoryCondition === 'true'\">*</span>\n+        </label>\n         <div ng-if=\"!plainSchema.multivalue\">\n           <dynamic-plain-attribute schema=\"plainSchema\" user=\"user\" index=\"0\"></dynamic-plain-attribute>\n           <validation-message name=\"{{plainSchema.key}}\"/>\n         </div>\n-        \n+\n         <div ng-if=\"plainSchema.multivalue\">\n           <div ng-repeat=\"field in dynamicForm.attributeTable[plainSchema.key].fields track by $index\" \n                ng-model='dynamicForm.attributeTable[plainSchema.key].fields[$index]'>\n             <div class=\"multivalue\">\n               <button class=\"btn btn-default btn-sm\" type=\"button\" ng-click=\"addAttributeField(plainSchema.key)\">\n-                <i class=\"glyphicon glyphicon-plus\" title=\"Add value\"></i>\n+                <i class=\"fa fa-plus\" title=\"Add value\"></i>\n               </button>\n               <button class=\"btn btn-default btn-sm minus\" ng-if=\"$index > 0\" type=\"button\" \n                       ng-click=\"removeAttributeField(plainSchema.key, $index)\">\n-                <i class=\"glyphicon glyphicon-minus\" title=\"Remove value\"></i>\n+                <i class=\"fa fa-minus\" title=\"Remove value\"></i>\n               </button>\n               <dynamic-plain-attribute schema=\"plainSchema\" user=\"user\" index=\"$index\"></dynamic-plain-attribute>\n             </div>"},{"sha":"22bc93c5e1cdc82678fd4e48085bf4a9b296e3d9","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/dynamicVirtualAttributes.html","status":"modified","additions":11,"deletions":7,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicVirtualAttributes.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicVirtualAttributes.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicVirtualAttributes.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -17,26 +17,30 @@\n under the License.\n -->\n <div  ng-repeat=\"groupSchema in dynamicForm.groupSchemas\">\n-  <uib-accordion ng-if=\"getByGroup(groupSchema).length > 0\">\n+  <uib-accordion ng-if=\"getByGroup(groupSchema).length\">\n     <div uib-accordion-group heading=\"{{groupSchema| translate}}\"\n          ng-init=\"status = {isOpen: (groupSchema == 'own')}\" is-open=\"status.isOpen\"\n-         class=\"breadcrumb-header\">\n+         class=\"breadcrumb-header panel panel-default\">\n+\n       <div id=\"attribute\" class=\"form-group\" ng-repeat=\"virSchema in getByGroup(groupSchema) track by $index\">\n-        <label for=\"virSchema.key\">{{virSchema.labels[language] || virSchema.simpleKey}} <span ng-if=\"virSchema.mandatoryCondition === 'true'\">*</span></label>\n+        <label for=\"virSchema.key\">{{virSchema.labels[language]|| virSchema.simpleKey}}\n+          <span ng-if=\"virSchema.mandatoryCondition === 'true'\">*</span>\n+        </label>\n         <div ng-if=\"!virSchema.multivalue\">\n           <dynamic-virtual-attribute schema=\"virSchema\" user=\"user\" index=\"0\"></dynamic-virtual-attribute>\n           <validation-message name=\"{{virSchema.simpleKey}}\"/>\n         </div>\n+\n         <div ng-if=\"virSchema.multivalue\">\n           <div ng-repeat=\"field in dynamicForm.attributeTable[virSchema.key].fields track by $index\" \n                ng-model='dynamicForm.attributeTable[virSchema.key].fields[$index]'>\n             <div class=\"multivalue\">\n               <dynamic-virtual-attribute schema=\"virSchema\" user=\"user\" index=\"$index\"></dynamic-virtual-attribute>\n-              <button class=\"btn btn-default btn-sm minus\" ng-if=\"$index > 0\" type=\"button\" \n+              <button class=\"btn btn-secondary btn-default btn-sm minus\" ng-if=\"$index > 0\" type=\"button\" \n                       ng-click=\"removeAttributeField(virSchema.key, $index)\">\n-                <i class=\"glyphicon glyphicon-minus\" title=\"Remove value\"></i>\n-              </button><button class=\"btn btn-default btn-sm\" type=\"button\" ng-click=\"addAttributeField(virSchema.key)\">\n-                <i class=\"glyphicon glyphicon-plus\" title=\"Add value\"></i>\n+                <i class=\"fa fa-minus\" title=\"Remove value\"></i>\n+              </button><button class=\"btn btn-secondary btn-default btn-sm\" type=\"button\" ng-click=\"addAttributeField(virSchema.key)\">\n+                <i class=\"fa fa-plus\" title=\"Add value\"></i>\n               </button>\n             </div>\n           </div>"},{"sha":"3d0d013e19235003587409bf971100a79176fc17","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/editUser.html","status":"modified","additions":1,"deletions":30,"changes":31,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FeditUser.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FeditUser.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FeditUser.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -17,34 +17,5 @@\n under the License.\n -->\n <div ng-cloak class=\"container\">\n-  <div class=\"login-container\" ng-controller=\"UserController\" ng-init=\"initUser();\" style=\"box-sizing: border-box; \">\n-    <div id=\"form-container\" class=\"col-md-6 col-md-offset-3\" style=\"box-sizing: border-box; background-color: #F7F7F7;\">\n-      <div>\n-        <div class=\"page-header\" style=\"text-align: left; font-weight: 700;\">          \n-          <span ng-show=\"createMode\">{{'NEWUSER'| translate}}</span>\n-          <span ng-show=\"!createMode\">{{'USER'| translate}} {{user.username}}</span>\n-        </div>\n-        <div class=\"breadcrumb-header text-center\">\n-          <!-- the links to our nested states using relative paths -->\n-          <!-- add the active class if the state matches our ui-sref -->\n-          <!--<div id=\"status-buttons\" class=\"text-center\">-->\n-          <div class=\"row\">\n-            <div growl reference=\"2\" inline=\"true\"></div>              \n-            <div id=\"status-buttons\" class=\"btn-group btn-breadcrumb\">\n-              <a class=\"btn btn-default\" ng-show=\"createMode\" ng-click=\"logout()\"><i class=\"glyphicon glyphicon-home\"></i></a>\n-              <a id=\"logout\" class=\"btn btn-default\" ng-show=\"!createMode\" ng-click=\"logout()\"><i class=\"glyphicon glyphicon-off\"style=\"color:red\"></i></a>\n-              <!--add class breadcrumb-disabled-link to buttons to prevent click-->              \n-              <a ng-repeat=\"(key, value) in wizard\" ui-sref-active=\"active\" ui-sref=\".{{key}}\" class=\"btn btn-default\" \n-                 ng-class=\"createMode && !endReached ? 'disable-link' : ''\">{{key | translate}}</a>       \n-            </div>\n-          </div>\n-        </div>\n-        <form class=\"signup-form\" name=\"userForm\" ng-submit=\"saveUser(user)\" novalidate>\n-          <div id=\"form-views\" ui-view >\n-\n-          </div>\n-        </form>\n-      </div>\n-    </div>\n-  </div>\n+  <dynamic-template-item type=\"edit_user\"/>\n </div>"},{"sha":"1245214d80793df8682ce2c887c1cd599d26022d","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/mustchangepassword.html","status":"modified","additions":13,"deletions":9,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fmustchangepassword.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fmustchangepassword.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fmustchangepassword.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -17,21 +17,23 @@\n under the License.\n -->\n <div ng-cloak class=\"container\">\n-  <div ng-controller=\"UserController\" style=\"box-sizing: border-box; \">\n+  <div ng-controller=\"UserController\">\n \n-    <div id=\"form-container\" class=\"col-md-6 col-md-offset-3\" style=\"box-sizing: border-box; background-color: #F7F7F7;\">\n+    <div id=\"form-container\" class=\"col-md-6 col-md-offset-3\">\n \n       <div>\n-        <div class=\"page-header\" style=\"text-align: left; font-weight: 700;\">\n+        <div class=\"page-header\">\n           <span>{{'PASSWORD_CHANGE_REQUIRED'| translate}}</span>\n         </div>\n         <div class=\"breadcrumb-header text-center\">\n \n           <div class=\"row\">            \n-            <div id=\"status-buttons\" class=\"btn-group btn-breadcrumb\">\n-              <a class=\"btn btn-default\" ng-click=\"logout()\"><i class=\"glyphicon glyphicon-off\"style=\"color:red\"></i></a>\n+            <div id=\"status-buttons\" class=\"btn-group btn-breadcrumb col-md-12 col-md-offset-3\">\n+              <a class=\"btn btn-secondary btn-default breadcrumb-home\" ng-click=\"logout()\">\n+                <i class=\"fa fa-power-off\"style=\"color:red\"></i>\n+              </a>\n               <!--add class breadcrumb-disabled-link to buttons to prevent click-->\n-              <a ui-sref-active=\"active\" class=\"btn btn-default\">{{'PASSWORD_CHANGE'| translate}}</a>\n+              <a ui-sref-active=\"active\" class=\"btn btn-secondary btn-default\">{{'PASSWORD_CHANGE'| translate}}</a>\n             </div>\n           </div>\n         </div>\n@@ -57,12 +59,14 @@\n                 <span ng-if=\"passStrength >= 50 && passStrength <= 82\">{{'ALMOSTSECURE'| translate}}</span>\n                 <span ng-if=\"passStrength > 82\">{{'VERYGOOD'| translate}}</span>\n               </div>\n-              <div ng-password-strength=\"user.password\" strength=\"passStrength\" inner-class=\"progress-bar\" inner-class-prefix=\"progress-bar-\">\n+              <div ng-password-strength=\"user.password\" strength=\"passStrength\" inner-class=\"progress-bar\" \n+                   inner-class-prefix=\"progress-bar-\">\n               </div>\n             </div>\n             <div id=\"attribute\" class=\"form-group row\">\n-              <button id=\"resetpassword\" type=\"submit\" class=\"btn btn-default pull-right\">{{'SUBMIT'| translate}}</button>\n-              <div class=\"pull-left\">\n+              <button id=\"resetpassword\" type=\"submit\" \n+                      class=\"btn btn-secondary btn-default float-right\">{{'SUBMIT'| translate}}</button>\n+              <div class=\"float-left\">\n                 <a id=\"cancel\" href=\"#/self\" class=\"btn btn-danger\">{{'CANCEL'| translate}}</a>\n               </div>\n             </div>"},{"sha":"cd2f90774297fff0937149259c79687fbd77fab7","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/navigationButtonsPartial.html","status":"renamed","additions":8,"deletions":5,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FnavigationButtonsPartial.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FnavigationButtonsPartial.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FnavigationButtonsPartial.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -16,11 +16,14 @@\n specific language governing permissions and limitations\n under the License.\n -->\n-<div class=\"pull-right\">\n-  <a ng-show=\"next !== 'none'\" id=\"next\" class=\"btn btn-default\" ng-click=\"validateAndNext($event)\">\n-    {{'NEXT' | translate}} <span class=\"glyphicon glyphicon-circle-arrow-right\"></span>\n+<div class=\"float-right\">\n+  <a ng-show=\"next !== 'none'\" id=\"next\" class=\"btn btn-secondary btn-default\" ng-click=\"validateAndNext($event)\">\n+    {{'NEXT'| translate}}\n+    <span class=\"fa fa-arrow-circle-right\"></span>\n   </a>\n-  <a ng-show=\"previous !== 'none'\" id=\"previous\" ng-click=\"previousTab()\" class=\"btn btn-default\">\n-    <span class=\"glyphicon glyphicon-circle-arrow-left\"></span> {{'PREVIOUS' | translate}}\n+  <a ng-show=\"previous !== 'none'\" id=\"previous\" \n+     ng-click=\"previousTab()\" class=\"btn btn-secondary btn-default float-left\">\n+    <span class=\"fa fa-arrow-circle-left\"></span>\n+    {{'PREVIOUS'| translate}}\n   </a>\n </div>","previous_filename":"client/enduser/src/main/resources/META-INF/resources/app/views/navigationButtons.html"},{"sha":"baeee406572e1d8a249d7c558844915f071ee4ed","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/passwordreset.html","status":"modified","additions":1,"deletions":54,"changes":55,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fpasswordreset.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fpasswordreset.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fpasswordreset.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -17,58 +17,5 @@\n under the License.\n -->\n <div ng-cloak class=\"container\">\n-  <div ng-controller=\"UserController\" style=\"box-sizing: border-box; \">\n-\n-    <div id=\"form-container\" class=\"col-md-6 col-md-offset-3\" style=\"box-sizing: border-box; background-color: #F7F7F7;\">\n-\n-      <div>\n-        <div class=\"page-header\" style=\"text-align: left; font-weight: 700;\">\n-          <span>Password reset</span>\n-        </div>\n-        <div class=\"breadcrumb-header text-center\">\n-\n-          <div class=\"row\">            \n-            <div id=\"status-buttons\" class=\"btn-group btn-breadcrumb\">\n-              <a class=\"btn btn-default\" ng-click=\"logout()\"><i class=\"glyphicon glyphicon-home\"></i></a>\n-              <!--add class breadcrumb-disabled-link to buttons to prevent click-->\n-              <a ui-sref-active=\"active\" class=\"btn btn-default\">{{'USERDETAILS'| translate}}</a>\n-            </div>\n-          </div>\n-        </div>\n-        <form class=\"signup-form\" name=\"passwordResetForm\" ng-submit=\"resetPassword(user)\" novalidate>\n-\n-          <div id=\"form-views\" ui-view>\n-            <div id=\"attribute\" class=\"form-group\">\n-              <label for=\"user.username\">{{'USER'| translate}}</label>\n-              <input name=\"username\" type=\"text\" class=\"form-control\" ng-model=\"user.username\" required \n-                     placeholder=\"{{'USERNAME_PLACEHOLDER'|translate}}\" ng-blur=\"retrieveSecurityQuestion(user)\">\n-              <p ng-show=\"(userForm.username.$error.required && !userForm.username.$pristine)\" \n-                 class=\"text-validation-error\">Username is required</p>\n-            </div>\n-            <div id=\"attribute\" class=\"form-group\" ng-show=\"$root.pwdResetRequiringSecurityQuestions\">\n-              <label for=\"user.securityquestion\">{{'SECURITYQUESTION'| translate}}</label> \n-              <div class=\"suggestions\">(Not Loading? <a href ng-click=\"retrieveSecurityQuestion(user)\">Reload</a>)</div>\n-              <input name=\"securityquestion\" type=\"text\" class=\"form-control\" ng-model=\"userSecurityQuestion\" \n-                     disabled=\"disabled\">              \n-            </div>\n-            <div id=\"attribute\" class=\"form-group\" ng-show=\"$root.pwdResetRequiringSecurityQuestions\">\n-              <label for=\"user.securityAnswer\">{{'SECURITYANSWER'| translate}}</label>\n-              <input name=\"securityAnswer\" type=\"text\" class=\"form-control\" ng-model=\"user.securityAnswer\" \n-                     placeholder=\"{{'SECURITYANSWER_PLACEHOLDER'| translate}}\" id=\"securityAnswer\">              \n-            </div>\n-            <div id=\"attribute\" class=\"form-group row\">\n-              <!--captcha-->\n-              <div class=\"form-group row\">\n-                <captcha input=\"captchaInput\" enabled=\"captchaEnabled\"></captcha>\n-              </div>\n-              <button id=\"resetpassword\" type=\"submit\" class=\"btn btn-default pull-right\">{{'SUBMIT'| translate}}</button>\n-              <div class=\"pull-left\">\n-                <a id=\"cancel\" class=\"btn btn-danger\" ng-click=\"logout()\">{{'CANCEL'| translate}}</a>\n-              </div>\n-            </div>\n-          </div>\n-        </form>\n-      </div>\n-    </div>\n-  </div>\n+  <dynamic-template-item type=\"password_reset\"/>\n </div>"},{"sha":"b7bf74d680931c33b81eae15f6eaf961e586ae6e","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/self.html","status":"modified","additions":1,"deletions":59,"changes":60,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fself.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fself.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fself.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -26,65 +26,7 @@\n   </head>\n   <body>\n     <div ng-cloak class=\"container\">\n-      <div id=\"login-container\" ng-controller=\"LoginController\" style=\"box-sizing: border-box;\">\n-        <div id=\"login\" class=\"card card-container\">\n-          <div>\n-            <img class=\"login-logo\" src=\"img/logo-green.png\" />\n-            <div id=\"login-form\" class=\"form\">              \n-            </div>\n-            <form id=\"login-form\" class=\"form form-signin\" novalidate>\n-              <fieldset class=\"form-group input-group\">\n-                <div class=\"form-group\">\n-                  <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"login-username\" \n-                         placeholder=\"{{'USERNAME_PLACEHOLDER'| translate}}\"\n-                         ng-required ng-model=\"credentials.username\">\n-                </div>\n-                <div class=\"form-group\">\n-                  <input type=\"password\" class=\"form-control\" id=\"login-password\" \n-                         placeholder=\"{{'PASSWORD_PLACEHOLDER'| translate}}\" \n-                         ng-required ng-model=\"credentials.password\">\n-                </div>\n-                <div class=\"form-group\" ng-controller=\"UserController\">\n-                  <select  ng-change=\"switchLanguage()\"\n-                           id=\"language\" style=\"width: 100%; text-align: left;\" class=\"btn dropdown-toggle btn-default\" \n-                           ng-options=\"language.name for language in languages.availableLanguages track by language.id\" \n-                           ng-model=\"languages.selectedLanguage\"></select>\n-                </div>                 \n-                <div class=\"form-group\">\n-                  <button type=\"submit\" id=\"login-btn\" class=\"btn btn-default btn-signin login-btn\" \n-                          ng-click=\"login(credentials)\">Login</button>\n-                </div>\n-                <div class=\"form-group\">\n-                  <span ng-if=\"$root.saml2spExtAvailable()\">SAML 2.0</span>\n-                  <select id=\"saml2sp\" style=\"width: 100%; text-align: left;\" class=\"btn dropdown-toggle btn-default\"\n-                          ng-if=\"$root.saml2spExtAvailable()\"\n-                          ng-options=\"idp.name for idp in saml2idps.available track by idp.entityID\"\n-                          ng-model=\"saml2idps.selected\" ng-change=\"saml2login()\">\n-                  </select>\n-                </div>\n-                <div class=\"form-group\">\n-                  <span ng-if=\"$root.oidcclientExtAvailable()\">OpenID Connect</span>\n-                  <select id=\"oiscclient\" style=\"width: 100%; text-align: left;\" class=\"btn dropdown-toggle btn-default\"\n-                          ng-if=\"$root.oidcclientExtAvailable()\"\n-                          ng-options=\"op.name for op in oidcops.available track by op.name\"\n-                          ng-model=\"oidcops.selected\" ng-change=\"oidclogin()\">\n-                  </select>\n-                </div>\n-              </fieldset>\n-            </form>\n-          </div>\n-        </div>\n-        <div class=\"text-center\" ng-show=\"$root.isSelfRegAllowed()\">\n-          <a href=\"#\" class=\"btn btn-link\" ng-click=\"$event.preventDefault();selfCreate();\" id=\"register\">\n-            {{ 'SELFREGISTRATION' | translate}}\n-          </a>\n-        </div>\n-        <div class=\"text-center\" ng-show=\"$root.isPwdResetAllowed()\">\n-          <a href=\"#\" class=\"btn btn-link\" ng-click=\"$event.preventDefault();passwordReset();\" id=\"passwordreset\">\n-            {{ 'PASSWORDRESET' | translate}}\n-          </a>\n-        </div>\n-      </div> <!-- /#login -->\n+      <dynamic-template-item type=\"login\"/>\n     </div>\n   </body>\n </html>"},{"sha":"a309f71f249abea20598b81d967d76e7f457fa0f","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/templates/editUserTemplate.html","status":"added","additions":57,"deletions":0,"changes":57,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Ftemplates%2FeditUserTemplate.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Ftemplates%2FeditUserTemplate.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Ftemplates%2FeditUserTemplate.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,57 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<div class=\"login-container\" ng-controller=\"UserController\" ng-init=\"initUser();\">\n+  <div id=\"form-container\" class=\"col-md-12 col-md-offset-3\">\n+    <div>\n+      <div class=\"page-header\">          \n+        <span ng-show=\"createMode\">{{'NEWUSER'| translate}}</span>\n+        <span ng-show=\"!createMode\">{{'USER'| translate}} {{user.username}}</span>\n+      </div>\n+\n+      <div class=\"breadcrumb-header text-center\">\n+        <!-- the links to our nested states using relative paths add the active class if the state matches our ui-sref -->\n+        <div class=\"text-center\">\n+          <div class=\"row\">\n+            <div growl reference=\"2\" inline=\"true\"></div>              \n+            <div id=\"status-buttons\" class=\"btn-group btn-breadcrumb\">\n+              <a class=\"btn btn-secondary btn-default breadcrumb-btn-elem breadcrumb-home\" \n+                 ng-show=\"createMode\" ng-click=\"logout()\">\n+                <i class=\"fa fa-home\"></i>\n+              </a>\n+              <a id=\"logout\" class=\"btn btn-secondary btn-default breadcrumb-btn-elem\" \n+                 ng-show=\"!createMode\" ng-click=\"logout()\">\n+                <i class=\"fa fa-power-off\" style=\"color:red\"></i>\n+              </a>\n+              <!-- add class breadcrumb-disabled-link to buttons to prevent click -->              \n+              <a ng-repeat=\"(key, value) in wizard\" ui-sref-active=\"active\" ui-sref=\".{{key}}\" \n+                 class=\"btn btn-secondary btn-default breadcrumb-btn-elem\" \n+                 ng-class=\"createMode && !endReached ? 'disable-link' : ''\">{{key| translate}}</a>       \n+            </div>\n+          </div>\n+        </div>\n+\n+        <form class=\"signup-form\" name=\"userForm\" ng-submit=\"saveUser(user)\" novalidate>\n+          <div id=\"form-views\" ui-view >\n+\n+          </div>\n+        </form>\n+      </div>\n+    </div>\n+  </div>\n+</div>\n\\ No newline at end of file"},{"sha":"a309f71f249abea20598b81d967d76e7f457fa0f","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/templates/onlyPlainAttrsDetails/editUserTemplate.html","status":"added","additions":57,"deletions":0,"changes":57,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Ftemplates%2FonlyPlainAttrsDetails%2FeditUserTemplate.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Ftemplates%2FonlyPlainAttrsDetails%2FeditUserTemplate.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Ftemplates%2FonlyPlainAttrsDetails%2FeditUserTemplate.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,57 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<div class=\"login-container\" ng-controller=\"UserController\" ng-init=\"initUser();\">\n+  <div id=\"form-container\" class=\"col-md-12 col-md-offset-3\">\n+    <div>\n+      <div class=\"page-header\">          \n+        <span ng-show=\"createMode\">{{'NEWUSER'| translate}}</span>\n+        <span ng-show=\"!createMode\">{{'USER'| translate}} {{user.username}}</span>\n+      </div>\n+\n+      <div class=\"breadcrumb-header text-center\">\n+        <!-- the links to our nested states using relative paths add the active class if the state matches our ui-sref -->\n+        <div class=\"text-center\">\n+          <div class=\"row\">\n+            <div growl reference=\"2\" inline=\"true\"></div>              \n+            <div id=\"status-buttons\" class=\"btn-group btn-breadcrumb\">\n+              <a class=\"btn btn-secondary btn-default breadcrumb-btn-elem breadcrumb-home\" \n+                 ng-show=\"createMode\" ng-click=\"logout()\">\n+                <i class=\"fa fa-home\"></i>\n+              </a>\n+              <a id=\"logout\" class=\"btn btn-secondary btn-default breadcrumb-btn-elem\" \n+                 ng-show=\"!createMode\" ng-click=\"logout()\">\n+                <i class=\"fa fa-power-off\" style=\"color:red\"></i>\n+              </a>\n+              <!-- add class breadcrumb-disabled-link to buttons to prevent click -->              \n+              <a ng-repeat=\"(key, value) in wizard\" ui-sref-active=\"active\" ui-sref=\".{{key}}\" \n+                 class=\"btn btn-secondary btn-default breadcrumb-btn-elem\" \n+                 ng-class=\"createMode && !endReached ? 'disable-link' : ''\">{{key| translate}}</a>       \n+            </div>\n+          </div>\n+        </div>\n+\n+        <form class=\"signup-form\" name=\"userForm\" ng-submit=\"saveUser(user)\" novalidate>\n+          <div id=\"form-views\" ui-view >\n+\n+          </div>\n+        </form>\n+      </div>\n+    </div>\n+  </div>\n+</div>\n\\ No newline at end of file"},{"sha":"b2d6a3bb42bf4347f75c743464aef43f034c973c","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/templates/passwordresetTemplate.html","status":"added","additions":79,"deletions":0,"changes":79,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Ftemplates%2FpasswordresetTemplate.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Ftemplates%2FpasswordresetTemplate.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Ftemplates%2FpasswordresetTemplate.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,79 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<div ng-controller=\"UserController\">\n+  <div id=\"form-container\" class=\"col-md-12 col-md-offset-3\">\n+\n+    <div>\n+      <div class=\"page-header\">\n+        <span>Password reset</span>\n+      </div>\n+      <div class=\"breadcrumb-header text-center\">\n+        <div id=\"status-buttons\" class=\"btn-group btn-breadcrumb\">\n+          <a class=\"btn btn-default breadcrumb-btn-elem breadcrumb-home\" ng-click=\"logout()\">\n+            <i class=\"fa fa-home\"></i>\n+          </a>\n+          <!--add class breadcrumb-disabled-link to buttons to prevent click-->\n+          <a ui-sref-active=\"active\" class=\"btn btn-secondary btn-default active\">{{'USERDETAILS'| translate}}</a>\n+        </div>\n+      </div>\n+      <form class=\"signup-form\" name=\"passwordResetForm\" ng-submit=\"resetPassword(user)\" novalidate>\n+\n+        <div id=\"form-views\" ui-view>\n+          <div id=\"attribute\" class=\"form-group\">\n+            <label for=\"user.username\">{{'USER'| translate}}</label>\n+            <input name=\"username\" type=\"text\" class=\"form-control\" ng-model=\"user.username\" required \n+                   placeholder=\"{{'USERNAME_PLACEHOLDER'|translate}}\" ng-blur=\"retrieveSecurityQuestion(user)\">\n+            <p ng-show=\"(userForm.username.$error.required && !userForm.username.$pristine)\" \n+               class=\"text-validation-error\">Username is required</p>\n+          </div>\n+          <div id=\"attribute\" class=\"form-group\" ng-show=\"$root.pwdResetRequiringSecurityQuestions\">\n+            <label for=\"user.securityquestion\">{{'SECURITYQUESTION'| translate}}</label> \n+            <div class=\"suggestions\">(Not Loading? <a href ng-click=\"retrieveSecurityQuestion(user)\">Reload</a>)</div>\n+            <input name=\"securityquestion\" type=\"text\" class=\"form-control\" ng-model=\"userSecurityQuestion\" \n+                   disabled=\"disabled\">              \n+          </div>\n+          <div id=\"attribute\" class=\"form-group\" ng-show=\"$root.pwdResetRequiringSecurityQuestions\">\n+            <label for=\"user.securityAnswer\">{{'SECURITYANSWER'| translate}}</label>\n+            <input name=\"securityAnswer\" type=\"text\" class=\"form-control\" ng-model=\"user.securityAnswer\" \n+                   placeholder=\"{{'SECURITYANSWER_PLACEHOLDER'| translate}}\" id=\"securityAnswer\">              \n+          </div>\n+          <div id=\"attribute\" class=\"form-group row\">\n+            <!--captcha-->\n+            <div class=\"form-group row\">\n+              <div class=\"col-md-12\">\n+                <captcha input=\"captchaInput\" enabled=\"captchaEnabled\"></captcha>\n+              </div>\n+            </div>\n+            <div class=\"col-xs-6\">\n+              <a id=\"cancel\" class=\"btn btn-danger float-left nav-button\" tabindex=\"0\" ng-click=\"logout()\">\n+                {{'CANCEL'| translate}}\n+              </a>\n+            </div>\n+            <div class=\"col-xs-6\">\n+              <button id=\"resetpassword\" type=\"submit\" tabindex=\"0\"\n+                      class=\"btn btn-secondary btn-default float-right nav-button\">\n+                {{'SUBMIT'| translate}}\n+              </button>\n+            </div>\n+          </div>\n+        </div>\n+      </form>\n+    </div>\n+  </div>\n+</div>"},{"sha":"efd3350b142fc018c4d3db1b23a695942ad1e20e","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/templates/selfTemplate.html","status":"added","additions":77,"deletions":0,"changes":77,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Ftemplates%2FselfTemplate.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Ftemplates%2FselfTemplate.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Ftemplates%2FselfTemplate.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,77 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<div id=\"login-container\" ng-controller=\"LoginController\">\n+  <div id=\"login\" class=\"card card-container\">\n+    <div>\n+      <img class=\"login-logo\" src=\"img/logo-green.png\" />\n+      <div id=\"login-form\" class=\"form\">              \n+      </div>\n+      <form id=\"login-form\" class=\"form form-signin\" novalidate>\n+        <fieldset class=\"form-group input-group\">\n+          <div class=\"form-group\">\n+            <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"login-username\" \n+                   placeholder=\"{{'USERNAME_PLACEHOLDER'| translate}}\"\n+                   ng-required ng-model=\"credentials.username\">\n+          </div>\n+          <div class=\"form-group\">\n+            <input type=\"password\" class=\"form-control\" id=\"login-password\" \n+                   placeholder=\"{{'PASSWORD_PLACEHOLDER'| translate}}\" \n+                   ng-required ng-model=\"credentials.password\">\n+          </div>\n+          <div class=\"form-group\" ng-controller=\"UserController\">\n+            <select  ng-change=\"switchLanguage()\"\n+                     id=\"language\" class=\"dropdown-toggle custom-select btn btn-default\" \n+                     ng-options=\"language.name for language in languages.availableLanguages track by language.id\" \n+                     ng-model=\"languages.selectedLanguage\"></select>\n+          </div>                 \n+          <div class=\"form-group\">\n+            <button type=\"submit\" id=\"login-btn\" class=\"btn btn-secondary btn-default btn-signin login-btn\" \n+                    ng-click=\"login(credentials)\">Login</button>\n+          </div>\n+          <div class=\"form-group\">\n+            <span ng-if=\"$root.saml2spExtAvailable()\">SAML 2.0</span>\n+            <select id=\"saml2sp\" class=\"dropdown-toggle custom-select btn btn-default\"\n+                    ng-if=\"$root.saml2spExtAvailable()\"\n+                    ng-options=\"idp.name for idp in saml2idps.available track by idp.entityID\"\n+                    ng-model=\"saml2idps.selected\" ng-change=\"saml2login()\">\n+            </select>\n+          </div>\n+          <div class=\"form-group\">\n+            <span ng-if=\"$root.oidcclientExtAvailable()\">OpenID Connect</span>\n+            <select id=\"oiscclient\" class=\"dropdown-toggle custom-select btn btn-default\"\n+                    ng-if=\"$root.oidcclientExtAvailable()\"\n+                    ng-options=\"op.name for op in oidcops.available track by op.name\"\n+                    ng-model=\"oidcops.selected\" ng-change=\"oidclogin()\">\n+            </select>\n+          </div>\n+        </fieldset>\n+      </form>\n+    </div>\n+  </div>\n+  <div class=\"text-center\" ng-show=\"$root.isSelfRegAllowed()\">\n+    <a href=\"#\" class=\"btn btn-link\" ng-click=\"$event.preventDefault(); selfCreate();\" id=\"register\">\n+      {{ 'SELFREGISTRATION' | translate }}\n+    </a>\n+  </div>\n+  <div class=\"text-center\" ng-show=\"$root.isPwdResetAllowed()\">\n+    <a href=\"#\" class=\"btn btn-link\" ng-click=\"$event.preventDefault(); passwordReset();\" id=\"passwordreset\">\n+      {{ 'PASSWORDRESET' | translate }}\n+    </a>\n+  </div>\n+</div> <!-- /#login -->"},{"sha":"6a3524e4f887777d5f20728014b3203466bf0de7","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-credentials.html","status":"modified","additions":39,"deletions":23,"changes":62,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-credentials.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-credentials.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-credentials.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -18,60 +18,76 @@\n -->\n <div id=\"attribute\" class=\"form-group\">\n   <label for=\"user.username\">{{'USERNAME'| translate}} <span>*</span></label>\n-  <input name=\"username\" type=\"text\" class=\"form-control\" ng-model=\"user.username\" required placeholder=\"{{'USERNAME_PLACEHOLDER'|translate}}\" validate=\"true\"/>\n+  <input name=\"username\" type=\"text\" class=\"form-control\" ng-model=\"user.username\" \n+         required placeholder=\"{{'USERNAME_PLACEHOLDER'|translate}}\" validate=\"true\"/>\n   <validation-message name=\"username\" template=\"requiredMessage\" />\n </div>\n \n <div id=\"attribute\" class=\"form-group\">\n-  <label for=\"user.password\">{{\"PASSWORD\"|translate}}</label>\n-  <input type=\"password\" class=\"form-control\" name=\"password\" ng-model=\"user.password\" placeholder=\"{{'PASSWORD_PLACEHOLDER'|translate}}\">\n+  <label class=\"p-0\" for=\"user.password\">{{\"PASSWORD\"|translate}}</label>\n+  <input type=\"password\" class=\"form-control\" name=\"password\" ng-model=\"user.password\" \n+         placeholder=\"{{'PASSWORD_PLACEHOLDER'|translate}}\">\n </div>\n \n <div id=\"attribute\" class=\"form-group\">\n-  <label for=\"confirmPassword\">{{'CONFIRM_PASSWORD'| translate}}</label>\n-  <input name=\"password\" type=\"password\" class=\"form-control\" equals=\"user.password\" ng-model=\"confirmPassword.value\"\n-         placeholder=\"{{'CONFIRM_PASSWORD_PLACEHOLDER'| translate}}\" validate=\"true\">\n+  <label class=\"p-0\" for=\"confirmPassword\">{{'CONFIRM_PASSWORD'| translate}}</label>\n+  <input name=\"password\" type=\"password\" class=\"form-control\" equals=\"user.password\" \n+         ng-model=\"confirmPassword.value\" placeholder=\"{{'CONFIRM_PASSWORD_PLACEHOLDER'| translate}}\" validate=\"true\">\n   <validation-message name=\"password\"/>\n </div>\n \n <div id=\"attribute\" class=\"form-group\">\n-  <div class=\"suggestions\">\n+  <div class=\"suggestions p-0\">\n     {{'PASSWORD_STRENGTH'| translate}}: \n     <span ng-if=\"passStrength < 50\">{{'NOTSECURE'| translate}}</span>\n     <span ng-if=\"passStrength >= 50 && passStrength <= 82\">{{'ALMOSTSECURE'| translate}}</span>\n     <span ng-if=\"passStrength > 82\">{{'VERYGOOD'| translate}}</span>\n   </div>\n-  <div ng-password-strength=\"user.password\" strength=\"passStrength\" inner-class=\"progress-bar\" inner-class-prefix=\"progress-bar-\">\n+  <div class=\"col-md-12\" \n+       ng-password-strength=\"user.password\" strength=\"passStrength\" inner-class=\"progress-bar\" \n+       inner-class-prefix=\"progress-bar-\">\n   </div>\n </div>\n \n <div id=\"attribute\" class=\"form-group\">\n-  <label for=\"securityQuestion\">{{'SECURITYQUESTION'| translate}}</label>\n-  <select name=\"securityQuestion\" class=\"form-control\"\n+  <label class=\"p-0\" for=\"securityQuestion\">{{'SECURITYQUESTION'| translate}}</label>\n+  <select name=\"securityQuestion\" class=\"form-control custom-select\"\n           ng-model=\"user.securityQuestion\"\n           ng-options=\"securityQuestion.key as securityQuestion.content for securityQuestion in availableSecurityQuestions\">\n     <option value=\"\">{{'SELECTSECURITYQUESTION'| translate}}</option>\n   </select>\n </div>\n \n <div id=\"attribute\" class=\"form-group\">\n-  <label for=\"securityAnswer\">{{'SECURITYANSWER'| translate}}</label>\n-  <input ng-disabled=\"user.securityQuestion === null || user.securityQuestion === ''\" name=\"securityAnswer\" type=\"text\" class=\"form-control\" \n+  <label class=\"p-0\" for=\"securityAnswer\">{{'SECURITYANSWER'| translate}}</label>\n+  <input ng-disabled=\"user.securityQuestion === null || user.securityQuestion === ''\" name=\"securityAnswer\" \n+         type=\"text\" class=\"form-control\" \n          ng-model=\"user.securityAnswer\"\n          placeholder=\"{{'SECURITYANSWER_PLACEHOLDER'| translate}}\">\n </div>\n-<div id=\"attribute\" class=\"form-group row\">\n-    <div class=\"pull-right\">\n-    <div id=\"navButtons\" class=\"pull-left\">\n-      <navigation-buttons ng-show=\"createMode\" base=\"create\" current=\"credentials\" wizard=\"{{wizard}}\"></navigation-buttons>\n-      <navigation-buttons ng-show=\"!createMode\" base=\"update\" current=\"credentials\" wizard=\"{{wizard}}\"></navigation-buttons>\n+\n+<div id=\"attribute\" class=\"form-group row justify-content-between p-0\">\n+  <div class=\"col-xs-3\">\n+    <a id=\"cancel\" class=\"btn btn-danger float-left nav-button\" tabindex=\"0\" ng-click=\"logout()\">\n+      {{'CANCEL'| translate}}\n+    </a>\n+  </div>\n+  <div class=\"col-xs-9\">\n+    <div id=\"navButtons\" class=\"float-left\"\n+         ng-class=\"(!createMode || (createMode && endReached)) ? 'col-xs-10' : 'col-xs-12'\">\n+      <navigation-buttons-partial ng-show=\"createMode\" base=\"create\" current=\"credentials\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n+      <navigation-buttons-partial ng-show=\"!createMode\" base=\"update\" current=\"credentials\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n     </div>\n-    <div class=\"pull-right\">\n-      <button id=\"finish\" ng-show=\"!createMode\" type=\"button\" class=\"btn btn-default pull-right\" ng-click=\"finish()\">{{'FINISH'| translate}}</button>\n-      <button id=\"finish\" ng-show=\"createMode && endReached\" type=\"button\" class=\"btn btn-default pull-right\" ng-click=\"finish()\">{{'FINISH'| translate}}</button>  \n+    <div class=\"float-right p-0\" \n+         ng-class=\"(!createMode || (createMode && endReached)) ? 'col-xs-2' : ''\" \n+         ng-show=\"!createMode || (createMode && endReached)\">\n+      <button id=\"finish\" type=\"button\" tabindex=\"0\"\n+              class=\"btn btn-secondary btn-default float-right nav-button\" \n+              ng-click=\"finish()\">\n+        {{'FINISH'| translate}}\n+      </button>\n     </div>\n   </div>\n-  <div class=\"pull-left\">\n-    <a id=\"cancel\" class=\"btn btn-danger pull-left\" ng-click=\"logout()\">{{'CANCEL'| translate}}</a>\n-  </div>\n </div>"},{"sha":"a4435274a601112768c7268e61ef7a5bcaae10d2","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-derived-schemas.html","status":"modified","additions":22,"deletions":11,"changes":33,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-derived-schemas.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-derived-schemas.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-derived-schemas.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -19,18 +19,29 @@\n <div>\n   <dynamic-derived-attributes user=\"user\" form=\"dynamicForm\" language=\"languages.selectedLanguage.code\"></dynamic-derived-attributes>\n </div>\n-<div id=\"attribute\" class=\"form-group row\">\n-  <div class=\"pull-right\">\n-    <div id=\"navButtons\" class=\"pull-left\">\n-      <navigation-buttons ng-show=\"createMode\" base=\"create\" current=\"derivedSchemas\" wizard=\"{{wizard}}\"></navigation-buttons>\n-      <navigation-buttons ng-show=\"!createMode\" base=\"update\" current=\"derivedSchemas\" wizard=\"{{wizard}}\"></navigation-buttons>\n+\n+<div id=\"attribute\" class=\"form-group row justify-content-between p-0\">\n+  <div class=\"col-xs-3\">\n+    <a id=\"cancel\" class=\"btn btn-danger float-left nav-button\" tabindex=\"0\" ng-click=\"logout()\">\n+      {{'CANCEL'| translate}}\n+    </a>\n+  </div>\n+  <div class=\"col-xs-9\">\n+    <div id=\"navButtons\" class=\"float-left\"\n+         ng-class=\"(!createMode || (createMode && endReached)) ? 'col-xs-10' : 'col-xs-12'\">\n+      <navigation-buttons-partial ng-show=\"createMode\" base=\"create\" current=\"derivedSchemas\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n+      <navigation-buttons-partial ng-show=\"!createMode\" base=\"update\" current=\"derivedSchemas\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n     </div>\n-    <div class=\"pull-right\">\n-      <button id=\"finish\" ng-show=\"!createMode\" type=\"button\" class=\"btn btn-default pull-right\" ng-click=\"finish()\">{{'FINISH'| translate}}</button>\n-      <button id=\"finish\" ng-show=\"createMode && endReached\" type=\"button\" class=\"btn btn-default pull-right\" ng-click=\"finish()\">{{'FINISH'| translate}}</button>  \n+    <div class=\"float-right p-0\" \n+         ng-class=\"(!createMode || (createMode && endReached)) ? 'col-xs-2' : ''\" \n+         ng-show=\"!createMode || (createMode && endReached)\">\n+      <button id=\"finish\" type=\"button\" tabindex=\"0\"\n+              class=\"btn btn-secondary btn-default float-right nav-button\" \n+              ng-click=\"finish()\">\n+        {{'FINISH'| translate}}\n+      </button>\n     </div>\n   </div>\n-  <div class=\"pull-left\">\n-    <a id=\"cancel\" class=\"btn btn-danger pull-left\" ng-click=\"logout()\">{{'CANCEL'| translate}}</a>\n-  </div>\n </div>"},{"sha":"ad3485b4b18f8392f7053c48ca7d9fc02dff5506","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-form-finish.html","status":"modified","additions":18,"deletions":11,"changes":29,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-form-finish.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-form-finish.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-form-finish.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -16,22 +16,29 @@\n specific language governing permissions and limitations\n under the License.\n -->\n-<div id=\"attribute\" class=\"form-group row\">\n+<div id=\"attribute\" class=\"form-group row justify-content-between p-0\">\n   <!--captcha-->\n-  <div class=\"form-group row\">\n+  <div class=\"form-group row col-md-12\">\n     <captcha input=\"captchaInput\" enabled=\"captchaEnabled\"></captcha>\n   </div>\n+\n   <!--navigation buttons-->\n-  <div class=\"pull-right\">\n-    <div id=\"navButtons\" class=\"pull-left\">\n-      <navigation-buttons ng-show=\"createMode\" base=\"create\" current=\"finish\" wizard=\"{{wizard}}\"></navigation-buttons>\n-      <navigation-buttons ng-show=\"!createMode\" base=\"update\" current=\"finish\" wizard=\"{{wizard}}\"></navigation-buttons>\n+  <div class=\"col-xs-3\">\n+    <a id=\"cancel\" class=\"btn btn-danger float-left nav-button\" tabindex=\"0\" ng-click=\"logout()\">\n+      {{'CANCEL'| translate}}\n+    </a>\n+  </div>\n+  <div class=\"col-xs-9\">\n+    <div id=\"navButtons\" class=\"col-xs-10 float-left\">\n+      <navigation-buttons-partial ng-show=\"createMode\" base=\"create\" current=\"finish\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n+      <navigation-buttons-partial ng-show=\"!createMode\" base=\"update\" current=\"finish\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n     </div>\n-    <div class=\"pull-right\">\n-      <button id=\"save\" type=\"submit\" class=\"btn btn-default pull-right\">{{'SAVE'| translate}}</button>\n+    <div class=\"col-xs-2 float-right p-0\">\n+      <button id=\"save\" type=\"submit\" tabindex=\"0\" class=\"btn btn-secondary btn-default float-right nav-button\">\n+        {{'SAVE'| translate}}\n+      </button>\n     </div>\n   </div>\n-  <div class=\"pull-left\">\n-    <a id=\"cancel\" class=\"btn btn-danger pull-left\" ng-click=\"logout()\">{{'CANCEL'| translate}}</a>\n-  </div>\n </div>"},{"sha":"85812071da6c0f807ecb117d997774e9b6329ace","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-groups.html","status":"modified","additions":29,"deletions":18,"changes":47,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-groups.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-groups.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-groups.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -17,33 +17,44 @@\n under the License.\n -->\n <div id=\"attribute\" class=\"form-group row upper-select\">\n-  <label>{{\"REALM\"|translate}}</label>\n-  <select class=\"form-control\"\n+  <label class=\"col-md-12 p-0\">{{\"REALM\"|translate}}</label>\n+  <select class=\"form-control col-md-12 custom-select\"\n           ng-model=\"user.realm\" ng-change=\"refreshGroups()\"\n           ng-required=\"true\">\n     <option ng-repeat=\"realm in availableRealms\" value=\"{{realm}}\">{{realm}}</option>\n   </select>\n </div>\n <div id=\"attribute\" class=\"form-group row upper-select\">\n-  <label>{{\"groups\"|translate}}</label><br/>\n-  <groups form=\"dynamicForm\" user=\"user\"></groups>\n+  <label class=\"col-md-12 p-0\">{{\"groups\"|translate}}</label><br/>\n+  <groups class=\"col-md-12 p-0\" form=\"dynamicForm\" user=\"user\"></groups>\n </div>\n <div id=\"attribute\" class=\"form-group row upper-select\">\n-  <label>{{\"AUXILIARY CLASSES\"|translate}}</label><br/>\n-  <auxiliary form=\"dynamicForm\" user=\"user\"></auxiliary>\n+  <label class=\"col-md-12 p-0\">{{\"AUXILIARY CLASSES\"|translate}}</label>\n+  <auxiliary class=\"col-md-12 p-0\" form=\"dynamicForm\" user=\"user\"></auxiliary>\n </div>\n-<div id=\"attribute\" class=\"form-group row\">\n-  <div class=\"pull-right\">\n-    <div id=\"navButtons\" class=\"pull-left\">\n-      <navigation-buttons ng-show=\"createMode\" base=\"create\" current=\"groups\" wizard=\"{{wizard}}\"></navigation-buttons>\n-      <navigation-buttons ng-show=\"!createMode\" base=\"update\" current=\"groups\" wizard=\"{{wizard}}\"></navigation-buttons>\n+\n+<div id=\"attribute\" class=\"form-group row justify-content-between p-0\">\n+  <div class=\"col-xs-3\">\n+    <a id=\"cancel\" class=\"btn btn-danger float-left nav-button\" tabindex=\"0\" ng-click=\"logout()\">\n+      {{'CANCEL'| translate}}\n+    </a>\n+  </div>\n+  <div class=\"col-xs-9\">\n+    <div id=\"navButtons\" class=\"float-left\"\n+         ng-class=\"(!createMode || (createMode && endReached)) ? 'col-xs-10' : 'col-xs-12'\">\n+      <navigation-buttons-partial ng-show=\"createMode\" base=\"create\" current=\"groups\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n+      <navigation-buttons-partial ng-show=\"!createMode\" base=\"update\" current=\"groups\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n     </div>\n-    <div class=\"pull-right\">\n-      <button id=\"finish\" ng-show=\"!createMode\" type=\"button\" class=\"btn btn-default pull-right\" ng-click=\"finish()\">{{'FINISH'| translate}}</button>\n-      <button id=\"finish\" ng-show=\"createMode && endReached\" type=\"button\" class=\"btn btn-default pull-right\" ng-click=\"finish()\">{{'FINISH'| translate}}</button>  \n+    <div class=\"float-right p-0\" \n+         ng-class=\"(!createMode || (createMode && endReached)) ? 'col-xs-2' : ''\" \n+         ng-show=\"!createMode || (createMode && endReached)\">\n+      <button id=\"finish\" type=\"button\" tabindex=\"0\"\n+              class=\"btn btn-secondary btn-default float-right nav-button\" \n+              ng-click=\"finish()\">\n+        {{'FINISH'| translate}}\n+      </button>\n     </div>\n   </div>\n-  <div class=\"pull-left\">\n-    <a id=\"cancel\" class=\"btn btn-danger pull-left\" ng-click=\"logout()\">{{'CANCEL'| translate}}</a>\n-  </div>\n-</div>\n+</div>\n\\ No newline at end of file"},{"sha":"a23df5043f51dc2a98c38226db67140abc7f68ce","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-plain-schemas.html","status":"modified","additions":23,"deletions":12,"changes":35,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-plain-schemas.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-plain-schemas.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-plain-schemas.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -19,18 +19,29 @@\n <div>\n   <dynamic-plain-attributes form=\"dynamicForm\" user=\"user\" language=\"languages.selectedLanguage.code\"></dynamic-plain-attributes>\n </div>\n-<div id=\"attribute\" class=\"form-group row\">\n-  <div class=\"pull-right\">\n-    <div id=\"navButtons\" class=\"pull-left\">\n-      <navigation-buttons ng-show=\"createMode\" base=\"create\" current=\"plainSchemas\" wizard=\"{{wizard}}\"></navigation-buttons>\n-      <navigation-buttons ng-show=\"!createMode\" base=\"update\" current=\"plainSchemas\" wizard=\"{{wizard}}\"></navigation-buttons>\n+\n+<div id=\"attribute\" class=\"form-group row justify-content-between p-0\">\n+  <div class=\"col-xs-3\">\n+    <a id=\"cancel\" class=\"btn btn-danger float-left nav-button\" tabindex=\"0\" ng-click=\"logout()\">\n+      {{'CANCEL'| translate}}\n+    </a>\n+  </div>\n+  <div class=\"col-xs-9\">\n+    <div id=\"navButtons\" class=\"float-left\"\n+         ng-class=\"(!createMode || (createMode && endReached)) ? 'col-xs-10' : 'col-xs-12'\">\n+      <navigation-buttons-partial ng-show=\"createMode\" base=\"create\" current=\"plainSchemas\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n+      <navigation-buttons-partial ng-show=\"!createMode\" base=\"update\" current=\"plainSchemas\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n     </div>\n-    <div class=\"pull-right\">\n-      <button id=\"finish\" ng-show=\"!createMode\" type=\"button\" class=\"btn btn-default pull-right\" ng-click=\"finish()\">{{'FINISH'| translate}}</button>\n-      <button id=\"finish\" ng-show=\"createMode && endReached\" type=\"button\" class=\"btn btn-default pull-right\" ng-click=\"finish()\">{{'FINISH'| translate}}</button>  \n+    <div class=\"float-right p-0\" \n+         ng-class=\"(!createMode || (createMode && endReached)) ? 'col-xs-2' : ''\" \n+         ng-show=\"!createMode || (createMode && endReached)\">\n+      <button id=\"finish\" type=\"button\" tabindex=\"0\"\n+              class=\"btn btn-secondary btn-default float-right nav-button\"\n+              ng-click=\"finish()\">\n+        {{'FINISH'| translate}}\n+      </button>\n     </div>\n   </div>\n-  <div class=\"pull-left\">\n-    <a id=\"cancel\" class=\"btn btn-danger pull-left\" ng-click=\"logout()\">{{'CANCEL'| translate}}</a>\n-  </div>\n-</div>\n+</div>\n\\ No newline at end of file"},{"sha":"a8cde79dd3d3c672023c274d800ca9f63ce740f9","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-resources.html","status":"modified","additions":24,"deletions":13,"changes":37,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-resources.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-resources.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-resources.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -17,20 +17,31 @@\n under the License.\n -->\n <div id=\"attribute\" class=\"form-group row upper-select ng-scope\">\n-  <resources form=\"dynamicForm\" user=\"user\"></resources>\n+  <resources class=\"col-md-12 p-0\" form=\"dynamicForm\" user=\"user\"></resources>\n </div>\n-<div id=\"attribute\" class=\"form-group row\">\n-  <div class=\"pull-right\">\n-    <div id=\"navButtons\" class=\"pull-left\">\n-      <navigation-buttons ng-show=\"createMode\" base=\"create\" current=\"resources\" wizard=\"{{wizard}}\"></navigation-buttons>\n-      <navigation-buttons ng-show=\"!createMode\" base=\"update\" current=\"resources\" wizard=\"{{wizard}}\"></navigation-buttons>\n+\n+<div id=\"attribute\" class=\"form-group row justify-content-between p-0\">\n+  <div class=\"col-xs-3\">\n+    <a id=\"cancel\" class=\"btn btn-danger float-left nav-button\" tabindex=\"0\" ng-click=\"logout()\">\n+      {{'CANCEL'| translate}}\n+    </a>\n+  </div>\n+  <div class=\"col-xs-9\">\n+    <div id=\"navButtons\" class=\"float-left\"\n+         ng-class=\"(!createMode || (createMode && endReached)) ? 'col-xs-10' : 'col-xs-12'\">\n+      <navigation-buttons-partial ng-show=\"createMode\" base=\"create\" current=\"resources\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n+      <navigation-buttons-partial ng-show=\"!createMode\" base=\"update\" current=\"resources\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n     </div>\n-    <div class=\"pull-right\">\n-      <button id=\"finish\" ng-show=\"!createMode\" type=\"button\" class=\"btn btn-default pull-right\" ng-click=\"finish()\">{{'FINISH'| translate}}</button>\n-      <button id=\"finish\" ng-show=\"createMode && endReached\" type=\"button\" class=\"btn btn-default pull-right\" ng-click=\"finish()\">{{'FINISH'| translate}}</button>  \n+    <div class=\"float-right p-0\" \n+         ng-class=\"(!createMode || (createMode && endReached)) ? 'col-xs-2' : ''\" \n+         ng-show=\"!createMode || (createMode && endReached)\">\n+      <button id=\"finish\" type=\"button\" tabindex=\"0\"\n+              class=\"btn btn-secondary btn-default float-right nav-button\" \n+              ng-click=\"finish()\">\n+        {{'FINISH'| translate}}\n+      </button>\n     </div>\n   </div>\n-  <div class=\"pull-left\">\n-    <a id=\"cancel\" class=\"btn btn-danger pull-left\" ng-click=\"logout()\">{{'CANCEL'| translate}}</a>\n-  </div>\n-</div>\n+</div>\n\\ No newline at end of file"},{"sha":"d184a96cc2f44a2f6531a1db6256a063b58e3244","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-virtual-schemas.html","status":"modified","additions":22,"deletions":11,"changes":33,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-virtual-schemas.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-virtual-schemas.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-virtual-schemas.html?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -19,18 +19,29 @@\n <div>\n   <dynamic-virtual-attributes form=\"dynamicForm\" user=\"user\" language=\"languages.selectedLanguage.code\"></dynamic-virtual-attributes>\n </div>\n-<div id=\"attribute\" class=\"form-group row\">\n-  <div class=\"pull-right\">\n-    <div id=\"navButtons\" class=\"pull-left\">\n-      <navigation-buttons ng-show=\"createMode\" base=\"create\" current=\"virtualSchemas\" wizard=\"{{wizard}}\"></navigation-buttons>\n-      <navigation-buttons ng-show=\"!createMode\" base=\"update\" current=\"virtualSchemas\" wizard=\"{{wizard}}\"></navigation-buttons>\n+\n+<div id=\"attribute\" class=\"form-group row justify-content-between p-0\">\n+  <div class=\"col-xs-3\">\n+    <a id=\"cancel\" class=\"btn btn-danger float-left nav-button\" tabindex=\"0\" ng-click=\"logout()\">\n+      {{'CANCEL'| translate}}\n+    </a>\n+  </div>\n+  <div class=\"col-xs-9\">\n+    <div id=\"navButtons\" class=\"float-left\"\n+         ng-class=\"(!createMode || (createMode && endReached)) ? 'col-xs-10' : 'col-xs-12'\">\n+      <navigation-buttons-partial ng-show=\"createMode\" base=\"create\" current=\"virtualSchemas\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n+      <navigation-buttons-partial ng-show=\"!createMode\" base=\"update\" current=\"virtualSchemas\" wizard=\"{{wizard}}\">\n+      </navigation-buttons-partial>\n     </div>\n-    <div class=\"pull-right\">\n-      <button id=\"finish\" ng-show=\"!createMode\" type=\"button\" class=\"btn btn-default pull-right\" ng-click=\"finish()\">{{'FINISH'| translate}}</button>\n-      <button id=\"finish\" ng-show=\"createMode && endReached\" type=\"button\" class=\"btn btn-default pull-right\" ng-click=\"finish()\">{{'FINISH'| translate}}</button>  \n+    <div class=\"float-right p-0\" \n+         ng-class=\"(!createMode || (createMode && endReached)) ? 'col-xs-2' : ''\" \n+         ng-show=\"!createMode || (createMode && endReached)\">\n+      <button id=\"finish\" type=\"button\" tabindex=\"0\"\n+              class=\"btn btn-secondary btn-default float-right nav-button\" \n+              ng-click=\"finish()\">\n+        {{'FINISH'| translate}}\n+      </button>\n     </div>\n   </div>\n-  <div class=\"pull-left\">\n-    <a id=\"cancel\" class=\"btn btn-danger pull-left\" ng-click=\"logout()\">{{'CANCEL'| translate}}</a>\n-  </div>\n </div>"},{"sha":"9e26dfeeb6e641a33dae4961196235bdb965b21b","filename":"client/enduser/src/main/resources/customFormAttributes.json","status":"renamed","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FcustomFormAttributes.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FcustomFormAttributes.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FcustomFormAttributes.json?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","previous_filename":"client/enduser/src/main/resources/customForm.json"},{"sha":"6b0efc146d7fadda7a78ef1cee314a039b064ed1","filename":"client/enduser/src/main/resources/customTemplate.json","status":"added","additions":65,"deletions":0,"changes":65,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,65 @@\n+{\n+  \"templates\": \n+          {\n+            \"login\":\n+                    {\n+                      \"templateUrl\": \"views/templates/selfTemplate.html\",\n+                      \"css\": [\n+                        \"css/login.css\"\n+                      ]\n+                    },\n+\n+            \"edit_user\":\n+                    {\n+                      \"templateUrl\": \"views/templates/editUserTemplate.html\",\n+                      \"css\": [\n+                        \"css/editUser.css\"\n+                      ]\n+                    },\n+\n+            \"password_reset\":\n+                    {\n+                      \"templateUrl\": \"views/templates/passwordresetTemplate.html\",\n+                      \"css\": [\n+                        \"css/editUser.css\",\n+                        \"css/passwordReset.css\"\n+                      ]\n+                    }\n+          },\n+\n+  \"generalAssets\": \n+          {\n+            \"css\": [\n+              \"css/notification.css\",\n+              \"css/app.css\"\n+            ]\n+          },\n+\n+  \"wizard\": \n+          {\n+            \"firstStep\": \"credentials\",\n+            \"steps\": {\n+              \"credentials\": {\n+                \"url\": \"/credentials\"\n+              },\n+              \"groups\": {\n+                \"url\": \"/groups\"\n+              },\n+              \"plainSchemas\": {\n+                \"url\": \"/plainSchemas\"\n+              },\n+              \"derivedSchemas\": {\n+                \"url\": \"/derivedSchemas\"\n+              },\n+              \"virtualSchemas\": {\n+                \"url\": \"/virtualSchemas\"\n+              },\n+              \"resources\": {\n+                \"url\": \"/resources\"\n+              },\n+              \"finish\": {\n+                \"url\": \"/finish\"\n+              }\n+            }\n+          }\n+}\n\\ No newline at end of file"},{"sha":"c1e37e6a1bd208e30f0b074ed4508655d6faec2e","filename":"client/enduser/src/test/java/org/apache/syncope/client/enduser/util/UserRequestValidatorTest.java","status":"modified","additions":26,"deletions":14,"changes":40,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Futil%2FUserRequestValidatorTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Futil%2FUserRequestValidatorTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Futil%2FUserRequestValidatorTest.java?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -28,6 +28,7 @@\n import java.util.HashMap;\n import java.util.Map;\n import org.apache.syncope.client.enduser.model.CustomAttributesInfo;\n+import org.apache.syncope.client.enduser.model.CustomTemplateInfo;\n import org.apache.syncope.common.lib.to.AttrTO;\n import org.apache.syncope.common.lib.to.UserTO;\n import org.junit.jupiter.api.Test;\n@@ -49,38 +50,49 @@ public void testCompliant() throws IOException {\n         AttrTO notAllowed = attrTO(\"not_allowed\", \"notAllowedValue\");\n         userTO.getPlainAttrs().addAll(Arrays.asList(firstname, surname, notAllowed, additionalCtype));\n \n-        Map<String, CustomAttributesInfo> customForm = new ObjectMapper().readValue(new ClassPathResource(\n-                \"customForm.json\").getFile(), new TypeReference<HashMap<String, CustomAttributesInfo>>() {\n+        Map<String, CustomAttributesInfo> customFormAttributes = new ObjectMapper().readValue(new ClassPathResource(\n+                \"customFormAttributes.json\").getFile(), new TypeReference<HashMap<String, CustomAttributesInfo>>() {\n         });\n \n+        CustomTemplateInfo customTemplate = new ObjectMapper().readValue(new ClassPathResource(\n+                \"customTemplate.json\").getFile(), CustomTemplateInfo.class);\n+\n         // not allowed because of presence of notAllowed attribute\n-        assertFalse(UserRequestValidator.compliant(userTO, customForm, true));\n+        assertFalse(UserRequestValidator.compliant(userTO, customFormAttributes, true));\n \n         // remove notAllowed attribute and make it compliant\n         userTO.getPlainAttrs().remove(notAllowed);\n-        assertTrue(UserRequestValidator.compliant(userTO, customForm, true));\n+        assertTrue(UserRequestValidator.compliant(userTO, customFormAttributes, true));\n \n         // firstname must have only one defaultValue\n         userTO.getPlainAttr(\"firstname\").get().getValues().add(\"notAllowedFirstnameValue\");\n-        assertFalse(UserRequestValidator.compliant(userTO, customForm, true));\n-        assertTrue(UserRequestValidator.compliant(userTO, customForm, false));\n+        assertFalse(UserRequestValidator.compliant(userTO, customFormAttributes, true));\n+        assertTrue(UserRequestValidator.compliant(userTO, customFormAttributes, false));\n+\n         // clean\n         userTO.getPlainAttr(\"firstname\").get().getValues().remove(\"notAllowedFirstnameValue\");\n \n-        // derived must not be present\n-        AttrTO derivedNotAllowed = attrTO(\"derivedNotAllowed\");\n-        userTO.getDerAttrs().add(derivedNotAllowed);\n-        assertFalse(UserRequestValidator.compliant(userTO, customForm, true));\n-        // clean \n-        userTO.getDerAttrs().clear();\n-\n         // virtual\n         AttrTO virtualdata = attrTO(\"virtualdata\", \"defaultVirtualData\");\n         userTO.getVirAttrs().add(virtualdata);\n-        assertTrue(UserRequestValidator.compliant(userTO, customForm, true));\n+        assertTrue(UserRequestValidator.compliant(userTO, customFormAttributes, true));\n \n         // with empty form is compliant by definition\n         assertTrue(UserRequestValidator.compliant(userTO, new HashMap<>(), true));\n+\n+        // check wizard steps\n+        // only \"credentials\", \"plainSchemas\" and \"finish\" steps must be visible\n+        assertTrue(UserRequestValidator.validateSteps(customTemplate));\n+\n+        assertTrue(UserRequestValidator.validateStep(\"credentials\", customTemplate));\n+        assertTrue(UserRequestValidator.validateStep(\"plainSchemas\", customTemplate));\n+        assertTrue(UserRequestValidator.validateStep(\"finish\", customTemplate));\n+\n+        assertFalse(UserRequestValidator.validateStep(\"test\", customTemplate));\n+        assertFalse(UserRequestValidator.validateStep(\"resources\", customTemplate));\n+        assertFalse(UserRequestValidator.validateStep(\"virtualSchemas\", customTemplate));\n+        assertFalse(UserRequestValidator.validateStep(\"derivedSchemas\", customTemplate));\n+        assertFalse(UserRequestValidator.validateStep(\"groups\", customTemplate));\n     }\n \n }"},{"sha":"18112ef01b3f377f435d15a739fc3617b707ff2b","filename":"client/enduser/src/test/resources/customFormAttributes.json","status":"renamed","additions":0,"deletions":6,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Ftest%2Fresources%2FcustomFormAttributes.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Ftest%2Fresources%2FcustomFormAttributes.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Ftest%2Fresources%2FcustomFormAttributes.json?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -1,7 +1,6 @@\n {\n   \"PLAIN\": \n           {\n-            \"show\": true,\n             \"attributes\": {\n               \"firstname\": {\n                 \"readonly\": true,\n@@ -33,13 +32,8 @@\n               }\n             }\n           },\n-  \"DERIVED\":\n-          {\n-            \"show\": false\n-          },\n   \"VIRTUAL\": \n           {\n-            \"show\": true,\n             \"attributes\": {\n               \"virtualdata\": {\n                 \"readonly\": true,","previous_filename":"client/enduser/src/test/resources/customForm.json"},{"sha":"0636b3173ecb14304f0ab2718c02c2d0c33b4ba9","filename":"client/enduser/src/test/resources/customTemplate.json","status":"added","additions":56,"deletions":0,"changes":56,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Ftest%2Fresources%2FcustomTemplate.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/client%2Fenduser%2Fsrc%2Ftest%2Fresources%2FcustomTemplate.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Ftest%2Fresources%2FcustomTemplate.json?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,56 @@\n+{\n+  \"templates\": \n+          {\n+            \"login\":\n+                    {\n+                      \"templateUrl\": \"views/templates/selfTemplate.html\",\n+                      \"css\": [\n+                        \"css/login.css\",\n+                        \"css/templates/dark/login.css\"\n+                      ]\n+                    },\n+\n+            \"edit_user\":\n+                    {\n+                      \"templateUrl\": \"views/templates/onlyPlainAttrsDetails/editUserTemplate.html\",\n+                      \"css\": [\n+                        \"css/editUser.css\",\n+                        \"css/templates/dark/editUser.css\"\n+                      ]\n+                    },\n+\n+            \"password_reset\":\n+                    {\n+                      \"templateUrl\": \"views/templates/passwordresetTemplate.html\",\n+                      \"css\": [\n+                        \"css/editUser.css\",\n+                        \"css/passwordReset.css\",\n+                        \"css/templates/dark/editUser.css\"\n+                      ]\n+                    }            \n+          },\n+\n+  \"generalAssets\": \n+          {\n+            \"css\": [\n+              \"css/app.css\",\n+              \"css/notification.css\"\n+            ]\n+          },\n+\n+  \"wizard\": \n+          {\n+            \"firstStep\": \"plainSchemas\",\n+            \"steps\": {\n+              \"plainSchemas\": {\n+                \"url\": \"/plainSchemas\"\n+              },\n+              \"credentials\": {\n+                \"url\": \"/credentials\"\n+              },\n+              \"finish\": {\n+                \"url\": \"/finish\"\n+              }\n+            }\n+          }\n+}\n\\ No newline at end of file"},{"sha":"b037724320281868df6911398d0aea1dbe0c1542","filename":"deb/enduser/pom.xml","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/deb%2Fenduser%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/deb%2Fenduser%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/deb%2Fenduser%2Fpom.xml?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -97,7 +97,8 @@ under the License.\n         <directory>${project.basedir}/../../client/enduser/src/main/resources</directory>\n         <includes>\n           <include>enduser.properties</include>\n-          <include>customForm.json</include>\n+          <include>customFormAttributes.json</include>\n+          <include>customTemplate.json</include>\n         </includes>\n         <targetPath>${project.build.directory}/etc</targetPath>\n         <filtering>true</filtering>"},{"sha":"d115b8e4a6cceb3d385deb80ae4ab6fc563ac116","filename":"deb/enduser/src/deb/control/conffiles","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/deb%2Fenduser%2Fsrc%2Fdeb%2Fcontrol%2Fconffiles","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/deb%2Fenduser%2Fsrc%2Fdeb%2Fcontrol%2Fconffiles","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/deb%2Fenduser%2Fsrc%2Fdeb%2Fcontrol%2Fconffiles?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -1,6 +1,7 @@\n /etc/tomcat8/Catalina/localhost/syncope-enduser.xml\n /etc/apache-syncope/enduser.properties\n-/etc/apache-syncope/customForm.json\n+/etc/apache-syncope/customFormAttributes.json\n+/etc/apache-syncope/customTemplate.json\n /etc/apache-syncope/saml2sp-agent.properties\n /etc/apache-syncope/oidcclient-agent.properties\n "},{"sha":"9c752fe44ad13c1c99cd1fc9092720c6a1f7e5e2","filename":"fit/enduser-reference/pom.xml","status":"modified","additions":0,"deletions":23,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fpom.xml?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -134,33 +134,10 @@ under the License.\n       <type>war</type>\n       <scope>test</scope>\n     </dependency>\n-    <dependency>\n-      <groupId>com.github.detro</groupId>\n-      <artifactId>phantomjsdriver</artifactId>       \n-      <scope>test</scope>\n-    </dependency>\n   </dependencies>\n \n   <build>\n     <plugins>\n-      <plugin>\n-        <groupId>com.github.klieber</groupId>\n-        <artifactId>phantomjs-maven-plugin</artifactId>\n-        <configuration>\n-          <version>${phantomjs.version}</version>\n-          <checkSystemPath>false</checkSystemPath>\n-          <skip>${skipTests}</skip>\n-        </configuration>\n-        <executions>\n-          <execution>\n-            <id>install-phantomjs</id>\n-            <goals>\n-              <goal>install</goal>\n-            </goals>\n-          </execution>\n-        </executions>\n-      </plugin>\n-\n       <plugin>\n         <groupId>org.apache.maven.plugins</groupId>\n         <artifactId>maven-antrun-plugin</artifactId>"},{"sha":"9e26dfeeb6e641a33dae4961196235bdb965b21b","filename":"fit/enduser-reference/src/main/resources/customFormAttributes.json","status":"renamed","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2FcustomFormAttributes.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2FcustomFormAttributes.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2FcustomFormAttributes.json?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","previous_filename":"fit/enduser-reference/src/main/resources/customForm.json"},{"sha":"6b0efc146d7fadda7a78ef1cee314a039b064ed1","filename":"fit/enduser-reference/src/main/resources/customTemplate.json","status":"added","additions":65,"deletions":0,"changes":65,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2FcustomTemplate.json?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,65 @@\n+{\n+  \"templates\": \n+          {\n+            \"login\":\n+                    {\n+                      \"templateUrl\": \"views/templates/selfTemplate.html\",\n+                      \"css\": [\n+                        \"css/login.css\"\n+                      ]\n+                    },\n+\n+            \"edit_user\":\n+                    {\n+                      \"templateUrl\": \"views/templates/editUserTemplate.html\",\n+                      \"css\": [\n+                        \"css/editUser.css\"\n+                      ]\n+                    },\n+\n+            \"password_reset\":\n+                    {\n+                      \"templateUrl\": \"views/templates/passwordresetTemplate.html\",\n+                      \"css\": [\n+                        \"css/editUser.css\",\n+                        \"css/passwordReset.css\"\n+                      ]\n+                    }\n+          },\n+\n+  \"generalAssets\": \n+          {\n+            \"css\": [\n+              \"css/notification.css\",\n+              \"css/app.css\"\n+            ]\n+          },\n+\n+  \"wizard\": \n+          {\n+            \"firstStep\": \"credentials\",\n+            \"steps\": {\n+              \"credentials\": {\n+                \"url\": \"/credentials\"\n+              },\n+              \"groups\": {\n+                \"url\": \"/groups\"\n+              },\n+              \"plainSchemas\": {\n+                \"url\": \"/plainSchemas\"\n+              },\n+              \"derivedSchemas\": {\n+                \"url\": \"/derivedSchemas\"\n+              },\n+              \"virtualSchemas\": {\n+                \"url\": \"/virtualSchemas\"\n+              },\n+              \"resources\": {\n+                \"url\": \"/resources\"\n+              },\n+              \"finish\": {\n+                \"url\": \"/finish\"\n+              }\n+            }\n+          }\n+}\n\\ No newline at end of file"},{"sha":"9e26dfeeb6e641a33dae4961196235bdb965b21b","filename":"fit/enduser-reference/src/main/resources/package.json","status":"renamed","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2Fpackage.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2Fpackage.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Fmain%2Fresources%2Fpackage.json?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","previous_filename":"fit/enduser-reference/src/test/resources/customForm.json"},{"sha":"9e26dfeeb6e641a33dae4961196235bdb965b21b","filename":"fit/enduser-reference/src/test/resources/customFormAttributes.json","status":"added","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2FcustomFormAttributes.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2FcustomFormAttributes.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2FcustomFormAttributes.json?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1 @@\n+{}\n\\ No newline at end of file"},{"sha":"6b0efc146d7fadda7a78ef1cee314a039b064ed1","filename":"fit/enduser-reference/src/test/resources/customTemplate.json","status":"added","additions":65,"deletions":0,"changes":65,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2FcustomTemplate.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2FcustomTemplate.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2FcustomTemplate.json?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -0,0 +1,65 @@\n+{\n+  \"templates\": \n+          {\n+            \"login\":\n+                    {\n+                      \"templateUrl\": \"views/templates/selfTemplate.html\",\n+                      \"css\": [\n+                        \"css/login.css\"\n+                      ]\n+                    },\n+\n+            \"edit_user\":\n+                    {\n+                      \"templateUrl\": \"views/templates/editUserTemplate.html\",\n+                      \"css\": [\n+                        \"css/editUser.css\"\n+                      ]\n+                    },\n+\n+            \"password_reset\":\n+                    {\n+                      \"templateUrl\": \"views/templates/passwordresetTemplate.html\",\n+                      \"css\": [\n+                        \"css/editUser.css\",\n+                        \"css/passwordReset.css\"\n+                      ]\n+                    }\n+          },\n+\n+  \"generalAssets\": \n+          {\n+            \"css\": [\n+              \"css/notification.css\",\n+              \"css/app.css\"\n+            ]\n+          },\n+\n+  \"wizard\": \n+          {\n+            \"firstStep\": \"credentials\",\n+            \"steps\": {\n+              \"credentials\": {\n+                \"url\": \"/credentials\"\n+              },\n+              \"groups\": {\n+                \"url\": \"/groups\"\n+              },\n+              \"plainSchemas\": {\n+                \"url\": \"/plainSchemas\"\n+              },\n+              \"derivedSchemas\": {\n+                \"url\": \"/derivedSchemas\"\n+              },\n+              \"virtualSchemas\": {\n+                \"url\": \"/virtualSchemas\"\n+              },\n+              \"resources\": {\n+                \"url\": \"/resources\"\n+              },\n+              \"finish\": {\n+                \"url\": \"/finish\"\n+              }\n+            }\n+          }\n+}\n\\ No newline at end of file"},{"sha":"87201a02df14265ed3ede80ab1139959747fc7fd","filename":"fit/enduser-reference/src/test/resources/protractor-conf.js","status":"modified","additions":5,"deletions":3,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fprotractor-conf.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fprotractor-conf.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fprotractor-conf.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -19,9 +19,11 @@\n exports.config = {\n   directConnect: false,\n   capabilities: {\n-    'browserName': 'phantomjs',\n-    'phantomjs.binary.path': '${phantomjs.binary}',\n-    'phantomjs.ghostdriver.cli.args': ['--loglevel=DEBUG']\n+    'browserName': 'chrome',\n+\n+    chromeOptions: {\n+      args: [\"--headless\", \"--window-size=1600,1000\"]\n+    }\n   },\n \n   allScriptsTimeout: 241000,"},{"sha":"8895eaed6b31e142889821234b8f94d4e579b3cc","filename":"fit/enduser-reference/src/test/resources/tests/abstract.js","status":"modified","additions":4,"deletions":7,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fabstract.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fabstract.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fabstract.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -34,10 +34,7 @@ exports.doSave = function () {\n };\n \n exports.waitSpinner = function () {\n-  element.all(by.css('treasure-overlay-spinner')).isDisplayed().then(function (result) {\n-    if (result) {\n-      browser.driver.sleep(3000);\n-    }\n-  });\n-}\n-;\n\\ No newline at end of file\n+  var el = element(by.css('treasure-overlay-spinner-active'));\n+  var EC = protractor.ExpectedConditions;\n+  browser.wait(EC.not(EC.presenceOf(el)), 5000);\n+};\n\\ No newline at end of file"},{"sha":"4d416e7123da52e18a8b027777b1a6ae188e18df","filename":"fit/enduser-reference/src/test/resources/tests/edit.js","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fedit.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fedit.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fedit.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -23,6 +23,7 @@ describe('syncope enduser user edit', function () {\n     console.log(\"\");\n     console.log(\"user edit\");\n     abstract.goHome();\n+    abstract.waitSpinner();\n \n     //login\n     element(by.model('credentials.username')).sendKeys('bellini');\n@@ -33,9 +34,13 @@ describe('syncope enduser user edit', function () {\n             });\n     element.all(by.options('language.name for language in languages.availableLanguages track by language.id')).\n             get(1).click();\n+    abstract.waitSpinner();\n+    browser.wait(element(by.id('login-btn')).isPresent());\n     element(by.id('login-btn')).click();\n \n     //credential\n+    var EC = protractor.ExpectedConditions;\n+    browser.wait(EC.presenceOf(element(by.model('user.username')), 5000));\n     abstract.waitSpinner();\n     browser.wait(element(by.model('user.username')).isPresent());\n     element(by.model('user.username')).clear();"},{"sha":"f16714f3960f1ea9bd0f238d29ac94f5da8ec324","filename":"fit/enduser-reference/src/test/resources/tests/passwordreset.js","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fpasswordreset.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fpasswordreset.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Ftests%2Fpasswordreset.js?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -26,6 +26,7 @@ describe('syncope enduser user password reset ', function () {\n     abstract.goHome();\n \n     abstract.waitSpinner();\n+    browser.wait(element(by.id('passwordreset')).isPresent());\n     element(by.id('passwordreset')).click();\n     abstract.waitSpinner();\n "},{"sha":"335002760feaf3dccc1a29370c44750d92dd8b54","filename":"pom.xml","status":"modified","additions":18,"deletions":30,"changes":48,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -445,8 +445,8 @@ under the License.\n     <swagger-ui.version>3.18.2</swagger-ui.version>\n     <guava.version>20.0</guava.version>\n \n-    <jquery.version>2.2.4</jquery.version>\n-    <jquery-ui.version>1.11.4</jquery-ui.version>\n+    <jquery.version>3.3.1-1</jquery.version>\n+    <jquery-ui.version>1.12.1</jquery-ui.version>\n     <jquery-slimscroll.version>1.3.8</jquery-slimscroll.version>\n     <jquery-cookie.version>1.4.1-1</jquery-cookie.version>\n     \n@@ -455,6 +455,7 @@ under the License.\n     <bootstrap-fileinput.version>4.4.8</bootstrap-fileinput.version>\n     <bootbox.version>4.4.0</bootbox.version>\n     <font-awesome.version>4.7.0</font-awesome.version>\n+    <font-awesome.filename>font-awesome.min.css</font-awesome.filename>\n     <ionicons.version>2.0.1</ionicons.version>\n     <highlightjs.version>9.8.0</highlightjs.version>\n     <codemirror.version>5.33.0</codemirror.version>\n@@ -464,18 +465,20 @@ under the License.\n     \n     <wicket.version>8.0.0</wicket.version>\n     <wicket-jqueryui.version>8.0.0</wicket-jqueryui.version>\n-    <wicket-bootstrap.version>2.0.2</wicket-bootstrap.version>\n+    <wicket-bootstrap.version>2.0.3</wicket-bootstrap.version>\n \n-    <angular.version>1.7.0</angular.version>\n-    <angular-ui-router.version>0.3.2</angular-ui-router.version>\n-    <angular-ui-bootstrap.version>1.3.3</angular-ui-bootstrap.version>\n+    <angular.version>1.7.3</angular.version>\n+    <angular-resource.version>1.7.0</angular-resource.version>\n+    <angular-ui-router.version>1.0.20</angular-ui-router.version>\n+    <ui-bootstrap.version>3.0.4</ui-bootstrap.version>\n     <angular-ui-select.version>0.19.8</angular-ui-select.version>\n     <angular-treasure-overlay-spinner.version>1.1.0</angular-treasure-overlay-spinner.version>\n-    <angular-translate.version>2.17.1</angular-translate.version>\n+    <angular-translate.version>2.18.1</angular-translate.version>\n+    <angular-translate-loader-partial.version>2.17.1</angular-translate-loader-partial.version>\n     \n     <ng-password-strength.version>0.2.1</ng-password-strength.version>\n     <lodash.version>4.17.4</lodash.version>\n-    <kendo-ui-core.version>2014.2.716</kendo-ui-core.version>\n+    <kendo-ui-core.version>2018.1.221</kendo-ui-core.version>\n     <select2.version>3.4.8</select2.version>\n     <fileSaver.version>0.0.2</fileSaver.version>\n     \n@@ -512,11 +515,8 @@ under the License.\n \n     <tomcat.version>9.0.11</tomcat.version>\n \n-    <phantomjs.driver.version>1.2.0</phantomjs.driver.version>\n-    <phantomjs.version>2.1.1</phantomjs.version>\n-    \n-    <nodejs.version>v6.9.4</nodejs.version>    \n-    <protractor.version>4.0.14</protractor.version>    \n+    <nodejs.version>v8.11.4</nodejs.version>    \n+    <protractor.version>5.4.0</protractor.version>    \n \n     <jdbc.postgresql.version>42.2.5</jdbc.postgresql.version>\n     <jdbc.mysql.version>5.1.47</jdbc.mysql.version>\n@@ -1398,7 +1398,7 @@ under the License.\n       <dependency>\n         <groupId>org.webjars.bower</groupId>\n         <artifactId>angular-resource</artifactId>\n-        <version>${angular.version}</version>\n+        <version>${angular-resource.version}</version>\n       </dependency>\n       <dependency>\n         <groupId>org.webjars.bower</groupId>\n@@ -1422,15 +1422,9 @@ under the License.\n         <version>${angular.version}</version>\n       </dependency>\n       <dependency>\n-        <groupId>org.webjars</groupId>\n-        <artifactId>angular-ui-bootstrap</artifactId>\n-        <version>${angular-ui-bootstrap.version}</version>\n-        <exclusions>\n-          <exclusion>\n-            <groupId>org.webjars</groupId>\n-            <artifactId>angularjs</artifactId>\n-          </exclusion>\n-        </exclusions>\n+        <groupId>org.webjars.npm</groupId>\n+        <artifactId>ui-bootstrap4</artifactId>\n+        <version>${ui-bootstrap.version}</version>\n       </dependency>\n       <dependency>\n         <groupId>org.webjars</groupId>\n@@ -1461,7 +1455,7 @@ under the License.\n       <dependency>\n         <groupId>org.webjars.bower</groupId>\n         <artifactId>angular-translate-loader-partial</artifactId>\n-        <version>${angular-translate.version}</version>\n+        <version>${angular-translate-loader-partial.version}</version>\n       </dependency>      \n       <dependency>\n         <groupId>org.webjars.bower</groupId>\n@@ -1646,12 +1640,6 @@ under the License.\n       </dependency>\n \n       <!-- TEST -->\n-      <dependency>\n-        <groupId>com.github.detro</groupId>\n-        <artifactId>phantomjsdriver</artifactId>\n-        <version>${phantomjs.driver.version}</version>\n-        <scope>test</scope>\n-      </dependency>\n       <dependency>\n         <groupId>com.icegreen</groupId>\n         <artifactId>greenmail</artifactId>"},{"sha":"bd78a7288d7184e93cbe37957bf0984053b80ece","filename":"src/main/asciidoc/reference-guide/workingwithapachesyncope/customization.adoc","status":"modified","additions":191,"deletions":16,"changes":207,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f9937e77b78057f91a35d6caa46e9b1e3af832c7/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fcustomization.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f9937e77b78057f91a35d6caa46e9b1e3af832c7/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fcustomization.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fcustomization.adoc?ref=f9937e77b78057f91a35d6caa46e9b1e3af832c7","patch":"@@ -110,7 +110,8 @@ $ mvn clean verify \\\n $ cp core/target/classes/*properties /opt/syncope/conf\n $ cp console/target/classes/*properties /opt/syncope/conf\n $ cp enduser/target/classes/*properties /opt/syncope/conf\n-$ cp enduser/target/classes/customForm.json /opt/syncope/conf\n+$ cp enduser/target/classes/customFormAttributes.json /opt/syncope/conf\n+$ cp enduser/target/classes/customTemplate.json /opt/syncope/conf\n ....\n \n After downloading all of the dependencies that are needed, three WAR files will be produced:\n@@ -628,17 +629,17 @@ The <<enduser-application>> allows to customize the form in order to:\n * set attributes read-only for users\n * provide default value(s)\n \n-Under the `enduser/src/main/resources` directory, the `customForm.json` file is available, allowing to configure form\n+Under the `enduser/src/main/resources` directory, the `customFormAttributes.json` file is available, allowing to configure form\n customization.\n \n [NOTE]\n .Hot deploy\n ====\n-The `customForm.json` could be edited and reloaded without the need of re-starting the Java EE container.\n+The `customFormAttributes.json` could be edited and reloaded without the need of re-starting the Java EE container.\n ====\n \n [TIP]\n-The `customForm.json` default content is just an empty object `{}`: if such file is missing, empty or not valid,\n+The `customFormAttributes.json` default content is just an empty object `{}`: if such file is missing, empty or not valid,\n form customization will be simply disabled and all attributes will be shown.\n \n .Sample form customization\n@@ -648,7 +649,6 @@ form customization will be simply disabled and all attributes will be shown.\n {\n   \"PLAIN\":\n           {\n-            \"show\": true,\n             \"attributes\": {\n               \"firstname\": {\n                 \"readonly\": true,\n@@ -681,13 +681,8 @@ form customization will be simply disabled and all attributes will be shown.\n               }\n             }\n           },\n-  \"DERIVED\":\n-          {\n-            \"show\": false\n-          },\n   \"VIRTUAL\":\n           {\n-            \"show\": true,\n             \"attributes\": {\n               \"virtualdata\": {\n                 \"readonly\": true,\n@@ -699,7 +694,7 @@ form customization will be simply disabled and all attributes will be shown.\n ----\n ====\n \n-The `customForm.json` file has two main levels:\n+The `customFormAttributes.json` file has two main levels:\n \n . Schema type, e.g. `PLAIN`, `DERIVED`, `VIRTUAL`;\n . Attributes: list of attributes (by schema type) to be shown on the form.\n@@ -711,9 +706,6 @@ The schema type level allows to define customization of the three sub-forms avai\n \n Only one, two or all three sections can be specified, in order to customize only what is really needed.\n \n-Moreover, a global boolean field `show` is available, to indicate that the whole sub-form should be shown or hidden.\n-When not specified, `show` is treated as `true`.\n-\n [discrete]\n ====== Attributes\n \n@@ -744,14 +736,13 @@ An empty `attributes` field translates to skip filtering and show all attributes\n {\n   \"PLAIN\": \n           {\n-            \"show\": true,\n             \"attributes\": {}\n           }\n }\n ```\n shows all `PLAIN` attributes.\n \n-If all attributes are to be hidden, please set `\"show\": false`, instead.\n+If all attributes are to be hidden, please use [[customization-enduser-template]] to hide the full wizard step, instead.\n ====\n \n [NOTE]\n@@ -768,6 +759,190 @@ Within Enduser form customization, `readonly` prevents the user's browser to mod\n Moreover, `defaultValues` do not overwrite any existing value.\n ====\n \n+[[customization-enduser-template]]\n+===== Dynamic Templating\n+\n+It is possible to customize the <<enduser-application>> using the \"Dynamic Templating\" feature. \n+It is a simple and fast way to customize structure and style of the whole Enduser.\n+\n+Under the `enduser/src/main/resources` directory, the `customTemplate.json` file is available, allowing to configure application\n+style and structure.\n+\n+[NOTE]\n+.Hot deploy\n+====\n+The `customTemplate.json` could be edited and reloaded without the need of re-starting the Java EE container.\n+====\n+\n+[TIP]\n+====\n+The `customTemplate.json` default content is:\n+```\n+{\n+  \"templates\": \n+          {\n+            \"login\":\n+                    {\n+                      \"templateUrl\": \"views/templates/selfTemplate.html\",\n+                      \"css\": [\n+                        \"css/login.css\"\n+                      ]\n+                    },\n+\n+            \"edit_user\":\n+                    {\n+                      \"templateUrl\": \"views/templates/editUserTemplate.html\",\n+                      \"css\": [\n+                        \"css/editUser.css\"\n+                      ]\n+                    },\n+\n+            \"password_reset\":\n+                    {\n+                      \"templateUrl\": \"views/templates/passwordresetTemplate.html\",\n+                      \"css\": [\n+                        \"css/editUser.css\",\n+                        \"css/passwordReset.css\"\n+                      ]\n+                    }\n+          },\n+\n+  \"generalAssets\": \n+          {\n+            \"css\": [\n+              \"css/notification.css\",\n+              \"css/app.css\"\n+            ]\n+          },\n+\n+  \"wizard\": \n+          {\n+            \"firstStep\": \"credentials\",\n+            \"steps\": {\n+              \"credentials\": {\n+                \"url\": \"/credentials\"\n+              },\n+              \"groups\": {\n+                \"url\": \"/groups\"\n+              },\n+              \"plainSchemas\": {\n+                \"url\": \"/plainSchemas\"\n+              },\n+              \"derivedSchemas\": {\n+                \"url\": \"/derivedSchemas\"\n+              },\n+              \"virtualSchemas\": {\n+                \"url\": \"/virtualSchemas\"\n+              },\n+              \"resources\": {\n+                \"url\": \"/resources\"\n+              },\n+              \"finish\": {\n+                \"url\": \"/finish\"\n+              }\n+            }\n+          }\n+}\n+```\n+if such file is missing, empty or not valid, Enduser structure will not be valid and won't work as expected.\n+====\n+\n+[discrete]\n+====== Editing default template\n+\n+As sample, Syncope provides a configuration to apply a dark theme to Enduser and edit the \"User Edit / Create Wizard\" \n+to only display 3 steps, like:\n+\n+* PlainSchemas;\n+* Details (Username, Password, Security question etc);\n+* Finish.\n+\n+The configurations for that sample are in\n+ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/client/enduser/src/test/resources/customTemplate.json[customTemplate.json^].\n+endif::[]\n+ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n+https://github.com/apache/syncope/blob/2_1_X/client/enduser/src/test/resources/customTemplate.json[customTemplate.json^].\n+endif::[]\n+In order to apply them, that content must be copied to your `customTemplate.json` file.\n+\n+[discrete]\n+====== Template styling assets\n+\n+In case you need, place your static `.css` resources somewhere (e.g. `enduser/src/main/resources/META-INF/resources/app/css/templates/`)\n+and refer them in `customTemplate.json` file.\n+\n+[discrete]\n+====== Wizard steps\n+\n+It is also possible to customize the list of wizard steps to be shown in \"User Edit / Create Wizard\".\n+E.g., only 3 steps are displayed in the dark theme template sample configuration:\n+\n+```\n+\"wizard\": \n+        {\n+          \"steps\": {\n+            \"plainSchemas\": {\n+              \"url\": \"/plainSchemas\"\n+            },\n+            \"credentials\": {\n+              \"url\": \"/credentials\"\n+            },\n+            \"finish\": {\n+              \"url\": \"/finish\"\n+            }\n+          }\n+        }\n+```\n+\n+Use the `\"firstStep\"` property to decide which step must be set as first one in the wizard:\n+\n+```\n+\"wizard\": \n+        {\n+          \"firstStep\": \"plainSchemas\",\n+        }\n+```\n+\n+[discrete]\n+====== Template structure\n+\n+The structure of the template sections is defined by `templateUrl` property, for each main section:\n+\n+```\n+\"templates\": \n+        {\n+         \"login\":\n+                {\n+                  \"templateUrl\": \"views/templates/selfTemplate.html\",\n+                },\n+\n+        \"edit_user\":\n+                {\n+                  \"templateUrl\": \"views/templates/onlyPlainAttrsDetails/editUserTemplate.html\",\n+                },\n+\n+        \"password_reset\":\n+                {\n+                  \"templateUrl\": \"views/templates/passwordresetTemplate.html\",\n+                },          \n+        },\n+```\n+\n+E.g., `enduser/src/main/resources/META-INF/resources/app/views/templates/onlyPlainAttrsDetails/editUserTemplate.html` is \n+equals to the default\n+`enduser/src/main/resources/META-INF/resources/app/views/templates/editUserTemplate.html`\n+template file. \n+Anyway, it is just helpful to show that it is possible to customize all the application structure in a very simple way.\n+\n+It could also be useful to edit the specific parts of a single wizard step or view; all of those are placed in \n+`enduser/src/main/resources/META-INF/resources/app/views/` folder.\n+\n+[WARNING]\n+Please do not change the main object keys in `customTemplate.json` file (e.g. `templates`, `edit_user`, `login`, `generalAssets`, etc...); \n+they are used to identify the specific customizable template parts of the Enduser application.\n+In case it is necessary to change those identifiers, remember to edit all references in other parts of the application.\n+\n [[customization-extensions]]\n ==== Extensions\n "}]}
{"sha":"d997a52e9715437c9a4c0edce269a388c77071cc","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmQ5OTdhNTJlOTcxNTQzN2M5YTRjMGVkY2UyNjlhMzg4Yzc3MDcxY2M=","commit":{"author":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2021-09-17T12:50:56Z"},"committer":{"name":"Andrea Patricelli","email":"andrea.patricelli@tirasa.net","date":"2021-09-17T14:18:53Z"},"message":"[SYNCOPE-1632] graphical adjustments to must-change-password page","tree":{"sha":"31d4a91e64aae940750ac495446cb351d4c5647c","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/31d4a91e64aae940750ac495446cb351d4c5647c"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/d997a52e9715437c9a4c0edce269a388c77071cc","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d997a52e9715437c9a4c0edce269a388c77071cc","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d997a52e9715437c9a4c0edce269a388c77071cc","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d997a52e9715437c9a4c0edce269a388c77071cc/comments","author":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"committer":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"569fc1a3190f61105c81dcf773dcea4d07bbb544","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/569fc1a3190f61105c81dcf773dcea4d07bbb544","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/569fc1a3190f61105c81dcf773dcea4d07bbb544"}],"stats":{"total":87,"additions":35,"deletions":52},"files":[{"sha":"3cfb56f8f7347bbe8cc5544bc5a2d9035fa5c354","filename":"client/idrepo/common-ui/src/main/java/org/apache/syncope/client/ui/commons/pages/AbstractMustChangePassword.java","status":"modified","additions":7,"deletions":10,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d997a52e9715437c9a4c0edce269a388c77071cc/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fui%2Fcommons%2Fpages%2FAbstractMustChangePassword.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d997a52e9715437c9a4c0edce269a388c77071cc/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fui%2Fcommons%2Fpages%2FAbstractMustChangePassword.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fui%2Fcommons%2Fpages%2FAbstractMustChangePassword.java?ref=d997a52e9715437c9a4c0edce269a388c77071cc","patch":"@@ -19,7 +19,6 @@\n package org.apache.syncope.client.ui.commons.pages;\n \n import org.apache.syncope.client.ui.commons.Constants;\n-import org.apache.syncope.client.ui.commons.markup.html.form.AjaxPasswordFieldPanel;\n import org.apache.syncope.client.ui.commons.panels.NotificationPanel;\n import org.apache.syncope.common.lib.to.UserTO;\n import org.apache.wicket.AttributeModifier;\n@@ -46,9 +45,9 @@ public abstract class AbstractMustChangePassword extends WebPage {\n \n     protected final TextField<String> usernameField;\n \n-    protected final AjaxPasswordFieldPanel passwordField;\n+    protected final PasswordTextField passwordField;\n \n-    protected final AjaxPasswordFieldPanel confirmPasswordField;\n+    protected final PasswordTextField confirmPasswordField;\n \n     protected final NotificationPanel notificationPanel = new NotificationPanel(Constants.FEEDBACK);\n \n@@ -65,21 +64,19 @@ public AbstractMustChangePassword(final PageParameters parameters) {\n         usernameField.setEnabled(false);\n         form.add(usernameField);\n \n-        passwordField = new AjaxPasswordFieldPanel(\"password\", \"password\", new Model<>());\n+        passwordField = new PasswordTextField(\"password\", new Model<>());\n         passwordField.setRequired(true);\n         passwordField.setMarkupId(\"password\");\n-        passwordField.setPlaceholder(\"password\");\n-        ((PasswordTextField) passwordField.getField()).setResetPassword(true);\n+        passwordField.setResetPassword(true);\n         form.add(passwordField);\n \n-        confirmPasswordField = new AjaxPasswordFieldPanel(\"confirmPassword\", \"confirmPassword\", new Model<>());\n+        confirmPasswordField = new PasswordTextField(\"confirmPassword\", new Model<>());\n         confirmPasswordField.setRequired(true);\n         confirmPasswordField.setMarkupId(\"confirmPassword\");\n-        confirmPasswordField.setPlaceholder(\"confirmPassword\");\n-        ((PasswordTextField) confirmPasswordField.getField()).setResetPassword(true);\n+        confirmPasswordField.setResetPassword(true);\n         form.add(confirmPasswordField);\n \n-        form.add(new EqualPasswordInputValidator(passwordField.getField(), confirmPasswordField.getField()));\n+        form.add(new EqualPasswordInputValidator(passwordField, confirmPasswordField));\n \n         AjaxButton submitButton = new AjaxButton(\"submit\", new Model<>(getString(\"submit\"))) {\n "},{"sha":"ab5c52d596cd0c83430e7522165ec0843f2e02af","filename":"client/idrepo/console/src/main/resources/META-INF/resources/css/syncopeConsole.scss","status":"modified","additions":2,"deletions":5,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d997a52e9715437c9a4c0edce269a388c77071cc/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fcss%2FsyncopeConsole.scss","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d997a52e9715437c9a4c0edce269a388c77071cc/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fcss%2FsyncopeConsole.scss","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fcss%2FsyncopeConsole.scss?ref=d997a52e9715437c9a4c0edce269a388c77071cc","patch":"@@ -80,16 +80,13 @@ body {\n   }\n }\n \n-\n-\n /* Must Change Password\n ============================================================================= */\n \n #mcp_wrapper {\n-  height: 100%;\n \n-  #mcp_logo {\n-    background: $background_console_white;\n+  .form-control{\n+    margin-bottom: 10px\n   }\n \n   .card {"},{"sha":"8ad1c4b9d5cfa7669bc9bc11300e2325b755739c","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/pages/MustChangePassword.html","status":"modified","additions":26,"deletions":37,"changes":63,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d997a52e9715437c9a4c0edce269a388c77071cc/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FMustChangePassword.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d997a52e9715437c9a4c0edce269a388c77071cc/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FMustChangePassword.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FMustChangePassword.html?ref=d997a52e9715437c9a4c0edce269a388c77071cc","patch":"@@ -27,6 +27,7 @@\n \n     <link rel=\"shortcut icon\" href=\"ui-commons/img/favicon.png\" type=\"image/png\"/>\n \n+    <link href=\"ui-commons/css/login.css\" rel=\"stylesheet\" type=\"text/css\" />\n     <link href=\"webjars/font-awesome/${font-awesome.version}/css/all.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n     <link href=\"webjars/ionicons/${ionicons.version}/css/ionicons.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n     <link href=\"ui-commons/css/fonts.css\" rel=\"stylesheet\" type=\"text/css\"/>\n@@ -55,43 +56,31 @@\n \n     <div id=\"mcp_wrapper\" class=\"container\">\n       <div class=\"card card-container vertical_align\">\n-\n-        <div class=\"custom_content_wrapper row\">\n-          <div class=\"col-xs-12\">\n-            <img id=\"mcp_logo\" class=\"login-logo\" src=\"ui-commons/img/logo-green.png\" />\n-\n-            <span wicket:id=\"feedback\"></span>\n-\n-            <div class=\"alert alert-success\"><wicket:message key=\"passwordNeedsToBeUpdated\"/></div>\n-          </div>\n-\n-          <div class=\"col-xs-12\">\n-            <form id=\"mcp_form\" class=\"form-group\" wicket:id=\"changePassword\">\n-              <fieldset class=\"form-group\">\n-                <div class=\"form-group\">\n-                  <input type=\"text\" wicket:id=\"username\" id=\"username\" class=\"form-control\" \n-                         wicket:message=\"placeholder:username\" required=\"required\" autofocus=\"autofocus\" />\n-                </div>\n-\n-                <div class=\"form-group\">\n-                  <div wicket:id=\"password\" id=\"password\" class=\"form-group\"/>\n-                  <div wicket:id=\"confirmPassword\" id=\"confirmPassword\" class=\"form-group\"/>\n-                </div>\n-\n-                <div class=\"password_reset_buttons form-group\">\n-                  <div class=\"col-md-6\">\n-                    <input id=\"cancel_button\" wicket:id=\"cancel\" type=\"submit\" wicket:message=\"value:cancel\" \n-                           class=\"btn btn-default float-left\"/>\n-                  </div>\n-                  <div class=\"col-md-6\">\n-                    <input id=\"submit_button\" wicket:id=\"submit\" type=\"submit\" wicket:message=\"value:submit\" \n-                           class=\"btn btn-success float-right\"/>\n-                  </div>\n-                </div>\n-              </fieldset>\n-            </form>\n-          </div>\n-        </div>\n+        <img id=\"mcp_logo\" class=\"login-logo\" src=\"ui-commons/img/logo-green.png\" />\n+        \n+        <span wicket:id=\"feedback\"></span>\n+\n+        <div class=\"alert alert-success\"><wicket:message key=\"passwordNeedsToBeUpdated\"/></div>\n+\n+        <form id=\"mcp_form\" class=\"form-group\" wicket:id=\"changePassword\">\n+          <fieldset class=\"form-group\">\n+            <input type=\"text\" wicket:id=\"username\" id=\"username\" class=\"form-control\" \n+                   wicket:message=\"placeholder:username\" autofocus=\"autofocus\" />\n+\n+            <input type=\"password\" wicket:id=\"password\" class=\"form-control\" \n+                   wicket:message=\"placeholder:password\" />\n+            \n+            <input type=\"password\" wicket:id=\"confirmPassword\" class=\"form-control\" \n+                   wicket:message=\"placeholder:confirmPassword\" />\n+\n+            <div class=\"col-md-12 wizard-buttons\">\n+              <input id=\"cancel_button\" wicket:id=\"cancel\" type=\"submit\" wicket:message=\"value:cancel\" \n+                     class=\"btn btn-default float-left\"/>\n+              <input id=\"submit_button\" wicket:id=\"submit\" type=\"submit\" wicket:message=\"value:submit\" \n+                     class=\"btn float-right ml-2 bg-success\"/>\n+            </div>\n+          </fieldset>\n+        </form>\n \n       </div>\n     </div>"}]}
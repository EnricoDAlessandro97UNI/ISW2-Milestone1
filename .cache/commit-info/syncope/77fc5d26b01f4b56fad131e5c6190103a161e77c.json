{"sha":"77fc5d26b01f4b56fad131e5c6190103a161e77c","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjc3ZmM1ZDI2YjAxZjRiNTZmYWQxMzFlNWM2MTkwMTAzYTE2MWU3N2M=","commit":{"author":{"name":"fmartelli","email":"fabio.martelli@gmail.com","date":"2015-10-30T10:21:36Z"},"committer":{"name":"fmartelli","email":"fabio.martelli@gmail.com","date":"2015-10-30T10:21:36Z"},"message":"merge from master","tree":{"sha":"b8252012bfd2bc91ae1bfa00091fefb18aa22ba4","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/b8252012bfd2bc91ae1bfa00091fefb18aa22ba4"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/77fc5d26b01f4b56fad131e5c6190103a161e77c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/77fc5d26b01f4b56fad131e5c6190103a161e77c","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/77fc5d26b01f4b56fad131e5c6190103a161e77c","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/77fc5d26b01f4b56fad131e5c6190103a161e77c/comments","author":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"committer":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"ee7ca34319467b440b6f28104be55da7db215da4","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ee7ca34319467b440b6f28104be55da7db215da4","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ee7ca34319467b440b6f28104be55da7db215da4"},{"sha":"714557e64f309bd4975ed55bb7d182a7727c4667","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/714557e64f309bd4975ed55bb7d182a7727c4667","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/714557e64f309bd4975ed55bb7d182a7727c4667"}],"stats":{"total":14928,"additions":11990,"deletions":2938},"files":[{"sha":"3cba257948a263e9d8da161c5026fce82f4592ea","filename":".travis.yml","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/.travis.yml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/.travis.yml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/.travis.yml?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -23,8 +23,6 @@ jdk:\n # default install is mvn install --quiet -DskipTests=true\n install: mvn --show-version --quiet -P all,skipTests\n script:\n-#  - sudo rm /etc/mavenrc\n-#  - export MAVEN_OPTS=\"-Xmx2469m -XX:MaxPermSize=512m -XX:+TieredCompilation -XX:TieredStopAtLevel=1\"\n   #invoker.streamLogs: we cannot access to log files through Travis web ui, so display everything in the console\n   - mvn --show-version --quiet clean install -Dinvoker.streamLogs=true\n notifications:"},{"sha":"63d7952f8ce0e81924cd4fb0f83a5ec77907411f","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/Input.java","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2FInput.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2FInput.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2FInput.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,6 +18,8 @@\n  */\n package org.apache.syncope.client.cli;\n \n+import java.util.Arrays;\n+import java.util.List;\n import org.apache.syncope.client.cli.commands.AbstractCommand;\n import org.apache.syncope.client.cli.util.CommandUtils;\n \n@@ -63,6 +65,10 @@ public String getOption() {\n     public String[] getParameters() {\n         return parameters;\n     }\n+    \n+    public List<String> listParameters() {\n+        return Arrays.asList(parameters);\n+    }\n \n     public String firstParameter() {\n         return parameters[0];"},{"sha":"8b6150a9764934aaf5bf850969e879fec597895a","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/SyncopeAdm.java","status":"modified","additions":4,"deletions":3,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2FSyncopeAdm.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2FSyncopeAdm.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2FSyncopeAdm.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -50,12 +50,13 @@ public static void main(final String[] args) {\n             System.out.println(helpMessage());\n         } catch (final IllegalArgumentException ex) {\n             LOG.error(\"Error in main\", ex);\n-            RESULT_MANAGER.generic(ex.getMessage());\n+            RESULT_MANAGER.genericError(ex.getMessage());\n             if (!ex.getMessage().startsWith(\"It seems you\")) {\n                 System.out.println(helpMessage());\n             }\n         } catch (final ProcessingException e) {\n-            RESULT_MANAGER.generic(\"Syncope server offline\", e.getCause().getMessage());\n+            RESULT_MANAGER.genericError(\"Syncope server offline\");\n+            RESULT_MANAGER.genericError(e.getCause().getMessage());\n         }\n \n     }\n@@ -73,7 +74,7 @@ private static String helpMessage() {\n                 helpMessageBuilder.append(\"\\n\");\n             }\n         } catch (final IllegalAccessException | IllegalArgumentException | InstantiationException ex) {\n-            RESULT_MANAGER.generic(ex.getMessage());\n+            RESULT_MANAGER.genericError(ex.getMessage());\n         }\n \n         return helpMessageBuilder.toString();"},{"sha":"4764d4d8b2759e427406ca220a03895fec850105","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/CommonsResultManager.java","status":"modified","additions":12,"deletions":3,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2FCommonsResultManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2FCommonsResultManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2FCommonsResultManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,16 +18,21 @@\n  */\n package org.apache.syncope.client.cli.commands;\n \n+import java.util.List;\n import java.util.Set;\n import org.apache.syncope.client.cli.view.Messages;\n import org.apache.syncope.common.lib.types.ConnConfProperty;\n \n public abstract class CommonsResultManager {\n \n-    public void managerNumberFormatException(final String what, final String key) {\n+    public void numberFormatException(final String what, final String key) {\n         Messages.printIdNotNumberDeletedMessage(what, key);\n     }\n \n+    public void unnecessaryParameters(final List<String> parameters, final String helpMessage) {\n+        Messages.printUnnecessaryParameters(parameters, helpMessage);\n+    }\n+\n     public void deletedMessage(final String what, final String key) {\n         Messages.printDeletedMessage(what, key);\n     }\n@@ -52,10 +57,14 @@ public void defaultError(final String option, final String helpMessage) {\n         Messages.printDefaultMessage(option, helpMessage);\n     }\n \n-    public void generic(final String... messages) {\n+    public void genericMessage(final String... messages) {\n         Messages.printMessage(messages);\n     }\n-    \n+\n+    public void genericError(final String error) {\n+        Messages.printMessage(\"Error: \" + error);\n+    }\n+\n     protected void printConfiguration(final Set<ConnConfProperty> configurationPropertys) {\n         for (final ConnConfProperty configuration : configurationPropertys) {\n             System.out.println(\"       name: \" + configuration.getSchema().getName());"},{"sha":"87f0b00ec10c8d0f2fde37d7248a31316dd70f1b","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/configuration/AbstractConfigurationCommand.java","status":"modified","additions":2,"deletions":4,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FAbstractConfigurationCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FAbstractConfigurationCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FAbstractConfigurationCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,12 +18,10 @@\n  */\n package org.apache.syncope.client.cli.commands.configuration;\n \n-import org.apache.syncope.client.cli.SyncopeServices;\n-import org.apache.syncope.common.rest.api.service.ConfigurationService;\n-\n public abstract class AbstractConfigurationCommand {\n \n-    protected final ConfigurationService configurationService = SyncopeServices.get(ConfigurationService.class);\n+    protected final ConfigurationSyncopeOperations configurationSyncopeOperations\n+            = new ConfigurationSyncopeOperations();\n \n     protected final ConfigurationResultManager configurationResultManager = new ConfigurationResultManager();\n "},{"sha":"28cebf42de9aafd5280ad6edee1be29345047ac6","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/configuration/ConfigurationCommand.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -49,7 +49,7 @@ public void execute(final Input input) {\n \n         switch (Options.fromName(input.getOption())) {\n             case GET:\n-                new ConfigurationGet().get();\n+                new ConfigurationGet(input).get();\n                 break;\n             case READ:\n                 new ConfigurationRead(input).read();"},{"sha":"79b679b363e5f273c7221056dc600dfe8095d5dc","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/configuration/ConfigurationDelete.java","status":"modified","additions":3,"deletions":4,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationDelete.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationDelete.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationDelete.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -36,15 +36,15 @@ public void delete() {\n         if (input.parameterNumber() >= 1) {\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    configurationService.delete(parameter);\n+                    configurationSyncopeOperations.delete(parameter);\n                     configurationResultManager.deletedMessage(\"Configuration\", parameter);\n                 } catch (final SyncopeClientException | WebServiceException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         configurationResultManager.notFoundError(\"Configuration\", parameter);\n                     } else if (ex.getMessage().startsWith(\"DataIntegrityViolation\")) {\n-                        configurationResultManager.generic(\"You cannot delete configuration\", parameter);\n+                        configurationResultManager.genericError(\"You cannot delete configuration \" + parameter);\n                     } else {\n-                        configurationResultManager.generic(ex.getMessage());\n+                        configurationResultManager.genericError(ex.getMessage());\n                     }\n                     break;\n                 }\n@@ -53,5 +53,4 @@ public void delete() {\n             configurationResultManager.commandOptionError(DELETE_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"2eaeb75a6a7142fb2ce89577493469a515a9661b","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/configuration/ConfigurationExport.java","status":"modified","additions":7,"deletions":7,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationExport.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationExport.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationExport.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -45,24 +45,24 @@ public void export() {\n         if (input.parameterNumber() == 1) {\n             try {\n                 XMLUtils.createXMLFile(\n-                        (SequenceInputStream) configurationService.export().getEntity(),\n+                        (SequenceInputStream) configurationSyncopeOperations.export().getEntity(),\n                         input.firstParameter() + EXPORT_FILE_NAME);\n-                configurationResultManager.generic(\n+                configurationResultManager.genericMessage(\n                         input.firstParameter() + EXPORT_FILE_NAME + \" successfully created\");\n             } catch (final IOException ex) {\n-                configurationResultManager.generic(ex.getMessage());\n+                configurationResultManager.genericError(ex.getMessage());\n             } catch (ParserConfigurationException | SAXException | TransformerConfigurationException ex) {\n-                configurationResultManager.generic(\n+                configurationResultManager.genericError(\n                         \"Error creating \" + input.firstParameter() + EXPORT_FILE_NAME + \" \" + ex.getMessage());\n             } catch (final TransformerException ex) {\n                 if (ex.getCause() instanceof FileNotFoundException) {\n-                    configurationResultManager.generic(\"Permission denied on \" + input.firstParameter());\n+                    configurationResultManager.genericError(\"Permission denied on \" + input.firstParameter());\n                 } else {\n-                    configurationResultManager.generic(\n+                    configurationResultManager.genericError(\n                             \"Error creating \" + input.firstParameter() + EXPORT_FILE_NAME + \" \" + ex.getMessage());\n                 }\n             } catch (final SyncopeClientException ex) {\n-                configurationResultManager.generic(\"Error calling configuration service \" + ex.getMessage());\n+                configurationResultManager.genericError(\"Error calling configuration service \" + ex.getMessage());\n             }\n         } else {\n             configurationResultManager.commandOptionError(EXPORT_HELP_MESSAGE);"},{"sha":"f0b768210c1d0361d4e22e9979d290cf7c535a9b","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/configuration/ConfigurationGet.java","status":"modified","additions":15,"deletions":6,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationGet.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationGet.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationGet.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -19,18 +19,27 @@\n package org.apache.syncope.client.cli.commands.configuration;\n \n import java.util.LinkedList;\n+import org.apache.syncope.client.cli.Input;\n \n public class ConfigurationGet extends AbstractConfigurationCommand {\n \n-    public ConfigurationGet() {\n+    private static final String GET_HELP_MESSAGE = \"configuration --get\";\n+\n+    private final Input input;\n+\n+    public ConfigurationGet(final Input input) {\n+        this.input = input;\n     }\n \n     public void get() {\n-        try {\n-            configurationResultManager.fromGet(new LinkedList<>(configurationService.list()));\n-        } catch (final Exception ex) {\n-            configurationResultManager.generic(ex.getMessage());\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                configurationResultManager.fromGet(new LinkedList<>(configurationSyncopeOperations.list()));\n+            } catch (final Exception ex) {\n+                configurationResultManager.genericError(ex.getMessage());\n+            }\n+        } else {\n+            configurationResultManager.unnecessaryParameters(input.listParameters(), GET_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"e315f33ec86403bd320b642c706f548ba56c6511","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/configuration/ConfigurationRead.java","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationRead.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationRead.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationRead.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -40,12 +40,12 @@ public void read() {\n             boolean failed = false;\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    attrList.add(configurationService.get(parameter));\n+                    attrList.add(configurationSyncopeOperations.get(parameter));\n                 } catch (final SyncopeClientException | WebServiceException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         configurationResultManager.notFoundError(\"Configuration\", parameter);\n                     } else {\n-                        configurationResultManager.generic(ex.getMessage());\n+                        configurationResultManager.genericError(ex.getMessage());\n                     }\n                     failed = true;\n                     break;\n@@ -58,5 +58,4 @@ public void read() {\n             configurationResultManager.commandOptionError(READ_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"8efc97cc5c39ac3ff04552b015878032d914d37f","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/configuration/ConfigurationSyncopeOperations.java","status":"added","additions":50,"deletions":0,"changes":50,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationSyncopeOperations.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationSyncopeOperations.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationSyncopeOperations.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,50 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.configuration;\n+\n+import java.util.List;\n+import javax.ws.rs.core.Response;\n+import org.apache.syncope.client.cli.SyncopeServices;\n+import org.apache.syncope.common.lib.to.AttrTO;\n+import org.apache.syncope.common.rest.api.service.ConfigurationService;\n+\n+public class ConfigurationSyncopeOperations {\n+\n+    private final ConfigurationService configurationService = SyncopeServices.get(ConfigurationService.class);\n+\n+    public AttrTO get(final String schema) {\n+        return configurationService.get(schema);\n+    }\n+\n+    public void set(final AttrTO attrTO) {\n+        configurationService.set(attrTO);\n+    }\n+\n+    public List<AttrTO> list() {\n+        return configurationService.list();\n+    }\n+\n+    public Response export() {\n+        return configurationService.export();\n+    }\n+\n+    public void delete(final String schema) {\n+        configurationService.delete(schema);\n+    }\n+}"},{"sha":"e3aff4ed1c3376db201f4e77b73c7bb1fb4411d5","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/configuration/ConfigurationUpdate.java","status":"modified","additions":6,"deletions":5,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationUpdate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationUpdate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconfiguration%2FConfigurationUpdate.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -44,23 +44,24 @@ public void update() {\n             for (final String parameter : input.getParameters()) {\n                 try {\n                     pairParameter = input.toPairParameter(parameter);\n-                    attrTO = configurationService.get(pairParameter.getKey());\n+                    attrTO = configurationSyncopeOperations.get(pairParameter.getKey());\n                     attrTO.getValues().clear();\n                     attrTO.getValues().add(pairParameter.getValue());\n-                    configurationService.set(attrTO);\n+                    configurationSyncopeOperations.set(attrTO);\n                     attrList.add(attrTO);\n                 } catch (final IllegalArgumentException ex) {\n-                    configurationResultManager.generic(ex.getMessage(), UPDATE_HELP_MESSAGE);\n+                    configurationResultManager.genericError(ex.getMessage());\n+                    configurationResultManager.genericError(UPDATE_HELP_MESSAGE);\n                     failed = true;\n                     break;\n                 } catch (final SyncopeClientException | WebServiceException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         configurationResultManager.notFoundError(\"Configuration\", pairParameter.getKey());\n                     } else if (ex.getMessage().startsWith(\"InvalidValues\")) {\n-                        configurationResultManager.generic(\n+                        configurationResultManager.genericError(\n                                 pairParameter.getValue() + \" is not a valid value for \" + pairParameter.getKey());\n                     } else {\n-                        configurationResultManager.generic(ex.getMessage());\n+                        configurationResultManager.genericError(ex.getMessage());\n                     }\n                     failed = true;\n                     break;"},{"sha":"6286ed46d094deab457437ae28012f0e367e6987","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/connector/AbstractConnectorCommand.java","status":"modified","additions":1,"deletions":4,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FAbstractConnectorCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FAbstractConnectorCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FAbstractConnectorCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,12 +18,9 @@\n  */\n package org.apache.syncope.client.cli.commands.connector;\n \n-import org.apache.syncope.client.cli.SyncopeServices;\n-import org.apache.syncope.common.rest.api.service.ConnectorService;\n-\n public abstract class AbstractConnectorCommand {\n \n-    protected final ConnectorService connectorService = SyncopeServices.get(ConnectorService.class);\n+    protected final ConnectorSyncopeOperations connectorSyncopeOperations = new ConnectorSyncopeOperations();\n \n     protected final ConnectorResultManager connectorResultManager = new ConnectorResultManager();\n "},{"sha":"c87055c9202bb85d57e0dce23b1b5f971d2ade3f","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/connector/ConnectorCommand.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -48,10 +48,10 @@ public void execute(final Input input) {\n \n         switch (ConnectorOptions.fromName(input.getOption())) {\n             case LIST:\n-                new ConnectorList().list();\n+                new ConnectorList(input).list();\n                 break;\n             case LIST_BUNDLES:\n-                new ConnectorListBundles().list();\n+                new ConnectorListBundles(input).list();\n                 break;\n             case LIST_CONFIGURATION:\n                 new ConnectorListConfigurationProperties(input).list();"},{"sha":"1454d28480f5ea9f56647c5915d155f4f2b80756","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/connector/ConnectorDelete.java","status":"modified","additions":4,"deletions":5,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorDelete.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorDelete.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorDelete.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -40,23 +40,22 @@ public void delete() {\n             final List<ConnInstanceTO> connInstanceTOs = new ArrayList<>();\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    connectorService.delete(Long.valueOf(parameter));\n+                    connectorSyncopeOperations.delete(parameter);\n                     connectorResultManager.deletedMessage(\"connector\", parameter);\n                 } catch (final NumberFormatException ex) {\n-                    connectorResultManager.managerNumberFormatException(\"connector\", parameter);\n+                    connectorResultManager.numberFormatException(\"connector\", parameter);\n                 } catch (final SyncopeClientException | WebServiceException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         connectorResultManager.notFoundError(\"Connector\", parameter);\n                     } else {\n-                        connectorResultManager.generic(ex.getMessage());\n+                        connectorResultManager.genericError(ex.getMessage());\n                     }\n                     break;\n                 }\n             }\n-            connectorResultManager.toView(connInstanceTOs);\n+            connectorResultManager.printConnectors(connInstanceTOs);\n         } else {\n             connectorResultManager.commandOptionError(DELETE_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"1c86bbbf47e6f3f410e5237daa82f4ec73211aa6","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/connector/ConnectorList.java","status":"modified","additions":17,"deletions":4,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorList.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,15 +18,28 @@\n  */\n package org.apache.syncope.client.cli.commands.connector;\n \n+import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n \n public class ConnectorList extends AbstractConnectorCommand {\n \n+    private static final String LIST_HELP_MESSAGE = \"connector --list\";\n+\n+    private final Input input;\n+\n+    public ConnectorList(final Input input) {\n+        this.input = input;\n+    }\n+\n     public void list() {\n-        try {\n-            connectorResultManager.toView(connectorService.list(null));\n-        } catch (final SyncopeClientException ex) {\n-            connectorResultManager.generic(ex.getMessage());\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                connectorResultManager.printConnectors(connectorSyncopeOperations.list());\n+            } catch (final SyncopeClientException ex) {\n+                connectorResultManager.genericError(ex.getMessage());\n+            }\n+        } else {\n+            connectorResultManager.unnecessaryParameters(input.listParameters(), LIST_HELP_MESSAGE);\n         }\n     }\n }"},{"sha":"293fa133cfaca9e0b8baae3faa445e820a3acb0c","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/connector/ConnectorListBundles.java","status":"modified","additions":17,"deletions":4,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorListBundles.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorListBundles.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorListBundles.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,15 +18,28 @@\n  */\n package org.apache.syncope.client.cli.commands.connector;\n \n+import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n \n public class ConnectorListBundles extends AbstractConnectorCommand {\n \n+    private static final String LIST_HELP_MESSAGE = \"connector --list-bundles\";\n+\n+    private final Input input;\n+\n+    public ConnectorListBundles(final Input input) {\n+        this.input = input;\n+    }\n+\n     public void list() {\n-        try {\n-            connectorResultManager.fromListBundles(connectorService.getBundles(null));\n-        } catch (final SyncopeClientException ex) {\n-            connectorResultManager.generic(ex.getMessage());\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                connectorResultManager.printBundles(connectorSyncopeOperations.getBundles());\n+            } catch (final SyncopeClientException ex) {\n+                connectorResultManager.genericError(ex.getMessage());\n+            }\n+        } else {\n+            connectorResultManager.unnecessaryParameters(input.listParameters(), LIST_HELP_MESSAGE);\n         }\n     }\n }"},{"sha":"5f5197cefddcafa3c7501fea23d54b4640a704fa","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/connector/ConnectorListConfigurationProperties.java","status":"modified","additions":5,"deletions":7,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorListConfigurationProperties.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorListConfigurationProperties.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorListConfigurationProperties.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -24,7 +24,7 @@\n \n public class ConnectorListConfigurationProperties extends AbstractConnectorCommand {\n \n-    private static final String LIST_CONFIGURATION_HELP_MESSAGE \n+    private static final String LIST_CONFIGURATION_HELP_MESSAGE\n             = \"connector --list-configuration-properties {CONNECTOR-ID} {CONNECTOR-ID} [...]\";\n \n     private final Input input;\n@@ -37,22 +37,20 @@ public void list() {\n         if (input.getParameters().length >= 1) {\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    connectorResultManager.fromListConfigurationProperties(\n-                            connectorService.getConfigurationProperties(Long.valueOf(parameter)));\n+                    connectorResultManager.printConfigurationProperties(\n+                            connectorSyncopeOperations.read(parameter).getConf());\n                 } catch (final NumberFormatException ex) {\n-                    connectorResultManager.managerNumberFormatException(\"connector\", parameter);\n+                    connectorResultManager.numberFormatException(\"connector\", parameter);\n                 } catch (final SyncopeClientException | WebServiceException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         connectorResultManager.notFoundError(\"Connector\", parameter);\n                     } else {\n-                        connectorResultManager.generic(ex.getMessage());\n+                        connectorResultManager.genericError(ex.getMessage());\n                     }\n-                    break;\n                 }\n             }\n         } else {\n             connectorResultManager.commandOptionError(LIST_CONFIGURATION_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"dc29d74dd48688498c3469b5b65d8d8332352026","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/connector/ConnectorRead.java","status":"modified","additions":3,"deletions":10,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorRead.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorRead.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorRead.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,12 +18,9 @@\n  */\n package org.apache.syncope.client.cli.commands.connector;\n \n-import java.util.ArrayList;\n-import java.util.List;\n import javax.xml.ws.WebServiceException;\n import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n-import org.apache.syncope.common.lib.to.ConnInstanceTO;\n \n public class ConnectorRead extends AbstractConnectorCommand {\n \n@@ -37,25 +34,21 @@ public ConnectorRead(final Input input) {\n \n     public void read() {\n         if (input.getParameters().length >= 1) {\n-            final List<ConnInstanceTO> connInstanceTOs = new ArrayList<>();\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    connInstanceTOs.add(connectorService.read(Long.valueOf(parameter), READ_HELP_MESSAGE));\n+                    connectorResultManager.printConnector(connectorSyncopeOperations.read(parameter));\n                 } catch (final NumberFormatException ex) {\n-                    connectorResultManager.managerNumberFormatException(\"connector\", parameter);\n+                    connectorResultManager.numberFormatException(\"connector\", parameter);\n                 } catch (final SyncopeClientException | WebServiceException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         connectorResultManager.notFoundError(\"Connector\", parameter);\n                     } else {\n-                        connectorResultManager.generic(ex.getMessage());\n+                        connectorResultManager.genericError(ex.getMessage());\n                     }\n-                    break;\n                 }\n             }\n-            connectorResultManager.toView(connInstanceTOs);\n         } else {\n             connectorResultManager.commandOptionError(READ_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"cc8bbaca3592ccc8a700066561cfd5adb611d32e","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/connector/ConnectorReadByResource.java","status":"modified","additions":2,"deletions":9,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorReadByResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorReadByResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorReadByResource.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,12 +18,9 @@\n  */\n package org.apache.syncope.client.cli.commands.connector;\n \n-import java.util.ArrayList;\n-import java.util.List;\n import javax.xml.ws.WebServiceException;\n import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n-import org.apache.syncope.common.lib.to.ConnInstanceTO;\n \n public class ConnectorReadByResource extends AbstractConnectorCommand {\n \n@@ -38,23 +35,19 @@ public ConnectorReadByResource(final Input input) {\n \n     public void read() {\n         if (input.getParameters().length >= 1) {\n-            final List<ConnInstanceTO> connInstanceTOs = new ArrayList<>();\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    connInstanceTOs.add(connectorService.readByResource(parameter, READ_HELP_MESSAGE));\n+                    connectorResultManager.printConnector(connectorSyncopeOperations.readByResource(parameter));\n                 } catch (final SyncopeClientException | WebServiceException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         connectorResultManager.notFoundError(\"Resource\", parameter);\n                     } else {\n-                        connectorResultManager.generic(ex.getMessage());\n+                        connectorResultManager.genericError(ex.getMessage());\n                     }\n-                    break;\n                 }\n             }\n-            connectorResultManager.toView(connInstanceTOs);\n         } else {\n             connectorResultManager.commandOptionError(READ_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"4ff92ed41d0c94f923507bd8a4a0aa9937cddcd7","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/connector/ConnectorResultManager.java","status":"modified","additions":21,"deletions":21,"changes":42,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorResultManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorResultManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorResultManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,7 +18,6 @@\n  */\n package org.apache.syncope.client.cli.commands.connector;\n \n-import java.util.HashSet;\n import java.util.List;\n import java.util.Set;\n import org.apache.syncope.client.cli.commands.CommonsResultManager;\n@@ -31,30 +30,13 @@\n \n public class ConnectorResultManager extends CommonsResultManager {\n \n-    public void toView(final List<ConnInstanceTO> connInstanceTOs) {\n+    public void printConnectors(final List<ConnInstanceTO> connInstanceTOs) {\n         for (final ConnInstanceTO connInstanceTO : connInstanceTOs) {\n             printConnector(connInstanceTO);\n         }\n     }\n \n-    public void fromListBundles(final List<ConnBundleTO> connBundleTOs) {\n-        for (final ConnBundleTO connBundleTO : connBundleTOs) {\n-            System.out.println(\" > BUNDLE NAME: \" + connBundleTO.getBundleName());\n-            System.out.println(\"    connector name: \" + connBundleTO.getConnectorName());\n-            System.out.println(\"    display name: \" + connBundleTO.getDisplayName());\n-            System.out.println(\"    location: \" + connBundleTO.getLocation());\n-            System.out.println(\"    version: \" + connBundleTO.getVersion());\n-            System.out.println(\"    PROPERTIES:\");\n-            printConfPropSchema(connBundleTO.getProperties());\n-        }\n-    }\n-\n-    public void fromListConfigurationProperties(final List<ConnConfProperty> connConfPropertys) {\n-        printConfiguration(new HashSet<>(connConfPropertys));\n-\n-    }\n-\n-    private void printConnector(final ConnInstanceTO connInstanceTO) {\n+    public void printConnector(final ConnInstanceTO connInstanceTO) {\n         System.out.println(\" > CONNECTOR ID: \" + connInstanceTO.getKey());\n         System.out.println(\"    bundle name: \" + connInstanceTO.getBundleName());\n         System.out.println(\"    connector name: \" + connInstanceTO.getConnectorName());\n@@ -65,9 +47,10 @@ private void printConnector(final ConnInstanceTO connInstanceTO) {\n         System.out.println(\"    CAPABILITIES:\");\n         printCapabilities(connInstanceTO.getCapabilities());\n         System.out.println(\"    CONFIGURATION:\");\n-        printConfiguration(connInstanceTO.getConfiguration());\n+        printConfiguration(connInstanceTO.getConf());\n         System.out.println(\"    POOL CONFIGURATION:\");\n         printConfPool(connInstanceTO.getPoolConf());\n+        System.out.println(\"\");\n     }\n \n     private void printCapabilities(final Set<ConnectorCapability> capabilities) {\n@@ -84,6 +67,18 @@ private void printConfPool(final ConnPoolConfTO connPoolConfTO) {\n         System.out.println(\"       max wait: \" + connPoolConfTO.getMaxWait());\n     }\n \n+    public void printBundles(final List<ConnBundleTO> connBundleTOs) {\n+        for (final ConnBundleTO connBundleTO : connBundleTOs) {\n+            System.out.println(\" > BUNDLE NAME: \" + connBundleTO.getBundleName());\n+            System.out.println(\"    connector name: \" + connBundleTO.getConnectorName());\n+            System.out.println(\"    display name: \" + connBundleTO.getDisplayName());\n+            System.out.println(\"    location: \" + connBundleTO.getLocation());\n+            System.out.println(\"    version: \" + connBundleTO.getVersion());\n+            System.out.println(\"    PROPERTIES:\");\n+            printConfPropSchema(connBundleTO.getProperties());\n+        }\n+    }\n+\n     private void printConfPropSchema(final List<ConnConfPropSchema> connConfPropSchemas) {\n         for (final ConnConfPropSchema connConfPropSchema : connConfPropSchemas) {\n             System.out.println(\"       name: \" + connConfPropSchema.getName());\n@@ -95,4 +90,9 @@ private void printConfPropSchema(final List<ConnConfPropSchema> connConfPropSche\n             System.out.println(\"\");\n         }\n     }\n+\n+    public void printConfigurationProperties(final Set<ConnConfProperty> connConfPropertys) {\n+        printConfiguration(connConfPropertys);\n+\n+    }\n }"},{"sha":"11ac0361f55209fdcc15cde6b52ffd51da874831","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/connector/ConnectorSyncopeOperations.java","status":"added","additions":50,"deletions":0,"changes":50,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorSyncopeOperations.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorSyncopeOperations.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fconnector%2FConnectorSyncopeOperations.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,50 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.connector;\n+\n+import java.util.List;\n+import org.apache.syncope.client.cli.SyncopeServices;\n+import org.apache.syncope.common.lib.to.ConnBundleTO;\n+import org.apache.syncope.common.lib.to.ConnInstanceTO;\n+import org.apache.syncope.common.rest.api.service.ConnectorService;\n+\n+public class ConnectorSyncopeOperations {\n+\n+    private final ConnectorService connectorService = SyncopeServices.get(ConnectorService.class);\n+\n+    public ConnInstanceTO readByResource(final String resourceName) {\n+        return connectorService.readByResource(resourceName, null);\n+    }\n+\n+    public ConnInstanceTO read(final String resourceId) {\n+        return connectorService.read(Long.valueOf(resourceId), null);\n+    }\n+\n+    public List<ConnBundleTO> getBundles() {\n+        return connectorService.getBundles(null);\n+    }\n+\n+    public List<ConnInstanceTO> list() {\n+        return connectorService.list(null);\n+    }\n+\n+    public void delete(final String resourceId) {\n+        connectorService.delete(Long.valueOf(resourceId));\n+    }\n+}"},{"sha":"902f55ca2e4042ee4356db80af2082027ea666ac","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/domain/AbstractDomainCommand.java","status":"modified","additions":1,"deletions":4,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FAbstractDomainCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FAbstractDomainCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FAbstractDomainCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,12 +18,9 @@\n  */\n package org.apache.syncope.client.cli.commands.domain;\n \n-import org.apache.syncope.client.cli.SyncopeServices;\n-import org.apache.syncope.common.rest.api.service.DomainService;\n-\n public abstract class AbstractDomainCommand {\n \n-    protected final DomainService domainService = SyncopeServices.get(DomainService.class);\n+    protected final DomainSyncopeOperations domainSyncopeOperations = new DomainSyncopeOperations();\n \n     protected final DomainResultManager domainResultManager = new DomainResultManager();\n "},{"sha":"adda76bab91d3bcf1fb3757eda7583aff564b8ff","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/domain/DomainCommand.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -33,7 +33,7 @@ public class DomainCommand extends AbstractCommand {\n             + \"    --help \\n\"\n             + \"    --list \\n\"\n             + \"    --delete \\n\"\n-            + \"       Syntax: --delete {DOMAIN-KEY} {DOMAIN-KEY} [...]\\n\";\n+            + \"       Syntax: --delete {DOMAIN-NAME} {DOMAIN-NAME} [...]\\n\";\n \n     @Override\n     public void execute(final Input input) {\n@@ -42,7 +42,7 @@ public void execute(final Input input) {\n         }\n         switch (Options.fromName(input.getOption())) {\n             case LIST:\n-                new DomainList().list();\n+                new DomainList(input).list();\n                 break;\n             case DELETE:\n                 new DomainDelete(input).delete();"},{"sha":"06e733a02d64fce076188e66f3f07d613d54958a","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/domain/DomainDelete.java","status":"modified","additions":3,"deletions":4,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainDelete.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainDelete.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainDelete.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -23,7 +23,7 @@\n \n public class DomainDelete extends AbstractDomainCommand {\n \n-    private static final String DELETE_HELP_MESSAGE = \"domain --delete {DOMAIN-KEY} {DOMAIN-KEY} [...]\";\n+    private static final String DELETE_HELP_MESSAGE = \"domain --delete {DOMAIN-NAME} {DOMAIN-NAME} [...]\";\n \n     private final Input input;\n \n@@ -35,19 +35,18 @@ public void delete() {\n         if (input.parameterNumber() >= 1) {\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    domainService.delete(parameter);\n+                    domainSyncopeOperations.delete(parameter);\n                     domainResultManager.deletedMessage(\"Domain\", parameter);\n                 } catch (final SyncopeClientException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         domainResultManager.notFoundError(\"Domain\", parameter);\n                     } else {\n-                        domainResultManager.generic(ex.getMessage());\n+                        domainResultManager.genericError(ex.getMessage());\n                     }\n                 }\n             }\n         } else {\n             domainResultManager.commandOptionError(DELETE_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"7c6084449c4366e9045067dc6e72f38806bb6d91","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/domain/DomainList.java","status":"modified","additions":15,"deletions":7,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainList.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,21 +18,29 @@\n  */\n package org.apache.syncope.client.cli.commands.domain;\n \n+import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n-import org.apache.syncope.common.lib.to.DomainTO;\n \n public class DomainList extends AbstractDomainCommand {\n \n-    public DomainList() {\n+    private static final String LIST_HELP_MESSAGE = \"domain --list\";\n+\n+    private final Input input;\n+\n+    public DomainList(final Input input) {\n+        this.input = input;\n     }\n \n     public void list() {\n-        try {\n-            for (final DomainTO domainTO : domainService.list()) {\n-                domainResultManager.generic(domainTO.getKey());\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                domainResultManager.toView(domainSyncopeOperations.list());\n+            } catch (final SyncopeClientException ex) {\n+                domainResultManager.genericError(ex.getMessage());\n             }\n-        } catch (final SyncopeClientException ex) {\n-            domainResultManager.generic(\"Error: \" + ex.getMessage());\n+        } else {\n+            domainResultManager.unnecessaryParameters(input.listParameters(), LIST_HELP_MESSAGE);\n         }\n+\n     }\n }"},{"sha":"94989ffe8c1e1299447394452bdc48d2222b58c3","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/domain/DomainRead.java","status":"modified","additions":3,"deletions":5,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainRead.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainRead.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainRead.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -20,11 +20,10 @@\n \n import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n-import org.apache.syncope.common.lib.to.DomainTO;\n \n public class DomainRead extends AbstractDomainCommand {\n \n-    private static final String READ_HELP_MESSAGE = \"domain --read {DOMAIN-KEY} {DOMAIN-KEY} [...]\";\n+    private static final String READ_HELP_MESSAGE = \"domain --read {DOMAIN-NAME} {DOMAIN-NAME} [...]\";\n \n     private final Input input;\n \n@@ -36,13 +35,12 @@ public void read() {\n         if (input.parameterNumber() >= 1) {\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    final DomainTO domainTO = domainService.read(parameter);\n-                    domainResultManager.generic(domainTO.getKey());\n+                    domainResultManager.printDomain(domainSyncopeOperations.read(parameter));\n                 } catch (final SyncopeClientException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         domainResultManager.notFoundError(\"Domain\", parameter);\n                     } else {\n-                        domainResultManager.generic(ex.getMessage());\n+                        domainResultManager.genericError(ex.getMessage());\n                     }\n                 }\n             }"},{"sha":"d0b28ed18264672e61116af3fc0c97a935b6721e","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/domain/DomainResultManager.java","status":"modified","additions":12,"deletions":0,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainResultManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainResultManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainResultManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,8 +18,20 @@\n  */\n package org.apache.syncope.client.cli.commands.domain;\n \n+import java.util.List;\n import org.apache.syncope.client.cli.commands.CommonsResultManager;\n+import org.apache.syncope.common.lib.to.DomainTO;\n \n public class DomainResultManager extends CommonsResultManager {\n \n+    public void toView(final List<DomainTO> domainTOs) {\n+        for (final DomainTO domainTO : domainTOs) {\n+            printDomain(domainTO);\n+        }\n+    }\n+\n+    public void printDomain(final DomainTO domainTO) {\n+        System.out.println(\" > DOIMAIN NAME: \" + domainTO.getKey());\n+        System.out.println(\"    chiper algorithm: \" + domainTO.getAdminCipherAlgorithm());\n+    }\n }"},{"sha":"994c2178bfa7547aed99bd36a5d845a072ae5aa4","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/domain/DomainSyncopeOperations.java","status":"added","additions":41,"deletions":0,"changes":41,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainSyncopeOperations.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainSyncopeOperations.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fdomain%2FDomainSyncopeOperations.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,41 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.domain;\n+\n+import java.util.List;\n+import org.apache.syncope.client.cli.SyncopeServices;\n+import org.apache.syncope.common.lib.to.DomainTO;\n+import org.apache.syncope.common.rest.api.service.DomainService;\n+\n+public class DomainSyncopeOperations {\n+\n+    private final DomainService domainService = SyncopeServices.get(DomainService.class);\n+\n+    public DomainTO read(final String domainName) {\n+        return domainService.read(domainName);\n+    }\n+\n+    public List<DomainTO> list() {\n+        return domainService.list();\n+    }\n+    \n+    public void delete(final String domainName) {\n+        domainService.delete(domainName);\n+    }\n+}"},{"sha":"f09665d0fa40b5e1efb75b4dccde628bc381bc14","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/entitlement/AbstractEntitlementCommand.java","status":"renamed","additions":4,"deletions":11,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FAbstractEntitlementCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FAbstractEntitlementCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FAbstractEntitlementCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -16,19 +16,12 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.client.cli.commands.task;\n+package org.apache.syncope.client.cli.commands.entitlement;\n \n-import org.apache.syncope.common.lib.SyncopeClientException;\n-import org.apache.syncope.common.lib.types.JobStatusType;\n+public abstract class AbstractEntitlementCommand {\n \n-public class TaskRunningJobs extends AbstractTaskCommand {\n+    protected final EntitlementSyncopeOperations entitlementSyncopeOperations = new EntitlementSyncopeOperations();\n \n-    public void list() {\n-        try {\n-            taskResultManager.printTaskExecTO(taskService.listJobs(JobStatusType.RUNNING));\n-        } catch (final SyncopeClientException ex) {\n-            taskResultManager.generic(ex.getMessage());\n-        }\n-    }\n+    protected final EntitlementResultManager entitlementResultManager = new EntitlementResultManager();\n \n }","previous_filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/task/TaskRunningJobs.java"},{"sha":"1dc49663df1ca809475536f5d0388462d9e94047","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/entitlement/EntitlementCommand.java","status":"added","additions":120,"deletions":0,"changes":120,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,120 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.entitlement;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.syncope.client.cli.Command;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.client.cli.commands.AbstractCommand;\n+\n+@Command(name = \"entitlement\")\n+public class EntitlementCommand extends AbstractCommand {\n+\n+    private static final String HELP_MESSAGE = \"Usage: entitlement [options]\\n\"\n+            + \"  Options:\\n\"\n+            + \"    --help \\n\"\n+            + \"    --list\\n\"\n+            + \"    --list-role\\n\"\n+            + \"       Syntax: --list-role {ENTITLEMENT-NAME}\\n\"\n+            + \"    --read-by-username\\n\"\n+            + \"       Syntax: --read-by-username {USERNAME}\\n\"\n+            + \"    --read-by-userid\\n\"\n+            + \"       Syntax: --read-by-userid {USER-ID}\\n\"\n+            + \"    --search-by-role\\n\"\n+            + \"       Syntax: --search-by-role {ROLE-ID}\";\n+\n+    @Override\n+    public void execute(final Input input) {\n+        if (StringUtils.isBlank(input.getOption())) {\n+            input.setOption(EntitlementOptions.HELP.getOptionName());\n+        }\n+\n+        switch (EntitlementOptions.fromName(input.getOption())) {\n+            case LIST:\n+                new EntitlementList(input).list();\n+                break;\n+            case READ_BY_USERNAME:\n+                new EntitlementReadByUsername(input).read();\n+                break;\n+            case READ_BY_USERID:\n+                new EntitlementReadByUserId(input).read();\n+                break;\n+            case SEARCH_BY_ROLE:\n+                new EntitlementSearchByRole(input).search();\n+                break;\n+            case LIST_ROLE:\n+                new EntitlementListRole(input).list();\n+                break;\n+            case HELP:\n+                System.out.println(HELP_MESSAGE);\n+                break;\n+            default:\n+                new EntitlementResultManager().defaultError(input.getOption(), HELP_MESSAGE);\n+        }\n+    }\n+\n+    @Override\n+    public String getHelpMessage() {\n+        return HELP_MESSAGE;\n+    }\n+\n+    private enum EntitlementOptions {\n+\n+        HELP(\"--help\"),\n+        LIST(\"--list\"),\n+        READ_BY_USERNAME(\"--read-by-username\"),\n+        READ_BY_USERID(\"--read-by-userid\"),\n+        SEARCH_BY_ROLE(\"--search-by-role\"),\n+        LIST_ROLE(\"--list-role\");\n+\n+        private final String optionName;\n+\n+        EntitlementOptions(final String optionName) {\n+            this.optionName = optionName;\n+        }\n+\n+        public String getOptionName() {\n+            return optionName;\n+        }\n+\n+        public boolean equalsOptionName(final String otherName) {\n+            return (otherName == null) ? false : optionName.equals(otherName);\n+        }\n+\n+        public static EntitlementOptions fromName(final String name) {\n+            EntitlementOptions optionToReturn = HELP;\n+            for (final EntitlementOptions option : EntitlementOptions.values()) {\n+                if (option.equalsOptionName(name)) {\n+                    optionToReturn = option;\n+                }\n+            }\n+            return optionToReturn;\n+        }\n+\n+        public static List<String> toList() {\n+            final List<String> options = new ArrayList<>();\n+            for (final EntitlementOptions value : values()) {\n+                options.add(value.getOptionName());\n+            }\n+            return options;\n+        }\n+    }\n+}"},{"sha":"e20482348ef9d9b1a302089c566c7755ded6ca17","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/entitlement/EntitlementList.java","status":"added","additions":40,"deletions":0,"changes":40,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementList.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,40 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.entitlement;\n+\n+import org.apache.syncope.client.cli.Input;\n+\n+public class EntitlementList extends AbstractEntitlementCommand {\n+\n+    private static final String READ_HELP_MESSAGE = \"entitlement --list\";\n+\n+    private final Input input;\n+\n+    public EntitlementList(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void list() {\n+        if (input.parameterNumber() == 0) {\n+            entitlementResultManager.toView(entitlementSyncopeOperations.list());\n+        } else {\n+            entitlementResultManager.unnecessaryParameters(input.listParameters(), READ_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"0b4144e0ed8cc05674d2e801a186097711820650","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/entitlement/EntitlementListRole.java","status":"added","additions":61,"deletions":0,"changes":61,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementListRole.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementListRole.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementListRole.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,61 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.entitlement;\n+\n+import java.util.Set;\n+import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.to.RoleTO;\n+\n+public class EntitlementListRole extends AbstractEntitlementCommand {\n+\n+    private static final String READ_HELP_MESSAGE = \"entitlement --list-role {ENTITLEMENT-NAME}\";\n+\n+    private final Input input;\n+\n+    public EntitlementListRole(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void list() {\n+        if (input.getParameters().length == 1) {\n+            try {\n+                final Set<RoleTO> roleTOs = entitlementSyncopeOperations.rolePerEntitlements(input.firstParameter());\n+                if (!entitlementSyncopeOperations.exists(input.firstParameter())) {\n+                    entitlementResultManager.notFoundError(\"Entitlement\", input.firstParameter());\n+                } else if (roleTOs != null && !roleTOs.isEmpty()) {\n+                    entitlementResultManager.rolesToView(roleTOs);\n+                } else {\n+                    entitlementResultManager.genericMessage(\"No roles found for entitlement \" + input.firstParameter());\n+                }\n+            } catch (final SyncopeClientException | WebServiceException ex) {\n+                if (ex.getMessage().startsWith(\"NotFound\")) {\n+                    entitlementResultManager.notFoundError(\"User\", input.firstParameter());\n+                } else {\n+                    entitlementResultManager.genericError(ex.getMessage());\n+                }\n+            } catch (final NumberFormatException ex) {\n+                entitlementResultManager.numberFormatException(\"user\", input.firstParameter());\n+            }\n+        } else {\n+            entitlementResultManager.commandOptionError(READ_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"3cd41cbaf540ed10ef402329c005025bb8198238","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/entitlement/EntitlementReadByUserId.java","status":"added","additions":53,"deletions":0,"changes":53,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementReadByUserId.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementReadByUserId.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementReadByUserId.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,53 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.entitlement;\n+\n+import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+\n+public class EntitlementReadByUserId extends AbstractEntitlementCommand {\n+\n+    private static final String READ_HELP_MESSAGE = \"entitlement --read-by-userid {USER-ID}\";\n+\n+    private final Input input;\n+\n+    public EntitlementReadByUserId(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void read() {\n+        if (input.getParameters().length == 1) {\n+            try {\n+                entitlementResultManager.toView(\n+                        entitlementSyncopeOperations.userIdEntitlements(input.firstParameter()));\n+            } catch (final SyncopeClientException | WebServiceException ex) {\n+                if (ex.getMessage().startsWith(\"NotFound\")) {\n+                    entitlementResultManager.notFoundError(\"User\", input.firstParameter());\n+                } else {\n+                    entitlementResultManager.genericError(ex.getMessage());\n+                }\n+            } catch (final NumberFormatException ex) {\n+                entitlementResultManager.numberFormatException(\"user\", input.firstParameter());\n+            }\n+        } else {\n+            entitlementResultManager.commandOptionError(READ_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"40a73fc8b6d98647ada644fe85b96f21833cc33a","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/entitlement/EntitlementReadByUsername.java","status":"added","additions":53,"deletions":0,"changes":53,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementReadByUsername.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementReadByUsername.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementReadByUsername.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,53 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.entitlement;\n+\n+import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+\n+public class EntitlementReadByUsername extends AbstractEntitlementCommand {\n+\n+    private static final String READ_HELP_MESSAGE = \"entitlement --read-by-username {USERNAME}\";\n+\n+    private final Input input;\n+\n+    public EntitlementReadByUsername(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void read() {\n+        if (input.getParameters().length == 1) {\n+            try {\n+                entitlementResultManager.toView(\n+                        entitlementSyncopeOperations.usernameEntitlements(input.firstParameter()));\n+            } catch (final SyncopeClientException | WebServiceException ex) {\n+                if (ex.getMessage().startsWith(\"NotFound\")) {\n+                    entitlementResultManager.notFoundError(\"User\", input.firstParameter());\n+                } else {\n+                    entitlementResultManager.genericError(ex.getMessage());\n+                }\n+            } catch (final NumberFormatException ex) {\n+                entitlementResultManager.numberFormatException(\"user\", input.firstParameter());\n+            }\n+        } else {\n+            entitlementResultManager.commandOptionError(READ_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"e6003adf5b9e48fb11c19be87ab4e7325f6fad90","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/entitlement/EntitlementResultManager.java","status":"added","additions":53,"deletions":0,"changes":53,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementResultManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementResultManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementResultManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,53 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.entitlement;\n+\n+import java.util.List;\n+import java.util.Set;\n+import org.apache.syncope.client.cli.commands.CommonsResultManager;\n+import org.apache.syncope.common.lib.to.RoleTO;\n+\n+public class EntitlementResultManager extends CommonsResultManager {\n+\n+    public void toView(final Set<String> entitlements) {\n+        for (final String entitlement : entitlements) {\n+            System.out.println(\"- \" + entitlement);\n+        }\n+    }\n+\n+    public void rolesToView(final Set<RoleTO> roles) {\n+        for (final RoleTO role : roles) {\n+            printRole(role);\n+        }\n+    }\n+\n+    private void printRole(final RoleTO roleTO) {\n+        System.out.println(\" > ROLE ID: \" + roleTO.getKey());\n+        System.out.println(\"    name: \" + roleTO.getName());\n+        System.out.println(\"    REALMS: \");\n+        printRealms(roleTO.getRealms());\n+        System.out.println(\"\");\n+    }\n+\n+    private void printRealms(final List<String> realms) {\n+        for (final String realm : realms) {\n+            System.out.println(\"       - \" + realm);\n+        }\n+    }\n+}"},{"sha":"91f982884f8b06d9c93c9fe6c5aeda097002152f","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/entitlement/EntitlementSearchByRole.java","status":"added","additions":53,"deletions":0,"changes":53,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementSearchByRole.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementSearchByRole.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementSearchByRole.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,53 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.entitlement;\n+\n+import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+\n+public class EntitlementSearchByRole extends AbstractEntitlementCommand {\n+\n+    private static final String READ_HELP_MESSAGE = \"entitlement --search-by-role {ROLE-ID}\";\n+\n+    private final Input input;\n+\n+    public EntitlementSearchByRole(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void search() {\n+        if (input.getParameters().length == 1) {\n+            try {\n+                entitlementResultManager.toView(\n+                        entitlementSyncopeOperations.entitlementsPerRole(input.firstParameter()));\n+            } catch (final SyncopeClientException | WebServiceException ex) {\n+                if (ex.getMessage().startsWith(\"NotFound\")) {\n+                    entitlementResultManager.notFoundError(\"User\", input.firstParameter());\n+                } else {\n+                    entitlementResultManager.genericError(ex.getMessage());\n+                }\n+            } catch (final NumberFormatException ex) {\n+                entitlementResultManager.numberFormatException(\"user\", input.firstParameter());\n+            }\n+        } else {\n+            entitlementResultManager.commandOptionError(READ_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"17c8eeeed00d97242a96a48eb745a6c2b0a23805","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/entitlement/EntitlementSyncopeOperations.java","status":"added","additions":74,"deletions":0,"changes":74,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementSyncopeOperations.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementSyncopeOperations.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fentitlement%2FEntitlementSyncopeOperations.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,74 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.entitlement;\n+\n+import java.util.HashSet;\n+import java.util.Set;\n+import java.util.TreeSet;\n+import org.apache.syncope.client.cli.commands.role.RoleSyncopeOperations;\n+import org.apache.syncope.client.cli.commands.user.UserSyncopeOperations;\n+import org.apache.syncope.common.lib.to.RoleTO;\n+import org.apache.syncope.common.lib.to.UserTO;\n+import org.apache.syncope.common.lib.types.Entitlement;\n+\n+public class EntitlementSyncopeOperations {\n+\n+    private final UserSyncopeOperations userSyncopeOperations = new UserSyncopeOperations();\n+\n+    private final RoleSyncopeOperations roleSyncopeOperations = new RoleSyncopeOperations();\n+\n+    public Set<String> list() {\n+        return Entitlement.values();\n+    }\n+    \n+    public boolean exists(final String entitlement) {\n+        return list().contains(entitlement);\n+    }\n+\n+    public Set<String> usernameEntitlements(final String username) {\n+        final Set<String> entitlements = new TreeSet<>();\n+        final UserTO userTO = userSyncopeOperations.read(userSyncopeOperations.getIdFromUsername(username));\n+        for (final Long role : userTO.getRoles()) {\n+            entitlements.addAll(roleSyncopeOperations.read(String.valueOf(role)).getEntitlements());\n+        }\n+        return entitlements;\n+    }\n+\n+    public Set<String> userIdEntitlements(final String userId) {\n+        final Set<String> entitlements = new TreeSet<>();\n+        final UserTO userTO = userSyncopeOperations.read(userId);\n+        for (final Long role : userTO.getRoles()) {\n+            entitlements.addAll(roleSyncopeOperations.read(String.valueOf(role)).getEntitlements());\n+        }\n+        return entitlements;\n+    }\n+\n+    public Set<String> entitlementsPerRole(final String roleId) {\n+        return roleSyncopeOperations.read(roleId).getEntitlements();\n+    }\n+\n+    public Set<RoleTO> rolePerEntitlements(final String entitlement) {\n+        final Set<RoleTO> roles = new HashSet<>();\n+        for (final RoleTO role : roleSyncopeOperations.list()) {\n+            role.getEntitlements().contains(entitlement);\n+            roles.add(role);\n+        }\n+        return roles;\n+    }\n+}"},{"sha":"0492a2632608c6c43d58284e66d440d86c528a95","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/help/Help.java","status":"modified","additions":4,"deletions":2,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fhelp%2FHelp.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fhelp%2FHelp.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fhelp%2FHelp.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -24,6 +24,8 @@\n \n public class Help {\n \n+    private final HelpResultManager helpResultManager = new HelpResultManager();\n+\n     public void help() {\n         final StringBuilder generalHelpBuilder = new StringBuilder(\"General help\\n\");\n         try {\n@@ -35,9 +37,9 @@ public void help() {\n                         .append(\"\\n\")\n                         .append(\" \\n\");\n             }\n-            System.out.println(generalHelpBuilder.toString());\n+            helpResultManager.toView(generalHelpBuilder.toString());\n         } catch (final IllegalAccessException | IllegalArgumentException | InstantiationException e) {\n-            new HelpResultManager().generic(e.getMessage());\n+            helpResultManager.genericMessage(e.getMessage());\n         }\n     }\n }"},{"sha":"b70664d3b438eba1869b84840028c119b56f9432","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/help/HelpResultManager.java","status":"modified","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fhelp%2FHelpResultManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fhelp%2FHelpResultManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fhelp%2FHelpResultManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -22,4 +22,7 @@\n \n public class HelpResultManager extends CommonsResultManager {\n \n+    public void toView(final String generalHelp) {\n+        System.out.println(generalHelp);\n+    }\n }"},{"sha":"4fa0163c006bce916a8bae9ace3fe93eadd087b3","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/info/Info.java","status":"modified","additions":51,"deletions":82,"changes":133,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Finfo%2FInfo.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Finfo%2FInfo.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Finfo%2FInfo.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -25,219 +25,188 @@\n public class Info {\n \n     private final SyncopeTO syncopeTO = SyncopeServices.get(SyncopeService.class).info();\n-    \n+\n     private final InfoResultManager infoResultManager = new InfoResultManager();\n \n     public void version() {\n         try {\n-            infoResultManager.generic(\"Syncope version: \" + syncopeTO.getVersion());\n+            infoResultManager.printVersion(syncopeTO.getVersion());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void pwdResetAllowed() {\n         try {\n-            infoResultManager.generic(\"Password reset allowed: \" + syncopeTO.isPwdResetAllowed());\n+            infoResultManager.printPwdResetAllowed(syncopeTO.isPwdResetAllowed());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void resetWithSecurityQuestion() {\n         try {\n-            infoResultManager.generic(\"Password reset requiring security question: \"\n-                    + syncopeTO.isPwdResetRequiringSecurityQuestions());\n+            infoResultManager.printPwdResetRequiringSecurityQuestions(syncopeTO.isPwdResetRequiringSecurityQuestions());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void selfRegistrationAllowed() {\n         try {\n-            infoResultManager.generic(\"Self registration allowed: \" + syncopeTO.isSelfRegAllowed());\n+            infoResultManager.printSelfRegistrationAllowed(syncopeTO.isSelfRegAllowed());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void provisioningManager() {\n         try {\n-            infoResultManager.generic(\n-                    \"Any object provisioning manager class: \" + syncopeTO.getAnyObjectProvisioningManager(),\n-                    \"User       provisioning manager class: \" + syncopeTO.getUserProvisioningManager(),\n-                    \"Group      provisioning manager class: \" + syncopeTO.getGroupProvisioningManager());\n+            infoResultManager.printProvisioningManager(\n+                    syncopeTO.getAnyObjectProvisioningManager(),\n+                    syncopeTO.getUserProvisioningManager(),\n+                    syncopeTO.getGroupProvisioningManager());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void workflowAdapter() {\n         try {\n-            infoResultManager.generic(\n-                    \"Any object workflow adapter class: \" + syncopeTO.getAnyObjectWorkflowAdapter(),\n-                    \"User       workflow adapter class: \" + syncopeTO.getUserWorkflowAdapter(),\n-                    \"Group      workflow adapter class: \" + syncopeTO.getGroupWorkflowAdapter());\n+            infoResultManager.printWorkflowAdapter(\n+                    syncopeTO.getAnyObjectWorkflowAdapter(),\n+                    syncopeTO.getUserWorkflowAdapter(),\n+                    syncopeTO.getGroupWorkflowAdapter());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void accountRules() {\n         try {\n-            for (final String accountRule : syncopeTO.getAccountRules()) {\n-                infoResultManager.generic(\"Account rule: \" + accountRule);\n-            }\n+            infoResultManager.printAccountRules(syncopeTO.getAccountRules());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void connidLocation() {\n         try {\n-            for (final String location : syncopeTO.getConnIdLocations()) {\n-                infoResultManager.generic(\"ConnId location: \" + location);\n-            }\n+            infoResultManager.printConnidLocations(syncopeTO.getConnIdLocations());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void logicActions() {\n         try {\n-            for (final String logic : syncopeTO.getLogicActions()) {\n-                infoResultManager.generic(\"Logic action: \" + logic);\n-            }\n+            infoResultManager.printLogicActions(syncopeTO.getLogicActions());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void mailTemplates() {\n         try {\n-            for (final String template : syncopeTO.getMailTemplates()) {\n-                infoResultManager.generic(\"Mail template: \" + template);\n-            }\n+            infoResultManager.printMailTemplates(syncopeTO.getMailTemplates());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void mappingItemTransformers() {\n         try {\n-            for (final String tranformer : syncopeTO.getMappingItemTransformers()) {\n-                infoResultManager.generic(\"Mapping item tranformer: \" + tranformer);\n-            }\n+            infoResultManager.printMappingItemTransformers(syncopeTO.getMappingItemTransformers());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void passwordRules() {\n         try {\n-            for (final String rules : syncopeTO.getPasswordRules()) {\n-                infoResultManager.generic(\"Password rule: \" + rules);\n-            }\n+            infoResultManager.printPasswordRules(syncopeTO.getPasswordRules());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void propagationActions() {\n         try {\n-            for (final String action : syncopeTO.getPropagationActions()) {\n-                infoResultManager.generic(\"Propagation action: \" + action);\n-            }\n+            infoResultManager.printPropagationActions(syncopeTO.getPropagationActions());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void pushActions() {\n         try {\n-            for (final String action : syncopeTO.getPushActions()) {\n-                infoResultManager.generic(\"Push action: \" + action);\n-            }\n+            infoResultManager.printPushActions(syncopeTO.getPushActions());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void pushCorrelationActions() {\n         try {\n-            for (final String rule : syncopeTO.getPushCorrelationRules()) {\n-                infoResultManager.generic(\"Push correlation rule: \" + rule);\n-            }\n+            infoResultManager.printCorrelationActions(syncopeTO.getPushCorrelationRules());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void reportlets() {\n         try {\n-            for (final String reportlet : syncopeTO.getReportlets()) {\n-                infoResultManager.generic(\"Reportlet: \" + reportlet);\n-            }\n+            infoResultManager.printReportlets(syncopeTO.getReportlets());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void syncActions() {\n         try {\n-            for (final String action : syncopeTO.getSyncActions()) {\n-                infoResultManager.generic(\"Sync action: \" + action);\n-            }\n+            infoResultManager.printSyncActions(syncopeTO.getSyncActions());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void syncCorrelationRules() {\n         try {\n-            for (final String rule : syncopeTO.getSyncCorrelationRules()) {\n-                infoResultManager.generic(\"Sync correlation rule: \" + rule);\n-            }\n+            infoResultManager.printCorrelationRules(syncopeTO.getSyncCorrelationRules());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void taskJobs() {\n         try {\n-            for (final String job : syncopeTO.getTaskJobs()) {\n-                infoResultManager.generic(\"Task job: \" + job);\n-            }\n+            infoResultManager.printJobs(syncopeTO.getTaskJobs());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void validators() {\n         try {\n-            for (final String validator : syncopeTO.getValidators()) {\n-                infoResultManager.generic(\"Validator: \" + validator);\n-            }\n+            infoResultManager.printValidators(syncopeTO.getValidators());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void passwordGenerators() {\n         try {\n-            infoResultManager.generic(\n-                    \"Password generator class: \" + syncopeTO.getPasswordGenerator());\n+            infoResultManager.printPasswordGenerator(syncopeTO.getPasswordGenerator());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n \n     public void virAttrCache() {\n         try {\n-            infoResultManager.generic(\n-                    \"Virtual attribute cache class: \" + syncopeTO.getVirAttrCache());\n+            infoResultManager.printVirtualAttributeCacheClass(syncopeTO.getVirAttrCache());\n         } catch (final Exception ex) {\n-            infoResultManager.generic(ex.getMessage());\n+            infoResultManager.genericError(ex.getMessage());\n         }\n     }\n }"},{"sha":"6ea04f765761bd0a53bc3fd5cc3ec4d0846b524b","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/info/InfoResultManager.java","status":"modified","additions":126,"deletions":0,"changes":126,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Finfo%2FInfoResultManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Finfo%2FInfoResultManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Finfo%2FInfoResultManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,8 +18,134 @@\n  */\n package org.apache.syncope.client.cli.commands.info;\n \n+import java.util.List;\n import org.apache.syncope.client.cli.commands.CommonsResultManager;\n \n public class InfoResultManager extends CommonsResultManager {\n \n+    public void printVersion(final String version) {\n+        genericMessage(\" - Syncope version: \" + version);\n+    }\n+\n+    public void printPwdResetAllowed(final boolean pwdResetAllowed) {\n+        genericMessage(\"Password reset allowed: \" + pwdResetAllowed);\n+    }\n+\n+    public void printPwdResetRequiringSecurityQuestions(final boolean pwdResetRequiringSecurityQuestions) {\n+        genericMessage(\"Password reset requiring security question: \" + pwdResetRequiringSecurityQuestions);\n+    }\n+\n+    public void printSelfRegistrationAllowed(final boolean selfRegAllowed) {\n+        genericMessage(\"Self registration allowed: \" + selfRegAllowed);\n+    }\n+\n+    public void printProvisioningManager(final String anyObjectProvisioningManager,\n+            final String getUserProvisioningManager,\n+            final String getGroupProvisioningManager) {\n+        genericMessage(\n+                \"Any object provisioning manager class: \" + anyObjectProvisioningManager,\n+                \"User provisioning manager class: \" + getUserProvisioningManager,\n+                \"Group provisioning manager class: \" + getGroupProvisioningManager);\n+    }\n+\n+    public void printWorkflowAdapter(final String anyObjectWorkflowAdapter,\n+            final String userWorkflowAdapter,\n+            final String groupWorkflowAdapter) {\n+        genericMessage(\n+                \"Any object workflow adapter class: \" + anyObjectWorkflowAdapter,\n+                \"User       workflow adapter class: \" + userWorkflowAdapter,\n+                \"Group      workflow adapter class: \" + groupWorkflowAdapter);\n+    }\n+\n+    public void printAccountRules(final List<String> rules) {\n+        for (final String accountRule : rules) {\n+            genericMessage(\"Account rule: \" + accountRule);\n+        }\n+    }\n+\n+    public void printConnidLocations(final List<String> locations) {\n+        for (final String location : locations) {\n+            genericMessage(\"ConnId location: \" + location);\n+        }\n+    }\n+\n+    public void printLogicActions(final List<String> actions) {\n+        for (final String action : actions) {\n+            genericMessage(\"Logic action: \" + action);\n+        }\n+    }\n+\n+    public void printMailTemplates(final List<String> mailTemplates) {\n+        for (final String template : mailTemplates) {\n+            genericMessage(\"Mail template: \" + template);\n+        }\n+    }\n+\n+    public void printMappingItemTransformers(final List<String> transformers) {\n+        for (final String tranformer : transformers) {\n+            genericMessage(\"Mapping item tranformer: \" + tranformer);\n+        }\n+    }\n+\n+    public void printPasswordRules(final List<String> rules) {\n+        for (final String rule : rules) {\n+            genericMessage(\"Password rule: \" + rule);\n+        }\n+    }\n+\n+    public void printCorrelationRules(final List<String> rules) {\n+        for (final String rule : rules) {\n+            genericMessage(\"Correlation rule: \" + rule);\n+        }\n+    }\n+\n+    public void printPropagationActions(final List<String> actions) {\n+        for (final String action : actions) {\n+            genericMessage(\"Propagation action: \" + action);\n+        }\n+    }\n+\n+    public void printPushActions(final List<String> actions) {\n+        for (final String action : actions) {\n+            genericMessage(\"Push action: \" + action);\n+        }\n+    }\n+\n+    public void printSyncActions(final List<String> actions) {\n+        for (final String action : actions) {\n+            genericMessage(\"Sync action: \" + action);\n+        }\n+    }\n+\n+    public void printCorrelationActions(final List<String> actions) {\n+        for (final String action : actions) {\n+            genericMessage(\"Push correlation rule: \" + action);\n+        }\n+    }\n+\n+    public void printReportlets(final List<String> reportlets) {\n+        for (final String reportlet : reportlets) {\n+            genericMessage(\"Reportlet: \" + reportlet);\n+        }\n+    }\n+\n+    public void printJobs(final List<String> jobs) {\n+        for (final String job : jobs) {\n+            genericMessage(\"Task job: \" + job);\n+        }\n+    }\n+\n+    public void printValidators(final List<String> validators) {\n+        for (final String validator : validators) {\n+            genericMessage(\"Validator: \" + validator);\n+        }\n+    }\n+\n+    public void printPasswordGenerator(final String passwordGenerator) {\n+        genericMessage(\"Password generator class: \" + passwordGenerator);\n+    }\n+    \n+    public void printVirtualAttributeCacheClass(final String virAttrCache) {\n+        genericMessage(\"Virtual attribute cache class: \" + virAttrCache);\n+    }\n }"},{"sha":"b9f4c836f4d2433b29a6e7900edd8fee451dc102","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/install/InstallCommand.java","status":"modified","additions":10,"deletions":3,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Finstall%2FInstallCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Finstall%2FInstallCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Finstall%2FInstallCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.client.cli.commands.install;\n \n+import java.io.FileNotFoundException;\n import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.client.cli.Command;\n import org.apache.syncope.client.cli.Input;\n@@ -26,6 +27,8 @@\n @Command(name = \"install\")\n public class InstallCommand extends AbstractCommand {\n \n+    private final InstallResultManager installResultManager = new InstallResultManager();\n+\n     private static final String HELP_MESSAGE = \"Usage: install [options]\\n\"\n             + \"  Options:\\n\"\n             + \"    --help \\n\"\n@@ -39,13 +42,18 @@ public void execute(final Input input) {\n \n         switch (Options.fromName(input.getOption())) {\n             case INSTALL:\n-                new InstallSetup().setup();\n+                try {\n+                    new InstallSetup().setup();\n+                } catch (final FileNotFoundException | IllegalAccessException ex) {\n+                    installResultManager.genericError(ex.getMessage());\n+                    break;\n+                }\n                 break;\n             case HELP:\n                 System.out.println(HELP_MESSAGE);\n                 break;\n             default:\n-                new InstallResultManager().defaultError(input.getOption(), HELP_MESSAGE);\n+                installResultManager.defaultError(input.getOption(), HELP_MESSAGE);\n         }\n     }\n \n@@ -83,5 +91,4 @@ public static Options fromName(final String name) {\n             return optionToReturn;\n         }\n     }\n-\n }"},{"sha":"39837bfa3e546aa93179ea29b33be0f83b6e077a","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/install/InstallResultManager.java","status":"modified","additions":10,"deletions":0,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Finstall%2FInstallResultManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Finstall%2FInstallResultManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Finstall%2FInstallResultManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -26,6 +26,16 @@\n \n public class InstallResultManager extends CommonsResultManager {\n \n+    public void printWelcome() {\n+        System.out.println(\"\");\n+        System.out.println(\"###############################################\");\n+        System.out.println(\"#                                             #\");\n+        System.out.println(\"# Welcome to Syncope CLI installation process #\");\n+        System.out.println(\"#                                             #\");\n+        System.out.println(\"###############################################\");\n+        System.out.println(\"\");\n+    }\n+\n     public void installationSuccessful(final String version) {\n         System.out.println(\"Installation parameters checked on Syncope core version: \" + version);\n         System.out.println(\"\");"},{"sha":"7e1eaec588a745a6d99392fa507d63ea7bca036c","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/install/InstallSetup.java","status":"modified","additions":8,"deletions":15,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Finstall%2FInstallSetup.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Finstall%2FInstallSetup.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Finstall%2FInstallSetup.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -44,29 +44,23 @@ public class InstallSetup {\n \n     private String syncopeServerRestContext = \"/syncope/rest/\";\n \n-    public InstallSetup() {\n-    }\n-\n-    public void setup() {\n-        final Scanner scanIn = new Scanner(System.in);\n-\n-        System.out.println(\"\");\n-        System.out.println(\"###############################################\");\n-        System.out.println(\"#                                             #\");\n-        System.out.println(\"# Welcome to Syncope CLI installation process #\");\n-        System.out.println(\"#                                             #\");\n-        System.out.println(\"###############################################\");\n-        System.out.println(\"\");\n+    public void setup() throws FileNotFoundException, IllegalAccessException {\n+        installResultManager.printWelcome();\n \n         System.out.println(\"Path to config files of Syncope CLI client will be: \"\n                 + InstallConfigFileTemplate.DIR_PATH);\n \n+        if (!FileSystemUtils.exists(InstallConfigFileTemplate.DIR_PATH)) {\n+            throw new FileNotFoundException(\"Directory: \" + InstallConfigFileTemplate.DIR_PATH + \" does not exists!\");\n+        }\n+\n         if (!FileSystemUtils.canWrite(InstallConfigFileTemplate.DIR_PATH)) {\n-            System.out.println(\"Permission denied on \" + InstallConfigFileTemplate.DIR_PATH);\n+            throw new IllegalAccessException(\"Permission denied on \" + InstallConfigFileTemplate.DIR_PATH);\n         }\n         System.out.println(\"- File system permission checked\");\n         System.out.println(\"\");\n \n+        final Scanner scanIn = new Scanner(System.in);\n         System.out.println(\"Syncope server schema [http/https]:\");\n         String syncopeServerSchemaFromSystemIn = scanIn.nextLine();\n         boolean schemaFounded = false;\n@@ -154,7 +148,6 @@ public void setup() {\n         scanIn.close();\n \n         final JasyptUtils jasyptUtils = JasyptUtils.getJasyptUtils();\n-\n         try {\n             FileSystemUtils.createNewDirectory(InstallConfigFileTemplate.DIR_PATH);\n             final String contentCliPropertiesFile = InstallConfigFileTemplate.createFile("},{"sha":"3e0978a66710e88ea8ced486c20b9d84e7a49e01","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/logger/AbstractLoggerCommand.java","status":"modified","additions":2,"deletions":5,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FAbstractLoggerCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FAbstractLoggerCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FAbstractLoggerCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,13 +18,10 @@\n  */\n package org.apache.syncope.client.cli.commands.logger;\n \n-import org.apache.syncope.client.cli.SyncopeServices;\n-import org.apache.syncope.common.rest.api.service.LoggerService;\n-\n public abstract class AbstractLoggerCommand {\n \n-    protected final LoggerService loggerService = SyncopeServices.get(LoggerService.class);\n-    \n+    protected final LoggerSyncopeOperations loggerSyncopeOperations = new LoggerSyncopeOperations();\n+\n     protected final LoggerResultManager loggerResultManager = new LoggerResultManager();\n \n }"},{"sha":"4d2a55e0069a60ccddb91ee91d2c3c61278c98c6","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/logger/LoggerCommand.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -51,7 +51,7 @@ public void execute(final Input input) {\n \n         switch (LoggerOptions.fromName(input.getOption())) {\n             case LIST:\n-                new LoggerList().list();\n+                new LoggerList(input).list();\n                 break;\n             case READ:\n                 new LoggerRead(input).read();\n@@ -123,5 +123,4 @@ public static List<String> toList() {\n             return options;\n         }\n     }\n-\n }"},{"sha":"221629526847ba3abb46def9d6e028796e082990","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/logger/LoggerCreate.java","status":"modified","additions":1,"deletions":3,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerCreate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerCreate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerCreate.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -25,7 +25,6 @@\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.to.LoggerTO;\n import org.apache.syncope.common.lib.types.LoggerLevel;\n-import org.apache.syncope.common.lib.types.LoggerType;\n \n public class LoggerCreate extends AbstractLoggerCommand {\n \n@@ -50,7 +49,7 @@ public void create() {\n                     pairParameter = input.toPairParameter(parameter);\n                     loggerTO.setKey(pairParameter.getKey());\n                     loggerTO.setLevel(LoggerLevel.valueOf(pairParameter.getValue()));\n-                    loggerService.update(LoggerType.LOG, loggerTO);\n+                    loggerSyncopeOperations.update(loggerTO);\n                     loggerTOs.add(loggerTO);\n                 } catch (final WebServiceException | SyncopeClientException | IllegalArgumentException ex) {\n                     loggerResultManager.typeNotValidError(\n@@ -66,5 +65,4 @@ public void create() {\n             loggerResultManager.commandOptionError(CREATE_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"88c30c587b4385f6cc2fdcdae67ecec65c1eaa3e","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/logger/LoggerDelete.java","status":"modified","additions":2,"deletions":4,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerDelete.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerDelete.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerDelete.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -21,7 +21,6 @@\n import javax.xml.ws.WebServiceException;\n import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n-import org.apache.syncope.common.lib.types.LoggerType;\n \n public class LoggerDelete extends AbstractLoggerCommand {\n \n@@ -37,19 +36,18 @@ public void delete() {\n         if (input.parameterNumber() >= 1) {\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    loggerService.delete(LoggerType.LOG, parameter);\n+                    loggerSyncopeOperations.delete(parameter);\n                     loggerResultManager.deletedMessage(\"Logger\", parameter);\n                 } catch (final WebServiceException | SyncopeClientException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         loggerResultManager.notFoundError(\"Logger\", parameter);\n                     } else {\n-                        loggerResultManager.generic(ex.getMessage());\n+                        loggerResultManager.genericError(ex.getMessage());\n                     }\n                 }\n             }\n         } else {\n             loggerResultManager.commandOptionError(DELETE_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"6a4bfecfb09a34697c1149f109f47fd081b495b5","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/logger/LoggerList.java","status":"modified","additions":15,"deletions":6,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerList.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -19,19 +19,28 @@\n package org.apache.syncope.client.cli.commands.logger;\n \n import java.util.LinkedList;\n+import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n-import org.apache.syncope.common.lib.types.LoggerType;\n \n public class LoggerList extends AbstractLoggerCommand {\n \n-    public LoggerList() {\n+    private static final String LIST_HELP_MESSAGE = \"logger --list\";\n+\n+    private final Input input;\n+\n+    public LoggerList(final Input input) {\n+        this.input = input;\n     }\n \n     public void list() {\n-        try {\n-            loggerResultManager.fromList(new LinkedList<>(loggerService.list(LoggerType.LOG)));\n-        } catch (final SyncopeClientException ex) {\n-            loggerResultManager.generic(\"Error: \" + ex.getMessage());\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                loggerResultManager.fromList(new LinkedList<>(loggerSyncopeOperations.list()));\n+            } catch (final SyncopeClientException ex) {\n+                loggerResultManager.genericError(ex.getMessage());\n+            }\n+        } else {\n+            loggerResultManager.unnecessaryParameters(input.listParameters(), LIST_HELP_MESSAGE);\n         }\n     }\n }"},{"sha":"321e257b134215b1ccc3f875b4bad39a1ef3d2fa","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/logger/LoggerRead.java","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerRead.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerRead.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerRead.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -23,7 +23,6 @@\n import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.to.LoggerTO;\n-import org.apache.syncope.common.lib.types.LoggerType;\n \n public class LoggerRead extends AbstractLoggerCommand {\n \n@@ -41,12 +40,12 @@ public void read() {\n             boolean failed = false;\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    loggerTOs.add(loggerService.read(LoggerType.LOG, parameter));\n+                    loggerTOs.add(loggerSyncopeOperations.read(parameter));\n                 } catch (final SyncopeClientException | WebServiceException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         loggerResultManager.notFoundError(\"Logger\", parameter);\n                     } else {\n-                        loggerResultManager.generic(\"Error: \" + ex.getMessage());\n+                        loggerResultManager.genericError(ex.getMessage());\n                     }\n                     failed = true;\n                     break;"},{"sha":"d6f759ce1260db19b7e2bed9b0d00b1a9685fe55","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/logger/LoggerResultManager.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerResultManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerResultManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerResultManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -57,5 +57,4 @@ private void fromCommandToView(final String title,\n         }\n         tableBuilder.build().print();\n     }\n-\n }"},{"sha":"14b7d188f7396adfde03ac8ca803fabce80afe1a","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/logger/LoggerSyncopeOperations.java","status":"added","additions":46,"deletions":0,"changes":46,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerSyncopeOperations.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerSyncopeOperations.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerSyncopeOperations.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,46 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.logger;\n+\n+import java.util.List;\n+import org.apache.syncope.client.cli.SyncopeServices;\n+import org.apache.syncope.common.lib.to.LoggerTO;\n+import org.apache.syncope.common.lib.types.LoggerType;\n+import org.apache.syncope.common.rest.api.service.LoggerService;\n+\n+public class LoggerSyncopeOperations {\n+\n+    private final LoggerService loggerService = SyncopeServices.get(LoggerService.class);\n+\n+    public List<LoggerTO> list() {\n+        return loggerService.list(LoggerType.LOG);\n+    }\n+\n+    public void update(final LoggerTO loggerTO) {\n+        loggerService.update(LoggerType.LOG, loggerTO);\n+    }\n+\n+    public LoggerTO read(final String loggerName) {\n+        return loggerService.read(LoggerType.LOG, loggerName);\n+    }\n+    \n+    public void delete(final String loggerName) {\n+        loggerService.delete(LoggerType.LOG, loggerName);\n+    }\n+}"},{"sha":"6f118e9d4977768d83363f66ba013ec100865cb5","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/logger/LoggerUpdate.java","status":"modified","additions":6,"deletions":5,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerUpdate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerUpdate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerUpdate.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -25,7 +25,6 @@\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.to.LoggerTO;\n import org.apache.syncope.common.lib.types.LoggerLevel;\n-import org.apache.syncope.common.lib.types.LoggerType;\n \n public class LoggerUpdate extends AbstractLoggerCommand {\n \n@@ -47,9 +46,9 @@ public void update() {\n             for (final String parameter : input.getParameters()) {\n                 try {\n                     pairParameter = input.toPairParameter(parameter);\n-                    loggerTO = loggerService.read(LoggerType.LOG, pairParameter.getKey());\n+                    loggerTO = loggerSyncopeOperations.read(pairParameter.getKey());\n                     loggerTO.setLevel(LoggerLevel.valueOf(pairParameter.getValue()));\n-                    loggerService.update(LoggerType.LOG, loggerTO);\n+                    loggerSyncopeOperations.update(loggerTO);\n                     loggerTOs.add(loggerTO);\n                 } catch (final WebServiceException | SyncopeClientException | IllegalArgumentException ex) {\n                     if (ex.getMessage().startsWith(\"No enum constant org.apache.syncope.common.lib.types.\")) {\n@@ -58,11 +57,13 @@ public void update() {\n                                 input.firstParameter(),\n                                 CommandUtils.fromEnumToArray(LoggerLevel.class));\n                     } else if (\"Parameter syntax error!\".equalsIgnoreCase(ex.getMessage())) {\n-                        loggerResultManager.generic(ex.getMessage(), UPDATE_HELP_MESSAGE);\n+                        loggerResultManager.genericError(ex.getMessage());\n+                        loggerResultManager.genericError(UPDATE_HELP_MESSAGE);\n                     } else if (ex.getMessage().startsWith(\"NotFound\")) {\n                         loggerResultManager.notFoundError(\"Logger\", parameter);\n                     } else {\n-                        loggerResultManager.generic(ex.getMessage(), UPDATE_HELP_MESSAGE);\n+                        loggerResultManager.genericError(ex.getMessage());\n+                        loggerResultManager.genericError(UPDATE_HELP_MESSAGE);\n                     }\n                     failed = true;\n                     break;"},{"sha":"981b2aa87bc3ac78faa50c39e1fc8223eabdb877","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/logger/LoggerUpdateAll.java","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerUpdateAll.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerUpdateAll.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Flogger%2FLoggerUpdateAll.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -25,7 +25,6 @@\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.to.LoggerTO;\n import org.apache.syncope.common.lib.types.LoggerLevel;\n-import org.apache.syncope.common.lib.types.LoggerType;\n \n public class LoggerUpdateAll extends AbstractLoggerCommand {\n \n@@ -41,10 +40,10 @@ public void updateAll() {\n         if (input.parameterNumber() == 1) {\n             final LinkedList<LoggerTO> loggerTOs = new LinkedList<>();\n             boolean failed = false;\n-            for (final LoggerTO loggerTO : loggerService.list(LoggerType.LOG)) {\n+            for (final LoggerTO loggerTO : loggerSyncopeOperations.list()) {\n                 try {\n                     loggerTO.setLevel(LoggerLevel.valueOf(input.firstParameter()));\n-                    loggerService.update(LoggerType.LOG, loggerTO);\n+                    loggerSyncopeOperations.update(loggerTO);\n                     loggerTOs.add(loggerTO);\n                 } catch (final WebServiceException | SyncopeClientException | IllegalArgumentException ex) {\n                     if (ex.getMessage().startsWith(\"No enum constant org.apache.syncope.common.lib.types.\")) {\n@@ -53,7 +52,8 @@ public void updateAll() {\n                                 input.firstParameter(),\n                                 CommandUtils.fromEnumToArray(LoggerLevel.class));\n                     } else {\n-                        loggerResultManager.generic(ex.getMessage(), UPDATE_ALL_HELP_MESSAGE);\n+                        loggerResultManager.genericError(ex.getMessage());\n+                        loggerResultManager.genericError(UPDATE_ALL_HELP_MESSAGE);\n                     }\n                     failed = true;\n                     break;"},{"sha":"a21f2cd8e452251e9410bd130d0610e9c29efba5","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/notification/AbstractNotificationCommand.java","status":"modified","additions":1,"deletions":4,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FAbstractNotificationCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FAbstractNotificationCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FAbstractNotificationCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,12 +18,9 @@\n  */\n package org.apache.syncope.client.cli.commands.notification;\n \n-import org.apache.syncope.client.cli.SyncopeServices;\n-import org.apache.syncope.common.rest.api.service.NotificationService;\n-\n public abstract class AbstractNotificationCommand {\n \n-    protected final NotificationService notificationService = SyncopeServices.get(NotificationService.class);\n+    protected final NotificationSyncopeOperations notificationSyncopeOperations = new NotificationSyncopeOperations();\n     \n     protected final NotificationResultManager notificationResultManager = new NotificationResultManager();\n "},{"sha":"ee0f77cb83ef3c9ae10b8ad1a18676493604ecc8","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/notification/NotificationCommand.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FNotificationCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FNotificationCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FNotificationCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -45,7 +45,7 @@ public void execute(final Input input) {\n \n         switch (Options.fromName(input.getOption())) {\n             case LIST:\n-                new NotificationList().list();\n+                new NotificationList(input).list();\n                 break;\n             case READ:\n                 new NotificationRead(input).read();\n@@ -105,5 +105,4 @@ public static List<String> toList() {\n             return options;\n         }\n     }\n-\n }"},{"sha":"4690d24b841bf3a9b91690611c971c0bb3ba479d","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/notification/NotificationDelete.java","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FNotificationDelete.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FNotificationDelete.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FNotificationDelete.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -20,7 +20,6 @@\n \n import javax.xml.ws.WebServiceException;\n import org.apache.syncope.client.cli.Input;\n-import org.apache.syncope.client.cli.view.Messages;\n import org.apache.syncope.common.lib.SyncopeClientException;\n \n public class NotificationDelete extends AbstractNotificationCommand {\n@@ -37,13 +36,13 @@ public void delete() {\n         if (input.parameterNumber() >= 1) {\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    notificationService.delete(Long.valueOf(parameter));\n+                    notificationSyncopeOperations.delete(parameter);\n                     notificationResultManager.deletedMessage(\"Notification\", parameter);\n                 } catch (final WebServiceException | SyncopeClientException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         notificationResultManager.notFoundError(\"Notification\", parameter);\n                     } else {\n-                        Messages.printMessage(ex.getMessage());\n+                        notificationResultManager.genericError(ex.getMessage());\n                     }\n                 } catch (final NumberFormatException ex) {\n                     notificationResultManager.notBooleanDeletedError(\"notification\", parameter);"},{"sha":"9341ae20352bbbf5e163e75fa61869b6e69d8b44","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/notification/NotificationList.java","status":"modified","additions":18,"deletions":5,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FNotificationList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FNotificationList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FNotificationList.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,18 +18,31 @@\n  */\n package org.apache.syncope.client.cli.commands.notification;\n \n+import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.to.NotificationTO;\n \n public class NotificationList extends AbstractNotificationCommand {\n \n+    private static final String LIST_HELP_MESSAGE = \"notification --list\";\n+\n+    private final Input input;\n+\n+    public NotificationList(final Input input) {\n+        this.input = input;\n+    }\n+\n     public void list() {\n-        try {\n-            for (final NotificationTO notificationTO : notificationService.list()) {\n-                System.out.println(notificationTO);\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                for (final NotificationTO notificationTO : notificationSyncopeOperations.list()) {\n+                    System.out.println(notificationTO);\n+                }\n+            } catch (final SyncopeClientException ex) {\n+                notificationResultManager.genericError(ex.getMessage());\n             }\n-        } catch (final SyncopeClientException ex) {\n-            notificationResultManager.generic(ex.getMessage());\n+        } else {\n+            notificationResultManager.unnecessaryParameters(input.listParameters(), LIST_HELP_MESSAGE);\n         }\n     }\n }"},{"sha":"d493fa51c4716468e9e7a6ba0e380f5cff6bd9c0","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/notification/NotificationRead.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FNotificationRead.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FNotificationRead.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FNotificationRead.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -36,14 +36,14 @@ public void read() {\n         if (input.parameterNumber() >= 1) {\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    System.out.println(notificationService.read(Long.valueOf(parameter)));\n+                    System.out.println(notificationSyncopeOperations.read(parameter));\n                 } catch (final NumberFormatException ex) {\n                     notificationResultManager.notBooleanDeletedError(\"notification\", parameter);\n                 } catch (final WebServiceException | SyncopeClientException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         notificationResultManager.notFoundError(\"Notification\", parameter);\n                     } else {\n-                        notificationResultManager.generic(ex.getMessage());\n+                        notificationResultManager.genericError(ex.getMessage());\n                     }\n                 }\n             }"},{"sha":"cb11cb51936bb5a4956dffbba7893a8ade5ff58a","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/notification/NotificationSyncopeOperations.java","status":"added","additions":41,"deletions":0,"changes":41,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FNotificationSyncopeOperations.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FNotificationSyncopeOperations.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fnotification%2FNotificationSyncopeOperations.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,41 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.notification;\n+\n+import java.util.List;\n+import org.apache.syncope.client.cli.SyncopeServices;\n+import org.apache.syncope.common.lib.to.NotificationTO;\n+import org.apache.syncope.common.rest.api.service.NotificationService;\n+\n+public class NotificationSyncopeOperations {\n+\n+    private final NotificationService notificationService = SyncopeServices.get(NotificationService.class);\n+\n+    public NotificationTO read(final String notificationId) {\n+        return notificationService.read(Long.valueOf(notificationId));\n+    }\n+\n+    public List<NotificationTO> list() {\n+        return notificationService.list();\n+    }\n+\n+    public void delete(final String notificationId) {\n+        notificationService.delete(Long.valueOf(notificationId));\n+    }\n+}"},{"sha":"0c8a55f1fa1af693898e6ca2b549383f688aeeb3","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/policy/AbstractPolicyCommand.java","status":"modified","additions":2,"deletions":5,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FAbstractPolicyCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FAbstractPolicyCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FAbstractPolicyCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,13 +18,10 @@\n  */\n package org.apache.syncope.client.cli.commands.policy;\n \n-import org.apache.syncope.client.cli.SyncopeServices;\n-import org.apache.syncope.common.rest.api.service.PolicyService;\n-\n public abstract class AbstractPolicyCommand {\n \n-    protected final PolicyService policyService = SyncopeServices.get(PolicyService.class);\n-    \n+    protected final PolicySyncopeOperations policySyncopeOperations = new PolicySyncopeOperations();\n+\n     protected final PolicyResultManager policyResultManager = new PolicyResultManager();\n \n }"},{"sha":"f6651139027e9f6d0dc9af5d9ec3485c18bb0e68","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/policy/PolicyCommand.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FPolicyCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FPolicyCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FPolicyCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -107,5 +107,4 @@ public static List<String> toList() {\n             return options;\n         }\n     }\n-\n }"},{"sha":"5dde82bc92f20bded7af24707cd581b3a64924ca","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/policy/PolicyDelete.java","status":"modified","additions":3,"deletions":5,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FPolicyDelete.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FPolicyDelete.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FPolicyDelete.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -36,16 +36,15 @@ public void delete() {\n         if (input.parameterNumber() >= 1) {\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    policyService.delete(Long.valueOf(parameter));\n+                    policySyncopeOperations.delete(parameter);\n                     policyResultManager.deletedMessage(\"Policy\", parameter);\n                 } catch (final WebServiceException | SyncopeClientException ex) {\n-                    System.out.println(\"Error:\");\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         policyResultManager.notFoundError(\"Policy\", parameter);\n                     } else if (ex.getMessage().startsWith(\"DataIntegrityViolation\")) {\n-                        policyResultManager.generic(\"You cannot delete policy \" + parameter);\n+                        policyResultManager.genericError(\"You cannot delete policy \" + parameter);\n                     } else {\n-                        policyResultManager.generic(ex.getMessage());\n+                        policyResultManager.genericError(ex.getMessage());\n                     }\n                 } catch (final NumberFormatException ex) {\n                     policyResultManager.notBooleanDeletedError(\"policy\", parameter);\n@@ -55,5 +54,4 @@ public void delete() {\n             policyResultManager.commandOptionError(DELETE_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"d23fa11aa799065404388e95cc457a94ba6ec02d","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/policy/PolicyList.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FPolicyList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FPolicyList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FPolicyList.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -42,12 +42,12 @@ public void list() {\n             try {\n                 final PolicyType policyType = PolicyType.valueOf(input.firstParameter());\n                 final LinkedList<AbstractPolicyTO> policyTOs = new LinkedList<>();\n-                for (final AbstractPolicyTO policyTO : policyService.list(policyType)) {\n+                for (final AbstractPolicyTO policyTO : policySyncopeOperations.list(policyType)) {\n                     policyTOs.add(policyTO);\n                 }\n                 policyResultManager.fromList(policyType, policyTOs);\n             } catch (final SyncopeClientException ex) {\n-                policyResultManager.generic(ex.getMessage());\n+                policyResultManager.genericError(ex.getMessage());\n             } catch (final IllegalArgumentException ex) {\n                 policyResultManager.typeNotValidError(\n                         \"policy\", input.firstParameter(), CommandUtils.fromEnumToArray(PolicyType.class));"},{"sha":"0a466e0610c6bc684e906ac1c5727b543556d7a9","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/policy/PolicyRead.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FPolicyRead.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FPolicyRead.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FPolicyRead.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -39,18 +39,18 @@ public void read() {\n             final LinkedList<AbstractPolicyTO> policyTOs = new LinkedList<>();\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    policyTOs.add(policyService.read(Long.valueOf(parameter)));\n-                    policyResultManager.fromRead(policyTOs);\n+                    policyTOs.add(policySyncopeOperations.read(parameter));\n                 } catch (final NumberFormatException ex) {\n                     policyResultManager.notBooleanDeletedError(\"policy\", parameter);\n                 } catch (final WebServiceException | SyncopeClientException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         policyResultManager.notFoundError(\"Policy\", parameter);\n                     } else {\n-                        policyResultManager.generic(ex.getMessage());\n+                        policyResultManager.genericError(ex.getMessage());\n                     }\n                 }\n             }\n+            policyResultManager.fromRead(policyTOs);\n         } else {\n             policyResultManager.commandOptionError(READ_HELP_MESSAGE);\n         }"},{"sha":"7c478f8c1df1f660af78a6ba79646f7bf9c5c3d6","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/policy/PolicySyncopeOperations.java","status":"added","additions":42,"deletions":0,"changes":42,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FPolicySyncopeOperations.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FPolicySyncopeOperations.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fpolicy%2FPolicySyncopeOperations.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,42 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.policy;\n+\n+import java.util.List;\n+import org.apache.syncope.client.cli.SyncopeServices;\n+import org.apache.syncope.common.lib.policy.AbstractPolicyTO;\n+import org.apache.syncope.common.lib.types.PolicyType;\n+import org.apache.syncope.common.rest.api.service.PolicyService;\n+\n+public class PolicySyncopeOperations {\n+\n+    private final PolicyService policyService = SyncopeServices.get(PolicyService.class);\n+\n+    public <T extends AbstractPolicyTO> T read(final String policyId) {\n+        return policyService.read(Long.valueOf(policyId));\n+    }\n+\n+    public <T extends AbstractPolicyTO> List<T> list(final PolicyType policyType) {\n+        return policyService.list(policyType);\n+    }\n+\n+    public void delete(final String policyId) {\n+        policyService.delete(Long.valueOf(policyId));\n+    }\n+}"},{"sha":"0a3846ae8a84231e5498cd2641bc45ccea845e8f","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/question/AbstractQuestionCommand.java","status":"renamed","additions":4,"deletions":7,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FAbstractQuestionCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FAbstractQuestionCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FAbstractQuestionCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -16,15 +16,12 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.common.lib.wrap;\n+package org.apache.syncope.client.cli.commands.question;\n \n-import javax.xml.bind.annotation.XmlRootElement;\n-import javax.xml.bind.annotation.XmlType;\n+public abstract class AbstractQuestionCommand {\n \n-@XmlRootElement(name = \"connIdObjectClass\")\n-@XmlType\n-public class ConnIdObjectClass extends AbstractWrappable<String> {\n+    protected final QuestionSyncopeOperations questionSyncopeOperations = new QuestionSyncopeOperations();\n \n-    private static final long serialVersionUID = 613925852330408531L;\n+    protected final QuestionResultManager questionResultManager = new QuestionResultManager();\n \n }","previous_filename":"common/lib/src/main/java/org/apache/syncope/common/lib/wrap/ConnIdObjectClass.java"},{"sha":"0259e309ee368ee512f85a1b918203cd5f3d1cc6","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/question/QuestionCommand.java","status":"added","additions":107,"deletions":0,"changes":107,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,107 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.question;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.syncope.client.cli.Command;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.client.cli.commands.AbstractCommand;\n+\n+@Command(name = \"question\")\n+public class QuestionCommand extends AbstractCommand {\n+\n+    private static final String HELP_MESSAGE = \"Usage: question [options]\\n\"\n+            + \"  Options:\\n\"\n+            + \"    --help \\n\"\n+            + \"    --list \\n\"\n+            + \"    --read \\n\"\n+            + \"       Syntax: --read {QUESTION-ID} {QUESTION-ID} [...]\\n\"\n+            + \"    --delete \\n\"\n+            + \"       Syntax: --delete {QUESTION-ID} {QUESTION-ID} [...]\";\n+\n+    @Override\n+    public void execute(final Input input) {\n+        if (StringUtils.isBlank(input.getOption())) {\n+            input.setOption(QuestionOptions.HELP.getOptionName());\n+        }\n+\n+        switch (QuestionOptions.fromName(input.getOption())) {\n+            case LIST:\n+                new QuestionList(input).list();\n+                break;\n+            case READ:\n+                new QuestionRead(input).read();\n+                break;\n+            case DELETE:\n+                break;\n+            case HELP:\n+                System.out.println(HELP_MESSAGE);\n+                break;\n+            default:\n+                new QuestionResultManager().defaultError(input.getOption(), HELP_MESSAGE);\n+        }\n+    }\n+\n+    @Override\n+    public String getHelpMessage() {\n+        return HELP_MESSAGE;\n+    }\n+\n+    private enum QuestionOptions {\n+\n+        HELP(\"--help\"),\n+        LIST(\"--list\"),\n+        READ(\"--read\"),\n+        DELETE(\"--delete\");\n+\n+        private final String optionName;\n+\n+        QuestionOptions(final String optionName) {\n+            this.optionName = optionName;\n+        }\n+\n+        public String getOptionName() {\n+            return optionName;\n+        }\n+\n+        public boolean equalsOptionName(final String otherName) {\n+            return (otherName == null) ? false : optionName.equals(otherName);\n+        }\n+\n+        public static QuestionOptions fromName(final String name) {\n+            QuestionOptions optionToReturn = HELP;\n+            for (final QuestionOptions option : QuestionOptions.values()) {\n+                if (option.equalsOptionName(name)) {\n+                    optionToReturn = option;\n+                }\n+            }\n+            return optionToReturn;\n+        }\n+\n+        public static List<String> toList() {\n+            final List<String> options = new ArrayList<>();\n+            for (final QuestionOptions value : values()) {\n+                options.add(value.getOptionName());\n+            }\n+            return options;\n+        }\n+    }\n+}"},{"sha":"29cff9daa675e451443c354365807407b32eda7d","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/question/QuestionDelete.java","status":"added","additions":56,"deletions":0,"changes":56,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionDelete.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionDelete.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionDelete.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,56 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.question;\n+\n+import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+\n+public class QuestionDelete extends AbstractQuestionCommand {\n+\n+    private static final String DELETE_HELP_MESSAGE = \"question --delete {QUESTION-ID} {QUESTION-ID} [...]\";\n+\n+    private final Input input;\n+\n+    public QuestionDelete(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void delete() {\n+        if (input.getParameters().length >= 1) {\n+            for (final String parameter : input.getParameters()) {\n+                try {\n+                    questionSyncopeOperations.delete(parameter);\n+                    questionResultManager.deletedMessage(\"security question\", parameter);\n+                } catch (final SyncopeClientException | WebServiceException ex) {\n+                    if (ex.getMessage().startsWith(\"NotFound\")) {\n+                        questionResultManager.notFoundError(\"Security question\", parameter);\n+                    } else {\n+                        questionResultManager.genericError(ex.getMessage());\n+                    }\n+                    break;\n+                } catch (final NumberFormatException ex) {\n+                    questionResultManager.numberFormatException(\"security question\", parameter);\n+                }\n+            }\n+        } else {\n+            questionResultManager.commandOptionError(DELETE_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"7d2e18d135c689ebff0906e7d2a21669bfd04c16","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/question/QuestionList.java","status":"added","additions":45,"deletions":0,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionList.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,45 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.question;\n+\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+\n+public class QuestionList extends AbstractQuestionCommand {\n+\n+    private static final String LIST_HELP_MESSAGE = \"question --list\";\n+\n+    private final Input input;\n+\n+    public QuestionList(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void list() {\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                questionResultManager.toView(questionSyncopeOperations.list());\n+            } catch (final SyncopeClientException ex) {\n+                questionResultManager.genericError(ex.getMessage());\n+            }\n+        } else {\n+            questionResultManager.unnecessaryParameters(input.listParameters(), LIST_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"306f4497c0deabcfe344cb4829dd4432c5ed7466","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/question/QuestionRead.java","status":"added","additions":60,"deletions":0,"changes":60,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionRead.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionRead.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionRead.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,60 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.question;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.to.SecurityQuestionTO;\n+\n+public class QuestionRead extends AbstractQuestionCommand {\n+\n+    private static final String READ_HELP_MESSAGE = \"question --read {QUESTION-ID} {QUESTION-ID} [...]\";\n+\n+    private final Input input;\n+\n+    public QuestionRead(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void read() {\n+        if (input.getParameters().length >= 1) {\n+            final List<SecurityQuestionTO> questionTOs = new ArrayList<>();\n+            for (final String parameter : input.getParameters()) {\n+                try {\n+                    questionTOs.add(questionSyncopeOperations.read(parameter));\n+                } catch (final SyncopeClientException | WebServiceException ex) {\n+                    if (ex.getMessage().startsWith(\"NotFound\")) {\n+                        questionResultManager.notFoundError(\"Security question\", parameter);\n+                    } else {\n+                        questionResultManager.genericError(ex.getMessage());\n+                    }\n+                    break;\n+                } catch (final NumberFormatException ex) {\n+                    questionResultManager.numberFormatException(\"security question\", parameter);\n+                }\n+            }\n+            questionResultManager.toView(questionTOs);\n+        } else {\n+            questionResultManager.commandOptionError(READ_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"761b56bb2a2b8fc6a45e448b33c438ce5b0aadea","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/question/QuestionResultManager.java","status":"added","additions":38,"deletions":0,"changes":38,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionResultManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionResultManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionResultManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,38 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.question;\n+\n+import java.util.List;\n+import org.apache.syncope.client.cli.commands.CommonsResultManager;\n+import org.apache.syncope.common.lib.to.SecurityQuestionTO;\n+\n+public class QuestionResultManager extends CommonsResultManager {\n+\n+    public void toView(final List<SecurityQuestionTO> questionTOs) {\n+        for (final SecurityQuestionTO questionTO : questionTOs) {\n+            printQuestion(questionTO);\n+        }\n+    }\n+\n+    public void printQuestion(final SecurityQuestionTO securityQuestionTO) {\n+        System.out.println(\" > SECURITY QUESTION ID: \" + securityQuestionTO.getKey());\n+        System.out.println(\"    content: \" + securityQuestionTO.getContent());\n+        System.out.println(\"\");\n+    }\n+}"},{"sha":"8caced7021283e92c80ffa7601f31d0f6433f9e8","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/question/QuestionSyncopeOperations.java","status":"added","additions":45,"deletions":0,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionSyncopeOperations.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionSyncopeOperations.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fquestion%2FQuestionSyncopeOperations.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,45 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.question;\n+\n+import java.util.List;\n+import org.apache.syncope.client.cli.SyncopeServices;\n+import org.apache.syncope.common.lib.to.SecurityQuestionTO;\n+import org.apache.syncope.common.rest.api.service.SecurityQuestionService;\n+\n+public class QuestionSyncopeOperations {\n+\n+    private final SecurityQuestionService securityQuestionService = SyncopeServices.get(SecurityQuestionService.class);\n+\n+    public List<SecurityQuestionTO> list() {\n+        return securityQuestionService.list();\n+    }\n+\n+    public void delete(final String questionId) {\n+        securityQuestionService.delete(Long.valueOf(questionId));\n+    }\n+\n+    public SecurityQuestionTO read(final String questionId) {\n+        return securityQuestionService.read(Long.valueOf(questionId));\n+    }\n+    \n+    public SecurityQuestionTO readByUser(final String username) {\n+        return securityQuestionService.readByUser(username);\n+    }\n+}"},{"sha":"06cd1badb4191fced577a34a078e95906545295b","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/realm/AbstractRealmCommand.java","status":"renamed","additions":4,"deletions":7,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frealm%2FAbstractRealmCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frealm%2FAbstractRealmCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frealm%2FAbstractRealmCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -16,15 +16,12 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.common.lib.wrap;\n+package org.apache.syncope.client.cli.commands.realm;\n \n-import javax.xml.bind.annotation.XmlRootElement;\n-import javax.xml.bind.annotation.XmlType;\n+public abstract class AbstractRealmCommand {\n \n-@XmlRootElement(name = \"anyKey\")\n-@XmlType\n-public class AnyKey extends AbstractWrappable<Long> {\n+    protected final RealmSyncopeOperations realmSyncopeOperations = new RealmSyncopeOperations();\n \n-    private static final long serialVersionUID = -8664228651057889297L;\n+    protected final RealmResultManager realmResultManager = new RealmResultManager();\n \n }","previous_filename":"common/lib/src/main/java/org/apache/syncope/common/lib/wrap/AnyKey.java"},{"sha":"95b8ec475e6fd54d7195f92929866400c865c20d","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/realm/RealmCommand.java","status":"added","additions":95,"deletions":0,"changes":95,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frealm%2FRealmCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frealm%2FRealmCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frealm%2FRealmCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,95 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.realm;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.syncope.client.cli.Command;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.client.cli.commands.AbstractCommand;\n+\n+@Command(name = \"realm\")\n+public class RealmCommand extends AbstractCommand {\n+\n+    private static final String HELP_MESSAGE = \"Usage: realm [options]\\n\"\n+            + \"  Options:\\n\"\n+            + \"    --help \\n\"\n+            + \"    --list \\n\";\n+\n+    @Override\n+    public void execute(final Input input) {\n+        if (StringUtils.isBlank(input.getOption())) {\n+            input.setOption(Options.HELP.getOptionName());\n+        }\n+        switch (Options.fromName(input.getOption())) {\n+            case LIST:\n+                new RealmList(input).list();\n+                break;\n+            case HELP:\n+                System.out.println(HELP_MESSAGE);\n+                break;\n+            default:\n+                new RealmResultManager().deletedMessage(input.getOption(), HELP_MESSAGE);\n+        }\n+    }\n+\n+    @Override\n+    public String getHelpMessage() {\n+        return HELP_MESSAGE;\n+    }\n+\n+    private enum Options {\n+\n+        HELP(\"--help\"),\n+        LIST(\"--list\");\n+\n+        private final String optionName;\n+\n+        Options(final String optionName) {\n+            this.optionName = optionName;\n+        }\n+\n+        public String getOptionName() {\n+            return optionName;\n+        }\n+\n+        public boolean equalsOptionName(final String otherName) {\n+            return (otherName == null) ? false : optionName.equals(otherName);\n+        }\n+\n+        public static Options fromName(final String name) {\n+            Options optionToReturn = HELP;\n+            for (final Options option : Options.values()) {\n+                if (option.equalsOptionName(name)) {\n+                    optionToReturn = option;\n+                }\n+            }\n+            return optionToReturn;\n+        }\n+\n+        public static List<String> toList() {\n+            final List<String> options = new ArrayList<>();\n+            for (final Options value : values()) {\n+                options.add(value.getOptionName());\n+            }\n+            return options;\n+        }\n+    }\n+}"},{"sha":"51b5fe4eaeb27c4b9f747cae17dbde5b997be03f","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/realm/RealmList.java","status":"added","additions":45,"deletions":0,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frealm%2FRealmList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frealm%2FRealmList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frealm%2FRealmList.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,45 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.realm;\n+\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+\n+public class RealmList extends AbstractRealmCommand {\n+\n+    private static final String LIST_HELP_MESSAGE = \"realm --list\";\n+\n+    private final Input input;\n+\n+    public RealmList(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void list() {\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                realmResultManager.toView(realmSyncopeOperations.list());\n+            } catch (final SyncopeClientException ex) {\n+                realmResultManager.genericError(ex.getMessage());\n+            }\n+        } else {\n+            realmResultManager.unnecessaryParameters(input.listParameters(), LIST_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"bbb46d9b6a61291243f4dfb06c1de1ac3791960c","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/realm/RealmResultManager.java","status":"added","additions":39,"deletions":0,"changes":39,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frealm%2FRealmResultManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frealm%2FRealmResultManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frealm%2FRealmResultManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,39 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.realm;\n+\n+import java.util.List;\n+import org.apache.syncope.client.cli.commands.CommonsResultManager;\n+import org.apache.syncope.common.lib.to.RealmTO;\n+\n+public class RealmResultManager extends CommonsResultManager {\n+\n+    public void toView(final List<RealmTO> realmTOs) {\n+        for (final RealmTO realmTO : realmTOs) {\n+            System.out.println(\" > REALM ID: \" + realmTO.getKey());\n+            System.out.println(\"    name: \" + realmTO.getName());\n+            System.out.println(\"    full path: \" + realmTO.getFullPath());\n+            System.out.println(\"    actions: \" + realmTO.getActionsClassNames());\n+            System.out.println(\"    templates: \" + realmTO.getTemplates());\n+            System.out.println(\"    parent id: \" + realmTO.getParent());\n+            System.out.println(\"    account policy id: \" + realmTO.getAccountPolicy());\n+            System.out.println(\"    password policy id: \" + realmTO.getPasswordPolicy());\n+        }\n+    }\n+}"},{"sha":"19af12f7709e9d7e15be8c509185129e3502013c","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/realm/RealmSyncopeOperations.java","status":"added","additions":43,"deletions":0,"changes":43,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frealm%2FRealmSyncopeOperations.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frealm%2FRealmSyncopeOperations.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frealm%2FRealmSyncopeOperations.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,43 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.realm;\n+\n+import java.util.List;\n+import org.apache.syncope.client.cli.SyncopeServices;\n+import org.apache.syncope.common.lib.to.RealmTO;\n+import org.apache.syncope.common.rest.api.service.RealmService;\n+\n+public class RealmSyncopeOperations {\n+\n+    private final RealmService realmService = SyncopeServices.get(RealmService.class);\n+\n+    public List<RealmTO> list() {\n+        return realmService.list();\n+    }\n+\n+    public boolean exists(final String realm) {\n+        boolean exists = false;\n+        for (final RealmTO list : list()) {\n+            if (list.getName().equals(realm)) {\n+                exists = true;\n+            }\n+        }\n+        return exists;\n+    }\n+}"},{"sha":"38a7b2f91d262acf4bba0be15641092e60d97403","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/report/AbstractReportCommand.java","status":"modified","additions":1,"deletions":4,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FAbstractReportCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FAbstractReportCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FAbstractReportCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,12 +18,9 @@\n  */\n package org.apache.syncope.client.cli.commands.report;\n \n-import org.apache.syncope.client.cli.SyncopeServices;\n-import org.apache.syncope.common.rest.api.service.ReportService;\n-\n public abstract class AbstractReportCommand {\n \n-    protected final ReportService reportService = SyncopeServices.get(ReportService.class);\n+    protected final ReportSyncopeOperations reportSyncopeOperations = new ReportSyncopeOperations();\n \n     protected final ReportResultManager reportResultManager = new ReportResultManager();\n "},{"sha":"ac67fcf539adb34869b0555d63afcd183ac922ae","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/report/ReportCommand.java","status":"modified","additions":3,"deletions":2,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -32,6 +32,7 @@ public class ReportCommand extends AbstractCommand {\n             + \"  Options:\\n\"\n             + \"    --help \\n\"\n             + \"    --list \\n\"\n+            + \"    --list-jobs \\n\"\n             + \"    --read \\n\"\n             + \"       Syntax: --read {REPORT-ID} {REPORT-ID} [...] \\n\"\n             + \"    --delete \\n\"\n@@ -54,10 +55,10 @@ public void execute(final Input input) {\n \n         switch (Options.fromName(input.getOption())) {\n             case LIST:\n-                new ReportList().list();\n+                new ReportList(input).list();\n                 break;\n             case LIST_JOBS:\n-                new ReportListJobs().list();\n+                new ReportListJobs(input).list();\n                 break;\n             case READ:\n                 new ReportRead(input).read();"},{"sha":"52850bde2110d508170f00a6a81d7286835f7c65","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/report/ReportDelete.java","status":"modified","additions":4,"deletions":5,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportDelete.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportDelete.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportDelete.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -36,23 +36,22 @@ public void delete() {\n         if (input.parameterNumber() >= 1) {\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    reportService.delete(Long.valueOf(parameter));\n+                    reportSyncopeOperations.delete(parameter);\n                     reportResultManager.deletedMessage(\"Report\", parameter);\n                 } catch (final WebServiceException | SyncopeClientException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         reportResultManager.notFoundError(\"Report\", parameter);\n                     } else if (ex.getMessage().startsWith(\"DataIntegrityViolation\")) {\n-                        reportResultManager.generic(\"You cannot delete report \" + parameter);\n+                        reportResultManager.genericError(\"You cannot delete report \" + parameter);\n                     } else {\n-                        reportResultManager.generic(ex.getMessage());\n+                        reportResultManager.genericError(ex.getMessage());\n                     }\n                 } catch (final NumberFormatException ex) {\n-                    reportResultManager.managerNumberFormatException(\"report\", parameter);\n+                    reportResultManager.numberFormatException(\"report\", parameter);\n                 }\n             }\n         } else {\n             reportResultManager.commandOptionError(DELETE_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"3ae7bb7c72400e409bd2a29cb33e5e72969b82b4","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/report/ReportDeleteExecution.java","status":"modified","additions":4,"deletions":7,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportDeleteExecution.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportDeleteExecution.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportDeleteExecution.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -34,28 +34,25 @@ public ReportDeleteExecution(final Input input) {\n     }\n \n     public void delete() {\n-\n         if (input.parameterNumber() >= 1) {\n             for (final String parameter : input.getParameters()) {\n-\n                 try {\n-                    reportService.deleteExecution(Long.valueOf(parameter));\n+                    reportSyncopeOperations.deleteExecution(parameter);\n                     reportResultManager.deletedMessage(\"Report execution\", parameter);\n                 } catch (final WebServiceException | SyncopeClientException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         reportResultManager.notFoundError(\"Report\", parameter);\n                     } else if (ex.getMessage().startsWith(\"DataIntegrityViolation\")) {\n-                        reportResultManager.generic(\"You cannot delete report \" + parameter);\n+                        reportResultManager.genericError(\"You cannot delete report \" + parameter);\n                     } else {\n-                        reportResultManager.generic(ex.getMessage());\n+                        reportResultManager.genericError(ex.getMessage());\n                     }\n                 } catch (final NumberFormatException ex) {\n-                    reportResultManager.managerNumberFormatException(\"report\", parameter);\n+                    reportResultManager.numberFormatException(\"report\", parameter);\n                 }\n             }\n         } else {\n             reportResultManager.commandOptionError(DELETE_EXECUTION_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"f8a4f6d65c2f0ca4be0d90b32603a2b37e3decfe","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/report/ReportExecute.java","status":"modified","additions":5,"deletions":8,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportExecute.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportExecute.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportExecute.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -37,28 +37,25 @@ public ReportExecute(final Input input) {\n \n     public void execute() {\n         if (input.parameterNumber() == 1) {\n-\n             try {\n-                final Long reportIdToExecute = Long.valueOf(input.firstParameter());\n-                reportService.execute(reportIdToExecute);\n+                reportSyncopeOperations.execute(input.firstParameter());\n                 final List<ReportExecTO> executionList\n-                        = reportService.read(reportIdToExecute).getExecutions();\n+                        = reportSyncopeOperations.read(input.firstParameter()).getExecutions();\n                 final ReportExecTO lastExecution = executionList.get(executionList.size() - 1);\n                 reportResultManager.printReportExecution(Arrays.asList(lastExecution));\n             } catch (final WebServiceException | SyncopeClientException ex) {\n                 if (ex.getMessage().startsWith(\"NotFound\")) {\n                     reportResultManager.notFoundError(\"Report\", input.firstParameter());\n                 } else if (ex.getMessage().startsWith(\"DataIntegrityViolation\")) {\n-                    reportResultManager.generic(\"You cannot delete report \" + input.firstParameter());\n+                    reportResultManager.genericError(\"You cannot delete report \" + input.firstParameter());\n                 } else {\n-                    reportResultManager.generic(ex.getMessage());\n+                    reportResultManager.genericError(ex.getMessage());\n                 }\n             } catch (final NumberFormatException ex) {\n-                reportResultManager.managerNumberFormatException(\"report\", input.firstParameter());\n+                reportResultManager.numberFormatException(\"report\", input.firstParameter());\n             }\n         } else {\n             reportResultManager.commandOptionError(EXECUTE_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"e7aca1ec75b211d13cd3dbaffbc342144d3d5c97","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/report/ReportExportExecution.java","status":"modified","additions":13,"deletions":15,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportExportExecution.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportExportExecution.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportExportExecution.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -49,42 +49,41 @@ public void export() {\n             for (final String parameter : parameters) {\n                 try {\n                     final ReportExecExportFormat format = ReportExecExportFormat.valueOf(input.lastParameter());\n-                    final Long exportId = Long.valueOf(parameter);\n-                    final SequenceInputStream report = (SequenceInputStream) reportService.\n-                            exportExecutionResult(exportId, format).getEntity();\n+                    final SequenceInputStream report = (SequenceInputStream) reportSyncopeOperations.\n+                            exportExecutionResult(parameter, format).getEntity();\n                     switch (format) {\n                         case XML:\n-                            final String xmlFinalName = \"export_\" + exportId + \".xml\";\n+                            final String xmlFinalName = \"export_\" + parameter + \".xml\";\n                             XMLUtils.createXMLFile(report, xmlFinalName);\n-                            reportResultManager.generic(xmlFinalName + \" successfully created\");\n+                            reportResultManager.genericMessage(xmlFinalName + \" successfully created\");\n                             break;\n                         case CSV:\n-                            reportResultManager.generic(format + \" doesn't supported\");\n+                            reportResultManager.genericError(format + \" doesn't supported\");\n                             break;\n                         case PDF:\n-                            reportResultManager.generic(format + \" doesn't supported\");\n+                            reportResultManager.genericError(format + \" doesn't supported\");\n                             break;\n                         case HTML:\n-                            reportResultManager.generic(format + \" doesn't supported\");\n+                            reportResultManager.genericError(format + \" doesn't supported\");\n                             break;\n                         case RTF:\n-                            reportResultManager.generic(format + \" doesn't supported\");\n+                            reportResultManager.genericError(format + \" doesn't supported\");\n                             break;\n                         default:\n-                            reportResultManager.generic(format + \" doesn't supported\");\n+                            reportResultManager.genericError(format + \" doesn't supported\");\n                             break;\n                     }\n                 } catch (final WebServiceException | SyncopeClientException ex) {\n-                    ex.printStackTrace();\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         reportResultManager.notFoundError(\"Report\", parameter);\n                     } else {\n-                        reportResultManager.generic(ex.getMessage());\n+                        reportResultManager.genericError(ex.getMessage());\n                     }\n                 } catch (final NumberFormatException ex) {\n-                    reportResultManager.managerNumberFormatException(\"report\", parameter);\n+                    reportResultManager.numberFormatException(\"report\", parameter);\n                 } catch (IOException | ParserConfigurationException | SAXException | TransformerException e) {\n-                    reportResultManager.generic(\" - Error creating \" + \"export_\" + parameter + \" \" + e.getMessage());\n+                    reportResultManager.genericError(\n+                            \" - Error creating \" + \"export_\" + parameter + \" \" + e.getMessage());\n                 } catch (final IllegalArgumentException ex) {\n                     reportResultManager.typeNotValidError(\n                             \"format\", input.firstParameter(),\n@@ -96,5 +95,4 @@ public void export() {\n             reportResultManager.commandOptionError(EXPORT_EXECUTION_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"abeaf4e30f7ebcc333aa388fc2c1c9ba17efad39","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/report/ReportList.java","status":"modified","additions":17,"deletions":5,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportList.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,16 +18,28 @@\n  */\n package org.apache.syncope.client.cli.commands.report;\n \n+import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n \n public class ReportList extends AbstractReportCommand {\n \n+    private static final String LIST_HELP_MESSAGE = \"report --list\";\n+\n+    private final Input input;\n+\n+    public ReportList(final Input input) {\n+        this.input = input;\n+    }\n+\n     public void list() {\n-        try {\n-            reportResultManager.fromValueToView(reportService.list());\n-        } catch (final SyncopeClientException ex) {\n-            reportResultManager.generic(ex.getMessage());\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                reportResultManager.fromValueToView(reportSyncopeOperations.list());\n+            } catch (final SyncopeClientException ex) {\n+                reportResultManager.genericMessage(ex.getMessage());\n+            }\n+        } else {\n+            reportResultManager.unnecessaryParameters(input.listParameters(), LIST_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"2735f85ca3f297a6a3fdc4b3d368b96bb4e75d08","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/report/ReportListJobs.java","status":"modified","additions":18,"deletions":5,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportListJobs.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportListJobs.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportListJobs.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,18 +18,31 @@\n  */\n package org.apache.syncope.client.cli.commands.report;\n \n+import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.types.JobStatusType;\n \n public class ReportListJobs extends AbstractReportCommand {\n \n+    private static final String LIST_HELP_MESSAGE = \"report --list-jobs\";\n+\n+    private final Input input;\n+\n+    public ReportListJobs(final Input input) {\n+        this.input = input;\n+    }\n+\n     public void list() {\n-        try {\n-            for (final JobStatusType jobStatusType : JobStatusType.values()) {\n-                reportResultManager.printReportExecution(reportService.listJobs(jobStatusType));\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                for (final JobStatusType jobStatusType : JobStatusType.values()) {\n+                    reportResultManager.printReportExecution(reportSyncopeOperations.listJobs(jobStatusType));\n+                }\n+            } catch (final SyncopeClientException ex) {\n+                reportResultManager.genericError(ex.getMessage());\n             }\n-        } catch (final SyncopeClientException ex) {\n-            reportResultManager.generic(ex.getMessage());\n+        } else {\n+            reportResultManager.unnecessaryParameters(input.listParameters(), LIST_HELP_MESSAGE);\n         }\n     }\n }"},{"sha":"acd5da0457b989fc8b9adf0d99592cf7fb6b4acd","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/report/ReportRead.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportRead.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportRead.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportRead.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -40,14 +40,14 @@ public void read() {\n             final List<ReportTO> reportTOs = new ArrayList<>();\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    reportTOs.add(reportService.read(Long.valueOf(parameter)));\n+                    reportTOs.add(reportSyncopeOperations.read(parameter));\n                 } catch (final NumberFormatException ex) {\n-                    reportResultManager.managerNumberFormatException(\"report\", parameter);\n+                    reportResultManager.numberFormatException(\"report\", parameter);\n                 } catch (final WebServiceException | SyncopeClientException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         reportResultManager.notFoundError(\"Report\", parameter);\n                     } else {\n-                        reportResultManager.generic(ex.getMessage());\n+                        reportResultManager.genericError(ex.getMessage());\n                     }\n                 }\n             }"},{"sha":"f7c9ec32698758411ebf183bffa32df6f95c6fd6","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/report/ReportReadExecution.java","status":"modified","additions":3,"deletions":5,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportReadExecution.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportReadExecution.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportReadExecution.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -41,22 +41,20 @@ public void read() {\n             final List<ReportExecTO> reportExecTOs = new ArrayList<>();\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    reportExecTOs.add(reportService.readExecution(Long.valueOf(parameter)));\n+                    reportExecTOs.add(reportSyncopeOperations.readExecution(parameter));\n                 } catch (final WebServiceException | SyncopeClientException ex) {\n-                    System.out.println(\"Error:\");\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         reportResultManager.notFoundError(\"Report\", parameter);\n                     } else {\n-                        reportResultManager.generic(ex.getMessage());\n+                        reportResultManager.genericError(ex.getMessage());\n                     }\n                 } catch (final NumberFormatException ex) {\n-                    reportResultManager.managerNumberFormatException(\"report\", parameter);\n+                    reportResultManager.numberFormatException(\"report\", parameter);\n                 }\n             }\n             reportResultManager.printReportExecution(reportExecTOs);\n         } else {\n             reportResultManager.commandOptionError(READ_EXECUTION_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"1cf4514099f425c386d33f8c3857b0031bc6f406","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/report/ReportSyncopeOperations.java","status":"added","additions":65,"deletions":0,"changes":65,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportSyncopeOperations.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportSyncopeOperations.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Freport%2FReportSyncopeOperations.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,65 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.report;\n+\n+import java.util.List;\n+import javax.ws.rs.core.Response;\n+import org.apache.syncope.client.cli.SyncopeServices;\n+import org.apache.syncope.common.lib.to.ReportExecTO;\n+import org.apache.syncope.common.lib.to.ReportTO;\n+import org.apache.syncope.common.lib.types.JobStatusType;\n+import org.apache.syncope.common.lib.types.ReportExecExportFormat;\n+import org.apache.syncope.common.rest.api.service.ReportService;\n+\n+public class ReportSyncopeOperations {\n+\n+    private final ReportService reportService = SyncopeServices.get(ReportService.class);\n+\n+    public ReportExecTO readExecution(final String executionid) {\n+        return reportService.readExecution(Long.valueOf(executionid));\n+    }\n+\n+    public ReportTO read(final String reportId) {\n+        return reportService.read(Long.valueOf(reportId));\n+    }\n+\n+    public List<ReportExecTO> listJobs(final JobStatusType jobStatusType) {\n+        return reportService.listJobs(jobStatusType);\n+    }\n+\n+    public List<ReportTO> list() {\n+        return reportService.list();\n+    }\n+\n+    public Response exportExecutionResult(final String executionKey, final ReportExecExportFormat fmt) {\n+        return reportService.exportExecutionResult(Long.valueOf(executionKey), fmt);\n+    }\n+\n+    public void execute(final String reportId) {\n+        reportService.execute(Long.valueOf(reportId));\n+    }\n+\n+    public void deleteExecution(final String executionId) {\n+        reportService.deleteExecution(Long.valueOf(executionId));\n+    }\n+\n+    public void delete(final String reportId) {\n+        reportService.delete(Long.valueOf(reportId));\n+    }\n+}"},{"sha":"943f4054b3d5829b9eb5f44d1721d2d830393d31","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/resource/AbstractResourceCommand.java","status":"modified","additions":2,"deletions":5,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FAbstractResourceCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FAbstractResourceCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FAbstractResourceCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,13 +18,10 @@\n  */\n package org.apache.syncope.client.cli.commands.resource;\n \n-import org.apache.syncope.client.cli.SyncopeServices;\n-import org.apache.syncope.common.rest.api.service.ResourceService;\n-\n public abstract class AbstractResourceCommand {\n \n-    protected final ResourceService resourceService = SyncopeServices.get(ResourceService.class);\n-\n+    protected final ResourceSyncopeOperations resourceSyncopeOperations = new ResourceSyncopeOperations();\n+    \n     protected final ResourceResultManager resourceResultManager = new ResourceResultManager();\n \n }"},{"sha":"185cd992b6b9af2379d733bff325dfc91ef9c1ba","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/resource/ResourceCommand.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -45,7 +45,7 @@ public void execute(final Input input) {\n \n         switch (ResourceOptions.fromName(input.getOption())) {\n             case LIST:\n-                new ResourceList().list();\n+                new ResourceList(input).list();\n                 break;\n             case READ:\n                 new ResourceRead(input).read();\n@@ -105,5 +105,4 @@ public static List<String> toList() {\n             return options;\n         }\n     }\n-\n }"},{"sha":"3b94ecb64ee33267a5777332cd30e845f5fd2f5e","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/resource/ResourceDelete.java","status":"modified","additions":3,"deletions":4,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceDelete.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceDelete.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceDelete.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -35,15 +35,15 @@ public void delete() {\n         if (input.getParameters().length >= 1) {\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    resourceService.delete(parameter);\n+                    resourceSyncopeOperations.delete(parameter);\n                     resourceResultManager.deletedMessage(\"resource\", parameter);\n                 } catch (final NumberFormatException ex) {\n-                    resourceResultManager.managerNumberFormatException(\"resource\", parameter);\n+                    resourceResultManager.numberFormatException(\"resource\", parameter);\n                 } catch (final SyncopeClientException | WebServiceException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         resourceResultManager.notFoundError(\"Resource\", parameter);\n                     } else {\n-                        resourceResultManager.generic(ex.getMessage());\n+                        resourceResultManager.genericError(ex.getMessage());\n                     }\n                     break;\n                 }\n@@ -52,5 +52,4 @@ public void delete() {\n             resourceResultManager.commandOptionError(DELETE_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"8b095362ccf25854b96e6eec6c908e4bd3872a79","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/resource/ResourceList.java","status":"modified","additions":17,"deletions":4,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceList.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,15 +18,28 @@\n  */\n package org.apache.syncope.client.cli.commands.resource;\n \n+import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n \n public class ResourceList extends AbstractResourceCommand {\n \n+    private static final String LIST_HELP_MESSAGE = \"resource --list\";\n+\n+    private final Input input;\n+\n+    public ResourceList(final Input input) {\n+        this.input = input;\n+    }\n+\n     public void list() {\n-        try {\n-            resourceResultManager.toView(resourceService.list());\n-        } catch (final SyncopeClientException ex) {\n-            resourceResultManager.generic(ex.getMessage());\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                resourceResultManager.toView(resourceSyncopeOperations.list());\n+            } catch (final SyncopeClientException ex) {\n+                resourceResultManager.genericError(ex.getMessage());\n+            }\n+        } else {\n+            resourceResultManager.unnecessaryParameters(input.listParameters(), LIST_HELP_MESSAGE);\n         }\n     }\n }"},{"sha":"8f8c874b62bdb134f1e3423e797cccb192f3815a","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/resource/ResourceRead.java","status":"modified","additions":3,"deletions":4,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceRead.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceRead.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceRead.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -39,14 +39,14 @@ public void read() {\n             final List<ResourceTO> resourceTOs = new ArrayList<>();\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    resourceTOs.add(resourceService.read(parameter));\n+                    resourceTOs.add(resourceSyncopeOperations.read(parameter));\n                 } catch (final NumberFormatException ex) {\n-                    resourceResultManager.managerNumberFormatException(\"resource\", parameter);\n+                    resourceResultManager.numberFormatException(\"resource\", parameter);\n                 } catch (final SyncopeClientException | WebServiceException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         resourceResultManager.notFoundError(\"Resource\", parameter);\n                     } else {\n-                        resourceResultManager.generic(ex.getMessage());\n+                        resourceResultManager.genericError(ex.getMessage());\n                     }\n                     break;\n                 }\n@@ -56,5 +56,4 @@ public void read() {\n             resourceResultManager.commandOptionError(READ_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"488f574fd35688b87d7c754ff8a3a39a69731d68","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/resource/ResourceResultManager.java","status":"modified","additions":2,"deletions":5,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceResultManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceResultManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceResultManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -31,7 +31,6 @@ public void toView(final List<ResourceTO> resourceTOs) {\n         for (final ResourceTO resourceTO : resourceTOs) {\n             printResource(resourceTO);\n         }\n-        System.out.println(\"\");\n     }\n \n     private void printResource(final ResourceTO resourceTO) {\n@@ -54,6 +53,7 @@ private void printResource(final ResourceTO resourceTO) {\n         System.out.println(\"    delete trace level: \" + resourceTO.getDeleteTraceLevel());\n         System.out.println(\"    update trace level: \" + resourceTO.getUpdateTraceLevel());\n         System.out.println(\"    sync trace level: \" + resourceTO.getSyncTraceLevel());\n+        System.out.println(\"\");\n     }\n \n     private void printProvision(final List<ProvisionTO> provisionTOs) {\n@@ -66,14 +66,12 @@ private void printProvision(final List<ProvisionTO> provisionTOs) {\n             System.out.println(\"       MAPPING: \");\n             printMapping(provisionTO.getMapping());\n         }\n-        System.out.println(\"\");\n     }\n \n     private void printMapping(final MappingTO mappingTO) {\n         System.out.println(\"          ConnObjectLink: \" + mappingTO.getConnObjectLink());\n         System.out.println(\"          MAPPING ITEM: \");\n         printMappingItem(mappingTO.getItems());\n-        System.out.println(\"\");\n     }\n \n     private void printMappingItem(final List<MappingItemTO> mappingItemTOs) {\n@@ -88,8 +86,7 @@ private void printMappingItem(final List<MappingItemTO> mappingItemTOs) {\n             System.out.println(\"             purpose: \" + mappingItemTO.getPurpose());\n             System.out.println(\"             connector object key: \" + mappingItemTO.isConnObjectKey());\n             System.out.println(\"             password: \" + mappingItemTO.isPassword());\n+            System.out.println(\"\");\n         }\n-        System.out.println(\"\");\n     }\n-\n }"},{"sha":"9ddedf8a4b686febc1d617c03f4d3452b7a8336c","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/resource/ResourceSyncopeOperations.java","status":"added","additions":51,"deletions":0,"changes":51,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceSyncopeOperations.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceSyncopeOperations.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fresource%2FResourceSyncopeOperations.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,51 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.resource;\n+\n+import java.util.List;\n+import org.apache.syncope.client.cli.SyncopeServices;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.to.ResourceTO;\n+import org.apache.syncope.common.rest.api.service.ResourceService;\n+\n+public class ResourceSyncopeOperations {\n+\n+    private final ResourceService resourceService = SyncopeServices.get(ResourceService.class);\n+\n+    public void delete(final String name) {\n+        resourceService.delete(name);\n+    }\n+\n+    public List<ResourceTO> list() {\n+        return resourceService.list();\n+    }\n+\n+    public ResourceTO read(final String name) {\n+        return resourceService.read(name);\n+    }\n+\n+    public boolean exists(final String name) {\n+        try {\n+            read(name);\n+            return true;\n+        } catch (final SyncopeClientException ex) {\n+            return false;\n+        }\n+    }\n+}"},{"sha":"de4aac6df69172a25c883259aeb3acc3dbc989c0","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/role/AbstractRoleCommand.java","status":"renamed","additions":8,"deletions":4,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FAbstractRoleCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FAbstractRoleCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FAbstractRoleCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -16,8 +16,12 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-@XmlSchema(namespace = SyncopeConstants.NAMESPACE)\n-package org.apache.syncope.common.lib.wrap;\n+package org.apache.syncope.client.cli.commands.role;\n \n-import javax.xml.bind.annotation.XmlSchema;\n-import org.apache.syncope.common.lib.SyncopeConstants;\n+public abstract class AbstractRoleCommand {\n+\n+    protected final RoleSyncopeOperations roleSyncopeOperations = new RoleSyncopeOperations();\n+\n+    protected final RoleResultManager roleResultManager = new RoleResultManager();\n+\n+}","previous_filename":"common/lib/src/main/java/org/apache/syncope/common/lib/wrap/package-info.java"},{"sha":"63c9f0979597456a1b54b5ce2f69bb41fc800306","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/role/RoleCommand.java","status":"added","additions":108,"deletions":0,"changes":108,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,108 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.role;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.syncope.client.cli.Command;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.client.cli.commands.AbstractCommand;\n+\n+@Command(name = \"role\")\n+public class RoleCommand extends AbstractCommand {\n+\n+    private static final String HELP_MESSAGE = \"Usage: role [options]\\n\"\n+            + \"  Options:\\n\"\n+            + \"    --help \\n\"\n+            + \"    --list \\n\"\n+            + \"    --read \\n\"\n+            + \"       Syntax: --read {ROLE-ID} {ROLE-ID} [...]\"\n+            + \"    --delete \\n\"\n+            + \"       Syntax: --delete {ROLE-ID} {ROLE-ID} [...]\";\n+\n+    @Override\n+    public void execute(final Input input) {\n+        if (StringUtils.isBlank(input.getOption())) {\n+            input.setOption(RoleOptions.HELP.getOptionName());\n+        }\n+\n+        switch (RoleOptions.fromName(input.getOption())) {\n+            case LIST:\n+                new RoleList(input).list();\n+                break;\n+            case READ:\n+                new RoleRead(input).read();\n+                break;\n+            case DELETE:\n+                new RoleDelete(input).delete();\n+                break;\n+            case HELP:\n+                System.out.println(HELP_MESSAGE);\n+                break;\n+            default:\n+                new RoleResultManager().defaultError(input.getOption(), HELP_MESSAGE);\n+        }\n+    }\n+\n+    @Override\n+    public String getHelpMessage() {\n+        return HELP_MESSAGE;\n+    }\n+\n+    private enum RoleOptions {\n+\n+        HELP(\"--help\"),\n+        LIST(\"--list\"),\n+        READ(\"--read\"),\n+        DELETE(\"--delete\");\n+\n+        private final String optionName;\n+\n+        RoleOptions(final String optionName) {\n+            this.optionName = optionName;\n+        }\n+\n+        public String getOptionName() {\n+            return optionName;\n+        }\n+\n+        public boolean equalsOptionName(final String otherName) {\n+            return (otherName == null) ? false : optionName.equals(otherName);\n+        }\n+\n+        public static RoleOptions fromName(final String name) {\n+            RoleOptions optionToReturn = HELP;\n+            for (final RoleOptions option : RoleOptions.values()) {\n+                if (option.equalsOptionName(name)) {\n+                    optionToReturn = option;\n+                }\n+            }\n+            return optionToReturn;\n+        }\n+\n+        public static List<String> toList() {\n+            final List<String> options = new ArrayList<>();\n+            for (final RoleOptions value : values()) {\n+                options.add(value.getOptionName());\n+            }\n+            return options;\n+        }\n+    }\n+}"},{"sha":"469131279a9182e85b41f1dc5b50efd1121be32a","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/role/RoleDelete.java","status":"added","additions":57,"deletions":0,"changes":57,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleDelete.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleDelete.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleDelete.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,57 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.role;\n+\n+import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+\n+public class RoleDelete extends AbstractRoleCommand {\n+\n+    private static final String DELETE_HELP_MESSAGE = \"role --delete {ROLE-ID} {ROLE-ID} [...]\";\n+\n+    private final Input input;\n+\n+    public RoleDelete(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void delete() {\n+        if (input.getParameters().length >= 1) {\n+            for (final String parameter : input.getParameters()) {\n+                try {\n+                    roleSyncopeOperations.delete(parameter);\n+                    roleResultManager.deletedMessage(\"role\", parameter);\n+                } catch (final SyncopeClientException | WebServiceException ex) {\n+                    if (ex.getMessage().startsWith(\"NotFound\")) {\n+                        roleResultManager.notFoundError(\"Role\", parameter);\n+                    } else {\n+                        roleResultManager.genericError(ex.getMessage());\n+                    }\n+                    break;\n+                } catch (final NumberFormatException ex) {\n+                    roleResultManager.numberFormatException(\"role\", parameter);\n+                }\n+            }\n+        } else {\n+            roleResultManager.commandOptionError(DELETE_HELP_MESSAGE);\n+        }\n+    }\n+\n+}"},{"sha":"53f710508dac41df159c6e5376c1f988c4b24782","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/role/RoleList.java","status":"renamed","additions":18,"deletions":19,"changes":37,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleList.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -16,31 +16,30 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.common.lib.wrap;\n+package org.apache.syncope.client.cli.commands.role;\n \n-import org.apache.syncope.common.lib.AbstractBaseBean;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n \n-public abstract class AbstractWrappable<E> extends AbstractBaseBean {\n+public class RoleList extends AbstractRoleCommand {\n \n-    private static final long serialVersionUID = 1712808704911635170L;\n+    private static final String LIST_HELP_MESSAGE = \"role --list\";\n \n-    private E element;\n+    private final Input input;\n \n-    public static <E, T extends AbstractWrappable<E>> T getInstance(final Class<T> reference, final E element) {\n-        try {\n-            T instance = reference.newInstance();\n-            instance.setElement(element);\n-            return instance;\n-        } catch (Exception e) {\n-            throw new IllegalArgumentException(\"Could not instantiate \" + reference.getName(), e);\n-        }\n-    }\n-\n-    public E getElement() {\n-        return element;\n+    public RoleList(final Input input) {\n+        this.input = input;\n     }\n \n-    public void setElement(final E element) {\n-        this.element = element;\n+    public void list() {\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                roleResultManager.toView(roleSyncopeOperations.list());\n+            } catch (final SyncopeClientException ex) {\n+                roleResultManager.genericError(ex.getMessage());\n+            }\n+        } else {\n+            roleResultManager.unnecessaryParameters(input.listParameters(), LIST_HELP_MESSAGE);\n+        }\n     }\n }","previous_filename":"common/lib/src/main/java/org/apache/syncope/common/lib/wrap/AbstractWrappable.java"},{"sha":"021b65c7c48ade4503156901e7ac8869d1ebc561","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/role/RoleRead.java","status":"added","additions":60,"deletions":0,"changes":60,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleRead.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleRead.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleRead.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,60 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.role;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.to.RoleTO;\n+\n+public class RoleRead extends AbstractRoleCommand {\n+\n+    private static final String READ_HELP_MESSAGE = \"role --read {ROLE-ID} {ROLE-ID} [...]\";\n+\n+    private final Input input;\n+\n+    public RoleRead(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void read() {\n+        if (input.getParameters().length >= 1) {\n+            final List<RoleTO> roleTOs = new ArrayList<>();\n+            for (final String parameter : input.getParameters()) {\n+                try {\n+                    roleTOs.add(roleSyncopeOperations.read(parameter));\n+                } catch (final SyncopeClientException | WebServiceException ex) {\n+                    if (ex.getMessage().startsWith(\"NotFound\")) {\n+                        roleResultManager.notFoundError(\"Role\", parameter);\n+                    } else {\n+                        roleResultManager.genericError(ex.getMessage());\n+                    }\n+                    break;\n+                } catch (final NumberFormatException ex) {\n+                    roleResultManager.numberFormatException(\"user\", parameter);\n+                }\n+            }\n+            roleResultManager.toView(roleTOs);\n+        } else {\n+            roleResultManager.commandOptionError(READ_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"a672d53bb32e135b0449d48cabe760c5b587cfcc","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/role/RoleResultManager.java","status":"added","additions":57,"deletions":0,"changes":57,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleResultManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleResultManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleResultManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,57 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.role;\n+\n+import java.util.List;\n+import java.util.Set;\n+import org.apache.syncope.client.cli.commands.CommonsResultManager;\n+import org.apache.syncope.common.lib.to.RoleTO;\n+\n+public class RoleResultManager extends CommonsResultManager {\n+\n+    public void toView(final List<RoleTO> roleTOs) {\n+        for (final RoleTO roleTO : roleTOs) {\n+            printRole(roleTO);\n+        }\n+        System.out.println(\"\");\n+    }\n+\n+    private void printRole(final RoleTO roleTO) {\n+        System.out.println(\" > ROLE ID: \" + roleTO.getKey());\n+        System.out.println(\"    name: \" + roleTO.getName());\n+        System.out.println(\"    REALMS: \");\n+        printRealms(roleTO.getRealms());\n+        System.out.println(\"    ENTITLEMENTS:\");\n+        printEntitlements(roleTO.getEntitlements());\n+        System.out.println(\"    dynamic membership condition: \" + roleTO.getDynMembershipCond());\n+        System.out.println(\"\");\n+    }\n+    \n+    private void printRealms(final List<String> realms) {\n+        for (final String realm : realms) {\n+            System.out.println(\"       - \" + realm);\n+        }\n+    }\n+\n+    private void printEntitlements(final Set<String> entitlements) {\n+        for (final String entitlement : entitlements) {\n+            System.out.println(\"       - \" + entitlement);\n+        }\n+    }\n+}"},{"sha":"11c207d9a2303cb727b102c6322b8ce550089ac4","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/role/RoleSyncopeOperations.java","status":"added","additions":41,"deletions":0,"changes":41,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleSyncopeOperations.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleSyncopeOperations.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Frole%2FRoleSyncopeOperations.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,41 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.role;\n+\n+import java.util.List;\n+import org.apache.syncope.client.cli.SyncopeServices;\n+import org.apache.syncope.common.lib.to.RoleTO;\n+import org.apache.syncope.common.rest.api.service.RoleService;\n+\n+public class RoleSyncopeOperations {\n+\n+    private final RoleService roleService = SyncopeServices.get(RoleService.class);\n+\n+    public List<RoleTO> list() {\n+        return roleService.list();\n+    }\n+    \n+    public RoleTO read(final String roleId) {\n+        return roleService.read(Long.valueOf(roleId));\n+    }\n+    \n+    public void delete(final String roleId) {\n+        roleService.delete(Long.valueOf(roleId));\n+    }\n+}"},{"sha":"96dae04c36707a18455920f6c75d8c386593b948","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/schema/AbstractSchemaCommand.java","status":"modified","additions":2,"deletions":5,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FAbstractSchemaCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FAbstractSchemaCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FAbstractSchemaCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,13 +18,10 @@\n  */\n package org.apache.syncope.client.cli.commands.schema;\n \n-import org.apache.syncope.client.cli.SyncopeServices;\n-import org.apache.syncope.common.rest.api.service.SchemaService;\n-\n public abstract class AbstractSchemaCommand {\n \n-    protected final SchemaService schemaService = SyncopeServices.get(SchemaService.class);\n-    \n+    protected final SchemaSyncopeOperations schemaSyncopeOperations = new SchemaSyncopeOperations();\n+\n     protected final SchemaResultManager schemaResultManager = new SchemaResultManager();\n \n }"},{"sha":"c0d3976246366785d10198083df6b6297460f61e","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/schema/SchemaCommand.java","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -51,16 +51,16 @@ public void execute(final Input input) {\n                 new SchemaList(input).list();\n                 break;\n             case LIST_ALL:\n-                new SchemaListAll().listAll();\n+                new SchemaListAll(input).listAll();\n                 break;\n             case LIST_PLAIN:\n-                new SchemaListPlain().listPlain();\n+                new SchemaListPlain(input).listPlain();\n                 break;\n             case LIST_DERIVED:\n-                new SchemaListDerived().listDerived();\n+                new SchemaListDerived(input).listDerived();\n                 break;\n             case LIST_VIRTUAL:\n-                new SchemaListVirtual().listVirtual();\n+                new SchemaListVirtual(input).listVirtual();\n                 break;\n             case READ:\n                 new SchemaRead(input).read();"},{"sha":"d3d5314cf46bdcb28854566a58e599b8b1a2c113","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/schema/SchemaDelete.java","status":"modified","additions":3,"deletions":4,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaDelete.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaDelete.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaDelete.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -41,16 +41,16 @@ public void delete() {\n             final String[] parameters = Arrays.copyOfRange(input.getParameters(), 1, input.parameterNumber());\n             try {\n                 for (final String parameter : parameters) {\n-                    schemaService.delete(SchemaType.valueOf(input.firstParameter()), parameter);\n+                    schemaSyncopeOperations.delete(SchemaType.valueOf(input.firstParameter()), parameter);\n                     schemaResultManager.deletedMessage(\"Schema\", parameter);\n                 }\n             } catch (final SyncopeClientException | WebServiceException ex) {\n                 if (ex.getMessage().startsWith(\"NotFound\")) {\n                     schemaResultManager.notFoundError(\"Schema\", parameters[0]);\n                 } else if (ex.getMessage().startsWith(\"DataIntegrityViolation\")) {\n-                    schemaResultManager.generic(\"You cannot delete schema \" + parameters[0]);\n+                    schemaResultManager.genericError(\"You cannot delete schema \" + parameters[0]);\n                 } else {\n-                    schemaResultManager.generic(ex.getMessage());\n+                    schemaResultManager.genericError(ex.getMessage());\n                 }\n             } catch (final IllegalArgumentException ex) {\n                 schemaResultManager.typeNotValidError(\n@@ -60,5 +60,4 @@ public void delete() {\n             schemaResultManager.commandOptionError(DELETE_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"cf41aa72cb75a785d70081e07862534b308d0fcc","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/schema/SchemaList.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaList.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -41,7 +41,7 @@ public void list() {\n             try {\n                 final SchemaType schemaType = SchemaType.valueOf(input.firstParameter());\n                 final LinkedList<AbstractSchemaTO> schemaTOs = new LinkedList<>();\n-                for (final AbstractSchemaTO schemaTO : schemaService.list(schemaType)) {\n+                for (final AbstractSchemaTO schemaTO : schemaSyncopeOperations.list(schemaType)) {\n                     schemaTOs.add(schemaTO);\n                 }\n                 switch (schemaType) {\n@@ -58,7 +58,7 @@ public void list() {\n                         break;\n                 }\n             } catch (final SyncopeClientException ex) {\n-                schemaResultManager.generic(ex.getMessage());\n+                schemaResultManager.genericError(ex.getMessage());\n             } catch (final IllegalArgumentException ex) {\n                 schemaResultManager.typeNotValidError(\n                         \"schema\", input.firstParameter(), CommandUtils.fromEnumToArray(SchemaType.class));"},{"sha":"2c17a3a1db8e947e218d5f56f96c61672c74d96f","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/schema/SchemaListAll.java","status":"modified","additions":33,"deletions":21,"changes":54,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaListAll.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaListAll.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaListAll.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -20,36 +20,48 @@\n \n import java.util.LinkedList;\n import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.to.AbstractSchemaTO;\n import org.apache.syncope.common.lib.types.SchemaType;\n \n public class SchemaListAll extends AbstractSchemaCommand {\n \n+    private static final String LIST_HELP_MESSAGE = \"schema --list-all\";\n+\n+    private final Input input;\n+\n+    public SchemaListAll(final Input input) {\n+        this.input = input;\n+    }\n+\n     public void listAll() {\n-        try {\n-            for (final SchemaType schemaType : SchemaType.values()) {\n-                final LinkedList<AbstractSchemaTO> schemaTOs = new LinkedList<>();\n-                for (final AbstractSchemaTO schemaTO : schemaService.list(schemaType)) {\n-                    schemaTOs.add(schemaTO);\n-                }\n-                switch (schemaType) {\n-                    case PLAIN:\n-                        schemaResultManager.fromListPlain(schemaTOs);\n-                        break;\n-                    case DERIVED:\n-                        schemaResultManager.fromListDerived(schemaTOs);\n-                        break;\n-                    case VIRTUAL:\n-                        schemaResultManager.fromListVirtual(schemaTOs);\n-                        break;\n-                    default:\n-                        break;\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                for (final SchemaType schemaType : SchemaType.values()) {\n+                    final LinkedList<AbstractSchemaTO> schemaTOs = new LinkedList<>();\n+                    for (final AbstractSchemaTO schemaTO : schemaSyncopeOperations.list(schemaType)) {\n+                        schemaTOs.add(schemaTO);\n+                    }\n+                    switch (schemaType) {\n+                        case PLAIN:\n+                            schemaResultManager.fromListPlain(schemaTOs);\n+                            break;\n+                        case DERIVED:\n+                            schemaResultManager.fromListDerived(schemaTOs);\n+                            break;\n+                        case VIRTUAL:\n+                            schemaResultManager.fromListVirtual(schemaTOs);\n+                            break;\n+                        default:\n+                            break;\n+                    }\n                 }\n+            } catch (final SyncopeClientException | WebServiceException ex) {\n+                schemaResultManager.genericError(ex.getMessage());\n             }\n-        } catch (final SyncopeClientException | WebServiceException ex) {\n-            schemaResultManager.generic(ex.getMessage());\n+        } else {\n+            schemaResultManager.unnecessaryParameters(input.listParameters(), LIST_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"fa7668447b6d2298bc7bada94c2614c8d7246cbb","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/schema/SchemaListDerived.java","status":"modified","additions":20,"deletions":8,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaListDerived.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaListDerived.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaListDerived.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -20,21 +20,33 @@\n \n import java.util.LinkedList;\n import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.to.AbstractSchemaTO;\n-import org.apache.syncope.common.lib.types.SchemaType;\n \n public class SchemaListDerived extends AbstractSchemaCommand {\n \n+    private static final String LIST_HELP_MESSAGE = \"schema --list-derived\";\n+\n+    private final Input input;\n+\n+    public SchemaListDerived(final Input input) {\n+        this.input = input;\n+    }\n+\n     public void listDerived() {\n-        try {\n-            final LinkedList<AbstractSchemaTO> schemaTOs = new LinkedList<>();\n-            for (final AbstractSchemaTO schemaTO : schemaService.list(SchemaType.DERIVED)) {\n-                schemaTOs.add(schemaTO);\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                final LinkedList<AbstractSchemaTO> schemaTOs = new LinkedList<>();\n+                for (final AbstractSchemaTO schemaTO : schemaSyncopeOperations.listDerived()) {\n+                    schemaTOs.add(schemaTO);\n+                }\n+                schemaResultManager.fromListDerived(schemaTOs);\n+            } catch (final SyncopeClientException | WebServiceException ex) {\n+                schemaResultManager.genericError(ex.getMessage());\n             }\n-            schemaResultManager.fromListDerived(schemaTOs);\n-        } catch (final SyncopeClientException | WebServiceException ex) {\n-            schemaResultManager.generic(ex.getMessage());\n+        } else {\n+            schemaResultManager.unnecessaryParameters(input.listParameters(), LIST_HELP_MESSAGE);\n         }\n     }\n }"},{"sha":"746b8560b773194a9310bddd6161170714debf15","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/schema/SchemaListPlain.java","status":"modified","additions":20,"deletions":8,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaListPlain.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaListPlain.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaListPlain.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -20,21 +20,33 @@\n \n import java.util.LinkedList;\n import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.to.AbstractSchemaTO;\n-import org.apache.syncope.common.lib.types.SchemaType;\n \n public class SchemaListPlain extends AbstractSchemaCommand {\n \n+    private static final String LIST_HELP_MESSAGE = \"schema --list-plain\";\n+\n+    private final Input input;\n+\n+    public SchemaListPlain(final Input input) {\n+        this.input = input;\n+    }\n+\n     public void listPlain() {\n-        try {\n-            final LinkedList<AbstractSchemaTO> schemaTOs = new LinkedList<>();\n-            for (final AbstractSchemaTO schemaTO : schemaService.list(SchemaType.PLAIN)) {\n-                schemaTOs.add(schemaTO);\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                final LinkedList<AbstractSchemaTO> schemaTOs = new LinkedList<>();\n+                for (final AbstractSchemaTO schemaTO : schemaSyncopeOperations.listPlain()) {\n+                    schemaTOs.add(schemaTO);\n+                }\n+                schemaResultManager.fromListPlain(schemaTOs);\n+            } catch (final SyncopeClientException | WebServiceException ex) {\n+                schemaResultManager.genericError(ex.getMessage());\n             }\n-            schemaResultManager.fromListPlain(schemaTOs);\n-        } catch (final SyncopeClientException | WebServiceException ex) {\n-            schemaResultManager.generic(ex.getMessage());\n+        } else {\n+            schemaResultManager.unnecessaryParameters(input.listParameters(), LIST_HELP_MESSAGE);\n         }\n     }\n }"},{"sha":"d7da8c8acb058dcd5dac2e57d17730a7accc1a0d","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/schema/SchemaListVirtual.java","status":"modified","additions":20,"deletions":8,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaListVirtual.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaListVirtual.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaListVirtual.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -20,21 +20,33 @@\n \n import java.util.LinkedList;\n import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.to.AbstractSchemaTO;\n-import org.apache.syncope.common.lib.types.SchemaType;\n \n public class SchemaListVirtual extends AbstractSchemaCommand {\n \n+    private static final String LIST_HELP_MESSAGE = \"schema --list-virtual\";\n+\n+    private final Input input;\n+\n+    public SchemaListVirtual(final Input input) {\n+        this.input = input;\n+    }\n+\n     public void listVirtual() {\n-        try {\n-            final LinkedList<AbstractSchemaTO> schemaTOs = new LinkedList<>();\n-            for (final AbstractSchemaTO schemaTO : schemaService.list(SchemaType.VIRTUAL)) {\n-                schemaTOs.add(schemaTO);\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                final LinkedList<AbstractSchemaTO> schemaTOs = new LinkedList<>();\n+                for (final AbstractSchemaTO schemaTO : schemaSyncopeOperations.listVirtual()) {\n+                    schemaTOs.add(schemaTO);\n+                }\n+                schemaResultManager.fromListVirtual(schemaTOs);\n+            } catch (final SyncopeClientException | WebServiceException ex) {\n+                schemaResultManager.genericError(ex.getMessage());\n             }\n-            schemaResultManager.fromListVirtual(schemaTOs);\n-        } catch (final SyncopeClientException | WebServiceException ex) {\n-            schemaResultManager.generic(ex.getMessage());\n+        } else {\n+            schemaResultManager.unnecessaryParameters(input.listParameters(), LIST_HELP_MESSAGE);\n         }\n     }\n }"},{"sha":"133a14c777b60ac6ae93c2cf4b72abf9b3b113fd","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/schema/SchemaRead.java","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaRead.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaRead.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaRead.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -45,7 +45,7 @@ public void read() {\n                 final SchemaType schemaType = SchemaType.valueOf(input.firstParameter());\n                 final LinkedList<AbstractSchemaTO> schemaTOs = new LinkedList<>();\n                 for (final String parameter : parameters) {\n-                    schemaTOs.add(schemaService.read(schemaType, parameter));\n+                    schemaTOs.add(schemaSyncopeOperations.read(schemaType, parameter));\n                 }\n                 switch (schemaType) {\n                     case PLAIN:\n@@ -64,7 +64,7 @@ public void read() {\n                 if (ex.getMessage().startsWith(\"NotFound\")) {\n                     schemaResultManager.notFoundError(\"Schema\", parameters[0]);\n                 } else {\n-                    schemaResultManager.generic(ex.getMessage());\n+                    schemaResultManager.genericError(ex.getMessage());\n                 }\n             } catch (final IllegalArgumentException ex) {\n                 schemaResultManager.typeNotValidError(\n@@ -74,5 +74,4 @@ public void read() {\n             schemaResultManager.commandOptionError(READ_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"c8f0a6d0c0df366ca8c00a3e5ab7a11ffa534f1c","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/schema/SchemaSyncopeOperations.java","status":"added","additions":54,"deletions":0,"changes":54,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaSyncopeOperations.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaSyncopeOperations.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fschema%2FSchemaSyncopeOperations.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,54 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.schema;\n+\n+import java.util.List;\n+import org.apache.syncope.client.cli.SyncopeServices;\n+import org.apache.syncope.common.lib.to.AbstractSchemaTO;\n+import org.apache.syncope.common.lib.types.SchemaType;\n+import org.apache.syncope.common.rest.api.service.SchemaService;\n+\n+public class SchemaSyncopeOperations {\n+\n+    private final SchemaService schemaService = SyncopeServices.get(SchemaService.class);\n+\n+    public <T extends AbstractSchemaTO> T read(final SchemaType schemaType, final String schemaName) {\n+        return schemaService.read(schemaType, schemaName);\n+    }\n+\n+    public <T extends AbstractSchemaTO> List<T> list(final SchemaType schemaType) {\n+        return schemaService.list(schemaType);\n+    }\n+\n+    public <T extends AbstractSchemaTO> List<T> listVirtual() {\n+        return schemaService.list(SchemaType.VIRTUAL);\n+    }\n+\n+    public <T extends AbstractSchemaTO> List<T> listPlain() {\n+        return schemaService.list(SchemaType.PLAIN);\n+    }\n+\n+    public <T extends AbstractSchemaTO> List<T> listDerived() {\n+        return schemaService.list(SchemaType.DERIVED);\n+    }\n+\n+    public void delete(final SchemaType schemaType, final String schemaName) {\n+        schemaService.delete(schemaType, schemaName);\n+    }\n+}"},{"sha":"c48eb8cda14e7db86bc027850ac61111d1dacfbb","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/self/AbstractWorkflowCommand.java","status":"added","additions":27,"deletions":0,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FAbstractWorkflowCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FAbstractWorkflowCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FAbstractWorkflowCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,27 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.self;\n+\n+public class AbstractWorkflowCommand {\n+\n+    protected final WorkflowResultManager workflowResultManager = new WorkflowResultManager();\n+\n+    protected final WorkflowSyncopeOperations workflowSyncopeOperations = new WorkflowSyncopeOperations();\n+\n+}"},{"sha":"dd5a3ff4c27f234a9c5b2d62df8ba3f59dc8807c","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/self/WorkflowCommand.java","status":"added","additions":103,"deletions":0,"changes":103,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FWorkflowCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FWorkflowCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FWorkflowCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,103 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.self;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.syncope.client.cli.Command;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.client.cli.commands.AbstractCommand;\n+\n+@Command(name = \"workflow\")\n+public class WorkflowCommand extends AbstractCommand {\n+\n+    private static final String HELP_MESSAGE = \"Usage: workflow [options]\\n\"\n+            + \"  Options:\\n\"\n+            + \"    --help \\n\"\n+            + \"    --export-diagram {ANY-TYPE-KIND}\\n\"\n+            + \"        Any type kind: ANY_OBJECT / USER / GROUP\\n\"\n+            + \"    --export-definition {ANY-TYPE-KIND}\\n\"\n+            + \"        Any type kind: ANY_OBJECT / USER / GROUP\";\n+\n+    @Override\n+    public void execute(final Input input) {\n+        if (StringUtils.isBlank(input.getOption())) {\n+            input.setOption(UserWorkflowOptions.HELP.getOptionName());\n+        }\n+\n+        switch (UserWorkflowOptions.fromName(input.getOption())) {\n+            case EXPORT_DIAGRAM:\n+                new WorkflowExportDiagram(input).export();\n+                break;\n+            case EXPORT_DEFINITION:\n+                new WorkflowExportDefinition(input).export();\n+                break;\n+            case HELP:\n+                System.out.println(HELP_MESSAGE);\n+                break;\n+            default:\n+                new WorkflowResultManager().defaultError(input.getOption(), HELP_MESSAGE);\n+        }\n+    }\n+\n+    @Override\n+    public String getHelpMessage() {\n+        return HELP_MESSAGE;\n+    }\n+\n+    private enum UserWorkflowOptions {\n+\n+        HELP(\"--help\"),\n+        EXPORT_DIAGRAM(\"--export-diagram\"),\n+        EXPORT_DEFINITION(\"--export-definition\");\n+\n+        private final String optionName;\n+\n+        UserWorkflowOptions(final String optionName) {\n+            this.optionName = optionName;\n+        }\n+\n+        public String getOptionName() {\n+            return optionName;\n+        }\n+\n+        public boolean equalsOptionName(final String otherName) {\n+            return (otherName == null) ? false : optionName.equals(otherName);\n+        }\n+\n+        public static UserWorkflowOptions fromName(final String name) {\n+            UserWorkflowOptions optionToReturn = HELP;\n+            for (final UserWorkflowOptions option : UserWorkflowOptions.values()) {\n+                if (option.equalsOptionName(name)) {\n+                    optionToReturn = option;\n+                }\n+            }\n+            return optionToReturn;\n+        }\n+\n+        public static List<String> toList() {\n+            final List<String> options = new ArrayList<>();\n+            for (final UserWorkflowOptions value : values()) {\n+                options.add(value.getOptionName());\n+            }\n+            return options;\n+        }\n+    }\n+}"},{"sha":"aa1d8a3567895b7c85794eadf012ab1359178bbb","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/self/WorkflowExportDefinition.java","status":"added","additions":56,"deletions":0,"changes":56,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FWorkflowExportDefinition.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FWorkflowExportDefinition.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FWorkflowExportDefinition.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,56 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.self;\n+\n+import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.client.cli.util.CommandUtils;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.types.AnyTypeKind;\n+\n+public class WorkflowExportDefinition extends AbstractWorkflowCommand {\n+\n+    private static final String EXPORT_HELP_MESSAGE = \"workflow --export-definition {ANY-TYPE-KIND}\\n\";\n+\n+    private final Input input;\n+\n+    public WorkflowExportDefinition(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void export() {\n+        if (input.parameterNumber() == 1) {\n+            try {\n+                final AnyTypeKind anyTypeKind = AnyTypeKind.valueOf(input.firstParameter());\n+                System.out.println(\" > > > > \" + workflowSyncopeOperations.exportDefinition(anyTypeKind).getEntity());\n+            } catch (final SyncopeClientException | WebServiceException ex) {\n+                if (ex.getMessage().startsWith(\"NotFound\")) {\n+                    workflowResultManager.notFoundError(\"Workflow\", input.firstParameter());\n+                } else {\n+                    workflowResultManager.genericError(ex.getMessage());\n+                }\n+            } catch (final IllegalArgumentException ex) {\n+                workflowResultManager.typeNotValidError(\n+                        \"workflow\", input.firstParameter(), CommandUtils.fromEnumToArray(AnyTypeKind.class));\n+            }\n+        } else {\n+            workflowResultManager.commandOptionError(EXPORT_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"abc4c6132c99d7cc9fa6d476411a83e2b6c08a8e","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/self/WorkflowExportDiagram.java","status":"added","additions":68,"deletions":0,"changes":68,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FWorkflowExportDiagram.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FWorkflowExportDiagram.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FWorkflowExportDiagram.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,68 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.self;\n+\n+import java.io.FileOutputStream;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import javax.ws.rs.core.Response;\n+import javax.xml.ws.WebServiceException;\n+import org.apache.cxf.helpers.IOUtils;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.client.cli.util.CommandUtils;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.types.AnyTypeKind;\n+\n+public class WorkflowExportDiagram extends AbstractWorkflowCommand {\n+\n+    private static final String EXPORT_HELP_MESSAGE = \"workflow --export-diagram {ANY-TYPE-KIND}\\n\";\n+\n+    private final Input input;\n+\n+    public WorkflowExportDiagram(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void export() {\n+        if (input.parameterNumber() == 1) {\n+            try {\n+                final AnyTypeKind anyTypeKind = AnyTypeKind.valueOf(input.firstParameter());\n+                final Response response = workflowSyncopeOperations.exportDiagram(anyTypeKind);\n+                final byte[] diagram = IOUtils.readBytesFromStream((InputStream) response.getEntity());\n+                final FileOutputStream fos = new FileOutputStream(\"/tmp/diagram.png\");\n+                fos.write(diagram);\n+                fos.close();\n+                workflowResultManager.genericMessage(\"Diagram created: /tmp/diagram.png\");\n+            } catch (final SyncopeClientException | WebServiceException ex) {\n+                if (ex.getMessage().startsWith(\"NotFound\")) {\n+                    workflowResultManager.notFoundError(\"Workflow\", input.firstParameter());\n+                } else {\n+                    workflowResultManager.genericError(ex.getMessage());\n+                }\n+            } catch (final IllegalArgumentException ex) {\n+                workflowResultManager.typeNotValidError(\n+                        \"workflow\", input.firstParameter(), CommandUtils.fromEnumToArray(AnyTypeKind.class));\n+            } catch (final IOException ex) {\n+                workflowResultManager.genericError(ex.getMessage());\n+            }\n+        } else {\n+            workflowResultManager.commandOptionError(EXPORT_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"2737a6a2ae100001394daf97bd6b924926223281","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/self/WorkflowResultManager.java","status":"added","additions":38,"deletions":0,"changes":38,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FWorkflowResultManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FWorkflowResultManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FWorkflowResultManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,38 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.self;\n+\n+import java.util.List;\n+import org.apache.syncope.client.cli.commands.CommonsResultManager;\n+import org.apache.syncope.common.lib.to.WorkflowFormTO;\n+\n+public class WorkflowResultManager extends CommonsResultManager {\n+\n+    public void toView(final List<WorkflowFormTO> workflowFormTOs) {\n+        for (final WorkflowFormTO workflowFormTO : workflowFormTOs) {\n+            printQuestion(workflowFormTO);\n+        }\n+    }\n+\n+    public void printQuestion(final WorkflowFormTO workflowFormTO) {\n+        System.out.println(\" > WORKFLOW FORM ID: \" + workflowFormTO.getKey());\n+        System.out.println(\"    description: \" + workflowFormTO.getDescription());\n+        System.out.println(\"\");\n+    }\n+}"},{"sha":"173db439469b4acab69deb17d1e65033b193a5e3","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/self/WorkflowSyncopeOperations.java","status":"added","additions":40,"deletions":0,"changes":40,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FWorkflowSyncopeOperations.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FWorkflowSyncopeOperations.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fself%2FWorkflowSyncopeOperations.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,40 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.self;\n+\n+import javax.ws.rs.core.Response;\n+import org.apache.cxf.jaxrs.client.WebClient;\n+import org.apache.syncope.client.cli.SyncopeServices;\n+import org.apache.syncope.common.lib.types.AnyTypeKind;\n+import org.apache.syncope.common.rest.api.RESTHeaders;\n+import org.apache.syncope.common.rest.api.service.WorkflowService;\n+\n+public class WorkflowSyncopeOperations {\n+\n+    private final WorkflowService workflowService = SyncopeServices.get(WorkflowService.class);\n+\n+    public Response exportDiagram(final AnyTypeKind anyTypeKind) {\n+        WebClient.client(workflowService).accept(RESTHeaders.MEDIATYPE_IMAGE_PNG);\n+        return workflowService.exportDiagram(anyTypeKind);\n+    }\n+\n+    public Response exportDefinition(final AnyTypeKind anyTypeKind) {\n+        return workflowService.exportDefinition(anyTypeKind);\n+    }\n+}"},{"sha":"bdc4c2225676939ba415682c1fcdcac7ba2b0708","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/task/AbstractTaskCommand.java","status":"modified","additions":1,"deletions":4,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FAbstractTaskCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FAbstractTaskCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FAbstractTaskCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,12 +18,9 @@\n  */\n package org.apache.syncope.client.cli.commands.task;\n \n-import org.apache.syncope.client.cli.SyncopeServices;\n-import org.apache.syncope.common.rest.api.service.TaskService;\n-\n public abstract class AbstractTaskCommand {\n \n-    protected final TaskService taskService = SyncopeServices.get(TaskService.class);\n+    protected final TaskSyncopeOperations taskSyncopeOperations = new TaskSyncopeOperations();\n \n     protected final TaskResultManager taskResultManager = new TaskResultManager();\n "},{"sha":"f95d69f34d52981388ff8e388ef6689d6e67f026","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/task/TaskCommand.java","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -59,10 +59,10 @@ public void execute(final Input input) {\n                 new TaskList(input).list();\n                 break;\n             case LIST_RUNNING_JOBS:\n-                new TaskRunningJobs().list();\n+                new TaskListRunningJobs(input).list();\n                 break;\n             case LIST_SCHEDULED_JOBS:\n-                new TaskScheduledJobs().list();\n+                new TaskListScheduledJobs(input).list();\n                 break;\n             case READ:\n                 new TaskRead(input).read();\n@@ -85,7 +85,6 @@ public void execute(final Input input) {\n             default:\n                 new TaskResultManager().defaultError(input.getOption(), HELP_MESSAGE);\n         }\n-\n     }\n \n     @Override"},{"sha":"c5089fff6c1ba44a969ffe898c0e19465f2ab8b0","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/task/TaskDelete.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskDelete.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskDelete.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskDelete.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -37,15 +37,15 @@ public void delete() {\n         if (input.parameterNumber() >= 1) {\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    taskService.delete(Long.valueOf(parameter));\n+                    taskSyncopeOperations.delete(parameter);\n                     taskResultManager.deletedMessage(\"Task\", parameter);\n                 } catch (final WebServiceException | SyncopeClientException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         taskResultManager.notFoundError(\"Task\", parameter);\n                     } else if (ex.getMessage().startsWith(\"DataIntegrityViolation\")) {\n-                        taskResultManager.generic(\"You cannot delete task \" + parameter);\n+                        taskResultManager.genericError(\"You cannot delete task \" + parameter);\n                     } else {\n-                        taskResultManager.generic(ex.getMessage());\n+                        taskResultManager.genericError(ex.getMessage());\n                     }\n                 } catch (final NumberFormatException ex) {\n                     taskResultManager.notBooleanDeletedError(\"task\", parameter);"},{"sha":"a501905608a340faf3db467b64f5e8265fd56284","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/task/TaskExecute.java","status":"modified","additions":4,"deletions":5,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskExecute.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskExecute.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskExecute.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -37,7 +37,6 @@ public TaskExecute(final Input input) {\n     public void execute() {\n         if (input.parameterNumber() == 2) {\n             try {\n-                final Long taskIdToExecute = Long.valueOf(input.firstParameter());\n                 boolean dryRun = true;\n                 if (\"false\".equalsIgnoreCase(input.secondParameter())) {\n                     dryRun = false;\n@@ -46,14 +45,15 @@ public void execute() {\n                 } else {\n                     taskResultManager.notBooleanDeletedError(\"dry run\", input.secondParameter());\n                 }\n-                taskResultManager.printTaskExecTO(Arrays.asList(taskService.execute(taskIdToExecute, dryRun)));\n+                taskResultManager.printTaskExecTO(Arrays.asList(\n+                        taskSyncopeOperations.execute(input.firstParameter(), dryRun)));\n             } catch (final WebServiceException | SyncopeClientException ex) {\n                 if (ex.getMessage().startsWith(\"NotFound\")) {\n                     taskResultManager.notFoundError(\"Task\", input.firstParameter());\n                 } else if (ex.getMessage().startsWith(\"DataIntegrityViolation\")) {\n-                    taskResultManager.generic(\"You cannot delete task \" + input.firstParameter());\n+                    taskResultManager.genericError(\"You cannot delete task \" + input.firstParameter());\n                 } else {\n-                    taskResultManager.generic(ex.getMessage());\n+                    taskResultManager.genericError(ex.getMessage());\n                 }\n             } catch (final NumberFormatException ex) {\n                 taskResultManager.notBooleanDeletedError(\"task\", input.firstParameter());\n@@ -62,5 +62,4 @@ public void execute() {\n             taskResultManager.commandOptionError(EXECUTE_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"30cbf4218364cc9dc96d2a359cfff15feb094680","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/task/TaskExecutionDelete.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskExecutionDelete.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskExecutionDelete.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskExecutionDelete.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -37,15 +37,15 @@ public void delete() {\n         if (input.parameterNumber() >= 1) {\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    taskService.deleteExecution(Long.valueOf(parameter));\n+                    taskSyncopeOperations.deleteExecution(parameter);\n                     taskResultManager.deletedMessage(\"Task execution\", parameter);\n                 } catch (final WebServiceException | SyncopeClientException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         taskResultManager.notFoundError(\"Task execution\", parameter);\n                     } else if (ex.getMessage().startsWith(\"DataIntegrityViolation\")) {\n-                        taskResultManager.generic(\"You cannot delete task execution\" + parameter);\n+                        taskResultManager.genericError(\"You cannot delete task execution\" + parameter);\n                     } else {\n-                        taskResultManager.generic(ex.getMessage());\n+                        taskResultManager.genericError(ex.getMessage());\n                     }\n                 } catch (final NumberFormatException ex) {\n                     taskResultManager.notBooleanDeletedError(\"task execution\", parameter);"},{"sha":"c234028e8818ad30ed2bdf32b60c8b7e33dedc8b","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/task/TaskExecutionRead.java","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskExecutionRead.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskExecutionRead.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskExecutionRead.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -38,14 +38,14 @@ public void read() {\n             for (final String parameter : input.getParameters()) {\n                 try {\n                     taskResultManager.printTaskExecTO(\n-                            Arrays.asList(taskService.readExecution(Long.valueOf(parameter))));\n+                            Arrays.asList(taskSyncopeOperations.readExecution(parameter)));\n                 } catch (final NumberFormatException ex) {\n                     taskResultManager.notBooleanDeletedError(\"task execution\", parameter);\n                 } catch (final SyncopeClientException | WebServiceException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         taskResultManager.notFoundError(\"Task execution\", parameter);\n                     } else {\n-                        taskResultManager.generic(\"Error: \" + ex.getMessage());\n+                        taskResultManager.genericError(ex.getMessage());\n                     }\n                     break;\n                 }\n@@ -54,5 +54,4 @@ public void read() {\n             taskResultManager.commandOptionError(EXECUTION_READ_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"e01141a66485c5eabbf391baa54fdfa3a0ad0a0a","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/task/TaskList.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskList.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -42,12 +42,12 @@ public void list() {\n             try {\n                 final TaskType taskType = TaskType.valueOf(input.firstParameter());\n                 final LinkedList<AbstractTaskTO> taskTOs = new LinkedList<>();\n-                for (final AbstractTaskTO taskTO : taskService.list(taskType, new TaskQuery()).getResult()) {\n+                for (final AbstractTaskTO taskTO : taskSyncopeOperations.list(taskType, new TaskQuery()).getResult()) {\n                     taskTOs.add(taskTO);\n                 }\n                 taskResultManager.fromList(taskType, taskTOs);\n             } catch (final SyncopeClientException ex) {\n-                taskResultManager.generic(ex.getMessage());\n+                taskResultManager.genericError(ex.getMessage());\n             } catch (final IllegalArgumentException ex) {\n                 taskResultManager.typeNotValidError(\n                         \"task\", input.firstParameter(), CommandUtils.fromEnumToArray(TaskType.class));"},{"sha":"931cfef825058ffa394d8c961534cbc41a479f6e","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/task/TaskListRunningJobs.java","status":"added","additions":46,"deletions":0,"changes":46,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskListRunningJobs.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskListRunningJobs.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskListRunningJobs.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,46 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.task;\n+\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+\n+public class TaskListRunningJobs extends AbstractTaskCommand {\n+\n+    private static final String READ_HELP_MESSAGE = \"task --list-running-jobs\";\n+\n+    private final Input input;\n+\n+    public TaskListRunningJobs(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void list() {\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                taskResultManager.printTaskExecTO(taskSyncopeOperations.listRunningJobs());\n+            } catch (final SyncopeClientException ex) {\n+                taskResultManager.genericError(ex.getMessage());\n+            }\n+        } else {\n+            taskResultManager.unnecessaryParameters(input.listParameters(), READ_HELP_MESSAGE);\n+        }\n+\n+    }\n+}"},{"sha":"ec2cab12bf68b80143ef05eedb1224b1cee7357d","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/task/TaskListScheduledJobs.java","status":"added","additions":45,"deletions":0,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskListScheduledJobs.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskListScheduledJobs.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskListScheduledJobs.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,45 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.task;\n+\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+\n+public class TaskListScheduledJobs extends AbstractTaskCommand {\n+\n+    private static final String READ_HELP_MESSAGE = \"task --list-scheduled-jobs\";\n+\n+    private final Input input;\n+\n+    public TaskListScheduledJobs(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void list() {\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                taskResultManager.printTaskExecTO(taskSyncopeOperations.listScheduledJobs());\n+            } catch (final SyncopeClientException ex) {\n+                taskResultManager.genericError(ex.getMessage());\n+            }\n+        } else {\n+            taskResultManager.unnecessaryParameters(input.listParameters(), READ_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"7b9b5d56edbceaef6331405f52846a637e51fdf4","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/task/TaskRead.java","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskRead.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskRead.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskRead.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -39,14 +39,14 @@ public void read() {\n             final LinkedList<AbstractTaskTO> taskTOs = new LinkedList<>();\n             for (final String parameter : input.getParameters()) {\n                 try {\n-                    taskTOs.add(taskService.read(Long.valueOf(parameter)));\n+                    taskTOs.add(taskSyncopeOperations.read(parameter));\n                 } catch (final NumberFormatException ex) {\n                     taskResultManager.notBooleanDeletedError(\"task\", parameter);\n                 } catch (final SyncopeClientException | WebServiceException ex) {\n                     if (ex.getMessage().startsWith(\"NotFound\")) {\n                         taskResultManager.notFoundError(\"Task\", parameter);\n                     } else {\n-                        taskResultManager.generic(\"Error: \" + ex.getMessage());\n+                        taskResultManager.genericError(ex.getMessage());\n                     }\n                     break;\n                 }\n@@ -56,5 +56,4 @@ public void read() {\n             taskResultManager.commandOptionError(READ_HELP_MESSAGE);\n         }\n     }\n-\n }"},{"sha":"ad8b658a5ddc934f23cbf967f95023bba1c5906f","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/task/TaskResultManager.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskResultManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskResultManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskResultManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -113,7 +113,7 @@ private void printPropagationTask(final PropagationTaskTO propagationTaskTO) {\n         System.out.println(\"     latest execution status: \"\n                 + propagationTaskTO.getLatestExecStatus());\n         System.out.println(\"     class name: \" + propagationTaskTO.getObjectClassName());\n-        System.out.println(\"     xml attribute: \" + propagationTaskTO.getXmlAttributes());\n+        System.out.println(\"     attributes: \" + propagationTaskTO.getAttributes());\n         System.out.println(\"     start date: \" + propagationTaskTO.getStartDate());\n         System.out.println(\"     end date: \" + propagationTaskTO.getEndDate());\n         System.out.println(\"     operation: \" + propagationTaskTO.getOperation());"},{"sha":"6b819e9f87d5e73da061c570c7f2a18c3e54ad4a","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/task/TaskSyncopeOperations.java","status":"added","additions":66,"deletions":0,"changes":66,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskSyncopeOperations.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskSyncopeOperations.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskSyncopeOperations.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,66 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.task;\n+\n+import java.util.List;\n+import org.apache.syncope.client.cli.SyncopeServices;\n+import org.apache.syncope.common.lib.to.AbstractTaskTO;\n+import org.apache.syncope.common.lib.to.PagedResult;\n+import org.apache.syncope.common.lib.to.TaskExecTO;\n+import org.apache.syncope.common.lib.types.JobStatusType;\n+import org.apache.syncope.common.lib.types.TaskType;\n+import org.apache.syncope.common.rest.api.beans.TaskQuery;\n+import org.apache.syncope.common.rest.api.service.TaskService;\n+\n+public class TaskSyncopeOperations {\n+\n+    private final TaskService taskService = SyncopeServices.get(TaskService.class);\n+\n+    public List<TaskExecTO> listScheduledJobs() {\n+        return taskService.listJobs(JobStatusType.SCHEDULED);\n+    }\n+\n+    public List<TaskExecTO> listRunningJobs() {\n+        return taskService.listJobs(JobStatusType.RUNNING);\n+    }\n+\n+    public <T extends AbstractTaskTO> T read(final String taskId) {\n+        return taskService.read(Long.valueOf(taskId));\n+    }\n+\n+    public void delete(final String taskId) {\n+        taskService.read(Long.valueOf(taskId));\n+    }\n+\n+    public <T extends AbstractTaskTO> PagedResult<T> list(final TaskType type, final TaskQuery query) {\n+        return taskService.list(type, query);\n+    }\n+\n+    public TaskExecTO readExecution(final String executionId) {\n+        return taskService.readExecution(Long.valueOf(executionId));\n+    }\n+\n+    public void deleteExecution(final String executionId) {\n+        taskService.deleteExecution(Long.valueOf(executionId));\n+    }\n+\n+    public TaskExecTO execute(final String executionId, final boolean dryRun) {\n+        return taskService.execute(Long.valueOf(executionId), dryRun);\n+    }\n+}"},{"sha":"5a28a041d406eb24f825e7e0eb9dbf4d2e69ae31","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/user/AbstractUserCommand.java","status":"added","additions":27,"deletions":0,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FAbstractUserCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FAbstractUserCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FAbstractUserCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,27 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.user;\n+\n+public abstract class AbstractUserCommand {\n+\n+    protected final UserSyncopeOperations userSyncopeOperations = new UserSyncopeOperations();\n+\n+    protected final UserResultManager userResultManager = new UserResultManager();\n+\n+}"},{"sha":"f34d1d0e700bdee4ef8592d982583ffb3c3fd28b","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/user/UserCommand.java","status":"added","additions":143,"deletions":0,"changes":143,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserCommand.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserCommand.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserCommand.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,143 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.user;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.syncope.client.cli.Command;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.client.cli.commands.AbstractCommand;\n+\n+@Command(name = \"user\")\n+public class UserCommand extends AbstractCommand {\n+\n+    private static final String HELP_MESSAGE = \"Usage: user [options]\\n\"\n+            + \"  Options:\\n\"\n+            + \"    --help \\n\"\n+            + \"    --list \\n\"\n+            + \"    --count \\n\"\n+            + \"    --get-user-key\\n\"\n+            + \"       Syntax: --get-user-key {USER-ID} {USER-ID} [...]\\n\"\n+            + \"    --get-username\\n\"\n+            + \"       Syntax: --get-username {USERNAME} {USERNAME} [...]\\n\"\n+            + \"    --read \\n\"\n+            + \"       Syntax: --read {USER-ID} {USER-ID} [...]\\n\"\n+            + \"    --search-by-attribute \\n\"\n+            + \"       Syntax: --search-by-attribute {REALM} {ATTR-NAME}={ATTR-VALUE}\\n\"\n+            + \"    --search-by-role \\n\"\n+            + \"       Syntax: --search-by-role {REALM} {ROLE-ID}\\n\"\n+            + \"    --search-by-resource \\n\"\n+            + \"       Syntax: --search-by-resource {REALM} {RESOURCE-NAME}\\n\"\n+            + \"    --delete \\n\"\n+            + \"       Syntax: --delete {USER-ID} {USER-ID} [...]\";\n+\n+    @Override\n+    public void execute(final Input input) {\n+        if (StringUtils.isBlank(input.getOption())) {\n+            input.setOption(UserOptions.HELP.getOptionName());\n+        }\n+\n+        switch (UserOptions.fromName(input.getOption())) {\n+            case COUNT:\n+                new UserCount(input).count();\n+                break;\n+            case LIST:\n+                new UserList(input).list();\n+                break;\n+            case GET_BY_KEY:\n+                new UserGetKey(input).get();\n+                break;\n+            case GET_BY_USERNAME:\n+                new UserGetUsername(input).get();\n+                break;\n+            case READ:\n+                new UserRead(input).read();\n+                break;\n+            case SEARCH_BY_ATTRIBUTE:\n+                new UserSearchByAttribute(input).search();\n+                break;\n+            case SEARCH_BY_ROLE:\n+                new UserSearchByRole(input).search();\n+                break;\n+            case SEARCH_BY_RESOURCE:\n+                new UserSearchByResource(input).search();\n+                break;\n+            case DELETE:\n+                new UserDelete(input).delete();\n+                break;\n+            case HELP:\n+                System.out.println(HELP_MESSAGE);\n+                break;\n+            default:\n+                new UserResultManager().defaultError(input.getOption(), HELP_MESSAGE);\n+        }\n+    }\n+\n+    @Override\n+    public String getHelpMessage() {\n+        return HELP_MESSAGE;\n+    }\n+\n+    private enum UserOptions {\n+\n+        HELP(\"--help\"),\n+        COUNT(\"--count\"),\n+        LIST(\"--list\"),\n+        GET_BY_KEY(\"--get-user-key\"),\n+        GET_BY_USERNAME(\"--get-username\"),\n+        READ(\"--read\"),\n+        SEARCH_BY_ATTRIBUTE(\"--search-by-attribute\"),\n+        SEARCH_BY_ROLE(\"--search-by-role\"),\n+        SEARCH_BY_RESOURCE(\"--search-by-resource\"),\n+        DELETE(\"--delete\");\n+\n+        private final String optionName;\n+\n+        UserOptions(final String optionName) {\n+            this.optionName = optionName;\n+        }\n+\n+        public String getOptionName() {\n+            return optionName;\n+        }\n+\n+        public boolean equalsOptionName(final String otherName) {\n+            return (otherName == null) ? false : optionName.equals(otherName);\n+        }\n+\n+        public static UserOptions fromName(final String name) {\n+            UserOptions optionToReturn = HELP;\n+            for (final UserOptions option : UserOptions.values()) {\n+                if (option.equalsOptionName(name)) {\n+                    optionToReturn = option;\n+                }\n+            }\n+            return optionToReturn;\n+        }\n+\n+        public static List<String> toList() {\n+            final List<String> options = new ArrayList<>();\n+            for (final UserOptions value : values()) {\n+                options.add(value.getOptionName());\n+            }\n+            return options;\n+        }\n+    }\n+}"},{"sha":"73167685ebb1e94c1a6abb95cbddd455a75873ff","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/user/UserCount.java","status":"added","additions":45,"deletions":0,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserCount.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserCount.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserCount.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,45 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.user;\n+\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+\n+public class UserCount extends AbstractUserCommand {\n+\n+    private static final String COUNT_HELP_MESSAGE = \"user --count\";\n+\n+    private final Input input;\n+\n+    public UserCount(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void count() {\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                userResultManager.genericMessage(\"Total users: \" + userSyncopeOperations.count());\n+            } catch (final SyncopeClientException ex) {\n+                userResultManager.genericError(ex.getMessage());\n+            }\n+        } else {\n+            userResultManager.unnecessaryParameters(input.listParameters(), COUNT_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"80195f866d856206f0903f5912c67c0c165e28ab","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/user/UserDelete.java","status":"added","additions":55,"deletions":0,"changes":55,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserDelete.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserDelete.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserDelete.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,55 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.user;\n+\n+import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+\n+public class UserDelete extends AbstractUserCommand {\n+\n+    private static final String DELETE_HELP_MESSAGE = \"user --delete {USER-ID} {USER-ID} [...]\";\n+\n+    private final Input input;\n+\n+    public UserDelete(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void delete() {\n+        if (input.parameterNumber() >= 1) {\n+            for (final String parameter : input.getParameters()) {\n+                try {\n+                    userSyncopeOperations.delete(parameter);\n+                    userResultManager.deletedMessage(\"User\", parameter);\n+                } catch (final WebServiceException | SyncopeClientException ex) {\n+                    if (ex.getMessage().startsWith(\"NotFound\")) {\n+                        userResultManager.notFoundError(\"User\", parameter);\n+                    } else {\n+                        userResultManager.genericError(ex.getMessage());\n+                    }\n+                } catch (final NumberFormatException ex) {\n+                    userResultManager.numberFormatException(\"user\", parameter);\n+                }\n+            }\n+        } else {\n+            userResultManager.commandOptionError(DELETE_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"d11c9c887f79f88c149368258b37fafdab7dd522","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/user/UserGetKey.java","status":"added","additions":45,"deletions":0,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserGetKey.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserGetKey.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserGetKey.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,45 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.user;\n+\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+\n+public class UserGetKey extends AbstractUserCommand {\n+\n+    private static final String GET_HELP_MESSAGE = \"user --get-user-key {USERNAME}\";\n+\n+    private final Input input;\n+\n+    public UserGetKey(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void get() {\n+        if (input.getParameters().length == 1) {\n+            try {\n+                userResultManager.genericMessage(userSyncopeOperations.getIdFromUsername(input.firstParameter()));\n+            } catch (final SyncopeClientException ex) {\n+                userResultManager.genericError(ex.getMessage());\n+            }\n+        } else {\n+            userResultManager.commandOptionError(GET_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"66866633d6c9aa29527d177d352b1eb2e5fb36f5","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/user/UserGetUsername.java","status":"added","additions":45,"deletions":0,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserGetUsername.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserGetUsername.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserGetUsername.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,45 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.user;\n+\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+\n+public class UserGetUsername extends AbstractUserCommand {\n+\n+    private static final String GET_HELP_MESSAGE = \"user --get-username {USER-ID}\";\n+\n+    private final Input input;\n+\n+    public UserGetUsername(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void get() {\n+        if (input.getParameters().length == 1) {\n+            try {\n+                userResultManager.genericMessage(userSyncopeOperations.getUsernameFromId(input.firstParameter()));\n+            } catch (final SyncopeClientException ex) {\n+                userResultManager.genericError(ex.getMessage());\n+            }\n+        } else {\n+            userResultManager.commandOptionError(GET_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"94dad592a6e8c2132219170913c867c4734f5b31","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/user/UserList.java","status":"added","additions":61,"deletions":0,"changes":61,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserList.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserList.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserList.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,61 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.user;\n+\n+import java.util.LinkedList;\n+import java.util.Scanner;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.to.PagedResult;\n+import org.apache.syncope.common.lib.to.UserTO;\n+\n+public class UserList extends AbstractUserCommand {\n+\n+    private static final String LIST_HELP_MESSAGE = \"user --list\";\n+\n+    private final Input input;\n+\n+    public UserList(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void list() {\n+        if (input.parameterNumber() == 0) {\n+            try {\n+                final Scanner scanIn = new Scanner(System.in);\n+                System.out.println(\n+                        \"This operation could be print a lot of information \"\n+                        + \"on your screen. Do you want to continue? [yes/no]\");\n+                final String answer = scanIn.nextLine();\n+                if (\"yes\".equalsIgnoreCase(answer)) {\n+                    final PagedResult<UserTO> uResult = userSyncopeOperations.list();\n+                    userResultManager.toView(new LinkedList<>(uResult.getResult()));\n+                } else if (\"no\".equalsIgnoreCase(answer)) {\n+                    userResultManager.genericError(\"List operation skipped\");\n+                } else {\n+                    userResultManager.genericError(\"Invalid parameter, please use [yes/no]\");\n+                }\n+            } catch (final SyncopeClientException ex) {\n+                userResultManager.genericError(ex.getMessage());\n+            }\n+        } else {\n+            userResultManager.unnecessaryParameters(input.listParameters(), LIST_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"39dcb23487d44c918afe3694895247332a893d45","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/user/UserRead.java","status":"added","additions":60,"deletions":0,"changes":60,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserRead.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserRead.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserRead.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,60 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.user;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.to.UserTO;\n+\n+public class UserRead extends AbstractUserCommand {\n+\n+    private static final String READ_HELP_MESSAGE = \"user --read {USER-ID} {USER-ID} [...]\";\n+\n+    private final Input input;\n+\n+    public UserRead(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void read() {\n+        if (input.getParameters().length >= 1) {\n+            final List<UserTO> userTOs = new ArrayList<>();\n+            for (final String parameter : input.getParameters()) {\n+                try {\n+                    userTOs.add(userSyncopeOperations.read(parameter));\n+                } catch (final SyncopeClientException | WebServiceException ex) {\n+                    if (ex.getMessage().startsWith(\"NotFound\")) {\n+                        userResultManager.notFoundError(\"User\", parameter);\n+                    } else {\n+                        userResultManager.genericError(ex.getMessage());\n+                    }\n+                    break;\n+                } catch (final NumberFormatException ex) {\n+                    userResultManager.numberFormatException(\"user\", parameter);\n+                }\n+            }\n+            userResultManager.toView(userTOs);\n+        } else {\n+            userResultManager.commandOptionError(READ_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"b175842890b06cde8289e9889a81e6f6a5621098","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/user/UserResultManager.java","status":"added","additions":107,"deletions":0,"changes":107,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserResultManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserResultManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserResultManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,107 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.user;\n+\n+import java.util.List;\n+import java.util.Set;\n+import org.apache.syncope.client.cli.commands.CommonsResultManager;\n+import org.apache.syncope.common.lib.to.AttrTO;\n+import org.apache.syncope.common.lib.to.PropagationStatus;\n+import org.apache.syncope.common.lib.to.RelationshipTO;\n+import org.apache.syncope.common.lib.to.UserTO;\n+\n+public class UserResultManager extends CommonsResultManager {\n+\n+    public void toView(final List<UserTO> userTOs) {\n+        for (final UserTO userTO : userTOs) {\n+            printUser(userTO);\n+        }\n+    }\n+\n+    private void printUser(final UserTO userTO) {\n+        System.out.println(\" > USER ID: \" + userTO.getKey());\n+        System.out.println(\"    username: \" + userTO.getUsername());\n+        System.out.println(\"    realm: \" + userTO.getRealm());\n+        System.out.println(\"    status: \" + userTO.getStatus());\n+        System.out.println(\"    RESOURCES: \");\n+        printResource(userTO.getResources());\n+        System.out.println(\"    ROLES: \");\n+        printRole(userTO.getRoles());\n+        System.out.println(\"    creation date: \" + userTO.getCreationDate());\n+        System.out.println(\"    change password date: \" + userTO.getChangePwdDate());\n+        System.out.println(\"    PLAIN ATTRIBUTES: \");\n+        printAttributes(userTO.getPlainAttrs());\n+        System.out.println(\"    DERIVED ATTRIBUTES: \");\n+        printAttributes(userTO.getDerAttrs());\n+        System.out.println(\"    VIRTUAL ATTRIBUTES: \");\n+        printAttributes(userTO.getVirAttrs());\n+        System.out.println(\"    creator: \" + userTO.getCreator());\n+        System.out.println(\"    last modifier: \" + userTO.getLastModifier());\n+        System.out.println(\"    token: \" + userTO.getToken());\n+        System.out.println(\"    token expiration time: \" + userTO.getTokenExpireTime());\n+        System.out.println(\"    last change: \" + userTO.getLastChangeDate());\n+        System.out.println(\"    last login: \" + userTO.getLastLoginDate());\n+        System.out.println(\"    failed logins: \" + userTO.getFailedLogins());\n+        System.out.println(\"RELATIONSHIPS:\");\n+        printRelationships(userTO.getRelationships());\n+        System.out.println(\"    security question id: \" + userTO.getSecurityQuestion());\n+        System.out.println(\"    security question answer id: \" + userTO.getSecurityAnswer());\n+        System.out.println(\"\");\n+    }\n+\n+    private void printResource(final Set<String> resources) {\n+        for (final String resource : resources) {\n+            System.out.println(\"       - \" + resource);\n+        }\n+    }\n+\n+    private void printRole(final List<Long> roles) {\n+        for (final Long role : roles) {\n+            System.out.println(\"       - \" + role);\n+        }\n+    }\n+\n+    private void printAttributes(final Set<AttrTO> derAttrTOs) {\n+        for (final AttrTO attrTO : derAttrTOs) {\n+            final StringBuilder attributeSentence = new StringBuilder();\n+            attributeSentence.append(\"       \")\n+                    .append(attrTO.getSchema())\n+                    .append(\": \")\n+                    .append(attrTO.getValues());\n+            if (attrTO.isReadonly()) {\n+                attributeSentence.append(\" - is readonly.\");\n+            }\n+            System.out.println(attributeSentence);\n+        }\n+    }\n+\n+    private void printPropagationStatus(final List<PropagationStatus> propagationStatuses) {\n+        for (final PropagationStatus propagationStatus : propagationStatuses) {\n+            System.out.println(\"       status: \" + propagationStatus.getStatus());\n+            System.out.println(\"       resource: \" + propagationStatus.getResource());\n+            System.out.println(\"       failure reason: \" + propagationStatus.getFailureReason());\n+        }\n+    }\n+\n+    private void printRelationships(final List<RelationshipTO> relationshipTOs) {\n+        for (final RelationshipTO relationshipTO : relationshipTOs) {\n+            System.out.println(\"       type: \" + relationshipTO.getType());\n+        }\n+    }\n+}"},{"sha":"a00812faca56f0ea7caa4e39843c299dbb7e10f5","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/user/UserSearchByAttribute.java","status":"added","additions":70,"deletions":0,"changes":70,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserSearchByAttribute.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserSearchByAttribute.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserSearchByAttribute.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,70 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.user;\n+\n+import java.util.List;\n+import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.client.cli.commands.realm.RealmSyncopeOperations;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.to.UserTO;\n+\n+public class UserSearchByAttribute extends AbstractUserCommand {\n+\n+    private static final String SEARCH_HELP_MESSAGE = \"user --search-by-attribute {REALM} {ATTR-NAME}={ATTR-VALUE}\";\n+\n+    private final Input input;\n+\n+    public UserSearchByAttribute(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void search() {\n+        if (input.parameterNumber() >= 2) {\n+            final String realm = input.firstParameter();\n+            final Input.PairParameter pairParameter = input.toPairParameter(input.secondParameter());\n+            final RealmSyncopeOperations realmSyncopeOperations = new RealmSyncopeOperations();\n+            try {\n+                List<UserTO> userTOs;\n+                if (!realmSyncopeOperations.exists(realm)) {\n+                    userResultManager.genericMessage(\"Operation performed on root realm because \" + realm\n+                            + \"does not exists\");\n+                }\n+                userTOs = userSyncopeOperations.searchByAttribute(\n+                        realm, pairParameter.getKey(), pairParameter.getValue());\n+                if (userTOs == null || userTOs.isEmpty()) {\n+                    userResultManager.genericMessage(\"No users found with attribute \"\n+                            + pairParameter.getKey() + \" and value \" + pairParameter.getValue());\n+                } else {\n+                    userResultManager.toView(userTOs);\n+                }\n+            } catch (final WebServiceException | SyncopeClientException ex) {\n+                if (ex.getMessage().startsWith(\"NotFound\")) {\n+                    userResultManager.notFoundError(\"User with \" + pairParameter.getKey(), pairParameter.getValue());\n+                } else {\n+                    userResultManager.genericError(ex.getMessage());\n+                }\n+            } catch (final IllegalArgumentException ex) {\n+                userResultManager.genericError(ex.getMessage());\n+                userResultManager.genericError(SEARCH_HELP_MESSAGE);\n+            }\n+            userResultManager.commandOptionError(SEARCH_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"5d6177c24c686f6afaa49e5059cc883e80f9fc35","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/user/UserSearchByResource.java","status":"added","additions":69,"deletions":0,"changes":69,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserSearchByResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserSearchByResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserSearchByResource.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,69 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.user;\n+\n+import java.util.List;\n+import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.client.cli.commands.realm.RealmSyncopeOperations;\n+import org.apache.syncope.client.cli.commands.resource.ResourceSyncopeOperations;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.to.UserTO;\n+\n+public class UserSearchByResource extends AbstractUserCommand {\n+\n+    private static final String SEARCH_HELP_MESSAGE = \"user --search {REALM} {RESOURCE-NAME}\";\n+\n+    private final Input input;\n+\n+    public UserSearchByResource(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void search() {\n+        if (input.parameterNumber() == 2) {\n+            final String realm = input.firstParameter();\n+            final String resource = input.secondParameter();\n+            final RealmSyncopeOperations realmSyncopeOperations = new RealmSyncopeOperations();\n+            final ResourceSyncopeOperations resourceSyncopeOperations = new ResourceSyncopeOperations();\n+            try {\n+                List<UserTO> userTOs = null;\n+                if (!realmSyncopeOperations.exists(realm)) {\n+                    userResultManager.genericMessage(\"Operation performed on root realm because \" + realm\n+                            + \"does not exists\");\n+                }\n+                if (!resourceSyncopeOperations.exists(resource)) {\n+                    userResultManager.notFoundError(\"Resource\", resource);\n+                } else {\n+                    userTOs = userSyncopeOperations.searchByResource(realm, resource);\n+                }\n+                if (userTOs == null || userTOs.isEmpty()) {\n+                    userResultManager.genericMessage(\"No users has \" + resource + \" assigned\");\n+                } else {\n+                    userResultManager.toView(userTOs);\n+                }\n+            } catch (final WebServiceException | SyncopeClientException ex) {\n+                userResultManager.genericError(ex.getMessage());\n+                userResultManager.genericError(SEARCH_HELP_MESSAGE);\n+            }\n+        } else {\n+            userResultManager.commandOptionError(SEARCH_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"6e041fe636558187a16608c027f5588a50e3c358","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/user/UserSearchByRole.java","status":"added","additions":63,"deletions":0,"changes":63,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserSearchByRole.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserSearchByRole.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserSearchByRole.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,63 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.user;\n+\n+import java.util.List;\n+import javax.xml.ws.WebServiceException;\n+import org.apache.syncope.client.cli.Input;\n+import org.apache.syncope.client.cli.commands.realm.RealmSyncopeOperations;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.to.UserTO;\n+\n+public class UserSearchByRole extends AbstractUserCommand {\n+\n+    private static final String SEARCH_HELP_MESSAGE = \"user --search {REALM} {ROLE-ID}\";\n+\n+    private final Input input;\n+\n+    public UserSearchByRole(final Input input) {\n+        this.input = input;\n+    }\n+\n+    public void search() {\n+        if (input.parameterNumber() == 2) {\n+            final String realm = input.firstParameter();\n+            final String role = input.secondParameter();\n+            final RealmSyncopeOperations realmSyncopeOperations = new RealmSyncopeOperations();\n+            try {\n+                List<UserTO> userTOs;\n+                if (!realmSyncopeOperations.exists(realm)) {\n+                    userResultManager.genericMessage(\"Operation performed on root realm because \"\n+                            + realm + \"does not exists\");\n+                }\n+                userTOs = userSyncopeOperations.searchByRole(realm, input.secondParameter());\n+                if (userTOs == null || userTOs.isEmpty()) {\n+                    userResultManager.genericMessage(\"No users has \" + role + \" assigned\");\n+                } else {\n+                    userResultManager.toView(userTOs);\n+                }\n+            } catch (final WebServiceException | SyncopeClientException ex) {\n+                userResultManager.genericError(ex.getMessage());\n+                userResultManager.genericError(SEARCH_HELP_MESSAGE);\n+            }\n+        } else {\n+            userResultManager.commandOptionError(SEARCH_HELP_MESSAGE);\n+        }\n+    }\n+}"},{"sha":"0496d97d477b91729f0e7e0429303927c90bebcc","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/user/UserSyncopeOperations.java","status":"added","additions":78,"deletions":0,"changes":78,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserSyncopeOperations.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserSyncopeOperations.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Fuser%2FUserSyncopeOperations.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,78 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.cli.commands.user;\n+\n+import java.util.List;\n+import org.apache.syncope.client.cli.SyncopeServices;\n+import org.apache.syncope.client.lib.SyncopeClient;\n+import org.apache.syncope.common.lib.to.PagedResult;\n+import org.apache.syncope.common.lib.to.UserTO;\n+import org.apache.syncope.common.rest.api.RESTHeaders;\n+import org.apache.syncope.common.rest.api.beans.AnyListQuery;\n+import org.apache.syncope.common.rest.api.service.UserService;\n+\n+public class UserSyncopeOperations {\n+\n+    private final UserService userService = SyncopeServices.get(UserService.class);\n+\n+    public List<UserTO> searchByRole(final String realm, final String role) {\n+        return userService.search(\n+                SyncopeClient.getAnySearchQueryBuilder().realm(realm).\n+                fiql(SyncopeClient.getUserSearchConditionBuilder().inRoles(Long.valueOf(role))\n+                        .query()).build()).getResult();\n+    }\n+\n+    public List<UserTO> searchByResource(final String realm, final String resource) {\n+        return userService.search(\n+                SyncopeClient.getAnySearchQueryBuilder().realm(realm).\n+                fiql(SyncopeClient.getUserSearchConditionBuilder().hasResources(resource)\n+                        .query()).build()).getResult();\n+    }\n+\n+    public List<UserTO> searchByAttribute(final String realm, final String attributeName, final String attributeValue) {\n+        return userService.search(\n+                SyncopeClient.getAnySearchQueryBuilder().realm(realm).\n+                fiql(SyncopeClient.getUserSearchConditionBuilder().is(attributeName).equalTo(attributeValue)\n+                        .query()).build()).getResult();\n+    }\n+\n+    public PagedResult<UserTO> list() {\n+        return userService.list(new AnyListQuery());\n+    }\n+\n+    public UserTO read(final String userId) {\n+        return userService.read(Long.valueOf(userId));\n+    }\n+\n+    public void delete(final String userId) {\n+        userService.delete(Long.valueOf(userId));\n+    }\n+\n+    public int count() {\n+        return list().getResult().size();\n+    }\n+\n+    public String getUsernameFromId(final String userId) {\n+        return userService.getUsername(Long.valueOf(userId)).getHeaderString(RESTHeaders.USERNAME);\n+    }\n+\n+    public String getIdFromUsername(final String username) {\n+        return userService.getUserKey(username).getHeaderString(RESTHeaders.USER_KEY);\n+    }\n+}"},{"sha":"c1c21823d8642abc14b50bafd2fd4de1fdb37218","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/util/CommandUtils.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Futil%2FCommandUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Futil%2FCommandUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Futil%2FCommandUtils.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -88,5 +88,4 @@ public static String helpMessage(final String command, final List<String> option\n     private CommandUtils() {\n \n     }\n-\n }"},{"sha":"aed3bd5ac4078d7c8003888736a0a1af4588d5b1","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/util/FileSystemUtils.java","status":"modified","additions":7,"deletions":2,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Futil%2FFileSystemUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Futil%2FFileSystemUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Futil%2FFileSystemUtils.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -41,8 +41,13 @@ public static boolean canWrite(final String path) {\n         final File installationDirectory = new File(path);\n         return installationDirectory.canWrite();\n     }\n-    \n+\n+    public static boolean exists(final String path) {\n+        final File installationDirectory = new File(path);\n+        return installationDirectory.exists();\n+    }\n+\n     private FileSystemUtils() {\n-        \n+\n     }\n }"},{"sha":"c0af3b0122c8c6a9b48210558367a57636253b68","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/util/JasyptUtils.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Futil%2FJasyptUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Futil%2FJasyptUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Futil%2FJasyptUtils.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -45,5 +45,4 @@ public String encrypt(final String password) {\n     public String decrypt(final String encryptedString) {\n         return textEncryptor.decrypt(encryptedString);\n     }\n-\n }"},{"sha":"c06252407ba4b13b66522395ebf097cc7ac5f0eb","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/view/Messages.java","status":"modified","additions":6,"deletions":1,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fview%2FMessages.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fview%2FMessages.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fview%2FMessages.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,6 +18,8 @@\n  */\n package org.apache.syncope.client.cli.view;\n \n+import java.util.List;\n+\n public final class Messages {\n \n     private static final String OPTION_COMMAND_MESSAGE_TEMPLATE = \"\\n - Usage: %s\\n\";\n@@ -87,7 +89,10 @@ public static void printTypeNotValidMessage(final String what, final String key,\n     public static void printDefaultMessage(final String option, final String helpMessage) {\n         printMessage(String.format(DEFAULT_MESSAGE_TEMPLATE, option, helpMessage));\n     }\n-\n+    \n+    public static void printUnnecessaryParameters(final List<String> parameters, final String helpMessage) {\n+        printMessage(\"Unnecessary parameter: \" + parameters, \"Usage: \" + helpMessage);\n+    }\n     private Messages() {\n \n     }"},{"sha":"db85db175c4198ae41f3fe7286a1334e9c0f93d3","filename":"client/console/src/main/java/org/apache/syncope/client/console/pages/ProvisioningModalPage.java","status":"modified","additions":6,"deletions":9,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FProvisioningModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FProvisioningModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FProvisioningModalPage.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -41,8 +41,6 @@\n import org.apache.syncope.common.lib.to.ResourceTO;\n import org.apache.syncope.common.lib.types.AnyTypeKind;\n import org.apache.syncope.common.lib.types.ResourceDeassociationAction;\n-import org.apache.syncope.common.lib.wrap.AbstractWrappable;\n-import org.apache.syncope.common.lib.wrap.AnyKey;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n@@ -230,22 +228,21 @@ public List<StatusBean> getStatusBeans() {\n \n     private void bulkAssociationAction(\n             final AjaxRequestTarget target,\n-            final ResourceDeassociationAction type,\n+            final ResourceDeassociationAction action,\n             final ActionDataTablePanel<StatusBean, String> table,\n             final List<IColumn<StatusBean, String>> columns) {\n \n-        final List<StatusBean> beans = new ArrayList<>(table.getModelObject());\n-        List<AnyKey> subjectKeys = new ArrayList<>();\n+        List<StatusBean> beans = new ArrayList<>(table.getModelObject());\n+        List<Long> anyKeys = new ArrayList<>();\n         for (StatusBean bean : beans) {\n-            LOG.debug(\"Selected bean {}\", bean);\n-            subjectKeys.add(AbstractWrappable.getInstance(AnyKey.class, bean.getAnyKey()));\n+            anyKeys.add(bean.getAnyKey());\n         }\n \n         if (beans.isEmpty()) {\n             modal.close(target);\n         } else {\n-            final BulkActionResult res = resourceRestClient.bulkAssociationAction(\n-                    resourceTO.getKey(), anyTypeKind.name(), type, subjectKeys);\n+            BulkActionResult res = resourceRestClient.bulkAssociationAction(resourceTO.getKey(), anyTypeKind.name(),\n+                    action, anyKeys);\n \n             ((BasePage) pageRef.getPage()).setModalResult(true);\n "},{"sha":"ef1d433653e89a232c776bd266ff42b83c8167b0","filename":"client/console/src/main/java/org/apache/syncope/client/console/pages/Realms.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FRealms.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,8 +18,6 @@\n  */\n package org.apache.syncope.client.console.pages;\n \n-import static org.apache.wicket.Component.ENABLE;\n-\n import org.apache.syncope.client.console.SyncopeConsoleSession;\n import org.apache.syncope.client.console.commons.Constants;\n import org.apache.syncope.client.console.panels.Realm;"},{"sha":"3725019859abe4185417df9553300c29d76a7e87","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/Realm.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealm.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealm.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealm.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,8 +18,6 @@\n  */\n package org.apache.syncope.client.console.panels;\n \n-import static org.apache.syncope.common.lib.types.AnyTypeKind.USER;\n-\n import com.googlecode.wicket.jquery.core.panel.LabelPanel;\n import de.agilecoders.wicket.core.markup.html.bootstrap.tabs.AjaxBootstrapTabbedPanel;\n import java.util.ArrayList;"},{"sha":"d4c38f4ad36885f1e6dac5dc885d0723a7b3efa7","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/RealmModalPanel.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealmModalPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealmModalPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealmModalPanel.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,8 +18,6 @@\n  */\n package org.apache.syncope.client.console.panels;\n \n-import static org.apache.wicket.Component.ENABLE;\n-\n import org.apache.syncope.client.console.SyncopeConsoleSession;\n import org.apache.syncope.client.console.commons.Constants;\n import org.apache.syncope.client.console.pages.AbstractBasePage;"},{"sha":"730b4cf27675f2c456b561ae2c51791398c5353e","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/ResourceConnConfPanel.java","status":"modified","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FResourceConnConfPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FResourceConnConfPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FResourceConnConfPanel.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -41,8 +41,8 @@ public ResourceConnConfPanel(final String id, final IModel<ResourceTO> model, fi\n         this.createFlag = createFlag;\n \n         final List<ConnConfProperty> connConfProperties = getConnProperties(model.getObject());\n-        model.getObject().getConnConfProperties().clear();\n-        model.getObject().getConnConfProperties().addAll(connConfProperties);\n+        model.getObject().getConfOverride().clear();\n+        model.getObject().getConfOverride().addAll(connConfProperties);\n \n         setConfPropertyListView(\"connConfProperties\", false);\n \n@@ -61,17 +61,17 @@ protected final List<ConnConfProperty> getConnProperties(final ResourceTO resour\n         List<ConnConfProperty> props = new ArrayList<>();\n         Long connectorKey = resourceTO.getConnector();\n         if (connectorKey != null && connectorKey > 0) {\n-            for (ConnConfProperty property : restClient.getConnectorProperties(connectorKey)) {\n+            for (ConnConfProperty property : restClient.read(connectorKey).getConf()) {\n                 if (property.isOverridable()) {\n                     props.add(property);\n                 }\n             }\n         }\n-        if (createFlag || resourceTO.getConnConfProperties().isEmpty()) {\n-            resourceTO.getConnConfProperties().clear();\n+        if (createFlag || resourceTO.getConfOverride().isEmpty()) {\n+            resourceTO.getConfOverride().clear();\n         } else {\n             Map<String, ConnConfProperty> valuedProps = new HashMap<>();\n-            for (ConnConfProperty prop : resourceTO.getConnConfProperties()) {\n+            for (ConnConfProperty prop : resourceTO.getConfOverride()) {\n                 valuedProps.put(prop.getSchema().getName(), prop);\n             }\n "},{"sha":"dd73ba35b47349651a21fe6983b8fe52125c4729","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/ResourceMappingPanel.java","status":"modified","additions":16,"deletions":4,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FResourceMappingPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FResourceMappingPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FResourceMappingPanel.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -25,6 +25,8 @@\n import java.util.Comparator;\n import java.util.List;\n import java.util.Set;\n+import org.apache.commons.collections4.CollectionUtils;\n+import org.apache.commons.collections4.Transformer;\n import org.apache.syncope.client.console.commons.Constants;\n import org.apache.syncope.client.console.commons.JexlHelpUtils;\n import org.apache.syncope.client.console.rest.ConnectorRestClient;\n@@ -36,6 +38,7 @@\n import org.apache.syncope.client.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.apache.syncope.client.console.wicket.markup.html.form.FieldPanel;\n import org.apache.syncope.client.console.wicket.markup.html.form.MappingPurposePanel;\n+import org.apache.syncope.common.lib.to.ConnIdObjectClassTO;\n import org.apache.syncope.common.lib.to.ConnInstanceTO;\n import org.apache.syncope.common.lib.to.MappingItemTO;\n import org.apache.syncope.common.lib.to.MappingTO;\n@@ -150,7 +153,7 @@ public ResourceMappingPanel(final String id, final ResourceTO resourceTO, final\n         add(this.mappingContainer);\n \n         if (resourceTO.getConnector() != null && resourceTO.getConnector() > 0) {\n-            schemaNames = getSchemaNames(resourceTO.getConnector(), resourceTO.getConnConfProperties());\n+            schemaNames = getSchemaNames(resourceTO.getConnector(), resourceTO.getConfOverride());\n             setEnabled();\n         } else {\n             schemaNames = Collections.<String>emptyList();\n@@ -439,15 +442,24 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n     private List<String> getSchemaNames(final Long connectorId, final Set<ConnConfProperty> conf) {\n         final ConnInstanceTO connInstanceTO = new ConnInstanceTO();\n         connInstanceTO.setKey(connectorId);\n-        connInstanceTO.getConfiguration().addAll(conf);\n+        connInstanceTO.getConf().addAll(conf);\n \n-        return connRestClient.getSchemaNames(connInstanceTO);\n+        // SYNCOPE-156: use provided info to give schema names (and type!) by ObjectClass\n+        return CollectionUtils.collect(connRestClient.buildObjectClassInfo(connInstanceTO, true),\n+                new Transformer<ConnIdObjectClassTO, String>() {\n+\n+                    @Override\n+                    public String transform(final ConnIdObjectClassTO input) {\n+                        return input.getType();\n+                    }\n+                },\n+                new ArrayList<String>());\n     }\n \n     private void setEnabled() {\n         ConnInstanceTO connInstanceTO = new ConnInstanceTO();\n         connInstanceTO.setKey(resourceTO.getConnector());\n-        connInstanceTO.getConfiguration().addAll(resourceTO.getConnConfProperties());\n+        connInstanceTO.getConf().addAll(resourceTO.getConfOverride());\n \n         boolean enabled = provisionTO != null;\n "},{"sha":"208afa4c4f6336cff72178205ab7733190c265b2","filename":"client/console/src/main/java/org/apache/syncope/client/console/rest/ConnectorRestClient.java","status":"modified","additions":12,"deletions":47,"changes":59,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FConnectorRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FConnectorRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FConnectorRestClient.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -29,11 +29,10 @@\n import org.apache.syncope.common.lib.to.BulkAction;\n import org.apache.syncope.common.lib.to.BulkActionResult;\n import org.apache.syncope.common.lib.to.ConnBundleTO;\n+import org.apache.syncope.common.lib.to.ConnIdObjectClassTO;\n import org.apache.syncope.common.lib.to.ConnInstanceTO;\n-import org.apache.syncope.common.lib.to.PlainSchemaTO;\n import org.apache.syncope.common.lib.to.ResourceTO;\n import org.apache.syncope.common.lib.types.ConnConfProperty;\n-import org.apache.syncope.common.lib.wrap.ConnIdObjectClass;\n import org.apache.syncope.common.rest.api.service.ConnectorService;\n import org.apache.syncope.common.rest.api.service.ResourceService;\n import org.springframework.beans.BeanUtils;\n@@ -58,9 +57,9 @@ public List<ConnInstanceTO> getAllConnectors() {\n     }\n \n     public ConnInstanceTO create(final ConnInstanceTO connectorTO) {\n-        Set<ConnConfProperty> filteredConf = filterProperties(connectorTO.getConfiguration());\n-        connectorTO.getConfiguration().clear();\n-        connectorTO.getConfiguration().addAll(filteredConf);\n+        Set<ConnConfProperty> filteredConf = filterProperties(connectorTO.getConf());\n+        connectorTO.getConf().clear();\n+        connectorTO.getConf().addAll(filteredConf);\n \n         final ConnectorService service = getService(ConnectorService.class);\n         final Response response = service.create(connectorTO);\n@@ -88,9 +87,9 @@ public ConnInstanceTO read(final Long key) {\n     }\n \n     public void update(final ConnInstanceTO connectorTO) {\n-        Set<ConnConfProperty> filteredConf = filterProperties(connectorTO.getConfiguration());\n-        connectorTO.getConfiguration().clear();\n-        connectorTO.getConfiguration().addAll(filteredConf);\n+        Set<ConnConfProperty> filteredConf = filterProperties(connectorTO.getConf());\n+        connectorTO.getConf().clear();\n+        connectorTO.getConf().addAll(filteredConf);\n         getService(ConnectorService.class).update(connectorTO);\n     }\n \n@@ -113,24 +112,6 @@ public List<ConnBundleTO> getAllBundles() {\n         return bundles;\n     }\n \n-    /**\n-     * Get all configuration properties for the given connector instance.\n-     *\n-     * @param connectorId the connector id\n-     * @return List of ConnConfProperty, or an empty list in case none found\n-     */\n-    public List<ConnConfProperty> getConnectorProperties(final Long connectorId) {\n-        List<ConnConfProperty> properties = null;\n-\n-        try {\n-            properties = getService(ConnectorService.class).getConfigurationProperties(connectorId);\n-        } catch (SyncopeClientException e) {\n-            LOG.error(\"While getting connector configuration properties\", e);\n-        }\n-\n-        return properties;\n-    }\n-\n     private Set<ConnConfProperty> filterProperties(final Set<ConnConfProperty> properties) {\n         Set<ConnConfProperty> newProperties = new HashSet<>();\n \n@@ -162,7 +143,7 @@ private Set<ConnConfProperty> filterProperties(final Set<ConnConfProperty> prope\n     public boolean check(final ConnInstanceTO connectorTO) {\n         ConnInstanceTO toBeChecked = new ConnInstanceTO();\n         BeanUtils.copyProperties(connectorTO, toBeChecked, new String[] { \"configuration\", \"configurationMap\" });\n-        toBeChecked.getConfiguration().addAll(filterProperties(connectorTO.getConfiguration()));\n+        toBeChecked.getConf().addAll(filterProperties(connectorTO.getConf()));\n \n         boolean check = false;\n         try {\n@@ -187,28 +168,12 @@ public boolean check(final ResourceTO resourceTO) {\n         return check;\n     }\n \n-    public List<String> getSchemaNames(final ConnInstanceTO connectorTO) {\n-        List<String> schemaNames = new ArrayList<>();\n-        try {\n-            List<PlainSchemaTO> response = getService(ConnectorService.class).\n-                    getSchemaNames(connectorTO.getKey(), connectorTO, false);\n-            for (PlainSchemaTO schema : response) {\n-                schemaNames.add(schema.getKey());\n-            }\n-        } catch (Exception e) {\n-            LOG.error(\"While getting schema names\", e);\n-        } finally {\n-            // re-order schema names list\n-            Collections.sort(schemaNames);\n-        }\n-\n-        return schemaNames;\n-    }\n+    public List<ConnIdObjectClassTO> buildObjectClassInfo(\n+            final ConnInstanceTO connInstanceTO, final boolean includeSpecial) {\n \n-    public List<ConnIdObjectClass> getSupportedObjectClasses(final ConnInstanceTO connectorTO) {\n-        List<ConnIdObjectClass> result = Collections.emptyList();\n+        List<ConnIdObjectClassTO> result = Collections.emptyList();\n         try {\n-            result = getService(ConnectorService.class).getSupportedObjectClasses(connectorTO.getKey(), connectorTO);\n+            result = getService(ConnectorService.class).buildObjectClassInfo(connInstanceTO, includeSpecial);\n         } catch (Exception e) {\n             LOG.error(\"While getting supported object classes\", e);\n         }"},{"sha":"56283ab339270a68ed374caea7bf81a1e3fb0a80","filename":"client/console/src/main/java/org/apache/syncope/client/console/rest/LoggerRestClient.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FLoggerRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FLoggerRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FLoggerRestClient.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -29,7 +29,7 @@\n import org.apache.syncope.common.lib.types.AuditLoggerName;\n import org.apache.syncope.common.lib.types.LoggerLevel;\n import org.apache.syncope.common.lib.types.LoggerType;\n-import org.apache.syncope.common.rest.api.CollectionWrapper;\n+import org.apache.syncope.common.rest.api.LoggerWrapper;\n import org.apache.syncope.common.rest.api.service.LoggerService;\n import org.springframework.stereotype.Component;\n \n@@ -43,7 +43,7 @@ public List<LoggerTO> listLogs() {\n     }\n \n     public List<AuditLoggerName> listAudits() {\n-        return CollectionWrapper.wrapLogger(getService(LoggerService.class).list(LoggerType.AUDIT));\n+        return LoggerWrapper.wrap(getService(LoggerService.class).list(LoggerType.AUDIT));\n     }\n \n     public Map<String, Set<AuditLoggerName>> listAuditsByCategory() {"},{"sha":"3f7672d61c0e529f96751e191d0586a145266d9f","filename":"client/console/src/main/java/org/apache/syncope/client/console/rest/ResourceRestClient.java","status":"modified","additions":9,"deletions":3,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FResourceRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FResourceRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FResourceRestClient.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -22,11 +22,11 @@\n import javax.ws.rs.core.Response;\n import org.apache.syncope.client.console.SyncopeConsoleSession;\n import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.patch.ResourceDeassociationPatch;\n import org.apache.syncope.common.lib.to.BulkAction;\n import org.apache.syncope.common.lib.to.BulkActionResult;\n import org.apache.syncope.common.lib.to.ResourceTO;\n import org.apache.syncope.common.lib.types.ResourceDeassociationAction;\n-import org.apache.syncope.common.lib.wrap.AnyKey;\n import org.apache.syncope.common.rest.api.service.ResourceService;\n import org.springframework.stereotype.Component;\n \n@@ -85,8 +85,14 @@ public BulkActionResult bulkAction(final BulkAction action) {\n \n     public BulkActionResult bulkAssociationAction(\n             final String resourceName, final String anyTypeName,\n-            final ResourceDeassociationAction type, final List<AnyKey> anyKeys) {\n+            final ResourceDeassociationAction action, final List<Long> anyKeys) {\n \n-        return getService(ResourceService.class).bulkDeassociation(resourceName, anyTypeName, type, anyKeys);\n+        ResourceDeassociationPatch patch = new ResourceDeassociationPatch();\n+        patch.setKey(resourceName);\n+        patch.setAnyTypeKey(anyTypeName);\n+        patch.setAction(action);\n+        patch.getAnyKyes().addAll(anyKeys);\n+\n+        return getService(ResourceService.class).bulkDeassociation(patch);\n     }\n }"},{"sha":"a9dc2606c53dbf82f4986e9469397f79919a5224","filename":"client/enduser/pom.xml","status":"added","additions":194,"deletions":0,"changes":194,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fpom.xml?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,194 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+  <modelVersion>4.0.0</modelVersion>\n+  \n+  <parent>\n+    <groupId>org.apache.syncope</groupId>\n+    <artifactId>syncope-client</artifactId>\n+    <version>2.0.0-SNAPSHOT</version>\n+  </parent>\n+    \n+  <name>Apache Syncope Client Enduser</name>\n+  <description>Apache Syncope Client Enduser</description>\n+  <groupId>org.apache.syncope.client</groupId>\n+  <artifactId>syncope-client-enduser</artifactId>\n+  <packaging>jar</packaging>\n+  \n+  <properties>\n+    <rootpom.basedir>${basedir}/../..</rootpom.basedir>\n+  </properties>\n+  \n+  <dependencies>\n+    \n+    <dependency>\n+      <groupId>org.apache.syncope.core</groupId>\n+      <artifactId>syncope-core-misc</artifactId>\n+      <version>${project.version}</version>\n+    </dependency>\n+\n+    <dependency> \n+      <groupId>javax.servlet</groupId> \n+      <artifactId>javax.servlet-api</artifactId>\n+      <scope>provided</scope>\n+    </dependency>\n+    \n+    <dependency>\n+      <groupId>org.apache.wicket</groupId>\n+      <artifactId>wicket</artifactId>\n+      <type>pom</type>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.apache.wicket</groupId>\n+      <artifactId>wicket-extensions</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.apache.wicket</groupId>\n+      <artifactId>wicket-datetime</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.apache.wicket</groupId>\n+      <artifactId>wicket-spring</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.apache.wicket</groupId>\n+      <artifactId>wicket-auth-roles</artifactId>\n+    </dependency>\n+    \n+    <!--AngularJS-->    \n+    <dependency>\n+      <groupId>org.webjars.bower</groupId>\n+      <artifactId>angular</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars.bower</groupId>\n+      <artifactId>angular-route</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars.bower</groupId>\n+      <artifactId>angular-resource</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars</groupId>\n+      <artifactId>angular-ui-router</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars.bower</groupId>\n+      <artifactId>angular-animate</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars.bower</groupId>\n+      <artifactId>angular-cookies</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars</groupId>\n+      <artifactId>angular-growl-2</artifactId>\n+    </dependency>\n+    <!--Bootstrap-->\n+    <dependency>\n+      <groupId>org.webjars</groupId>\n+      <artifactId>font-awesome</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars</groupId>\n+      <artifactId>bootstrap-select</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars</groupId>\n+      <artifactId>bootstrap</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars</groupId>\n+      <artifactId>ionicons</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars</groupId>\n+      <artifactId>angular-ui-bootstrap</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars</groupId>\n+      <artifactId>angular-ui-select</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars.bower</groupId>\n+      <artifactId>angular-sanitize</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars.bower</groupId>\n+      <artifactId>select2</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars.bower</groupId>\n+      <artifactId>FileSaver.js</artifactId>\n+    </dependency>\n+\n+    <!--Jquery-->\n+    <dependency>\n+      <groupId>org.webjars</groupId>\n+      <artifactId>jquery</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars</groupId>\n+      <artifactId>jquery-cookie</artifactId>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.webjars</groupId>\n+      <artifactId>jquery-ui</artifactId>\n+    </dependency>\n+    \n+    <!--Logging-->\n+    <dependency>\n+      <groupId>org.apache.logging.log4j</groupId>\n+      <artifactId>log4j-core</artifactId>\n+    </dependency>\n+    \n+    <dependency>\n+      <groupId>org.apache.syncope.client</groupId>\n+      <artifactId>syncope-client-lib</artifactId>\n+      <version>${project.version}</version>\n+    </dependency>\n+    \n+    <!-- TEST -->\n+    <dependency>\n+      <groupId>junit</groupId>\n+      <artifactId>junit</artifactId>\n+      <scope>test</scope>\n+    </dependency>\n+  </dependencies>\n+  \n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-checkstyle-plugin</artifactId>\n+      </plugin>\n+    </plugins>\n+    \n+    <resources>\n+      <resource>\n+        <directory>src/main/resources</directory>\n+        <filtering>true</filtering>\n+      </resource>\n+    </resources>\n+    \n+  </build>\n+  \n+</project>\n\\ No newline at end of file"},{"sha":"4acc7566c6612cd73e67e7c6f8a1f2c3110fd977","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/SyncopeEnduserApplication.java","status":"added","additions":157,"deletions":0,"changes":157,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplication.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,157 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser;\n+\n+import java.io.Serializable;\n+import org.apache.syncope.client.enduser.pages.HomePage;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Locale;\n+import org.apache.syncope.client.enduser.resources.ErrorResource;\n+import org.apache.syncope.client.enduser.resources.LoginResource;\n+import org.apache.syncope.client.enduser.resources.LogoutResource;\n+import org.apache.syncope.client.enduser.resources.SchemaResource;\n+import org.apache.syncope.client.enduser.resources.SecurityQuestionResource;\n+import org.apache.syncope.client.enduser.resources.UserSelfCreateResource;\n+import org.apache.syncope.client.enduser.resources.UserSelfReadResource;\n+import org.apache.syncope.client.enduser.resources.UserSelfUpdateResource;\n+import org.apache.wicket.Page;\n+import org.apache.wicket.Session;\n+import org.apache.wicket.protocol.http.WebApplication;\n+import org.apache.wicket.request.Request;\n+import org.apache.wicket.request.Response;\n+import org.apache.wicket.request.resource.IResource;\n+import org.apache.wicket.request.resource.ResourceReference;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class SyncopeEnduserApplication extends WebApplication implements Serializable {\n+\n+    private static final long serialVersionUID = -6445919351044845120L;\n+\n+    private static final Logger LOG = LoggerFactory.getLogger(SyncopeEnduserApplication.class);\n+\n+    public static final List<Locale> SUPPORTED_LOCALES = Collections.unmodifiableList(Arrays.asList(\n+            new Locale[] {\n+                Locale.ENGLISH, Locale.ITALIAN, new Locale(\"pt\", \"BR\")\n+            }));\n+\n+    @Override\n+    protected void init() {\n+        super.init();\n+\n+        LOG.debug(\"init SyncopeEnduserApplication\");\n+\n+        // resource to provide login functionality managed by wicket\n+        mountResource(\"/api/login\", new ResourceReference(\"login\") {\n+\n+            private static final long serialVersionUID = -128426276529456602L;\n+\n+            @Override\n+            public IResource getResource() {\n+                return new LoginResource();\n+            }\n+        });\n+\n+        // resource to provide logout functionality managed by wicket\n+        mountResource(\"/api/logout\", new ResourceReference(\"logout\") {\n+\n+            private static final long serialVersionUID = -128426276529456602L;\n+\n+            @Override\n+            public IResource getResource() {\n+                return new LogoutResource();\n+            }\n+        });\n+\n+        // resource to retrieve info about logged user\n+        mountResource(\"/api/self/read\", new ResourceReference(\"userSelfRead\") {\n+\n+            private static final long serialVersionUID = -128426276529456602L;\n+\n+            @Override\n+            public IResource getResource() {\n+                return new UserSelfReadResource();\n+            }\n+        });\n+\n+        // resource to provide user self create functionality managed by wicket\n+        mountResource(\"/api/self/create\", new ResourceReference(\"userSelfCreate\") {\n+\n+            private static final long serialVersionUID = -128426276529456602L;\n+\n+            @Override\n+            public IResource getResource() {\n+                return new UserSelfCreateResource();\n+            }\n+        });\n+\n+        // resource to provide user self update functionality managed by wicket\n+        mountResource(\"/api/self/update\", new ResourceReference(\"userSelfUpdate\") {\n+\n+            private static final long serialVersionUID = -128426276529456602L;\n+\n+            @Override\n+            public IResource getResource() {\n+                return new UserSelfUpdateResource();\n+            }\n+        });\n+\n+        mountResource(\"/api/schemas\", new ResourceReference(\"schemas\") {\n+\n+            private static final long serialVersionUID = -128426276529456602L;\n+\n+            @Override\n+            public IResource getResource() {\n+                return new SchemaResource();\n+            }\n+        });\n+        \n+        mountResource(\"/api/securityQuestions\", new ResourceReference(\"securityQuestions\") {\n+\n+            private static final long serialVersionUID = -128426276529456602L;\n+\n+            @Override\n+            public IResource getResource() {\n+                return new SecurityQuestionResource();\n+            }\n+        });\n+\n+        mountResource(\"/api/error\", new ResourceReference(\"error\") {\n+\n+            private static final long serialVersionUID = -128426276529456602L;\n+\n+            @Override\n+            public IResource getResource() {\n+                return new ErrorResource();\n+            }\n+        });\n+    }\n+\n+    @Override\n+    public Class<? extends Page> getHomePage() {\n+        return HomePage.class;\n+    }\n+\n+    @Override\n+    public Session newSession(final Request request, final Response response) {\n+        return new SyncopeEnduserSession(request);\n+    }\n+}"},{"sha":"c5abc1dee595905b455fd96738fd7d659333e085","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/SyncopeEnduserSession.java","status":"added","additions":279,"deletions":0,"changes":279,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserSession.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserSession.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserSession.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,279 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser;\n+\n+import java.io.File;\n+import java.text.DateFormat;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Locale;\n+import java.util.Map;\n+import java.util.Properties;\n+import java.util.Set;\n+import javax.ws.rs.core.EntityTag;\n+import javax.ws.rs.core.MediaType;\n+import org.apache.commons.io.FileUtils;\n+import org.apache.commons.lang3.tuple.Pair;\n+import org.apache.cxf.jaxrs.client.WebClient;\n+import org.apache.syncope.client.lib.SyncopeClient;\n+import org.apache.syncope.client.lib.SyncopeClientFactoryBean;\n+import org.apache.syncope.common.lib.SyncopeConstants;\n+import org.apache.syncope.common.lib.to.SyncopeTO;\n+import org.apache.syncope.common.lib.to.UserTO;\n+import org.apache.syncope.common.rest.api.service.SyncopeService;\n+import org.apache.wicket.Session;\n+import org.apache.wicket.protocol.http.WebSession;\n+import org.apache.wicket.request.Request;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * Custom Syncope Enduser Session class.\n+ */\n+public class SyncopeEnduserSession extends WebSession {\n+\n+    private static final long serialVersionUID = 1284946129513378647L;\n+\n+    private static final Logger LOG = LoggerFactory.getLogger(SyncopeEnduserSession.class);\n+\n+    public static final List<Locale> SUPPORTED_LOCALES = Arrays.asList(new Locale[] {\n+        Locale.ENGLISH, Locale.ITALIAN, new Locale(\"pt\", \"BR\") });\n+\n+    protected static final String ENDUSER_PROPERTIES = \"enduser.properties\";\n+\n+    private String username;\n+\n+    private String password;\n+\n+    private String scheme;\n+\n+    private String host;\n+\n+    private String port;\n+\n+    private String rootPath;\n+\n+    private String anonymousUser;\n+\n+    private String anonymousKey;\n+\n+    private Boolean storePassword;\n+\n+    private String version;\n+\n+    private String license;\n+\n+    private final SyncopeClientFactoryBean clientFactory;\n+\n+    private SyncopeClient client;\n+\n+    private final SyncopeClient anonymousClient;\n+\n+    private final SyncopeTO syncopeTO;\n+\n+    private UserTO selfTO;\n+\n+    private final Map<Class<?>, Object> services = Collections.synchronizedMap(new HashMap<Class<?>, Object>());\n+\n+    public static SyncopeEnduserSession get() {\n+        return (SyncopeEnduserSession) Session.get();\n+    }\n+\n+    public SyncopeEnduserSession(final Request request) {\n+        super(request);\n+\n+        // load properties from classpath file\n+        loadProperties();\n+\n+        clientFactory = new SyncopeClientFactoryBean();\n+        clientFactory.setAddress(new StringBuilder(scheme)\n+                .append(\"://\")\n+                .append(host)\n+                .append(\":\")\n+                .append(port)\n+                .append(\"/\")\n+                .append(rootPath)\n+                .toString());\n+        clientFactory.setContentType(SyncopeClientFactoryBean.ContentType.JSON);\n+\n+        anonymousClient = clientFactory.create(anonymousUser, anonymousKey);\n+        syncopeTO = anonymousClient.getService(SyncopeService.class).info();\n+\n+    }\n+\n+    public boolean authenticate(final String username, final String password) {\n+        boolean authenticated = false;\n+\n+        try {\n+            client = clientFactory.setDomain(SyncopeConstants.MASTER_DOMAIN).create(username, password);\n+\n+            Pair<Map<String, Set<String>>, UserTO> self = client.self();\n+            selfTO = self.getValue();\n+\n+            this.username = username;\n+            this.password = password;\n+            // bind explicitly this session to have a stateful behavior during http requests, unless session will expire\n+            // for every  request\n+            this.bind();\n+            authenticated = true;\n+        } catch (Exception e) {\n+            LOG.error(\"Authentication failed\", e);\n+        }\n+\n+        return authenticated;\n+    }\n+\n+    public <T> void resetClient(final Class<T> service) {\n+        T serviceInstance = getCachedService(service);\n+        WebClient.client(serviceInstance).reset();\n+    }\n+\n+    @SuppressWarnings(\"unchecked\")\n+    private <T> T getCachedService(final Class<T> serviceClass) {\n+        T service;\n+        if (services.containsKey(serviceClass)) {\n+            service = (T) services.get(serviceClass);\n+        } else {\n+            service = client == null ? anonymousClient.getService(serviceClass) : client.getService(serviceClass);\n+            services.put(serviceClass, service);\n+        }\n+\n+        return service;\n+    }\n+\n+    public <T> T getService(final Class<T> serviceClass) {\n+        return getCachedService(serviceClass);\n+    }\n+\n+    public <T> T getService(final String etag, final Class<T> serviceClass) {\n+        T serviceInstance = getCachedService(serviceClass);\n+        WebClient.client(serviceInstance).match(new EntityTag(etag), false).\n+                type(MediaType.APPLICATION_JSON).accept(MediaType.APPLICATION_JSON);\n+\n+        return serviceInstance;\n+    }\n+\n+    public <T> T getService(final MediaType mediaType, final Class<T> serviceClass) {\n+        T service;\n+\n+        synchronized (clientFactory) {\n+            SyncopeClientFactoryBean.ContentType preType = clientFactory.getContentType();\n+\n+            clientFactory.setContentType(SyncopeClientFactoryBean.ContentType.fromString(mediaType.toString()));\n+            service = clientFactory.create(username, password).getService(serviceClass);\n+            clientFactory.setContentType(preType);\n+        }\n+\n+        return service;\n+    }\n+\n+    public String getUsername() {\n+        return username;\n+    }\n+\n+    public String getPassword() {\n+        return password;\n+    }\n+\n+    public String getScheme() {\n+        return scheme;\n+    }\n+\n+    public String getHost() {\n+        return host;\n+    }\n+\n+    public String getPort() {\n+        return port;\n+    }\n+\n+    public String getRootPath() {\n+        return rootPath;\n+    }\n+\n+    public String getAnonymousUser() {\n+        return anonymousUser;\n+    }\n+\n+    public String getAnonymousKey() {\n+        return anonymousKey;\n+    }\n+\n+    public Boolean storePassword() {\n+        return this.storePassword;\n+    }\n+\n+    public String getVersion() {\n+        return version;\n+    }\n+\n+    public String getLicense() {\n+        return license;\n+    }\n+\n+    public SyncopeTO getSyncopeTO() {\n+        return syncopeTO;\n+    }\n+\n+    public UserTO getSelfTO() {\n+        return selfTO;\n+    }\n+\n+    public boolean isAuthenticated() {\n+        return getUsername() != null;\n+    }\n+\n+    public DateFormat getDateFormat() {\n+        final Locale locale = getLocale() == null ? Locale.ENGLISH : getLocale();\n+\n+        return DateFormat.getDateTimeInstance(DateFormat.SHORT, DateFormat.SHORT, locale);\n+    }\n+\n+    private void loadProperties() {\n+        Properties properties = new Properties();\n+\n+        try {\n+            properties.load(getClass().getResourceAsStream(\"/\" + ENDUSER_PROPERTIES));\n+            File enduserDir = new File(properties.getProperty(\"enduser.directory\"));\n+            if (enduserDir.exists() && enduserDir.canRead() && enduserDir.isDirectory()) {\n+                File enduserDirProps = FileUtils.getFile(enduserDir, ENDUSER_PROPERTIES);\n+                if (enduserDirProps.exists() && enduserDirProps.canRead() && enduserDirProps.isFile()) {\n+                    properties.clear();\n+                    properties.load(FileUtils.openInputStream(enduserDir));\n+                }\n+            }\n+        } catch (Exception e) {\n+            LOG.error(\"Error loading {} file\", ENDUSER_PROPERTIES, e);\n+//            throw new WicketRuntimeException(\"Could not read \" + ENDUSER_PROPERTIES, e);\n+        }\n+\n+        this.scheme = properties.getProperty(\"scheme\");\n+        this.host = properties.getProperty(\"host\");\n+        this.port = properties.getProperty(\"port\");\n+        this.rootPath = properties.getProperty(\"rootPath\");\n+        this.anonymousUser = properties.getProperty(\"anonymousUser\");\n+        this.anonymousKey = properties.getProperty(\"anonymousKey\");\n+        this.storePassword = Boolean.valueOf(properties.getProperty(\"storePassword\"));\n+        version = properties.getProperty(\"version\");\n+        license = properties.getProperty(\"license\");\n+    }\n+\n+}"},{"sha":"551555fcf18f197444bfb043c870823820ccfdf7","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/adapters/UserTOAdapter.java","status":"added","additions":78,"deletions":0,"changes":78,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fadapters%2FUserTOAdapter.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fadapters%2FUserTOAdapter.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fadapters%2FUserTOAdapter.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,78 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.adapters;\n+\n+import org.apache.syncope.client.enduser.model.UserTORequest;\n+import org.apache.syncope.common.lib.to.UserTO;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class UserTOAdapter {\n+\n+    private static final Logger LOG = LoggerFactory.getLogger(UserTOAdapter.class);\n+\n+    public UserTO fromUserTORequest(final UserTORequest userTORequest, final String oldSelfPassword) {\n+\n+        // adapter code, to be moved in a new utility class\n+        final UserTO userTO = new UserTO();\n+        // set key if in update mode\n+        final Long key = userTORequest.getKey();\n+        if (key != null) {\n+            userTO.setKey(key);\n+        }\n+        // set username...\n+        userTO.setUsername(userTORequest.getUsername());\n+        // ...and password\n+        String requestPassword = userTORequest.getPassword();\n+        if (requestPassword == null || requestPassword.isEmpty()) {\n+            userTO.setPassword(oldSelfPassword == null ? null : oldSelfPassword);\n+        } else {\n+            userTO.setPassword(requestPassword);\n+        }\n+\n+        //set security question and answer\n+        userTO.setSecurityQuestion(userTORequest.getSecurityQuestion());\n+        userTO.setSecurityAnswer(userTORequest.getSecurityAnswer());\n+        //set realm\n+        userTO.setRealm(userTORequest.getRealm());\n+        // add attributes\n+        userTO.getPlainAttrs().addAll(userTORequest.getPlainAttrs().values());\n+        userTO.getDerAttrs().addAll(userTORequest.getDerAttrs().values());\n+        userTO.getVirAttrs().addAll(userTORequest.getVirAttrs().values());\n+\n+        return userTO;\n+    }\n+\n+    public UserTORequest toUserTORequest(final UserTO userTO) {\n+\n+        final UserTORequest userTORequest = new UserTORequest().\n+                key(userTO.getKey()).\n+                username(userTO.getUsername()).\n+                securityQuestion(userTO.getSecurityQuestion()).\n+                securityAnswer(userTO.getSecurityAnswer()).\n+                realm(userTO.getRealm());\n+\n+        userTORequest.getPlainAttrs().putAll(userTO.getPlainAttrMap());\n+        userTORequest.getDerAttrs().putAll(userTO.getDerAttrMap());\n+        userTORequest.getVirAttrs().putAll(userTO.getVirAttrMap());\n+\n+        return userTORequest;\n+    }\n+\n+}"},{"sha":"68e310695df07c4f00ea8a5d9bbb61e67d583370","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/model/Credentials.java","status":"added","additions":65,"deletions":0,"changes":65,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCredentials.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCredentials.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FCredentials.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,65 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.model;\n+\n+import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n+import org.apache.commons.lang3.builder.ToStringBuilder;\n+\n+@JsonIgnoreProperties(ignoreUnknown = true)\n+public class Credentials {\n+\n+    private String username;\n+\n+    private String password;\n+\n+    public Credentials() {\n+    }\n+\n+    public String getUsername() {\n+        return username;\n+    }\n+\n+    public void setUsername(final String username) {\n+        this.username = username;\n+    }\n+\n+    public String getPassword() {\n+        return password;\n+    }\n+\n+    public void setPassword(final String password) {\n+        this.password = password;\n+    }\n+\n+    public Credentials username(final String username) {\n+        this.username = username;\n+        return this;\n+    }\n+\n+    public Credentials password(final String password) {\n+        this.password = password;\n+        return this;\n+    }\n+\n+    @Override\n+    public String toString() {\n+        return ToStringBuilder.reflectionToString(this);\n+    }\n+\n+}"},{"sha":"912f287296d71706cfcd3fc44317e5beeb93dfe7","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/model/SchemaResponse.java","status":"added","additions":79,"deletions":0,"changes":79,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FSchemaResponse.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FSchemaResponse.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FSchemaResponse.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,79 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.model;\n+\n+import java.io.Serializable;\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.apache.syncope.common.lib.to.DerSchemaTO;\n+import org.apache.syncope.common.lib.to.PlainSchemaTO;\n+import org.apache.syncope.common.lib.to.VirSchemaTO;\n+\n+public class SchemaResponse implements Serializable {\n+\n+    private static final long serialVersionUID = -8896862106241712829L;\n+\n+    private List<PlainSchemaTO> plainSchemas = new ArrayList<>();\n+\n+    private List<DerSchemaTO> derSchemas = new ArrayList<>();\n+\n+    private List<VirSchemaTO> virSchemas = new ArrayList<>();\n+\n+    public SchemaResponse() {\n+    }\n+\n+    public List<PlainSchemaTO> getPlainSchemas() {\n+        return plainSchemas;\n+    }\n+\n+    public void setPlainSchemas(final List<PlainSchemaTO> plainSchemas) {\n+        this.plainSchemas = plainSchemas;\n+    }\n+\n+    public List<DerSchemaTO> getDerSchemas() {\n+        return derSchemas;\n+    }\n+\n+    public void setDerSchemas(final List<DerSchemaTO> derSchemas) {\n+        this.derSchemas = derSchemas;\n+    }\n+\n+    public List<VirSchemaTO> getVirSchemas() {\n+        return virSchemas;\n+    }\n+\n+    public void setVirSchemas(final List<VirSchemaTO> virSchemas) {\n+        this.virSchemas = virSchemas;\n+    }\n+\n+    public SchemaResponse plainSchemas(final List<PlainSchemaTO> value) {\n+        this.plainSchemas = value;\n+        return this;\n+    }\n+\n+    public SchemaResponse derSchemas(final List<DerSchemaTO> value) {\n+        this.derSchemas = value;\n+        return this;\n+    }\n+\n+    public SchemaResponse virSchemas(final List<VirSchemaTO> value) {\n+        this.virSchemas = value;\n+        return this;\n+    }\n+}"},{"sha":"09bc2191520121b90c358e2a0a19e12bf6412dac","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/model/UserTORequest.java","status":"added","additions":174,"deletions":0,"changes":174,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FUserTORequest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FUserTORequest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fmodel%2FUserTORequest.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,174 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.model;\n+\n+import java.io.Serializable;\n+import java.util.HashMap;\n+import java.util.Map;\n+import org.apache.commons.lang3.builder.ToStringBuilder;\n+import org.apache.syncope.common.lib.to.AttrTO;\n+\n+public class UserTORequest implements Serializable {\n+\n+    private static final long serialVersionUID = -6763020920564016374L;\n+\n+    private Long key;\n+\n+    private String username;\n+\n+    private String password;\n+\n+    private Long securityQuestion;\n+\n+    private String securityAnswer;\n+\n+    private String realm;\n+\n+    private Map<String, AttrTO> plainAttrs = new HashMap<>();\n+\n+    private Map<String, AttrTO> derAttrs = new HashMap<>();\n+\n+    private Map<String, AttrTO> virAttrs = new HashMap<>();\n+\n+    public UserTORequest() {\n+    }\n+\n+    public Long getKey() {\n+        return key;\n+    }\n+\n+    public void setKey(final Long key) {\n+        this.key = key;\n+    }\n+\n+    public String getUsername() {\n+        return username;\n+    }\n+\n+    public void setUsername(final String username) {\n+        this.username = username;\n+    }\n+\n+    public String getPassword() {\n+        return password;\n+    }\n+\n+    public void setPassword(final String password) {\n+        this.password = password;\n+    }\n+\n+    public Long getSecurityQuestion() {\n+        return securityQuestion;\n+    }\n+\n+    public void setSecurityQuestion(final Long securityQuestion) {\n+        this.securityQuestion = securityQuestion;\n+    }\n+\n+    public String getSecurityAnswer() {\n+        return securityAnswer;\n+    }\n+\n+    public void setSecurityAnswer(final String securityAnswer) {\n+        this.securityAnswer = securityAnswer;\n+    }\n+\n+    public String getRealm() {\n+        return realm;\n+    }\n+\n+    public void setRealm(final String realm) {\n+        this.realm = realm;\n+    }\n+\n+    public Map<String, AttrTO> getPlainAttrs() {\n+        return plainAttrs;\n+    }\n+\n+    public void setPlainAttrs(final Map<String, AttrTO> plainAttrs) {\n+        this.plainAttrs = plainAttrs;\n+    }\n+\n+    public Map<String, AttrTO> getDerAttrs() {\n+        return derAttrs;\n+    }\n+\n+    public void setDerAttrs(final Map<String, AttrTO> derAttrs) {\n+        this.derAttrs = derAttrs;\n+    }\n+\n+    public Map<String, AttrTO> getVirAttrs() {\n+        return virAttrs;\n+    }\n+\n+    public void setVirAttrs(final Map<String, AttrTO> virAttrs) {\n+        this.virAttrs = virAttrs;\n+    }\n+\n+    public UserTORequest key(final Long value) {\n+        this.key = value;\n+        return this;\n+    }\n+\n+    public UserTORequest username(final String value) {\n+        this.username = value;\n+        return this;\n+    }\n+\n+    public UserTORequest password(final String value) {\n+        this.password = value;\n+        return this;\n+    }\n+\n+    public UserTORequest securityQuestion(final Long value) {\n+        this.securityQuestion = value;\n+        return this;\n+    }\n+\n+    public UserTORequest securityAnswer(final String value) {\n+        this.securityAnswer = value;\n+        return this;\n+    }\n+\n+    public UserTORequest realm(final String value) {\n+        this.realm = value;\n+        return this;\n+    }\n+\n+    public UserTORequest plainAttrs(final Map<String, AttrTO> value) {\n+        this.plainAttrs = value;\n+        return this;\n+    }\n+\n+    public UserTORequest derAttrs(final Map<String, AttrTO> value) {\n+        this.derAttrs = value;\n+        return this;\n+    }\n+\n+    public UserTORequest virAttrs(final Map<String, AttrTO> value) {\n+        this.virAttrs = value;\n+        return this;\n+    }\n+\n+    @Override\n+    public String toString() {\n+        return ToStringBuilder.reflectionToString(this);\n+    }\n+\n+}"},{"sha":"4c5c07ed986222f24dba25d47647e0bb3adf41a5","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/pages/HomePage.java","status":"renamed","additions":11,"deletions":10,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fpages%2FHomePage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fpages%2FHomePage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fpages%2FHomePage.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -16,19 +16,20 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.client.cli.commands.task;\n+package org.apache.syncope.client.enduser.pages;\n \n-import org.apache.syncope.common.lib.SyncopeClientException;\n-import org.apache.syncope.common.lib.types.JobStatusType;\n+import org.apache.wicket.NonResettingRestartException;\n+import org.apache.wicket.markup.html.WebPage;\n+import org.apache.wicket.request.mapper.parameter.PageParameters;\n \n-public class TaskScheduledJobs extends AbstractTaskCommand {\n+public class HomePage extends WebPage {\n \n-    public void list() {\n-        try {\n-            taskResultManager.printTaskExecTO(taskService.listJobs(JobStatusType.SCHEDULED));\n-        } catch (final SyncopeClientException ex) {\n-            taskResultManager.generic(ex.getMessage());\n-        }\n+    private static final long serialVersionUID = -3422492668689122688L;\n+\n+    public HomePage(final PageParameters parameters) {\n+        super(parameters);\n+//        throw new RedirectToUrlException(\"/app/\");\n+        throw new NonResettingRestartException(\"/app/\");\n     }\n \n }","previous_filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/task/TaskScheduledJobs.java"},{"sha":"a3aedfc633ac78dd5b949308e84b81c7115d0bc9","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/AbstractBaseResource.java","status":"added","additions":58,"deletions":0,"changes":58,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FAbstractBaseResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FAbstractBaseResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FAbstractBaseResource.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,58 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.wicket.request.resource.AbstractResource;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public abstract class AbstractBaseResource extends AbstractResource {\n+\n+    private static final long serialVersionUID = -7875801358718612782L;\n+\n+    private static final Logger LOG = LoggerFactory.getLogger(AbstractBaseResource.class);\n+\n+    protected <T> T getService(final Class<T> serviceClass) {\n+        return SyncopeEnduserSession.get().getService(serviceClass);\n+    }\n+\n+    protected <T> T getService(final String etag, final Class<T> serviceClass) {\n+        return SyncopeEnduserSession.get().getService(etag, serviceClass);\n+    }\n+\n+    protected <T> void resetClient(final Class<T> serviceClass) {\n+        SyncopeEnduserSession.get().resetClient(serviceClass);\n+    }\n+\n+    protected boolean isSelfRegistrationAllowed() {\n+        Boolean result = null;\n+        try {\n+            result = SyncopeEnduserSession.get().getSyncopeTO().isSelfRegAllowed();\n+        } catch (SyncopeClientException e) {\n+            LOG.error(\"While seeking if self registration is allowed\", e);\n+        }\n+\n+        return result == null\n+                ? false\n+                : result;\n+    }\n+\n+}"},{"sha":"bfceeab5e112ef8b835a977b61a94fa03c7029bc","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/ErrorResource.java","status":"added","additions":50,"deletions":0,"changes":50,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FErrorResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FErrorResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FErrorResource.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,50 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import javax.ws.rs.core.MediaType;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * Mirror REST resource for obtaining user self operations.\n+ *\n+ * @see org.apache.syncope.common.rest.api\n+ */\n+public class ErrorResource extends AbstractBaseResource {\n+\n+    private static final long serialVersionUID = -9184809392631523912L;\n+\n+    /**\n+     * Logger.\n+     */\n+    private static final Logger LOG = LoggerFactory.getLogger(ErrorResource.class);\n+\n+    @Override\n+    protected ResourceResponse newResourceResponse(final Attributes attributes) {\n+\n+        ResourceResponse response = new ResourceResponse();\n+        response.disableCaching();\n+        response.setContentType(MediaType.APPLICATION_JSON);\n+\n+        response.setStatusCode(403);\n+\n+        return response;\n+    }\n+}"},{"sha":"fa6fa8c9549fd24b524a697b7a9941fd8d3d07e4","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/LoginResource.java","status":"added","additions":84,"deletions":0,"changes":84,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FLoginResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FLoginResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FLoginResource.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,84 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import java.io.IOException;\n+import javax.servlet.http.HttpServletRequest;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.syncope.client.enduser.model.Credentials;\n+import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n+import org.apache.syncope.core.misc.serialization.POJOHelper;\n+import org.apache.wicket.util.io.IOUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class LoginResource extends AbstractBaseResource {\n+\n+    private static final long serialVersionUID = -7720997467070461915L;\n+\n+    private static final Logger LOG = LoggerFactory.getLogger(LoginResource.class);\n+\n+    public LoginResource() {\n+    }\n+\n+    @Override\n+    protected ResourceResponse newResourceResponse(final Attributes attributes) {\n+\n+        int responseStatus;\n+        final String responseMessage;\n+        ResourceResponse response = new ResourceResponse();\n+\n+        try {\n+            HttpServletRequest request = (HttpServletRequest) attributes.getRequest().getContainerRequest();\n+            Credentials credentials = POJOHelper.deserialize(IOUtils.toString(request.getInputStream()),\n+                    Credentials.class);\n+            final String username = credentials.getUsername();\n+            final String password = credentials.getPassword().isEmpty() ? null : credentials.getPassword();\n+\n+            LOG.debug(\"Enduser login, user: {}\", username);\n+\n+            if (StringUtils.isBlank(username)) {\n+                LOG.error(\"Could not read credentials from request: username is blank!\");\n+                responseMessage = \"Could not read credentials from request: username is blank!\";\n+                responseStatus = 400;\n+            } else {\n+                // authenticate user\n+                final boolean authenticated = SyncopeEnduserSession.get().authenticate(username, password);\n+                responseStatus = authenticated ? 200 : 401;\n+                responseMessage = username;\n+            }\n+\n+            response.setWriteCallback(new WriteCallback() {\n+\n+                @Override\n+                public void writeData(final Attributes attributes) throws IOException {\n+                    attributes.getResponse().write(responseMessage);\n+                }\n+            });\n+\n+        } catch (Exception e) {\n+            responseStatus = 400;\n+            LOG.error(\"Could not read credentials from request\", e);\n+        }\n+\n+        response.setStatusCode(responseStatus);\n+        return response;\n+    }\n+\n+}"},{"sha":"545b44db8b612ee7df22faaefd4eabfc3d64b2b1","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/LogoutResource.java","status":"added","additions":43,"deletions":0,"changes":43,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FLogoutResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FLogoutResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FLogoutResource.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,43 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class LogoutResource extends AbstractBaseResource {\n+\n+    private static final long serialVersionUID = -648841355644985051L;\n+\n+    private static final Logger LOG = LoggerFactory.getLogger(LogoutResource.class);\n+\n+    @Override\n+    protected ResourceResponse newResourceResponse(final Attributes attributes) {\n+\n+        LOG.debug(\"Enduser logout\");\n+        \n+        SyncopeEnduserSession.get().invalidate();\n+        \n+        ResourceResponse response = new ResourceResponse();\n+        response.setStatusCode(204);\n+        return response;\n+    }\n+\n+}"},{"sha":"544138b65d4076df8c8ae7e779535773d0735ce1","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/SchemaResource.java","status":"added","additions":116,"deletions":0,"changes":116,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FSchemaResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FSchemaResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FSchemaResource.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,116 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import java.io.IOException;\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.apache.syncope.client.enduser.model.SchemaResponse;\n+import org.apache.syncope.common.lib.to.AbstractSchemaTO;\n+import org.apache.syncope.common.lib.to.AnyTypeTO;\n+import org.apache.syncope.common.lib.to.DerSchemaTO;\n+import org.apache.syncope.common.lib.to.PlainSchemaTO;\n+import org.apache.syncope.common.lib.to.VirSchemaTO;\n+import org.apache.syncope.common.lib.types.AnyTypeKind;\n+import org.apache.syncope.common.lib.types.SchemaType;\n+import org.apache.syncope.common.rest.api.service.AnyTypeClassService;\n+import org.apache.syncope.common.rest.api.service.AnyTypeService;\n+import org.apache.syncope.common.rest.api.service.SchemaService;\n+import org.apache.syncope.core.misc.serialization.POJOHelper;\n+import org.apache.wicket.request.resource.AbstractResource;\n+import org.apache.wicket.request.resource.IResource;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class SchemaResource extends AbstractBaseResource {\n+\n+    private static final Logger LOG = LoggerFactory.getLogger(SchemaResource.class);\n+\n+    private static final long serialVersionUID = 6453101466981543020L;\n+\n+    private final AnyTypeService anyTypeService;\n+\n+    private final AnyTypeClassService anyTypeClassService;\n+\n+    private final SchemaService schemaService;\n+\n+    public SchemaResource() {\n+        anyTypeService = getService(AnyTypeService.class);\n+        anyTypeClassService = getService(AnyTypeClassService.class);\n+        schemaService = getService(SchemaService.class);\n+    }\n+\n+    @Override\n+    protected AbstractResource.ResourceResponse newResourceResponse(final IResource.Attributes attributes) {\n+\n+        AbstractResource.ResourceResponse response = new AbstractResource.ResourceResponse();\n+\n+        int responseStatus = 200;\n+\n+        try {\n+\n+            final AnyTypeTO anyTypeUserTO = anyTypeService.read(AnyTypeKind.USER.name());\n+\n+            final List<PlainSchemaTO> plainSchemas = new ArrayList<>();\n+            final List<DerSchemaTO> derSchemas = new ArrayList<>();\n+            final List<VirSchemaTO> virSchemas = new ArrayList<>();\n+\n+            // read all USER type schemas\n+            for (String clazz : anyTypeUserTO.getClasses()) {\n+                plainSchemas.addAll(getSchemaTOs(anyTypeClassService.read(clazz).getPlainSchemas(), SchemaType.PLAIN,\n+                        PlainSchemaTO.class));\n+                derSchemas.addAll(getSchemaTOs(anyTypeClassService.read(clazz).getDerSchemas(), SchemaType.DERIVED,\n+                        DerSchemaTO.class));\n+                virSchemas.addAll(getSchemaTOs(anyTypeClassService.read(clazz).getVirSchemas(), SchemaType.VIRTUAL,\n+                        VirSchemaTO.class));\n+            }\n+\n+            response.setWriteCallback(new AbstractResource.WriteCallback() {\n+\n+                @Override\n+                public void writeData(final IResource.Attributes attributes) throws IOException {\n+                    attributes.getResponse().write(POJOHelper.serialize(new SchemaResponse().\n+                            plainSchemas(plainSchemas).\n+                            derSchemas(derSchemas).\n+                            virSchemas(virSchemas)));\n+                }\n+            });\n+\n+        } catch (Exception e) {\n+            LOG.error(\"Error retrieving \" + AnyTypeKind.USER.name() + \" class schemas\", e);\n+            responseStatus = 400;\n+        }\n+\n+        response.setStatusCode(responseStatus);\n+        return response;\n+    }\n+\n+    private <T extends AbstractSchemaTO> List<T> getSchemaTOs(final List<String> schemaNames,\n+            final SchemaType schemaType, final Class<T> type) {\n+\n+        List<T> schemaTOs = new ArrayList<>();\n+\n+        for (String schemaName : schemaNames) {\n+            schemaTOs.add(type.cast(schemaService.read(schemaType, schemaName)));\n+        }\n+\n+        return schemaTOs;\n+    }\n+\n+}"},{"sha":"f1ab6c826573b48361d9c82e8539a888ea2ecf00","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/SecurityQuestionResource.java","status":"added","additions":73,"deletions":0,"changes":73,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FSecurityQuestionResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FSecurityQuestionResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FSecurityQuestionResource.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,73 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import java.io.IOException;\n+import java.util.List;\n+import org.apache.syncope.common.lib.to.SecurityQuestionTO;\n+import org.apache.syncope.common.rest.api.service.SecurityQuestionService;\n+import org.apache.syncope.core.misc.serialization.POJOHelper;\n+import org.apache.wicket.request.resource.AbstractResource;\n+import org.apache.wicket.request.resource.IResource;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class SecurityQuestionResource extends AbstractBaseResource {\n+\n+    private static final Logger LOG = LoggerFactory.getLogger(SecurityQuestionResource.class);\n+\n+    private static final long serialVersionUID = 6453101466981543020L;\n+\n+    private final SecurityQuestionService securityQuestionService;\n+\n+    public SecurityQuestionResource() {\n+        securityQuestionService = getService(SecurityQuestionService.class);\n+    }\n+\n+    @Override\n+    protected AbstractResource.ResourceResponse newResourceResponse(final IResource.Attributes attributes) {\n+\n+        AbstractResource.ResourceResponse response = new AbstractResource.ResourceResponse();\n+\n+        int responseStatus = 200;\n+\n+        try {\n+\n+            LOG.debug(\"List available security questions\");\n+\n+            final List<SecurityQuestionTO> securityQuestionTOs = securityQuestionService.list();\n+\n+            response.setWriteCallback(new AbstractResource.WriteCallback() {\n+\n+                @Override\n+                public void writeData(final IResource.Attributes attributes) throws IOException {\n+                    attributes.getResponse().write(POJOHelper.serialize(securityQuestionTOs));\n+                }\n+            });\n+\n+        } catch (Exception e) {\n+            LOG.error(\"Error retrieving security questions\", e);\n+            responseStatus = 400;\n+        }\n+\n+        response.setStatusCode(responseStatus);\n+        return response;\n+    }\n+\n+}"},{"sha":"61734a777e4c8940812ce6baaebf283e8fa33069","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserSelfCreateResource.java","status":"added","additions":97,"deletions":0,"changes":97,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfCreateResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfCreateResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfCreateResource.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,97 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import java.io.IOException;\n+import javax.servlet.http.HttpServletRequest;\n+import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n+import org.apache.syncope.client.enduser.adapters.UserTOAdapter;\n+import org.apache.syncope.client.enduser.model.UserTORequest;\n+import org.apache.syncope.common.rest.api.service.UserSelfService;\n+import org.apache.syncope.core.misc.serialization.POJOHelper;\n+import org.apache.wicket.util.io.IOUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class UserSelfCreateResource extends AbstractBaseResource {\n+\n+    private static final long serialVersionUID = -2721621682300247583L;\n+\n+    private static final Logger LOG = LoggerFactory.getLogger(UserSelfCreateResource.class);\n+\n+    private final UserSelfService userSelfService;\n+\n+    private final UserTOAdapter userTOAdapter;\n+\n+    public UserSelfCreateResource() {\n+        userTOAdapter = new UserTOAdapter();\n+        userSelfService = getService(UserSelfService.class);\n+    }\n+\n+    @Override\n+    protected ResourceResponse newResourceResponse(final Attributes attributes) {\n+\n+        int responseStatus = 200;\n+        final StringBuilder responseMessage = new StringBuilder();\n+        ResourceResponse response = new ResourceResponse();\n+\n+        try {\n+            HttpServletRequest request = (HttpServletRequest) attributes.getRequest().getContainerRequest();\n+\n+            final UserTORequest userTORequest = POJOHelper.deserialize(IOUtils.toString(request.getInputStream()),\n+                    UserTORequest.class);\n+\n+            if (isSelfRegistrationAllowed() && userTORequest != null) {\n+                LOG.debug(\"Received user self registration request for user: [{}]\", userTORequest.getUsername());\n+                LOG.trace(\"Received user self registration request is: [{}]\", userTORequest);\n+                // adapt request and create user\n+                userSelfService.create(userTOAdapter.fromUserTORequest(userTORequest, null),\n+                        SyncopeEnduserSession.get().storePassword());\n+                responseMessage.append(\"User\").append(userTORequest.getUsername()).append(\"created successfully\");\n+            } else {\n+                responseMessage.append(userTORequest == null\n+                        ? \"Request received is not valid\"\n+                        : \"Self registration not allowed\");\n+                responseStatus = 403;\n+            }\n+            response.setWriteCallback(new WriteCallback() {\n+\n+                @Override\n+                public void writeData(final Attributes attributes) throws IOException {\n+                    attributes.getResponse().write(responseMessage);\n+                }\n+            });\n+\n+        } catch (final Exception e) {\n+            responseStatus = 400;\n+            response.setWriteCallback(new WriteCallback() {\n+\n+                @Override\n+                public void writeData(final Attributes attributes) throws IOException {\n+                    attributes.getResponse().write(e.getMessage());\n+                }\n+            });\n+            LOG.error(\"Could not read userTO from request\", e);\n+        }\n+\n+        response.setStatusCode(responseStatus);\n+        return response;\n+    }\n+\n+}"},{"sha":"3519e78fcc146ed2b4f67dd64054c5b1d58f2e35","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserSelfReadResource.java","status":"added","additions":66,"deletions":0,"changes":66,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfReadResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfReadResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfReadResource.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,66 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import java.io.IOException;\n+import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n+import org.apache.syncope.client.enduser.adapters.UserTOAdapter;\n+import org.apache.syncope.core.misc.serialization.POJOHelper;\n+import org.apache.wicket.request.resource.AbstractResource;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * Mirror REST resource for obtaining user self operations.\n+ *\n+ * @see org.apache.syncope.common.rest.api\n+ */\n+public class UserSelfReadResource extends AbstractResource {\n+\n+    private static final long serialVersionUID = -9184809392631523912L;\n+\n+    /**\n+     * Logger.\n+     */\n+    private static final Logger LOG = LoggerFactory.getLogger(UserSelfReadResource.class);\n+\n+    private final UserTOAdapter userTOAdapter;\n+\n+    public UserSelfReadResource() {\n+        userTOAdapter = new UserTOAdapter();\n+    }\n+\n+    @Override\n+    protected ResourceResponse newResourceResponse(final Attributes attributes) {\n+\n+        ResourceResponse response = new ResourceResponse();\n+        final String selfTOJson = POJOHelper.serialize(userTOAdapter.toUserTORequest(SyncopeEnduserSession.get().\n+                getSelfTO()));\n+\n+        response.setWriteCallback(new WriteCallback() {\n+\n+            @Override\n+            public void writeData(final Attributes attributes) throws IOException {\n+                attributes.getResponse().write(selfTOJson);\n+            }\n+        });\n+\n+        return response;\n+    }\n+}"},{"sha":"5fc9c828a4c16f32fa9ea02d7a3df62080db8319","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserSelfUpdateResource.java","status":"added","additions":96,"deletions":0,"changes":96,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfUpdateResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfUpdateResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfUpdateResource.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,96 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser.resources;\n+\n+import java.io.IOException;\n+import javax.servlet.http.HttpServletRequest;\n+import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n+import org.apache.syncope.client.enduser.adapters.UserTOAdapter;\n+import org.apache.syncope.client.enduser.model.UserTORequest;\n+import org.apache.syncope.common.lib.to.UserTO;\n+import org.apache.syncope.common.rest.api.service.UserSelfService;\n+import org.apache.syncope.core.misc.serialization.POJOHelper;\n+import org.apache.wicket.util.io.IOUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class UserSelfUpdateResource extends AbstractBaseResource {\n+\n+    private static final long serialVersionUID = -2721621682300247583L;\n+\n+    private static final Logger LOG = LoggerFactory.getLogger(UserSelfUpdateResource.class);\n+\n+    private final UserSelfService userSelfService;\n+\n+    private final UserTOAdapter userTOAdapter;\n+\n+    public UserSelfUpdateResource() {\n+        userTOAdapter = new UserTOAdapter();\n+        userSelfService = getService(UserSelfService.class);\n+    }\n+\n+    @Override\n+    protected ResourceResponse newResourceResponse(final Attributes attributes) {\n+\n+        int responseStatus = 200;\n+        final String responseMessage;\n+        ResourceResponse response = new ResourceResponse();\n+\n+        try {\n+            HttpServletRequest request = (HttpServletRequest) attributes.getRequest().getContainerRequest();\n+\n+            final UserTORequest userTOResponse = POJOHelper.deserialize(IOUtils.toString(request.getInputStream()),\n+                    UserTORequest.class);\n+\n+            LOG.debug(\"userTOResponse: {}\", userTOResponse);\n+\n+            // adapt user, change self password only value passed is not null and has changed\n+            UserTO userTO = userTOAdapter.fromUserTORequest(userTOResponse, SyncopeEnduserSession.get().getPassword());\n+\n+            LOG.debug(\"Enduser user self update, user: {}\", userTO.toString());\n+\n+            // update user\n+            userSelfService.update(userTO);\n+            responseMessage = \"User updated successfully\";\n+\n+            response.setWriteCallback(new WriteCallback() {\n+\n+                @Override\n+                public void writeData(final Attributes attributes) throws IOException {\n+                    attributes.getResponse().write(responseMessage);\n+                }\n+            });\n+\n+        } catch (final Exception e) {\n+            responseStatus = 400;\n+            response.setWriteCallback(new WriteCallback() {\n+\n+                @Override\n+                public void writeData(final Attributes attributes) throws IOException {\n+                    attributes.getResponse().write(e.getMessage());\n+                }\n+            });\n+            LOG.error(\"Could not read userTO from request\", e);\n+        }\n+\n+        response.setStatusCode(responseStatus);\n+        return response;\n+    }\n+\n+}"},{"sha":"e5ae8e5c19d33ea374631028a6894e2747e28594","filename":"client/enduser/src/main/resources/META-INF/resources/app/css/app.css","status":"added","additions":28,"deletions":0,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Fapp.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Fapp.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Fapp.css?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,28 @@\n+/*\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+*/\n+\n+/* app general css stylesheet */\n+\n+.growl-container > .growl-item.ng-enter,\n+.growl-container > .growl-item.ng-leave {\n+  -webkit-transition:1s linear all;\n+  -moz-transition:1s linear all;\n+  -o-transition:1s linear all;\n+  transition:1s linear all;\n+}\n\\ No newline at end of file"},{"sha":"ee13bd03ee1816242b5c54c88a6ac397b6d33afe","filename":"client/enduser/src/main/resources/META-INF/resources/app/css/editUser.css","status":"added","additions":253,"deletions":0,"changes":253,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FeditUser.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FeditUser.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2FeditUser.css?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,253 @@\n+/*\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+*/\n+\n+#form-container {\n+  position: relative;\n+  width: 100%;\n+  margin: 0 auto;\n+  text-align: center;\n+}\n+\n+#form-container .page-header   { background: -moz-linear-gradient(top, #a9db80 0%, #96c56f 100%); /* FF3.6+ */\n+                                 background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#a9db80), color-stop(100%,#96c56f)); /* Chrome,Safari4+ */\n+                                 background: -webkit-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Chrome10+,Safari5.1+ */\n+                                 background: -o-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Opera 11.10+ */\n+                                 background: -ms-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* IE10+ */ \n+                                 margin: 1% 16%;\n+                                 width: 72%; padding:10px; \n+                                 /* shadows and rounded borders */\n+                                 -moz-border-radius: 5px;\n+                                 -webkit-border-radius: 5px;\n+                                 border-radius: 5px;\n+                                 -moz-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n+                                 -webkit-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n+                                 box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n+}\n+#form-container .breadcrumb-header   { \n+  margin: 1% 16%;\n+  width: 72%; padding:10px; \n+}\n+\n+.signup-form {\n+  text-align: left;\n+  padding: 2%;\n+}\n+\n+#attribute {\n+  padding: 0 255px;\n+}\n+\n+#attribute-derived,\n+#attribute-virtual {\n+  padding: 0 155px;\n+}\n+\n+.attribute-virtual-value-container {\n+  margin-top: 2%;\n+  list-style: none;\n+  padding-right: 5%;\n+}\n+\n+.attribute-virtual-value-field {\n+  font-weight: 700;\n+  padding: 6px 12px;\n+  margin-bottom: 2%;\n+}\n+\n+.minus{\n+  margin-bottom: 2%;\n+}\n+\n+.fileButton{\n+  margin-top: 2%;\n+}\n+\n+.upper-select {\n+  padding-right: 71%;\n+  padding-left: 18%;\n+}\n+\n+.attribute-ui-select {\n+  width: 100%;\n+  padding-right: 7%;\n+  padding-left: 7%;\n+}\n+\n+#previous {\n+  background: -moz-linear-gradient(top, #a9db80 0%, #96c56f 100%); /* FF3.6+ */\n+  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#a9db80), color-stop(100%,#96c56f)); /* Chrome,Safari4+ */\n+  background: -webkit-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Chrome10+,Safari5.1+ */\n+  background: -o-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Opera 11.10+ */\n+  background: -ms-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* IE10+ */\n+  float: left;\n+  color: black;\n+  width: 30%;\n+}\n+#previous:hover {\n+  background: #658D5D;\n+}\n+\n+#next{\n+  background: -moz-linear-gradient(top, #a9db80 0%, #96c56f 100%); /* FF3.6+ */\n+  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#a9db80), color-stop(100%,#96c56f)); /* Chrome,Safari4+ */\n+  background: -webkit-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Chrome10+,Safari5.1+ */\n+  background: -o-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Opera 11.10+ */\n+  background: -ms-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* IE10+ */\n+  margin-top: 5px;\n+  float: right;\n+  color: black;\n+  width: 30%;\n+}\n+#next:hover {\n+  background: #658D5D;\n+}\n+\n+#save{\n+  background: -moz-linear-gradient(top, #a9db80 0%, #96c56f 100%); /* FF3.6+ */\n+  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#a9db80), color-stop(100%,#96c56f)); /* Chrome,Safari4+ */\n+  background: -webkit-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Chrome10+,Safari5.1+ */\n+  background: -o-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Opera 11.10+ */\n+  background: -ms-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* IE10+ */\n+  color: black;\n+  margin-top: 5%;\n+  width: 15%;\n+}\n+#save:hover {\n+  background: #658D5D;\n+}\n+#cancel {\n+  margin-top: 5%;\n+  width: 15%;\n+}\n+\n+#form-views             { width:auto; }\n+\n+/* basic styling for entering and leaving */\n+/* left and right to add to ensure full width: position:absolute; left:30px; right:30px; */\n+#form-views.ng-enter,\n+#form-views.ng-leave      { \n+  transition:0.5s all ease; -moz-transition:0.5s all ease; -webkit-transition:0.5s all ease; \n+}\n+\n+/* enter animation */\n+#form-views.ng-enter            { \n+  -webkit-animation:slideInRight 0.5s both ease;\n+  -moz-animation:slideInRight 0.5s both ease;\n+  animation:slideInRight 0.5s both ease; \n+}\n+\n+/* leave animation */\n+#form-views.ng-leave            { \n+  -webkit-animation:slideOutLeft 0.5s both ease;\n+  -moz-animation:slideOutLeft 0.5s both ease;\n+  animation:slideOutLeft 0.5s both ease;   \n+}\n+\n+/** Button breadcrumb **/\n+.btn-breadcrumb .btn:not(:last-child):after {\n+  content: \" \";\n+  display: block;\n+  width: 0;\n+  height: 0;\n+  border-top: 17px solid transparent;\n+  border-bottom: 17px solid transparent;\n+  border-left: 10px solid white;\n+  position: absolute;\n+  top: 50%;\n+  margin-top: -17px;\n+  left: 100%;\n+  z-index: 3;\n+}\n+.btn-breadcrumb .btn:not(:last-child):before {\n+  content: \" \";\n+  display: block;\n+  width: 0;\n+  height: 0;\n+  border-top: 17px solid transparent;\n+  border-bottom: 17px solid transparent;\n+  border-left: 10px solid rgb(173, 173, 173);\n+  position: absolute;\n+  top: 50%;\n+  margin-top: -17px;\n+  margin-left: 1px;\n+  left: 100%;\n+  z-index: 3;\n+}\n+\n+/** The Spacing **/\n+.btn-breadcrumb .btn {\n+  padding:6px 12px 6px 24px;\n+}\n+.btn-breadcrumb .btn:first-child {\n+  padding:6px 6px 6px 10px;\n+}\n+.btn-breadcrumb .btn:last-child {\n+  padding:6px 18px 6px 24px;\n+}\n+\n+/** Default button **/\n+.btn-breadcrumb .btn.btn-default:not(:last-child):after {\n+  border-left: 10px solid #fff;\n+}\n+.btn-breadcrumb .btn.btn-default:not(:last-child):before {\n+  border-left: 10px solid #ccc;\n+}\n+.btn-breadcrumb .btn.btn-default:hover:not(:last-child):after {\n+  border-left: 10px solid #ebebeb;\n+}\n+.btn-breadcrumb .btn.btn-default:hover:not(:last-child):before {\n+  border-left: 10px solid #adadad;\n+}\n+\n+.breadcrumb-disabled-link {\n+  pointer-events: none;\n+  cursor: default;\n+}\n+\n+.text-validation-error{\n+    color: #dd301b;\n+    font-weight: 600;\n+}\n+/* ANIMATIONS\n+============================================================================= */\n+/* slide out to the left */\n+@keyframes slideOutLeft {\n+  to      { transform: translateX(-200%); }\n+}\n+@-moz-keyframes slideOutLeft {  \n+  to      { -moz-transform: translateX(-200%); }\n+}\n+@-webkit-keyframes slideOutLeft {\n+  to      { -webkit-transform: translateX(-200%); }\n+}\n+\n+/* slide in from the right */\n+@keyframes slideInRight {\n+  from    { transform:translateX(200%); }\n+  to      { transform: translateX(0); }\n+}\n+@-moz-keyframes slideInRight {\n+  from    { -moz-transform:translateX(200%); }\n+  to      { -moz-transform: translateX(0); }\n+}\n+@-webkit-keyframes slideInRight {\n+  from    { -webkit-transform:translateX(200%); }\n+  to      { -webkit-transform: translateX(0); }\n+}\n+"},{"sha":"fdc9e3e79362967c5a03cb8d146e685f724bcbf5","filename":"client/enduser/src/main/resources/META-INF/resources/app/css/login.css","status":"added","additions":103,"deletions":0,"changes":103,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Flogin.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Flogin.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fcss%2Flogin.css?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,103 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+body, html {\n+  margin: 45px 0;\n+  height: 100%;\n+  background-repeat: no-repeat;\n+  /*background-image: linear-gradient(rgb(104, 145, 162), #00a65a);*/\n+  background-color: #EEEEEE;\n+}\n+#login-container {\n+  position: relative;\n+  width: 100%;\n+  margin: 0 auto;\n+  text-align: center;\n+  background-color: #FFF;\n+  border-top-right-radius: 4px;\n+  border-top-left-radius: 4px;\n+  border-bottom-right-radius: 4px;\n+  border-bottom-left-radius: 4px;\n+  -webkit-box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.65);\n+  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.65);\n+}\n+#login-container .row > div {\n+  margin-bottom: 1em;\n+}\n+#login-container .row > div:last-child {\n+  margin-bottom: 0;\n+}\n+#login-container #logo {\n+  position: relative;\n+  float: left;\n+  margin-left: 15%;\n+  border-top-right-radius: 100px;\n+  border-top-left-radius: 100px;\n+  border-bottom-right-radius: 100px;\n+  border-bottom-left-radius: 100px;\n+}\n+\n+#login-container #language{\n+  padding: 0px;\n+  height: 40px;\n+}\n+\n+#login-container #signup-btn {\n+  padding-top: 15px;\n+  padding-bottom: 15px;\n+}\n+#login-container #signup-btn:hover {\n+  background-color: #1d1d1d;\n+  border-color: #181818;\n+}\n+\n+.login-btn {\n+  background: -moz-linear-gradient(top, #a9db80 0%, #96c56f 100%); /* FF3.6+ */\n+  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#a9db80), color-stop(100%,#96c56f)); /* Chrome,Safari4+ */\n+  background: -webkit-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Chrome10+,Safari5.1+ */\n+  background: -o-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* Opera 11.10+ */\n+  background: -ms-linear-gradient(top, #a9db80 0%,#96c56f 100%); /* IE10+ */\n+  margin-top: 5px;\n+  color: black;\n+}\n+.login-btn:hover {\n+  background: #658D5D;\n+}\n+\n+#login {\n+  position: relative;\n+  padding: 25px 25px 50px 25px;\n+  margin-bottom: 1em;\n+}\n+#login #login-form {\n+  margin-top: 2em;\n+  margin-bottom: 2em;\n+  text-align: left;\n+}\n+#login-form{\n+  padding: 0 195px;\n+  margin: 7%;\n+}\n+#languageContainer {\n+  padding: 0 25px;\n+}\n+\n+.logout{\n+  float: right;\n+}\n\\ No newline at end of file"},{"sha":"766cf248f7a00ea5a367784047e7fe40ec69c98e","filename":"client/enduser/src/main/resources/META-INF/resources/app/img/ajax-loader.gif","status":"added","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fimg%2Fajax-loader.gif","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fimg%2Fajax-loader.gif","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fimg%2Fajax-loader.gif?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c"},{"sha":"e77264f1526a28fee215308bf4107bde8272db23","filename":"client/enduser/src/main/resources/META-INF/resources/app/img/busy.gif","status":"added","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fimg%2Fbusy.gif","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fimg%2Fbusy.gif","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fimg%2Fbusy.gif?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c"},{"sha":"aa2f3e261dc2196acb47533eb43eff8a4946b8a1","filename":"client/enduser/src/main/resources/META-INF/resources/app/img/favicon.png","status":"added","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fimg%2Ffavicon.png","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fimg%2Ffavicon.png","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fimg%2Ffavicon.png?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c"},{"sha":"c57b86c0951e86c8fcc635c74d51bc9e5f4bfd47","filename":"client/enduser/src/main/resources/META-INF/resources/app/img/logo-green.png","status":"added","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fimg%2Flogo-green.png","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fimg%2Flogo-green.png","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fimg%2Flogo-green.png?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c"},{"sha":"f05105e2cc3bf3989c803e326b86874832b13b54","filename":"client/enduser/src/main/resources/META-INF/resources/app/img/logo.png","status":"added","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fimg%2Flogo.png","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fimg%2Flogo.png","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fimg%2Flogo.png?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c"},{"sha":"6cb7ae66f891d18daabf3b5bb7a6f1a0056dade9","filename":"client/enduser/src/main/resources/META-INF/resources/app/index.html","status":"added","additions":116,"deletions":0,"changes":116,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Findex.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,116 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+<!DOCTYPE html>\n+<!--[if lt IE 7]>      <html lang=\"en\" ng-app=\"myApp\" class=\"no-js lt-ie9 lt-ie8 lt-ie7\"> <![endif]-->\n+<!--[if IE 7]>         <html lang=\"en\" ng-app=\"myApp\" class=\"no-js lt-ie9 lt-ie8\"> <![endif]-->\n+<!--[if IE 8]>         <html lang=\"en\" ng-app=\"myApp\" class=\"no-js lt-ie9\"> <![endif]-->\n+<!--[if gt IE 8]><!--> <html lang=\"en\" ng-app=\"SyncopeEnduserApp\" class=\"no-js\"> <!--<![endif]-->\n+  <head>\n+    <meta charset=\"utf-8\">\n+    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n+    <title>SyncopeEnduserApp</title>\n+    <meta name=\"description\" content=\"\">\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n+    <!--<link rel=\"stylesheet\" href=\"bower_components/html5-boilerplate/dist/css/normalize.css\">-->\n+    <!--<link rel=\"stylesheet\" href=\"bower_components/html5-boilerplate/dist/css/main.css\">-->\n+    <link rel=\"stylesheet\" href=\"css/app.css\">\n+    <!--<script src=\"bower_components/html5-boilerplate/dist/js/vendor/modernizr-2.8.3.min.js\"></script>-->\n+  </head>\n+  <body ng-cloak >\n+    <!--<button ng-click=\"\"-->\n+\n+    <!--[if lt IE 7]>\n+        <p class=\"browsehappy\">You are using an <strong>outdated</strong> browser. Please <a href=\"http://browsehappy.com/\">upgrade your browser</a> to improve your experience.</p>\n+    <![endif]-->\n+\n+    <!--<div ng-view ng-cloak ng-controller=\"ApplicationController\"></div>-->\n+    <div ui-view ng-cloak ng-controller=\"ApplicationController\"></div>\n+\n+    <!--    <footer id=\"footer\" class=\"hidden-print\">\n+          <ul class=\"nav pull-right\">\n+              <li>\n+                Copyright &copy; 2015, Apache Syncope\n+              </li>\n+          </ul>\n+        </footer>-->\n+\n+    <!--default global growl message-->\n+    <!--<div growl></div>-->\n+\n+    <!--    <div class=\"hidden-print\" id=\"initialLoaderDiv\">\n+          <img src=\"img/ajax-loader.gif\" class=\"ajax-loader\"/>\n+        </div>-->\n+\n+    <!-- In production use:\n+    <script src=\"//ajax.googleapis.com/ajax/libs/angularjs/x.x.x/angular.min.js\"></script>\n+    -->\n+    <script type=\"text/javascript\" src=\"../webjars/jquery/${jquery.version}/jquery.js\"></script>\n+    <script src=\"../webjars/angular/${angular.version}/angular.js\"></script>\n+    <script src=\"../webjars/angular-ui-router/${angular-ui-router.version}/angular-ui-router.js\"></script>\n+    <script src=\"../webjars/angular-animate/${angular-animate.version}/angular-animate.js\"></script>\n+    <script src=\"../webjars/angular-resource/${angular-resource.version}/angular-resource.js\"></script>\n+    <script src=\"../webjars/angular-cookies/${angular-cookies.version}/angular-cookies.js\"></script>\n+    <script src=\"../webjars/angular-sanitize/${angular-sanitize.version}/angular-sanitize.js\"></script>\n+    <script src=\"../webjars/angular-ui-bootstrap/${angular-ui-bootstrap.version}/ui-bootstrap-tpls.js\"></script>\n+    <script src=\"../webjars/angular-ui-select/${angular-ui-select.version}/select.js\"></script>\n+    <script src=\"../webjars/angular-growl-2/${angular-growl-2.version}/angular-growl.js\"></script>\n+    <script type=\"text/javascript\" src=\"../webjars/bootstrap-select/${bootstrap-select.version}/js/bootstrap-select.min.js\"></script>\n+    <script src=\"../webjars/FileSaver.js/${FileSaver.version}/FileSaver.js\" type=\"text/javascript\"></script>\n+    <!--main angular application-->\n+    <script src=\"js/app.js\"></script>\n+    <!--services-->\n+    <script src=\"js/services/authService.js\"></script>\n+    <script src=\"js/services/userSelfService.js\"></script>\n+    <script src=\"js/services/schemaService.js\"></script>\n+    <script src=\"js/services/realmService.js\"></script>\n+    <script src=\"js/services/securityQuestionService.js\"></script>\n+    <!--controllers-->\n+    <script src=\"js/controllers/HomeController.js\"></script>\n+    <script src=\"js/controllers/LoginController.js\"></script>\n+    <script src=\"js/controllers/LanguageController.js\"></script>\n+    <script src=\"js/controllers/UserController.js\"></script>\n+    <!--directives-->\n+    <script src=\"js/directives/dynamicAttribute.js\"></script>\n+    <script src=\"js/directives/dynamicPlainAttributes.js\"></script>\n+    <script src=\"js/directives/dynamicDerivedAttributes.js\"></script>\n+    <script src=\"js/directives/dynamicVirtualAttributes.js\"></script>\n+    <script src=\"js/directives/navigationButtons.js\"></script>\n+    <script src=\"js/directives/loader.js\"></script>\n+    <script src=\"js/directives/equals.js\"></script>\n+    <!--filters-->\n+    <script src=\"js/filters/propsFilter.js\"></script>\n+\n+\n+    <link rel=\"shortcut icon\" href=\"img/favicon.png\" type=\"image/png\"/>\n+    <link href=\"css/login.css\" rel=\"stylesheet\" type=\"text/css\" />\n+    <link href=\"../webjars/jquery-ui/${jquery-ui.version}/jquery-ui.css\" rel=\"stylesheet\" type=\"text/css\" />\n+    <link href=\"../webjars/bootstrap/${bootstrap.version}/css/bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n+    <link href=\"../webjars/bootstrap-select/${bootstrap-select.version}/css/bootstrap-select.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n+    <link href=\"../webjars/font-awesome/${font-awesome.version}/css/font-awesome.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n+    <link href=\"../webjars/ionicons/${ionicons.version}/css/ionicons.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n+    <link href=\"../webjars/angular-ui-select/${angular-ui-select.version}/select.css\" rel=\"stylesheet\" type=\"text/css\"/>\n+    <link href=\"../webjars/angular-growl-2/${angular-growl-2.version}/angular-growl.css\" rel=\"stylesheet\" type=\"text/css\"/>\n+    <link href=\"../webjars/select2/${select2.version}/select2.css\" rel=\"stylesheet\" type=\"text/css\"/>\n+    <link href=\"css/app.css\" rel=\"stylesheet\" type=\"text/css\" />\n+    <link href=\"css/login.css\" rel=\"stylesheet\" type=\"text/css\" />\n+    <link href=\"css/editUser.css\" rel=\"stylesheet\" type=\"text/css\" />\n+\n+  </body>\n+</html>"},{"sha":"1a53f004d2c700708a9264d4d413d64ab9594c8e","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/app.js","status":"added","additions":283,"deletions":0,"changes":283,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fapp.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,283 @@\n+/**\n+ Licensed to the Apache Software Foundation (ASF) under one\n+ or more contributor license agreements.  See the NOTICE file\n+ distributed with this work for additional information\n+ regarding copyright ownership.  The ASF licenses this file\n+ to you under the Apache License, Version 2.0 (the\n+ \"License\"); you may not use this file except in compliance\n+ with the License.  You may obtain a copy of the License at\n+ \n+ http://www.apache.org/licenses/LICENSE-2.0\n+ \n+ Unless required by applicable law or agreed to in writing,\n+ software distributed under the License is distributed on an\n+ \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ KIND, either express or implied.  See the License for the\n+ specific language governing permissions and limitations\n+ under the License.\n+ **/\n+\n+'use strict';\n+\n+angular.module('home', []);\n+angular.module('login', []);\n+angular.module('language', []);\n+angular.module('self', []);\n+\n+// Declare app level module which depends on views, and components\n+var app = angular.module('SyncopeEnduserApp', [\n+  'ui.router',\n+  'ui.bootstrap',\n+  'ui.select',\n+  'ngSanitize',\n+  'ngAnimate',\n+  'ngResource',\n+  'ngCookies',\n+  'angular-growl',\n+  'home',\n+  'login',\n+  'language',\n+  'self'\n+]);\n+\n+app.config(['$stateProvider', '$urlRouterProvider', '$httpProvider', 'growlProvider',\n+  function ($stateProvider, $urlRouterProvider, $httpProvider, growlProvider) {\n+    // route configuration\n+    $stateProvider\n+            .state('home', {\n+              url: '/',\n+              templateUrl: 'views/self.html'\n+            })\n+            .state('self', {\n+              url: '/self',\n+              templateUrl: 'views/self.html'\n+            })\n+            .state('user-self-update', {\n+              url: '/user-self-update',\n+              templateUrl: 'views/home.html',\n+              controller: 'HomeController',\n+              resolve: {\n+                'authenticated': function (AuthenticationHelper) {\n+                  return AuthenticationHelper.authenticated();\n+                }\n+              }\n+            })\n+            .state('create', {\n+              url: '/self/create',\n+              templateUrl: 'views/editUser.html'\n+            })\n+            // nested states \n+            // each of these sections will have their own view\n+            // url will be nested (/self/create)\n+            .state('create.credentials', {\n+              url: '/credentials',\n+              templateUrl: 'views/user-credentials.html'\n+            })\n+            .state('create.plainSchemas', {\n+              url: '/plainSchemas',\n+              templateUrl: 'views/user-plain-schemas.html'\n+            })\n+            .state('create.derivedSchemas', {\n+              url: '/derivedSchemas',\n+              templateUrl: 'views/user-derived-schemas.html'\n+            })\n+            .state('create.virtualSchemas', {\n+              url: '/virtualSchemas',\n+              templateUrl: 'views/user-virtual-schemas.html'\n+            })\n+            // url will be /self/create/schema\n+            .state('create.groups', {\n+              url: '/groups',\n+              templateUrl: 'views/user-groups.html'\n+            })\n+            .state('create.resources', {\n+              url: '/resources',\n+              templateUrl: 'views/user-resources.html'\n+            })\n+            .state('update', {\n+              url: '/self/update',\n+              templateUrl: 'views/editUser.html',\n+              resolve: {\n+                'authenticated': function (AuthenticationHelper) {\n+                  return AuthenticationHelper.authenticated();\n+                }\n+              }\n+            })\n+            // nested states \n+            // each of these sections will have their own view\n+            // url will be nested (/self/create)\n+            .state('update.credentials', {\n+              url: '/credentials',\n+              templateUrl: 'views/user-credentials.html',\n+              resolve: {\n+                'authenticated': function (AuthenticationHelper) {\n+                  return AuthenticationHelper.authenticated();\n+                }\n+              }\n+            })\n+            .state('update.plainSchemas', {\n+              url: '/plainSchemas',\n+              templateUrl: 'views/user-plain-schemas.html',\n+              resolve: {\n+                'authenticated': function (AuthenticationHelper) {\n+                  return AuthenticationHelper.authenticated();\n+                }\n+              }\n+            })\n+            .state('update.derivedSchemas', {\n+              url: '/derivedSchemas',\n+              templateUrl: 'views/user-derived-schemas.html',\n+              resolve: {\n+                'authenticated': function (AuthenticationHelper) {\n+                  return AuthenticationHelper.authenticated();\n+                }\n+              }\n+            })\n+            .state('update.virtualSchemas', {\n+              url: '/virtualSchemas',\n+              templateUrl: 'views/user-virtual-schemas.html',\n+              resolve: {\n+                'authenticated': function (AuthenticationHelper) {\n+                  return AuthenticationHelper.authenticated();\n+                }\n+              }\n+            })\n+            // url will be /self/create/schema\n+            .state('update.groups', {\n+              url: '/groups',\n+              templateUrl: 'views/user-groups.html',\n+              resolve: {\n+                'authenticated': function (AuthenticationHelper) {\n+                  return AuthenticationHelper.authenticated();\n+                }\n+              }\n+            })\n+            .state('update.resources', {\n+              url: '/resources',\n+              templateUrl: 'views/user-resources.html',\n+              resolve: {\n+                'authenticated': function (AuthenticationHelper) {\n+                  return AuthenticationHelper.authenticated();\n+                }\n+              }\n+            });\n+\n+    // catch all other routes\n+    // send users to the home page \n+    $urlRouterProvider.otherwise('/');\n+\n+    // HTTP service configuration\n+    $httpProvider.defaults.withCredentials = true;\n+\n+    $httpProvider.interceptors.push(function ($q, $rootScope, $location) {\n+      var numLoadings = 0;\n+      return {\n+//        'request': function (config) {\n+//          numLoadings++;\n+//          // Show loader\n+//          if (config.url.indexOf(\"skipLoader=true\") == -1) {\n+//            $rootScope.$broadcast(\"loader_show\");\n+//          }\n+//          return config || $q.when(config);\n+//        },\n+//        'response': function (response) {\n+//          if ((--numLoadings) === 0) {\n+//            // Hide loader\n+//            $rootScope.$broadcast(\"loader_hide\");\n+//          }\n+//          return response || $q.when(response);\n+//        },\n+        'responseError': function (response) {\n+          if (response.config.url.indexOf(\"acceptError=true\") == -1) {\n+            var status = response.status;\n+            if (status == 401) {\n+              console.log(\"ERROR \" + status);\n+//              $location.path(\"/self\");\n+            }\n+            if (status == 403) {\n+              console.log(\"UNAUTHORIZED \" + status);\n+//              $location.path(\"/self\");\n+            }\n+            if (status == 400 || status == 404 || status == 412 || status == 500) {\n+//              if (response.data.validationErrors != undefined) {\n+//                for (var i in response.data.validationErrors) {\n+//                  $rootScope.$broadcast('growlMessage', {text: response.data.validationErrors[i] || '', severity: 'error'});\n+//                }\n+//              } else if (response.data.message != undefined) {\n+//                $rootScope.$broadcast('growlMessage', {text: response.data.message || '', severity: 'error'})\n+//              }\n+              console.log(\"GENERIC ERROR \" + status);\n+            }\n+          }\n+          return $q.reject(response);\n+        }\n+      };\n+    });\n+    \n+    growlProvider.globalTimeToLive(10000);\n+    growlProvider.globalPosition('bottom-left');\n+    growlProvider.globalInlineMessages(true);\n+    growlProvider.globalDisableIcons(true);\n+    //to enable html in growl\n+//    growlProvider.globalEnableHtml(true);\n+  }]);\n+\n+app.run(['$rootScope', '$location', '$cookies', '$state',\n+  function ($rootScope, $location, $cookies, $state) {\n+    // main program\n+    // keep user logged in after page refresh\n+    // check if user is logged or not\n+    $rootScope.currentUser = $cookies.get('currentUser') || null;\n+//If the route change failed due to authentication error, redirect them out\n+    $rootScope.$on('$routeChangeError', function (event, current, previous, rejection) {\n+      if (rejection === 'Not Authenticated') {\n+        $location.path('/self');\n+      }\n+    });\n+\n+//    $rootScope.$on('success', function (event, args) {\n+//      console.log(\"IN CONFIG EVENTO: \", event);\n+//      $rootScope.$broadcast(\"error\", \"success\");\n+//    });\n+\n+    $rootScope.$on('$stateChangeSuccess', function (event, toState) {\n+      if (toState.name === 'create') {\n+        $state.go('create.credentials');\n+      } else if (toState.name === 'update') {\n+        $state.go('update.credentials');\n+      }\n+    });\n+//        $rootScope.$on('$locationChangeStart', function (event, next, current) {\n+//            // redirect to login page if not logged in\n+//            if ($location.path() !== '/self' && !$rootScope.globals.currentUser) {\n+//                $location.path('/self');\n+//            }\n+//        });\n+  }]);\n+\n+app.controller('ApplicationController', function ($scope) {\n+// DO NOTHING\n+//  $scope.$on('success', function (event, args) {\n+//    console.log(\"IN CONFIG EVENTO: \", event)\n+//    $scope.$broadcast(\"error\", \"success\");\n+//  });\n+});\n+\n+app.factory('AuthenticationHelper', ['$q', '$rootScope',\n+  function ($q, $rootScope) {\n+    return {\n+      authenticated: function () {\n+\n+        var currentUser = $rootScope.currentUser;\n+\n+        console.log(\"AuthenticationHelper, currentUser: \", currentUser);\n+\n+        if (angular.isDefined(currentUser) && currentUser) {\n+          return true;\n+        } else {\n+          console.log(\"NOT AUTHENTICATED, REDIRECT TO LOGIN PAGE\");\n+          return $q.reject('Not Authenticated');\n+        }\n+      }\n+    };\n+  }]);"},{"sha":"bf86413922d979dd708da796ece64c51261a5280","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/controllers/HomeController.js","status":"added","additions":39,"deletions":0,"changes":39,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FHomeController.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FHomeController.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FHomeController.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,39 @@\n+/**\n+ Licensed to the Apache Software Foundation (ASF) under one\n+ or more contributor license agreements.  See the NOTICE file\n+ distributed with this work for additional information\n+ regarding copyright ownership.  The ASF licenses this file\n+ to you under the Apache License, Version 2.0 (the\n+ \"License\"); you may not use this file except in compliance\n+ with the License.  You may obtain a copy of the License at\n+ \n+ http://www.apache.org/licenses/LICENSE-2.0\n+ \n+ Unless required by applicable law or agreed to in writing,\n+ software distributed under the License is distributed on an\n+ \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ KIND, either express or implied.  See the License for the\n+ specific language governing permissions and limitations\n+ under the License.\n+ **/\n+\n+'use strict';\n+\n+angular.module(\"home\").controller(\"HomeController\", ['$scope', '$http', '$location', function ($scope, $http, $location) {\n+    $scope.title = 'Hello world!';\n+    $scope.subtitle = 'Hello world SUBTITLE!';\n+    $scope.name = \"\";\n+\n+// check if user is logged or not, check session variables: if user isn't logged redirect to login page\n+\n+      console.log(\"SONO IN HomeController\");\n+      \n+//      var isLogged = false;\n+//      if (!isLogged) {\n+//        console.log(\"REDIRECT TO LOGIN PAGE\");\n+////        window.location = \"./self.html\";\n+//        $location.path(\"/self\");\n+//      }\n+\n+    \n+  }]);\n\\ No newline at end of file"},{"sha":"9e1fa6c0a432258e3e10029128df757f846f645e","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/controllers/LanguageController.js","status":"added","additions":66,"deletions":0,"changes":66,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FLanguageController.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FLanguageController.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FLanguageController.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,66 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict';\n+\n+angular.module('language')\n+        .controller('LanguageController', function ($scope) {\n+\n+          $scope.languages = {\n+            availableLanguages: [\n+              {id: '1', name: 'Italiano'},\n+              {id: '2', name: 'English'},\n+              {id: '3', name: 'Portugese'}\n+            ],\n+            selectedLanguage: {id: '2', name: 'English'}\n+          };\n+\n+          $scope.init = function () {\n+//            MainService.settings().then(function (response) {\n+//              $scope.mainSettings = response;\n+//            });\n+\n+            console.log(\"Init language controller\");\n+          };\n+\n+          $scope.changeLanguage = function (language) {\n+\n+            console.log(\"Language changed to: \", language);\n+            \n+            $scope.languages.selectedLanguage = language;\n+            \n+//            $translate.use(langKey);\n+//            LanguageService.switchLocale.query({language: langKey}, {}, function (response) {\n+//              $scope.selectedLanguage.locale = langKey;\n+//            });\n+          };\n+\n+          this.retrieveLanguages = function () {\n+//            LanguageService.language.query({}, function (response) {\n+//              $scope.languages = response;\n+//            });\n+            console.log(\"Retriebving available languages\");\n+          };\n+\n+\n+          this.retrieveLanguages();\n+\n+\n+        });\n+"},{"sha":"c9625711cfee2b3cf8d1b32a9ce7adead846f6c2","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/controllers/LoginController.js","status":"added","additions":93,"deletions":0,"changes":93,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FLoginController.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FLoginController.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FLoginController.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,93 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict';\n+\n+angular.module(\"login\").controller(\"LoginController\", ['$scope', '$rootScope', '$http', '$location', '$cookies',\n+  'AuthService', 'growl', function ($scope, $rootScope, $http, $location, $cookies, AuthService, growl) {\n+\n+    $scope.credentials = {\n+      username: '',\n+      password: '',\n+      errorMessage: ''\n+    };\n+\n+    $scope.login = function (credentials) {\n+\n+      console.log(\"CREDENTIALS FROM PAGE: \", credentials);\n+      console.log(\"AUTHSERVICE: \", AuthService);\n+\n+      AuthService.login($scope.credentials).then(function (user) {\n+        console.log(\"LOGIN SUCCESS FOR: \", user);\n+        console.log(\"DOPO AVER SETTATO CURRENT USER: \", $rootScope.currentUser);\n+        console.log(\"COOKIE CURRENT USER: \", $cookies.get('currentUser'));\n+        // reset error message\n+        $scope.credentials.errorMessage = '';\n+        // got to update page\n+        $location.path(\"/self/update\");\n+      }, function (response) {\n+        console.log(\"LOGIN FAILED: \", response);\n+        $scope.credentials.errorMessage = \"Login failed: \" + response;\n+        growl.error($scope.credentials.errorMessage, {referenceId: 1});\n+      });\n+    };\n+\n+    $scope.logout = function () {\n+\n+      console.log(\"PERFORMING LOGOUT\");\n+\n+      AuthService.logout().then(function (response) {\n+        console.log(\"LOGOUT SUCCESS: \", response);\n+      }, function () {\n+        console.log(\"LOGOUT FAILED\");\n+      });\n+    };\n+\n+    $scope.isLogged = function () {\n+      return angular.isDefined($rootScope.currentUser) && $rootScope.currentUser;\n+    };\n+\n+    $scope.selfCreate = function () {\n+      $location.path(\"/self/create\");\n+    };\n+\n+    $scope.passwordReset = function () {\n+      // TODO\n+      console.log(\"NOT YET IMPLEMENTED\")\n+    };\n+\n+    $scope.errorAPI = function () {\n+      $http.get(\"/syncope-enduser/api/error\").success(function (data) {\n+        console.log(\"errorAPI response: \", data);\n+      });\n+    };\n+\n+    $scope.sampleAPI = function () {\n+      $http.get(\"/syncope-enduser/api/user-self\").success(function (data) {\n+        console.log(\"sampleAPI response: \", data);\n+      });\n+    };\n+\n+    $scope.schemaAPI = function () {\n+      $http.get(\"/syncope-enduser/api/schema\").success(function (data) {\n+        console.log(\"schemaAPI response: \", data);\n+      });\n+    };\n+\n+  }]);"},{"sha":"892de213893b8d11087188699156885bdc29a7d5","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/controllers/UserController.js","status":"added","additions":206,"deletions":0,"changes":206,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fcontrollers%2FUserController.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,206 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict';\n+\n+angular.module(\"self\").controller(\"UserController\", ['$scope', '$rootScope', '$location', 'AuthService',\n+  'UserSelfService', 'SchemaService', 'RealmService', 'SecurityQuestionService', 'growl', function ($scope, $rootScope,\n+          $location, AuthService, UserSelfService, SchemaService, RealmService, SecurityQuestionService, growl) {\n+\n+    $scope.user = {};\n+    $scope.confirmPassword = {\n+      value: ''\n+    };\n+    $scope.userFormValid = false;\n+    $scope.createMode = $location.path().indexOf(\"/self/create\") > -1;\n+\n+    $scope.availableRealms = [];\n+    $scope.availableSecurityQuestions = [];\n+\n+    $scope.initialSecurityQuestion = undefined;\n+\n+    $scope.initUser = function () {\n+\n+      $scope.dynamicForm = {\n+        plainSchemas: [],\n+        derSchemas: [],\n+        virSchemas: [],\n+        selectedDerSchemas: [],\n+        selectedVirSchemas: [],\n+        errorMessage: '',\n+        attributeTable: {}\n+      };\n+\n+\n+      var initSchemas = function () {\n+        // initialization is done here synchronously to have all schema fields populated correctly\n+        SchemaService.getUserSchemas().then(function (schemas) {\n+          $scope.dynamicForm.plainSchemas = schemas.plainSchemas;\n+          $scope.dynamicForm.derSchemas = schemas.derSchemas;\n+          $scope.dynamicForm.virSchemas = schemas.virSchemas;\n+\n+          // initialize plain attributes\n+          for (var i = 0; i < schemas.plainSchemas.length; i++) {\n+\n+            var plainSchemaKey = schemas.plainSchemas[i].key;\n+\n+            if (!$scope.user.plainAttrs[plainSchemaKey]) {\n+\n+              $scope.user.plainAttrs[plainSchemaKey] = {\n+                schema: plainSchemaKey,\n+                values: [],\n+                readonly: schemas.plainSchemas[i].readonly\n+              };\n+\n+              // initialize multivalue schema and support table: create mode, only first value\n+              if (schemas.plainSchemas[i].multivalue) {\n+                $scope.dynamicForm.attributeTable[schemas.plainSchemas[i].key] = {\n+                  fields: [schemas.plainSchemas[i].key + \"_\" + 0]\n+                };\n+              }\n+            } else {\n+              // initialize multivalue schema and support table: update mode, all provided values\n+              if (schemas.plainSchemas[i].multivalue) {\n+                $scope.dynamicForm.attributeTable[schemas.plainSchemas[i].key] = {\n+                  fields: [schemas.plainSchemas[i].key + \"_\" + 0]\n+                };\n+                // add other values\n+                for (var j = 1; j < $scope.user.plainAttrs[plainSchemaKey].values.length; j++) {\n+                  $scope.dynamicForm.attributeTable[schemas.plainSchemas[i].key].fields.push(schemas.plainSchemas[i].key + \"_\" + j);\n+                }\n+              }\n+            }\n+          }\n+\n+          // initialize derived attributes\n+          for (var i = 0; i < schemas.derSchemas.length; i++) {\n+\n+            var derSchemaKey = schemas.derSchemas[i].key;\n+\n+            if ($scope.user.derAttrs[derSchemaKey]) {\n+              $scope.dynamicForm.selectedDerSchemas.push(schemas.derSchemas[i]);\n+            }\n+          }\n+\n+          // initialize virtual attributes\n+          for (var i = 0; i < schemas.virSchemas.length; i++) {\n+\n+            var virSchemaKey = schemas.virSchemas[i].key;\n+\n+            if ($scope.user.virAttrs[virSchemaKey]) {\n+              $scope.dynamicForm.selectedVirSchemas.push(schemas.virSchemas[i]);\n+            }\n+          }\n+\n+        }, function () {\n+          console.log(\"Error retrieving user schemas\");\n+        });\n+        console.log(\"USER WITH ATTRTO: \", $scope.user);\n+\n+      };\n+\n+      var initSecurityQuestions = function () {\n+        SecurityQuestionService.getAvailableSecurityQuestions().then(function (response) {\n+          $scope.availableSecurityQuestions = response;\n+        }, function () {\n+          console.log(\"Error\");\n+        });\n+      };\n+\n+      var initRealms = function () {\n+        $scope.availableRealms = RealmService.getAvailableRealmsStub();\n+      };\n+\n+      var initUserRealm = function () {\n+        $scope.user.realm = RealmService.getUserRealm();\n+      };\n+\n+\n+      var readUser = function () {\n+        UserSelfService.read().then(function (response) {\n+          $scope.user = response;\n+          $scope.user.password = undefined;\n+          $scope.initialSecurityQuestion = $scope.user.securityQuestion;\n+        }, function () {\n+          console.log(\"Error\");\n+        });\n+      };\n+\n+      if ($scope.createMode) {\n+\n+        $scope.user = {\n+          username: '',\n+          password: '',\n+          realm: '',\n+          securityQuestion: undefined,\n+          securityAnswer: '',\n+          plainAttrs: {},\n+          derAttrs: {},\n+          virAttrs: {}\n+        };\n+\n+        // retrieve user realm or all available realms\n+        initUserRealm();\n+\n+      } else {\n+\n+        // read user from syncope core\n+        readUser();\n+        // read user security question\n+\n+      }\n+\n+      initRealms();\n+      //retrieve security available questions\n+      initSecurityQuestions();\n+      // initialize user attributes starting from any object schemas\n+      initSchemas();\n+\n+    };\n+\n+    $scope.saveUser = function (user) {\n+      console.log(\"Save user: \", user);\n+\n+      if ($scope.createMode) {\n+\n+        UserSelfService.create(user).then(function (response) {\n+          console.log(\"Created user: \", response);\n+          growl.success(\"User \" + $scope.user.username + \" successfully created\", {referenceId: 1});\n+          $location.path('/self');\n+        }, function (response) {\n+          console.log(\"Error during user creation: \", response);\n+          growl.error(\"Error: \" + response, {referenceId: 2});\n+        });\n+\n+      } else {\n+\n+        UserSelfService.update(user).then(function (response) {\n+          console.log(\"Updated user: \", response);\n+          growl.success(\"User \" + $scope.user.username + \" successfully updated\", {referenceId: 1});\n+          $location.path('/self');\n+        }, function (response) {\n+          console.log(\"Error during user update: \", response);\n+          growl.error(\"Error: \" + response, {referenceId: 2});\n+        });\n+      }\n+    };\n+\n+\n+\n+  }]);"},{"sha":"6a00507f1c4917d2db7cbd068572848bc23ae2a2","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/dynamicAttribute.js","status":"added","additions":190,"deletions":0,"changes":190,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicAttribute.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicAttribute.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicAttribute.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,190 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+'use strict';\n+\n+angular.module('self')\n+        .directive('dynamicAttribute', function ($filter) {\n+          return {\n+            restrict: 'E',\n+            templateUrl: 'views/dynamicAttribute.html',\n+            scope: {\n+              schema: \"=\",\n+              index: \"=\",\n+              user: \"=\"\n+            },\n+            controller: function ($scope, $element, $window) {\n+              $scope.initAttribute = function (schema, index) {\n+\n+                switch (schema.type) {\n+                  case \"Long\":\n+                  case \"Double\":\n+                    $scope.user.plainAttrs[schema.key].values[index] = Number($scope.user.plainAttrs[schema.key].values[index])\n+                            || undefined;\n+                    break;\n+                  case \"Enum\":\n+                    $scope.enumerationValues = [];\n+                    var enumerationValuesSplitted = schema.enumerationValues.toString().split(\";\");\n+                    for (var i = 0; i < enumerationValuesSplitted.length; i++) {\n+                      $scope.enumerationValues.push(enumerationValuesSplitted[i]);\n+                    }\n+                    $scope.user.plainAttrs[schema.key].values[index] = $scope.user.plainAttrs[schema.key].values[index]\n+                            || $scope.enumerationValues[0];\n+                    break;\n+                  case \"Binary\":\n+\n+                    $scope.userFile = $scope.userFile || '';\n+                    //for multivalue fields \n+//                    $scope.fileInputId = \"fileInputId_\" + index;\n+\n+                    $element.bind(\"change\", function (changeEvent) {\n+                      $scope.$apply(function () {\n+                        var reader = new FileReader();\n+                        var file = changeEvent.target.files[0];\n+                        $scope.userFile = file.name;\n+                        reader.onload = function (readerEvt) {\n+                          var binaryString = readerEvt.target.result;\n+                          $scope.user.plainAttrs[schema.key].values[index] = btoa(binaryString);\n+                        };\n+                        reader.readAsBinaryString(file);\n+                      });\n+                    });\n+\n+                    $scope.download = function () {\n+                      var byteString = atob($scope.user.plainAttrs[schema.key].values[index]);\n+\n+                      var ab = new ArrayBuffer(byteString.length);\n+                      var ia = new Uint8Array(ab);\n+                      for (var i = 0; i < byteString.length; i++) {\n+                        ia[i] = byteString.charCodeAt(i);\n+                      }\n+\n+                      var blob = new Blob([ia], {type: schema.mimeType});\n+\n+                      saveAs(blob, schema.key);\n+                    };\n+                    $scope.remove = function () {\n+                      $scope.user.plainAttrs[schema.key].values.splice(index, 1);\n+                      $scope.userFile = '';\n+                      $(\"#fileInput\").replaceWith($(\"#fileInput\").clone(true));\n+                    };\n+                    break;\n+                  case \"Date\":\n+\n+                    $scope.selectedDate = $scope.user.plainAttrs[schema.key].values[index];\n+                    $scope.format = $scope.schema.conversionPattern;\n+                    $scope.includeTimezone = false;\n+                    if ($scope.schema.conversionPattern.indexOf(\".SSS\") > -1) {\n+                      $scope.format = $scope.format.replace(\".SSS\", \".sss\");\n+                    }\n+                    if ($scope.schema.conversionPattern.indexOf(\"Z\") > -1) {\n+                      $scope.includeTimezone = true;\n+                      $scope.format = $scope.format.replace(\"Z\", \"\");\n+                    }\n+                    if ($scope.schema.conversionPattern.indexOf(\"\\'\") > -1) {\n+                      $scope.format = $scope.format.replace(new RegExp(\"\\'\", \"g\"), \"\");\n+                    }\n+\n+                    $scope.bindDateToModel = function (selectedDate, format) {\n+                      var newFormat = $scope.includeTimezone ? format.concat(\" Z\") : format;\n+                      if (selectedDate) {\n+                        selectedDate = $filter('date')(selectedDate, newFormat);\n+                        var dateGood = selectedDate.toString();\n+                        $scope.user.plainAttrs[schema.key].values[index] = dateGood;\n+                      } else {\n+                        $scope.user.plainAttrs[schema.key].values[index] = selectedDate;\n+                      }\n+                    };\n+\n+                    $scope.clear = function () {\n+                      $scope.user.plainAttrs[schema.key].values[index] = null;\n+                    };\n+\n+                    // Disable weekend selection\n+                    $scope.disabled = function (date, mode) {\n+                      // example if you want to disable weekends\n+                      // return (mode === 'day' && (date.getDay() === 0 || date.getDay() === 6));\n+                      return false;\n+                    };\n+\n+                    $scope.toggleMin = function () {\n+                      $scope.minDate = $scope.minDate ? null : new Date();\n+                    };\n+\n+                    $scope.maxDate = new Date(2050, 5, 22);\n+\n+                    $scope.open = function ($event) {\n+                      $scope.status.opened = true;\n+                    };\n+\n+                    $scope.setDate = function (year, month, day) {\n+                      $scope.user.plainAttrs[schema.key].values[index] = new Date(year, month, day);\n+                    };\n+\n+                    $scope.dateOptions = {\n+                      startingDay: 1\n+                    };\n+\n+                    $scope.status = {\n+                      opened: false\n+                    };\n+\n+                    var tomorrow = new Date();\n+                    tomorrow.setDate(tomorrow.getDate() + 1);\n+                    var afterTomorrow = new Date();\n+                    afterTomorrow.setDate(tomorrow.getDate() + 2);\n+                    $scope.events =\n+                            [\n+                              {\n+                                date: tomorrow,\n+                                status: 'full'\n+                              },\n+                              {\n+                                date: afterTomorrow,\n+                                status: 'partially'\n+                              }\n+                            ];\n+\n+                    $scope.getDayClass = function (date, mode) {\n+                      if (mode === 'day') {\n+                        var dayToCheck = new Date(date).setHours(0, 0, 0, 0);\n+\n+                        for (var i = 0; i < $scope.events.length; i++) {\n+                          var currentDay = new Date($scope.events[i].date).setHours(0, 0, 0, 0);\n+\n+                          if (dayToCheck === currentDay) {\n+                            return $scope.events[i].status;\n+                          }\n+                        }\n+                      }\n+\n+                    };\n+                    break;\n+\n+                  case \"Boolean\":\n+                    $scope.user.plainAttrs[schema.key].values[index] =\n+                            Boolean($scope.user.plainAttrs[schema.key].values[index]) || false;\n+                    break;\n+\n+                }\n+              }\n+              ;\n+            },\n+            replace: true\n+          };\n+        });"},{"sha":"887b5c6c7aed7aa9196473df3fe6ec8c15d069f8","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/dynamicDerivedAttributes.js","status":"added","additions":52,"deletions":0,"changes":52,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicDerivedAttributes.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicDerivedAttributes.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicDerivedAttributes.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,52 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+'use strict';\n+\n+angular.module('self')\n+        .directive('dynamicDerivedAttributes', function () {\n+          return {\n+            restrict: 'E',\n+            templateUrl: 'views/dynamicDerivedAttributes.html',\n+            scope: {\n+              dynamicForm: \"=form\",\n+              user: \"=\"\n+            },\n+            controller: function ($scope) {\n+\n+              $scope.addDerivedAttribute = function (item, model) {\n+                var derSchemaKey = item.key;\n+                console.log(\"ADDING DERIVED item: \", derSchemaKey);\n+                $scope.user.derAttrs[derSchemaKey] = {\n+                  schema: derSchemaKey,\n+                  values: [],\n+                  readonly: false\n+                };\n+\n+              };\n+\n+              $scope.removeDerivedAttribute = function (item, model) {\n+                var derSchemaKey = item.key;\n+                console.log(\"REMOVING DERIVED item: \", derSchemaKey);\n+                delete $scope.user.derAttrs[derSchemaKey];\n+                \n+              };\n+\n+            }\n+          };\n+        });"},{"sha":"1a0a4c3adb141ceecdc7ae2f932568b1ab382f6f","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/dynamicPlainAttributes.js","status":"added","additions":45,"deletions":0,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicPlainAttributes.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicPlainAttributes.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicPlainAttributes.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,45 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+'use strict';\n+\n+angular.module('self')\n+        .directive('dynamicPlainAttributes', function (SchemaService) {\n+            return {\n+              restrict: 'E',\n+              templateUrl: 'views/dynamicPlainAttributes.html',\n+              scope: {\n+                dynamicForm: \"=form\",\n+                user: \"=\"\n+              },\n+              controller: function ($scope) {\n+\n+                $scope.addAttributeField = function (plainSchemaKey) {\n+                  console.log(\"ADDING: \", plainSchemaKey + \"_\" + ($scope.dynamicForm.attributeTable[plainSchemaKey].fields.length));\n+                  $scope.dynamicForm.attributeTable[plainSchemaKey].fields.push(plainSchemaKey + \"_\" + ($scope.dynamicForm.attributeTable[plainSchemaKey].fields.length));\n+                };\n+\n+                $scope.removeAttributeField = function (plainSchemaKey, index) {\n+                  console.log(\"REMOVING FROM: \" + plainSchemaKey + \" ATTRIBUTE INDEX: \" + index);\n+                  $scope.dynamicForm.attributeTable[plainSchemaKey].fields.splice(index, 1);\n+                  // clean user model\n+                  $scope.user.plainAttrs[plainSchemaKey].values.splice(index, 1);\n+                };\n+              }\n+            };\n+          });"},{"sha":"62c15917f9389fd2a833077319f21b82aa96a293","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/dynamicVirtualAttributes.js","status":"added","additions":52,"deletions":0,"changes":52,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicVirtualAttributes.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicVirtualAttributes.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FdynamicVirtualAttributes.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,52 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+'use strict';\n+\n+angular.module('self')\n+        .directive('dynamicVirtualAttributes', function () {\n+          return {\n+            restrict: 'E',\n+            templateUrl: 'views/dynamicVirtualAttributes.html',\n+            scope: {\n+              dynamicForm: \"=form\",\n+              user: \"=\"\n+            },\n+            controller: function ($scope) {\n+\n+              $scope.addVirtualAttribute = function (item, model) {\n+                var virSchemaKey = item.key;\n+                console.log(\"ADDING VIRTUAL item: \", virSchemaKey);\n+                $scope.user.virAttrs[virSchemaKey] = {\n+                  schema: virSchemaKey,\n+                  values: [],\n+                  readonly: false\n+                };\n+\n+              };\n+\n+              $scope.removeVirtualAttribute = function (item, model) {\n+                var virSchemaKey = item.key;\n+                console.log(\"REMOVING VIRTUAL item: \", virSchemaKey);\n+                delete $scope.user.virAttrs[virSchemaKey];\n+                \n+              };\n+\n+            }\n+          };\n+        });"},{"sha":"54c2022ff0fd263491fbe017d71d1747145c47f1","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/equals.js","status":"added","additions":49,"deletions":0,"changes":49,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Fequals.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Fequals.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Fequals.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,49 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+angular.module('self')\n+        .directive('equals', function () {\n+          return {\n+            restrict: 'A',\n+            require: '?ngModel',\n+            link: function (scope, elem, attrs, ngModel) {\n+              if (!ngModel)\n+                return; // do nothing if no ng-model\n+\n+              // watch own value and re-validate on change\n+              scope.$watch(attrs.ngModel, function () {\n+                validate();\n+              });\n+\n+              // observe the other value and re-validate on change\n+              attrs.$observe('equals', function (val) {\n+                validate();\n+              });\n+\n+              var validate = function () {\n+                // values\n+                var val1 = ngModel.$viewValue;\n+                var val2 = attrs.equals;\n+\n+                // set validity\n+                ngModel.$setValidity('equals', !val1 || !val2 || val1 === val2);\n+              };\n+            }\n+          };\n+        });\n\\ No newline at end of file"},{"sha":"603fb34d81316989e7ec831fa82d76dad8ccfddb","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/loader.js","status":"added","additions":32,"deletions":0,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Floader.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Floader.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2Floader.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,32 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict';\n+\n+angular.module('SyncopeEnduserApp')\n+        .directive(\"loader\", function ($rootScope) {\n+          return function ($scope, element, attrs) {\n+            $scope.$on(\"loader_show\", function () {\n+              return element.show();\n+            });\n+            return $scope.$on(\"loader_hide\", function () {\n+              return element.hide();\n+            });\n+          };\n+        });"},{"sha":"ff3eebf4b0f6cdef8bbfcc47702796b064248c47","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/navigationButtons.js","status":"added","additions":31,"deletions":0,"changes":31,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FnavigationButtons.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FnavigationButtons.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FnavigationButtons.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,31 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+'use strict';\n+\n+angular.module('self')\n+        .directive('navigationButtons', function () {\n+          return {\n+            restrict: 'E',\n+            templateUrl: 'views/navigationButtons.html',\n+            scope: {\n+              next: \"@\",\n+              previous: \"@\"\n+            }\n+          };\n+        });"},{"sha":"4bf52b2438ca29a59e8a44b4f1d69e1a5b975238","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/directives/passwordStrengthEstimator.js","status":"added","additions":102,"deletions":0,"changes":102,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FpasswordStrengthEstimator.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FpasswordStrengthEstimator.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fdirectives%2FpasswordStrengthEstimator.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,102 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict'\n+\n+angular.module('self', [])\n+        .directive('checkStrength', function () {\n+          return {\n+            replace: false,\n+            restrict: 'EACM',\n+            link: function (scope, iElement, iAttrs) {\n+\n+              var strength = {\n+                colors: ['#F00', '#F90', '#FF0', '#9F0', '#0F0'],\n+                mesureStrength: function (p) {\n+\n+                  var _force = 0;\n+                  var _regex = /[$-/:-?{-~!\"^_`\\[\\]]/g;\n+\n+                  var _lowerLetters = /[a-z]+/.test(p);\n+                  var _upperLetters = /[A-Z]+/.test(p);\n+                  var _numbers = /[0-9]+/.test(p);\n+                  var _symbols = _regex.test(p);\n+\n+                  var _flags = [_lowerLetters, _upperLetters, _numbers, _symbols];\n+                  var _passedMatches = $.grep(_flags, function (el) {\n+                    return el === true;\n+                  }).length;\n+\n+                  _force += 2 * p.length + ((p.length >= 10) ? 1 : 0);\n+                  _force += _passedMatches * 10;\n+\n+                  // penality (short password)\n+                  _force = (p.length <= 6) ? Math.min(_force, 10) : _force;\n+\n+                  // penality (poor variety of characters)\n+                  _force = (_passedMatches == 1) ? Math.min(_force, 10) : _force;\n+                  _force = (_passedMatches == 2) ? Math.min(_force, 20) : _force;\n+                  _force = (_passedMatches == 3) ? Math.min(_force, 40) : _force;\n+\n+                  return _force;\n+\n+                },\n+                getColor: function (s) {\n+\n+                  var idx = 0;\n+                  if (s <= 10) {\n+                    idx = 0;\n+                  }\n+                  else if (s <= 20) {\n+                    idx = 1;\n+                  }\n+                  else if (s <= 30) {\n+                    idx = 2;\n+                  }\n+                  else if (s <= 40) {\n+                    idx = 3;\n+                  }\n+                  else {\n+                    idx = 4;\n+                  }\n+\n+                  return {idx: idx + 1, col: this.colors[idx]};\n+\n+                }\n+              };\n+\n+              scope.$watch(iAttrs.checkStrength, function () {\n+                if (scope.pw === '') {\n+                  iElement.css({\"display\": \"none\"});\n+                } else {\n+                  var strength = strength.mesureStrength(scope.pw);\n+                  var c = strength.getColor(strength);\n+                  iElement.css({\"display\": \"inline\"});\n+                  iElement.children('li')\n+                          .css({\"background\": \"#DDD\"})\n+                          .slice(0, c.idx)\n+                          .css({\"background\": c.col});\n+                }\n+              });\n+\n+            },\n+            template: ''\n+          };\n+        });\n+"},{"sha":"a092d0c0962902debdb50bbf8440d249233556db","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/filters/propsFilter.js","status":"added","additions":52,"deletions":0,"changes":52,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Ffilters%2FpropsFilter.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Ffilters%2FpropsFilter.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Ffilters%2FpropsFilter.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,52 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict'\n+\n+angular.module(\"self\")\n+        .filter('propsFilter', function () {\n+          return function (items, props) {\n+            var out = [];\n+\n+            if (angular.isArray(items)) {\n+              items.forEach(function (item) {\n+                var itemMatches = false;\n+\n+                var keys = Object.keys(props);\n+                for (var i = 0; i < keys.length; i++) {\n+                  var prop = keys[i];\n+                  var text = props[prop].toLowerCase();\n+                  if (item[prop].toString().toLowerCase().indexOf(text) !== -1) {\n+                    itemMatches = true;\n+                    break;\n+                  }\n+                }\n+\n+                if (itemMatches) {\n+                  out.push(item);\n+                }\n+              });\n+            } else {\n+              // Let the output be the input untouched\n+              out = items;\n+            }\n+\n+            return out;\n+          };\n+        });"},{"sha":"3c3f7af7c92e84a6f7626a5a35e75bb79694e075","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/services/authService.js","status":"added","additions":74,"deletions":0,"changes":74,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FauthService.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FauthService.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FauthService.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,74 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict';\n+\n+angular.module('login')\n+        .factory('AuthService', ['$rootScope', '$resource', '$q', '$http', '$cookies',\n+          function ($rootScope, $resource, $q, $http, $cookies) {\n+\n+            var authService = {};\n+\n+            var clearUserCookie = function () {\n+              $rootScope.currentUser = null;\n+              $cookies.remove('currentUser');\n+            };\n+\n+            authService.login = function (credentials) {\n+              return $http\n+                      .post('/syncope-enduser/api/login', credentials)\n+                      .then(function (response) {\n+                        var username = response.data;\n+                        $cookies.put('currentUser', username);\n+                        $rootScope.currentUser = username;\n+                        return username;\n+                      }, function (response) {\n+                        clearUserCookie();\n+                        console.log(\"Something went wrong during login, exit with status: \", response);\n+                        return $q.reject(response.data || response.statusText);\n+                      });\n+            };\n+\n+            authService.logout = function () {\n+              return $http\n+                      .get('/syncope-enduser/api/logout')\n+                      .then(function (response) {\n+                        clearUserCookie();\n+                        return response;\n+                      }, function (response) {\n+                        clearUserCookie();\n+                        console.log(\"Something went wrong during logout, exit with status: \", response);\n+                      });\n+            };\n+\n+            return authService;\n+//            return {\n+//              login: $resource('/syncope-enduser/api/login', {}, {\n+//                do: {method: 'POST', params: {}, isArray: false}\n+//              })\n+//            };\n+//            return {\n+//              logout: $resource('/cradleDashboard/api/logout', {}, {\n+//                query: {method: 'GET', params: {}, isArray: false}\n+//              })\n+//            };\n+\n+          }]);\n+\n+"},{"sha":"356dc878c6cf1582682a4468f72e2fc85ac70d09","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/services/realmService.js","status":"added","additions":47,"deletions":0,"changes":47,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FrealmService.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FrealmService.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FrealmService.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,47 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict';\n+\n+angular.module('self')\n+        .factory('RealmService', ['$resource', '$q', '$http',\n+          function ($resource, $q, $http) {\n+\n+            var realmService = {};\n+\n+            realmService.getAvailableRealmsStub = function () {\n+              return  [\"/\"];\n+            };\n+\n+            realmService.getAvailableRealms = function () {\n+              return  $http.get(\"/syncope-enduser/api/realms\")\n+                      .then(function (response) {\n+                        console.log(\"realms response: \", response);\n+                        return response.data;\n+                      }, function (response) {\n+                        console.log(\"Something went wrong during realms retrieval, exit with status: \", response);\n+                        return $q.reject(response.data || response.statusText);\n+                      });\n+            };\n+\n+            realmService.getUserRealm = function () {\n+              return  \"/\";\n+            };\n+            return realmService;\n+          }]);"},{"sha":"be9f51078e75b5e8d7c2704853864435366c3a1a","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/services/schemaService.js","status":"added","additions":42,"deletions":0,"changes":42,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FschemaService.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FschemaService.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FschemaService.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,42 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict';\n+\n+angular.module('self')\n+        .factory('SchemaService', ['$resource', '$q', '$http',\n+          function ($resource, $q, $http) {\n+\n+            var schemaService = {};\n+\n+            schemaService.getUserSchemas = function () {\n+\n+              return  $http.get(\"/syncope-enduser/api/schemas\")\n+                      .then(function (response) {\n+                        console.log(\"schemaAPI response: \", response);\n+                        return response.data;\n+                      }, function (response) {\n+                        console.log(\"Something went wrong during schema retrieval, exit with status: \", response);\n+                        return $q.reject(response.data || response.statusText);\n+                      });\n+            };\n+            return schemaService;\n+          }]);\n+\n+"},{"sha":"ff91f1889eaa53ad7ef0919abe49e90a8ae7c6ba","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/services/securityQuestionService.js","status":"added","additions":41,"deletions":0,"changes":41,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FsecurityQuestionService.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FsecurityQuestionService.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FsecurityQuestionService.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,41 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict';\n+\n+angular.module('self')\n+        .factory('SecurityQuestionService', ['$resource', '$q', '$http',\n+          function ($resource, $q, $http) {\n+\n+            var securityQuestionService = {};\n+\n+            securityQuestionService.getAvailableSecurityQuestions = function () {\n+              return  $http.get(\"/syncope-enduser/api/securityQuestions\")\n+                      .then(function (response) {\n+                        console.log(\"security questions response: \", response);\n+                        return response.data;\n+                      }, function (response) {\n+                        console.log(\"Something went wrong during security questions retrieval, exit with status: \",\n+                                response);\n+                        return $q.reject(response.data || response.statusText);\n+                      });\n+            };\n+\n+            return securityQuestionService;\n+          }]);"},{"sha":"3a99e7fcadaa45e8e75b96daef56de9b8e48cfa9","filename":"client/enduser/src/main/resources/META-INF/resources/app/js/services/userSelfService.js","status":"added","additions":69,"deletions":0,"changes":69,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FuserSelfService.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FuserSelfService.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fjs%2Fservices%2FuserSelfService.js?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,69 @@\n+/* \n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+'use strict';\n+\n+angular.module('login')\n+        .factory('UserSelfService', ['$resource', '$q', '$http',\n+          function ($resource, $q, $http) {\n+\n+            var userSelfService = {};\n+\n+            userSelfService.read = function () {\n+              return $http\n+                      .get('/syncope-enduser/api/self/read')\n+                      .then(function (response) {\n+                        console.log(\"response read: \", response.data);\n+                        return response.data;\n+                      }, function (response) {\n+                        console.log(\"Something went wrong during user self read, exit with status: \", response);\n+                        return $q.reject(response.data || response.statusText);\n+                      });\n+            };\n+\n+            userSelfService.create = function (user) {\n+              return $http\n+                      .post('/syncope-enduser/api/self/create', user)\n+                      .then(function (response) {\n+                        console.log(\"response save: \", response)\n+                        var username = response;\n+                      }, function (response) {\n+                        console.log(\"Something went wrong during user self creation, exit with status: \", response);\n+                        return $q.reject(response.data || response.statusText);\n+                      });\n+            };\n+\n+            userSelfService.update = function (user) {\n+              return $http\n+                      .post('/syncope-enduser/api/self/update', user)\n+                      .then(function (response) {\n+                        var username = response;\n+                      }, function (response) {\n+                        console.log(\"Something went wrong during user self update, exit with status: \", response);\n+                        return $q.reject(response.data || response.statusText);\n+                      });\n+            };\n+\n+            userSelfService.passwordReset = function () {\n+            };\n+\n+            return userSelfService;\n+          }]);\n+\n+"},{"sha":"9c6b1d9dd5daa054dbe302b1d9ea40c89735e172","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/dynamicAttribute.html","status":"added","additions":58,"deletions":0,"changes":58,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicAttribute.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicAttribute.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicAttribute.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,58 @@\n+<div ng-switch=\"schema.type\" >\n+  <input ng-switch-when=\"String\" class=\"form-control\" type=\"text\"\n+         ng-model=\"user.plainAttrs[schema.key].values[index]\"\n+         ng-required=\"schema.mandatoryCondition\" \n+         ng-disabled=\"schema.readonly\" ng-init=\"initAttribute(schema, index)\"/>\n+  <input ng-switch-when=\"Encrypted\" class=\"form-control\" type=\"text\"\n+         ng-model=\"user.plainAttrs[schema.key].values[index]\"\n+         ng-required=\"schema.mandatoryCondition\" \n+         ng-disabled=\"schema.readonly\" ng-init=\"initAttribute(schema, index)\"/>\n+  <div ng-switch-when=\"Boolean\">\n+    <input type=\"checkbox\" ng-model=\"user.plainAttrs[schema.key].values[index]\" ng-required=\"schema.mandatoryCondition\" \n+           ng-init=\"initAttribute(schema, index)\" />\n+  </div>\n+  <input ng-switch-when=\"Long\" class=\"form-control\" type=\"number\" ng-model=\"user.plainAttrs[schema.key].values[index]\" ng-required=\"schema.mandatoryCondition\"\n+         ng-init=\"initAttribute(schema, index)\" />\n+  <input ng-switch-when=\"Double\" class=\"form-control\" type=\"number\" ng-model=\"user.plainAttrs[schema.key].values[index]\" ng-required=\"schema.mandatoryCondition\"\n+         ng-init=\"initAttribute(schema, index)\" />\n+  <p ng-switch-when=\"Date\" class=\"input-group\" >\n+    <input type=\"text\" class=\"form-control\" \n+           uib-datepicker-popup=\"{{format}}\"\n+           ng-model=\"selectedDate\"\n+           ng-change=\"bindDateToModel(selectedDate, format)\"\n+           min-date=\"minDate\" max-date=\"maxDate\"\n+           is-open=\"status.opened\" datepicker-options=\"dateOptions\"\n+           ng-required=\"schema.mandatoryCondition\" close-text=\"Close\" ng-init=\"initAttribute(schema, index)\"/>\n+    <span class=\"input-group-btn\">\n+      <button type=\"button\" class=\"btn btn-default\" ng-click=\"open($event)\"><i class=\"glyphicon glyphicon-calendar\"></i></button>\n+    </span>\n+  </p>\n+\n+  <div ng-switch-when=\"Enum\" ng-init=\"initAttribute(schema, index)\">\n+    <select class=\"form-control\"\n+            ng-model=\"user.plainAttrs[schema.key].values[index]\"\n+            ng-required=\"schema.mandatoryCondition\">\n+      <option ng-repeat=\"value in enumerationValues\" value=\"{{value}}\">{{schema.enumerationKeys[$index] || value}}</option>\n+    </select>\n+  </div>\n+\n+  <div ng-switch-when=\"Binary\" ng-init=\"initAttribute(schema, index)\">\n+    <div enctype=\"multipart/form-data\" accept-charset=\"UTF-8\">\n+      <input id=\"fileInput\" type=\"file\" ng-required=\"schema.mandatoryCondition\"/>\n+      <button type=\"button\" title=\"Download file\" class=\"fileButton btn btn-default btn-sm\" ng-click=\"download()\">\n+        <i class=\"glyphicon glyphicon-download\" ></i>\n+      </button>\n+      <button type=\"button\" class=\"fileButton btn btn-default btn-sm\" title=\"Remove file\" ng-click=\"remove()\">\n+        <i class=\"glyphicon glyphicon-remove-sign\" ></i>\n+      </button>\n+      <h4><span class=\"label label-primary\" ng-model=\"userFile\">{{userFile}}</span></h4>\n+    </div>\n+    \n+  </div>\n+\n+  <input ng-switch-default class=\"form-control\" type=\"text\"\n+         ng-model=\"user.plainAttrs[schema.key].values[index]\"\n+         ng-required=\"schema.mandatoryCondition\" \n+         ng-disabled=\"schema.readonly\" ng-init=\"initAttribute(schema, index)\"/>\n+\n+</div>"},{"sha":"94008771c26002e7a6e667fbdd15a7d4e397c433","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/dynamicDerivedAttributes.html","status":"added","additions":21,"deletions":0,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicDerivedAttributes.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicDerivedAttributes.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicDerivedAttributes.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,21 @@\n+<ui-select on-select=\"addDerivedAttribute($item, $model)\" on-remove=\"removeDerivedAttribute($item, $model)\" multiple\n+           ng-model=\"dynamicForm.selectedDerSchemas\" theme=\"select2\" class=\"attribute-ui-select\">\n+  <ui-select-match placeholder=\"Select derived attribute...\">{{$item.key}}</ui-select-match>\n+  <ui-select-choices repeat=\"derSchema in dynamicForm.derSchemas | propsFilter: {key: $select.search}\">\n+    <div ng-bind-html=\"derSchema.key | highlight: $select.search\"></div>\n+    <small>\n+      name: {{derSchema.key}}\n+      expression: {{derSchema.expression}}\n+    </small>\n+  </ui-select-choices>\n+</ui-select>\n+\n+<ul class=\"attribute-virtual-value-container\">\n+  <li class=\"attribute-virtual-value-field\" ng-repeat=\"selectedDerSchema in dynamicForm.selectedDerSchemas| filter:q as results\">\n+    {{selectedDerSchema.key}}\n+    <input style=\"font-weight: normal\" class=\"form-control\" type=\"text\" ng-disabled=\"true\" ng-model=\"user.derAttrs[selectedDerSchema.key].values[0]\"/>\n+  </li>\n+  <li class=\"attribute-virtual-value-field\" ng-if=\"results.length == 0\">\n+    <strong>No derived attributes selected...</strong>\n+  </li>\n+</ul>"},{"sha":"074abbd57606125238ba2dad039f07a0f7610fe7","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/dynamicPlainAttributes.html","status":"added","additions":22,"deletions":0,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicPlainAttributes.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicPlainAttributes.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicPlainAttributes.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,22 @@\n+<div id=\"attribute\" class=\"form-group\" ng-repeat=\"plainSchema in dynamicForm.plainSchemas\">\n+  <label for=\"plainSchema.key\">{{plainSchema.key}} <span ng-if=\"Boolean(plainSchema.mandatoryCondition)\">*</span></label>\n+  <div ng-if=\"!plainSchema.multivalue\">\n+    <dynamic-attribute schema=\"plainSchema\" user=\"user\" index=\"0\"></dynamic-attribute>\n+  </div>\n+\n+  <div ng-if=\"plainSchema.multivalue\">\n+    <div ng-repeat=\"field in dynamicForm.attributeTable[plainSchema.key].fields track by $index\" ng-model='dynamicForm.attributeTable[plainSchema.key].fields[$index]'>\n+      <dynamic-attribute schema=\"plainSchema\" user=\"user\" index=\"$index\"></dynamic-attribute>\n+      <span>\n+        <button class=\"btn btn-default btn-sm minus\" ng-if=\"$index > 0\" type=\"button\" ng-click=\"removeAttributeField(plainSchema.key, $index)\">\n+          <i class=\"glyphicon glyphicon-minus\" title=\"Remove value\"></i>\n+        </button>\n+      </span>\n+    </div>\n+    <span>\n+      <button class=\"btn btn-default btn-sm\" type=\"button\" ng-click=\"addAttributeField(plainSchema.key)\">\n+        <i class=\"glyphicon glyphicon-plus\" title=\"Add value\"></i>\n+      </button>\n+    </span>\n+  </div>\n+</div>\n\\ No newline at end of file"},{"sha":"897eb2ca5bf5fa10b222489b83fc676b068b6cc4","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/dynamicVirtualAttributes.html","status":"added","additions":18,"deletions":0,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicVirtualAttributes.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicVirtualAttributes.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FdynamicVirtualAttributes.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,18 @@\n+<ui-select on-select=\"addVirtualAttribute($item, $model)\" on-remove=\"removeVirtualAttribute($item, $model)\" multiple \n+           ng-model=\"dynamicForm.selectedVirSchemas\" theme=\"select2\" ng-disabled=\"false\" class=\"attribute-ui-select\">\n+  <ui-select-match placeholder=\"Select virtual attribute...\">{{$item.key}}</ui-select-match>\n+  <ui-select-choices repeat=\"virSchema in dynamicForm.virSchemas | propsFilter: {key: $select.search}\">\n+    <div ng-bind-html=\"virSchema.key | highlight: $select.search\"></div>\n+  </ui-select-choices>\n+</ui-select>\n+\n+<ul class=\"attribute-virtual-value-container\">\n+  <li class=\"attribute-virtual-value-field\" ng-repeat=\"selectedVirSchema in dynamicForm.selectedVirSchemas| filter:q as results\">\n+    {{selectedVirSchema.key}}\n+    <input style=\"font-weight: normal\" class=\"form-control\" type=\"text\" ng-disabled=\"selectedVirSchema.readonly\"\n+            ng-model=\"user.virAttrs[selectedVirSchema.key].values[0]\"/>\n+  </li>\n+  <li class=\"attribute-virtual-value-field\" ng-if=\"results.length == 0\">\n+    <strong>No virtual attributes selected...</strong>\n+  </li>\n+</ul>\n\\ No newline at end of file"},{"sha":"9361cdfbeb062fbd5de3b63c8822447488b9ebfe","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/editUser.html","status":"added","additions":73,"deletions":0,"changes":73,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FeditUser.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FeditUser.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FeditUser.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,73 @@\n+<!DOCTYPE html>\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<div ng-cloak class=\"container\">\n+  <div class=\"login-container\" ng-controller=\"UserController\" ng-init=\"initUser();\" style=\"box-sizing: border-box; \">\n+\n+    <div id=\"form-container\" class=\"col-md-6 col-md-offset-3\">\n+\n+\n+      <div>\n+        <div class=\"page-header\" style=\"text-align: left; font-weight: 700;\">\n+          <span ng-show=\"createMode\">New User</span>\n+          <span ng-show=\"!createMode\">User {{user.username}}</span>\n+        </div>\n+        <div class=\"breadcrumb-header text-center\">\n+\n+          <!-- the links to our nested states using relative paths -->\n+          <!-- add the active class if the state matches our ui-sref -->\n+          <!--<div id=\"status-buttons\" class=\"text-center\">-->\n+          <div class=\"row\">\n+            <div growl reference=\"2\" inline=\"true\"></div>\n+            <div id=\"status-buttons\" class=\"btn-group btn-breadcrumb\">\n+              <a href=\"#/self\" class=\"btn btn-default\"><i class=\"glyphicon glyphicon-home\"></i></a>\n+              <!--add class breadcrumb-disabled-link to buttons to prevent click-->\n+              <a ui-sref-active=\"active\" ui-sref=\".credentials\" class=\"btn btn-default\">Credentials</a>\n+              <a ui-sref-active=\"active\" ui-sref=\".plainSchemas\" class=\"btn btn-default\">Plain Schemas</a>\n+              <a ui-sref-active=\"active\" ui-sref=\".derivedSchemas\" class=\"btn btn-default\">Derived Schemas</a>\n+              <a ui-sref-active=\"active\" ui-sref=\".virtualSchemas\" class=\"btn btn-default\">Virtual Schemas</a>\n+              <a ui-sref-active=\"active\" ui-sref=\".groups\" class=\"btn btn-default\">Groups</a>\n+              <a ui-sref-active=\"active\" ui-sref=\".resources\" class=\"btn btn-default\">Resources</a>\n+            </div>\n+          </div>\n+        </div>\n+        <form class=\"signup-form\" name=\"userForm\" ng-submit=\"saveUser(user)\" novalidate>\n+\n+          <div id=\"form-views\" ui-view>\n+\n+            <!--            <div class=\"form-group row\">\n+                          <div class=\"col-xs-6 col-xs-offset-3\">\n+                            <a id=\"next\" ui-sref=\"create.credentials\" class=\"btn btn-block btn-signin\">\n+                              Start <span class=\"glyphicon glyphicon-circle-arrow-right\"></span>\n+                            </a> \n+                            <a id=\"cancel\" href=\"#/self\" class=\"btn btn-link\">Cancel</a>\n+                          </div>\n+                        </div>-->\n+\n+          </div>\n+          <!--            <div class=\"form-actions\">\n+                        <button type=\"submit\" ng-disabled=\"form.$invalid || vm.dataLoading\" class=\"btn btn-primary\" ng-click=\"saveUser()\">Register</button>\n+                        <img ng-if=\"vm.dataLoading\" src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n+                        <a href=\"#/self\" class=\"btn btn-link\">Cancel</a>\n+                      </div>-->\n+        </form>\n+      </div>\n+    </div>\n+  </div>\n+</div>"},{"sha":"2ca6c586d72972df04e39cae4a70787591284c2d","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/generic-error.html","status":"added","additions":24,"deletions":0,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fgeneric-error.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fgeneric-error.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fgeneric-error.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,24 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+<html>\n+  <body>\n+    <div>PAGE NOT FOUND</div>\n+  </body>\n+</html>"},{"sha":"ca365ff9a22f35a203d5a9741f5acac57068d9ae","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/home.html","status":"added","additions":34,"deletions":0,"changes":34,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fhome.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fhome.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fhome.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,34 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+<html>\n+  <body>\n+    <div>TITLE GET FROM CONTROLLER:</div>\n+    <p>{{title}}</p>\n+    <p>{{subtitle}}</p>\n+    <p>{{name}}</p>\n+    \n+    <button type=\"button\" ng-click=\"\">Password Reset</button>\n+    <button type=\"button\" ng-click=\"\">Self Registration</button>\n+    <button type=\"button\" ng-click=\"\">Self Update</button>\n+    <button type=\"button\" ng-click=\"sampleAPI()\">Sample</button>\n+    <button type=\"button\" ng-click=\"errorAPI()\">Error</button>\n+    \n+  </body>\n+</html>"},{"sha":"793334da7caad516f9e56120e770a8f393303014","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/navigationButtons.html","status":"added","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FnavigationButtons.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FnavigationButtons.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2FnavigationButtons.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,8 @@\n+<div class=\"col-xs-6 col-xs-offset-3\">\n+  <a ng-show=\"next !== 'none'\" id=\"next\" ui-sref=\"{{next}}\" class=\"btn btn-default\">\n+    Next <span class=\"glyphicon glyphicon-circle-arrow-right\"></span>\n+  </a>\n+  <a ng-show=\"previous !== 'none'\" id=\"previous\" ui-sref=\"{{previous}}\" class=\"btn btn-default\">\n+    <span class=\"glyphicon glyphicon-circle-arrow-left\"></span> Previous\n+  </a>\n+</div>"},{"sha":"0139697a6e77504efe8d3122008d4ae29c45acc4","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/self.html","status":"added","additions":131,"deletions":0,"changes":131,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fself.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fself.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fself.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,131 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+<html xmlns=\"http://www.w3.org/1999/xhtml\">\n+  <head>\n+    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"/>\n+    <meta charset=\"UTF-8\"/>\n+    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'/>\n+\n+    <title>Apache Syncope Enduser - Login</title>\n+  </head>\n+\n+  <body>\n+\n+    <div ng-cloak class=\"container\">\n+\n+      <div id=\"login-container\" ng-controller=\"LoginController\"  style=\"box-sizing: border-box; \">\n+\n+        <!--        <div id=\"logo\">\n+                  <a href=\"/\">\n+                    <img class=\"login-logo\" src=\"img/logo-green.png\" />\n+                  </a>\n+                </div>-->\n+        <div id=\"login\">\n+          <div class=\"logout\">\n+            <a href=\"javascript:void(0);\" class=\"btn btn-danger btn-signin\" ng-click=\"logout()\" ng-show=\"isLogged()\" title=\"Logout\">\n+              <i class=\"glyphicon glyphicon-off\"></i>\n+            </a>\n+          </div>\n+          <div>\n+            <div id=\"language\" class=\"form-group\" ng-controller=\"LanguageController\" ng-init=\"init()\">\n+              <div id=\"languageContainer\" class=\"col-xs-2\">\n+\n+                <select class=\"form-control\" ng-options=\"language.name for language in languages.availableLanguages track by language.id\"\n+                        ng-model=\"languages.selectedLanguage\" ></select>\n+\n+              </div>\n+            </div>\n+\n+            <h3>Welcome to Apache Syncope Enduser</h3>\n+            <h5 ng-show=\"!isLogged()\">please login to self update</h5>\n+\n+            <div id=\"login-form\" class=\"form\">\n+              <div growl reference=\"1\" inline=\"true\"></div>\n+            </div>\n+            \n+            <form id=\"login-form\" class=\"form\" novalidate ng-show=\"!isLogged()\" >\n+\n+              <div class=\"form-group\">\n+                <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"login-username\" placeholder=\"Username\"\n+                       ng-required ng-model=\"credentials.username\" placeholder=\"username\">\n+              </div>\n+\n+              <div class=\"form-group\">\n+                <input type=\"password\" class=\"form-control\" id=\"login-password\" placeholder=\"Password\" \n+                       ng-required ng-model=\"credentials.password\" placeholder=\"password\">\n+              </div>\n+\n+              <div class=\"form-group\">\n+\n+                <button type=\"submit\" id=\"login-btn\" class=\"btn btn-default btn-signin login-btn\" ng-click=\"login(credentials)\">Login</button>\n+                <a href=\"javascript:void(0);\" class=\"btn btn-link\" ng-click=\"selfCreate()\">Self Registration</a>\n+                <a href=\"javascript:void(0);\" class=\"btn btn-link\" ng-click=\"passwordReset()\">Password Reset</a>\n+              </div>\n+            </form>\n+\n+          </div>\n+\n+        </div>\n+\n+      </div>\n+\n+    </div> <!-- /#login -->\n+\n+    <!--      <div id=\"initialLoaderDiv\">\n+            <img src=\"img/busy.gif\" class=\"ajax-loader\"/>\n+          </div>-->\n+    </div> <!-- /#login-container -->\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+    <!--    <div class=\"container\" ng-cloak ng-controller=\"LoginController\">\n+          <div class=\"card card-container\">\n+            <img class=\"login-logo\" src=\"img/logo-green.png\" />\n+    \n+            <div growl></div>\n+    \n+            <form class=\"form-signin\"  novalidate ng-show=\"!isLogged()\">\n+              <input type=\"text\" id=\"username\" class=\"form-control\" ng-required autofocus=\"autofocus\" ng-model=\"credentials.username\" />\n+              <input type=\"password\" id=\"password\" class=\"form-control\" required=\"required\" ng-model=\"credentials.password\" />\n+    \n+              <select id=\"language\" style=\"width: 100%\" \n+                      ng-options=\"language.name for language in languages.availableLanguages track by language.id\" \n+                      ng-model=\"languages.selectedLanguage\"></select>\n+    \n+              <button type=\"submit\" class=\"btn btn-lg btn-primary btn-block btn-signin\" ng-click=\"login(credentials)\">Login</button>\n+            </form>\n+    \n+            \n+    \n+          </div>\n+        </div>-->\n+  </body>\n+</html>"},{"sha":"cfd1ba6037edd117621bbe08156a7f79683ff904","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-credentials.html","status":"added","additions":60,"deletions":0,"changes":60,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-credentials.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-credentials.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-credentials.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,60 @@\n+<!DOCTYPE html>\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<div id=\"attribute\" class=\"form-group\">\n+  <label for=\"user.username\">Username</label>\n+  <input name=\"username\" type=\"text\" class=\"form-control\" ng-model=\"user.username\" required placeholder=\"username\" >\n+  <p ng-show=\"(userForm.username.$error.required && !userForm.username.$pristine)\" class=\"text-validation-error\">Username is required</p>\n+</div>\n+\n+<div id=\"attribute\" class=\"form-group\">\n+  <label for=\"user.password\">Password</label>\n+  <input type=\"password\" class=\"form-control\" name=\"password\" ng-model=\"user.password\" equals=\"{{confirmPassword.value}}\"\n+         placeholder=\"password\">\n+</div>\n+\n+<div id=\"attribute\" class=\"form-group\">\n+  <label for=\"confirmPassword\">Confirm Password</label>\n+  <input name=\"confirmPassword\" type=\"password\" class=\"form-control\" equals=\"{{user.password}}\" ng-model=\"confirmPassword.value\"\n+         placeholder=\"confirm password\">\n+  <p ng-show=\"userForm.confirmPassword.$error.equals\" class=\"text-validation-error\">Password and confirm password must be equal</p>\n+</div>\n+\n+<div id=\"attribute\" class=\"form-group\">\n+  <label for=\"securityQuestion\">Security Question</label>\n+  <select name=\"securityQuestion\" class=\"form-control\"\n+          ng-model=\"user.securityQuestion\"\n+          ng-options=\"securityQuestion.key as securityQuestion.content for securityQuestion in availableSecurityQuestions\">\n+    <option value=\"\">Select security question</option>\n+  </select>\n+</div>\n+\n+<div id=\"attribute\" class=\"form-group\">\n+  <label for=\"securityAnswer\">Security Answer</label>\n+  <input ng-disabled=\"user.securityQuestion === initialSecurityQuestion\" name=\"securityAnswer\" type=\"text\" class=\"form-control\" ng-model=\"user.securityAnswer\"\n+         placeholder=\"security answer\">\n+</div>\n+\n+<div class=\"form-group row\">\n+  <navigation-buttons ng-show=\"createMode\" next=\"create.plainSchemas\" previous=\"none\"></navigation-buttons>\n+  <navigation-buttons ng-show=\"!createMode\" next=\"update.plainSchemas\" previous=\"none\"></navigation-buttons>\n+  <div class=\"col-xs-6 col-xs-offset-3\">\n+    <a id=\"cancel\" href=\"#/self\" class=\"btn btn-danger\">Cancel</a>\n+  </div>\n+</div>"},{"sha":"a92b9c2a5fd2689c6f2740d3011fc735614bbac4","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-derived-schemas.html","status":"added","additions":37,"deletions":0,"changes":37,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-derived-schemas.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-derived-schemas.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-derived-schemas.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,37 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+<div id=\"attribute-derived\" class=\"form-group\" >\n+  <div>\n+    <dynamic-derived-attributes user=\"user\" form=\"dynamicForm\"></dynamic-derived-attributes>\n+  </div>\n+  <!--    <div style=\"color:#dd301b\" ng-if=\"attribute.validated == false\" class=\"row-fluid\">\n+        <div class=\"col-md-5\"></div>\n+        <div class=\"col-md-7\">{{attribute.validationMessage| translate }}</div>\n+      </div>-->\n+  <!--</div>-->\n+</div>\n+\n+<div class=\"form-group row\">\n+  <navigation-buttons ng-show=\"createMode\" next=\"create.virtualSchemas\" previous=\"create.plainSchemas\"></navigation-buttons>\n+  <navigation-buttons ng-show=\"!createMode\" next=\"update.virtualSchemas\" previous=\"update.plainSchemas\"></navigation-buttons>\n+  <div class=\"col-xs-6 col-xs-offset-3\">\n+    <a id=\"cancel\" href=\"#/self\" class=\"btn btn-danger\">Cancel</a>\n+  </div>\n+</div>"},{"sha":"58475bbb0d38709045e3ca3abcea8849bc1d895f","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-groups.html","status":"added","additions":37,"deletions":0,"changes":37,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-groups.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-groups.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-groups.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,37 @@\n+<!DOCTYPE html>\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+<div class=\"form-group row upper-select\">\n+  <label>Realm</label>\n+  <select class=\"form-control\"\n+          ng-disabled=\"true\"\n+          ng-model=\"user.realm\"\n+          ng-required=\"true\">\n+    <option ng-repeat=\"realm in availableRealms\" value=\"{{realm}}\">{{realm}}</option>\n+  </select>\n+</div>\n+\n+<div class=\"form-group row\">\n+  <navigation-buttons ng-show=\"createMode\" next=\"create.resources\" previous=\"create.virtualSchemas\"></navigation-buttons>\n+  <navigation-buttons ng-show=\"!createMode\" next=\"update.resources\" previous=\"update.virtualSchemas\"></navigation-buttons>\n+  <div class=\"col-xs-6 col-xs-offset-3\">\n+    <a id=\"cancel\" href=\"#/self\" class=\"btn btn-danger\">Cancel</a>\n+  </div>\n+</div>"},{"sha":"2639197acc2f8e11b3e19b6b0e3c4b9a8be3e1ef","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-plain-schemas.html","status":"added","additions":37,"deletions":0,"changes":37,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-plain-schemas.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-plain-schemas.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-plain-schemas.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,37 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+<div>\n+  <dynamic-plain-attributes form=\"dynamicForm\" user=\"user\"></dynamic-plain-attributes>\n+</div>\n+\n+<!--    <div style=\"color:#dd301b\" ng-if=\"attribute.validated == false\" class=\"row-fluid\">\n+      <div class=\"col-md-5\"></div>\n+      <div class=\"col-md-7\">{{attribute.validationMessage| translate }}</div>\n+    </div>-->\n+<!--</div>-->\n+<!--</div>-->\n+\n+<div class=\"form-group row\">\n+  <navigation-buttons ng-show=\"createMode\" next=\"create.derivedSchemas\" previous=\"create.credentials\"></navigation-buttons>\n+  <navigation-buttons ng-show=\"!createMode\" next=\"update.derivedSchemas\" previous=\"update.credentials\"></navigation-buttons>\n+  <div class=\"col-xs-6 col-xs-offset-3\">\n+    <a id=\"cancel\" href=\"#/self\" class=\"btn btn-danger\">Cancel</a>\n+  </div>\n+</div>"},{"sha":"91a99f6d3920e4efa5b476c32c7c52e931065e5e","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-resources.html","status":"added","additions":28,"deletions":0,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-resources.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-resources.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-resources.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,28 @@\n+<!DOCTYPE html>\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+<div class=\"form-group row\">\n+  <navigation-buttons ng-show=\"createMode\" next=\"none\" previous=\"create.groups\"></navigation-buttons>\n+  <navigation-buttons ng-show=\"!createMode\" next=\"none\" previous=\"update.groups\"></navigation-buttons>\n+  <div class=\"col-xs-6 col-xs-offset-3\">\n+    <a id=\"cancel\" href=\"#/self\" class=\"btn btn-danger\">Cancel</a>\n+    <button id=\"save\" type=\"submit\" class=\"btn btn-success\">Save</button>\n+  </div>\n+</div>\n\\ No newline at end of file"},{"sha":"1d77c801e9b1353432bf5bbdf7d74dcd3f1655d5","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/user-virtual-schemas.html","status":"added","additions":37,"deletions":0,"changes":37,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-virtual-schemas.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-virtual-schemas.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fuser-virtual-schemas.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,37 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+<div id=\"attribute-virtual\" class=\"form-group\">\n+  <div>\n+    <dynamic-virtual-attributes form=\"dynamicForm\" user=\"user\"></dynamic-virtual-attributes>\n+  </div>\n+  <!--    <div style=\"color:#dd301b\" ng-if=\"attribute.validated == false\" class=\"row-fluid\">\n+        <div class=\"col-md-5\"></div>\n+        <div class=\"col-md-7\">{{attribute.validationMessage| translate }}</div>\n+      </div>-->\n+  <!--</div>-->\n+</div>\n+\n+<div class=\"form-group row\">\n+  <navigation-buttons ng-show=\"createMode\" next=\"create.groups\" previous=\"create.derivedSchemas\"></navigation-buttons>\n+  <navigation-buttons ng-show=\"!createMode\" next=\"update.groups\" previous=\"update.derivedSchemas\"></navigation-buttons>\n+  <div class=\"col-xs-6 col-xs-offset-3\">\n+    <a id=\"cancel\" href=\"#/self\" class=\"btn btn-danger\">Cancel</a>\n+  </div>\n+</div>"},{"sha":"b949d4ca91368fdd6f36956abc24dcf20871cbdf","filename":"client/enduser/src/main/resources/META-INF/web-fragment.xml","status":"added","additions":72,"deletions":0,"changes":72,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fweb-fragment.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fweb-fragment.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fweb-fragment.xml?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,72 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<web-fragment xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n+              xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+              xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee \n+                                  http://xmlns.jcp.org/xml/ns/javaee/web-fragment_3_1.xsd\"\n+              id=\"${pom.artifactId}\" version=\"3.1\">\n+  \n+  <!--causes problem if deployed with other fragments-->\n+  <display-name>Apache Syncope ${syncope.version} Enduser</display-name>\n+\n+<!--  <context-param>\n+    <param-name>configuration</param-name>\n+    <param-value>deployment</param-value>\n+  </context-param>\n+    \n+  <filter>\n+    <filter-name>SyncopeEnduser</filter-name>\n+    <filter-class>org.apache.wicket.protocol.ws.javax.JavaxWebSocketFilter</filter-class>\n+    <init-param>\n+      <param-name>filterMappingUrlPattern</param-name>\n+      <param-value>/*</param-value>\n+    </init-param>\n+    <init-param>\n+      <param-name>applicationClassName</param-name>\n+      <param-value>org.apache.syncope.client.enduser.SyncopeEnduserApplication</param-value>\n+    </init-param>\n+  </filter>-->\n+  \n+    <filter>\n+    <filter-name>SyncopeEnduser</filter-name>\n+    <filter-class>org.apache.wicket.protocol.http.WicketFilter</filter-class>\n+    <init-param>\n+      <param-name>applicationClassName</param-name>\n+      <param-value>org.apache.syncope.client.enduser.SyncopeEnduserApplication</param-value>\n+    </init-param>\n+    <init-param>\n+      <param-name>filterMappingUrlPattern</param-name>\n+      <param-value>/*</param-value>\n+    </init-param>\n+  </filter>\n+  \n+  <filter-mapping>\n+    <filter-name>SyncopeEnduser</filter-name>\n+    <url-pattern>/*</url-pattern>\n+    <dispatcher>REQUEST</dispatcher>\n+    <dispatcher>INCLUDE</dispatcher>\n+  </filter-mapping>\n+  \n+  <!--SESSION TIMEOUT (MINUTES)-->\n+  <session-config>\n+    <session-timeout>30</session-timeout>\n+  </session-config>\n+\n+</web-fragment>"},{"sha":"4dd1cbec6c97a9f1b652589b668702752bb8c915","filename":"client/enduser/src/main/resources/enduser.properties","status":"added","additions":30,"deletions":0,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2Fenduser.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2Fenduser.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2Fenduser.properties?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,30 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+enduser.directory=${conf.directory}\n+scheme=http\n+host=localhost\n+port=8080\n+rootPath=/syncope/rest/\n+\n+anonymousUser=${anonymousUser}\n+anonymousKey=${anonymousKey}\n+\n+storePassword=true\n+\n+version=${syncope.version}\n+license=${licenseUrl}\n+"},{"sha":"55d71a45bfda75b84159ac4495f7ee2057fa2867","filename":"client/enduser/src/main/resources/org/apache/syncope/client/enduser/pages/HomePage.html","status":"added","additions":22,"deletions":0,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fpages%2FHomePage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fpages%2FHomePage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fpages%2FHomePage.html?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,22 @@\n+<!DOCTYPE html>\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<html>\n+  \n+</html>"},{"sha":"4a77739e01b36a8b439aa7cc00db477a5b5f0527","filename":"client/enduser/src/test/java/org/apache/syncope/client/enduser/SyncopeEnduserApplicationTest.java","status":"added","additions":69,"deletions":0,"changes":69,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplicationTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fenduser%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplicationTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserApplicationTest.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,69 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.enduser;\n+\n+import org.apache.syncope.client.enduser.pages.HomePage;\n+import org.apache.wicket.Session;\n+import org.apache.wicket.protocol.http.WebSession;\n+import org.apache.wicket.protocol.http.mock.MockHttpServletResponse;\n+import org.apache.wicket.request.Request;\n+import org.apache.wicket.request.Response;\n+import org.apache.wicket.util.tester.WicketTester;\n+import org.hamcrest.CoreMatchers;\n+import org.junit.Assert;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class SyncopeEnduserApplicationTest {\n+\n+    private WicketTester tester;\n+\n+    static class SyncopeEnduserMockSession extends WebSession {\n+\n+        private static final long serialVersionUID = -2500230416352618497L;\n+\n+        SyncopeEnduserMockSession(Request request) {\n+            super(request);\n+        }\n+    }\n+\n+    @Before\n+    public void setUp() {\n+        tester = new WicketTester(new SyncopeEnduserApplication() {\n+\n+            private static final long serialVersionUID = 1445165406200746511L;\n+\n+            @Override\n+            public Session newSession(Request request, Response response) {\n+                return new SyncopeEnduserMockSession(request);\n+            }\n+\n+        });\n+    }\n+\n+    @Test\n+    public void testRedirectToIndex() {\n+        tester.setFollowRedirects(false);\n+        tester.startPage(HomePage.class);\n+        tester.assertNoErrorMessage();\n+        MockHttpServletResponse response = tester.getLastResponse();\n+        Assert.assertThat(response.getRedirectLocation(), CoreMatchers.equalTo(\"app/\"));\n+    }\n+\n+}"},{"sha":"905fb4c316410bae6e259bf802b855f80623ab4e","filename":"client/lib/src/main/java/org/apache/syncope/client/lib/SyncopeClient.java","status":"modified","additions":13,"deletions":0,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Flib%2FSyncopeClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Flib%2FSyncopeClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Flib%2FSyncopeClient.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -254,6 +254,19 @@ public <T> T prefer(final Class<T> serviceClass, final Preference preference) {\n         return header(serviceClass, RESTHeaders.PREFER, preference.toString());\n     }\n \n+    /**\n+     * Asks for asynchronous propagation towards external resources with null priority.\n+     *\n+     * @param <T> any service class\n+     * @param serviceClass service class reference\n+     * @param nullPriorityAsync whether asynchronous propagation towards external resources with null priority is\n+     * requested\n+     * @return service instance of the given reference class, with related header set\n+     */\n+    public <T> T nullPriorityAsync(final Class<T> serviceClass, final boolean nullPriorityAsync) {\n+        return header(serviceClass, RESTHeaders.NULL_PRIORITY_ASYNC, nullPriorityAsync);\n+    }\n+\n     /**\n      * Sets the {@code If-Match} or {@code If-None-Match} header on the given service instance.\n      *"},{"sha":"0cefabb853493c6ae1b26dd731388e87bfac3d17","filename":"client/pom.xml","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/client%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fpom.xml?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -60,6 +60,7 @@ under the License.\n     <module>lib</module>\n     <module>console</module>\n     <module>cli</module>\n+    <module>enduser</module>\n   </modules>\n \n </project>"},{"sha":"93e6b9e02b8a48152003c4192c4fe091f4450594","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/patch/PasswordPatch.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fpatch%2FPasswordPatch.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fpatch%2FPasswordPatch.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fpatch%2FPasswordPatch.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -55,7 +55,7 @@ public Builder resource(final String resource) {\n             return this;\n         }\n \n-        public Builder values(final String... resources) {\n+        public Builder resources(final String... resources) {\n             CollectionUtils.addAll(getInstance().getResources(), resources);\n             return this;\n         }"},{"sha":"97384989d4a8edf48675435dc6df5b93c7ea9308","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/patch/ResourceDeassociationPatch.java","status":"added","additions":80,"deletions":0,"changes":80,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fpatch%2FResourceDeassociationPatch.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fpatch%2FResourceDeassociationPatch.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fpatch%2FResourceDeassociationPatch.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,80 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.common.lib.patch;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import java.util.ArrayList;\n+import java.util.List;\n+import javax.ws.rs.PathParam;\n+import javax.xml.bind.annotation.XmlElement;\n+import javax.xml.bind.annotation.XmlElementWrapper;\n+import javax.xml.bind.annotation.XmlRootElement;\n+import javax.xml.bind.annotation.XmlType;\n+import org.apache.syncope.common.lib.AbstractBaseBean;\n+import org.apache.syncope.common.lib.types.ResourceDeassociationAction;\n+\n+@XmlRootElement(name = \"resourceDeassociationPatch\")\n+@XmlType\n+public class ResourceDeassociationPatch extends AbstractBaseBean {\n+\n+    private static final long serialVersionUID = -9116268525079837276L;\n+\n+    private String key;\n+\n+    private String anyTypeKey;\n+\n+    private ResourceDeassociationAction action;\n+\n+    private final List<Long> anyKyes = new ArrayList<>();\n+\n+    public String getKey() {\n+        return key;\n+    }\n+\n+    @PathParam(\"key\")\n+    public void setKey(final String key) {\n+        this.key = key;\n+    }\n+\n+    public String getAnyTypeKey() {\n+        return anyTypeKey;\n+    }\n+\n+    @PathParam(\"anyTypeKey\")\n+    public void setAnyTypeKey(final String anyTypeKey) {\n+        this.anyTypeKey = anyTypeKey;\n+    }\n+\n+    public ResourceDeassociationAction getAction() {\n+        return action;\n+    }\n+\n+    @PathParam(\"action\")\n+    public void setAction(final ResourceDeassociationAction action) {\n+        this.action = action;\n+    }\n+\n+    @XmlElementWrapper(name = \"anyKyes\")\n+    @XmlElement(name = \"key\")\n+    @JsonProperty(\"anyKyes\")\n+    public List<Long> getAnyKyes() {\n+        return anyKyes;\n+    }\n+\n+}"},{"sha":"ce4a58f2e7a0e97321911c668e9f5ab820860790","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/to/AnyTO.java","status":"modified","additions":0,"deletions":9,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FAnyTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FAnyTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FAnyTO.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -58,8 +58,6 @@ public abstract class AnyTO extends ConnObjectTO {\n \n     private final Set<String> resources = new HashSet<>();\n \n-    private final List<PropagationStatus> propagationStatusTOs = new ArrayList<>();\n-\n     public long getKey() {\n         return key;\n     }\n@@ -140,11 +138,4 @@ public Set<String> getResources() {\n         return resources;\n     }\n \n-    @XmlElementWrapper(name = \"propagationStatuses\")\n-    @XmlElement(name = \"propagationStatus\")\n-    @JsonProperty(\"propagationStatuses\")\n-    public List<PropagationStatus> getPropagationStatusTOs() {\n-        return propagationStatusTOs;\n-    }\n-\n }"},{"sha":"be1b6d67b14a7618847f1594a9523d2f4ae70427","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/to/ConnIdObjectClassTO.java","status":"added","additions":78,"deletions":0,"changes":78,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FConnIdObjectClassTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FConnIdObjectClassTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FConnIdObjectClassTO.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,78 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.common.lib.to;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import java.util.ArrayList;\n+import java.util.List;\n+import javax.xml.bind.annotation.XmlElement;\n+import javax.xml.bind.annotation.XmlElementWrapper;\n+import javax.xml.bind.annotation.XmlRootElement;\n+import javax.xml.bind.annotation.XmlType;\n+import org.apache.syncope.common.lib.AbstractBaseBean;\n+\n+/**\n+ * Metadata description of ConnId ObjectClass.\n+ */\n+@XmlRootElement(name = \"connIdObjectClass\")\n+@XmlType\n+public class ConnIdObjectClassTO extends AbstractBaseBean {\n+\n+    private static final long serialVersionUID = -3719658595689434648L;\n+\n+    private String type;\n+\n+    private boolean container;\n+\n+    private boolean auxiliary;\n+\n+    private final List<String> attributes = new ArrayList<>();\n+\n+    public String getType() {\n+        return type;\n+    }\n+\n+    public void setType(final String type) {\n+        this.type = type;\n+    }\n+\n+    public boolean isContainer() {\n+        return container;\n+    }\n+\n+    public void setContainer(final boolean container) {\n+        this.container = container;\n+    }\n+\n+    public boolean isAuxiliary() {\n+        return auxiliary;\n+    }\n+\n+    public void setAuxiliary(final boolean auxiliary) {\n+        this.auxiliary = auxiliary;\n+    }\n+\n+    @XmlElementWrapper(name = \"attributes\")\n+    @XmlElement(name = \"attribute\")\n+    @JsonProperty(\"attributes\")\n+    public List<String> getAttributes() {\n+        return attributes;\n+    }\n+\n+}"},{"sha":"257f2eda4699df7e648264cad8d905e8cf9ede44","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/to/ConnInstanceTO.java","status":"modified","additions":13,"deletions":25,"changes":38,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FConnInstanceTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FConnInstanceTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FConnInstanceTO.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -51,23 +51,16 @@ public class ConnInstanceTO extends AbstractBaseBean {\n \n     private String version;\n \n-    private final Set<ConnConfProperty> configuration;\n+    private final Set<ConnConfProperty> conf = new HashSet<>();\n \n-    private final Set<ConnectorCapability> capabilities;\n+    private final Set<ConnectorCapability> capabilities = EnumSet.noneOf(ConnectorCapability.class);\n \n     private String displayName;\n \n     private Integer connRequestTimeout;\n \n     private ConnPoolConfTO poolConf;\n \n-    public ConnInstanceTO() {\n-        super();\n-\n-        configuration = new HashSet<>();\n-        capabilities = EnumSet.noneOf(ConnectorCapability.class);\n-    }\n-\n     public long getKey() {\n         return key;\n     }\n@@ -109,28 +102,23 @@ public void setVersion(final String version) {\n         this.version = version;\n     }\n \n-    @XmlElementWrapper(name = \"configuration\")\n+    @XmlElementWrapper(name = \"conf\")\n     @XmlElement(name = \"property\")\n-    @JsonProperty(\"configuration\")\n-    public Set<ConnConfProperty> getConfiguration() {\n-        return this.configuration;\n+    @JsonProperty(\"conf\")\n+    public Set<ConnConfProperty> getConf() {\n+        return this.conf;\n     }\n \n     @JsonIgnore\n-    public Map<String, ConnConfProperty> getConfigurationMap() {\n-        Map<String, ConnConfProperty> result;\n-\n-        if (getConfiguration() == null) {\n-            result = Collections.<String, ConnConfProperty>emptyMap();\n-        } else {\n-            result = new HashMap<>();\n-            for (ConnConfProperty prop : getConfiguration()) {\n-                result.put(prop.getSchema().getName(), prop);\n-            }\n-            result = Collections.unmodifiableMap(result);\n+    public Map<String, ConnConfProperty> getConfMap() {\n+        Map<String, ConnConfProperty> result = new HashMap<>();\n+\n+        for (ConnConfProperty prop : getConf()) {\n+            result.put(prop.getSchema().getName(), prop);\n         }\n+        result = Collections.unmodifiableMap(result);\n \n-        return result;\n+        return Collections.unmodifiableMap(result);\n     }\n \n     @XmlElementWrapper(name = \"capabilities\")"},{"sha":"c2caa60276c84ee458be6a5d582011226d2ee2a6","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/to/PropagationStatus.java","status":"modified","additions":0,"deletions":50,"changes":50,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FPropagationStatus.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FPropagationStatus.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FPropagationStatus.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -57,92 +57,42 @@ public class PropagationStatus extends AbstractBaseBean {\n      */\n     private String failureReason;\n \n-    /**\n-     * After object getter.\n-     *\n-     * @return after object.\n-     */\n     public ConnObjectTO getAfterObj() {\n         return afterObj;\n     }\n \n-    /**\n-     * After object setter.\n-     *\n-     * @param afterObj object.\n-     */\n     public void setAfterObj(final ConnObjectTO afterObj) {\n         this.afterObj = afterObj;\n     }\n \n-    /**\n-     * Before object getter.\n-     *\n-     * @return before object.\n-     */\n     public ConnObjectTO getBeforeObj() {\n         return beforeObj;\n     }\n \n-    /**\n-     * Before object setter.\n-     *\n-     * @param beforeObj object.\n-     */\n     public void setBeforeObj(final ConnObjectTO beforeObj) {\n         this.beforeObj = beforeObj;\n     }\n \n-    /**\n-     * resource name getter.\n-     *\n-     * @return resource name.\n-     */\n     public String getResource() {\n         return resource;\n     }\n \n-    /**\n-     * Resource name setter.\n-     *\n-     * @param resource resource name\n-     */\n     public void setResource(final String resource) {\n         this.resource = resource;\n     }\n \n-    /**\n-     * Propagation execution status getter.\n-     *\n-     * @return status\n-     */\n     public PropagationTaskExecStatus getStatus() {\n         return status;\n     }\n \n-    /**\n-     * Propagation execution status setter.\n-     *\n-     * @param status propagation execution status\n-     */\n     public void setStatus(final PropagationTaskExecStatus status) {\n         this.status = status;\n     }\n \n-    /**\n-     * Propagation execution message getter.\n-     *\n-     * @return failureReason.\n-     */\n     public String getFailureReason() {\n         return failureReason;\n     }\n \n-    /**\n-     * Propagation execution failure message setter.\n-     *\n-     * @param failureReason describes why this propagation failed\n-     */\n     public void setFailureReason(final String failureReason) {\n         this.failureReason = failureReason;\n     }"},{"sha":"d176bb2a4bf4a8c8a2f32c463efc792b1f290c35","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/to/PropagationTaskTO.java","status":"modified","additions":5,"deletions":5,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FPropagationTaskTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FPropagationTaskTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FPropagationTaskTO.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -35,7 +35,7 @@ public class PropagationTaskTO extends AbstractTaskTO {\n \n     private String oldConnObjectKey;\n \n-    private String xmlAttributes;\n+    private String attributes;\n \n     private String resource;\n \n@@ -77,12 +77,12 @@ public void setOperation(final ResourceOperation operation) {\n         this.operation = operation;\n     }\n \n-    public String getXmlAttributes() {\n-        return xmlAttributes;\n+    public String getAttributes() {\n+        return attributes;\n     }\n \n-    public void setXmlAttributes(final String xmlAttributes) {\n-        this.xmlAttributes = xmlAttributes;\n+    public void setAttributes(final String attributes) {\n+        this.attributes = attributes;\n     }\n \n     public String getObjectClassName() {"},{"sha":"f2a5bc1012f855a669230562c47a30b562ecfe36","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/to/ProvisioningResult.java","status":"added","additions":55,"deletions":0,"changes":55,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FProvisioningResult.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FProvisioningResult.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FProvisioningResult.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,55 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.common.lib.to;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import java.util.ArrayList;\n+import java.util.List;\n+import javax.xml.bind.annotation.XmlElement;\n+import javax.xml.bind.annotation.XmlElementWrapper;\n+import javax.xml.bind.annotation.XmlRootElement;\n+import javax.xml.bind.annotation.XmlType;\n+import org.apache.syncope.common.lib.AbstractBaseBean;\n+\n+@XmlRootElement(name = \"provisioningResult\")\n+@XmlType\n+public class ProvisioningResult<A extends AnyTO> extends AbstractBaseBean {\n+\n+    private static final long serialVersionUID = 351317476398082746L;\n+\n+    private A any;\n+\n+    private final List<PropagationStatus> propagationStatuses = new ArrayList<>();\n+\n+    public A getAny() {\n+        return any;\n+    }\n+\n+    public void setAny(final A any) {\n+        this.any = any;\n+    }\n+\n+    @XmlElementWrapper(name = \"propagationStatuses\")\n+    @XmlElement(name = \"propagationStatus\")\n+    @JsonProperty(\"propagationStatuses\")\n+    public List<PropagationStatus> getPropagationStatuses() {\n+        return propagationStatuses;\n+    }\n+\n+}"},{"sha":"a74042f0aba2661534894c82a3282c608ed8e93c","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/to/ResourceTO.java","status":"modified","additions":29,"deletions":18,"changes":47,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FResourceTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FResourceTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FResourceTO.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -21,6 +21,7 @@\n import com.fasterxml.jackson.annotation.JsonIgnore;\n import com.fasterxml.jackson.annotation.JsonProperty;\n import java.util.ArrayList;\n+import java.util.EnumSet;\n import java.util.HashSet;\n import java.util.List;\n import java.util.Set;\n@@ -32,6 +33,7 @@\n import org.apache.commons.collections4.CollectionUtils;\n import org.apache.commons.collections4.Predicate;\n import org.apache.syncope.common.lib.types.ConnConfProperty;\n+import org.apache.syncope.common.lib.types.ConnectorCapability;\n import org.apache.syncope.common.lib.types.TraceLevel;\n \n @XmlRootElement(name = \"resource\")\n@@ -54,9 +56,7 @@ public class ResourceTO extends AbstractAnnotatedBean {\n \n     private final List<ProvisionTO> provisions = new ArrayList<>();\n \n-    private boolean propagationPrimary;\n-\n-    private int propagationPriority = 0;\n+    private Integer propagationPriority;\n \n     private boolean randomPwdIfNotProvided;\n \n@@ -76,7 +76,11 @@ public class ResourceTO extends AbstractAnnotatedBean {\n \n     private Long syncPolicy;\n \n-    private final Set<ConnConfProperty> connConfProperties = new HashSet<>();\n+    private final Set<ConnConfProperty> confOverride = new HashSet<>();\n+\n+    private boolean overrideCapabilities = false;\n+\n+    private final Set<ConnectorCapability> capabilitiesOverride = EnumSet.noneOf(ConnectorCapability.class);\n \n     private final List<String> propagationActionsClassNames = new ArrayList<>();\n \n@@ -113,19 +117,11 @@ public void setConnectorDisplayName(final String connectorDisplayName) {\n         this.connectorDisplayName = connectorDisplayName;\n     }\n \n-    public boolean isPropagationPrimary() {\n-        return propagationPrimary;\n-    }\n-\n-    public void setPropagationPrimary(final boolean propagationPrimary) {\n-        this.propagationPrimary = propagationPrimary;\n-    }\n-\n-    public int getPropagationPriority() {\n+    public Integer getPropagationPriority() {\n         return propagationPriority;\n     }\n \n-    public void setPropagationPriority(final int propagationPriority) {\n+    public void setPropagationPriority(final Integer propagationPriority) {\n         this.propagationPriority = propagationPriority;\n     }\n \n@@ -203,11 +199,26 @@ public List<ProvisionTO> getProvisions() {\n         return provisions;\n     }\n \n-    @XmlElementWrapper(name = \"connConfProperties\")\n+    @XmlElementWrapper(name = \"confOverride\")\n     @XmlElement(name = \"property\")\n-    @JsonProperty(\"connConfProperties\")\n-    public Set<ConnConfProperty> getConnConfProperties() {\n-        return connConfProperties;\n+    @JsonProperty(\"confOverride\")\n+    public Set<ConnConfProperty> getConfOverride() {\n+        return confOverride;\n+    }\n+\n+    public boolean isOverrideCapabilities() {\n+        return overrideCapabilities;\n+    }\n+\n+    public void setOverrideCapabilities(final boolean overrideCapabilities) {\n+        this.overrideCapabilities = overrideCapabilities;\n+    }\n+\n+    @XmlElementWrapper(name = \"capabilitiesOverride\")\n+    @XmlElement(name = \"capability\")\n+    @JsonProperty(\"capabilitiesOverride\")\n+    public Set<ConnectorCapability> getCapabilitiesOverride() {\n+        return capabilitiesOverride;\n     }\n \n     public TraceLevel getSyncTraceLevel() {"},{"sha":"f0c2d1512df7f8fd2df0d2c9a46ee5b705fda970","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/types/Entitlement.java","status":"modified","additions":2,"deletions":12,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FEntitlement.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FEntitlement.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FEntitlement.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -21,8 +21,8 @@\n import java.lang.reflect.Field;\n import java.lang.reflect.Modifier;\n import java.util.Collections;\n-import java.util.HashSet;\n import java.util.Set;\n+import java.util.TreeSet;\n \n public final class Entitlement {\n \n@@ -46,22 +46,14 @@ public final class Entitlement {\n \n     public static final String REALM_DELETE = \"REALM_DELETE\";\n \n-    public static final String ANYTYPECLASS_LIST = \"ANYTYPECLASS_LIST\";\n-\n     public static final String ANYTYPECLASS_CREATE = \"ANYTYPECLASS_CREATE\";\n \n-    public static final String ANYTYPECLASS_READ = \"ANYTYPECLASS_READ\";\n-\n     public static final String ANYTYPECLASS_UPDATE = \"ANYTYPECLASS_UPDATE\";\n \n     public static final String ANYTYPECLASS_DELETE = \"ANYTYPECLASS_DELETE\";\n \n-    public static final String ANYTYPE_LIST = \"ANYTYPE_LIST\";\n-\n     public static final String ANYTYPE_CREATE = \"ANYTYPE_CREATE\";\n \n-    public static final String ANYTYPE_READ = \"ANYTYPE_READ\";\n-\n     public static final String ANYTYPE_UPDATE = \"ANYTYPE_UPDATE\";\n \n     public static final String ANYTYPE_DELETE = \"ANYTYPE_DELETE\";\n@@ -90,8 +82,6 @@ public final class Entitlement {\n \n     public static final String SCHEMA_CREATE = \"SCHEMA_CREATE\";\n \n-    public static final String SCHEMA_READ = \"SCHEMA_READ\";\n-\n     public static final String SCHEMA_UPDATE = \"SCHEMA_UPDATE\";\n \n     public static final String SCHEMA_DELETE = \"SCHEMA_DELETE\";\n@@ -253,7 +243,7 @@ public final class Entitlement {\n     private static final Set<String> ENTITLEMENTS;\n \n     static {\n-        Set<String> values = new HashSet<>();\n+        Set<String> values = new TreeSet<>();\n         for (Field field : Entitlement.class.getDeclaredFields()) {\n             if (Modifier.isStatic(field.getModifiers()) && String.class.equals(field.getType())) {\n                 values.add(field.getName());"},{"sha":"6ae4a36fecb6b9e3a013aa3eb0bdf1415d9468d9","filename":"common/lib/src/main/java/org/apache/syncope/common/lib/types/PropagationTaskExecStatus.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FPropagationTaskExecStatus.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FPropagationTaskExecStatus.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FPropagationTaskExecStatus.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -28,6 +28,7 @@ public enum PropagationTaskExecStatus {\n \n     CREATED,\n     SUCCESS,\n-    FAILURE;\n+    FAILURE,\n+    NOT_ATTEMPTED;\n \n }"},{"sha":"9f9dfde84e5872ca7ae279f1cd5e8f4786818fad","filename":"common/rest-api/src/main/java/org/apache/syncope/common/rest/api/LoggerWrapper.java","status":"renamed","additions":4,"deletions":28,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2FLoggerWrapper.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2FLoggerWrapper.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2FLoggerWrapper.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -20,42 +20,18 @@\n \n import java.util.ArrayList;\n import java.util.Collection;\n-import java.util.Collections;\n import java.util.List;\n import org.apache.syncope.common.lib.to.LoggerTO;\n import org.apache.syncope.common.lib.types.AuditLoggerName;\n import org.apache.syncope.common.lib.types.LoggerLevel;\n-import org.apache.syncope.common.lib.wrap.AbstractWrappable;\n \n-public final class CollectionWrapper {\n+public final class LoggerWrapper {\n \n-    private CollectionWrapper() {\n+    private LoggerWrapper() {\n         // empty constructor for static utility class\n     }\n \n-    public static <E, T extends AbstractWrappable<E>> List<T> wrap(final E element, final Class<T> reference) {\n-        return Collections.singletonList(AbstractWrappable.getInstance(reference, element));\n-    }\n-\n-    public static <E, T extends AbstractWrappable<E>> List<T> wrap(\n-            final Collection<E> collection, final Class<T> reference) {\n-\n-        List<T> response = new ArrayList<>();\n-        for (E element : collection) {\n-            response.add(AbstractWrappable.getInstance(reference, element));\n-        }\n-        return response;\n-    }\n-\n-    public static <T extends AbstractWrappable<String>> List<String> unwrap(final Collection<T> collection) {\n-        List<String> response = new ArrayList<>();\n-        for (T item : collection) {\n-            response.add(item.getElement());\n-        }\n-        return response;\n-    }\n-\n-    public static List<AuditLoggerName> wrapLogger(final Collection<LoggerTO> logger) {\n+    public static List<AuditLoggerName> wrap(final Collection<LoggerTO> logger) {\n         List<AuditLoggerName> respons = new ArrayList<>();\n         for (LoggerTO loggerTO : logger) {\n             try {\n@@ -67,7 +43,7 @@ public static List<AuditLoggerName> wrapLogger(final Collection<LoggerTO> logger\n         return respons;\n     }\n \n-    public static List<LoggerTO> unwrapLogger(final Collection<AuditLoggerName> auditNames) {\n+    public static List<LoggerTO> unwrap(final Collection<AuditLoggerName> auditNames) {\n         List<LoggerTO> respons = new ArrayList<>();\n         for (AuditLoggerName name : auditNames) {\n             LoggerTO loggerTO = new LoggerTO();","previous_filename":"common/rest-api/src/main/java/org/apache/syncope/common/rest/api/CollectionWrapper.java"},{"sha":"0b69531e4a0ba2b310cc5b679b4593552c35e8c2","filename":"common/rest-api/src/main/java/org/apache/syncope/common/rest/api/RESTHeaders.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2FRESTHeaders.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2FRESTHeaders.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2FRESTHeaders.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -33,6 +33,11 @@ public final class RESTHeaders {\n \n     public static final String RESOURCE_KEY = \"X-Syncope-Key\";\n \n+    /**\n+     * Asks for asynchronous propagation towards external resources with null priority.\n+     */\n+    public static final String NULL_PRIORITY_ASYNC = \"X-Syncope-Null-Priority-Async\";\n+\n     /**\n      * Declares the type of exception being raised.\n      *"},{"sha":"ec8495c1395788643aa9a0145a922b3eb07382c1","filename":"common/rest-api/src/main/java/org/apache/syncope/common/rest/api/service/AnyService.java","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FAnyService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FAnyService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FAnyService.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -111,7 +111,7 @@ AttrTO read(\n      *\n      * @param anyTO any object to be created\n      * @return Response object featuring Location header of created any object as well as the any\n-     * object itself enriched with propagation status information - AnyTO as Entity\n+     * object itself enriched with propagation status information - ProvisioningResult as Entity\n      */\n     @POST\n     @Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n@@ -123,7 +123,7 @@ AttrTO read(\n      *\n      * @param anyPatch modification to be applied to any object matching the provided key\n      * @return Response object featuring the updated any object enriched with propagation status information\n-     * - AnyTO as Entity\n+     * - ProvisioningResult as Entity\n      */\n     @PATCH\n     @Path(\"{key}\")\n@@ -153,7 +153,7 @@ Response update(\n      *\n      * @param anyTO complete update\n      * @return Response object featuring the updated any object enriched with propagation status information\n-     * - AnyTO as Entity\n+     * - ProvisioningResult as Entity\n      */\n     @PUT\n     @Path(\"{key}\")\n@@ -182,7 +182,7 @@ void delete(\n      *\n      * @param key key of any object to be deleted\n      * @return Response object featuring the deleted any object enriched with propagation status information\n-     * - AnyTO as Entity\n+     * - ProvisioningResult as Entity\n      */\n     @DELETE\n     @Path(\"{key}\")"},{"sha":"bc111edce6a2b6ba6673fbdbde8e7dcf34544913","filename":"common/rest-api/src/main/java/org/apache/syncope/common/rest/api/service/ConnectorService.java","status":"modified","additions":8,"deletions":35,"changes":43,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FConnectorService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FConnectorService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FConnectorService.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -35,10 +35,8 @@\n import org.apache.syncope.common.lib.to.BulkAction;\n import org.apache.syncope.common.lib.to.BulkActionResult;\n import org.apache.syncope.common.lib.to.ConnBundleTO;\n+import org.apache.syncope.common.lib.to.ConnIdObjectClassTO;\n import org.apache.syncope.common.lib.to.ConnInstanceTO;\n-import org.apache.syncope.common.lib.to.PlainSchemaTO;\n-import org.apache.syncope.common.lib.types.ConnConfProperty;\n-import org.apache.syncope.common.lib.wrap.ConnIdObjectClass;\n \n /**\n  * REST operations for connector bundles and instances.\n@@ -58,48 +56,23 @@ public interface ConnectorService extends JAXRSService {\n     List<ConnBundleTO> getBundles(@QueryParam(\"lang\") String lang);\n \n     /**\n-     * Returns configuration for given connector instance.\n+     * Builds the list of ConnId object classes information for the connector bundle matching the given connector\n+     * instance key, with the provided configuration.\n      *\n-     * @param key connector instance key to read configuration from\n-     * @return configuration for given connector instance\n-     */\n-    @GET\n-    @Path(\"{key}/configuration\")\n-    @Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n-    List<ConnConfProperty> getConfigurationProperties(@NotNull @PathParam(\"key\") Long key);\n-\n-    /**\n-     * Returns schema names for connector bundle matching the given connector instance key.\n-     *\n-     * @param key connector instance key to be used for schema lookup\n-     * @param connInstanceTO connector instance object to provide special configuration properties\n+     * @param connInstanceTO connector instance object providing configuration properties\n      * @param includeSpecial if set to true, special schema names (like '__PASSWORD__') will be included;\n      * default is false\n-     * @return schema names for connector bundle matching the given connector instance key\n+     * @return supported object classes info for the connector bundle matching the given connector instance key, with\n+     * the provided configuration\n      */\n     @POST\n-    @Path(\"{key}/schemaNames\")\n+    @Path(\"{key}/supportedObjectClasses\")\n     @Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n     @Consumes({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n-    List<PlainSchemaTO> getSchemaNames(@NotNull @PathParam(\"key\") Long key,\n+    List<ConnIdObjectClassTO> buildObjectClassInfo(\n             @NotNull ConnInstanceTO connInstanceTO,\n             @QueryParam(\"includeSpecial\") @DefaultValue(\"false\") boolean includeSpecial);\n \n-    /**\n-     * Returns supported object classes for connector bundle matching the given connector instance key.\n-     *\n-     * @param key connector instance key to be used for schema lookup\n-     * @param connInstanceTO connector instance object to provide special configuration properties\n-     * @return supported object classes for connector bundle matching the given connector instance key\n-     */\n-    @POST\n-    @Path(\"{key}/supportedObjectClasses\")\n-    @Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n-    @Consumes({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n-    List<ConnIdObjectClass> getSupportedObjectClasses(\n-            @NotNull @PathParam(\"key\") Long key,\n-            @NotNull ConnInstanceTO connInstanceTO);\n-\n     /**\n      * Returns connector instance with matching key.\n      *"},{"sha":"d5152682794892e7592f8d2cd3641b865ff77009","filename":"common/rest-api/src/main/java/org/apache/syncope/common/rest/api/service/ResourceService.java","status":"modified","additions":4,"deletions":10,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FResourceService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FResourceService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FResourceService.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -31,13 +31,12 @@\n import javax.ws.rs.Produces;\n import javax.ws.rs.core.MediaType;\n import javax.ws.rs.core.Response;\n+import org.apache.syncope.common.lib.patch.ResourceDeassociationPatch;\n import org.apache.syncope.common.lib.to.BulkAction;\n import org.apache.syncope.common.lib.to.BulkActionResult;\n import org.apache.syncope.common.lib.to.ConnObjectTO;\n import org.apache.syncope.common.lib.to.PagedConnObjectTOResult;\n import org.apache.syncope.common.lib.to.ResourceTO;\n-import org.apache.syncope.common.lib.types.ResourceDeassociationAction;\n-import org.apache.syncope.common.lib.wrap.AnyKey;\n import org.apache.syncope.common.rest.api.beans.ConnObjectTOListQuery;\n \n /**\n@@ -143,19 +142,14 @@ PagedConnObjectTOResult listConnObjects(\n     /**\n      * De-associate any objects from the given resource.\n      *\n-     * @param key name of resource\n-     * @param anyTypeKey any object kind\n-     * @param type resource de-association action type\n-     * @param keys any object keys against which the bulk action will be performed\n-     * @return Response object featuring BulkActionResult as Entity\n+     * @param patch any objects to be used for propagation-related operations\n+     * @return Bulk action result\n      */\n     @POST\n     @Path(\"{key}/bulkDeassociation/{anyTypeKey}/{action}\")\n     @Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n     @Consumes({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n-    BulkActionResult bulkDeassociation(@NotNull @PathParam(\"key\") String key,\n-            @NotNull @PathParam(\"anyTypeKey\") String anyTypeKey,\n-            @NotNull @PathParam(\"action\") ResourceDeassociationAction type, @NotNull List<AnyKey> keys);\n+    BulkActionResult bulkDeassociation(@NotNull ResourceDeassociationPatch patch);\n \n     /**\n      * Executes the provided bulk action."},{"sha":"21140ed0a747554918a6297d7afe6c07b25346c7","filename":"common/rest-api/src/main/java/org/apache/syncope/common/rest/api/service/UserSelfService.java","status":"modified","additions":5,"deletions":5,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FUserSelfService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FUserSelfService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FUserSelfService.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -56,7 +56,7 @@ public interface UserSelfService extends JAXRSService {\n      * @param userTO user to be created\n      * @param storePassword whether password shall be stored internally\n      * @return Response object featuring Location header of self-registered user as well as the user\n-     * itself - UserTO as Entity\n+     * itself - ProvisioningResult as Entity\n      */\n     @POST\n     @Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n@@ -68,7 +68,7 @@ Response create(@NotNull UserTO userTO,\n      * Self-updates user.\n      *\n      * @param patch modification to be applied to self\n-     * @return Response object featuring the updated user - UserTO as Entity\n+     * @return Response object featuring the updated user - ProvisioningResult as Entity\n      */\n     @PATCH\n     @Path(\"{key}\")\n@@ -80,7 +80,7 @@ Response create(@NotNull UserTO userTO,\n      * Self-updates user.\n      *\n      * @param user complete update\n-     * @return Response object featuring the updated user - UserTO as Entity\n+     * @return Response object featuring the updated user - ProvisioningResult as Entity\n      */\n     @PUT\n     @Path(\"{key}\")\n@@ -91,7 +91,7 @@ Response create(@NotNull UserTO userTO,\n     /**\n      * Self-deletes user.\n      *\n-     * @return Response object featuring the deleted user - UserTO as Entity\n+     * @return Response object featuring the deleted user - ProvisioningResult as Entity\n      */\n     @DELETE\n     @Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n@@ -102,7 +102,7 @@ Response create(@NotNull UserTO userTO,\n      *\n      * @param password the password value to update\n      *\n-     * @return Response object featuring the updated user - UserTO as Entity\n+     * @return Response object featuring the updated user - ProvisioningResult as Entity\n      */\n     @POST\n     @Path(\"changePassword\")"},{"sha":"e23e6cd5eed681f4e4ae29002e2087d99226131e","filename":"common/rest-api/src/main/java/org/apache/syncope/common/rest/api/service/UserService.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FUserService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FUserService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FUserService.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -65,7 +65,7 @@ public interface UserService extends AnyService<UserTO, UserPatch> {\n      * @param userTO user to be created\n      * @param storePassword whether password shall be stored internally\n      * @return Response object featuring Location header of created user as well as the user itself\n-     * enriched with propagation status information - UserTO as Entity\n+     * enriched with propagation status information - ProvisioningResult as Entity\n      */\n     @POST\n     @Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON })\n@@ -79,7 +79,7 @@ Response create(\n      *\n      * @param statusPatch status update details\n      * @return Response object featuring the updated user enriched with propagation status information\n-     * - UserTO as Entity\n+     * - ProvisioningResult as Entity\n      */\n     @POST\n     @Path(\"{key}/status\")"},{"sha":"987595d91e8c95fea266b2e6d68d93e0e414a526","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/AbstractAnyLogic.java","status":"modified","additions":16,"deletions":28,"changes":44,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAbstractAnyLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAbstractAnyLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAbstractAnyLogic.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -31,11 +31,13 @@\n import org.apache.syncope.common.lib.patch.AnyPatch;\n import org.apache.syncope.common.lib.to.AnyTO;\n import org.apache.syncope.common.lib.to.GroupTO;\n+import org.apache.syncope.common.lib.to.PropagationStatus;\n+import org.apache.syncope.common.lib.to.ProvisioningResult;\n import org.apache.syncope.common.lib.to.UserTO;\n import org.apache.syncope.common.lib.types.AnyTypeKind;\n import org.apache.syncope.common.lib.types.ClientExceptionType;\n-import org.apache.syncope.core.misc.RealmUtils;\n-import org.apache.syncope.core.misc.TemplateUtils;\n+import org.apache.syncope.core.misc.utils.RealmUtils;\n+import org.apache.syncope.core.misc.utils.TemplateUtils;\n import org.apache.syncope.core.misc.security.DelegatedAdministrationException;\n import org.apache.syncope.core.misc.spring.ApplicationContextProvider;\n import org.apache.syncope.core.persistence.api.dao.AnyTypeDAO;\n@@ -111,16 +113,6 @@ protected Pair<TO, List<LogicActions>> beforeCreate(final TO input) {\n         return ImmutablePair.of(any, actions);\n     }\n \n-    protected TO afterCreate(final TO input, final List<LogicActions> actions) {\n-        TO any = input;\n-\n-        for (LogicActions action : actions) {\n-            any = action.afterCreate(any);\n-        }\n-\n-        return any;\n-    }\n-\n     protected Pair<P, List<LogicActions>> beforeUpdate(final P input, final String realmPath) {\n         Realm realm = realmDAO.find(realmPath);\n         if (realm == null) {\n@@ -141,16 +133,6 @@ protected Pair<P, List<LogicActions>> beforeUpdate(final P input, final String r\n         return ImmutablePair.of(mod, actions);\n     }\n \n-    protected TO afterUpdate(final TO input, final List<LogicActions> actions) {\n-        TO any = input;\n-\n-        for (LogicActions action : actions) {\n-            any = action.afterUpdate(any);\n-        }\n-\n-        return any;\n-    }\n-\n     protected Pair<TO, List<LogicActions>> beforeDelete(final TO input) {\n         Realm realm = realmDAO.find(input.getRealm());\n         if (realm == null) {\n@@ -171,14 +153,20 @@ protected Pair<TO, List<LogicActions>> beforeDelete(final TO input) {\n         return ImmutablePair.of(any, actions);\n     }\n \n-    protected TO afterDelete(final TO input, final List<LogicActions> actions) {\n+    protected ProvisioningResult<TO> after(\n+            final TO input, final List<PropagationStatus> statuses, final List<LogicActions> actions) {\n+\n         TO any = input;\n \n         for (LogicActions action : actions) {\n-            any = action.afterDelete(any);\n+            any = action.afterCreate(any);\n         }\n \n-        return any;\n+        ProvisioningResult<TO> result = new ProvisioningResult<>();\n+        result.setAny(any);\n+        result.getPropagationStatuses().addAll(statuses);\n+\n+        return result;\n     }\n \n     private static class StartsWithPredicate implements Predicate<String> {\n@@ -238,11 +226,11 @@ public boolean evaluate(final String ownedRealm) {\n \n     public abstract int count(List<String> realms);\n \n-    public abstract TO create(TO anyTO);\n+    public abstract ProvisioningResult<TO> create(TO anyTO, boolean nullPriorityAsync);\n \n-    public abstract TO update(P anyPatch);\n+    public abstract ProvisioningResult<TO> update(P anyPatch, boolean nullPriorityAsync);\n \n-    public abstract TO delete(Long key);\n+    public abstract ProvisioningResult<TO> delete(Long key, boolean nullPriorityAsync);\n \n     public abstract List<TO> list(\n             int page, int size, List<OrderByClause> orderBy,"},{"sha":"3bd4492eafec9b562e32dae3cf67285471ecc002","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/AbstractResourceAssociator.java","status":"modified","additions":12,"deletions":7,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAbstractResourceAssociator.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAbstractResourceAssociator.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAbstractResourceAssociator.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -20,18 +20,23 @@\n \n import java.util.Collection;\n import org.apache.syncope.common.lib.to.AnyTO;\n+import org.apache.syncope.common.lib.to.ProvisioningResult;\n \n-public abstract class AbstractResourceAssociator<T extends AnyTO> extends AbstractLogic<T> {\n+public abstract class AbstractResourceAssociator<A extends AnyTO> extends AbstractLogic<A> {\n \n-    public abstract T unlink(Long id, Collection<String> resources);\n+    public abstract A unlink(Long key, Collection<String> resources);\n \n-    public abstract T link(Long id, Collection<String> resources);\n+    public abstract A link(Long key, Collection<String> resources);\n \n-    public abstract T unassign(Long id, Collection<String> resources);\n+    public abstract ProvisioningResult<A> unassign(\n+            Long key, Collection<String> resources, boolean nullPriorityAsync);\n \n-    public abstract T assign(Long id, Collection<String> resources, boolean changepwd, String password);\n+    public abstract ProvisioningResult<A> assign(\n+            Long key, Collection<String> resources, boolean changepwd, String password, boolean nullPriorityAsync);\n \n-    public abstract T deprovision(Long userId, Collection<String> resources);\n+    public abstract ProvisioningResult<A> deprovision(\n+            Long key, Collection<String> resources, boolean nullPriorityAsync);\n \n-    public abstract T provision(Long userId, Collection<String> resources, boolean changepwd, String password);\n+    public abstract ProvisioningResult<A> provision(\n+            Long key, Collection<String> resources, boolean changepwd, String password, boolean nullPriorityAsync);\n }"},{"sha":"b3f7a4a8f9fb646ae6f8e126fb8303ff28eb69ca","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/AnyObjectLogic.java","status":"modified","additions":39,"deletions":30,"changes":69,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAnyObjectLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAnyObjectLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAnyObjectLogic.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -24,7 +24,6 @@\n import java.util.Collections;\n import java.util.HashSet;\n import java.util.List;\n-import java.util.Map;\n import java.util.Set;\n import org.apache.commons.collections4.CollectionUtils;\n import org.apache.commons.collections4.Transformer;\n@@ -37,6 +36,7 @@\n import org.apache.syncope.common.lib.patch.StringPatchItem;\n import org.apache.syncope.common.lib.to.PropagationStatus;\n import org.apache.syncope.common.lib.to.AnyObjectTO;\n+import org.apache.syncope.common.lib.to.ProvisioningResult;\n import org.apache.syncope.common.lib.types.AnyTypeKind;\n import org.apache.syncope.common.lib.types.ClientExceptionType;\n import org.apache.syncope.common.lib.types.Entitlement;\n@@ -147,7 +147,7 @@ public AnyObjectTO transform(final AnyObject input) {\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.ANY_OBJECT_CREATE + \"')\")\n     @Override\n-    public AnyObjectTO create(final AnyObjectTO anyObjectTO) {\n+    public ProvisioningResult<AnyObjectTO> create(final AnyObjectTO anyObjectTO, final boolean nullPriorityAsync) {\n         Pair<AnyObjectTO, List<LogicActions>> before = beforeCreate(anyObjectTO);\n \n         if (before.getLeft().getRealm() == null) {\n@@ -163,16 +163,17 @@ public AnyObjectTO create(final AnyObjectTO anyObjectTO) {\n             throw SyncopeClientException.build(ClientExceptionType.InvalidAnyType);\n         }\n \n-        Map.Entry<Long, List<PropagationStatus>> created = provisioningManager.create(before.getLeft());\n-        AnyObjectTO savedTO = binder.getAnyObjectTO(created.getKey());\n-        savedTO.getPropagationStatusTOs().addAll(created.getValue());\n+        Pair<Long, List<PropagationStatus>> created =\n+                provisioningManager.create(before.getLeft(), nullPriorityAsync);\n \n-        return afterCreate(savedTO, before.getValue());\n+        return after(binder.getAnyObjectTO(created.getKey()), created.getRight(), before.getRight());\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.ANY_OBJECT_UPDATE + \"')\")\n     @Override\n-    public AnyObjectTO update(final AnyObjectPatch anyObjectPatch) {\n+    public ProvisioningResult<AnyObjectTO> update(\n+            final AnyObjectPatch anyObjectPatch, final boolean nullPriorityAsync) {\n+\n         AnyObjectTO anyObjectTO = binder.getAnyObjectTO(anyObjectPatch.getKey());\n         Pair<AnyObjectPatch, List<LogicActions>> before = beforeUpdate(anyObjectPatch, anyObjectTO.getRealm());\n \n@@ -185,17 +186,15 @@ public AnyObjectTO update(final AnyObjectPatch anyObjectPatch) {\n             securityChecks(effectiveRealms, before.getLeft().getRealm().getValue(), before.getLeft().getKey());\n         }\n \n-        Map.Entry<Long, List<PropagationStatus>> updated = provisioningManager.update(anyObjectPatch);\n-\n-        AnyObjectTO updatedTO = binder.getAnyObjectTO(updated.getKey());\n-        updatedTO.getPropagationStatusTOs().addAll(updated.getValue());\n+        Pair<Long, List<PropagationStatus>> updated =\n+                provisioningManager.update(anyObjectPatch, nullPriorityAsync);\n \n-        return afterUpdate(updatedTO, before.getRight());\n+        return after(binder.getAnyObjectTO(updated.getKey()), updated.getRight(), before.getRight());\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.ANY_OBJECT_DELETE + \"')\")\n     @Override\n-    public AnyObjectTO delete(final Long key) {\n+    public ProvisioningResult<AnyObjectTO> delete(final Long key, final boolean nullPriorityAsync) {\n         AnyObjectTO anyObject = binder.getAnyObjectTO(key);\n         Pair<AnyObjectTO, List<LogicActions>> before = beforeDelete(anyObject);\n \n@@ -204,13 +203,12 @@ public AnyObjectTO delete(final Long key) {\n                 Collections.singleton(before.getLeft().getRealm()));\n         securityChecks(effectiveRealms, before.getLeft().getRealm(), before.getLeft().getKey());\n \n-        List<PropagationStatus> statuses = provisioningManager.delete(before.getLeft().getKey());\n+        List<PropagationStatus> statuses = provisioningManager.delete(before.getLeft().getKey(), nullPriorityAsync);\n \n         AnyObjectTO anyObjectTO = new AnyObjectTO();\n         anyObjectTO.setKey(before.getLeft().getKey());\n-        anyObjectTO.getPropagationStatusTOs().addAll(statuses);\n \n-        return afterDelete(anyObjectTO, before.getRight());\n+        return after(anyObjectTO, statuses, before.getRight());\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.ANY_OBJECT_UPDATE + \"')\")\n@@ -261,7 +259,9 @@ public StringPatchItem transform(final String resource) {\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.ANY_OBJECT_UPDATE + \"')\")\n     @Override\n-    public AnyObjectTO unassign(final Long key, final Collection<String> resources) {\n+    public ProvisioningResult<AnyObjectTO> unassign(\n+            final Long key, final Collection<String> resources, final boolean nullPriorityAsync) {\n+\n         // security checks\n         AnyObjectTO anyObject = binder.getAnyObjectTO(key);\n         Set<String> effectiveRealms = getEffectiveRealms(\n@@ -279,16 +279,17 @@ public StringPatchItem transform(final String resource) {\n             }\n         }));\n \n-        return update(patch);\n+        return update(patch, nullPriorityAsync);\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.ANY_OBJECT_UPDATE + \"')\")\n     @Override\n-    public AnyObjectTO assign(\n+    public ProvisioningResult<AnyObjectTO> assign(\n             final Long key,\n             final Collection<String> resources,\n             final boolean changepwd,\n-            final String password) {\n+            final String password,\n+            final boolean nullPriorityAsync) {\n \n         // security checks\n         AnyObjectTO anyObject = binder.getAnyObjectTO(key);\n@@ -307,33 +308,37 @@ public StringPatchItem transform(final String resource) {\n             }\n         }));\n \n-        return update(patch);\n+        return update(patch, nullPriorityAsync);\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.ANY_OBJECT_UPDATE + \"')\")\n     @Override\n-    public AnyObjectTO deprovision(final Long key, final Collection<String> resources) {\n+    public ProvisioningResult<AnyObjectTO> deprovision(\n+            final Long key, final Collection<String> resources, final boolean nullPriorityAsync) {\n+\n         // security checks\n         AnyObjectTO anyObject = binder.getAnyObjectTO(key);\n         Set<String> effectiveRealms = getEffectiveRealms(\n                 AuthContextUtils.getAuthorizations().get(Entitlement.ANY_OBJECT_UPDATE),\n                 Collections.singleton(anyObject.getRealm()));\n         securityChecks(effectiveRealms, anyObject.getRealm(), anyObject.getKey());\n \n-        List<PropagationStatus> statuses = provisioningManager.deprovision(key, resources);\n+        List<PropagationStatus> statuses = provisioningManager.deprovision(key, resources, nullPriorityAsync);\n \n-        AnyObjectTO updatedTO = binder.getAnyObjectTO(key);\n-        updatedTO.getPropagationStatusTOs().addAll(statuses);\n-        return updatedTO;\n+        ProvisioningResult<AnyObjectTO> result = new ProvisioningResult<>();\n+        result.setAny(binder.getAnyObjectTO(key));\n+        result.getPropagationStatuses().addAll(statuses);\n+        return result;\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.ANY_OBJECT_UPDATE + \"')\")\n     @Override\n-    public AnyObjectTO provision(\n+    public ProvisioningResult<AnyObjectTO> provision(\n             final Long key,\n             final Collection<String> resources,\n             final boolean changePwd,\n-            final String password) {\n+            final String password,\n+            final boolean nullPriorityAsync) {\n \n         // security checks\n         AnyObjectTO anyObject = binder.getAnyObjectTO(key);\n@@ -342,8 +347,12 @@ public AnyObjectTO provision(\n                 Collections.singleton(anyObject.getRealm()));\n         securityChecks(effectiveRealms, anyObject.getRealm(), anyObject.getKey());\n \n-        anyObject.getPropagationStatusTOs().addAll(provisioningManager.provision(key, resources));\n-        return anyObject;\n+        List<PropagationStatus> statuses = provisioningManager.provision(key, resources, nullPriorityAsync);\n+\n+        ProvisioningResult<AnyObjectTO> result = new ProvisioningResult<>();\n+        result.setAny(binder.getAnyObjectTO(key));\n+        result.getPropagationStatuses().addAll(statuses);\n+        return result;\n     }\n \n     @Override"},{"sha":"7ccd2bf85e9743bbdddbaf6a67f5700b431e6791","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/AnyTypeClassLogic.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAnyTypeClassLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAnyTypeClassLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAnyTypeClassLogic.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -44,7 +44,7 @@ public class AnyTypeClassLogic extends AbstractTransactionalLogic<AnyTypeClassTO\n     @Autowired\n     private AnyTypeClassDAO anyTypeClassDAO;\n \n-    @PreAuthorize(\"hasRole('\" + Entitlement.ANYTYPECLASS_READ + \"')\")\n+    @PreAuthorize(\"isAuthenticated()\")\n     public AnyTypeClassTO read(final String key) {\n         AnyTypeClass anyType = anyTypeClassDAO.find(key);\n         if (anyType == null) {\n@@ -56,7 +56,7 @@ public AnyTypeClassTO read(final String key) {\n         return binder.getAnyTypeClassTO(anyType);\n     }\n \n-    @PreAuthorize(\"hasRole('\" + Entitlement.ANYTYPECLASS_LIST + \"')\")\n+    @PreAuthorize(\"isAuthenticated()\")\n     public List<AnyTypeClassTO> list() {\n         return CollectionUtils.collect(anyTypeClassDAO.findAll(), new Transformer<AnyTypeClass, AnyTypeClassTO>() {\n "},{"sha":"6bd0fd515ce2b78d718f7b7a5e8e03f253121ff6","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/AnyTypeLogic.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAnyTypeLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAnyTypeLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FAnyTypeLogic.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -46,7 +46,7 @@ public class AnyTypeLogic extends AbstractTransactionalLogic<AnyTypeTO> {\n     @Autowired\n     private AnyTypeDAO anyTypeDAO;\n \n-    @PreAuthorize(\"hasRole('\" + Entitlement.ANYTYPE_READ + \"')\")\n+    @PreAuthorize(\"isAuthenticated()\")\n     public AnyTypeTO read(final String key) {\n         AnyType anyType = anyTypeDAO.find(key);\n         if (anyType == null) {\n@@ -58,7 +58,7 @@ public AnyTypeTO read(final String key) {\n         return binder.getAnyTypeTO(anyType);\n     }\n \n-    @PreAuthorize(\"hasRole('\" + Entitlement.ANYTYPE_LIST + \"')\")\n+    @PreAuthorize(\"isAuthenticated()\")\n     public List<AnyTypeTO> list() {\n         return CollectionUtils.collect(anyTypeDAO.findAll(), new Transformer<AnyType, AnyTypeTO>() {\n "},{"sha":"77ef94c16b452ea606a9955d343c4d1172384fbb","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/ConnectorLogic.java","status":"modified","additions":26,"deletions":50,"changes":76,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FConnectorLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FConnectorLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FConnectorLogic.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -32,25 +32,26 @@\n import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.to.ConnBundleTO;\n+import org.apache.syncope.common.lib.to.ConnIdObjectClassTO;\n import org.apache.syncope.common.lib.to.ConnInstanceTO;\n import org.apache.syncope.common.lib.types.ClientExceptionType;\n-import org.apache.syncope.common.lib.types.ConnConfProperty;\n import org.apache.syncope.common.lib.types.Entitlement;\n import org.apache.syncope.core.persistence.api.dao.ConnInstanceDAO;\n import org.apache.syncope.core.persistence.api.dao.ExternalResourceDAO;\n import org.apache.syncope.core.persistence.api.dao.NotFoundException;\n import org.apache.syncope.core.persistence.api.entity.ConnInstance;\n import org.apache.syncope.core.persistence.api.entity.resource.ExternalResource;\n import org.apache.syncope.core.provisioning.api.ConnIdBundleManager;\n-import org.apache.syncope.core.provisioning.api.Connector;\n import org.apache.syncope.core.provisioning.api.ConnectorFactory;\n import org.apache.syncope.core.provisioning.api.data.ConnInstanceDataBinder;\n import org.identityconnectors.common.l10n.CurrentLocale;\n import org.identityconnectors.framework.api.ConfigurationProperties;\n import org.identityconnectors.framework.api.ConnectorInfo;\n import org.identityconnectors.framework.api.ConnectorInfoManager;\n import org.identityconnectors.framework.api.ConnectorKey;\n-import org.identityconnectors.framework.common.objects.ObjectClass;\n+import org.identityconnectors.framework.common.objects.AttributeInfo;\n+import org.identityconnectors.framework.common.objects.AttributeUtil;\n+import org.identityconnectors.framework.common.objects.ObjectClassInfo;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.security.access.prepost.PreAuthorize;\n import org.springframework.stereotype.Component;\n@@ -92,7 +93,7 @@ public ConnInstanceTO create(final ConnInstanceTO connInstanceTO) {\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.CONNECTOR_UPDATE + \"')\")\n     public ConnInstanceTO update(final ConnInstanceTO connInstanceTO) {\n-        ConnInstance connInstance = binder.updateConnInstance(connInstanceTO.getKey(), connInstanceTO);\n+        ConnInstance connInstance = binder.update(connInstanceTO.getKey(), connInstanceTO);\n         try {\n             connInstance = connInstanceDAO.save(connInstance);\n         } catch (SyncopeClientException e) {\n@@ -192,7 +193,7 @@ public List<ConnBundleTO> getBundles(final String lang) {\n                 ConfigurationProperties properties = connIdBundleManager.getConfigurationProperties(bundle);\n \n                 for (String propName : properties.getPropertyNames()) {\n-                    connBundleTO.getProperties().add(binder.buildConnConfPropSchema(properties.getProperty(propName)));\n+                    connBundleTO.getProperties().add(binder.build(properties.getProperty(propName)));\n                 }\n \n                 connectorBundleTOs.add(connBundleTO);\n@@ -203,66 +204,41 @@ public List<ConnBundleTO> getBundles(final String lang) {\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.CONNECTOR_READ + \"')\")\n-    @Transactional(readOnly = true)\n-    public List<String> getSchemaNames(final ConnInstanceTO connInstanceTO, final boolean includeSpecial) {\n-        ConnInstance connInstance = connInstanceDAO.find(connInstanceTO.getKey());\n-        if (connInstance == null) {\n-            throw new NotFoundException(\"Connector '\" + connInstanceTO.getKey() + \"'\");\n-        }\n-\n-        // consider the possibility to receive overridden properties only\n-        Set<ConnConfProperty> conf =\n-                binder.mergeConnConfProperties(connInstanceTO.getConfiguration(), connInstance.getConfiguration());\n+    public List<ConnIdObjectClassTO> buildObjectClassInfo(\n+            final ConnInstanceTO connInstanceTO, final boolean includeSpecial) {\n \n-        // We cannot use Spring bean because this method could be used during resource definition or modification:\n-        // bean couldn't exist or couldn't be updated.\n-        // This is the reason why we should take a \"not mature\" connector facade proxy to ask for schema names.\n-        return new ArrayList<>(connFactory.createConnector(connInstance, conf).getSchemaNames(includeSpecial));\n-    }\n-\n-    @PreAuthorize(\"hasRole('\" + Entitlement.CONNECTOR_READ + \"')\")\n-    @Transactional(readOnly = true)\n-    public List<String> getSupportedObjectClasses(final ConnInstanceTO connInstanceTO) {\n         ConnInstance connInstance = connInstanceDAO.find(connInstanceTO.getKey());\n         if (connInstance == null) {\n             throw new NotFoundException(\"Connector '\" + connInstanceTO.getKey() + \"'\");\n         }\n \n-        // consider the possibility to receive overridden properties only\n-        Set<ConnConfProperty> conf =\n-                binder.mergeConnConfProperties(connInstanceTO.getConfiguration(), connInstance.getConfiguration());\n-\n-        // We cannot use Spring bean because this method could be used during resource definition or modification:\n-        // bean couldn't exist or couldn't be updated.\n-        // This is the reason why we should take a \"not mature\" connector facade proxy to ask for object classes.\n-        Set<ObjectClass> objectClasses = connFactory.createConnector(connInstance, conf).getSupportedObjectClasses();\n+        Set<ObjectClassInfo> objectClassInfo = connFactory.createConnector(\n+                connFactory.buildConnInstanceOverride(connInstance, connInstanceTO.getConf(), null)).\n+                getObjectClassInfo();\n \n-        List<String> result = new ArrayList<>(objectClasses.size());\n-        for (ObjectClass objectClass : objectClasses) {\n-            result.add(objectClass.getObjectClassValue());\n-        }\n+        List<ConnIdObjectClassTO> result = new ArrayList<>(objectClassInfo.size());\n+        for (ObjectClassInfo info : objectClassInfo) {\n+            ConnIdObjectClassTO connIdObjectClassTO = new ConnIdObjectClassTO();\n+            connIdObjectClassTO.setType(info.getType());\n+            connIdObjectClassTO.setAuxiliary(info.isAuxiliary());\n+            connIdObjectClassTO.setContainer(info.isContainer());\n \n-        return result;\n-    }\n-\n-    @PreAuthorize(\"hasRole('\" + Entitlement.CONNECTOR_READ + \"')\")\n-    @Transactional(readOnly = true)\n-    public List<ConnConfProperty> getConfigurationProperties(final Long connInstanceKey) {\n+            for (AttributeInfo attrInfo : info.getAttributeInfo()) {\n+                if (includeSpecial || !AttributeUtil.isSpecialName(attrInfo.getName())) {\n+                    connIdObjectClassTO.getAttributes().add(attrInfo.getName());\n+                }\n+            }\n \n-        ConnInstance connInstance = connInstanceDAO.find(connInstanceKey);\n-        if (connInstance == null) {\n-            throw new NotFoundException(\"Connector '\" + connInstanceKey + \"'\");\n+            result.add(connIdObjectClassTO);\n         }\n \n-        return new ArrayList<>(connInstance.getConfiguration());\n+        return result;\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.CONNECTOR_READ + \"')\")\n     @Transactional(readOnly = true)\n     public void check(final ConnInstanceTO connInstanceTO) {\n-        Connector connector = connFactory.createConnector(\n-                binder.getConnInstance(connInstanceTO), connInstanceTO.getConfiguration());\n-        connector.test();\n+        connFactory.createConnector(binder.getConnInstance(connInstanceTO)).test();\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.CONNECTOR_READ + \"')\")\n@@ -274,7 +250,7 @@ public ConnInstanceTO readByResource(final String resourceName, final String lan\n         if (resource == null) {\n             throw new NotFoundException(\"Resource '\" + resourceName + \"'\");\n         }\n-        return binder.getConnInstanceTO(connFactory.getConnector(resource).getActiveConnInstance());\n+        return binder.getConnInstanceTO(connFactory.getConnector(resource).getConnInstance());\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.CONNECTOR_RELOAD + \"')\")"},{"sha":"60249f25d6e5ef987fd32f8aa1d921807ac136cb","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/GroupLogic.java","status":"modified","additions":37,"deletions":31,"changes":68,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FGroupLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FGroupLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FGroupLogic.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -24,7 +24,6 @@\n import java.util.Collections;\n import java.util.HashSet;\n import java.util.List;\n-import java.util.Map;\n import java.util.Set;\n import org.apache.commons.collections4.CollectionUtils;\n import org.apache.commons.collections4.Predicate;\n@@ -38,11 +37,12 @@\n import org.apache.syncope.common.lib.patch.StringPatchItem;\n import org.apache.syncope.common.lib.to.PropagationStatus;\n import org.apache.syncope.common.lib.to.GroupTO;\n+import org.apache.syncope.common.lib.to.ProvisioningResult;\n import org.apache.syncope.common.lib.types.AnyTypeKind;\n import org.apache.syncope.common.lib.types.ClientExceptionType;\n import org.apache.syncope.common.lib.types.Entitlement;\n import org.apache.syncope.common.lib.types.PatchOperation;\n-import org.apache.syncope.core.misc.RealmUtils;\n+import org.apache.syncope.core.misc.utils.RealmUtils;\n import org.apache.syncope.core.persistence.api.dao.GroupDAO;\n import org.apache.syncope.core.persistence.api.dao.UserDAO;\n import org.apache.syncope.core.persistence.api.dao.search.OrderByClause;\n@@ -171,7 +171,7 @@ public GroupTO transform(final Group input) {\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.GROUP_CREATE + \"')\")\n     @Override\n-    public GroupTO create(final GroupTO groupTO) {\n+    public ProvisioningResult<GroupTO> create(final GroupTO groupTO, final boolean nullPriorityAsync) {\n         Pair<GroupTO, List<LogicActions>> before = beforeCreate(groupTO);\n \n         if (before.getLeft().getRealm() == null) {\n@@ -183,16 +183,15 @@ public GroupTO create(final GroupTO groupTO) {\n                 Collections.singleton(before.getLeft().getRealm()));\n         securityChecks(effectiveRealms, before.getLeft().getRealm(), null);\n \n-        Map.Entry<Long, List<PropagationStatus>> created = provisioningManager.create(before.getLeft());\n-        GroupTO savedTO = binder.getGroupTO(created.getKey());\n-        savedTO.getPropagationStatusTOs().addAll(created.getValue());\n+        Pair<Long, List<PropagationStatus>> created =\n+                provisioningManager.create(before.getLeft(), nullPriorityAsync);\n \n-        return afterCreate(savedTO, before.getValue());\n+        return after(binder.getGroupTO(created.getKey()), created.getRight(), before.getRight());\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.GROUP_UPDATE + \"')\")\n     @Override\n-    public GroupTO update(final GroupPatch groupPatch) {\n+    public ProvisioningResult<GroupTO> update(final GroupPatch groupPatch, final boolean nullPriorityAsync) {\n         GroupTO groupTO = binder.getGroupTO(groupPatch.getKey());\n         Pair<GroupPatch, List<LogicActions>> before = beforeUpdate(groupPatch, groupTO.getRealm());\n \n@@ -205,17 +204,14 @@ public GroupTO update(final GroupPatch groupPatch) {\n             securityChecks(effectiveRealms, before.getLeft().getRealm().getValue(), before.getLeft().getKey());\n         }\n \n-        Map.Entry<Long, List<PropagationStatus>> updated = provisioningManager.update(groupPatch);\n+        Pair<Long, List<PropagationStatus>> updated = provisioningManager.update(groupPatch, nullPriorityAsync);\n \n-        GroupTO updatedTO = binder.getGroupTO(updated.getKey());\n-        updatedTO.getPropagationStatusTOs().addAll(updated.getValue());\n-\n-        return afterUpdate(updatedTO, before.getRight());\n+        return after(binder.getGroupTO(updated.getKey()), updated.getRight(), before.getRight());\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.GROUP_DELETE + \"')\")\n     @Override\n-    public GroupTO delete(final Long key) {\n+    public ProvisioningResult<GroupTO> delete(final Long key, final boolean nullPriorityAsync) {\n         GroupTO group = binder.getGroupTO(key);\n         Pair<GroupTO, List<LogicActions>> before = beforeDelete(group);\n \n@@ -237,13 +233,12 @@ public String transform(final Group group) {\n             throw sce;\n         }\n \n-        List<PropagationStatus> statuses = provisioningManager.delete(before.getLeft().getKey());\n+        List<PropagationStatus> statuses = provisioningManager.delete(before.getLeft().getKey(), nullPriorityAsync);\n \n         GroupTO groupTO = new GroupTO();\n         groupTO.setKey(before.getLeft().getKey());\n-        groupTO.getPropagationStatusTOs().addAll(statuses);\n \n-        return afterDelete(groupTO, before.getRight());\n+        return after(groupTO, statuses, before.getRight());\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.GROUP_UPDATE + \"')\")\n@@ -294,7 +289,9 @@ public StringPatchItem transform(final String resource) {\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.GROUP_UPDATE + \"')\")\n     @Override\n-    public GroupTO unassign(final Long key, final Collection<String> resources) {\n+    public ProvisioningResult<GroupTO> unassign(\n+            final Long key, final Collection<String> resources, final boolean nullPriorityAsync) {\n+\n         // security checks\n         GroupTO group = binder.getGroupTO(key);\n         Set<String> effectiveRealms = getEffectiveRealms(\n@@ -312,16 +309,17 @@ public StringPatchItem transform(final String resource) {\n             }\n         }));\n \n-        return update(patch);\n+        return update(patch, nullPriorityAsync);\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.GROUP_UPDATE + \"')\")\n     @Override\n-    public GroupTO assign(\n+    public ProvisioningResult<GroupTO> assign(\n             final Long key,\n             final Collection<String> resources,\n             final boolean changepwd,\n-            final String password) {\n+            final String password,\n+            final boolean nullPriorityAsync) {\n \n         // security checks\n         GroupTO group = binder.getGroupTO(key);\n@@ -340,33 +338,37 @@ public StringPatchItem transform(final String resource) {\n             }\n         }));\n \n-        return update(patch);\n+        return update(patch, nullPriorityAsync);\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.GROUP_UPDATE + \"')\")\n     @Override\n-    public GroupTO deprovision(final Long key, final Collection<String> resources) {\n+    public ProvisioningResult<GroupTO> deprovision(\n+            final Long key, final Collection<String> resources, final boolean nullPriorityAsync) {\n+\n         // security checks\n         GroupTO group = binder.getGroupTO(key);\n         Set<String> effectiveRealms = getEffectiveRealms(\n                 AuthContextUtils.getAuthorizations().get(Entitlement.GROUP_UPDATE),\n                 Collections.singleton(group.getRealm()));\n         securityChecks(effectiveRealms, group.getRealm(), group.getKey());\n \n-        List<PropagationStatus> statuses = provisioningManager.deprovision(key, resources);\n+        List<PropagationStatus> statuses = provisioningManager.deprovision(key, resources, nullPriorityAsync);\n \n-        GroupTO updatedTO = binder.getGroupTO(key);\n-        updatedTO.getPropagationStatusTOs().addAll(statuses);\n-        return updatedTO;\n+        ProvisioningResult<GroupTO> result = new ProvisioningResult<>();\n+        result.setAny(binder.getGroupTO(key));\n+        result.getPropagationStatuses().addAll(statuses);\n+        return result;\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.GROUP_UPDATE + \"')\")\n     @Override\n-    public GroupTO provision(\n+    public ProvisioningResult<GroupTO> provision(\n             final Long key,\n             final Collection<String> resources,\n             final boolean changePwd,\n-            final String password) {\n+            final String password,\n+            final boolean nullPriorityAsync) {\n \n         // security checks\n         GroupTO group = binder.getGroupTO(key);\n@@ -375,8 +377,12 @@ public GroupTO provision(\n                 Collections.singleton(group.getRealm()));\n         securityChecks(effectiveRealms, group.getRealm(), group.getKey());\n \n-        group.getPropagationStatusTOs().addAll(provisioningManager.provision(key, resources));\n-        return group;\n+        List<PropagationStatus> statuses = provisioningManager.provision(key, resources, nullPriorityAsync);\n+\n+        ProvisioningResult<GroupTO> result = new ProvisioningResult<>();\n+        result.setAny(binder.getGroupTO(key));\n+        result.getPropagationStatuses().addAll(statuses);\n+        return result;\n     }\n \n     @Override"},{"sha":"c3920586aa0682433e44c02724b0edbe91813997","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/ResourceLogic.java","status":"modified","additions":18,"deletions":7,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FResourceLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FResourceLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FResourceLogic.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -44,20 +44,21 @@\n import org.apache.syncope.core.persistence.api.dao.NotFoundException;\n import org.apache.syncope.core.persistence.api.dao.GroupDAO;\n import org.apache.syncope.core.persistence.api.dao.UserDAO;\n-import org.apache.syncope.core.persistence.api.entity.ConnInstance;\n import org.apache.syncope.core.persistence.api.entity.resource.ExternalResource;\n import org.apache.syncope.core.persistence.api.entity.resource.MappingItem;\n import org.apache.syncope.core.provisioning.api.Connector;\n import org.apache.syncope.core.provisioning.api.ConnectorFactory;\n import org.apache.syncope.core.provisioning.api.data.ResourceDataBinder;\n-import org.apache.syncope.core.misc.ConnObjectUtils;\n-import org.apache.syncope.core.misc.MappingUtils;\n+import org.apache.syncope.core.misc.utils.ConnObjectUtils;\n+import org.apache.syncope.core.misc.utils.MappingUtils;\n import org.apache.syncope.core.persistence.api.dao.AnyObjectDAO;\n import org.apache.syncope.core.persistence.api.dao.AnyTypeDAO;\n+import org.apache.syncope.core.persistence.api.dao.ConnInstanceDAO;\n import org.apache.syncope.core.persistence.api.dao.VirSchemaDAO;\n import org.apache.syncope.core.persistence.api.dao.search.OrderByClause;\n import org.apache.syncope.core.persistence.api.entity.Any;\n import org.apache.syncope.core.persistence.api.entity.AnyType;\n+import org.apache.syncope.core.persistence.api.entity.ConnInstance;\n import org.apache.syncope.core.persistence.api.entity.VirSchema;\n import org.apache.syncope.core.persistence.api.entity.resource.Provision;\n import org.identityconnectors.framework.common.objects.Attribute;\n@@ -84,6 +85,9 @@ public class ResourceLogic extends AbstractTransactionalLogic<ResourceTO> {\n     @Autowired\n     private AnyObjectDAO anyObjectDAO;\n \n+    @Autowired\n+    private ConnInstanceDAO connInstanceDAO;\n+\n     @Autowired\n     private UserDAO userDAO;\n \n@@ -245,7 +249,7 @@ public ConnObjectTO readConnObject(final String key, final String anyTypeKey, fi\n         ConnectorObject connectorObject = connector.getObject(\n                 init.getRight().getObjectClass(),\n                 new Uid(connObjectKeyValue),\n-                connector.getOperationOptions(mapItems));\n+                MappingUtils.buildOperationOptions(mapItems));\n         if (connectorObject == null) {\n             throw new NotFoundException(\n                     \"Object \" + connObjectKeyValue + \" with class \" + init.getRight().getObjectClass()\n@@ -303,10 +307,17 @@ public boolean handle(final ConnectorObject connectorObject) {\n     @PreAuthorize(\"hasRole('\" + Entitlement.CONNECTOR_READ + \"')\")\n     @Transactional(readOnly = true)\n     public void check(final ResourceTO resourceTO) {\n-        ConnInstance connInstance = binder.getConnInstance(resourceTO);\n-        Connector connector = connFactory.createConnector(connInstance, connInstance.getConfiguration());\n+        ConnInstance connInstance = connInstanceDAO.find(resourceTO.getConnector());\n+        if (connInstance == null) {\n+            throw new NotFoundException(\"Connector '\" + resourceTO.getConnector() + \"'\");\n+        }\n \n-        connector.test();\n+        connFactory.createConnector(\n+                connFactory.buildConnInstanceOverride(\n+                        connInstance,\n+                        resourceTO.getConfOverride(),\n+                        resourceTO.isOverrideCapabilities() ? resourceTO.getCapabilitiesOverride() : null)).\n+                test();\n     }\n \n     @Override"},{"sha":"cbd5f6478b84323f98d7caf1202db5abcf4bf6fa","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/SchemaLogic.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FSchemaLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FSchemaLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FSchemaLogic.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -180,7 +180,7 @@ public T transform(final PlainSchema input) {\n         return result;\n     }\n \n-    @PreAuthorize(\"hasRole('\" + Entitlement.SCHEMA_READ + \"')\")\n+    @PreAuthorize(\"isAuthenticated()\")\n     @SuppressWarnings(\"unchecked\")\n     public <T extends AbstractSchemaTO> T read(final SchemaType schemaType, final String schemaName) {\n         T read;"},{"sha":"22b7ab5a83876676d732c1f689892098655dbd75","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/UserLogic.java","status":"modified","additions":80,"deletions":57,"changes":137,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FUserLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FUserLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FUserLogic.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -24,7 +24,6 @@\n import java.util.Collections;\n import java.util.HashSet;\n import java.util.List;\n-import java.util.Map;\n import java.util.Set;\n import org.apache.commons.collections4.CollectionUtils;\n import org.apache.commons.collections4.Transformer;\n@@ -39,6 +38,7 @@\n import org.apache.syncope.common.lib.patch.StringPatchItem;\n import org.apache.syncope.common.lib.patch.UserPatch;\n import org.apache.syncope.common.lib.to.PropagationStatus;\n+import org.apache.syncope.common.lib.to.ProvisioningResult;\n import org.apache.syncope.common.lib.to.UserTO;\n import org.apache.syncope.common.lib.types.AnyTypeKind;\n import org.apache.syncope.common.lib.types.ClientExceptionType;\n@@ -169,22 +169,31 @@ public UserTO transform(final User input) {\n     }\n \n     @PreAuthorize(\"isAnonymous() or hasRole('\" + Entitlement.ANONYMOUS + \"')\")\n-    public UserTO selfCreate(final UserTO userTO, final boolean storePassword) {\n-        return doCreate(userTO, storePassword, true);\n+    public ProvisioningResult<UserTO> selfCreate(\n+            final UserTO userTO, final boolean storePassword, final boolean nullPriorityAsync) {\n+\n+        return doCreate(userTO, storePassword, true, nullPriorityAsync);\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.USER_CREATE + \"')\")\n     @Override\n-    public UserTO create(final UserTO userTO) {\n-        return create(userTO, true);\n+    public ProvisioningResult<UserTO> create(final UserTO userTO, final boolean nullPriorityAsync) {\n+        return doCreate(userTO, true, false, nullPriorityAsync);\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.USER_CREATE + \"')\")\n-    public UserTO create(final UserTO userTO, final boolean storePassword) {\n-        return doCreate(userTO, storePassword, false);\n+    public ProvisioningResult<UserTO> create(\n+            final UserTO userTO, final boolean storePassword, final boolean nullPriorityAsync) {\n+\n+        return doCreate(userTO, storePassword, false, nullPriorityAsync);\n     }\n \n-    protected UserTO doCreate(final UserTO userTO, final boolean storePassword, final boolean self) {\n+    protected ProvisioningResult<UserTO> doCreate(\n+            final UserTO userTO,\n+            final boolean storePassword,\n+            final boolean self,\n+            final boolean nullPriorityAsync) {\n+\n         Pair<UserTO, List<LogicActions>> before = beforeCreate(userTO);\n \n         if (before.getLeft().getRealm() == null) {\n@@ -198,28 +207,28 @@ protected UserTO doCreate(final UserTO userTO, final boolean storePassword, fina\n             securityChecks(effectiveRealms, before.getLeft().getRealm(), null);\n         }\n \n-        Map.Entry<Long, List<PropagationStatus>> created = provisioningManager.create(before.getLeft(), storePassword);\n+        Pair<Long, List<PropagationStatus>> created =\n+                provisioningManager.create(before.getLeft(), storePassword, nullPriorityAsync);\n \n-        UserTO savedTO = binder.getUserTO(created.getKey());\n-        savedTO.getPropagationStatusTOs().addAll(created.getValue());\n-\n-        return binder.returnUserTO(afterCreate(savedTO, before.getValue()));\n+        return after(binder.returnUserTO(binder.getUserTO(created.getKey())), created.getRight(), before.getRight());\n     }\n \n     @PreAuthorize(\"isAuthenticated() and not(hasRole('\" + Entitlement.ANONYMOUS + \"'))\")\n-    public UserTO selfUpdate(final UserPatch userPatch) {\n+    public ProvisioningResult<UserTO> selfUpdate(final UserPatch userPatch, final boolean nullPriorityAsync) {\n         UserTO userTO = binder.getAuthenticatedUserTO();\n         userPatch.setKey(userTO.getKey());\n-        return doUpdate(userPatch, true);\n+        return doUpdate(userPatch, true, nullPriorityAsync);\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.USER_UPDATE + \"')\")\n     @Override\n-    public UserTO update(final UserPatch userPatch) {\n-        return doUpdate(userPatch, false);\n+    public ProvisioningResult<UserTO> update(final UserPatch userPatch, final boolean nullPriorityAsync) {\n+        return doUpdate(userPatch, false, nullPriorityAsync);\n     }\n \n-    protected UserTO doUpdate(final UserPatch userPatch, final boolean self) {\n+    protected ProvisioningResult<UserTO> doUpdate(\n+            final UserPatch userPatch, final boolean self, final boolean nullPriorityAsync) {\n+\n         UserTO userTO = binder.getUserTO(userPatch.getKey());\n         Pair<UserPatch, List<LogicActions>> before = beforeUpdate(userPatch, userTO.getRealm());\n \n@@ -235,29 +244,28 @@ protected UserTO doUpdate(final UserPatch userPatch, final boolean self) {\n             securityChecks(effectiveRealms, before.getLeft().getRealm().getValue(), before.getLeft().getKey());\n         }\n \n-        Map.Entry<Long, List<PropagationStatus>> updated = provisioningManager.update(before.getLeft());\n-\n-        UserTO updatedTO = binder.getUserTO(updated.getKey());\n-        updatedTO.getPropagationStatusTOs().addAll(updated.getValue());\n+        Pair<Long, List<PropagationStatus>> updated = provisioningManager.update(before.getLeft(), nullPriorityAsync);\n \n-        return binder.returnUserTO(afterUpdate(updatedTO, before.getRight()));\n+        return after(binder.returnUserTO(binder.getUserTO(updated.getKey())), updated.getRight(), before.getRight());\n     }\n \n-    protected Map.Entry<Long, List<PropagationStatus>> setStatusOnWfAdapter(final StatusPatch statusPatch) {\n-        Map.Entry<Long, List<PropagationStatus>> updated;\n+    protected Pair<Long, List<PropagationStatus>> setStatusOnWfAdapter(\n+            final StatusPatch statusPatch, final boolean nullPriorityAsync) {\n+\n+        Pair<Long, List<PropagationStatus>> updated;\n \n         switch (statusPatch.getType()) {\n             case SUSPEND:\n-                updated = provisioningManager.suspend(statusPatch);\n+                updated = provisioningManager.suspend(statusPatch, nullPriorityAsync);\n                 break;\n \n             case REACTIVATE:\n-                updated = provisioningManager.reactivate(statusPatch);\n+                updated = provisioningManager.reactivate(statusPatch, nullPriorityAsync);\n                 break;\n \n             case ACTIVATE:\n             default:\n-                updated = provisioningManager.activate(statusPatch);\n+                updated = provisioningManager.activate(statusPatch, nullPriorityAsync);\n                 break;\n \n         }\n@@ -266,26 +274,28 @@ protected Map.Entry<Long, List<PropagationStatus>> setStatusOnWfAdapter(final St\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.USER_UPDATE + \"')\")\n-    public UserTO status(final StatusPatch statusPatch) {\n+    public ProvisioningResult<UserTO> status(final StatusPatch statusPatch, final boolean nullPriorityAsync) {\n         // security checks\n         UserTO toUpdate = binder.getUserTO(statusPatch.getKey());\n         Set<String> effectiveRealms = getEffectiveRealms(\n                 AuthContextUtils.getAuthorizations().get(Entitlement.USER_UPDATE),\n                 Collections.singleton(toUpdate.getRealm()));\n         securityChecks(effectiveRealms, toUpdate.getRealm(), toUpdate.getKey());\n \n-        Map.Entry<Long, List<PropagationStatus>> updated = setStatusOnWfAdapter(statusPatch);\n-        UserTO savedTO = binder.getUserTO(updated.getKey());\n-        savedTO.getPropagationStatusTOs().addAll(updated.getValue());\n-        return binder.returnUserTO(savedTO);\n+        Pair<Long, List<PropagationStatus>> updated = setStatusOnWfAdapter(statusPatch, nullPriorityAsync);\n+\n+        return after(\n+                binder.returnUserTO(binder.getUserTO(updated.getKey())),\n+                updated.getRight(),\n+                Collections.<LogicActions>emptyList());\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.MUST_CHANGE_PASSWORD + \"')\")\n-    public UserTO changePassword(final String password) {\n+    public ProvisioningResult<UserTO> changePassword(final String password, final boolean nullPriorityAsync) {\n         UserPatch userPatch = new UserPatch();\n         userPatch.setPassword(new PasswordPatch.Builder().value(password).build());\n         userPatch.setMustChangePassword(new BooleanReplacePatchItem.Builder().value(false).build());\n-        return selfUpdate(userPatch);\n+        return selfUpdate(userPatch, nullPriorityAsync);\n     }\n \n     @PreAuthorize(\"isAnonymous() or hasRole('\" + Entitlement.ANONYMOUS + \"')\")\n@@ -320,19 +330,21 @@ public void confirmPasswordReset(final String token, final String password) {\n     }\n \n     @PreAuthorize(\"isAuthenticated() and not(hasRole('\" + Entitlement.ANONYMOUS + \"'))\")\n-    public UserTO selfDelete() {\n+    public ProvisioningResult<UserTO> selfDelete(final boolean nullPriorityAsync) {\n         UserTO userTO = binder.getAuthenticatedUserTO();\n-        return doDelete(userTO, true);\n+        return doDelete(userTO, true, nullPriorityAsync);\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.USER_DELETE + \"')\")\n     @Override\n-    public UserTO delete(final Long key) {\n+    public ProvisioningResult<UserTO> delete(final Long key, final boolean nullPriorityAsync) {\n         UserTO userTO = binder.getUserTO(key);\n-        return doDelete(userTO, false);\n+        return doDelete(userTO, false, nullPriorityAsync);\n     }\n \n-    protected UserTO doDelete(final UserTO userTO, final boolean self) {\n+    protected ProvisioningResult<UserTO> doDelete(\n+            final UserTO userTO, final boolean self, final boolean nullPriorityAsync) {\n+\n         Pair<UserTO, List<LogicActions>> before = beforeDelete(userTO);\n \n         if (!self) {\n@@ -355,7 +367,7 @@ public String transform(final Group group) {\n             throw sce;\n         }\n \n-        List<PropagationStatus> statuses = provisioningManager.delete(before.getLeft().getKey());\n+        List<PropagationStatus> statuses = provisioningManager.delete(before.getLeft().getKey(), nullPriorityAsync);\n \n         UserTO deletedTO;\n         if (userDAO.find(before.getLeft().getKey()) == null) {\n@@ -364,9 +376,8 @@ public String transform(final Group group) {\n         } else {\n             deletedTO = binder.getUserTO(before.getLeft().getKey());\n         }\n-        deletedTO.getPropagationStatusTOs().addAll(statuses);\n \n-        return binder.returnUserTO(afterDelete(deletedTO, before.getRight()));\n+        return after(binder.returnUserTO(deletedTO), statuses, before.getRight());\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.USER_UPDATE + \"')\")\n@@ -417,7 +428,9 @@ public StringPatchItem transform(final String resource) {\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.USER_UPDATE + \"')\")\n     @Override\n-    public UserTO unassign(final Long key, final Collection<String> resources) {\n+    public ProvisioningResult<UserTO> unassign(\n+            final Long key, final Collection<String> resources, final boolean nullPriorityAsync) {\n+\n         // security checks\n         UserTO user = binder.getUserTO(key);\n         Set<String> effectiveRealms = getEffectiveRealms(\n@@ -435,16 +448,17 @@ public StringPatchItem transform(final String resource) {\n             }\n         }));\n \n-        return update(patch);\n+        return update(patch, nullPriorityAsync);\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.USER_UPDATE + \"')\")\n     @Override\n-    public UserTO assign(\n+    public ProvisioningResult<UserTO> assign(\n             final Long key,\n             final Collection<String> resources,\n             final boolean changepwd,\n-            final String password) {\n+            final String password,\n+            final boolean nullPriorityAsync) {\n \n         // security checks\n         UserTO user = binder.getUserTO(key);\n@@ -468,33 +482,37 @@ public StringPatchItem transform(final String resource) {\n                     value(password).onSyncope(false).resources(resources).build());\n         }\n \n-        return update(patch);\n+        return update(patch, nullPriorityAsync);\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.USER_UPDATE + \"')\")\n     @Override\n-    public UserTO deprovision(final Long key, final Collection<String> resources) {\n+    public ProvisioningResult<UserTO> deprovision(\n+            final Long key, final Collection<String> resources, final boolean nullPriorityAsync) {\n+\n         // security checks\n         UserTO user = binder.getUserTO(key);\n         Set<String> effectiveRealms = getEffectiveRealms(\n                 AuthContextUtils.getAuthorizations().get(Entitlement.USER_UPDATE),\n                 Collections.singleton(user.getRealm()));\n         securityChecks(effectiveRealms, user.getRealm(), user.getKey());\n \n-        List<PropagationStatus> statuses = provisioningManager.deprovision(key, resources);\n+        List<PropagationStatus> statuses = provisioningManager.deprovision(key, resources, nullPriorityAsync);\n \n-        UserTO updatedTO = binder.getUserTO(key);\n-        updatedTO.getPropagationStatusTOs().addAll(statuses);\n-        return binder.returnUserTO(updatedTO);\n+        ProvisioningResult<UserTO> result = new ProvisioningResult<>();\n+        result.setAny(binder.returnUserTO(binder.getUserTO(key)));\n+        result.getPropagationStatuses().addAll(statuses);\n+        return result;\n     }\n \n     @PreAuthorize(\"hasRole('\" + Entitlement.USER_UPDATE + \"')\")\n     @Override\n-    public UserTO provision(\n+    public ProvisioningResult<UserTO> provision(\n             final Long key,\n             final Collection<String> resources,\n             final boolean changePwd,\n-            final String password) {\n+            final String password,\n+            final boolean nullPriorityAsync) {\n \n         // security checks\n         UserTO user = binder.getUserTO(key);\n@@ -503,8 +521,13 @@ public UserTO provision(\n                 Collections.singleton(user.getRealm()));\n         securityChecks(effectiveRealms, user.getRealm(), user.getKey());\n \n-        user.getPropagationStatusTOs().addAll(provisioningManager.provision(key, changePwd, password, resources));\n-        return binder.returnUserTO(user);\n+        List<PropagationStatus> statuses =\n+                provisioningManager.provision(key, changePwd, password, resources, nullPriorityAsync);\n+\n+        ProvisioningResult<UserTO> result = new ProvisioningResult<>();\n+        result.setAny(binder.returnUserTO(binder.getUserTO(key)));\n+        result.getPropagationStatuses().addAll(statuses);\n+        return result;\n     }\n \n     @Override"},{"sha":"df8c62990b51bd87bdabe14d09ebf9ae8e539592","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/notification/NotificationJobDelegate.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Fnotification%2FNotificationJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Fnotification%2FNotificationJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Fnotification%2FNotificationJobDelegate.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -26,7 +26,7 @@\n import org.apache.syncope.common.lib.types.TaskType;\n import org.apache.syncope.common.lib.types.TraceLevel;\n import org.apache.syncope.core.misc.AuditManager;\n-import org.apache.syncope.core.misc.ExceptionUtils2;\n+import org.apache.syncope.core.misc.utils.ExceptionUtils2;\n import org.apache.syncope.core.persistence.api.dao.TaskDAO;\n import org.apache.syncope.core.persistence.api.entity.EntityFactory;\n import org.apache.syncope.core.persistence.api.entity.task.NotificationTask;"},{"sha":"9d764ba0a1ffcecd58c460567129324ac7584578","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/report/ReportJobDelegate.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Freport%2FReportJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Freport%2FReportJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Freport%2FReportJobDelegate.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -33,7 +33,7 @@\n import org.apache.syncope.common.lib.SyncopeConstants;\n import org.apache.syncope.common.lib.report.ReportletConf;\n import org.apache.syncope.common.lib.types.ReportExecStatus;\n-import org.apache.syncope.core.misc.ExceptionUtils2;\n+import org.apache.syncope.core.misc.utils.ExceptionUtils2;\n import org.apache.syncope.core.misc.spring.ApplicationContextProvider;\n import org.apache.syncope.core.persistence.api.ImplementationLookup;\n import org.apache.syncope.core.persistence.api.dao.ReportDAO;"},{"sha":"37e896b1c424630c0305bd80f895c300cd816618","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/report/StaticReportlet.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Freport%2FStaticReportlet.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Freport%2FStaticReportlet.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Freport%2FStaticReportlet.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -21,7 +21,7 @@\n import org.apache.syncope.core.persistence.api.dao.ReportletConfClass;\n import org.apache.syncope.common.lib.report.ReportletConf;\n import org.apache.syncope.common.lib.report.StaticReportletConf;\n-import org.apache.syncope.core.misc.FormatUtils;\n+import org.apache.syncope.core.misc.utils.FormatUtils;\n import org.springframework.util.StringUtils;\n import org.xml.sax.ContentHandler;\n import org.xml.sax.SAXException;"},{"sha":"2523e8fc7b35dcfe43a2593c0ae4008a89e5f0b7","filename":"core/logic/src/main/java/org/apache/syncope/core/logic/report/UserReportlet.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Freport%2FUserReportlet.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Freport%2FUserReportlet.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Freport%2FUserReportlet.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -38,7 +38,7 @@\n import org.apache.syncope.core.persistence.api.dao.search.OrderByClause;\n import org.apache.syncope.core.persistence.api.entity.user.User;\n import org.apache.syncope.core.misc.search.SearchCondConverter;\n-import org.apache.syncope.core.misc.FormatUtils;\n+import org.apache.syncope.core.misc.utils.FormatUtils;\n import org.apache.syncope.core.persistence.api.dao.AnySearchDAO;\n import org.apache.syncope.core.persistence.api.entity.user.UMembership;\n import org.apache.syncope.core.persistence.api.entity.user.URelationship;"},{"sha":"2870eaef743f07eb7e3ba2ec344931ee246f83c2","filename":"core/misc/src/main/java/org/apache/syncope/core/misc/jexl/JexlUtils.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Fjexl%2FJexlUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Fjexl%2FJexlUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Fjexl%2FJexlUtils.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -35,7 +35,7 @@\n import org.apache.syncope.common.lib.to.AnyTO;\n import org.apache.syncope.common.lib.to.AttrTO;\n import org.apache.syncope.core.persistence.api.entity.DerAttr;\n-import org.apache.syncope.core.misc.FormatUtils;\n+import org.apache.syncope.core.misc.utils.FormatUtils;\n import org.apache.syncope.core.persistence.api.entity.Any;\n import org.apache.syncope.core.persistence.api.entity.PlainAttr;\n import org.slf4j.Logger;"},{"sha":"f281fd3f8f9719ca344a69fb76c0e36cf8c609ce","filename":"core/misc/src/main/java/org/apache/syncope/core/misc/security/AuthDataAccessor.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Fsecurity%2FAuthDataAccessor.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Fsecurity%2FAuthDataAccessor.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Fsecurity%2FAuthDataAccessor.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -36,8 +36,8 @@\n import org.apache.syncope.common.lib.types.AuditElements;\n import org.apache.syncope.common.lib.types.Entitlement;\n import org.apache.syncope.core.misc.AuditManager;\n-import org.apache.syncope.core.misc.MappingUtils;\n-import org.apache.syncope.core.misc.RealmUtils;\n+import org.apache.syncope.core.misc.utils.MappingUtils;\n+import org.apache.syncope.core.misc.utils.RealmUtils;\n import org.apache.syncope.core.persistence.api.dao.AnyTypeDAO;\n import org.apache.syncope.core.persistence.api.dao.ConfDAO;\n import org.apache.syncope.core.persistence.api.dao.DomainDAO;"},{"sha":"198b1e8caf81200148c1dc70b42f9cea6171d7a7","filename":"core/misc/src/main/java/org/apache/syncope/core/misc/security/SyncopeGrantedAuthority.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Fsecurity%2FSyncopeGrantedAuthority.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Fsecurity%2FSyncopeGrantedAuthority.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Fsecurity%2FSyncopeGrantedAuthority.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -29,7 +29,7 @@\n import org.apache.commons.lang3.builder.HashCodeBuilder;\n import org.apache.commons.lang3.builder.ReflectionToStringBuilder;\n import org.apache.commons.lang3.builder.ToStringStyle;\n-import org.apache.syncope.core.misc.RealmUtils;\n+import org.apache.syncope.core.misc.utils.RealmUtils;\n import org.springframework.security.core.GrantedAuthority;\n \n public class SyncopeGrantedAuthority implements GrantedAuthority {"},{"sha":"97bf8d8e30bf14ffcc969945762bd46e8c37fec6","filename":"core/misc/src/main/java/org/apache/syncope/core/misc/utils/ConnObjectUtils.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FConnObjectUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FConnObjectUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FConnObjectUtils.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.misc;\n+package org.apache.syncope.core.misc.utils;\n \n import org.apache.syncope.core.misc.policy.InvalidPasswordRuleConf;\n import org.apache.syncope.core.misc.security.SecureRandomUtils;","previous_filename":"core/misc/src/main/java/org/apache/syncope/core/misc/ConnObjectUtils.java"},{"sha":"76ba64fd79dd9b54af4f7dc02071cb52769d1c00","filename":"core/misc/src/main/java/org/apache/syncope/core/misc/utils/ExceptionUtils2.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FExceptionUtils2.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FExceptionUtils2.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FExceptionUtils2.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.misc;\n+package org.apache.syncope.core.misc.utils;\n \n import org.apache.commons.lang3.exception.ExceptionUtils;\n ","previous_filename":"core/misc/src/main/java/org/apache/syncope/core/misc/ExceptionUtils2.java"},{"sha":"131f310fcb12bf7869fb510016e9eeed04b6fd40","filename":"core/misc/src/main/java/org/apache/syncope/core/misc/utils/FormatUtils.java","status":"renamed","additions":6,"deletions":2,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FFormatUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FFormatUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FFormatUtils.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -16,12 +16,14 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.misc;\n+package org.apache.syncope.core.misc.utils;\n \n import java.text.DecimalFormat;\n+import java.text.DecimalFormatSymbols;\n import java.text.ParseException;\n import java.text.SimpleDateFormat;\n import java.util.Date;\n+import java.util.Locale;\n import org.apache.commons.lang3.time.DateUtils;\n import org.apache.syncope.common.lib.SyncopeConstants;\n \n@@ -44,7 +46,9 @@ protected SimpleDateFormat initialValue() {\n \n         @Override\n         protected DecimalFormat initialValue() {\n-            return new DecimalFormat();\n+            DecimalFormat df = new DecimalFormat();\n+            df.setDecimalFormatSymbols(DecimalFormatSymbols.getInstance(Locale.ENGLISH));\n+            return df;\n         }\n     };\n ","previous_filename":"core/misc/src/main/java/org/apache/syncope/core/misc/FormatUtils.java"},{"sha":"bc7c6b861484d0bb804d12ef7ba3633b4102fc9e","filename":"core/misc/src/main/java/org/apache/syncope/core/misc/utils/MappingUtils.java","status":"renamed","additions":33,"deletions":2,"changes":35,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FMappingUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FMappingUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FMappingUtils.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -16,11 +16,12 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.misc;\n+package org.apache.syncope.core.misc.utils;\n \n import java.util.ArrayList;\n import java.util.Collections;\n import java.util.HashSet;\n+import java.util.Iterator;\n import java.util.List;\n import java.util.Set;\n import org.apache.commons.collections4.ListUtils;\n@@ -75,7 +76,10 @@\n import org.identityconnectors.framework.common.objects.AttributeBuilder;\n import org.identityconnectors.framework.common.objects.AttributeUtil;\n import org.identityconnectors.framework.common.objects.Name;\n+import org.identityconnectors.framework.common.objects.OperationOptions;\n+import org.identityconnectors.framework.common.objects.OperationOptionsBuilder;\n import org.identityconnectors.framework.common.objects.OperationalAttributes;\n+import org.identityconnectors.framework.common.objects.Uid;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.beans.factory.annotation.Autowired;\n@@ -255,6 +259,34 @@ public static List<MappingItemTransformer> getMappingItemTransformers(final Mapp\n         return result;\n     }\n \n+    /**\n+     * Build options for requesting all mapped connector attributes.\n+     *\n+     * @param mapItems mapping items\n+     * @return options for requesting all mapped connector attributes\n+     * @see OperationOptions\n+     */\n+    public static OperationOptions buildOperationOptions(final Iterator<? extends MappingItem> mapItems) {\n+        OperationOptionsBuilder builder = new OperationOptionsBuilder();\n+\n+        Set<String> attrsToGet = new HashSet<>();\n+        attrsToGet.add(Name.NAME);\n+        attrsToGet.add(Uid.NAME);\n+        attrsToGet.add(OperationalAttributes.ENABLE_NAME);\n+\n+        while (mapItems.hasNext()) {\n+            MappingItem mapItem = mapItems.next();\n+            if (mapItem.getPurpose() != MappingPurpose.NONE) {\n+                attrsToGet.add(mapItem.getExtAttrName());\n+            }\n+        }\n+\n+        builder.setAttributesToGet(attrsToGet);\n+        // -------------------------------------\n+\n+        return builder.build();\n+    }\n+\n     /**\n      * Prepare attributes for sending to a connector instance.\n      *\n@@ -796,5 +828,4 @@ public <T extends AnyTO> void setIntValues(\n             default:\n         }\n     }\n-\n }","previous_filename":"core/misc/src/main/java/org/apache/syncope/core/misc/MappingUtils.java"},{"sha":"cddda6702b08b9ab8ee55859da6b07d8940ba789","filename":"core/misc/src/main/java/org/apache/syncope/core/misc/utils/RealmUtils.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FRealmUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FRealmUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FRealmUtils.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.misc;\n+package org.apache.syncope.core.misc.utils;\n \n import java.util.Collection;\n import java.util.HashSet;","previous_filename":"core/misc/src/main/java/org/apache/syncope/core/misc/RealmUtils.java"},{"sha":"4b990f250ffd42cdfdbc837b3a6be81487b6c41f","filename":"core/misc/src/main/java/org/apache/syncope/core/misc/utils/TemplateUtils.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FTemplateUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FTemplateUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fmisc%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fmisc%2Futils%2FTemplateUtils.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.misc;\n+package org.apache.syncope.core.misc.utils;\n \n import java.util.List;\n import java.util.Map;","previous_filename":"core/misc/src/main/java/org/apache/syncope/core/misc/TemplateUtils.java"},{"sha":"7b2c9b3df906c127a5d0606e6c95c545e7a71674","filename":"core/misc/src/main/resources/utilsContext.xml","status":"added","additions":32,"deletions":0,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fresources%2FutilsContext.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fmisc%2Fsrc%2Fmain%2Fresources%2FutilsContext.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fmisc%2Fsrc%2Fmain%2Fresources%2FutilsContext.xml?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,32 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<beans xmlns=\"http://www.springframework.org/schema/beans\"\n+       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+       xmlns:context=\"http://www.springframework.org/schema/context\"\n+       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n+                           http://www.springframework.org/schema/beans/spring-beans.xsd\n+                           http://www.springframework.org/schema/context\n+                           http://www.springframework.org/schema/context/spring-context.xsd\">\n+\n+  <bean class=\"org.apache.syncope.core.misc.AuditManager\"/>\n+\n+  <context:component-scan base-package=\"org.apache.syncope.core.misc.utils\"/>  \n+\n+</beans>\n\\ No newline at end of file"},{"sha":"2019e8ec45a75af215455e3b33443e4a39c58d60","filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/entity/ConnInstance.java","status":"modified","additions":19,"deletions":22,"changes":41,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FConnInstance.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FConnInstance.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FConnInstance.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -26,47 +26,44 @@\n \n public interface ConnInstance extends Entity<Long> {\n \n-    boolean addCapability(ConnectorCapability capabitily);\n-\n-    boolean addResource(ExternalResource resource);\n-\n-    String getBundleName();\n-\n-    Set<ConnectorCapability> getCapabilities();\n-\n-    Set<ConnConfProperty> getConfiguration();\n-\n-    Integer getConnRequestTimeout();\n+    void setConnectorName(String connectorName);\n \n     String getConnectorName();\n \n+    void setDisplayName(String displayName);\n+\n     String getDisplayName();\n \n+    void setLocation(String location);\n+\n     String getLocation();\n \n+    void setPoolConf(ConnPoolConf poolConf);\n+\n     ConnPoolConf getPoolConf();\n \n-    List<? extends ExternalResource> getResources();\n+    void setVersion(String version);\n \n     String getVersion();\n \n-    boolean removeCapability(ConnectorCapability capabitily);\n+    void setBundleName(String bundleName);\n \n-    boolean removeResource(ExternalResource resource);\n+    String getBundleName();\n \n-    void setBundleName(String bundleName);\n+    Set<ConnectorCapability> getCapabilities();\n \n-    void setConfiguration(Set<ConnConfProperty> configuration);\n+    boolean add(ExternalResource resource);\n \n-    void setConnRequestTimeout(Integer timeout);\n+    boolean remove(ExternalResource resource);\n \n-    void setConnectorName(String connectorName);\n+    List<? extends ExternalResource> getResources();\n \n-    void setDisplayName(String displayName);\n+    void setConf(Set<ConnConfProperty> conf);\n \n-    void setLocation(String location);\n+    Set<ConnConfProperty> getConf();\n \n-    void setPoolConf(ConnPoolConf poolConf);\n+    void setConnRequestTimeout(Integer timeout);\n+\n+    Integer getConnRequestTimeout();\n \n-    void setVersion(String version);\n }"},{"sha":"968b7794c18b88e50c889f303ad83de36f5b4cc5","filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/entity/resource/ExternalResource.java","status":"modified","additions":9,"deletions":6,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2Fresource%2FExternalResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2Fresource%2FExternalResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2Fresource%2FExternalResource.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -21,6 +21,7 @@\n import java.util.List;\n import java.util.Set;\n import org.apache.syncope.common.lib.types.ConnConfProperty;\n+import org.apache.syncope.common.lib.types.ConnectorCapability;\n import org.apache.syncope.common.lib.types.TraceLevel;\n import org.apache.syncope.core.persistence.api.entity.policy.AccountPolicy;\n import org.apache.syncope.core.persistence.api.entity.AnnotatedEntity;\n@@ -38,9 +39,15 @@ public interface ExternalResource extends AnnotatedEntity<String> {\n \n     void setConnector(ConnInstance connector);\n \n-    Set<ConnConfProperty> getConnInstanceConfiguration();\n+    Set<ConnConfProperty> getConfOverride();\n \n-    void setConnInstanceConfiguration(Set<ConnConfProperty> properties);\n+    void setConfOverride(Set<ConnConfProperty> confOverride);\n+\n+    boolean isOverrideCapabilities();\n+\n+    void setOverrideCapabilities(boolean overrideCapabilities);\n+\n+    Set<ConnectorCapability> getCapabilitiesOverride();\n \n     AccountPolicy getAccountPolicy();\n \n@@ -80,10 +87,6 @@ public interface ExternalResource extends AnnotatedEntity<String> {\n \n     void setEnforceMandatoryCondition(boolean enforce);\n \n-    boolean isPropagationPrimary();\n-\n-    void setPropagationPrimary(boolean condition);\n-\n     boolean isRandomPwdIfNotProvided();\n \n     void setRandomPwdIfNotProvided(boolean condition);"},{"sha":"842cf860a7c479685791433812a1eefee4c264d8","filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/entity/task/PropagationTask.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2Ftask%2FPropagationTask.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2Ftask%2FPropagationTask.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2Ftask%2FPropagationTask.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -34,6 +34,8 @@ public interface PropagationTask extends Task {\n \n     void setOldConnObjectKey(String oldConnObjectKey);\n \n+    String getSerializedAttributes();\n+\n     Set<Attribute> getAttributes();\n \n     void setAttributes(Set<Attribute> attributes);"},{"sha":"9cf2b3231b9bc3622474d7a9ffc098a2b5dac16c","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/content/ContentLoaderHandler.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fcontent%2FContentLoaderHandler.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fcontent%2FContentLoaderHandler.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fcontent%2FContentLoaderHandler.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -27,7 +27,7 @@\n import javax.sql.DataSource;\n import org.apache.commons.codec.DecoderException;\n import org.apache.commons.codec.binary.Hex;\n-import org.apache.syncope.core.misc.FormatUtils;\n+import org.apache.syncope.core.misc.utils.FormatUtils;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.dao.DataAccessException;"},{"sha":"3c8b0ad084e47b5e46302a485f691b8359c2bc1b","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/content/XMLContentExporter.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fcontent%2FXMLContentExporter.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fcontent%2FXMLContentExporter.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fcontent%2FXMLContentExporter.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -50,7 +50,7 @@\n import org.apache.commons.io.IOUtils;\n import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.common.lib.SyncopeConstants;\n-import org.apache.syncope.core.misc.FormatUtils;\n+import org.apache.syncope.core.misc.utils.FormatUtils;\n import org.apache.syncope.core.misc.spring.ApplicationContextProvider;\n import org.apache.syncope.core.persistence.api.content.ContentExporter;\n import org.apache.syncope.core.persistence.jpa.entity.JPAReportExec;"},{"sha":"f02b4baef5e32d7755b00cc3b7f10de1eea3eaa7","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/dao/JPAAnySearchDAO.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAAnySearchDAO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAAnySearchDAO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAAnySearchDAO.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -39,7 +39,7 @@\n import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.common.lib.types.AnyTypeKind;\n import org.apache.syncope.common.lib.types.AttrSchemaType;\n-import org.apache.syncope.core.misc.RealmUtils;\n+import org.apache.syncope.core.misc.utils.RealmUtils;\n import org.apache.syncope.core.persistence.api.dao.AnyObjectDAO;\n import org.apache.syncope.core.persistence.api.dao.PlainSchemaDAO;\n import org.apache.syncope.core.persistence.api.dao.GroupDAO;"},{"sha":"86e62755bacd7a435d9452c28c603d7ea2a6cb9d","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/dao/JPAGroupDAO.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAGroupDAO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAGroupDAO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAGroupDAO.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -38,7 +38,7 @@\n import org.apache.syncope.core.persistence.api.entity.user.User;\n import org.apache.syncope.core.persistence.jpa.entity.group.JPAGroup;\n import org.apache.syncope.common.lib.types.PropagationByResource;\n-import org.apache.syncope.core.misc.RealmUtils;\n+import org.apache.syncope.core.misc.utils.RealmUtils;\n import org.apache.syncope.core.misc.search.SearchCondConverter;\n import org.apache.syncope.core.misc.security.AuthContextUtils;\n import org.apache.syncope.core.misc.security.DelegatedAdministrationException;"},{"sha":"754da9f54106bfca1d5fc945cfba0f11ecdd27bb","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/entity/AbstractPlainAttrValue.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FAbstractPlainAttrValue.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FAbstractPlainAttrValue.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FAbstractPlainAttrValue.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -32,7 +32,7 @@\n import org.apache.commons.lang3.builder.ReflectionToStringBuilder;\n import org.apache.commons.lang3.builder.ToStringStyle;\n import org.apache.syncope.common.lib.types.AttrSchemaType;\n-import org.apache.syncope.core.misc.FormatUtils;\n+import org.apache.syncope.core.misc.utils.FormatUtils;\n import org.apache.syncope.core.persistence.api.attrvalue.validation.InvalidPlainAttrValueException;\n import org.apache.syncope.core.persistence.api.attrvalue.validation.ParsingValidationException;\n import org.apache.syncope.core.persistence.api.entity.PlainAttrValue;"},{"sha":"e31aaaa940de48a6cc67b24fa152e5ecd2e35a81","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/entity/JPAConnInstance.java","status":"modified","additions":8,"deletions":25,"changes":33,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAConnInstance.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAConnInstance.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAConnInstance.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -99,8 +99,8 @@ public class JPAConnInstance extends AbstractEntity<Long> implements ConnInstanc\n     @Column(name = \"capability\")\n     @CollectionTable(name = \"ConnInstance_capabilities\",\n             joinColumns =\n-            @JoinColumn(name = \"ConnInstance_id\", referencedColumnName = \"id\"))\n-    private Set<ConnectorCapability> capabilities;\n+            @JoinColumn(name = \"connInstance_id\", referencedColumnName = \"id\"))\n+    private Set<ConnectorCapability> capabilities = new HashSet<>();\n \n     /**\n      * The main configuration for the connector instance. This is directly implemented by the Configuration bean class\n@@ -118,7 +118,7 @@ public class JPAConnInstance extends AbstractEntity<Long> implements ConnInstanc\n      * External resources associated to the connector.\n      */\n     @OneToMany(cascade = { CascadeType.ALL }, mappedBy = \"connector\")\n-    private List<JPAExternalResource> resources;\n+    private List<JPAExternalResource> resources = new ArrayList<>();\n \n     /**\n      * Connector request timeout. It is not applied in case of sync, full reconciliation and search.\n@@ -128,13 +128,6 @@ public class JPAConnInstance extends AbstractEntity<Long> implements ConnInstanc\n \n     private JPAConnPoolConf poolConf;\n \n-    public JPAConnInstance() {\n-        super();\n-\n-        capabilities = new HashSet<>();\n-        resources = new ArrayList<>();\n-    }\n-\n     @Override\n     public Long getKey() {\n         return id;\n@@ -181,7 +174,7 @@ public void setVersion(final String version) {\n     }\n \n     @Override\n-    public Set<ConnConfProperty> getConfiguration() {\n+    public Set<ConnConfProperty> getConf() {\n         Set<ConnConfProperty> configuration = new HashSet<>();\n         if (!StringUtils.isBlank(jsonConf)) {\n             CollectionUtils.addAll(configuration, POJOHelper.deserialize(jsonConf, ConnConfProperty[].class));\n@@ -191,8 +184,8 @@ public Set<ConnConfProperty> getConfiguration() {\n     }\n \n     @Override\n-    public void setConfiguration(final Set<ConnConfProperty> configuration) {\n-        jsonConf = POJOHelper.serialize(new HashSet<>(configuration));\n+    public void setConf(final Set<ConnConfProperty> conf) {\n+        jsonConf = POJOHelper.serialize(new HashSet<>(conf));\n     }\n \n     @Override\n@@ -211,28 +204,18 @@ public List<? extends ExternalResource> getResources() {\n     }\n \n     @Override\n-    public boolean addResource(final ExternalResource resource) {\n+    public boolean add(final ExternalResource resource) {\n         checkType(resource, JPAExternalResource.class);\n         return this.resources.contains((JPAExternalResource) resource)\n                 || this.resources.add((JPAExternalResource) resource);\n     }\n \n     @Override\n-    public boolean removeResource(final ExternalResource resource) {\n+    public boolean remove(final ExternalResource resource) {\n         checkType(resource, JPAExternalResource.class);\n         return this.resources.remove((JPAExternalResource) resource);\n     }\n \n-    @Override\n-    public boolean addCapability(final ConnectorCapability capabitily) {\n-        return capabilities.add(capabitily);\n-    }\n-\n-    @Override\n-    public boolean removeCapability(final ConnectorCapability capabitily) {\n-        return capabilities.remove(capabitily);\n-    }\n-\n     @Override\n     public Set<ConnectorCapability> getCapabilities() {\n         return capabilities;"},{"sha":"0653cf34d4068bccc4aa36a012b14f1fe379f189","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/entity/resource/JPAExternalResource.java","status":"modified","additions":37,"deletions":30,"changes":67,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Fresource%2FJPAExternalResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Fresource%2FJPAExternalResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Fresource%2FJPAExternalResource.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -44,6 +44,7 @@\n import org.apache.commons.collections4.Predicate;\n import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.common.lib.types.ConnConfProperty;\n+import org.apache.syncope.common.lib.types.ConnectorCapability;\n import org.apache.syncope.common.lib.types.TraceLevel;\n import org.apache.syncope.core.persistence.api.entity.policy.AccountPolicy;\n import org.apache.syncope.core.persistence.api.entity.ConnInstance;\n@@ -98,19 +99,9 @@ public class JPAExternalResource extends AbstractAnnotatedEntity<String> impleme\n     @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER, mappedBy = \"resource\")\n     private List<JPAProvision> provisions = new ArrayList<>();\n \n-    /**\n-     * Is this resource primary, for propagations?\n-     */\n-    @NotNull\n-    @Basic\n-    @Min(0)\n-    @Max(1)\n-    private Integer propagationPrimary;\n-\n     /**\n      * Priority index for propagation ordering.\n      */\n-    @NotNull\n     private Integer propagationPriority;\n \n     /**\n@@ -153,6 +144,20 @@ public class JPAExternalResource extends AbstractAnnotatedEntity<String> impleme\n     @Lob\n     private String jsonConf;\n \n+    @NotNull\n+    @Basic\n+    @Min(0)\n+    @Max(1)\n+    private Integer overrideCapabilities;\n+\n+    @ElementCollection(fetch = FetchType.EAGER)\n+    @Enumerated(EnumType.STRING)\n+    @Column(name = \"capabilityOverride\")\n+    @CollectionTable(name = \"ExternalResource_capabilitiesOverride\",\n+            joinColumns =\n+            @JoinColumn(name = \"resource_name\", referencedColumnName = \"name\"))\n+    private Set<ConnectorCapability> capabilitiesOverride = new HashSet<>();\n+\n     /**\n      * (Optional) classes for PropagationAction.\n      */\n@@ -163,16 +168,13 @@ public class JPAExternalResource extends AbstractAnnotatedEntity<String> impleme\n             @JoinColumn(name = \"resource_name\", referencedColumnName = \"name\"))\n     private List<String> propagationActionsClassNames = new ArrayList<>();\n \n-    /**\n-     * Default constructor.\n-     */\n     public JPAExternalResource() {\n         super();\n \n         enforceMandatoryCondition = getBooleanAsInteger(false);\n-        propagationPrimary = 0;\n         propagationPriority = 0;\n         randomPwdIfNotProvided = 0;\n+        overrideCapabilities = 0;\n \n         createTraceLevel = TraceLevel.FAILURES;\n         updateTraceLevel = TraceLevel.FAILURES;\n@@ -240,16 +242,6 @@ public List<? extends Provision> getProvisions() {\n         return provisions;\n     }\n \n-    @Override\n-    public boolean isPropagationPrimary() {\n-        return isBooleanAsInteger(propagationPrimary);\n-    }\n-\n-    @Override\n-    public void setPropagationPrimary(final boolean propagationPrimary) {\n-        this.propagationPrimary = getBooleanAsInteger(propagationPrimary);\n-    }\n-\n     @Override\n     public Integer getPropagationPriority() {\n         return propagationPriority;\n@@ -357,18 +349,33 @@ public void setSyncPolicy(final SyncPolicy syncPolicy) {\n     }\n \n     @Override\n-    public Set<ConnConfProperty> getConnInstanceConfiguration() {\n-        Set<ConnConfProperty> configuration = new HashSet<>();\n+    public Set<ConnConfProperty> getConfOverride() {\n+        Set<ConnConfProperty> confOverride = new HashSet<>();\n         if (!StringUtils.isBlank(jsonConf)) {\n-            CollectionUtils.addAll(configuration, POJOHelper.deserialize(jsonConf, ConnConfProperty[].class));\n+            CollectionUtils.addAll(confOverride, POJOHelper.deserialize(jsonConf, ConnConfProperty[].class));\n         }\n \n-        return configuration;\n+        return confOverride;\n+    }\n+\n+    @Override\n+    public void setConfOverride(final Set<ConnConfProperty> confOverride) {\n+        jsonConf = POJOHelper.serialize(new HashSet<>(confOverride));\n+    }\n+\n+    @Override\n+    public boolean isOverrideCapabilities() {\n+        return isBooleanAsInteger(overrideCapabilities);\n+    }\n+\n+    @Override\n+    public void setOverrideCapabilities(final boolean overrideCapabilities) {\n+        this.overrideCapabilities = getBooleanAsInteger(overrideCapabilities);\n     }\n \n     @Override\n-    public void setConnInstanceConfiguration(final Set<ConnConfProperty> properties) {\n-        jsonConf = POJOHelper.serialize(new HashSet<>(properties));\n+    public Set<ConnectorCapability> getCapabilitiesOverride() {\n+        return capabilitiesOverride;\n     }\n \n     @Override"},{"sha":"94c7d8d988c72d1ab8be9ddcca97c46bdefeb0aa","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/entity/task/JPAPropagationTask.java","status":"modified","additions":11,"deletions":6,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Ftask%2FJPAPropagationTask.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Ftask%2FJPAPropagationTask.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Ftask%2FJPAPropagationTask.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -68,7 +68,7 @@ public class JPAPropagationTask extends AbstractTask implements PropagationTask\n      * Attributes to be propagated.\n      */\n     @Lob\n-    private String xmlAttributes;\n+    private String attributes;\n \n     private String objectClassName;\n \n@@ -110,19 +110,24 @@ public void setOldConnObjectKey(final String oldConnObjectKey) {\n         this.oldConnObjectKey = oldConnObjectKey;\n     }\n \n+    @Override\n+    public String getSerializedAttributes() {\n+        return this.attributes;\n+    }\n+\n     @Override\n     public Set<Attribute> getAttributes() {\n-        Set<Attribute> attributes = new HashSet<>();\n-        if (!StringUtils.isBlank(xmlAttributes)) {\n-            CollectionUtils.addAll(attributes, POJOHelper.deserialize(xmlAttributes, Attribute[].class));\n+        Set<Attribute> result = new HashSet<>();\n+        if (StringUtils.isNotBlank(this.attributes)) {\n+            CollectionUtils.addAll(result, POJOHelper.deserialize(this.attributes, Attribute[].class));\n         }\n \n-        return attributes;\n+        return result;\n     }\n \n     @Override\n     public void setAttributes(final Set<Attribute> attributes) {\n-        xmlAttributes = POJOHelper.serialize(attributes);\n+        this.attributes = POJOHelper.serialize(attributes);\n     }\n \n     @Override"},{"sha":"f0b892bb71eeb939ded05fd522b2c67c81315aa0","filename":"core/persistence-jpa/src/test/java/org/apache/syncope/core/persistence/jpa/DummyConnectorRegistry.java","status":"modified","additions":1,"deletions":12,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2FDummyConnectorRegistry.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2FDummyConnectorRegistry.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2FDummyConnectorRegistry.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,10 +18,7 @@\n  */\n package org.apache.syncope.core.persistence.jpa;\n \n-import java.util.Set;\n-import org.apache.syncope.common.lib.types.ConnConfProperty;\n import org.apache.syncope.core.persistence.api.dao.NotFoundException;\n-import org.apache.syncope.core.persistence.api.entity.ConnInstance;\n import org.apache.syncope.core.persistence.api.entity.resource.ExternalResource;\n import org.apache.syncope.core.provisioning.api.ConnectorRegistry;\n import org.springframework.stereotype.Component;\n@@ -30,15 +27,7 @@\n public class DummyConnectorRegistry implements ConnectorRegistry {\n \n     @Override\n-    public ConnInstance getOverriddenConnInstance(\n-            final ConnInstance connInstance, final Set<ConnConfProperty> overridden) {\n-\n-        return connInstance;\n-    }\n-\n-    @Override\n-    public void registerConnector(final ExternalResource resource)\n-            throws NotFoundException {\n+    public void registerConnector(final ExternalResource resource) throws NotFoundException {\n     }\n \n     @Override"},{"sha":"6033bd413c4d87477cdd24a5491b7b7069b5fbd4","filename":"core/persistence-jpa/src/test/java/org/apache/syncope/core/persistence/jpa/inner/ConnInstanceTest.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FConnInstanceTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FConnInstanceTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FConnInstanceTest.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -104,8 +104,8 @@ public void save() throws ClassNotFoundException {\n         conf.add(servicename);\n \n         // set connector configuration\n-        connInstance.setConfiguration(conf);\n-        assertFalse(connInstance.getConfiguration().isEmpty());\n+        connInstance.setConf(conf);\n+        assertFalse(connInstance.getConf().isEmpty());\n \n         // perform save operation\n         ConnInstance actual = connInstanceDAO.save(connInstance);\n@@ -125,7 +125,7 @@ public void save() throws ClassNotFoundException {\n \n         assertEquals(60, actual.getConnRequestTimeout(), 0);\n \n-        conf = connInstance.getConfiguration();\n+        conf = connInstance.getConf();\n         assertFalse(conf.isEmpty());\n \n         assertNotNull(\"configuration retrieving failed\", conf);"},{"sha":"be37d88d43e6600f74c64978adf341d94a8948ff","filename":"core/persistence-jpa/src/test/java/org/apache/syncope/core/persistence/jpa/inner/ResourceTest.java","status":"modified","additions":0,"deletions":3,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FResourceTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FResourceTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FResourceTest.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -105,7 +105,6 @@ public void save() {\n         ExternalResource resource = entityFactory.newEntity(ExternalResource.class);\n         resource.setKey(\"ws-target-resource-basic-save\");\n         resource.setPropagationPriority(2);\n-        resource.setPropagationPrimary(true);\n \n         Provision provision = entityFactory.newEntity(Provision.class);\n         provision.setAnyType(anyTypeDAO.findUser());\n@@ -135,7 +134,6 @@ public void save() {\n         assertNotNull(actual.getProvision(anyTypeDAO.findUser()).getMapping());\n         assertFalse(actual.getProvision(anyTypeDAO.findUser()).getMapping().getItems().isEmpty());\n         assertEquals(Integer.valueOf(2), actual.getPropagationPriority());\n-        assertTrue(actual.isPropagationPrimary());\n     }\n \n     @Test(expected = InvalidEntityException.class)\n@@ -264,7 +262,6 @@ public void saveVirtualMapping() {\n         ExternalResource resource = entityFactory.newEntity(ExternalResource.class);\n         resource.setKey(\"ws-target-resource-virtual-mapping\");\n         resource.setPropagationPriority(2);\n-        resource.setPropagationPrimary(true);\n \n         Provision provision = entityFactory.newEntity(Provision.class);\n         provision.setAnyType(anyTypeDAO.findUser());"},{"sha":"f557e8c993644ea62deae8c1283194abbaac9e6a","filename":"core/persistence-jpa/src/test/java/org/apache/syncope/core/persistence/jpa/outer/ConnInstanceTest.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fouter%2FConnInstanceTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fouter%2FConnInstanceTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fouter%2FConnInstanceTest.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -85,7 +85,7 @@ public void issue176() {\n                 || \"ws-target-resource-nopropagation\".equalsIgnoreCase(resources.get(2).getKey())\n                 || \"ws-target-resource-nopropagation\".equalsIgnoreCase(resources.get(3).getKey()));\n \n-        connInstance.addCapability(ConnectorCapability.SEARCH);\n+        connInstance.getCapabilities().add(ConnectorCapability.SEARCH);\n \n         connInstance = connInstanceDAO.save(connInstance);\n         assertNotNull(connInstance);"},{"sha":"20baa6b790d901db295df08ba87d6b9c84e49faa","filename":"core/persistence-jpa/src/test/resources/domains/MasterContent.xml","status":"modified","additions":53,"deletions":49,"changes":102,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -580,110 +580,114 @@ under the License.\n   <ConnInstance_capabilities ConnInstance_id=\"108\" capability=\"SYNC\"/>\n   \n   <ExternalResource name=\"ws-target-resource-1\" connector_id=\"100\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"0\"\n-                    propagationPriority=\"0\" propagationPrimary=\"1\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n-                    creator=\"admin\" lastModifier=\"admin\" \n+                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n+                    propagationPriority=\"1\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n+                    creator=\"admin\" lastModifier=\"admin\"\n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n   <ExternalResource name=\"ws-target-resource-2\" connector_id=\"100\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\"\n-                    propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"FAILURES\" deleteTraceLevel=\"NONE\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n+                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    createTraceLevel=\"FAILURES\" deleteTraceLevel=\"NONE\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n                     syncPolicy_id=\"9\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n   <ExternalResource name=\"ws-target-resource-timeout\" connector_id=\"102\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\"\n-                    propagationPriority=\"0\" propagationPrimary=\"1\" createTraceLevel=\"FAILURES\" deleteTraceLevel=\"NONE\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n+                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    propagationPriority=\"1\" createTraceLevel=\"FAILURES\" deleteTraceLevel=\"NONE\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n                     jsonConf='[{\"schema\":{\"name\":\"endpoint\",\"displayName\":null,\"helpMessage\":null,\"type\":\"java.lang.String\",\"required\":true,\"order\":0,\"confidential\":false,\"defaultValues\":null},\"overridable\":true,\"values\":[\"http://localhost:${cargo.servlet.port}/syncope-fit-build-tools/services/provisioning\"]}]'\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n   <ExternalResource name=\"ws-target-resource-list-mappings-1\" connector_id=\"100\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"0\"\n-                    propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n+                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n   <ExternalResource name=\"ws-target-resource-list-mappings-2\" connector_id=\"100\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\"\n-                    propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n+                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n   <ExternalResource name=\"ws-target-resource-delete\" connector_id=\"102\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"0\"\n-                    propagationPriority=\"2\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n+                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n+                    propagationPriority=\"2\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n   <ExternalResource name=\"ws-target-resource-update\" connector_id=\"100\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\"\n-                    propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n+                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n   <ExternalResource name=\"resource-testdb\" connector_id=\"101\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\"\n-                    propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n+                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n   <ExternalResource name=\"resource-testdb2\" connector_id=\"106\"\n-                    randomPwdIfNotProvided=\"1\" enforceMandatoryCondition=\"1\"\n-                    propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n+                    randomPwdIfNotProvided=\"1\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n   <ExternalResource name=\"resource-csv\" connector_id=\"104\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"0\" syncPolicy_id=\"3\"\n-                    propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n+                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"0\" overrideCapabilities=\"0\"\n+                    syncPolicy_id=\"3\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n   <ExternalResource name=\"ws-target-resource-update-resetsynctoken\" connector_id=\"100\" enforceMandatoryCondition=\"1\"\n-                    randomPwdIfNotProvided=\"0\" propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n+                    randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n   <ExternalResource name=\"resource-ldap\" connector_id=\"105\"\n-                    randomPwdIfNotProvided=\"1\" enforceMandatoryCondition=\"1\"\n-                    propagationPriority=\"0\" propagationPrimary=\"1\"\n+                    randomPwdIfNotProvided=\"1\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    propagationPriority=\"1\"\n                     createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n   <ExternalResource_PropActions resource_name=\"resource-ldap\"\n                                 actionClassName=\"org.apache.syncope.core.provisioning.java.propagation.LDAPMembershipPropagationActions\"/>\n   <ExternalResource name=\"ws-target-resource-nopropagation\" connector_id=\"103\"\n-                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\"\n-                    propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\" \n+                    randomPwdIfNotProvided=\"0\" enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\" \n                     passwordPolicy_id=\"4\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n   \n-  <!-- The following three resources has been added to verify the issue SYNCOPE-68 -->\n-  <ExternalResource name=\"ws-target-resource-nopropagation2\" connector_id=\"103\" enforceMandatoryCondition=\"1\"\n-                    randomPwdIfNotProvided=\"0\" propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n+  <!-- The following three resources have been added to verify the issue SYNCOPE-68 -->\n+  <ExternalResource name=\"ws-target-resource-nopropagation2\" connector_id=\"103\" \n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n-  <ExternalResource name=\"ws-target-resource-nopropagation3\" connector_id=\"103\" enforceMandatoryCondition=\"1\"\n-                    randomPwdIfNotProvided=\"0\" propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n+  <ExternalResource name=\"ws-target-resource-nopropagation3\" connector_id=\"103\" \n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n-  <ExternalResource name=\"ws-target-resource-nopropagation4\" connector_id=\"103\" enforceMandatoryCondition=\"1\"\n-                    randomPwdIfNotProvided=\"0\" propagationPriority=\"0\" propagationPrimary=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n+  <ExternalResource name=\"ws-target-resource-nopropagation4\" connector_id=\"103\" \n+                    enforceMandatoryCondition=\"1\" overrideCapabilities=\"0\"\n+                    randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" updateTraceLevel=\"ALL\" syncTraceLevel=\"ALL\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n                     \n   <!-- External resource for issue SYNCOPE-230 -->\n   <ExternalResource name=\"resource-db-sync\" connector_id=\"107\"\n                     randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" syncTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"\n                     enforceMandatoryCondition=\"0\" \n-                    propagationPrimary=\"0\" propagationPriority=\"0\"\n+                    overrideCapabilities=\"0\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n                     \n   <!-- External resource for issue SYNCOPE-267 -->\n   <ExternalResource name=\"resource-db-virattr\" connector_id=\"107\"\n                     randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" syncTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"\n                     enforceMandatoryCondition=\"0\" \n-                    propagationPrimary=\"0\" propagationPriority=\"0\"\n+                    overrideCapabilities=\"0\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n \n   <ExternalResource name=\"resource-db-scripted\" connector_id=\"108\"\n                     randomPwdIfNotProvided=\"0\" createTraceLevel=\"ALL\" deleteTraceLevel=\"ALL\" syncTraceLevel=\"ALL\" updateTraceLevel=\"ALL\"\n                     enforceMandatoryCondition=\"0\"\n-                    propagationPrimary=\"0\" propagationPriority=\"0\"\n+                    overrideCapabilities=\"0\"\n                     creator=\"admin\" lastModifier=\"admin\" \n                     creationDate=\"2010-10-20 11:00:00\" lastChangeDate=\"2010-10-20 11:00:00\"/>\n \n@@ -964,34 +968,34 @@ under the License.\n     \n   <Task DTYPE=\"PropagationTask\" type=\"PROPAGATION\" id=\"1\" operation=\"UPDATE\"\n         objectClassName=\"__ACCOUNT__\" resource_name=\"ws-target-resource-2\" anyTypeKind=\"USER\" anyKey=\"1\"\n-        xmlAttributes='[{\"name\":\"__PASSWORD__\",\"value\":[{\"readOnly\":false,\"disposed\":false,\"encryptedBytes\":\"m9nh2US0Sa6m+cXccCq0Xw==\",\"base64SHA1Hash\":\"GFJ69qfjxEOdrmt+9q+0Cw2uz60=\"}]},{\"name\":\"__NAME__\",\"value\":[\"userId\"],\"nameValue\":\"userId\"},{\"name\":\"fullname\",\"value\":[\"fullname\"]},{\"name\":\"type\",\"value\":[\"type\"]}]'/>\n+        attributes='[{\"name\":\"__PASSWORD__\",\"value\":[{\"readOnly\":false,\"disposed\":false,\"encryptedBytes\":\"m9nh2US0Sa6m+cXccCq0Xw==\",\"base64SHA1Hash\":\"GFJ69qfjxEOdrmt+9q+0Cw2uz60=\"}]},{\"name\":\"__NAME__\",\"value\":[\"userId\"],\"nameValue\":\"userId\"},{\"name\":\"fullname\",\"value\":[\"fullname\"]},{\"name\":\"type\",\"value\":[\"type\"]}]'/>\n   <TaskExec id=\"1\" task_id=\"1\" status=\"SUCCESS\"/>\n   <Task DTYPE=\"PropagationTask\" type=\"PROPAGATION\" id=\"2\" operation=\"CREATE\"\n         objectClassName=\"__ACCOUNT__\" resource_name=\"ws-target-resource-2\" anyTypeKind=\"USER\" anyKey=\"1\"\n-        xmlAttributes='[{\"name\":\"__PASSWORD__\",\"value\":[{\"readOnly\":false,\"disposed\":false,\"encryptedBytes\":\"m9nh2US0Sa6m+cXccCq0Xw==\",\"base64SHA1Hash\":\"GFJ69qfjxEOdrmt+9q+0Cw2uz60=\"}]},{\"name\":\"__NAME__\",\"value\":[\"userId\"],\"nameValue\":\"userId\"},{\"name\":\"fullname\",\"value\":[\"fullname\"]},{\"name\":\"type\",\"value\":[\"type\"]}]'/>\n+        attributes='[{\"name\":\"__PASSWORD__\",\"value\":[{\"readOnly\":false,\"disposed\":false,\"encryptedBytes\":\"m9nh2US0Sa6m+cXccCq0Xw==\",\"base64SHA1Hash\":\"GFJ69qfjxEOdrmt+9q+0Cw2uz60=\"}]},{\"name\":\"__NAME__\",\"value\":[\"userId\"],\"nameValue\":\"userId\"},{\"name\":\"fullname\",\"value\":[\"fullname\"]},{\"name\":\"type\",\"value\":[\"type\"]}]'/>\n   <Task DTYPE=\"PropagationTask\" type=\"PROPAGATION\" id=\"3\" operation=\"DELETE\"\n         objectClassName=\"__ACCOUNT__\" resource_name=\"ws-target-resource-2\" anyTypeKind=\"USER\" anyKey=\"1\"\n-        xmlAttributes='[{\"name\":\"__PASSWORD__\",\"value\":[{\"readOnly\":false,\"disposed\":false,\"encryptedBytes\":\"m9nh2US0Sa6m+cXccCq0Xw==\",\"base64SHA1Hash\":\"GFJ69qfjxEOdrmt+9q+0Cw2uz60=\"}]},{\"name\":\"__NAME__\",\"value\":[\"userId\"],\"nameValue\":\"userId\"},{\"name\":\"type\",\"value\":[\"type\"]}]'/>\n+        attributes='[{\"name\":\"__PASSWORD__\",\"value\":[{\"readOnly\":false,\"disposed\":false,\"encryptedBytes\":\"m9nh2US0Sa6m+cXccCq0Xw==\",\"base64SHA1Hash\":\"GFJ69qfjxEOdrmt+9q+0Cw2uz60=\"}]},{\"name\":\"__NAME__\",\"value\":[\"userId\"],\"nameValue\":\"userId\"},{\"name\":\"type\",\"value\":[\"type\"]}]'/>\n   <Task DTYPE=\"SyncTask\" type=\"SYNCHRONIZATION\" id=\"4\" name=\"CSV (update matching; assign unmatching)\" resource_name=\"resource-csv\"\n         destinationRealm_id=\"1\" performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\" fullReconciliation=\"0\"\n         unmatchingRule=\"ASSIGN\" matchingRule=\"UPDATE\"/>\n   <AnyTemplateSyncTask id=\"41\" syncTask_id=\"4\" anyType_name=\"USER\"\n-                       template='{\"@class\":\"org.apache.syncope.common.lib.to.UserTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":0,\"type\":\"USER\",\"realm\":null,\"status\":null,\"password\":null,\"token\":null,\"tokenExpireTime\":null,\"username\":null,\"lastLoginDate\":null,\"changePwdDate\":null,\"failedLogins\":null,\"securityQuestion\":null,\"securityAnswer\":null,\"auxClasses\":[\"csv\"],\"derAttrs\":[{\"schema\":\"cn\",\"readonly\":false,\"values\":[\"\"]}],\"virAttrs\":[],\"resources\":[\"resource-testdb\"],\"propagationStatuses\":[],\"relationships\":[],\"memberships\":[{\"leftType\":null,\"leftKey\":0,\"rightType\":\"GROUP\",\"rightKey\":8,\"groupName\":null}],\"dynGroups\":[],\"roles\":[],\"dynRoles\":[],\"plainAttrs\":[{\"schema\":\"type\",\"readonly\":false,\"values\":[\"email == &apos;test8@syncope.apache.org&apos;? &apos;TYPE_8&apos;: &apos;TYPE_OTHER&apos;\"]}]}'/>\n+                       template='{\"@class\":\"org.apache.syncope.common.lib.to.UserTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":0,\"type\":\"USER\",\"realm\":null,\"status\":null,\"password\":null,\"token\":null,\"tokenExpireTime\":null,\"username\":null,\"lastLoginDate\":null,\"changePwdDate\":null,\"failedLogins\":null,\"securityQuestion\":null,\"securityAnswer\":null,\"auxClasses\":[\"csv\"],\"derAttrs\":[{\"schema\":\"cn\",\"readonly\":false,\"values\":[\"\"]}],\"virAttrs\":[],\"resources\":[\"resource-testdb\"],\"relationships\":[],\"memberships\":[{\"leftType\":null,\"leftKey\":0,\"rightType\":\"GROUP\",\"rightKey\":8,\"groupName\":null}],\"dynGroups\":[],\"roles\":[],\"dynRoles\":[],\"plainAttrs\":[{\"schema\":\"type\",\"readonly\":false,\"values\":[\"email == &apos;test8@syncope.apache.org&apos;? &apos;TYPE_8&apos;: &apos;TYPE_OTHER&apos;\"]}]}'/>\n   <AnyTemplateSyncTask id=\"42\" syncTask_id=\"4\" anyType_name=\"GROUP\"\n-                       template='{\"@class\":\"org.apache.syncope.common.lib.to.GroupTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":0,\"type\":\"GROUP\",\"realm\":null,\"status\":null,\"name\":null,\"userOwner\":null,\"groupOwner\":null,\"adynMembershipCond\":null,\"udynMembershipCond\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[],\"propagationStatuses\":[],\"plainAttrs\":[]}'/>\n+                       template='{\"@class\":\"org.apache.syncope.common.lib.to.GroupTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":0,\"type\":\"GROUP\",\"realm\":null,\"status\":null,\"name\":null,\"userOwner\":null,\"groupOwner\":null,\"adynMembershipCond\":null,\"udynMembershipCond\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[],\"plainAttrs\":[]}'/>\n   <Task DTYPE=\"SchedTask\" type=\"SCHEDULED\" id=\"5\" name=\"SampleJob Task\" \n         jobDelegateClassName=\"org.apache.syncope.fit.core.reference.TestSampleJobDelegate\" cronExpression=\"0 0 0 1 * ?\"/>\n   <Task DTYPE=\"PropagationTask\" type=\"PROPAGATION\" id=\"6\" operation=\"UPDATE\"\n         objectClassName=\"__ACCOUNT__\" resource_name=\"ws-target-resource-nopropagation\" anyTypeKind=\"USER\" anyKey=\"1\"\n-        xmlAttributes='[{\"name\":\"__PASSWORD__\",\"value\":[{\"readOnly\":false,\"disposed\":false,\"encryptedBytes\":\"m9nh2US0Sa6m+cXccCq0Xw==\",\"base64SHA1Hash\":\"GFJ69qfjxEOdrmt+9q+0Cw2uz60=\"}]},{\"name\":\"__NAME__\",\"value\":[\"userId\"],\"nameValue\":\"userId\"},{\"name\":\"fullname\",\"value\":[\"fullname\"]},{\"name\":\"type\",\"value\":[\"type\"]}]'/>\n+        attributes='[{\"name\":\"__PASSWORD__\",\"value\":[{\"readOnly\":false,\"disposed\":false,\"encryptedBytes\":\"m9nh2US0Sa6m+cXccCq0Xw==\",\"base64SHA1Hash\":\"GFJ69qfjxEOdrmt+9q+0Cw2uz60=\"}]},{\"name\":\"__NAME__\",\"value\":[\"userId\"],\"nameValue\":\"userId\"},{\"name\":\"fullname\",\"value\":[\"fullname\"]},{\"name\":\"type\",\"value\":[\"type\"]}]'/>\n   <TaskExec id=\"6\" task_id=\"6\" status=\"SUCCESS\"/>\n   <Task DTYPE=\"SyncTask\" type=\"SYNCHRONIZATION\" id=\"7\" name=\"TestDB Task\" resource_name=\"resource-testdb\"\n         destinationRealm_id=\"1\" performCreate=\"1\" performUpdate=\"1\" performDelete=\"0\" syncStatus=\"1\" fullReconciliation=\"1\"\n         unmatchingRule=\"PROVISION\" matchingRule=\"UPDATE\"/>\n   <AnyTemplateSyncTask id=\"71\" syncTask_id=\"7\" anyType_name=\"USER\"\n-                       template='{\"@class\":\"org.apache.syncope.common.lib.to.UserTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":0,\"type\":\"USER\",\"realm\":null,\"status\":null,\"password\":null,\"token\":null,\"tokenExpireTime\":null,\"username\":null,\"lastLoginDate\":null,\"changePwdDate\":null,\"failedLogins\":null,\"securityQuestion\":null,\"securityAnswer\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[],\"propagationStatuses\":[],\"relationships\":[],\"memberships\":[],\"dynGroups\":[],\"roles\":[],\"dynRoles\":[],\"plainAttrs\":[{\"schema\":\"type\",\"readonly\":false,\"values\":[\"&apos;type a&apos;\"]},{\"schema\":\"userId\",\"readonly\":false,\"values\":[\"&apos;reconciled@syncope.apache.org&apos;\"]},{\"schema\":\"fullname\",\"readonly\":false,\"values\":[\"&apos;reconciled fullname&apos;\"]},{\"schema\":\"surname\",\"readonly\":false,\"values\":[\"&apos;surname&apos;\"]}]}'/>\n+                       template='{\"@class\":\"org.apache.syncope.common.lib.to.UserTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":0,\"type\":\"USER\",\"realm\":null,\"status\":null,\"password\":null,\"token\":null,\"tokenExpireTime\":null,\"username\":null,\"lastLoginDate\":null,\"changePwdDate\":null,\"failedLogins\":null,\"securityQuestion\":null,\"securityAnswer\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[],\"relationships\":[],\"memberships\":[],\"dynGroups\":[],\"roles\":[],\"dynRoles\":[],\"plainAttrs\":[{\"schema\":\"type\",\"readonly\":false,\"values\":[\"&apos;type a&apos;\"]},{\"schema\":\"userId\",\"readonly\":false,\"values\":[\"&apos;reconciled@syncope.apache.org&apos;\"]},{\"schema\":\"fullname\",\"readonly\":false,\"values\":[\"&apos;reconciled fullname&apos;\"]},{\"schema\":\"surname\",\"readonly\":false,\"values\":[\"&apos;surname&apos;\"]}]}'/>\n   <AnyTemplateSyncTask id=\"72\" syncTask_id=\"7\" anyType_name=\"GROUP\"\n-                       template='{\"@class\":\"org.apache.syncope.common.lib.to.GroupTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":0,\"type\":\"GROUP\",\"realm\":null,\"status\":null,\"name\":null,\"userOwner\":null,\"groupOwner\":null,\"adynMembershipCond\":null,\"udynMembershipCond\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[],\"propagationStatuses\":[],\"plainAttrs\":[]}'/>\n+                       template='{\"@class\":\"org.apache.syncope.common.lib.to.GroupTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":0,\"type\":\"GROUP\",\"realm\":null,\"status\":null,\"name\":null,\"userOwner\":null,\"groupOwner\":null,\"adynMembershipCond\":null,\"udynMembershipCond\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[],\"plainAttrs\":[]}'/>\n   <Task DTYPE=\"NotificationTask\" type=\"NOTIFICATION\" id=\"8\" sender=\"admin@prova.org\" subject=\"Notification for SYNCOPE-81\" \n         textBody=\"NOTIFICATION-81\" htmlBody=\"NOTIFICATION-81\" traceLevel=\"ALL\"/>\n   <Task DTYPE=\"SyncTask\" type=\"SYNCHRONIZATION\" id=\"9\" name=\"TestDB2 Task\" resource_name=\"resource-testdb2\"\n@@ -1004,9 +1008,9 @@ under the License.\n         destinationRealm_id=\"1\" fullReconciliation=\"1\" performCreate=\"1\" performDelete=\"1\" performUpdate=\"1\" syncStatus=\"0\"\n         unmatchingRule=\"PROVISION\" matchingRule=\"UPDATE\"/>\n   <AnyTemplateSyncTask id=\"1\" syncTask_id=\"11\" anyType_name=\"USER\"\n-                       template='{\"@class\":\"org.apache.syncope.common.lib.to.UserTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":0,\"type\":\"USER\",\"realm\":null,\"status\":null,\"password\":null,\"token\":null,\"tokenExpireTime\":null,\"username\":null,\"lastLoginDate\":null,\"changePwdDate\":null,\"failedLogins\":null,\"securityQuestion\":null,\"securityAnswer\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[{\"schema\":\"virtualReadOnly\",\"readonly\":true,\"values\":[\"\"]}],\"resources\":[\"resource-ldap\"],\"propagationStatuses\":[],\"roles\":[],\"dynRoles\":[],\"relationships\":[],\"memberships\":[],\"dynGroups\":[],\"plainAttrs\":[]}'/>\n+                       template='{\"@class\":\"org.apache.syncope.common.lib.to.UserTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":0,\"type\":\"USER\",\"realm\":null,\"status\":null,\"password\":null,\"token\":null,\"tokenExpireTime\":null,\"username\":null,\"lastLoginDate\":null,\"changePwdDate\":null,\"failedLogins\":null,\"securityQuestion\":null,\"securityAnswer\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[{\"schema\":\"virtualReadOnly\",\"readonly\":true,\"values\":[\"\"]}],\"resources\":[\"resource-ldap\"],\"roles\":[],\"dynRoles\":[],\"relationships\":[],\"memberships\":[],\"dynGroups\":[],\"plainAttrs\":[]}'/>\n   <AnyTemplateSyncTask id=\"2\" syncTask_id=\"11\" anyType_name=\"GROUP\"\n-                       template='{\"@class\":\"org.apache.syncope.common.lib.to.GroupTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":0,\"type\":\"GROUP\",\"realm\":null,\"status\":null,\"name\":null,\"userOwner\":null,\"groupOwner\":null,\"adynMembershipCond\":null,\"udynMembershipCond\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[],\"propagationStatuses\":[],\"plainAttrs\":[{\"schema\":\"show\",\"readonly\":false,\"values\":[\"true\"]}]}'/>\n+                       template='{\"@class\":\"org.apache.syncope.common.lib.to.GroupTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":0,\"type\":\"GROUP\",\"realm\":null,\"status\":null,\"name\":null,\"userOwner\":null,\"groupOwner\":null,\"adynMembershipCond\":null,\"udynMembershipCond\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[],\"plainAttrs\":[{\"schema\":\"show\",\"readonly\":false,\"values\":[\"true\"]}]}'/>\n   <SyncTask_actionsClassNames SyncTask_id=\"11\" actionClassName=\"org.apache.syncope.core.provisioning.java.sync.LDAPMembershipSyncActions\"/>\n   <Task DTYPE=\"SyncTask\" type=\"SYNCHRONIZATION\" id=\"12\" name=\"VirAttrCache test\" resource_name=\"resource-csv\"\n         destinationRealm_id=\"1\" performCreate=\"0\" performUpdate=\"1\" performDelete=\"0\" syncStatus=\"0\" fullReconciliation=\"1\"\n@@ -1071,9 +1075,9 @@ under the License.\n         destinationRealm_id=\"1\" performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\" fullReconciliation=\"0\"\n         unmatchingRule=\"PROVISION\" matchingRule=\"UPDATE\"/>\n   <AnyTemplateSyncTask id=\"3\" syncTask_id=\"24\" anyType_name=\"USER\"\n-                       template='{\"@class\":\"org.apache.syncope.common.lib.to.UserTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":0,\"type\":\"USER\",\"realm\":null,\"status\":null,\"password\":null,\"token\":null,\"tokenExpireTime\":null,\"username\":null,\"lastLoginDate\":null,\"changePwdDate\":null,\"failedLogins\":null,\"securityQuestion\":null,\"securityAnswer\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[\"resource-testdb\"],\"propagationStatuses\":[],\"roles\":[],\"dynRoles\":[],\"relationships\":[],\"memberships\":[],\"dynGroups\":[],\"plainAttrs\":[{\"schema\":\"firstname\",\"readonly\":false,\"values\":[\"\"]},{\"schema\":\"userId\",\"readonly\":false,\"values\":[\"&apos;test&apos;\"]},{\"schema\":\"fullname\",\"readonly\":false,\"values\":[\"&apos;test&apos;\"]},{\"schema\":\"surname\",\"readonly\":false,\"values\":[\"&apos;test&apos;\"]}]}'/>\n+                       template='{\"@class\":\"org.apache.syncope.common.lib.to.UserTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":0,\"type\":\"USER\",\"realm\":null,\"status\":null,\"password\":null,\"token\":null,\"tokenExpireTime\":null,\"username\":null,\"lastLoginDate\":null,\"changePwdDate\":null,\"failedLogins\":null,\"securityQuestion\":null,\"securityAnswer\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[\"resource-testdb\"],\"roles\":[],\"dynRoles\":[],\"relationships\":[],\"memberships\":[],\"dynGroups\":[],\"plainAttrs\":[{\"schema\":\"firstname\",\"readonly\":false,\"values\":[\"\"]},{\"schema\":\"userId\",\"readonly\":false,\"values\":[\"&apos;test&apos;\"]},{\"schema\":\"fullname\",\"readonly\":false,\"values\":[\"&apos;test&apos;\"]},{\"schema\":\"surname\",\"readonly\":false,\"values\":[\"&apos;test&apos;\"]}]}'/>\n   <AnyTemplateSyncTask id=\"4\" syncTask_id=\"24\" anyType_name=\"GROUP\"\n-                       template='{\"@class\":\"org.apache.syncope.common.lib.to.GroupTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":0,\"type\":\"GROUP\",\"realm\":null,\"status\":null,\"name\":null,\"userOwner\":null,\"groupOwner\":null,\"adynMembershipCond\":null,\"udynMembershipCond\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[],\"propagationStatuses\":[],\"plainAttrs\":[]}'/>\n+                       template='{\"@class\":\"org.apache.syncope.common.lib.to.GroupTO\",\"creator\":null,\"creationDate\":null,\"lastModifier\":null,\"lastChangeDate\":null,\"key\":0,\"type\":\"GROUP\",\"realm\":null,\"status\":null,\"name\":null,\"userOwner\":null,\"groupOwner\":null,\"adynMembershipCond\":null,\"udynMembershipCond\":null,\"auxClasses\":[],\"derAttrs\":[],\"virAttrs\":[],\"resources\":[],\"plainAttrs\":[]}'/>\n   <Task DTYPE=\"SyncTask\" type=\"SYNCHRONIZATION\" id=\"25\" name=\"CSV (unlink matching; ignore unmatching)\" resource_name=\"resource-csv\"\n         destinationRealm_id=\"1\" performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\" fullReconciliation=\"0\"\n         unmatchingRule=\"IGNORE\" matchingRule=\"UNLINK\"/>\n@@ -1082,7 +1086,7 @@ under the License.\n         unmatchingRule=\"ASSIGN\" matchingRule=\"IGNORE\"/>\n   <Task DTYPE=\"PropagationTask\" type=\"PROPAGATION\" id=\"27\" operation=\"CREATE\"\n         objectClassName=\"__ACCOUNT__\" resource_name=\"resource-testdb\" anyTypeKind=\"USER\" anyKey=\"1\"\n-        xmlAttributes='[{\"name\":\"__PASSWORD__\",\"value\":[{\"readOnly\":false,\"disposed\":false,\"encryptedBytes\":\"m9nh2US0Sa6m+cXccCq0Xw==\",\"base64SHA1Hash\":\"GFJ69qfjxEOdrmt+9q+0Cw2uz60=\"}]},{\"name\":\"__NAME__\",\"value\":[\"userId\"],\"nameValue\":\"userId\"},{\"name\":\"fullname\",\"value\":[\"fullname\"]},{\"name\":\"type\",\"value\":[\"type\"]}]'/>\n+        attributes='[{\"name\":\"__PASSWORD__\",\"value\":[{\"readOnly\":false,\"disposed\":false,\"encryptedBytes\":\"m9nh2US0Sa6m+cXccCq0Xw==\",\"base64SHA1Hash\":\"GFJ69qfjxEOdrmt+9q+0Cw2uz60=\"}]},{\"name\":\"__NAME__\",\"value\":[\"userId\"],\"nameValue\":\"userId\"},{\"name\":\"fullname\",\"value\":[\"fullname\"]},{\"name\":\"type\",\"value\":[\"type\"]}]'/>\n   <Task DTYPE=\"SyncTask\" type=\"SYNCHRONIZATION\" id=\"28\" name=\"Scripted SQL\" resource_name=\"resource-db-scripted\"\n         destinationRealm_id=\"1\" performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"0\" fullReconciliation=\"0\"\n         unmatchingRule=\"PROVISION\" matchingRule=\"UPDATE\"/>"},{"sha":"df9a204ce9fe8b8cdc0ac9045682b5bfe8e0b0a8","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/AnyObjectProvisioningManager.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FAnyObjectProvisioningManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FAnyObjectProvisioningManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FAnyObjectProvisioningManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -26,5 +26,5 @@\n \n public interface AnyObjectProvisioningManager extends ProvisioningManager<AnyObjectTO, AnyObjectPatch> {\n \n-    List<PropagationStatus> provision(Long key, Collection<String> resources);\n+    List<PropagationStatus> provision(Long key, Collection<String> resources, boolean nullPriorityAsync);\n }"},{"sha":"242202f010079c6a04f91dc36a6b88a07c84ed17","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/ConnIdBundleManager.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FConnIdBundleManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FConnIdBundleManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FConnIdBundleManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -31,7 +31,7 @@\n  */\n public interface ConnIdBundleManager {\n \n-    ConfigurationProperties getConfigurationProperties(final ConnectorInfo info);\n+    ConfigurationProperties getConfigurationProperties(ConnectorInfo info);\n \n     Map<URI, ConnectorInfoManager> getConnManagers();\n "},{"sha":"2a3a0a144aff110bda99d9fe7145f1c966e56705","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/Connector.java","status":"modified","additions":6,"deletions":44,"changes":50,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FConnector.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FConnector.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FConnector.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -28,6 +28,7 @@\n import org.identityconnectors.framework.common.objects.Attribute;\n import org.identityconnectors.framework.common.objects.ConnectorObject;\n import org.identityconnectors.framework.common.objects.ObjectClass;\n+import org.identityconnectors.framework.common.objects.ObjectClassInfo;\n import org.identityconnectors.framework.common.objects.OperationOptions;\n import org.identityconnectors.framework.common.objects.ResultsHandler;\n import org.identityconnectors.framework.common.objects.SyncResultsHandler;\n@@ -134,8 +135,7 @@ void delete(\n     ConnectorObject getObject(ObjectClass objectClass, Uid uid, OperationOptions options);\n \n     /**\n-     * Get remote object used by the propagation manager in order to choose for a create (object doesn't exist) or an\n-     * update (object exists).\n+     * Get remote object with check for intended operation to perform on external resource.\n      *\n      * @param operationType resource operation type\n      * @param objectClass ConnId's object class\n@@ -186,40 +186,11 @@ void search(\n             Iterator<? extends MappingItem> mapItems);\n \n     /**\n-     * Read attribute for a given connector object.\n+     * Builds metadata description of ConnId {@link ObjectClass}.\n      *\n-     * @param objectClass ConnId's object class\n-     * @param uid ConnId's Uid\n-     * @param options ConnId's OperationOptions\n-     * @param attributeName attribute to read\n-     * @return attribute (if present)\n-     */\n-    Attribute getObjectAttribute(ObjectClass objectClass, Uid uid, OperationOptions options, String attributeName);\n-\n-    /**\n-     * Read attributes for a given connector object.\n-     *\n-     * @param objectClass ConnId's object class\n-     * @param uid ConnId's Uid\n-     * @param options ConnId's OperationOptions\n-     * @return attributes (if present)\n+     * @return metadata description of ConnId ObjectClass\n      */\n-    Set<Attribute> getObjectAttributes(ObjectClass objectClass, Uid uid, OperationOptions options);\n-\n-    /**\n-     * Return resource schema names.\n-     *\n-     * @param includeSpecial return special attributes (like as __NAME__ or __PASSWORD__) if true\n-     * @return schema names\n-     */\n-    Set<String> getSchemaNames(boolean includeSpecial);\n-\n-    /**\n-     * Return ConnId's object classes supported by this connector.\n-     *\n-     * @return supported object classes\n-     */\n-    Set<ObjectClass> getSupportedObjectClasses();\n+    Set<ObjectClassInfo> getObjectClassInfo();\n \n     /**\n      * Validate a connector instance.\n@@ -236,14 +207,5 @@ void search(\n      *\n      * @return active connector instance.\n      */\n-    ConnInstance getActiveConnInstance();\n-\n-    /**\n-     * Build options for requesting all mapped connector attributes.\n-     *\n-     * @param mapItems mapping items\n-     * @return options for requesting all mapped connector attributes\n-     * @see OperationOptions\n-     */\n-    OperationOptions getOperationOptions(Iterator<? extends MappingItem> mapItems);\n+    ConnInstance getConnInstance();\n }"},{"sha":"4c6dd82d1ff330d4fe053de6140b065f35b7a629","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/ConnectorFactory.java","status":"modified","additions":17,"deletions":6,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FConnectorFactory.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FConnectorFactory.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FConnectorFactory.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -20,7 +20,7 @@\n \n import java.util.Set;\n import org.apache.syncope.common.lib.types.ConnConfProperty;\n-import org.apache.syncope.core.persistence.api.SyncopeLoader;\n+import org.apache.syncope.common.lib.types.ConnectorCapability;\n import org.apache.syncope.core.persistence.api.entity.ConnInstance;\n import org.apache.syncope.core.persistence.api.entity.resource.ExternalResource;\n \n@@ -29,16 +29,28 @@\n  *\n  * @see Connector\n  */\n-public interface ConnectorFactory extends SyncopeLoader {\n+public interface ConnectorFactory {\n \n     /**\n-     * Create connector from given connector instance and configuration properties.\n+     * Builds connector instance override over base connector instance, configuration and capabilities override.\n+     *\n+     * @param connInstance base connector instance\n+     * @param confOverride configuration override\n+     * @param capabilitiesOverride capabilities override\n+     * @return connector instance override over base connector instance, configuration and capabilities override\n+     */\n+    ConnInstance buildConnInstanceOverride(\n+            ConnInstance connInstance,\n+            Set<ConnConfProperty> confOverride,\n+            Set<ConnectorCapability> capabilitiesOverride);\n+\n+    /**\n+     * Create connector from given connector instance.\n      *\n      * @param connInstance connector instance\n-     * @param configuration configuration properties\n      * @return connector\n      */\n-    Connector createConnector(ConnInstance connInstance, Set<ConnConfProperty> configuration);\n+    Connector createConnector(ConnInstance connInstance);\n \n     /**\n      * Get existing connector for the given resource.\n@@ -53,7 +65,6 @@ public interface ConnectorFactory extends SyncopeLoader {\n      *\n      * @see ExternalResource\n      */\n-    @Override\n     void load();\n \n     /**"},{"sha":"c1cc547e7b252006e3e37b7628b516488fb8f6ba","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/ConnectorRegistry.java","status":"modified","additions":0,"deletions":12,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FConnectorRegistry.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FConnectorRegistry.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FConnectorRegistry.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,25 +18,13 @@\n  */\n package org.apache.syncope.core.provisioning.api;\n \n-import java.util.Set;\n-import org.apache.syncope.common.lib.types.ConnConfProperty;\n-import org.apache.syncope.core.persistence.api.entity.ConnInstance;\n import org.apache.syncope.core.persistence.api.entity.resource.ExternalResource;\n \n /**\n  * Manage Spring beans lifecycle for connectors.\n  */\n public interface ConnectorRegistry {\n \n-    /**\n-     * Returns a connector instance with overridden property values, if found.\n-     *\n-     * @param connInstance base connector instance\n-     * @param overridden overridden property values\n-     * @return connector instance with overridden property values, if found\n-     */\n-    ConnInstance getOverriddenConnInstance(ConnInstance connInstance, Set<ConnConfProperty> overridden);\n-\n     /**\n      * Create and register into Spring context a bean for the given resource.\n      *"},{"sha":"3aae89f383f8548a3b1b1d989ac098ababb869d0","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/GroupProvisioningManager.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FGroupProvisioningManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FGroupProvisioningManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FGroupProvisioningManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -30,8 +30,8 @@\n public interface GroupProvisioningManager extends ProvisioningManager<GroupTO, GroupPatch> {\n \n     Pair<Long, List<PropagationStatus>> create(\n-            GroupTO groupTO, Map<Long, String> groupOwnerMap, Set<String> excludedResources);\n+            GroupTO groupTO, Map<Long, String> groupOwnerMap, Set<String> excludedResources, boolean nullPriorityAsync);\n \n-    List<PropagationStatus> provision(Long key, Collection<String> resources);\n+    List<PropagationStatus> provision(Long key, Collection<String> resources, boolean nullPriorityAsync);\n \n }"},{"sha":"72a12539d054af31c8139a0bb5618ce55b95bd34","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/ProvisioningManager.java","status":"modified","additions":7,"deletions":7,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FProvisioningManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FProvisioningManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FProvisioningManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -28,22 +28,22 @@\n \n public interface ProvisioningManager<T extends AnyTO, P extends AnyPatch> {\n \n-    Pair<Long, List<PropagationStatus>> create(T anyTO);\n+    Pair<Long, List<PropagationStatus>> create(T anyTO, boolean nullPriorityAsync);\n \n-    Pair<Long, List<PropagationStatus>> create(T anyTO, Set<String> excludedResources);\n+    Pair<Long, List<PropagationStatus>> create(T anyTO, Set<String> excludedResources, boolean nullPriorityAsync);\n \n-    Pair<Long, List<PropagationStatus>> update(P anyMod);\n+    Pair<Long, List<PropagationStatus>> update(P patch, boolean nullPriorityAsync);\n \n-    Pair<Long, List<PropagationStatus>> update(P anyMod, Set<String> excludedResources);\n+    Pair<Long, List<PropagationStatus>> update(P patch, Set<String> excludedResources, boolean nullPriorityAsync);\n \n-    List<PropagationStatus> delete(Long anyKey);\n+    List<PropagationStatus> delete(Long anyKey, boolean nullPriorityAsync);\n \n-    List<PropagationStatus> delete(Long anyKey, Set<String> excludedResources);\n+    List<PropagationStatus> delete(Long anyKey, Set<String> excludedResources, boolean nullPriorityAsync);\n \n     Long unlink(P anyMod);\n \n     Long link(P anyMod);\n \n-    List<PropagationStatus> deprovision(Long anyKey, Collection<String> resources);\n+    List<PropagationStatus> deprovision(Long anyKey, Collection<String> resources, boolean nullPriorityAsync);\n \n }"},{"sha":"1f9b7ef65afcaf2fb931053d678b3b555e832aac","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/UserProvisioningManager.java","status":"modified","additions":20,"deletions":10,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FUserProvisioningManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FUserProvisioningManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FUserProvisioningManager.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -26,30 +26,40 @@\n import org.apache.syncope.common.lib.patch.UserPatch;\n import org.apache.syncope.common.lib.to.PropagationStatus;\n import org.apache.syncope.common.lib.to.UserTO;\n-import org.apache.syncope.core.provisioning.api.sync.ProvisioningResult;\n+import org.apache.syncope.core.provisioning.api.sync.ProvisioningReport;\n \n public interface UserProvisioningManager extends ProvisioningManager<UserTO, UserPatch> {\n \n-    Pair<Long, List<PropagationStatus>> activate(StatusPatch statusPatch);\n+    Pair<Long, List<PropagationStatus>> activate(StatusPatch statusPatch, boolean nullPriorityAsync);\n \n-    Pair<Long, List<PropagationStatus>> reactivate(StatusPatch statusPatch);\n+    Pair<Long, List<PropagationStatus>> reactivate(StatusPatch statusPatch, boolean nullPriorityAsync);\n \n-    Pair<Long, List<PropagationStatus>> suspend(StatusPatch statusPatch);\n+    Pair<Long, List<PropagationStatus>> suspend(StatusPatch statusPatch, boolean nullPriorityAsync);\n \n     void internalSuspend(Long key);\n \n-    Pair<Long, List<PropagationStatus>> create(UserTO userTO, boolean storePassword);\n+    Pair<Long, List<PropagationStatus>> create(UserTO userTO, boolean storePassword, boolean nullPriorityAsync);\n \n-    Pair<Long, List<PropagationStatus>> create(UserTO userTO, boolean storePassword,\n-            boolean disablePwdPolicyCheck, Boolean enabled, Set<String> excludedResources);\n+    Pair<Long, List<PropagationStatus>> create(\n+            UserTO userTO,\n+            boolean storePassword,\n+            boolean disablePwdPolicyCheck,\n+            Boolean enabled,\n+            Set<String> excludedResources,\n+            boolean nullPriorityAsync);\n \n-    Pair<Long, List<PropagationStatus>> update(UserPatch userPatch, Long key,\n-            ProvisioningResult result, Boolean enabled, Set<String> excludedResources);\n+    Pair<Long, List<PropagationStatus>> update(\n+            UserPatch userPatch,\n+            ProvisioningReport result,\n+            Boolean enabled,\n+            Set<String> excludedResources,\n+            boolean nullPriorityAsync);\n \n     void requestPasswordReset(Long key);\n \n     void confirmPasswordReset(Long key, String token, String password);\n \n-    List<PropagationStatus> provision(Long key, boolean changePwd, String password, Collection<String> resources);\n+    List<PropagationStatus> provision(\n+            Long key, boolean changePwd, String password, Collection<String> resources, boolean nullPriorityAsync);\n \n }"},{"sha":"373d1af6f091b4a70c374c14801e2632aefd33a8","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/data/ConnInstanceDataBinder.java","status":"modified","additions":2,"deletions":14,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fdata%2FConnInstanceDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fdata%2FConnInstanceDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fdata%2FConnInstanceDataBinder.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,31 +18,19 @@\n  */\n package org.apache.syncope.core.provisioning.api.data;\n \n-import java.util.Set;\n import org.apache.syncope.common.lib.to.ConnInstanceTO;\n import org.apache.syncope.common.lib.types.ConnConfPropSchema;\n-import org.apache.syncope.common.lib.types.ConnConfProperty;\n import org.apache.syncope.core.persistence.api.entity.ConnInstance;\n import org.identityconnectors.framework.api.ConfigurationProperty;\n \n public interface ConnInstanceDataBinder {\n \n-    ConnConfPropSchema buildConnConfPropSchema(ConfigurationProperty property);\n+    ConnConfPropSchema build(ConfigurationProperty property);\n \n     ConnInstance getConnInstance(ConnInstanceTO connInstanceTO);\n \n     ConnInstanceTO getConnInstanceTO(ConnInstance connInstance);\n \n-    /**\n-     * Merge connector configuration properties avoiding repetition but giving priority to primary set.\n-     *\n-     * @param primary primary set.\n-     * @param secondary secondary set.\n-     * @return merged set.\n-     */\n-    Set<ConnConfProperty> mergeConnConfProperties(Set<ConnConfProperty> primary,\n-            Set<ConnConfProperty> secondary);\n-\n-    ConnInstance updateConnInstance(long connInstanceId, ConnInstanceTO connInstanceTO);\n+    ConnInstance update(long key, ConnInstanceTO connInstanceTO);\n \n }"},{"sha":"9f1ea5d1c0f25f324d4d103dfcf205a07a75afa9","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/data/ResourceDataBinder.java","status":"modified","additions":2,"deletions":5,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fdata%2FResourceDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fdata%2FResourceDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fdata%2FResourceDataBinder.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -19,17 +19,14 @@\n package org.apache.syncope.core.provisioning.api.data;\n \n import org.apache.syncope.common.lib.to.ResourceTO;\n-import org.apache.syncope.core.persistence.api.entity.ConnInstance;\n import org.apache.syncope.core.persistence.api.entity.resource.ExternalResource;\n \n public interface ResourceDataBinder {\n \n-    ExternalResource create(ResourceTO resourceTO);\n-\n-    ConnInstance getConnInstance(ResourceTO resourceTO);\n-\n     ResourceTO getResourceTO(ExternalResource resource);\n \n+    ExternalResource create(ResourceTO resourceTO);\n+\n     ExternalResource update(ExternalResource resource, ResourceTO resourceTO);\n \n }"},{"sha":"d96b1a7397fd7e03958b2f077e56ec871ae91189","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/propagation/PropagationReporter.java","status":"modified","additions":18,"deletions":12,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fpropagation%2FPropagationReporter.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fpropagation%2FPropagationReporter.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fpropagation%2FPropagationReporter.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.core.provisioning.api.propagation;\n \n+import java.util.Collection;\n import java.util.List;\n import org.apache.syncope.common.lib.to.PropagationStatus;\n import org.apache.syncope.common.lib.types.PropagationTaskExecStatus;\n@@ -30,24 +31,29 @@\n public interface PropagationReporter {\n \n     /**\n-     * Report propagation status after executions in case of success or non-blocking failure\n-     * (e.g. on secondary resources).\n+     * Report propagation status after executions in case blocking failure (e.g. on priority resources).\n      *\n-     * @param resourceName resource name.\n-     * @param execStatus propagation execution status.\n-     * @param failureReason propagation execution failure message.\n-     * @param beforeObj retrieved connector object before operation execution.\n-     * @param afterObj retrieved connector object after operation execution.\n+     * @param failingResource failing resource name\n+     * @param tasks propagation tasks performed before failure\n      */\n-    void onSuccessOrSecondaryResourceFailures(String resourceName, PropagationTaskExecStatus execStatus,\n-            String failureReason, ConnectorObject beforeObj, ConnectorObject afterObj);\n+    void onPriorityResourceFailure(String failingResource, Collection<PropagationTask> tasks);\n \n     /**\n-     * Report propagation status after executions in case blocking failure (e.g. on primary resources).\n+     * Report propagation status after executions in case of success or non-blocking failure\n+     * (e.g. on non-priority resources).\n      *\n-     * @param tasks propagation tasks performed before failure\n+     * @param propagationTask propagation task\n+     * @param execStatus propagation execution status\n+     * @param failureReason propagation execution failure message\n+     * @param beforeObj retrieved connector object before operation execution\n+     * @param afterObj retrieved connector object after operation execution\n      */\n-    void onPrimaryResourceFailure(List<PropagationTask> tasks);\n+    void onSuccessOrNonPriorityResourceFailures(\n+            PropagationTask propagationTask,\n+            PropagationTaskExecStatus execStatus,\n+            String failureReason,\n+            ConnectorObject beforeObj,\n+            ConnectorObject afterObj);\n \n     /**\n      * Returns the list of propagation statuses."},{"sha":"84c486473b3b2b004805c07f6746a6c339a91a1f","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/propagation/PropagationTaskCallable.java","status":"added","additions":32,"deletions":0,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fpropagation%2FPropagationTaskCallable.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fpropagation%2FPropagationTaskCallable.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fpropagation%2FPropagationTaskCallable.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -0,0 +1,32 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.core.provisioning.api.propagation;\n+\n+import java.util.concurrent.Callable;\n+import org.apache.syncope.core.persistence.api.entity.task.PropagationTask;\n+import org.apache.syncope.core.persistence.api.entity.task.TaskExec;\n+\n+public interface PropagationTaskCallable extends Callable<TaskExec> {\n+\n+    void setExecutor(PropagationTaskExecutor executor);\n+\n+    void setTask(PropagationTask task);\n+\n+    void setReporter(PropagationReporter reporter);\n+}"},{"sha":"ace29a205ccde331b2f31f50c03888fdf1f18a47","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/propagation/PropagationTaskExecutor.java","status":"modified","additions":17,"deletions":4,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fpropagation%2FPropagationTaskExecutor.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fpropagation%2FPropagationTaskExecutor.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fpropagation%2FPropagationTaskExecutor.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -42,7 +42,18 @@ public interface PropagationTaskExecutor {\n     String MANDATORY_NULL_OR_EMPTY_ATTR_NAME = \"__MANDATORY_NULL_OR_EMPTY__\";\n \n     /**\n-     * Execute the given PropagationTask and returns the generated TaskExec.\n+     * Creates new instances of {@link PropagationTaskCallable} for usage with\n+     * {@link java.util.concurrent.CompletionService}.\n+     *\n+     * @param task to be executed\n+     * @param reporter to report propagation execution status\n+     * @return new {@link PropagationTaskCallable} instance for usage with\n+     * {@link java.util.concurrent.CompletionService}\n+     */\n+    PropagationTaskCallable newPropagationTaskCallable(PropagationTask task, PropagationReporter reporter);\n+\n+    /**\n+     * Execute the given PropagationTask and returns the generated {@link TaskExec}.\n      *\n      * @param task to be executed\n      * @return the generated TaskExec\n@@ -67,11 +78,13 @@ public interface PropagationTaskExecutor {\n     void execute(Collection<PropagationTask> tasks);\n \n     /**\n-     * Execute a collection of PropagationTask objects and invoke the given handler on each of these.\n-     * The process is interrupted as soon as the result of the communication with a primary resource is in error.\n+     * Execute a collection of PropagationTask objects.\n+     * The process is interrupted as soon as the result of the communication with a resource with non-null priority is\n+     * in error.\n      *\n      * @param tasks to be execute, in given order\n      * @param reporter to report propagation execution status\n+     * @param nullPriorityAsync asynchronously executes tasks related to resources with no priority\n      */\n-    void execute(Collection<PropagationTask> tasks, PropagationReporter reporter);\n+    void execute(Collection<PropagationTask> tasks, PropagationReporter reporter, boolean nullPriorityAsync);\n }"},{"sha":"2e6e055fe35318ac19da01a52749b854c14e0441","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/sync/ProvisioningProfile.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fsync%2FProvisioningProfile.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fsync%2FProvisioningProfile.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fsync%2FProvisioningProfile.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -34,7 +34,7 @@\n \n     private final T task;\n \n-    private final List<ProvisioningResult> results = new ArrayList<>();\n+    private final List<ProvisioningReport> results = new ArrayList<>();\n \n     private boolean dryRun;\n \n@@ -55,7 +55,7 @@ public T getTask() {\n         return task;\n     }\n \n-    public Collection<ProvisioningResult> getResults() {\n+    public Collection<ProvisioningReport> getResults() {\n         return results;\n     }\n "},{"sha":"9e3c28a22b0bcdb7ed1ebb4217457d5844ec37af","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/sync/ProvisioningReport.java","status":"renamed","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fsync%2FProvisioningReport.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fsync%2FProvisioningReport.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fsync%2FProvisioningReport.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -26,7 +26,7 @@\n import org.apache.syncope.common.lib.types.ResourceOperation;\n import org.apache.syncope.common.lib.types.TraceLevel;\n \n-public class ProvisioningResult {\n+public class ProvisioningReport {\n \n     public enum Status {\n \n@@ -130,9 +130,9 @@ public String getReportString(final TraceLevel level) {\n      * @param level trace level\n      * @return report as string\n      */\n-    public static String produceReport(final Collection<ProvisioningResult> results, final TraceLevel level) {\n+    public static String produceReport(final Collection<ProvisioningReport> results, final TraceLevel level) {\n         StringBuilder sb = new StringBuilder();\n-        for (ProvisioningResult result : results) {\n+        for (ProvisioningReport result : results) {\n             sb.append(result.getReportString(level)).append('\\n');\n         }\n         return sb.toString();","previous_filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/sync/ProvisioningResult.java"},{"sha":"fee3a4547c29f4bef928137f53c7e2b6119f9508","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/sync/PushActions.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fsync%2FPushActions.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fsync%2FPushActions.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fsync%2FPushActions.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -145,7 +145,7 @@ public interface PushActions extends ProvisioningActions {\n     <A extends Any<?, ?>> void onError(\n             ProvisioningProfile<?, ?> profile,\n             A any,\n-            ProvisioningResult result,\n+            ProvisioningReport result,\n             Exception error) throws JobExecutionException;\n \n     /**\n@@ -160,5 +160,5 @@ public interface PushActions extends ProvisioningActions {\n     <A extends Any<?, ?>> void after(\n             ProvisioningProfile<?, ?> profile,\n             A any,\n-            ProvisioningResult result) throws JobExecutionException;\n+            ProvisioningReport result) throws JobExecutionException;\n }"},{"sha":"e7c8d8c4eb87515c3ca842381d066afb4d779341","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/sync/SyncActions.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fsync%2FSyncActions.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fsync%2FSyncActions.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fsync%2FSyncActions.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -182,7 +182,7 @@ <A extends AnyTO> SyncDelta beforeDelete(\n     void onError(\n             ProvisioningProfile<?, ?> profile,\n             SyncDelta delta,\n-            ProvisioningResult result,\n+            ProvisioningReport result,\n             Exception error) throws JobExecutionException;\n \n     /**\n@@ -200,5 +200,5 @@ <A extends AnyTO> void after(\n             ProvisioningProfile<?, ?> profile,\n             SyncDelta delta,\n             A any,\n-            ProvisioningResult result) throws JobExecutionException;\n+            ProvisioningReport result) throws JobExecutionException;\n }"},{"sha":"83a38eb9ff0534bacf117a3e816dbc0bc6c0abec","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/AsyncConnectorFacade.java","status":"modified","additions":5,"deletions":77,"changes":82,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FAsyncConnectorFacade.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fc5d26b01f4b56fad131e5c6190103a161e77c/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FAsyncConnectorFacade.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FAsyncConnectorFacade.java?ref=77fc5d26b01f4b56fad131e5c6190103a161e77c","patch":"@@ -18,19 +18,16 @@\n  */\n package org.apache.syncope.core.provisioning.java;\n \n-import java.util.HashSet;\n+import java.util.Collections;\n import java.util.Set;\n import java.util.concurrent.Future;\n import org.identityconnectors.common.security.GuardedString;\n import org.identityconnectors.framework.api.ConnectorFacade;\n import org.identityconnectors.framework.common.objects.Attribute;\n-import org.identityconnectors.framework.common.objects.AttributeInfo;\n-import org.identityconnectors.framework.common.objects.AttributeUtil;\n import org.identityconnectors.framework.common.objects.ConnectorObject;\n import org.identityconnectors.framework.common.objects.ObjectClass;\n import org.identityconnectors.framework.common.objects.ObjectClassInfo;\n import org.identityconnectors.framework.common.objects.OperationOptions;\n-import org.identityconnectors.framework.common.objects.Schema;\n import org.identityconnectors.framework.common.objects.SyncToken;\n import org.identityconnectors.framework.common.objects.Uid;\n import org.slf4j.Logger;\n@@ -46,9 +43,6 @@\n @Component\n public class AsyncConnectorFacade {\n \n-    /**\n-     * Logger.\n-     */\n     private static final Logger LOG = LoggerFactory.getLogger(AsyncConnectorFacade.class);\n \n     @Async\n@@ -111,83 +105,17 @@ public Future<ConnectorObject> getObject(\n     }\n \n     @Async\n-    public Future<Attribute> getObjectAttribute(\n-            final ConnectorFacade connector,\n-            final ObjectClass objectClass,\n-            final Uid uid,\n-            final OperationOptions options,\n-            final String attributeName) {\n-\n-        Attribute attribute = null;\n-\n-        ConnectorObject object = connector.getObject(objectClass, uid, options);\n-        if (object == null) {\n-            LOG.debug(\"Object for '{}' not found\", uid.getUidValue());\n-        } else {\n-            attribute = object.getAttributeByName(attributeName);\n-        }\n-\n-        return new AsyncResult<>(attribute);\n-    }\n-\n-    @Async\n-    public Future<Set<Attribute>> getObjectAttributes(\n-            final ConnectorFacade connector,\n-            final ObjectClass objectClass,\n-            final Uid uid,\n-            final OperationOptions options) {\n-\n-        Set<Attribute> attributes = new HashSet<>();\n-\n-        ConnectorObject object = connector.getObject(objectClass, uid, options);\n-\n-        if (object == null) {\n-            LOG.debug(\"Object for '{}' not found\", uid.getUidValue());\n-        } else {\n-            for (String attribute : options.getAttributesToGet()) {\n-                attributes.add(object.getAttributeByName(attribute));\n-            }\n-        }\n-\n-        return new AsyncResult<>(attributes);\n-    }\n-\n-    @Async\n-    public Future<Set<String>> getSchemaNames(final ConnectorFacade connector, final boolean includeSpecial) {\n-        Set<String> schemaNames = new HashSet<>();\n-\n-        try {\n-            Schema schema = connector.schema();\n-            for (ObjectClassInfo info : schema.getObjectClassInfo()) {\n-                for (AttributeInfo attrInfo : info.getAttributeInfo()) {\n-                    if (includeSpecial || !AttributeUtil.isSpecialName(attrInfo.getName())) {\n-                        schemaNames.add(attrInfo.getName());\n-                    }\n-                }\n-            }\n-        } catch (Exception e) {\n-            // catch exception in order to manage unpredictable behaviors\n-            LOG.debug(\"While reading schema on connector {}\", connector, e);\n-        }\n-\n-        return new AsyncResult<>(schemaNames);\n-    }\n-\n-    @Async\n-    public Future<Set<ObjectClass>> getSupportedObjectClasses(final ConnectorFacade connector) {\n-        Set<ObjectClass> objectClasses = new HashSet<>();\n+    public Future<Set<ObjectClassInfo>> getObjectClassInfo(final ConnectorFacade connector) {\n+        Set<ObjectClassInfo> result = Collections.emptySet();\n \n         try {\n-            Schema schema = connector.schema();\n-            for (ObjectClassInfo info : schema.getObjectClassInfo()) {\n-                objectClasses.add(new ObjectClass(info.getType()));\n-            }\n+            result = connector.schema().getObjectClassInfo();\n         } catch (Exception e) {\n             // catch exception in order to manage unpredictable behaviors\n             LOG.debug(\"While reading schema on connector {}\", connector, e);\n         }\n \n-        return new AsyncResult<>(objectClasses);\n+        return new AsyncResult<>(result);\n     }\n \n     @Async"}]}
{"sha":"becd01e9342d0a3064d54e21a771e3788dbcd165","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmJlY2QwMWU5MzQyZDBhMzA2NGQ1NGUyMWE3NzFlMzc4OGRiY2QxNjU=","commit":{"author":{"name":"massi","email":"massimiliano.perrone@tirasa.net","date":"2015-11-27T13:55:26Z"},"committer":{"name":"massi","email":"massimiliano.perrone@tirasa.net","date":"2015-11-27T16:00:42Z"},"message":"Added message for empty running jobs","tree":{"sha":"8043d4d12bb5bb4e888d210a45b3db0a2ff52e5a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/8043d4d12bb5bb4e888d210a45b3db0a2ff52e5a"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/becd01e9342d0a3064d54e21a771e3788dbcd165","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/becd01e9342d0a3064d54e21a771e3788dbcd165","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/becd01e9342d0a3064d54e21a771e3788dbcd165","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/becd01e9342d0a3064d54e21a771e3788dbcd165/comments","author":{"login":"massx1","id":1792923,"node_id":"MDQ6VXNlcjE3OTI5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1792923?v=4","gravatar_id":"","url":"https://api.github.com/users/massx1","html_url":"https://github.com/massx1","followers_url":"https://api.github.com/users/massx1/followers","following_url":"https://api.github.com/users/massx1/following{/other_user}","gists_url":"https://api.github.com/users/massx1/gists{/gist_id}","starred_url":"https://api.github.com/users/massx1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massx1/subscriptions","organizations_url":"https://api.github.com/users/massx1/orgs","repos_url":"https://api.github.com/users/massx1/repos","events_url":"https://api.github.com/users/massx1/events{/privacy}","received_events_url":"https://api.github.com/users/massx1/received_events","type":"User","site_admin":false},"committer":{"login":"massx1","id":1792923,"node_id":"MDQ6VXNlcjE3OTI5MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1792923?v=4","gravatar_id":"","url":"https://api.github.com/users/massx1","html_url":"https://github.com/massx1","followers_url":"https://api.github.com/users/massx1/followers","following_url":"https://api.github.com/users/massx1/following{/other_user}","gists_url":"https://api.github.com/users/massx1/gists{/gist_id}","starred_url":"https://api.github.com/users/massx1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massx1/subscriptions","organizations_url":"https://api.github.com/users/massx1/orgs","repos_url":"https://api.github.com/users/massx1/repos","events_url":"https://api.github.com/users/massx1/events{/privacy}","received_events_url":"https://api.github.com/users/massx1/received_events","type":"User","site_admin":false},"parents":[{"sha":"8d42fa877d68ad91469577f54852721ce039bb14","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8d42fa877d68ad91469577f54852721ce039bb14","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/8d42fa877d68ad91469577f54852721ce039bb14"}],"stats":{"total":21,"additions":14,"deletions":7},"files":[{"sha":"3b278e44048619df40c5d47bd05b5c3882af1777","filename":"client/cli/src/main/java/org/apache/syncope/client/cli/commands/task/TaskListRunningJobs.java","status":"modified","additions":14,"deletions":7,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/becd01e9342d0a3064d54e21a771e3788dbcd165/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskListRunningJobs.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/becd01e9342d0a3064d54e21a771e3788dbcd165/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskListRunningJobs.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fcli%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fcli%2Fcommands%2Ftask%2FTaskListRunningJobs.java?ref=becd01e9342d0a3064d54e21a771e3788dbcd165","patch":"@@ -18,34 +18,41 @@\n  */\n package org.apache.syncope.client.cli.commands.task;\n \n+import java.util.List;\n import org.apache.syncope.client.cli.Input;\n import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.to.TaskExecTO;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n public class TaskListRunningJobs extends AbstractTaskCommand {\n-\n+    \n     private static final Logger LOG = LoggerFactory.getLogger(TaskListRunningJobs.class);\n-\n+    \n     private static final String READ_HELP_MESSAGE = \"task --list-running-jobs\";\n-\n+    \n     private final Input input;\n-\n+    \n     public TaskListRunningJobs(final Input input) {\n         this.input = input;\n     }\n-\n+    \n     public void list() {\n         if (input.parameterNumber() == 0) {\n             try {\n-                taskResultManager.printTaskExecTO(taskSyncopeOperations.listRunningJobs());\n+                final List<TaskExecTO> taskExecTOs = taskSyncopeOperations.listRunningJobs();\n+                if (taskExecTOs.isEmpty()) {\n+                    taskResultManager.genericMessage(\"There is NOT running jobs available\");\n+                } else {\n+                    taskResultManager.printTaskExecTO(taskExecTOs);\n+                }\n             } catch (final SyncopeClientException ex) {\n                 LOG.error(\"Error listing jobs\", ex);\n                 taskResultManager.genericError(ex.getMessage());\n             }\n         } else {\n             taskResultManager.unnecessaryParameters(input.listParameters(), READ_HELP_MESSAGE);\n         }\n-\n+        \n     }\n }"}]}
{"sha":"886d9711858389a83586eb883fd685035fd94692","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjg4NmQ5NzExODU4Mzg5YTgzNTg2ZWI4ODNmZDY4NTAzNWZkOTQ2OTI=","commit":{"author":{"name":"Misagh Moayyed","email":"mm1844@gmail.com","date":"2019-12-05T13:28:12Z"},"committer":{"name":"Francesco Chicchiricc√≤","email":"ilgrosso@apache.org","date":"2019-12-06T15:44:11Z"},"message":"SYNCOPE-1511: History management for admin console UI (#141)","tree":{"sha":"5ca5f0c8b0a854c8e3b13124b9275e5a83bc2bc3","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/5ca5f0c8b0a854c8e3b13124b9275e5a83bc2bc3"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/886d9711858389a83586eb883fd685035fd94692","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/886d9711858389a83586eb883fd685035fd94692","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/886d9711858389a83586eb883fd685035fd94692","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/886d9711858389a83586eb883fd685035fd94692/comments","author":{"login":"mmoayyed","id":1205228,"node_id":"MDQ6VXNlcjEyMDUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/1205228?v=4","gravatar_id":"","url":"https://api.github.com/users/mmoayyed","html_url":"https://github.com/mmoayyed","followers_url":"https://api.github.com/users/mmoayyed/followers","following_url":"https://api.github.com/users/mmoayyed/following{/other_user}","gists_url":"https://api.github.com/users/mmoayyed/gists{/gist_id}","starred_url":"https://api.github.com/users/mmoayyed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmoayyed/subscriptions","organizations_url":"https://api.github.com/users/mmoayyed/orgs","repos_url":"https://api.github.com/users/mmoayyed/repos","events_url":"https://api.github.com/users/mmoayyed/events{/privacy}","received_events_url":"https://api.github.com/users/mmoayyed/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"f6f6c7e6c71f5ce8c6b660f7d040e364ff2578e9","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f6f6c7e6c71f5ce8c6b660f7d040e364ff2578e9","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f6f6c7e6c71f5ce8c6b660f7d040e364ff2578e9"}],"stats":{"total":1272,"additions":1242,"deletions":30},"files":[{"sha":"e45775efa40611f44482d08680ddb8662a74de41","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/audit/AuditHistoryDirectoryPanel.java","status":"added","additions":322,"deletions":0,"changes":322,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryDirectoryPanel.java?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,322 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.console.audit;\n+\n+import com.fasterxml.jackson.core.JsonProcessingException;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collection;\n+import java.util.Collections;\n+import java.util.Date;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.syncope.client.console.SyncopeConsoleSession;\n+import org.apache.syncope.client.console.audit.AuditHistoryDirectoryPanel.AuditHistoryProvider;\n+import org.apache.syncope.client.console.commons.IdRepoConstants;\n+import org.apache.syncope.client.console.pages.BasePage;\n+import org.apache.syncope.client.console.panels.AjaxDataTablePanel;\n+import org.apache.syncope.client.console.panels.DirectoryPanel;\n+import org.apache.syncope.client.console.panels.MultilevelPanel;\n+import org.apache.syncope.client.console.rest.AnyObjectRestClient;\n+import org.apache.syncope.client.console.rest.AuditHistoryRestClient;\n+import org.apache.syncope.client.console.rest.GroupRestClient;\n+import org.apache.syncope.client.console.rest.UserRestClient;\n+import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.DatePropertyColumn;\n+import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n+import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n+import org.apache.syncope.client.console.wicket.markup.html.form.ActionsPanel;\n+import org.apache.syncope.client.ui.commons.DirectoryDataProvider;\n+import org.apache.syncope.client.ui.commons.panels.ModalPanel;\n+import org.apache.syncope.common.lib.AnyOperations;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.request.AnyObjectUR;\n+import org.apache.syncope.common.lib.request.GroupUR;\n+import org.apache.syncope.common.lib.request.UserUR;\n+import org.apache.syncope.common.lib.to.AnyObjectTO;\n+import org.apache.syncope.common.lib.to.AnyTO;\n+import org.apache.syncope.common.lib.to.AuditEntryTO;\n+import org.apache.syncope.common.lib.to.GroupTO;\n+import org.apache.syncope.common.lib.to.ProvisioningResult;\n+import org.apache.syncope.common.lib.to.UserTO;\n+import org.apache.syncope.common.lib.types.AnyTypeKind;\n+import org.apache.syncope.common.lib.types.AuditElements;\n+import org.apache.syncope.common.lib.types.ClientExceptionType;\n+import org.apache.syncope.common.lib.types.IdRepoEntitlement;\n+import org.apache.wicket.PageReference;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.util.SortParam;\n+import org.apache.wicket.model.CompoundPropertyModel;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.StringResourceModel;\n+\n+public class AuditHistoryDirectoryPanel extends\n+        DirectoryPanel<AuditEntryTO, AuditEntryTO, AuditHistoryProvider, AuditHistoryRestClient>\n+        implements ModalPanel {\n+\n+    private static final long serialVersionUID = -8248734710505211261L;\n+\n+    private static final int TOTAL_AUDIT_HISTORY_COMPARISONS = 25;\n+\n+    private static final ObjectMapper MAPPER = new ObjectMapper();\n+\n+    private final BaseModal<?> baseModal;\n+\n+    private final MultilevelPanel multiLevelPanelRef;\n+\n+    private final AnyTO anyTO;\n+\n+    private final AnyTypeKind anyTypeKind;\n+\n+    public AuditHistoryDirectoryPanel(\n+            final BaseModal<?> baseModal,\n+            final MultilevelPanel multiLevelPanelRef,\n+            final PageReference pageRef,\n+            final AnyTO anyTO) {\n+\n+        super(MultilevelPanel.FIRST_LEVEL_ID, pageRef);\n+        disableCheckBoxes();\n+\n+        this.baseModal = baseModal;\n+        this.multiLevelPanelRef = multiLevelPanelRef;\n+        this.anyTO = anyTO;\n+\n+        anyTypeKind = AnyTypeKind.fromTOClass(anyTO.getClass());\n+        initResultTable();\n+    }\n+\n+    /**\n+     * Restore an object based on the audit record.\n+     *\n+     * Note that for user objects, the original audit record masks\n+     * the password and the security answer; so we cannot use the audit\n+     * record to resurrect the entry based on mask data. The method behavior\n+     * below will reset the audit record such that the current security answer\n+     * and the password for the object are always maintained, and such properties\n+     * for the user cannot be restored using audit records.\n+     *\n+     * @param entryBean the entry bean\n+     * @param anyTO the any to\n+     * @return the response\n+     */\n+    private static ProvisioningResult<? extends AnyTO> restore(final AuditEntryTO entryBean,\n+            final AnyTO anyTO) {\n+        try {\n+            String json = getJSONFromAuditEntry(entryBean);\n+            if (anyTO instanceof UserTO) {\n+                UserTO userTO = MAPPER.readValue(json, UserTO.class);\n+                UserUR req = AnyOperations.diff(userTO, anyTO, false);\n+                req.setPassword(null);\n+                req.setSecurityAnswer(null);\n+                return new UserRestClient().update(anyTO.getETagValue(), req);\n+            }\n+            if (anyTO instanceof GroupTO) {\n+                GroupTO groupTO = MAPPER.readValue(json, GroupTO.class);\n+                GroupUR req = AnyOperations.diff(groupTO, anyTO, false);\n+                return new GroupRestClient().update(anyTO.getETagValue(), req);\n+            }\n+            if (anyTO instanceof AnyObjectTO) {\n+                AnyObjectTO anyObjectTO = MAPPER.readValue(json, AnyObjectTO.class);\n+                AnyObjectUR req = AnyOperations.diff(anyObjectTO, anyTO, false);\n+                return new AnyObjectRestClient().update(anyTO.getETagValue(), req);\n+            }\n+        } catch (final Exception e) {\n+            LOG.error(\"Could not restore object for {}\", anyTO, e);\n+        }\n+        throw SyncopeClientException.build(ClientExceptionType.InvalidAnyObject);\n+    }\n+\n+    private static String getJSONFromAuditEntry(final AuditEntryTO entryBean) throws JsonProcessingException {\n+        final String json;\n+        if (entryBean.getBefore() == null) {\n+            json = MAPPER.readTree(entryBean.getOutput()).get(\"entity\").toPrettyString();\n+        } else {\n+            json = entryBean.getBefore();\n+        }\n+        return json;\n+    }\n+\n+    private static SortParam<String> getSortParam() {\n+        return new SortParam<>(\"event_date\", false);\n+    }\n+\n+    private static AuditElements.Result getQueryableAuditResult() {\n+        return AuditElements.Result.SUCCESS;\n+    }\n+\n+    private static List<String> getQueryableAuditEvents() {\n+        return Arrays.asList(\"create\", \"update\");\n+    }\n+\n+    @Override\n+    protected AuditHistoryDirectoryPanel.AuditHistoryProvider dataProvider() {\n+        return new AuditHistoryProvider(rows);\n+    }\n+\n+    @Override\n+    protected String paginatorRowsKey() {\n+        return IdRepoConstants.PREF_AUDIT_HISTORY_PAGINATOR_ROWS;\n+    }\n+\n+    @Override\n+    protected List<IColumn<AuditEntryTO, String>> getColumns() {\n+        final List<IColumn<AuditEntryTO, String>> columns = new ArrayList<>();\n+        columns.add(new PropertyColumn<>(\n+                new StringResourceModel(\"who\", this), \"who\"));\n+        columns.add(new DatePropertyColumn<>(\n+                new StringResourceModel(\"date\", this), null, \"date\"));\n+        return columns;\n+    }\n+\n+    @Override\n+    protected void resultTableCustomChanges(\n+            final AjaxDataTablePanel.Builder<AuditEntryTO, String> resultTableBuilder) {\n+        resultTableBuilder.setMultiLevelPanel(baseModal, multiLevelPanelRef);\n+    }\n+\n+    @Override\n+    protected ActionsPanel<AuditEntryTO> getActions(final IModel<AuditEntryTO> model) {\n+        final ActionsPanel<AuditEntryTO> panel = super.getActions(model);\n+\n+        panel.add(new ActionLink<AuditEntryTO>() {\n+\n+            private static final long serialVersionUID = -6745431735457245600L;\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target, final AuditEntryTO modelObject) {\n+                AuditHistoryDirectoryPanel.this.getTogglePanel().close(target);\n+                viewAuditHistory(modelObject, target);\n+                target.add(modal);\n+            }\n+        }, ActionLink.ActionType.VIEW, IdRepoEntitlement.AUDIT_READ);\n+\n+        final String auditRestoreEntitlement;\n+        switch (this.anyTypeKind) {\n+            case USER:\n+                auditRestoreEntitlement = IdRepoEntitlement.USER_UPDATE;\n+                break;\n+            case GROUP:\n+                auditRestoreEntitlement = IdRepoEntitlement.GROUP_UPDATE;\n+                break;\n+            default:\n+                auditRestoreEntitlement = IdRepoEntitlement.ANYTYPE_UPDATE;\n+                break;\n+        }\n+\n+        panel.add(new ActionLink<AuditEntryTO>() {\n+\n+            private static final long serialVersionUID = -6745431735457245600L;\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target, final AuditEntryTO modelObject) {\n+                try {\n+                    AuditHistoryDirectoryPanel.this.getTogglePanel().close(target);\n+                    ProvisioningResult<? extends AnyTO> result = restore(modelObject, anyTO);\n+                    anyTO.setLastChangeDate(new Date(Long.parseLong(result.getEntity().getETagValue())));\n+                    target.add(container);\n+                } catch (SyncopeClientException e) {\n+                    LOG.error(\"While restoring {}\", anyTypeKind, e);\n+                    SyncopeConsoleSession.get().error(StringUtils.isBlank(e.getMessage())\n+                            ? e.getClass().getName() : e.getMessage());\n+                }\n+                ((BasePage) pageRef.getPage()).getNotificationPanel().refresh(target);\n+            }\n+        }, ActionLink.ActionType.RESTORE, auditRestoreEntitlement);\n+\n+        return panel;\n+    }\n+\n+    @Override\n+    protected Collection<ActionLink.ActionType> getBatches() {\n+        return Collections.emptyList();\n+    }\n+\n+    private void viewAuditHistory(final AuditEntryTO auditEntryBean, final AjaxRequestTarget target) {\n+        List<AuditEntryTO> search = AuditHistoryRestClient.search(anyTO.getKey(),\n+                0,\n+                TOTAL_AUDIT_HISTORY_COMPARISONS,\n+                getSortParam(),\n+                getQueryableAuditEvents(),\n+                getQueryableAuditResult());\n+\n+        multiLevelPanelRef.next(\n+                new StringResourceModel(\"audit.diff.view\", this).getObject(),\n+                new HistoryAuditDetails(modal, auditEntryBean,\n+                        getPage().getPageReference(), toAuditEntryTOs(search), anyTO, anyTypeKind), target);\n+    }\n+\n+    private List<AuditEntryTO> toAuditEntryTOs(final List<AuditEntryTO> search) {\n+        return search\n+                .stream()\n+                .map(entry -> {\n+                    AuditEntryTO bean = new AuditEntryTO();\n+                    bean.setKey(anyTO.getKey());\n+                    bean.setBefore(entry.getBefore());\n+                    bean.setDate(entry.getDate());\n+                    bean.setEvent(entry.getEvent());\n+                    bean.getInputs().addAll(entry.getInputs());\n+                    bean.setLoggerName(entry.getLoggerName());\n+                    bean.setOutput(entry.getOutput());\n+                    bean.setResult(entry.getResult());\n+                    bean.setSubCategory(entry.getSubCategory());\n+                    bean.setThrowable(entry.getThrowable());\n+                    bean.setWho(entry.getWho());\n+                    return bean;\n+                })\n+                .collect(Collectors.toList());\n+    }\n+\n+    protected class AuditHistoryProvider extends DirectoryDataProvider<AuditEntryTO> {\n+\n+        private static final long serialVersionUID = 415113175628260864L;\n+\n+        AuditHistoryProvider(final int paginatorRows) {\n+            super(paginatorRows);\n+        }\n+\n+        @Override\n+        public Iterator<? extends AuditEntryTO> iterator(final long first, final long count) {\n+            return getAuditEntryBeans(first, count).iterator();\n+        }\n+\n+        @Override\n+        public long size() {\n+            return AuditHistoryRestClient.count(anyTO.getKey(), getQueryableAuditEvents(), getQueryableAuditResult());\n+        }\n+\n+        @Override\n+        public IModel<AuditEntryTO> model(final AuditEntryTO auditEntryBean) {\n+            return new CompoundPropertyModel<>(auditEntryBean);\n+        }\n+\n+        private List<AuditEntryTO> getAuditEntryBeans(final long first, final long count) {\n+            int page = (int) first / paginatorRows;\n+            return AuditHistoryRestClient.search(anyTO.getKey(),\n+                    Math.max(page, 0) + 1,\n+                    Long.valueOf(count).intValue(),\n+                    getSortParam(),\n+                    getQueryableAuditEvents(),\n+                    getQueryableAuditResult());\n+        }\n+    }\n+}"},{"sha":"d4c8d7c775b68fad52955cbe731cc42194740131","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/audit/AuditHistoryModal.java","status":"added","additions":55,"deletions":0,"changes":55,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal.java?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,55 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.console.audit;\n+\n+import org.apache.syncope.client.console.panels.MultilevelPanel;\n+import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n+import org.apache.syncope.client.ui.commons.panels.ModalPanel;\n+import org.apache.syncope.common.lib.to.AnyTO;\n+import org.apache.wicket.PageReference;\n+import org.apache.wicket.markup.html.panel.Panel;\n+\n+public class AuditHistoryModal<T extends AnyTO> extends Panel implements ModalPanel {\n+\n+    private static final long serialVersionUID = 1066124171682570080L;\n+\n+    protected final AuditHistoryDirectoryPanel directoryPanel;\n+\n+    public AuditHistoryModal(\n+            final BaseModal<?> baseModal,\n+            final PageReference pageReference,\n+            final T entity) {\n+\n+        super(BaseModal.CONTENT_ID);\n+\n+        final MultilevelPanel mlp = new MultilevelPanel(\"history\");\n+        mlp.setOutputMarkupId(true);\n+        this.directoryPanel = getDirectoryPanel(mlp, baseModal, pageReference, entity);\n+        add(mlp.setFirstLevel(this.directoryPanel));\n+    }\n+\n+    protected AuditHistoryDirectoryPanel getDirectoryPanel(\n+            final MultilevelPanel mlp,\n+            final BaseModal<?> baseModal,\n+            final PageReference pageReference,\n+            final T entity) {\n+\n+        return new AuditHistoryDirectoryPanel(baseModal, mlp, pageReference, entity);\n+    }\n+}"},{"sha":"5e47d7cca151452dba2ead6336b59a0879c6c320","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/audit/HistoryAuditDetails.java","status":"added","additions":236,"deletions":0,"changes":236,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails.java?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,236 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.console.audit;\n+\n+import java.util.ArrayList;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.stream.Collectors;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import org.apache.commons.lang3.tuple.Pair;\n+import org.apache.syncope.client.console.SyncopeConsoleSession;\n+import org.apache.syncope.client.console.panels.AbstractModalPanel;\n+import org.apache.syncope.client.console.panels.MultilevelPanel;\n+import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n+import org.apache.syncope.client.console.wicket.markup.html.form.JsonDiffPanel;\n+import org.apache.syncope.client.console.wicket.markup.html.form.JsonEditorPanel;\n+import org.apache.syncope.client.ui.commons.Constants;\n+import org.apache.syncope.client.ui.commons.markup.html.form.AjaxDropDownChoicePanel;\n+import org.apache.syncope.common.lib.to.AnyTO;\n+import org.apache.syncope.common.lib.to.AuditEntryTO;\n+import org.apache.syncope.common.lib.to.UserTO;\n+import org.apache.syncope.common.lib.types.AnyTypeKind;\n+import org.apache.wicket.PageReference;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n+import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.markup.html.form.IChoiceRenderer;\n+import org.apache.wicket.model.CompoundPropertyModel;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.PropertyModel;\n+\n+public class HistoryAuditDetails extends MultilevelPanel.SecondLevel {\n+\n+    private static final String KEY_CURRENT = \"current\";\n+\n+    private static final long serialVersionUID = -7400543686272100483L;\n+\n+    private static final ObjectMapper MAPPER = new ObjectMapper();\n+\n+    private final AuditEntryTO selected;\n+\n+    private final List<AuditEntryTO> availableTOs;\n+\n+    private final AnyTypeKind anyTypeKind;\n+\n+    private AbstractModalPanel<String> jsonPanel;\n+\n+    private final AnyTO currentTO;\n+\n+    public HistoryAuditDetails(final BaseModal<?> baseModal, final AuditEntryTO selected,\n+            final PageReference pageRef, final List<AuditEntryTO> availableTOs,\n+            final AnyTO currentTO, final AnyTypeKind anyTypeKind) {\n+        super();\n+        this.availableTOs = availableTOs.stream()\n+                .filter(object -> !selected.equals(object) && selected.getBefore() != null)\n+                .collect(Collectors.toList());\n+        this.selected = selected;\n+        this.anyTypeKind = anyTypeKind;\n+        this.currentTO = currentTO;\n+\n+        addCurrentInstanceConf();\n+        Form<?> form = initDropdownDiffConfForm();\n+        add(form);\n+        form.setVisible(!this.availableTOs.isEmpty());\n+\n+        showConfigurationSinglePanel();\n+    }\n+\n+    private void showConfigurationSinglePanel() {\n+        Pair<String, String> info = getJSONInfo(selected);\n+\n+        jsonPanel = new JsonEditorPanel(null, new PropertyModel<>(info, \"right\"), true, null) {\n+\n+            private static final long serialVersionUID = -8927036362466990179L;\n+\n+            @Override\n+            public void onSubmit(final AjaxRequestTarget target) {\n+                modal.close(target);\n+            }\n+        };\n+        jsonPanel.setOutputMarkupId(true);\n+\n+        addOrReplace(jsonPanel);\n+    }\n+\n+    private void showConfigurationDiffPanel(final List<AuditEntryTO> entries) {\n+        List<Pair<String, String>> infos = new ArrayList<>();\n+        entries.forEach(entry -> infos.add(getJSONInfo(entry)));\n+\n+        jsonPanel = new JsonDiffPanel(null, new PropertyModel<>(infos.get(0), \"value\"),\n+                new PropertyModel<>(infos.get(1), \"value\"), null) {\n+\n+            private static final long serialVersionUID = -8927036362466990179L;\n+\n+            @Override\n+            public void onSubmit(final AjaxRequestTarget target) {\n+                modal.close(target);\n+            }\n+        };\n+\n+        replace(jsonPanel);\n+    }\n+\n+    private String getSanitizedTOAsJSON(final AnyTO anyTO) throws Exception {\n+        if (this.anyTypeKind == AnyTypeKind.USER) {\n+            UserTO userTO = (UserTO) anyTO;\n+            userTO.setPassword(null);\n+            userTO.setSecurityAnswer(null);\n+            return MAPPER.writerWithDefaultPrettyPrinter().writeValueAsString(userTO);\n+        }\n+        return MAPPER.writerWithDefaultPrettyPrinter().writeValueAsString(anyTO);\n+    }\n+\n+    private Pair<String, String> getJSONInfo(final AuditEntryTO auditEntryBean) {\n+        try {\n+            final String content;\n+            if (auditEntryBean.getBefore() == null) {\n+                content = MAPPER.readTree(auditEntryBean.getOutput()).get(\"entity\").toPrettyString();\n+            } else {\n+                content = auditEntryBean.getBefore();\n+            }\n+\n+            AnyTO userTO = MAPPER.readValue(content, anyTypeKind.getTOClass());\n+            String json = getSanitizedTOAsJSON(userTO);\n+            return Pair.of(auditEntryBean.getKey(), json);\n+        } catch (Exception e) {\n+            throw new RuntimeException(e);\n+        }\n+    }\n+\n+    private static <T extends AuditEntryTO> Map<String, String> getDropdownNamesMap(final List<T> entries) {\n+        Map<String, String> map = new LinkedHashMap<>();\n+        for (AuditEntryTO audit : entries) {\n+            String value = audit.getWho()\n+                    + \" - \" + SyncopeConsoleSession.get().getDateFormat().format(audit.getDate());\n+            if (audit.getKey().equalsIgnoreCase(KEY_CURRENT)) {\n+                value += \" - \" + audit.getKey();\n+            }\n+            map.put(audit.getKey(), value);\n+        }\n+        return map;\n+    }\n+\n+    private Form<?> initDropdownDiffConfForm() {\n+        final Form<AuditEntryTO> form = new Form<>(\"form\");\n+        form.setModel(new CompoundPropertyModel<>(selected));\n+        form.setOutputMarkupId(true);\n+\n+        final Map<String, String> namesMap = getDropdownNamesMap(availableTOs);\n+        List<String> keys = new ArrayList<>(namesMap.keySet());\n+\n+        final AjaxDropDownChoicePanel<String> dropdownElem = new AjaxDropDownChoicePanel<>(\n+                \"compareDropdown\",\n+                getString(\"compare\"),\n+                new PropertyModel<>(selected, \"key\"),\n+                false);\n+        dropdownElem.setChoices(keys);\n+        dropdownElem.setChoiceRenderer(new IChoiceRenderer<String>() {\n+\n+            private static final long serialVersionUID = -6265603675261014912L;\n+\n+            @Override\n+            public Object getDisplayValue(final String value) {\n+                return namesMap.get(value) == null ? value : namesMap.get(value);\n+            }\n+\n+            @Override\n+            public String getIdValue(final String value, final int i) {\n+                return value;\n+            }\n+\n+            @Override\n+            public String getObject(\n+                    final String id, final IModel<? extends List<? extends String>> choices) {\n+                return id;\n+            }\n+        });\n+        dropdownElem.setNullValid(false);\n+        dropdownElem.getField().add(new AjaxFormComponentUpdatingBehavior(Constants.ON_CHANGE) {\n+\n+            private static final long serialVersionUID = -1107858522700306810L;\n+\n+            @Override\n+            protected void onUpdate(final AjaxRequestTarget target) {\n+                List<AuditEntryTO> elemsToCompare = new ArrayList<>();\n+                elemsToCompare.add(selected);\n+\n+                final String selectedKey = dropdownElem.getModelObject();\n+                if (selectedKey != null) {\n+                    if (!selectedKey.isEmpty()) {\n+                        AuditEntryTO confToCompare = availableTOs.stream().\n+                                filter(object -> object.getKey().equals(selectedKey)).findAny().orElse(null);\n+                        elemsToCompare.add(confToCompare);\n+                        showConfigurationDiffPanel(elemsToCompare);\n+                    } else {\n+                        showConfigurationSinglePanel();\n+                    }\n+                }\n+                target.add(jsonPanel);\n+            }\n+        });\n+        form.add(dropdownElem);\n+\n+        return form;\n+    }\n+\n+    private void addCurrentInstanceConf() {\n+        try {\n+            AuditEntryTO entryBean = new AuditEntryTO();\n+            entryBean.setKey(KEY_CURRENT);\n+            entryBean.setWho(currentTO.getCreator());\n+            entryBean.setDate(currentTO.getCreationDate());\n+            entryBean.setBefore(MAPPER.writerWithDefaultPrettyPrinter().writeValueAsString(currentTO));\n+            availableTOs.add(entryBean);\n+        } catch (final Exception e) {\n+            throw new RuntimeException(e);\n+        }\n+    }\n+}"},{"sha":"60dc74343efda04e8479f55d68c23b5e28fbb12f","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/commons/IdRepoConstants.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdRepoConstants.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdRepoConstants.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdRepoConstants.java?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -66,6 +66,8 @@ public final class IdRepoConstants {\n \n     public static final String PREF_ACCESS_TOKEN_PAGINATOR_ROWS = \"accessToken.paginator.rows\";\n \n+    public static final String PREF_AUDIT_HISTORY_PAGINATOR_ROWS = \"audit.history.paginator.rows\";\n+\n     public static final String PREF_NOTIFICATION_PAGINATOR_ROWS = \"notification.paginator.rows\";\n \n     public static final String PREF_IMPLEMENTATION_PAGINATOR_ROWS = \"implementation.paginator.rows\";"},{"sha":"fe48e2336c9f5183b04886ca2b676f79bf1be171","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/AnyObjectDirectoryPanel.java","status":"modified","additions":23,"deletions":0,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel.java?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -26,6 +26,7 @@\n import org.apache.syncope.client.console.SyncopeConsoleSession;\n import org.apache.syncope.client.console.commons.IdRepoConstants;\n import org.apache.syncope.client.ui.commons.Constants;\n+import org.apache.syncope.client.console.audit.AuditHistoryModal;\n import org.apache.syncope.client.console.notifications.NotificationTasks;\n import org.apache.syncope.client.console.pages.BasePage;\n import org.apache.syncope.client.console.rest.AnyObjectRestClient;\n@@ -46,6 +47,7 @@\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.event.Broadcast;\n+import org.apache.wicket.model.CompoundPropertyModel;\n import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.Model;\n import org.apache.wicket.model.ResourceModel;\n@@ -170,6 +172,27 @@ public void onClick(final AjaxRequestTarget target, final AnyObjectTO ignore) {\n                 }\n             }, ActionType.NOTIFICATION_TASKS, IdRepoEntitlement.TASK_LIST);\n         }\n+        panel.add(new ActionLink<AnyObjectTO>() {\n+\n+            private static final long serialVersionUID = -2878723352517770644L;\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target, final AnyObjectTO ignore) {\n+                IModel<AnyWrapper<AnyObjectTO>> formModel = new CompoundPropertyModel<>(\n+                        new AnyWrapper<>(new AnyObjectRestClient().read(model.getObject().getKey())));\n+                altDefaultModal.setFormModel(formModel);\n+\n+                target.add(altDefaultModal.setContent(new AuditHistoryModal<>(\n+                        altDefaultModal,\n+                        pageRef,\n+                        formModel.getObject().getInnerObject())));\n+\n+                altDefaultModal.header(new StringResourceModel(\"auditHistory.title\", model));\n+\n+                altDefaultModal.show(true);\n+            }\n+        }, ActionType.VIEW_AUDIT_HISTORY, IdRepoEntitlement.AUDIT_LIST).\n+                setRealms(realm, model.getObject().getDynRealms());\n \n         panel.add(new ActionLink<AnyObjectTO>() {\n "},{"sha":"8d946d0a9f02bd2d2e054f01405179c199f13850","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/DirectoryPanel.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDirectoryPanel.java?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -279,7 +279,7 @@ private void updateResultTable(final boolean create, final int rows) {\n         dataProvider = dataProvider();\n \n         final int currentPage = Optional.ofNullable(resultTable)\n-            .map(table -> (create ? (int) table.getPageCount() - 1 : (int) table.getCurrentPage())).orElse(0);\n+                .map(table -> (create ? (int) table.getPageCount() - 1 : (int) table.getCurrentPage())).orElse(0);\n \n         // take care of restClient handle: maybe not useful to keep into\n         AjaxDataTablePanel.Builder<T, String> resultTableBuilder = new AjaxDataTablePanel.Builder<T, String>("},{"sha":"645e62851c5522a960705eaf4165a0bc9c68dd53","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/GroupDirectoryPanel.java","status":"modified","additions":25,"deletions":2,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel.java?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -28,6 +28,7 @@\n import org.apache.syncope.client.console.SyncopeConsoleSession;\n import org.apache.syncope.client.console.commons.IdRepoConstants;\n import org.apache.syncope.client.ui.commons.Constants;\n+import org.apache.syncope.client.console.audit.AuditHistoryModal;\n import org.apache.syncope.client.console.layout.FormLayoutInfoUtils;\n import org.apache.syncope.client.console.notifications.NotificationTasks;\n import org.apache.syncope.client.console.pages.BasePage;\n@@ -62,6 +63,7 @@\n import org.apache.wicket.event.Broadcast;\n import org.apache.wicket.markup.html.WebPage;\n import org.apache.wicket.markup.html.panel.Panel;\n+import org.apache.wicket.model.CompoundPropertyModel;\n import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.Model;\n import org.apache.wicket.model.ResourceModel;\n@@ -113,7 +115,7 @@ protected Panel getDirectoryPanel(final String id) {\n                                     SyncopeClient.getUserSearchConditionBuilder().is(\"key\").notNullValue()).query();\n \n                             panel = new UserDirectoryPanel.Builder(\n-                                AnyTypeClassRestClient.list(anyTypeTO.getClasses()), anyTypeTO.getKey(), pageRef).\n+                                    AnyTypeClassRestClient.list(anyTypeTO.getClasses()), anyTypeTO.getKey(), pageRef).\n                                     setRealm(SyncopeConstants.ROOT_REALM).\n                                     setFiltered(true).\n                                     setFiql(query).\n@@ -133,7 +135,7 @@ protected Panel getDirectoryPanel(final String id) {\n                                     SyncopeClient.getUserSearchConditionBuilder().is(\"key\").notNullValue()).query();\n \n                             panel = new AnyObjectDirectoryPanel.Builder(\n-                                AnyTypeClassRestClient.list(anyTypeTO.getClasses()), anyTypeTO.getKey(), pageRef).\n+                                    AnyTypeClassRestClient.list(anyTypeTO.getClasses()), anyTypeTO.getKey(), pageRef).\n                                     setRealm(SyncopeConstants.ROOT_REALM).\n                                     setFiltered(true).\n                                     setFiql(query).\n@@ -341,6 +343,27 @@ public void onClick(final AjaxRequestTarget target, final GroupTO ignore) {\n             }\n         }, ActionType.NOTIFICATION_TASKS, IdRepoEntitlement.TASK_LIST);\n \n+        panel.add(new ActionLink<GroupTO>() {\n+\n+            private static final long serialVersionUID = -2878723352517770644L;\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target, final GroupTO ignore) {\n+                IModel<GroupWrapper> formModel = new CompoundPropertyModel<>(\n+                        new GroupWrapper(new GroupRestClient().read(model.getObject().getKey())));\n+                target.add(altDefaultModal.setContent(new AuditHistoryModal<>(\n+                        altDefaultModal,\n+                        pageRef,\n+                        formModel.getObject().getInnerObject())));\n+\n+                altDefaultModal.header(new Model<>(\n+                        getString(\"auditHistory.title\", new Model<>(new AnyWrapper<>(model.getObject())))));\n+\n+                altDefaultModal.show(true);\n+            }\n+        }, ActionType.VIEW_AUDIT_HISTORY, IdRepoEntitlement.AUDIT_LIST).\n+                setRealms(realm, model.getObject().getDynRealms());\n+\n         panel.add(new ActionLink<GroupTO>() {\n \n             private static final long serialVersionUID = -7978723352517770644L;"},{"sha":"95930003ee23a17e8d5ab74dae09cf2be15709df","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/UserDirectoryPanel.java","status":"modified","additions":22,"deletions":0,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.java?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -28,6 +28,7 @@\n import org.apache.syncope.client.console.SyncopeConsoleSession;\n import org.apache.syncope.client.console.commons.IdRepoConstants;\n import org.apache.syncope.client.ui.commons.Constants;\n+import org.apache.syncope.client.console.audit.AuditHistoryModal;\n import org.apache.syncope.client.console.notifications.NotificationTasks;\n import org.apache.syncope.client.console.pages.BasePage;\n import org.apache.syncope.client.console.rest.UserRestClient;\n@@ -273,6 +274,27 @@ public void onClick(final AjaxRequestTarget target, final UserTO ignore) {\n             }, ActionType.NOTIFICATION_TASKS, IdRepoEntitlement.TASK_LIST);\n         }\n \n+        panel.add(new ActionLink<UserTO>() {\n+\n+            private static final long serialVersionUID = -1978723352517770644L;\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target, final UserTO ignore) {\n+                IModel<UserWrapper> formModel = new CompoundPropertyModel<>(\n+                        new UserWrapper(new UserRestClient().read(model.getObject().getKey())));\n+                target.add(altDefaultModal.setContent(new AuditHistoryModal<>(\n+                        altDefaultModal,\n+                        pageRef,\n+                        formModel.getObject().getInnerObject())));\n+\n+                altDefaultModal.header(new Model<>(\n+                        getString(\"auditHistory.title\", new Model<>(new AnyWrapper<>(model.getObject())))));\n+\n+                altDefaultModal.show(true);\n+            }\n+        }, ActionType.VIEW_AUDIT_HISTORY, IdRepoEntitlement.AUDIT_LIST).\n+                setRealms(realm, model.getObject().getDynRealms());\n+\n         panel.add(new ActionLink<UserTO>() {\n \n             private static final long serialVersionUID = -7978723352517770644L;"},{"sha":"0818859aa9559d5ff54879fb5209bed04d6ad573","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/rest/AuditHistoryRestClient.java","status":"added","additions":57,"deletions":0,"changes":57,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FAuditHistoryRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FAuditHistoryRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FAuditHistoryRestClient.java?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,57 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.console.rest;\n+\n+import java.util.List;\n+import org.apache.syncope.common.lib.to.AuditEntryTO;\n+import org.apache.syncope.common.lib.types.AuditElements;\n+import org.apache.syncope.common.rest.api.beans.AuditQuery;\n+import org.apache.syncope.common.rest.api.service.AuditService;\n+import org.apache.wicket.extensions.markup.html.repeater.util.SortParam;\n+\n+public class AuditHistoryRestClient extends BaseRestClient {\n+\n+    private static final long serialVersionUID = -381814125643246243L;\n+\n+    public static List<AuditEntryTO> search(\n+            final String key,\n+            final int page,\n+            final int size,\n+            final SortParam<String> sort,\n+            final List<String> events,\n+            final AuditElements.Result result) {\n+\n+        AuditQuery query = new AuditQuery.Builder(key).\n+                page(page).\n+                size(size).\n+                events(events).\n+                result(result).\n+                orderBy(toOrderBy(sort)).\n+                build();\n+        return getService(AuditService.class).search(query).getResult();\n+    }\n+\n+    public static int count(final String key, final List<String> events, final AuditElements.Result result) {\n+        AuditQuery query = new AuditQuery.Builder(key).\n+                events(events).\n+                result(result).\n+                build();\n+        return getService(AuditService.class).search(query).getTotalCount();\n+    }\n+}"},{"sha":"cc0d073494a092bbc1e25d7a287a5c772e2188f3","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wicket/markup/html/form/ActionLink.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -106,6 +106,7 @@ public enum ActionType {\n         VIEW_DETAILS(\"read\"),\n         MANAGE_APPROVAL(\"edit\"),\n         EDIT_APPROVAL(\"edit\"),\n+        VIEW_AUDIT_HISTORY(\"read\"),\n         EXTERNAL_EDITOR(\"externalEditor\");\n \n         private final String actionId;"},{"sha":"48c38eafe2575bba2ab92c39e8dd3d784a0834ed","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/audit/AuditHistoryModal.html","status":"added","additions":26,"deletions":0,"changes":26,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal.html?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,26 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n+<wicket:panel>\n+  <div class=\"panel-group box-group\">\n+    <wicket:child/>\n+  </div>\n+  <span wicket:id=\"history\">[History]</span>\n+</wicket:panel>\n+</html>"},{"sha":"e2abe899252e8e3e103d4e3b59229769d18c75ca","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/audit/AuditHistoryModal.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+who=Who\n+date=Date\n+audit.diff.view=Configuration"},{"sha":"e2abe899252e8e3e103d4e3b59229769d18c75ca","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/audit/AuditHistoryModal_it.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal_it.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+who=Who\n+date=Date\n+audit.diff.view=Configuration"},{"sha":"e2abe899252e8e3e103d4e3b59229769d18c75ca","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/audit/AuditHistoryModal_ja.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal_ja.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+who=Who\n+date=Date\n+audit.diff.view=Configuration"},{"sha":"e2abe899252e8e3e103d4e3b59229769d18c75ca","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/audit/AuditHistoryModal_pt_BR.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal_pt_BR.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+who=Who\n+date=Date\n+audit.diff.view=Configuration"},{"sha":"e2abe899252e8e3e103d4e3b59229769d18c75ca","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/audit/AuditHistoryModal_ru.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FAuditHistoryModal_ru.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+who=Who\n+date=Date\n+audit.diff.view=Configuration"},{"sha":"da899345e018aea1ed53f816e119330cbb997e2f","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/audit/HistoryAuditDetails.html","status":"added","additions":29,"deletions":0,"changes":29,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails.html?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,29 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n+  <wicket:panel>\n+\n+    <form wicket:id=\"form\">\n+      <span wicket:id=\"compareDropdown\"></span>\n+    </form>\n+\n+    <div wicket:id=\"content\"></div>\n+\n+  </wicket:panel>\n+</html>"},{"sha":"b1406fe09c35d0c6b0d8c25b76aac250e1080498","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/audit/HistoryAuditDetails.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+history.view=History view\n+compare=Compare with\n+current=Current"},{"sha":"e128bca48e1ab7f636b5708fe3ccdf150b302ec0","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/audit/HistoryAuditDetails_it.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails_it.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+history.view=Storico vista\n+compare=paragonare con\n+current=presente"},{"sha":"b1406fe09c35d0c6b0d8c25b76aac250e1080498","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/audit/HistoryAuditDetails_ja.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails_ja.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+history.view=History view\n+compare=Compare with\n+current=Current"},{"sha":"b1406fe09c35d0c6b0d8c25b76aac250e1080498","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/audit/HistoryAuditDetails_pt_BR.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails_pt_BR.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+history.view=History view\n+compare=Compare with\n+current=Current"},{"sha":"b1406fe09c35d0c6b0d8c25b76aac250e1080498","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/audit/HistoryAuditDetails_ru.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Faudit%2FHistoryAuditDetails_ru.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+history.view=History view\n+compare=Compare with\n+current=Current"},{"sha":"441f190d90fb774bed51140861ff6253c0b6ad0b","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/AnyObjectDirectoryPanel.properties","status":"added","additions":17,"deletions":0,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,17 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+auditHistory.title=${type} ${name} history"},{"sha":"441f190d90fb774bed51140861ff6253c0b6ad0b","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/AnyObjectDirectoryPanel_it.properties","status":"added","additions":17,"deletions":0,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel_it.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,17 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+auditHistory.title=${type} ${name} history"},{"sha":"441f190d90fb774bed51140861ff6253c0b6ad0b","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/AnyObjectDirectoryPanel_ja.properties","status":"added","additions":17,"deletions":0,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel_ja.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,17 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+auditHistory.title=${type} ${name} history"},{"sha":"441f190d90fb774bed51140861ff6253c0b6ad0b","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/AnyObjectDirectoryPanel_pt_BR.properties","status":"added","additions":17,"deletions":0,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel_pt_BR.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,17 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+auditHistory.title=${type} ${name} history"},{"sha":"441f190d90fb774bed51140861ff6253c0b6ad0b","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/AnyObjectDirectoryPanel_ru.properties","status":"added","additions":17,"deletions":0,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel_ru.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -0,0 +1,17 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+auditHistory.title=${type} ${name} history"},{"sha":"7c1cb8cdc53e05f8a91a539ac47d4eb02b7c1e87","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/GroupDirectoryPanel.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -16,3 +16,4 @@\n # under the License.\n any.edit=Edit ${anyTO.type} ${anyTO.name}\n group.members=${right} members of ${left.name}\n+auditHistory.title=${anyTO.type} ${anyTO.name} history"},{"sha":"8566276c48935a4b14981943fc091aa2c8d9d1ba","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/GroupDirectoryPanel_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel_it.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -16,3 +16,4 @@\n # under the License.\n any.edit=Modifica ${anyTO.type} ${anyTO.name}\n group.members=Membri ${right} di '${left.name}'\n+auditHistory.title=${anyTO.type} ${anyTO.name} history"},{"sha":"2f0982a197f628b9e5545b2706b6f82a1be909b7","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/GroupDirectoryPanel_ja.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel_ja.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -16,3 +16,4 @@\n # under the License.\n any.edit=${anyTO.type} ${anyTO.name} \\u3092\\u7de8\\u96c6\n group.members=${left.name} \\u306e ${right} \\u30e1\\u30f3\\u30d0\\u30fc \n+auditHistory.title=${anyTO.type} ${anyTO.name} history"},{"sha":"b5730e23ccbb5d455534a8baa151d7f72d209a1f","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/GroupDirectoryPanel_pt_BR.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel_pt_BR.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -16,3 +16,4 @@\n # under the License.\n any.edit=Alterar ${anyTO.type} ${anyTO.name}\n group.members=${right} members of ${left.name}\n+auditHistory.title=${anyTO.type} ${anyTO.name} history"},{"sha":"84e3f7b4ecd48368b7178a2b4f7ff4193ab3dfc9","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/GroupDirectoryPanel_ru.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel_ru.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -17,3 +17,4 @@\n #\n any.edit=\\u0418\\u0437\\u043c\\u0435\\u043d\\u0438\\u0442\\u044c ${anyTO.type} ${anyTO.name}\n group.members=${right} \\u0443\\u0447\\u0430\\u0441\\u0442\\u043d\\u0438\\u043a\\u0438 ${left.name}\n+auditHistory.title=${anyTO.type} ${anyTO.name} history"},{"sha":"1d4db0d844fcfd1da88218db9494360ef34f795d","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/UserDirectoryPanel.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -18,3 +18,4 @@ any.edit=Edit ${anyTO.type} ${anyTO.username}\n any.propagation.tasks=Propagation tasks for ${type} ${username}\n any.notification.tasks=Notification tasks for ${type} ${username}\n linkedAccounts.title=Manage user accounts\n+auditHistory.title=${anyTO.type} ${anyTO.username} history"},{"sha":"ef6c91aa6fda5558c261300e9d9b16226ad41759","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/UserDirectoryPanel_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_it.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -18,3 +18,4 @@ any.edit=Modifica ${anyTO.type} ${anyTO.username}\n any.propagation.tasks=Task di propagazione per ${type} ${username}\n any.notification.tasks=Task di notifica per ${type} ${username}\n linkedAccounts.title=Gestisci account utente\n+auditHistory.title=${anyTO.type} ${anyTO.username} history"},{"sha":"a2193e2b4d999c331629870469ae9b6fd7fd7228","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/UserDirectoryPanel_ja.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_ja.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -18,3 +18,4 @@ any.edit=${anyTO.type} ${anyTO.username} \\u3092\\u7de8\\u96c6\n any.propagation.tasks=${type} ${username} \\u306e\\u4f1d\\u64ad\\u30bf\\u30b9\\u30af\n any.notification.tasks=${type} ${username} \\u306e\\u901a\\u77e5\\u30bf\\u30b9\\u30af\n linkedAccounts.title=\\u30e6\\u30fc\\u30b6\\u30fc\\u30a2\\u30ab\\u30a6\\u30f3\\u30c8\\u3092\\u7ba1\\u7406\\u3059\\u308b\n+auditHistory.title=${anyTO.type} ${anyTO.username} history"},{"sha":"84d5d861731437ef56a65ceeb207aa880427acec","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/UserDirectoryPanel_pt_BR.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_pt_BR.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -18,3 +18,4 @@ any.edit=Alterar ${anyTO.type} ${anyTO.username}\n any.propagation.tasks=Propagation tasks for ${type} ${username}\n any.notification.tasks=Notification tasks for ${type} ${username}\n linkedAccounts.title=Gerenciar contas de usu\\u00e1rio\n+auditHistory.title=${anyTO.type} ${anyTO.username} history"},{"sha":"378c49a7cbb5a81746233fc7fb74069c1485e663","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/UserDirectoryPanel_ru.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_ru.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -19,3 +19,4 @@ any.edit=\\u0418\\u0437\\u043c\\u0435\\u043d\\u0438\\u0442\\u044c ${anyTO.type} ${anyTO.\n any.propagation.tasks=\\u0417\\u0430\\u0434\\u0430\\u0447\\u0438 \\u0432\\u044b\\u043f\\u043e\\u043b\\u043d\\u0435\\u043d\\u0438\\u044f \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0439 \\u0434\\u043b\\u044f ${type} ${username}\n any.notification.tasks=\\u0417\\u0430\\u0434\\u0430\\u0447\\u0438 \\u043e\\u0442\\u043f\\u0440\\u0430\\u0432\\u043a\\u0438 \\u0443\\u0432\\u0435\\u0434\\u043e\\u043c\\u043b\\u0435\\u043d\\u0438\\u0439 \\u0434\\u043b\\u044f ${type} ${username}\n linkedAccounts.title=\\u0423\\u043f\\u0440\\u0430\\u0432\\u043b\\u0435\\u043d\\u0438\\u0435 \\u0443\\u0447\\u0435\\u0442\\u043d\\u044b\\u043c\\u0438 \\u0437\\u0430\\u043f\\u0438\\u0441\\u044f\\u043c\\u0438 \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0435\\u0439\n+auditHistory.title=${anyTO.type} ${anyTO.username} history"},{"sha":"163ece9b02393b6f9b2e4bd32e0e266dca897bf1","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionsPanel.properties","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -277,3 +277,7 @@ manage_accounts.alt=manage accounts icon\n workflow_modeler.class=fa fa-picture-o\n workflow_modeler.title=workflow modeler\n workflow_modeler.alt=workflow modeler icon\n+\n+view_audit_history.class=fa fa-history\n+view_audit_history.title=history management\n+view_audit_history.alt=history management icon"},{"sha":"bea031c343dd825df90b189eee0a3506640af5a4","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionsPanel_it.properties","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_it.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -268,3 +268,7 @@ reconciliation_pull.alt=reconciliation pull icon\n manage_accounts.class=fa fa-users\n manage_accounts.title=gestisci account\n manage_accounts.alt=manage accounts icon\n+\n+view_audit_history.class=fa fa-history\n+view_audit_history.title=storico modifiche\n+view_audit_history.alt=storico modifiche icon"},{"sha":"8b73d1e95f3e9fb42ba8c8f051255e4984262870","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionsPanel_ja.properties","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_ja.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -269,3 +269,7 @@ reconciliation_pull.alt=\\u7167\\u5408\\u30d7\\u30eb icon\n manage_accounts.class=fa fa-users\n manage_accounts.title=\\u30a2\\u30ab\\u30a6\\u30f3\\u30c8\\u3092\\u7ba1\\u7406\\u3059\\u308b\n manage_accounts.alt=\\u30a2\\u30ab\\u30a6\\u30f3\\u30c8\\u7ba1\\u7406\\u30a2\\u30a4\\u30b3\\u30f3\n+\n+view_audit_history.class=fa fa-history\n+view_audit_history.title=history management\n+view_audit_history.alt=history management icon"},{"sha":"9daea4124ae8c489d87bceb2e54da8d994342588","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionsPanel_pt_BR.properties","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_pt_BR.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -282,6 +282,6 @@ manage_accounts.class=fa fa-users\n manage_accounts.title=manage accounts\n manage_accounts.alt=manage accounts icon\n \n-workflow_modeler.class=fa fa-picture-o\n-workflow_modeler.title=workflow modeler\n-workflow_modeler.alt=workflow modeler icon\n+view_audit_history.class=fa fa-history\n+view_audit_history.title=history management\n+view_audit_history.alt=history management icon"},{"sha":"f7a3b900804d2df3ecf47bc73d44d66ca67d243a","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionsPanel_ru.properties","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_ru.properties?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -268,3 +268,7 @@ reconciliation_pull.alt=reconciliation pull icon\n manage_accounts.class=fa fa-users\n manage_accounts.title=manage accounts\n manage_accounts.alt=manage accounts icon\n+\n+view_audit_history.class=fa fa-history\n+view_audit_history.title=history management\n+view_audit_history.alt=history management icon"},{"sha":"5a11d4169d25d6812c6c069935e8d2ef0bce0027","filename":"core/persistence-jpa-json/src/test/resources/domains/MasterContent.xml","status":"modified","additions":20,"deletions":7,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/core%2Fpersistence-jpa-json%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/core%2Fpersistence-jpa-json%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa-json%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -2340,7 +2340,26 @@ $$ }&#10;\n   <SecurityQuestion id=\"887028ea-66fc-41e7-b397-620d7ea6dfbb\" content=\"What's your mother's maiden name?\"/>\n \n   <SyncopeLogger logName=\"syncope.audit.[LOGIC]:[SyncopeLogic]:[]:[isSelfRegAllowed]:[SUCCESS]\" logLevel=\"DEBUG\" logType=\"AUDIT\"/>\n-  \n+\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[assign]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[assign]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[create]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[create]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[delete]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[delete]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[deprovision]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[deprovision]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[link]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[link]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[provision]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[provision]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[unassign]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[unassign]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[unlink]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[unlink]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[update]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[update]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[assign]:[FAILURE]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[assign]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[confirmPasswordReset]:[FAILURE]\" logLevel=\"DEBUG\"/>\n@@ -2357,12 +2376,8 @@ $$ }&#10;\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[mustChangePassword]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[provision]:[FAILURE]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[provision]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n-  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[read]:[FAILURE]\" logLevel=\"DEBUG\"/>\n-  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[read]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[requestPasswordReset]:[FAILURE]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[requestPasswordReset]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n-  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[search]:[FAILURE]\" logLevel=\"DEBUG\"/>\n-  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[search]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[selfCreate]:[FAILURE]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[selfCreate]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[selfDelete]:[FAILURE]\" logLevel=\"DEBUG\"/>\n@@ -2390,8 +2405,6 @@ $$ }&#10;\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[GroupLogic]:[]:[own]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[GroupLogic]:[]:[provisionMembers]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[GroupLogic]:[]:[provision]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n-  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[GroupLogic]:[]:[read]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n-  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[GroupLogic]:[]:[search]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[GroupLogic]:[]:[unassign]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[GroupLogic]:[]:[unlink]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[GroupLogic]:[]:[update]:[SUCCESS]\" logLevel=\"DEBUG\"/>"},{"sha":"8c7fa097f5f9665cdd2292848a4b9a09f558a6aa","filename":"core/persistence-jpa/src/test/resources/domains/MasterContent.xml","status":"modified","additions":20,"deletions":7,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -2427,7 +2427,26 @@ $$ }&#10;\n   <SecurityQuestion id=\"887028ea-66fc-41e7-b397-620d7ea6dfbb\" content=\"What's your mother's maiden name?\"/>\n \n   <SyncopeLogger logName=\"syncope.audit.[LOGIC]:[SyncopeLogic]:[]:[isSelfRegAllowed]:[SUCCESS]\" logLevel=\"DEBUG\" logType=\"AUDIT\"/>\n-  \n+\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[assign]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[assign]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[create]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[create]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[delete]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[delete]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[deprovision]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[deprovision]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[link]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[link]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[provision]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[provision]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[unassign]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[unassign]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[unlink]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[unlink]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[update]:[FAILURE]\" logLevel=\"DEBUG\"/>\n+  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[AnyObjectLogic]:[]:[update]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n+\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[assign]:[FAILURE]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[assign]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[confirmPasswordReset]:[FAILURE]\" logLevel=\"DEBUG\"/>\n@@ -2444,12 +2463,8 @@ $$ }&#10;\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[mustChangePassword]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[provision]:[FAILURE]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[provision]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n-  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[read]:[FAILURE]\" logLevel=\"DEBUG\"/>\n-  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[read]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[requestPasswordReset]:[FAILURE]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[requestPasswordReset]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n-  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[search]:[FAILURE]\" logLevel=\"DEBUG\"/>\n-  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[search]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[selfCreate]:[FAILURE]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[selfCreate]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[UserLogic]:[]:[selfDelete]:[FAILURE]\" logLevel=\"DEBUG\"/>\n@@ -2477,8 +2492,6 @@ $$ }&#10;\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[GroupLogic]:[]:[own]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[GroupLogic]:[]:[provisionMembers]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[GroupLogic]:[]:[provision]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n-  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[GroupLogic]:[]:[read]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n-  <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[GroupLogic]:[]:[search]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[GroupLogic]:[]:[unassign]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[GroupLogic]:[]:[unlink]:[SUCCESS]\" logLevel=\"DEBUG\"/>\n   <SyncopeLogger logType=\"AUDIT\" logName=\"syncope.audit.[LOGIC]:[GroupLogic]:[]:[update]:[SUCCESS]\" logLevel=\"DEBUG\"/>"},{"sha":"c7b8faa613077d6b84b471b3564ff60627eee14e","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/serialization/POJOHelper.java","status":"modified","additions":12,"deletions":0,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fserialization%2FPOJOHelper.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fserialization%2FPOJOHelper.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fserialization%2FPOJOHelper.java?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -64,6 +64,18 @@ public static String serialize(final Object object) {\n         return result;\n     }\n \n+    public static String serializeWithDefaultPrettyPrinter(final Object object) {\n+        String result = null;\n+\n+        try {\n+            result = MAPPER.writerWithDefaultPrettyPrinter().writeValueAsString(object);\n+        } catch (Exception e) {\n+            LOG.error(\"During serialization\", e);\n+        }\n+\n+        return result;\n+    }\n+\n     public static <T extends Object> T deserialize(final String serialized, final Class<T> reference) {\n         T result = null;\n "},{"sha":"374c71710be65aa01bd898906fe48f8a2f10ec65","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/DefaultAuditManager.java","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FDefaultAuditManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FDefaultAuditManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FDefaultAuditManager.java?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -35,6 +35,8 @@\n import org.springframework.transaction.annotation.Propagation;\n import org.springframework.transaction.annotation.Transactional;\n \n+import java.util.Date;\n+\n @Transactional(readOnly = true)\n public class DefaultAuditManager implements AuditManager {\n \n@@ -52,6 +54,7 @@ public boolean auditRequested(\n         AuditEntry auditEntry = AuditEntryImpl.builder().\n                 who(who).\n                 logger(new AuditLoggerName(type, category, subcategory, event, Result.SUCCESS)).\n+                date(new Date()).\n                 build();\n         org.apache.syncope.core.persistence.api.entity.Logger syncopeLogger =\n                 loggerDAO.find(auditEntry.getLogger().toLoggerName());\n@@ -64,6 +67,7 @@ public boolean auditRequested(\n         auditEntry = AuditEntryImpl.builder()\n                 .who(who)\n                 .logger(new AuditLoggerName(type, category, subcategory, event, Result.FAILURE))\n+                .date(new Date())\n                 .build();\n         syncopeLogger = loggerDAO.find(auditEntry.getLogger().toLoggerName());\n         auditRequested = syncopeLogger != null && syncopeLogger.getLevel() == LoggerLevel.DEBUG;\n@@ -110,6 +114,7 @@ public void audit(\n                 before(before).\n                 output(throwable == null ? output : throwable.getMessage()).\n                 input(input).\n+                date(new Date()).\n                 build();\n \n         org.apache.syncope.core.persistence.api.entity.Logger syncopeLogger ="},{"sha":"4937503a07a8eaa49b1edc6330d20e53a17020b9","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/data/AuditDataBinderImpl.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FAuditDataBinderImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FAuditDataBinderImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FAuditDataBinderImpl.java?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -47,18 +47,18 @@ public AuditEntryTO getAuditTO(final String key, final AuditEntry auditEntry) {\n         }\n \n         if (auditEntry.getBefore() != null) {\n-            auditEntryTO.setBefore(POJOHelper.serialize(auditEntry.getBefore()));\n+            auditEntryTO.setBefore(POJOHelper.serializeWithDefaultPrettyPrinter(auditEntry.getBefore()));\n         }\n \n         if (auditEntry.getInput() != null) {\n             auditEntryTO.getInputs().addAll(Arrays.stream(auditEntry.getInput()).\n                     filter(Objects::nonNull).\n-                    map(POJOHelper::serialize).\n+                    map(POJOHelper::serializeWithDefaultPrettyPrinter).\n                     collect(Collectors.toList()));\n         }\n \n         if (auditEntry.getOutput() != null) {\n-            auditEntryTO.setOutput(POJOHelper.serialize(auditEntry.getOutput()));\n+            auditEntryTO.setOutput(POJOHelper.serializeWithDefaultPrettyPrinter(auditEntry.getOutput()));\n         }\n \n         return auditEntryTO;"},{"sha":"cff5d47e38df6df8e9054973c3350311ed0d7f15","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/AuditITCase.java","status":"modified","additions":79,"deletions":7,"changes":86,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/886d9711858389a83586eb883fd685035fd94692/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FAuditITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/886d9711858389a83586eb883fd685035fd94692/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FAuditITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FAuditITCase.java?ref=886d9711858389a83586eb883fd685035fd94692","patch":"@@ -18,22 +18,32 @@\n  */\n package org.apache.syncope.fit.core;\n \n-import static org.junit.jupiter.api.Assertions.assertEquals;\n-import static org.junit.jupiter.api.Assertions.assertNotNull;\n import static org.junit.jupiter.api.Assertions.fail;\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+import static org.junit.jupiter.api.Assertions.assertNull;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n \n import java.util.List;\n+import org.apache.syncope.client.lib.SyncopeClient;\n+import org.apache.syncope.common.lib.SyncopeConstants;\n+import org.apache.syncope.common.lib.to.AnyObjectTO;\n import org.apache.syncope.common.lib.to.AuditEntryTO;\n import org.apache.syncope.common.lib.to.GroupTO;\n+import org.apache.syncope.common.lib.to.PagedResult;\n import org.apache.syncope.common.lib.to.UserTO;\n import org.apache.syncope.common.lib.types.AuditElements;\n+import org.apache.syncope.common.rest.api.beans.AnyQuery;\n import org.apache.syncope.common.rest.api.beans.AuditQuery;\n import org.apache.syncope.fit.AbstractITCase;\n import org.junit.jupiter.api.Test;\n \n public class AuditITCase extends AbstractITCase {\n \n-    private AuditEntryTO query(final AuditQuery query, final int maxWaitSeconds) {\n+    private static final int MAX_WAIT_SECONDS = 30;\n+\n+    private static AuditEntryTO query(final AuditQuery query, final int maxWaitSeconds, final boolean failIfEmpty) {\n         int i = 0;\n         List<AuditEntryTO> results = List.of();\n         do {\n@@ -47,20 +57,39 @@ private AuditEntryTO query(final AuditQuery query, final int maxWaitSeconds) {\n             i++;\n         } while (results.isEmpty() && i < maxWaitSeconds);\n         if (results.isEmpty()) {\n-            fail(\"Timeout when executing query for key \" + query.getEntityKey());\n+            if (failIfEmpty) {\n+                fail(\"Timeout when executing query for key \" + query.getEntityKey());\n+            }\n+            return null;\n         }\n \n         return results.get(0);\n     }\n \n+    @Test\n+    public void userReadAndSearchYieldsNoAudit() {\n+        PagedResult<UserTO> users = userService.search(\n+                new AnyQuery.Builder().realm(SyncopeConstants.ROOT_REALM).page(1).size(2).build());\n+        assertNotNull(users);\n+        assertFalse(users.getResult().isEmpty());\n+\n+        users.getResult().forEach(user -> assertNotNull(userService.read(user.getKey())));\n+\n+        users.getResult().forEach(user -> {\n+            AuditQuery query = new AuditQuery.Builder(user.getKey()).build();\n+            AuditEntryTO entry = query(query, MAX_WAIT_SECONDS, false);\n+            assertNull(entry);\n+        });\n+    }\n+\n     @Test\n     public void findByUser() {\n         UserTO userTO = createUser(UserITCase.getUniqueSample(\"audit@syncope.org\")).getEntity();\n         assertNotNull(userTO.getKey());\n \n         AuditQuery query = new AuditQuery.Builder(userTO.getKey()).orderBy(\"event_date desc\").\n                 page(1).size(1).build();\n-        AuditEntryTO entry = query(query, 50);\n+        AuditEntryTO entry = query(query, MAX_WAIT_SECONDS, true);\n         assertEquals(userTO.getKey(), entry.getKey());\n         userService.delete(userTO.getKey());\n     }\n@@ -79,7 +108,7 @@ public void findByUserAndOther() {\n                 event(\"create\").\n                 result(AuditElements.Result.SUCCESS).\n                 build();\n-        AuditEntryTO entry = query(query, 50);\n+        AuditEntryTO entry = query(query, MAX_WAIT_SECONDS, true);\n         assertEquals(userTO.getKey(), entry.getKey());\n         userService.delete(userTO.getKey());\n     }\n@@ -91,8 +120,51 @@ public void findByGroup() {\n \n         AuditQuery query = new AuditQuery.Builder(groupTO.getKey()).orderBy(\"event_date desc\").\n                 page(1).size(1).build();\n-        AuditEntryTO entry = query(query, 50);\n+        AuditEntryTO entry = query(query, MAX_WAIT_SECONDS, true);\n         assertEquals(groupTO.getKey(), entry.getKey());\n         groupService.delete(groupTO.getKey());\n     }\n+\n+    @Test\n+    public void groupReadAndSearchYieldsNoAudit() {\n+        PagedResult<GroupTO> groups = groupService.search(\n+                new AnyQuery.Builder().realm(SyncopeConstants.ROOT_REALM).build());\n+        assertNotNull(groups);\n+        assertFalse(groups.getResult().isEmpty());\n+\n+        groups.getResult().forEach(groupTO -> assertNotNull(groupService.read(groupTO.getKey())));\n+\n+        groups.getResult().forEach(groupTO -> {\n+            AuditQuery query = new AuditQuery.Builder(groupTO.getKey()).build();\n+            AuditEntryTO entry = query(query, MAX_WAIT_SECONDS, false);\n+            assertNull(entry);\n+        });\n+    }\n+\n+    @Test\n+    public void findByAnyObject() {\n+        AnyObjectTO anyObjectTO = createAnyObject(AnyObjectITCase.getSample(\"Italy\")).getEntity();\n+        assertNotNull(anyObjectTO.getKey());\n+        AuditQuery query = new AuditQuery.Builder(anyObjectTO.getKey()).orderBy(\"event_date desc\").\n+                page(1).size(1).build();\n+        AuditEntryTO entry = query(query, MAX_WAIT_SECONDS, true);\n+        assertEquals(anyObjectTO.getKey(), entry.getKey());\n+        anyObjectService.delete(anyObjectTO.getKey());\n+    }\n+\n+    @Test\n+    public void anyObjectReadAndSearchYieldsNoAudit() {\n+        PagedResult<AnyObjectTO> anyObjects = anyObjectService.search(\n+                new AnyQuery.Builder().realm(SyncopeConstants.ROOT_REALM).\n+                        fiql(SyncopeClient.getAnyObjectSearchConditionBuilder(getUUIDString()).query()).\n+                        build());\n+        assertNotNull(anyObjects);\n+        assertTrue(anyObjects.getResult().isEmpty());\n+\n+        anyObjects.getResult().forEach(anyObjectTO -> {\n+            AuditQuery query = new AuditQuery.Builder(anyObjectTO.getKey()).build();\n+            AuditEntryTO entry = query(query, MAX_WAIT_SECONDS, false);\n+            assertNull(entry);\n+        });\n+    }\n }"}]}
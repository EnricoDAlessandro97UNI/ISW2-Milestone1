{"sha":"ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmVmMWQ4ZjdhNGY5NDBlYWMzZDkzZTI0YmY2Y2JhNDAyMDRlYmE1ZjU=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2019-06-04T12:27:18Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2019-06-04T12:27:18Z"},"message":"Adding Maven profile sso-it to check SAML 2.0 and OpenID Connect 1.0 SSO from Admin Console and Enduser UI","tree":{"sha":"c4a272f70779af69c9007370b0cc04c2cbb9e92d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/c4a272f70779af69c9007370b0cc04c2cbb9e92d"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"950446e1b66999a7c02f9813e3d688fd5535e982","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/950446e1b66999a7c02f9813e3d688fd5535e982","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/950446e1b66999a7c02f9813e3d688fd5535e982"}],"stats":{"total":3148,"additions":3147,"deletions":1},"files":[{"sha":"0bac13a32439503ca325f50a8596910edac89d5d","filename":"fit/enduser-reference/pom.xml","status":"modified","additions":120,"deletions":1,"changes":121,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fpom.xml?ref=ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5","patch":"@@ -99,6 +99,16 @@ under the License.\n       <type>war</type>\n       <scope>test</scope>\n     </dependency>\n+    <dependency>\n+      <groupId>org.apache.httpcomponents</groupId>\n+      <artifactId>httpclient</artifactId>\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.junit.jupiter</groupId>\n+      <artifactId>junit-jupiter</artifactId>\n+      <scope>test</scope>\n+    </dependency>\n   </dependencies>\n \n   <build>\n@@ -314,7 +324,116 @@ under the License.\n         </resources>\n       </build>\n     </profile>\n-    \n+\n+    <profile>\n+      <id>sso-it</id>\n+\n+      <build>\n+        <plugins>          \n+          <plugin>\n+            <groupId>io.fabric8</groupId>\n+            <artifactId>docker-maven-plugin</artifactId>\n+            <configuration>\n+              <images>\n+                <image>\n+                  <name>jboss/keycloak:6.0.1</name>\n+                  <run>\n+                    <hostname>keycloak</hostname>\n+                    <env>\n+                      <DB_VENDOR>h2</DB_VENDOR>\n+                      <KEYCLOAK_USER>admin</KEYCLOAK_USER>\n+                      <KEYCLOAK_PASSWORD>password</KEYCLOAK_PASSWORD>\n+                    </env>\n+                    <ports>\n+                      <port>9090:8080</port>\n+                    </ports>\n+                    <volumes>\n+                      <bind>\n+                        <volume>${basedir}/src/test/resources/sso/init.sh:/opt/jboss/startup-scripts/init.sh</volume>\n+                        <volume>${project.build.testOutputDirectory}/sso/delayed-init:/tmp/delayed-init</volume>\n+                        <volume>${project.build.testOutputDirectory}/sso/saml2syncope-console.json:/tmp/saml2syncope-console.json</volume>\n+                        <volume>${project.build.testOutputDirectory}/sso/saml2syncope-enduser.json:/tmp/saml2syncope-enduser.json</volume>\n+                        <volume>${project.build.testOutputDirectory}/sso/oidc-syncope.json:/tmp/oidc-syncope.json</volume>\n+                      </bind>\n+                    </volumes>\n+                  </run>\n+                </image>\n+              </images>\n+            </configuration>\n+            <executions>\n+              <execution>\n+                <id>start-keycloak</id>\n+                <phase>pre-integration-test</phase>\n+                <goals>\n+                  <goal>start</goal>\n+                </goals>\n+              </execution>\n+              <execution>\n+                <id>stop-keycloak</id>\n+                <phase>post-integration-test</phase>\n+                <goals>\n+                  <goal>stop</goal>\n+                  <goal>remove</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+\n+          <plugin>\n+            <groupId>org.codehaus.cargo</groupId>\n+            <artifactId>cargo-maven2-plugin</artifactId>\n+            <inherited>true</inherited>\n+            <configuration>\n+              <configuration>\n+                <properties>\n+                  <cargo.jvmargs>\n+                    -Dspring.profiles.active=embedded\n+                    -Dwicket.core.settings.general.configuration-type=development\n+                    -XX:+CMSClassUnloadingEnabled -XX:+UseG1GC -Xmx1024m -Xms512m</cargo.jvmargs>\n+                </properties>\n+              </configuration>\n+            </configuration>\n+            <executions>\n+              <execution>\n+                <id>start-container</id>\n+                <phase>pre-integration-test</phase>\n+                <goals>\n+                  <goal>start</goal>\n+                </goals>\n+                <configuration>\n+                  <skip>${skipTests}</skip>\n+                </configuration>\n+              </execution>\n+              <execution>\n+                <id>stop-container</id>\n+                <phase>post-integration-test</phase>\n+                <goals>\n+                  <goal>stop</goal>\n+                </goals>\n+                <configuration>\n+                  <skip>${skipTests}</skip>\n+                </configuration>\n+              </execution>\n+            </executions>\n+          </plugin>\n+\n+          <plugin>\n+            <groupId>org.apache.maven.plugins</groupId>\n+            <artifactId>maven-failsafe-plugin</artifactId>\n+            <inherited>true</inherited>\n+            <executions>\n+              <execution>\n+                <id>verify</id>\n+                <goals>\n+                  <goal>verify</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+        </plugins>\n+      </build>\n+    </profile>\n+\n     <profile>\n       <id>apache-release</id>\n "},{"sha":"7f434929c8df921cf1346b8ef126c3b1702f5c65","filename":"fit/enduser-reference/src/test/java/org/apache/syncope/fit/AbstractITCase.java","status":"added","additions":51,"deletions":0,"changes":51,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FAbstractITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FAbstractITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FAbstractITCase.java?ref=ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5","patch":"@@ -0,0 +1,51 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.fit;\n+\n+import org.apache.syncope.client.lib.SyncopeClient;\n+import org.apache.syncope.client.lib.SyncopeClientFactoryBean;\n+import org.apache.syncope.common.rest.api.service.OIDCProviderService;\n+import org.apache.syncope.common.rest.api.service.SAML2IdPService;\n+import org.junit.jupiter.api.BeforeAll;\n+\n+public abstract class AbstractITCase {\n+\n+    protected static final String ADMIN_UNAME = \"admin\";\n+\n+    protected static final String ADMIN_PWD = \"password\";\n+\n+    protected static final String ADDRESS = \"http://localhost:9080/syncope/rest\";\n+\n+    protected static SyncopeClientFactoryBean clientFactory;\n+\n+    protected static SyncopeClient adminClient;\n+\n+    protected static SAML2IdPService saml2IdPService;\n+\n+    protected static OIDCProviderService oidcProviderService;\n+\n+    @BeforeAll\n+    public static void restSetup() {\n+        clientFactory = new SyncopeClientFactoryBean().setAddress(ADDRESS);\n+        adminClient = clientFactory.create(ADMIN_UNAME, ADMIN_PWD);\n+\n+        saml2IdPService = adminClient.getService(SAML2IdPService.class);\n+        oidcProviderService = adminClient.getService(OIDCProviderService.class);\n+    }\n+}"},{"sha":"6058ad2574b38da66b2ae0ad4e4d99f7aec7a351","filename":"fit/enduser-reference/src/test/java/org/apache/syncope/fit/OIDCClientITCase.java","status":"added","additions":144,"deletions":0,"changes":144,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FOIDCClientITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FOIDCClientITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FOIDCClientITCase.java?ref=ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5","patch":"@@ -0,0 +1,144 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.fit;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+import java.io.IOException;\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.http.Consts;\n+import org.apache.http.HttpHeaders;\n+import org.apache.http.HttpStatus;\n+import org.apache.http.NameValuePair;\n+import org.apache.http.client.entity.UrlEncodedFormEntity;\n+import org.apache.http.client.methods.CloseableHttpResponse;\n+import org.apache.http.client.methods.HttpGet;\n+import org.apache.http.client.methods.HttpPost;\n+import org.apache.http.client.protocol.HttpClientContext;\n+import org.apache.http.impl.client.BasicCookieStore;\n+import org.apache.http.impl.client.CloseableHttpClient;\n+import org.apache.http.impl.client.HttpClients;\n+import org.apache.http.message.BasicHeader;\n+import org.apache.http.message.BasicNameValuePair;\n+import org.apache.http.util.EntityUtils;\n+import org.apache.syncope.common.lib.to.ItemTO;\n+import org.apache.syncope.common.lib.to.OIDCProviderTO;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+\n+public class OIDCClientITCase extends AbstractITCase {\n+\n+    @BeforeAll\n+    public static void samlSetup() {\n+        OIDCProviderTO keycloak = new OIDCProviderTO();\n+        keycloak.setName(\"Keyloack\");\n+        keycloak.setClientID(\"oidc-syncope\");\n+        keycloak.setClientSecret(\"oidc-syncope\");\n+        keycloak.setAuthorizationEndpoint(\"http://localhost:9090/auth/realms/master/protocol/openid-connect/auth\");\n+        keycloak.setTokenEndpoint(\"http://localhost:9090/auth/realms/master/protocol/openid-connect/token\");\n+        keycloak.setIssuer(\"http://localhost:9090/auth/realms/master\");\n+        keycloak.setJwksUri(\"http://localhost:9090/auth/realms/master/protocol/openid-connect/certs\");\n+        keycloak.setUserinfoEndpoint(\"http://localhost:9090/auth/realms/master/protocol/openid-connect/userinfo\");\n+        keycloak.setEndSessionEndpoint(\"http://localhost:9090/auth/realms/master/protocol/openid-connect/logout\");\n+        keycloak.setCreateUnmatching(true);\n+\n+        ItemTO item = new ItemTO();\n+        item.setIntAttrName(\"username\");\n+        item.setExtAttrName(\"preferred_username\");\n+        item.setConnObjectKey(true);\n+        keycloak.getItems().add(item);\n+\n+        item = new ItemTO();\n+        item.setIntAttrName(\"email\");\n+        item.setExtAttrName(\"email\");\n+        keycloak.getItems().add(item);\n+\n+        item = new ItemTO();\n+        item.setIntAttrName(\"userId\");\n+        item.setExtAttrName(\"email\");\n+        keycloak.getItems().add(item);\n+\n+        item = new ItemTO();\n+        item.setIntAttrName(\"firstname\");\n+        item.setExtAttrName(\"given_name\");\n+        keycloak.getItems().add(item);\n+\n+        item = new ItemTO();\n+        item.setIntAttrName(\"surname\");\n+        item.setExtAttrName(\"family_name\");\n+        keycloak.getItems().add(item);\n+\n+        item = new ItemTO();\n+        item.setIntAttrName(\"fullname\");\n+        item.setExtAttrName(\"fullName\");\n+        keycloak.getItems().add(item);\n+\n+        oidcProviderService.create(keycloak);\n+    }\n+\n+    private void sso(final String baseURL) throws IOException {\n+        CloseableHttpClient httpclient = HttpClients.custom().setMaxConnPerRoute(100).build();\n+        HttpClientContext context = HttpClientContext.create();\n+        context.setCookieStore(new BasicCookieStore());\n+\n+        // 1. fetch login page\n+        HttpGet get = new HttpGet(baseURL);\n+        CloseableHttpResponse response = httpclient.execute(get, context);\n+        assertEquals(HttpStatus.SC_OK, response.getStatusLine().getStatusCode());\n+\n+        // 2. click on the OpenID Connect Provider\n+        get = new HttpGet(baseURL + \"oidcclient/login?op=Keyloack\");\n+        response = httpclient.execute(get, context);\n+\n+        // 3. get login form from Keycloack and submit with expected username and password\n+        String action = StringUtils.substringBefore(\n+                StringUtils.substringAfter(EntityUtils.toString(response.getEntity()),\n+                        \"<form id=\\\"kc-form-login\\\" onsubmit=\\\"login.disabled = true; return true;\\\" action=\\\"\"),\n+                \"\\\" method=\\\"post\\\">\").replace(\"&amp;\", \"&\");\n+\n+        List<NameValuePair> toSubmit = new ArrayList<>();\n+        toSubmit.add(new BasicNameValuePair(\"username\", \"john.doe\"));\n+        toSubmit.add(new BasicNameValuePair(\"password\", \"password\"));\n+\n+        HttpPost post = new HttpPost(action);\n+        post.addHeader(new BasicHeader(HttpHeaders.ACCEPT_LANGUAGE, \"en-US,en;q=0.5\"));\n+        post.setEntity(new UrlEncodedFormEntity(toSubmit, Consts.UTF_8));\n+        response = httpclient.execute(post, context);\n+        assertEquals(HttpStatus.SC_MOVED_TEMPORARILY, response.getStatusLine().getStatusCode());\n+\n+        // 4. verify that user is now authenticated\n+        get = new HttpGet(response.getFirstHeader(HttpHeaders.LOCATION).getValue());\n+        response = httpclient.execute(get, context);\n+        assertEquals(HttpStatus.SC_OK, response.getStatusLine().getStatusCode());\n+        assertTrue(EntityUtils.toString(response.getEntity()).contains(\"john.doe\"));\n+    }\n+\n+    @Test\n+    public void sso2Console() throws IOException {\n+        sso(\"http://localhost:9080/syncope-console/\");\n+    }\n+\n+    @Test\n+    public void sso2Enduser() throws IOException {\n+        sso(\"http://localhost:9080/syncope-enduser/\");\n+    }\n+}"},{"sha":"7ad7e78eed27e6cd6d001de36ad396947aab6de9","filename":"fit/enduser-reference/src/test/java/org/apache/syncope/fit/SAML2SPITCase.java","status":"added","additions":222,"deletions":0,"changes":222,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FSAML2SPITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FSAML2SPITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FSAML2SPITCase.java?ref=ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5","patch":"@@ -0,0 +1,222 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.fit;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+import java.io.ByteArrayInputStream;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.util.ArrayList;\n+import java.util.List;\n+import javax.ws.rs.core.MediaType;\n+import javax.xml.stream.XMLStreamException;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.cxf.jaxrs.client.WebClient;\n+import org.apache.cxf.staxutils.StaxUtils;\n+import org.apache.http.Consts;\n+import org.apache.http.HttpHeaders;\n+import org.apache.http.HttpStatus;\n+import org.apache.http.NameValuePair;\n+import org.apache.http.client.entity.UrlEncodedFormEntity;\n+import org.apache.http.client.methods.CloseableHttpResponse;\n+import org.apache.http.client.methods.HttpGet;\n+import org.apache.http.client.methods.HttpPost;\n+import org.apache.http.client.protocol.HttpClientContext;\n+import org.apache.http.impl.client.BasicCookieStore;\n+import org.apache.http.impl.client.CloseableHttpClient;\n+import org.apache.http.impl.client.HttpClients;\n+import org.apache.http.message.BasicHeader;\n+import org.apache.http.message.BasicNameValuePair;\n+import org.apache.http.util.EntityUtils;\n+import org.apache.syncope.common.lib.to.ItemTO;\n+import org.apache.syncope.common.lib.to.SAML2IdPTO;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+import org.w3c.dom.Document;\n+import org.w3c.dom.Node;\n+import org.w3c.dom.NodeList;\n+\n+public class SAML2SPITCase extends AbstractITCase {\n+\n+    @BeforeAll\n+    public static void samlSetup() {\n+        WebClient.client(saml2IdPService).\n+                accept(MediaType.APPLICATION_XML_TYPE).\n+                type(MediaType.APPLICATION_XML_TYPE);\n+        try {\n+            saml2IdPService.importFromMetadata((InputStream) WebClient.create(\n+                    \"http://localhost:9090/auth/realms/master/protocol/saml/descriptor/\").get().getEntity());\n+        } finally {\n+            WebClient.client(saml2IdPService).\n+                    accept(clientFactory.getContentType().getMediaType()).\n+                    type(clientFactory.getContentType().getMediaType());\n+        }\n+\n+        List<SAML2IdPTO> idps = saml2IdPService.list();\n+        assertEquals(1, idps.size());\n+\n+        SAML2IdPTO keycloak = idps.get(0);\n+        keycloak.setName(\"Keyloack\");\n+        keycloak.setCreateUnmatching(true);\n+        keycloak.getItems().clear();\n+\n+        ItemTO item = new ItemTO();\n+        item.setIntAttrName(\"username\");\n+        item.setExtAttrName(\"username\");\n+        item.setConnObjectKey(true);\n+        keycloak.getItems().add(item);\n+\n+        item = new ItemTO();\n+        item.setIntAttrName(\"email\");\n+        item.setExtAttrName(\"email\");\n+        keycloak.getItems().add(item);\n+\n+        item = new ItemTO();\n+        item.setIntAttrName(\"userId\");\n+        item.setExtAttrName(\"email\");\n+        keycloak.getItems().add(item);\n+\n+        item = new ItemTO();\n+        item.setIntAttrName(\"firstname\");\n+        item.setExtAttrName(\"givenName\");\n+        keycloak.getItems().add(item);\n+\n+        item = new ItemTO();\n+        item.setIntAttrName(\"surname\");\n+        item.setExtAttrName(\"surname\");\n+        keycloak.getItems().add(item);\n+\n+        item = new ItemTO();\n+        item.setIntAttrName(\"fullname\");\n+        item.setExtAttrName(\"fullName\");\n+        keycloak.getItems().add(item);\n+\n+        saml2IdPService.update(keycloak);\n+    }\n+\n+    private List<Node> find(final NodeList children, final String match) {\n+        List<Node> nodes = new ArrayList<>();\n+        for (int i = 0; i < children.getLength(); i++) {\n+            if (match.equals(children.item(i).getNodeName())) {\n+                nodes.add(children.item(i));\n+            }\n+        }\n+        return nodes;\n+    }\n+\n+    private void sso(final String baseURL) throws IOException, XMLStreamException {\n+        CloseableHttpClient httpclient = HttpClients.custom().setMaxConnPerRoute(100).build();\n+        HttpClientContext context = HttpClientContext.create();\n+        context.setCookieStore(new BasicCookieStore());\n+\n+        // 1. fetch login page\n+        HttpGet get = new HttpGet(baseURL);\n+        CloseableHttpResponse response = httpclient.execute(get, context);\n+        assertEquals(HttpStatus.SC_OK, response.getStatusLine().getStatusCode());\n+\n+        // 2. click on the SAML 2.0 IdP\n+        get = new HttpGet(baseURL + \"saml2sp/login?idp=http%3A%2F%2Flocalhost%3A9090%2Fauth%2Frealms%2Fmaster\");\n+        response = httpclient.execute(get, context);\n+\n+        // 3. process autosubmit form for login request\n+        Document autosubmitForm = StaxUtils.read(response.getEntity().getContent());\n+\n+        Node body = find(autosubmitForm.getChildNodes().item(0).getChildNodes(), \"body\").get(0);\n+        assertNotNull(body);\n+\n+        Node form = find(body.getChildNodes(), \"form\").get(0);\n+        assertNotNull(form);\n+\n+        List<NameValuePair> toSubmit = new ArrayList<>();\n+        for (Node input : find(form.getChildNodes(), \"input\")) {\n+            Node name = input.getAttributes().getNamedItem(\"name\");\n+            Node value = input.getAttributes().getNamedItem(\"value\");\n+            if (name != null && value != null) {\n+                toSubmit.add(new BasicNameValuePair(name.getTextContent(), value.getTextContent()));\n+            }\n+        }\n+\n+        HttpPost post = new HttpPost(form.getAttributes().getNamedItem(\"action\").getTextContent());\n+        post.setEntity(new UrlEncodedFormEntity(toSubmit, Consts.UTF_8));\n+        response = httpclient.execute(post, context);\n+        assertEquals(HttpStatus.SC_MOVED_TEMPORARILY, response.getStatusLine().getStatusCode());\n+\n+        // 4. get login form from Keycloack and submit with expected username and password\n+        get = new HttpGet(response.getFirstHeader(HttpHeaders.LOCATION).getValue());\n+        response = httpclient.execute(get, context);\n+\n+        String action = StringUtils.substringBefore(\n+                StringUtils.substringAfter(EntityUtils.toString(response.getEntity()),\n+                        \"<form id=\\\"kc-form-login\\\" onsubmit=\\\"login.disabled = true; return true;\\\" action=\\\"\"),\n+                \"\\\" method=\\\"post\\\">\").replace(\"&amp;\", \"&\");\n+\n+        toSubmit.clear();\n+        toSubmit.add(new BasicNameValuePair(\"username\", \"john.doe\"));\n+        toSubmit.add(new BasicNameValuePair(\"password\", \"password\"));\n+\n+        post = new HttpPost(action);\n+        post.addHeader(new BasicHeader(HttpHeaders.ACCEPT_LANGUAGE, \"en-US,en;q=0.5\"));\n+        post.setEntity(new UrlEncodedFormEntity(toSubmit, Consts.UTF_8));\n+        response = httpclient.execute(post, context);\n+\n+        // 5. process autosubmit form for login response\n+        autosubmitForm = StaxUtils.read(\n+                new ByteArrayInputStream(EntityUtils.toString(response.getEntity()).replace(\"&\", \"&amp;\").getBytes()));\n+\n+        body = find(autosubmitForm.getChildNodes().item(0).getChildNodes(), \"BODY\").get(0);\n+        assertNotNull(body);\n+\n+        form = find(body.getChildNodes(), \"FORM\").get(0);\n+        assertNotNull(form);\n+\n+        toSubmit.clear();\n+        for (Node input : find(form.getChildNodes(), \"INPUT\")) {\n+            Node name = input.getAttributes().getNamedItem(\"NAME\");\n+            Node value = input.getAttributes().getNamedItem(\"VALUE\");\n+            if (name != null && value != null) {\n+                toSubmit.add(new BasicNameValuePair(name.getTextContent(), value.getTextContent()));\n+            }\n+        }\n+\n+        post = new HttpPost(form.getAttributes().getNamedItem(\"ACTION\").getTextContent());\n+        post.setEntity(new UrlEncodedFormEntity(toSubmit, Consts.UTF_8));\n+        response = httpclient.execute(post, context);\n+        assertEquals(HttpStatus.SC_MOVED_TEMPORARILY, response.getStatusLine().getStatusCode());\n+\n+        // 6. verify that user is now authenticated\n+        get = new HttpGet(baseURL + StringUtils.removeStart(\n+                response.getFirstHeader(HttpHeaders.LOCATION).getValue(), \"../\"));\n+        response = httpclient.execute(get, context);\n+        assertEquals(HttpStatus.SC_OK, response.getStatusLine().getStatusCode());\n+        assertTrue(EntityUtils.toString(response.getEntity()).contains(\"john.doe\"));\n+    }\n+\n+    @Test\n+    public void sso2Console() throws IOException, XMLStreamException {\n+        sso(\"http://localhost:9080/syncope-console/\");\n+    }\n+\n+    @Test\n+    public void sso2Enduser() throws IOException, XMLStreamException {\n+        sso(\"http://localhost:9080/syncope-enduser/\");\n+    }\n+}"},{"sha":"a432550540bcf491096a5e2f5b7b8c72b614ace4","filename":"fit/enduser-reference/src/test/resources/sso/delayed-init","status":"added","additions":28,"deletions":0,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Fdelayed-init","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Fdelayed-init","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Fdelayed-init?ref=ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5","patch":"@@ -0,0 +1,28 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+timeout 300 bash -c 'while [[ \"$(curl -s -o /dev/null -w ''%{http_code}'' keycloak:8080)\" != \"200\" ]]; do sleep 5; done' || false\n+\n+/opt/jboss/keycloak/bin/kcadm.sh config credentials --server http://keycloak:8080/auth --realm master --user admin --password password\n+\n+/opt/jboss/keycloak/bin/kcadm.sh create users -r master -s username=john.doe -s email=john.doe@syncope.apache.org -s lastName=Doe -s firstName=John -s 'attributes.fullName=John Doe' -s enabled=true\n+/opt/jboss/keycloak/bin/kcadm.sh set-password -r master --username john.doe --new-password password\n+\n+/opt/jboss/keycloak/bin/kcadm.sh create clients -r master -f /tmp/saml2syncope-console.json\n+/opt/jboss/keycloak/bin/kcadm.sh create clients -r master -f /tmp/saml2syncope-enduser.json\n+\n+/opt/jboss/keycloak/bin/kcadm.sh create clients -r master -f /tmp/oidc-syncope.json"},{"sha":"7cb523a1f599fec31a07b8315fde574cb1c8db30","filename":"fit/enduser-reference/src/test/resources/sso/init.sh","status":"added","additions":18,"deletions":0,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Finit.sh","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Finit.sh","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Finit.sh?ref=ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5","patch":"@@ -0,0 +1,18 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+nohup bash /tmp/delayed-init&"},{"sha":"8d582c1c393ae44771f642270bcd193470afb7ce","filename":"fit/enduser-reference/src/test/resources/sso/oidc-syncope.json","status":"added","additions":131,"deletions":0,"changes":131,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Foidc-syncope.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Foidc-syncope.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Foidc-syncope.json?ref=ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5","patch":"@@ -0,0 +1,131 @@\n+{\n+    \"clientId\": \"oidc-syncope\",\n+    \"surrogateAuthRequired\": false,\n+    \"enabled\": true,\n+    \"clientAuthenticatorType\": \"client-secret\",\n+    \"redirectUris\": [\n+        \"http://localhost:9080/syncope-enduser/oidcclient/code-consumer\",\n+        \"http://localhost:9080/syncope-enduser/oidcclient/logout\",\n+        \"http://localhost:9080/syncope-console/oidcclient/code-consumer\",\n+        \"http://localhost:9080/syncope-console/oidcclient/logout\"\n+    ],\n+    \"webOrigins\": [],\n+    \"notBefore\": 0,\n+    \"bearerOnly\": false,\n+    \"consentRequired\": false,\n+    \"standardFlowEnabled\": true,\n+    \"implicitFlowEnabled\": false,\n+    \"directAccessGrantsEnabled\": true,\n+    \"serviceAccountsEnabled\": false,\n+    \"publicClient\": true,\n+    \"frontchannelLogout\": false,\n+    \"protocol\": \"openid-connect\",\n+    \"attributes\": {\n+        \"saml.assertion.signature\": \"false\",\n+        \"saml.force.post.binding\": \"false\",\n+        \"saml.multivalued.roles\": \"false\",\n+        \"saml.encrypt\": \"false\",\n+        \"saml.server.signature\": \"false\",\n+        \"saml.server.signature.keyinfo.ext\": \"false\",\n+        \"exclude.session.state.from.auth.response\": \"false\",\n+        \"saml_force_name_id_format\": \"false\",\n+        \"saml.client.signature\": \"false\",\n+        \"tls.client.certificate.bound.access.tokens\": \"false\",\n+        \"saml.authnstatement\": \"false\",\n+        \"display.on.consent.screen\": \"false\",\n+        \"saml.onetimeuse.condition\": \"false\"\n+    },\n+    \"authenticationFlowBindingOverrides\": {},\n+    \"fullScopeAllowed\": true,\n+    \"nodeReRegistrationTimeout\": -1,\n+    \"protocolMappers\": [\n+        {\n+            \"name\": \"family name\",\n+            \"protocol\": \"openid-connect\",\n+            \"protocolMapper\": \"oidc-usermodel-property-mapper\",\n+            \"consentRequired\": false,\n+            \"config\": {\n+                \"userinfo.token.claim\": \"true\",\n+                \"user.attribute\": \"lastName\",\n+                \"id.token.claim\": \"true\",\n+                \"access.token.claim\": \"true\",\n+                \"claim.name\": \"family_name\",\n+                \"jsonType.label\": \"String\"\n+            }\n+        },\n+        {\n+            \"name\": \"given name\",\n+            \"protocol\": \"openid-connect\",\n+            \"protocolMapper\": \"oidc-usermodel-property-mapper\",\n+            \"consentRequired\": false,\n+            \"config\": {\n+                \"userinfo.token.claim\": \"true\",\n+                \"user.attribute\": \"firstName\",\n+                \"id.token.claim\": \"true\",\n+                \"access.token.claim\": \"true\",\n+                \"claim.name\": \"given_name\",\n+                \"jsonType.label\": \"String\"\n+            }\n+        },\n+        {\n+            \"name\": \"username\",\n+            \"protocol\": \"openid-connect\",\n+            \"protocolMapper\": \"oidc-usermodel-property-mapper\",\n+            \"consentRequired\": false,\n+            \"config\": {\n+                \"userinfo.token.claim\": \"true\",\n+                \"user.attribute\": \"username\",\n+                \"id.token.claim\": \"true\",\n+                \"access.token.claim\": \"true\",\n+                \"claim.name\": \"preferred_username\",\n+                \"jsonType.label\": \"String\"\n+            }\n+        },\n+        {\n+            \"name\": \"fullName\",\n+            \"protocol\": \"openid-connect\",\n+            \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+            \"consentRequired\": false,\n+            \"config\": {\n+                \"userinfo.token.claim\": \"true\",\n+                \"user.attribute\": \"fullName\",\n+                \"id.token.claim\": \"true\",\n+                \"access.token.claim\": \"true\",\n+                \"claim.name\": \"fullName\",\n+                \"jsonType.label\": \"String\"\n+            }\n+        },\n+        {\n+            \"name\": \"email\",\n+            \"protocol\": \"openid-connect\",\n+            \"protocolMapper\": \"oidc-usermodel-property-mapper\",\n+            \"consentRequired\": false,\n+            \"config\": {\n+                \"userinfo.token.claim\": \"true\",\n+                \"user.attribute\": \"email\",\n+                \"id.token.claim\": \"true\",\n+                \"access.token.claim\": \"true\",\n+                \"claim.name\": \"email\",\n+                \"jsonType.label\": \"String\"\n+            }\n+        }\n+    ],\n+    \"defaultClientScopes\": [\n+        \"web-origins\",\n+        \"role_list\",\n+        \"roles\",\n+        \"profile\",\n+        \"email\"\n+    ],\n+    \"optionalClientScopes\": [\n+        \"address\",\n+        \"phone\",\n+        \"offline_access\",\n+        \"microprofile-jwt\"\n+    ],\n+    \"access\": {\n+        \"view\": true,\n+        \"configure\": true,\n+        \"manage\": true\n+    }\n+}\n\\ No newline at end of file"},{"sha":"a591048c38c03a637a6a77f80108c1d27c4ad2de","filename":"fit/enduser-reference/src/test/resources/sso/realm.json","status":"added","additions":2171,"deletions":0,"changes":2171,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Frealm.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Frealm.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Frealm.json?ref=ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5","patch":"@@ -0,0 +1,2171 @@\n+{\n+  \"id\": \"master\",\n+  \"realm\": \"master\",\n+  \"displayName\": \"Keycloak\",\n+  \"displayNameHtml\": \"<div class=\\\"kc-logo-text\\\"><span>Keycloak</span></div>\",\n+  \"notBefore\": 0,\n+  \"revokeRefreshToken\": false,\n+  \"refreshTokenMaxReuse\": 0,\n+  \"accessTokenLifespan\": 60,\n+  \"accessTokenLifespanForImplicitFlow\": 900,\n+  \"ssoSessionIdleTimeout\": 1800,\n+  \"ssoSessionMaxLifespan\": 36000,\n+  \"ssoSessionIdleTimeoutRememberMe\": 0,\n+  \"ssoSessionMaxLifespanRememberMe\": 0,\n+  \"offlineSessionIdleTimeout\": 2592000,\n+  \"offlineSessionMaxLifespanEnabled\": false,\n+  \"offlineSessionMaxLifespan\": 5184000,\n+  \"accessCodeLifespan\": 60,\n+  \"accessCodeLifespanUserAction\": 300,\n+  \"accessCodeLifespanLogin\": 1800,\n+  \"actionTokenGeneratedByAdminLifespan\": 43200,\n+  \"actionTokenGeneratedByUserLifespan\": 300,\n+  \"enabled\": true,\n+  \"sslRequired\": \"external\",\n+  \"registrationAllowed\": false,\n+  \"registrationEmailAsUsername\": false,\n+  \"rememberMe\": false,\n+  \"verifyEmail\": false,\n+  \"loginWithEmailAllowed\": true,\n+  \"duplicateEmailsAllowed\": false,\n+  \"resetPasswordAllowed\": false,\n+  \"editUsernameAllowed\": false,\n+  \"bruteForceProtected\": false,\n+  \"permanentLockout\": false,\n+  \"maxFailureWaitSeconds\": 900,\n+  \"minimumQuickLoginWaitSeconds\": 60,\n+  \"waitIncrementSeconds\": 60,\n+  \"quickLoginCheckMilliSeconds\": 1000,\n+  \"maxDeltaTimeSeconds\": 43200,\n+  \"failureFactor\": 30,\n+  \"roles\": {\n+    \"realm\": [\n+      {\n+        \"id\": \"3650e688-c539-4646-8222-010d51a34b2a\",\n+        \"name\": \"admin\",\n+        \"description\": \"${role_admin}\",\n+        \"composite\": true,\n+        \"composites\": {\n+          \"realm\": [\n+            \"create-realm\"\n+          ],\n+          \"client\": {\n+            \"master-realm\": [\n+              \"query-groups\",\n+              \"manage-events\",\n+              \"manage-authorization\",\n+              \"impersonation\",\n+              \"query-realms\",\n+              \"view-clients\",\n+              \"manage-realm\",\n+              \"manage-users\",\n+              \"create-client\",\n+              \"view-authorization\",\n+              \"manage-clients\",\n+              \"manage-identity-providers\",\n+              \"query-users\",\n+              \"view-users\",\n+              \"view-identity-providers\",\n+              \"view-realm\",\n+              \"view-events\",\n+              \"query-clients\"\n+            ]\n+          }\n+        },\n+        \"clientRole\": false,\n+        \"containerId\": \"master\",\n+        \"attributes\": {}\n+      },\n+      {\n+        \"id\": \"8dfabd84-8072-412e-af5f-5fb57c4a58e5\",\n+        \"name\": \"create-realm\",\n+        \"description\": \"${role_create-realm}\",\n+        \"composite\": false,\n+        \"clientRole\": false,\n+        \"containerId\": \"master\",\n+        \"attributes\": {}\n+      },\n+      {\n+        \"id\": \"747ed7d7-6e7a-4339-b7ff-033fceb99af6\",\n+        \"name\": \"offline_access\",\n+        \"description\": \"${role_offline-access}\",\n+        \"composite\": false,\n+        \"clientRole\": false,\n+        \"containerId\": \"master\",\n+        \"attributes\": {}\n+      },\n+      {\n+        \"id\": \"7d35cede-58ce-40cb-a63d-7ce27ceaf4db\",\n+        \"name\": \"uma_authorization\",\n+        \"description\": \"${role_uma_authorization}\",\n+        \"composite\": false,\n+        \"clientRole\": false,\n+        \"containerId\": \"master\",\n+        \"attributes\": {}\n+      }\n+    ],\n+    \"client\": {\n+      \"oidc-test\": [\n+        {\n+          \"id\": \"894b2e32-3f57-461a-9bd1-c94342a365df\",\n+          \"name\": \"uma_protection\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"0543361e-6007-4b9a-ad3c-dcc473feaa68\",\n+          \"attributes\": {}\n+        }\n+      ],\n+      \"security-admin-console\": [],\n+      \"admin-cli\": [],\n+      \"http://localhost:9080/syncope-enduser/\": [],\n+      \"master-realm\": [\n+        {\n+          \"id\": \"4167efac-ca8a-429d-b145-9ca572571073\",\n+          \"name\": \"query-groups\",\n+          \"description\": \"${role_query-groups}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"91947892-bd70-487f-8909-c66dedb50adf\",\n+          \"name\": \"manage-events\",\n+          \"description\": \"${role_manage-events}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"fe614065-daf1-472a-ac24-c8731a793123\",\n+          \"name\": \"manage-authorization\",\n+          \"description\": \"${role_manage-authorization}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"af81c41f-c56b-4b17-b70e-8df75ac312ff\",\n+          \"name\": \"impersonation\",\n+          \"description\": \"${role_impersonation}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"4ba3ad04-ed50-4a0c-a3e1-b35df435f617\",\n+          \"name\": \"query-realms\",\n+          \"description\": \"${role_query-realms}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"f05e152c-4498-4fba-b921-ab8460518de4\",\n+          \"name\": \"view-clients\",\n+          \"description\": \"${role_view-clients}\",\n+          \"composite\": true,\n+          \"composites\": {\n+            \"client\": {\n+              \"master-realm\": [\n+                \"query-clients\"\n+              ]\n+            }\n+          },\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"30a080da-f204-40ad-b05e-0b44f2fcd272\",\n+          \"name\": \"manage-realm\",\n+          \"description\": \"${role_manage-realm}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"1271c59f-e5af-4d14-873c-1464adf49cfc\",\n+          \"name\": \"manage-users\",\n+          \"description\": \"${role_manage-users}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"0dbeecc1-7dc8-4b1b-af79-454764baec72\",\n+          \"name\": \"create-client\",\n+          \"description\": \"${role_create-client}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"f8242770-20b7-4ca4-80a2-e93d738f88a7\",\n+          \"name\": \"manage-clients\",\n+          \"description\": \"${role_manage-clients}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"827dde28-89de-484d-9a86-cc46a45aa212\",\n+          \"name\": \"view-authorization\",\n+          \"description\": \"${role_view-authorization}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"22240518-a563-49f3-8c76-e545b1940870\",\n+          \"name\": \"manage-identity-providers\",\n+          \"description\": \"${role_manage-identity-providers}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"678abcca-231e-419a-b319-54e79626e851\",\n+          \"name\": \"query-users\",\n+          \"description\": \"${role_query-users}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"175cd662-fdd4-4080-88c8-2f3aa7e45a0b\",\n+          \"name\": \"view-identity-providers\",\n+          \"description\": \"${role_view-identity-providers}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"38bda15b-0ef5-4d14-b477-07a9a66057d4\",\n+          \"name\": \"view-users\",\n+          \"description\": \"${role_view-users}\",\n+          \"composite\": true,\n+          \"composites\": {\n+            \"client\": {\n+              \"master-realm\": [\n+                \"query-groups\",\n+                \"query-users\"\n+              ]\n+            }\n+          },\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"aa13c02e-fe23-46c4-b8df-1ee0d74c1af8\",\n+          \"name\": \"view-realm\",\n+          \"description\": \"${role_view-realm}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"9820eacb-e9b8-43bc-ac91-295f8a1361f4\",\n+          \"name\": \"query-clients\",\n+          \"description\": \"${role_query-clients}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"1c2fe26f-bfa4-4321-b96b-2e7353eb6665\",\n+          \"name\": \"view-events\",\n+          \"description\": \"${role_view-events}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+          \"attributes\": {}\n+        }\n+      ],\n+      \"broker\": [\n+        {\n+          \"id\": \"c90009b0-6879-495e-9f85-c9d39c5fa1ba\",\n+          \"name\": \"read-token\",\n+          \"description\": \"${role_read-token}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"e5f1365e-8227-4f63-b03d-8c5b8ffed1ff\",\n+          \"attributes\": {}\n+        }\n+      ],\n+      \"account\": [\n+        {\n+          \"id\": \"0f834554-e8f0-4954-96c4-5df669b55a95\",\n+          \"name\": \"view-profile\",\n+          \"description\": \"${role_view-profile}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"9cb0aa44-7e89-4ed2-8702-7bee34b39fdc\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"61eef459-9623-4420-b7c5-83d209f79ff9\",\n+          \"name\": \"uma_protection\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"9cb0aa44-7e89-4ed2-8702-7bee34b39fdc\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"e8b0e7f0-d57d-40b4-81d3-a10d999f925f\",\n+          \"name\": \"manage-account\",\n+          \"description\": \"${role_manage-account}\",\n+          \"composite\": true,\n+          \"composites\": {\n+            \"client\": {\n+              \"account\": [\n+                \"manage-account-links\"\n+              ]\n+            }\n+          },\n+          \"clientRole\": true,\n+          \"containerId\": \"9cb0aa44-7e89-4ed2-8702-7bee34b39fdc\",\n+          \"attributes\": {}\n+        },\n+        {\n+          \"id\": \"95244445-b81c-43e6-9439-1bfb746a4632\",\n+          \"name\": \"manage-account-links\",\n+          \"description\": \"${role_manage-account-links}\",\n+          \"composite\": false,\n+          \"clientRole\": true,\n+          \"containerId\": \"9cb0aa44-7e89-4ed2-8702-7bee34b39fdc\",\n+          \"attributes\": {}\n+        }\n+      ]\n+    }\n+  },\n+  \"groups\": [],\n+  \"defaultRoles\": [\n+    \"offline_access\",\n+    \"uma_authorization\"\n+  ],\n+  \"requiredCredentials\": [\n+    \"password\"\n+  ],\n+  \"otpPolicyType\": \"totp\",\n+  \"otpPolicyAlgorithm\": \"HmacSHA1\",\n+  \"otpPolicyInitialCounter\": 0,\n+  \"otpPolicyDigits\": 6,\n+  \"otpPolicyLookAheadWindow\": 1,\n+  \"otpPolicyPeriod\": 30,\n+  \"otpSupportedApplications\": [\n+    \"FreeOTP\",\n+    \"Google Authenticator\"\n+  ],\n+  \"scopeMappings\": [\n+    {\n+      \"clientScope\": \"offline_access\",\n+      \"roles\": [\n+        \"offline_access\"\n+      ]\n+    }\n+  ],\n+  \"clients\": [\n+    {\n+      \"id\": \"9ae76ff0-02bd-4219-be28-1ad02acc24c9\",\n+      \"clientId\": \"admin-cli\",\n+      \"name\": \"${client_admin-cli}\",\n+      \"surrogateAuthRequired\": false,\n+      \"enabled\": true,\n+      \"clientAuthenticatorType\": \"client-secret\",\n+      \"secret\": \"**********\",\n+      \"redirectUris\": [],\n+      \"webOrigins\": [],\n+      \"notBefore\": 0,\n+      \"bearerOnly\": false,\n+      \"consentRequired\": false,\n+      \"standardFlowEnabled\": false,\n+      \"implicitFlowEnabled\": false,\n+      \"directAccessGrantsEnabled\": true,\n+      \"serviceAccountsEnabled\": false,\n+      \"publicClient\": true,\n+      \"frontchannelLogout\": false,\n+      \"protocol\": \"openid-connect\",\n+      \"attributes\": {},\n+      \"authenticationFlowBindingOverrides\": {},\n+      \"fullScopeAllowed\": false,\n+      \"nodeReRegistrationTimeout\": 0,\n+      \"defaultClientScopes\": [\n+        \"web-origins\",\n+        \"role_list\",\n+        \"profile\",\n+        \"roles\",\n+        \"email\"\n+      ],\n+      \"optionalClientScopes\": [\n+        \"address\",\n+        \"phone\",\n+        \"offline_access\",\n+        \"microprofile-jwt\"\n+      ]\n+    },\n+    {\n+      \"id\": \"afead16d-8b07-4b25-930a-034922529245\",\n+      \"clientId\": \"http://localhost:9080/syncope-enduser/\",\n+      \"name\": \"SAML Test\",\n+      \"adminUrl\": \"http://localhost:9090/auth/realms/master\",\n+      \"surrogateAuthRequired\": false,\n+      \"enabled\": true,\n+      \"clientAuthenticatorType\": \"client-secret\",\n+      \"secret\": \"**********\",\n+      \"redirectUris\": [\n+        \"http://localhost:9080/*\"\n+      ],\n+      \"webOrigins\": [\n+        \"http://localhost:9080\"\n+      ],\n+      \"notBefore\": 0,\n+      \"bearerOnly\": false,\n+      \"consentRequired\": false,\n+      \"standardFlowEnabled\": true,\n+      \"implicitFlowEnabled\": false,\n+      \"directAccessGrantsEnabled\": false,\n+      \"serviceAccountsEnabled\": false,\n+      \"publicClient\": false,\n+      \"frontchannelLogout\": true,\n+      \"protocol\": \"saml\",\n+      \"attributes\": {\n+        \"saml.assertion.signature\": \"true\",\n+        \"saml_assertion_consumer_url_redirect\": \"http://localhost:9080/syncope-enduser/saml2sp/assertion-consumer\",\n+        \"saml_single_logout_service_url_post\": \"http://localhost:9080/syncope-enduser/saml2sp/logout\",\n+        \"saml.force.post.binding\": \"true\",\n+        \"saml.multivalued.roles\": \"false\",\n+        \"saml.encrypt\": \"false\",\n+        \"saml_assertion_consumer_url_post\": \"http://localhost:9080/syncope-enduser/saml2sp/assertion-consumer\",\n+        \"saml.server.signature\": \"true\",\n+        \"saml.server.signature.keyinfo.ext\": \"false\",\n+        \"exclude.session.state.from.auth.response\": \"false\",\n+        \"saml.signing.certificate\": \"MIIC9TCCAd0CBgFrCC7kezANBgkqhkiG9w0BAQsFADA+MTwwOgYDVQQDDDNodHRwOi8vc3luY29wZS1zYW1sMi10ZXN0LWNvbTo5MDgwL3N5bmNvcGUtZW5kdXNlci8wHhcNMTkwNTMwMDk1ODM5WhcNMjkwNTMwMTAwMDE5WjA+MTwwOgYDVQQDDDNodHRwOi8vc3luY29wZS1zYW1sMi10ZXN0LWNvbTo5MDgwL3N5bmNvcGUtZW5kdXNlci8wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCF4QsiRZGD7BNx0Bglh4rgtACaIr7R/nDQfdGLN9uSA2HkEPygJzBRyluQLiQv9o/LKQMwvmia5fK4Xt99cgJnmrzKXraKo1KsZNz8vpygMpGJzCA2XUMLe065lYg28PV2bjk6hyUcMehlubjKFQ6USAJG5dbrrSz7iS2jHQZcxCZAdPPFpaUZpcJPNXU8n9s+peQvPeiYRu9QUEB/qe/onvQ/WJUXxErx2PHmtG9yeIQKoacSvrD6rSHwCgwxJgo+tW12S4bRXj4Nwm2h9969PrQO8L8egCkF5RLSe0gBaWqan9HYIQ6B/TzgsGrUPIGw7ZA4WW7GgL3tZpXvZYZLAgMBAAEwDQYJKoZIhvcNAQELBQADggEBADo0tTfrgTJ1+p/lAtlmxqIA18Ud1QAqzOCS9yQ2VwbMtiRR6wz92dm1wPAUbTjiZZ9e2zGiBPfLeAlPNlZ+Q2HLJV6lrgNQRFUFgL2cM7ihuYPoQYgPiaH2ciT9Zh+5Wwzb/+h1IgH3qCEiMyE8LVrd/M+HCtDTS+OwdEnLL0CmCZ5l3aEz9XBWa5Nu0Rz3I+R2U4cPM4kn+40Ebjt1Dyf0FvQVUL9goXFpsATxBtSPGmewVJ+AGpKlse4HoNyRtFkdhYPed3QckKJO+NbluE5wsgJOdZD/7J4BDr5CIoe26nlnLBqvJA3m/lxVA39zqh2J1LDzuEeH4F9bBtbCUmY=\",\n+        \"saml_single_logout_service_url_redirect\": \"http://localhost:9080/syncope-enduser/saml2sp/logout\",\n+        \"saml.signature.algorithm\": \"RSA_SHA256\",\n+        \"saml_force_name_id_format\": \"false\",\n+        \"tls.client.certificate.bound.access.tokens\": \"false\",\n+        \"saml.client.signature\": \"false\",\n+        \"saml.authnstatement\": \"true\",\n+        \"display.on.consent.screen\": \"false\",\n+        \"saml_name_id_format\": \"persistent\",\n+        \"saml.signing.private.key\": \"MIIEowIBAAKCAQEAheELIkWRg+wTcdAYJYeK4LQAmiK+0f5w0H3RizfbkgNh5BD8oCcwUcpbkC4kL/aPyykDML5omuXyuF7ffXICZ5q8yl62iqNSrGTc/L6coDKRicwgNl1DC3tOuZWINvD1dm45OoclHDHoZbm4yhUOlEgCRuXW660s+4ktox0GXMQmQHTzxaWlGaXCTzV1PJ/bPqXkLz3omEbvUFBAf6nv6J70P1iVF8RK8djx5rRvcniECqGnEr6w+q0h8AoMMSYKPrVtdkuG0V4+DcJtoffevT60DvC/HoApBeUS0ntIAWlqmp/R2CEOgf084LBq1DyBsO2QOFluxoC97WaV72WGSwIDAQABAoIBABXnJY0r2Iy+uMesBedN75inmlmdSZ7Ng+N4Uin2r4OJ7iAD73C8OJmJA8Xo5p66NfhE83KsFC0TZcxoKSQ63M3acPyi1jaEVehCcC0hejpzS4BB1xtN0sQ0HkMahbiHX4FKsy4yIg4k1CKgae0V2NbFmSnEPI8+O9fDL6Y5/2p5pwkE72oAyk/fD0ApeKpEJ2+4IpJEkrdciAlrtDuWb0xk1Y+HQgz2GoFPmCUOssv9KAgFAtMQW4mQrgESmLh2usF9C3usOpeOwuG6VwK6pS14KeyaBFHbg6SKNqbkhyKsKGlkNBvSLCfxMTMsyMaVABGXt8J25ICmzXfLE24Qn3ECgYEA4eFOq4Igtbc8SDaIZZOlJVTYk+W6Ug1ZSZKfoCmVtbzH904DTmY9nOjP6tAUCCAelQH7YnxzQr/n+hMN6tMKW6e6bR3G13XK97znATKBlfQkjix5dvBTdlV384zo+jhU3clgxvgaNfMaxovoDH3bDeDRUC4dGgQ9J19gTnvAuYUCgYEAl7srPPjINeYUf7O14CcfDqPa6oR19IVPvrdwyi8lHEIvSHppDj651dOxjvnP0zm2VXtrzIk65NkcjXxqWPlEuEc9Ka6fX0hARU0mqd34E8ccvbf3wuggPyCZjRNbDcTMqDCwOjJwwtP/a6x0zZ2JdAmb9IoNjvrRvmnpKzPw4Y8CgYEAzNatqQsQ7rmEiVgqyTLjiL8wyK6EEPTaC8ZTy8LqaS0RikvM48QEC890/dRE1jmKgkaR2fZR8C5oCHhPHqzTr9qjTWC7eZjwv0knlAZhTcNhgy0B2cKHbcCETvFyNbfv/lEo2kcUPeiAV514iht4E1XVe4jWC0ncy1/KzmGbnKECgYAoHiTgiiblmV/yI+IC0lUz2b8YIs3NSTI8iuQXkT+OqTE3SKZeTdd04fQgiYyZnLjJAUkPW3lm6MDT6AF2ZPH2h190lectmjzkFfITF81v7UV8JBguQJHGHyh6VJPOoCo8jiMKQCvwV31BSufXNcASHjhN//J1y3uJjRdJhQI7oQKBgCLLXLL5xm5EkXpjLCgLZWBuSgkNbHWPNxR1agHtsL0+nhNu7MPbwQceajCFmrijuvqUKmKgeNJotZw0g0UooewqT7osKfqkmtGgS7+HbZ4WFFNkSMk1oMsRJeT0jTticOp0JbhnMF4vACW5IZWjEDUheONv1dIa4YFYPM6gdFCR\",\n+        \"saml_signature_canonicalization_method\": \"http://www.w3.org/2001/10/xml-exc-c14n#\",\n+        \"saml.onetimeuse.condition\": \"false\"\n+      },\n+      \"authenticationFlowBindingOverrides\": {},\n+      \"fullScopeAllowed\": true,\n+      \"nodeReRegistrationTimeout\": -1,\n+      \"protocolMappers\": [\n+        {\n+          \"id\": \"9cd8a79b-97f9-459f-a2fb-802f217059f3\",\n+          \"name\": \"lastName\",\n+          \"protocol\": \"saml\",\n+          \"protocolMapper\": \"saml-user-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"attribute.nameformat\": \"Basic\",\n+            \"user.attribute\": \"lastName\",\n+            \"friendly.name\": \"lastName\",\n+            \"attribute.name\": \"lastName\"\n+          }\n+        },\n+        {\n+          \"id\": \"c3bb90a6-8443-4dfa-9755-6cb90294b488\",\n+          \"name\": \"fullName\",\n+          \"protocol\": \"saml\",\n+          \"protocolMapper\": \"saml-user-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"attribute.nameformat\": \"Basic\",\n+            \"user.attribute\": \"fullName\",\n+            \"friendly.name\": \"fullName\",\n+            \"attribute.name\": \"fullName\"\n+          }\n+        },\n+        {\n+          \"id\": \"8b599498-cd22-4bf0-b999-2b8822b27c2b\",\n+          \"name\": \"username\",\n+          \"protocol\": \"saml\",\n+          \"protocolMapper\": \"saml-user-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"attribute.nameformat\": \"Basic\",\n+            \"user.attribute\": \"username\",\n+            \"friendly.name\": \"username\",\n+            \"attribute.name\": \"username\"\n+          }\n+        },\n+        {\n+          \"id\": \"a927aea7-2c71-460b-9eff-cdb1c1979f88\",\n+          \"name\": \"email\",\n+          \"protocol\": \"saml\",\n+          \"protocolMapper\": \"saml-user-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"attribute.nameformat\": \"Basic\",\n+            \"user.attribute\": \"email\",\n+            \"friendly.name\": \"email\",\n+            \"attribute.name\": \"email\"\n+          }\n+        }\n+      ],\n+      \"defaultClientScopes\": [\n+        \"web-origins\",\n+        \"role_list\",\n+        \"profile\",\n+        \"roles\",\n+        \"email\"\n+      ],\n+      \"optionalClientScopes\": [\n+        \"address\",\n+        \"phone\",\n+        \"offline_access\",\n+        \"microprofile-jwt\"\n+      ]\n+    },\n+    {\n+      \"id\": \"f44a4b58-3873-4b1f-8907-8cdda73ba648\",\n+      \"clientId\": \"master-realm\",\n+      \"name\": \"master Realm\",\n+      \"surrogateAuthRequired\": false,\n+      \"enabled\": true,\n+      \"clientAuthenticatorType\": \"client-secret\",\n+      \"secret\": \"**********\",\n+      \"redirectUris\": [],\n+      \"webOrigins\": [],\n+      \"notBefore\": 0,\n+      \"bearerOnly\": true,\n+      \"consentRequired\": false,\n+      \"standardFlowEnabled\": true,\n+      \"implicitFlowEnabled\": false,\n+      \"directAccessGrantsEnabled\": false,\n+      \"serviceAccountsEnabled\": false,\n+      \"publicClient\": false,\n+      \"frontchannelLogout\": false,\n+      \"attributes\": {},\n+      \"authenticationFlowBindingOverrides\": {},\n+      \"fullScopeAllowed\": true,\n+      \"nodeReRegistrationTimeout\": 0,\n+      \"defaultClientScopes\": [\n+        \"web-origins\",\n+        \"role_list\",\n+        \"profile\",\n+        \"roles\",\n+        \"email\"\n+      ],\n+      \"optionalClientScopes\": [\n+        \"address\",\n+        \"phone\",\n+        \"offline_access\",\n+        \"microprofile-jwt\"\n+      ]\n+    },\n+    {\n+      \"id\": \"95e0b6dc-15fe-416c-be90-cc4a78aab0de\",\n+      \"clientId\": \"security-admin-console\",\n+      \"name\": \"${client_security-admin-console}\",\n+      \"baseUrl\": \"/auth/admin/master/console/index.html\",\n+      \"surrogateAuthRequired\": false,\n+      \"enabled\": true,\n+      \"clientAuthenticatorType\": \"client-secret\",\n+      \"secret\": \"**********\",\n+      \"redirectUris\": [\n+        \"/auth/admin/master/console/*\"\n+      ],\n+      \"webOrigins\": [],\n+      \"notBefore\": 0,\n+      \"bearerOnly\": false,\n+      \"consentRequired\": false,\n+      \"standardFlowEnabled\": true,\n+      \"implicitFlowEnabled\": false,\n+      \"directAccessGrantsEnabled\": false,\n+      \"serviceAccountsEnabled\": false,\n+      \"publicClient\": true,\n+      \"frontchannelLogout\": false,\n+      \"protocol\": \"openid-connect\",\n+      \"attributes\": {},\n+      \"authenticationFlowBindingOverrides\": {},\n+      \"fullScopeAllowed\": false,\n+      \"nodeReRegistrationTimeout\": 0,\n+      \"protocolMappers\": [\n+        {\n+          \"id\": \"e23cb190-a256-443f-8099-78f7e48fbff2\",\n+          \"name\": \"locale\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"locale\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"locale\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        }\n+      ],\n+      \"defaultClientScopes\": [\n+        \"web-origins\",\n+        \"role_list\",\n+        \"profile\",\n+        \"roles\",\n+        \"email\"\n+      ],\n+      \"optionalClientScopes\": [\n+        \"address\",\n+        \"phone\",\n+        \"offline_access\",\n+        \"microprofile-jwt\"\n+      ]\n+    },\n+    {\n+      \"id\": \"0543361e-6007-4b9a-ad3c-dcc473feaa68\",\n+      \"clientId\": \"oidc-test\",\n+      \"name\": \"OIDC Test\",\n+      \"baseUrl\": \"/auth/realms/master/oidc-test\",\n+      \"surrogateAuthRequired\": false,\n+      \"enabled\": true,\n+      \"clientAuthenticatorType\": \"client-secret\",\n+      \"secret\": \"**********\",\n+      \"redirectUris\": [\n+        \"http://localhost:9080/syncope-console/oidcclient/code-consumer\",\n+        \"/auth/realms/master/oidc-test/*\",\n+        \"http://localhost:9080/syncope-enduser/oidcclient/code-consumer\"\n+      ],\n+      \"webOrigins\": [],\n+      \"notBefore\": 0,\n+      \"bearerOnly\": false,\n+      \"consentRequired\": false,\n+      \"standardFlowEnabled\": true,\n+      \"implicitFlowEnabled\": true,\n+      \"directAccessGrantsEnabled\": true,\n+      \"serviceAccountsEnabled\": true,\n+      \"authorizationServicesEnabled\": true,\n+      \"publicClient\": false,\n+      \"frontchannelLogout\": false,\n+      \"protocol\": \"openid-connect\",\n+      \"attributes\": {\n+        \"saml.assertion.signature\": \"false\",\n+        \"saml.multivalued.roles\": \"false\",\n+        \"saml.force.post.binding\": \"false\",\n+        \"saml.encrypt\": \"false\",\n+        \"saml.server.signature\": \"false\",\n+        \"saml.server.signature.keyinfo.ext\": \"false\",\n+        \"exclude.session.state.from.auth.response\": \"false\",\n+        \"saml_force_name_id_format\": \"false\",\n+        \"saml.client.signature\": \"false\",\n+        \"tls.client.certificate.bound.access.tokens\": \"false\",\n+        \"saml.authnstatement\": \"false\",\n+        \"display.on.consent.screen\": \"false\",\n+        \"saml.onetimeuse.condition\": \"false\"\n+      },\n+      \"authenticationFlowBindingOverrides\": {},\n+      \"fullScopeAllowed\": true,\n+      \"nodeReRegistrationTimeout\": -1,\n+      \"protocolMappers\": [\n+        {\n+          \"id\": \"3bbeb91e-7a38-4a03-aafc-5e364e4ef3ea\",\n+          \"name\": \"Client Host\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usersessionmodel-note-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"user.session.note\": \"clientHost\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"clientHost\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"f6049611-4378-4aeb-8423-b8166df0e046\",\n+          \"name\": \"Client ID\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usersessionmodel-note-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"user.session.note\": \"clientId\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"clientId\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"173d39bf-8c71-4c0f-9264-44d9bd143fd0\",\n+          \"name\": \"Client IP Address\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usersessionmodel-note-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"user.session.note\": \"clientAddress\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"clientAddress\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        }\n+      ],\n+      \"defaultClientScopes\": [\n+        \"web-origins\",\n+        \"role_list\",\n+        \"profile\",\n+        \"roles\",\n+        \"email\"\n+      ],\n+      \"optionalClientScopes\": [\n+        \"address\",\n+        \"phone\",\n+        \"offline_access\",\n+        \"microprofile-jwt\"\n+      ],\n+      \"authorizationSettings\": {\n+        \"allowRemoteResourceManagement\": true,\n+        \"policyEnforcementMode\": \"ENFORCING\",\n+        \"resources\": [\n+          {\n+            \"name\": \"Default Resource\",\n+            \"type\": \"urn:oidc-test:resources:default\",\n+            \"ownerManagedAccess\": false,\n+            \"attributes\": {},\n+            \"_id\": \"f044b62c-be85-40b1-a646-ab000764337e\",\n+            \"uris\": [\n+              \"/*\"\n+            ]\n+          }\n+        ],\n+        \"policies\": [\n+          {\n+            \"id\": \"4077b1d8-acb5-4aab-b88a-0d4f07da107e\",\n+            \"name\": \"Default Policy\",\n+            \"description\": \"A policy that grants access only for users within this realm\",\n+            \"type\": \"js\",\n+            \"logic\": \"POSITIVE\",\n+            \"decisionStrategy\": \"AFFIRMATIVE\",\n+            \"config\": {\n+              \"code\": \"// by default, grants any permission associated with this policy\\n$evaluation.grant();\\n\"\n+            }\n+          },\n+          {\n+            \"id\": \"5e54be75-0d3f-483a-b47e-c24e36d0b666\",\n+            \"name\": \"Default Permission\",\n+            \"description\": \"A permission that applies to the default resource type\",\n+            \"type\": \"resource\",\n+            \"logic\": \"POSITIVE\",\n+            \"decisionStrategy\": \"UNANIMOUS\",\n+            \"config\": {\n+              \"defaultResourceType\": \"urn:oidc-test:resources:default\",\n+              \"applyPolicies\": \"[\\\"Default Policy\\\"]\"\n+            }\n+          }\n+        ],\n+        \"scopes\": []\n+      }\n+    },\n+    {\n+      \"id\": \"9cb0aa44-7e89-4ed2-8702-7bee34b39fdc\",\n+      \"clientId\": \"account\",\n+      \"name\": \"${client_account}\",\n+      \"baseUrl\": \"/auth/realms/master/account\",\n+      \"surrogateAuthRequired\": false,\n+      \"enabled\": true,\n+      \"clientAuthenticatorType\": \"client-secret\",\n+      \"secret\": \"**********\",\n+      \"defaultRoles\": [\n+        \"view-profile\",\n+        \"manage-account\"\n+      ],\n+      \"redirectUris\": [\n+        \"http://localhost:9080/syncope-console/oidcclient/code-consumer\",\n+        \"/auth/realms/master/account/*\",\n+        \"http://localhost:9080/syncope-enduser/oidcclient/code-consumer\"\n+      ],\n+      \"webOrigins\": [],\n+      \"notBefore\": 0,\n+      \"bearerOnly\": false,\n+      \"consentRequired\": true,\n+      \"standardFlowEnabled\": true,\n+      \"implicitFlowEnabled\": true,\n+      \"directAccessGrantsEnabled\": true,\n+      \"serviceAccountsEnabled\": true,\n+      \"authorizationServicesEnabled\": true,\n+      \"publicClient\": false,\n+      \"frontchannelLogout\": false,\n+      \"protocol\": \"openid-connect\",\n+      \"attributes\": {\n+        \"saml.assertion.signature\": \"false\",\n+        \"saml.force.post.binding\": \"false\",\n+        \"saml.multivalued.roles\": \"false\",\n+        \"saml.encrypt\": \"false\",\n+        \"saml.server.signature\": \"false\",\n+        \"saml.server.signature.keyinfo.ext\": \"false\",\n+        \"exclude.session.state.from.auth.response\": \"false\",\n+        \"saml_force_name_id_format\": \"false\",\n+        \"saml.client.signature\": \"false\",\n+        \"tls.client.certificate.bound.access.tokens\": \"false\",\n+        \"saml.authnstatement\": \"false\",\n+        \"display.on.consent.screen\": \"false\",\n+        \"saml.onetimeuse.condition\": \"false\"\n+      },\n+      \"authenticationFlowBindingOverrides\": {},\n+      \"fullScopeAllowed\": false,\n+      \"nodeReRegistrationTimeout\": 0,\n+      \"protocolMappers\": [\n+        {\n+          \"id\": \"6db42642-9862-4b48-a986-1fe7d2bf2a24\",\n+          \"name\": \"name\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"name\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"name\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"6efff622-0813-49f8-baf2-01c117cd9744\",\n+          \"name\": \"Client IP Address\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usersessionmodel-note-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"user.session.note\": \"clientAddress\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"clientAddress\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"e46eb849-c977-425a-b2fe-c032ea0f4b95\",\n+          \"name\": \"Client ID\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usersessionmodel-note-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"user.session.note\": \"clientId\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"clientId\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"76a37cf4-2f46-4f89-b7cd-cb1e75dc95a2\",\n+          \"name\": \"fullName\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"fullName\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"fullName\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"f6121e29-62b9-44e9-8e76-1c98d98b48d5\",\n+          \"name\": \"email\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"email\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"email\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"e3adc691-0b44-491a-9778-769909091969\",\n+          \"name\": \"lastName\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"lastName\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"lastName\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"b5618073-5b83-4528-bd9a-99ca9807847d\",\n+          \"name\": \"Client Host\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usersessionmodel-note-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"user.session.note\": \"clientHost\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"clientHost\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        }\n+      ],\n+      \"defaultClientScopes\": [\n+        \"web-origins\",\n+        \"role_list\",\n+        \"profile\",\n+        \"roles\",\n+        \"email\"\n+      ],\n+      \"optionalClientScopes\": [\n+        \"address\",\n+        \"phone\",\n+        \"offline_access\",\n+        \"microprofile-jwt\"\n+      ],\n+      \"authorizationSettings\": {\n+        \"allowRemoteResourceManagement\": true,\n+        \"policyEnforcementMode\": \"ENFORCING\",\n+        \"resources\": [\n+          {\n+            \"name\": \"Default Resource\",\n+            \"type\": \"urn:account:resources:default\",\n+            \"ownerManagedAccess\": false,\n+            \"attributes\": {},\n+            \"_id\": \"e85a7be3-724c-4846-9d60-67296333ef02\",\n+            \"uris\": [\n+              \"/*\"\n+            ]\n+          }\n+        ],\n+        \"policies\": [\n+          {\n+            \"id\": \"a75fd4f9-6936-4e39-a535-589ad7356f8f\",\n+            \"name\": \"Default Policy\",\n+            \"description\": \"A policy that grants access only for users within this realm\",\n+            \"type\": \"js\",\n+            \"logic\": \"POSITIVE\",\n+            \"decisionStrategy\": \"AFFIRMATIVE\",\n+            \"config\": {\n+              \"code\": \"// by default, grants any permission associated with this policy\\n$evaluation.grant();\\n\"\n+            }\n+          },\n+          {\n+            \"id\": \"92627286-24a8-4bf3-ad26-d618da21ea80\",\n+            \"name\": \"Default Permission\",\n+            \"description\": \"A permission that applies to the default resource type\",\n+            \"type\": \"resource\",\n+            \"logic\": \"POSITIVE\",\n+            \"decisionStrategy\": \"UNANIMOUS\",\n+            \"config\": {\n+              \"defaultResourceType\": \"urn:account:resources:default\",\n+              \"applyPolicies\": \"[\\\"Default Policy\\\"]\"\n+            }\n+          }\n+        ],\n+        \"scopes\": []\n+      }\n+    },\n+    {\n+      \"id\": \"e5f1365e-8227-4f63-b03d-8c5b8ffed1ff\",\n+      \"clientId\": \"broker\",\n+      \"name\": \"${client_broker}\",\n+      \"surrogateAuthRequired\": false,\n+      \"enabled\": true,\n+      \"clientAuthenticatorType\": \"client-secret\",\n+      \"secret\": \"**********\",\n+      \"redirectUris\": [],\n+      \"webOrigins\": [],\n+      \"notBefore\": 0,\n+      \"bearerOnly\": false,\n+      \"consentRequired\": false,\n+      \"standardFlowEnabled\": true,\n+      \"implicitFlowEnabled\": false,\n+      \"directAccessGrantsEnabled\": false,\n+      \"serviceAccountsEnabled\": false,\n+      \"publicClient\": false,\n+      \"frontchannelLogout\": false,\n+      \"protocol\": \"openid-connect\",\n+      \"attributes\": {},\n+      \"authenticationFlowBindingOverrides\": {},\n+      \"fullScopeAllowed\": false,\n+      \"nodeReRegistrationTimeout\": 0,\n+      \"defaultClientScopes\": [\n+        \"web-origins\",\n+        \"role_list\",\n+        \"profile\",\n+        \"roles\",\n+        \"email\"\n+      ],\n+      \"optionalClientScopes\": [\n+        \"address\",\n+        \"phone\",\n+        \"offline_access\",\n+        \"microprofile-jwt\"\n+      ]\n+    }\n+  ],\n+  \"clientScopes\": [\n+    {\n+      \"id\": \"207751c3-8697-414d-a451-adee6328df75\",\n+      \"name\": \"microprofile-jwt\",\n+      \"description\": \"Microprofile - JWT built-in scope\",\n+      \"protocol\": \"openid-connect\",\n+      \"attributes\": {\n+        \"include.in.token.scope\": \"true\",\n+        \"display.on.consent.screen\": \"false\"\n+      },\n+      \"protocolMappers\": [\n+        {\n+          \"id\": \"b1bfd849-9f78-4e31-a3fd-f4c85ddfd37b\",\n+          \"name\": \"upn\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-property-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"username\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"upn\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"27ab40ce-ce70-49a4-b153-d5375d2cc5b0\",\n+          \"name\": \"groups\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-realm-role-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"multivalued\": \"true\",\n+            \"user.attribute\": \"foo\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"groups\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"66d7c7ef-1ddf-48ec-b6f1-0d8119b5b151\",\n+      \"name\": \"web-origins\",\n+      \"description\": \"OpenID Connect scope for add allowed web origins to the access token\",\n+      \"protocol\": \"openid-connect\",\n+      \"attributes\": {\n+        \"include.in.token.scope\": \"false\",\n+        \"display.on.consent.screen\": \"false\",\n+        \"consent.screen.text\": \"\"\n+      },\n+      \"protocolMappers\": [\n+        {\n+          \"id\": \"f1458f25-d330-496f-9c42-55f176dfe47c\",\n+          \"name\": \"allowed web origins\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-allowed-origins-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {}\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"c89df48d-160a-4e7f-b9e9-41f7b7de9bdb\",\n+      \"name\": \"roles\",\n+      \"description\": \"OpenID Connect scope for add user roles to the access token\",\n+      \"protocol\": \"openid-connect\",\n+      \"attributes\": {\n+        \"include.in.token.scope\": \"false\",\n+        \"display.on.consent.screen\": \"true\",\n+        \"consent.screen.text\": \"${rolesScopeConsentText}\"\n+      },\n+      \"protocolMappers\": [\n+        {\n+          \"id\": \"fa759cdc-914f-4012-bee0-0b6c89dde9f7\",\n+          \"name\": \"realm roles\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-realm-role-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"multivalued\": \"true\",\n+            \"user.attribute\": \"foo\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"realm_access.roles\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"a833736e-c483-4205-9172-038fd9f2e58e\",\n+          \"name\": \"client roles\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-client-role-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"multivalued\": \"true\",\n+            \"user.attribute\": \"foo\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"resource_access.${client_id}.roles\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"6cfa6171-fc45-4048-854e-3971f34feae7\",\n+          \"name\": \"audience resolve\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-audience-resolve-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {}\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"13bd781f-9c09-4586-b21f-0b4f793352b3\",\n+      \"name\": \"phone\",\n+      \"description\": \"OpenID Connect built-in scope: phone\",\n+      \"protocol\": \"openid-connect\",\n+      \"attributes\": {\n+        \"include.in.token.scope\": \"true\",\n+        \"display.on.consent.screen\": \"true\",\n+        \"consent.screen.text\": \"${phoneScopeConsentText}\"\n+      },\n+      \"protocolMappers\": [\n+        {\n+          \"id\": \"9821b172-56a1-4ba3-aee3-1c7fa12e2c41\",\n+          \"name\": \"phone number\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"phoneNumber\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"phone_number\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"554855cc-a829-4bdb-9bcf-c1f150df0c9b\",\n+          \"name\": \"phone number verified\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"phoneNumberVerified\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"phone_number_verified\",\n+            \"jsonType.label\": \"boolean\"\n+          }\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"a99a4e9a-196b-4977-ba63-24c238f28ff6\",\n+      \"name\": \"address\",\n+      \"description\": \"OpenID Connect built-in scope: address\",\n+      \"protocol\": \"openid-connect\",\n+      \"attributes\": {\n+        \"include.in.token.scope\": \"true\",\n+        \"display.on.consent.screen\": \"true\",\n+        \"consent.screen.text\": \"${addressScopeConsentText}\"\n+      },\n+      \"protocolMappers\": [\n+        {\n+          \"id\": \"bd77d1a7-e786-4a27-bf0a-3ed299346f95\",\n+          \"name\": \"address\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-address-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"user.attribute.formatted\": \"formatted\",\n+            \"user.attribute.country\": \"country\",\n+            \"user.attribute.postal_code\": \"postal_code\",\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute.street\": \"street\",\n+            \"id.token.claim\": \"true\",\n+            \"user.attribute.region\": \"region\",\n+            \"access.token.claim\": \"true\",\n+            \"user.attribute.locality\": \"locality\"\n+          }\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"103bef92-6694-4dd9-bb94-860cf3891ea0\",\n+      \"name\": \"email\",\n+      \"description\": \"OpenID Connect built-in scope: email\",\n+      \"protocol\": \"openid-connect\",\n+      \"attributes\": {\n+        \"include.in.token.scope\": \"true\",\n+        \"display.on.consent.screen\": \"true\",\n+        \"consent.screen.text\": \"${emailScopeConsentText}\"\n+      },\n+      \"protocolMappers\": [\n+        {\n+          \"id\": \"2caa0eee-d72d-4f4d-8515-3625f046f274\",\n+          \"name\": \"email\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-property-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"email\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"email\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"e95028fa-6f26-4dad-bb10-89d39a466ab5\",\n+          \"name\": \"email verified\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-property-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"emailVerified\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"email_verified\",\n+            \"jsonType.label\": \"boolean\"\n+          }\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"2165534b-1305-480e-8be6-e08428bd7710\",\n+      \"name\": \"profile\",\n+      \"description\": \"OpenID Connect built-in scope: profile\",\n+      \"protocol\": \"openid-connect\",\n+      \"attributes\": {\n+        \"include.in.token.scope\": \"true\",\n+        \"display.on.consent.screen\": \"true\",\n+        \"consent.screen.text\": \"${profileScopeConsentText}\"\n+      },\n+      \"protocolMappers\": [\n+        {\n+          \"id\": \"b0a63a0f-d4a5-420e-b8c8-2b9e3de310df\",\n+          \"name\": \"birthdate\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"birthdate\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"birthdate\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"f32785d8-3963-4570-b77a-5710326b32b6\",\n+          \"name\": \"middle name\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"middleName\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"middle_name\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"ac364875-5fe9-443e-bdab-c779998ec18a\",\n+          \"name\": \"given name\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-property-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"firstName\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"given_name\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"61244f24-5f5b-4bd1-a738-08f0d5147da0\",\n+          \"name\": \"updated at\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"updatedAt\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"updated_at\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"e3ae74e7-11e3-469b-ad10-69419062e61e\",\n+          \"name\": \"full name\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-full-name-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"userinfo.token.claim\": \"true\"\n+          }\n+        },\n+        {\n+          \"id\": \"d39af8e4-7804-4209-b8fc-361c199e4eff\",\n+          \"name\": \"gender\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"gender\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"gender\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"9b944fe3-04a5-4ed6-9743-57b1d93b3c12\",\n+          \"name\": \"username\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-property-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"username\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"preferred_username\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"63a62a59-48aa-41c8-a878-6e2a49170671\",\n+          \"name\": \"profile\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"profile\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"profile\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"d2b9e956-9f84-4239-b9fb-4aaa66efe5d3\",\n+          \"name\": \"nickname\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"nickname\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"nickname\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"13172ca3-1175-433d-b5a9-e3e8904c76cb\",\n+          \"name\": \"family name\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-property-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"lastName\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"family_name\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"d9d54937-de59-4040-a5e4-f721a9facaef\",\n+          \"name\": \"zoneinfo\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"zoneinfo\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"zoneinfo\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"07e30efd-7f88-4e7e-9d65-eef422e3ba3c\",\n+          \"name\": \"locale\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"locale\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"locale\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"6d69ff26-82d8-4750-bc1c-2c6a54951dc1\",\n+          \"name\": \"website\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"website\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"website\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        },\n+        {\n+          \"id\": \"fcc5ca45-020e-4edc-8279-e6e7d8a5df29\",\n+          \"name\": \"picture\",\n+          \"protocol\": \"openid-connect\",\n+          \"protocolMapper\": \"oidc-usermodel-attribute-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"userinfo.token.claim\": \"true\",\n+            \"user.attribute\": \"picture\",\n+            \"id.token.claim\": \"true\",\n+            \"access.token.claim\": \"true\",\n+            \"claim.name\": \"picture\",\n+            \"jsonType.label\": \"String\"\n+          }\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"07e46091-35cc-491e-9776-03077bae3a0c\",\n+      \"name\": \"role_list\",\n+      \"description\": \"SAML role list\",\n+      \"protocol\": \"saml\",\n+      \"attributes\": {\n+        \"consent.screen.text\": \"${samlRoleListScopeConsentText}\",\n+        \"display.on.consent.screen\": \"true\"\n+      },\n+      \"protocolMappers\": [\n+        {\n+          \"id\": \"ff63d4a8-358f-4e0b-9807-32dfcc889bdc\",\n+          \"name\": \"role list\",\n+          \"protocol\": \"saml\",\n+          \"protocolMapper\": \"saml-role-list-mapper\",\n+          \"consentRequired\": false,\n+          \"config\": {\n+            \"single\": \"false\",\n+            \"attribute.nameformat\": \"Basic\",\n+            \"attribute.name\": \"Role\"\n+          }\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"ff466f99-32f2-4584-bc41-72b6a13a6fbd\",\n+      \"name\": \"offline_access\",\n+      \"description\": \"OpenID Connect built-in scope: offline_access\",\n+      \"protocol\": \"openid-connect\",\n+      \"attributes\": {\n+        \"consent.screen.text\": \"${offlineAccessScopeConsentText}\",\n+        \"display.on.consent.screen\": \"true\"\n+      }\n+    }\n+  ],\n+  \"defaultDefaultClientScopes\": [\n+    \"role_list\",\n+    \"profile\",\n+    \"email\",\n+    \"roles\",\n+    \"web-origins\"\n+  ],\n+  \"defaultOptionalClientScopes\": [\n+    \"offline_access\",\n+    \"address\",\n+    \"phone\",\n+    \"microprofile-jwt\"\n+  ],\n+  \"browserSecurityHeaders\": {\n+    \"contentSecurityPolicyReportOnly\": \"\",\n+    \"xContentTypeOptions\": \"nosniff\",\n+    \"xRobotsTag\": \"none\",\n+    \"xFrameOptions\": \"SAMEORIGIN\",\n+    \"xXSSProtection\": \"1; mode=block\",\n+    \"contentSecurityPolicy\": \"frame-src 'self'; frame-ancestors 'self'; object-src 'none';\",\n+    \"strictTransportSecurity\": \"max-age=31536000; includeSubDomains\"\n+  },\n+  \"smtpServer\": {},\n+  \"eventsEnabled\": false,\n+  \"eventsListeners\": [\n+    \"jboss-logging\"\n+  ],\n+  \"enabledEventTypes\": [],\n+  \"adminEventsEnabled\": false,\n+  \"adminEventsDetailsEnabled\": false,\n+  \"components\": {\n+    \"org.keycloak.services.clientregistration.policy.ClientRegistrationPolicy\": [\n+      {\n+        \"id\": \"f57951e7-7557-4c48-b779-b59216e9b1d8\",\n+        \"name\": \"Allowed Client Scopes\",\n+        \"providerId\": \"allowed-client-templates\",\n+        \"subType\": \"authenticated\",\n+        \"subComponents\": {},\n+        \"config\": {\n+          \"allow-default-scopes\": [\n+            \"true\"\n+          ]\n+        }\n+      },\n+      {\n+        \"id\": \"0fd0e4b7-b5d5-4132-9e84-d72bb95c976b\",\n+        \"name\": \"Trusted Hosts\",\n+        \"providerId\": \"trusted-hosts\",\n+        \"subType\": \"anonymous\",\n+        \"subComponents\": {},\n+        \"config\": {\n+          \"host-sending-registration-request-must-match\": [\n+            \"true\"\n+          ],\n+          \"client-uris-must-match\": [\n+            \"true\"\n+          ]\n+        }\n+      },\n+      {\n+        \"id\": \"db90a46c-a2d9-44af-ae23-9af115b07134\",\n+        \"name\": \"Max Clients Limit\",\n+        \"providerId\": \"max-clients\",\n+        \"subType\": \"anonymous\",\n+        \"subComponents\": {},\n+        \"config\": {\n+          \"max-clients\": [\n+            \"200\"\n+          ]\n+        }\n+      },\n+      {\n+        \"id\": \"cff490e0-3924-4c22-bb4a-0f457a7bb37f\",\n+        \"name\": \"Allowed Protocol Mapper Types\",\n+        \"providerId\": \"allowed-protocol-mappers\",\n+        \"subType\": \"authenticated\",\n+        \"subComponents\": {},\n+        \"config\": {\n+          \"allowed-protocol-mapper-types\": [\n+            \"saml-user-property-mapper\",\n+            \"oidc-usermodel-property-mapper\",\n+            \"oidc-usermodel-attribute-mapper\",\n+            \"oidc-full-name-mapper\",\n+            \"oidc-address-mapper\",\n+            \"saml-role-list-mapper\",\n+            \"oidc-sha256-pairwise-sub-mapper\",\n+            \"saml-user-attribute-mapper\"\n+          ]\n+        }\n+      },\n+      {\n+        \"id\": \"04570181-3b70-4571-b203-b53f2a34123a\",\n+        \"name\": \"Consent Required\",\n+        \"providerId\": \"consent-required\",\n+        \"subType\": \"anonymous\",\n+        \"subComponents\": {},\n+        \"config\": {}\n+      },\n+      {\n+        \"id\": \"6397ae12-ae0d-4918-aa08-ee404d5144d8\",\n+        \"name\": \"Allowed Protocol Mapper Types\",\n+        \"providerId\": \"allowed-protocol-mappers\",\n+        \"subType\": \"anonymous\",\n+        \"subComponents\": {},\n+        \"config\": {\n+          \"allowed-protocol-mapper-types\": [\n+            \"saml-role-list-mapper\",\n+            \"saml-user-attribute-mapper\",\n+            \"oidc-address-mapper\",\n+            \"oidc-usermodel-property-mapper\",\n+            \"oidc-full-name-mapper\",\n+            \"saml-user-property-mapper\",\n+            \"oidc-usermodel-attribute-mapper\",\n+            \"oidc-sha256-pairwise-sub-mapper\"\n+          ]\n+        }\n+      },\n+      {\n+        \"id\": \"1b0218ee-94a7-4021-b46d-5edcc45af48a\",\n+        \"name\": \"Full Scope Disabled\",\n+        \"providerId\": \"scope\",\n+        \"subType\": \"anonymous\",\n+        \"subComponents\": {},\n+        \"config\": {}\n+      },\n+      {\n+        \"id\": \"92eacde8-5c64-46d4-b75d-986330f0faf8\",\n+        \"name\": \"Allowed Client Scopes\",\n+        \"providerId\": \"allowed-client-templates\",\n+        \"subType\": \"anonymous\",\n+        \"subComponents\": {},\n+        \"config\": {\n+          \"allow-default-scopes\": [\n+            \"true\"\n+          ]\n+        }\n+      }\n+    ],\n+    \"org.keycloak.keys.KeyProvider\": [\n+      {\n+        \"id\": \"127db379-920f-49ba-a289-408038d1166d\",\n+        \"name\": \"aes-generated\",\n+        \"providerId\": \"aes-generated\",\n+        \"subComponents\": {},\n+        \"config\": {\n+          \"priority\": [\n+            \"100\"\n+          ]\n+        }\n+      },\n+      {\n+        \"id\": \"d9601add-c0f8-48c3-9f65-e41f870dc28d\",\n+        \"name\": \"hmac-generated\",\n+        \"providerId\": \"hmac-generated\",\n+        \"subComponents\": {},\n+        \"config\": {\n+          \"priority\": [\n+            \"100\"\n+          ],\n+          \"algorithm\": [\n+            \"HS256\"\n+          ]\n+        }\n+      },\n+      {\n+        \"id\": \"d2b8c49a-c968-496d-9750-3ad7387ac7c7\",\n+        \"name\": \"rsa-generated\",\n+        \"providerId\": \"rsa-generated\",\n+        \"subComponents\": {},\n+        \"config\": {\n+          \"priority\": [\n+            \"100\"\n+          ]\n+        }\n+      }\n+    ]\n+  },\n+  \"internationalizationEnabled\": false,\n+  \"supportedLocales\": [],\n+  \"authenticationFlows\": [\n+    {\n+      \"id\": \"1a57c929-5fa2-432c-9113-574cc75cd0e0\",\n+      \"alias\": \"Handle Existing Account\",\n+      \"description\": \"Handle what to do if there is existing account with same email/username like authenticated identity provider\",\n+      \"providerId\": \"basic-flow\",\n+      \"topLevel\": false,\n+      \"builtIn\": true,\n+      \"authenticationExecutions\": [\n+        {\n+          \"authenticator\": \"idp-confirm-link\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 10,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"idp-email-verification\",\n+          \"requirement\": \"ALTERNATIVE\",\n+          \"priority\": 20,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"requirement\": \"ALTERNATIVE\",\n+          \"priority\": 30,\n+          \"flowAlias\": \"Verify Existing Account by Re-authentication\",\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": true\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"8cf6d3b5-e804-4b1e-8839-d3e5ce0c99ce\",\n+      \"alias\": \"Verify Existing Account by Re-authentication\",\n+      \"description\": \"Reauthentication of existing account\",\n+      \"providerId\": \"basic-flow\",\n+      \"topLevel\": false,\n+      \"builtIn\": true,\n+      \"authenticationExecutions\": [\n+        {\n+          \"authenticator\": \"idp-username-password-form\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 10,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"auth-otp-form\",\n+          \"requirement\": \"OPTIONAL\",\n+          \"priority\": 20,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"575a7ece-2a59-4432-ba6e-fafa3e7b73e8\",\n+      \"alias\": \"browser\",\n+      \"description\": \"browser based authentication\",\n+      \"providerId\": \"basic-flow\",\n+      \"topLevel\": true,\n+      \"builtIn\": true,\n+      \"authenticationExecutions\": [\n+        {\n+          \"authenticator\": \"auth-cookie\",\n+          \"requirement\": \"ALTERNATIVE\",\n+          \"priority\": 10,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"auth-spnego\",\n+          \"requirement\": \"DISABLED\",\n+          \"priority\": 20,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"identity-provider-redirector\",\n+          \"requirement\": \"ALTERNATIVE\",\n+          \"priority\": 25,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"requirement\": \"ALTERNATIVE\",\n+          \"priority\": 30,\n+          \"flowAlias\": \"forms\",\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": true\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"9290c4f5-e470-495a-b1d0-2d03eb9cbaf0\",\n+      \"alias\": \"clients\",\n+      \"description\": \"Base authentication for clients\",\n+      \"providerId\": \"client-flow\",\n+      \"topLevel\": true,\n+      \"builtIn\": true,\n+      \"authenticationExecutions\": [\n+        {\n+          \"authenticator\": \"client-secret\",\n+          \"requirement\": \"ALTERNATIVE\",\n+          \"priority\": 10,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"client-jwt\",\n+          \"requirement\": \"ALTERNATIVE\",\n+          \"priority\": 20,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"client-secret-jwt\",\n+          \"requirement\": \"ALTERNATIVE\",\n+          \"priority\": 30,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"client-x509\",\n+          \"requirement\": \"ALTERNATIVE\",\n+          \"priority\": 40,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"1f8d6e9b-8859-4128-aa45-5e75cc234110\",\n+      \"alias\": \"direct grant\",\n+      \"description\": \"OpenID Connect Resource Owner Grant\",\n+      \"providerId\": \"basic-flow\",\n+      \"topLevel\": true,\n+      \"builtIn\": true,\n+      \"authenticationExecutions\": [\n+        {\n+          \"authenticator\": \"direct-grant-validate-username\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 10,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"direct-grant-validate-password\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 20,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"direct-grant-validate-otp\",\n+          \"requirement\": \"OPTIONAL\",\n+          \"priority\": 30,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"5b09e811-0edc-45b1-ab78-abacb6cdf02b\",\n+      \"alias\": \"docker auth\",\n+      \"description\": \"Used by Docker clients to authenticate against the IDP\",\n+      \"providerId\": \"basic-flow\",\n+      \"topLevel\": true,\n+      \"builtIn\": true,\n+      \"authenticationExecutions\": [\n+        {\n+          \"authenticator\": \"docker-http-basic-authenticator\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 10,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"5a59a45d-5795-4d35-ba9f-522b2564b289\",\n+      \"alias\": \"first broker login\",\n+      \"description\": \"Actions taken after first broker login with identity provider account, which is not yet linked to any Keycloak account\",\n+      \"providerId\": \"basic-flow\",\n+      \"topLevel\": true,\n+      \"builtIn\": true,\n+      \"authenticationExecutions\": [\n+        {\n+          \"authenticatorConfig\": \"review profile config\",\n+          \"authenticator\": \"idp-review-profile\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 10,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticatorConfig\": \"create unique user config\",\n+          \"authenticator\": \"idp-create-user-if-unique\",\n+          \"requirement\": \"ALTERNATIVE\",\n+          \"priority\": 20,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"requirement\": \"ALTERNATIVE\",\n+          \"priority\": 30,\n+          \"flowAlias\": \"Handle Existing Account\",\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": true\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"c7e0573a-560e-44e6-b226-c33126f56b60\",\n+      \"alias\": \"forms\",\n+      \"description\": \"Username, password, otp and other auth forms.\",\n+      \"providerId\": \"basic-flow\",\n+      \"topLevel\": false,\n+      \"builtIn\": true,\n+      \"authenticationExecutions\": [\n+        {\n+          \"authenticator\": \"auth-username-password-form\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 10,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"auth-otp-form\",\n+          \"requirement\": \"OPTIONAL\",\n+          \"priority\": 20,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"84931984-b55d-47fc-a0a0-d667fe94331a\",\n+      \"alias\": \"http challenge\",\n+      \"description\": \"An authentication flow based on challenge-response HTTP Authentication Schemes\",\n+      \"providerId\": \"basic-flow\",\n+      \"topLevel\": true,\n+      \"builtIn\": true,\n+      \"authenticationExecutions\": [\n+        {\n+          \"authenticator\": \"no-cookie-redirect\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 10,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"basic-auth\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 20,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"basic-auth-otp\",\n+          \"requirement\": \"DISABLED\",\n+          \"priority\": 30,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"auth-spnego\",\n+          \"requirement\": \"DISABLED\",\n+          \"priority\": 40,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"4d70a60e-37f4-454e-86e6-982f7e146758\",\n+      \"alias\": \"registration\",\n+      \"description\": \"registration flow\",\n+      \"providerId\": \"basic-flow\",\n+      \"topLevel\": true,\n+      \"builtIn\": true,\n+      \"authenticationExecutions\": [\n+        {\n+          \"authenticator\": \"registration-page-form\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 10,\n+          \"flowAlias\": \"registration form\",\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": true\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"90511fb9-b046-48cc-b0ac-700dba9ed988\",\n+      \"alias\": \"registration form\",\n+      \"description\": \"registration form\",\n+      \"providerId\": \"form-flow\",\n+      \"topLevel\": false,\n+      \"builtIn\": true,\n+      \"authenticationExecutions\": [\n+        {\n+          \"authenticator\": \"registration-user-creation\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 20,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"registration-profile-action\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 40,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"registration-password-action\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 50,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"registration-recaptcha-action\",\n+          \"requirement\": \"DISABLED\",\n+          \"priority\": 60,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"ed15f1bd-61cc-43a1-b735-307321136ffc\",\n+      \"alias\": \"reset credentials\",\n+      \"description\": \"Reset credentials for a user if they forgot their password or something\",\n+      \"providerId\": \"basic-flow\",\n+      \"topLevel\": true,\n+      \"builtIn\": true,\n+      \"authenticationExecutions\": [\n+        {\n+          \"authenticator\": \"reset-credentials-choose-user\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 10,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"reset-credential-email\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 20,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"reset-password\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 30,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        },\n+        {\n+          \"authenticator\": \"reset-otp\",\n+          \"requirement\": \"OPTIONAL\",\n+          \"priority\": 40,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        }\n+      ]\n+    },\n+    {\n+      \"id\": \"60a707b1-1ace-4852-ab0f-d755543e5ce5\",\n+      \"alias\": \"saml ecp\",\n+      \"description\": \"SAML ECP Profile Authentication Flow\",\n+      \"providerId\": \"basic-flow\",\n+      \"topLevel\": true,\n+      \"builtIn\": true,\n+      \"authenticationExecutions\": [\n+        {\n+          \"authenticator\": \"http-basic-authenticator\",\n+          \"requirement\": \"REQUIRED\",\n+          \"priority\": 10,\n+          \"userSetupAllowed\": false,\n+          \"autheticatorFlow\": false\n+        }\n+      ]\n+    }\n+  ],\n+  \"authenticatorConfig\": [\n+    {\n+      \"id\": \"bb4eee3a-0624-4a06-8774-b3a2484f30fd\",\n+      \"alias\": \"create unique user config\",\n+      \"config\": {\n+        \"require.password.update.after.registration\": \"false\"\n+      }\n+    },\n+    {\n+      \"id\": \"920d034a-5f7c-47c9-969e-d7f5cd8450dd\",\n+      \"alias\": \"review profile config\",\n+      \"config\": {\n+        \"update.profile.on.first.login\": \"missing\"\n+      }\n+    }\n+  ],\n+  \"requiredActions\": [\n+    {\n+      \"alias\": \"CONFIGURE_TOTP\",\n+      \"name\": \"Configure OTP\",\n+      \"providerId\": \"CONFIGURE_TOTP\",\n+      \"enabled\": true,\n+      \"defaultAction\": false,\n+      \"priority\": 10,\n+      \"config\": {}\n+    },\n+    {\n+      \"alias\": \"terms_and_conditions\",\n+      \"name\": \"Terms and Conditions\",\n+      \"providerId\": \"terms_and_conditions\",\n+      \"enabled\": false,\n+      \"defaultAction\": false,\n+      \"priority\": 20,\n+      \"config\": {}\n+    },\n+    {\n+      \"alias\": \"UPDATE_PASSWORD\",\n+      \"name\": \"Update Password\",\n+      \"providerId\": \"UPDATE_PASSWORD\",\n+      \"enabled\": true,\n+      \"defaultAction\": false,\n+      \"priority\": 30,\n+      \"config\": {}\n+    },\n+    {\n+      \"alias\": \"UPDATE_PROFILE\",\n+      \"name\": \"Update Profile\",\n+      \"providerId\": \"UPDATE_PROFILE\",\n+      \"enabled\": true,\n+      \"defaultAction\": false,\n+      \"priority\": 40,\n+      \"config\": {}\n+    },\n+    {\n+      \"alias\": \"VERIFY_EMAIL\",\n+      \"name\": \"Verify Email\",\n+      \"providerId\": \"VERIFY_EMAIL\",\n+      \"enabled\": true,\n+      \"defaultAction\": false,\n+      \"priority\": 50,\n+      \"config\": {}\n+    }\n+  ],\n+  \"browserFlow\": \"browser\",\n+  \"registrationFlow\": \"registration\",\n+  \"directGrantFlow\": \"direct grant\",\n+  \"resetCredentialsFlow\": \"reset credentials\",\n+  \"clientAuthenticationFlow\": \"clients\",\n+  \"dockerAuthenticationFlow\": \"docker auth\",\n+  \"attributes\": {\n+    \"_browser_header.xXSSProtection\": \"1; mode=block\",\n+    \"_browser_header.strictTransportSecurity\": \"max-age=31536000; includeSubDomains\",\n+    \"_browser_header.xFrameOptions\": \"SAMEORIGIN\",\n+    \"quickLoginCheckMilliSeconds\": \"1000\",\n+    \"permanentLockout\": \"false\",\n+    \"displayName\": \"Keycloak\",\n+    \"_browser_header.xRobotsTag\": \"none\",\n+    \"maxFailureWaitSeconds\": \"900\",\n+    \"displayNameHtml\": \"<div class=\\\"kc-logo-text\\\"><span>Keycloak</span></div>\",\n+    \"minimumQuickLoginWaitSeconds\": \"60\",\n+    \"failureFactor\": \"30\",\n+    \"maxDeltaTimeSeconds\": \"43200\",\n+    \"_browser_header.xContentTypeOptions\": \"nosniff\",\n+    \"offlineSessionMaxLifespan\": \"5184000\",\n+    \"_browser_header.contentSecurityPolicyReportOnly\": \"\",\n+    \"bruteForceProtected\": \"false\",\n+    \"_browser_header.contentSecurityPolicy\": \"frame-src 'self'; frame-ancestors 'self'; object-src 'none';\",\n+    \"offlineSessionMaxLifespanEnabled\": \"false\",\n+    \"waitIncrementSeconds\": \"60\"\n+  },\n+  \"keycloakVersion\": \"6.0.1\",\n+  \"userManagedAccessAllowed\": false\n+}\n\\ No newline at end of file"},{"sha":"9d4e73d39a484246da6a723855bba7a36815f3a8","filename":"fit/enduser-reference/src/test/resources/sso/saml2syncope-console.json","status":"added","additions":131,"deletions":0,"changes":131,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Fsaml2syncope-console.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Fsaml2syncope-console.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Fsaml2syncope-console.json?ref=ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5","patch":"@@ -0,0 +1,131 @@\n+{\n+    \"clientId\": \"http://localhost:9080/syncope-console/\",\n+    \"name\": \"SAML Test\",\n+    \"adminUrl\": \"http://localhost:8080/auth/realms/master\",\n+    \"surrogateAuthRequired\": false,\n+    \"enabled\": true,\n+    \"clientAuthenticatorType\": \"client-secret\",\n+    \"redirectUris\": [\n+        \"http://localhost:9080/*\"\n+    ],\n+    \"webOrigins\": [\n+        \"http://localhost:9080\"\n+    ],\n+    \"notBefore\": 0,\n+    \"bearerOnly\": false,\n+    \"consentRequired\": false,\n+    \"standardFlowEnabled\": true,\n+    \"implicitFlowEnabled\": false,\n+    \"directAccessGrantsEnabled\": false,\n+    \"serviceAccountsEnabled\": false,\n+    \"publicClient\": false,\n+    \"frontchannelLogout\": true,\n+    \"protocol\": \"saml\",\n+    \"attributes\": {\n+        \"saml.assertion.signature\": \"true\",\n+        \"saml_assertion_consumer_url_redirect\": \"http://localhost:9080/syncope-console/saml2sp/assertion-consumer\",\n+        \"saml.force.post.binding\": \"true\",\n+        \"saml.multivalued.roles\": \"false\",\n+        \"saml_single_logout_service_url_post\": \"http://localhost:9080/syncope-console/saml2sp/logout\",\n+        \"saml.encrypt\": \"false\",\n+        \"saml_assertion_consumer_url_post\": \"http://localhost:9080/syncope-console/saml2sp/assertion-consumer\",\n+        \"saml.server.signature\": \"true\",\n+        \"saml.server.signature.keyinfo.ext\": \"false\",\n+        \"exclude.session.state.from.auth.response\": \"false\",\n+        \"saml.signing.certificate\": \"MIIC9TCCAd0CBgFrCC7kezANBgkqhkiG9w0BAQsFADA+MTwwOgYDVQQDDDNodHRwOi8vc3luY29wZS1zYW1sMi10ZXN0LWNvbTo5MDgwL3N5bmNvcGUtZW5kdXNlci8wHhcNMTkwNTMwMDk1ODM5WhcNMjkwNTMwMTAwMDE5WjA+MTwwOgYDVQQDDDNodHRwOi8vc3luY29wZS1zYW1sMi10ZXN0LWNvbTo5MDgwL3N5bmNvcGUtZW5kdXNlci8wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCF4QsiRZGD7BNx0Bglh4rgtACaIr7R/nDQfdGLN9uSA2HkEPygJzBRyluQLiQv9o/LKQMwvmia5fK4Xt99cgJnmrzKXraKo1KsZNz8vpygMpGJzCA2XUMLe065lYg28PV2bjk6hyUcMehlubjKFQ6USAJG5dbrrSz7iS2jHQZcxCZAdPPFpaUZpcJPNXU8n9s+peQvPeiYRu9QUEB/qe/onvQ/WJUXxErx2PHmtG9yeIQKoacSvrD6rSHwCgwxJgo+tW12S4bRXj4Nwm2h9969PrQO8L8egCkF5RLSe0gBaWqan9HYIQ6B/TzgsGrUPIGw7ZA4WW7GgL3tZpXvZYZLAgMBAAEwDQYJKoZIhvcNAQELBQADggEBADo0tTfrgTJ1+p/lAtlmxqIA18Ud1QAqzOCS9yQ2VwbMtiRR6wz92dm1wPAUbTjiZZ9e2zGiBPfLeAlPNlZ+Q2HLJV6lrgNQRFUFgL2cM7ihuYPoQYgPiaH2ciT9Zh+5Wwzb/+h1IgH3qCEiMyE8LVrd/M+HCtDTS+OwdEnLL0CmCZ5l3aEz9XBWa5Nu0Rz3I+R2U4cPM4kn+40Ebjt1Dyf0FvQVUL9goXFpsATxBtSPGmewVJ+AGpKlse4HoNyRtFkdhYPed3QckKJO+NbluE5wsgJOdZD/7J4BDr5CIoe26nlnLBqvJA3m/lxVA39zqh2J1LDzuEeH4F9bBtbCUmY=\",\n+        \"saml_single_logout_service_url_redirect\": \"http://localhost:9080/syncope-console/saml2sp/logout\",\n+        \"saml.signature.algorithm\": \"RSA_SHA256\",\n+        \"saml_force_name_id_format\": \"false\",\n+        \"saml.client.signature\": \"false\",\n+        \"tls.client.certificate.bound.access.tokens\": \"false\",\n+        \"saml.authnstatement\": \"true\",\n+        \"display.on.consent.screen\": \"false\",\n+        \"saml.signing.private.key\": \"MIIEowIBAAKCAQEAheELIkWRg+wTcdAYJYeK4LQAmiK+0f5w0H3RizfbkgNh5BD8oCcwUcpbkC4kL/aPyykDML5omuXyuF7ffXICZ5q8yl62iqNSrGTc/L6coDKRicwgNl1DC3tOuZWINvD1dm45OoclHDHoZbm4yhUOlEgCRuXW660s+4ktox0GXMQmQHTzxaWlGaXCTzV1PJ/bPqXkLz3omEbvUFBAf6nv6J70P1iVF8RK8djx5rRvcniECqGnEr6w+q0h8AoMMSYKPrVtdkuG0V4+DcJtoffevT60DvC/HoApBeUS0ntIAWlqmp/R2CEOgf084LBq1DyBsO2QOFluxoC97WaV72WGSwIDAQABAoIBABXnJY0r2Iy+uMesBedN75inmlmdSZ7Ng+N4Uin2r4OJ7iAD73C8OJmJA8Xo5p66NfhE83KsFC0TZcxoKSQ63M3acPyi1jaEVehCcC0hejpzS4BB1xtN0sQ0HkMahbiHX4FKsy4yIg4k1CKgae0V2NbFmSnEPI8+O9fDL6Y5/2p5pwkE72oAyk/fD0ApeKpEJ2+4IpJEkrdciAlrtDuWb0xk1Y+HQgz2GoFPmCUOssv9KAgFAtMQW4mQrgESmLh2usF9C3usOpeOwuG6VwK6pS14KeyaBFHbg6SKNqbkhyKsKGlkNBvSLCfxMTMsyMaVABGXt8J25ICmzXfLE24Qn3ECgYEA4eFOq4Igtbc8SDaIZZOlJVTYk+W6Ug1ZSZKfoCmVtbzH904DTmY9nOjP6tAUCCAelQH7YnxzQr/n+hMN6tMKW6e6bR3G13XK97znATKBlfQkjix5dvBTdlV384zo+jhU3clgxvgaNfMaxovoDH3bDeDRUC4dGgQ9J19gTnvAuYUCgYEAl7srPPjINeYUf7O14CcfDqPa6oR19IVPvrdwyi8lHEIvSHppDj651dOxjvnP0zm2VXtrzIk65NkcjXxqWPlEuEc9Ka6fX0hARU0mqd34E8ccvbf3wuggPyCZjRNbDcTMqDCwOjJwwtP/a6x0zZ2JdAmb9IoNjvrRvmnpKzPw4Y8CgYEAzNatqQsQ7rmEiVgqyTLjiL8wyK6EEPTaC8ZTy8LqaS0RikvM48QEC890/dRE1jmKgkaR2fZR8C5oCHhPHqzTr9qjTWC7eZjwv0knlAZhTcNhgy0B2cKHbcCETvFyNbfv/lEo2kcUPeiAV514iht4E1XVe4jWC0ncy1/KzmGbnKECgYAoHiTgiiblmV/yI+IC0lUz2b8YIs3NSTI8iuQXkT+OqTE3SKZeTdd04fQgiYyZnLjJAUkPW3lm6MDT6AF2ZPH2h190lectmjzkFfITF81v7UV8JBguQJHGHyh6VJPOoCo8jiMKQCvwV31BSufXNcASHjhN//J1y3uJjRdJhQI7oQKBgCLLXLL5xm5EkXpjLCgLZWBuSgkNbHWPNxR1agHtsL0+nhNu7MPbwQceajCFmrijuvqUKmKgeNJotZw0g0UooewqT7osKfqkmtGgS7+HbZ4WFFNkSMk1oMsRJeT0jTticOp0JbhnMF4vACW5IZWjEDUheONv1dIa4YFYPM6gdFCR\",\n+        \"saml_name_id_format\": \"persistent\",\n+        \"saml.onetimeuse.condition\": \"false\",\n+        \"saml_signature_canonicalization_method\": \"http://www.w3.org/2001/10/xml-exc-c14n#\"\n+    },\n+    \"authenticationFlowBindingOverrides\": {},\n+    \"fullScopeAllowed\": true,\n+    \"nodeReRegistrationTimeout\": -1,\n+    \"protocolMappers\": [\n+        {\n+            \"name\": \"X500 email\",\n+            \"protocol\": \"saml\",\n+            \"protocolMapper\": \"saml-user-property-mapper\",\n+            \"consentRequired\": false,\n+            \"config\": {\n+                \"attribute.nameformat\": \"urn:oasis:names:tc:SAML:2.0:attrname-format:uri\",\n+                \"user.attribute\": \"email\",\n+                \"friendly.name\": \"email\",\n+                \"attribute.name\": \"urn:oid:1.2.840.113549.1.9.1\"\n+            }\n+        },\n+        {\n+            \"name\": \"X500 givenName\",\n+            \"protocol\": \"saml\",\n+            \"protocolMapper\": \"saml-user-property-mapper\",\n+            \"consentRequired\": false,\n+            \"config\": {\n+                \"attribute.nameformat\": \"urn:oasis:names:tc:SAML:2.0:attrname-format:uri\",\n+                \"user.attribute\": \"firstName\",\n+                \"friendly.name\": \"givenName\",\n+                \"attribute.name\": \"urn:oid:2.5.4.42\"\n+            }\n+        },\n+        {\n+            \"name\": \"fullName\",\n+            \"protocol\": \"saml\",\n+            \"protocolMapper\": \"saml-user-attribute-mapper\",\n+            \"consentRequired\": false,\n+            \"config\": {\n+                \"attribute.nameformat\": \"Basic\",\n+                \"user.attribute\": \"fullName\",\n+                \"friendly.name\": \"fullName\",\n+                \"attribute.name\": \"fullName\"\n+            }\n+        },\n+        {\n+            \"name\": \"X500 surname\",\n+            \"protocol\": \"saml\",\n+            \"protocolMapper\": \"saml-user-property-mapper\",\n+            \"consentRequired\": false,\n+            \"config\": {\n+                \"attribute.nameformat\": \"urn:oasis:names:tc:SAML:2.0:attrname-format:uri\",\n+                \"user.attribute\": \"lastName\",\n+                \"friendly.name\": \"surname\",\n+                \"attribute.name\": \"urn:oid:2.5.4.4\"\n+            }\n+        },\n+        {\n+            \"name\": \"username\",\n+            \"protocol\": \"saml\",\n+            \"protocolMapper\": \"saml-user-property-mapper\",\n+            \"consentRequired\": false,\n+            \"config\": {\n+                \"attribute.nameformat\": \"Basic\",\n+                \"user.attribute\": \"username\",\n+                \"friendly.name\": \"username\",\n+                \"attribute.name\": \"username\"\n+            }\n+        }\n+    ],\n+    \"defaultClientScopes\": [\n+        \"web-origins\",\n+        \"role_list\",\n+        \"profile\",\n+        \"roles\",\n+        \"email\"\n+    ],\n+    \"optionalClientScopes\": [\n+        \"address\",\n+        \"phone\",\n+        \"offline_access\",\n+        \"microprofile-jwt\"\n+    ],\n+    \"access\": {\n+        \"view\": true,\n+        \"configure\": true,\n+        \"manage\": true\n+    }\n+}"},{"sha":"eec025d57f2cf215e6845119a5759195b5dff1f7","filename":"fit/enduser-reference/src/test/resources/sso/saml2syncope-enduser.json","status":"added","additions":131,"deletions":0,"changes":131,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Fsaml2syncope-enduser.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Fsaml2syncope-enduser.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fenduser-reference%2Fsrc%2Ftest%2Fresources%2Fsso%2Fsaml2syncope-enduser.json?ref=ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5","patch":"@@ -0,0 +1,131 @@\n+{\n+    \"clientId\": \"http://localhost:9080/syncope-enduser/\",\n+    \"name\": \"SAML Test\",\n+    \"adminUrl\": \"http://localhost:8080/auth/realms/master\",\n+    \"surrogateAuthRequired\": false,\n+    \"enabled\": true,\n+    \"clientAuthenticatorType\": \"client-secret\",\n+    \"redirectUris\": [\n+        \"http://localhost:9080/*\"\n+    ],\n+    \"webOrigins\": [\n+        \"http://localhost:9080\"\n+    ],\n+    \"notBefore\": 0,\n+    \"bearerOnly\": false,\n+    \"consentRequired\": false,\n+    \"standardFlowEnabled\": true,\n+    \"implicitFlowEnabled\": false,\n+    \"directAccessGrantsEnabled\": false,\n+    \"serviceAccountsEnabled\": false,\n+    \"publicClient\": false,\n+    \"frontchannelLogout\": true,\n+    \"protocol\": \"saml\",\n+    \"attributes\": {\n+        \"saml.assertion.signature\": \"true\",\n+        \"saml_assertion_consumer_url_redirect\": \"http://localhost:9080/syncope-enduser/saml2sp/assertion-consumer\",\n+        \"saml.force.post.binding\": \"true\",\n+        \"saml.multivalued.roles\": \"false\",\n+        \"saml_single_logout_service_url_post\": \"http://localhost:9080/syncope-enduser/saml2sp/logout\",\n+        \"saml.encrypt\": \"false\",\n+        \"saml_assertion_consumer_url_post\": \"http://localhost:9080/syncope-enduser/saml2sp/assertion-consumer\",\n+        \"saml.server.signature\": \"true\",\n+        \"saml.server.signature.keyinfo.ext\": \"false\",\n+        \"exclude.session.state.from.auth.response\": \"false\",\n+        \"saml.signing.certificate\": \"MIIC9TCCAd0CBgFrCC7kezANBgkqhkiG9w0BAQsFADA+MTwwOgYDVQQDDDNodHRwOi8vc3luY29wZS1zYW1sMi10ZXN0LWNvbTo5MDgwL3N5bmNvcGUtZW5kdXNlci8wHhcNMTkwNTMwMDk1ODM5WhcNMjkwNTMwMTAwMDE5WjA+MTwwOgYDVQQDDDNodHRwOi8vc3luY29wZS1zYW1sMi10ZXN0LWNvbTo5MDgwL3N5bmNvcGUtZW5kdXNlci8wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCF4QsiRZGD7BNx0Bglh4rgtACaIr7R/nDQfdGLN9uSA2HkEPygJzBRyluQLiQv9o/LKQMwvmia5fK4Xt99cgJnmrzKXraKo1KsZNz8vpygMpGJzCA2XUMLe065lYg28PV2bjk6hyUcMehlubjKFQ6USAJG5dbrrSz7iS2jHQZcxCZAdPPFpaUZpcJPNXU8n9s+peQvPeiYRu9QUEB/qe/onvQ/WJUXxErx2PHmtG9yeIQKoacSvrD6rSHwCgwxJgo+tW12S4bRXj4Nwm2h9969PrQO8L8egCkF5RLSe0gBaWqan9HYIQ6B/TzgsGrUPIGw7ZA4WW7GgL3tZpXvZYZLAgMBAAEwDQYJKoZIhvcNAQELBQADggEBADo0tTfrgTJ1+p/lAtlmxqIA18Ud1QAqzOCS9yQ2VwbMtiRR6wz92dm1wPAUbTjiZZ9e2zGiBPfLeAlPNlZ+Q2HLJV6lrgNQRFUFgL2cM7ihuYPoQYgPiaH2ciT9Zh+5Wwzb/+h1IgH3qCEiMyE8LVrd/M+HCtDTS+OwdEnLL0CmCZ5l3aEz9XBWa5Nu0Rz3I+R2U4cPM4kn+40Ebjt1Dyf0FvQVUL9goXFpsATxBtSPGmewVJ+AGpKlse4HoNyRtFkdhYPed3QckKJO+NbluE5wsgJOdZD/7J4BDr5CIoe26nlnLBqvJA3m/lxVA39zqh2J1LDzuEeH4F9bBtbCUmY=\",\n+        \"saml_single_logout_service_url_redirect\": \"http://localhost:9080/syncope-enduser/saml2sp/logout\",\n+        \"saml.signature.algorithm\": \"RSA_SHA256\",\n+        \"saml_force_name_id_format\": \"false\",\n+        \"saml.client.signature\": \"false\",\n+        \"tls.client.certificate.bound.access.tokens\": \"false\",\n+        \"saml.authnstatement\": \"true\",\n+        \"display.on.consent.screen\": \"false\",\n+        \"saml.signing.private.key\": \"MIIEowIBAAKCAQEAheELIkWRg+wTcdAYJYeK4LQAmiK+0f5w0H3RizfbkgNh5BD8oCcwUcpbkC4kL/aPyykDML5omuXyuF7ffXICZ5q8yl62iqNSrGTc/L6coDKRicwgNl1DC3tOuZWINvD1dm45OoclHDHoZbm4yhUOlEgCRuXW660s+4ktox0GXMQmQHTzxaWlGaXCTzV1PJ/bPqXkLz3omEbvUFBAf6nv6J70P1iVF8RK8djx5rRvcniECqGnEr6w+q0h8AoMMSYKPrVtdkuG0V4+DcJtoffevT60DvC/HoApBeUS0ntIAWlqmp/R2CEOgf084LBq1DyBsO2QOFluxoC97WaV72WGSwIDAQABAoIBABXnJY0r2Iy+uMesBedN75inmlmdSZ7Ng+N4Uin2r4OJ7iAD73C8OJmJA8Xo5p66NfhE83KsFC0TZcxoKSQ63M3acPyi1jaEVehCcC0hejpzS4BB1xtN0sQ0HkMahbiHX4FKsy4yIg4k1CKgae0V2NbFmSnEPI8+O9fDL6Y5/2p5pwkE72oAyk/fD0ApeKpEJ2+4IpJEkrdciAlrtDuWb0xk1Y+HQgz2GoFPmCUOssv9KAgFAtMQW4mQrgESmLh2usF9C3usOpeOwuG6VwK6pS14KeyaBFHbg6SKNqbkhyKsKGlkNBvSLCfxMTMsyMaVABGXt8J25ICmzXfLE24Qn3ECgYEA4eFOq4Igtbc8SDaIZZOlJVTYk+W6Ug1ZSZKfoCmVtbzH904DTmY9nOjP6tAUCCAelQH7YnxzQr/n+hMN6tMKW6e6bR3G13XK97znATKBlfQkjix5dvBTdlV384zo+jhU3clgxvgaNfMaxovoDH3bDeDRUC4dGgQ9J19gTnvAuYUCgYEAl7srPPjINeYUf7O14CcfDqPa6oR19IVPvrdwyi8lHEIvSHppDj651dOxjvnP0zm2VXtrzIk65NkcjXxqWPlEuEc9Ka6fX0hARU0mqd34E8ccvbf3wuggPyCZjRNbDcTMqDCwOjJwwtP/a6x0zZ2JdAmb9IoNjvrRvmnpKzPw4Y8CgYEAzNatqQsQ7rmEiVgqyTLjiL8wyK6EEPTaC8ZTy8LqaS0RikvM48QEC890/dRE1jmKgkaR2fZR8C5oCHhPHqzTr9qjTWC7eZjwv0knlAZhTcNhgy0B2cKHbcCETvFyNbfv/lEo2kcUPeiAV514iht4E1XVe4jWC0ncy1/KzmGbnKECgYAoHiTgiiblmV/yI+IC0lUz2b8YIs3NSTI8iuQXkT+OqTE3SKZeTdd04fQgiYyZnLjJAUkPW3lm6MDT6AF2ZPH2h190lectmjzkFfITF81v7UV8JBguQJHGHyh6VJPOoCo8jiMKQCvwV31BSufXNcASHjhN//J1y3uJjRdJhQI7oQKBgCLLXLL5xm5EkXpjLCgLZWBuSgkNbHWPNxR1agHtsL0+nhNu7MPbwQceajCFmrijuvqUKmKgeNJotZw0g0UooewqT7osKfqkmtGgS7+HbZ4WFFNkSMk1oMsRJeT0jTticOp0JbhnMF4vACW5IZWjEDUheONv1dIa4YFYPM6gdFCR\",\n+        \"saml_name_id_format\": \"persistent\",\n+        \"saml.onetimeuse.condition\": \"false\",\n+        \"saml_signature_canonicalization_method\": \"http://www.w3.org/2001/10/xml-exc-c14n#\"\n+    },\n+    \"authenticationFlowBindingOverrides\": {},\n+    \"fullScopeAllowed\": true,\n+    \"nodeReRegistrationTimeout\": -1,\n+    \"protocolMappers\": [\n+        {\n+            \"name\": \"X500 email\",\n+            \"protocol\": \"saml\",\n+            \"protocolMapper\": \"saml-user-property-mapper\",\n+            \"consentRequired\": false,\n+            \"config\": {\n+                \"attribute.nameformat\": \"urn:oasis:names:tc:SAML:2.0:attrname-format:uri\",\n+                \"user.attribute\": \"email\",\n+                \"friendly.name\": \"email\",\n+                \"attribute.name\": \"urn:oid:1.2.840.113549.1.9.1\"\n+            }\n+        },\n+        {\n+            \"name\": \"X500 givenName\",\n+            \"protocol\": \"saml\",\n+            \"protocolMapper\": \"saml-user-property-mapper\",\n+            \"consentRequired\": false,\n+            \"config\": {\n+                \"attribute.nameformat\": \"urn:oasis:names:tc:SAML:2.0:attrname-format:uri\",\n+                \"user.attribute\": \"firstName\",\n+                \"friendly.name\": \"givenName\",\n+                \"attribute.name\": \"urn:oid:2.5.4.42\"\n+            }\n+        },\n+        {\n+            \"name\": \"fullName\",\n+            \"protocol\": \"saml\",\n+            \"protocolMapper\": \"saml-user-attribute-mapper\",\n+            \"consentRequired\": false,\n+            \"config\": {\n+                \"attribute.nameformat\": \"Basic\",\n+                \"user.attribute\": \"fullName\",\n+                \"friendly.name\": \"fullName\",\n+                \"attribute.name\": \"fullName\"\n+            }\n+        },\n+        {\n+            \"name\": \"X500 surname\",\n+            \"protocol\": \"saml\",\n+            \"protocolMapper\": \"saml-user-property-mapper\",\n+            \"consentRequired\": false,\n+            \"config\": {\n+                \"attribute.nameformat\": \"urn:oasis:names:tc:SAML:2.0:attrname-format:uri\",\n+                \"user.attribute\": \"lastName\",\n+                \"friendly.name\": \"surname\",\n+                \"attribute.name\": \"urn:oid:2.5.4.4\"\n+            }\n+        },\n+        {\n+            \"name\": \"username\",\n+            \"protocol\": \"saml\",\n+            \"protocolMapper\": \"saml-user-property-mapper\",\n+            \"consentRequired\": false,\n+            \"config\": {\n+                \"attribute.nameformat\": \"Basic\",\n+                \"user.attribute\": \"username\",\n+                \"friendly.name\": \"username\",\n+                \"attribute.name\": \"username\"\n+            }\n+        }\n+    ],\n+    \"defaultClientScopes\": [\n+        \"web-origins\",\n+        \"role_list\",\n+        \"profile\",\n+        \"roles\",\n+        \"email\"\n+    ],\n+    \"optionalClientScopes\": [\n+        \"address\",\n+        \"phone\",\n+        \"offline_access\",\n+        \"microprofile-jwt\"\n+    ],\n+    \"access\": {\n+        \"view\": true,\n+        \"configure\": true,\n+        \"manage\": true\n+    }\n+}\n\\ No newline at end of file"}]}
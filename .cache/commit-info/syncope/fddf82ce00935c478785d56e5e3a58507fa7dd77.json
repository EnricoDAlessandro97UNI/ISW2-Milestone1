{"sha":"fddf82ce00935c478785d56e5e3a58507fa7dd77","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmZkZGY4MmNlMDA5MzVjNDc4Nzg1ZDU2ZTVlM2E1ODUwN2ZhN2RkNzc=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-05-30T13:44:52Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-05-30T13:44:52Z"},"message":"Fixing various quirks\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1598600 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"c7a8fad0a23fdcc21ce459449a519365dac06afd","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/c7a8fad0a23fdcc21ce459449a519365dac06afd"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/fddf82ce00935c478785d56e5e3a58507fa7dd77","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fddf82ce00935c478785d56e5e3a58507fa7dd77","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/fddf82ce00935c478785d56e5e3a58507fa7dd77","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fddf82ce00935c478785d56e5e3a58507fa7dd77/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"aa785a5936359142e8994037fca4076ae503e46e","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/aa785a5936359142e8994037fca4076ae503e46e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/aa785a5936359142e8994037fca4076ae503e46e"}],"stats":{"total":120,"additions":61,"deletions":59},"files":[{"sha":"77688af23bcb0271c6798d10da568afe84b79073","filename":"console/pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fddf82ce00935c478785d56e5e3a58507fa7dd77/console%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fddf82ce00935c478785d56e5e3a58507fa7dd77/console%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fpom.xml?ref=fddf82ce00935c478785d56e5e3a58507fa7dd77","patch":"@@ -214,7 +214,7 @@ under the License.\n         <executions>\n           <execution>\n             <id>setupActivitiModeler</id>\n-            <phase>process-test-resources</phase>\n+            <phase>process-resources</phase>\n             <configuration>\n               <target>\n                 <unzip src=\"${settings.localRepository}/org/activiti/activiti-webapp-explorer2/${activiti.version}/activiti-webapp-explorer2-${activiti.version}.war\""},{"sha":"466458495ed5aab9ba8478f7d97ea70615c4915a","filename":"console/src/main/java/org/apache/syncope/console/pages/NotificationModalPage.java","status":"modified","additions":21,"deletions":24,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fddf82ce00935c478785d56e5e3a58507fa7dd77/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fddf82ce00935c478785d56e5e3a58507fa7dd77/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java?ref=fddf82ce00935c478785d56e5e3a58507fa7dd77","patch":"@@ -67,8 +67,8 @@ class NotificationModalPage extends BaseModalPage {\n     public NotificationModalPage(final PageReference pageRef, final ModalWindow window,\n             final NotificationTO notificationTO, final boolean createFlag) {\n \n-        final Form<NotificationTO> form\n-                = new Form<NotificationTO>(FORM, new CompoundPropertyModel<NotificationTO>(notificationTO));\n+        final Form<NotificationTO> form =\n+                new Form<NotificationTO>(FORM, new CompoundPropertyModel<NotificationTO>(notificationTO));\n \n         final AjaxTextFieldPanel sender = new AjaxTextFieldPanel(\"sender\", getString(\"sender\"),\n                 new PropertyModel<String>(notificationTO, \"sender\"));\n@@ -107,28 +107,25 @@ public NotificationModalPage(final PageReference pageRef, final ModalWindow wind\n \n         form.add(aboutContainer);\n \n-        final AjaxCheckBoxPanel checkAbout\n-                = new AjaxCheckBoxPanel(\"checkAbout\", \"checkAbout\",\n-                        new Model<Boolean>(notificationTO.getUserAbout() == null && notificationTO.getRoleAbout() == null));\n+        final AjaxCheckBoxPanel checkAbout = new AjaxCheckBoxPanel(\"checkAbout\", \"checkAbout\", new Model<Boolean>(\n+                notificationTO.getUserAbout() == null && notificationTO.getRoleAbout() == null));\n         aboutContainer.add(checkAbout);\n \n-        final AjaxCheckBoxPanel checkUserAbout\n-                = new AjaxCheckBoxPanel(\"checkUserAbout\", \"checkUserAbout\",\n-                        new Model<Boolean>(notificationTO.getUserAbout() != null));\n+        final AjaxCheckBoxPanel checkUserAbout = new AjaxCheckBoxPanel(\"checkUserAbout\", \"checkUserAbout\",\n+                new Model<Boolean>(notificationTO.getUserAbout() != null));\n         aboutContainer.add(checkUserAbout);\n \n-        final AjaxCheckBoxPanel checkRoleAbout\n-                = new AjaxCheckBoxPanel(\"checkRoleAbout\", \"checkRoleAbout\",\n-                        new Model<Boolean>(notificationTO.getRoleAbout() != null));\n+        final AjaxCheckBoxPanel checkRoleAbout = new AjaxCheckBoxPanel(\"checkRoleAbout\", \"checkRoleAbout\",\n+                new Model<Boolean>(notificationTO.getRoleAbout() != null));\n         aboutContainer.add(checkRoleAbout);\n \n-        final UserSearchPanel userAbout\n-                = new UserSearchPanel.Builder(\"userAbout\").fiql(notificationTO.getUserAbout()).build();\n+        final UserSearchPanel userAbout =\n+                new UserSearchPanel.Builder(\"userAbout\").fiql(notificationTO.getUserAbout()).build();\n         aboutContainer.add(userAbout);\n         userAbout.setEnabled(checkUserAbout.getModelObject());\n \n-        final RoleSearchPanel roleAbout\n-                = new RoleSearchPanel.Builder(\"roleAbout\").fiql(notificationTO.getRoleAbout()).build();\n+        final RoleSearchPanel roleAbout =\n+                new RoleSearchPanel.Builder(\"roleAbout\").fiql(notificationTO.getRoleAbout()).build();\n         aboutContainer.add(roleAbout);\n         roleAbout.setEnabled(checkRoleAbout.getModelObject());\n \n@@ -224,12 +221,12 @@ protected void onUpdate(final AjaxRequestTarget target) {\n \n                     @Override\n                     protected String[] getListRoles() {\n-                        return new String[]{};\n+                        return new String[] {};\n                     }\n \n                     @Override\n                     protected String[] getChangeRoles() {\n-                        return new String[]{};\n+                        return new String[] {};\n                     }\n                 });\n \n@@ -246,31 +243,31 @@ protected String[] getChangeRoles() {\n             checkStaticRecipients.getField().setDefaultModelObject(Boolean.FALSE);\n         }\n \n-        final AjaxTextFieldPanel staticRecipientsFieldPanel\n-                = new AjaxTextFieldPanel(\"panel\", \"staticRecipients\", new Model<String>(null));\n+        final AjaxTextFieldPanel staticRecipientsFieldPanel =\n+                new AjaxTextFieldPanel(\"panel\", \"staticRecipients\", new Model<String>(null));\n         staticRecipientsFieldPanel.addValidator(EmailAddressValidator.getInstance());\n         staticRecipientsFieldPanel.setRequired(checkStaticRecipients.getModelObject());\n \n         if (notificationTO.getStaticRecipients().isEmpty()) {\n             notificationTO.getStaticRecipients().add(null);\n         }\n \n-        final MultiFieldPanel staticRecipients = new MultiFieldPanel(\"staticRecipients\",\n+        final MultiFieldPanel<String> staticRecipients = new MultiFieldPanel<String>(\"staticRecipients\",\n                 new PropertyModel<List<String>>(notificationTO, \"staticRecipients\"), staticRecipientsFieldPanel);\n         staticRecipients.setEnabled(checkStaticRecipients.getModelObject());\n         form.add(staticRecipients);\n \n-        final AjaxCheckBoxPanel checkRecipients\n-                = new AjaxCheckBoxPanel(\"checkRecipients\", \"checkRecipients\",\n+        final AjaxCheckBoxPanel checkRecipients =\n+                new AjaxCheckBoxPanel(\"checkRecipients\", \"checkRecipients\",\n                         new Model<Boolean>(notificationTO.getRecipients() == null ? false : true));\n         recipientsContainer.add(checkRecipients);\n \n         if (createFlag) {\n             checkRecipients.getField().setDefaultModelObject(Boolean.TRUE);\n         }\n \n-        final UserSearchPanel recipients\n-                = new UserSearchPanel.Builder(\"recipients\").fiql(notificationTO.getRecipients()).build();\n+        final UserSearchPanel recipients =\n+                new UserSearchPanel.Builder(\"recipients\").fiql(notificationTO.getRecipients()).build();\n \n         recipients.setEnabled(checkRecipients.getModelObject());\n         recipientsContainer.add(recipients);"},{"sha":"c902ed0495d957118c5fd8cffef5ded1fd2bb77a","filename":"console/src/main/java/org/apache/syncope/console/pages/ReportletConfModalPage.java","status":"modified","additions":14,"deletions":10,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fddf82ce00935c478785d56e5e3a58507fa7dd77/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportletConfModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fddf82ce00935c478785d56e5e3a58507fa7dd77/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportletConfModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportletConfModalPage.java?ref=fddf82ce00935c478785d56e5e3a58507fa7dd77","patch":"@@ -24,7 +24,6 @@\n import java.util.Arrays;\n import java.util.Collections;\n import java.util.Date;\n-import java.util.Iterator;\n import java.util.List;\n import org.apache.commons.lang3.ArrayUtils;\n import org.apache.syncope.common.SyncopeConstants;\n@@ -63,6 +62,8 @@\n import org.apache.wicket.model.PropertyModel;\n import org.apache.wicket.model.ResourceModel;\n import org.apache.wicket.model.util.ListModel;\n+import org.apache.wicket.util.visit.IVisit;\n+import org.apache.wicket.util.visit.IVisitor;\n import org.springframework.beans.BeanWrapper;\n import org.springframework.beans.PropertyAccessorFactory;\n import org.springframework.util.ClassUtils;\n@@ -154,21 +155,24 @@ protected void onUpdate(final AjaxRequestTarget target) {\n \n             @Override\n             protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-                final BeanWrapper wrapper = PropertyAccessorFactory\n-                        .forBeanPropertyAccess(ReportletConfModalPage.this.reportletConf);\n+                final BeanWrapper wrapper = PropertyAccessorFactory.\n+                        forBeanPropertyAccess(ReportletConfModalPage.this.reportletConf);\n                 wrapper.setPropertyValue(\"name\", name.getField().getInput());\n \n                 // Iterate over properties in order to find UserSearchPanel instances and manually update\n                 // this.reportletConf with select search criteria - this is needed because UserSearchPanel\n                 // does not comply with usual Wicket model paradigm.\n-                for (Iterator<Component> itor = ReportletConfModalPage.this.propView.visitChildren(); itor.hasNext();) {\n-                    Component component = itor.next();\n-                    if (component instanceof UserSearchPanel) {\n-                        // using component.getDefaultModelObjectAsString() to fetch field name (set above)\n-                        wrapper.setPropertyValue(component.getDefaultModelObjectAsString(),\n-                                ((UserSearchPanel) component).buildFIQL());\n+                ReportletConfModalPage.this.propView.visitChildren(new IVisitor<Component, Void>() {\n+\n+                    @Override\n+                    public void component(final Component component, final IVisit<Void> ivisit) {\n+                        if (component instanceof UserSearchPanel) {\n+                            // using component.getDefaultModelObjectAsString() to fetch field name (set above)\n+                            wrapper.setPropertyValue(component.getDefaultModelObjectAsString(),\n+                                    ((UserSearchPanel) component).buildFIQL());\n+                        }\n                     }\n-                }\n+                });\n \n                 ((ReportModalPage) pageRef.getPage())\n                         .setModalReportletConf(ReportletConfModalPage.this.reportletConf);"},{"sha":"30139da4400b723d51bce2c6a186ed9567448a74","filename":"console/src/main/resources/oryx.debug.js.patch","status":"modified","additions":18,"deletions":22,"changes":40,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fddf82ce00935c478785d56e5e3a58507fa7dd77/console%2Fsrc%2Fmain%2Fresources%2Foryx.debug.js.patch","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fddf82ce00935c478785d56e5e3a58507fa7dd77/console%2Fsrc%2Fmain%2Fresources%2Foryx.debug.js.patch","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Foryx.debug.js.patch?ref=fddf82ce00935c478785d56e5e3a58507fa7dd77","patch":"@@ -14,88 +14,84 @@\n # KIND, either express or implied.  See the License for the\n # specific language governing permissions and limitations\n # under the License.\n-1866c1866,1867\n+1864c1864,1865\n < ORYX.CONFIG.ROOT_PATH =\t\t\t\t\t\"../editor/\"; //TODO: Remove last slash!!\n ---\n > /*\n > ORYX.CONFIG.ROOT_PATH =\t\t\t\t\t\"../editor/\";\n-1868a1870,1875\n+1866a1868,1873\n > */                  \n > BASE_PATH =                                     window.location.toString().substr(0, window.location.toString().indexOf('/wicket'));\n > \n > ORYX.CONFIG.ROOT_PATH =\t\t\t\tBASE_PATH + \"/activiti-modeler/editor/\"\n > ORYX.CONFIG.EXPLORER_PATH =\t\t\tBASE_PATH + \"/activiti-modeler/explorer\"\n > ORYX.CONFIG.LIBS_PATH =\t\t\t\tBASE_PATH + \"/activiti-modeler/libs\"\n-1879c1886\n+1877c1884\n < ORYX.CONFIG.PLUGINS_CONFIG =\t\t\tORYX.CONFIG.SERVER_HANDLER_ROOT + \"/editor/plugins\";\n ---\n > ORYX.CONFIG.PLUGINS_CONFIG =\t\t\tORYX.CONFIG.ROOT_PATH + \"plugins.xml\";\n-2417c2424\n+2416c2423\n < \t\t\t\t\t\tORYX.Log.error(\"A plugin is not providing a name. Ingnoring this plugin.\");\n ---\n > \t\t\t\t\t\tORYX.Log.error(\"A plugin is not providing a name. Ignoring this plugin.\");\n-8472,8474c8479,8481\n+8471,8473c8478,8480\n < \t\t\tthis._baseUrl = \"../editor/stencilsets/bpmn2.0/\";\n < \t\t\tthis._source = \"../stencilsets/bpmn2.0/bpmn2.0.json\";\n < \t\t\tnew Ajax.Request(\"../service/editor/stencilset\", {\n ---\n > \t\t\tthis._baseUrl = ORYX.CONFIG.ROOT_PATH + \"stencilsets/bpmn2.0/\";\n > \t\t\tthis._source = ORYX.CONFIG.ROOT_PATH + \"stencilsets/bpmn2.0/bpmn2.0.json\";\n > \t\t\tnew Ajax.Request(ORYX.CONFIG.ROOT_PATH + \"stencilset.json\", {\n-11200a11208\n+11199a11207\n >         modelUrl = BASE_PATH + \"/workflowDefGET\";\n-11568c11576\n-<                     \"<img src='../explorer/src/img/signavio/smoky/logo2.png' border=\\\"0\\\" usemap=\\\"#kisbpmmap\\\"/>\" + \n----\n->                     \"<img src='\"+ORYX.CONFIG.EXPLORER_PATH+\"/src/img/signavio/smoky/logo2.png' border=\\\"0\\\" usemap=\\\"#kisbpmmap\\\"/>\" + \n-11576,11577c11584,11585\n+11574,11575c11582,11583\n <                   \"<a href=\\\"\"+ORYX.CONFIG.WEB_URL+\"\\\" target=\\\"_self\\\" title=\\\"close modeler\\\">\" +\n <                     \"<img src='../editor/images/close_button.png' border=\\\"0\\\" />\" + \n ---\n >                   \"<a href=\\\"#\\\" title=\\\"close modeler\\\" onclick=\\\"window.close();\\\">\" +\n >                     \"<img src='\"+ORYX.CONFIG.ROOT_PATH+\"images/close_button.png' border=\\\"0\\\" />\" + \n-18332c18339\n+18331c18339\n < \t\tvar sloading \t= \"height:16px;width:16px;margin-bottom:-4px;background: transparent url(../libs/ext-2.0.2/resources/images/default/tree/loading.gif) no-repeat center;\"\n ---\n > \t\tvar sloading \t= \"height:16px;width:16px;margin-bottom:-4px;background: transparent url(\"+ORYX.CONFIG.LIBS_PATH+\"/ext-2.0.2/resources/images/default/tree/loading.gif) no-repeat center;\"\n-21911c21918\n+21910c21918\n < \t\t\t\ticon: '../editor/images/add.png',\n ---\n > \t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/add.png',\n-21924c21931\n+21923c21931\n < \t\t\t\ticon: '../editor/images/delete.png',\n ---\n > \t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/delete.png',\n-22451c22458\n+22450c22458\n < \t\t\t\ticon: '../editor/images/add.png',\n ---\n > \t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/add.png',\n-22464c22471\n+22463c22471\n < \t\t\t\ticon: '../editor/images/delete.png',\n ---\n > \t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/delete.png',\n-22524c22531\n+22523c22531\n < \t\t\t\ticon: '../editor/images/add.png',\n ---\n > \t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/add.png',\n-22537c22544\n+22536c22544\n < \t\t\t\ticon: '../editor/images/delete.png',\n ---\n > \t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/delete.png',\n-24531,24532c24537,24538\n+24530,24531c24538,24539\n < \t\t\t\t\t\t\t'<p><label for=\"edit_model_title\">' + ORYX.I18N.Save.dialogLabelTitle + '</label><input type=\"text\" class=\"text\" name=\"title\" value=\"{title}\" id=\"edit_model_title\" onfocus=\"this.className = \\'text activated\\'\" onblur=\"this.className = \\'text\\'\"/></p>',\n < \t\t\t\t\t\t\t'<p><label for=\"edit_model_summary\">' + ORYX.I18N.Save.dialogLabelDesc + '</label><textarea rows=\"5\" name=\"summary\" id=\"edit_model_summary\" onfocus=\"this.className = \\'activated\\'\" onblur=\"this.className = \\'\\'\">{summary}</textarea></p>',\n ---\n > \t\t\t\t\t\t\t'<p><label for=\"edit_model_title\">' + ORYX.I18N.Save.dialogLabelTitle + '</label><input type=\"text\" class=\"text\" name=\"title\" value=\"{title}\" id=\"edit_model_title\" onfocus=\"this.className = \\'text activated\\'\" onblur=\"this.className = \\'text\\'\" readonly=\\\"readonly\\\"/></p>',\n > \t\t\t\t\t\t\t'<p><label for=\"edit_model_summary\">' + ORYX.I18N.Save.dialogLabelDesc + '</label><textarea rows=\"5\" name=\"summary\" id=\"edit_model_summary\" onfocus=\"this.className = \\'activated\\'\" onblur=\"this.className = \\'\\'\" readonly=\\\"readonly\\\">{summary}</textarea></p>',\n-24813,24814c24819\n+24812,24813c24820\n < \t\t\n < \t\tnew Ajax.Request(\"../service/model/\" + modelMeta.modelId + \"/json\", {\n ---\n > \t\tnew Ajax.Request(BASE_PATH + \"/workflowDefGET\", {\n-24876a24882\n+24875a24883\n > \t        saveUri = BASE_PATH + \"/workflowDefPUT\";\n-24884c24890\n+24883c24891\n < \t\t\theaders\t\t\t: {'Accept':\"application/json\", 'Content-Type':'charset=UTF-8'},\n ---\n > \t\t\theaders\t\t\t: {'Accept':\"application/json\", 'Content-Type':'application/json'},"},{"sha":"9449fde3d5f0eb716a75e2c5f4b951d5b5ce3ce5","filename":"core/src/main/java/org/apache/syncope/core/audit/AuditConnectionFactory.java","status":"modified","additions":7,"deletions":2,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fddf82ce00935c478785d56e5e3a58507fa7dd77/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Faudit%2FAuditConnectionFactory.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fddf82ce00935c478785d56e5e3a58507fa7dd77/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Faudit%2FAuditConnectionFactory.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Faudit%2FAuditConnectionFactory.java?ref=fddf82ce00935c478785d56e5e3a58507fa7dd77","patch":"@@ -37,6 +37,7 @@\n import org.springframework.core.io.support.PropertiesLoaderUtils;\n import org.springframework.jdbc.datasource.DataSourceUtils;\n import org.springframework.jdbc.datasource.init.ResourceDatabasePopulator;\n+import org.springframework.jdbc.datasource.init.ScriptUtils;\n import org.w3c.dom.bootstrap.DOMImplementationRegistry;\n import org.w3c.dom.ls.DOMImplementationLS;\n import org.w3c.dom.ls.LSInput;\n@@ -47,7 +48,7 @@\n  * configured in Spring or, when not found, builds a new {@link javax.sql.DataSource DataSource} via Commons DBCP; if\n  * any datasource if found, the SQL init script is used to populate the database.\n  */\n-public class AuditConnectionFactory {\n+public final class AuditConnectionFactory {\n \n     private static DataSource datasource;\n \n@@ -106,7 +107,7 @@ public class AuditConnectionFactory {\n         ResourceDatabasePopulator populator = new ResourceDatabasePopulator();\n         populator.setScripts(new Resource[] { new ClassPathResource(\"/audit/\" + initSQLScript) });\n         // forces no statement separation\n-        populator.setSeparator(\"XXXXXXXXXXXXXXXXX\");\n+        populator.setSeparator(ScriptUtils.EOF_STATEMENT_SEPARATOR);\n         Connection conn = DataSourceUtils.getConnection(datasource);\n         try {\n             populator.populate(conn);\n@@ -122,4 +123,8 @@ public static Connection getConnection() {\n \n         throw new IllegalStateException(\"Audit dataSource init failed: check logs\");\n     }\n+\n+    private AuditConnectionFactory() {\n+        // empty constructor for static utility class\n+    }\n }"}]}
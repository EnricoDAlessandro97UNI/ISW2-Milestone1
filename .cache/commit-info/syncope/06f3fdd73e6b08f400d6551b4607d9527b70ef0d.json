{"sha":"06f3fdd73e6b08f400d6551b4607d9527b70ef0d","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjA2ZjNmZGQ3M2U2YjA4ZjQwMGQ2NTUxYjQ2MDdkOTUyN2I3MGVmMGQ=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2017-06-13T13:31:57Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2017-06-13T13:32:08Z"},"message":"[SYNCOPE-1109] Various fixes","tree":{"sha":"b93de432b2d3859ce44231ef39773381bb87dbc7","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/b93de432b2d3859ce44231ef39773381bb87dbc7"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/06f3fdd73e6b08f400d6551b4607d9527b70ef0d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/06f3fdd73e6b08f400d6551b4607d9527b70ef0d","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/06f3fdd73e6b08f400d6551b4607d9527b70ef0d","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"8cee38084c20592ecb80c5cd0caf3e2127bda6af","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8cee38084c20592ecb80c5cd0caf3e2127bda6af","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/8cee38084c20592ecb80c5cd0caf3e2127bda6af"}],"stats":{"total":493,"additions":227,"deletions":266},"files":[{"sha":"2578cf568b12405da57cf3346c08300c616e6898","filename":"fit/core-reference/src/main/webapp/WEB-INF/glassfish-web.xml","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/fit%2Fcore-reference%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fglassfish-web.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/fit%2Fcore-reference%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fglassfish-web.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fglassfish-web.xml?ref=06f3fdd73e6b08f400d6551b4607d9527b70ef0d","patch":"@@ -23,8 +23,8 @@ GlassFish Application Server 3.1 Servlet 3.0//EN\" \"http://glassfish.org/dtds/gla\n   <context-root>/syncope</context-root>\n   <!-- Uncomment this when using JNDI DataSource -->\n   <!--<resource-ref>\n-    <res-ref-name>jdbc/syncopeDataSource</res-ref-name>\n-    <jndi-name>jdbc/syncopeDataSource</jndi-name>\n+    <res-ref-name>jdbc/syncopeMasterDataSource</res-ref-name>\n+    <jndi-name>jdbc/syncopeMasterDataSource</jndi-name>\n   </resource-ref>-->\n   <class-loader delegate=\"false\"/>\n   <jsp-config>"},{"sha":"e3db665c595d7f411b6f2e29535cbc738d648813","filename":"fit/core-reference/src/main/webapp/WEB-INF/weblogic.xml","status":"removed","additions":0,"deletions":45,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8cee38084c20592ecb80c5cd0caf3e2127bda6af/fit%2Fcore-reference%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fweblogic.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8cee38084c20592ecb80c5cd0caf3e2127bda6af/fit%2Fcore-reference%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fweblogic.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fwebapp%2FWEB-INF%2Fweblogic.xml?ref=8cee38084c20592ecb80c5cd0caf3e2127bda6af","patch":"@@ -1,45 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n-<!--\n-Licensed to the Apache Software Foundation (ASF) under one\n-or more contributor license agreements.  See the NOTICE file\n-distributed with this work for additional information\n-regarding copyright ownership.  The ASF licenses this file\n-to you under the Apache License, Version 2.0 (the\n-\"License\"); you may not use this file except in compliance\n-with the License.  You may obtain a copy of the License at\n-\n-  http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing,\n-software distributed under the License is distributed on an\n-\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-KIND, either express or implied.  See the License for the\n-specific language governing permissions and limitations\n-under the License.\n--->\n-<weblogic-web-app xmlns=\"http://xmlns.oracle.com/weblogic/weblogic-web-app\" \n-                  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n-                  xsi:schemaLocation=\"http://xmlns.oracle.com/weblogic/weblogic-web-app\n-                                      http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd\">\n-\n-  <context-root>syncope</context-root>\n-  \n-  <container-descriptor>    \n-    <prefer-application-packages>\n-      <package-name>javax.ws.rs.*</package-name>\n-      <package-name>javax.validation.*</package-name>\n-      <package-name>org.apache.cxf.*</package-name>\n-      <package-name>org.apache.commons.*</package-name>\n-      <package-name>org.apache.openjpa.*</package-name>\n-      <package-name>org.slf4j.*</package-name>\n-      <package-name>org.apache.logging.log4j.*</package-name>\n-      <package-name>com.fasterxml.jackson.*</package-name>\n-    </prefer-application-packages>\n-  </container-descriptor>\n-\n-  <!-- Uncomment this when using JNDI DataSource -->\n-  <!--<resource-description>\n-    <jndi-name>syncopeDataSource</jndi-name>\n-    <res-ref-name>jdbc/syncopeDataSource</res-ref-name>\n-  </resource-description>-->\n-</weblogic-web-app>"},{"sha":"227bd892c86612dcc48c4389219227f000f79879","filename":"installer/pom.xml","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/installer%2Fpom.xml?ref=06f3fdd73e6b08f400d6551b4607d9527b70ef0d","patch":"@@ -178,7 +178,6 @@ under the License.\n         <directory>src/main/resources</directory>\n         <includes>\n           <include>installer.properties</include>\n-          <include>modelerPom.xml</include>\n         </includes>\n       </resource>\n       <resource>\n@@ -190,13 +189,13 @@ under the License.\n       <resource>\n         <directory>${basedir}/../fit/core-reference/src/main/resources/all</directory>\n         <includes>\n-          <include>provisioning.properties</include>\n+          <include>workflow.properties</include>\n         </includes>\n       </resource>\n       <resource>\n         <directory>${basedir}/../fit/core-reference/src/main/resources</directory>\n         <includes>\n-          <include>workflow.properties</include>\n+          <include>provisioning.properties</include>\n         </includes>\n       </resource>\n       <resource>"},{"sha":"57a1bd3f96d55786d37ee7b823620cc0a6d7d567","filename":"installer/src/main/java/org/apache/syncope/installer/files/ConsolePom.java","status":"added","additions":108,"deletions":0,"changes":108,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Ffiles%2FConsolePom.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Ffiles%2FConsolePom.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Ffiles%2FConsolePom.java?ref=06f3fdd73e6b08f400d6551b4607d9527b70ef0d","patch":"@@ -0,0 +1,108 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.installer.files;\n+\n+public final class ConsolePom {\n+\n+    public static final String ACTIVITI_PLACEHOLDER = \"</dependencies>\";\n+\n+    public static final String ACTIVITI_CONTENT_TO_ADD = \"<dependency>\\n\"\n+            + \"          <groupId>org.activiti</groupId>\\n\"\n+            + \"          <artifactId>activiti-webapp-explorer2</artifactId>\\n\"\n+            + \"          <type>war</type>\\n\"\n+            + \"          <scope>test</scope>\\n\"\n+            + \"        </dependency>\\n\"\n+            + \"  </dependencies>\\n\";\n+\n+    public static final String MODELER_PLACEHOLDER = \"</finalName>\";\n+\n+    public static final String MODELER_CONTENT_TO_ADD = \"</finalName><plugins>\\n\"\n+            + \"          <plugin>\\n\"\n+            + \"            <groupId>org.apache.maven.plugins</groupId>\\n\"\n+            + \"            <artifactId>maven-antrun-plugin</artifactId>\\n\"\n+            + \"            <inherited>true</inherited>\\n\"\n+            + \"            <executions>\\n\"\n+            + \"              <execution>\\n\"\n+            + \"                <id>setupActivitiModeler</id>\\n\"\n+            + \"                <phase>process-resources</phase>\\n\"\n+            + \"                <configuration>\\n\"\n+            + \"                  <target>\\n\"\n+            + \"                    <unzip src=\\\"${settings.localRepository}/org/activiti/activiti-webapp-explorer2/\"\n+            + \"${activiti.version}/activiti-webapp-explorer2-${activiti.version}.war\\\" \\n\"\n+            + \"                           dest=\\\"${project.build.directory}/activiti-webapp-explorer2\\\" />\\n\"\n+            + \"                \\n\"\n+            + \"                    <mkdir dir=\\\"${activiti-modeler.directory}\\\" />\\n\"\n+            + \"                    <copy file=\\\"${project.build.directory}/activiti-webapp-explorer2/modeler.html\\\" \\n\"\n+            + \"                          todir=\\\"${activiti-modeler.directory}\\\" />\\n\"\n+            + \"                    <replace file=\\\"${activiti-modeler.directory}/modeler.html\\\"\\n\"\n+            + \"                             token=\\\"&lt;/head&gt;\\\"\\n\"\n+            + \"                             value=\\\"&lt;script type=&quot;text/javascript&quot;&gt;window.onunload = \"\n+            + \"refreshParent; function refreshParent() { window.opener.location.reload(); }&lt;/script&gt;&lt;/head&gt;\"\n+            + \"\\\"/>\\n\"\n+            + \"                    <copy file=\\\"${project.build.directory}/activiti-webapp-explorer2/WEB-INF/classes/\"\n+            + \"stencilset.json\\\" \\n\"\n+            + \"                          todir=\\\"${activiti-modeler.directory}\\\" />\\n\" + \"\\n\"\n+            + \"                    <mkdir dir=\\\"${activiti-modeler.directory}/editor-app\\\" />\\n\"\n+            + \"                    <copy todir=\\\"${activiti-modeler.directory}/editor-app\\\">\\n\"\n+            + \"                      <fileset dir=\\\"${project.build.directory}/activiti-webapp-explorer2/editor-app\\\"\"\n+            + \"/>\\n\"\n+            + \"                    </copy>\\n\"\n+            + \"                    <replaceregexp file=\\\"${activiti-modeler.directory}/editor-app/editor/oryx.debug.js\"\n+            + \"\\\"\\n\"\n+            + \"                                   match=\\\"ORYX.CONFIG.ROOT_PATH =.*&quot;editor/&quot;; //TODO:\"\n+            + \" Remove last slash!!\\\"\\n\"\n+            + \"                                   replace=\\\"BASE_PATH = window.location.toString().substr(0, \"\n+            + \"window.location.toString().indexOf(&#39;/wicket&#39;));\\n\"\n+            + \"ORYX.CONFIG.ROOT_PATH = BASE_PATH + &quot;/activiti-modeler/editor-app/editor/&quot;;\\\"\\n\"\n+            + \"                                   byline=\\\"true\\\"/>\\n\"\n+            + \"                    <replace file=\\\"${activiti-modeler.directory}/editor-app/editor/oryx.debug.js\\\"\\n\"\n+            + \"                             token=\\\"new Ajax.Request(ACTIVITI.CONFIG.contextRoot + &#39;/editor/\"\n+            + \"stencilset?version=&#39; + Date.now(), {\\\"\\n\"\n+            + \"                             value=\\\"new Ajax.Request(window.location.toString().substr(0,\"\n+            + \" window.location.toString().indexOf(&#39;/activiti-modeler&#39;)) + &quot;/activiti-modeler/\"\n+            + \"stencilset.json&quot;, {\\\"/>\\n\"\n+            + \"                    <replace file=\\\"${activiti-modeler.directory}/editor-app/editor/oryx.debug.js\\\"\\n\"\n+            + \"                             token=\\\"ORYX.Editor.createByUrl(modelUrl);\\\"\\n\"\n+            + \"                             value=\\\"modelUrl = BASE_PATH + &quot;/workflowDefGET?modelId=&quot; \"\n+            + \"+ this.modelId; ORYX.Editor.createByUrl(modelUrl);\\\" />\\n\"\n+            + \"                    <replace file=\\\"${activiti-modeler.directory}/editor-app/configuration/\"\n+            + \"toolbar-default-actions.js\\\"\\n\"\n+            + \"                             token=\\\"window.location.href = &quot;./&quot;;\\\"\\n\"\n+            + \"                             value=\\\"window.close();\\\"/>\\n\"\n+            + \"                                               \\n\"\n+            + \"                    <copy file=\\\"${basedir}/src/main/resources/url-config.js\\\" \\n\"\n+            + \"                          todir=\\\"${activiti-modeler.directory}/editor-app/configuration\\\"\\n\"\n+            + \"                          overwrite=\\\"true\\\" />\\n\"\n+            + \"                    <copy file=\\\"${basedir}/src/main/resources/save-model.html\\\" \\n\"\n+            + \"                          todir=\\\"${activiti-modeler.directory}/editor-app/popups\\\"\\n\"\n+            + \"                          overwrite=\\\"true\\\" />\\n\"\n+            + \"                  </target>\\n\"\n+            + \"                </configuration>\\n\"\n+            + \"                <goals>\\n\"\n+            + \"                  <goal>run</goal>\\n\"\n+            + \"                </goals>\\n\"\n+            + \"              </execution>\\n\"\n+            + \"            </executions>\\n\"\n+            + \"          </plugin>\\n\"\n+            + \"        </plugins>\";\n+\n+    private ConsolePom() {\n+        // private constructor for static utility class\n+    }\n+}"},{"sha":"029fad1bf3996b004b29f56bbc137c83c6c4e0ef","filename":"installer/src/main/java/org/apache/syncope/installer/files/CorePom.java","status":"modified","additions":5,"deletions":2,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Ffiles%2FCorePom.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Ffiles%2FCorePom.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Ffiles%2FCorePom.java?ref=06f3fdd73e6b08f400d6551b4607d9527b70ef0d","patch":"@@ -29,10 +29,13 @@ public final class CorePom {\n             + \"    </dependency>\\n\"\n             + \"  </dependencies>\\n\";\n \n-    public static final String ACTIVITI_PLACEHOLDER = \"    <dependency>\\n\"\n+    public static final String ACTIVITI_PLACEHOLDER = \"</dependencies>\";\n+\n+    public static final String ACTIVITI_CONTENT_TO_ADD = \"    <dependency>\\n\"\n             + \"      <groupId>org.apache.syncope.core</groupId>\\n\"\n             + \"      <artifactId>syncope-core-workflow-activiti</artifactId>\\n\"\n-            + \"    </dependency>\\n\";\n+            + \"    </dependency>\\n\"\n+            + \"  </dependencies>\\n\";\n \n     private CorePom() {\n         // private constructor for static utility class"},{"sha":"67989c7b91aff921a2981c040f703e80869257a6","filename":"installer/src/main/java/org/apache/syncope/installer/files/GlassfishCoreWebXml.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Ffiles%2FGlassfishCoreWebXml.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Ffiles%2FGlassfishCoreWebXml.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Ffiles%2FGlassfishCoreWebXml.java?ref=06f3fdd73e6b08f400d6551b4607d9527b70ef0d","patch":"@@ -22,12 +22,12 @@ public final class GlassfishCoreWebXml {\n \n     public static final String PLACEHOLDER = \"  <!--<resource-ref>\\n\"\n             + \"    <res-ref-name>jdbc/syncopeDataSource</res-ref-name>\\n\"\n-            + \"    <jndi-name>jdbc/syncopeDataSource</jndi-name>\\n\"\n+            + \"    <jndi-name>jdbc/syncopeMasterDataSource</jndi-name>\\n\"\n             + \"  </resource-ref>-->\";\n \n     public static final String DATA_SOURCE = \"  <resource-ref>\\n\"\n             + \"    <res-ref-name>jdbc/syncopeDataSource</res-ref-name>\\n\"\n-            + \"    <jndi-name>jdbc/syncopeDataSource</jndi-name>\\n\"\n+            + \"    <jndi-name>jdbc/syncopeMasterDataSource</jndi-name>\\n\"\n             + \"  </resource-ref>\";\n \n     private GlassfishCoreWebXml() {"},{"sha":"46d38b9363f0563f11566a7f3c930a5c1c53c6ec","filename":"installer/src/main/java/org/apache/syncope/installer/files/MasterProperties.java","status":"modified","additions":13,"deletions":3,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Ffiles%2FMasterProperties.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Ffiles%2FMasterProperties.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Ffiles%2FMasterProperties.java?ref=06f3fdd73e6b08f400d6551b4607d9527b70ef0d","patch":"@@ -44,17 +44,21 @@ public final class MasterProperties {\n             + \"Master.databasePlatform=org.apache.openjpa.jdbc.sql.PostgresDictionary%n\"\n             + \"Master.orm=META-INF/spring-orm.xml%n\"\n             + \"Master.pool.validationQuery=SELECT 1%n\"\n+            + \"Master.pool.maxActive=10%n\"\n+            + \"Master.pool.minIdle=2%n\"\n             + \"Master.audit.sql=audit.sql%n\";\n \n     public static final String MYSQL = \"\"\n             + \"Master.driverClassName=com.mysql.jdbc.Driver%n\"\n-            + \"Master.url=%s%n\"\n+            + \"Master.url=%s&relaxAutoCommit=true%n\"\n             + \"Master.schema=%n\"\n             + \"Master.username=%s%n\"\n             + \"Master.password=%s%n\"\n-            + \"Master.databasePlatform=org.apache.openjpa.jdbc.sql.MySQLDictionary%n\"\n+            + \"Master.databasePlatform=org.apache.openjpa.jdbc.sql.MySQLDictionary(blobTypeName=LONGBLOB)%n\"\n             + \"Master.orm=META-INF/spring-orm.xml%n\"\n             + \"Master.pool.validationQuery=SELECT 1%n\"\n+            + \"Master.pool.maxActive=10%n\"\n+            + \"Master.pool.minIdle=2%n\"\n             + \"Master.audit.sql=audit.sql%n\";\n \n     public static final String MARIADB = \"\"\n@@ -63,9 +67,11 @@ public final class MasterProperties {\n             + \"Master.schema=%n\"\n             + \"Master.username=%s%n\"\n             + \"Master.password=%s%n\"\n-            + \"Master.databasePlatform=org.apache.openjpa.jdbc.sql.MariaDBDictionary%n\"\n+            + \"Master.databasePlatform=org.apache.openjpa.jdbc.sql.MariaDBDictionary(blobTypeName=LONGBLOB)%n\"\n             + \"Master.orm=META-INF/spring-orm.xml%n\"\n             + \"Master.pool.validationQuery=SELECT 1%n\"\n+            + \"Master.pool.maxActive=10%n\"\n+            + \"Master.pool.minIdle=2%n\"\n             + \"Master.audit.sql=audit.sql%n\";\n \n     public static final String ORACLE = \"\"\n@@ -77,6 +83,8 @@ public final class MasterProperties {\n             + \"Master.databasePlatform=org.apache.openjpa.jdbc.sql.OracleDictionary%n\"\n             + \"Master.orm=META-INF/spring-orm-oracle.xml%n\"\n             + \"Master.pool.validationQuery=SELECT 1 FROM DUAL%n\"\n+            + \"Master.pool.maxActive=10%n\"\n+            + \"Master.pool.minIdle=2%n\"\n             + \"Master.audit.sql=audit_oracle.sql%n\";\n \n     public static final String SQLSERVER = \"\"\n@@ -88,6 +96,8 @@ public final class MasterProperties {\n             + \"Master.databasePlatform=org.apache.openjpa.jdbc.sql.SQLServerDictionary%n\"\n             + \"Master.orm=META-INF/spring-orm-sqlserver.xml%n\"\n             + \"Master.pool.validationQuery=SELECT 1%n\"\n+            + \"Master.pool.maxActive=10%n\"\n+            + \"Master.pool.minIdle=2%n\"\n             + \"Master.audit.sql=audit_sqlserver.sql%n\";\n \n     private MasterProperties() {"},{"sha":"e0e61b08776c903d93d3ffd24fa27a39f7f1ba42","filename":"installer/src/main/java/org/apache/syncope/installer/processes/ArchetypeProcess.java","status":"modified","additions":24,"deletions":35,"changes":59,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Fprocesses%2FArchetypeProcess.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Fprocesses%2FArchetypeProcess.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Fprocesses%2FArchetypeProcess.java?ref=06f3fdd73e6b08f400d6551b4607d9527b70ef0d","patch":"@@ -25,6 +25,7 @@\n import java.util.Properties;\n import javax.xml.parsers.ParserConfigurationException;\n import javax.xml.transform.TransformerException;\n+import org.apache.syncope.installer.files.ConsolePom;\n import org.apache.syncope.installer.files.CorePom;\n import org.apache.syncope.installer.files.ParentPom;\n import org.apache.syncope.installer.utilities.InstallLog;\n@@ -98,9 +99,9 @@ public void run(final AbstractUIProcessHandler handler, final String[] args) {\n         if (syncopeVersion.contains(\"SNAPSHOT\")) {\n             final File pomFile = new File(syncopeInstallDir + PROPERTIES.getProperty(\"pomFile\"));\n             String contentPomFile = fileSystemUtils.readFile(pomFile);\n-            fileSystemUtils.\n-                    writeToFile(pomFile, contentPomFile.replace(ParentPom.REPOSITORY_PLACEHOLDER,\n-                            ParentPom.REPOSITORY_CONTENT_TO_ADD));\n+            fileSystemUtils.writeToFile(\n+                    pomFile,\n+                    contentPomFile.replace(ParentPom.REPOSITORY_PLACEHOLDER, ParentPom.REPOSITORY_CONTENT_TO_ADD));\n         }\n \n         if (swagger) {\n@@ -111,9 +112,9 @@ public void run(final AbstractUIProcessHandler handler, final String[] args) {\n                     + File.separator\n                     + PROPERTIES.getProperty(\"pomFile\"));\n             String contentPomFile = fileSystemUtils.readFile(pomFile);\n-            contentPomFile = contentPomFile.replace(CorePom.SWAGGER_PLACEHOLDER, CorePom.SWAGGER_CONTENT_TO_ADD);\n-\n-            fileSystemUtils.writeToFile(pomFile, contentPomFile);\n+            fileSystemUtils.writeToFile(\n+                    pomFile,\n+                    contentPomFile.replace(CorePom.SWAGGER_PLACEHOLDER, CorePom.SWAGGER_CONTENT_TO_ADD));\n         }\n \n         fileSystemUtils.createDirectory(confDirectory);\n@@ -122,50 +123,38 @@ public void run(final AbstractUIProcessHandler handler, final String[] args) {\n         fileSystemUtils.createDirectory(modelerDirectory);\n \n         if (activiti) {\n-            fileSystemUtils.copyFileFromResources(\n-                    File.separator + PROPERTIES.getProperty(\"modelerPomFile\"),\n-                    modelerDirectory + File.separator + PROPERTIES.getProperty(\"pomFile\"), handler);\n-\n-            File modelerPomFile = new File(modelerDirectory + File.separator + PROPERTIES.getProperty(\"pomFile\"));\n-\n-            String contentModelerPomFile =\n-                    fileSystemUtils.readFile(modelerPomFile).replace(\"${syncope.version}\", syncopeVersion);\n-            fileSystemUtils.writeToFile(modelerPomFile, String.format(contentModelerPomFile, modelerDirectory));\n-            fileSystemUtils.copyFile(\n-                    syncopeInstallDir\n-                    + PROPERTIES.getProperty(\"consoleResDirectory\")\n-                    + File.separator + PROPERTIES.getProperty(\"urlConfig\"),\n-                    modelerDirectory + File.separator + PROPERTIES.getProperty(\"urlConfig\"));\n-            fileSystemUtils.copyFile(\n-                    syncopeInstallDir\n-                    + PROPERTIES.getProperty(\"consoleResDirectory\")\n-                    + File.separator + PROPERTIES.getProperty(\"saveModel\"),\n-                    modelerDirectory + File.separator + PROPERTIES.getProperty(\"saveModel\"));\n-\n-            final Properties modelerProperties = new Properties();\n-            modelerProperties.setProperty(\"activiti-modeler.directory\", modelerDirectory);\n-            mavenUtils.mvnCleanPackageWithProperties(modelerDirectory, modelerProperties, customMavenProxySettings);\n-            FileSystemUtils.delete(new File(modelerDirectory + File.separator + PROPERTIES.getProperty(\"saveModel\")));\n-            FileSystemUtils.delete(new File(modelerDirectory + File.separator + PROPERTIES.getProperty(\"urlConfig\")));\n-        } else {\n-            final File pomFile = new File(\n+            File pomFile = new File(\n                     syncopeInstallDir\n                     + File.separator\n                     + \"core\"\n                     + File.separator\n                     + PROPERTIES.getProperty(\"pomFile\"));\n             String contentPomFile = fileSystemUtils.readFile(pomFile);\n-            contentPomFile = contentPomFile.replace(CorePom.ACTIVITI_PLACEHOLDER, \"\");\n-            fileSystemUtils.writeToFile(pomFile, contentPomFile);\n+            fileSystemUtils.writeToFile(\n+                    pomFile,\n+                    contentPomFile.replace(CorePom.ACTIVITI_PLACEHOLDER, CorePom.ACTIVITI_CONTENT_TO_ADD));\n \n             fileSystemUtils.copyFileFromResources(\"/workflow.properties\",\n                     syncopeInstallDir + PROPERTIES.getProperty(\"workflowPropertiesFile\"), handler);\n+\n+            pomFile = new File(\n+                    syncopeInstallDir\n+                    + File.separator\n+                    + \"console\"\n+                    + File.separator\n+                    + PROPERTIES.getProperty(\"pomFile\"));\n+            contentPomFile = fileSystemUtils.readFile(pomFile);\n+            fileSystemUtils.writeToFile(\n+                    pomFile,\n+                    contentPomFile.replace(ConsolePom.ACTIVITI_PLACEHOLDER, ConsolePom.ACTIVITI_CONTENT_TO_ADD).\n+                            replace(ConsolePom.MODELER_PLACEHOLDER, ConsolePom.MODELER_CONTENT_TO_ADD));\n         }\n \n         final Properties syncopeProperties = new Properties();\n         syncopeProperties.setProperty(\"conf.directory\", confDirectory);\n         syncopeProperties.setProperty(\"log.directory\", logsDirectory);\n         syncopeProperties.setProperty(\"bundles.directory\", bundlesDirectory);\n+        syncopeProperties.setProperty(\"activiti-modeler.directory\", modelerDirectory);\n         mavenUtils.mvnCleanPackageWithProperties(\n                 installPath + File.separator + artifactId, syncopeProperties, customMavenProxySettings);\n     }"},{"sha":"63668cfc76bbcbc31463e66a5cd4dcf3662160c2","filename":"installer/src/main/java/org/apache/syncope/installer/processes/ContainerProcess.java","status":"modified","additions":17,"deletions":14,"changes":31,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Fprocesses%2FContainerProcess.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Fprocesses%2FContainerProcess.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Fprocesses%2FContainerProcess.java?ref=06f3fdd73e6b08f400d6551b4607d9527b70ef0d","patch":"@@ -76,6 +76,7 @@ public final class ContainerProcess extends BaseProcess {\n     private String logsDirectory;\n \n     private String bundlesDirectory;\n+    private String modelerDirectory;\n \n     private boolean withDataSource;\n \n@@ -123,20 +124,21 @@ public void run(final AbstractUIProcessHandler handler, final String[] args) {\n         confDirectory = args[13];\n         logsDirectory = args[14];\n         bundlesDirectory = args[15];\n-        withDataSource = Boolean.valueOf(args[16]);\n-        jbossSsl = Boolean.valueOf(args[17]);\n-        jbossHost = args[18];\n-        jbossPort = args[19];\n-        jbossJdbcModuleName = args[20];\n-        jbossAdminUsername = args[21];\n-        jbossAdminPassword = args[22];\n-        jbossManagementPort = args[23];\n-        isProxyEnabled = Boolean.valueOf(args[24]);\n-        proxyHost = args[25];\n-        proxyPort = args[26];\n-        proxyUser = args[27];\n-        proxyPwd = args[28];\n-        mavenProxyAutoconf = Boolean.valueOf(args[29]);\n+        modelerDirectory = args[16];\n+        withDataSource = Boolean.valueOf(args[17]);\n+        jbossSsl = Boolean.valueOf(args[18]);\n+        jbossHost = args[19];\n+        jbossPort = args[20];\n+        jbossJdbcModuleName = args[21];\n+        jbossAdminUsername = args[22];\n+        jbossAdminPassword = args[23];\n+        jbossManagementPort = args[24];\n+        isProxyEnabled = Boolean.valueOf(args[25]);\n+        proxyHost = args[26];\n+        proxyPort = args[27];\n+        proxyUser = args[28];\n+        proxyPwd = args[29];\n+        mavenProxyAutoconf = Boolean.valueOf(args[30]);\n \n         handler.logOutput(\"Configure web.xml file according to \" + selectedContainer + \" properties\", true);\n         InstallLog.getInstance().info(\"Configure web.xml file according to \" + selectedContainer + \" properties\");\n@@ -227,6 +229,7 @@ public void run(final AbstractUIProcessHandler handler, final String[] args) {\n         mvnProperties.setProperty(\"conf.directory\", confDirectory);\n         mvnProperties.setProperty(\"log.directory\", logsDirectory);\n         mvnProperties.setProperty(\"bundles.directory\", bundlesDirectory);\n+        mvnProperties.setProperty(\"activiti-modeler.directory\", modelerDirectory);\n         mavenUtils.mvnCleanPackageWithProperties(\n                 installPath + File.separator + artifactId, mvnProperties, customMavenProxySettings);\n "},{"sha":"c8b70e1062f8f441fb8028d0deb830f0a41cf160","filename":"installer/src/main/java/org/apache/syncope/installer/utilities/FileSystemUtils.java","status":"modified","additions":12,"deletions":14,"changes":26,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Futilities%2FFileSystemUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Futilities%2FFileSystemUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Futilities%2FFileSystemUtils.java?ref=06f3fdd73e6b08f400d6551b4607d9527b70ef0d","patch":"@@ -60,7 +60,7 @@ public void copyFile(final String sourceFilePath, final String targetFilePath) {\n             FileUtils.copyFile(new File(sourceFilePath), new File(targetFilePath));\n         } catch (final IOException ex) {\n             final String errorMessage =\n-                    \"Error copying file \" + sourceFilePath + \" to \" + targetFilePath;\n+                    \"Error copying file \" + sourceFilePath + \" to \" + targetFilePath + \": \" + ex.getMessage();\n             handler.emitError(errorMessage, errorMessage);\n             InstallLog.getInstance().error(errorMessage);\n         }\n@@ -82,8 +82,7 @@ public void exec(final String cmd, final String path) {\n         }\n     }\n \n-    private void readResponse(final InputStream inputStream) throws\n-            IOException {\n+    private void readResponse(final InputStream inputStream) throws IOException {\n         final BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n         String line = reader.readLine();\n         while (line != null) {\n@@ -98,9 +97,9 @@ private void readResponse(final InputStream inputStream) throws\n     public void writeToFile(final File file, final String content) {\n         try {\n             final FileWriter fw = new FileWriter(file.getAbsoluteFile());\n-            final BufferedWriter bw = new BufferedWriter(fw);\n-            bw.write(content);\n-            bw.close();\n+            try (BufferedWriter bw = new BufferedWriter(fw)) {\n+                bw.write(content);\n+            }\n         } catch (final IOException ex) {\n             final String errorMessage = \"Error writing file \" + file.getAbsolutePath() + \": \" + ex.getMessage();\n             handler.emitError(errorMessage, errorMessage);\n@@ -125,18 +124,17 @@ public void appendToFile(final File file, final String content) {\n             if (!file.exists()) {\n                 file.createNewFile();\n             }\n-            final PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(file, true)));\n-            out.println(content);\n-            out.close();\n+            try (PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(file, true)))) {\n+                out.println(content);\n+            }\n         } catch (IOException ex) {\n             final String errorMessage = \"Error writing file \" + file.getAbsolutePath() + \": \" + ex.getMessage();\n             handler.emitError(errorMessage, errorMessage);\n             InstallLog.getInstance().error(errorMessage);\n         }\n     }\n \n-    public static void writeXML(final Document doc, final OutputStream out) throws IOException,\n-            TransformerException {\n+    public static void writeXML(final Document doc, final OutputStream out) throws IOException, TransformerException {\n         try {\n             final TransformerFactory factory = TransformerFactory.newInstance();\n             factory.setFeature(javax.xml.XMLConstants.FEATURE_SECURE_PROCESSING, true);\n@@ -157,13 +155,13 @@ public static void delete(final File file) {\n         FileUtils.deleteQuietly(file);\n     }\n \n-    public void copyFileFromResources(final String filePath,\n-            final String destination, final AbstractUIProcessHandler handler) {\n+    public void copyFileFromResources(\n+            final String filePath, final String destination, final AbstractUIProcessHandler handler) {\n \n         try {\n             FileUtils.copyURLToFile(getClass().getResource(filePath), new File(destination));\n         } catch (IOException ex) {\n-            String errorMessage = \"Error copying file \" + filePath + \" to + \" + destination;\n+            String errorMessage = \"Error copying file \" + filePath + \" to + \" + destination + \": \" + ex.getMessage();\n             handler.emitError(errorMessage, errorMessage);\n             InstallLog.getInstance().error(errorMessage);\n         }"},{"sha":"fb073f434eb0f827fb7a751a22749c7a9188e15e","filename":"installer/src/main/java/org/apache/syncope/installer/utilities/MavenUtils.java","status":"modified","additions":22,"deletions":11,"changes":33,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Futilities%2FMavenUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Futilities%2FMavenUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Futilities%2FMavenUtils.java?ref=06f3fdd73e6b08f400d6551b4607d9527b70ef0d","patch":"@@ -58,12 +58,20 @@ public MavenUtils(final String mavenHomeDirectory, final AbstractUIProcessHandle\n         this.handler = handler;\n     }\n \n-    public void archetypeGenerate(final String archetypeVersion, final String groupId,\n-            final String artifactId, final String secretKey, final String anonymousKey, final String installPath,\n+    public void archetypeGenerate(\n+            final String archetypeVersion,\n+            final String groupId,\n+            final String artifactId,\n+            final String secretKey,\n+            final String anonymousKey,\n+            final String installPath,\n             final File customSettingsFile) {\n \n         final InvocationRequest request = new DefaultInvocationRequest();\n-        request.setGoals(Collections.singletonList(\"archetype:generate\"));\n+        request.setGoals(Collections.singletonList(\n+                archetypeVersion.contains(\"SNAPSHOT\")\n+                ? \"org.apache.maven.plugins:maven-archetype-plugin:2.4:generate\"\n+                : \"archetype:generate\"));\n         request.setBatchMode(true);\n         final Properties properties =\n                 archetypeProperties(archetypeVersion, groupId, artifactId, secretKey, anonymousKey);\n@@ -76,17 +84,20 @@ public void archetypeGenerate(final String archetypeVersion, final String groupI\n         invoke(request, installPath);\n     }\n \n-    private Properties archetypeProperties(final String archetypeVersion, final String groupId,\n-            final String artifactId, final String secretKey, final String anonymousKey) {\n+    private Properties archetypeProperties(\n+            final String archetypeVersion,\n+            final String groupId,\n+            final String artifactId,\n+            final String secretKey,\n+            final String anonymousKey) {\n+\n         final Properties properties = new Properties();\n         properties.setProperty(\"archetypeGroupId\", \"org.apache.syncope\");\n         properties.setProperty(\"archetypeArtifactId\", \"syncope-archetype\");\n-        if (archetypeVersion.contains(\"SNAPSHOT\")) {\n-            properties.setProperty(\"archetypeRepository\",\n-                    \"http://repository.apache.org/content/repositories/snapshots\");\n-        } else {\n-            properties.setProperty(\"archetypeRepository\", \"http://repo1.maven.org/maven2\");\n-        }\n+        properties.setProperty(\"archetypeRepository\",\n+                archetypeVersion.contains(\"SNAPSHOT\")\n+                ? \"http://repository.apache.org/content/repositories/snapshots\"\n+                : \"http://repo1.maven.org/maven2\");\n         properties.setProperty(\"archetypeVersion\", archetypeVersion);\n         properties.setProperty(\"groupId\", groupId);\n         properties.setProperty(\"artifactId\", artifactId);"},{"sha":"c6741266c58c94ff7e4c19632c162219823fe995","filename":"installer/src/main/java/org/apache/syncope/installer/validators/ContainerValidator.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Fvalidators%2FContainerValidator.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Fvalidators%2FContainerValidator.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/installer%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Finstaller%2Fvalidators%2FContainerValidator.java?ref=06f3fdd73e6b08f400d6551b4607d9527b70ef0d","patch":"@@ -77,7 +77,7 @@ public Status validateData(final InstallData installData) {\n                 if (responseCode == 200) {\n                     return Status.OK;\n                 } else {\n-                    error = new StringBuilder(\"Tomcat URL is offline\");\n+                    error = new StringBuilder(\"The provided Tomcat instance seems to be offline\");\n                     return Status.ERROR;\n                 }\n             case JBOSS:\n@@ -113,7 +113,7 @@ public Status validateData(final InstallData installData) {\n                 if (jResponseCode == 200) {\n                     return Status.OK;\n                 } else {\n-                    error = new StringBuilder(\"JBoss URL is offline\");\n+                    error = new StringBuilder(\"The provided JBoss instance seems to be offline\");\n                     return Status.ERROR;\n                 }\n             case GLASSFISH:"},{"sha":"098d98da13fb4a431f55e9d7189241129c8e5bed","filename":"installer/src/main/resources/installer.properties","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fresources%2Finstaller.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fresources%2Finstaller.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/installer%2Fsrc%2Fmain%2Fresources%2Finstaller.properties?ref=06f3fdd73e6b08f400d6551b4607d9527b70ef0d","patch":"@@ -28,4 +28,3 @@ provisioningPropertiesFile=core/src/main/resources/provisioning.properties\n masterPropertiesFile=core/src/main/resources/domains/Master.properties\n consolePropertiesFile=console.properties\n enduserPropertiesFile=enduser.properties\n-modelerPomFile=modelerPom.xml"},{"sha":"e78149dba8ffd28b08e7d583b5c5c59cd97e6b21","filename":"installer/src/main/resources/izpack/ProcessPanel.Spec.xml","status":"modified","additions":15,"deletions":14,"changes":29,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fresources%2Fizpack%2FProcessPanel.Spec.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fresources%2Fizpack%2FProcessPanel.Spec.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/installer%2Fsrc%2Fmain%2Fresources%2Fizpack%2FProcessPanel.Spec.xml?ref=06f3fdd73e6b08f400d6551b4607d9527b70ef0d","patch":"@@ -78,20 +78,21 @@ under the License.\n       <arg>$mvn.conf.directory</arg><!-- 13 -->\n       <arg>$mvn.log.directory</arg><!-- 14 -->\n       <arg>$mvn.bundle.directory</arg><!-- 15 -->\n-      <arg>$with.datasuorce</arg><!-- 16 -->\n-      <arg>$jboss.container.ssl</arg><!-- 17 -->\n-      <arg>$jboss.container.host</arg><!-- 18 -->\n-      <arg>$jboss.container.port</arg><!-- 19 -->\n-      <arg>$jboss.container.jdbc.module</arg><!-- 20 -->\n-      <arg>$jboss.container.user</arg><!-- 21 -->\n-      <arg>$jboss.container.pwd</arg><!-- 22 -->\n-      <arg>$jboss.container.management.port</arg><!-- 23 -->\n-      <arg>$mvn.proxy</arg><!-- 24 -->\n-      <arg>$mvn.proxy.host</arg><!-- 25 -->\n-      <arg>$mvn.proxy.port</arg><!-- 26 -->\n-      <arg>$mvn.proxy.user</arg><!-- 27 -->\n-      <arg>$mvn.proxy.pwd</arg><!-- 28 -->\n-      <arg>$mvn.proxy.autoconf</arg><!-- 29 -->\n+      <arg>$mvn.modeler.directory</arg><!-- 16 -->\n+      <arg>$with.datasuorce</arg><!-- 17 -->\n+      <arg>$jboss.container.ssl</arg><!-- 18 -->\n+      <arg>$jboss.container.host</arg><!-- 19 -->\n+      <arg>$jboss.container.port</arg><!-- 20 -->\n+      <arg>$jboss.container.jdbc.module</arg><!-- 21 -->\n+      <arg>$jboss.container.user</arg><!-- 22 -->\n+      <arg>$jboss.container.pwd</arg><!-- 23 -->\n+      <arg>$jboss.container.management.port</arg><!-- 24 -->\n+      <arg>$mvn.proxy</arg><!-- 25 -->\n+      <arg>$mvn.proxy.host</arg><!-- 26 -->\n+      <arg>$mvn.proxy.port</arg><!-- 27 -->\n+      <arg>$mvn.proxy.user</arg><!-- 28 -->\n+      <arg>$mvn.proxy.pwd</arg><!-- 29 -->\n+      <arg>$mvn.proxy.autoconf</arg><!-- 30 -->\n     </executeclass>\n   </job>\n   <onFail previous=\"true\" next=\"false\" />"},{"sha":"95732fe4f3ff953fdfebdbf22fc63dcedfa3342b","filename":"installer/src/main/resources/izpack/userInputLang.xml_eng","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fresources%2Fizpack%2FuserInputLang.xml_eng","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fresources%2Fizpack%2FuserInputLang.xml_eng","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/installer%2Fsrc%2Fmain%2Fresources%2Fizpack%2FuserInputLang.xml_eng?ref=06f3fdd73e6b08f400d6551b4607d9527b70ef0d","patch":"@@ -51,7 +51,7 @@ under the License.\n   <str id=\"persistence.mysql.is.innodb\" txt=\"INNODB\"/>\n   <str id=\"persistence.oracle.tablespace\" txt=\"Oracle tablespace:\"/>\n   \n-  <str id=\"with.datasuorce.id\" txt=\"DataSource with JNDI name 'java:/syncopeDataSource':\"/>\n+  <str id=\"with.datasuorce.id\" txt=\"DataSource with JNDI name 'java:/syncopeMasterDataSource':\"/>\n   \n   <str id=\"tomcat.container.ssl.id\" txt=\"Https\"/>\n   <str id=\"tomcat.container.host.id\" txt=\"Tomcat host:\"/>"},{"sha":"92b6d03afed1af353cb27faa4208ff4d0ae1b72d","filename":"installer/src/main/resources/izpack/userInputLang.xml_ita","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fresources%2Fizpack%2FuserInputLang.xml_ita","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fresources%2Fizpack%2FuserInputLang.xml_ita","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/installer%2Fsrc%2Fmain%2Fresources%2Fizpack%2FuserInputLang.xml_ita?ref=06f3fdd73e6b08f400d6551b4607d9527b70ef0d","patch":"@@ -51,7 +51,7 @@ under the License.\n   <str id=\"persistence.mysql.is.innodb\" txt=\"INNODB\"/>\n   <str id=\"persistence.oracle.tablespace\" txt=\"Oracle tablespace:\"/>\n   \n-  <str id=\"with.datasuorce.id\" txt=\"DataSource with JNDI name 'java:/syncopeDataSource':\"/>\n+  <str id=\"with.datasuorce.id\" txt=\"DataSource with JNDI name 'java:/syncopeMasterDataSource':\"/>\n   \n   <str id=\"tomcat.container.ssl.id\" txt=\"Https\"/>\n   <str id=\"tomcat.container.host.id\" txt=\"Tomcat host:\"/>"},{"sha":"b5dde149468f9d94599eb013e1ca1aa7df915180","filename":"installer/src/main/resources/izpack/userInputSpec.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fresources%2Fizpack%2FuserInputSpec.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/06f3fdd73e6b08f400d6551b4607d9527b70ef0d/installer%2Fsrc%2Fmain%2Fresources%2Fizpack%2FuserInputSpec.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/installer%2Fsrc%2Fmain%2Fresources%2Fizpack%2FuserInputSpec.xml?ref=06f3fdd73e6b08f400d6551b4607d9527b70ef0d","patch":"@@ -145,7 +145,7 @@ under the License.\n       <spec id=\"persistence.jdbc.url\" size=\"20\" set=\"jdbc:postgresql://localhost:5432/syncope\"/>\n     </field>\n     <field type=\"text\" variable=\"persistence.url\" conditionid=\"mysql.choice\">\n-      <spec id=\"persistence.jdbc.url\" size=\"20\" set=\"jdbc:mysql://localhost:3306/syncope?characterEncoding=UTF-8\"/>\n+      <spec id=\"persistence.jdbc.url\" size=\"20\" set=\"jdbc:mysql://localhost:3306/syncope?characterEncoding=UTF-8&amp;relaxAutoCommit=true\"/>\n     </field>\n     <field type=\"text\" variable=\"persistence.url\" conditionid=\"oracle.choice\">\n       <spec id=\"persistence.jdbc.url\" size=\"20\" set=\"jdbc:oracle:thin:@localhost:1521:orcl\"/>"},{"sha":"4d1faa7a05c454d32e96fd8ed0fe8c9e20062ddd","filename":"installer/src/main/resources/modelerPom.xml","status":"removed","additions":0,"deletions":115,"changes":115,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8cee38084c20592ecb80c5cd0caf3e2127bda6af/installer%2Fsrc%2Fmain%2Fresources%2FmodelerPom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8cee38084c20592ecb80c5cd0caf3e2127bda6af/installer%2Fsrc%2Fmain%2Fresources%2FmodelerPom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/installer%2Fsrc%2Fmain%2Fresources%2FmodelerPom.xml?ref=8cee38084c20592ecb80c5cd0caf3e2127bda6af","patch":"@@ -1,115 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n-<!--\n-Licensed to the Apache Software Foundation (ASF) under one\n-or more contributor license agreements.  See the NOTICE file\n-distributed with this work for additional information\n-regarding copyright ownership.  The ASF licenses this file\n-to you under the Apache License, Version 2.0 (the\n-\"License\"); you may not use this file except in compliance\n-with the License.  You may obtain a copy of the License at\n-\n-  http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing,\n-software distributed under the License is distributed on an\n-\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-KIND, either express or implied.  See the License for the\n-specific language governing permissions and limitations\n-under the License.\n--->\n-<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n-         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n-\n-  <modelVersion>4.0.0</modelVersion>\n-   \n-  <parent>\n-    <groupId>org.apache.syncope</groupId>\n-    <artifactId>syncope</artifactId>\n-    <version>${syncope.version}</version>\n-  </parent>\n-\n-  <groupId>org.apache.syncope</groupId>\n-  <artifactId>activitiModelerSetup</artifactId>\n-  <version>1.0-SNAPSHOT</version>\n-  <packaging>jar</packaging>\n-\n-  <properties>\n-    <activiti-modeler.directory>%s</activiti-modeler.directory>     \n-\n-    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n-  </properties>\n-   \n-  <dependencies>\n-    <dependency>\n-      <groupId>org.activiti</groupId>\n-      <artifactId>activiti-webapp-explorer2</artifactId>\n-      <type>war</type>\n-      <scope>test</scope>\n-    </dependency>\n-  </dependencies>\n-   \n-  <build>   \n-    <plugins>\n-      <plugin>\n-        <groupId>org.apache.maven.plugins</groupId>\n-        <artifactId>maven-antrun-plugin</artifactId>\n-        <version>1.8</version>\n-        <executions>\n-          <execution>\n-            <id>setupActivitiModeler</id>\n-            <phase>process-resources</phase>\n-            <configuration>\n-              <target>\n-                <unzip src=\"${settings.localRepository}/org/activiti/activiti-webapp-explorer2/${activiti.version}/activiti-webapp-explorer2-${activiti.version}.war\" \n-                       dest=\"${project.build.directory}/activiti-webapp-explorer2\" />\n-                \n-                <mkdir dir=\"${activiti-modeler.directory}\" />\n-                <copy file=\"${project.build.directory}/activiti-webapp-explorer2/modeler.html\" \n-                      todir=\"${activiti-modeler.directory}\" />\n-                <replace file=\"${activiti-modeler.directory}/modeler.html\"\n-                         token=\"&lt;/head&gt;\"\n-                         value=\"&lt;script type=&quot;text/javascript&quot;&gt;window.onunload = refreshParent; function refreshParent() { window.opener.location.reload(); }&lt;/script&gt;&lt;/head&gt;\"/>\n-                <copy file=\"${project.build.directory}/activiti-webapp-explorer2/WEB-INF/classes/stencilset.json\" \n-                      todir=\"${activiti-modeler.directory}\" />\n-\n-                <mkdir dir=\"${activiti-modeler.directory}/editor-app\" />\n-                <copy todir=\"${activiti-modeler.directory}/editor-app\">\n-                  <fileset dir=\"${project.build.directory}/activiti-webapp-explorer2/editor-app\" />                  \n-                </copy>\n-                <replaceregexp file=\"${activiti-modeler.directory}/editor-app/editor/oryx.debug.js\"\n-                               match=\"ORYX.CONFIG.ROOT_PATH =.*&quot;editor/&quot;; //TODO: Remove last slash!!\"\n-                               replace=\"BASE_PATH = window.location.toString().substr(0, window.location.toString().indexOf(&#39;/wicket&#39;));\n-ORYX.CONFIG.ROOT_PATH = BASE_PATH + &quot;/activiti-modeler/editor-app/editor/&quot;;\"\n-                               byline=\"true\"/>\n-                <replace file=\"${activiti-modeler.directory}/editor-app/editor/oryx.debug.js\"\n-                         token=\"new Ajax.Request(ACTIVITI.CONFIG.contextRoot + &#39;/editor/stencilset?version=&#39; + Date.now(), {\"\n-                         value=\"new Ajax.Request(window.location.toString().substr(0, window.location.toString().indexOf(&#39;/activiti-modeler&#39;)) + &quot;/activiti-modeler/stencilset.json&quot;, {\"/>\n-                <replace file=\"${activiti-modeler.directory}/editor-app/editor/oryx.debug.js\"\n-                         token=\"ORYX.Editor.createByUrl(modelUrl);\"\n-                         value=\"modelUrl = BASE_PATH + &quot;/workflowDefGET&quot;;\n-ORYX.Editor.createByUrl(modelUrl);\"/>\n-                <replace file=\"${activiti-modeler.directory}/editor-app/editor/oryx.debug.js\"\n-                         token=\"ORYX.Editor.createByUrl = function(modelUrl){\"\n-                         value=\"modelUrl = BASE_PATH + &quot;/workflowDefGET&quot;;\n-ORYX.Editor.createByUrl = function(modelUrl){\"/>                \n-                <replace file=\"${activiti-modeler.directory}/editor-app/configuration/toolbar-default-actions.js\"\n-                         token=\"window.location.href = &quot;./&quot;;\"\n-                         value=\"window.close();\"/>\n-                                               \n-                <copy file=\"url-config.js\" \n-                      todir=\"${activiti-modeler.directory}/editor-app/configuration\"\n-                      overwrite=\"true\" />\n-                <copy file=\"save-model.html\" \n-                      todir=\"${activiti-modeler.directory}/editor-app/popups\"\n-                      overwrite=\"true\" />\n-              </target>\n-            </configuration>\n-            <goals>\n-              <goal>run</goal>\n-            </goals>\n-          </execution>\n-        </executions>\n-      </plugin>\n-    </plugins>\n-  </build>\n-</project>"}]}
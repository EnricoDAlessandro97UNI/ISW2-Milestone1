{"sha":"9536ffa91da22558067d186c90ecb2358fb9996d","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjk1MzZmZmE5MWRhMjI1NTgwNjdkMTg2YzkwZWNiMjM1OGZiOTk5NmQ=","commit":{"author":{"name":"fmartelli","email":"fabio.martelli@gmail.com","date":"2016-01-14T16:52:45Z"},"committer":{"name":"fmartelli","email":"fabio.martelli@gmail.com","date":"2016-01-14T16:52:45Z"},"message":"[SYNCOPE-743] providing toggle panel basic structure","tree":{"sha":"1c5d915be34ce65bbd6d687816efeb203f351a71","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/1c5d915be34ce65bbd6d687816efeb203f351a71"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/9536ffa91da22558067d186c90ecb2358fb9996d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/9536ffa91da22558067d186c90ecb2358fb9996d","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/9536ffa91da22558067d186c90ecb2358fb9996d","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/9536ffa91da22558067d186c90ecb2358fb9996d/comments","author":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"committer":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"c5b47d50cdf3d73c4931a7cb91b7b3365e9615aa","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c5b47d50cdf3d73c4931a7cb91b7b3365e9615aa","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c5b47d50cdf3d73c4931a7cb91b7b3365e9615aa"}],"stats":{"total":1476,"additions":916,"deletions":560},"files":[{"sha":"208a8020a0b832675759c6443c854add80ba937d","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/TogglePanel.java","status":"added","additions":96,"deletions":0,"changes":96,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FTogglePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FTogglePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FTogglePanel.java?ref=9536ffa91da22558067d186c90ecb2358fb9996d","patch":"@@ -0,0 +1,96 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.console.panels;\n+\n+import java.io.Serializable;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.markup.html.AjaxLink;\n+import org.apache.wicket.markup.html.basic.Label;\n+import org.apache.wicket.markup.html.panel.Panel;\n+\n+/**\n+ * Toggle panel.\n+ */\n+public abstract class TogglePanel extends Panel {\n+\n+    private static final long serialVersionUID = -2025535531121434056L;\n+\n+    private enum Status {\n+        INACTIVE,\n+        ACTIVE\n+\n+    }\n+\n+    protected final BaseModal<Serializable> modal;\n+\n+    private Status status = Status.INACTIVE;\n+\n+    private final Label header;\n+\n+    public TogglePanel(final String id) {\n+        super(id);\n+        setRenderBodyOnly(true);\n+        setOutputMarkupId(true);\n+\n+        this.modal = new BaseModal<Serializable>(\"resource-modal\");\n+        add(modal);\n+\n+        header = new Label(\"label\", StringUtils.EMPTY);\n+        header.setOutputMarkupId(true);\n+        add(header);\n+\n+        add(new AjaxLink<Void>(\"close\") {\n+\n+            private static final long serialVersionUID = 5538299138211283825L;\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target) {\n+                TogglePanel.this.toggle(target, false);\n+            }\n+\n+        }.setMarkupId(\"close\"));\n+    }\n+\n+    protected void setHeader(final AjaxRequestTarget target, final String header) {\n+        this.header.setDefaultModelObject(header.length() >= 40 ? (header.substring(0, 30) + \" ... \") : header);\n+        target.add(this.header);\n+    }\n+\n+    /**\n+     * Force toggle via java. To be used when the onclick has been intercepted before.\n+     *\n+     * @param target ajax request target.\n+     * @param toggle toggle action.\n+     */\n+    public void toggle(final AjaxRequestTarget target, final boolean toggle) {\n+        if (toggle) {\n+            if (status == Status.INACTIVE) {\n+                target.appendJavaScript(\"$(\\\"div.inactive-topology-menu\\\").toggle(\\\"slow\\\");\"\n+                        + \"$(\\\"div.inactive-topology-menu\\\").attr(\\\"class\\\", \\\"topology-menu active-topology-menu\\\");\");\n+                status = Status.ACTIVE;\n+            }\n+        } else if (status == Status.ACTIVE) {\n+            target.appendJavaScript(\"$(\\\"div.active-topology-menu\\\").toggle(\\\"slow\\\");\"\n+                    + \"$(\\\"div.active-topology-menu\\\").attr(\\\"class\\\", \\\"topology-menu inactive-topology-menu\\\");\");\n+            status = Status.INACTIVE;\n+        }\n+    }\n+}"},{"sha":"6a20d08af694c50c648f81572742435b3692c283","filename":"client/console/src/main/java/org/apache/syncope/client/console/topology/Topology.java","status":"modified","additions":34,"deletions":2,"changes":36,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopology.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopology.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopology.java?ref=9536ffa91da22558067d186c90ecb2358fb9996d","patch":"@@ -30,6 +30,7 @@\n import org.apache.commons.lang3.tuple.Pair;\n import org.apache.cxf.jaxrs.client.WebClient;\n import org.apache.syncope.client.console.SyncopeConsoleSession;\n+import org.apache.syncope.client.console.commons.Constants;\n import org.apache.syncope.client.console.pages.BasePage;\n import org.apache.syncope.client.console.panels.AbstractResourceModal.CreateEvent;\n import org.apache.syncope.client.console.panels.NotificationPanel;\n@@ -44,6 +45,7 @@\n import org.apache.syncope.common.lib.types.StandardEntitlement;\n import org.apache.wicket.Component;\n import org.apache.wicket.ajax.AbstractAjaxTimerBehavior;\n+import org.apache.wicket.ajax.AjaxEventBehavior;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.IAjaxIndicatorAware;\n import org.apache.wicket.behavior.Behavior;\n@@ -79,6 +81,8 @@ public class Topology extends BasePage {\n \n     private final ListView<TopologyNode> newlyCreated;\n \n+    private final TopologyTogglePanel togglePanel;\n+\n     private final LoadableDetachableModel<List<ResourceTO>> resModel = new LoadableDetachableModel<List<ResourceTO>>() {\n \n         private static final long serialVersionUID = 5275935387613157431L;\n@@ -168,6 +172,9 @@ public void onClose(final AjaxRequestTarget target) {\n \n         add(new WebSocketBehavior());\n \n+        togglePanel = new TopologyTogglePanel(\"toggle\", getPage().getPageReference());\n+        add(togglePanel);\n+\n         // -----------------------------------------\n         // Add Zoom panel\n         // -----------------------------------------\n@@ -527,11 +534,13 @@ private List<String> createConnections(final Map<Serializable, Map<Serializable,\n \n     private TopologyNodePanel topologyNodePanel(final String id, final TopologyNode node) {\n \n-        final TopologyNodePanel panel = new TopologyNodePanel(id, node, modal, getPageReference());\n+        final TopologyNodePanel panel = new TopologyNodePanel(id, node);\n         panel.setMarkupId(String.valueOf(node.getKey()));\n         panel.setOutputMarkupId(true);\n \n-        panel.add(new Behavior() {\n+        final List<Behavior> behaviors = new ArrayList<>();\n+\n+        behaviors.add(new Behavior() {\n \n             private static final long serialVersionUID = 1L;\n \n@@ -542,6 +551,29 @@ public void renderHead(final Component component, final IHeaderResponse response\n             }\n         });\n \n+        if (node.getKind() == TopologyNode.Kind.CONNECTOR_SERVER\n+                || node.getKind() == TopologyNode.Kind.FS_PATH\n+                || node.getKind() == TopologyNode.Kind.CONNECTOR\n+                || node.getKind() == TopologyNode.Kind.RESOURCE) {\n+\n+            behaviors.add(new AjaxEventBehavior(Constants.ON_CLICK) {\n+\n+                private static final long serialVersionUID = -9027652037484739586L;\n+\n+                @Override\n+                protected String findIndicatorId() {\n+                    return StringUtils.EMPTY;\n+                }\n+\n+                @Override\n+                protected void onEvent(final AjaxRequestTarget target) {\n+                    togglePanel.toggleWithContent(target, node);\n+                }\n+            });\n+        }\n+\n+        panel.add(behaviors.toArray(new Behavior[] {}));\n+\n         return panel;\n     }\n "},{"sha":"f692f026080080cc91605972bd76901b4b652a8f","filename":"client/console/src/main/java/org/apache/syncope/client/console/topology/TopologyNodePanel.java","status":"modified","additions":1,"deletions":215,"changes":216,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyNodePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyNodePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyNodePanel.java?ref=9536ffa91da22558067d186c90ecb2358fb9996d","patch":"@@ -18,58 +18,23 @@\n  */\n package org.apache.syncope.client.console.topology;\n \n-import java.io.Serializable;\n-import java.text.MessageFormat;\n import org.apache.commons.lang3.StringUtils;\n-import org.apache.syncope.client.console.commons.Constants;\n-import org.apache.syncope.client.console.pages.BasePage;\n-import org.apache.syncope.client.console.panels.ConnectorModal;\n-import org.apache.syncope.client.console.panels.ResourceModal;\n-import org.apache.syncope.client.console.rest.ConnectorRestClient;\n-import org.apache.syncope.client.console.rest.ResourceRestClient;\n-import org.apache.syncope.client.console.wicket.markup.html.bootstrap.confirmation.ConfirmationModalBehavior;\n-import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n-import org.apache.syncope.common.lib.SyncopeClientException;\n-import org.apache.syncope.common.lib.to.ConnInstanceTO;\n-import org.apache.syncope.common.lib.to.ResourceTO;\n-import org.apache.syncope.common.lib.types.StandardEntitlement;\n import org.apache.wicket.AttributeModifier;\n import org.apache.wicket.Component;\n import org.apache.wicket.MarkupContainer;\n-import org.apache.wicket.PageReference;\n-import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.IAjaxIndicatorAware;\n-import org.apache.wicket.ajax.markup.html.AjaxLink;\n-import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n import org.apache.wicket.behavior.AttributeAppender;\n import org.apache.wicket.behavior.Behavior;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n import org.apache.wicket.markup.html.basic.Label;\n-import org.apache.wicket.markup.html.panel.Fragment;\n import org.apache.wicket.markup.html.panel.Panel;\n-import org.apache.wicket.model.CompoundPropertyModel;\n-import org.apache.wicket.model.IModel;\n-import org.apache.wicket.model.Model;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n \n public class TopologyNodePanel extends Panel implements IAjaxIndicatorAware {\n \n     private static final long serialVersionUID = -8775095410207013913L;\n \n-    private static final Logger LOG = LoggerFactory.getLogger(TopologyNodePanel.class);\n-\n-    private final ResourceRestClient resourceRestClient = new ResourceRestClient();\n-\n-    private final ConnectorRestClient connectorRestClient = new ConnectorRestClient();\n-\n-    private final BaseModal<Serializable> modal;\n-\n     public TopologyNodePanel(\n             final String id,\n-            final TopologyNode node,\n-            final BaseModal<Serializable> modal,\n-            final PageReference pageRef) {\n+            final TopologyNode node) {\n \n         super(id);\n \n@@ -84,28 +49,23 @@ public TopologyNodePanel(\n         switch (node.getKind()) {\n             case SYNCOPE:\n                 title = \"\";\n-                add(getSyncopeFragment());\n                 add(new AttributeAppender(\"class\", \"topology_root\", \" \"));\n                 break;\n             case CONNECTOR_SERVER:\n                 title = node.getDisplayName();\n-                add(getLocationFragment(node, pageRef));\n                 add(new AttributeAppender(\"class\", \"topology_cs\", \" \"));\n                 break;\n             case FS_PATH:\n                 title = node.getDisplayName();\n-                add(getLocationFragment(node, pageRef));\n                 add(new AttributeAppender(\"class\", \"topology_cs\", \" \"));\n                 break;\n             case CONNECTOR:\n                 title = (StringUtils.isBlank(node.getConnectionDisplayName())\n                         ? \"\" : node.getConnectionDisplayName() + \":\") + node.getDisplayName();\n-                add(getConnectorFragment(node, pageRef));\n                 add(new AttributeAppender(\"class\", \"topology_conn\", \" \"));\n                 break;\n             default:\n                 title = node.getDisplayName().length() > 20 ? node.getDisplayName() : \"\";\n-                add(getResurceFragment(node, pageRef));\n                 add(new AttributeAppender(\"class\", \"topology_res\", \" \"));\n         }\n \n@@ -114,9 +74,6 @@ public TopologyNodePanel(\n         }\n \n         this.setMarkupId(node.getDisplayName());\n-\n-        this.modal = modal;\n-        BasePage.class.cast(pageRef.getPage()).setWindowClosedCallback(modal, null);\n     }\n \n     @Override\n@@ -134,177 +91,6 @@ public final Component setMarkupId(final String markupId) {\n         return super.setMarkupId(markupId);\n     }\n \n-    private Fragment getSyncopeFragment() {\n-        return new Fragment(\"actions\", \"syncopeActions\", this);\n-    }\n-\n-    private Fragment getLocationFragment(final TopologyNode node, final PageReference pageRef) {\n-        final Fragment fragment = new Fragment(\"actions\", \"locationActions\", this);\n-\n-        final AjaxLink<String> create = new IndicatingAjaxLink<String>(\"create\") {\n-\n-            private static final long serialVersionUID = 3776750333491622263L;\n-\n-            @Override\n-            public void onClick(final AjaxRequestTarget target) {\n-                final ConnInstanceTO modelObject = new ConnInstanceTO();\n-                modelObject.setLocation(node.getKey().toString());\n-\n-                final IModel<ConnInstanceTO> model = new CompoundPropertyModel<>(modelObject);\n-                modal.setFormModel(model);\n-\n-                target.add(modal.setContent(new ConnectorModal(modal, pageRef, model)));\n-\n-                modal.header(new Model<>(MessageFormat.format(getString(\"connector.new\"), node.getKey())));\n-\n-                MetaDataRoleAuthorizationStrategy.\n-                        authorize(modal.addSumbitButton(), ENABLE, StandardEntitlement.CONNECTOR_CREATE);\n-\n-                modal.show(true);\n-            }\n-        };\n-        fragment.add(create);\n-\n-        MetaDataRoleAuthorizationStrategy.authorize(create, ENABLE, StandardEntitlement.CONNECTOR_CREATE);\n-\n-        return fragment;\n-    }\n-\n-    private Fragment getConnectorFragment(final TopologyNode node, final PageReference pageRef) {\n-        final Fragment fragment = new Fragment(\"actions\", \"connectorActions\", this);\n-\n-        final AjaxLink<String> delete = new IndicatingAjaxLink<String>(\"delete\") {\n-\n-            private static final long serialVersionUID = 3776750333491622263L;\n-\n-            @Override\n-            public void onClick(final AjaxRequestTarget target) {\n-                try {\n-                    connectorRestClient.delete(Long.class.cast(node.getKey()));\n-                    target.appendJavaScript(String.format(\"jsPlumb.remove('%s');\", node.getKey()));\n-                    info(getString(Constants.OPERATION_SUCCEEDED));\n-                } catch (SyncopeClientException e) {\n-                    error(getString(Constants.ERROR) + \": \" + e.getMessage());\n-                    LOG.error(\"While deleting resource {}\", node.getKey(), e);\n-                }\n-                ((BasePage) getPage()).getNotificationPanel().refresh(target);\n-            }\n-        };\n-\n-        fragment.add(delete);\n-        delete.add(new ConfirmationModalBehavior());\n-\n-        MetaDataRoleAuthorizationStrategy.authorize(delete, ENABLE, StandardEntitlement.CONNECTOR_DELETE);\n-\n-        final AjaxLink<String> create = new IndicatingAjaxLink<String>(\"create\") {\n-\n-            private static final long serialVersionUID = 3776750333491622263L;\n-\n-            @Override\n-            public void onClick(final AjaxRequestTarget target) {\n-                final ResourceTO modelObject = new ResourceTO();\n-                modelObject.setConnector(Long.class.cast(node.getKey()));\n-                modelObject.setConnectorDisplayName(node.getDisplayName());\n-\n-                final IModel<ResourceTO> model = new CompoundPropertyModel<>(modelObject);\n-                modal.setFormModel(model);\n-\n-                target.add(modal.setContent(new ResourceModal<>(modal, pageRef, model, true)));\n-\n-                modal.header(new Model<>(MessageFormat.format(getString(\"resource.new\"), node.getKey())));\n-\n-                MetaDataRoleAuthorizationStrategy.\n-                        authorize(modal.addSumbitButton(), ENABLE, StandardEntitlement.RESOURCE_CREATE);\n-\n-                modal.show(true);\n-            }\n-        };\n-        fragment.add(create);\n-\n-        MetaDataRoleAuthorizationStrategy.authorize(create, ENABLE, StandardEntitlement.RESOURCE_CREATE);\n-\n-        final AjaxLink<String> edit = new IndicatingAjaxLink<String>(\"edit\") {\n-\n-            private static final long serialVersionUID = 3776750333491622263L;\n-\n-            @Override\n-            public void onClick(final AjaxRequestTarget target) {\n-                final ConnInstanceTO modelObject = connectorRestClient.read(Long.class.cast(node.getKey()));\n-\n-                final IModel<ConnInstanceTO> model = new CompoundPropertyModel<>(modelObject);\n-                modal.setFormModel(model);\n-\n-                target.add(modal.setContent(new ConnectorModal(modal, pageRef, model)));\n-\n-                modal.header(new Model<>(MessageFormat.format(getString(\"connector.edit\"), node.getKey())));\n-\n-                MetaDataRoleAuthorizationStrategy.\n-                        authorize(modal.addSumbitButton(), ENABLE, StandardEntitlement.CONNECTOR_UPDATE);\n-\n-                modal.show(true);\n-            }\n-        };\n-        fragment.add(edit);\n-\n-        MetaDataRoleAuthorizationStrategy.authorize(edit, ENABLE, StandardEntitlement.CONNECTOR_UPDATE);\n-\n-        return fragment;\n-    }\n-\n-    private Fragment getResurceFragment(final TopologyNode node, final PageReference pageRef) {\n-        final Fragment fragment = new Fragment(\"actions\", \"resourceActions\", this);\n-\n-        final AjaxLink<String> delete = new IndicatingAjaxLink<String>(\"delete\") {\n-\n-            private static final long serialVersionUID = 3776750333491622263L;\n-\n-            @Override\n-            public void onClick(final AjaxRequestTarget target) {\n-                try {\n-                    resourceRestClient.delete(node.getKey().toString());\n-                    target.appendJavaScript(String.format(\"jsPlumb.remove('%s');\", node.getKey()));\n-                    info(getString(Constants.OPERATION_SUCCEEDED));\n-                } catch (SyncopeClientException e) {\n-                    error(getString(Constants.ERROR) + \": \" + e.getMessage());\n-                    LOG.error(\"While deleting resource {}\", node.getKey(), e);\n-                }\n-                ((BasePage) getPage()).getNotificationPanel().refresh(target);\n-            }\n-        };\n-        fragment.add(delete);\n-\n-        delete.add(new ConfirmationModalBehavior());\n-\n-        MetaDataRoleAuthorizationStrategy.authorize(delete, ENABLE, StandardEntitlement.RESOURCE_DELETE);\n-\n-        final AjaxLink<String> edit = new IndicatingAjaxLink<String>(\"edit\") {\n-\n-            private static final long serialVersionUID = 3776750333491622263L;\n-\n-            @Override\n-            public void onClick(final AjaxRequestTarget target) {\n-                final ResourceTO modelObject = resourceRestClient.read(node.getKey().toString());\n-\n-                final IModel<ResourceTO> model = new CompoundPropertyModel<>(modelObject);\n-                modal.setFormModel(model);\n-\n-                target.add(modal.setContent(new ResourceModal<>(modal, pageRef, model, false)));\n-\n-                modal.header(new Model<>(MessageFormat.format(getString(\"resource.edit\"), node.getKey())));\n-\n-                MetaDataRoleAuthorizationStrategy.\n-                        authorize(modal.addSumbitButton(), ENABLE, StandardEntitlement.RESOURCE_UPDATE);\n-\n-                modal.show(true);\n-            }\n-        };\n-        fragment.add(edit);\n-\n-        MetaDataRoleAuthorizationStrategy.authorize(edit, ENABLE, StandardEntitlement.RESOURCE_UPDATE);\n-\n-        return fragment;\n-    }\n-\n     @Override\n     public String getAjaxIndicatorMarkupId() {\n         return \"veil\";"},{"sha":"dc3a6d45ff00bf8a9640e90431f7f9cd08c55874","filename":"client/console/src/main/java/org/apache/syncope/client/console/topology/TopologyTogglePanel.java","status":"added","additions":275,"deletions":0,"changes":275,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyTogglePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyTogglePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyTogglePanel.java?ref=9536ffa91da22558067d186c90ecb2358fb9996d","patch":"@@ -0,0 +1,275 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.console.topology;\n+\n+import static org.apache.wicket.Component.ENABLE;\n+\n+import de.agilecoders.wicket.core.markup.html.bootstrap.dialog.Modal;\n+import java.text.MessageFormat;\n+import org.apache.syncope.client.console.commons.Constants;\n+import org.apache.syncope.client.console.pages.BasePage;\n+import org.apache.syncope.client.console.panels.ConnectorModal;\n+import org.apache.syncope.client.console.panels.ResourceModal;\n+import org.apache.syncope.client.console.panels.TogglePanel;\n+import org.apache.syncope.client.console.rest.ConnectorRestClient;\n+import org.apache.syncope.client.console.rest.ResourceRestClient;\n+import org.apache.syncope.client.console.wicket.markup.html.bootstrap.confirmation.ConfirmationModalBehavior;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.to.ConnInstanceTO;\n+import org.apache.syncope.common.lib.to.ResourceTO;\n+import org.apache.syncope.common.lib.types.StandardEntitlement;\n+import org.apache.wicket.PageReference;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.markup.html.AjaxLink;\n+import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n+import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n+import org.apache.wicket.markup.html.WebMarkupContainer;\n+import org.apache.wicket.markup.html.panel.Fragment;\n+import org.apache.wicket.model.CompoundPropertyModel;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.Model;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * Toggle panel.\n+ */\n+public class TopologyTogglePanel extends TogglePanel {\n+\n+    private static final long serialVersionUID = -2025535531121434056L;\n+\n+    private static final Logger LOG = LoggerFactory.getLogger(TopologyTogglePanel.class);\n+\n+    private final ResourceRestClient resourceRestClient = new ResourceRestClient();\n+\n+    private final ConnectorRestClient connectorRestClient = new ConnectorRestClient();\n+\n+    private final WebMarkupContainer container;\n+\n+    private final PageReference pageRef;\n+\n+    public TopologyTogglePanel(final String id, final PageReference pageRef) {\n+        super(id);\n+        this.pageRef = pageRef;\n+\n+        modal.size(Modal.Size.Large);\n+\n+        container = new WebMarkupContainer(\"container\");\n+        container.setOutputMarkupPlaceholderTag(true);\n+        add(container);\n+\n+        container.add(getEmptyFragment());\n+    }\n+\n+    public void toggleWithContent(final AjaxRequestTarget target, final TopologyNode node) {\n+        setHeader(target, node.getDisplayName());\n+\n+        switch (node.getKind()) {\n+            case CONNECTOR_SERVER:\n+                container.addOrReplace(getLocationFragment(node, pageRef));\n+                break;\n+            case FS_PATH:\n+                container.addOrReplace(getLocationFragment(node, pageRef));\n+                break;\n+            case CONNECTOR:\n+                container.addOrReplace(getConnectorFragment(node, pageRef));\n+                break;\n+            case RESOURCE:\n+                container.addOrReplace(getResurceFragment(node, pageRef));\n+                break;\n+            default:\n+                container.addOrReplace(getEmptyFragment());\n+        }\n+\n+        target.add(container);\n+\n+        this.toggle(target, true);\n+    }\n+\n+    private Fragment getEmptyFragment() {\n+        return new Fragment(\"actions\", \"emptyFragment\", this);\n+    }\n+\n+    private Fragment getLocationFragment(final TopologyNode node, final PageReference pageRef) {\n+        final Fragment fragment = new Fragment(\"actions\", \"locationActions\", this);\n+\n+        final AjaxLink<String> create = new IndicatingAjaxLink<String>(\"create\") {\n+\n+            private static final long serialVersionUID = 3776750333491622263L;\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target) {\n+                final ConnInstanceTO modelObject = new ConnInstanceTO();\n+                modelObject.setLocation(node.getKey().toString());\n+\n+                final IModel<ConnInstanceTO> model = new CompoundPropertyModel<>(modelObject);\n+                modal.setFormModel(model);\n+\n+                target.add(modal.setContent(new ConnectorModal(modal, pageRef, model)));\n+\n+                modal.header(new Model<>(MessageFormat.format(getString(\"connector.new\"), node.getKey())));\n+\n+                MetaDataRoleAuthorizationStrategy.\n+                        authorize(modal.addSumbitButton(), ENABLE, StandardEntitlement.CONNECTOR_CREATE);\n+\n+                modal.show(true);\n+            }\n+        };\n+        fragment.add(create);\n+\n+        MetaDataRoleAuthorizationStrategy.authorize(create, ENABLE, StandardEntitlement.CONNECTOR_CREATE);\n+\n+        return fragment;\n+    }\n+\n+    private Fragment getConnectorFragment(final TopologyNode node, final PageReference pageRef) {\n+        final Fragment fragment = new Fragment(\"actions\", \"connectorActions\", this);\n+\n+        final AjaxLink<String> delete = new IndicatingAjaxLink<String>(\"delete\") {\n+\n+            private static final long serialVersionUID = 3776750333491622263L;\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target) {\n+                try {\n+                    connectorRestClient.delete(Long.class.cast(node.getKey()));\n+                    target.appendJavaScript(String.format(\"jsPlumb.remove('%s');\", node.getKey()));\n+                    info(getString(Constants.OPERATION_SUCCEEDED));\n+                } catch (SyncopeClientException e) {\n+                    error(getString(Constants.ERROR) + \": \" + e.getMessage());\n+                    LOG.error(\"While deleting resource {}\", node.getKey(), e);\n+                }\n+                ((BasePage) getPage()).getNotificationPanel().refresh(target);\n+            }\n+        };\n+\n+        fragment.add(delete);\n+        delete.add(new ConfirmationModalBehavior());\n+\n+        MetaDataRoleAuthorizationStrategy.authorize(delete, ENABLE, StandardEntitlement.CONNECTOR_DELETE);\n+\n+        final AjaxLink<String> create = new IndicatingAjaxLink<String>(\"create\") {\n+\n+            private static final long serialVersionUID = 3776750333491622263L;\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target) {\n+                final ResourceTO modelObject = new ResourceTO();\n+                modelObject.setConnector(Long.class.cast(node.getKey()));\n+                modelObject.setConnectorDisplayName(node.getDisplayName());\n+\n+                final IModel<ResourceTO> model = new CompoundPropertyModel<>(modelObject);\n+                modal.setFormModel(model);\n+\n+                target.add(modal.setContent(new ResourceModal<>(modal, pageRef, model, true)));\n+\n+                modal.header(new Model<>(MessageFormat.format(getString(\"resource.new\"), node.getKey())));\n+\n+                MetaDataRoleAuthorizationStrategy.\n+                        authorize(modal.addSumbitButton(), ENABLE, StandardEntitlement.RESOURCE_CREATE);\n+\n+                modal.show(true);\n+            }\n+        };\n+        fragment.add(create);\n+\n+        MetaDataRoleAuthorizationStrategy.authorize(create, ENABLE, StandardEntitlement.RESOURCE_CREATE);\n+\n+        final AjaxLink<String> edit = new IndicatingAjaxLink<String>(\"edit\") {\n+\n+            private static final long serialVersionUID = 3776750333491622263L;\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target) {\n+                final ConnInstanceTO modelObject = connectorRestClient.read(Long.class.cast(node.getKey()));\n+\n+                final IModel<ConnInstanceTO> model = new CompoundPropertyModel<>(modelObject);\n+                modal.setFormModel(model);\n+\n+                target.add(modal.setContent(new ConnectorModal(modal, pageRef, model)));\n+\n+                modal.header(new Model<>(MessageFormat.format(getString(\"connector.edit\"), node.getKey())));\n+\n+                MetaDataRoleAuthorizationStrategy.\n+                        authorize(modal.addSumbitButton(), ENABLE, StandardEntitlement.CONNECTOR_UPDATE);\n+\n+                modal.show(true);\n+            }\n+        };\n+        fragment.add(edit);\n+\n+        MetaDataRoleAuthorizationStrategy.authorize(edit, ENABLE, StandardEntitlement.CONNECTOR_UPDATE);\n+\n+        return fragment;\n+    }\n+\n+    private Fragment getResurceFragment(final TopologyNode node, final PageReference pageRef) {\n+        final Fragment fragment = new Fragment(\"actions\", \"resourceActions\", this);\n+\n+        final AjaxLink<String> delete = new IndicatingAjaxLink<String>(\"delete\") {\n+\n+            private static final long serialVersionUID = 3776750333491622263L;\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target) {\n+                try {\n+                    resourceRestClient.delete(node.getKey().toString());\n+                    target.appendJavaScript(String.format(\"jsPlumb.remove('%s');\", node.getKey()));\n+                    info(getString(Constants.OPERATION_SUCCEEDED));\n+                } catch (SyncopeClientException e) {\n+                    error(getString(Constants.ERROR) + \": \" + e.getMessage());\n+                    LOG.error(\"While deleting resource {}\", node.getKey(), e);\n+                }\n+                ((BasePage) getPage()).getNotificationPanel().refresh(target);\n+            }\n+        };\n+        fragment.add(delete);\n+\n+        delete.add(new ConfirmationModalBehavior());\n+\n+        MetaDataRoleAuthorizationStrategy.authorize(delete, ENABLE, StandardEntitlement.RESOURCE_DELETE);\n+\n+        final AjaxLink<String> edit = new IndicatingAjaxLink<String>(\"edit\") {\n+\n+            private static final long serialVersionUID = 3776750333491622263L;\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target) {\n+                final ResourceTO modelObject = resourceRestClient.read(node.getKey().toString());\n+\n+                final IModel<ResourceTO> model = new CompoundPropertyModel<>(modelObject);\n+                modal.setFormModel(model);\n+\n+                target.add(modal.setContent(new ResourceModal<>(modal, pageRef, model, false)));\n+\n+                modal.header(new Model<>(MessageFormat.format(getString(\"resource.edit\"), node.getKey())));\n+\n+                MetaDataRoleAuthorizationStrategy.\n+                        authorize(modal.addSumbitButton(), ENABLE, StandardEntitlement.RESOURCE_UPDATE);\n+\n+                modal.show(true);\n+            }\n+        };\n+        fragment.add(edit);\n+\n+        MetaDataRoleAuthorizationStrategy.authorize(edit, ENABLE, StandardEntitlement.RESOURCE_UPDATE);\n+\n+        return fragment;\n+    }\n+}"},{"sha":"23093ca0ae021f3425242fb29b5a8841ada613ea","filename":"client/console/src/main/resources/META-INF/resources/css/topology.css","status":"modified","additions":100,"deletions":86,"changes":186,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fcss%2Ftopology.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fcss%2Ftopology.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fcss%2Ftopology.css?ref=9536ffa91da22558067d186c90ecb2358fb9996d","patch":"@@ -17,139 +17,153 @@\n  * under the License.\n  */\n .window {\n-    border:1px solid #346789;\n-    box-shadow: 2px 2px 19px #aaa;\n-    -o-box-shadow: 2px 2px 19px #aaa;\n-    -webkit-box-shadow: 2px 2px 19px #aaa;\n-    -moz-box-shadow: 2px 2px 19px #aaa;\n-    -moz-border-radius:0.5em;\n-    border-radius:0.5em;\n-    opacity:0.8;\n-    filter:alpha(opacity=80);\n-    width:140px; height:55px;\n-    line-height:5em;\n-    text-align:center;\n-    z-index:20; position:absolute;\n-    background-color:#eeeeef;\n-    color:black;\n-    font-family:helvetica;padding:0.0em;\n-    font-size:0.9em;}\n+  border:1px solid #346789;\n+  box-shadow: 2px 2px 19px #aaa;\n+  -o-box-shadow: 2px 2px 19px #aaa;\n+  -webkit-box-shadow: 2px 2px 19px #aaa;\n+  -moz-box-shadow: 2px 2px 19px #aaa;\n+  -moz-border-radius:0.5em;\n+  border-radius:0.5em;\n+  opacity:0.8;\n+  filter:alpha(opacity=80);\n+  width:140px; height:55px;\n+  line-height:5em;\n+  text-align:center;\n+  z-index:20; position:absolute;\n+  background-color:#eeeeef;\n+  color:black;\n+  font-family:helvetica;padding:0.0em;\n+  font-size:0.9em;\n+  vertical-align: middle;\n+}\n+\n+.window p {\n+  margin: 0px !important;\n+  line-height: 1.5em;\n+  display: inline-table;\n+}\n \n .topology_root {\n-    background-color:rgba(0,170,0,0.4);\n+  background-color:rgba(0,170,0,0.4);\n }\n \n .topology_cs {\n-    background-color:rgba(0,100,0,0.10);\n+  background-color:rgba(0,100,0,0.10);\n }\n \n .topology_conn {\n-    background-color:rgba(100,200,200,0.08);\n+  background-color:rgba(100,200,200,0.08);\n+}\n+\n+.topology_res {\n+  background-color:rgba(250,230,0,0.09);\n }\n \n+.topology_cs,\n+.topology_conn,\n .topology_res {\n-    background-color:rgba(250,230,0,0.09);\n+  cursor: pointer;\n }\n \n .window:hover {\n-    box-shadow: 2px 2px 19px #444;\n-    -o-box-shadow: 2px 2px 19px #444;\n-    -webkit-box-shadow: 2px 2px 19px #444;\n-    -moz-box-shadow: 2px 2px 19px #444;\n-    opacity:0.6;\n-    filter:alpha(opacity=60);\n+  box-shadow: 2px 2px 19px #444;\n+  -o-box-shadow: 2px 2px 19px #444;\n+  -webkit-box-shadow: 2px 2px 19px #444;\n+  -moz-box-shadow: 2px 2px 19px #444;\n+  opacity:0.6;\n+  filter:alpha(opacity=60);\n }\n \n ._jsPlumb_dragging { \n-    z-index:4000;\n+  z-index:4000;\n }\n \n #drawing ._jsPlumb_overlay.component.label{\n-    background-color: white;\n-    border: 1px solid #346789;\n-    border-radius: 0.5em 0.5em 0.5em 0.5em;\n-    color: black;\n-    font-size: 0.8em;\n-    opacity: 0.8;\n-    padding: 0.5em;\n+  background-color: white;\n+  border: 1px solid #346789;\n+  border-radius: 0.5em 0.5em 0.5em 0.5em;\n+  color: black;\n+  font-size: 0.8em;\n+  opacity: 0.8;\n+  padding: 0.5em;\n }\n \n .aLabel {\n-    background-color:white; \n-    padding:0.4em; \n-    font:12px sans-serif; \n-    color:#444;\n-    z-index:21;\n-    border:1px dotted gray;\n-    opacity:0.8;\n-    filter:alpha(opacity=80);\n-    cursor: pointer;\n+  background-color:white; \n+  padding:0.4em; \n+  font:12px sans-serif; \n+  color:#444;\n+  z-index:21;\n+  border:1px dotted gray;\n+  opacity:0.8;\n+  filter:alpha(opacity=80);\n+  cursor: pointer;\n }\n .aLabel._jsPlumb_hover {\n-    background-color:#5C96BC;\n-    color:white;\t\n-    border:1px solid white;\n+  background-color:#5C96BC;\n+  color:white;\t\n+  border:1px solid white;\n }\n \n div#topology {\n-    position: relative; \n-    border: 0px; \n-    height: 800px; \n-    overflow: hidden;\n+  position: relative; \n+  border: 0px; \n+  height: 800px; \n+  overflow: hidden;\n }\n \n div#drawing {\n-    height: 5000px;\n-    width: 5000px;\n-    display: block;\n-    position: relative;\n-    top: -2490px;\n-    left: -2270px;\n+  height: 5000px;\n+  width: 5000px;\n+  display: block;\n+  position: relative;\n+  top: -2490px;\n+  left: -2270px;\n }\n \n div#zoom {\n-    padding : 10px;\n-    text-align: right;\n-    width: 100%;\n+  padding : 10px;\n+  text-align: right;\n+  width: 100%;\n }\n \n div#zoom .fa{\n-    font-size: 2em;\n-    padding-right: 5px;\n+  font-size: 2em;\n+  padding-right: 5px;\n }\n \n div.node-action-link {\n-    clear: both;\n-    display: block;\n-    height: 0px;\n-    padding: 3px 8px 0px 0px;\n-    position: absolute;\n-    right: 0;\n-    top: 0;\n+  clear: both;\n+  display: block;\n+  height: 0px;\n+  padding: 3px 8px 0px 0px;\n+  position: absolute;\n+  right: 0;\n+  top: 0;\n }\n \n div.node-action-link .fa{\n-    font-size: 14px;\n-    display: block !important;\n+  font-size: 14px;\n+  display: block !important;\n }\n \n div.node-action-link .dropdown-menu{\n-    border-radius: 12px;\n-    min-width: 50px;\n-    width: 50px;\n+  border-radius: 12px;\n+  min-width: 50px;\n+  width: 50px;\n }\n \n .window[data-original-title]:hover::after{\n-    border: 1px solid #BBB;\n-    padding: 5px 10px;\n-    background: #EEE;\n-    content: attr(data-original-title);\n-    position: relative;\n-    right: -5px;\n-    top:-70px;\n-    white-space: nowrap;\n-    text-align: center;\n-    height: 20px;\n-    margin: 0px;\n-    border-radius: 0.5em;\n+  border: 1px solid #BBB;\n+  padding: 5px 10px;\n+  background: #EEE;\n+  content: attr(data-original-title);\n+  position: relative;\n+  right: -5px;\n+  top:-70px;\n+  white-space: nowrap;\n+  text-align: center;\n+  height: 20px;\n+  margin: 0px;\n+  border-radius: 0.5em;\n }"},{"sha":"f8ca683b646f2f871082d1ba66ca37cc31fbfbd7","filename":"client/console/src/main/resources/META-INF/resources/js/topology.js","status":"modified","additions":218,"deletions":219,"changes":437,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fjs%2Ftopology.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fjs%2Ftopology.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fjs%2Ftopology.js?ref=9536ffa91da22558067d186c90ecb2358fb9996d","patch":"@@ -17,296 +17,295 @@\n  * under the License.\n  */\n var def = {\n-    paintStyle: {\n-\tlineWidth: 2,\n-        strokeStyle: \"rgba(204,204,204, 0.3)\",\n-        outlineColor: \"#666\",\n-        outlineWidth: 1\n-    },\n-    connectorPaintStyle:{\n-\tlineWidth:2\n+  paintStyle: {\n+    lineWidth: 2,\n+    strokeStyle: \"rgba(204,204,204, 0.3)\",\n+    outlineColor: \"#666\",\n+    outlineWidth: 1\n+  },\n+  connectorPaintStyle: {\n+    lineWidth: 2\n+  },\n+  anchor: \"AutoDefault\",\n+  detachable: false,\n+  endpointStyle: {\n+    gradient: {\n+      stops: [\n+        [0, \"rgba(204,204,204, 1)\"], [1, \"rgba(180, 180, 200, 1)\"]\n+      ],\n+      offset: 5.5,\n+      innerRadius: 3.5\n     },\n-    anchor: \"AutoDefault\",\n-    detachable: false,\n-    endpointStyle: {\n-\tgradient: {\n-\t    stops: [\n-            \t[0, \"rgba(204,204,204, 1)\" ], [1, \"rgba(180, 180, 200, 1)\" ]\n-\t    ],\n-\t    offset: 5.5,\n-\t    innerRadius: 3.5\n-\t},\n-\tradius: 3.5\n-    }\n+    radius: 3.5\n+  }\n };\n \n var failedConnectorStyle = {\n-    lineWidth: 2,\n-    strokeStyle: \"rgba(220, 220, 220, 1)\",\n-    outlineColor: \"#666\",\n-    outlineWidth: 1\n+  lineWidth: 2,\n+  strokeStyle: \"rgba(220, 220, 220, 1)\",\n+  outlineColor: \"#666\",\n+  outlineWidth: 1\n };\n \n var failedConnectorHoverStyle = {\n-    strokeStyle: \"#FFFFFF\" \n+  strokeStyle: \"#FFFFFF\"\n };\n \n var failedEndpointStyle = {\n-    gradient: {\n-\tstops: [\n-\t    [0, \"rgba(220, 220, 220, 1)\" ], [1, \"rgba(180, 180, 200, 1)\" ]\n-\t],\n-\toffset: 5.5,\n-\tinnerRadius: 3.5\n-    },\n-    radius: 3.5\n+  gradient: {\n+    stops: [\n+      [0, \"rgba(220, 220, 220, 1)\"], [1, \"rgba(180, 180, 200, 1)\"]\n+    ],\n+    offset: 5.5,\n+    innerRadius: 0\n+  },\n+  radius: 0\n };\n \n var disabledConnectorStyle = {\n-    lineWidth: 2,\n-    strokeStyle: \"rgba(255, 69, 0, 1)\",\n-    outlineColor: \"#666\",\n-    outlineWidth: 1\n+  lineWidth: 2,\n+  strokeStyle: \"rgba(255, 69, 0, 1)\",\n+  outlineColor: \"#666\",\n+  outlineWidth: 1\n };\n \n var disabledConnectorHoverStyle = {\n-    strokeStyle: \"#FF8C00\" \n+  strokeStyle: \"#FF8C00\"\n };\n \n var disabledEndpointStyle = {\n-    gradient: {\n-\tstops: [\n-\t    [0, \"rgba(255, 69, 0, 1)\" ], [1, \"rgba(180, 180, 200, 1)\" ]\n-\t],\n-\toffset: 5.5,\n-\tinnerRadius: 3.5\n-    },\n-    radius: 3.5\n+  gradient: {\n+    stops: [\n+      [0, \"rgba(255, 69, 0, 1)\"], [1, \"rgba(180, 180, 200, 1)\"]\n+    ],\n+    offset: 5.5,\n+    innerRadius: 1\n+  },\n+  radius: 1\n };\n \n var enabledConnectorStyle = {\n-    lineWidth: 2,\n-    strokeStyle: \"rgba(65, 155, 30, 0.3)\",\n-    outlineColor: \"#666\",\n-    outlineWidth: 1\n+  lineWidth: 2,\n+  strokeStyle: \"rgba(65, 155, 30, 0.3)\",\n+  outlineColor: \"#666\",\n+  outlineWidth: 1\n };\n \n var enabledConnectorHoverStyle = {\n-    strokeStyle: \"#00FF00\" \n+  strokeStyle: \"#00FF00\"\n };\n \n var enabledEndpointStyle = {\n-    gradient: {\n-        stops: [\n-            [0, \"rgba(65, 155, 30, 0.1)\" ], [1, \"rgba(180, 180, 200, 0.1)\" ]\n-        ],\n-        offset: 5.5,\n-        innerRadius: 3.5\n-    },\n-    radius: 3.5\n+  gradient: {\n+    stops: [\n+      [0, \"rgba(65, 155, 30, 0.1)\"], [1, \"rgba(180, 180, 200, 0.1)\"]\n+    ],\n+    offset: 5.5,\n+    innerRadius: 2\n+  },\n+  radius: 2\n };\n \n-window.disable = function(targetName){\n-    jsPlumb.ready(function(){\n-\tjsPlumb.select({target:targetName}).setPaintStyle(disabledConnectorStyle).setHoverPaintStyle(disabledConnectorHoverStyle);\n-\tjsPlumb.selectEndpoints({element: [targetName]}).setPaintStyle(disabledEndpointStyle);\n-    });\n+window.disable = function (targetName) {\n+  jsPlumb.ready(function () {\n+    jsPlumb.select({target: targetName}).setPaintStyle(disabledConnectorStyle).setHoverPaintStyle(disabledConnectorHoverStyle);\n+    jsPlumb.selectEndpoints({element: [targetName]}).setPaintStyle(disabledEndpointStyle);\n+  });\n }\n \n-window.enable = function(targetName){\n-    jsPlumb.ready(function(){\n-\tjsPlumb.select({target:targetName}).setPaintStyle(enabledConnectorStyle).setHoverPaintStyle(enabledConnectorHoverStyle);\n-\tjsPlumb.selectEndpoints({element: [targetName]}).setPaintStyle(enabledEndpointStyle);\n-    });\n+window.enable = function (targetName) {\n+  jsPlumb.ready(function () {\n+    jsPlumb.select({target: targetName}).setPaintStyle(enabledConnectorStyle).setHoverPaintStyle(enabledConnectorHoverStyle);\n+    jsPlumb.selectEndpoints({element: [targetName]}).setPaintStyle(enabledEndpointStyle);\n+  });\n }\n \n-window.failure = function(targetName){\n-    jsPlumb.ready(function(){\n-\tjsPlumb.select({target:targetName}).setPaintStyle(failedConnectorStyle).setHoverPaintStyle(failedConnectorHoverStyle);\n-\tjsPlumb.selectEndpoints({element: [targetName]}).setPaintStyle(failedEndpointStyle);\n-    });\n+window.failure = function (targetName) {\n+  jsPlumb.ready(function () {\n+    jsPlumb.select({target: targetName}).setPaintStyle(failedConnectorStyle).setHoverPaintStyle(failedConnectorHoverStyle);\n+    jsPlumb.selectEndpoints({element: [targetName]}).setPaintStyle(failedEndpointStyle);\n+  });\n }\n \n-window.unknown = function(targetName){\n+window.unknown = function (targetName) {\n }\n \n-function getTopology(){\n-    var topology = $.cookie(\"topology\");\n+function getTopology() {\n+  var topology = $.cookie(\"topology\");\n \n-    if(topology == null){\n-\tvar val = {};\n-    }else{\n-\tvar val = JSON.parse(decodeURIComponent(topology));\n-    }\n+  if (topology == null) {\n+    var val = {};\n+  } else {\n+    var val = JSON.parse(decodeURIComponent(topology));\n+  }\n \n-    return val;\n+  return val;\n }\n \n-window.refreshPosition = function(element) {\n-    var val = getTopology();\n-    \n-    var id = $(element).attr('id');\n-    var left = $(element).css('left');\n-    var top = $(element).css('top');\n-\n-    if(val[id] == null){\n-\tval[id] = {'top':top,'left':left};\n-    }else{\n-\tval[id].top=top;\n-\tval[id].left=left;\n-    }\n-    \n-    $.cookie(\"topology\", JSON.stringify(val), { expires: 9999 });\n+window.refreshPosition = function (element) {\n+  var val = getTopology();\n+\n+  var id = $(element).attr('id');\n+  var left = $(element).css('left');\n+  var top = $(element).css('top');\n+\n+  if (val[id] == null) {\n+    val[id] = {'top': top, 'left': left};\n+  } else {\n+    val[id].top = top;\n+    val[id].left = left;\n+  }\n+\n+  $.cookie(\"topology\", JSON.stringify(val), {expires: 9999});\n }\n \n-window.setPosition = function(id, x, y) {\n-    var val = getTopology();\n+window.setPosition = function (id, x, y) {\n+  var val = getTopology();\n \n-    try{\n-\t// We cannot use jQuery selector for id since the syntax of connector server id\n-\tvar element = $(document.getElementById(id));\n-\t\n-\tif(val[id] == null){ \n-\t    element.css(\"left\", x + \"px\");\n-\t    element.css(\"top\", y + \"px\");\n-\t}else{\n-\t    element.css(\"left\", val[id].left);\n-\t    element.css(\"top\", val[id].top);\n-\t}\n-    }catch(err){\n-\tconsole.log(\"Failure setting position for \", id);\n+  try {\n+    // We cannot use jQuery selector for id since the syntax of connector server id\n+    var element = $(document.getElementById(id));\n+\n+    if (val[id] == null) {\n+      element.css(\"left\", x + \"px\");\n+      element.css(\"top\", y + \"px\");\n+    } else {\n+      element.css(\"left\", val[id].left);\n+      element.css(\"top\", val[id].top);\n     }\n+  } catch (err) {\n+    console.log(\"Failure setting position for \", id);\n+  }\n }\n \n-window.setZoom = function(el, zoom, instance, transformOrigin) {\n-    transformOrigin = transformOrigin || [ 0.5, 0.5 ];\n-    instance = instance || jsPlumb;\n-    el = el || instance.getContainer();\n-    \n-    var p = [ \"webkit\", \"moz\", \"ms\", \"o\" ],\n-\ts = \"scale(\" + zoom + \")\",\n-\toString = (transformOrigin[0] * 100) + \"% \" + (transformOrigin[1] * 100) + \"%\";\n-\n-    for (var i = 0; i < p.length; i++) {\n-\tel.style[p[i] + \"Transform\"] = s;\n-\tel.style[p[i] + \"TransformOrigin\"] = oString;\n-    }\n+window.setZoom = function (el, zoom, instance, transformOrigin) {\n+  transformOrigin = transformOrigin || [0.5, 0.5];\n+  instance = instance || jsPlumb;\n+  el = el || instance.getContainer();\n \n-    el.style[\"transform\"] = s;\n-    el.style[\"transformOrigin\"] = oString;\n+  var p = [\"webkit\", \"moz\", \"ms\", \"o\"],\n+          s = \"scale(\" + zoom + \")\",\n+          oString = (transformOrigin[0] * 100) + \"% \" + (transformOrigin[1] * 100) + \"%\";\n \n-    instance.setZoom(zoom);\n+  for (var i = 0; i < p.length; i++) {\n+    el.style[p[i] + \"Transform\"] = s;\n+    el.style[p[i] + \"TransformOrigin\"] = oString;\n+  }\n+\n+  el.style[\"transform\"] = s;\n+  el.style[\"transformOrigin\"] = oString;\n+\n+  instance.setZoom(zoom);\n };\n \n-window.zoomIn = function(el, instance, transformOrigin) {\n-    var val = getTopology();\n-    if(val.__zoom__ == null){\n-\tvar zoom = 0.69;\n-    }else{\n-\tvar zoom = val.__zoom__ + 0.01;\n-    }\n+window.zoomIn = function (el, instance, transformOrigin) {\n+  var val = getTopology();\n+  if (val.__zoom__ == null) {\n+    var zoom = 0.69;\n+  } else {\n+    var zoom = val.__zoom__ + 0.01;\n+  }\n \n-    setZoom(el, zoom, instance, transformOrigin);\n-    \n-    val['__zoom__']=zoom;\n-    $.cookie(\"topology\", JSON.stringify(val), { expires: 9999 });\n+  setZoom(el, zoom, instance, transformOrigin);\n+\n+  val['__zoom__'] = zoom;\n+  $.cookie(\"topology\", JSON.stringify(val), {expires: 9999});\n };\n \n-window.zoomOut = function(el, instance, transformOrigin) {\n-    var val = getTopology();\n-    if(val.__zoom__ == null){\n-\tvar zoom = 0.67;\n-    }else{\n-\tvar zoom = val.__zoom__ - 0.01;\n-    }\n+window.zoomOut = function (el, instance, transformOrigin) {\n+  var val = getTopology();\n+  if (val.__zoom__ == null) {\n+    var zoom = 0.67;\n+  } else {\n+    var zoom = val.__zoom__ - 0.01;\n+  }\n \n-    setZoom(el, zoom, instance, transformOrigin);\n-    \n-    val['__zoom__']=zoom;\n-    $.cookie(\"topology\", JSON.stringify(val), { expires: 9999 });\n+  setZoom(el, zoom, instance, transformOrigin);\n+\n+  val['__zoom__'] = zoom;\n+  $.cookie(\"topology\", JSON.stringify(val), {expires: 9999});\n };\n \n-window.connect = function(source, target, scope){\n-    jsPlumb.ready(function(){\n-\tif(jsPlumb.select({source:source, target:target, scope: scope}) != null){\n-\t    jsPlumb.connect({source:source, target:target, scope: scope}, def);\n-\t}\n-    });\n+window.connect = function (source, target, scope) {\n+  jsPlumb.ready(function () {\n+    if (jsPlumb.select({source: source, target: target, scope: scope}) != null) {\n+      jsPlumb.connect({source: source, target: target, scope: scope}, def);\n+    }\n+  });\n }\n \n-window.activate = function(zoom){\n-    jsPlumb.ready(function(){\n-\tjsPlumb.draggable(jsPlumb.getSelector(\".window\"));\n-\tjsPlumb.setContainer(\"drawing\");\n-\t\n-\tjsPlumb.Defaults.MaxConnections = 1000;\n-\t\n-\t$(\"#drawing\").draggable({\n-\t    containment: 'topology',\n-\t    cursor: 'move'\n-\t});\n-\t\n-\tvar val = getTopology();\n-\tif(val.__zoom__ == null){\n-\t    setZoom($(\"#drawing\")[0], zoom);\n-\t} else {\n-\t    setZoom($(\"#drawing\")[0], val.__zoom__);\n-\t}\n+window.activate = function (zoom) {\n+  jsPlumb.ready(function () {\n+    jsPlumb.draggable(jsPlumb.getSelector(\".window\"));\n+    jsPlumb.setContainer(\"drawing\");\n+\n+    jsPlumb.Defaults.MaxConnections = 1000;\n+\n+    $(\"#drawing\").draggable({\n+      containment: 'topology',\n+      cursor: 'move'\n     });\n+\n+    var val = getTopology();\n+    if (val.__zoom__ == null) {\n+      setZoom($(\"#drawing\")[0], zoom);\n+    } else {\n+      setZoom($(\"#drawing\")[0], val.__zoom__);\n+    }\n+  });\n }\n \n-window.checkConnection = function() {\n-    jsPlumb.ready(function(){\n-\tjsPlumb.select({scope:\"CONNECTOR\"}).each(function(connection) {\n-            Wicket.WebSocket.send(\"{ \\\"kind\\\":\\\"CHECK_CONNECTOR\\\", \\\"target\\\":\\\"\" + connection.target.id + \"\\\" }\");\n-\t});\n-\tjsPlumb.select({scope:\"RESOURCE\"}).each(function(connection) {\n-            Wicket.WebSocket.send(\"{ \\\"kind\\\":\\\"CHECK_RESOURCE\\\", \\\"target\\\":\\\"\" + connection.target.id + \"\\\" }\");\n-\t});\n+window.checkConnection = function () {\n+  jsPlumb.ready(function () {\n+    jsPlumb.select({scope: \"CONNECTOR\"}).each(function (connection) {\n+      Wicket.WebSocket.send(\"{ \\\"kind\\\":\\\"CHECK_CONNECTOR\\\", \\\"target\\\":\\\"\" + connection.target.id + \"\\\" }\");\n+    });\n+    jsPlumb.select({scope: \"RESOURCE\"}).each(function (connection) {\n+      Wicket.WebSocket.send(\"{ \\\"kind\\\":\\\"CHECK_RESOURCE\\\", \\\"target\\\":\\\"\" + connection.target.id + \"\\\" }\");\n     });\n+  });\n }\n \n-window.addEndpoint = function(source, target, scope) {\n-    var sourceElement = $(document.getElementById(source));\n+window.addEndpoint = function (source, target, scope) {\n+  var sourceElement = $(document.getElementById(source));\n \n-    var top = parseFloat(sourceElement.css(\"top\")) + 10;\n-    var left = parseFloat(sourceElement.css(\"left\")) - 150;\n+  var top = parseFloat(sourceElement.css(\"top\")) + 10;\n+  var left = parseFloat(sourceElement.css(\"left\")) - 150;\n \n-    setPosition(target, left, top);\n-    jsPlumb.ready(function(){\n-\tjsPlumb.draggable(jsPlumb.getSelector(document.getElementById(target)));\n-\tjsPlumb.connect({ source:source, target:target, scope:scope }, def);\n-    });\n+  setPosition(target, left, top);\n+  jsPlumb.ready(function () {\n+    jsPlumb.draggable(jsPlumb.getSelector(document.getElementById(target)));\n+    jsPlumb.connect({source: source, target: target, scope: scope}, def);\n+  });\n }\n \n jsPlumb.importDefaults({\n-    Connector : [ \"Straight\" ],\n-    DragOptions: {\n-\tcursor: \"pointer\",\n-\tzIndex: 2000\n-    },\n-    HoverClass: \"connector-hover\"\n+  Connector: [\"Straight\"],\n+  DragOptions: {\n+    cursor: \"pointer\",\n+    zIndex: 2000\n+  },\n+  HoverClass: \"connector-hover\"\n });\n \n-jQuery(function($) {\n-    Wicket.Event.subscribe(\"/websocket/message\", function(jqEvent, message) {\n-\tvar val = JSON.parse(decodeURIComponent(message));\n-\tswitch (val.status) {\n-\tcase 'UNKNOWN':\n-\t    unknown(val.target);\n-\t    break;\n-        case 'REACHABLE':\n-\t    enable(val.target);\n-\t    break;\n-\tcase 'UNREACHABLE':\n-\t    disable(val.target);\n-\t    break;\n-        case 'FAILURE':\n-\t    failure(val.target);\n-\t    break;\n-\tdefault:\n-\t    break;\n-\t}\n-    });\n+jQuery(function ($) {\n+  Wicket.Event.subscribe(\"/websocket/message\", function (jqEvent, message) {\n+    var val = JSON.parse(decodeURIComponent(message));\n+    switch (val.status) {\n+      case 'UNKNOWN':\n+        unknown(val.target);\n+        break;\n+      case 'REACHABLE':\n+        enable(val.target);\n+        break;\n+      case 'UNREACHABLE':\n+        disable(val.target);\n+        break;\n+      case 'FAILURE':\n+        failure(val.target);\n+        break;\n+      default:\n+        break;\n+    }\n+  });\n });\n-"},{"sha":"f42367bd686e72fef5e8af9cfb90a6d1435edc10","filename":"client/console/src/main/resources/org/apache/syncope/client/console/panels/TogglePanel.html","status":"added","additions":119,"deletions":0,"changes":119,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FTogglePanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FTogglePanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FTogglePanel.html?ref=9536ffa91da22558067d186c90ecb2358fb9996d","patch":"@@ -0,0 +1,119 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://xmlns.jcp.org/jsf/composite\">\n+  <head><title>toggle menu</title></head>\n+  <body>\n+    <wicket:head>\n+      <script type=\"text/javascript\">\n+        $(document).ready(function () {\n+          $(\"div.defaultTogglePanel\").click(function () {\n+            $(\"div.inactive-topology-menu\").toggle(\"slow\");\n+            $(\"div.inactive-topology-menu\").attr(\"class\", \"topology-menu active-topology-menu\");\n+\n+            $(\"div.active-topology-menu div a#close\").click(function () {\n+              $(\"div.active-topology-menu\").toggle(\"slow\");\n+              $(\"div.active-topology-menu\").attr(\"class\", \"topology-menu inactive-topology-menu\");\n+            });\n+          });\n+        });\n+      </script>\n+\n+      <style type=\"text/css\">\n+        div.topology-menu {\n+          display: none;\n+          border-radius: 5px;\n+          background-color: rgba(0, 0, 0, 0.45);\n+          color: #fff;\n+          position: absolute;\n+          right: 5px;\n+          top: 130px;\n+          width: auto;\n+          min-width: 250px;\n+          z-index: 6000;\n+        }\n+\n+        div.topology-menu ul.menu {\n+          list-style: outside none none;\n+          margin: 0;\n+          padding: 0;\n+          list-style: outside none none;\n+        }\n+\n+        div.topology-menu ul.menu li {\n+          display: block;\n+          line-height: 2em;\n+          vertical-align: middle;\n+          padding: 5px 10px;\n+        }\n+\n+        div.topology-menu ul.menu li a {\n+          position: relative;\n+          padding: 12px 5px 12px 15px;\n+        }\n+\n+        div.topology-menu div.header a:active,\n+        div.topology-menu div.header a:link,\n+        div.topology-menu div.header a:visited,\n+        div.topology-menu ul a:active,\n+        div.topology-menu ul a:link,\n+        div.topology-menu ul a:visited{\n+          color: #fff;\n+        }\n+\n+        div.topology-menu ul li:hover {\n+          color: #fff;\n+          background-color: rgba(0, 0, 0, 0.2);\n+          z-index: 1000;\n+          font-weight: bold;\n+        }\n+\n+        div.topology-menu div.header {\n+          background-color: rgba(0, 0, 0, 0);\n+          position: relative;\n+          font-size: 1.5em;\n+          padding-bottom: 5px;\n+          border-bottom: 1px solid #aaa;\n+        }\n+\n+        div.topology-menu div.header a {\n+          display: inline-table;\n+          padding: 6px 2px 0px 0px;\n+        }\n+\n+        div.topology-menu div.header .close {\n+          text-align: right;\n+        }\n+      </style>\n+    </wicket:head>\n+    <wicket:panel>\n+      <div class=\"topology-menu inactive-topology-menu\">\n+        <div class=\"header\">\n+          <div class=\"label\">\n+            <label wicket:id=\"label\"/>\n+          </div>\n+          <div class=\"close\">\n+            <a wicket:id=\"close\" id=\"close\" href=\"#\"><i class=\"glyphicon glyphicon-remove\"></i></a>\n+          </div>\n+        </div>\n+        <wicket:child/>\n+      </div>\n+      <div wicket:id=\"resource-modal\">[modal]</div>\n+    </wicket:panel>\n+  </body>\n+</html>"},{"sha":"14370cf1f4a91d0b0ce8a24779a145759c408a9d","filename":"client/console/src/main/resources/org/apache/syncope/client/console/topology/Topology.html","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopology.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopology.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopology.html?ref=9536ffa91da22558067d186c90ecb2358fb9996d","patch":"@@ -39,6 +39,8 @@\n     </style>\n   </wicket:head>\n   <wicket:extend>\n+    <span wicket:id=\"toggle\"/>\n+\n     <div id=\"zoom\" class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\">\n       <span wicket:id=\"zoom\">[Actions]</span>\n     </div>"},{"sha":"d1214be2d5466d3016c1bc70175b42625c80aa89","filename":"client/console/src/main/resources/org/apache/syncope/client/console/topology/TopologyNodePanel.html","status":"modified","additions":0,"deletions":38,"changes":38,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyNodePanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyNodePanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyNodePanel.html?ref=9536ffa91da22558067d186c90ecb2358fb9996d","patch":"@@ -19,44 +19,6 @@\n -->\n <html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n   <wicket:panel>\n-    <wicket:container wicket:id=\"actions\" />\n     <p class=\"text-center text-primary\" wicket:id=\"label\"/>\n-\n-    <wicket:fragment wicket:id=\"connectorActions\">\n-      <div class=\"node-action-link btn-group\">\n-        <a href=\"javascript:void(0);\" data-toggle=\"dropdown\">\n-          <i class=\"fa fa-sliders\"></i>\n-        </a>\n-        <ul role=\"menu\" class=\"dropdown-menu\">\n-          <li><a href=\"#\" wicket:id=\"create\"><i class=\"fa fa-plus\"></i></a></li>\n-          <li><a href=\"#\" wicket:id=\"delete\"><i class=\"fa fa-minus\"></i></a></li>\n-          <li><a href=\"#\" wicket:id=\"edit\"><i class=\"fa fa-pencil\"></i></a></li>\n-        </ul>\n-      </div>\n-    </wicket:fragment>\n-\n-    <wicket:fragment wicket:id=\"resourceActions\">\n-      <div class=\"node-action-link btn-group\">\n-        <a href=\"javascript:void(0);\" data-toggle=\"dropdown\">\n-          <i class=\"fa fa-sliders\"></i>\n-        </a>\n-        <ul role=\"menu\" class=\"dropdown-menu\">\n-          <li><a href=\"#\" wicket:id=\"delete\"><i class=\"fa fa-minus\"></i></a></li>\n-          <li><a href=\"#\" wicket:id=\"edit\"><i class=\"fa fa-pencil\"></i></a></li>\n-        </ul>\n-      </div>\n-    </wicket:fragment>\n-\n-    <wicket:fragment wicket:id=\"locationActions\">\n-      <div class=\"node-action-link btn-group\">\n-        <a href=\"javascript:void(0);\" data-toggle=\"dropdown\">\n-          <i class=\"fa fa-sliders\"></i>\n-        </a>\n-        <ul role=\"menu\" class=\"dropdown-menu\">\n-          <li><a href=\"#\" wicket:id=\"create\"><i class=\"fa fa-plus\"></i></a></li>\n-        </ul>\n-      </div>\n-    </wicket:fragment>\n-    <wicket:fragment wicket:id=\"syncopeActions\" />\n   </wicket:panel>\n </html>"},{"sha":"99f3a3a6af9d4669681bc49a8da46cf8804d8a9b","filename":"client/console/src/main/resources/org/apache/syncope/client/console/topology/TopologyTogglePanel.html","status":"added","additions":51,"deletions":0,"changes":51,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyTogglePanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyTogglePanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyTogglePanel.html?ref=9536ffa91da22558067d186c90ecb2358fb9996d","patch":"@@ -0,0 +1,51 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://xmlns.jcp.org/jsf/composite\">\n+  <head><title>toggle menu</title></head>\n+  <body>\n+    <wicket:extend>\n+      <div wicket:id=\"container\" >\n+        <wicket:container wicket:id=\"actions\" />\n+      </div>\n+\n+      <wicket:fragment wicket:id=\"connectorActions\">\n+        <ul class=\"menu\">\n+          <li><i class=\"fa fa-plus\"></i><a href=\"#\" wicket:id=\"create\"><wicket:message key=\"resource.menu.add\"/></a></li>\n+          <li><i class=\"fa fa-minus\"></i><a href=\"#\" wicket:id=\"delete\"><wicket:message key=\"connector.menu.remove\"/></a></li>\n+          <li><i class=\"fa fa-pencil\"></i><a href=\"#\" wicket:id=\"edit\"><wicket:message key=\"connector.menu.edit\"/></a></li>\n+        </ul>\n+      </wicket:fragment>\n+\n+      <wicket:fragment wicket:id=\"resourceActions\">\n+        <ul class=\"menu\">\n+          <li><i class=\"fa fa-minus\"></i><a href=\"#\" wicket:id=\"delete\"><wicket:message key=\"resource.menu.remove\"/></a></li>\n+          <li><i class=\"fa fa-pencil\"></i><a href=\"#\" wicket:id=\"edit\"><wicket:message key=\"resource.menu.edit\"/></a></li>\n+        </ul>\n+      </wicket:fragment>\n+\n+      <wicket:fragment wicket:id=\"locationActions\">\n+        <ul class=\"menu\">\n+          <li><i class=\"fa fa-plus\"></i><a href=\"#\" wicket:id=\"create\"><wicket:message key=\"connector.menu.add\"/></a></li>\n+        </ul>\n+      </wicket:fragment>\n+\n+      <wicket:fragment wicket:id=\"emptyFragment\"></wicket:fragment>\n+    </wicket:extend>\n+  </body>\n+</html>"},{"sha":"8bbd6e717f6a5c2c711104dbdc3f7e14504e48b5","filename":"client/console/src/main/resources/org/apache/syncope/client/console/topology/TopologyTogglePanel.properties","status":"renamed","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyTogglePanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyTogglePanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyTogglePanel.properties?ref=9536ffa91da22558067d186c90ecb2358fb9996d","patch":"@@ -15,6 +15,14 @@\n # specific language governing permissions and limitations\n # under the License.\n connector.new=New connector\n+connector.menu.add=Add new connector\n+connector.menu.remove=Remove connector\n+connector.menu.edit=Edit connector\n+\n resource.new=New resource\n+resource.menu.add=Add new resource\n+resource.menu.remove=Remove resource\n+resource.menu.edit=Edit resource\n+\n connector.edit=Edit connector {0}\n resource.edit=Edit resource {0}","previous_filename":"client/console/src/main/resources/org/apache/syncope/client/console/topology/TopologyNodePanel.properties"},{"sha":"7204af108804aba547d6301332c67ad12e82eedd","filename":"client/console/src/main/resources/org/apache/syncope/client/console/topology/TopologyTogglePanel_it.properties","status":"renamed","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyTogglePanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyTogglePanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyTogglePanel_it.properties?ref=9536ffa91da22558067d186c90ecb2358fb9996d","patch":"@@ -18,3 +18,9 @@ connector.new=Nuovo connettore\n resource.new=Nuova risorsa\n connector.edit=Modifica connettore {0}\n resource.edit=Modifica risorsa {0}\n+connector.menu.add=Aggiungi nuovo connettore\n+connector.menu.remove=Rimuovi connettore\n+connector.menu.edit=Modifica connettore\n+resource.menu.add=Aggiungi nuova risorsa\n+resource.menu.remove=Rimuovi risorsa\n+resource.menu.edit=Modifica risorsa","previous_filename":"client/console/src/main/resources/org/apache/syncope/client/console/topology/TopologyNodePanel_it.properties"},{"sha":"0ee95262352f119503bee8f08d377edf9fe90147","filename":"client/console/src/main/resources/org/apache/syncope/client/console/topology/TopologyTogglePanel_pt_BR.properties","status":"renamed","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyTogglePanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9536ffa91da22558067d186c90ecb2358fb9996d/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyTogglePanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftopology%2FTopologyTogglePanel_pt_BR.properties?ref=9536ffa91da22558067d186c90ecb2358fb9996d","patch":"@@ -18,3 +18,9 @@ connector.new=Novo conector\n resource.new=Novo recurso\n connector.edit=Alterar conector {0}\n resource.edit=Alterar recurso {0}\n+connector.menu.add=Adicionar novo conector\n+connector.menu.remove=Retire conector\n+connector.menu.edit=Alterar conector\n+resource.menu.add=Adicionar novo recurso\n+resource.menu.remove=Retire recurso\n+resource.menu.edit=Alterar recurso","previous_filename":"client/console/src/main/resources/org/apache/syncope/client/console/topology/TopologyNodePanel_pt_BR.properties"}]}
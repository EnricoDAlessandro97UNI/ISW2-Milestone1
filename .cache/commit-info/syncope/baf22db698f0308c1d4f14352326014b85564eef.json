{"sha":"baf22db698f0308c1d4f14352326014b85564eef","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmJhZjIyZGI2OThmMDMwOGMxZDRmMTQzNTIzMjYwMTRiODU1NjRlZWY=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2011-10-14T13:58:48Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2011-10-14T13:58:48Z"},"message":"(Fixes issue 184)\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247139 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"cbb55ee8781f974150930e320138023b492c40f3","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/cbb55ee8781f974150930e320138023b492c40f3"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/baf22db698f0308c1d4f14352326014b85564eef","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/baf22db698f0308c1d4f14352326014b85564eef","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/baf22db698f0308c1d4f14352326014b85564eef","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/baf22db698f0308c1d4f14352326014b85564eef/comments","author":null,"committer":null,"parents":[{"sha":"c67b22d2d71817333a4fdb83f817a67dd87698d1","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c67b22d2d71817333a4fdb83f817a67dd87698d1","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c67b22d2d71817333a4fdb83f817a67dd87698d1"}],"stats":{"total":25,"additions":12,"deletions":13},"files":[{"sha":"23dfad979b2224e7ade97c5b7cee1c9feef2193d","filename":"core/src/main/java/org/syncope/core/workflow/ActivitiUserWorkflowAdapter.java","status":"modified","additions":8,"deletions":9,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/baf22db698f0308c1d4f14352326014b85564eef/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fworkflow%2FActivitiUserWorkflowAdapter.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/baf22db698f0308c1d4f14352326014b85564eef/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fworkflow%2FActivitiUserWorkflowAdapter.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fworkflow%2FActivitiUserWorkflowAdapter.java?ref=baf22db698f0308c1d4f14352326014b85564eef","patch":"@@ -159,15 +159,14 @@ private void doExecuteAction(final SyncopeUser user,\n \n         List<Task> tasks = taskService.createTaskQuery().processInstanceId(\n                 user.getWorkflowId()).list();\n-        if (tasks.isEmpty() || tasks.size() > 1) {\n-            throw new WorkflowException(new RuntimeException(\n-                    \"Expected a single task, found \" + tasks.size()));\n-        }\n-\n-        try {\n-            taskService.complete(tasks.get(0).getId(), variables);\n-        } catch (ActivitiException e) {\n-            throw new WorkflowException(e);\n+        if (tasks.size() != 1) {\n+            LOG.warn(\"Expected a single task, found {}\", tasks.size());\n+        } else {\n+            try {\n+                taskService.complete(tasks.get(0).getId(), variables);\n+            } catch (ActivitiException e) {\n+                throw new WorkflowException(e);\n+            }\n         }\n     }\n "},{"sha":"299f6a5140cde6f20ded5b1d868d3965e91bb292","filename":"core/src/test/resources/content.xml","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/baf22db698f0308c1d4f14352326014b85564eef/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/baf22db698f0308c1d4f14352326014b85564eef/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml?ref=baf22db698f0308c1d4f14352326014b85564eef","patch":"@@ -22,10 +22,10 @@\n     <SyncopeConf confKey=\"connid.bundles.directory\" confValue=\"${bundles.directory}\"/>\n     <SyncopeConf confKey=\"password.cipher.algorithm\" confValue=\"MD5\"/>\n                           \n-    <SyncopeUser id=\"1\" status=\"active\" password=\"5f4dcc3b5aa765d61d8327deb882cf99\" cipherAlgorithm=\"MD5\"/>\n-    <SyncopeUser id=\"2\" status=\"active\" password=\"5f4dcc3b5aa765d61d8327deb882cf99\" cipherAlgorithm=\"MD5\"/>\n-    <SyncopeUser id=\"3\" status=\"active\" password=\"5f4dcc3b5aa765d61d8327deb882cf99\" cipherAlgorithm=\"MD5\"/>\n-    <SyncopeUser id=\"4\" status=\"active\" password=\"5f4dcc3b5aa765d61d8327deb882cf99\" cipherAlgorithm=\"MD5\"/>\n+    <SyncopeUser id=\"1\" workflowId=\"0\" status=\"active\" password=\"5f4dcc3b5aa765d61d8327deb882cf99\" cipherAlgorithm=\"MD5\"/>\n+    <SyncopeUser id=\"2\" workflowId=\"0\" status=\"active\" password=\"5f4dcc3b5aa765d61d8327deb882cf99\" cipherAlgorithm=\"MD5\"/>\n+    <SyncopeUser id=\"3\" workflowId=\"0\" status=\"active\" password=\"5f4dcc3b5aa765d61d8327deb882cf99\" cipherAlgorithm=\"MD5\"/>\n+    <SyncopeUser id=\"4\" workflowId=\"0\" status=\"active\" password=\"5f4dcc3b5aa765d61d8327deb882cf99\" cipherAlgorithm=\"MD5\"/>\n \n     <SyncopeRole id=\"1\" name=\"root\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\" inheritVirtualAttributes=\"0\"/>\n     <SyncopeRole id=\"2\" name=\"child\" parent_id=\"1\" inheritAttributes=\"0\" inheritDerivedAttributes=\"0\" inheritVirtualAttributes=\"0\"/>"}]}
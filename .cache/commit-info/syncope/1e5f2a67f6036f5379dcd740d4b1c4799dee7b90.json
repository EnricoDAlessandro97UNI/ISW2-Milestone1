{"sha":"1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjFlNWYyYTY3ZjYwMzZmNTM3OWRjZDc0MGQ0YjFjNDc5OWRlZTdiOTA=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-01-15T09:57:17Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-01-15T09:57:17Z"},"message":"[SYNCOPE-478] Reverting modifications for SYNCOPE-476 and resolving SYNCOPE-477 by using wicket 6.14.0-SNAPSHOT\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/branches/1_1_X@1558329 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"cad9387bcea92c5594fd0c019596263924aa23e5","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/cad9387bcea92c5594fd0c019596263924aa23e5"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"fcc7059ef14f5c935385c6959e272b2d133e968f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fcc7059ef14f5c935385c6959e272b2d133e968f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/fcc7059ef14f5c935385c6959e272b2d133e968f"}],"stats":{"total":719,"additions":316,"deletions":403},"files":[{"sha":"684f8390f80a8fe3741cebd11ee5b62c89e1456a","filename":"console/src/main/java/org/apache/syncope/console/commons/PageUtils.java","status":"removed","additions":0,"deletions":34,"changes":34,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fcc7059ef14f5c935385c6959e272b2d133e968f/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fcommons%2FPageUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fcc7059ef14f5c935385c6959e272b2d133e968f/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fcommons%2FPageUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fcommons%2FPageUtils.java?ref=fcc7059ef14f5c935385c6959e272b2d133e968f","patch":"@@ -1,34 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.console.commons;\n-\n-import org.apache.wicket.Page;\n-import org.apache.wicket.PageReference;\n-\n-public final class PageUtils {\n-\n-    private PageUtils() {\n-        // private constructor for static utility class\n-    }\n-\n-    public static PageReference getPageReference(final Page page) {\n-        page.internalInitialize();\n-        return page.getPageReference();\n-    }\n-}"},{"sha":"8c69ca96d11e47672e85294badbb0a169209eb70","filename":"console/src/main/java/org/apache/syncope/console/pages/ApprovalModalPage.java","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FApprovalModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FApprovalModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FApprovalModalPage.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -32,7 +32,6 @@\n import org.apache.syncope.common.validation.SyncopeClientCompositeErrorException;\n import org.apache.syncope.console.commons.Constants;\n import org.apache.syncope.console.commons.MapChoiceRenderer;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.console.markup.html.list.AltListView;\n import org.apache.syncope.console.rest.ApprovalRestClient;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n@@ -172,8 +171,8 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new ViewUserModalPage(PageUtils.getPageReference(ApprovalModalPage.this),\n-                                        editUserWin, userRestClient.read(formTO.getUserId())) {\n+                                return new ViewUserModalPage(ApprovalModalPage.this.getPageReference(), editUserWin,\n+                                        userRestClient.read(formTO.getUserId())) {\n \n                                     private static final long serialVersionUID = -2819994749866481607L;\n "},{"sha":"b073bcb19c3c1da7623783d5a0731fc0b36f9a43","filename":"console/src/main/java/org/apache/syncope/console/pages/BasePage.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBasePage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBasePage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBasePage.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -22,7 +22,6 @@\n import org.apache.syncope.console.SyncopeApplication;\n import org.apache.syncope.console.SyncopeSession;\n import org.apache.syncope.console.commons.Constants;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.wicket.Component;\n import org.apache.wicket.Page;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n@@ -117,7 +116,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                     @Override\n                     public Page createPage() {\n-                        return new UserRequestModalPage(PageUtils.getPageReference(BasePage.this), editProfileModalWin,\n+                        return new UserRequestModalPage(BasePage.this.getPageReference(), editProfileModalWin,\n                                 userTO, UserModalPage.Mode.SELF);\n                     }\n                 });"},{"sha":"34acf4359892a0a3f975112841559e7764d7d924","filename":"console/src/main/java/org/apache/syncope/console/pages/BulkActionModalPage.java","status":"modified","additions":9,"deletions":11,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBulkActionModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBulkActionModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBulkActionModalPage.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -24,7 +24,6 @@\n import java.util.Collection;\n import java.util.Iterator;\n import java.util.List;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.BulkAction;\n import org.apache.syncope.common.to.BulkActionRes;\n import org.apache.syncope.console.rest.BaseRestClient;\n@@ -85,8 +84,7 @@ public IModel<T> model(T object) {\n                 dataProvider,\n                 Integer.MAX_VALUE).setVisible(items != null && !items.isEmpty()));\n \n-        final ActionLinksPanel actionPanel = new ActionLinksPanel(\"actions\", new Model(),\n-                PageUtils.getPageReference(getPage()));\n+        final ActionLinksPanel actionPanel = new ActionLinksPanel(\"actions\", new Model(), getPageReference());\n         add(actionPanel);\n \n         for (ActionLink.ActionType action : actions) {\n@@ -141,16 +139,16 @@ public void onClick(final AjaxRequestTarget target) {\n         final Form form = new Form(FORM);\n         add(form);\n \n-        final AjaxButton cancel = new ClearIndicatingAjaxButton(CANCEL, new ResourceModel(CANCEL),\n-                PageUtils.getPageReference(getPage())) {\n+        final AjaxButton cancel =\n+                new ClearIndicatingAjaxButton(CANCEL, new ResourceModel(CANCEL), getPageReference()) {\n \n-                    private static final long serialVersionUID = -958724007591692537L;\n+            private static final long serialVersionUID = -958724007591692537L;\n \n-                    @Override\n-                    protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n-                        window.close(target);\n-                    }\n-                };\n+            @Override\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n+                window.close(target);\n+            }\n+        };\n \n         cancel.setDefaultFormProcessing(false);\n         form.add(cancel);"},{"sha":"403c948ba6cc6af0055ec3a8efda7acc44615237","filename":"console/src/main/java/org/apache/syncope/console/pages/Configuration.java","status":"modified","additions":32,"deletions":35,"changes":67,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -26,7 +26,6 @@\n import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.ConfigurationTO;\n import org.apache.syncope.common.to.LoggerTO;\n import org.apache.syncope.common.to.NotificationTO;\n@@ -138,9 +137,9 @@ public Configuration(final PageParameters parameters) {\n         add(editConfigWin = new ModalWindow(\"editConfigurationWin\"));\n         setupSyncopeConf();\n \n-        add(new PoliciesPanel(\"passwordPoliciesPanel\", PageUtils.getPageReference(getPage()), PolicyType.PASSWORD));\n-        add(new PoliciesPanel(\"accountPoliciesPanel\", PageUtils.getPageReference(getPage()), PolicyType.ACCOUNT));\n-        add(new PoliciesPanel(\"syncPoliciesPanel\", PageUtils.getPageReference(getPage()), PolicyType.SYNC));\n+        add(new PoliciesPanel(\"passwordPoliciesPanel\", getPageReference(), PolicyType.PASSWORD));\n+        add(new PoliciesPanel(\"accountPoliciesPanel\", getPageReference(), PolicyType.ACCOUNT));\n+        add(new PoliciesPanel(\"syncPoliciesPanel\", getPageReference(), PolicyType.SYNC));\n \n         add(createNotificationWin = new ModalWindow(\"createNotificationWin\"));\n         add(editNotificationWin = new ModalWindow(\"editNotificationWin\"));\n@@ -157,27 +156,27 @@ public Configuration(final PageParameters parameters) {\n                 new PropertyModel<WorkflowDefinitionTO>(workflowDef, \"xmlDefinition\"));\n         wfForm.add(workflowDefArea);\n \n-        AjaxButton submit = new ClearIndicatingAjaxButton(APPLY, new Model<String>(getString(SUBMIT)),\n-                PageUtils.getPageReference(getPage())) {\n+        AjaxButton submit =\n+                new ClearIndicatingAjaxButton(APPLY, new Model<String>(getString(SUBMIT)), getPageReference()) {\n \n-                    private static final long serialVersionUID = -958724007591692537L;\n+            private static final long serialVersionUID = -958724007591692537L;\n \n-                    @Override\n-                    protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n-                        try {\n-                            wfRestClient.updateDefinition(workflowDef);\n-                            info(getString(Constants.OPERATION_SUCCEEDED));\n-                        } catch (SyncopeClientCompositeErrorException scee) {\n-                            error(getString(Constants.ERROR) + \":\" + scee.getMessage());\n-                        }\n-                        target.add(feedbackPanel);\n-                    }\n+            @Override\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n+                try {\n+                    wfRestClient.updateDefinition(workflowDef);\n+                    info(getString(Constants.OPERATION_SUCCEEDED));\n+                } catch (SyncopeClientCompositeErrorException scee) {\n+                    error(getString(Constants.ERROR) + \":\" + scee.getMessage());\n+                }\n+                target.add(feedbackPanel);\n+            }\n \n-                    @Override\n-                    protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-                        target.add(feedbackPanel);\n-                    }\n-                };\n+            @Override\n+            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n+                target.add(feedbackPanel);\n+            }\n+        };\n \n         MetaDataRoleAuthorizationStrategy.authorize(submit, ENABLE, xmlRolesReader.getAllAllowedRoles(\"Configuration\",\n                 \"workflowDefUpdate\"));\n@@ -234,8 +233,7 @@ public void populateItem(final Item<ICellPopulator<ConfigurationTO>> cellItem, f\n \n                 final ConfigurationTO configurationTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n-                        PageUtils.getPageReference(getPage()));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -250,8 +248,8 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new ConfigurationModalPage(PageUtils.getPageReference(Configuration.this),\n-                                        editConfigWin, configurationTO, false);\n+                                return new ConfigurationModalPage(Configuration.this.getPageReference(), editConfigWin,\n+                                        configurationTO, false);\n                             }\n                         });\n \n@@ -286,7 +284,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n         final AjaxFallbackDefaultDataTable<ConfigurationTO, String> confTable =\n                 new AjaxFallbackDefaultDataTable<ConfigurationTO, String>(\n-                        \"syncopeconf\", confColumns, new SyncopeConfProvider(), confPaginatorRows);\n+                \"syncopeconf\", confColumns, new SyncopeConfProvider(), confPaginatorRows);\n \n         confContainer = new WebMarkupContainer(\"confContainer\");\n         confContainer.add(confTable);\n@@ -320,8 +318,8 @@ public void onClick(final AjaxRequestTarget target) {\n \n                     @Override\n                     public Page createPage() {\n-                        return new ConfigurationModalPage(PageUtils.getPageReference(Configuration.this),\n-                                createConfigWin, new ConfigurationTO(), true);\n+                        return new ConfigurationModalPage(Configuration.this.getPageReference(), createConfigWin,\n+                                new ConfigurationTO(), true);\n                     }\n                 });\n \n@@ -410,8 +408,7 @@ public void populateItem(final Item<ICellPopulator<NotificationTO>> cellItem, fi\n \n                 final NotificationTO notificationTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n-                        PageUtils.getPageReference(getPage()));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -426,7 +423,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new NotificationModalPage(PageUtils.getPageReference(Configuration.this),\n+                                return new NotificationModalPage(Configuration.this.getPageReference(),\n                                         editNotificationWin, notificationTO, false);\n                             }\n                         });\n@@ -462,7 +459,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n         final AjaxFallbackDefaultDataTable<NotificationTO, String> notificationTable =\n                 new AjaxFallbackDefaultDataTable<NotificationTO, String>(\n-                        \"notificationTable\", notificationCols, new NotificationProvider(), notificationPaginatorRows);\n+                \"notificationTable\", notificationCols, new NotificationProvider(), notificationPaginatorRows);\n \n         notificationContainer = new WebMarkupContainer(\"notificationContainer\");\n         notificationContainer.add(notificationTable);\n@@ -496,8 +493,8 @@ public void onClick(final AjaxRequestTarget target) {\n \n                     @Override\n                     public Page createPage() {\n-                        return new NotificationModalPage(PageUtils.getPageReference(Configuration.this),\n-                                createNotificationWin, new NotificationTO(), true);\n+                        return new NotificationModalPage(Configuration.this.getPageReference(), createNotificationWin,\n+                                new NotificationTO(), true);\n                     }\n                 });\n "},{"sha":"a3a6d4592ee79592f7199adbcff4edad8fa5b195","filename":"console/src/main/java/org/apache/syncope/console/pages/EditUserModalPage.java","status":"modified","additions":2,"deletions":5,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FEditUserModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FEditUserModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FEditUserModalPage.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -21,7 +21,6 @@\n import java.util.ArrayList;\n import org.apache.commons.lang3.SerializationUtils;\n import org.apache.syncope.common.mod.UserMod;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.UserTO;\n import org.apache.syncope.common.util.AttributableOperations;\n import org.apache.syncope.console.commons.StatusBean;\n@@ -61,8 +60,7 @@ public EditUserModalPage(final PageReference pageRef, final ModalWindow window,\n         if (userTO.getId() != 0) {\n             form.addOrReplace(new Label(\"pwdChangeInfo\", new ResourceModel(\"pwdChangeInfo\")));\n \n-            statusPanel = new StatusPanel(\"statuspanel\", userTO, new ArrayList<StatusBean>(),\n-                    PageUtils.getPageReference(getPage()));\n+            statusPanel = new StatusPanel(\"statuspanel\", userTO, new ArrayList<StatusBean>(), getPageReference());\n             statusPanel.setOutputMarkupId(true);\n             MetaDataRoleAuthorizationStrategy.authorize(\n                     statusPanel, RENDER, xmlRolesReader.getAllAllowedRoles(\"Resources\", \"getConnectorObject\"));\n@@ -73,8 +71,7 @@ public EditUserModalPage(final PageReference pageRef, final ModalWindow window,\n             form.addOrReplace(new ResourcesPanel.Builder(\"resources\").attributableTO(userTO).statusPanel(\n                     statusPanel).build());\n \n-            form.addOrReplace(new MembershipsPanel(\"memberships\", userTO, false, statusPanel,\n-                    PageUtils.getPageReference(getPage())));\n+            form.addOrReplace(new MembershipsPanel(\"memberships\", userTO, false, statusPanel, getPageReference()));\n         }\n     }\n "},{"sha":"3b4c9d94c1a643b5836495b16c27b338ba84392e","filename":"console/src/main/java/org/apache/syncope/console/pages/Login.java","status":"modified","additions":15,"deletions":17,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FLogin.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FLogin.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FLogin.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -27,7 +27,6 @@\n import org.apache.http.impl.client.DefaultHttpClient;\n import org.apache.http.util.EntityUtils;\n import org.apache.syncope.client.http.PreemptiveAuthHttpRequestFactory;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.services.EntitlementService;\n import org.apache.syncope.common.services.UserRequestService;\n import org.apache.syncope.common.to.EntitlementTO;\n@@ -150,27 +149,26 @@ public void onSubmit() {\n         if (isSelfRegistrationAllowed()) {\n             selfRegFrag = new Fragment(\"selfRegistration\", \"selfRegAllowed\", this);\n \n-            final AjaxLink<Void> selfRegLink = new ClearIndicatingAjaxLink<Void>(\"link\",\n-                    PageUtils.getPageReference(getPage())) {\n+            final AjaxLink<Void> selfRegLink = new ClearIndicatingAjaxLink<Void>(\"link\", getPageReference()) {\n \n-                        private static final long serialVersionUID = -7978723352517770644L;\n+                private static final long serialVersionUID = -7978723352517770644L;\n \n-                        @Override\n-                        protected void onClickInternal(final AjaxRequestTarget target) {\n-                            editProfileModalWin.setPageCreator(new ModalWindow.PageCreator() {\n-\n-                                private static final long serialVersionUID = -7834632442532690940L;\n+                @Override\n+                protected void onClickInternal(final AjaxRequestTarget target) {\n+                    editProfileModalWin.setPageCreator(new ModalWindow.PageCreator() {\n \n-                                @Override\n-                                public Page createPage() {\n-                                    return new UserRequestModalPage(PageUtils.getPageReference(Login.this),\n-                                            editProfileModalWin, new UserTO(), UserModalPage.Mode.SELF);\n-                                }\n-                            });\n+                        private static final long serialVersionUID = -7834632442532690940L;\n \n-                            editProfileModalWin.show(target);\n+                        @Override\n+                        public Page createPage() {\n+                            return new UserRequestModalPage(Login.this.getPageReference(), editProfileModalWin,\n+                                    new UserTO(), UserModalPage.Mode.SELF);\n                         }\n-                    };\n+                    });\n+\n+                    editProfileModalWin.show(target);\n+                }\n+            };\n             selfRegLink.add(new Label(\"linkTitle\", getString(\"selfRegistration\")));\n \n             Panel panel = new LinkPanel(\"selfRegistration\", new ResourceModel(\"selfRegistration\"));"},{"sha":"09d013622059fa6d7dd9886c9c2c3a70a51caf8f","filename":"console/src/main/java/org/apache/syncope/console/pages/NotificationModalPage.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -23,7 +23,6 @@\n import java.util.Collections;\n import java.util.EnumSet;\n import java.util.List;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.EventCategoryTO;\n import org.apache.syncope.common.to.NotificationTO;\n import org.apache.syncope.common.types.AttributableType;\n@@ -152,7 +151,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n                 \"eventSelection\",\n                 loggerRestClient.listEvents(),\n                 new PropertyModel<List<String>>(notificationTO, \"events\"),\n-                PageUtils.getPageReference(getPage()),\n+                getPageReference(),\n                 \"Notification\") {\n \n             private static final long serialVersionUID = 6429053774964787735L;"},{"sha":"ecb53460def492381ad752d5bbf9bf25b31e5fae","filename":"console/src/main/java/org/apache/syncope/console/pages/PolicyModalPage.java","status":"modified","additions":7,"deletions":6,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FPolicyModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FPolicyModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FPolicyModalPage.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -23,7 +23,6 @@\n import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.AccountPolicyTO;\n import org.apache.syncope.common.to.PasswordPolicyTO;\n import org.apache.syncope.common.to.PolicyTO;\n@@ -37,6 +36,7 @@\n import org.apache.syncope.console.commons.Constants;\n import org.apache.syncope.console.pages.panels.PolicyBeanPanel;\n import org.apache.syncope.console.rest.PolicyRestClient;\n+import org.apache.syncope.console.rest.ResourceRestClient;\n import org.apache.syncope.console.rest.RoleRestClient;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLinksPanel;\n@@ -79,6 +79,9 @@\n     @SpringBean\n     private PolicyRestClient policyRestClient;\n \n+    @SpringBean\n+    private ResourceRestClient resourceRestClient;\n+\n     @SpringBean\n     private RoleRestClient roleRestClient;\n \n@@ -165,8 +168,7 @@ public void populateItem(final Item<ICellPopulator<String>> cellItem, final Stri\n \n                 final String resource = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n-                        PageUtils.getPageReference(getPage()));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n                 panel.add(new ActionLink() {\n \n                     private static final long serialVersionUID = -3722207913631435501L;\n@@ -179,7 +181,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new ResourceModalPage(PageUtils.getPageReference(PolicyModalPage.this),\n+                                return new ResourceModalPage(PolicyModalPage.this.getPageReference(),\n                                         mwindow, resourceRestClient.read(resource), false);\n                             }\n                         });\n@@ -238,8 +240,7 @@ public void populateItem(final Item<ICellPopulator<RoleTO>> cellItem, final Stri\n \n                 final RoleTO role = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n-                        PageUtils.getPageReference(getPage()));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n                 panel.add(new ActionLink() {\n \n                     private static final long serialVersionUID = -3722207913631435501L;"},{"sha":"548de35acf07da922bfb3ee8f47ab7350394c349","filename":"console/src/main/java/org/apache/syncope/console/pages/ReportModalPage.java","status":"modified","additions":22,"deletions":24,"changes":46,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportModalPage.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -22,7 +22,6 @@\n import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.report.AbstractReportletConf;\n import org.apache.syncope.common.report.ReportletConf;\n import org.apache.syncope.common.to.ReportExecTO;\n@@ -116,7 +115,7 @@ public ReportModalPage(final ModalWindow window, final ReportTO reportTO, final\n         this.reportTO = reportTO;\n \n         form = new Form<ReportTO>(FORM);\n-        form.setModel(new CompoundPropertyModel<ReportTO>(reportTO));\n+        form.setModel(new CompoundPropertyModel(reportTO));\n         add(form);\n \n         setupProfile();\n@@ -127,7 +126,7 @@ public ReportModalPage(final ModalWindow window, final ReportTO reportTO, final\n         form.add(crontab);\n \n         final AjaxButton submit =\n-                new ClearIndicatingAjaxButton(APPLY, new ResourceModel(APPLY), PageUtils.getPageReference(getPage())) {\n+                new ClearIndicatingAjaxButton(APPLY, new ResourceModel(APPLY), getPageReference()) {\n \n                     private static final long serialVersionUID = -958724007591692537L;\n \n@@ -171,8 +170,8 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n \n         form.add(submit);\n \n-        final AjaxButton cancel = new ClearIndicatingAjaxButton(CANCEL, new ResourceModel(CANCEL),\n-                PageUtils.getPageReference(getPage())) {\n+        final AjaxButton cancel =\n+                new ClearIndicatingAjaxButton(CANCEL, new ResourceModel(CANCEL), getPageReference()) {\n \n                     private static final long serialVersionUID = -958724007591692537L;\n \n@@ -264,13 +263,13 @@ public String getIdValue(final ReportletConf object, int index) {\n                     }\n                 }) {\n \n-                    private static final long serialVersionUID = 4022366881854379834L;\n+            private static final long serialVersionUID = 4022366881854379834L;\n \n-                    @Override\n-                    protected CharSequence getDefaultChoice(final String selectedValue) {\n-                        return null;\n-                    }\n-                };\n+            @Override\n+            protected CharSequence getDefaultChoice(String selectedValue) {\n+                return null;\n+            }\n+        };\n \n         reportlets.setNullValid(true);\n         profile.add(reportlets);\n@@ -284,7 +283,7 @@ protected void onUpdate(AjaxRequestTarget target) {\n             }\n         });\n \n-        profile.add(new AjaxLink<Void>(ADD_BUTTON_ID) {\n+        profile.add(new AjaxLink(ADD_BUTTON_ID) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n@@ -299,14 +298,14 @@ public Page createPage() {\n                         modalReportletConfOldName = null;\n                         modalReportletConf = null;\n                         return new ReportletConfModalPage(null, reportletConfWin,\n-                                PageUtils.getPageReference(ReportModalPage.this));\n+                                ReportModalPage.this.getPageReference());\n                     }\n                 });\n                 reportletConfWin.show(target);\n             }\n         });\n \n-        profile.add(new AjaxLink<Void>(EDIT_BUTTON_ID) {\n+        profile.add(new AjaxLink(EDIT_BUTTON_ID) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n@@ -323,7 +322,7 @@ public Page createPage() {\n                             modalReportletConfOldName = reportlets.getModelObject().getName();\n                             modalReportletConf = null;\n                             return new ReportletConfModalPage(reportlets.getModelObject(), reportletConfWin,\n-                                    PageUtils.getPageReference(ReportModalPage.this));\n+                                    ReportModalPage.this.getPageReference());\n                         }\n                     });\n                     reportletConfWin.show(target);\n@@ -333,7 +332,7 @@ public Page createPage() {\n             }\n         });\n \n-        profile.add(new AjaxLink<Void>(REMOVE_BUTTON_ID) {\n+        profile.add(new AjaxLink(REMOVE_BUTTON_ID) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n@@ -346,6 +345,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n             @Override\n             protected void updateAjaxAttributes(final AjaxRequestAttributes attributes) {\n+\n                 if (reportlets.getModelObject() != null) {\n \n                     super.updateAjaxAttributes(attributes);\n@@ -364,7 +364,7 @@ public CharSequence getPrecondition(final Component component) {\n             }\n         });\n \n-        profile.add(new AjaxLink<Void>(UP_BUTTON_ID) {\n+        profile.add(new AjaxLink(UP_BUTTON_ID) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n@@ -377,7 +377,7 @@ public void onClick(final AjaxRequestTarget target) {\n             }\n         });\n \n-        profile.add(new AjaxLink<Void>(DOWN_BUTTON_ID) {\n+        profile.add(new AjaxLink(DOWN_BUTTON_ID) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n@@ -452,8 +452,7 @@ public ActionLinksPanel getActions(final String componentId, final IModel<Report\n \n                 final ReportExecTO taskExecutionTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n-                        PageUtils.getPageReference(getPage()));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -488,7 +487,7 @@ public void onClick(final AjaxRequestTarget target) {\n                             public Page createPage() {\n                                 ReportModalPage.this.exportExecId = model.getObject().getId();\n                                 return new ReportExecResultDownloadModalPage(reportExecExportWin,\n-                                        PageUtils.getPageReference(ReportModalPage.this));\n+                                        ReportModalPage.this.getPageReference());\n                             }\n                         });\n                         reportExecExportWin.show(target);\n@@ -522,8 +521,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n             @Override\n             public Component getHeader(final String componentId) {\n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(),\n-                        PageUtils.getPageReference(getPage()));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(), getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -538,7 +536,7 @@ public void onClick(final AjaxRequestTarget target) {\n                             reportTO.setExecutions(currentReportTO.getExecutions());\n                             final AjaxFallbackDefaultDataTable currentTable =\n                                     new AjaxFallbackDefaultDataTable(\"executionsTable\", columns,\n-                                            new ReportExecutionsProvider(reportTO), 10);\n+                                    new ReportExecutionsProvider(reportTO), 10);\n                             currentTable.setOutputMarkupId(true);\n                             target.add(currentTable);\n                             executions.addOrReplace(currentTable);"},{"sha":"f0e0647be40b2346477b56ca53d56c7bdeb893e6","filename":"console/src/main/java/org/apache/syncope/console/pages/Reports.java","status":"modified","additions":6,"deletions":9,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReports.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReports.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReports.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -23,7 +23,6 @@\n import java.util.Iterator;\n import java.util.List;\n import java.util.Map;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.EventCategoryTO;\n import org.apache.syncope.common.to.ReportTO;\n import org.apache.syncope.common.types.AuditElements.Result;\n@@ -133,8 +132,7 @@ public ActionLinksPanel getActions(final String componentId, final IModel<Report\n \n                 final ReportTO reportTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, PageUtils.getPageReference(\n-                        getPage()));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -149,7 +147,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new ReportModalPage(window, reportTO, PageUtils.getPageReference(Reports.this));\n+                                return new ReportModalPage(window, reportTO, Reports.this.getPageReference());\n                             }\n                         });\n \n@@ -197,8 +195,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n             @Override\n             public Component getHeader(final String componentId) {\n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(),\n-                        PageUtils.getPageReference(getPage()));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(), getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -249,7 +246,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n         paginatorForm.add(rowsChooser);\n         add(paginatorForm);\n \n-        AjaxLink createLink = new ClearIndicatingAjaxLink(\"createLink\", PageUtils.getPageReference(getPage())) {\n+        AjaxLink createLink = new ClearIndicatingAjaxLink(\"createLink\", getPageReference()) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n@@ -261,7 +258,7 @@ protected void onClickInternal(final AjaxRequestTarget target) {\n \n                     @Override\n                     public Page createPage() {\n-                        return new ReportModalPage(window, new ReportTO(), PageUtils.getPageReference(Reports.this));\n+                        return new ReportModalPage(window, new ReportTO(), Reports.this.getPageReference());\n                     }\n                 });\n \n@@ -302,7 +299,7 @@ private void setupAudit() {\n         final ListModel<String> model = new ListModel<String>(new ArrayList<String>(events));\n \n         form.add(new LoggerCategoryPanel(\n-                \"events\", loggerRestClient.listEvents(), model, PageUtils.getPageReference(getPage()), \"Reports\") {\n+                \"events\", loggerRestClient.listEvents(), model, getPageReference(), \"Reports\") {\n \n                     private static final long serialVersionUID = 6113164334533550277L;\n "},{"sha":"37aacc5dcd6f28584e407971aea1c33d3812caa6","filename":"console/src/main/java/org/apache/syncope/console/pages/Resources.java","status":"modified","additions":56,"deletions":62,"changes":118,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -23,7 +23,6 @@\n import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.ConnInstanceTO;\n import org.apache.syncope.common.to.ResourceTO;\n import org.apache.syncope.common.validation.SyncopeClientCompositeErrorException;\n@@ -107,8 +106,7 @@ public Resources(final PageParameters parameters) {\n         add(createConnectorWin = new ModalWindow(\"createConnectorWin\"));\n         add(editConnectorWin = new ModalWindow(\"editConnectorWin\"));\n \n-        AjaxLink<Void> reloadLink = new ClearIndicatingAjaxLink<Void>(\"reloadLink\", PageUtils.\n-                getPageReference(getPage())) {\n+        AjaxLink<Void> reloadLink = new ClearIndicatingAjaxLink<Void>(\"reloadLink\", getPageReference()) {\n \n             private static final long serialVersionUID = 3109256773218160485L;\n \n@@ -161,47 +159,47 @@ private void setupResources() {\n         columns.add(new AbstractColumn<ResourceTO, String>(\n                 new StringResourceModel(\"connector\", this, null, \"connector\")) {\n \n-            private static final long serialVersionUID = 8263694778917279290L;\n+                    private static final long serialVersionUID = 8263694778917279290L;\n \n-            @Override\n-            public void populateItem(final Item<ICellPopulator<ResourceTO>> cellItem, final String componentId,\n-                    final IModel<ResourceTO> rowModel) {\n+                    @Override\n+                    public void populateItem(final Item<ICellPopulator<ResourceTO>> cellItem, final String componentId,\n+                            final IModel<ResourceTO> rowModel) {\n \n-                final AjaxLink<String> editLink =\n-                        new ClearIndicatingAjaxLink<String>(\"link\", PageUtils.getPageReference(getPage())) {\n+                        final AjaxLink<String> editLink =\n+                        new ClearIndicatingAjaxLink<String>(\"link\", getPageReference()) {\n \n-                    private static final long serialVersionUID = -7978723352517770644L;\n+                            private static final long serialVersionUID = -7978723352517770644L;\n \n-                    @Override\n-                    protected void onClickInternal(final AjaxRequestTarget target) {\n+                            @Override\n+                            protected void onClickInternal(final AjaxRequestTarget target) {\n \n-                        editConnectorWin.setPageCreator(new ModalWindow.PageCreator() {\n+                                editConnectorWin.setPageCreator(new ModalWindow.PageCreator() {\n \n-                            private static final long serialVersionUID = -7834632442532690940L;\n+                                    private static final long serialVersionUID = -7834632442532690940L;\n \n-                            @Override\n-                            public Page createPage() {\n-                                return new ConnectorModalPage(PageUtils.getPageReference(Resources.this),\n-                                        editConnectorWin,\n-                                        connectorRestClient.read(rowModel.getObject().getConnectorId()));\n-                            }\n-                        });\n+                                    @Override\n+                                    public Page createPage() {\n+                                        return new ConnectorModalPage(Resources.this.getPageReference(),\n+                                                editConnectorWin,\n+                                                connectorRestClient.read(rowModel.getObject().getConnectorId()));\n+                                    }\n+                                });\n \n-                        editConnectorWin.show(target);\n-                    }\n-                };\n-                editLink.add(new Label(\"linkTitle\", rowModel.getObject().getConnectorDisplayName()));\n+                                editConnectorWin.show(target);\n+                            }\n+                        };\n+                        editLink.add(new Label(\"linkTitle\", rowModel.getObject().getConnectorDisplayName()));\n \n-                LinkPanel editConnPanel = new LinkPanel(componentId);\n-                editConnPanel.add(editLink);\n+                        LinkPanel editConnPanel = new LinkPanel(componentId);\n+                        editConnPanel.add(editLink);\n \n-                cellItem.add(editConnPanel);\n+                        cellItem.add(editConnPanel);\n \n-                MetaDataRoleAuthorizationStrategy.authorize(editConnPanel, ENABLE, xmlRolesReader.\n-                        getAllAllowedRoles(\n-                        \"Connectors\", \"read\"));\n-            }\n-        });\n+                        MetaDataRoleAuthorizationStrategy.authorize(editConnPanel, ENABLE, xmlRolesReader.\n+                                getAllAllowedRoles(\n+                                        \"Connectors\", \"read\"));\n+                    }\n+                });\n \n         columns.add(new PropertyColumn<ResourceTO, String>(new StringResourceModel(\n                 \"propagationPrimary\", this, null), \"propagationPrimary\", \"propagationPrimary\"));\n@@ -223,8 +221,7 @@ public void populateItem(final Item<ICellPopulator<ResourceTO>> cellItem, final\n \n                 final ResourceTO resourceTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, PageUtils.getPageReference(\n-                        getPage()));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n                 panel.add(new ActionLink() {\n \n                     private static final long serialVersionUID = -3722207913631435501L;\n@@ -237,7 +234,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new ResourceModalPage(PageUtils.getPageReference(Resources.this),\n+                                return new ResourceModalPage(Resources.this.getPageReference(),\n                                         editResourceWin, resourceTO, false);\n                             }\n                         });\n@@ -275,11 +272,11 @@ public void onClick(final AjaxRequestTarget target) {\n                 columns,\n                 (ISortableDataProvider<ResourceTO, String>) new ResourcesProvider(),\n                 resourcePaginatorRows,\n-                Arrays.asList(new ActionLink.ActionType[] {ActionLink.ActionType.DELETE}),\n+                Arrays.asList(new ActionLink.ActionType[] { ActionLink.ActionType.DELETE }),\n                 resourceRestClient,\n                 \"name\",\n                 \"Resources\",\n-                PageUtils.getPageReference(getPage()));\n+                getPageReference());\n \n         resourceContainer = new WebMarkupContainer(\"resourceContainer\");\n         resourceContainer.add(table);\n@@ -301,26 +298,26 @@ public void onClick(final AjaxRequestTarget target) {\n         editResourceWin.setCookieName(\"edit-res-modal\");\n \n         AjaxLink<Void> createResourceLink =\n-                new ClearIndicatingAjaxLink<Void>(\"createResourceLink\", PageUtils.getPageReference(getPage())) {\n+                new ClearIndicatingAjaxLink<Void>(\"createResourceLink\", getPageReference()) {\n \n-            private static final long serialVersionUID = -7978723352517770644L;\n+                    private static final long serialVersionUID = -7978723352517770644L;\n \n-            @Override\n-            protected void onClickInternal(final AjaxRequestTarget target) {\n-                createResourceWin.setPageCreator(new ModalWindow.PageCreator() {\n+                    @Override\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n+                        createResourceWin.setPageCreator(new ModalWindow.PageCreator() {\n \n-                    private static final long serialVersionUID = -7834632442532690940L;\n+                            private static final long serialVersionUID = -7834632442532690940L;\n \n-                    @Override\n-                    public Page createPage() {\n-                        return new ResourceModalPage(PageUtils.getPageReference(Resources.this),\n-                                editResourceWin, new ResourceTO(), true);\n-                    }\n-                });\n+                            @Override\n+                            public Page createPage() {\n+                                return new ResourceModalPage(Resources.this.getPageReference(),\n+                                        editResourceWin, new ResourceTO(), true);\n+                            }\n+                        });\n \n-                createResourceWin.show(target);\n-            }\n-        };\n+                        createResourceWin.show(target);\n+                    }\n+                };\n \n         MetaDataRoleAuthorizationStrategy.authorize(createResourceLink, ENABLE, xmlRolesReader.getAllAllowedRoles(\n                 \"Resources\", \"create\"));\n@@ -378,8 +375,7 @@ public void populateItem(final Item<ICellPopulator<ConnInstanceTO>> cellItem, fi\n \n                 final ConnInstanceTO connectorTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, PageUtils.getPageReference(\n-                        getPage()));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -393,8 +389,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new ConnectorModalPage(PageUtils.getPageReference(Resources.this),\n-                                        editConnectorWin,\n+                                return new ConnectorModalPage(Resources.this.getPageReference(), editConnectorWin,\n                                         connectorTO);\n                             }\n                         });\n@@ -432,11 +427,11 @@ public void onClick(final AjaxRequestTarget target) {\n                 columns,\n                 (ISortableDataProvider<ConnInstanceTO, String>) new ConnectorsProvider(),\n                 connectorPaginatorRows,\n-                Arrays.asList(new ActionLink.ActionType[] {ActionLink.ActionType.DELETE}),\n+                Arrays.asList(new ActionLink.ActionType[] { ActionLink.ActionType.DELETE }),\n                 connectorRestClient,\n                 \"id\",\n                 \"Connectors\",\n-                PageUtils.getPageReference(getPage()));\n+                getPageReference());\n \n         connectorContainer = new WebMarkupContainer(\"connectorContainer\");\n         connectorContainer.add(table);\n@@ -460,8 +455,7 @@ public void onClick(final AjaxRequestTarget target) {\n         editConnectorWin.setInitialWidth(WIN_WIDTH);\n         editConnectorWin.setCookieName(\"edit-conn-modal\");\n \n-        AjaxLink createConnectorLink = new ClearIndicatingAjaxLink(\"createConnectorLink\", PageUtils.getPageReference(\n-                getPage())) {\n+        AjaxLink createConnectorLink = new ClearIndicatingAjaxLink(\"createConnectorLink\", getPageReference()) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n@@ -473,7 +467,7 @@ protected void onClickInternal(final AjaxRequestTarget target) {\n \n                     @Override\n                     public Page createPage() {\n-                        ConnectorModalPage form = new ConnectorModalPage(PageUtils.getPageReference(Resources.this),\n+                        ConnectorModalPage form = new ConnectorModalPage(Resources.this.getPageReference(),\n                                 editConnectorWin, new ConnInstanceTO());\n                         return form;\n                     }"},{"sha":"cf16c8c0c6472a6bacf87d1c5e41bed58987757b","filename":"console/src/main/java/org/apache/syncope/console/pages/RoleModalPage.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -22,7 +22,6 @@\n import java.util.List;\n import org.apache.commons.lang3.SerializationUtils;\n import org.apache.syncope.common.mod.RoleMod;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.RoleTO;\n import org.apache.syncope.common.util.AttributableOperations;\n import org.apache.syncope.console.commons.Constants;\n@@ -96,7 +95,7 @@ public RoleModalPage(final PageReference pageRef, final ModalWindow window, fina\n         form.setModel(new CompoundPropertyModel<RoleTO>(roleTO));\n \n         this.rolePanel = new RolePanel.Builder(\"rolePanel\").form(form).roleTO(roleTO).roleModalPageMode(mode)\n-                .pageRef(PageUtils.getPageReference(getPage())).build();\n+                .pageRef(getPageReference()).build();\n         form.add(rolePanel);\n \n         final AjaxButton submit = new IndicatingAjaxButton(SUBMIT, new ResourceModel(SUBMIT)) {"},{"sha":"b691073a29f848192965f4820a4fc7a794d38975","filename":"console/src/main/java/org/apache/syncope/console/pages/Roles.java","status":"modified","additions":19,"deletions":21,"changes":40,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoles.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoles.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoles.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -18,7 +18,6 @@\n  */\n package org.apache.syncope.console.pages;\n \n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.search.NodeCond;\n import org.apache.syncope.console.commons.Constants;\n import org.apache.syncope.console.pages.panels.AbstractSearchResultPanel;\n@@ -68,8 +67,8 @@ public Roles(final PageParameters parameters) {\n         treePanel.setOutputMarkupId(true);\n         add(treePanel);\n \n-        final RoleSummaryPanel summaryPanel = new RoleSummaryPanel.Builder(\"summaryPanel\").\n-                window(editRoleWin).callerPageRef(PageUtils.getPageReference(Roles.this)).build();\n+        final RoleSummaryPanel summaryPanel = new RoleSummaryPanel.Builder(\"summaryPanel\")\n+                .window(editRoleWin).callerPageRef(Roles.this.getPageReference()).build();\n         add(summaryPanel);\n \n         editRoleWin.setWindowClosedCallback(new ModalWindow.WindowClosedCallback() {\n@@ -96,7 +95,7 @@ public void onClose(final AjaxRequestTarget target) {\n         });\n \n         final AbstractSearchResultPanel searchResult =\n-                new RoleSearchResultPanel(\"searchResult\", true, null, PageUtils.getPageReference(getPage()), restClient);\n+                new RoleSearchResultPanel(\"searchResult\", true, null, getPageReference(), restClient);\n         add(searchResult);\n \n         final Form searchForm = new Form(\"searchForm\");\n@@ -105,27 +104,26 @@ public void onClose(final AjaxRequestTarget target) {\n         final RoleSearchPanel searchPanel = new RoleSearchPanel.Builder(\"searchPanel\").build();\n         searchForm.add(searchPanel);\n \n-        searchForm.add(new ClearIndicatingAjaxButton(\"search\", new ResourceModel(\"search\"),\n-                PageUtils.getPageReference(getPage())) {\n+        searchForm.add(new ClearIndicatingAjaxButton(\"search\", new ResourceModel(\"search\"), getPageReference()) {\n \n-                    private static final long serialVersionUID = -958724007591692537L;\n+            private static final long serialVersionUID = -958724007591692537L;\n \n-                    @Override\n-                    protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n-                        final NodeCond searchCond = searchPanel.buildSearchCond();\n-                        LOG.debug(\"Node condition {}\", searchCond);\n+            @Override\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n+                final NodeCond searchCond = searchPanel.buildSearchCond();\n+                LOG.debug(\"Node condition {}\", searchCond);\n \n-                        doSearch(target, searchCond, searchResult);\n+                doSearch(target, searchCond, searchResult);\n \n-                        Session.get().getFeedbackMessages().clear();\n-                        target.add(searchPanel.getSearchFeedback());\n-                    }\n+                Session.get().getFeedbackMessages().clear();\n+                target.add(searchPanel.getSearchFeedback());\n+            }\n \n-                    @Override\n-                    protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-                        target.add(searchPanel.getSearchFeedback());\n-                    }\n-                });\n+            @Override\n+            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n+                target.add(searchPanel.getSearchFeedback());\n+            }\n+        });\n     }\n \n     private void doSearch(final AjaxRequestTarget target, final NodeCond searchCond,\n@@ -147,7 +145,7 @@ public void onEvent(final IEvent<?> event) {\n             final TreeNodeClickUpdate update = (TreeNodeClickUpdate) event.getPayload();\n \n             final RoleSummaryPanel summaryPanel = new RoleSummaryPanel.Builder(\"summaryPanel\")\n-                    .window(editRoleWin).callerPageRef(PageUtils.getPageReference(Roles.this))\n+                    .window(editRoleWin).callerPageRef(Roles.this.getPageReference())\n                     .selectedNodeId(update.getSelectedNodeId()).build();\n \n             addOrReplace(summaryPanel);"},{"sha":"88c3ace5a67d7f42307d9e134c67286884a48a72","filename":"console/src/main/java/org/apache/syncope/console/pages/Schema.java","status":"modified","additions":34,"deletions":37,"changes":71,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchema.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchema.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchema.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -29,7 +29,6 @@\n import java.util.List;\n import java.util.Map;\n import org.apache.commons.lang3.StringUtils;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.AbstractSchemaTO;\n import org.apache.syncope.common.types.AttributableType;\n import org.apache.syncope.common.types.SchemaType;\n@@ -79,7 +78,7 @@\n /**\n  * Schema WebPage.\n  */\n-@SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n+@SuppressWarnings({\"unchecked\", \"rawtypes\"})\n public class Schema extends BasePage {\n \n     private static final long serialVersionUID = 8091922398776299403L;\n@@ -89,41 +88,41 @@ public class Schema extends BasePage {\n         private static final long serialVersionUID = 3109256773218160485L;\n \n         {\n-            put(SchemaType.NORMAL, Arrays.asList(new String[] { \"name\", \"type\",\n-                \"mandatoryCondition\", \"uniqueConstraint\", \"multivalue\", \"readonly\" }));\n-            put(SchemaType.DERIVED, Arrays.asList(new String[] { \"name\", \"expression\" }));\n-            put(SchemaType.VIRTUAL, Arrays.asList(new String[] { \"name\", \"readonly\" }));\n+            put(SchemaType.NORMAL, Arrays.asList(new String[] {\"name\", \"type\",\n+                \"mandatoryCondition\", \"uniqueConstraint\", \"multivalue\", \"readonly\"}));\n+            put(SchemaType.DERIVED, Arrays.asList(new String[] {\"name\", \"expression\"}));\n+            put(SchemaType.VIRTUAL, Arrays.asList(new String[] {\"name\", \"readonly\"}));\n         }\n     };\n \n     private static final Map<Map.Entry<AttributableType, SchemaType>, String> PAGINATOR_ROWS_KEYS =\n             new HashMap<Map.Entry<AttributableType, SchemaType>, String>() {\n \n-                private static final long serialVersionUID = 3109256773218160485L;\n-\n-                {\n-                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.USER, SchemaType.NORMAL),\n-                            Constants.PREF_USER_SCHEMA_PAGINATOR_ROWS);\n-                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.USER, SchemaType.DERIVED),\n-                            Constants.PREF_USER_DER_SCHEMA_PAGINATOR_ROWS);\n-                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.USER, SchemaType.VIRTUAL),\n-                            Constants.PREF_USER_VIR_SCHEMA_PAGINATOR_ROWS);\n-                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.MEMBERSHIP, SchemaType.NORMAL),\n-                            Constants.PREF_MEMBERSHIP_SCHEMA_PAGINATOR_ROWS);\n-                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.MEMBERSHIP,\n-                                    SchemaType.DERIVED),\n-                            Constants.PREF_MEMBERSHIP_DER_SCHEMA_PAGINATOR_ROWS);\n-                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.MEMBERSHIP,\n-                                    SchemaType.VIRTUAL),\n-                            Constants.PREF_MEMBERSHIP_VIR_SCHEMA_PAGINATOR_ROWS);\n-                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.ROLE, SchemaType.NORMAL),\n-                            Constants.PREF_ROLE_SCHEMA_PAGINATOR_ROWS);\n-                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.ROLE, SchemaType.DERIVED),\n-                            Constants.PREF_ROLE_DER_SCHEMA_PAGINATOR_ROWS);\n-                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.ROLE, SchemaType.VIRTUAL),\n-                            Constants.PREF_ROLE_VIR_SCHEMA_PAGINATOR_ROWS);\n-                }\n-            };\n+        private static final long serialVersionUID = 3109256773218160485L;\n+\n+        {\n+            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.USER, SchemaType.NORMAL),\n+                    Constants.PREF_USER_SCHEMA_PAGINATOR_ROWS);\n+            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.USER, SchemaType.DERIVED),\n+                    Constants.PREF_USER_DER_SCHEMA_PAGINATOR_ROWS);\n+            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.USER, SchemaType.VIRTUAL),\n+                    Constants.PREF_USER_VIR_SCHEMA_PAGINATOR_ROWS);\n+            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.MEMBERSHIP, SchemaType.NORMAL),\n+                    Constants.PREF_MEMBERSHIP_SCHEMA_PAGINATOR_ROWS);\n+            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.MEMBERSHIP,\n+                    SchemaType.DERIVED),\n+                    Constants.PREF_MEMBERSHIP_DER_SCHEMA_PAGINATOR_ROWS);\n+            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.MEMBERSHIP,\n+                    SchemaType.VIRTUAL),\n+                    Constants.PREF_MEMBERSHIP_VIR_SCHEMA_PAGINATOR_ROWS);\n+            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.ROLE, SchemaType.NORMAL),\n+                    Constants.PREF_ROLE_SCHEMA_PAGINATOR_ROWS);\n+            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.ROLE, SchemaType.DERIVED),\n+                    Constants.PREF_ROLE_DER_SCHEMA_PAGINATOR_ROWS);\n+            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.ROLE, SchemaType.VIRTUAL),\n+                    Constants.PREF_ROLE_VIR_SCHEMA_PAGINATOR_ROWS);\n+        }\n+    };\n \n     private static final int WIN_WIDTH = 600;\n \n@@ -236,8 +235,7 @@ public void populateItem(final Item<ICellPopulator<AbstractSchemaTO>> item, fina\n \n                 final AbstractSchemaTO schemaTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n-                        PageUtils.getPageReference(getPage()));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.addWithRoles(new ActionLink() {\n \n@@ -254,8 +252,7 @@ public Page createPage() {\n                                 AbstractSchemaModalPage page = SchemaModalPageFactory.getSchemaModalPage(\n                                         attributableType, schemaType);\n \n-                                page.setSchemaModalPage(PageUtils.getPageReference(Schema.this),\n-                                        modalWindow, schemaTO, false);\n+                                page.setSchemaModalPage(Schema.this.getPageReference(), modalWindow, schemaTO, false);\n \n                                 return page;\n                             }\n@@ -331,7 +328,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n     private <T extends AbstractSchemaModalPage> AjaxLink<Void> getCreateSchemaLink(final ModalWindow modalWindow,\n             final AttributableType attrType, final SchemaType schemaType, final String winLinkName) {\n \n-        AjaxLink<Void> link = new ClearIndicatingAjaxLink<Void>(winLinkName, PageUtils.getPageReference(getPage())) {\n+        AjaxLink<Void> link = new ClearIndicatingAjaxLink<Void>(winLinkName, getPageReference()) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n@@ -344,7 +341,7 @@ protected void onClickInternal(final AjaxRequestTarget target) {\n                     @Override\n                     public Page createPage() {\n                         T page = SchemaModalPageFactory.getSchemaModalPage(attrType, schemaType);\n-                        page.setSchemaModalPage(PageUtils.getPageReference(Schema.this), modalWindow, null, true);\n+                        page.setSchemaModalPage(Schema.this.getPageReference(), modalWindow, null, true);\n \n                         return page;\n                     }"},{"sha":"5ce95bdc94585fdcebd1af4475ba26d1275c3158","filename":"console/src/main/java/org/apache/syncope/console/pages/TaskModalPage.java","status":"modified","additions":3,"deletions":6,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -22,7 +22,6 @@\n import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.NotificationTaskTO;\n import org.apache.syncope.common.to.PropagationTaskTO;\n import org.apache.syncope.common.to.SchedTaskTO;\n@@ -118,8 +117,7 @@ public ActionLinksPanel getActions(final String componentId, final IModel<TaskEx\n \n                 final TaskExecTO taskExecutionTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n-                        PageUtils.getPageReference(getPage()));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -166,8 +164,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n             @Override\n             public Component getHeader(final String componentId) {\n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(),\n-                        PageUtils.getPageReference(getPage()));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(), getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -178,7 +175,7 @@ public void onClick(final AjaxRequestTarget target) {\n                         if (target != null) {\n                             final AjaxFallbackDefaultDataTable currentTable =\n                                     new AjaxFallbackDefaultDataTable(\"executionsTable\", columns,\n-                                            new TaskExecutionsProvider(getCurrentTaskExecution(taskTO)), paginatorRows);\n+                                    new TaskExecutionsProvider(getCurrentTaskExecution(taskTO)), paginatorRows);\n                             currentTable.setOutputMarkupId(true);\n                             target.add(currentTable);\n                             executions.addOrReplace(currentTable);"},{"sha":"4c8b9c9ec6252efbaca0212a5ea844a99dff9c47","filename":"console/src/main/java/org/apache/syncope/console/pages/Tasks.java","status":"modified","additions":7,"deletions":8,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTasks.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTasks.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTasks.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -24,7 +24,6 @@\n import java.util.Comparator;\n import java.util.Iterator;\n import java.util.List;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.SchedTaskTO;\n import org.apache.syncope.common.to.TaskExecTO;\n import org.apache.syncope.common.to.TaskTO;\n@@ -55,12 +54,12 @@ public class Tasks extends BasePage {\n     public Tasks() {\n         super();\n \n-        add(new PropagationTasks(\"propagation\", PageUtils.getPageReference(getPage())));\n-        add(new NotificationTasks(\"notification\", PageUtils.getPageReference(getPage())));\n-        add(new SchedTasks(\"sched\", PageUtils.getPageReference(getPage())));\n-        add(new SyncTasks(\"sync\", PageUtils.getPageReference(getPage())));\n+        add(new PropagationTasks(\"propagation\", getPageReference()));\n+        add(new NotificationTasks(\"notification\", getPageReference()));\n+        add(new SchedTasks(\"sched\", getPageReference()));\n+        add(new SyncTasks(\"sync\", getPageReference()));\n \n-        PageUtils.getPageReference(getPage());\n+        getPageReference();\n     }\n \n     @Override\n@@ -209,8 +208,8 @@ public static AjaxDataTablePanel<TaskTO, String> updateTaskTable(\n                 columns,\n                 (ISortableDataProvider<TaskTO, String>) dataProvider,\n                 dataProvider.paginatorRows,\n-                Arrays.asList(new ActionLink.ActionType[] {\n-                    ActionLink.ActionType.DELETE, ActionLink.ActionType.DRYRUN, ActionLink.ActionType.EXECUTE }),\n+                Arrays.asList(new ActionLink.ActionType[]{\n+                    ActionLink.ActionType.DELETE, ActionLink.ActionType.DRYRUN, ActionLink.ActionType.EXECUTE}),\n                 restClient,\n                 \"id\",\n                 TASKS,"},{"sha":"bb0ddbd31fa3bf14136628e650bfbc05dbc6753b","filename":"console/src/main/java/org/apache/syncope/console/pages/Todo.java","status":"modified","additions":7,"deletions":11,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTodo.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTodo.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTodo.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -22,7 +22,6 @@\n import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.UserRequestTO;\n import org.apache.syncope.common.to.WorkflowFormTO;\n import org.apache.syncope.common.types.UserRequestType;\n@@ -133,8 +132,7 @@ public void populateItem(final Item<ICellPopulator<WorkflowFormTO>> cellItem, fi\n \n                 final WorkflowFormTO formTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n-                        PageUtils.getPageReference(getPage()));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -165,8 +163,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new ApprovalModalPage(PageUtils.getPageReference(Todo.this),\n-                                        editApprovalWin, formTO);\n+                                return new ApprovalModalPage(Todo.this.getPageReference(), editApprovalWin, formTO);\n                             }\n                         });\n \n@@ -247,8 +244,7 @@ public void populateItem(final Item<ICellPopulator<UserRequestTO>> cellItem, fin\n \n                 final UserRequestTO request = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n-                        PageUtils.getPageReference(getPage()));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -262,8 +258,8 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new UserRequestModalPage(PageUtils.getPageReference(Todo.this),\n-                                        editUserRequestWin, model.getObject(), UserModalPage.Mode.ADMIN);\n+                                return new UserRequestModalPage(Todo.this.getPageReference(), editUserRequestWin,\n+                                        model.getObject(), UserModalPage.Mode.ADMIN);\n                             }\n                         });\n \n@@ -380,7 +376,7 @@ public Iterator<WorkflowFormTO> iterator(final long first, final long count) {\n \n             Collections.sort(list, comparator);\n \n-            return list.subList((int) first, (int) first + (int) count).iterator();\n+            return list.subList((int)first, (int)first + (int)count).iterator();\n         }\n \n         @Override\n@@ -422,7 +418,7 @@ public Iterator<UserRequestTO> iterator(final long first, final long count) {\n \n             Collections.sort(list, comparator);\n \n-            return list.subList((int) first, (int) first + (int) count).iterator();\n+            return list.subList((int)first, (int)first + (int)count).iterator();\n         }\n \n         @Override"},{"sha":"2ecaa4549c664cb4af99851b00c768206016ac9c","filename":"console/src/main/java/org/apache/syncope/console/pages/UserModalPage.java","status":"modified","additions":1,"deletions":3,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -18,7 +18,6 @@\n  */\n package org.apache.syncope.console.pages;\n \n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.UserTO;\n import org.apache.syncope.console.commons.Constants;\n import org.apache.syncope.console.pages.panels.AttributesPanel;\n@@ -143,8 +142,7 @@ protected Form setupEditPanel() {\n         //--------------------------------\n         // Roles panel\n         //--------------------------------\n-        form.add(new MembershipsPanel(\"memberships\", userTO, mode == Mode.TEMPLATE, null,\n-                PageUtils.getPageReference(getPage())));\n+        form.add(new MembershipsPanel(\"memberships\", userTO, mode == Mode.TEMPLATE, null, getPageReference()));\n         //--------------------------------\n \n         final AjaxButton submit = getOnSubmit();"},{"sha":"43af3421b900273845042a0a4a66bbace2f25ee1","filename":"console/src/main/java/org/apache/syncope/console/pages/Users.java","status":"modified","additions":33,"deletions":36,"changes":69,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUsers.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUsers.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUsers.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -18,7 +18,6 @@\n  */\n package org.apache.syncope.console.pages;\n \n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.search.NodeCond;\n import org.apache.syncope.common.to.UserTO;\n import org.apache.syncope.console.commons.Constants;\n@@ -63,36 +62,35 @@ public Users(final PageParameters parameters) {\n         editModalWin.setCookieName(\"edit-modal\");\n         add(editModalWin);\n \n-        final AbstractSearchResultPanel searchResult = new UserSearchResultPanel(\"searchResult\", true, null,\n-                PageUtils.getPageReference(getPage()), restClient);\n+        final AbstractSearchResultPanel searchResult =\n+                new UserSearchResultPanel(\"searchResult\", true, null, getPageReference(), restClient);\n         add(searchResult);\n \n         final AbstractSearchResultPanel listResult =\n-                new UserSearchResultPanel(\"listResult\", false, null, PageUtils.getPageReference(getPage()), restClient);\n+                new UserSearchResultPanel(\"listResult\", false, null, getPageReference(), restClient);\n         add(listResult);\n \n-        // create new user\n-        final AjaxLink<Void> createLink = new ClearIndicatingAjaxLink<Void>(\"createLink\",\n-                PageUtils.getPageReference(getPage())) {\n \n-                    private static final long serialVersionUID = -7978723352517770644L;\n+        // create new user\n+        final AjaxLink<Void> createLink = new ClearIndicatingAjaxLink<Void>(\"createLink\", getPageReference()) {\n \n-                    @Override\n-                    protected void onClickInternal(final AjaxRequestTarget target) {\n-                        editModalWin.setPageCreator(new ModalWindow.PageCreator() {\n+            private static final long serialVersionUID = -7978723352517770644L;\n \n-                            private static final long serialVersionUID = -7834632442532690940L;\n+            @Override\n+            protected void onClickInternal(final AjaxRequestTarget target) {\n+                editModalWin.setPageCreator(new ModalWindow.PageCreator() {\n \n-                            @Override\n-                            public Page createPage() {\n-                                return new EditUserModalPage(PageUtils.getPageReference(Users.this), editModalWin,\n-                                        new UserTO());\n-                            }\n-                        });\n+                    private static final long serialVersionUID = -7834632442532690940L;\n \n-                        editModalWin.show(target);\n+                    @Override\n+                    public Page createPage() {\n+                        return new EditUserModalPage(Users.this.getPageReference(), editModalWin, new UserTO());\n                     }\n-                };\n+                });\n+\n+                editModalWin.show(target);\n+            }\n+        };\n         MetaDataRoleAuthorizationStrategy.authorize(\n                 createLink, ENABLE, xmlRolesReader.getAllAllowedRoles(\"Users\", \"create\"));\n         add(createLink);\n@@ -106,28 +104,27 @@ public Page createPage() {\n         searchForm.add(searchPanel);\n \n         final ClearIndicatingAjaxButton searchButton =\n-                new ClearIndicatingAjaxButton(\"search\", new ResourceModel(\"search\"),\n-                        PageUtils.getPageReference(getPage())) {\n+                new ClearIndicatingAjaxButton(\"search\", new ResourceModel(\"search\"), getPageReference()) {\n \n-                    private static final long serialVersionUID = -958724007591692537L;\n+            private static final long serialVersionUID = -958724007591692537L;\n \n-                    @Override\n-                    protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n-                        final NodeCond searchCond = searchPanel.buildSearchCond();\n-                        LOG.debug(\"Node condition \" + searchCond);\n+            @Override\n+            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n+                final NodeCond searchCond = searchPanel.buildSearchCond();\n+                LOG.debug(\"Node condition \" + searchCond);\n \n-                        doSearch(target, searchCond, searchResult);\n+                doSearch(target, searchCond, searchResult);\n \n-                        Session.get().getFeedbackMessages().clear();\n-                        target.add(searchPanel.getSearchFeedback());\n-                    }\n+                Session.get().getFeedbackMessages().clear();\n+                target.add(searchPanel.getSearchFeedback());\n+            }\n \n-                    @Override\n-                    protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n+            @Override\n+            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n \n-                        target.add(searchPanel.getSearchFeedback());\n-                    }\n-                };\n+                target.add(searchPanel.getSearchFeedback());\n+            }\n+        };\n \n         searchForm.add(searchButton);\n         searchForm.setDefaultButton(searchButton);"},{"sha":"eaf099b7ebeeebfb2ddfa5b6ea6c918e857dccdc","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/AbstractSearchResultPanel.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAbstractSearchResultPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAbstractSearchResultPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAbstractSearchResultPanel.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -20,7 +20,6 @@\n \n import java.util.Collection;\n import java.util.List;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.search.NodeCond;\n import org.apache.syncope.common.to.AbstractAttributableTO;\n import org.apache.syncope.console.commons.AttributableDataProvider;\n@@ -266,7 +265,7 @@ private void updateResultTable(final boolean create, final int rows) {\n                 restClient,\n                 \"id\",\n                 getPageId(),\n-                PageUtils.getPageReference(page));\n+                page.getPageReference());\n \n         resultTable.setCurrentPage(currentPage);\n "},{"sha":"35d964c881b18afcd8db5ffd2a8e51a188517049","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/MembershipsPanel.java","status":"modified","additions":44,"deletions":46,"changes":90,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FMembershipsPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FMembershipsPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FMembershipsPanel.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -23,7 +23,6 @@\n import java.util.List;\n import java.util.Set;\n import javax.swing.tree.DefaultMutableTreeNode;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.MembershipTO;\n import org.apache.syncope.common.to.RoleTO;\n import org.apache.syncope.common.to.UserTO;\n@@ -123,7 +122,7 @@ protected void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                PageReference pageRef = PageUtils.getPageReference(getPage());\n+                                PageReference pageRef = getPage().getPageReference();\n \n                                 for (MembershipTO membTO : membView.getList()) {\n                                     if (membTO.getRoleId() == roleTO.getId()) {\n@@ -152,68 +151,67 @@ public Page createPage() {\n         membView = new ListView<MembershipTO>(\"memberships\",\n                 new PropertyModel<List<? extends MembershipTO>>(userTO, \"memberships\")) {\n \n-                    private static final long serialVersionUID = 9101744072914090143L;\n+            private static final long serialVersionUID = 9101744072914090143L;\n \n-                    @Override\n-                    protected void populateItem(final ListItem<MembershipTO> item) {\n-                        final MembershipTO membershipTO = (MembershipTO) item.getDefaultModelObject();\n+            @Override\n+            protected void populateItem(final ListItem<MembershipTO> item) {\n+                final MembershipTO membershipTO = (MembershipTO) item.getDefaultModelObject();\n \n-                        item.add(new Label(\"roleId\", new Model<Long>(membershipTO.getRoleId())));\n-                        item.add(new Label(\"roleName\", new Model<String>(membershipTO.getRoleName())));\n+                item.add(new Label(\"roleId\", new Model<Long>(membershipTO.getRoleId())));\n+                item.add(new Label(\"roleName\", new Model<String>(membershipTO.getRoleName())));\n \n-                        AjaxLink editLink = new ClearIndicatingAjaxLink(\"editLink\", pageRef) {\n+                AjaxLink editLink = new ClearIndicatingAjaxLink(\"editLink\", pageRef) {\n \n-                            private static final long serialVersionUID = -7978723352517770644L;\n+                    private static final long serialVersionUID = -7978723352517770644L;\n \n-                            @Override\n-                            protected void onClickInternal(final AjaxRequestTarget target) {\n-                                membWin.setPageCreator(new ModalWindow.PageCreator() {\n+                    @Override\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n+                        membWin.setPageCreator(new ModalWindow.PageCreator() {\n \n-                                    private static final long serialVersionUID = -7834632442532690940L;\n+                            private static final long serialVersionUID = -7834632442532690940L;\n \n-                                    @Override\n-                                    public Page createPage() {\n-                                        return new MembershipModalPage(PageUtils.getPageReference(getPage()), membWin,\n-                                                membershipTO, templateMode);\n+                            @Override\n+                            public Page createPage() {\n+                                return new MembershipModalPage(getPage().getPageReference(), membWin,\n+                                        membershipTO, templateMode);\n \n-                                    }\n-                                });\n-                                membWin.show(target);\n                             }\n-                        };\n-                        item.add(editLink);\n+                        });\n+                        membWin.show(target);\n+                    }\n+                };\n+                item.add(editLink);\n \n-                        AjaxLink deleteLink = new IndicatingDeleteOnConfirmAjaxLink(\"deleteLink\", pageRef) {\n+                AjaxLink deleteLink = new IndicatingDeleteOnConfirmAjaxLink(\"deleteLink\", pageRef) {\n \n-                            private static final long serialVersionUID = -7978723352517770644L;\n+                    private static final long serialVersionUID = -7978723352517770644L;\n \n-                            @Override\n-                            protected void onClickInternal(final AjaxRequestTarget target) {\n-                                userTO.removeMembership(membershipTO);\n-                                target.add(membershipsContainer);\n+                    @Override\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n+                        userTO.removeMembership(membershipTO);\n+                        target.add(membershipsContainer);\n \n-                                RoleTO roleTO = RoleUtils.findRole(roleTreeBuilder, membershipTO.getRoleId());\n-                                Set<String> resourcesToRemove = roleTO == null\n+                        RoleTO roleTO = RoleUtils.findRole(roleTreeBuilder, membershipTO.getRoleId());\n+                        Set<String> resourcesToRemove = roleTO == null\n                                 ? Collections.<String>emptySet() : roleTO.getResources();\n-                                if (!resourcesToRemove.isEmpty()) {\n-                                    Set<String> resourcesAssignedViaMembership = new HashSet<String>();\n-                                    for (MembershipTO membTO : userTO.getMemberships()) {\n-                                        roleTO = RoleUtils.findRole(roleTreeBuilder, membTO.getRoleId());\n-                                        if (roleTO != null) {\n-                                            resourcesAssignedViaMembership.addAll(roleTO.getResources());\n-                                        }\n-                                    }\n-                                    resourcesToRemove.removeAll(resourcesAssignedViaMembership);\n-                                    resourcesToRemove.removeAll(userTO.getResources());\n+                        if (!resourcesToRemove.isEmpty()) {\n+                            Set<String> resourcesAssignedViaMembership = new HashSet<String>();\n+                            for (MembershipTO membTO : userTO.getMemberships()) {\n+                                roleTO = RoleUtils.findRole(roleTreeBuilder, membTO.getRoleId());\n+                                if (roleTO != null) {\n+                                    resourcesAssignedViaMembership.addAll(roleTO.getResources());\n                                 }\n-\n-                                StatusUtils.update(statusPanel, target, Collections.<String>emptySet(),\n-                                        resourcesToRemove);\n                             }\n-                        };\n-                        item.add(deleteLink);\n+                            resourcesToRemove.removeAll(resourcesAssignedViaMembership);\n+                            resourcesToRemove.removeAll(userTO.getResources());\n+                        }\n+\n+                        StatusUtils.update(statusPanel, target, Collections.<String>emptySet(), resourcesToRemove);\n                     }\n                 };\n+                item.add(deleteLink);\n+            }\n+        };\n \n         membershipsContainer.add(membView);\n "},{"sha":"a36497f848e1ef0e066dd20e2b9033ae5abd796c","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/RoleDetailsPanel.java","status":"modified","additions":3,"deletions":4,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -18,7 +18,6 @@\n  */\n package org.apache.syncope.console.pages.panels;\n \n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.RoleTO;\n import org.apache.syncope.common.to.UserTO;\n import org.apache.syncope.common.types.AttributableType;\n@@ -102,7 +101,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                         @Override\n                         public Page createPage() {\n-                            return new RoleSelectModalPage(PageUtils.getPageReference(getPage()), parentSelectWin,\n+                            return new RoleSelectModalPage(getPage().getPageReference(), parentSelectWin,\n                                     ParentSelectPayload.class);\n                         }\n                     });\n@@ -159,7 +158,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                     @Override\n                     public Page createPage() {\n-                        return new UserOwnerSelectModalPage(PageUtils.getPageReference(getPage()), userOwnerSelectWin);\n+                        return new UserOwnerSelectModalPage(getPage().getPageReference(), userOwnerSelectWin);\n                     }\n                 });\n                 userOwnerSelectWin.show(target);\n@@ -195,7 +194,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                     @Override\n                     public Page createPage() {\n-                        return new RoleSelectModalPage(PageUtils.getPageReference(getPage()), parentSelectWin,\n+                        return new RoleSelectModalPage(getPage().getPageReference(), parentSelectWin,\n                                 RoleOwnerSelectPayload.class);\n                     }\n                 });"},{"sha":"38bb6a77876e321a462cfe25fa90a8e08676f638","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/RoleSearchResultPanel.java","status":"modified","additions":4,"deletions":7,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleSearchResultPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleSearchResultPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleSearchResultPanel.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -22,7 +22,6 @@\n import java.util.Collection;\n import java.util.Collections;\n import java.util.List;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.search.NodeCond;\n import org.apache.syncope.common.to.AbstractAttributableTO;\n import org.apache.syncope.common.to.RoleTO;\n@@ -66,7 +65,7 @@ protected List<IColumn<AbstractAttributableTO, String>> getColumns() {\n         final List<IColumn<AbstractAttributableTO, String>> columns =\n                 new ArrayList<IColumn<AbstractAttributableTO, String>>();\n \n-        final String[] colnames = { \"id\", \"name\", \"entitlements\" };\n+        final String[] colnames = {\"id\", \"name\", \"entitlements\"};\n         for (String name : colnames) {\n             columns.add(\n                     new PropertyColumn<AbstractAttributableTO, String>(new ResourceModel(name, name), name, name));\n@@ -85,8 +84,7 @@ public String getCssClass() {\n             public void populateItem(final Item<ICellPopulator<AbstractAttributableTO>> cellItem,\n                     final String componentId, final IModel<AbstractAttributableTO> model) {\n \n-                final ActionLinksPanel panel =\n-                        new ActionLinksPanel(componentId, model, PageUtils.getPageReference(page));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, page.getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -100,8 +98,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new StatusModalPage(PageUtils.getPageReference(page),\n-                                        statusmodal, model.getObject());\n+                                return new StatusModalPage(page.getPageReference(), statusmodal, model.getObject());\n                             }\n                         });\n \n@@ -122,7 +119,7 @@ public void onClick(final AjaxRequestTarget target) {\n                             @Override\n                             public Page createPage() {\n                                 return new RoleModalPage(\n-                                        PageUtils.getPageReference(page), editmodal, (RoleTO) model.getObject());\n+                                        page.getPageReference(), editmodal, (RoleTO) model.getObject());\n                             }\n                         });\n "},{"sha":"28787d5376b2e65828712d41f8181941eb36851c","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/UserSearchResultPanel.java","status":"modified","additions":5,"deletions":9,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FUserSearchResultPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FUserSearchResultPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FUserSearchResultPanel.java?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -24,7 +24,6 @@\n import java.util.Collection;\n import java.util.Date;\n import java.util.List;\n-import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.search.NodeCond;\n import org.apache.syncope.common.to.AbstractAttributableTO;\n import org.apache.syncope.common.to.UserTO;\n@@ -140,8 +139,7 @@ protected List<IColumn<AbstractAttributableTO, String>> getColumns() {\n             @Override\n             public ActionLinksPanel getActions(final String componentId, final IModel<AbstractAttributableTO> model) {\n \n-                final ActionLinksPanel panel =\n-                        new ActionLinksPanel(componentId, model, PageUtils.getPageReference(page));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, page.getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -155,8 +153,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new StatusModalPage(PageUtils.getPageReference(page),\n-                                        statusmodal, model.getObject());\n+                                return new StatusModalPage(page.getPageReference(), statusmodal, model.getObject());\n                             }\n                         });\n \n@@ -178,7 +175,7 @@ public void onClick(final AjaxRequestTarget target) {\n                             public Page createPage() {\n                                 // SYNCOPE-294: re-read userTO before edit\n                                 UserTO userTO = ((UserRestClient) restClient).read(model.getObject().getId());\n-                                return new EditUserModalPage(PageUtils.getPageReference(page), editmodal, userTO);\n+                                return new EditUserModalPage(page.getPageReference(), editmodal, userTO);\n                             }\n                         });\n \n@@ -220,8 +217,7 @@ public Page createPage() {\n \n             @Override\n             public ActionLinksPanel getHeader(final String componentId) {\n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(),\n-                        PageUtils.getPageReference(page));\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(), page.getPageReference());\n \n                 panel.add(new ActionLink() {\n \n@@ -235,7 +231,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new DisplayAttributesModalPage(PageUtils.getPageReference(page), displaymodal,\n+                                return new DisplayAttributesModalPage(page.getPageReference(), displaymodal,\n                                         schemaNames, dSchemaNames, vSchemaNames);\n                             }\n                         });"},{"sha":"32993bef26900d0e6671843fb4c150d21d0aa79b","filename":"pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e5f2a67f6036f5379dcd740d4b1c4799dee7b90/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=1e5f2a67f6036f5379dcd740d4b1c4799dee7b90","patch":"@@ -330,7 +330,7 @@ under the License.\n \n     <cocoon.version>3.0.0-alpha-3</cocoon.version>\n \n-    <wicket.version>6.13.0</wicket.version>\n+    <wicket.version>6.14.0-SNAPSHOT</wicket.version>\n \n     <groovy.version>2.2.1</groovy.version>\n "}]}
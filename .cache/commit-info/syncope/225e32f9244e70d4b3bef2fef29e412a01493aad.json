{"sha":"225e32f9244e70d4b3bef2fef29e412a01493aad","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjIyNWUzMmY5MjQ0ZTcwZDRiM2JlZjJmZWYyOWU0MTJhMDE0OTNhYWQ=","commit":{"author":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2019-06-04T15:10:35Z"},"committer":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2019-06-04T15:20:53Z"},"message":"[SYNCOPE-1476] fixes enum schema creation, final solution improving AbstractMultiPanel","tree":{"sha":"ffb7b6c71f28fa3ae90f458b8ca26575e0f01cc7","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/ffb7b6c71f28fa3ae90f458b8ca26575e0f01cc7"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/225e32f9244e70d4b3bef2fef29e412a01493aad","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/225e32f9244e70d4b3bef2fef29e412a01493aad","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/225e32f9244e70d4b3bef2fef29e412a01493aad","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/225e32f9244e70d4b3bef2fef29e412a01493aad/comments","author":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"committer":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ef1d8f7a4f940eac3d93e24bf6cba40204eba5f5"}],"stats":{"total":25,"additions":11,"deletions":14},"files":[{"sha":"e4eb01a5e06bf2a9abc896e122f9983203c1124a","filename":"client/idrepo/common-ui/src/main/java/org/apache/syncope/client/ui/commons/markup/html/form/AbstractMultiPanel.java","status":"modified","additions":6,"deletions":1,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/225e32f9244e70d4b3bef2fef29e412a01493aad/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fui%2Fcommons%2Fmarkup%2Fhtml%2Fform%2FAbstractMultiPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/225e32f9244e70d4b3bef2fef29e412a01493aad/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fui%2Fcommons%2Fmarkup%2Fhtml%2Fform%2FAbstractMultiPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fui%2Fcommons%2Fmarkup%2Fhtml%2Fform%2FAbstractMultiPanel.java?ref=225e32f9244e70d4b3bef2fef29e412a01493aad","patch":"@@ -59,7 +59,6 @@ public AbstractMultiPanel(\n \n         form = new Form<>(\"innerForm\");\n         form.setDefaultButton(null);\n-        form.setMultiPart(true);\n         container.add(form);\n         // -----------------------\n \n@@ -73,6 +72,12 @@ public AbstractMultiPanel(\n         }\n     }\n \n+    // SYNCOPE-1476\n+    public AbstractMultiPanel<INNER> setFormAsMultipart(final boolean multipart) {\n+        form.setMultiPart(multipart);\n+        return this;\n+    }\n+\n     private Fragment getNoDataFragment(final IModel<List<INNER>> model, final String label) {\n         final Fragment fragment = new Fragment(\"content\", \"noDataFragment\", AbstractMultiPanel.this);\n         fragment.add(new Label(\"field-label\", new ResourceModel(label, label)));"},{"sha":"ff20636f44560035b665a868d34ff834efe16ef2","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/SchemaTypePanel.java","status":"modified","additions":0,"deletions":3,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/225e32f9244e70d4b3bef2fef29e412a01493aad/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FSchemaTypePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/225e32f9244e70d4b3bef2fef29e412a01493aad/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FSchemaTypePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FSchemaTypePanel.java?ref=225e32f9244e70d4b3bef2fef29e412a01493aad","patch":"@@ -84,9 +84,6 @@ public SchemaTypePanel(final String id, final SchemaType schemaType, final PageR\n         super(id, true, pageRef);\n         this.schemaType = schemaType;\n \n-        // SYNCOPE-1476\n-        setFormAsMultipart(true);\n-\n         disableCheckBoxes();\n \n         try {"},{"sha":"9a339e1de49311d446cdb9bbca90806159a2b247","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wicket/markup/html/bootstrap/dialog/BaseModal.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/225e32f9244e70d4b3bef2fef29e412a01493aad/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fbootstrap%2Fdialog%2FBaseModal.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/225e32f9244e70d4b3bef2fef29e412a01493aad/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fbootstrap%2Fdialog%2FBaseModal.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fbootstrap%2Fdialog%2FBaseModal.java?ref=225e32f9244e70d4b3bef2fef29e412a01493aad","patch":"@@ -127,8 +127,7 @@ public BaseModal<T> setFormModel(final IModel<T> model) {\n         return this;\n     }\n \n-    // SYNCOPE-1476\n-    public BaseModal<T> setFormMultipart(final boolean multipart) {\n+    public BaseModal<T> setFormAsMultipart(final boolean multipart) {\n         form.setMultiPart(multipart);\n         return this;\n     }"},{"sha":"286260fc5f1e0af6a29e2f8489309ebc9f451b6e","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wizards/WizardMgtPanel.java","status":"modified","additions":0,"deletions":6,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/225e32f9244e70d4b3bef2fef29e412a01493aad/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FWizardMgtPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/225e32f9244e70d4b3bef2fef29e412a01493aad/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FWizardMgtPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FWizardMgtPanel.java?ref=225e32f9244e70d4b3bef2fef29e412a01493aad","patch":"@@ -353,12 +353,6 @@ public WizardMgtPanel<T> setFooterVisibility(final boolean footerVisibility) {\n         return this;\n     }\n \n-    // SYNCOPE-1476\n-    public WizardMgtPanel<T> setFormAsMultipart(final boolean multipart) {\n-        this.modal.setFormMultipart(multipart);\n-        return this;\n-    }\n-\n     /**\n      * Set window close callback for the given modal.\n      *"},{"sha":"db02d277a08c414edfb1f481861b8d74a766ade2","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wizards/any/PlainAttrs.java","status":"modified","additions":4,"deletions":2,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/225e32f9244e70d4b3bef2fef29e412a01493aad/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FPlainAttrs.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/225e32f9244e70d4b3bef2fef29e412a01493aad/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FPlainAttrs.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FPlainAttrs.java?ref=225e32f9244e70d4b3bef2fef29e412a01493aad","patch":"@@ -442,6 +442,7 @@ public void setObject(final Serializable object) {\n                             }\n                         });\n                     } else {\n+                        // SYNCOPE-1476 set form as multipart to properly manage membership attributes\n                         panel = new MultiFieldPanel.Builder<>(new ListModel<String>() {\n \n                             private static final long serialVersionUID = -1765231556272935141L;\n@@ -452,7 +453,7 @@ public List<String> getObject() {\n                             }\n                         }).build(\"panel\",\n                                 attrTO.getSchema(),\n-                                FieldPanel.class.cast(panel));\n+                                FieldPanel.class.cast(panel)).setFormAsMultipart(true);\n                         // SYNCOPE-1215 the entire multifield panel must be readonly, not only its field\n                         ((MultiFieldPanel) panel).setReadOnly(schemas.get(attrTO.getSchema()).isReadonly());\n                     }\n@@ -490,11 +491,12 @@ protected void populateItem(final ListItem<Attr> item) {\n \n                         FieldPanel.class.cast(panel).setNewModel(attrTO.getValues());\n                     } else {\n+                        // SYNCOPE-1476 set form as multipart to properly manage membership attributes\n                         panel = new MultiFieldPanel.Builder<>(\n                                 new PropertyModel<>(attrTO, \"values\")).build(\n                                 \"panel\",\n                                 attrTO.getSchema(),\n-                                FieldPanel.class.cast(panel));\n+                                FieldPanel.class.cast(panel)).setFormAsMultipart(true);\n                         // SYNCOPE-1215 the entire multifield panel must be readonly, not only its field\n                         ((MultiFieldPanel) panel).setReadOnly(schemas.get(attrTO.getSchema()).isReadonly());\n                     }"}]}
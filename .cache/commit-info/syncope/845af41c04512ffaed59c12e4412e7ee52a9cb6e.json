{"sha":"845af41c04512ffaed59c12e4412e7ee52a9cb6e","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjg0NWFmNDFjMDQ1MTJmZmFlZDU5YzEyZTQ0MTJlN2VlNTJhOWNiNmU=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2011-12-21T17:09:40Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2011-12-21T17:09:40Z"},"message":"Merge from 0_7_X\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247290 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"c3be8c29a4a07d8bc27e3019b1155bce2a2c97ce","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/c3be8c29a4a07d8bc27e3019b1155bce2a2c97ce"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/845af41c04512ffaed59c12e4412e7ee52a9cb6e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/845af41c04512ffaed59c12e4412e7ee52a9cb6e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/845af41c04512ffaed59c12e4412e7ee52a9cb6e","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/845af41c04512ffaed59c12e4412e7ee52a9cb6e/comments","author":null,"committer":null,"parents":[{"sha":"262d84d93fcbdb59bef0a64331e49cd82387fd23","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/262d84d93fcbdb59bef0a64331e49cd82387fd23","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/262d84d93fcbdb59bef0a64331e49cd82387fd23"}],"stats":{"total":330,"additions":180,"deletions":150},"files":[{"sha":"fa96cd397b108ac99a251c1f95a3e5ac762535c0","filename":"client/src/main/java/org/syncope/client/SyncopeConstants.java","status":"added","additions":25,"deletions":0,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/845af41c04512ffaed59c12e4412e7ee52a9cb6e/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2FSyncopeConstants.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/845af41c04512ffaed59c12e4412e7ee52a9cb6e/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2FSyncopeConstants.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2FSyncopeConstants.java?ref=845af41c04512ffaed59c12e4412e7ee52a9cb6e","patch":"@@ -0,0 +1,25 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.syncope.client;\n+\n+public class SyncopeConstants {\n+\n+    public final static String[] DATE_PATTERNS = {\n+        \"yyyy-MM-dd'T'HH:mm:ssZ\",\n+        \"EEE, dd MMM yyyy HH:mm:ss z\",\n+        \"yyyy-MM-dd'T'HH:mm:ssz\",\n+        \"yyyy-MM-dd HH:mm:ss\"};\n+\n+    public static String DEFAULT_DATE_PATTERN = \"yyyy-MM-dd'T'HH:mm:ssZ\";\n+}"},{"sha":"0e2b09fc330acacacc6208b14d7aa75e6d85e1c0","filename":"console/src/main/java/org/syncope/console/pages/AbstractSchedTaskModalPage.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FAbstractSchedTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FAbstractSchedTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FAbstractSchedTaskModalPage.java?ref=845af41c04512ffaed59c12e4412e7ee52a9cb6e","patch":"@@ -97,7 +97,7 @@ public AbstractSchedTaskModalPage(\n             private static final long serialVersionUID = -5843424545478691442L;\n \n             @Override\n-            protected CharSequence getDefaultChoice(String selected) {\n+            protected CharSequence getDefaultChoice(final String selected) {\n                 return \"<option value=\\\"\\\">\"\n                         + getString(\"chooseForTemplate\")\n                         + \"</option>\";\n@@ -230,7 +230,7 @@ protected void onError(final AjaxRequestTarget target,\n         form.add(submit);\n     }\n \n-    private class DateFormatROModel implements IModel<String> {\n+    private static class DateFormatROModel implements IModel<String> {\n \n         private static final long serialVersionUID = 6677274580927636121L;\n \n@@ -248,7 +248,7 @@ public String getObject() {\n         }\n \n         @Override\n-        public void setObject(String object) {\n+        public void setObject(final String object) {\n         }\n \n         @Override"},{"sha":"f09a687ec51fbb753a517c25702653c8f6f60acf","filename":"console/src/main/java/org/syncope/console/pages/TaskExecMessageModalPage.java","status":"added","additions":28,"deletions":0,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTaskExecMessageModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTaskExecMessageModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTaskExecMessageModalPage.java?ref=845af41c04512ffaed59c12e4412e7ee52a9cb6e","patch":"@@ -0,0 +1,28 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.syncope.console.pages;\n+\n+import org.apache.wicket.markup.html.basic.Label;\n+import org.apache.wicket.model.Model;\n+\n+public class TaskExecMessageModalPage extends BaseModalPage {\n+\n+    private static final long serialVersionUID = 3163146190501510888L;\n+\n+    public TaskExecMessageModalPage(final String message) {\n+        final Label dialogContent =\n+                new Label(\"message\", new Model<String>(message));\n+        add(dialogContent.setOutputMarkupId(true));\n+    }\n+}"},{"sha":"9c926cd0b0f4c4c52d595f9ea86eb0d938c864b0","filename":"console/src/main/java/org/syncope/console/pages/TaskModalPage.java","status":"modified","additions":21,"deletions":13,"changes":34,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java?ref=845af41c04512ffaed59c12e4412e7ee52a9cb6e","patch":"@@ -20,10 +20,12 @@\n import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n+import org.apache.wicket.Page;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n import org.apache.wicket.extensions.markup.html.repeater.data.sort.SortOrder;\n@@ -39,7 +41,6 @@\n import org.apache.wicket.model.AbstractReadOnlyModel;\n import org.apache.wicket.model.CompoundPropertyModel;\n import org.apache.wicket.model.IModel;\n-import org.apache.wicket.model.Model;\n import org.apache.wicket.model.PropertyModel;\n import org.apache.wicket.model.ResourceModel;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n@@ -90,15 +91,15 @@ public TaskModalPage(final TaskTO taskTO) {\n \n         taskTO.setExecutions(actual.getExecutions());\n \n-        final Label dialogContent =\n-                new Label(\"dialogContent\", new Model<String>(\"\"));\n-\n-        add(dialogContent.setOutputMarkupId(true));\n+        final ModalWindow taskExecMessageWin = new ModalWindow(\n+                \"taskExecMessageWin\");\n+        taskExecMessageWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n+        taskExecMessageWin.setCookieName(\"task-exec-message-win-modal\");\n+        add(taskExecMessageWin);\n \n         form = new Form(\"form\");\n-        add(form);\n-\n         form.setModel(new CompoundPropertyModel(taskTO));\n+        add(form);\n \n         profile = new WebMarkupContainer(\"profile\");\n         profile.setOutputMarkupId(true);\n@@ -148,12 +149,19 @@ public void populateItem(\n \n                     @Override\n                     public void onClick(final AjaxRequestTarget target) {\n-                        dialogContent.setDefaultModelObject(\n-                                model.getObject().getMessage());\n-\n-                        target.add(dialogContent);\n-                        target.appendJavaScript(\n-                                \"jQuery('#dialog').dialog('open')\");\n+                        taskExecMessageWin.setPageCreator(\n+                                new ModalWindow.PageCreator() {\n+\n+                                    private static final long serialVersionUID =\n+                                            -7834632442532690940L;\n+\n+                                    @Override\n+                                    public Page createPage() {\n+                                        return new TaskExecMessageModalPage(\n+                                                model.getObject().getMessage());\n+                                    }\n+                                });\n+                        taskExecMessageWin.show(target);\n                     }\n                 };\n "},{"sha":"584123747c8483cdc69e1f29e910f305b68e8333","filename":"console/src/main/java/org/syncope/console/pages/panels/AttributesPanel.java","status":"modified","additions":20,"deletions":5,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAttributesPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAttributesPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAttributesPanel.java?ref=845af41c04512ffaed59c12e4412e7ee52a9cb6e","patch":"@@ -31,6 +31,7 @@\n import org.apache.wicket.model.Model;\n import org.apache.wicket.model.PropertyModel;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n+import org.syncope.client.SyncopeConstants;\n import org.syncope.client.to.AbstractAttributableTO;\n import org.syncope.client.to.AttributeTO;\n import org.syncope.client.to.RoleTO;\n@@ -191,17 +192,31 @@ private FieldPanel getFieldPanel(\n                 break;\n \n             case Date:\n-                if (!schemaTO.getConversionPattern().contains(\"H\")) {\n+                final String dataPattern = schemaTO.getConversionPattern() != null\n+                        ? schemaTO.getConversionPattern()\n+                        : SyncopeConstants.DEFAULT_DATE_PATTERN;\n+\n+                if (!dataPattern.contains(\"H\")) {\n+\n                     panel = new DateTextFieldPanel(\n-                            \"panel\", schemaTO.getName(), new Model(), true,\n-                            schemaTO.getConversionPattern());\n+                            \"panel\",\n+                            schemaTO.getName(),\n+                            new Model(),\n+                            true,\n+                            dataPattern);\n+\n                     if (required) {\n                         panel.addRequiredLabel();\n                     }\n                 } else {\n+\n                     panel = new DateTimeFieldPanel(\n-                            \"panel\", schemaTO.getName(), new Model(), true,\n-                            schemaTO.getConversionPattern());\n+                            \"panel\",\n+                            schemaTO.getName(),\n+                            new Model(),\n+                            true,\n+                            dataPattern);\n+\n                     if (required) {\n                         panel.addRequiredLabel();\n                         ((DateTimeFieldPanel) panel).setFormValidator(form);"},{"sha":"80cac139fbf74353512227496e19ee4fc2ac9b34","filename":"console/src/main/java/org/syncope/console/pages/panels/RolesPanel.java","status":"modified","additions":8,"deletions":10,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRolesPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRolesPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRolesPanel.java?ref=845af41c04512ffaed59c12e4412e7ee52a9cb6e","patch":"@@ -38,16 +38,12 @@\n import org.syncope.console.commons.RoleTreeBuilder;\n import org.syncope.console.pages.MembershipModalPage;\n import org.syncope.console.pages.UserModalPage;\n-import org.syncope.console.rest.RoleRestClient;\n import org.syncope.console.wicket.ajax.markup.html.IndicatingDeleteOnConfirmAjaxLink;\n \n public class RolesPanel extends Panel {\n \n     private static final long serialVersionUID = -2559791301973107191L;\n \n-    @SpringBean\n-    private RoleRestClient roleRestClient;\n-\n     @SpringBean\n     private RoleTreeBuilder roleTreeBuilder;\n \n@@ -71,7 +67,6 @@ public RolesPanel(final String id, final UserTO userTO,\n         membershipWin.setCookieName(\"create-membership-modal\");\n         add(membershipWin);\n \n-        final List<RoleTO> roles = roleRestClient.getAllRoles();\n         BaseTree tree = new LinkTree(\"treeTable\", roleTreeBuilder.build()) {\n \n             private static final long serialVersionUID = -5514696922119256101L;\n@@ -85,7 +80,8 @@ protected IModel getNodeTextModel(final IModel model) {\n             protected void onNodeLinkClicked(final Object node,\n                     final BaseTree tree, final AjaxRequestTarget target) {\n \n-                final RoleTO roleTO = (RoleTO) ((DefaultMutableTreeNode) node).getUserObject();\n+                final RoleTO roleTO =\n+                        (RoleTO) ((DefaultMutableTreeNode) node).getUserObject();\n \n                 membershipWin.setPageCreator(new ModalWindow.PageCreator() {\n \n@@ -96,8 +92,10 @@ protected void onNodeLinkClicked(final Object node,\n \n                     @Override\n                     public Page createPage() {\n-                        \n-                        for (MembershipTO memberTO : membershipsView.getList()) {\n+\n+                        for (MembershipTO memberTO :\n+                                membershipsView.getList()) {\n+\n                             if (memberTO.getRoleId() == roleTO.getId()) {\n                                 return new MembershipModalPage(\n                                         getPage().getPageReference(),\n@@ -199,11 +197,11 @@ private void setWindowClosedCallback(\n \n                     @Override\n                     public void onClose(final AjaxRequestTarget target) {\n-                        final UserTO userTO =\n+                        final UserTO updatedUserTO =\n                                 ((UserModalPage) getPage()).getUserTO();\n \n                         RolesPanel.this.userTO.setMemberships(\n-                                userTO.getMemberships());\n+                                updatedUserTO.getMemberships());\n                         target.add(container);\n                     }\n                 });"},{"sha":"f147e1429037dcfab4d0378b376a0eec82c1c7dc","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/form/DateTimeFieldPanel.java","status":"modified","additions":23,"deletions":7,"changes":30,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FDateTimeFieldPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FDateTimeFieldPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FDateTimeFieldPanel.java?ref=845af41c04512ffaed59c12e4412e7ee52a9cb6e","patch":"@@ -15,7 +15,6 @@\n package org.syncope.console.wicket.markup.html.form;\n \n import java.io.Serializable;\n-import java.text.DateFormat;\n import java.text.ParseException;\n import java.text.SimpleDateFormat;\n import java.util.Calendar;\n@@ -34,6 +33,7 @@\n import org.apache.wicket.markup.html.list.ListItem;\n import org.apache.wicket.model.Model;\n import org.springframework.util.StringUtils;\n+import org.syncope.client.SyncopeConstants;\n \n public class DateTimeFieldPanel extends FieldPanel<Date> {\n \n@@ -43,6 +43,16 @@ public class DateTimeFieldPanel extends FieldPanel<Date> {\n \n     private Form form = null;\n \n+    protected static final ThreadLocal<SimpleDateFormat> DATE_FORMAT =\n+            new ThreadLocal<SimpleDateFormat>() {\n+\n+                @Override\n+                protected SimpleDateFormat initialValue() {\n+                    return new SimpleDateFormat(\n+                            SyncopeConstants.DEFAULT_DATE_PATTERN);\n+                }\n+            };\n+\n     public DateTimeFieldPanel(\n             final String id,\n             final String name,\n@@ -190,7 +200,11 @@ public FieldPanel setFormValidator(final Form form) {\n \n     @Override\n     public FieldPanel setNewModel(final ListItem item, final Class reference) {\n-        final DateFormat formatter = new SimpleDateFormat(datePattern);\n+        final SimpleDateFormat formatter = DATE_FORMAT.get();\n+\n+        if (datePattern != null) {\n+            formatter.applyPattern(datePattern);\n+        }\n \n         IModel<Date> model = new Model() {\n \n@@ -231,8 +245,7 @@ public void setObject(final Serializable object) {\n                                 (String) formatter.format((Date) object));\n                     } else if (reference.equals(Date.class)) {\n                         // Don't parse anything\n-                        item.setModelObject(\n-                                (Date) object);\n+                        item.setModelObject((Date) object);\n                     } else {\n                         // consider Long\n                         item.setModelObject(((Date) object).getTime());\n@@ -249,13 +262,16 @@ public void setObject(final Serializable object) {\n \n     @Override\n     public FieldPanel setNewModel(final List<Serializable> list) {\n+        final SimpleDateFormat formatter = DATE_FORMAT.get();\n+\n+        if (datePattern != null) {\n+            formatter.applyPattern(datePattern);\n+        }\n+\n         setNewModel(new Model() {\n \n             private static final long serialVersionUID = 527651414610325237L;\n \n-            private final DateFormat formatter =\n-                    new SimpleDateFormat(datePattern);\n-\n             @Override\n             public Serializable getObject() {\n                 Date date = null;"},{"sha":"fd752f1cb9601ee2a21eabc952388b2b3e62850e","filename":"console/src/main/resources/org/syncope/console/pages/NotificationTaskModalPage.html","status":"modified","additions":2,"deletions":25,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FNotificationTaskModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FNotificationTaskModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FNotificationTaskModalPage.html?ref=845af41c04512ffaed59c12e4412e7ee52a9cb6e","patch":"@@ -12,26 +12,7 @@\n  limitations under the License.\n  under the License.\n -->\n-<wicket:head>\n-    <style type=\"text/css\">\n-        /* WICKET DATATABLE HEADERS */\n-        .headers {\n-            border: 1px solid #aaaaaa;\n-            background: #cccccc url(css/images/ui-bg_highlight-soft_75_cccccc_1x100.png)\n-                50% 50% repeat-x;\n-        }\n-    </style>\n-    <script type=\"text/javascript\">\n-        jQuery(function() {\n-            $(\"#dialog\").dialog({\n-                autoOpen: false, height: 500,  width: 700, modal: true,\n-                show: \"fade\",\n-                hide: \"fade\"\n-            });\n-        });\n-    </script>\n-</wicket:head>\n-<wicket:extend>\n+<<wicket:extend>\n     <div id=\"dialog-form\">\n         <p class=\"ui-widget ui-corner-all ui-widget-header\"><wicket:message key=\"title\"/></p>\n         <form wicket:id=\"form\">\n@@ -120,9 +101,5 @@\n             </div>\n         </form>\n     </div>\n-    <div id=\"dialog\">\n-        <pre wicket:id=\"dialogContent\">\n-            [Task execution's message to show]\n-        </pre>\n-    </div>\n+    <div wicket:id=\"taskExecMessageWin\"/>\n </wicket:extend>\n\\ No newline at end of file"},{"sha":"22d7ff225e7aedab44fbca3c5f01252ba789bd93","filename":"console/src/main/resources/org/syncope/console/pages/PropagationTaskModalPage.html","status":"modified","additions":1,"deletions":24,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPropagationTaskModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPropagationTaskModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FPropagationTaskModalPage.html?ref=845af41c04512ffaed59c12e4412e7ee52a9cb6e","patch":"@@ -12,25 +12,6 @@\n  limitations under the License.\n  under the License.\n -->\n-<wicket:head>\n-    <style type=\"text/css\">\n-        /* WICKET DATATABLE HEADERS */\n-        .headers {\n-            border: 1px solid #aaaaaa;\n-            background: #cccccc url(css/images/ui-bg_highlight-soft_75_cccccc_1x100.png)\n-                50% 50% repeat-x;\n-        }\n-    </style>\n-    <script type=\"text/javascript\">\n-        jQuery(function() {\n-            $(\"#dialog\").dialog({\n-                autoOpen: false, height: 500,  width: 700, modal: true,\n-                show: \"fade\",\n-                hide: \"fade\"\n-            });\n-        });\n-    </script>\n-</wicket:head>\n <wicket:extend>\n     <div id=\"dialog-form\">\n         <p class=\"ui-widget ui-corner-all ui-widget-header\"><wicket:message key=\"title\"/></p>\n@@ -85,9 +66,5 @@\n             </div>\n         </form>\n     </div>\n-    <div id=\"dialog\">\n-        <pre wicket:id=\"dialogContent\">\n-            [Task execution's message to show]\n-        </pre>\n-    </div>\n+    <div wicket:id=\"taskExecMessageWin\"/>\n </wicket:extend>\n\\ No newline at end of file"},{"sha":"aecb586095a88bb41cc10224ac98da86b1acbf21","filename":"console/src/main/resources/org/syncope/console/pages/SchedTaskModalPage.html","status":"modified","additions":1,"deletions":24,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchedTaskModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchedTaskModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchedTaskModalPage.html?ref=845af41c04512ffaed59c12e4412e7ee52a9cb6e","patch":"@@ -12,25 +12,6 @@\n  limitations under the License.\n  under the License.\n -->\n-<wicket:head>\n-    <style type=\"text/css\">\n-        /* WICKET DATATABLE HEADERS */\n-        .headers {\n-            border: 1px solid #aaaaaa;\n-            background: #cccccc url(css/images/ui-bg_highlight-soft_75_cccccc_1x100.png)\n-                50% 50% repeat-x;\n-        }\n-    </style>\n-    <script type=\"text/javascript\">\n-        jQuery(function() {\n-            $(\"#dialog\").dialog({\n-                autoOpen: false, height: 500,  width: 700, modal: true,\n-                show: \"fade\",\n-                hide: \"fade\"\n-            });\n-        });\n-    </script>\n-</wicket:head>\n <wicket:extend>\n     <div style=\"margin:10px\">\n         <p class=\"ui-widget ui-corner-all ui-widget-header\"><wicket:message key=\"title\"/></p>\n@@ -126,9 +107,5 @@\n             </div>\n         </form>\n     </div>\n-    <div id=\"dialog\">\n-        <pre wicket:id=\"dialogContent\">\n-            [Task execution's message to show]\n-        </pre>\n-    </div>\n+    <div wicket:id=\"taskExecMessageWin\"/>\n </wicket:extend>\n\\ No newline at end of file"},{"sha":"04333da6f486d9af7f367cd84ad6fde81b0a647e","filename":"console/src/main/resources/org/syncope/console/pages/SyncTaskModalPage.html","status":"modified","additions":1,"deletions":24,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.html?ref=845af41c04512ffaed59c12e4412e7ee52a9cb6e","patch":"@@ -12,25 +12,6 @@\n  limitations under the License.\n  under the License.\n -->\n-<wicket:head>\n-    <style type=\"text/css\">\n-        /* WICKET DATATABLE HEADERS */\n-        .headers {\n-            border: 1px solid #aaaaaa;\n-            background: #cccccc url(css/images/ui-bg_highlight-soft_75_cccccc_1x100.png)\n-                50% 50% repeat-x;\n-        }\n-    </style>\n-    <script type=\"text/javascript\">\n-        jQuery(function() {\n-            $(\"#dialog\").dialog({\n-                autoOpen: false, height: 500,  width: 700, modal: true,\n-                show: \"fade\",\n-                hide: \"fade\"\n-            });\n-        });\n-    </script>\n-</wicket:head>\n <wicket:extend>\n     <div style=\"margin:10px\">\n         <p class=\"ui-widget ui-corner-all ui-widget-header\"><wicket:message key=\"title\"/></p>\n@@ -162,9 +143,5 @@\n             </div>\n         </form>\n     </div>\n-    <div id=\"dialog\">\n-        <pre wicket:id=\"dialogContent\">\n-            [Task execution's message to show]\n-        </pre>\n-    </div>\n+    <div wicket:id=\"taskExecMessageWin\"/>\n </wicket:extend>\n\\ No newline at end of file"},{"sha":"6aa025f55819dd25ad2517defbddc8350fd2b41a","filename":"console/src/main/resources/org/syncope/console/pages/SyncTaskModalPage.properties","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSyncTaskModalPage.properties?ref=845af41c04512ffaed59c12e4412e7ee52a9cb6e","patch":"@@ -14,7 +14,7 @@ startDate=Start date\n endDate=End date\n status=Status\n message=Message\n-delete=Rimuovi\n+delete=Delete\n showMessage=Show\n chooseForTemplate=Use A Template\n creates=Create new identities"},{"sha":"7bbe15742b5f44cdaf130f5b5a1c9ff85c86a4b2","filename":"console/src/main/resources/org/syncope/console/pages/TaskExecMessageModalPage.html","status":"added","additions":21,"deletions":0,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTaskExecMessageModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/845af41c04512ffaed59c12e4412e7ee52a9cb6e/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTaskExecMessageModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTaskExecMessageModalPage.html?ref=845af41c04512ffaed59c12e4412e7ee52a9cb6e","patch":"@@ -0,0 +1,21 @@\n+<!--\n+ Licensed under the Apache License, Version 2.0 (the \"License\");\n+ you may not use this file except in compliance with the License.\n+ You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+ Unless required by applicable law or agreed to in writing, software\n+ distributed under the License is distributed on an \"AS IS\" BASIS,\n+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ See the License for the specific language governing permissions and\n+ limitations under the License.\n+ under the License.\n+-->\n+<wicket:extend>\n+    <div id=\"dialog\">\n+        <pre wicket:id=\"message\">\n+            [Task execution's message to show]\n+        </pre>\n+    </div>\n+</wicket:extend>\n\\ No newline at end of file"},{"sha":"fcf9779a3f7d4658b16875a4a2d7260d830d24af","filename":"core/src/main/java/org/syncope/core/persistence/beans/AbstractAttrValue.java","status":"modified","additions":18,"deletions":6,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/845af41c04512ffaed59c12e4412e7ee52a9cb6e/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractAttrValue.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/845af41c04512ffaed59c12e4412e7ee52a9cb6e/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractAttrValue.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractAttrValue.java?ref=845af41c04512ffaed59c12e4412e7ee52a9cb6e","patch":"@@ -107,18 +107,30 @@ public String getValueAsString() {\n                 break;\n \n             case Long:\n-                result = getAttribute().getSchema().getFormatter().\n-                        format(getLongValue());\n+                if (getAttribute().getSchema().getFormatter() == null) {\n+                    result = getLongValue().toString();\n+                } else {\n+                    result = getAttribute().getSchema().getFormatter().\n+                            format(getLongValue());\n+                }\n                 break;\n \n             case Double:\n-                result = getAttribute().getSchema().getFormatter().\n-                        format(getDoubleValue());\n+                if (getAttribute().getSchema().getFormatter() == null) {\n+                    result = getDoubleValue().toString();\n+                } else {\n+                    result = getAttribute().getSchema().getFormatter().\n+                            format(getDoubleValue());\n+                }\n                 break;\n \n             case Date:\n-                result = getAttribute().getSchema().getFormatter().\n-                        format(getDateValue());\n+                if (getAttribute().getSchema().getFormatter() == null) {\n+                    result = DATE_FORMAT.get().format(getDateValue());\n+                } else {\n+                    result = getAttribute().getSchema().getFormatter().\n+                            format(getDateValue());\n+                }\n                 break;\n \n             default:"},{"sha":"c7718dba264bb478ae592d57fb8cef1dbf75d690","filename":"core/src/main/java/org/syncope/core/persistence/beans/AbstractBaseBean.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/845af41c04512ffaed59c12e4412e7ee52a9cb6e/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractBaseBean.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/845af41c04512ffaed59c12e4412e7ee52a9cb6e/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractBaseBean.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FAbstractBaseBean.java?ref=845af41c04512ffaed59c12e4412e7ee52a9cb6e","patch":"@@ -27,6 +27,7 @@\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.beans.BeanUtils;\n+import org.syncope.client.SyncopeConstants;\n \n public abstract class AbstractBaseBean implements Serializable {\n \n@@ -39,11 +40,10 @@ public abstract class AbstractBaseBean implements Serializable {\n     protected static final ThreadLocal<SimpleDateFormat> DATE_FORMAT =\n             new ThreadLocal<SimpleDateFormat>() {\n \n-                private final static String PATTER = \"yyyy-MM-dd'T'HH:mm:ssZ\";\n-\n                 @Override\n                 protected SimpleDateFormat initialValue() {\n-                    return new SimpleDateFormat(PATTER);\n+                    return new SimpleDateFormat(\n+                            SyncopeConstants.DEFAULT_DATE_PATTERN);\n                 }\n             };\n "},{"sha":"12e074f70de0da651ffd1efcd44c585938beaf60","filename":"core/src/main/java/org/syncope/core/persistence/validation/attrvalue/AbstractValidator.java","status":"modified","additions":4,"deletions":5,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/845af41c04512ffaed59c12e4412e7ee52a9cb6e/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fvalidation%2Fattrvalue%2FAbstractValidator.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/845af41c04512ffaed59c12e4412e7ee52a9cb6e/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fvalidation%2Fattrvalue%2FAbstractValidator.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fvalidation%2Fattrvalue%2FAbstractValidator.java?ref=845af41c04512ffaed59c12e4412e7ee52a9cb6e","patch":"@@ -21,6 +21,7 @@\n import org.apache.commons.lang.time.DateUtils;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n+import org.syncope.client.SyncopeConstants;\n import org.syncope.core.persistence.beans.AbstractSchema;\n import org.syncope.core.persistence.beans.AbstractAttrValue;\n \n@@ -99,11 +100,9 @@ private <T extends AbstractAttrValue> T parseValue(final String value,\n             case Date:\n                 try {\n                     if (schema.getFormatter() == null) {\n-                        attributeValue.setDateValue(DateUtils.parseDate(value,\n-                                new String[]{\n-                                    \"EEE, dd MMM yyyy HH:mm:ss z\",\n-                                    \"yyyy-MM-dd'T'HH:mm:ssz\",\n-                                    \"yyyy-MM-dd HH:mm:ss\"}));\n+                        attributeValue.setDateValue(DateUtils.parseDate(\n+                                value,\n+                                SyncopeConstants.DATE_PATTERNS));\n                     } else {\n                         attributeValue.setDateValue(new Date(\n                                 ((DateFormat) schema.getFormatter()).parse("}]}
{"sha":"856198d6e96373b6cb8a828dd6f9a64770f7bd08","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjg1NjE5OGQ2ZTk2MzczYjZjYjhhODI4ZGQ2ZjlhNjQ3NzBmN2JkMDg=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2020-01-09T15:20:06Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2020-01-09T16:06:40Z"},"message":"Fixing default JaCoCo / Sonar settings","tree":{"sha":"a360b487f404c5ee5d854e3275610d3a1bfbb080","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/a360b487f404c5ee5d854e3275610d3a1bfbb080"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/856198d6e96373b6cb8a828dd6f9a64770f7bd08","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/856198d6e96373b6cb8a828dd6f9a64770f7bd08","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/856198d6e96373b6cb8a828dd6f9a64770f7bd08","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/856198d6e96373b6cb8a828dd6f9a64770f7bd08/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"b30a93bda0935962469a3f30b9ad93f301e5073a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b30a93bda0935962469a3f30b9ad93f301e5073a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/b30a93bda0935962469a3f30b9ad93f301e5073a"}],"stats":{"total":45,"additions":20,"deletions":25},"files":[{"sha":"b7c7463c755e5a7c4c264e412802c6dbb7403710","filename":"pom.xml","status":"modified","additions":20,"deletions":25,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/856198d6e96373b6cb8a828dd6f9a64770f7bd08/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/856198d6e96373b6cb8a828dd6f9a64770f7bd08/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=856198d6e96373b6cb8a828dd6f9a64770f7bd08","patch":"@@ -548,13 +548,12 @@ under the License.\n \n     <ianal.skip>false</ianal.skip>\n     <skip.sass>false</skip.sass>\n-    <sonar.java.coveragePlugin>jacoco</sonar.java.coveragePlugin>\n-    <sonar.jacoco.utReportPath>${rootpom.basedir}/target/jacoco.ut.exec</sonar.jacoco.utReportPath>\n-    <sonar.jacoco.itReportPath>${rootpom.basedir}/target/jacoco.it.exec</sonar.jacoco.itReportPath>\n-    <sonar.jacoco.reportPaths>${sonar.jacoco.utReportPath},${sonar.jacoco.itReportPath}</sonar.jacoco.reportPaths>\n-    <sonar.junit.reportPaths>${project.build.directory}/surefire-reports,${project.build.directory}/failsafe-reports</sonar.junit.reportPaths>\n+\n     <sonar.language>java</sonar.language>\n     <sonar.java.source>${targetJdk}</sonar.java.source>\n+    <sonar.java.coveragePlugin>jacoco</sonar.java.coveragePlugin>\n+    <sonar.junit.reportPaths>${project.build.directory}/surefire-reports</sonar.junit.reportPaths>\n+    <sonar.coverage.jacoco.xmlReportPaths>target/site/jacoco/jacoco.xml</sonar.coverage.jacoco.xmlReportPaths>\n \n     <targetJdk>11</targetJdk>\n     <rootpom.basedir>${basedir}</rootpom.basedir>\n@@ -2145,6 +2144,18 @@ under the License.\n           <artifactId>sass-maven-plugin</artifactId>\n           <version>3.7.2</version>\n         </plugin>\n+\n+        <plugin>\n+          <groupId>org.jacoco</groupId>\n+          <artifactId>jacoco-maven-plugin</artifactId>\n+          <version>0.8.5</version>\n+        </plugin>\n+\n+        <plugin>\n+          <groupId>org.sonarsource.scanner.maven</groupId>\n+          <artifactId>sonar-maven-plugin</artifactId>\n+          <version>3.7.0.1746</version>\n+        </plugin>\n       </plugins>\n     </pluginManagement>\n \n@@ -2214,37 +2225,21 @@ under the License.\n       <plugin>\n         <groupId>org.jacoco</groupId>\n         <artifactId>jacoco-maven-plugin</artifactId>\n-        <version>0.8.5</version>\n         <configuration>\n-          <append>true</append>\n           <skip>${skipTests}</skip>\n         </configuration>\n         <executions>\n           <execution>\n-            <id>jacoco-agent-ut</id>\n-            <phase>process-test-classes</phase>\n+            <id>prepare-jacoco-agent</id>\n             <goals>\n               <goal>prepare-agent</goal>\n             </goals>\n-            <configuration>\n-              <destFile>${sonar.jacoco.utReportPath}</destFile>\n-            </configuration>\n           </execution>\n           <execution>\n-            <id>jacoco-agent-it</id>\n-            <phase>pre-integration-test</phase>\n-            <goals>\n-              <goal>prepare-agent-integration</goal>\n-            </goals>\n-            <configuration>\n-              <destFile>${sonar.jacoco.itReportPath}</destFile>\n-            </configuration>\n-          </execution>\n-          <execution>\n-            <id>jacoco-site</id>\n-            <phase>verify</phase>\n+            <id>generate-code-coverage-report</id>\n+            <phase>test</phase>\n             <goals>\n-              <goal>report-aggregate</goal>\n+              <goal>report</goal>\n             </goals>\n           </execution>\n         </executions>"}]}
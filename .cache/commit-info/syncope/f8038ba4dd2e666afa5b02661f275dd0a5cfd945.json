{"sha":"f8038ba4dd2e666afa5b02661f275dd0a5cfd945","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmY4MDM4YmE0ZGQyZTY2NmFmYTViMDI2NjFmMjc1ZGQwYTVjZmQ5NDU=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2011-07-19T12:31:40Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2011-07-19T12:31:40Z"},"message":"Fixes issue 130\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247042 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"2a7a8d3316f71cf54ceca38383fbae30ec9526c3","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/2a7a8d3316f71cf54ceca38383fbae30ec9526c3"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/f8038ba4dd2e666afa5b02661f275dd0a5cfd945","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f8038ba4dd2e666afa5b02661f275dd0a5cfd945","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f8038ba4dd2e666afa5b02661f275dd0a5cfd945","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f8038ba4dd2e666afa5b02661f275dd0a5cfd945/comments","author":null,"committer":null,"parents":[{"sha":"3e6c8ce64a2bf43c72e2d13b3f000bed808a17cf","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/3e6c8ce64a2bf43c72e2d13b3f000bed808a17cf","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/3e6c8ce64a2bf43c72e2d13b3f000bed808a17cf"}],"stats":{"total":94,"additions":80,"deletions":14},"files":[{"sha":"4b9204f1e08a61779eb85cae313202962e1a25f9","filename":"client/src/main/java/org/syncope/types/ConnConfPropSchema.java","status":"modified","additions":20,"deletions":0,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f8038ba4dd2e666afa5b02661f275dd0a5cfd945/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Ftypes%2FConnConfPropSchema.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f8038ba4dd2e666afa5b02661f275dd0a5cfd945/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Ftypes%2FConnConfPropSchema.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Ftypes%2FConnConfPropSchema.java?ref=f8038ba4dd2e666afa5b02661f275dd0a5cfd945","patch":"@@ -20,6 +20,10 @@ public class ConnConfPropSchema extends AbstractBaseBean {\n \n     private String name;\n \n+    private String displayName;\n+\n+    private String helpMessage;\n+\n     private String type;\n \n     private boolean required;\n@@ -47,4 +51,20 @@ public String getType() {\n     public void setType(String type) {\n         this.type = type;\n     }\n+\n+    public String getDisplayName() {\n+        return displayName;\n+    }\n+\n+    public void setDisplayName(String displayName) {\n+        this.displayName = displayName;\n+    }\n+\n+    public String getHelpMessage() {\n+        return helpMessage;\n+    }\n+\n+    public void setHelpMessage(String helpMessage) {\n+        this.helpMessage = helpMessage;\n+    }\n }"},{"sha":"57227b4be8cf90880cb4e29d33150b12d15dc097","filename":"console/src/main/java/org/syncope/console/pages/ConnectorModalPage.java","status":"modified","additions":17,"deletions":7,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f8038ba4dd2e666afa5b02661f275dd0a5cfd945/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f8038ba4dd2e666afa5b02661f275dd0a5cfd945/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java?ref=f8038ba4dd2e666afa5b02661f275dd0a5cfd945","patch":"@@ -25,6 +25,7 @@\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n+import org.apache.wicket.behavior.SimpleAttributeModifier;\n import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n@@ -173,12 +174,16 @@ protected void populateItem(final ListItem<ConnConfProperty> item) {\n                 ConnConfProperty property = item.getModelObject();\n \n                 item.add(new Label(\"connPropAttrSchema\",\n-                        property.getSchema().getName()));\n+                        property.getSchema().getDisplayName() == null\n+                        || property.getSchema().getDisplayName().isEmpty()\n+                        ? property.getSchema().getName()\n+                        : property.getSchema().getDisplayName()));\n \n                 item.add(new AjaxTextFieldPanel(\n                         \"connPropAttrValue\", property.getSchema().getName(),\n                         new PropertyModel<String>(property, \"value\"),\n-                        property.getSchema().isRequired()));\n+                        property.getSchema().isRequired(),\n+                        property.getSchema().getHelpMessage()));\n \n                 connectorTO.getConfiguration().add(property);\n             }\n@@ -199,17 +204,22 @@ protected void populateItem(final ListItem<ConnConfProperty> item) {\n             protected void onSubmit(final AjaxRequestTarget target,\n                     final Form form) {\n \n-                ConnInstanceTO connector = (ConnInstanceTO) form.\n-                        getDefaultModelObject();\n+                ConnInstanceTO connector = (ConnInstanceTO) form.getDefaultModelObject();\n \n                 // Set the model object configuration's properties to\n                 // connectorPropertiesMap reference\n                 connector.setBundleName(bundle.getModelValue());\n+\n                 // Set the model object's capabilites to\n                 // capabilitiesPalette's converted Set\n-                connector.setCapabilities(\n-                        new HashSet<ConnectorCapability>(selectedCapabilities));\n-\n+                if (!selectedCapabilities.isEmpty()) {\n+                    // exception if selectedCapabilities is empy\n+                    connector.setCapabilities(\n+                            EnumSet.copyOf(selectedCapabilities));\n+                } else {\n+                    connector.setCapabilities(\n+                            EnumSet.noneOf(ConnectorCapability.class));\n+                }\n                 try {\n                     if (createFlag) {\n                         restClient.create(connector);"},{"sha":"baa6ada547e09a68f804b21b3e969ee5506e4606","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/form/AjaxTextFieldPanel.java","status":"modified","additions":20,"deletions":2,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f8038ba4dd2e666afa5b02661f275dd0a5cfd945/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxTextFieldPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f8038ba4dd2e666afa5b02661f275dd0a5cfd945/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxTextFieldPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxTextFieldPanel.java?ref=f8038ba4dd2e666afa5b02661f275dd0a5cfd945","patch":"@@ -14,6 +14,7 @@\n  */\n package org.syncope.console.wicket.markup.html.form;\n \n+import org.apache.wicket.behavior.SimpleAttributeModifier;\n import org.apache.wicket.markup.html.basic.Label;\n import org.apache.wicket.markup.html.form.TextField;\n import org.apache.wicket.markup.html.panel.Panel;\n@@ -23,7 +24,7 @@\n public class AjaxTextFieldPanel extends Panel {\n \n     public AjaxTextFieldPanel(final String id, final String name,\n-            final IModel model, final boolean required) {\n+            final IModel model, final boolean required, final String title) {\n \n         super(id, model);\n \n@@ -34,7 +35,24 @@ public AjaxTextFieldPanel(final String id, final String name,\n         }\n \n         add(new TextField(\"textField\", model).setRequired(required).\n-                setLabel(new Model(name)));\n+                setLabel(new Model(name)).add(\n+                new SimpleAttributeModifier(\n+                \"title\", title != null ? title : \"\")));\n+    }\n+\n+    public AjaxTextFieldPanel(final String id, final String name,\n+            final IModel model, final boolean required) {\n+\n+        super(id, model);\n+\n+        if (required) {\n+            add(new Label(\"required\", \"*\"));\n+        } else {\n+            add(new Label(\"required\", \"\"));\n+        }\n+\n+        add(new TextField(\"textField\", model).setRequired(required).setLabel(\n+                new Model(name)));\n     }\n \n     public AjaxTextFieldPanel(final String id, final String name,"},{"sha":"77fa2c80d59fa2f8b34f543f3b9db7278905f504","filename":"core/src/main/java/org/syncope/core/persistence/beans/ConnInstance.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f8038ba4dd2e666afa5b02661f275dd0a5cfd945/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FConnInstance.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f8038ba4dd2e666afa5b02661f275dd0a5cfd945/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FConnInstance.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FConnInstance.java?ref=f8038ba4dd2e666afa5b02661f275dd0a5cfd945","patch":"@@ -33,7 +33,6 @@\n import javax.persistence.Enumerated;\n import javax.persistence.FetchType;\n import javax.persistence.Id;\n-import javax.persistence.Lob;\n import javax.persistence.OneToMany;\n import org.syncope.types.ConnConfProperty;\n import org.syncope.types.ConnectorCapability;"},{"sha":"64224ee3098cf0b4b7afbe99ae6c40200f7cc071","filename":"core/src/main/java/org/syncope/core/rest/controller/ConnInstanceController.java","status":"modified","additions":23,"deletions":4,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f8038ba4dd2e666afa5b02661f275dd0a5cfd945/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fcontroller%2FConnInstanceController.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f8038ba4dd2e666afa5b02661f275dd0a5cfd945/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fcontroller%2FConnInstanceController.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fcontroller%2FConnInstanceController.java?ref=f8038ba4dd2e666afa5b02661f275dd0a5cfd945","patch":"@@ -24,6 +24,7 @@\n import javassist.NotFoundException;\n import javax.servlet.http.HttpServletResponse;\n import org.identityconnectors.framework.api.ConfigurationProperties;\n+import org.identityconnectors.framework.api.ConfigurationProperty;\n import org.identityconnectors.framework.api.ConnectorInfo;\n import org.identityconnectors.framework.api.ConnectorInfoManager;\n import org.identityconnectors.framework.api.ConnectorKey;\n@@ -249,14 +250,32 @@ public List<ConnBundleTO> getBundles()\n                         getConfigurationProperties();\n \n                 ConnConfPropSchema connConfPropSchema;\n+                ConfigurationProperty configurationProperty;\n+\n                 for (String propName : properties.getPropertyNames()) {\n                     connConfPropSchema = new ConnConfPropSchema();\n-                    connConfPropSchema.setName(propName);\n+\n+                    configurationProperty = properties.getProperty(propName);\n+\n+                    // set name\n+                    connConfPropSchema.setName(\n+                            configurationProperty.getName());\n+\n+                    // set display name\n+                    connConfPropSchema.setDisplayName(\n+                            configurationProperty.getDisplayName(propName));\n+\n+                    // set help message\n+                    connConfPropSchema.setHelpMessage(\n+                            configurationProperty.getHelpMessage(propName));\n+\n+                    // set if mandatory\n                     connConfPropSchema.setRequired(\n-                            properties.getProperty(propName).isRequired());\n+                            configurationProperty.isRequired());\n+\n+                    // set type\n                     connConfPropSchema.setType(\n-                            properties.getProperty(propName).\n-                            getType().getName());\n+                            configurationProperty.getType().getName());\n \n                     connectorBundleTO.addProperty(connConfPropSchema);\n                 }"}]}
{"sha":"6001e3939acadf724147ff44f2ee0ddf33f28f60","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjYwMDFlMzkzOWFjYWRmNzI0MTQ3ZmY0NGYyZWUwZGRmMzNmMjhmNjA=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-02-19T16:02:17Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-02-19T16:02:17Z"},"message":"[SYNCOPE-744] Minor fix to the completeness widget","tree":{"sha":"fc113210857d4784916535fc5cc5862810f4ea42","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/fc113210857d4784916535fc5cc5862810f4ea42"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/6001e3939acadf724147ff44f2ee0ddf33f28f60","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/6001e3939acadf724147ff44f2ee0ddf33f28f60","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/6001e3939acadf724147ff44f2ee0ddf33f28f60","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/6001e3939acadf724147ff44f2ee0ddf33f28f60/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"915f3c325d3dde66f8c8a891b3b0a04a165f7e54","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/915f3c325d3dde66f8c8a891b3b0a04a165f7e54","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/915f3c325d3dde66f8c8a891b3b0a04a165f7e54"}],"stats":{"total":22,"additions":15,"deletions":7},"files":[{"sha":"31ced750f1eb1b67f77925845c02fabb5b1b7228","filename":"client/console/src/main/java/org/apache/syncope/client/console/widgets/CompletenessWidget.java","status":"modified","additions":14,"deletions":6,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6001e3939acadf724147ff44f2ee0ddf33f28f60/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6001e3939acadf724147ff44f2ee0ddf33f28f60/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget.java?ref=6001e3939acadf724147ff44f2ee0ddf33f28f60","patch":"@@ -32,6 +32,7 @@\n import org.apache.syncope.common.lib.types.StandardEntitlement;\n import org.apache.wicket.Page;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n+import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.WebPage;\n import org.apache.wicket.markup.html.link.BookmarkablePageLink;\n import org.apache.wicket.model.Model;\n@@ -65,9 +66,16 @@ public CompletenessWidget(final String id, final Map<NumbersInfo.ConfItem, Boole\n \n         add(new DoughnutChartPanel(\"chart\", Model.of(doughnut)));\n \n+        WebMarkupContainer actions = new WebMarkupContainer(\"actions\");\n+        actions.setOutputMarkupPlaceholderTag(true);\n+        if (todo == 0) {\n+            actions.setVisible(false);\n+        }\n+        add(actions);\n+\n         BookmarkablePageLink<Page> link = BookmarkablePageLinkBuilder.build(\"topology\", Topology.class);\n         link.setOutputMarkupPlaceholderTag(true);\n-        add(link);\n+        actions.add(link);\n         MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE,\n                 String.format(\"%s,%s\", StandardEntitlement.CONNECTOR_LIST, StandardEntitlement.RESOURCE_LIST));\n         if (confCompleteness.get(NumbersInfo.ConfItem.RESOURCE)\n@@ -79,7 +87,7 @@ public CompletenessWidget(final String id, final Map<NumbersInfo.ConfItem, Boole\n         link = BookmarkablePageLinkBuilder.build(\"policies\", Policies.class);\n         link.setOutputMarkupPlaceholderTag(true);\n         MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.POLICY_LIST);\n-        add(link);\n+        actions.add(link);\n         if (confCompleteness.get(NumbersInfo.ConfItem.ACCOUNT_POLICY)\n                 || confCompleteness.get(NumbersInfo.ConfItem.PASSWORD_POLICY)) {\n \n@@ -89,15 +97,15 @@ public CompletenessWidget(final String id, final Map<NumbersInfo.ConfItem, Boole\n         link = BookmarkablePageLinkBuilder.build(\"notifications\", Notifications.class);\n         link.setOutputMarkupPlaceholderTag(true);\n         MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.NOTIFICATION_LIST);\n-        add(link);\n+        actions.add(link);\n         if (confCompleteness.get(NumbersInfo.ConfItem.NOTIFICATION)) {\n             link.setVisible(false);\n         }\n \n         link = BookmarkablePageLinkBuilder.build(\"types\", Types.class);\n         link.setOutputMarkupPlaceholderTag(true);\n         MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.SCHEMA_LIST);\n-        add(link);\n+        actions.add(link);\n         if (confCompleteness.get(NumbersInfo.ConfItem.VIR_SCHEMA)\n                 || confCompleteness.get(NumbersInfo.ConfItem.ANY_TYPE)) {\n \n@@ -106,15 +114,15 @@ public CompletenessWidget(final String id, final Map<NumbersInfo.ConfItem, Boole\n \n         link = BookmarkablePageLinkBuilder.build(\"securityquestions\", SecurityQuestions.class);\n         link.setOutputMarkupPlaceholderTag(true);\n-        add(link);\n+        actions.add(link);\n         if (confCompleteness.get(NumbersInfo.ConfItem.SECURITY_QUESTION)) {\n             link.setVisible(false);\n         }\n \n         link = BookmarkablePageLinkBuilder.build(\"roles\", Roles.class);\n         link.setOutputMarkupPlaceholderTag(true);\n         MetaDataRoleAuthorizationStrategy.authorize(link, WebPage.ENABLE, StandardEntitlement.ROLE_LIST);\n-        add(link);\n+        actions.add(link);\n         if (confCompleteness.get(NumbersInfo.ConfItem.ROLE)) {\n             link.setVisible(false);\n         }"},{"sha":"acc12b35e452c552eadf690a2a11ba62e3ebd6fc","filename":"client/console/src/main/resources/org/apache/syncope/client/console/widgets/CompletenessWidget.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6001e3939acadf724147ff44f2ee0ddf33f28f60/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6001e3939acadf724147ff44f2ee0ddf33f28f60/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FCompletenessWidget.html?ref=6001e3939acadf724147ff44f2ee0ddf33f28f60","patch":"@@ -22,7 +22,7 @@\n       <div class=\"box-header with-border\">\n         <h3 class=\"box-title\"><wicket:message key=\"configurationStatus\"/></h3>\n         <div class=\"box-tools pull-right\">\n-          <div class=\"btn-group\">\n+          <div class=\"btn-group\" wicket:id=\"actions\">\n             <button class=\"btn btn-box-tool dropdown-toggle\" data-toggle=\"dropdown\">\n               <i class=\"fa fa-wrench\"></i>\n             </button>"}]}
{"sha":"83341463c43e7037085e7401d363baf5e6f37440","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjgzMzQxNDYzYzQzZTcwMzcwODVlNzQwMWQzNjNiYWY1ZTZmMzc0NDA=","commit":{"author":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2014-05-20T14:26:57Z"},"committer":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2014-05-20T14:26:57Z"},"message":"[SYNCOPE-492] provided notification object with field to enable/disable it, updated tests and console accordingly\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1596264 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"bcef7593f996a99059ea966f4f06b612b1250337","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/bcef7593f996a99059ea966f4f06b612b1250337"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/83341463c43e7037085e7401d363baf5e6f37440","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/83341463c43e7037085e7401d363baf5e6f37440","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/83341463c43e7037085e7401d363baf5e6f37440","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/83341463c43e7037085e7401d363baf5e6f37440/comments","author":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"committer":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"cf592cadb56c6e4df14cde7c16940692b8d17b18","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/cf592cadb56c6e4df14cde7c16940692b8d17b18","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/cf592cadb56c6e4df14cde7c16940692b8d17b18"}],"stats":{"total":255,"additions":220,"deletions":35},"files":[{"sha":"ae3afac1102a029e653674e0a874da210afbcaa6","filename":"common/src/main/java/org/apache/syncope/common/to/NotificationTO.java","status":"modified","additions":10,"deletions":0,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/83341463c43e7037085e7401d363baf5e6f37440/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fto%2FNotificationTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/83341463c43e7037085e7401d363baf5e6f37440/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fto%2FNotificationTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fto%2FNotificationTO.java?ref=83341463c43e7037085e7401d363baf5e6f37440","patch":"@@ -60,6 +60,8 @@ public class NotificationTO extends AbstractBaseBean {\n     private String template;\r\n \r\n     private TraceLevel traceLevel;\r\n+    \r\n+    private boolean active;\r\n \r\n     public String getAbout() {\r\n         return about;\r\n@@ -154,4 +156,12 @@ public TraceLevel getTraceLevel() {\n     public void setTraceLevel(TraceLevel traceLevel) {\r\n         this.traceLevel = traceLevel;\r\n     }\r\n+\r\n+    public boolean isActive() {\r\n+        return active;\r\n+    }\r\n+\r\n+    public void setActive(boolean active) {\r\n+        this.active = active;\r\n+    }\r\n }\r"},{"sha":"1c128092c72ec5a8638619dcf9493cf25c05b709","filename":"console/src/main/java/org/apache/syncope/console/pages/Configuration.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java?ref=83341463c43e7037085e7401d363baf5e6f37440","patch":"@@ -416,6 +416,8 @@ private void setupNotification() {\n                 new ResourceModel(\"template\"), \"template\", \"template\"));\n         notificationCols.add(new PropertyColumn<NotificationTO, String>(\n                 new ResourceModel(\"traceLevel\"), \"traceLevel\", \"traceLevel\"));\n+        notificationCols.add(new PropertyColumn<NotificationTO, String>(\n+                new ResourceModel(\"active\"), \"active\", \"active\"));\n \n         notificationCols.add(new AbstractColumn<NotificationTO, String>(new ResourceModel(\"actions\", \"\")) {\n "},{"sha":"58aa73f88c2f469fd839e3b460d1f81328c88c06","filename":"console/src/main/java/org/apache/syncope/console/pages/NotificationModalPage.java","status":"modified","additions":9,"deletions":2,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java?ref=83341463c43e7037085e7401d363baf5e6f37440","patch":"@@ -94,6 +94,13 @@ public NotificationModalPage(final PageReference pageRef, final ModalWindow wind\n         traceLevel.addRequiredLabel();\n         form.add(traceLevel);\n \n+        final AjaxCheckBoxPanel isActive = new AjaxCheckBoxPanel(\"isActive\",\n+                getString(\"isActive\"), new PropertyModel<Boolean>(notificationTO, \"active\"));\n+        if (createFlag) {\n+            isActive.getField().setDefaultModelObject(Boolean.TRUE);\n+        }\n+        form.add(isActive);\n+\n         final WebMarkupContainer aboutContainer = new WebMarkupContainer(\"aboutContainer\");\n         aboutContainer.setOutputMarkupId(true);\n \n@@ -205,7 +212,7 @@ protected String[] getChangeRoles() {\n \n         final UserSearchPanel recipients\n                 = new UserSearchPanel.Builder(\"recipients\").fiql(notificationTO.getRecipients()).build();\n-        \n+\n         recipients.setEnabled(checkRecipients.getModelObject());\n         recipientsContainer.add(recipients);\n \n@@ -216,7 +223,7 @@ protected String[] getChangeRoles() {\n         if (createFlag) {\n             selfAsRecipient.getField().setDefaultModelObject(Boolean.FALSE);\n         }\n- \n+\n         selfAsRecipient.getField().add(new AjaxFormComponentUpdatingBehavior(Constants.ON_CHANGE) {\n \n             private static final long serialVersionUID = -1107858522700306810L;"},{"sha":"590b7983929828391fda8febe8df61da8159347f","filename":"console/src/main/resources/org/apache/syncope/console/pages/Configuration.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.properties?ref=83341463c43e7037085e7401d363baf5e6f37440","patch":"@@ -38,3 +38,4 @@ subject=Subject\n noActivitiEnabledForUsers=Activiti not enabled for users\n policies=Policies\n logs=Logs\n+active=Enabled"},{"sha":"6f4e6aa17500686ef8f34f42cdb36c223ba30cf3","filename":"console/src/main/resources/org/apache/syncope/console/pages/Configuration_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration_it.properties?ref=83341463c43e7037085e7401d363baf5e6f37440","patch":"@@ -38,3 +38,4 @@ subject=Oggetto\n noActivitiEnabledForUsers=Activiti non configurato per gli utenti\n policies=Politiche\n logs=Logs\n+active=Abilitata"},{"sha":"4da7312e28cd43b5e6f8c9f294a496eef0499d33","filename":"console/src/main/resources/org/apache/syncope/console/pages/Configuration_pt_BR.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration_pt_BR.properties?ref=83341463c43e7037085e7401d363baf5e6f37440","patch":"@@ -38,3 +38,4 @@ subject=Assunto\n noActivitiEnabledForUsers=Activiti n\\u00e3o habilitado para usu\\u00e1rios\n policies=Pol\\u00edticas\n logs=Logs\n+active=Ativada"},{"sha":"71e8c27ef3172b6d5f629f0c476f05f3dadf9534","filename":"console/src/main/resources/org/apache/syncope/console/pages/NotificationModalPage.html","status":"modified","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.html?ref=83341463c43e7037085e7401d363baf5e6f37440","patch":"@@ -113,6 +113,14 @@\n                   <span wicket:id=\"traceLevel\">[traceLevel]</span>\n                 </div>\n               </div>\n+              <div class=\"tablerow alt\">\n+                <div class=\"tablecolumn_label medium_fixedsize\">\n+                  <label for=\"isActive\"><wicket:message key=\"isActive\"/></label>\n+                </div>\n+                <div class=\"tablecolumn_field medium_dynamicsize\">\n+                  <span wicket:id=\"isActive\">[isActive]</span>\n+                </div>\n+              </div>\n             </div>\n           </div>\n "},{"sha":"11b40095f8dad1227d2d33023db4eba3d742e590","filename":"console/src/main/resources/org/apache/syncope/console/pages/NotificationModalPage.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.properties?ref=83341463c43e7037085e7401d363baf5e6f37440","patch":"@@ -33,3 +33,4 @@ userFilter=User filter\n userFilterWarning=Do not use this filter unless events are not targeted at users\n userNotifications=User notifications\n userNotificationsWarning=Do not select this checkbox unless events are not targeted at users\n+isActive=Enabled"},{"sha":"ff908316a482ca9f213d4e02552d4ff4af7d664a","filename":"console/src/main/resources/org/apache/syncope/console/pages/NotificationModalPage_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage_it.properties?ref=83341463c43e7037085e7401d363baf5e6f37440","patch":"@@ -33,3 +33,4 @@ userFilter=Filtro utenti\n userFilterWarning=Non usare questo filtro se gli eventi catturati non riguardano espressamente utenti\n userNotifications=Notifiche utente\n userNotificationsWarning=Non selezionare questa checkbox se gli eventi catturati non riguardano espressamente utenti\n+isActive=Abilitata"},{"sha":"92f2473dfa0f3cd90437883fac0c21d5187967d6","filename":"console/src/main/resources/org/apache/syncope/console/pages/NotificationModalPage_pt_BR.properties","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage_pt_BR.properties?ref=83341463c43e7037085e7401d363baf5e6f37440","patch":"@@ -32,4 +32,5 @@ checkAbout=Todos\n userFilter=User filter\n userFilterWarning=N\\u00e3o use este filtro n\\u00e3o ser que os eventos n\\u00e3o s\\u00e3o direcionados a usu\\u00e1rios\n userNotifications=Notifica\\u00e7\\u00f5es do usu\\u00e1rio\n-userNotificationsWarning=N\\u00e3o selecione esta op\\u00e7\\u00e3o a menos que os eventos n\\u00e3o s\\u00e3o direcionados a usu\\u00e1rios\n\\ No newline at end of file\n+userNotificationsWarning=N\\u00e3o selecione esta op\\u00e7\\u00e3o a menos que os eventos n\\u00e3o s\\u00e3o direcionados a usu\\u00e1rios\n+isActive=Ativada\n\\ No newline at end of file"},{"sha":"83bb8d58035ffd64eb92a406c091294911863b7c","filename":"console/src/test/java/org/apache/syncope/console/ConfigurationTestITCase.java","status":"modified","additions":88,"deletions":0,"changes":88,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/83341463c43e7037085e7401d363baf5e6f37440/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java?ref=83341463c43e7037085e7401d363baf5e6f37440","patch":"@@ -203,6 +203,94 @@ public void createNotification() {\n         seleniumDriver.switchTo().defaultContent();\n     }\n \n+    @Test\n+    public void createDisabledNotification() {\n+        selenium.click(\"css=img[alt=\\\"Configuration\\\"]\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+\n+        selenium.click(\"//div[@id='tabs']/ul/li[3]/a\");\n+\n+        selenium.click(\"//a[contains(text(),'Create new notification')]\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\"\n+                + \"\\\"//div[2]/form/div[3]/div/div/div/div/label\\\");\", \"30000\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//input[@name='sender:textField']\\\");\", \"30000\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//iframe\\\");\", \"30000\");\n+        selenium.selectFrame(\"index=0\");\n+\n+        selenium.type(\"name=sender:textField\", \"test@syncope.it\");\n+\n+        selenium.type(\"name=sender:textField\", \"test@syncope.it\");\n+\n+        selenium.select(\"//div[2]/form/div[3]/div/div/div[3]/div[2]/span/select\", \"label=UserSchema\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\"\n+                + \"\\\"//div[2]/form/div[3]/div/div/div[4]/div[2]/span/select/option[2]\\\");\", \"30000\");\n+\n+        selenium.select(\"//div[2]/form/div[3]/div/div/div[4]/div[2]/span/select\", \"label=fullname\");\n+\n+        selenium.select(\"//div[2]/form/div[3]/div/div/div[5]/div[2]/span/select\", \"label=optin\");\n+\n+        selenium.select(\"//div[2]/form/div[3]/div/div/div[6]/div[2]/span/select\", \"label=ALL\");\n+\n+        // disable notification\n+        selenium.click(\"//div[2]/form/div[3]/div/div/div[7]/div[2]/span/input\");\n+        \n+        selenium.click(\"//div[2]/form/div[3]/ul/li[3]/a/span\");\n+\n+        selenium.click(\"//div[2]/form/div[3]/ul/li[2]/a/span\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"\"\n+                + \"//select[@name='eventSelection:categoryContainer:type:dropDownChoiceField']\"\n+                + \"/option[text()='PROPAGATION']\\\");\",\n+                \"30000\");\n+\n+        selenium.select(\n+                \"//select[@name='eventSelection:categoryContainer:type:dropDownChoiceField']\",\n+                \"label=PROPAGATION\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"\"\n+                + \"//select[@name='eventSelection:categoryContainer:category:dropDownChoiceField']\"\n+                + \"/option[text()='role']\\\");\",\n+                \"30000\");\n+        \n+        selenium.select(\n+                \"//select[@name='eventSelection:categoryContainer:category:dropDownChoiceField']\",\n+                \"label=role\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"\"\n+                + \"//select[@name='eventSelection:categoryContainer:subcategory:dropDownChoiceField']\"\n+                + \"/option[text()='resource-db-sync']\\\");\",\n+                \"30000\");\n+\n+        selenium.select(\n+                \"//select[@name='eventSelection:categoryContainer:subcategory:dropDownChoiceField']\",\n+                \"label=resource-db-sync\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\"\n+                + \"\\\"//input[@name='eventSelection:eventsContainer:eventsPanel:failureGroup']\\\");\",\n+                \"30000\");\n+\n+        selenium.click(\"//div[@class='eventSelectionWidzard']/div[2]/div[3]/span/div/input\");\n+\n+        selenium.click(\"//div[2]/form/div[3]/ul/li[4]/a/span\");\n+        \n+        selenium.click(\"//div[2]/form/div[3]/div[4]/div/div/span/input\");\n+\n+        selenium.type(\n+                \"name=staticRecipients:multiValueContainer:view:0:panel:textField\", \"syncope492@syncope.apache.org\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\"\n+                + \"\\\"//div[2]/form/div[3]/div[4]/div/div[2]/label\\\");\", \"30000\");\n+\n+        selenium.click(\"//div[2]/form/div[4]/input\");\n+\n+        seleniumDriver.switchTo().defaultContent();\n+    }\n+    \n     @Test\n     public void issueSYNCOPE189() {\n         selenium.click(\"css=img[alt=\\\"Configuration\\\"]\");"},{"sha":"e294e026f21436d2e1c5dcd8aaf4a204433e046e","filename":"core/src/main/java/org/apache/syncope/core/notification/NotificationManager.java","status":"modified","additions":33,"deletions":28,"changes":61,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/83341463c43e7037085e7401d363baf5e6f37440/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fnotification%2FNotificationManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/83341463c43e7037085e7401d363baf5e6f37440/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fnotification%2FNotificationManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fnotification%2FNotificationManager.java?ref=83341463c43e7037085e7401d363baf5e6f37440","patch":"@@ -269,35 +269,40 @@ public void createTasks(\n \n         for (Notification notification : notificationDAO.findAll()) {\n             LOG.debug(\"Notification available about {}\", notification.getAbout());\n-\n-            final Set<String> events = new HashSet<String>(notification.getEvents());\n-            events.retainAll(Collections.<String>singleton(LoggerEventUtils.buildEvent(\n-                    type, category, subcategory, event, condition)));\n-\n-            if (events.isEmpty()) {\n-                LOG.debug(\"No events found about {}\", attributable);\n-            } else if (attributableType == null || attributable == null || notification.getAbout() == null\n-                    || searchDAO.matches(attributable,\n-                            SearchCondConverter.convert(notification.getAbout()),\n-                            AttributableUtil.getInstance(attributableType))) {\n-\n-                LOG.debug(\"Creating notification task for events {} about {}\", events, attributable);\n-\n-                final Map<String, Object> model = new HashMap<String, Object>();\n-                model.put(\"type\", type);\n-                model.put(\"category\", category);\n-                model.put(\"subcategory\", subcategory);\n-                model.put(\"event\", event);\n-                model.put(\"condition\", condition);\n-                model.put(\"before\", before);\n-                model.put(\"output\", output);\n-                model.put(\"input\", input);\n-\n-                if (attributable instanceof SyncopeUser) {\n-                    model.put(\"user\", userDataBinder.getUserTO((SyncopeUser) attributable));\n+            if (notification.isActive()) {\n+\n+                final Set<String> events = new HashSet<String>(notification.getEvents());\n+                events.retainAll(Collections.<String>singleton(LoggerEventUtils.buildEvent(\n+                        type, category, subcategory, event, condition)));\n+\n+                if (events.isEmpty()) {\n+                    LOG.debug(\"No events found about {}\", attributable);\n+                } else if (attributableType == null || attributable == null || notification.\n+                        getAbout() == null || searchDAO.matches(attributable,\n+                                SearchCondConverter.convert(notification.getAbout()),\n+                                AttributableUtil.getInstance(attributableType))) {\n+\n+                    LOG.debug(\"Creating notification task for events {} about {}\", events, attributable);\n+\n+                    final Map<String, Object> model = new HashMap<String, Object>();\n+                    model.put(\"type\", type);\n+                    model.put(\"category\", category);\n+                    model.put(\"subcategory\", subcategory);\n+                    model.put(\"event\", event);\n+                    model.put(\"condition\", condition);\n+                    model.put(\"before\", before);\n+                    model.put(\"output\", output);\n+                    model.put(\"input\", input);\n+\n+                    if (attributable instanceof SyncopeUser) {\n+                        model.put(\"user\", userDataBinder.getUserTO((SyncopeUser) attributable));\n+                    }\n+\n+                    taskDAO.save(getNotificationTask(notification, attributable, model));\n                 }\n-\n-                taskDAO.save(getNotificationTask(notification, attributable, model));\n+            } else {\n+                LOG.debug(\"Notification {}, about {} is deactivated, notification task will not be created\",\n+                        notification.getId(), notification.getAbout());\n             }\n         }\n     }"},{"sha":"3d3335519bca08e0d0aed71c798824b344959977","filename":"core/src/main/java/org/apache/syncope/core/persistence/beans/Notification.java","status":"modified","additions":15,"deletions":0,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/83341463c43e7037085e7401d363baf5e6f37440/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FNotification.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/83341463c43e7037085e7401d363baf5e6f37440/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FNotification.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FNotification.java?ref=83341463c43e7037085e7401d363baf5e6f37440","patch":"@@ -83,11 +83,18 @@ public class Notification extends AbstractBaseBean {\n     @NotNull\n     @Enumerated(EnumType.STRING)\n     private TraceLevel traceLevel;\n+    \n+    @Column(nullable = false)\n+    @Basic\n+    @Min(0)\n+    @Max(1)\n+    private Integer active;\n \n     public Notification() {\n         events = new ArrayList<String>();\n         staticRecipients = new ArrayList<String>();\n         selfAsRecipient = getBooleanAsInteger(false);\n+        active = getBooleanAsInteger(true);\n         traceLevel = TraceLevel.ALL;\n     }\n \n@@ -204,4 +211,12 @@ public TraceLevel getTraceLevel() {\n     public void setTraceLevel(TraceLevel traceLevel) {\n         this.traceLevel = traceLevel;\n     }\n+\n+    public boolean isActive() {\n+        return isBooleanAsInteger(active);\n+    }\n+\n+    public void setActive(final boolean active) {\n+        this.active = getBooleanAsInteger(active);\n+    }\n }"},{"sha":"0cbe74aee7caceddfafeddc3e6de76ad34a3831e","filename":"core/src/test/java/org/apache/syncope/core/notification/NotificationTest.java","status":"modified","additions":46,"deletions":3,"changes":49,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/83341463c43e7037085e7401d363baf5e6f37440/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fnotification%2FNotificationTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/83341463c43e7037085e7401d363baf5e6f37440/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fnotification%2FNotificationTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fnotification%2FNotificationTest.java?ref=83341463c43e7037085e7401d363baf5e6f37440","patch":"@@ -441,7 +441,7 @@ public void issueSYNCOPE445() throws Exception {\n \n         notification.setRecipientAttrName(\"email\");\n         notification.setRecipientAttrType(IntMappingType.UserSchema);\n-        \n+\n         notification.getStaticRecipients().add(\"syncope445@syncope.apache.org\");\n \n         Random random = new Random(System.currentTimeMillis());\n@@ -479,13 +479,56 @@ public void issueSYNCOPE445() throws Exception {\n                 recipients = task.getRecipients();\n             }\n         }\n-        \n+\n         assertNotNull(taskId);\n         assertNotNull(textBody);\n         assertTrue(recipients.contains(\"syncope445@syncope.apache.org\"));\n-        \n+\n         // 5. execute Notification task and verify e-mail\n         taskController.execute(taskId, false);\n         assertTrue(verifyMail(sender, subject));\n     }\n+\n+    @Test\n+    public void issueSYNCOPE492() throws Exception {\n+        // 1. create suitable disabled notification for subsequent tests\n+        Notification notification = new Notification();\n+        notification.addEvent(\"[REST]:[UserController]:[]:[create]:[SUCCESS]\");\n+        notification.setAbout(SyncopeClient.getUserSearchConditionBuilder().hasRoles(7L).query());\n+        notification.setSelfAsRecipient(true);\n+\n+        notification.setRecipientAttrName(\"email\");\n+        notification.setRecipientAttrType(IntMappingType.UserSchema);\n+\n+        notification.getStaticRecipients().add(\"syncope492@syncope.apache.org\");\n+\n+        Random random = new Random(System.currentTimeMillis());\n+        String sender = \"syncopetest-\" + random.nextLong() + \"@syncope.apache.org\";\n+        notification.setSender(sender);\n+        String subject = \"Test notification \" + random.nextLong();\n+        notification.setSubject(subject);\n+        notification.setTemplate(\"optin\");\n+        notification.setActive(false);\n+\n+        Notification actual = notificationDAO.save(notification);\n+        assertNotNull(actual);\n+\n+        notificationDAO.flush();\n+\n+        final int tasksNumberBefore = taskDAO.findAll(NotificationTask.class).size();\n+\n+        // 2. create user\n+        UserTO userTO = UserTestITCase.getUniqueSampleTO(mailAddress);\n+        MembershipTO membershipTO = new MembershipTO();\n+        membershipTO.setRoleId(7);\n+        userTO.getMemberships().add(membershipTO);\n+\n+        userController.create(userTO);\n+\n+        // 3. force Quartz job execution\n+        notificationJob.execute(null);\n+\n+        // 4. check if number of tasks is not incremented\n+        assertEquals(tasksNumberBefore, taskDAO.findAll(NotificationTask.class).size());\n+    }\n }"},{"sha":"ee2db9f963793be2105b524965d51a008efafd6c","filename":"core/src/test/java/org/apache/syncope/core/rest/TaskTestITCase.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/83341463c43e7037085e7401d363baf5e6f37440/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FTaskTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/83341463c43e7037085e7401d363baf5e6f37440/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FTaskTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FTaskTestITCase.java?ref=83341463c43e7037085e7401d363baf5e6f37440","patch":"@@ -550,6 +550,7 @@ private void createNotificationTask(final String sender) {\n         String subject = \"Test notification\";\n         notification.setSubject(subject);\n         notification.setTemplate(\"optin\");\n+        notification.setActive(true);\n \n         Response response = notificationService.create(notification);\n         notification = getObject(response.getLocation(), NotificationService.class, NotificationTO.class);"},{"sha":"53ee816e1597ccc7a727060b8c366e006d1bf377","filename":"core/src/test/resources/content.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/83341463c43e7037085e7401d363baf5e6f37440/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/83341463c43e7037085e7401d363baf5e6f37440/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fresources%2Fcontent.xml?ref=83341463c43e7037085e7401d363baf5e6f37440","patch":"@@ -847,7 +847,7 @@ under the License.\n   <Notification id=\"1\" sender=\"test@syncope.apache.org\" subject=\"Test subject\" template=\"test\" selfAsRecipient=\"0\" traceLevel=\"ALL\"\n                 about=\"fullname==*o*;fullname==*i*\"\n                 recipients=\"$roles==7\"\n-                recipientAttrType=\"UserSchema\" recipientAttrName=\"email\"/>\n+                recipientAttrType=\"UserSchema\" recipientAttrName=\"email\" active=\"1\"/>\n   <Notification_events Notification_id=\"1\" events=\"[CUSTOM]:[]:[]:[unexisting1]:[FAILURE]\"/>\n   <Notification_events Notification_id=\"1\" events=\"[CUSTOM]:[]:[]:[unexisting2]:[SUCCESS]\"/>\n     "}]}
{"sha":"03403aa75736c99a25f2d4fccd1adb91d2dcbb46","node_id":"C_kwDOJfYA1toAKDAzNDAzYWE3NTczNmM5OWEyNWYyZDRmY2NkMWFkYjkxZDJkY2JiNDY","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2021-11-08T07:10:59Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2021-11-08T07:10:59Z"},"message":"Upgrading Spring Cloud Gateway, Swagger UI and ANTLR","tree":{"sha":"9bb3326a520ec5545f11d6a514a10895283a8f82","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/9bb3326a520ec5545f11d6a514a10895283a8f82"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/03403aa75736c99a25f2d4fccd1adb91d2dcbb46","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/03403aa75736c99a25f2d4fccd1adb91d2dcbb46","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/03403aa75736c99a25f2d4fccd1adb91d2dcbb46","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/03403aa75736c99a25f2d4fccd1adb91d2dcbb46/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"d37e91928c22853d12ff01bc5e3bb201f6054051","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d37e91928c22853d12ff01bc5e3bb201f6054051","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d37e91928c22853d12ff01bc5e3bb201f6054051"}],"stats":{"total":33,"additions":26,"deletions":7},"files":[{"sha":"39ee1cfe9f472ced91b95d8d6c059d49c567a931","filename":"pom.xml","status":"modified","additions":6,"deletions":4,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/03403aa75736c99a25f2d4fccd1adb91d2dcbb46/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/03403aa75736c99a25f2d4fccd1adb91d2dcbb46/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=03403aa75736c99a25f2d4fccd1adb91d2dcbb46","patch":"@@ -412,7 +412,7 @@ under the License.\n     <jackson.version>2.13.0</jackson.version>\n \n     <spring-boot.version>2.5.6</spring-boot.version>\n-    <spring-cloud-gateway.version>3.0.4</spring-cloud-gateway.version>\n+    <spring-cloud-gateway.version>3.0.5</spring-cloud-gateway.version>\n \n     <openjpa.version>3.2.0</openjpa.version>\n     <hikaricp.version>5.0.0</hikaricp.version>\n@@ -456,7 +456,7 @@ under the License.\n     <h2.version>1.4.200</h2.version>\n \n     <swagger-core.version>2.1.11</swagger-core.version>\n-    <swagger-ui.version>3.52.5</swagger-ui.version>\n+    <swagger-ui.version>4.0.1</swagger-ui.version>\n \n     <jquery-slimscroll.version>1.3.8</jquery-slimscroll.version>\n     <jquery-cookie.version>1.4.1-1</jquery-cookie.version>\n@@ -476,7 +476,7 @@ under the License.\n     <wicket-bootstrap.version>5.0.5</wicket-bootstrap.version>\n     <wicket-spring-boot.version>3.0.4</wicket-spring-boot.version>\n \n-    <antlr4.version>4.9.2</antlr4.version>\n+    <antlr4.version>4.9.3</antlr4.version>\n \n     <curator.version>5.2.0</curator.version>\n     <zookeeper.version>3.7.0</zookeeper.version>\n@@ -1890,7 +1890,9 @@ under the License.\n       <dependency>\n         <groupId>org.springframework.cloud</groupId>\n         <artifactId>spring-cloud-contract-wiremock</artifactId>\n-        <version>${spring-cloud-gateway.version}</version>\n+        <version>3.0.4</version>\n+        <!-- unfortunately, not always aligned with spring-cloud-gateway -->\n+        <!--<version>${spring-cloud-gateway.version}</version>-->\n         <scope>test</scope>\n       </dependency>\n "},{"sha":"a3b095bf5064cd73d55733a9d94f4e54494cafc1","filename":"sra/src/main/java/org/springframework/cloud/gateway/config/HttpClientProperties.java","status":"modified","additions":20,"deletions":3,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/03403aa75736c99a25f2d4fccd1adb91d2dcbb46/sra%2Fsrc%2Fmain%2Fjava%2Forg%2Fspringframework%2Fcloud%2Fgateway%2Fconfig%2FHttpClientProperties.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/03403aa75736c99a25f2d4fccd1adb91d2dcbb46/sra%2Fsrc%2Fmain%2Fjava%2Forg%2Fspringframework%2Fcloud%2Fgateway%2Fconfig%2FHttpClientProperties.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/sra%2Fsrc%2Fmain%2Fjava%2Forg%2Fspringframework%2Fcloud%2Fgateway%2Fconfig%2FHttpClientProperties.java?ref=03403aa75736c99a25f2d4fccd1adb91d2dcbb46","patch":"@@ -45,6 +45,9 @@\n //import org.springframework.validation.annotation.Validated;\n \n // CHECKSTYLE:OFF\n+// Semi-blind copy from Spring Cloud Gateway sources, to keep until\n+// https://github.com/spring-cloud/spring-cloud-gateway/issues/2303\n+// is fixed.\n /**\n  * Configuration properties for the Netty {@link reactor.netty.http.client.HttpClient}.\n  */\n@@ -198,7 +201,7 @@ public static class Pool {\n \t\t */\n \t\tprivate Integer maxConnections = ConnectionProvider.DEFAULT_POOL_MAX_CONNECTIONS;\n \n-\t\t/** Only for type FIXED, the maximum time in millis to wait for aquiring. */\n+\t\t/** Only for type FIXED, the maximum time in millis to wait for acquiring. */\n \t\tprivate Long acquireTimeout = ConnectionProvider.DEFAULT_POOL_ACQUIRE_TIMEOUT;\n \n \t\t/**\n@@ -219,6 +222,12 @@ public static class Pool {\n \t\t */\n \t\tprivate Duration evictionInterval = Duration.ZERO;\n \n+\t\t/**\n+\t\t * Enables channel pools metrics to be collected and registered in Micrometer.\n+\t\t * Disabled by default.\n+\t\t */\n+\t\tprivate boolean metrics = false;\n+\n \t\tpublic PoolType getType() {\n \t\t\treturn type;\n \t\t}\n@@ -275,11 +284,19 @@ public void setEvictionInterval(Duration evictionInterval) {\n \t\t\tthis.evictionInterval = evictionInterval;\n \t\t}\n \n+\t\tpublic boolean isMetrics() {\n+\t\t\treturn metrics;\n+\t\t}\n+\n+\t\tpublic void setMetrics(boolean metrics) {\n+\t\t\tthis.metrics = metrics;\n+\t\t}\n+\n \t\t@Override\n \t\tpublic String toString() {\n \t\t\treturn \"Pool{\" + \"type=\" + type + \", name='\" + name + '\\'' + \", maxConnections=\" + maxConnections\n \t\t\t\t\t+ \", acquireTimeout=\" + acquireTimeout + \", maxIdleTime=\" + maxIdleTime + \", maxLifeTime=\"\n-\t\t\t\t\t+ maxLifeTime + \", evictionInterval=\" + evictionInterval + '}';\n+\t\t\t\t\t+ maxLifeTime + \", evictionInterval=\" + evictionInterval + \", metrics=\" + metrics + '}';\n \t\t}\n \n \t\tpublic enum PoolType {\n@@ -621,5 +638,5 @@ public String toString() {\n \t\t}\n \n \t}\n-// CHECKSTYLE:ON\n+\n }"}]}
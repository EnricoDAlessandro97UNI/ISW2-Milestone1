{"sha":"7de2d08eb3ea65a17d3598ef12ea7c654f9b6f6e","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjdkZTJkMDhlYjNlYTY1YTE3ZDM1OThlZjEyZWE3YzY1NGY5YjZmNmU=","commit":{"author":{"name":"fmartelli","email":"fabio.martelli@gmail.com","date":"2018-10-11T08:31:54Z"},"committer":{"name":"fmartelli","email":"fabio.martelli@gmail.com","date":"2018-10-11T08:33:00Z"},"message":"[SYNCOPE-1383] fixes the class cast exception by using a real SearchResultHandler","tree":{"sha":"e41d85236b954f6e13e229186698612ab3b8a9a7","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/e41d85236b954f6e13e229186698612ab3b8a9a7"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/7de2d08eb3ea65a17d3598ef12ea7c654f9b6f6e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/7de2d08eb3ea65a17d3598ef12ea7c654f9b6f6e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/7de2d08eb3ea65a17d3598ef12ea7c654f9b6f6e","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/7de2d08eb3ea65a17d3598ef12ea7c654f9b6f6e/comments","author":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"committer":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"794416c94798a2bc83c9e34a52698b7e4a9ef2bf","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/794416c94798a2bc83c9e34a52698b7e4a9ef2bf","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/794416c94798a2bc83c9e34a52698b7e4a9ef2bf"}],"stats":{"total":20,"additions":16,"deletions":4},"files":[{"sha":"e778639bfb34b5912a2ed53a2a46c33b14188081","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/AsyncConnectorFacade.java","status":"modified","additions":16,"deletions":4,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/7de2d08eb3ea65a17d3598ef12ea7c654f9b6f6e/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FAsyncConnectorFacade.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/7de2d08eb3ea65a17d3598ef12ea7c654f9b6f6e/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FAsyncConnectorFacade.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FAsyncConnectorFacade.java?ref=7de2d08eb3ea65a17d3598ef12ea7c654f9b6f6e","patch":"@@ -28,9 +28,11 @@\n import org.identityconnectors.framework.common.objects.ObjectClass;\n import org.identityconnectors.framework.common.objects.ObjectClassInfo;\n import org.identityconnectors.framework.common.objects.OperationOptions;\n+import org.identityconnectors.framework.common.objects.SearchResult;\n import org.identityconnectors.framework.common.objects.SyncToken;\n import org.identityconnectors.framework.common.objects.Uid;\n import org.identityconnectors.framework.common.objects.filter.FilterBuilder;\n+import org.identityconnectors.framework.spi.SearchResultsHandler;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.scheduling.annotation.Async;\n@@ -107,10 +109,20 @@ public Future<ConnectorObject> getObject(\n         connector.search(\n                 objectClass,\n                 ignoreCaseMatch ? FilterBuilder.equalsIgnoreCase(connObjectKey) : FilterBuilder.equalTo(connObjectKey),\n-                connectorObject -> {\n-                    objects[0] = connectorObject;\n-                    return false;\n-                }, options);\n+                new SearchResultsHandler() {\n+\n+            @Override\n+            public boolean handle(final ConnectorObject connectorObject) {\n+                objects[0] = connectorObject;\n+                return false;\n+            }\n+\n+            @Override\n+            public void handleResult(final SearchResult sr) {\n+                // do nothing\n+            }\n+        },\n+                options);\n \n         return new AsyncResult<>(objects[0]);\n     }"}]}
{"sha":"b4252cf57d8d45a815dec981356a6da71b88b3af","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmI0MjUyY2Y1N2Q4ZDQ1YTgxNWRlYzk4MTM1NmE2ZGE3MWI4OGIzYWY=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2011-10-28T14:59:55Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2011-10-28T14:59:55Z"},"message":"Fixes issue 74\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247170 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"932d6d80030e8f31ef5592d708a845afe1103114","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/932d6d80030e8f31ef5592d708a845afe1103114"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/b4252cf57d8d45a815dec981356a6da71b88b3af","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b4252cf57d8d45a815dec981356a6da71b88b3af","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/b4252cf57d8d45a815dec981356a6da71b88b3af","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b4252cf57d8d45a815dec981356a6da71b88b3af/comments","author":null,"committer":null,"parents":[{"sha":"fc739b5ae16f10bc9ca952c1b97cd1420fbae5d6","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fc739b5ae16f10bc9ca952c1b97cd1420fbae5d6","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/fc739b5ae16f10bc9ca952c1b97cd1420fbae5d6"}],"stats":{"total":1820,"additions":1274,"deletions":546},"files":[{"sha":"250b4dcdf3622fc6efd360e726e958c529592c11","filename":"client/src/main/java/org/syncope/client/to/WorkflowFormPropertyTO.java","status":"modified","additions":36,"deletions":0,"changes":36,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FWorkflowFormPropertyTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FWorkflowFormPropertyTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FWorkflowFormPropertyTO.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -13,6 +13,8 @@\n  */\n package org.syncope.client.to;\n \n+import java.util.HashMap;\n+import java.util.Map;\n import org.syncope.client.AbstractBaseBean;\n import org.syncope.types.WorkflowFormPropertyType;\n \n@@ -34,6 +36,14 @@ public class WorkflowFormPropertyTO extends AbstractBaseBean {\n \n     private boolean required;\n \n+    private String datePattern;\n+\n+    private Map<String, String> enumValues;\n+\n+    public WorkflowFormPropertyTO() {\n+        enumValues = new HashMap<String, String>();\n+    }\n+\n     public String getId() {\n         return id;\n     }\n@@ -89,4 +99,30 @@ public boolean isWritable() {\n     public void setWritable(boolean writable) {\n         this.writable = writable;\n     }\n+\n+    public String getDatePattern() {\n+        return datePattern;\n+    }\n+\n+    public void setDatePattern(String datePattern) {\n+        this.datePattern = datePattern;\n+    }\n+\n+    public Map<String, String> getEnumValues() {\n+        return enumValues;\n+    }\n+\n+    public void putEnumValue(String key, String value) {\n+        this.enumValues.put(key, value);\n+    }\n+\n+    public void removeEnumValue(String key) {\n+        this.enumValues.remove(key);\n+    }\n+\n+    public void setEnumValues(Map<String, String> enumValues) {\n+        if (enumValues != null) {\n+            this.enumValues = enumValues;\n+        }\n+    }\n }"},{"sha":"1a6728d522e70d709ec89f6da6e69c1d2a6b182a","filename":"client/src/main/java/org/syncope/client/to/WorkflowFormTO.java","status":"modified","additions":0,"deletions":10,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FWorkflowFormTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FWorkflowFormTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FWorkflowFormTO.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -35,8 +35,6 @@ public class WorkflowFormTO extends AbstractBaseBean {\n \n     private Date dueDate;\n \n-    private String assignee;\n-\n     private String owner;\n \n     private List<WorkflowFormPropertyTO> properties;\n@@ -61,14 +59,6 @@ public void setKey(String key) {\n         this.key = key;\n     }\n \n-    public String getAssignee() {\n-        return assignee;\n-    }\n-\n-    public void setAssignee(String assignee) {\n-        this.assignee = assignee;\n-    }\n-\n     public Date getCreateTime() {\n         return createTime;\n     }"},{"sha":"88e2f91339e72ad05dc14be9e5be37befaef6b45","filename":"client/src/test/java/org/syncope/client/test/JSONTest.java","status":"modified","additions":19,"deletions":4,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/client%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fclient%2Ftest%2FJSONTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/client%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fclient%2Ftest%2FJSONTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fclient%2Ftest%2FJSONTest.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -23,14 +23,11 @@\n import java.util.List;\n import org.codehaus.jackson.map.ObjectMapper;\n import org.junit.Test;\n-import org.springframework.beans.factory.annotation.Autowired;\n import org.syncope.client.search.AttributeCond;\n import org.syncope.client.search.MembershipCond;\n import org.syncope.client.search.NodeCond;\n import org.syncope.client.to.SchemaTO;\n-import org.syncope.client.to.SyncPolicyTO;\n-import org.syncope.types.PolicyType;\n-import org.syncope.types.SyncPolicySpec;\n+import org.syncope.client.to.WorkflowFormPropertyTO;\n \n public class JSONTest {\n \n@@ -84,4 +81,22 @@ public void testLists()\n             assertNotNull(unserializedSchema);\n         }\n     }\n+\n+    @Test\n+    public void testMap()\n+            throws IOException {\n+\n+        WorkflowFormPropertyTO prop = new WorkflowFormPropertyTO();\n+        prop.putEnumValue(\"key1\", \"value1\");\n+        prop.putEnumValue(\"key2\", \"value2\");\n+\n+        ObjectMapper mapper = new ObjectMapper();\n+\n+        StringWriter writer = new StringWriter();\n+        mapper.writeValue(writer, prop);\n+\n+        WorkflowFormPropertyTO unserializedProp = mapper.readValue(\n+                writer.toString(), WorkflowFormPropertyTO.class);\n+        assertEquals(prop, unserializedProp);\n+    }\n }"},{"sha":"522a7c6cc31a24d51c124db1b977a3299c20c13e","filename":"console/src/main/java/org/syncope/console/SyncopeApplication.java","status":"modified","additions":10,"deletions":8,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -32,14 +32,14 @@\n import org.apache.wicket.spring.injection.annot.SpringComponentInjector;\n import org.syncope.console.commons.XMLRolesReader;\n import org.syncope.console.pages.Configuration;\n-import org.syncope.console.pages.Connectors;\n import org.syncope.console.pages.Login;\n import org.syncope.console.pages.Logout;\n import org.syncope.console.pages.Report;\n import org.syncope.console.pages.Resources;\n import org.syncope.console.pages.Roles;\n import org.syncope.console.pages.Schema;\n import org.syncope.console.pages.Tasks;\n+import org.syncope.console.pages.Todo;\n import org.syncope.console.pages.Users;\n import org.syncope.console.pages.WelcomePage;\n \n@@ -69,7 +69,7 @@ protected void init() {\n                 \"SCHEMA_LIST\");\n         MetaDataRoleAuthorizationStrategy.authorize(Roles.class,\n                 \"ROLE_LIST\");\n-        MetaDataRoleAuthorizationStrategy.authorize(Connectors.class,\n+        MetaDataRoleAuthorizationStrategy.authorize(Resources.class,\n                 \"CONNECTOR_LIST\");\n         MetaDataRoleAuthorizationStrategy.authorize(Resources.class,\n                 \"RESOURCE_LIST\");\n@@ -81,6 +81,8 @@ protected void init() {\n                 \"TASK_LIST\");\n         MetaDataRoleAuthorizationStrategy.authorize(Configuration.class,\n                 \"CONFIGURATION_LIST\");\n+        MetaDataRoleAuthorizationStrategy.authorize(Todo.class,\n+                \"WORKFLOW_FORM_LIST\");\n \n         getRequestCycleListeners().add(new SyncopeRequestCycleListener());\n     }\n@@ -123,13 +125,13 @@ public void setupNavigationPane(final WebPage page,\n                 resourcesLink, WebPage.ENABLE, allowedResourcesRoles);\n         page.add(resourcesLink);\n \n-        BookmarkablePageLink connectorsLink =\n-                new BookmarkablePageLink(\"connectors\", Connectors.class);\n-        String allowedConnectorsRoles =\n-                xmlRolesReader.getAllAllowedRoles(\"Connectors\", \"list\");\n+        BookmarkablePageLink todoLink =\n+                new BookmarkablePageLink(\"todo\", Todo.class);\n+        String allowedTodoRoles =\n+                xmlRolesReader.getAllAllowedRoles(\"Todo\", \"list\");\n         MetaDataRoleAuthorizationStrategy.authorize(\n-                connectorsLink, WebPage.ENABLE, allowedConnectorsRoles);\n-        page.add(connectorsLink);\n+                todoLink, WebPage.ENABLE, allowedTodoRoles);\n+        page.add(todoLink);\n \n         BookmarkablePageLink reportLink =\n                 new BookmarkablePageLink(\"report\", Report.class);"},{"sha":"767a5de04e8a558a4daac5749eadbccb8aa49c91","filename":"console/src/main/java/org/syncope/console/commons/Constants.java","status":"modified","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fcommons%2FConstants.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fcommons%2FConstants.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fcommons%2FConstants.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -66,6 +66,9 @@ public final class Constants {\n     public static final String PREF_TASKS_PAGINATOR_ROWS =\n             \"tasks.paginator.rows\";\n \n+    public static final String PREF_TODO_PAGINATOR_ROWS =\n+            \"todo.paginator.rows\";\n+\n     public static final String PAGEPARAM_CREATE = \"CREATE\";\n \n     public static final String PAGEPARAM_CURRENT_PAGE = \"_current_page\";"},{"sha":"dc0562832313d9100996bf6784db547ea005afb9","filename":"console/src/main/java/org/syncope/console/commons/MapChoiceRenderer.java","status":"added","additions":38,"deletions":0,"changes":38,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fcommons%2FMapChoiceRenderer.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fcommons%2FMapChoiceRenderer.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fcommons%2FMapChoiceRenderer.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -0,0 +1,38 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.syncope.console.commons;\n+\n+import java.util.Map;\n+import org.apache.wicket.markup.html.form.IChoiceRenderer;\n+\n+public class MapChoiceRenderer<T, K> implements IChoiceRenderer<T> {\n+\n+    private static final long serialVersionUID = -7452881117778186644L;\n+\n+    private final Map<T, K> map;\n+\n+    public MapChoiceRenderer(final Map<T, K> map) {\n+        this.map = map;\n+    }\n+\n+    @Override\n+    public Object getDisplayValue(final T key) {\n+        return map.get(key);\n+    }\n+\n+    @Override\n+    public String getIdValue(final T key, final int index) {\n+        return key.toString();\n+    }\n+}"},{"sha":"0def87a851836923ab931570db0cfa9905cc4aaa","filename":"console/src/main/java/org/syncope/console/pages/Configuration.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -238,7 +238,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n         editConfigWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n         editConfigWin.setInitialHeight(WIN_HEIGHT);\n-        editConfigWin.setInitialWidth(WIN_HEIGHT);\n+        editConfigWin.setInitialWidth(WIN_WIDTH);\n         editConfigWin.setCookieName(\"edit-configuration-modal\");\n \n         setWindowClosedCallback(createConfigWin, confContainer);\n@@ -320,8 +320,6 @@ protected void onUpdate(final AjaxRequestTarget target) {\n         paginatorForm.add(rowsChooser);\n         add(paginatorForm);\n \n-        add(paginatorForm);\n-\n         add(new PasswordPoliciesPanel(\"passwordPoliciesPanel\"));\n \n         // Workflow definition stuff\n@@ -351,9 +349,11 @@ protected void onSubmit(final AjaxRequestTarget target,\n \n                 try {\n                     restClient.updateWorkflowDefinition(workflowDef);\n+                    info(getString(\"operation_succeded\"));\n                 } catch (SyncopeClientCompositeErrorException scee) {\n                     error(getString(\"error\") + \":\" + scee.getMessage());\n                 }\n+                target.add(feedbackPanel);\n             }\n \n             @Override"},{"sha":"68492faa8ba85bf8ecb6453d16dca858452d5879","filename":"console/src/main/java/org/syncope/console/pages/ConnectorModalPage.java","status":"modified","additions":4,"deletions":3,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -118,7 +118,8 @@ protected List<ConnConfProperty> load() {\n                         } else {\n                             selectedBundleTO.setBundleName(\n                                     connectorTO.getBundleName());\n-                            selectedBundleTO.setVersion(connectorTO.getVersion());\n+                            selectedBundleTO.setVersion(\n+                                    connectorTO.getVersion());\n                             result = new ArrayList<ConnConfProperty>(\n                                     connectorTO.getConfiguration());\n                         }\n@@ -341,12 +342,12 @@ protected void onSubmit(final AjaxRequestTarget target,\n                         restClient.update(connector);\n                     }\n \n-                    ((Connectors) callerPageRef.getPage()).setOperationResult(\n+                    ((Resources) callerPageRef.getPage()).setOperationResult(\n                             true);\n                     window.close(target);\n                 } catch (SyncopeClientCompositeErrorException e) {\n                     error(getString(\"error\") + \":\" + e.getMessage());\n-                    ((Connectors) callerPageRef.getPage()).setOperationResult(\n+                    ((Resources) callerPageRef.getPage()).setOperationResult(\n                             false);\n                     LOG.error(\"While creating or updating connector \"\n                             + connector);"},{"sha":"fb4ec7ebd42d5cf4e20964108853c1b907b365f2","filename":"console/src/main/java/org/syncope/console/pages/Connectors.java","status":"removed","additions":0,"deletions":406,"changes":406,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fc739b5ae16f10bc9ca952c1b97cd1420fbae5d6/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fc739b5ae16f10bc9ca952c1b97cd1420fbae5d6/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.java?ref=fc739b5ae16f10bc9ca952c1b97cd1420fbae5d6","patch":"@@ -1,406 +0,0 @@\n-/*\n- *  Licensed under the Apache License, Version 2.0 (the \"License\");\n- *  you may not use this file except in compliance with the License.\n- *  You may obtain a copy of the License at\n- *\n- *       http://www.apache.org/licenses/LICENSE-2.0\n- *\n- *  Unless required by applicable law or agreed to in writing, software\n- *  distributed under the License is distributed on an \"AS IS\" BASIS,\n- *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- *  See the License for the specific language governing permissions and\n- *  limitations under the License.\n- *  under the License.\n- */\n-package org.syncope.console.pages;\n-\n-import java.util.ArrayList;\n-import java.util.Collections;\n-import java.util.Iterator;\n-import java.util.List;\n-import org.apache.wicket.Page;\n-import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n-import org.apache.wicket.ajax.markup.html.AjaxLink;\n-import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n-import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n-import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n-import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n-import org.apache.wicket.extensions.markup.html.repeater.data.sort.SortOrder;\n-import org.apache.wicket.extensions.markup.html.repeater.data.table.AbstractColumn;\n-import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n-import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n-import org.apache.wicket.extensions.markup.html.repeater.util.SortableDataProvider;\n-import org.apache.wicket.markup.html.WebMarkupContainer;\n-import org.apache.wicket.markup.html.form.DropDownChoice;\n-import org.apache.wicket.markup.html.form.Form;\n-import org.apache.wicket.markup.repeater.Item;\n-import org.apache.wicket.model.AbstractReadOnlyModel;\n-import org.apache.wicket.model.IModel;\n-import org.apache.wicket.model.PropertyModel;\n-import org.apache.wicket.model.ResourceModel;\n-import org.apache.wicket.request.mapper.parameter.PageParameters;\n-import org.apache.wicket.spring.injection.annot.SpringBean;\n-import org.syncope.client.to.ConnInstanceTO;\n-import org.syncope.client.to.ResourceTO;\n-import org.syncope.client.validation.SyncopeClientCompositeErrorException;\n-import org.syncope.console.commons.Constants;\n-import org.syncope.console.commons.PreferenceManager;\n-import org.syncope.console.commons.SortableDataProviderComparator;\n-import org.syncope.console.rest.ConnectorRestClient;\n-import org.syncope.console.rest.ResourceRestClient;\n-import org.syncope.console.wicket.ajax.markup.html.IndicatingDeleteOnConfirmAjaxLink;\n-import org.syncope.console.wicket.markup.html.form.DeleteLinkPanel;\n-import org.syncope.console.wicket.markup.html.form.EditLinkPanel;\n-\n-/**\n- * Connectors WebPage.\n- */\n-public class Connectors extends BasePage {\n-\n-    private static final int WIN_HEIGHT = 400;\n-\n-    private static final int WIN_WIDTH = 600;\n-\n-    private static final long serialVersionUID = 4983541555239865907L;\n-\n-    @SpringBean\n-    private ConnectorRestClient restClient;\n-\n-    @SpringBean\n-    private ResourceRestClient resourceRestClient;\n-\n-    @SpringBean\n-    private PreferenceManager prefMan;\n-\n-    private final ModalWindow createConnectorWin;\n-\n-    private final ModalWindow editConnectorWin;\n-\n-    private WebMarkupContainer container;\n-\n-    /**\n-     * Response flag set by the Modal Window after the operation is completed.\n-     */\n-    private boolean operationResult = false;\n-\n-    private int paginatorRows;\n-\n-    public Connectors(PageParameters parameters) {\n-        super(parameters);\n-\n-        add(createConnectorWin = new ModalWindow(\"createConnectorWin\"));\n-        add(editConnectorWin = new ModalWindow(\"editConnectorWin\"));\n-\n-        paginatorRows = prefMan.getPaginatorRows(\n-                getRequest(),\n-                Constants.PREF_CONNECTORS_PAGINATOR_ROWS);\n-\n-        List<IColumn> columns = new ArrayList<IColumn>();\n-\n-        columns.add(new PropertyColumn(new ResourceModel(\"id\"),\n-                \"id\", \"id\"));\n-\n-        columns.add(new PropertyColumn(new ResourceModel(\"name\"),\n-                \"connectorName\", \"connectorName\"));\n-\n-        columns.add(new PropertyColumn(new ResourceModel(\"displayName\"),\n-                \"displayName\", \"displayName\"));\n-\n-        columns.add(new PropertyColumn(new ResourceModel(\"version\"),\n-                \"version\", \"version\"));\n-\n-        columns.add(new PropertyColumn(new ResourceModel(\"bundleName\"),\n-                \"bundleName\", \"bundleName\"));\n-\n-        columns.add(new AbstractColumn<ConnInstanceTO>(\n-                new ResourceModel(\"edit\")) {\n-\n-            private static final long serialVersionUID = 2054811145491901166L;\n-\n-            @Override\n-            public void populateItem(\n-                    final Item<ICellPopulator<ConnInstanceTO>> cellItem,\n-                    final String componentId,\n-                    final IModel<ConnInstanceTO> model) {\n-\n-                final ConnInstanceTO connectorTO = model.getObject();\n-\n-                final AjaxLink editLink = new IndicatingAjaxLink(\"editLink\") {\n-\n-                    private static final long serialVersionUID =\n-                            -7978723352517770644L;\n-\n-                    @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n-\n-                        editConnectorWin.setPageCreator(\n-                                new ModalWindow.PageCreator() {\n-\n-                                    private static final long serialVersionUID =\n-                                            -7834632442532690940L;\n-\n-                                    @Override\n-                                    public Page createPage() {\n-                                        return new ConnectorModalPage(\n-                                                Connectors.this.getPageReference(),\n-                                                editConnectorWin, connectorTO,\n-                                                false);\n-                                    }\n-                                });\n-\n-                        editConnectorWin.show(target);\n-                    }\n-                };\n-\n-                EditLinkPanel panel = new EditLinkPanel(componentId, model);\n-                panel.add(editLink);\n-\n-                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n-                        xmlRolesReader.getAllAllowedRoles(\n-                        \"Connectors\", \"read\"));\n-\n-                cellItem.add(panel);\n-            }\n-        });\n-\n-        columns.add(new AbstractColumn<ConnInstanceTO>(\n-                new ResourceModel(\"delete\")) {\n-\n-            private static final long serialVersionUID = 2054811145491901166L;\n-\n-            @Override\n-            public void populateItem(\n-                    final Item<ICellPopulator<ConnInstanceTO>> cellItem,\n-                    final String componentId,\n-                    final IModel<ConnInstanceTO> model) {\n-\n-                final ConnInstanceTO connectorTO = model.getObject();\n-\n-                AjaxLink deleteLink = new IndicatingDeleteOnConfirmAjaxLink(\n-                        \"deleteLink\") {\n-\n-                    private static final long serialVersionUID =\n-                            -7978723352517770644L;\n-\n-                    @Override\n-                    public void onClick(final AjaxRequestTarget target) {\n-\n-                        try {\n-\n-                            if (!checkDeleteIsForbidden(connectorTO)) {\n-                                restClient.delete(connectorTO.getId());\n-                                info(getString(\"operation_succeded\"));\n-                            } else {\n-                                error(getString(\"delete_error\"));\n-                            }\n-\n-                        } catch (SyncopeClientCompositeErrorException e) {\n-                            error(getString(\"operation_error\"));\n-\n-                            LOG.error(\"While deleting connector \"\n-                                    + connectorTO.getId(), e);\n-                        }\n-\n-                        target.add(container);\n-                        target.add(feedbackPanel);\n-                    }\n-                };\n-\n-                DeleteLinkPanel panel = new DeleteLinkPanel(componentId, model);\n-                panel.add(deleteLink);\n-\n-                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n-                        xmlRolesReader.getAllAllowedRoles(\n-                        \"Connectors\", \"delete\"));\n-\n-                cellItem.add(panel);\n-            }\n-        });\n-\n-\n-        final AjaxFallbackDefaultDataTable table =\n-                new AjaxFallbackDefaultDataTable(\"datatable\", columns,\n-                new ConnectorsProvider(), paginatorRows);\n-\n-        container = new WebMarkupContainer(\"container\");\n-        container.add(table);\n-        container.setOutputMarkupId(true);\n-\n-        add(container);\n-\n-        setWindowClosedCallback(createConnectorWin, container);\n-        setWindowClosedCallback(editConnectorWin, container);\n-\n-        createConnectorWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n-        createConnectorWin.setInitialHeight(WIN_HEIGHT);\n-        createConnectorWin.setInitialWidth(WIN_WIDTH);\n-        createConnectorWin.setCookieName(\"create-conn-modal\");\n-\n-        editConnectorWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n-        editConnectorWin.setInitialHeight(WIN_HEIGHT);\n-        editConnectorWin.setInitialWidth(WIN_WIDTH);\n-        editConnectorWin.setCookieName(\"edit-conn-modal\");\n-\n-        AjaxLink createConnectorLink = new IndicatingAjaxLink(\n-                \"createConnectorLink\") {\n-\n-            private static final long serialVersionUID = -7978723352517770644L;\n-\n-            @Override\n-            public void onClick(AjaxRequestTarget target) {\n-\n-                createConnectorWin.setPageCreator(new ModalWindow.PageCreator() {\n-\n-                    private static final long serialVersionUID =\n-                            -7834632442532690940L;\n-\n-                    @Override\n-                    public Page createPage() {\n-                        ConnectorModalPage form = new ConnectorModalPage(\n-                                Connectors.this.getPageReference(),\n-                                editConnectorWin, new ConnInstanceTO(), true);\n-                        return form;\n-                    }\n-                });\n-\n-                createConnectorWin.show(target);\n-            }\n-        };\n-\n-        String allowedRoles = xmlRolesReader.getAllAllowedRoles(\n-                \"Connectors\", \"create\");\n-        MetaDataRoleAuthorizationStrategy.authorize(createConnectorLink, ENABLE,\n-                allowedRoles);\n-\n-        add(createConnectorLink);\n-\n-        Form paginatorForm = new Form(\"PaginatorForm\");\n-\n-        final DropDownChoice rowsChooser = new DropDownChoice(\"rowsChooser\",\n-                new PropertyModel(this, \"paginatorRows\"),\n-                prefMan.getPaginatorChoices());\n-\n-        rowsChooser.add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n-\n-            private static final long serialVersionUID = -1107858522700306810L;\n-\n-            @Override\n-            protected void onUpdate(AjaxRequestTarget target) {\n-                prefMan.set(getRequest(),\n-                        getResponse(),\n-                        Constants.PREF_CONNECTORS_PAGINATOR_ROWS,\n-                        String.valueOf(paginatorRows));\n-                table.setItemsPerPage(paginatorRows);\n-\n-                target.add(container);\n-            }\n-        });\n-\n-        paginatorForm.add(rowsChooser);\n-        add(paginatorForm);\n-    }\n-\n-    /**\n-     * Check if the delete action is forbidden.\n-     *\n-     * @param connectorTO object to check\n-     * @return true if the action is forbidden, false otherwise\n-     */\n-    public boolean checkDeleteIsForbidden(ConnInstanceTO connectorTO) {\n-\n-        boolean forbidden = false;\n-\n-        for (ResourceTO resourceTO : resourceRestClient.getAllResources()) {\n-            if (resourceTO.getConnectorId().equals(connectorTO.getId())) {\n-                forbidden = true;\n-            }\n-        }\n-\n-        return forbidden;\n-    }\n-\n-    /**\n-     * Set a WindowClosedCallback for a ModalWindow instance.\n-     * @param current window\n-     * @param container to refresh\n-     */\n-    private void setWindowClosedCallback(ModalWindow window,\n-            final WebMarkupContainer container) {\n-\n-        window.setWindowClosedCallback(\n-                new ModalWindow.WindowClosedCallback() {\n-\n-                    private static final long serialVersionUID =\n-                            8804221891699487139L;\n-\n-                    @Override\n-                    public void onClose(AjaxRequestTarget target) {\n-                        target.add(container);\n-                        if (operationResult) {\n-                            info(getString(\"operation_succeded\"));\n-                            target.add(feedbackPanel);\n-                            operationResult = false;\n-                        }\n-                    }\n-                });\n-    }\n-\n-    public boolean isOperationResult() {\n-        return operationResult;\n-    }\n-\n-    public void setOperationResult(boolean operationResult) {\n-        this.operationResult = operationResult;\n-    }\n-\n-    class ConnectorsProvider extends SortableDataProvider<ConnInstanceTO> {\n-\n-        private static final long serialVersionUID = 4445909568349448518L;\n-\n-        private SortableDataProviderComparator<ConnInstanceTO> comparator;\n-\n-        public ConnectorsProvider() {\n-            //Default sorting\n-            setSort(\"id\", SortOrder.ASCENDING);\n-            comparator =\n-                    new SortableDataProviderComparator<ConnInstanceTO>(\n-                    this);\n-        }\n-\n-        @Override\n-        public Iterator<ConnInstanceTO> iterator(int first, int count) {\n-            List<ConnInstanceTO> list = getConnectorsListDB();\n-\n-            Collections.sort(list, comparator);\n-\n-            return list.subList(first, first + count).iterator();\n-        }\n-\n-        @Override\n-        public int size() {\n-            return getConnectorsListDB().size();\n-        }\n-\n-        @Override\n-        public IModel<ConnInstanceTO> model(\n-                final ConnInstanceTO connector) {\n-\n-            return new AbstractReadOnlyModel<ConnInstanceTO>() {\n-\n-                private static final long serialVersionUID =\n-                        -6033068018293569398L;\n-\n-                @Override\n-                public ConnInstanceTO getObject() {\n-                    return connector;\n-                }\n-            };\n-        }\n-\n-        public List<ConnInstanceTO> getConnectorsListDB() {\n-            return restClient.getAllConnectors();\n-        }\n-    }\n-}"},{"sha":"a0cac5876e044c942a04ee6eea30953715506b7e","filename":"console/src/main/java/org/syncope/console/pages/ResourceModalPage.java","status":"modified","additions":4,"deletions":3,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -55,7 +55,7 @@\n import org.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n import org.syncope.console.wicket.markup.html.form.AjaxDecoratedCheckbox;\n import org.syncope.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n-import org.syncope.console.wicket.markup.html.form.AjaxIntFieldPanel;\n+import org.syncope.console.wicket.markup.html.form.AjaxNumberFieldPanel;\n import org.syncope.console.wicket.markup.html.form.AjaxPasswordFieldPanel;\n import org.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.syncope.console.wicket.markup.html.form.FieldPanel;\n@@ -192,9 +192,10 @@ protected List<ConnConfProperty> load() {\n                 false);\n         form.add(propagationPrimary);\n \n-        final AjaxIntFieldPanel propagationPriority = new AjaxIntFieldPanel(\n+        final AjaxNumberFieldPanel propagationPriority =\n+                new AjaxNumberFieldPanel(\n                 \"propagationPriority\", getString(\"propagationPriority\"),\n-                new PropertyModel<Integer>(resourceTO, \"propagationPriority\"),\n+                new PropertyModel<Number>(resourceTO, \"propagationPriority\"),\n                 false);\n         form.add(propagationPriority);\n "},{"sha":"71bd00466b428c15849b3b749321c31f4fd9028c","filename":"console/src/main/java/org/syncope/console/pages/Resources.java","status":"modified","additions":328,"deletions":32,"changes":360,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -42,11 +42,13 @@\n import org.apache.wicket.model.ResourceModel;\n import org.apache.wicket.request.mapper.parameter.PageParameters;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n+import org.syncope.client.to.ConnInstanceTO;\n import org.syncope.client.to.ResourceTO;\n import org.syncope.client.validation.SyncopeClientCompositeErrorException;\n import org.syncope.console.commons.Constants;\n import org.syncope.console.commons.PreferenceManager;\n import org.syncope.console.commons.SortableDataProviderComparator;\n+import org.syncope.console.rest.ConnectorRestClient;\n import org.syncope.console.rest.ResourceRestClient;\n import org.syncope.console.wicket.ajax.markup.html.IndicatingDeleteOnConfirmAjaxLink;\n import org.syncope.console.wicket.markup.html.form.DeleteLinkPanel;\n@@ -60,40 +62,61 @@ public class Resources extends BasePage {\n     private static final long serialVersionUID = -3789252860990261728L;\n \n     @SpringBean\n-    private ResourceRestClient restClient;\n+    private ResourceRestClient resourceRestClient;\n+\n+    @SpringBean\n+    private ConnectorRestClient connectorRestClient;\n \n     @SpringBean\n     private PreferenceManager prefMan;\n \n     private final ModalWindow createResourceWin;\n \n-    private final ModalWindow mwindow;\n+    private final ModalWindow editResourceWin;\n+\n+    private final ModalWindow createConnectorWin;\n+\n+    private final ModalWindow editConnectorWin;\n \n     private static final int WIN_HEIGHT = 500;\n \n     private static final int WIN_WIDTH = 900;\n \n-    private WebMarkupContainer container;\n+    private WebMarkupContainer resourceContainer;\n+\n+    private WebMarkupContainer connectorContainer;\n \n     /*\n     Response flag set by the Modal Window after the operation is completed:\n     TRUE if the operation succedes, FALSE otherwise\n      */\n     private boolean operationResult = false;\n \n-    private int paginatorRows;\n+    private int resourcePaginatorRows;\n+\n+    private int connectorPaginatorRows;\n \n-    public Resources(PageParameters parameters) {\n+    public Resources(final PageParameters parameters) {\n         super(parameters);\n \n         add(createResourceWin = new ModalWindow(\"createResourceWin\"));\n-        add(mwindow = new ModalWindow(\"editResourceWin\"));\n+        add(editResourceWin = new ModalWindow(\"editResourceWin\"));\n+        add(createConnectorWin = new ModalWindow(\"createConnectorWin\"));\n+        add(editConnectorWin = new ModalWindow(\"editConnectorWin\"));\n \n         add(feedbackPanel);\n \n-        paginatorRows = prefMan.getPaginatorRows(getRequest(),\n+        resourcePaginatorRows = prefMan.getPaginatorRows(getRequest(),\n                 Constants.PREF_RESOURCES_PAGINATOR_ROWS);\n+        connectorPaginatorRows = prefMan.getPaginatorRows(\n+                getRequest(),\n+                Constants.PREF_CONNECTORS_PAGINATOR_ROWS);\n \n+        setupResources();\n+        setupConnectors();\n+    }\n+\n+    private final void setupResources() {\n         List<IColumn> columns = new ArrayList<IColumn>();\n \n         columns.add(new PropertyColumn(\n@@ -122,9 +145,9 @@ public void populateItem(\n                             -7978723352517770644L;\n \n                     @Override\n-                    public void onClick(AjaxRequestTarget target) {\n+                    public void onClick(final AjaxRequestTarget target) {\n \n-                        mwindow.setPageCreator(new ModalWindow.PageCreator() {\n+                        editResourceWin.setPageCreator(new ModalWindow.PageCreator() {\n \n                             private static final long serialVersionUID =\n                                     -7834632442532690940L;\n@@ -133,12 +156,12 @@ public void onClick(AjaxRequestTarget target) {\n                             public Page createPage() {\n                                 ResourceModalPage form = new ResourceModalPage(\n                                         Resources.this.getPageReference(),\n-                                        mwindow, resourceTO, false);\n+                                        editResourceWin, resourceTO, false);\n                                 return form;\n                             }\n                         });\n \n-                        mwindow.show(target);\n+                        editResourceWin.show(target);\n                     }\n                 };\n \n@@ -175,7 +198,7 @@ public void populateItem(\n                     public void onClick(final AjaxRequestTarget target) {\n                         try {\n \n-                            restClient.delete(resourceTO.getName());\n+                            resourceRestClient.delete(resourceTO.getName());\n                             info(getString(\"operation_succeded\"));\n \n                         } catch (SyncopeClientCompositeErrorException e) {\n@@ -186,7 +209,7 @@ public void onClick(final AjaxRequestTarget target) {\n                         }\n \n                         target.add(feedbackPanel);\n-                        target.add(container);\n+                        target.add(resourceContainer);\n                     }\n                 };\n \n@@ -204,27 +227,27 @@ public void onClick(final AjaxRequestTarget target) {\n \n \n         final AjaxFallbackDefaultDataTable table =\n-                new AjaxFallbackDefaultDataTable(\"datatable\", columns,\n-                new ResourcesProvider(), paginatorRows);\n+                new AjaxFallbackDefaultDataTable(\"resourceDatatable\", columns,\n+                new ResourcesProvider(), resourcePaginatorRows);\n \n-        container = new WebMarkupContainer(\"container\");\n-        container.add(table);\n-        container.setOutputMarkupId(true);\n+        resourceContainer = new WebMarkupContainer(\"resourceContainer\");\n+        resourceContainer.add(table);\n+        resourceContainer.setOutputMarkupId(true);\n \n-        add(container);\n+        add(resourceContainer);\n \n-        setWindowClosedCallback(createResourceWin, container);\n-        setWindowClosedCallback(mwindow, container);\n+        setWindowClosedCallback(createResourceWin, resourceContainer);\n+        setWindowClosedCallback(editResourceWin, resourceContainer);\n \n         createResourceWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n         createResourceWin.setInitialHeight(WIN_HEIGHT);\n         createResourceWin.setInitialWidth(WIN_WIDTH);\n         createResourceWin.setCookieName(\"create-res-modal\");\n \n-        mwindow.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n-        mwindow.setInitialHeight(WIN_HEIGHT);\n-        mwindow.setInitialWidth(WIN_WIDTH);\n-        mwindow.setCookieName(\"edit-res-modal\");\n+        editResourceWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n+        editResourceWin.setInitialHeight(WIN_HEIGHT);\n+        editResourceWin.setInitialWidth(WIN_WIDTH);\n+        editResourceWin.setCookieName(\"edit-res-modal\");\n \n         add(new IndicatingAjaxLink(\"createResourceLink\") {\n \n@@ -241,7 +264,8 @@ public void onClick(AjaxRequestTarget target) {\n                     @Override\n                     public Page createPage() {\n                         final ResourceModalPage windows = new ResourceModalPage(\n-                                Resources.this.getPageReference(), mwindow,\n+                                Resources.this.getPageReference(),\n+                                editResourceWin,\n                                 new ResourceTO(), true);\n                         return windows;\n                     }\n@@ -251,10 +275,10 @@ public Page createPage() {\n             }\n         });\n \n-        final Form paginatorForm = new Form(\"PaginatorForm\");\n+        final Form paginatorForm = new Form(\"resourcePaginatorForm\");\n \n         final DropDownChoice rowsChooser = new DropDownChoice(\"rowsChooser\",\n-                new PropertyModel(this, \"paginatorRows\"),\n+                new PropertyModel(this, \"resourcePaginatorRows\"),\n                 prefMan.getPaginatorChoices());\n \n         rowsChooser.add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n@@ -265,10 +289,215 @@ public Page createPage() {\n             protected void onUpdate(final AjaxRequestTarget target) {\n                 prefMan.set(getRequest(), getResponse(),\n                         Constants.PREF_RESOURCES_PAGINATOR_ROWS,\n-                        String.valueOf(paginatorRows));\n+                        String.valueOf(resourcePaginatorRows));\n+\n+                table.setItemsPerPage(resourcePaginatorRows);\n+                target.add(resourceContainer);\n+            }\n+        });\n+\n+        paginatorForm.add(rowsChooser);\n+        add(paginatorForm);\n+    }\n+\n+    private void setupConnectors() {\n+        List<IColumn> columns = new ArrayList<IColumn>();\n+\n+        columns.add(new PropertyColumn(new ResourceModel(\"id\"),\n+                \"id\", \"id\"));\n+\n+        columns.add(new PropertyColumn(new ResourceModel(\"name\"),\n+                \"connectorName\", \"connectorName\"));\n+\n+        columns.add(new PropertyColumn(new ResourceModel(\"displayName\"),\n+                \"displayName\", \"displayName\"));\n+\n+        columns.add(new PropertyColumn(new ResourceModel(\"version\"),\n+                \"version\", \"version\"));\n+\n+        columns.add(new PropertyColumn(new ResourceModel(\"bundleName\"),\n+                \"bundleName\", \"bundleName\"));\n+\n+        columns.add(new AbstractColumn<ConnInstanceTO>(\n+                new ResourceModel(\"edit\")) {\n+\n+            private static final long serialVersionUID = 2054811145491901166L;\n+\n+            @Override\n+            public void populateItem(\n+                    final Item<ICellPopulator<ConnInstanceTO>> cellItem,\n+                    final String componentId,\n+                    final IModel<ConnInstanceTO> model) {\n+\n+                final ConnInstanceTO connectorTO = model.getObject();\n+\n+                final AjaxLink editLink = new IndicatingAjaxLink(\"editLink\") {\n+\n+                    private static final long serialVersionUID =\n+                            -7978723352517770644L;\n+\n+                    @Override\n+                    public void onClick(final AjaxRequestTarget target) {\n+\n+                        editConnectorWin.setPageCreator(\n+                                new ModalWindow.PageCreator() {\n+\n+                                    private static final long serialVersionUID =\n+                                            -7834632442532690940L;\n+\n+                                    @Override\n+                                    public Page createPage() {\n+                                        return new ConnectorModalPage(\n+                                                Resources.this.getPageReference(),\n+                                                editConnectorWin, connectorTO,\n+                                                false);\n+                                    }\n+                                });\n+\n+                        editConnectorWin.show(target);\n+                    }\n+                };\n+\n+                EditLinkPanel panel = new EditLinkPanel(componentId, model);\n+                panel.add(editLink);\n+\n+                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n+                        xmlRolesReader.getAllAllowedRoles(\n+                        \"Connectors\", \"read\"));\n+\n+                cellItem.add(panel);\n+            }\n+        });\n+\n+        columns.add(new AbstractColumn<ConnInstanceTO>(\n+                new ResourceModel(\"delete\")) {\n+\n+            private static final long serialVersionUID = 2054811145491901166L;\n+\n+            @Override\n+            public void populateItem(\n+                    final Item<ICellPopulator<ConnInstanceTO>> cellItem,\n+                    final String componentId,\n+                    final IModel<ConnInstanceTO> model) {\n+\n+                final ConnInstanceTO connectorTO = model.getObject();\n+\n+                AjaxLink deleteLink = new IndicatingDeleteOnConfirmAjaxLink(\n+                        \"deleteLink\") {\n+\n+                    private static final long serialVersionUID =\n+                            -7978723352517770644L;\n+\n+                    @Override\n+                    public void onClick(final AjaxRequestTarget target) {\n+\n+                        try {\n+\n+                            if (!checkDeleteIsForbidden(connectorTO)) {\n+                                connectorRestClient.delete(connectorTO.getId());\n+                                info(getString(\"operation_succeded\"));\n+                            } else {\n+                                error(getString(\"delete_error\"));\n+                            }\n+\n+                        } catch (SyncopeClientCompositeErrorException e) {\n+                            error(getString(\"operation_error\"));\n+\n+                            LOG.error(\"While deleting connector \"\n+                                    + connectorTO.getId(), e);\n+                        }\n+\n+                        target.add(connectorContainer);\n+                        target.add(feedbackPanel);\n+                    }\n+                };\n+\n+                DeleteLinkPanel panel = new DeleteLinkPanel(componentId, model);\n+                panel.add(deleteLink);\n+\n+                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n+                        xmlRolesReader.getAllAllowedRoles(\n+                        \"Connectors\", \"delete\"));\n \n-                table.setItemsPerPage(paginatorRows);\n-                target.add(container);\n+                cellItem.add(panel);\n+            }\n+        });\n+\n+        final AjaxFallbackDefaultDataTable table =\n+                new AjaxFallbackDefaultDataTable(\"connectorDatatable\", columns,\n+                new ConnectorsProvider(), connectorPaginatorRows);\n+\n+        connectorContainer = new WebMarkupContainer(\"connectorContainer\");\n+        connectorContainer.add(table);\n+        connectorContainer.setOutputMarkupId(true);\n+\n+        add(connectorContainer);\n+\n+        setWindowClosedCallback(createConnectorWin, connectorContainer);\n+        setWindowClosedCallback(editConnectorWin, connectorContainer);\n+\n+        createConnectorWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n+        createConnectorWin.setInitialHeight(WIN_HEIGHT);\n+        createConnectorWin.setInitialWidth(WIN_WIDTH);\n+        createConnectorWin.setCookieName(\"create-conn-modal\");\n+\n+        editConnectorWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n+        editConnectorWin.setInitialHeight(WIN_HEIGHT);\n+        editConnectorWin.setInitialWidth(WIN_WIDTH);\n+        editConnectorWin.setCookieName(\"edit-conn-modal\");\n+\n+        AjaxLink createConnectorLink = new IndicatingAjaxLink(\n+                \"createConnectorLink\") {\n+\n+            private static final long serialVersionUID = -7978723352517770644L;\n+\n+            @Override\n+            public void onClick(AjaxRequestTarget target) {\n+\n+                createConnectorWin.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                    private static final long serialVersionUID =\n+                            -7834632442532690940L;\n+\n+                    @Override\n+                    public Page createPage() {\n+                        ConnectorModalPage form = new ConnectorModalPage(\n+                                Resources.this.getPageReference(),\n+                                editConnectorWin, new ConnInstanceTO(), true);\n+                        return form;\n+                    }\n+                });\n+\n+                createConnectorWin.show(target);\n+            }\n+        };\n+\n+        String allowedRoles = xmlRolesReader.getAllAllowedRoles(\n+                \"Connectors\", \"create\");\n+        MetaDataRoleAuthorizationStrategy.authorize(createConnectorLink, ENABLE,\n+                allowedRoles);\n+\n+        add(createConnectorLink);\n+\n+        Form paginatorForm = new Form(\"connectorPaginatorForm\");\n+\n+        final DropDownChoice rowsChooser = new DropDownChoice(\"rowsChooser\",\n+                new PropertyModel(this, \"connectorPaginatorRows\"),\n+                prefMan.getPaginatorChoices());\n+\n+        rowsChooser.add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n+\n+            private static final long serialVersionUID = -1107858522700306810L;\n+\n+            @Override\n+            protected void onUpdate(AjaxRequestTarget target) {\n+                prefMan.set(getRequest(),\n+                        getResponse(),\n+                        Constants.PREF_CONNECTORS_PAGINATOR_ROWS,\n+                        String.valueOf(connectorPaginatorRows));\n+                table.setItemsPerPage(connectorPaginatorRows);\n+\n+                target.add(connectorContainer);\n             }\n         });\n \n@@ -306,6 +535,24 @@ public void setOperationResult(boolean result) {\n         operationResult = result;\n     }\n \n+    /**\n+     * Check if the delete action is forbidden.\n+     *\n+     * @param connectorTO object to check\n+     * @return true if the action is forbidden, false otherwise\n+     */\n+    public boolean checkDeleteIsForbidden(ConnInstanceTO connectorTO) {\n+        boolean forbidden = false;\n+\n+        for (ResourceTO resourceTO : resourceRestClient.getAllResources()) {\n+            if (resourceTO.getConnectorId().equals(connectorTO.getId())) {\n+                forbidden = true;\n+            }\n+        }\n+\n+        return forbidden;\n+    }\n+\n     class ResourcesProvider extends SortableDataProvider<ResourceTO> {\n \n         private static final long serialVersionUID = -9055916672926643975L;\n@@ -345,7 +592,56 @@ public ResourceTO getObject() {\n         }\n \n         public List<ResourceTO> getResourcesListDB() {\n-            return restClient.getAllResources();\n+            return resourceRestClient.getAllResources();\n+        }\n+    }\n+\n+    class ConnectorsProvider extends SortableDataProvider<ConnInstanceTO> {\n+\n+        private static final long serialVersionUID = 4445909568349448518L;\n+\n+        private SortableDataProviderComparator<ConnInstanceTO> comparator;\n+\n+        public ConnectorsProvider() {\n+            //Default sorting\n+            setSort(\"id\", SortOrder.ASCENDING);\n+            comparator =\n+                    new SortableDataProviderComparator<ConnInstanceTO>(\n+                    this);\n+        }\n+\n+        @Override\n+        public Iterator<ConnInstanceTO> iterator(int first, int count) {\n+            List<ConnInstanceTO> list = getConnectorsListDB();\n+\n+            Collections.sort(list, comparator);\n+\n+            return list.subList(first, first + count).iterator();\n+        }\n+\n+        @Override\n+        public int size() {\n+            return getConnectorsListDB().size();\n+        }\n+\n+        @Override\n+        public IModel<ConnInstanceTO> model(\n+                final ConnInstanceTO connector) {\n+\n+            return new AbstractReadOnlyModel<ConnInstanceTO>() {\n+\n+                private static final long serialVersionUID =\n+                        -6033068018293569398L;\n+\n+                @Override\n+                public ConnInstanceTO getObject() {\n+                    return connector;\n+                }\n+            };\n+        }\n+\n+        public List<ConnInstanceTO> getConnectorsListDB() {\n+            return connectorRestClient.getAllConnectors();\n         }\n     }\n }"},{"sha":"90335b4de783116414ba01eda1072b22034dcec9","filename":"console/src/main/java/org/syncope/console/pages/Todo.java","status":"added","additions":334,"deletions":0,"changes":334,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodo.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodo.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodo.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -0,0 +1,334 @@\n+/*\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *  under the License.\n+ */\n+package org.syncope.console.pages;\n+\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.Iterator;\n+import java.util.List;\n+import org.apache.wicket.Page;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n+import org.apache.wicket.ajax.markup.html.AjaxLink;\n+import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n+import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxLink;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.extensions.ajax.markup.html.repeater.data.table.AjaxFallbackDefaultDataTable;\n+import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n+import org.apache.wicket.extensions.markup.html.repeater.data.sort.SortOrder;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.AbstractColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.util.SortableDataProvider;\n+import org.apache.wicket.markup.html.WebMarkupContainer;\n+import org.apache.wicket.markup.html.basic.Label;\n+import org.apache.wicket.markup.html.form.DropDownChoice;\n+import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.markup.html.panel.EmptyPanel;\n+import org.apache.wicket.markup.html.panel.Panel;\n+import org.apache.wicket.markup.repeater.Item;\n+import org.apache.wicket.model.AbstractReadOnlyModel;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.PropertyModel;\n+import org.apache.wicket.model.ResourceModel;\n+import org.apache.wicket.request.mapper.parameter.PageParameters;\n+import org.apache.wicket.spring.injection.annot.SpringBean;\n+import org.springframework.web.client.RestClientException;\n+import org.syncope.client.to.WorkflowFormTO;\n+import org.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.syncope.console.SyncopeSession;\n+import org.syncope.console.commons.Constants;\n+import org.syncope.console.commons.PreferenceManager;\n+import org.syncope.console.commons.SortableDataProviderComparator;\n+import org.syncope.console.pages.Tasks.DatePropertyColumn;\n+import org.syncope.console.rest.TodoRestClient;\n+import org.syncope.console.wicket.markup.html.form.LinkPanel;\n+\n+public class Todo extends BasePage {\n+\n+    private static final long serialVersionUID = -7122136682275797903L;\n+\n+    @SpringBean\n+    private TodoRestClient restClient;\n+\n+    private final ModalWindow editTodoWin;\n+\n+    private static final int WIN_HEIGHT = 400;\n+\n+    private static final int WIN_WIDTH = 600;\n+\n+    @SpringBean\n+    private PreferenceManager prefMan;\n+\n+    private WebMarkupContainer container;\n+\n+    /**\n+     * Response flag set by the Modal Window after the operation\n+     * is completed.\n+     */\n+    private boolean operationResult = false;\n+\n+    private int paginatorRows;\n+\n+    public Todo(final PageParameters parameters) {\n+        super(parameters);\n+\n+        container = new WebMarkupContainer(\"todoContainer\");\n+\n+        add(editTodoWin = new ModalWindow(\"editTodoWin\"));\n+\n+        paginatorRows = prefMan.getPaginatorRows(getRequest(),\n+                Constants.PREF_TODO_PAGINATOR_ROWS);\n+\n+        List<IColumn> columns = new ArrayList<IColumn>();\n+        columns.add(new PropertyColumn(new ResourceModel(\"taskId\"),\n+                \"taskId\", \"taskId\"));\n+        columns.add(new PropertyColumn(new ResourceModel(\"key\"),\n+                \"key\", \"key\"));\n+        columns.add(new PropertyColumn(new ResourceModel(\"description\"),\n+                \"description\", \"description\"));\n+        columns.add(new DatePropertyColumn(new ResourceModel(\"createTime\"),\n+                \"createTime\", \"createTime\", null));\n+        columns.add(new DatePropertyColumn(new ResourceModel(\"dueDate\"),\n+                \"dueDate\", \"dueDate\", null));\n+        columns.add(new PropertyColumn(new ResourceModel(\"owner\"),\n+                \"owner\", \"owner\"));\n+        columns.add(new AbstractColumn<WorkflowFormTO>(\n+                new ResourceModel(\"claim\")) {\n+\n+            private static final long serialVersionUID = 2054811145491901166L;\n+\n+            @Override\n+            public void populateItem(\n+                    final Item<ICellPopulator<WorkflowFormTO>> cellItem,\n+                    final String componentId,\n+                    final IModel<WorkflowFormTO> model) {\n+\n+                final WorkflowFormTO formTO = model.getObject();\n+                AjaxLink claimLink = new IndicatingAjaxLink(\"link\") {\n+\n+                    private static final long serialVersionUID =\n+                            -7978723352517770644L;\n+\n+                    @Override\n+                    public void onClick(final AjaxRequestTarget target) {\n+                        try {\n+                            restClient.claimForm(formTO.getTaskId());\n+                            info(getString(\"operation_succeded\"));\n+                        } catch (SyncopeClientCompositeErrorException scee) {\n+                            error(getString(\"error\") + \":\" + scee.getMessage());\n+                        }\n+                        target.add(feedbackPanel);\n+                        target.add(container);\n+                    }\n+                };\n+\n+                claimLink.add(new Label(\"linkTitle\", getString(\"claim\")));\n+\n+                Panel panel = new LinkPanel(componentId);\n+                panel.add(claimLink);\n+\n+                MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n+                        xmlRolesReader.getAllAllowedRoles(\"Todo\", \"claim\"));\n+\n+                cellItem.add(panel);\n+            }\n+        });\n+        columns.add(new AbstractColumn<WorkflowFormTO>(\n+                new ResourceModel(\"manage\")) {\n+\n+            private static final long serialVersionUID = 2054811145491901166L;\n+\n+            @Override\n+            public void populateItem(\n+                    final Item<ICellPopulator<WorkflowFormTO>> cellItem,\n+                    final String componentId,\n+                    final IModel<WorkflowFormTO> model) {\n+\n+                final WorkflowFormTO formTO = model.getObject();\n+                Panel panel;\n+                if (SyncopeSession.get().getUserId().equals(\n+                        formTO.getOwner())) {\n+\n+                    AjaxLink manageLink = new IndicatingAjaxLink(\"link\") {\n+\n+                        private static final long serialVersionUID =\n+                                -7978723352517770644L;\n+\n+                        @Override\n+                        public void onClick(final AjaxRequestTarget target) {\n+                            editTodoWin.setPageCreator(\n+                                    new ModalWindow.PageCreator() {\n+\n+                                        @Override\n+                                        public Page createPage() {\n+                                            return new TodoModalPage(\n+                                                    Todo.this.getPageReference(),\n+                                                    editTodoWin, formTO);\n+                                        }\n+                                    });\n+\n+                            editTodoWin.show(target);\n+                        }\n+                    };\n+                    manageLink.add(new Label(\"linkTitle\", getString(\"manage\")));\n+\n+                    panel = new LinkPanel(componentId);\n+                    panel.add(manageLink);\n+\n+                    MetaDataRoleAuthorizationStrategy.authorize(panel, ENABLE,\n+                            xmlRolesReader.getAllAllowedRoles(\"Todo\", \"read\"));\n+\n+                } else {\n+                    panel = new EmptyPanel(componentId);\n+                }\n+                cellItem.add(panel);\n+            }\n+        });\n+\n+        final AjaxFallbackDefaultDataTable todoTable =\n+                new AjaxFallbackDefaultDataTable(\"todoTable\", columns,\n+                new WorkflowFormProvider(), paginatorRows);\n+\n+        container.add(todoTable);\n+        container.setOutputMarkupId(true);\n+\n+        add(container);\n+\n+        Form paginatorForm = new Form(\"paginatorForm\");\n+\n+        final DropDownChoice rowsChooser = new DropDownChoice(\"rowsChooser\",\n+                new PropertyModel(this, \"paginatorRows\"),\n+                prefMan.getPaginatorChoices());\n+\n+        rowsChooser.add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n+\n+            private static final long serialVersionUID = -1107858522700306810L;\n+\n+            @Override\n+            protected void onUpdate(final AjaxRequestTarget target) {\n+                prefMan.set(getRequest(),\n+                        getResponse(),\n+                        Constants.PREF_TODO_PAGINATOR_ROWS,\n+                        String.valueOf(paginatorRows));\n+                todoTable.setItemsPerPage(paginatorRows);\n+\n+                target.add(container);\n+            }\n+        });\n+\n+        paginatorForm.add(rowsChooser);\n+        add(paginatorForm);\n+\n+        editTodoWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n+        editTodoWin.setInitialHeight(WIN_HEIGHT);\n+        editTodoWin.setInitialWidth(WIN_WIDTH);\n+        editTodoWin.setCookieName(\"edit-todo-modal\");\n+\n+        setWindowClosedCallback(editTodoWin, container);\n+    }\n+\n+    /**\n+     * Set a WindowClosedCallback for a ModalWindow instance.\n+     * @param window\n+     * @param container\n+     */\n+    private void setWindowClosedCallback(final ModalWindow window,\n+            final WebMarkupContainer container) {\n+\n+        window.setWindowClosedCallback(\n+                new ModalWindow.WindowClosedCallback() {\n+\n+                    private static final long serialVersionUID =\n+                            8804221891699487139L;\n+\n+                    @Override\n+                    public void onClose(final AjaxRequestTarget target) {\n+                        target.add(container);\n+                        if (operationResult) {\n+                            info(getString(\"operation_succeded\"));\n+                            target.add(feedbackPanel);\n+                            operationResult = false;\n+                        }\n+                    }\n+                });\n+    }\n+\n+    public boolean isOperationResult() {\n+        return operationResult;\n+    }\n+\n+    public void setOperationResult(final boolean operationResult) {\n+        this.operationResult = operationResult;\n+    }\n+\n+    private class WorkflowFormProvider\n+            extends SortableDataProvider<WorkflowFormTO> {\n+\n+        private static final long serialVersionUID = -2311716167583335852L;\n+\n+        private SortableDataProviderComparator<WorkflowFormTO> comparator;\n+\n+        public WorkflowFormProvider() {\n+            //Default sorting\n+            setSort(\"key\", SortOrder.ASCENDING);\n+            comparator =\n+                    new SortableDataProviderComparator<WorkflowFormTO>(this);\n+        }\n+\n+        @Override\n+        public Iterator<WorkflowFormTO> iterator(final int first,\n+                final int count) {\n+\n+            List<WorkflowFormTO> list = getAllForms();\n+\n+            Collections.sort(list, comparator);\n+\n+            return list.subList(first, first + count).iterator();\n+        }\n+\n+        @Override\n+        public int size() {\n+            return getAllForms().size();\n+        }\n+\n+        @Override\n+        public IModel<WorkflowFormTO> model(\n+                final WorkflowFormTO configuration) {\n+\n+            return new AbstractReadOnlyModel<WorkflowFormTO>() {\n+\n+                private static final long serialVersionUID =\n+                        -2566070996511906708L;\n+\n+                @Override\n+                public WorkflowFormTO getObject() {\n+                    return configuration;\n+                }\n+            };\n+        }\n+\n+        private List<WorkflowFormTO> getAllForms() {\n+            List<WorkflowFormTO> list = null;\n+\n+            try {\n+                list = restClient.getForms();\n+            } catch (RestClientException rce) {\n+                throw rce;\n+            }\n+            return list;\n+        }\n+    }\n+}"},{"sha":"e6f470ddc12562124315e325ebe4cf84745a4714","filename":"console/src/main/java/org/syncope/console/pages/TodoModalPage.java","status":"added","additions":235,"deletions":0,"changes":235,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodoModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodoModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodoModalPage.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -0,0 +1,235 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.syncope.console.pages;\n+\n+import java.io.Serializable;\n+import java.text.DateFormat;\n+import java.text.ParseException;\n+import java.text.SimpleDateFormat;\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Date;\n+import java.util.List;\n+import org.apache.commons.lang.StringUtils;\n+import org.apache.wicket.PageReference;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n+import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n+import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.markup.html.basic.Label;\n+import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.markup.html.list.ListItem;\n+import org.apache.wicket.markup.html.list.ListView;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.LoadableDetachableModel;\n+import org.apache.wicket.model.Model;\n+import org.apache.wicket.spring.injection.annot.SpringBean;\n+import org.syncope.client.to.WorkflowFormPropertyTO;\n+import org.syncope.client.to.WorkflowFormTO;\n+import org.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.syncope.console.commons.MapChoiceRenderer;\n+import org.syncope.console.rest.TodoRestClient;\n+import org.syncope.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n+import org.syncope.console.wicket.markup.html.form.AjaxNumberFieldPanel;\n+import org.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n+import org.syncope.console.wicket.markup.html.form.DateTimeFieldPanel;\n+import org.syncope.console.wicket.markup.html.form.FieldPanel;\n+\n+public class TodoModalPage extends BaseModalPage {\n+\n+    private static final long serialVersionUID = -8847854414429745216L;\n+\n+    @SpringBean\n+    private TodoRestClient restClient;\n+\n+    public TodoModalPage(final PageReference callerPageRef,\n+            final ModalWindow window, final WorkflowFormTO formTO) {\n+\n+        super();\n+\n+        IModel<List<WorkflowFormPropertyTO>> formProps =\n+                new LoadableDetachableModel<List<WorkflowFormPropertyTO>>() {\n+\n+                    private static final long serialVersionUID =\n+                            3169142472626817508L;\n+\n+                    @Override\n+                    protected List<WorkflowFormPropertyTO> load() {\n+                        return formTO.getProperties();\n+                    }\n+                };\n+\n+        final ListView<WorkflowFormPropertyTO> propView =\n+                new ListView<WorkflowFormPropertyTO>(\"propView\", formProps) {\n+\n+                    private static final long serialVersionUID =\n+                            9101744072914090143L;\n+\n+                    @Override\n+                    protected void populateItem(\n+                            final ListItem<WorkflowFormPropertyTO> item) {\n+\n+                        final WorkflowFormPropertyTO prop =\n+                                item.getModelObject();\n+\n+                        Label label = new Label(\"key\",\n+                                prop.getName() == null\n+                                ? prop.getId() : prop.getName());\n+                        item.add(label);\n+\n+                        FieldPanel field = null;\n+                        switch (prop.getType()) {\n+                            case Boolean:\n+                                field = new AjaxDropDownChoicePanel(\"value\",\n+                                        label.getDefaultModelObjectAsString(),\n+                                        new Model(\n+                                        Boolean.valueOf(prop.getValue())),\n+                                        true).setChoices(Arrays.asList(\n+                                        new String[]{\"Yes\", \"No\"}));\n+                                break;\n+\n+                            case Date:\n+                                DateFormat df = StringUtils.isNotBlank(prop.\n+                                        getDatePattern())\n+                                        ? new SimpleDateFormat(prop.\n+                                        getDatePattern())\n+                                        : new SimpleDateFormat();\n+                                Date parsedDate = null;\n+                                if (StringUtils.isNotBlank(prop.getValue())) {\n+                                    try {\n+                                        parsedDate = df.parse(prop.getValue());\n+                                    } catch (ParseException e) {\n+                                        LOG.error(\"Unparsable date: {}\",\n+                                                prop.getValue(), e);\n+                                    }\n+                                }\n+\n+                                field = new DateTimeFieldPanel(\"value\",\n+                                        label.getDefaultModelObjectAsString(),\n+                                        new Model(parsedDate),\n+                                        true, prop.getDatePattern());\n+                                break;\n+\n+                            case Enum:\n+                                MapChoiceRenderer<String, String> enumCR =\n+                                        new MapChoiceRenderer<String, String>(\n+                                        prop.getEnumValues());\n+\n+                                field = new AjaxDropDownChoicePanel(\"value\",\n+                                        label.getDefaultModelObjectAsString(),\n+                                        new Model(prop.getValue()),\n+                                        true).setChoiceRenderer(enumCR).\n+                                        setChoices(new Model() {\n+\n+                                    private static final long serialVersionUID =\n+                                            -858521070366432018L;\n+\n+                                    @Override\n+                                    public Serializable getObject() {\n+                                        return new ArrayList(\n+                                                prop.getEnumValues().\n+                                                keySet());\n+                                    }\n+                                });\n+                                break;\n+\n+                            case Long:\n+                                field = new AjaxNumberFieldPanel(\"value\",\n+                                        label.getDefaultModelObjectAsString(),\n+                                        new Model(\n+                                        Long.valueOf(prop.getValue())),\n+                                        true);\n+                                break;\n+\n+                            case String:\n+                            default:\n+                                field = new AjaxTextFieldPanel(\"value\",\n+                                        PARENT_PATH,\n+                                        new Model(prop.getValue()),\n+                                        true);\n+                                break;\n+                        }\n+\n+                        field.setReadOnly(!prop.isWritable());\n+                        if (prop.isRequired()) {\n+                            field.addRequiredLabel();\n+                        }\n+\n+                        item.add(field);\n+                    }\n+                };\n+\n+        final AjaxButton submit = new IndicatingAjaxButton(\"apply\", new Model(\n+                getString(\"submit\"))) {\n+\n+            private static final long serialVersionUID = -958724007591692537L;\n+\n+            @Override\n+            protected void onSubmit(final AjaxRequestTarget target,\n+                    final Form<?> form) {\n+\n+                ListItem<WorkflowFormPropertyTO> item;\n+                String input;\n+                for (int i = 0; i < propView.size(); i++) {\n+                    item = (ListItem<WorkflowFormPropertyTO>) propView.get(i);\n+                    input = ((FieldPanel) item.get(\"value\")).getField().\n+                            getInput();\n+\n+                    switch (item.getModelObject().getType()) {\n+                        case Boolean:\n+                            item.getModelObject().setValue(\n+                                    String.valueOf(input.equals(\"Yes\")));\n+                            break;\n+\n+                        case Date:\n+                        case Enum:\n+                        case String:\n+                        case Long:\n+                        default:\n+                            item.getModelObject().setValue(input);\n+                            break;\n+                    }\n+                }\n+\n+                try {\n+                    restClient.submitForm(formTO);\n+\n+                    ((Todo) callerPageRef.getPage()).setOperationResult(true);\n+                    window.close(target);\n+                } catch (SyncopeClientCompositeErrorException e) {\n+                    error(getString(\"error\") + \":\" + e.getMessage());\n+                    LOG.error(\"While submitting form {}\", formTO, e);\n+                    target.add(feedbackPanel);\n+                }\n+            }\n+\n+            @Override\n+            protected void onError(final AjaxRequestTarget target,\n+                    final Form<?> form) {\n+\n+                target.add(feedbackPanel);\n+            }\n+        };\n+\n+        Form form = new Form(\"form\");\n+        form.add(propView);\n+        form.add(submit);\n+\n+        MetaDataRoleAuthorizationStrategy.authorize(form, ENABLE,\n+                xmlRolesReader.getAllAllowedRoles(\"Todo\", \"submit\"));\n+\n+        add(form);\n+    }\n+}"},{"sha":"862219d6a8664400224468459dfee9cdb2c822c4","filename":"console/src/main/java/org/syncope/console/pages/Users.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUsers.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -979,7 +979,7 @@ protected void populateItem(\n             }\n \n             final CheckBox notOperator = new CheckBox(\"notOperator\",\n-                    new PropertyModel(searchCondition,\"notOperator\"));\n+                    new PropertyModel(searchCondition, \"notOperator\"));\n             notOperator.add(new AjaxFormComponentUpdatingBehavior(\"onchange\") {\n \n                 private static final long serialVersionUID ="},{"sha":"bf0ba895a328f2bdcf0364e06ac18bdc7711e9a7","filename":"console/src/main/java/org/syncope/console/rest/TaskRestClient.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FTaskRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FTaskRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FTaskRestClient.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -40,10 +40,8 @@ public Set<String> getJobClasses() {\n         Set<String> validators = null;\n \n         try {\n-\n             validators = restTemplate.getForObject(\n                     baseURL + \"task/jobClasses.json\", Set.class);\n-\n         } catch (SyncopeClientCompositeErrorException e) {\n             LOG.error(\"While getting all job classes\", e);\n         }"},{"sha":"84dc1965b6ca2d7b02c5a4d58ff9605bd5a5e27a","filename":"console/src/main/java/org/syncope/console/rest/TodoRestClient.java","status":"added","additions":43,"deletions":0,"changes":43,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FTodoRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FTodoRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FTodoRestClient.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -0,0 +1,43 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.syncope.console.rest;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+import org.springframework.stereotype.Component;\n+import org.syncope.client.to.UserTO;\n+import org.syncope.client.to.WorkflowFormTO;\n+\n+/**\n+ * Console client for invoking Rest Todo services.\n+ */\n+@Component\n+public class TodoRestClient extends AbstractBaseRestClient {\n+\n+    public List<WorkflowFormTO> getForms() {\n+        return Arrays.asList(restTemplate.getForObject(\n+                baseURL + \"user/workflow/form/list\", WorkflowFormTO[].class));\n+    }\n+\n+    public WorkflowFormTO claimForm(final String taskId) {\n+        return restTemplate.getForObject(\n+                baseURL + \"user/workflow/form/claim/{taskId}\",\n+                WorkflowFormTO.class, taskId);\n+    }\n+\n+    public void submitForm(final WorkflowFormTO form) {\n+        restTemplate.postForObject(baseURL + \"user/workflow/form/submit\",\n+                form, UserTO.class);\n+    }\n+}"},{"sha":"01890d2ff807ed52154d61a56af5537a57ce9962","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/form/AjaxDropDownChoicePanel.java","status":"modified","additions":14,"deletions":4,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxDropDownChoicePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxDropDownChoicePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxDropDownChoicePanel.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -24,7 +24,8 @@\n import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.Model;\n \n-public class AjaxDropDownChoicePanel<T> extends FieldPanel {\n+public class AjaxDropDownChoicePanel<T>\n+        extends FieldPanel implements Cloneable {\n \n     private static final long serialVersionUID = -4716376580659196095L;\n \n@@ -55,12 +56,21 @@ protected void onUpdate(AjaxRequestTarget art) {\n         }\n     }\n \n-    public FieldPanel setChoiceRenderer(final IChoiceRenderer renderer) {\n+    public AjaxDropDownChoicePanel<T> setChoiceRenderer(\n+            final IChoiceRenderer renderer) {\n+\n         ((DropDownChoice) field).setChoiceRenderer(renderer);\n         return this;\n     }\n \n-    public FieldPanel setChoices(final List<T> choices) {\n+    public AjaxDropDownChoicePanel<T> setChoices(final List<T> choices) {\n+        ((DropDownChoice) field).setChoices(choices);\n+        return this;\n+    }\n+\n+    public AjaxDropDownChoicePanel<T> setChoices(\n+            final IModel<? extends List<? extends T>> choices) {\n+\n         ((DropDownChoice) field).setChoices(choices);\n         return this;\n     }\n@@ -71,8 +81,8 @@ public FieldPanel clone() {\n         AjaxDropDownChoicePanel<T> panel =\n                 (AjaxDropDownChoicePanel<T>) super.clone();\n \n-        setChoices(((DropDownChoice) field).getChoices());\n         setChoiceRenderer(((DropDownChoice) field).getChoiceRenderer());\n+        setChoices(((DropDownChoice) field).getChoices());\n \n         return panel;\n     }"},{"sha":"398fcbf3688c7d036c567ac7486b42849dd53047","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/form/AjaxNumberFieldPanel.java","status":"renamed","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxNumberFieldPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxNumberFieldPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxNumberFieldPanel.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -22,21 +22,21 @@\n import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.Model;\n \n-public class AjaxIntFieldPanel extends FieldPanel<Integer> {\n+public class AjaxNumberFieldPanel extends FieldPanel<Number> {\n \n     private static final long serialVersionUID = 238940918106696068L;\n \n     private List<String> choices = Collections.EMPTY_LIST;\n \n-    public AjaxIntFieldPanel(\n+    public AjaxNumberFieldPanel(\n             final String id,\n             final String name,\n-            final IModel<Integer> model,\n+            final IModel<Number> model,\n             final boolean active) {\n \n         super(id, name, model, active);\n \n-        field = new TextField<Integer>(\"intField\", model);\n+        field = new TextField<Number>(\"numberField\", model);\n \n         add(field.setLabel(new Model(name)).setOutputMarkupId(true));\n ","previous_filename":"console/src/main/java/org/syncope/console/wicket/markup/html/form/AjaxIntFieldPanel.java"},{"sha":"67edbce25252ec2d757e11c19613bc05a15f5552","filename":"console/src/main/resources/authorizations.xml","status":"modified","additions":15,"deletions":0,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Fauthorizations.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Fauthorizations.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Fauthorizations.xml?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -142,6 +142,21 @@ page@id= Schema|Users|Roles|Resources|Connectors|Report|Configuration|Task\n \n     </page>\n \n+    <page id=\"Todo\">\n+        <action id=\"list\">\n+            <entitlement>WORKFLOW_FORM_LIST</entitlement>\n+        </action>\n+        <action id=\"read\">\n+            <entitlement>WORKFLOW_FORM_READ</entitlement>\n+        </action>\n+        <action id=\"claim\">\n+            <entitlement>WORKFLOW_FORM_CLAIM</entitlement>\n+        </action>\n+        <action id=\"submit\">\n+            <entitlement>WORKFLOW_FORM_SUBMIT</entitlement>\n+        </action>\n+    </page>\n+    \n     <page id=\"Configuration\">\n         <action id=\"list\">\n             <entitlement>CONFIGURATION_LIST</entitlement>"},{"sha":"ebd045266dee6af2e4b589b59059097942275a1b","filename":"console/src/main/resources/org/syncope/console/SyncopeApplication.properties","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication.properties?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -19,3 +19,5 @@ restClientException=Error while contacting Syncope core.\n pageExpiredException=Session expired: please login again.\n \n dropDownChoiceField.nullValid=Choose one\n+todo=TODO\n+DateTimeField$HoursValidator=Hour value must be in range (1, 12)"},{"sha":"2a045e8b0444477b4ea4d00f22859df642c12e84","filename":"console/src/main/resources/org/syncope/console/SyncopeApplication_it.properties","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2FSyncopeApplication_it.properties?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -19,3 +19,5 @@ restClientException=Errore durante la comunicazione con Syncope core.\n pageExpiredException=Sessione scaduta: eseguire di nuovo l'accesso.\n \n dropDownChoiceField.nullValid=Seleziona\n+todo=TODO\n+DateTimeField$HoursValidator=L'ora deve essere nell'intervallo (1,12)"},{"sha":"095ca749700684228a1c7b7b1a054127ac0a55d0","filename":"console/src/main/resources/org/syncope/console/pages/BaseModalPage.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.html?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -25,7 +25,7 @@\n         <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.theme.css\" />\n         <link rel=\"stylesheet\" type=\"text/css\" href=\"css/ui.tabs.css\" media=\"all\"/>\n \n-        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/stile_sy.css\" media=\"all\"/>\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/style.css\" media=\"all\"/>\n         <link rel=\"stylesheet\" type=\"text/css\" href=\"css/fieldstyle.css\" />\n \n         <script type=\"text/javascript\" src=\"scripts/jquery-1.4.2.min.js\"></script>"},{"sha":"f2846e40739cb8261eaa6f17d53c8cb1ecf3161b","filename":"console/src/main/resources/org/syncope/console/pages/BasePage.html","status":"modified","additions":9,"deletions":9,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage.html?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -30,7 +30,7 @@\n         <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.tabs.css\" />\n         <link rel=\"stylesheet\" type=\"text/css\" href=\"css/jquery.ui.theme.css\" />\n \n-        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/stile_sy.css\" media=\"all\"/>\n+        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/style.css\" media=\"all\"/>\n         <link rel=\"stylesheet\" type=\"text/css\" href=\"css/fieldstyle.css\" />\n \n         <script type=\"text/javascript\" src=\"scripts/jquery-1.4.2.min.js\"></script>\n@@ -66,6 +66,12 @@\n                         &nbsp;\n                     </span>\n                 </li>\n+                <li><span>\n+                        <a href=\"#\" wicket:id=\"todo\"><img src=\"img/menu/notsel/todo.png\" alt=\"TODO\" width=\"80\" height=\"80\" /><br />\n+                            <wicket:message key=\"todo\"/>\n+                        </a>\n+                    </span>\n+                </li>\n                 <li><span>\n                         <a href=\"#\" wicket:id=\"schema\"><img src=\"img/menu/notsel/schema.png\" alt=\"Schema\" width=\"80\" height=\"80\" /><br />\n                             <wicket:message key=\"schema\"/>\n@@ -91,8 +97,8 @@\n                     </span>\n                 </li>\n                 <li><span>\n-                        <a href=\"#\" wicket:id=\"connectors\"><img src=\"img/menu/notsel/connectors.png\" alt=\"Connectors\" width=\"80\" height=\"80\" /><br />\n-                            <wicket:message key=\"connectors\"/>\n+                        <a href=\"#\" wicket:id=\"tasks\"><img src=\"img/menu/notsel/task.png\" alt=\"Tasks\" width=\"80\" height=\"80\" /><br />\n+                            <wicket:message key=\"tasks\"/>\n                         </a>\n                     </span>\n                 </li>\n@@ -107,12 +113,6 @@\n                             <wicket:message key=\"configuration\"/>\n                         </a></span>\n                 </li>\n-                <li><span>\n-                        <a href=\"#\" wicket:id=\"tasks\"><img src=\"img/menu/notsel/task.png\" alt=\"Tasks\" width=\"80\" height=\"80\" /><br />\n-                            <wicket:message key=\"tasks\"/>\n-                        </a>\n-                    </span>\n-                </li>\n                 <li style=\"float:right\">\n                     <a href=\"#\" wicket:id=\"logout\"><img src=\"img/menu/notsel/logout.png\" alt=\"Logout\" width=\"80\" height=\"80\" /><br />\n                         <wicket:message key=\"logout\"/>"},{"sha":"0f8d22fd72fdf1d67aec908d8194eaf709c6d419","filename":"console/src/main/resources/org/syncope/console/pages/ConnectorModalPage.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.html?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -92,7 +92,7 @@\n                             </div>\n                         </div>\n \n-                        <!-- inside the contaoiner in order to re-process javascript -->\n+                        <!-- inside the container in order to re-process javascript -->\n                         <script type=\"text/javascript\">\n                             $(function() {\n                                 $('#formtable div.tablerow:even').addClass(\"alt\");"},{"sha":"8deaf037dce2fb1432162dee40701d80516526fc","filename":"console/src/main/resources/org/syncope/console/pages/Connectors.properties","status":"removed","additions":0,"deletions":10,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fc739b5ae16f10bc9ca952c1b97cd1420fbae5d6/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fc739b5ae16f10bc9ca952c1b97cd1420fbae5d6/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.properties?ref=fc739b5ae16f10bc9ca952c1b97cd1420fbae5d6","patch":"@@ -1,10 +0,0 @@\n-tab1=Connectors\n-id=Id\n-name=Name\n-displayName=Display name\n-version=Version\n-bundleName=Bundle name\n-edit=Edit\n-delete=Delete\n-create-link=Create new connector\n-delete_error=Operation forbidden:the connector you're trying to delete is connected to a Resource"},{"sha":"7ca109252e8bc920661a0e159e2ded0540d1e6b4","filename":"console/src/main/resources/org/syncope/console/pages/Connectors_it.properties","status":"removed","additions":0,"deletions":10,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fc739b5ae16f10bc9ca952c1b97cd1420fbae5d6/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fc739b5ae16f10bc9ca952c1b97cd1420fbae5d6/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors_it.properties?ref=fc739b5ae16f10bc9ca952c1b97cd1420fbae5d6","patch":"@@ -1,10 +0,0 @@\n-tab1=Connettori\n-create-link=Crea nuovo connettore\n-name=Nome\n-version=Versione\n-bundleName=Bundle name\n-edit=Modifica\n-delete=Elimina\n-id=Id\n-delete_error=Operazione vietata: il connettore che si desidera rimuovere \\u00e8 correlato ad una risorsa\n-displayName=Nome visualizzato"},{"sha":"f275bd0967a191ff80a0ac74604e364cfe055d78","filename":"console/src/main/resources/org/syncope/console/pages/Login.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FLogin.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FLogin.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FLogin.html?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -21,7 +21,7 @@\n         <title>Syncope - Login</title>\n \n         <link rel=\"shortcut icon\" href=\"img/favicon.png\" type=\"image/png\" />\n-        <link rel=\"stylesheet\" href=\"css/stile_sy.css\" type=\"text/css\" media=\"all\"/>\n+        <link rel=\"stylesheet\" href=\"css/style.css\" type=\"text/css\" media=\"all\"/>\n \n     </head>\n     <body style=\"text-align:center\">"},{"sha":"eaf89aaab78e64bfc73d762977e229e50e54da96","filename":"console/src/main/resources/org/syncope/console/pages/Resources.html","status":"modified","additions":28,"deletions":4,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources.html?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -20,16 +20,17 @@\n             <li class=\"tabs-selected\">\n                 <a href=\"#tabs-1\"><span><wicket:message key=\"tab1\"/></span></a>\n             </li>\n+            <li><a href=\"#tabs-2\"><span><wicket:message key=\"tab2\"/></span></a></li>\n         </ul>\n         <div id=\"tabs-1\">\n             <div id=\"users-contain\" class=\"ui-widget\" style=\"width:inherit\">\n-                <span wicket:id=\"container\">\n+                <span wicket:id=\"resourceContainer\">\n                     <table class=\"ui-widget ui-widget-content table-hover\"\n-                           wicket:id=\"datatable\"/>\n+                           wicket:id=\"resourceDatatable\"/>\n                 </span>\n \n                 <span style=\"float:right\">\n-                    <form wicket:id=\"PaginatorForm\" style=\"display:inline\">\n+                    <form wicket:id=\"resourcePaginatorForm\" style=\"display:inline\">\n                         <label><wicket:message key=\"displayRows\"/></label>\n                         <select class=\"text ui-widget-content ui-corner-all\"\n                                 wicket:id=\"rowsChooser\"/>\n@@ -41,7 +42,30 @@\n             <div wicket:id=\"editResourceWin\">[Show modal window for editing resource]</div>\n \n             <a class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\" wicket:id=\"createResourceLink\">\n-                <wicket:message key=\"create-link\"/>\n+                <wicket:message key=\"create-resource\"/>\n+            </a>\n+        </div>\n+        <div id=\"tabs-2\">\n+            <div id=\"users-contain\" class=\"ui-widget\" style=\"width:inherit\">\n+                <span wicket:id=\"connectorContainer\">\n+                    <table class=\"ui-widget ui-widget-content table-hover\"\n+                           wicket:id=\"connectorDatatable\"/>\n+                </span>\n+\n+                <span style=\"float:right\">\n+                    <form wicket:id=\"connectorPaginatorForm\" style=\"display:inline\">\n+                        <label><wicket:message key=\"displayRows\"/></label>\n+                        <select class=\"text ui-widget-content ui-corner-all\"\n+                                wicket:id=\"rowsChooser\"/>\n+                    </form>\n+                </span>\n+            </div>\n+\n+            <div wicket:id=\"createConnectorWin\">[Show modal window for creating connector]</div>\n+            <div wicket:id=\"editConnectorWin\">[Show modal window for editing connector]</div>\n+\n+            <a class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\" wicket:id=\"createConnectorLink\">\n+                <wicket:message key=\"create-connector\"/>\n             </a>\n         </div>\n     </div>"},{"sha":"d3ab7b7d30b2ef99bc499cc0941755d6dc9bc294","filename":"console/src/main/resources/org/syncope/console/pages/Resources.properties","status":"modified","additions":12,"deletions":1,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources.properties?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -2,6 +2,17 @@ tab1=Resources\n name=Name\n edit=Edit\n delete=Delete\n-create-link=Create new resource\n+create-resource=Create new resource\n propagationPriority=Propagation priority\n propagationPrimary=Propagation primary\n+\n+tab2=Connectors\n+id=Id\n+name=Name\n+displayName=Display name\n+version=Version\n+bundleName=Bundle name\n+edit=Edit\n+delete=Delete\n+create-connector=Create new connector\n+delete_error=Operation forbidden:the connector you're trying to delete is connected to a Resource"},{"sha":"62dc448671342cb69d13e9af67a589d1cced7144","filename":"console/src/main/resources/org/syncope/console/pages/Resources_it.properties","status":"modified","additions":12,"deletions":1,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources_it.properties?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -2,6 +2,17 @@ tab1=Risorse\n name=Nome\n edit=Modifica\n delete=Elimina\n-create-link=Crea nuova risorsa\n+create-resource=Crea nuova risorsa\n propagationPriority=Priorit\\u00e0 in propagazione\n propagationPrimary=Primaria in propagazione\n+\n+tab2=Connettori\n+create-connector=Crea nuovo connettore\n+name=Nome\n+version=Versione\n+bundleName=Bundle name\n+edit=Modifica\n+delete=Elimina\n+id=Id\n+delete_error=Operazione vietata: il connettore che si desidera rimuovere \\u00e8 correlato ad una risorsa\n+displayName=Nome visualizzato"},{"sha":"8236d8bc4e1f323682814c1d237b764d2e6038e7","filename":"console/src/main/resources/org/syncope/console/pages/Todo.html","status":"renamed","additions":8,"deletions":14,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodo.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodo.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodo.html?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -12,38 +12,32 @@\n  limitations under the License.\n  under the License.\n -->\n-\n <wicket:extend>\n \n+\n     <div id=\"tabs\">\n         <ul>\n             <li class=\"tabs-selected\">\n-                <a href=\"#tabs-1\"><span><wicket:message key=\"tab1\"/></span></a>\n+                <a href=\"#tabs-1\"><span><wicket:message key=\"todo\"/></span></a>\n             </li>\n         </ul>\n         <div id=\"tabs-1\">\n-            <div id=\"users-contain\" class=\"ui-widget\" style=\"width:inherit\">\n-                <span wicket:id=\"container\">\n+\n+            <div id=\"users-contain\" class=\"ui-widget\" style=\"width:inherit;\">\n+                <span wicket:id=\"todoContainer\">\n                     <table class=\"ui-widget ui-widget-content table-hover\"\n-                           wicket:id=\"datatable\"/>\n+                           wicket:id=\"todoTable\"/>\n                 </span>\n-\n                 <span style=\"float:right\">\n-                    <form wicket:id=\"PaginatorForm\" style=\"display:inline\">\n+                    <form wicket:id=\"paginatorForm\" style=\"display:inline\">\n                         <label><wicket:message key=\"displayRows\"/></label>\n                         <select class=\"text ui-widget-content ui-corner-all\"\n                                 wicket:id=\"rowsChooser\"/>\n                     </form>\n                 </span>\n             </div>\n \n-            <div wicket:id=\"createConnectorWin\">[Show modal window for creating connector]</div>\n-            <div wicket:id=\"editConnectorWin\">[Show modal window for editing connector]</div>\n-\n-            <a class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\" wicket:id=\"createConnectorLink\">\n-                <wicket:message key=\"create-link\"/>\n-            </a>\n+            <div wicket:id=\"editTodoWin\">[Show modal window for editing Todo]</div>\n         </div>\n     </div>\n-\n </wicket:extend>\n\\ No newline at end of file","previous_filename":"console/src/main/resources/org/syncope/console/pages/Connectors.html"},{"sha":"3b405143014573c7afcb63dc56f382012615be1d","filename":"console/src/main/resources/org/syncope/console/pages/Todo.properties","status":"added","additions":9,"deletions":0,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodo.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodo.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodo.properties?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -0,0 +1,9 @@\n+\n+taskId=Task\n+key=Key\n+description=Description\n+createTime=Create time\n+dueDate=Due date\n+owner=Owner\n+claim=Claim\n+manage=Manage"},{"sha":"163f8c5203074856aeaf453fc2a7399d988c55a9","filename":"console/src/main/resources/org/syncope/console/pages/TodoModalPage.html","status":"added","additions":54,"deletions":0,"changes":54,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodoModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodoModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodoModalPage.html?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -0,0 +1,54 @@\n+<!--\n+ Licensed under the Apache License, Version 2.0 (the \"License\");\n+ you may not use this file except in compliance with the License.\n+ You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+ Unless required by applicable law or agreed to in writing, software\n+ distributed under the License is distributed on an \"AS IS\" BASIS,\n+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ See the License for the specific language governing permissions and\n+ limitations under the License.\n+ under the License.\n+-->\n+<wicket:extend>\n+    <p class=\"ui-widget ui-corner-all ui-widget-header\"><wicket:message key=\"title\"/></p>\n+<div style=\"margin:10px\">\n+    <form wicket:id=\"form\">\n+        <div id=\"tabs\">\n+            <ul>\n+                <li class=\"tabs-selected\">\n+                    <a href=\"#tabs-1\"><span><wicket:message key=\"tab1\"/></span></a>\n+                </li>\n+            </ul>\n+            <div id=\"tabs-1\">\n+                <div id=\"formtable\">\n+                    <div class=\"tablerow\" wicket:id=\"propView\">\n+                        <div class=\"tablecolumn_label medium_dynamicsize\">\n+                            <span wicket:id=\"key\">[key]</span>\n+                        </div>\n+                        <div class=\"tablecolumn_field medium_dynamicsize\">\n+                            <span wicket:id=\"value\">[value]</span>\n+\n+                        </div>\n+                    </div>\n+\n+                    <!-- inside the container in order to re-process javascript -->\n+                    <script type=\"text/javascript\">\n+                        $(function() {\n+                            $('#formtable div.tablerow:even').addClass(\"alt\");\n+                        });\n+                    </script>\n+                </div>\n+\n+                <div style=\"margin: 20px 10px 0\">\n+                    <input type=\"submit\"\n+                           class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\"\n+                           wicket:id=\"apply\"/>\n+                </div>\n+            </div>\n+        </div>\n+    </form>\n+</div>\n+</wicket:extend>\n\\ No newline at end of file"},{"sha":"f11cd896c40a3c23befcf28f85592e87d95f4680","filename":"console/src/main/resources/org/syncope/console/pages/TodoModalPage.properties","status":"added","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodoModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodoModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodoModalPage.properties?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -0,0 +1,3 @@\n+\n+tab1=Approval form\n+title=Workflow"},{"sha":"ab91c0fefc6b091658b972dbebe9947783b08cb4","filename":"console/src/main/resources/org/syncope/console/pages/TodoModalPage_it.properties","status":"added","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodoModalPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodoModalPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodoModalPage_it.properties?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -0,0 +1,3 @@\n+\n+tab1=Form di approvazione\n+title=Workflow"},{"sha":"4fb774a0ec17459c08a99bc339795ef014001574","filename":"console/src/main/resources/org/syncope/console/pages/Todo_it.properties","status":"added","additions":9,"deletions":0,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodo_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodo_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FTodo_it.properties?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -0,0 +1,9 @@\n+\n+taskId=Task\n+key=Chiave\n+description=Descrizione\n+createTime=Data di creazione\n+dueDate=Scadenza\n+owner=Esecutore\n+claim=Richiedi\n+manage=Gestisci"},{"sha":"b2ba0709867c26cce2b6afece64cb2e70c393247","filename":"console/src/main/resources/org/syncope/console/pages/WelcomePage.html","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FWelcomePage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FWelcomePage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FWelcomePage.html?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -21,7 +21,7 @@\n \n         <title>Syncope - <wicket:message key=\"welcome\"/></title>\n \n-        <link rel=\"stylesheet\" href=\"css/stile_sy.css\" type=\"text/css\" media=\"all\"/>\n+        <link rel=\"stylesheet\" href=\"css/style.css\" type=\"text/css\" media=\"all\"/>\n         <style type=\"text/css\">\n             em {\n                 font-size: 14px;\n@@ -38,14 +38,14 @@\n             <img src=\"img/logo.png\" alt=\"syncope\" title=\"syncope\" id=\"logo\" />\n             <h2><span style=\"font-size:8px;color:#aaaaaa;\" wicket:id=\"version\"/></h2>\n             <ul>\n+                <li><a href=\"#\" wicket:id=\"todo\" class=\"todo\"><img src=\"img/menu/todo.png\" alt=\"TODO\" width=\"80\" height=\"80\" /><br /><wicket:message key=\"todo\"/></a></li>\n                 <li><a href=\"#\" wicket:id=\"schema\" class=\"schema\"><img src=\"img/menu/schema.png\" alt=\"Schema\" width=\"80\" height=\"80\" /><br /><wicket:message key=\"schema\"/></a></li>\n                 <li><a href=\"#\" wicket:id=\"users\" class=\"users\"><img src=\"img/menu/users.png\" alt=\"Users\" width=\"80\" height=\"80\" /><br /><wicket:message key=\"users\"/></a></li>\n                 <li><a href=\"#\" wicket:id=\"roles\" class=\"roles\"><img src=\"img/menu/roles.png\" alt=\"Roles\" width=\"80\" height=\"80\" /><br /><wicket:message key=\"roles\"/></a></li>\n                 <li><a href=\"#\" wicket:id=\"resources\" class=\"resources\"><img src=\"img/menu/resources.png\" alt=\"Resources\" width=\"80\" height=\"80\" /><br /><wicket:message key=\"resources\"/></a></li>\n-                <li><a href=\"#\" wicket:id=\"connectors\" class=\"connectors\"><img src=\"img/menu/connectors.png\" alt=\"Connectors\" width=\"80\" height=\"80\" /><br /><wicket:message key=\"connectors\"/></a></li>\n+                <li><a href=\"#\" wicket:id=\"tasks\" class=\"tasks\"><img src=\"img/menu/task.png\" alt=\"Tasks\" width=\"80\" height=\"80\" /><br /><wicket:message key=\"tasks\"/></a></li>\n                 <li><a href=\"#\" wicket:id=\"report\" class=\"report\"><img src=\"img/menu/reports.png\" alt=\"Report\" width=\"80\" height=\"80\" /><br /><wicket:message key=\"report\"/></a></li>\n                 <li><a href=\"#\" wicket:id=\"configuration\" class=\"configuration\"><img src=\"img/menu/configuration.png\" alt=\"Configuration\" width=\"80\" height=\"80\" /><br /><wicket:message key=\"configuration\"/></a></li>\n-                <li><a href=\"#\" wicket:id=\"tasks\" class=\"tasks\"><img src=\"img/menu/task.png\" alt=\"Tasks\" width=\"80\" height=\"80\" /><br /><wicket:message key=\"tasks\"/></a></li>\n                 <li><a href=\"#\" wicket:id=\"logout\" class=\"logout\"><img src=\"img/menu/logout.png\" alt=\"Logout\" width=\"80\" height=\"80\" /><br /><wicket:message key=\"logout\"/></a></li>\n             </ul>\n         </div>"},{"sha":"ed8f033f411a11cfbc65e60011212319c80df29e","filename":"console/src/main/resources/org/syncope/console/wicket/markup/html/form/AjaxNumberFieldPanel.html","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxNumberFieldPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxNumberFieldPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxNumberFieldPanel.html?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -17,5 +17,5 @@\n \n <wicket:extend>\n     <input type=\"text\" class=\"ui-widget-content ui-corner-all long_dynamicsize\"\n-           wicket:id=\"intField\" />\n+           wicket:id=\"numberField\" />\n </wicket:extend>\n\\ No newline at end of file","previous_filename":"console/src/main/resources/org/syncope/console/wicket/markup/html/form/AjaxIntFieldPanel.html"},{"sha":"ed1acc0c62398e1c637974f5514dc08244d945d3","filename":"console/src/main/webapp/css/style.css","status":"renamed","additions":7,"deletions":3,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstyle.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstyle.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstyle.css?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -213,7 +213,7 @@ div#dialog-form span.radio label, div#dialog-form span.radio input { margin-top:\n div#dialog-form input.text { margin-bottom:12px; width: 95%; padding: .4em; }\n div#dialog-form select.text { margin-bottom:12px; width: auto; padding: .4em; }\n div#dialog-form fieldset { padding:0; border:0; margin-top:25px; }\n-div#users-contain { width: 570px; margin: 0px; }/*width: 350px*/\n+div#users-contain { width: 570px; margin-bottom: 20px;}/*width: 350px*/\n div#users-contain table { margin: 1em 0; border-collapse: collapse; width: 100%; }\n div#users-contain table td, div#users-contain table th { border: 1px solid #eee; padding: .6em 10px; text-align: left; }\n .ui-dialog .ui-state-error { padding: .3em; }\n@@ -245,11 +245,15 @@ div#users-contain table td, div#users-contain table th { border: 1px solid #eee;\n }\n \n #navigationPane .resources {\n+    color: #09F;\n+}\n+\n+#navigationPane .tasks {\n     color: #FD0;\n }\n \n-#navigationPane .task {\n-    color: #f3c98e;\n+#navigationPane .todo {\n+    color: #F3C98E;\n }\n \n #navigationPane .connectors {","previous_filename":"console/src/main/webapp/css/stile_sy.css"},{"sha":"98394a97a3f7a0f501f5ab887e9341bd2bf29803","filename":"console/src/main/webapp/img/menu/notsel/resources.png","status":"modified","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Fnotsel%2Fresources.png","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Fnotsel%2Fresources.png","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Fnotsel%2Fresources.png?ref=b4252cf57d8d45a815dec981356a6da71b88b3af"},{"sha":"08cde6d5096f9fc0058f91c76bf69f23472dba29","filename":"console/src/main/webapp/img/menu/notsel/task.png","status":"modified","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Fnotsel%2Ftask.png","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Fnotsel%2Ftask.png","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Fnotsel%2Ftask.png?ref=b4252cf57d8d45a815dec981356a6da71b88b3af"},{"sha":"1f96cd3cea037bcb4e5743e27bc7f4b77961c2c8","filename":"console/src/main/webapp/img/menu/notsel/todo.png","status":"added","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Fnotsel%2Ftodo.png","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Fnotsel%2Ftodo.png","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Fnotsel%2Ftodo.png?ref=b4252cf57d8d45a815dec981356a6da71b88b3af"},{"sha":"8ae870506cd0695d3709a4fb9a4c44d44fff3c7f","filename":"console/src/main/webapp/img/menu/resources.png","status":"modified","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Fresources.png","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Fresources.png","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Fresources.png?ref=b4252cf57d8d45a815dec981356a6da71b88b3af"},{"sha":"05bdc112ed61410cac9b585801cff3e5418be0a5","filename":"console/src/main/webapp/img/menu/task.png","status":"modified","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Ftask.png","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Ftask.png","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Ftask.png?ref=b4252cf57d8d45a815dec981356a6da71b88b3af"},{"sha":"b21fda43439924fd4765a4aeba45feb5361dc529","filename":"console/src/main/webapp/img/menu/todo.png","status":"added","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Ftodo.png","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Ftodo.png","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fmenu%2Ftodo.png?ref=b4252cf57d8d45a815dec981356a6da71b88b3af"},{"sha":"038a0848ded409f134f4d9335f0ef5bed0bf981d","filename":"console/src/test/java/org/syncope/console/AccessTestITCase.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fconsole%2FAccessTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fconsole%2FAccessTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fconsole%2FAccessTestITCase.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -37,7 +37,7 @@ public void clickAround() {\n         selenium.waitForPageToLoad(\"30000\");\n         selenium.click(\"css=img[alt=\\\"Resources\\\"]\");\n         selenium.waitForPageToLoad(\"30000\");\n-        selenium.click(\"css=img[alt=\\\"Connectors\\\"]\");\n+        selenium.click(\"css=img[alt=\\\"TODO\\\"]\");\n         selenium.waitForPageToLoad(\"30000\");\n         selenium.click(\"css=img[alt=\\\"Report\\\"]\");\n         selenium.waitForPageToLoad(\"30000\");"},{"sha":"0b08cbe028fc5ee1a874c351a8a5b04e14d8cfa9","filename":"console/src/test/java/org/syncope/console/ConfigurationTestITCase.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -56,7 +56,7 @@ public void browsePasswordPolicy() {\n \n         assertTrue(selenium.isElementPresent(\"//input[@name='id:textField']\"));\n         selenium.type(\"name=description:textField\", \"new description\");\n-        selenium.click(\"name=apply\");\n+        selenium.click(\"//div[2]/form/div[3]/input\");\n         assertTrue(selenium.isTextPresent(\"new description\"));\n     }\n "},{"sha":"ff54012d86cdf43eb40bdd394b86adb74ef35b5c","filename":"console/src/test/java/org/syncope/console/ConnInstanceTestITCase.java","status":"modified","additions":6,"deletions":5,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fconsole%2FConnInstanceTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fconsole%2FConnInstanceTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fsyncope%2Fconsole%2FConnInstanceTestITCase.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -21,9 +21,9 @@ public class ConnInstanceTestITCase extends AbstractTest {\n     public void browseCreateModal() {\n         selenium.setSpeed(\"1000\");\n \n-        selenium.click(\"css=img[alt=\\\"Connectors\\\"]\");\n+        selenium.click(\"css=img[alt=\\\"Resources\\\"]\");\n         selenium.waitForPageToLoad(\"30000\");\n-        selenium.click(\"//div[3]/div/a\");\n+        selenium.click(\"//div[3]/div[2]/a\");\n         for (int second = 0;; second++) {\n             if (second >= 60) {\n                 fail(\"timeout\");\n@@ -54,7 +54,7 @@ public void browseCreateModal() {\n     public void browseEditModal() {\n         selenium.setSpeed(\"1000\");\n \n-        selenium.click(\"css=img[alt=\\\"Connectors\\\"]\");\n+        selenium.click(\"css=img[alt=\\\"Resources\\\"]\");\n         selenium.waitForPageToLoad(\"30000\");\n         selenium.click(\"//tr[4]/td[6]/span/a\");\n         for (int second = 0;; second++) {\n@@ -76,14 +76,15 @@ public void browseEditModal() {\n \n         assertEquals(\"ConnInstance103\", selenium.getAttribute(\n                 \"//input[@name='displayName:textField']/@value\"));\n-        assertEquals(\"org.connid.bundles.soap#1.1\", selenium.getSelectedValue(\"//select[@name='bundle:dropDownChoiceField']\"));\n+        assertEquals(\"org.connid.bundles.soap#1.1\", selenium.getSelectedValue(\n+                \"//select[@name='bundle:dropDownChoiceField']\"));\n         selenium.click(\"//div[@id='tabs']/ul/li[2]/a/span\");\n         selenium.click(\"css=a.w_close\");\n     }\n \n     @Test\n     public void delete() {\n-        selenium.click(\"css=img[alt=\\\"Connectors\\\"]\");\n+        selenium.click(\"css=img[alt=\\\"Resources\\\"]\");\n         selenium.waitForPageToLoad(\"30000\");\n         selenium.click(\"//tr[4]/td[7]/span/a\");\n         assertTrue(selenium.getConfirmation().matches("},{"sha":"ba9b94dd19f616c712bdd4c65590015eb3bc45df","filename":"core/src/main/java/org/syncope/core/workflow/ActivitiUserWorkflowAdapter.java","status":"modified","additions":10,"deletions":0,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b4252cf57d8d45a815dec981356a6da71b88b3af/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fworkflow%2FActivitiUserWorkflowAdapter.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b4252cf57d8d45a815dec981356a6da71b88b3af/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fworkflow%2FActivitiUserWorkflowAdapter.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fworkflow%2FActivitiUserWorkflowAdapter.java?ref=b4252cf57d8d45a815dec981356a6da71b88b3af","patch":"@@ -352,6 +352,16 @@ private WorkflowFormTO getFormTO(final Task task,\n                     PROPERTY_IGNORE_PROPS);\n             propertyTO.setType(fromActivitiFormType(fProp.getType()));\n \n+            if (propertyTO.getType() == WorkflowFormPropertyType.Date) {\n+                propertyTO.setDatePattern(\n+                        (String) fProp.getType().getInformation(\"datePattern\"));\n+            }\n+            if (propertyTO.getType() == WorkflowFormPropertyType.Enum) {\n+                propertyTO.setEnumValues(\n+                        (Map<String, String>) fProp.getType().\n+                        getInformation(\"values\"));\n+            }\n+\n             formTO.addProperty(propertyTO);\n         }\n "}]}
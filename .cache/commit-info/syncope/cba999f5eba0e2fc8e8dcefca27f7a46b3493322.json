{"sha":"cba999f5eba0e2fc8e8dcefca27f7a46b3493322","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmNiYTk5OWY1ZWJhMGUyZmM4ZThkY2VmY2EyN2Y3YTQ2YjM0OTMzMjI=","commit":{"author":{"name":"Misagh Moayyed","email":"mm1844@gmail.com","date":"2020-01-16T10:01:06Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2020-01-16T10:01:06Z"},"message":"allow flowable suspend to set user suspension (#159)\n\n(cherry picked from commit 4d2398c54bf558db37b1fa675b693bfe9e5fc54d)","tree":{"sha":"5e0750aba5a2ce5016486c065e76f8439ecfc7be","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/5e0750aba5a2ce5016486c065e76f8439ecfc7be"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/cba999f5eba0e2fc8e8dcefca27f7a46b3493322","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeIDRiCRBK7hj4Ov3rIwAAdHIIABe+8g6L4utHrCMGvAQH041M\nNXS5UGdWbODV0ZVgXj+J9CQ/z/jKudOspmMGSkAfA7YKwxOBnc3Njx+OhHHaHC0X\n3AHlkMFuWLu9O6ab4QvbD8mQ64xcW9APfTtxxuasn2daaAvgxcta0FxKwQNL3uua\nXiiSiKSKrISH357UPHo94So/rq5e2a2cGJ9kuZLX2gdd/3ozc4AYMo5zQrh9nT2b\nMYr9tWz2U9lbPpWtsoSmXqVjSEiNIqhqsapP4vAspeiw4R97q9o1Yr7va5a788gW\nkmGkgGlcXKmWsPp7lCwm+nVEEbpX64jTLNTS7LY3QakBqx185WY9G1iOGZzd02c=\n=/8e5\n-----END PGP SIGNATURE-----\n","payload":"tree 5e0750aba5a2ce5016486c065e76f8439ecfc7be\nparent 6658e4dad36dc1cf7daf489c09d123cf8a47a9d5\nauthor Misagh Moayyed <mm1844@gmail.com> 1579168866 +0400\ncommitter GitHub <noreply@github.com> 1579168866 +0400\n\nallow flowable suspend to set user suspension (#159)\n\n(cherry picked from commit 4d2398c54bf558db37b1fa675b693bfe9e5fc54d)"}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/cba999f5eba0e2fc8e8dcefca27f7a46b3493322","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/cba999f5eba0e2fc8e8dcefca27f7a46b3493322","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/cba999f5eba0e2fc8e8dcefca27f7a46b3493322/comments","author":{"login":"mmoayyed","id":1205228,"node_id":"MDQ6VXNlcjEyMDUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/1205228?v=4","gravatar_id":"","url":"https://api.github.com/users/mmoayyed","html_url":"https://github.com/mmoayyed","followers_url":"https://api.github.com/users/mmoayyed/followers","following_url":"https://api.github.com/users/mmoayyed/following{/other_user}","gists_url":"https://api.github.com/users/mmoayyed/gists{/gist_id}","starred_url":"https://api.github.com/users/mmoayyed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmoayyed/subscriptions","organizations_url":"https://api.github.com/users/mmoayyed/orgs","repos_url":"https://api.github.com/users/mmoayyed/repos","events_url":"https://api.github.com/users/mmoayyed/events{/privacy}","received_events_url":"https://api.github.com/users/mmoayyed/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"6658e4dad36dc1cf7daf489c09d123cf8a47a9d5","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/6658e4dad36dc1cf7daf489c09d123cf8a47a9d5","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/6658e4dad36dc1cf7daf489c09d123cf8a47a9d5"}],"stats":{"total":4,"additions":4,"deletions":0},"files":[{"sha":"399e7dcbbb18f7da734d264b12f772e1fca75225","filename":"ext/flowable/flowable-bpmn/src/main/java/org/apache/syncope/core/flowable/task/Suspend.java","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/cba999f5eba0e2fc8e8dcefca27f7a46b3493322/ext%2Fflowable%2Fflowable-bpmn%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fflowable%2Ftask%2FSuspend.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/cba999f5eba0e2fc8e8dcefca27f7a46b3493322/ext%2Fflowable%2Fflowable-bpmn%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fflowable%2Ftask%2FSuspend.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fflowable%2Fflowable-bpmn%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fflowable%2Ftask%2FSuspend.java?ref=cba999f5eba0e2fc8e8dcefca27f7a46b3493322","patch":"@@ -18,6 +18,8 @@\n  */\n package org.apache.syncope.core.flowable.task;\n \n+import org.apache.syncope.core.flowable.impl.FlowableRuntimeUtils;\n+import org.apache.syncope.core.persistence.api.entity.user.User;\n import org.flowable.engine.delegate.DelegateExecution;\n import org.springframework.stereotype.Component;\n \n@@ -26,5 +28,7 @@ public class Suspend extends FlowableServiceTask {\n \n     @Override\n     protected void doExecute(final DelegateExecution execution) {\n+        User user = execution.getVariable(FlowableRuntimeUtils.USER, User.class);\n+        user.setSuspended(true);\n     }\n }"}]}
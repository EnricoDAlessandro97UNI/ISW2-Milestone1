{"sha":"96d00bd1ca05f2637604a4bfa6b39f43bef51c52","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjk2ZDAwYmQxY2EwNWYyNjM3NjA0YTRiZmE2YjM5ZjQzYmVmNTFjNTI=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-01-15T09:25:24Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-01-15T09:25:24Z"},"message":"[SYNCOPE_476] Merge from 1_1_X\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1558323 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"090b98c9e9e0e9fce89687b05ab4a2918a71100f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/090b98c9e9e0e9fce89687b05ab4a2918a71100f"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/96d00bd1ca05f2637604a4bfa6b39f43bef51c52","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/96d00bd1ca05f2637604a4bfa6b39f43bef51c52","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/96d00bd1ca05f2637604a4bfa6b39f43bef51c52","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"9b5c1de7b31d31d6a08fd50f525c127a69b7ec04","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/9b5c1de7b31d31d6a08fd50f525c127a69b7ec04","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/9b5c1de7b31d31d6a08fd50f525c127a69b7ec04"},{"sha":"fcc7059ef14f5c935385c6959e272b2d133e968f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fcc7059ef14f5c935385c6959e272b2d133e968f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/fcc7059ef14f5c935385c6959e272b2d133e968f"}],"stats":{"total":542,"additions":314,"deletions":228},"files":[{"sha":"7aca011ee2cd5d4486391b2d78e85c1bdc9f423e","filename":"console/src/main/java/org/apache/syncope/console/SyncopeApplication.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FSyncopeApplication.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FSyncopeApplication.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FSyncopeApplication.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -21,6 +21,7 @@\n import java.io.Serializable;\n import org.apache.syncope.common.to.UserTO;\n import org.apache.syncope.console.commons.Constants;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.console.commons.XMLRolesReader;\n import org.apache.syncope.console.pages.Configuration;\n import org.apache.syncope.console.pages.InfoModalPage;\n@@ -252,7 +253,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                     @Override\n                     public Page createPage() {\n-                        return new UserSelfModalPage(page.getPageReference(), editProfileModalWin, userTO);\n+                        return new UserSelfModalPage(PageUtils.getPageReference(page), editProfileModalWin, userTO);\n                     }\n                 });\n "},{"sha":"684f8390f80a8fe3741cebd11ee5b62c89e1456a","filename":"console/src/main/java/org/apache/syncope/console/commons/PageUtils.java","status":"added","additions":34,"deletions":0,"changes":34,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fcommons%2FPageUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fcommons%2FPageUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fcommons%2FPageUtils.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -0,0 +1,34 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.console.commons;\n+\n+import org.apache.wicket.Page;\n+import org.apache.wicket.PageReference;\n+\n+public final class PageUtils {\n+\n+    private PageUtils() {\n+        // private constructor for static utility class\n+    }\n+\n+    public static PageReference getPageReference(final Page page) {\n+        page.internalInitialize();\n+        return page.getPageReference();\n+    }\n+}"},{"sha":"5f84207ef204806bb63f756d840d3a056b6c068c","filename":"console/src/main/java/org/apache/syncope/console/pages/ApprovalModalPage.java","status":"modified","additions":3,"deletions":2,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FApprovalModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FApprovalModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FApprovalModalPage.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -33,6 +33,7 @@\n import org.apache.syncope.common.SyncopeClientException;\n import org.apache.syncope.console.commons.Constants;\n import org.apache.syncope.console.commons.MapChoiceRenderer;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.console.markup.html.list.AltListView;\n import org.apache.syncope.console.rest.ApprovalRestClient;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n@@ -174,8 +175,8 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new ViewUserModalPage(ApprovalModalPage.this.getPageReference(), editUserWin,\n-                                        userRestClient.read(formTO.getUserId())) {\n+                                return new ViewUserModalPage(PageUtils.getPageReference(ApprovalModalPage.this),\n+                                        editUserWin, userRestClient.read(formTO.getUserId())) {\n \n                                     private static final long serialVersionUID = -2819994749866481607L;\n "},{"sha":"39d4ed4a9f82bb995c63d96ca5a9097bbb8c3e8a","filename":"console/src/main/java/org/apache/syncope/console/pages/BulkActionModalPage.java","status":"modified","additions":5,"deletions":3,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBulkActionModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBulkActionModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBulkActionModalPage.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -25,6 +25,7 @@\n import java.util.List;\n import org.apache.syncope.common.reqres.BulkAction;\n import org.apache.syncope.common.reqres.BulkActionResult;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.console.rest.BaseRestClient;\n import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLink;\n@@ -83,7 +84,8 @@ public IModel<T> model(final T object) {\n                 dataProvider,\n                 Integer.MAX_VALUE).setVisible(items != null && !items.isEmpty()));\n \n-        final ActionLinksPanel actionPanel = new ActionLinksPanel(\"actions\", new Model(), getPageReference());\n+        final ActionLinksPanel actionPanel = new ActionLinksPanel(\"actions\", new Model(),\n+                PageUtils.getPageReference(getPage()));\n         add(actionPanel);\n \n         for (ActionLink.ActionType action : actions) {\n@@ -138,8 +140,8 @@ public void onClick(final AjaxRequestTarget target) {\n         final Form<Void> form = new Form<Void>(FORM);\n         add(form);\n \n-        final AjaxButton cancel =\n-                new ClearIndicatingAjaxButton(CANCEL, new ResourceModel(CANCEL), getPageReference()) {\n+        final AjaxButton cancel = new ClearIndicatingAjaxButton(CANCEL, new ResourceModel(CANCEL),\n+                PageUtils.getPageReference(getPage())) {\n \n                     private static final long serialVersionUID = -958724007591692537L;\n "},{"sha":"961c19bef1818222e275ebea37946c2516e04f16","filename":"console/src/main/java/org/apache/syncope/console/pages/Configuration.java","status":"modified","additions":15,"deletions":12,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -29,6 +29,7 @@\n import org.apache.logging.log4j.core.LoggerContext;\n import org.apache.logging.log4j.core.config.LoggerConfig;\n import org.apache.syncope.common.SyncopeConstants;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.ConfigurationTO;\n import org.apache.syncope.common.to.LoggerTO;\n import org.apache.syncope.common.to.NotificationTO;\n@@ -137,9 +138,9 @@ public Configuration() {\n         add(editConfigWin = new ModalWindow(\"editConfigurationWin\"));\n         setupSyncopeConf();\n \n-        add(new PoliciesPanel(\"passwordPoliciesPanel\", getPageReference(), PolicyType.PASSWORD));\n-        add(new PoliciesPanel(\"accountPoliciesPanel\", getPageReference(), PolicyType.ACCOUNT));\n-        add(new PoliciesPanel(\"syncPoliciesPanel\", getPageReference(), PolicyType.SYNC));\n+        add(new PoliciesPanel(\"passwordPoliciesPanel\", PageUtils.getPageReference(getPage()), PolicyType.PASSWORD));\n+        add(new PoliciesPanel(\"accountPoliciesPanel\", PageUtils.getPageReference(getPage()), PolicyType.ACCOUNT));\n+        add(new PoliciesPanel(\"syncPoliciesPanel\", PageUtils.getPageReference(getPage()), PolicyType.SYNC));\n \n         add(createNotificationWin = new ModalWindow(\"createNotificationWin\"));\n         add(editNotificationWin = new ModalWindow(\"editNotificationWin\"));\n@@ -255,7 +256,8 @@ public void populateItem(final Item<ICellPopulator<ConfigurationTO>> cellItem, f\n \n                 final ConfigurationTO configurationTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n+                        PageUtils.getPageReference(getPage()));\n \n                 panel.add(new ActionLink() {\n \n@@ -270,8 +272,8 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new ConfigurationModalPage(Configuration.this.getPageReference(), editConfigWin,\n-                                        configurationTO, false);\n+                                return new ConfigurationModalPage(PageUtils.getPageReference(Configuration.this),\n+                                        editConfigWin, configurationTO, false);\n                             }\n                         });\n \n@@ -340,8 +342,8 @@ public void onClick(final AjaxRequestTarget target) {\n \n                     @Override\n                     public Page createPage() {\n-                        return new ConfigurationModalPage(Configuration.this.getPageReference(), createConfigWin,\n-                                new ConfigurationTO(), true);\n+                        return new ConfigurationModalPage(PageUtils.getPageReference(Configuration.this),\n+                                createConfigWin, new ConfigurationTO(), true);\n                     }\n                 });\n \n@@ -432,7 +434,8 @@ public void populateItem(final Item<ICellPopulator<NotificationTO>> cellItem, fi\n \n                 final NotificationTO notificationTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n+                        PageUtils.getPageReference(getPage()));\n \n                 panel.add(new ActionLink() {\n \n@@ -447,7 +450,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new NotificationModalPage(Configuration.this.getPageReference(),\n+                                return new NotificationModalPage(PageUtils.getPageReference(Configuration.this),\n                                         editNotificationWin, notificationTO, false);\n                             }\n                         });\n@@ -517,8 +520,8 @@ public void onClick(final AjaxRequestTarget target) {\n \n                     @Override\n                     public Page createPage() {\n-                        return new NotificationModalPage(Configuration.this.getPageReference(), createNotificationWin,\n-                                new NotificationTO(), true);\n+                        return new NotificationModalPage(PageUtils.getPageReference(Configuration.this),\n+                                createNotificationWin, new NotificationTO(), true);\n                     }\n                 });\n "},{"sha":"a8ad5d90829c3f4f312352582d3d410f600f0043","filename":"console/src/main/java/org/apache/syncope/console/pages/EditUserModalPage.java","status":"modified","additions":5,"deletions":2,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FEditUserModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FEditUserModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FEditUserModalPage.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -21,6 +21,7 @@\n import java.util.ArrayList;\n import org.apache.commons.lang3.SerializationUtils;\n import org.apache.syncope.common.mod.UserMod;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.UserTO;\n import org.apache.syncope.common.util.AttributableOperations;\n import org.apache.syncope.console.commons.status.StatusBean;\n@@ -60,7 +61,8 @@ public EditUserModalPage(final PageReference pageRef, final ModalWindow window,\n         if (userTO.getId() != 0) {\n             form.addOrReplace(new Label(\"pwdChangeInfo\", new ResourceModel(\"pwdChangeInfo\")));\n \n-            statusPanel = new StatusPanel(\"statuspanel\", userTO, new ArrayList<StatusBean>(), getPageReference());\n+            statusPanel = new StatusPanel(\"statuspanel\", userTO, new ArrayList<StatusBean>(),\n+                    PageUtils.getPageReference(getPage()));\n             statusPanel.setOutputMarkupId(true);\n             MetaDataRoleAuthorizationStrategy.authorize(\n                     statusPanel, RENDER, xmlRolesReader.getAllAllowedRoles(\"Resources\", \"getConnectorObject\"));\n@@ -71,7 +73,8 @@ public EditUserModalPage(final PageReference pageRef, final ModalWindow window,\n             form.addOrReplace(new ResourcesPanel.Builder(\"resources\").attributableTO(userTO).statusPanel(\n                     statusPanel).build());\n \n-            form.addOrReplace(new MembershipsPanel(\"memberships\", userTO, false, statusPanel, getPageReference()));\n+            form.addOrReplace(new MembershipsPanel(\"memberships\", userTO, false, statusPanel,\n+                    PageUtils.getPageReference(getPage())));\n         }\n     }\n "},{"sha":"e8977c720a62f42c1df3b050bdebf2e4ac83f5e2","filename":"console/src/main/java/org/apache/syncope/console/pages/Login.java","status":"modified","additions":26,"deletions":24,"changes":50,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FLogin.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FLogin.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FLogin.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -21,6 +21,7 @@\n import java.security.AccessControlException;\n import java.util.List;\n import java.util.Locale;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.services.EntitlementService;\n import org.apache.syncope.common.wrap.EntitlementTO;\n import org.apache.syncope.common.to.UserTO;\n@@ -137,39 +138,40 @@ public void onSubmit() {\n         if (userSelfRestClient.isSelfRegistrationAllowed()) {\n             selfRegFrag = new Fragment(\"selfRegistration\", \"selfRegAllowed\", this);\n \n-            final AjaxLink<Void> selfRegLink = new ClearIndicatingAjaxLink<Void>(\"link\", getPageReference()) {\n+            final AjaxLink<Void> selfRegLink = new ClearIndicatingAjaxLink<Void>(\"link\",\n+                    PageUtils.getPageReference(getPage())) {\n \n-                private static final long serialVersionUID = -7978723352517770644L;\n+                        private static final long serialVersionUID = -7978723352517770644L;\n \n-                @Override\n-                protected void onClickInternal(final AjaxRequestTarget target) {\n-                    editProfileModalWin.setPageCreator(new ModalWindow.PageCreator() {\n+                        @Override\n+                        protected void onClickInternal(final AjaxRequestTarget target) {\n+                            editProfileModalWin.setPageCreator(new ModalWindow.PageCreator() {\n \n-                        private static final long serialVersionUID = -7834632442532690940L;\n+                                private static final long serialVersionUID = -7834632442532690940L;\n \n-                        @Override\n-                        public Page createPage() {\n-                            // anonymous authentication needed for self-registration\n-                            authenticate(anonymousUser, anonymousKey);\n+                                @Override\n+                                public Page createPage() {\n+                                    // anonymous authentication needed for self-registration\n+                                    authenticate(anonymousUser, anonymousKey);\n \n-                            return new UserSelfModalPage(\n-                                    Login.this.getPageReference(), editProfileModalWin, new UserTO());\n-                        }\n-                    });\n+                                    return new UserSelfModalPage(\n+                                            PageUtils.getPageReference(Login.this), editProfileModalWin, new UserTO());\n+                                }\n+                            });\n \n-                    editProfileModalWin.setWindowClosedCallback(new ModalWindow.WindowClosedCallback() {\n+                            editProfileModalWin.setWindowClosedCallback(new ModalWindow.WindowClosedCallback() {\n \n-                        private static final long serialVersionUID = 251794406325329768L;\n+                                private static final long serialVersionUID = 251794406325329768L;\n \n-                        @Override\n-                        public void onClose(final AjaxRequestTarget target) {\n-                            SyncopeSession.get().invalidate();\n-                        }\n-                    });\n+                                @Override\n+                                public void onClose(final AjaxRequestTarget target) {\n+                                    SyncopeSession.get().invalidate();\n+                                }\n+                            });\n \n-                    editProfileModalWin.show(target);\n-                }\n-            };\n+                            editProfileModalWin.show(target);\n+                        }\n+                    };\n             selfRegLink.add(new Label(\"linkTitle\", getString(\"selfRegistration\")));\n \n             Panel panel = new LinkPanel(\"selfRegistration\", new ResourceModel(\"selfRegistration\"));"},{"sha":"8543d249264c3d44a8ae60f9e2b6bb3940d53f8f","filename":"console/src/main/java/org/apache/syncope/console/pages/NotificationModalPage.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -23,6 +23,7 @@\n import java.util.Collections;\n import java.util.EnumSet;\n import java.util.List;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.NotificationTO;\n import org.apache.syncope.common.types.AttributableType;\n import org.apache.syncope.common.types.IntMappingType;\n@@ -150,7 +151,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n                 \"eventSelection\",\n                 loggerRestClient.listEvents(),\n                 new PropertyModel<List<String>>(notificationTO, \"events\"),\n-                getPageReference(),\n+                PageUtils.getPageReference(getPage()),\n                 \"Notification\") {\n \n                     private static final long serialVersionUID = 6429053774964787735L;"},{"sha":"3ff3ce74bcd952a19bdcb436741e5da883b80b28","filename":"console/src/main/java/org/apache/syncope/console/pages/PolicyModalPage.java","status":"modified","additions":8,"deletions":8,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FPolicyModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FPolicyModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FPolicyModalPage.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -23,6 +23,7 @@\n import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.AccountPolicyTO;\n import org.apache.syncope.common.to.PasswordPolicyTO;\n import org.apache.syncope.common.to.AbstractPolicyTO;\n@@ -36,7 +37,6 @@\n import org.apache.syncope.console.commons.Constants;\n import org.apache.syncope.console.pages.panels.PolicyBeanPanel;\n import org.apache.syncope.console.rest.PolicyRestClient;\n-import org.apache.syncope.console.rest.ResourceRestClient;\n import org.apache.syncope.console.rest.RoleRestClient;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.console.wicket.markup.html.form.ActionLinksPanel;\n@@ -79,9 +79,6 @@\n     @SpringBean\n     private PolicyRestClient policyRestClient;\n \n-    @SpringBean\n-    private ResourceRestClient resourceRestClient;\n-\n     @SpringBean\n     private RoleRestClient roleRestClient;\n \n@@ -168,7 +165,8 @@ public void populateItem(final Item<ICellPopulator<String>> cellItem, final Stri\n \n                 final String resource = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n+                        PageUtils.getPageReference(getPage()));\n                 panel.add(new ActionLink() {\n \n                     private static final long serialVersionUID = -3722207913631435501L;\n@@ -181,7 +179,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new ResourceModalPage(PolicyModalPage.this.getPageReference(),\n+                                return new ResourceModalPage(PageUtils.getPageReference(PolicyModalPage.this),\n                                         mwindow, resourceRestClient.read(resource), false);\n                             }\n                         });\n@@ -240,7 +238,8 @@ public void populateItem(final Item<ICellPopulator<RoleTO>> cellItem, final Stri\n \n                 final RoleTO role = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n+                        PageUtils.getPageReference(getPage()));\n                 panel.add(new ActionLink() {\n \n                     private static final long serialVersionUID = -3722207913631435501L;\n@@ -253,7 +252,8 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new RoleModalPage(PolicyModalPage.this.getPageReference(), mwindow, role);\n+                                return new RoleModalPage(\n+                                        PageUtils.getPageReference(PolicyModalPage.this), mwindow, role);\n                             }\n                         });\n "},{"sha":"40582f1ba996e56adafba900a6a451a5b95dc904","filename":"console/src/main/java/org/apache/syncope/console/pages/ReportModalPage.java","status":"modified","additions":11,"deletions":8,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportModalPage.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -22,6 +22,7 @@\n import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.report.AbstractReportletConf;\n import org.apache.syncope.common.report.ReportletConf;\n import org.apache.syncope.common.to.ReportExecTO;\n@@ -123,7 +124,7 @@ public ReportModalPage(final ModalWindow window, final ReportTO reportTO, final\n         form.add(crontab);\n \n         final AjaxButton submit =\n-                new ClearIndicatingAjaxButton(APPLY, new ResourceModel(APPLY), getPageReference()) {\n+                new ClearIndicatingAjaxButton(APPLY, new ResourceModel(APPLY), PageUtils.getPageReference(getPage())) {\n \n                     private static final long serialVersionUID = -958724007591692537L;\n \n@@ -167,8 +168,8 @@ protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n \n         form.add(submit);\n \n-        final AjaxButton cancel =\n-                new ClearIndicatingAjaxButton(CANCEL, new ResourceModel(CANCEL), getPageReference()) {\n+        final AjaxButton cancel = new ClearIndicatingAjaxButton(CANCEL, new ResourceModel(CANCEL),\n+                PageUtils.getPageReference(getPage())) {\n \n                     private static final long serialVersionUID = -958724007591692537L;\n \n@@ -295,7 +296,7 @@ public Page createPage() {\n                         modalReportletConfOldName = null;\n                         modalReportletConf = null;\n                         return new ReportletConfModalPage(null, reportletConfWin,\n-                                ReportModalPage.this.getPageReference());\n+                                PageUtils.getPageReference(ReportModalPage.this));\n                     }\n                 });\n                 reportletConfWin.show(target);\n@@ -318,7 +319,7 @@ public Page createPage() {\n                             modalReportletConfOldName = reportlets.getModelObject().getName();\n                             modalReportletConf = null;\n                             return new ReportletConfModalPage(reportlets.getModelObject(), reportletConfWin,\n-                                    ReportModalPage.this.getPageReference());\n+                                    PageUtils.getPageReference(ReportModalPage.this));\n                         }\n                     });\n                     reportletConfWin.show(target);\n@@ -446,7 +447,8 @@ public ActionLinksPanel getActions(final String componentId, final IModel<Report\n \n                 final ReportExecTO taskExecutionTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n+                        PageUtils.getPageReference(getPage()));\n \n                 panel.add(new ActionLink() {\n \n@@ -481,7 +483,7 @@ public void onClick(final AjaxRequestTarget target) {\n                             public Page createPage() {\n                                 ReportModalPage.this.exportExecId = model.getObject().getId();\n                                 return new ReportExecResultDownloadModalPage(reportExecExportWin,\n-                                        ReportModalPage.this.getPageReference());\n+                                        PageUtils.getPageReference(ReportModalPage.this));\n                             }\n                         });\n                         reportExecExportWin.show(target);\n@@ -515,7 +517,8 @@ public void onClick(final AjaxRequestTarget target) {\n \n             @Override\n             public Component getHeader(final String componentId) {\n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(), getPageReference());\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(),\n+                        PageUtils.getPageReference(getPage()));\n \n                 panel.add(new ActionLink() {\n "},{"sha":"0023f5b1cb69ef7c9daef446effaed2cb8375fa8","filename":"console/src/main/java/org/apache/syncope/console/pages/Reports.java","status":"modified","additions":9,"deletions":6,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReports.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReports.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReports.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -23,6 +23,7 @@\n import java.util.Iterator;\n import java.util.List;\n import java.util.Map;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.EventCategoryTO;\n import org.apache.syncope.common.to.ReportTO;\n import org.apache.syncope.common.types.AuditElements.Result;\n@@ -132,7 +133,8 @@ public ActionLinksPanel getActions(final String componentId, final IModel<Report\n \n                 final ReportTO reportTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, PageUtils.getPageReference(\n+                        getPage()));\n \n                 panel.add(new ActionLink() {\n \n@@ -147,7 +149,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new ReportModalPage(window, reportTO, Reports.this.getPageReference());\n+                                return new ReportModalPage(window, reportTO, PageUtils.getPageReference(Reports.this));\n                             }\n                         });\n \n@@ -195,7 +197,8 @@ public void onClick(final AjaxRequestTarget target) {\n \n             @Override\n             public Component getHeader(final String componentId) {\n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(), getPageReference());\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(),\n+                        PageUtils.getPageReference(getPage()));\n \n                 panel.add(new ActionLink() {\n \n@@ -249,7 +252,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n         paginatorForm.add(rowsChooser);\n         add(paginatorForm);\n \n-        AjaxLink createLink = new ClearIndicatingAjaxLink(\"createLink\", getPageReference()) {\n+        AjaxLink createLink = new ClearIndicatingAjaxLink(\"createLink\", PageUtils.getPageReference(getPage())) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n@@ -261,7 +264,7 @@ protected void onClickInternal(final AjaxRequestTarget target) {\n \n                     @Override\n                     public Page createPage() {\n-                        return new ReportModalPage(window, new ReportTO(), Reports.this.getPageReference());\n+                        return new ReportModalPage(window, new ReportTO(), PageUtils.getPageReference(Reports.this));\n                     }\n                 });\n \n@@ -302,7 +305,7 @@ private void setupAudit() {\n         final ListModel<String> model = new ListModel<String>(new ArrayList<String>(events));\n \n         form.add(new LoggerCategoryPanel(\n-                \"events\", loggerRestClient.listEvents(), model, getPageReference(), \"Reports\") {\n+                \"events\", loggerRestClient.listEvents(), model, PageUtils.getPageReference(getPage()), \"Reports\") {\n \n                     private static final long serialVersionUID = 6113164334533550277L;\n "},{"sha":"2cde5b3f9866942d1be145511245c33fd4b98193","filename":"console/src/main/java/org/apache/syncope/console/pages/Resources.java","status":"modified","additions":23,"deletions":17,"changes":40,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResources.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -29,6 +29,7 @@\n import org.apache.syncope.common.to.UserTO;\n import org.apache.syncope.common.SyncopeClientException;\n import org.apache.syncope.console.commons.Constants;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.console.commons.PreferenceManager;\n import org.apache.syncope.console.commons.SortableDataProviderComparator;\n import org.apache.syncope.console.pages.panels.AbstractSearchResultPanel;\n@@ -129,7 +130,7 @@ public Resources(final PageParameters parameters) {\n         statusmodal.setCookieName(\"status-modal\");\n         add(statusmodal);\n \n-        AjaxLink<Void> reloadLink = new ClearIndicatingAjaxLink<Void>(\"reloadLink\", getPageReference()) {\n+        AjaxLink<Void> reloadLink = new ClearIndicatingAjaxLink<Void>(\"reloadLink\", PageUtils.getPageReference(this)) {\n \n             private static final long serialVersionUID = 3109256773218160485L;\n \n@@ -189,7 +190,7 @@ public void populateItem(final Item<ICellPopulator<ResourceTO>> cellItem, final\n                             final IModel<ResourceTO> rowModel) {\n \n                         final AjaxLink<String> editLink =\n-                        new ClearIndicatingAjaxLink<String>(\"link\", getPageReference()) {\n+                        new ClearIndicatingAjaxLink<String>(\"link\", PageUtils.getPageReference(Resources.this)) {\n \n                             private static final long serialVersionUID = -7978723352517770644L;\n \n@@ -202,7 +203,7 @@ protected void onClickInternal(final AjaxRequestTarget target) {\n \n                                     @Override\n                                     public Page createPage() {\n-                                        return new ConnectorModalPage(Resources.this.getPageReference(),\n+                                        return new ConnectorModalPage(PageUtils.getPageReference(Resources.this),\n                                                 editConnectorWin,\n                                                 connectorRestClient.read(rowModel.getObject().getConnectorId()));\n                                     }\n@@ -244,7 +245,8 @@ public void populateItem(final Item<ICellPopulator<ResourceTO>> cellItem, final\n \n                 final ResourceTO resourceTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n+                        PageUtils.getPageReference(Resources.this));\n                 panel.add(new ActionLink() {\n \n                     private static final long serialVersionUID = -3722207913631435501L;\n@@ -258,7 +260,8 @@ public void onClick(final AjaxRequestTarget target) {\n                             @Override\n                             public Page createPage() {\n                                 return new ProvisioningModalPage<UserTO>(\n-                                        getPageReference(), statusmodal, model.getObject(), UserTO.class);\n+                                        PageUtils.getPageReference(Resources.this),\n+                                        statusmodal, model.getObject(), UserTO.class);\n                             }\n                         });\n \n@@ -280,7 +283,8 @@ public void onClick(final AjaxRequestTarget target) {\n                             @Override\n                             public Page createPage() {\n                                 return new ProvisioningModalPage<RoleTO>(\n-                                        getPageReference(), statusmodal, model.getObject(), RoleTO.class);\n+                                        PageUtils.getPageReference(Resources.this),\n+                                        statusmodal, model.getObject(), RoleTO.class);\n                             }\n                         });\n \n@@ -301,7 +305,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new ResourceModalPage(Resources.this.getPageReference(),\n+                                return new ResourceModalPage(PageUtils.getPageReference(Resources.this),\n                                         editResourceWin, resourceTO, false);\n                             }\n                         });\n@@ -343,7 +347,7 @@ public void onClick(final AjaxRequestTarget target) {\n                 resourceRestClient,\n                 \"name\",\n                 \"Resources\",\n-                getPageReference());\n+                PageUtils.getPageReference(Resources.this));\n \n         resourceContainer = new WebMarkupContainer(\"resourceContainer\");\n         resourceContainer.add(table);\n@@ -365,7 +369,7 @@ public void onClick(final AjaxRequestTarget target) {\n         editResourceWin.setCookieName(\"edit-res-modal\");\n \n         AjaxLink<Void> createResourceLink =\n-                new ClearIndicatingAjaxLink<Void>(\"createResourceLink\", getPageReference()) {\n+                new ClearIndicatingAjaxLink<Void>(\"createResourceLink\", PageUtils.getPageReference(Resources.this)) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n@@ -377,8 +381,8 @@ protected void onClickInternal(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                final ResourceModalPage windows = new ResourceModalPage(Resources.this.\n-                                        getPageReference(),\n+                                final ResourceModalPage windows = new ResourceModalPage(\n+                                        PageUtils.getPageReference(Resources.this),\n                                         editResourceWin, new ResourceTO(), true);\n                                 return windows;\n                             }\n@@ -446,7 +450,8 @@ public void populateItem(final Item<ICellPopulator<ConnInstanceTO>> cellItem, fi\n \n                 final ConnInstanceTO connectorTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n+                        PageUtils.getPageReference(Resources.this));\n \n                 panel.add(new ActionLink() {\n \n@@ -460,8 +465,8 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new ConnectorModalPage(Resources.this.getPageReference(), editConnectorWin,\n-                                        connectorTO);\n+                                return new ConnectorModalPage(PageUtils.getPageReference(Resources.this),\n+                                        editConnectorWin, connectorTO);\n                             }\n                         });\n \n@@ -502,7 +507,7 @@ public void onClick(final AjaxRequestTarget target) {\n                 connectorRestClient,\n                 \"id\",\n                 \"Connectors\",\n-                getPageReference());\n+                PageUtils.getPageReference(Resources.this));\n \n         connectorContainer = new WebMarkupContainer(\"connectorContainer\");\n         connectorContainer.add(table);\n@@ -527,7 +532,7 @@ public void onClick(final AjaxRequestTarget target) {\n         editConnectorWin.setCookieName(\"edit-conn-modal\");\n \n         AjaxLink<Void> createConnectorLink =\n-                new ClearIndicatingAjaxLink<Void>(\"createConnectorLink\", getPageReference()) {\n+                new ClearIndicatingAjaxLink<Void>(\"createConnectorLink\", PageUtils.getPageReference(Resources.this)) {\n \n                     private static final long serialVersionUID = -7978723352517770644L;\n \n@@ -539,7 +544,8 @@ protected void onClickInternal(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                ConnectorModalPage form = new ConnectorModalPage(Resources.this.getPageReference(),\n+                                ConnectorModalPage form = new ConnectorModalPage(\n+                                        PageUtils.getPageReference(Resources.this),\n                                         editConnectorWin, new ConnInstanceTO());\n                                 return form;\n                             }"},{"sha":"4b2450e3aeafaf083f01936a58831424334fdcd2","filename":"console/src/main/java/org/apache/syncope/console/pages/RoleModalPage.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -25,6 +25,7 @@\n import org.apache.syncope.common.to.RoleTO;\n import org.apache.syncope.common.util.AttributableOperations;\n import org.apache.syncope.console.commons.Constants;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.console.pages.panels.RolePanel;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n@@ -87,7 +88,7 @@ public RoleModalPage(final PageReference pageRef, final ModalWindow window, fina\n         form.setModel(new CompoundPropertyModel<RoleTO>(roleTO));\n \n         this.rolePanel = new RolePanel.Builder(\"rolePanel\").form(form).roleTO(roleTO).\n-                roleModalPageMode(mode).pageRef(getPageReference()).build();\n+                roleModalPageMode(mode).pageRef(PageUtils.getPageReference(this)).build();\n         form.add(rolePanel);\n \n         final AjaxButton submit = new IndicatingAjaxButton(SUBMIT, new ResourceModel(SUBMIT)) {"},{"sha":"121ae954dc3e99f2403a016184f23595a34270db","filename":"console/src/main/java/org/apache/syncope/console/pages/Roles.java","status":"modified","additions":21,"deletions":19,"changes":40,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoles.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoles.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoles.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.console.pages;\n \n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.console.commons.Constants;\n import org.apache.syncope.console.pages.panels.AbstractSearchResultPanel;\n import org.apache.syncope.console.pages.panels.RoleSearchPanel;\n@@ -66,8 +67,8 @@ public Roles(final PageParameters parameters) {\n         treePanel.setOutputMarkupId(true);\n         add(treePanel);\n \n-        final RoleSummaryPanel summaryPanel = new RoleSummaryPanel.Builder(\"summaryPanel\")\n-                .window(editRoleWin).callerPageRef(Roles.this.getPageReference()).build();\n+        final RoleSummaryPanel summaryPanel = new RoleSummaryPanel.Builder(\"summaryPanel\").\n+                window(editRoleWin).callerPageRef(PageUtils.getPageReference(Roles.this)).build();\n         add(summaryPanel);\n \n         editRoleWin.setWindowClosedCallback(new ModalWindow.WindowClosedCallback() {\n@@ -94,7 +95,7 @@ public void onClose(final AjaxRequestTarget target) {\n         });\n \n         final AbstractSearchResultPanel searchResult =\n-                new RoleSearchResultPanel(\"searchResult\", true, null, getPageReference(), restClient);\n+                new RoleSearchResultPanel(\"searchResult\", true, null, PageUtils.getPageReference(getPage()), restClient);\n         add(searchResult);\n \n         final Form searchForm = new Form(\"searchForm\");\n@@ -103,26 +104,27 @@ public void onClose(final AjaxRequestTarget target) {\n         final RoleSearchPanel searchPanel = new RoleSearchPanel.Builder(\"searchPanel\").build();\n         searchForm.add(searchPanel);\n \n-        searchForm.add(new ClearIndicatingAjaxButton(\"search\", new ResourceModel(\"search\"), getPageReference()) {\n+        searchForm.add(new ClearIndicatingAjaxButton(\"search\", new ResourceModel(\"search\"),\n+                PageUtils.getPageReference(getPage())) {\n \n-            private static final long serialVersionUID = -958724007591692537L;\n+                    private static final long serialVersionUID = -958724007591692537L;\n \n-            @Override\n-            protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n-                final String fiql = searchPanel.buildFIQL();\n-                LOG.debug(\"Node condition {}\", fiql);\n+                    @Override\n+                    protected void onSubmitInternal(final AjaxRequestTarget target, final Form<?> form) {\n+                        final String fiql = searchPanel.buildFIQL();\n+                        LOG.debug(\"Node condition {}\", fiql);\n \n-                doSearch(target, fiql, searchResult);\n+                        doSearch(target, fiql, searchResult);\n \n-                Session.get().getFeedbackMessages().clear();\n-                target.add(searchPanel.getSearchFeedback());\n-            }\n+                        Session.get().getFeedbackMessages().clear();\n+                        target.add(searchPanel.getSearchFeedback());\n+                    }\n \n-            @Override\n-            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-                target.add(searchPanel.getSearchFeedback());\n-            }\n-        });\n+                    @Override\n+                    protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n+                        target.add(searchPanel.getSearchFeedback());\n+                    }\n+                });\n     }\n \n     private void doSearch(final AjaxRequestTarget target, final String fiql,\n@@ -144,7 +146,7 @@ public void onEvent(final IEvent<?> event) {\n             final TreeNodeClickUpdate update = (TreeNodeClickUpdate) event.getPayload();\n \n             final RoleSummaryPanel summaryPanel = new RoleSummaryPanel.Builder(\"summaryPanel\")\n-                    .window(editRoleWin).callerPageRef(Roles.this.getPageReference())\n+                    .window(editRoleWin).callerPageRef(PageUtils.getPageReference(Roles.this))\n                     .selectedNodeId(update.getSelectedNodeId()).build();\n \n             addOrReplace(summaryPanel);"},{"sha":"b354175ce1aac285c8f2b64577dea519b8a2bb31","filename":"console/src/main/java/org/apache/syncope/console/pages/Schema.java","status":"modified","additions":37,"deletions":34,"changes":71,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchema.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchema.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchema.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -29,6 +29,7 @@\n import java.util.List;\n import java.util.Map;\n import org.apache.commons.lang3.StringUtils;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.AbstractSchemaTO;\n import org.apache.syncope.common.to.SchemaTO;\n import org.apache.syncope.common.types.AttributableType;\n@@ -79,7 +80,7 @@\n /**\n  * Schema WebPage.\n  */\n-@SuppressWarnings({\"unchecked\", \"rawtypes\"})\n+@SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n public class Schema extends BasePage {\n \n     private static final long serialVersionUID = 8091922398776299403L;\n@@ -89,41 +90,41 @@ public class Schema extends BasePage {\n         private static final long serialVersionUID = 3109256773218160485L;\n \n         {\n-            put(SchemaType.NORMAL, Arrays.asList(new String[] {\"name\", \"type\",\n-                \"mandatoryCondition\", \"uniqueConstraint\", \"multivalue\", \"readonly\"}));\n-            put(SchemaType.DERIVED, Arrays.asList(new String[] {\"name\", \"expression\"}));\n-            put(SchemaType.VIRTUAL, Arrays.asList(new String[] {\"name\", \"readonly\"}));\n+            put(SchemaType.NORMAL, Arrays.asList(new String[] { \"name\", \"type\",\n+                \"mandatoryCondition\", \"uniqueConstraint\", \"multivalue\", \"readonly\" }));\n+            put(SchemaType.DERIVED, Arrays.asList(new String[] { \"name\", \"expression\" }));\n+            put(SchemaType.VIRTUAL, Arrays.asList(new String[] { \"name\", \"readonly\" }));\n         }\n     };\n \n     private static final Map<Map.Entry<AttributableType, SchemaType>, String> PAGINATOR_ROWS_KEYS =\n             new HashMap<Map.Entry<AttributableType, SchemaType>, String>() {\n \n-        private static final long serialVersionUID = 3109256773218160485L;\n-\n-        {\n-            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.USER, SchemaType.NORMAL),\n-                    Constants.PREF_USER_SCHEMA_PAGINATOR_ROWS);\n-            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.USER, SchemaType.DERIVED),\n-                    Constants.PREF_USER_DER_SCHEMA_PAGINATOR_ROWS);\n-            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.USER, SchemaType.VIRTUAL),\n-                    Constants.PREF_USER_VIR_SCHEMA_PAGINATOR_ROWS);\n-            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.MEMBERSHIP, SchemaType.NORMAL),\n-                    Constants.PREF_MEMBERSHIP_SCHEMA_PAGINATOR_ROWS);\n-            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.MEMBERSHIP,\n-                    SchemaType.DERIVED),\n-                    Constants.PREF_MEMBERSHIP_DER_SCHEMA_PAGINATOR_ROWS);\n-            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.MEMBERSHIP,\n-                    SchemaType.VIRTUAL),\n-                    Constants.PREF_MEMBERSHIP_VIR_SCHEMA_PAGINATOR_ROWS);\n-            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.ROLE, SchemaType.NORMAL),\n-                    Constants.PREF_ROLE_SCHEMA_PAGINATOR_ROWS);\n-            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.ROLE, SchemaType.DERIVED),\n-                    Constants.PREF_ROLE_DER_SCHEMA_PAGINATOR_ROWS);\n-            put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.ROLE, SchemaType.VIRTUAL),\n-                    Constants.PREF_ROLE_VIR_SCHEMA_PAGINATOR_ROWS);\n-        }\n-    };\n+                private static final long serialVersionUID = 3109256773218160485L;\n+\n+                {\n+                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.USER, SchemaType.NORMAL),\n+                            Constants.PREF_USER_SCHEMA_PAGINATOR_ROWS);\n+                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.USER, SchemaType.DERIVED),\n+                            Constants.PREF_USER_DER_SCHEMA_PAGINATOR_ROWS);\n+                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.USER, SchemaType.VIRTUAL),\n+                            Constants.PREF_USER_VIR_SCHEMA_PAGINATOR_ROWS);\n+                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.MEMBERSHIP, SchemaType.NORMAL),\n+                            Constants.PREF_MEMBERSHIP_SCHEMA_PAGINATOR_ROWS);\n+                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.MEMBERSHIP,\n+                                    SchemaType.DERIVED),\n+                            Constants.PREF_MEMBERSHIP_DER_SCHEMA_PAGINATOR_ROWS);\n+                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.MEMBERSHIP,\n+                                    SchemaType.VIRTUAL),\n+                            Constants.PREF_MEMBERSHIP_VIR_SCHEMA_PAGINATOR_ROWS);\n+                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.ROLE, SchemaType.NORMAL),\n+                            Constants.PREF_ROLE_SCHEMA_PAGINATOR_ROWS);\n+                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.ROLE, SchemaType.DERIVED),\n+                            Constants.PREF_ROLE_DER_SCHEMA_PAGINATOR_ROWS);\n+                    put(new SimpleEntry<AttributableType, SchemaType>(AttributableType.ROLE, SchemaType.VIRTUAL),\n+                            Constants.PREF_ROLE_VIR_SCHEMA_PAGINATOR_ROWS);\n+                }\n+            };\n \n     private static final int WIN_WIDTH = 600;\n \n@@ -236,7 +237,8 @@ public void populateItem(final Item<ICellPopulator<AbstractSchemaTO>> item, fina\n \n                 final AbstractSchemaTO schemaTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n+                        PageUtils.getPageReference(getPage()));\n \n                 panel.addWithRoles(new ActionLink() {\n \n@@ -253,7 +255,8 @@ public Page createPage() {\n                                 AbstractSchemaModalPage page = SchemaModalPageFactory.getSchemaModalPage(\n                                         attributableType, schemaType);\n \n-                                page.setSchemaModalPage(Schema.this.getPageReference(), modalWindow, schemaTO, false);\n+                                page.setSchemaModalPage(PageUtils.getPageReference(Schema.this),\n+                                        modalWindow, schemaTO, false);\n \n                                 return page;\n                             }\n@@ -329,7 +332,7 @@ protected void onUpdate(final AjaxRequestTarget target) {\n     private <T extends AbstractSchemaModalPage> AjaxLink<Void> getCreateSchemaLink(final ModalWindow modalWindow,\n             final AttributableType attrType, final SchemaType schemaType, final String winLinkName) {\n \n-        AjaxLink<Void> link = new ClearIndicatingAjaxLink<Void>(winLinkName, getPageReference()) {\n+        AjaxLink<Void> link = new ClearIndicatingAjaxLink<Void>(winLinkName, PageUtils.getPageReference(getPage())) {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n \n@@ -342,7 +345,7 @@ protected void onClickInternal(final AjaxRequestTarget target) {\n                     @Override\n                     public Page createPage() {\n                         T page = SchemaModalPageFactory.getSchemaModalPage(attrType, schemaType);\n-                        page.setSchemaModalPage(Schema.this.getPageReference(), modalWindow, null, true);\n+                        page.setSchemaModalPage(PageUtils.getPageReference(Schema.this), modalWindow, null, true);\n \n                         return page;\n                     }"},{"sha":"67921123b4dcf6403ffbf9c191cf992b188299bb","filename":"console/src/main/java/org/apache/syncope/console/pages/TaskModalPage.java","status":"modified","additions":6,"deletions":3,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -22,6 +22,7 @@\n import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.NotificationTaskTO;\n import org.apache.syncope.common.to.PropagationTaskTO;\n import org.apache.syncope.common.to.SchedTaskTO;\n@@ -117,7 +118,8 @@ public ActionLinksPanel getActions(final String componentId, final IModel<TaskEx\n \n                 final TaskExecTO taskExecutionTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n+                        PageUtils.getPageReference(getPage()));\n \n                 panel.add(new ActionLink() {\n \n@@ -164,7 +166,8 @@ public void onClick(final AjaxRequestTarget target) {\n \n             @Override\n             public Component getHeader(final String componentId) {\n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(), getPageReference());\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(),\n+                        PageUtils.getPageReference(getPage()));\n \n                 panel.add(new ActionLink() {\n \n@@ -175,7 +178,7 @@ public void onClick(final AjaxRequestTarget target) {\n                         if (target != null) {\n                             final AjaxFallbackDefaultDataTable<TaskExecTO, String> currentTable =\n                                     new AjaxFallbackDefaultDataTable<TaskExecTO, String>(\"executionsTable\", columns,\n-                                    new TaskExecutionsProvider(getCurrentTaskExecution(taskTO)), paginatorRows);\n+                                            new TaskExecutionsProvider(getCurrentTaskExecution(taskTO)), paginatorRows);\n                             currentTable.setOutputMarkupId(true);\n                             target.add(currentTable);\n                             executions.addOrReplace(currentTable);"},{"sha":"35d3ad60548f8210b0dc0e3167c9e6a873693d4b","filename":"console/src/main/java/org/apache/syncope/console/pages/Tasks.java","status":"modified","additions":6,"deletions":5,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTasks.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTasks.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTasks.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -24,6 +24,7 @@\n import java.util.Comparator;\n import java.util.Iterator;\n import java.util.List;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.SchedTaskTO;\n import org.apache.syncope.common.to.TaskExecTO;\n import org.apache.syncope.common.to.AbstractTaskTO;\n@@ -54,12 +55,12 @@ public class Tasks extends BasePage {\n     public Tasks() {\n         super();\n \n-        add(new PropagationTasks(\"propagation\", getPageReference()));\n-        add(new NotificationTasks(\"notification\", getPageReference()));\n-        add(new SchedTasks(\"sched\", getPageReference()));\n-        add(new SyncTasks(\"sync\", getPageReference()));\n+        add(new PropagationTasks(\"propagation\", PageUtils.getPageReference(getPage())));\n+        add(new NotificationTasks(\"notification\", PageUtils.getPageReference(getPage())));\n+        add(new SchedTasks(\"sched\", PageUtils.getPageReference(getPage())));\n+        add(new SyncTasks(\"sync\", PageUtils.getPageReference(getPage())));\n \n-        getPageReference();\n+        PageUtils.getPageReference(getPage());\n     }\n \n     @Override"},{"sha":"6acc68ca3d5edabfd628c461d9d3e11e125b7893","filename":"console/src/main/java/org/apache/syncope/console/pages/Todo.java","status":"modified","additions":4,"deletions":2,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTodo.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTodo.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTodo.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -22,6 +22,7 @@\n import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.WorkflowFormTO;\n import org.apache.syncope.common.SyncopeClientException;\n import org.apache.syncope.console.SyncopeSession;\n@@ -114,7 +115,8 @@ public void populateItem(final Item<ICellPopulator<WorkflowFormTO>> cellItem, fi\n \n                 final WorkflowFormTO formTO = model.getObject();\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, getPageReference());\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model,\n+                        PageUtils.getPageReference(getPage()));\n \n                 panel.add(new ActionLink() {\n \n@@ -145,7 +147,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new ApprovalModalPage(Todo.this.getPageReference(), window, formTO);\n+                                return new ApprovalModalPage(PageUtils.getPageReference(Todo.this), window, formTO);\n                             }\n                         });\n "},{"sha":"751fc7126af50c4e87032f9b8e58fcb8828cd240","filename":"console/src/main/java/org/apache/syncope/console/pages/UserModalPage.java","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.console.pages;\n \n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.UserTO;\n import org.apache.syncope.console.commons.Constants;\n import org.apache.syncope.console.pages.panels.AttributesPanel;\n@@ -142,7 +143,8 @@ protected Form setupEditPanel() {\n         //--------------------------------\n         // Roles panel\n         //--------------------------------\n-        form.add(new MembershipsPanel(\"memberships\", userTO, mode == Mode.TEMPLATE, null, getPageReference()));\n+        form.add(new MembershipsPanel(\"memberships\", userTO, mode == Mode.TEMPLATE, null,\n+                PageUtils.getPageReference(getPage())));\n         //--------------------------------\n \n         final AjaxButton submit = getOnSubmit();"},{"sha":"480f07fad29a6c27b72cc8ab19de80b513aa4c2e","filename":"console/src/main/java/org/apache/syncope/console/pages/Users.java","status":"modified","additions":22,"deletions":18,"changes":40,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUsers.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUsers.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUsers.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.console.pages;\n \n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.UserTO;\n import org.apache.syncope.console.commons.Constants;\n import org.apache.syncope.console.pages.panels.AbstractSearchResultPanel;\n@@ -61,34 +62,36 @@ public Users(final PageParameters parameters) {\n         editModalWin.setCookieName(\"edit-modal\");\n         add(editModalWin);\n \n-        final AbstractSearchResultPanel searchResult =\n-                new UserSearchResultPanel(\"searchResult\", true, null, getPageReference(), restClient);\n+        final AbstractSearchResultPanel searchResult = new UserSearchResultPanel(\"searchResult\", true, null,\n+                PageUtils.getPageReference(getPage()), restClient);\n         add(searchResult);\n \n         final AbstractSearchResultPanel listResult =\n-                new UserSearchResultPanel(\"listResult\", false, null, getPageReference(), restClient);\n+                new UserSearchResultPanel(\"listResult\", false, null, PageUtils.getPageReference(getPage()), restClient);\n         add(listResult);\n \n         // create new user\n-        final AjaxLink<Void> createLink = new ClearIndicatingAjaxLink<Void>(\"createLink\", getPageReference()) {\n+        final AjaxLink<Void> createLink = new ClearIndicatingAjaxLink<Void>(\"createLink\",\n+                PageUtils.getPageReference(getPage())) {\n \n-            private static final long serialVersionUID = -7978723352517770644L;\n+                    private static final long serialVersionUID = -7978723352517770644L;\n \n-            @Override\n-            protected void onClickInternal(final AjaxRequestTarget target) {\n-                editModalWin.setPageCreator(new ModalWindow.PageCreator() {\n+                    @Override\n+                    protected void onClickInternal(final AjaxRequestTarget target) {\n+                        editModalWin.setPageCreator(new ModalWindow.PageCreator() {\n \n-                    private static final long serialVersionUID = -7834632442532690940L;\n+                            private static final long serialVersionUID = -7834632442532690940L;\n \n-                    @Override\n-                    public Page createPage() {\n-                        return new EditUserModalPage(Users.this.getPageReference(), editModalWin, new UserTO());\n-                    }\n-                });\n+                            @Override\n+                            public Page createPage() {\n+                                return new EditUserModalPage(PageUtils.getPageReference(Users.this), editModalWin,\n+                                        new UserTO());\n+                            }\n+                        });\n \n-                editModalWin.show(target);\n-            }\n-        };\n+                        editModalWin.show(target);\n+                    }\n+                };\n         MetaDataRoleAuthorizationStrategy.authorize(\n                 createLink, ENABLE, xmlRolesReader.getAllAllowedRoles(\"Users\", \"create\"));\n         add(createLink);\n@@ -102,7 +105,8 @@ public Page createPage() {\n         searchForm.add(searchPanel);\n \n         final ClearIndicatingAjaxButton searchButton =\n-                new ClearIndicatingAjaxButton(\"search\", new ResourceModel(\"search\"), getPageReference()) {\n+                new ClearIndicatingAjaxButton(\"search\", new ResourceModel(\"search\"),\n+                        PageUtils.getPageReference(getPage())) {\n \n                     private static final long serialVersionUID = -958724007591692537L;\n "},{"sha":"15cd068df2728639ee1389a841a037d89dd8c71c","filename":"console/src/main/java/org/apache/syncope/console/pages/XMLEditorPopupPage.java","status":"modified","additions":3,"deletions":2,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FXMLEditorPopupPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FXMLEditorPopupPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FXMLEditorPopupPage.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -23,6 +23,7 @@\n import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.common.SyncopeClientException;\n import org.apache.syncope.console.commons.Constants;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.console.rest.WorkflowRestClient;\n import org.apache.syncope.console.wicket.ajax.markup.html.ClearIndicatingAjaxButton;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n@@ -54,8 +55,8 @@ public XMLEditorPopupPage() {\n         final TextArea<String> workflowDefArea = new TextArea<String>(\"workflowDefArea\", new Model<String>(definition));\n         wfForm.add(workflowDefArea);\n \n-        AjaxButton submit =\n-                new ClearIndicatingAjaxButton(APPLY, new Model<String>(getString(SUBMIT)), getPageReference()) {\n+        AjaxButton submit = new ClearIndicatingAjaxButton(APPLY, new Model<String>(getString(SUBMIT)),\n+                PageUtils.getPageReference(this)) {\n \n                     private static final long serialVersionUID = -958724007591692537L;\n "},{"sha":"21bb7d84d67006ac9a1173363d87900dd40842b4","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/AbstractSearchResultPanel.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAbstractSearchResultPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAbstractSearchResultPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FAbstractSearchResultPanel.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -20,6 +20,7 @@\n \n import java.util.Collection;\n import java.util.List;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.AbstractAttributableTO;\n import org.apache.syncope.console.commons.AttributableDataProvider;\n import org.apache.syncope.console.commons.Constants;\n@@ -264,7 +265,7 @@ private void updateResultTable(final boolean create, final int rows) {\n                 restClient,\n                 \"id\",\n                 getPageId(),\n-                page.getPageReference());\n+                PageUtils.getPageReference(page));\n \n         resultTable.setCurrentPage(currentPage);\n "},{"sha":"a3658a98bc033bbb0ae8486d7225e0ae878b5c44","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/MembershipsPanel.java","status":"modified","additions":46,"deletions":45,"changes":91,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FMembershipsPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FMembershipsPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FMembershipsPanel.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -26,6 +26,7 @@\n import org.apache.syncope.common.to.MembershipTO;\n import org.apache.syncope.common.to.RoleTO;\n import org.apache.syncope.common.to.UserTO;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.console.commons.RoleTreeBuilder;\n import org.apache.syncope.console.commons.RoleUtils;\n import org.apache.syncope.console.commons.status.StatusUtils;\n@@ -122,7 +123,7 @@ protected void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                PageReference pageRef = getPage().getPageReference();\n+                                PageReference pageRef = PageUtils.getPageReference(getPage());\n \n                                 for (MembershipTO membTO : membView.getList()) {\n                                     if (membTO.getRoleId() == roleTO.getId()) {\n@@ -151,68 +152,68 @@ public Page createPage() {\n         membView = new ListView<MembershipTO>(\"memberships\",\n                 new PropertyModel<List<? extends MembershipTO>>(userTO, \"memberships\")) {\n \n-            private static final long serialVersionUID = 9101744072914090143L;\n+                    private static final long serialVersionUID = 9101744072914090143L;\n \n-            @Override\n-            protected void populateItem(final ListItem<MembershipTO> item) {\n-                final MembershipTO membershipTO = (MembershipTO) item.getDefaultModelObject();\n+                    @Override\n+                    protected void populateItem(final ListItem<MembershipTO> item) {\n+                        final MembershipTO membershipTO = (MembershipTO) item.getDefaultModelObject();\n \n-                item.add(new Label(\"roleId\", new Model<Long>(membershipTO.getRoleId())));\n-                item.add(new Label(\"roleName\", new Model<String>(membershipTO.getRoleName())));\n+                        item.add(new Label(\"roleId\", new Model<Long>(membershipTO.getRoleId())));\n+                        item.add(new Label(\"roleName\", new Model<String>(membershipTO.getRoleName())));\n \n-                AjaxLink editLink = new ClearIndicatingAjaxLink(\"editLink\", pageRef) {\n+                        AjaxLink editLink = new ClearIndicatingAjaxLink(\"editLink\", pageRef) {\n \n-                    private static final long serialVersionUID = -7978723352517770644L;\n+                            private static final long serialVersionUID = -7978723352517770644L;\n \n-                    @Override\n-                    protected void onClickInternal(final AjaxRequestTarget target) {\n-                        membWin.setPageCreator(new ModalWindow.PageCreator() {\n+                            @Override\n+                            protected void onClickInternal(final AjaxRequestTarget target) {\n+                                membWin.setPageCreator(new ModalWindow.PageCreator() {\n \n-                            private static final long serialVersionUID = -7834632442532690940L;\n+                                    private static final long serialVersionUID = -7834632442532690940L;\n \n-                            @Override\n-                            public Page createPage() {\n-                                return new MembershipModalPage(getPage().getPageReference(), membWin,\n-                                        membershipTO, templateMode);\n+                                    @Override\n+                                    public Page createPage() {\n+                                        return new MembershipModalPage(PageUtils.getPageReference(getPage()), membWin,\n+                                                membershipTO, templateMode);\n \n+                                    }\n+                                });\n+                                membWin.show(target);\n                             }\n-                        });\n-                        membWin.show(target);\n-                    }\n-                };\n-                item.add(editLink);\n+                        };\n+                        item.add(editLink);\n \n-                AjaxLink deleteLink = new IndicatingOnConfirmAjaxLink(\"deleteLink\", pageRef) {\n+                        AjaxLink deleteLink = new IndicatingOnConfirmAjaxLink(\"deleteLink\", pageRef) {\n \n-                    private static final long serialVersionUID = -7978723352517770644L;\n+                            private static final long serialVersionUID = -7978723352517770644L;\n \n-                    @Override\n-                    protected void onClickInternal(final AjaxRequestTarget target) {\n-                        userTO.getMemberships().remove(membershipTO);\n-                        target.add(membershipsContainer);\n+                            @Override\n+                            protected void onClickInternal(final AjaxRequestTarget target) {\n+                                userTO.getMemberships().remove(membershipTO);\n+                                target.add(membershipsContainer);\n \n-                        RoleTO roleTO = RoleUtils.findRole(roleTreeBuilder, membershipTO.getRoleId());\n-                        Set<String> resourcesToRemove = roleTO == null\n+                                RoleTO roleTO = RoleUtils.findRole(roleTreeBuilder, membershipTO.getRoleId());\n+                                Set<String> resourcesToRemove = roleTO == null\n                                 ? Collections.<String>emptySet() : roleTO.getResources();\n-                        if (!resourcesToRemove.isEmpty()) {\n-                            Set<String> resourcesAssignedViaMembership = new HashSet<String>();\n-                            for (MembershipTO membTO : userTO.getMemberships()) {\n-                                roleTO = RoleUtils.findRole(roleTreeBuilder, membTO.getRoleId());\n-                                if (roleTO != null) {\n-                                    resourcesAssignedViaMembership.addAll(roleTO.getResources());\n+                                if (!resourcesToRemove.isEmpty()) {\n+                                    Set<String> resourcesAssignedViaMembership = new HashSet<String>();\n+                                    for (MembershipTO membTO : userTO.getMemberships()) {\n+                                        roleTO = RoleUtils.findRole(roleTreeBuilder, membTO.getRoleId());\n+                                        if (roleTO != null) {\n+                                            resourcesAssignedViaMembership.addAll(roleTO.getResources());\n+                                        }\n+                                    }\n+                                    resourcesToRemove.removeAll(resourcesAssignedViaMembership);\n+                                    resourcesToRemove.removeAll(userTO.getResources());\n                                 }\n-                            }\n-                            resourcesToRemove.removeAll(resourcesAssignedViaMembership);\n-                            resourcesToRemove.removeAll(userTO.getResources());\n-                        }\n \n-                        StatusUtils.update(\n-                                userTO, statusPanel, target, Collections.<String>emptySet(), resourcesToRemove);\n+                                StatusUtils.update(\n+                                        userTO, statusPanel, target, Collections.<String>emptySet(), resourcesToRemove);\n+                            }\n+                        };\n+                        item.add(deleteLink);\n                     }\n                 };\n-                item.add(deleteLink);\n-            }\n-        };\n \n         membershipsContainer.add(membView);\n "},{"sha":"53462cbe36db3f9f6014025c5a5257b46f68224f","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/RoleDetailsPanel.java","status":"modified","additions":4,"deletions":3,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleDetailsPanel.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.console.pages.panels;\n \n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.RoleTO;\n import org.apache.syncope.common.to.UserTO;\n import org.apache.syncope.common.types.AttributableType;\n@@ -107,7 +108,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                         @Override\n                         public Page createPage() {\n-                            return new RoleSelectModalPage(getPage().getPageReference(), parentSelectWin,\n+                            return new RoleSelectModalPage(PageUtils.getPageReference(getPage()), parentSelectWin,\n                                     ParentSelectPayload.class);\n                         }\n                     });\n@@ -165,7 +166,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                     @Override\n                     public Page createPage() {\n-                        return new UserOwnerSelectModalPage(getPage().getPageReference(), userOwnerSelectWin);\n+                        return new UserOwnerSelectModalPage(PageUtils.getPageReference(getPage()), userOwnerSelectWin);\n                     }\n                 });\n                 userOwnerSelectWin.show(target);\n@@ -202,7 +203,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                     @Override\n                     public Page createPage() {\n-                        return new RoleSelectModalPage(getPage().getPageReference(), parentSelectWin,\n+                        return new RoleSelectModalPage(PageUtils.getPageReference(getPage()), parentSelectWin,\n                                 RoleOwnerSelectPayload.class);\n                     }\n                 });"},{"sha":"4eae847481c756516d61019fa66afa93fa1323df","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/RoleSearchResultPanel.java","status":"modified","additions":5,"deletions":3,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleSearchResultPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleSearchResultPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FRoleSearchResultPanel.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -22,6 +22,7 @@\n import java.util.Collection;\n import java.util.Collections;\n import java.util.List;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.AbstractAttributableTO;\n import org.apache.syncope.common.to.RoleTO;\n import org.apache.syncope.common.SyncopeClientException;\n@@ -82,7 +83,8 @@ public String getCssClass() {\n             public void populateItem(final Item<ICellPopulator<AbstractAttributableTO>> cellItem,\n                     final String componentId, final IModel<AbstractAttributableTO> model) {\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, page.getPageReference());\n+                final ActionLinksPanel panel =\n+                        new ActionLinksPanel(componentId, model, PageUtils.getPageReference(page));\n \n                 panel.add(new ActionLink() {\n \n@@ -97,7 +99,7 @@ public void onClick(final AjaxRequestTarget target) {\n                             @Override\n                             public Page createPage() {\n                                 return new StatusModalPage<RoleTO>(\n-                                        page.getPageReference(), statusmodal, (RoleTO) model.getObject());\n+                                        PageUtils.getPageReference(page), statusmodal, (RoleTO) model.getObject());\n                             }\n                         });\n \n@@ -118,7 +120,7 @@ public void onClick(final AjaxRequestTarget target) {\n                             @Override\n                             public Page createPage() {\n                                 return new RoleModalPage(\n-                                        page.getPageReference(), editmodal, (RoleTO) model.getObject());\n+                                        PageUtils.getPageReference(page), editmodal, (RoleTO) model.getObject());\n                             }\n                         });\n "},{"sha":"641cbed0fd06c8fe784eb63e2064e33e7e3ddd6c","filename":"console/src/main/java/org/apache/syncope/console/pages/panels/UserSearchResultPanel.java","status":"modified","additions":10,"deletions":7,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FUserSearchResultPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/96d00bd1ca05f2637604a4bfa6b39f43bef51c52/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FUserSearchResultPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2Fpanels%2FUserSearchResultPanel.java?ref=96d00bd1ca05f2637604a4bfa6b39f43bef51c52","patch":"@@ -24,6 +24,7 @@\n import java.util.Collection;\n import java.util.Date;\n import java.util.List;\n+import org.apache.syncope.console.commons.PageUtils;\n import org.apache.syncope.common.to.AbstractAttributableTO;\n import org.apache.syncope.common.to.UserTO;\n import org.apache.syncope.common.types.AttributableType;\n@@ -137,7 +138,8 @@ protected List<IColumn<AbstractAttributableTO, String>> getColumns() {\n             @Override\n             public ActionLinksPanel getActions(final String componentId, final IModel<AbstractAttributableTO> model) {\n \n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, model, page.getPageReference());\n+                final ActionLinksPanel panel =\n+                        new ActionLinksPanel(componentId, model, PageUtils.getPageReference(page));\n \n                 panel.add(new ActionLink() {\n \n@@ -152,7 +154,7 @@ public void onClick(final AjaxRequestTarget target) {\n                             @Override\n                             public Page createPage() {\n                                 return new StatusModalPage<UserTO>(\n-                                        page.getPageReference(), statusmodal, (UserTO) model.getObject());\n+                                        PageUtils.getPageReference(page), statusmodal, (UserTO) model.getObject());\n                             }\n                         });\n \n@@ -172,8 +174,8 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new StatusModalPage<UserTO>(\n-                                        page.getPageReference(), statusmodal, (UserTO) model.getObject(), true);\n+                                return new StatusModalPage<UserTO>(PageUtils.getPageReference(page), statusmodal,\n+                                        (UserTO) model.getObject(), true);\n                             }\n                         });\n \n@@ -195,7 +197,7 @@ public void onClick(final AjaxRequestTarget target) {\n                             public Page createPage() {\n                                 // SYNCOPE-294: re-read userTO before edit\n                                 UserTO userTO = ((UserRestClient) restClient).read(model.getObject().getId());\n-                                return new EditUserModalPage(page.getPageReference(), editmodal, userTO);\n+                                return new EditUserModalPage(PageUtils.getPageReference(page), editmodal, userTO);\n                             }\n                         });\n \n@@ -237,7 +239,8 @@ public Page createPage() {\n \n             @Override\n             public ActionLinksPanel getHeader(final String componentId) {\n-                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(), page.getPageReference());\n+                final ActionLinksPanel panel = new ActionLinksPanel(componentId, new Model(),\n+                        PageUtils.getPageReference(page));\n \n                 panel.add(new ActionLink() {\n \n@@ -251,7 +254,7 @@ public void onClick(final AjaxRequestTarget target) {\n \n                             @Override\n                             public Page createPage() {\n-                                return new DisplayAttributesModalPage(page.getPageReference(), displaymodal,\n+                                return new DisplayAttributesModalPage(PageUtils.getPageReference(page), displaymodal,\n                                         schemaNames, dSchemaNames, vSchemaNames);\n                             }\n                         });"}]}
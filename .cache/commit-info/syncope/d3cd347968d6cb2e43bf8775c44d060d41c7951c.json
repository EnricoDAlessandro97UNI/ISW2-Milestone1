{"sha":"d3cd347968d6cb2e43bf8775c44d060d41c7951c","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmQzY2QzNDc5NjhkNmNiMmU0M2JmODc3NWM0NGQwNjBkNDFjNzk1MWM=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2010-09-02T16:10:07Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2010-09-02T16:10:07Z"},"message":"(Fixes issue #35)\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1246460 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"9f4828afc63258501b74c14d97e8aa59c08f9b37","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/9f4828afc63258501b74c14d97e8aa59c08f9b37"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/d3cd347968d6cb2e43bf8775c44d060d41c7951c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d3cd347968d6cb2e43bf8775c44d060d41c7951c","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d3cd347968d6cb2e43bf8775c44d060d41c7951c","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d3cd347968d6cb2e43bf8775c44d060d41c7951c/comments","author":null,"committer":null,"parents":[{"sha":"1d5aa614158d30d0bafea7f04e9d61942e506247","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1d5aa614158d30d0bafea7f04e9d61942e506247","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/1d5aa614158d30d0bafea7f04e9d61942e506247"}],"stats":{"total":39,"additions":20,"deletions":19},"files":[{"sha":"ff0e0cf877a62385d8b9397bcc1aaa5b96714a3c","filename":"core/src/main/java/org/syncope/core/persistence/beans/SchemaMapping.java","status":"modified","additions":2,"deletions":9,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d3cd347968d6cb2e43bf8775c44d060d41c7951c/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FSchemaMapping.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d3cd347968d6cb2e43bf8775c44d060d41c7951c/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FSchemaMapping.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2FSchemaMapping.java?ref=d3cd347968d6cb2e43bf8775c44d060d41c7951c","patch":"@@ -34,41 +34,34 @@ public class SchemaMapping extends AbstractBaseBean {\n     @Id\n     @GeneratedValue(strategy = GenerationType.AUTO)\n     private Long id;\n-\n     @Column(nullable = false)\n-    String schemaName;\n-\n+    private String schemaName;\n     @Column(nullable = false)\n     @Enumerated(STRING)\n-    SchemaType schemaType;\n-\n+    private SchemaType schemaType;\n     /**\n      * Target resource that has fields to be mapped over user attribute schemas.\n      */\n     @ManyToOne(fetch = FetchType.EAGER,\n     cascade = {CascadeType.REFRESH, CascadeType.MERGE})\n     private TargetResource resource;\n-\n     /**\n      * Target resource's field to be mapped.\n      */\n     @Column(nullable = false)\n     private String field;\n-\n     /**\n      * Specify if the mapped target resource's field is the key.\n      */\n     @Column(nullable = false)\n     @Basic\n     private Character accountid;\n-\n     /**\n      * Specify if the mapped target resource's field is the password.\n      */\n     @Column(nullable = false)\n     @Basic\n     private Character password;\n-\n     /**\n      * Specify if the mapped target resource's field is nullable.\n      */"},{"sha":"8bcc7fb6c7ae4b8fa863d789d275f1569de8b0be","filename":"core/src/main/java/org/syncope/core/persistence/beans/user/SyncopeUser.java","status":"modified","additions":4,"deletions":9,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d3cd347968d6cb2e43bf8775c44d060d41c7951c/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FSyncopeUser.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d3cd347968d6cb2e43bf8775c44d060d41c7951c/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FSyncopeUser.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FSyncopeUser.java?ref=d3cd347968d6cb2e43bf8775c44d060d41c7951c","patch":"@@ -32,6 +32,7 @@\n import javax.persistence.Id;\n import javax.persistence.Lob;\n import javax.persistence.OneToMany;\n+import javax.persistence.TableGenerator;\n import javax.persistence.Temporal;\n import javax.persistence.TemporalType;\n import org.apache.commons.lang.RandomStringUtils;\n@@ -54,32 +55,26 @@ public class SyncopeUser extends AbstractAttributable {\n         }\n     }\n     @Id\n-    @GeneratedValue(strategy = GenerationType.AUTO)\n+    @GeneratedValue(strategy = GenerationType.TABLE,\n+    generator = \"SEQ_SyncopeUser\")\n+    @TableGenerator(name = \"SEQ_SyncopeUser\", allocationSize = 100)\n     private Long id;\n-\n     @Basic\n     @Lob\n     private byte[] passwordKeyPair;\n-\n     @Basic\n     @Lob\n     private byte[] password;\n-\n     @OneToMany(cascade = CascadeType.MERGE, mappedBy = \"syncopeUser\")\n     private List<Membership> memberships;\n-\n     @OneToMany(cascade = CascadeType.ALL, mappedBy = \"owner\")\n     private List<UserAttribute> attributes;\n-\n     @OneToMany(cascade = CascadeType.ALL, mappedBy = \"owner\")\n     private List<UserDerivedAttribute> derivedAttributes;\n-\n     @Column(nullable = true)\n     private Long workflowId;\n-\n     @Lob\n     private String token;\n-\n     @Temporal(TemporalType.TIMESTAMP)\n     private Date tokenExpireTime;\n "},{"sha":"5876894e57d70c7f9b1cf1f90338adafdc6abebd","filename":"core/src/main/resources/org/syncope/core/persistence/content.xml","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d3cd347968d6cb2e43bf8775c44d060d41c7951c/core%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d3cd347968d6cb2e43bf8775c44d060d41c7951c/core%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fcontent.xml?ref=d3cd347968d6cb2e43bf8775c44d060d41c7951c","patch":"@@ -13,6 +13,12 @@\n   limitations under the License.\n -->\n <dataset>\n+    <!-- The actual starting value for auto-generated ids is\n+    @TableGenerator.allocationSize * hibernate_sequences.sequence_next_hi_value,\n+    so since SyncopeUser.id@TableGenerator.allocationSize == 100, actual\n+    starting value for SyncopeUser.id is 1000 -->\n+    <hibernate_sequences sequence_name=\"SyncopeUser\" sequence_next_hi_value=\"10\"/>\n+\n     <SyncopeConfiguration confKey=\"token.length\" confValue=\"256\"/>\n     <SyncopeConfiguration confKey=\"token.expireTime\" confValue=\"60\"/>\n     <SyncopeConfiguration confKey=\"smtp.host\" confValue=\"smtp.ngi.it\"/>"},{"sha":"375e6568881b031cca1f77f4e978a2ab5b599431","filename":"core/src/main/resources/org/syncope/core/persistence/db.properties","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d3cd347968d6cb2e43bf8775c44d060d41c7951c/core%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdb.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d3cd347968d6cb2e43bf8775c44d060d41c7951c/core%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdb.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fdb.properties?ref=d3cd347968d6cb2e43bf8775c44d060d41c7951c","patch":"@@ -12,10 +12,11 @@\n hibernate.connection.driver_class=org.postgresql.Driver\n #hibernate.connection.driver_class=oracle.jdbc.driver.OracleDriver\n hibernate.connection.url=jdbc:postgresql://localhost:5432/syncope\n-#hibernate.connection.url=jdbc:oracle:thin:@localhost:<1521>:syncope\n+#hibernate.connection.url=jdbc:oracle:thin:@localhost:1521:orcl\n hibernate.connection.username=syncope\n hibernate.connection.password=syncope\n hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\n #hibernate.dialect=org.hibernate.dialect.Oracle10gDialect\n dbUnitDataTypeFactory=org.dbunit.ext.postgresql.PostgresqlDataTypeFactory\n #dbUnitDataTypeFactory=org.dbunit.ext.oracle.Oracle10DataTypeFactory\n+#database.schema=SYNCOPE"},{"sha":"f4d00f0185b9d8bab0c255a39cd6101de9e9e861","filename":"core/src/test/resources/org/syncope/core/persistence/content.xml","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d3cd347968d6cb2e43bf8775c44d060d41c7951c/core%2Fsrc%2Ftest%2Fresources%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d3cd347968d6cb2e43bf8775c44d060d41c7951c/core%2Fsrc%2Ftest%2Fresources%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fresources%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fcontent.xml?ref=d3cd347968d6cb2e43bf8775c44d060d41c7951c","patch":"@@ -13,6 +13,12 @@\n   limitations under the License.\n -->\n <dataset>\n+    <!-- The actual starting value for auto-generated ids is\n+    @TableGenerator.allocationSize * hibernate_sequences.sequence_next_hi_value,\n+    so since SyncopeUser.id@TableGenerator.allocationSize == 100, actual\n+    starting value for SyncopeUser.id is 1000 -->\n+    <hibernate_sequences sequence_name=\"SyncopeUser\" sequence_next_hi_value=\"10\"/>\n+\n     <SyncopeConfiguration confKey=\"token.length\" confValue=\"256\"/>\n     <SyncopeConfiguration confKey=\"token.expireTime\" confValue=\"60\"/>\n     <SyncopeConfiguration confKey=\"smtp.host\" confValue=\"smtp.ngi.it\"/>"}]}
{"sha":"54767715466da6cdcd4eac8150672e9065f2407c","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjU0NzY3NzE1NDY2ZGE2Y2RjZDRlYWM4MTUwNjcyZTkwNjVmMjQwN2M=","commit":{"author":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2018-11-22T13:44:07Z"},"committer":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2018-11-22T13:44:50Z"},"message":"fixes tests and avoids NPE while showing plain attribuest wizard","tree":{"sha":"5bfa928bea4469a021b977b2cbb51f7d077a83f3","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/5bfa928bea4469a021b977b2cbb51f7d077a83f3"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/54767715466da6cdcd4eac8150672e9065f2407c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/54767715466da6cdcd4eac8150672e9065f2407c","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/54767715466da6cdcd4eac8150672e9065f2407c","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/54767715466da6cdcd4eac8150672e9065f2407c/comments","author":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"committer":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"720b2538d58833629497beecd1f2de04a7624ba4","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/720b2538d58833629497beecd1f2de04a7624ba4","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/720b2538d58833629497beecd1f2de04a7624ba4"}],"stats":{"total":16,"additions":9,"deletions":7},"files":[{"sha":"b7679108b2dad1536d8fb49b4601bfd42021e7d6","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/PlainAttrs.java","status":"modified","additions":9,"deletions":7,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/54767715466da6cdcd4eac8150672e9065f2407c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FPlainAttrs.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/54767715466da6cdcd4eac8150672e9065f2407c/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FPlainAttrs.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FPlainAttrs.java?ref=54767715466da6cdcd4eac8150672e9065f2407c","patch":"@@ -410,24 +410,26 @@ protected void populateItem(final ListItem<AttrTO> item) {\n                         ((MultiFieldPanel) panel).setReadOnly(schemas.get(attrTO.getSchema()).isReadonly());\n                     }\n                     item.add(panel);\n-                    Optional<AttrTO> previousPlainAttr = previousObject.getPlainAttr(attrTO.getSchema());\n \n+                    Optional<AttrTO> previousPlainAttr = previousObject == null\n+                            ? Optional.empty()\n+                            : previousObject.getPlainAttr(attrTO.getSchema());\n                     if (previousObject != null\n-                            && ((!previousPlainAttr.isPresent() && !isEmptyOrBlank(attrTO.getValues()))\n+                            && ((!previousPlainAttr.isPresent() && isNotEmptyOrBlank(attrTO.getValues()))\n                             || (previousPlainAttr.isPresent() && !ListUtils.isEqualList(\n                             ListUtils.select(previousPlainAttr.get().getValues(),\n                                     object -> StringUtils.isNotEmpty(object)),\n                             ListUtils.select(attrTO.getValues(), object -> StringUtils.isNotEmpty(object)))))) {\n \n-                        List<String> oldValues = !previousPlainAttr.isPresent()\n-                                ? Collections.<String>emptyList()\n-                                : previousPlainAttr.get().getValues();\n+                        List<String> oldValues = previousPlainAttr.isPresent()\n+                                ? previousPlainAttr.get().getValues()\n+                                : Collections.<String>emptyList();\n                         panel.showExternAction(new LabelInfo(\"externalAction\", oldValues));\n                     }\n                 }\n \n-                protected boolean isEmptyOrBlank(final List<String> values) {\n-                    return values.stream().allMatch(value -> StringUtils.isBlank(value));\n+                protected boolean isNotEmptyOrBlank(final List<String> values) {\n+                    return values.stream().anyMatch(value -> StringUtils.isNotBlank(value));\n                 }\n             });\n         }"}]}
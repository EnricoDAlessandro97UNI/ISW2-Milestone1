{"sha":"b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmIwYjhmOGI4ZmI1MDQ3ZDNkNGRlMmQ3MWY0ZDZjZDI2NmU5ZmU1ZDg=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2020-02-06T11:07:56Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2020-02-06T11:22:19Z"},"message":"[SYNCOPE-1538] Cleanup","tree":{"sha":"d086a89b621313e51e44197c883bc23a6d5052c1","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/d086a89b621313e51e44197c883bc23a6d5052c1"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"dab3acbda04dd0ccb730eee539db4f4a82359d2e","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/dab3acbda04dd0ccb730eee539db4f4a82359d2e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/dab3acbda04dd0ccb730eee539db4f4a82359d2e"}],"stats":{"total":28,"additions":11,"deletions":17},"files":[{"sha":"2862a5437fee2c77b6b07f1f12186af06a9ccf27","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/status/ReconTaskPanel.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FReconTaskPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FReconTaskPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FReconTaskPanel.java?ref=b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8","patch":"@@ -113,7 +113,7 @@ public ReconTaskPanel(\n         if (taskTO instanceof PushTaskTO) {\n             form.add(new Label(\"realm\", \"\"));\n         } else {\n-            boolean isSearchEnabled = RealmsUtils.enableSearchRealm();\n+            boolean isSearchEnabled = RealmsUtils.isSearchEnabled();\n             AutoCompleteSettings settings = new AutoCompleteSettings();\n             settings.setShowCompleteListOnFocusGain(!isSearchEnabled);\n             settings.setShowListOnEmptyInput(!isSearchEnabled);"},{"sha":"e7ba9550673aac883205efca6c95f6cf80282bc3","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/wizards/resources/ConnectorDetailsPanel.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FConnectorDetailsPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FConnectorDetailsPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FConnectorDetailsPanel.java?ref=b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8","patch":"@@ -48,7 +48,7 @@ public ConnectorDetailsPanel(final ConnInstanceTO connInstanceTO, final List<Con\n         super();\n         setOutputMarkupId(true);\n \n-        boolean isSearchEnabled = RealmsUtils.enableSearchRealm();\n+        boolean isSearchEnabled = RealmsUtils.isSearchEnabled();\n \n         final AutoCompleteSettings settings = new AutoCompleteSettings();\n         settings.setShowCompleteListOnFocusGain(!isSearchEnabled);"},{"sha":"125632df056b0d7f71234234287a470d75f3f4f7","filename":"client/idrepo/common-ui/src/main/resources/META-INF/resources/ui-commons/css/syncopeUI.scss","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fui-commons%2Fcss%2FsyncopeUI.scss","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fui-commons%2Fcss%2FsyncopeUI.scss","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fui-commons%2Fcss%2FsyncopeUI.scss?ref=b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8","patch":"@@ -1113,6 +1113,7 @@ div#tablehandling ul.menu li a {\n }\n \n .realm-choice #realm-choice-field {\n+  width: 200px;\n   padding-right: 20px;\n }\n "},{"sha":"a5a6c0997465b59b843e19e1a55ab45c16002485","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/SyncopeConsoleSession.java","status":"modified","additions":1,"deletions":7,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeConsoleSession.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeConsoleSession.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeConsoleSession.java?ref=b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8","patch":"@@ -20,7 +20,6 @@\n \n import java.security.AccessControlException;\n import java.text.DateFormat;\n-import java.util.ArrayList;\n import java.util.Collections;\n import java.util.HashMap;\n import java.util.List;\n@@ -36,7 +35,6 @@\n import javax.ws.rs.core.EntityTag;\n import javax.ws.rs.core.MediaType;\n import javax.xml.ws.WebServiceException;\n-import org.apache.commons.collections4.list.SetUniqueList;\n import org.apache.commons.lang3.ArrayUtils;\n import org.apache.commons.lang3.StringUtils;\n import org.apache.commons.lang3.exception.ExceptionUtils;\n@@ -252,11 +250,7 @@ public UserTO getSelfTO() {\n     }\n \n     public List<String> getAuthRealms() {\n-        List<String> sortable = new ArrayList<>();\n-        List<String> available = SetUniqueList.setUniqueList(sortable);\n-        auth.values().forEach(available::addAll);\n-        Collections.sort(sortable);\n-        return sortable;\n+        return auth.values().stream().flatMap(Set::stream).distinct().sorted().collect(Collectors.toList());\n     }\n \n     public boolean owns(final String entitlements, final String... realms) {"},{"sha":"64b091f71b12d89053ba743d103b9ff7eb570170","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/commons/RealmsUtils.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FRealmsUtils.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FRealmsUtils.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FRealmsUtils.java?ref=b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8","patch":"@@ -27,17 +27,17 @@\n public final class RealmsUtils {\n \n     public static final int REALMS_VIEW_SIZE = 20;\n-    \n+\n     private RealmsUtils() {\n         // private constructor for static utility class\n     }\n \n-    public static boolean enableSearchRealm() {\n+    public static boolean isSearchEnabled() {\n         return new RealmRestClient().search(\n                 new RealmQuery.Builder().keyword(\n                         SyncopeConsoleSession.get().getAuthRealms().contains(SyncopeConstants.ROOT_REALM)\n                         ? SyncopeConstants.ROOT_REALM\n-                        : SyncopeConsoleSession.get().getAuthRealms().iterator().next()).build()).\n+                        : SyncopeConsoleSession.get().getAuthRealms().get(0)).build()).\n                 getTotalCount() > REALMS_VIEW_SIZE;\n     }\n "},{"sha":"9523b451d7af2ae063d8954f87e1b73c08f318d4","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/RealmChoicePanel.java","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealmChoicePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealmChoicePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealmChoicePanel.java?ref=b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8","patch":"@@ -26,7 +26,6 @@\n import de.agilecoders.wicket.core.markup.html.bootstrap.image.GlyphIconType;\n import de.agilecoders.wicket.core.markup.html.bootstrap.image.IconType;\n import java.util.ArrayList;\n-import java.util.Arrays;\n import java.util.Collection;\n import java.util.Comparator;\n import java.util.HashMap;\n@@ -100,7 +99,7 @@ public RealmChoicePanel(final String id, final PageReference pageRef) {\n         this.pageRef = pageRef;\n         availableRealms = SyncopeConsoleSession.get().getAuthRealms();\n         tree = new HashMap<>();\n-        isSearchEnabled = RealmsUtils.enableSearchRealm();\n+        isSearchEnabled = RealmsUtils.isSearchEnabled();\n \n         realmTree = new LoadableDetachableModel<List<Pair<String, RealmTO>>>() {\n \n@@ -421,7 +420,7 @@ private Map<String, Pair<RealmTO, List<RealmTO>>> reloadRealmParentMap(final Lis\n             } else if (cache.containsKey(realm.getParent())) {\n                 cache.get(realm.getParent()).add(realm);\n             } else {\n-                cache.put(realm.getParent(), Arrays.asList(realm));\n+                cache.put(realm.getParent(), Stream.of(realm).collect(Collectors.toList()));\n             }\n         });\n         return tree;"},{"sha":"1b0a3e002216d13ceac2c11ba61521986aad3a7c","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/tasks/SchedTaskWizardBuilder.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Ftasks%2FSchedTaskWizardBuilder.java?ref=b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8","patch":"@@ -68,7 +68,7 @@\n     public SchedTaskWizardBuilder(final TaskType type, final T taskTO, final PageReference pageRef) {\n         super(taskTO, pageRef);\n         this.type = type;\n-        this.isSearchEnabled = RealmsUtils.enableSearchRealm();\n+        this.isSearchEnabled = RealmsUtils.isSearchEnabled();\n     }\n \n     @Override"},{"sha":"45b2bbe2218a439ab28fc9ee58fb419203b7ddf7","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wizards/any/Details.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.java?ref=b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8","patch":"@@ -69,7 +69,7 @@ public Details(\n             AjaxTextFieldPanel.class.cast(realm).enableJexlHelp();\n             fragment = new Fragment(\"realmsFragment\", \"realmsTemplateFragment\", this);\n         } else {\n-            boolean isSearchEnabled = RealmsUtils.enableSearchRealm();\n+            boolean isSearchEnabled = RealmsUtils.isSearchEnabled();\n             final AutoCompleteSettings settings = new AutoCompleteSettings();\n             settings.setShowCompleteListOnFocusGain(!isSearchEnabled);\n             settings.setShowListOnEmptyInput(!isSearchEnabled);"}]}
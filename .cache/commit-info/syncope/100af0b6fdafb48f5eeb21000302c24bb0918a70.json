{"sha":"100af0b6fdafb48f5eeb21000302c24bb0918a70","node_id":"C_kwDOJfYA1toAKDEwMGFmMGI2ZmRhZmI0OGY1ZWViMjEwMDAzMDJjMjRiYjA5MThhNzA","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@users.noreply.github.com","date":"2022-03-04T15:42:36Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2022-03-04T15:42:36Z"},"message":"[SYNCOPE-1653] Add missing conf items (#322)","tree":{"sha":"e609a2827797c6bbe356331408b185b8f9a3179f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/e609a2827797c6bbe356331408b185b8f9a3179f"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/100af0b6fdafb48f5eeb21000302c24bb0918a70","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJiIjNsCRBK7hj4Ov3rIwAAJ/8IAI2Q7COfAR8D0LyFnPOhA/RI\nQUdHAP68nT23IbBD2bge+W14Ux9cJrckJQJvcXSk2HENB4iSIRuMw6ShwgrW2vj3\n8J+XZRQWLA2Y+mBQzxtLRxfY6Lz4fHI7aTd1wPUJ6Xh0Tlrpw8CS1A5C8qzYhCyu\naVaGkR0vpmi/JyTYQUgXAcBkbKZETT0m84tWwAp9m3jyn0kEZ3mgn5CLGi0JL9Gz\nlEB2EKirQi7JZsdo7Pvrj7YS+NE3SKWf9lFdxQIkazKiEHi2rcRbkNlWLEAD8Pdh\n2myKPT54hORkpnAZjyP31UW5xzTPnZmxVkRnSr7kxFmvGkPX6i5mHgBi4+Y7qBg=\n=pNZ1\n-----END PGP SIGNATURE-----\n","payload":"tree e609a2827797c6bbe356331408b185b8f9a3179f\nparent c483977b540d12610bd59192cc8beba8bdb26c11\nauthor Francesco Chicchiriccò <ilgrosso@users.noreply.github.com> 1646408556 +0100\ncommitter GitHub <noreply@github.com> 1646408556 +0100\n\n[SYNCOPE-1653] Add missing conf items (#322)\n\n"}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/100af0b6fdafb48f5eeb21000302c24bb0918a70","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/100af0b6fdafb48f5eeb21000302c24bb0918a70","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/100af0b6fdafb48f5eeb21000302c24bb0918a70/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"c483977b540d12610bd59192cc8beba8bdb26c11","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c483977b540d12610bd59192cc8beba8bdb26c11","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c483977b540d12610bd59192cc8beba8bdb26c11"}],"stats":{"total":268,"additions":172,"deletions":96},"files":[{"sha":"bb37ab5e59c11931f368b4a14a91e7e5e029c1b1","filename":"client/am/console/src/main/java/org/apache/syncope/client/console/policies/AttrReleasePolicyDirectoryPanel.java","status":"modified","additions":13,"deletions":2,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FAttrReleasePolicyDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FAttrReleasePolicyDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FAttrReleasePolicyDirectoryPanel.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -18,7 +18,9 @@\n  */\n package org.apache.syncope.client.console.policies;\n \n+import java.util.List;\n import org.apache.syncope.client.console.rest.PolicyRestClient;\n+import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.BooleanPropertyColumn;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionsPanel;\n import org.apache.syncope.common.lib.policy.AttrReleasePolicyTO;\n@@ -28,8 +30,11 @@\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.Model;\n+import org.apache.wicket.model.StringResourceModel;\n \n public class AttrReleasePolicyDirectoryPanel extends PolicyDirectoryPanel<AttrReleasePolicyTO> {\n \n@@ -47,6 +52,12 @@ public AttrReleasePolicyDirectoryPanel(final String id, final PageReference page\n         initResultTable();\n     }\n \n+    @Override\n+    protected void addCustomColumnFields(final List<IColumn<AttrReleasePolicyTO, String>> columns) {\n+        columns.add(new PropertyColumn<>(new StringResourceModel(\"order\", this), \"order\", \"order\"));\n+        columns.add(new BooleanPropertyColumn<>(new StringResourceModel(\"status\", this), \"status\", \"status\"));\n+    }\n+\n     @Override\n     protected void addCustomActions(\n             final ActionsPanel<AttrReleasePolicyTO> panel,\n@@ -63,10 +74,10 @@ public void onClick(final AjaxRequestTarget target, final AttrReleasePolicyTO ig\n                     model.getObject().setConf(new DefaultAttrReleasePolicyConf());\n                 }\n                 target.add(policySpecModal.setContent(\n-                    new AttrReleasePolicyModalPanel(policySpecModal, model, pageRef)));\n+                        new AttrReleasePolicyModalPanel(policySpecModal, model, pageRef)));\n                 policySpecModal.header(new Model<>(getString(\"attrReleasePolicyConf.title\", model)));\n                 policySpecModal.show(true);\n             }\n-        }, ActionLink.ActionType.TYPE_EXTENSIONS, IdRepoEntitlement.POLICY_UPDATE);\n+        }, ActionLink.ActionType.CHANGE_VIEW, IdRepoEntitlement.POLICY_UPDATE);\n     }\n }"},{"sha":"6b08190cd4386813a3c4da2f0778458a3f5a15d9","filename":"client/am/console/src/main/java/org/apache/syncope/client/console/policies/AttrReleasePolicyModalPanel.java","status":"modified","additions":0,"deletions":7,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FAttrReleasePolicyModalPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FAttrReleasePolicyModalPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FAttrReleasePolicyModalPanel.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -24,7 +24,6 @@\n import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n import org.apache.syncope.client.console.wicket.markup.html.form.MultiFieldPanel;\n import org.apache.syncope.client.ui.commons.Constants;\n-import org.apache.syncope.client.ui.commons.markup.html.form.AjaxCheckBoxPanel;\n import org.apache.syncope.client.ui.commons.markup.html.form.AjaxTextFieldPanel;\n import org.apache.syncope.client.ui.commons.pages.BaseWebPage;\n import org.apache.syncope.common.lib.policy.AttrReleasePolicyTO;\n@@ -49,12 +48,6 @@ public AttrReleasePolicyModalPanel(\n         super(modal, pageRef);\n         this.model = model;\n \n-        add(new AjaxCheckBoxPanel(\n-                \"status\",\n-                \"status\",\n-                new PropertyModel<>(model.getObject().getConf(), \"status\"),\n-                false));\n-\n         AjaxTextFieldPanel allowedAttr = new AjaxTextFieldPanel(\"panel\", \"allowedAttrs\", new Model<>());\n         add(new MultiFieldPanel.Builder<String>(\n                 new PropertyModel<>(model.getObject().getConf(), \"allowedAttrs\")).build("},{"sha":"f3d51955f2ad5e8a81aa377f2aae5733a0658f67","filename":"client/am/console/src/main/java/org/apache/syncope/client/console/policies/AuthPolicyDirectoryPanel.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FAuthPolicyDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FAuthPolicyDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FAuthPolicyDirectoryPanel.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -61,10 +61,10 @@ public void onClick(final AjaxRequestTarget target, final AuthPolicyTO ignore) {\n                     model.getObject().setConf(new DefaultAuthPolicyConf());\n                 }\n                 target.add(policySpecModal.setContent(\n-                    new AuthPolicyModalPanel(policySpecModal, model, pageRef)));\n+                        new AuthPolicyModalPanel(policySpecModal, model, pageRef)));\n                 policySpecModal.header(new Model<>(getString(\"authPolicyConf.title\", model)));\n                 policySpecModal.show(true);\n             }\n-        }, ActionLink.ActionType.TYPE_EXTENSIONS, IdRepoEntitlement.POLICY_UPDATE);\n+        }, ActionLink.ActionType.CHANGE_VIEW, IdRepoEntitlement.POLICY_UPDATE);\n     }\n }"},{"sha":"7f978cc39fd4e6a0641c0b6616a0f9267b986487","filename":"client/am/console/src/main/resources/org/apache/syncope/client/console/policies/AttrReleasePolicyModalPanel.html","status":"modified","additions":0,"deletions":3,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FAttrReleasePolicyModalPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FAttrReleasePolicyModalPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FAttrReleasePolicyModalPanel.html?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -18,9 +18,6 @@\n -->\n <html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n   <wicket:extend>\n-    <div class=\"form-group\">\n-      <span wicket:id=\"status\"/>\n-    </div>\n     <div class=\"form-group\">\n       <span wicket:id=\"allowedAttrs\"/>\n     </div>"},{"sha":"82fdaa2a4c0719adb9d64eea07c44845dd202fa0","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/policies/PolicyModalPanelBuilder.java","status":"modified","additions":12,"deletions":0,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyModalPanelBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyModalPanelBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyModalPanelBuilder.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -201,6 +201,18 @@ public void setObject(final String object) {\n                     break;\n \n                 case ATTR_RELEASE:\n+                    fields.add(new AjaxSpinnerFieldPanel.Builder<Integer>().build(\n+                            \"field\",\n+                            \"order\",\n+                            Integer.class,\n+                            new PropertyModel<>(policyTO, \"order\")));\n+                    fields.add(new AjaxCheckBoxPanel(\n+                            \"field\",\n+                            \"status\",\n+                            new PropertyModel<>(policyTO, \"status\"),\n+                            false));\n+                    break;\n+\n                 case AUTH:\n                 default:\n             }"},{"sha":"4345946cb13db50436767cdbdba292c8fafe8df7","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/policies/PolicyDirectoryPanel.properties","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel.properties?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -31,6 +31,8 @@ compose.title=rules\n conflictResolutionAction=Conflict Resolution Action\n enabled=Enabled\n ssoEnabled=SSO Enabled\n+change_view.title=configuration\n+change_view.class=fa fa-expand\n requiredAttrs.title=Required Attributes\n type_extensions.title=required attributes\n type_extensions.class=fas fa-check-circle"},{"sha":"1be912b107b039fc68b0153000da941f36bf9fa8","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/policies/PolicyDirectoryPanel_fr_CA.properties","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_fr_CA.properties?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -31,6 +31,8 @@ compose.title=r\\u00e8glements\n conflictResolutionAction=Action de r\\u00e9solution des conflits\n enabled=Enabled\n ssoEnabled=SSO Enabled\n+change_view.title=configuration\n+change_view.class=fa fa-expand\n requiredAttrs.title=Required Attributes\n type_extensions.title=required attributes\n type_extensions.class=fas fa-check-circle"},{"sha":"1c041ba3595648d60bbba4e49f6fdcf7403b150e","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/policies/PolicyDirectoryPanel_it.properties","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_it.properties?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -31,6 +31,8 @@ compose.title=regole\n conflictResolutionAction=Azione di Risoluzione Conflitti\n enabled=Abilitata\n ssoEnabled=SSO Abilitato\n+change_view.title=configurazione\n+change_view.class=fa fa-expand\n requiredAttrs.title=Attributi Richiesti\n type_extensions.title=attributi richiesti\n type_extensions.class=fas fa-check-circle"},{"sha":"14c4ef487f71bd26c345b0948e841fab03bda21a","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/policies/PolicyDirectoryPanel_ja.properties","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_ja.properties?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -31,6 +31,8 @@ compose.title=\\u30eb\\u30fc\\u30eb\n conflictResolutionAction=\\u7af6\\u5408\\u89e3\\u6c7a\\u30a2\\u30af\\u30b7\\u30e7\\u30f3\n enabled=Enabled\n ssoEnabled=SSO Enabled\n+change_view.title=configuration\n+change_view.class=fa fa-expand\n requiredAttrs.title=Required Attributes\n type_extensions.title=required attributes\n type_extensions.class=fas fa-check-circle"},{"sha":"0635b3a403ea5c18c63880f0123457a9d1a6f37b","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/policies/PolicyDirectoryPanel_pt_BR.properties","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_pt_BR.properties?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -31,6 +31,8 @@ compose.title=rules\n conflictResolutionAction=Conflict Resolution Action\n enabled=Enabled\n ssoEnabled=SSO Enabled\n+change_view.title=configuration\n+change_view.class=fa fa-expand\n requiredAttrs.title=Required Attributes\n type_extensions.title=required attributes\n type_extensions.class=fas fa-check-circle"},{"sha":"c4091fcb671164c97adbeb3dbdc9bf86ac2a2725","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/policies/PolicyDirectoryPanel_ru.properties","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel_ru.properties?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -32,6 +32,8 @@ compose.title=rules\n conflictResolutionAction=Conflict Resolution Action\n enabled=Enabled\n ssoEnabled=SSO Enabled\n+change_view.title=configuration\n+change_view.class=fa fa-expand\n requiredAttrs.title=Required Attributes\n type_extensions.title=required attributes\n type_extensions.class=fas fa-check-circle"},{"sha":"f684518bade5122e33712a945b47effa1e35282a","filename":"common/am/lib/src/main/java/org/apache/syncope/common/lib/policy/AttrReleasePolicyTO.java","status":"modified","additions":20,"deletions":0,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/common%2Fam%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fpolicy%2FAttrReleasePolicyTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/common%2Fam%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fpolicy%2FAttrReleasePolicyTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fam%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fpolicy%2FAttrReleasePolicyTO.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -27,6 +27,10 @@ public class AttrReleasePolicyTO extends PolicyTO {\n \n     private static final long serialVersionUID = -1432411162433533300L;\n \n+    private int order;\n+\n+    private Boolean status;\n+\n     private AttrReleasePolicyConf conf;\n \n     @JacksonXmlProperty(localName = \"_class\", isAttribute = true)\n@@ -37,6 +41,22 @@ public String getDiscriminator() {\n         return getClass().getName();\n     }\n \n+    public int getOrder() {\n+        return order;\n+    }\n+\n+    public void setOrder(final int order) {\n+        this.order = order;\n+    }\n+\n+    public Boolean getStatus() {\n+        return status;\n+    }\n+\n+    public void setStatus(final Boolean status) {\n+        this.status = status;\n+    }\n+\n     public AttrReleasePolicyConf getConf() {\n         return conf;\n     }"},{"sha":"90349f5de44b19d988daee4c18c82ea1e3560921","filename":"common/am/lib/src/main/java/org/apache/syncope/common/lib/policy/DefaultAttrReleasePolicyConf.java","status":"modified","additions":4,"deletions":16,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/common%2Fam%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fpolicy%2FDefaultAttrReleasePolicyConf.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/common%2Fam%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fpolicy%2FDefaultAttrReleasePolicyConf.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fam%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fpolicy%2FDefaultAttrReleasePolicyConf.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -18,7 +18,6 @@\n  */\n package org.apache.syncope.common.lib.policy;\n \n-import com.fasterxml.jackson.annotation.JsonProperty;\n import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\n import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\n import java.util.ArrayList;\n@@ -28,8 +27,6 @@ public class DefaultAttrReleasePolicyConf implements AttrReleasePolicyConf {\n \n     private static final long serialVersionUID = -1969836661359025380L;\n \n-    private Boolean status = null;\n-\n     /**\n      * Specify the list of allowed attribute to release.\n      * Use the special {@code *} to release everything.\n@@ -40,29 +37,20 @@ public class DefaultAttrReleasePolicyConf implements AttrReleasePolicyConf {\n \n     private final List<String> includeOnlyAttrs = new ArrayList<>();\n \n-    public Boolean getStatus() {\n-        return status;\n-    }\n-\n-    public void setStatus(final Boolean status) {\n-        this.status = status;\n-    }\n-\n     @JacksonXmlElementWrapper(localName = \"allowedAttrs\")\n-    @JacksonXmlProperty(localName = \"allowedAttrs\")\n+    @JacksonXmlProperty(localName = \"allowedAttr\")\n     public List<String> getAllowedAttrs() {\n         return allowedAttrs;\n     }\n \n-    @JacksonXmlElementWrapper(localName = \"excludedAttributes\")\n-    @JacksonXmlProperty(localName = \"excludedAttributes\")\n+    @JacksonXmlElementWrapper(localName = \"excludedAttrs\")\n+    @JacksonXmlProperty(localName = \"excludedAttr\")\n     public List<String> getExcludedAttrs() {\n         return excludedAttrs;\n     }\n \n     @JacksonXmlElementWrapper(localName = \"includeOnlyAttrs\")\n-    @JacksonXmlProperty(localName = \"includeOnlyAttrs\")\n-    @JsonProperty(\"includeOnlyAttrs\")\n+    @JacksonXmlProperty(localName = \"includeOnlyAttr\")\n     public List<String> getIncludeOnlyAttrs() {\n         return includeOnlyAttrs;\n     }"},{"sha":"f66dbcab05f5193dd4e7b8cba8dc251a8ada5a4a","filename":"common/am/lib/src/main/java/org/apache/syncope/common/lib/wa/WAClientApp.java","status":"modified","additions":12,"deletions":12,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/common%2Fam%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwa%2FWAClientApp.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/common%2Fam%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwa%2FWAClientApp.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fam%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fwa%2FWAClientApp.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -22,8 +22,8 @@\n import java.util.Map;\n import org.apache.syncope.common.lib.BaseBean;\n import org.apache.syncope.common.lib.policy.AccessPolicyTO;\n-import org.apache.syncope.common.lib.policy.AttrReleasePolicyConf;\n-import org.apache.syncope.common.lib.policy.AuthPolicyConf;\n+import org.apache.syncope.common.lib.policy.AttrReleasePolicyTO;\n+import org.apache.syncope.common.lib.policy.AuthPolicyTO;\n import org.apache.syncope.common.lib.to.ClientAppTO;\n \n public class WAClientApp implements BaseBean {\n@@ -34,9 +34,9 @@ public class WAClientApp implements BaseBean {\n \n     private AccessPolicyTO accessPolicy;\n \n-    private AuthPolicyConf authPolicyConf;\n+    private AuthPolicyTO authPolicy;\n \n-    private AttrReleasePolicyConf attrReleasePolicyConf;\n+    private AttrReleasePolicyTO attrReleasePolicy;\n \n     private final Map<String, Object> releaseAttrs = new HashMap<>();\n \n@@ -56,20 +56,20 @@ public void setAccessPolicy(final AccessPolicyTO accessPolicy) {\n         this.accessPolicy = accessPolicy;\n     }\n \n-    public AuthPolicyConf getAuthPolicyConf() {\n-        return authPolicyConf;\n+    public AuthPolicyTO getAuthPolicy() {\n+        return authPolicy;\n     }\n \n-    public void setAuthPolicyConf(final AuthPolicyConf authPolicyConf) {\n-        this.authPolicyConf = authPolicyConf;\n+    public void setAuthPolicy(final AuthPolicyTO authPolicy) {\n+        this.authPolicy = authPolicy;\n     }\n \n-    public AttrReleasePolicyConf getAttrReleasePolicyConf() {\n-        return attrReleasePolicyConf;\n+    public AttrReleasePolicyTO getAttrReleasePolicy() {\n+        return attrReleasePolicy;\n     }\n \n-    public void setAttrReleasePolicyConf(final AttrReleasePolicyConf attrReleasePolicyConf) {\n-        this.attrReleasePolicyConf = attrReleasePolicyConf;\n+    public void setAttrReleasePolicy(final AttrReleasePolicyTO attrReleasePolicy) {\n+        this.attrReleasePolicy = attrReleasePolicy;\n     }\n \n     public Map<String, Object> getReleaseAttrs() {"},{"sha":"ce4f6356779c1ff8db2b375c0f113c5382da6dfc","filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/entity/policy/AttrReleasePolicy.java","status":"modified","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2Fpolicy%2FAttrReleasePolicy.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2Fpolicy%2FAttrReleasePolicy.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2Fpolicy%2FAttrReleasePolicy.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -22,6 +22,14 @@\n \n public interface AttrReleasePolicy extends Policy {\n \n+    int getOrder();\n+\n+    void setOrder(int order);\n+\n+    Boolean getStatus();\n+\n+    void setStatus(Boolean status);\n+\n     AttrReleasePolicyConf getConf();\n \n     void setConf(AttrReleasePolicyConf conf);"},{"sha":"72fbeb99534b34e715ba40fdc87d399d7b310519","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/entity/policy/JPAAttrReleasePolicy.java","status":"modified","additions":28,"deletions":3,"changes":31,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Fpolicy%2FJPAAttrReleasePolicy.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Fpolicy%2FJPAAttrReleasePolicy.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Fpolicy%2FJPAAttrReleasePolicy.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -19,6 +19,7 @@\n package org.apache.syncope.core.persistence.jpa.entity.policy;\n \n import java.util.Optional;\n+import javax.persistence.Basic;\n import javax.persistence.Entity;\n import javax.persistence.Lob;\n import javax.persistence.Table;\n@@ -34,14 +35,38 @@ public class JPAAttrReleasePolicy extends AbstractPolicy implements AttrReleaseP\n \n     public static final String TABLE = \"AttrReleasePolicy\";\n \n+    @Basic\n+    private Integer arporder = 0;\n+\n+    private Boolean status;\n+\n     @Lob\n     private String jsonConf;\n \n+    @Override\n+    public int getOrder() {\n+        return Optional.ofNullable(arporder).orElse(0);\n+    }\n+\n+    @Override\n+    public void setOrder(final int order) {\n+        this.arporder = order;\n+    }\n+\n+    @Override\n+    public Boolean getStatus() {\n+        return status;\n+    }\n+\n+    @Override\n+    public void setStatus(final Boolean status) {\n+        this.status = status;\n+    }\n+\n     @Override\n     public AttrReleasePolicyConf getConf() {\n-        return jsonConf == null\n-                ? null\n-                : POJOHelper.deserialize(jsonConf, AttrReleasePolicyConf.class);\n+        return Optional.ofNullable(jsonConf).\n+                map(c -> POJOHelper.deserialize(c, AttrReleasePolicyConf.class)).orElse(null);\n     }\n \n     @Override"},{"sha":"7c30c799f939893c6329a8d3778a2acdbaf42320","filename":"core/persistence-jpa/src/test/java/org/apache/syncope/core/persistence/jpa/inner/AbstractClientAppTest.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FAbstractClientAppTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FAbstractClientAppTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FAbstractClientAppTest.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -38,10 +38,10 @@ public class AbstractClientAppTest extends AbstractTest {\n     protected AttrReleasePolicy buildAndSaveAttrRelPolicy() {\n         AttrReleasePolicy attrRelPolicy = entityFactory.newEntity(AttrReleasePolicy.class);\n         attrRelPolicy.setName(\"AttrRelPolicyTest\");\n+        attrRelPolicy.setStatus(Boolean.TRUE);\n \n         DefaultAttrReleasePolicyConf conf = new DefaultAttrReleasePolicyConf();\n         conf.getAllowedAttrs().addAll(List.of(\"cn\", \"givenName\"));\n-        conf.setStatus(Boolean.TRUE);\n         conf.getIncludeOnlyAttrs().add(\"cn\");\n \n         attrRelPolicy.setConf(conf);"},{"sha":"785b79f0f09c6eb0b88a1d0d4abba928040e533a","filename":"core/persistence-jpa/src/test/java/org/apache/syncope/core/persistence/jpa/inner/PolicyTest.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FPolicyTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FPolicyTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FPolicyTest.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -221,19 +221,19 @@ public void create() {\n         beforeCount = policyDAO.findAll().size();\n         AttrReleasePolicy attrReleasePolicy = entityFactory.newEntity(AttrReleasePolicy.class);\n         attrReleasePolicy.setName(\"AttrReleasePolicyAllowEverything\");\n+        attrReleasePolicy.setStatus(Boolean.TRUE);\n \n         DefaultAttrReleasePolicyConf attrReleasePolicyConf = new DefaultAttrReleasePolicyConf();\n         attrReleasePolicyConf.getAllowedAttrs().add(\"*\");\n-        attrReleasePolicyConf.setStatus(Boolean.TRUE);\n         attrReleasePolicyConf.getIncludeOnlyAttrs().add(\"cn\");\n         attrReleasePolicy.setConf(attrReleasePolicyConf);\n \n         attrReleasePolicy = policyDAO.save(attrReleasePolicy);\n \n         assertNotNull(attrReleasePolicy);\n         assertNotNull(attrReleasePolicy.getKey());\n+        assertNotNull(attrReleasePolicy.getStatus());\n         assertNotNull(((DefaultAttrReleasePolicyConf) attrReleasePolicy.getConf()).getAllowedAttrs());\n-        assertNotNull(((DefaultAttrReleasePolicyConf) attrReleasePolicy.getConf()).getStatus());\n \n         afterCount = policyDAO.findAll().size();\n         assertEquals(afterCount, beforeCount + 1);"},{"sha":"b42ac2d4ff8dfa50572ea00844d07c7825974d44","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/data/PolicyDataBinderImpl.java","status":"modified","additions":6,"deletions":1,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FPolicyDataBinderImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FPolicyDataBinderImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FPolicyDataBinderImpl.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -239,6 +239,8 @@ protected <T extends Policy> T getPolicy(final T policy, final PolicyTO policyTO\n             AttrReleasePolicyTO attrReleasePolicyTO = AttrReleasePolicyTO.class.cast(policyTO);\n \n             attrReleasePolicy.setName(attrReleasePolicyTO.getKey());\n+            attrReleasePolicy.setOrder(attrReleasePolicyTO.getOrder());\n+            attrReleasePolicy.setStatus(attrReleasePolicyTO.getStatus());\n             attrReleasePolicy.setConf(attrReleasePolicyTO.getConf());\n         }\n \n@@ -323,10 +325,13 @@ public <T extends PolicyTO> T getPolicyTO(final Policy policy) {\n             accessPolicyTO.setUnauthorizedRedirectUrl(accessPolicy.getUnauthorizedRedirectUrl());\n             accessPolicyTO.setConf(((AccessPolicy) policy).getConf());\n         } else if (policy instanceof AttrReleasePolicy) {\n+            AttrReleasePolicy attrReleasePolicy = AttrReleasePolicy.class.cast(policy);\n             AttrReleasePolicyTO attrReleasePolicyTO = new AttrReleasePolicyTO();\n             policyTO = (T) attrReleasePolicyTO;\n \n-            attrReleasePolicyTO.setConf(((AttrReleasePolicy) policy).getConf());\n+            attrReleasePolicyTO.setOrder(attrReleasePolicy.getOrder());\n+            attrReleasePolicyTO.setStatus(attrReleasePolicy.getStatus());\n+            attrReleasePolicyTO.setConf(attrReleasePolicy.getConf());\n         }\n \n         if (policyTO != null) {"},{"sha":"1010367b22bd36d64073613ff25a05514f9c349d","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/data/wa/WAClientAppDataBinderImpl.java","status":"modified","additions":10,"deletions":6,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2Fwa%2FWAClientAppDataBinderImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2Fwa%2FWAClientAppDataBinderImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2Fwa%2FWAClientAppDataBinderImpl.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -59,10 +59,10 @@ public WAClientApp getWAClientApp(final ClientApp clientApp) {\n             AuthPolicyConf authPolicyConf = null;\n             if (clientApp.getAuthPolicy() != null) {\n                 authPolicyConf = clientApp.getAuthPolicy().getConf();\n-                waClientApp.setAuthPolicyConf(clientApp.getAuthPolicy().getConf());\n+                waClientApp.setAuthPolicy(policyDataBinder.getPolicyTO(clientApp.getAuthPolicy()));\n             } else if (clientApp.getRealm() != null && clientApp.getRealm().getAuthPolicy() != null) {\n                 authPolicyConf = clientApp.getRealm().getAuthPolicy().getConf();\n-                waClientApp.setAuthPolicyConf(clientApp.getRealm().getAuthPolicy().getConf());\n+                waClientApp.setAuthPolicy(policyDataBinder.getPolicyTO(clientApp.getRealm().getAuthPolicy()));\n             }\n             if (authPolicyConf instanceof DefaultAuthPolicyConf) {\n                 ((DefaultAuthPolicyConf) authPolicyConf).getAuthModules().forEach(key -> {\n@@ -84,16 +84,20 @@ public WAClientApp getWAClientApp(final ClientApp clientApp) {\n             }\n \n             if (clientApp.getAttrReleasePolicy() != null) {\n-                waClientApp.setAttrReleasePolicyConf(clientApp.getAttrReleasePolicy().getConf());\n+                waClientApp.setAttrReleasePolicy(\n+                        policyDataBinder.getPolicyTO(clientApp.getAttrReleasePolicy()));\n             } else if (clientApp.getRealm() != null && clientApp.getRealm().getAttrReleasePolicy() != null) {\n-                waClientApp.setAttrReleasePolicyConf(clientApp.getRealm().getAttrReleasePolicy().getConf());\n+                waClientApp.setAttrReleasePolicy(\n+                        policyDataBinder.getPolicyTO(clientApp.getRealm().getAttrReleasePolicy()));\n             }\n \n             if (waClientApp.getReleaseAttrs().isEmpty()) {\n                 if (clientApp.getAttrReleasePolicy() != null) {\n-                    waClientApp.setAttrReleasePolicyConf(clientApp.getAttrReleasePolicy().getConf());\n+                    waClientApp.setAttrReleasePolicy(\n+                            policyDataBinder.getPolicyTO(clientApp.getAttrReleasePolicy()));\n                 } else if (clientApp.getRealm() != null && clientApp.getRealm().getAttrReleasePolicy() != null) {\n-                    waClientApp.setAttrReleasePolicyConf(clientApp.getRealm().getAttrReleasePolicy().getConf());\n+                    waClientApp.setAttrReleasePolicy(\n+                            policyDataBinder.getPolicyTO(clientApp.getRealm().getAttrReleasePolicy()));\n                 }\n             }\n         } catch (Exception e) {"},{"sha":"897ff41f082c06dba9d02127f67a26273a0c90fa","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/AbstractITCase.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FAbstractITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FAbstractITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FAbstractITCase.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -918,10 +918,10 @@ protected AuthPolicyTO buildAuthPolicyTO(final String authModuleKey) {\n     protected AttrReleasePolicyTO buildAttrReleasePolicyTO() {\n         AttrReleasePolicyTO policy = new AttrReleasePolicyTO();\n         policy.setName(\"Test Attribute Release policy\");\n+        policy.setStatus(Boolean.TRUE);\n \n         DefaultAttrReleasePolicyConf conf = new DefaultAttrReleasePolicyConf();\n         conf.getAllowedAttrs().addAll(List.of(\"cn\", \"givenName\"));\n-        conf.setStatus(Boolean.TRUE);\n         conf.getIncludeOnlyAttrs().add(\"cn\");\n \n         policy.setConf(conf);"},{"sha":"8a63943fac3ce0064938851078d9cbbdf09514fe","filename":"wa/starter/src/main/java/org/apache/syncope/wa/starter/mapping/AttrReleaseMapper.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FAttrReleaseMapper.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FAttrReleaseMapper.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FAttrReleaseMapper.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -18,11 +18,11 @@\n  */\n package org.apache.syncope.wa.starter.mapping;\n \n-import org.apache.syncope.common.lib.policy.AttrReleasePolicyConf;\n+import org.apache.syncope.common.lib.policy.AttrReleasePolicyTO;\n import org.apereo.cas.services.RegisteredServiceAttributeReleasePolicy;\n \n @FunctionalInterface\n public interface AttrReleaseMapper {\n \n-    RegisteredServiceAttributeReleasePolicy build(AttrReleasePolicyConf conf);\n+    RegisteredServiceAttributeReleasePolicy build(AttrReleasePolicyTO policy);\n }"},{"sha":"25d6b893373d4151891418f16f03a350bedb2e00","filename":"wa/starter/src/main/java/org/apache/syncope/wa/starter/mapping/AuthMapper.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FAuthMapper.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FAuthMapper.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FAuthMapper.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -18,11 +18,11 @@\n  */\n package org.apache.syncope.wa.starter.mapping;\n \n-import org.apache.syncope.common.lib.policy.AuthPolicyConf;\n+import org.apache.syncope.common.lib.policy.AuthPolicyTO;\n import org.apereo.cas.services.RegisteredServiceAuthenticationPolicy;\n \n @FunctionalInterface\n public interface AuthMapper {\n \n-    RegisteredServiceAuthenticationPolicy build(AuthPolicyConf conf);\n+    RegisteredServiceAuthenticationPolicy build(AuthPolicyTO policy);\n }"},{"sha":"d10142ba59ac5aa55760baf916ae07ac93a67fbf","filename":"wa/starter/src/main/java/org/apache/syncope/wa/starter/mapping/DefaultAttrReleaseMapper.java","status":"modified","additions":14,"deletions":18,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FDefaultAttrReleaseMapper.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FDefaultAttrReleaseMapper.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FDefaultAttrReleaseMapper.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -20,7 +20,7 @@\n \n import java.util.HashSet;\n import org.apache.syncope.common.lib.policy.DefaultAttrReleasePolicyConf;\n-import org.apache.syncope.common.lib.policy.AttrReleasePolicyConf;\n+import org.apache.syncope.common.lib.policy.AttrReleasePolicyTO;\n import org.apereo.cas.services.DenyAllAttributeReleasePolicy;\n import org.apereo.cas.services.RegisteredServiceAttributeReleasePolicy;\n import org.apereo.cas.services.ReturnAllowedAttributeReleasePolicy;\n@@ -31,27 +31,23 @@\n public class DefaultAttrReleaseMapper implements AttrReleaseMapper {\n \n     @Override\n-    public RegisteredServiceAttributeReleasePolicy build(final AttrReleasePolicyConf conf) {\n-        DefaultAttrReleasePolicyConf aarpc = (DefaultAttrReleasePolicyConf) conf;\n+    public RegisteredServiceAttributeReleasePolicy build(final AttrReleasePolicyTO policy) {\n+        DefaultAttrReleasePolicyConf aarpc = (DefaultAttrReleasePolicyConf) policy.getConf();\n \n-        RegisteredServiceAttributeReleasePolicy attributeReleasePolicy;\n         if (aarpc.getAllowedAttrs().isEmpty()) {\n-            attributeReleasePolicy = new DenyAllAttributeReleasePolicy();\n-        } else {\n-            attributeReleasePolicy = new ReturnAllowedAttributeReleasePolicy();\n-            ((ReturnAllowedAttributeReleasePolicy) attributeReleasePolicy).\n-                    setAllowedAttributes((aarpc.getAllowedAttrs()));\n-\n-            if (!aarpc.getExcludedAttrs().isEmpty() || !aarpc.getIncludeOnlyAttrs().isEmpty()) {\n-                DefaultRegisteredServiceConsentPolicy consentPolicy = new DefaultRegisteredServiceConsentPolicy(\n-                        new HashSet<>(aarpc.getExcludedAttrs()), new HashSet<>(aarpc.getIncludeOnlyAttrs()));\n-                consentPolicy.setStatus(\n-                        aarpc.getStatus() == null ? TriStateBoolean.UNDEFINED\n-                        : TriStateBoolean.fromBoolean(aarpc.getStatus()));\n-                ((ReturnAllowedAttributeReleasePolicy) attributeReleasePolicy).setConsentPolicy(consentPolicy);\n-            }\n+            return new DenyAllAttributeReleasePolicy();\n         }\n \n+        DefaultRegisteredServiceConsentPolicy consentPolicy = new DefaultRegisteredServiceConsentPolicy(\n+                new HashSet<>(aarpc.getExcludedAttrs()), new HashSet<>(aarpc.getIncludeOnlyAttrs()));\n+        consentPolicy.setOrder(policy.getOrder());\n+        consentPolicy.setStatus(\n+                policy.getStatus() == null ? TriStateBoolean.UNDEFINED\n+                : TriStateBoolean.fromBoolean(policy.getStatus()));\n+\n+        ReturnAllowedAttributeReleasePolicy attributeReleasePolicy = new ReturnAllowedAttributeReleasePolicy();\n+        attributeReleasePolicy.setAllowedAttributes((aarpc.getAllowedAttrs()));\n+        attributeReleasePolicy.setConsentPolicy(consentPolicy);\n         return attributeReleasePolicy;\n     }\n }"},{"sha":"6fe0a50d76e6e7023bdddbff1b1399a91eaef4f8","filename":"wa/starter/src/main/java/org/apache/syncope/wa/starter/mapping/DefaultAuthMapper.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FDefaultAuthMapper.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FDefaultAuthMapper.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FDefaultAuthMapper.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -19,7 +19,7 @@\n package org.apache.syncope.wa.starter.mapping;\n \n import java.util.HashSet;\n-import org.apache.syncope.common.lib.policy.AuthPolicyConf;\n+import org.apache.syncope.common.lib.policy.AuthPolicyTO;\n import org.apache.syncope.common.lib.policy.DefaultAuthPolicyConf;\n import org.apereo.cas.services.AnyAuthenticationHandlerRegisteredServiceAuthenticationPolicyCriteria;\n import org.apereo.cas.services.DefaultRegisteredServiceAuthenticationPolicy;\n@@ -29,10 +29,10 @@\n public class DefaultAuthMapper implements AuthMapper {\n \n     @Override\n-    public RegisteredServiceAuthenticationPolicy build(final AuthPolicyConf conf) {\n+    public RegisteredServiceAuthenticationPolicy build(final AuthPolicyTO policy) {\n         DefaultRegisteredServiceAuthenticationPolicy authPolicy = new DefaultRegisteredServiceAuthenticationPolicy();\n \n-        DefaultAuthPolicyConf policyConf = (DefaultAuthPolicyConf) conf;\n+        DefaultAuthPolicyConf policyConf = (DefaultAuthPolicyConf) policy.getConf();\n         if (!policyConf.getAuthModules().isEmpty()) {\n             authPolicy.setRequiredAuthenticationHandlers(new HashSet<>(policyConf.getAuthModules()));\n         }"},{"sha":"0d80109245582dbea6b132cfc1532b2160572ff1","filename":"wa/starter/src/main/java/org/apache/syncope/wa/starter/mapping/RegisteredServiceMapper.java","status":"modified","additions":12,"deletions":13,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FRegisteredServiceMapper.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FRegisteredServiceMapper.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/wa%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2Fmapping%2FRegisteredServiceMapper.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -21,14 +21,13 @@\n import java.util.Map;\n import java.util.Optional;\n import org.apache.syncope.common.lib.wa.WAClientApp;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n-\n import org.apereo.cas.services.RegisteredService;\n import org.apereo.cas.services.RegisteredServiceAccessStrategy;\n import org.apereo.cas.services.RegisteredServiceAttributeReleasePolicy;\n import org.apereo.cas.services.RegisteredServiceAuthenticationPolicy;\n import org.apereo.cas.services.ReturnMappedAttributeReleasePolicy;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n \n public class RegisteredServiceMapper {\n \n@@ -63,30 +62,30 @@ public RegisteredService toRegisteredService(final WAClientApp clientApp) {\n         }\n \n         RegisteredServiceAuthenticationPolicy authPolicy = null;\n-        if (clientApp.getAuthPolicyConf() != null) {\n-            AuthMapper authMapper =\n-                    authPolicyConfMappers.get(clientApp.getAuthPolicyConf().getClass().getName());\n+        if (clientApp.getAuthPolicy() != null) {\n+            AuthMapper authMapper = authPolicyConfMappers.get(\n+                    clientApp.getAuthPolicy().getConf().getClass().getName());\n             authPolicy = Optional.ofNullable(authMapper).\n-                    map(mapper -> mapper.build(clientApp.getAuthPolicyConf())).orElse(null);\n+                    map(mapper -> mapper.build(clientApp.getAuthPolicy())).orElse(null);\n         }\n \n         RegisteredServiceAccessStrategy accessStrategy = null;\n         if (clientApp.getAccessPolicy() != null) {\n-            AccessMapper accessPolicyConfMapper =\n-                    accessPolicyConfMappers.get(clientApp.getAccessPolicy().getClass().getName());\n+            AccessMapper accessPolicyConfMapper = accessPolicyConfMappers.get(\n+                    clientApp.getAccessPolicy().getConf().getClass().getName());\n             accessStrategy = Optional.ofNullable(accessPolicyConfMapper).\n                     map(mapper -> mapper.build(clientApp.getAccessPolicy())).orElse(null);\n         }\n \n         RegisteredServiceAttributeReleasePolicy attributeReleasePolicy = null;\n         if (!clientApp.getReleaseAttrs().isEmpty()) {\n-            if (clientApp.getAttrReleasePolicyConf() == null) {\n+            if (clientApp.getAttrReleasePolicy() == null) {\n                 attributeReleasePolicy = new ReturnMappedAttributeReleasePolicy(clientApp.getReleaseAttrs());\n             } else {\n-                AttrReleaseMapper attrReleasePolicyConfMapper =\n-                        attrReleasePolicyConfMappers.get(clientApp.getAttrReleasePolicyConf().getClass().getName());\n+                AttrReleaseMapper attrReleasePolicyConfMapper = attrReleasePolicyConfMappers.get(\n+                        clientApp.getAttrReleasePolicy().getConf().getClass().getName());\n                 attributeReleasePolicy = Optional.ofNullable(attrReleasePolicyConfMapper).\n-                        map(mapper -> mapper.build(clientApp.getAttrReleasePolicyConf())).orElse(null);\n+                        map(mapper -> mapper.build(clientApp.getAttrReleasePolicy())).orElse(null);\n             }\n         }\n "},{"sha":"858d533249b19ef62706153fe5607a5eebe4fe82","filename":"wa/starter/src/test/java/org/apache/syncope/wa/starter/SyncopeWAServiceRegistryTest.java","status":"modified","additions":8,"deletions":2,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/100af0b6fdafb48f5eeb21000302c24bb0918a70/wa%2Fstarter%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2FSyncopeWAServiceRegistryTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/100af0b6fdafb48f5eeb21000302c24bb0918a70/wa%2Fstarter%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2FSyncopeWAServiceRegistryTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/wa%2Fstarter%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fstarter%2FSyncopeWAServiceRegistryTest.java?ref=100af0b6fdafb48f5eeb21000302c24bb0918a70","patch":"@@ -28,6 +28,8 @@\n import org.apache.syncope.client.lib.SyncopeClient;\n import org.apache.syncope.common.lib.Attr;\n import org.apache.syncope.common.lib.policy.AccessPolicyTO;\n+import org.apache.syncope.common.lib.policy.AttrReleasePolicyTO;\n+import org.apache.syncope.common.lib.policy.AuthPolicyTO;\n import org.apache.syncope.common.lib.policy.DefaultAttrReleasePolicyConf;\n import org.apache.syncope.common.lib.policy.DefaultAccessPolicyConf;\n import org.apache.syncope.common.lib.policy.DefaultAuthPolicyConf;\n@@ -96,8 +98,10 @@ private static void addAttributes(\n         DefaultAuthPolicyConf authPolicyConf = new DefaultAuthPolicyConf();\n         authPolicyConf.setTryAll(true);\n         authPolicyConf.getAuthModules().add(\"TestAuthModule\");\n+        AuthPolicyTO authPolicy = new AuthPolicyTO();\n+        authPolicy.setConf(authPolicyConf);\n \n-        waClientApp.setAuthPolicyConf(authPolicyConf);\n+        waClientApp.setAuthPolicy(authPolicy);\n \n         if (withReleaseAttributes) {\n             waClientApp.getReleaseAttrs().putAll(Map.of(\"uid\", \"username\", \"cn\", \"fullname\"));\n@@ -113,7 +117,9 @@ private static void addAttributes(\n         if (withAttrReleasePolicy) {\n             DefaultAttrReleasePolicyConf attrReleasePolicyConf = new DefaultAttrReleasePolicyConf();\n             attrReleasePolicyConf.getAllowedAttrs().add(\"cn\");\n-            waClientApp.setAttrReleasePolicyConf(attrReleasePolicyConf);\n+            AttrReleasePolicyTO attrReleasePolicy = new AttrReleasePolicyTO();\n+            attrReleasePolicy.setConf(attrReleasePolicyConf);\n+            waClientApp.setAttrReleasePolicy(attrReleasePolicy);\n         }\n     }\n "}]}
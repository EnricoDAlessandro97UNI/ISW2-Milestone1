{"sha":"b8a7602cb12122e0f6825e14e4d9863df768b867","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmI4YTc2MDJjYjEyMTIyZTBmNjgyNWUxNGU0ZDk4NjNkZjc2OGI4Njc=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2010-08-19T14:05:11Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2010-08-19T14:05:11Z"},"message":"Again smallfixes\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1246438 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"cac4463f848f0dfb5e3130ea6d226a81bb37d23f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/cac4463f848f0dfb5e3130ea6d226a81bb37d23f"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/b8a7602cb12122e0f6825e14e4d9863df768b867","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b8a7602cb12122e0f6825e14e4d9863df768b867","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/b8a7602cb12122e0f6825e14e4d9863df768b867","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b8a7602cb12122e0f6825e14e4d9863df768b867/comments","author":null,"committer":null,"parents":[{"sha":"2bd5980187d8dae1049454ae5a4cff31ed98e747","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/2bd5980187d8dae1049454ae5a4cff31ed98e747","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/2bd5980187d8dae1049454ae5a4cff31ed98e747"}],"stats":{"total":62,"additions":28,"deletions":34},"files":[{"sha":"d9b0ffbbd208344e05169f4685fbb227ff843d3d","filename":"client/src/main/java/org/syncope/client/to/UserTO.java","status":"modified","additions":0,"deletions":9,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b8a7602cb12122e0f6825e14e4d9863df768b867/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FUserTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b8a7602cb12122e0f6825e14e4d9863df768b867/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FUserTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fto%2FUserTO.java?ref=b8a7602cb12122e0f6825e14e4d9863df768b867","patch":"@@ -23,7 +23,6 @@ public class UserTO extends AbstractAttributableTO {\n     private String password;\n     private Set<MembershipTO> memberships;\n     private String status;\n-    private Date creationTime;\n     private String token;\n     private Date tokenExpireTime;\n \n@@ -65,14 +64,6 @@ public void setStatus(String status) {\n         this.status = status;\n     }\n \n-    public Date getCreationTime() {\n-        return creationTime;\n-    }\n-\n-    public void setCreationTime(Date creationTime) {\n-        this.creationTime = creationTime;\n-    }\n-\n     public String getToken() {\n         return token;\n     }"},{"sha":"b812f838bd42008a30a25f04c8b1858ba4b17dc1","filename":"client/src/main/java/org/syncope/client/validation/SyncopeClientCompositeErrorException.java","status":"modified","additions":22,"deletions":0,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b8a7602cb12122e0f6825e14e4d9863df768b867/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fvalidation%2FSyncopeClientCompositeErrorException.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b8a7602cb12122e0f6825e14e4d9863df768b867/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fvalidation%2FSyncopeClientCompositeErrorException.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fvalidation%2FSyncopeClientCompositeErrorException.java?ref=b8a7602cb12122e0f6825e14e4d9863df768b867","patch":"@@ -69,4 +69,26 @@ public boolean addException(SyncopeClientException exception) {\n \n         return exceptions.add(exception);\n     }\n+\n+    @Override\n+    public String getMessage() {\n+        StringBuilder message = new StringBuilder();\n+\n+        message.append(\"{\");\n+        for (SyncopeClientException e : getExceptions()) {\n+            message.append(\"[\");\n+            message.append(e.getType());\n+            message.append(\" \");\n+            message.append(e.getElements());\n+            message.append(\"], \");\n+        }\n+        message.append(\"}\");\n+\n+        return message.toString();\n+    }\n+\n+    @Override\n+    public String getLocalizedMessage() {\n+        return getMessage();\n+    }\n }"},{"sha":"93a8cf109507b212439434f80295623344513989","filename":"core/src/main/java/org/syncope/core/persistence/beans/user/SyncopeUser.java","status":"modified","additions":0,"deletions":10,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b8a7602cb12122e0f6825e14e4d9863df768b867/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FSyncopeUser.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b8a7602cb12122e0f6825e14e4d9863df768b867/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FSyncopeUser.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fpersistence%2Fbeans%2Fuser%2FSyncopeUser.java?ref=b8a7602cb12122e0f6825e14e4d9863df768b867","patch":"@@ -69,8 +69,6 @@ public class SyncopeUser extends AbstractAttributable {\n     private List<UserDerivedAttribute> derivedAttributes;\n     @Column(nullable = true)\n     private Long workflowId;\n-    @Temporal(TemporalType.TIMESTAMP)\n-    private Date creationTime;\n     @Lob\n     private String token;\n     @Temporal(TemporalType.TIMESTAMP)\n@@ -223,14 +221,6 @@ public void setWorkflowId(Long workflowEntryId) {\n         this.workflowId = workflowEntryId;\n     }\n \n-    public Date getCreationTime() {\n-        return creationTime;\n-    }\n-\n-    public void setCreationTime(Date creationTime) {\n-        this.creationTime = creationTime;\n-    }\n-\n     public void generateToken(int tokenLength, int tokenExpireTime) {\n         token = RandomStringUtils.randomAlphanumeric(tokenLength);\n "},{"sha":"fcaee7299de54c9265e37e9cee34ebc3d5429b03","filename":"core/src/main/java/org/syncope/core/rest/controller/UserController.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b8a7602cb12122e0f6825e14e4d9863df768b867/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fcontroller%2FUserController.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b8a7602cb12122e0f6825e14e4d9863df768b867/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fcontroller%2FUserController.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fcontroller%2FUserController.java?ref=b8a7602cb12122e0f6825e14e4d9863df768b867","patch":"@@ -36,7 +36,6 @@\n import org.syncope.core.rest.data.UserDataBinder;\n import java.util.ArrayList;\n import java.util.Collections;\n-import java.util.Date;\n import java.util.HashMap;\n import java.util.HashSet;\n import java.util.List;\n@@ -382,7 +381,6 @@ public UserTO create(HttpServletResponse response,\n \n         SyncopeUser user = userDataBinder.createSyncopeUser(userTO);\n         user.setWorkflowId(workflowId);\n-        user.setCreationTime(new Date());\n         user = syncopeUserDAO.save(user);\n \n         // Check if attributes with unique schema have unique values"},{"sha":"b5967a18ca3b45f3fc75bb071195748dde1d8dbe","filename":"core/src/main/java/org/syncope/core/rest/data/UserDataBinder.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b8a7602cb12122e0f6825e14e4d9863df768b867/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FUserDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b8a7602cb12122e0f6825e14e4d9863df768b867/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FUserDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FUserDataBinder.java?ref=b8a7602cb12122e0f6825e14e4d9863df768b867","patch":"@@ -209,7 +209,6 @@ public ResourceOperations update(SyncopeUser user, UserMod userMod)\n     public UserTO getUserTO(SyncopeUser user, Workflow userWorkflow) {\n         UserTO userTO = new UserTO();\n         userTO.setId(user.getId());\n-        userTO.setCreationTime(user.getCreationTime());\n         userTO.setToken(user.getToken());\n         userTO.setTokenExpireTime(user.getTokenExpireTime());\n         userTO.setPassword(user.getPassword());"},{"sha":"9f36fa382661ccebc075638199c718611fa0fec8","filename":"core/src/main/java/org/syncope/core/workflow/EmptyUser.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b8a7602cb12122e0f6825e14e4d9863df768b867/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fworkflow%2FEmptyUser.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b8a7602cb12122e0f6825e14e4d9863df768b867/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fworkflow%2FEmptyUser.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fworkflow%2FEmptyUser.java?ref=b8a7602cb12122e0f6825e14e4d9863df768b867","patch":"@@ -75,7 +75,6 @@ public void execute(Map transientVars, Map args, PropertySet ps)\n             membership.getDerivedAttributes().clear();\n         }\n \n-        syncopeUser.setCreationTime(null);\n         syncopeUser.setPassword(null);\n \n         transientVars.put(Constants.SYNCOPE_USER, syncopeUser);"},{"sha":"8ce3fe80b7f6b611dd9a16293eb6df7699c70e0e","filename":"core/src/main/java/org/syncope/core/workflow/StoreDate.java","status":"modified","additions":3,"deletions":5,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b8a7602cb12122e0f6825e14e4d9863df768b867/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fworkflow%2FStoreDate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b8a7602cb12122e0f6825e14e4d9863df768b867/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fworkflow%2FStoreDate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fworkflow%2FStoreDate.java?ref=b8a7602cb12122e0f6825e14e4d9863df768b867","patch":"@@ -16,7 +16,6 @@\n \n import com.opensymphony.module.propertyset.PropertySet;\n import com.opensymphony.workflow.WorkflowException;\n-import java.util.Collections;\n import java.util.Date;\n import java.util.Map;\n import org.syncope.core.persistence.beans.AbstractAttribute;\n@@ -33,10 +32,9 @@ public void execute(Map transientVars, Map args, PropertySet ps)\n         AbstractAttributeValue date = attributableUtil.newAttributeValue();\n         date.setDateValue(new Date());\n         date.setAttribute(attribute);\n-        if (attribute.getSchema().isMultivalue()) {\n-            attribute.addAttributeValue(date);\n-        } else {\n-            attribute.setAttributeValues(Collections.singletonList(date));\n+        if (!attribute.getSchema().isMultivalue()) {\n+            attribute.getAttributeValues().clear();\n         }\n+        attribute.addAttributeValue(date);\n     }\n }"},{"sha":"7f21009504308551562ef0575fe538e587b8f824","filename":"core/src/main/java/org/syncope/core/workflow/StoreText.java","status":"modified","additions":3,"deletions":6,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/b8a7602cb12122e0f6825e14e4d9863df768b867/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fworkflow%2FStoreText.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/b8a7602cb12122e0f6825e14e4d9863df768b867/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fworkflow%2FStoreText.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Fworkflow%2FStoreText.java?ref=b8a7602cb12122e0f6825e14e4d9863df768b867","patch":"@@ -16,7 +16,6 @@\n \n import com.opensymphony.module.propertyset.PropertySet;\n import com.opensymphony.workflow.WorkflowException;\n-import java.util.Collections;\n import java.util.Map;\n import org.syncope.core.persistence.beans.AbstractAttribute;\n import org.syncope.core.persistence.beans.AbstractAttributeValue;\n@@ -38,11 +37,9 @@ public void execute(Map transientVars, Map args, PropertySet ps)\n                 attributableUtil.newAttributeValue();\n         textAttributeValue.setStringValue(text);\n         textAttributeValue.setAttribute(attribute);\n-        if (attribute.getSchema().isMultivalue()) {\n-            attribute.addAttributeValue(textAttributeValue);\n-        } else {\n-            attribute.setAttributeValues(\n-                    Collections.singletonList(textAttributeValue));\n+        if (!attribute.getSchema().isMultivalue()) {\n+            attribute.getAttributeValues().clear();\n         }\n+        attribute.addAttributeValue(textAttributeValue);\n     }\n }"}]}
{"sha":"496a02a51547f2ba4a48d54bee7a8a4de48df076","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjQ5NmEwMmE1MTU0N2YyYmE0YTQ4ZDU0YmVlN2E4YTRkZTQ4ZGYwNzY=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2015-05-04T15:57:09Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2015-05-04T15:57:09Z"},"message":"[SYNCOPE-664] Merge from 1_2_X","tree":{"sha":"1522e8a8ce943891bf9972481593c2439c81361e","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/1522e8a8ce943891bf9972481593c2439c81361e"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/496a02a51547f2ba4a48d54bee7a8a4de48df076","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/496a02a51547f2ba4a48d54bee7a8a4de48df076","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/496a02a51547f2ba4a48d54bee7a8a4de48df076","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/496a02a51547f2ba4a48d54bee7a8a4de48df076/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"c910a7a66370164e86524b3e470626865ad4ee68","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c910a7a66370164e86524b3e470626865ad4ee68","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c910a7a66370164e86524b3e470626865ad4ee68"},{"sha":"b81cea711945ea7e5133371d9f06c42c398650b2","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b81cea711945ea7e5133371d9f06c42c398650b2","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/b81cea711945ea7e5133371d9f06c42c398650b2"}],"stats":{"total":17,"additions":14,"deletions":3},"files":[{"sha":"c6a3bd702d98da07a3ec865632c9d03b9b2f462e","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/entity/AbstractPlainAttrValue.java","status":"modified","additions":11,"deletions":2,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/496a02a51547f2ba4a48d54bee7a8a4de48df076/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FAbstractPlainAttrValue.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/496a02a51547f2ba4a48d54bee7a8a4de48df076/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FAbstractPlainAttrValue.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FAbstractPlainAttrValue.java?ref=496a02a51547f2ba4a48d54bee7a8a4de48df076","patch":"@@ -28,6 +28,7 @@\n import javax.validation.constraints.Min;\n import org.apache.commons.codec.binary.Base64;\n import org.apache.commons.lang3.ArrayUtils;\n+import org.apache.commons.lang3.StringUtils;\n import org.apache.commons.lang3.builder.ReflectionToStringBuilder;\n import org.apache.commons.lang3.builder.ToStringStyle;\n import org.apache.syncope.common.lib.types.AttrSchemaType;\n@@ -112,7 +113,15 @@ public void setLongValue(final Long longValue) {\n \n     @Override\n     public String getStringValue() {\n-        return stringValue;\n+        // workaround for Oracle DB considering empty string values as NULL (SYNCOPE-664)\n+        return dateValue == null\n+                && booleanValue == null\n+                && longValue == null\n+                && doubleValue == null\n+                && binaryValue == null\n+                && stringValue == null\n+                        ? StringUtils.EMPTY\n+                        : stringValue;\n     }\n \n     @Override\n@@ -208,7 +217,7 @@ public <T> T getValue() {\n                                         ? getLongValue()\n                                         : binaryValue != null\n                                                 ? getBinaryValue()\n-                                                : stringValue);\n+                                                : getStringValue());\n     }\n \n     @Override"},{"sha":"7436f45875b482d92bbb6a23c0c3de01ab8d55d0","filename":"core/persistence-jpa/src/test/resources/content.xml","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/496a02a51547f2ba4a48d54bee7a8a4de48df076/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/496a02a51547f2ba4a48d54bee7a8a4de48df076/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fcontent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fcontent.xml?ref=496a02a51547f2ba4a48d54bee7a8a4de48df076","patch":"@@ -33,7 +33,9 @@ under the License.\n   + provided as non-empty string: NotificationJob runs according to the given value -->\n   <CPlainSchema name=\"notificationjob.cronExpression\" type=\"String\"\n                 mandatoryCondition=\"false\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n-\n+  <CPlainAttr id=\"2\" owner_id=\"1\" schema_name=\"notificationjob.cronExpression\"/>\n+  <CPlainAttrValue id=\"2\" attribute_id=\"2\" stringValue=\"\"/>\n+  \n   <CPlainSchema name=\"notification.maxRetries\" type=\"Long\"\n                 mandatoryCondition=\"true\" multivalue=\"0\" uniqueConstraint=\"0\" readonly=\"0\"/>\n   <CPlainAttr id=\"3\" owner_id=\"1\" schema_name=\"notification.maxRetries\"/>"}]}
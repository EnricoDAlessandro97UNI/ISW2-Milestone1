{"sha":"6690009218b47e53063a6e4c8bde1af090eda717","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjY2OTAwMDkyMThiNDdlNTMwNjNhNmU0YzhiZGUxYWYwOTBlZGE3MTc=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2019-11-11T07:28:06Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2019-11-11T07:28:06Z"},"message":"Fixing (one more time) @ConditionalOnMissingBean used in regular @Configuration class","tree":{"sha":"80cf0ba63631747c6d11f5380ef14e0813f030bd","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/80cf0ba63631747c6d11f5380ef14e0813f030bd"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/6690009218b47e53063a6e4c8bde1af090eda717","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/6690009218b47e53063a6e4c8bde1af090eda717","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/6690009218b47e53063a6e4c8bde1af090eda717","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/6690009218b47e53063a6e4c8bde1af090eda717/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"63cf6dcfb68113b0330086832829ee4483d17aa5","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/63cf6dcfb68113b0330086832829ee4483d17aa5","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/63cf6dcfb68113b0330086832829ee4483d17aa5"}],"stats":{"total":177,"additions":76,"deletions":101},"files":[{"sha":"9d7c2343ba17f2037938029a70d7551a42daff88","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/SyncopeConsoleApplication.java","status":"modified","additions":76,"deletions":0,"changes":76,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/6690009218b47e53063a6e4c8bde1af090eda717/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeConsoleApplication.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/6690009218b47e53063a6e4c8bde1af090eda717/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeConsoleApplication.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeConsoleApplication.java?ref=6690009218b47e53063a6e4c8bde1af090eda717","patch":"@@ -19,12 +19,30 @@\n package org.apache.syncope.client.console;\n \n import com.giffing.wicket.spring.boot.starter.web.config.WicketWebInitializerAutoConfig.WebSocketWicketWebInitializerAutoConfiguration;\n+import org.apache.syncope.client.console.commons.AnyDirectoryPanelAditionalActionLinksProvider;\n+import org.apache.syncope.client.console.commons.AnyWizardBuilderAdditionalSteps;\n+import org.apache.syncope.client.console.commons.ExternalResourceProvider;\n+import org.apache.syncope.client.console.commons.IdRepoAnyDirectoryPanelAditionalActionLinksProvider;\n+import org.apache.syncope.client.console.commons.IdRepoAnyWizardBuilderAdditionalSteps;\n+import org.apache.syncope.client.console.commons.IdRepoExternalResourceProvider;\n+import org.apache.syncope.client.console.commons.IdRepoImplementationInfoProvider;\n+import org.apache.syncope.client.console.commons.IdRepoPolicyTabProvider;\n+import org.apache.syncope.client.console.commons.IdRepoStatusProvider;\n+import org.apache.syncope.client.console.commons.IdRepoVirSchemaDetailsPanelProvider;\n+import org.apache.syncope.client.console.commons.ImplementationInfoProvider;\n+import org.apache.syncope.client.console.commons.PolicyTabProvider;\n+import org.apache.syncope.client.console.commons.StatusProvider;\n+import org.apache.syncope.client.console.commons.VirSchemaDetailsPanelProvider;\n+import org.apache.syncope.client.console.init.ClassPathScanImplementationLookup;\n+import org.apache.syncope.client.console.init.MIMETypesLoader;\n import org.springframework.boot.SpringApplication;\n import org.springframework.boot.autoconfigure.SpringBootApplication;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\n import org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration;\n import org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration;\n import org.springframework.boot.builder.SpringApplicationBuilder;\n import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n+import org.springframework.context.annotation.Bean;\n \n @SpringBootApplication(exclude = {\n     ErrorMvcAutoConfiguration.class,\n@@ -40,4 +58,62 @@ protected SpringApplicationBuilder configure(final SpringApplicationBuilder buil\n         builder.properties(WebSocketWicketWebInitializerAutoConfiguration.REGISTER_SERVER_ENDPOINT_ENABLED + \"=false\");\n         return super.configure(builder);\n     }\n+\n+    @ConditionalOnMissingBean(name = \"classPathScanImplementationLookup\")\n+    @Bean\n+    public ClassPathScanImplementationLookup classPathScanImplementationLookup() {\n+        ClassPathScanImplementationLookup lookup = new ClassPathScanImplementationLookup();\n+        lookup.load();\n+        return lookup;\n+    }\n+\n+    @ConditionalOnMissingBean(name = \"mimeTypesLoader\")\n+    @Bean\n+    public MIMETypesLoader mimeTypesLoader() {\n+        MIMETypesLoader mimeTypesLoader = new MIMETypesLoader();\n+        mimeTypesLoader.load();\n+        return mimeTypesLoader;\n+    }\n+\n+    @ConditionalOnMissingBean(name = \"resourceProvider\")\n+    @Bean\n+    public ExternalResourceProvider resourceProvider() {\n+        return new IdRepoExternalResourceProvider();\n+    }\n+\n+    @ConditionalOnMissingBean(name = \"anyWizardBuilderAdditionalSteps\")\n+    @Bean\n+    public AnyWizardBuilderAdditionalSteps anyWizardBuilderAdditionalSteps() {\n+        return new IdRepoAnyWizardBuilderAdditionalSteps();\n+    }\n+\n+    @ConditionalOnMissingBean(name = \"statusProvider\")\n+    @Bean\n+    public StatusProvider statusProvider() {\n+        return new IdRepoStatusProvider();\n+    }\n+\n+    @ConditionalOnMissingBean(name = \"virSchemaDetailsPanelProvider\")\n+    @Bean\n+    public VirSchemaDetailsPanelProvider virSchemaDetailsPanelProvider() {\n+        return new IdRepoVirSchemaDetailsPanelProvider();\n+    }\n+\n+    @ConditionalOnMissingBean(name = \"anyDirectoryPanelAditionalActionLinksProvider\")\n+    @Bean\n+    public AnyDirectoryPanelAditionalActionLinksProvider anyDirectoryPanelAditionalActionLinksProvider() {\n+        return new IdRepoAnyDirectoryPanelAditionalActionLinksProvider();\n+    }\n+\n+    @ConditionalOnMissingBean(name = \"implementationInfoProvider\")\n+    @Bean\n+    public ImplementationInfoProvider implementationInfoProvider() {\n+        return new IdRepoImplementationInfoProvider();\n+    }\n+\n+    @ConditionalOnMissingBean(name = \"policyTabProvider\")\n+    @Bean\n+    public PolicyTabProvider policyTabProvider() {\n+        return new IdRepoPolicyTabProvider();\n+    }\n }"},{"sha":"b38185a18a0ab8f39e9c5d752bc05a77ff56bc6a","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/SyncopeIdRepoConsoleContext.java","status":"removed","additions":0,"deletions":101,"changes":101,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/63cf6dcfb68113b0330086832829ee4483d17aa5/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeIdRepoConsoleContext.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/63cf6dcfb68113b0330086832829ee4483d17aa5/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeIdRepoConsoleContext.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeIdRepoConsoleContext.java?ref=63cf6dcfb68113b0330086832829ee4483d17aa5","patch":"@@ -1,101 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.client.console;\n-\n-import org.apache.syncope.client.console.commons.AnyDirectoryPanelAditionalActionLinksProvider;\n-import org.apache.syncope.client.console.commons.AnyWizardBuilderAdditionalSteps;\n-import org.apache.syncope.client.console.commons.ExternalResourceProvider;\n-import org.apache.syncope.client.console.commons.IdRepoAnyDirectoryPanelAditionalActionLinksProvider;\n-import org.apache.syncope.client.console.commons.IdRepoAnyWizardBuilderAdditionalSteps;\n-import org.apache.syncope.client.console.commons.IdRepoExternalResourceProvider;\n-import org.apache.syncope.client.console.commons.IdRepoImplementationInfoProvider;\n-import org.apache.syncope.client.console.commons.IdRepoPolicyTabProvider;\n-import org.apache.syncope.client.console.commons.IdRepoStatusProvider;\n-import org.apache.syncope.client.console.commons.IdRepoVirSchemaDetailsPanelProvider;\n-import org.apache.syncope.client.console.commons.ImplementationInfoProvider;\n-import org.apache.syncope.client.console.commons.PolicyTabProvider;\n-import org.apache.syncope.client.console.commons.StatusProvider;\n-import org.apache.syncope.client.console.commons.VirSchemaDetailsPanelProvider;\n-import org.apache.syncope.client.console.init.ClassPathScanImplementationLookup;\n-import org.apache.syncope.client.console.init.MIMETypesLoader;\n-import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\n-import org.springframework.context.annotation.Bean;\n-import org.springframework.context.annotation.Configuration;\n-\n-@Configuration\n-public class SyncopeIdRepoConsoleContext {\n-\n-    @ConditionalOnMissingBean(name = \"classPathScanImplementationLookup\")\n-    @Bean\n-    public ClassPathScanImplementationLookup classPathScanImplementationLookup() {\n-        ClassPathScanImplementationLookup lookup = new ClassPathScanImplementationLookup();\n-        lookup.load();\n-        return lookup;\n-    }\n-\n-    @ConditionalOnMissingBean(name = \"mimeTypesLoader\")\n-    @Bean\n-    public MIMETypesLoader mimeTypesLoader() {\n-        MIMETypesLoader mimeTypesLoader = new MIMETypesLoader();\n-        mimeTypesLoader.load();\n-        return mimeTypesLoader;\n-    }\n-\n-    @ConditionalOnMissingBean(name = \"resourceProvider\")\n-    @Bean\n-    public ExternalResourceProvider resourceProvider() {\n-        return new IdRepoExternalResourceProvider();\n-    }\n-\n-    @ConditionalOnMissingBean(name = \"anyWizardBuilderAdditionalSteps\")\n-    @Bean\n-    public AnyWizardBuilderAdditionalSteps anyWizardBuilderAdditionalSteps() {\n-        return new IdRepoAnyWizardBuilderAdditionalSteps();\n-    }\n-\n-    @ConditionalOnMissingBean(name = \"statusProvider\")\n-    @Bean\n-    public StatusProvider statusProvider() {\n-        return new IdRepoStatusProvider();\n-    }\n-\n-    @ConditionalOnMissingBean(name = \"virSchemaDetailsPanelProvider\")\n-    @Bean\n-    public VirSchemaDetailsPanelProvider virSchemaDetailsPanelProvider() {\n-        return new IdRepoVirSchemaDetailsPanelProvider();\n-    }\n-\n-    @ConditionalOnMissingBean(name = \"anyDirectoryPanelAditionalActionLinksProvider\")\n-    @Bean\n-    public AnyDirectoryPanelAditionalActionLinksProvider anyDirectoryPanelAditionalActionLinksProvider() {\n-        return new IdRepoAnyDirectoryPanelAditionalActionLinksProvider();\n-    }\n-\n-    @ConditionalOnMissingBean(name = \"implementationInfoProvider\")\n-    @Bean\n-    public ImplementationInfoProvider implementationInfoProvider() {\n-        return new IdRepoImplementationInfoProvider();\n-    }\n-\n-    @ConditionalOnMissingBean(name = \"policyTabProvider\")\n-    @Bean\n-    public PolicyTabProvider policyTabProvider() {\n-        return new IdRepoPolicyTabProvider();\n-    }\n-}"}]}
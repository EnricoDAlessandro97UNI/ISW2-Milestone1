{"sha":"12bbc5ffb755589d2bf11ac9ffd174b56d712a3b","node_id":"C_kwDOJfYA1toAKDEyYmJjNWZmYjc1NTU4OWQyYmYxMWFjOWZmZDE3NGI1NmQ3MTJhM2I","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2022-11-29T15:43:49Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2022-11-29T15:43:49Z"},"message":"[SYNCOPE-1709] Ensure to clean up JobStatus after non-standard Push / Pull JobDelegate classes","tree":{"sha":"f9146ab7f9a432c9e1d6e102a3e55a5e80c1bf78","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/f9146ab7f9a432c9e1d6e102a3e55a5e80c1bf78"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/12bbc5ffb755589d2bf11ac9ffd174b56d712a3b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/12bbc5ffb755589d2bf11ac9ffd174b56d712a3b","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/12bbc5ffb755589d2bf11ac9ffd174b56d712a3b","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/12bbc5ffb755589d2bf11ac9ffd174b56d712a3b/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"f9e4c8da6ba71d316b780dec9a285deaffc85b5e","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f9e4c8da6ba71d316b780dec9a285deaffc85b5e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f9e4c8da6ba71d316b780dec9a285deaffc85b5e"}],"stats":{"total":11,"additions":11,"deletions":0},"files":[{"sha":"c1d851c24072dd80fd9a75ea9a2b9311e9a68e2e","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/SinglePullJobDelegate.java","status":"modified","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/12bbc5ffb755589d2bf11ac9ffd174b56d712a3b/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FSinglePullJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/12bbc5ffb755589d2bf11ac9ffd174b56d712a3b/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FSinglePullJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FSinglePullJobDelegate.java?ref=12bbc5ffb755589d2bf11ac9ffd174b56d712a3b","patch":"@@ -89,6 +89,7 @@ public List<ProvisioningReport> pull(\n             task.setSyncStatus(pullTaskTO.isSyncStatus());\n             task.setDestinationRealm(realmDAO.findByFullPath(pullTaskTO.getDestinationRealm()));\n             task.setRemediation(pullTaskTO.isRemediation());\n+\n             // validate JEXL expressions from templates and proceed if fine\n             TemplateUtils.check(pullTaskTO.getTemplates(), ClientExceptionType.InvalidPullTask);\n             pullTaskTO.getTemplates().forEach((type, template) -> {\n@@ -169,6 +170,8 @@ public List<ProvisioningReport> pull(\n             throw e instanceof JobExecutionException\n                     ? (JobExecutionException) e\n                     : new JobExecutionException(\"While pulling from connector\", e);\n+        } finally {\n+            setStatus(null);\n         }\n     }\n }"},{"sha":"fae0fd7aec9bbb1e9ab30fb0caf722449be02dd1","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/SinglePushJobDelegate.java","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/12bbc5ffb755589d2bf11ac9ffd174b56d712a3b/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FSinglePushJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/12bbc5ffb755589d2bf11ac9ffd174b56d712a3b/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FSinglePushJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FSinglePushJobDelegate.java?ref=12bbc5ffb755589d2bf11ac9ffd174b56d712a3b","patch":"@@ -121,6 +121,8 @@ public List<ProvisioningReport> push(\n             throw e instanceof JobExecutionException\n                     ? (JobExecutionException) e\n                     : new JobExecutionException(\"While pushing to connector\", e);\n+        } finally {\n+            setStatus(null);\n         }\n     }\n \n@@ -150,6 +152,8 @@ public ProvisioningReport push(\n             throw e instanceof JobExecutionException\n                     ? (JobExecutionException) e\n                     : new JobExecutionException(\"While pushing to connector\", e);\n+        } finally {\n+            setStatus(null);\n         }\n     }\n }"},{"sha":"f6deeda2e9336bc85c21d32a9da94542bdfeba20","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/stream/StreamPullJobDelegate.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/12bbc5ffb755589d2bf11ac9ffd174b56d712a3b/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2Fstream%2FStreamPullJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/12bbc5ffb755589d2bf11ac9ffd174b56d712a3b/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2Fstream%2FStreamPullJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2Fstream%2FStreamPullJobDelegate.java?ref=12bbc5ffb755589d2bf11ac9ffd174b56d712a3b","patch":"@@ -240,6 +240,8 @@ public List<ProvisioningReport> pull(\n             throw e instanceof JobExecutionException\n                     ? (JobExecutionException) e\n                     : new JobExecutionException(\"While stream pulling\", e);\n+        } finally {\n+            setStatus(null);\n         }\n     }\n }"},{"sha":"65fa3f8b78584756d7d20a48375ce6107e88bd69","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/stream/StreamPushJobDelegate.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/12bbc5ffb755589d2bf11ac9ffd174b56d712a3b/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2Fstream%2FStreamPushJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/12bbc5ffb755589d2bf11ac9ffd174b56d712a3b/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2Fstream%2FStreamPushJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2Fstream%2FStreamPushJobDelegate.java?ref=12bbc5ffb755589d2bf11ac9ffd174b56d712a3b","patch":"@@ -179,6 +179,8 @@ public List<ProvisioningReport> push(\n             throw e instanceof JobExecutionException\n                     ? (JobExecutionException) e\n                     : new JobExecutionException(\"While stream pushing\", e);\n+        } finally {\n+            setStatus(null);\n         }\n     }\n }"}]}
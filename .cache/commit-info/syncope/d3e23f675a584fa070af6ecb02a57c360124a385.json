{"sha":"d3e23f675a584fa070af6ecb02a57c360124a385","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmQzZTIzZjY3NWE1ODRmYTA3MGFmNmVjYjAyYTU3YzM2MDEyNGEzODU=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2017-06-05T14:15:34Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2017-06-05T14:15:42Z"},"message":"Simplifying test logic","tree":{"sha":"38754211a9ea05e724c99e94cf6fbacca78d56ae","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/38754211a9ea05e724c99e94cf6fbacca78d56ae"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/d3e23f675a584fa070af6ecb02a57c360124a385","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d3e23f675a584fa070af6ecb02a57c360124a385","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d3e23f675a584fa070af6ecb02a57c360124a385","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d3e23f675a584fa070af6ecb02a57c360124a385/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"75af3699164def37fb03653b234d275124c5cfbd","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/75af3699164def37fb03653b234d275124c5cfbd","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/75af3699164def37fb03653b234d275124c5cfbd"}],"stats":{"total":15,"additions":9,"deletions":6},"files":[{"sha":"0434619f1abc2a8b0e435f6f1763a0fb8b26652f","filename":"core/provisioning-java/src/test/java/org/apache/syncope/core/provisioning/java/ConnectorManagerTest.java","status":"modified","additions":9,"deletions":6,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d3e23f675a584fa070af6ecb02a57c360124a385/core%2Fprovisioning-java%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FConnectorManagerTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d3e23f675a584fa070af6ecb02a57c360124a385/core%2Fprovisioning-java%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FConnectorManagerTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FConnectorManagerTest.java?ref=d3e23f675a584fa070af6ecb02a57c360124a385","patch":"@@ -20,6 +20,8 @@\n \n import static org.junit.Assert.assertEquals;\n \n+import org.apache.commons.collections4.IterableUtils;\n+import org.apache.commons.collections4.Predicate;\n import org.apache.syncope.core.persistence.api.dao.ExternalResourceDAO;\n import org.apache.syncope.core.persistence.api.entity.resource.ExternalResource;\n import org.apache.syncope.core.provisioning.api.ConnIdBundleManager;\n@@ -57,15 +59,16 @@ public void load() {\n         connManager.load();\n \n         // only consider local connector bundles\n-        int expected = 0;\n-        for (ExternalResource resource : resourceDAO.findAll()) {\n-            if (resource.getConnector().getLocation().startsWith(\"file\")) {\n-                expected++;\n+        long expected = IterableUtils.countMatches(resourceDAO.findAll(), new Predicate<ExternalResource>() {\n+\n+            @Override\n+            public boolean evaluate(final ExternalResource resource) {\n+                return resource.getConnector().getLocation().startsWith(\"file\");\n             }\n-        }\n+        });\n \n         assertEquals(expected,\n                 ApplicationContextProvider.getBeanFactory().\n-                getBeanNamesForType(Connector.class, false, true).length);\n+                        getBeanNamesForType(Connector.class, false, true).length);\n     }\n }"}]}
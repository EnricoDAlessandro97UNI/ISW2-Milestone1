{"sha":"1a1f7081b571c371167e6854d4cdc2a6fd644a07","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjFhMWY3MDgxYjU3MWMzNzExNjdlNjg1NGQ0Y2RjMmE2ZmQ2NDRhMDc=","commit":{"author":{"name":"fmartelli","email":"fabio.martelli@gmail.com","date":"2017-03-10T11:29:32Z"},"committer":{"name":"fmartelli","email":"fabio.martelli@gmail.com","date":"2017-03-10T11:30:00Z"},"message":"[SYNCOPE-991] move change password feature with granularity to resources outside user editing","tree":{"sha":"43e5f693c15bd0fcbf83ac7cdc13393c3fa7e1f5","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/43e5f693c15bd0fcbf83ac7cdc13393c3fa7e1f5"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/1a1f7081b571c371167e6854d4cdc2a6fd644a07","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1a1f7081b571c371167e6854d4cdc2a6fd644a07","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/1a1f7081b571c371167e6854d4cdc2a6fd644a07","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1a1f7081b571c371167e6854d4cdc2a6fd644a07/comments","author":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"committer":{"login":"fmartelli","id":1791932,"node_id":"MDQ6VXNlcjE3OTE5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1791932?v=4","gravatar_id":"","url":"https://api.github.com/users/fmartelli","html_url":"https://github.com/fmartelli","followers_url":"https://api.github.com/users/fmartelli/followers","following_url":"https://api.github.com/users/fmartelli/following{/other_user}","gists_url":"https://api.github.com/users/fmartelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmartelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmartelli/subscriptions","organizations_url":"https://api.github.com/users/fmartelli/orgs","repos_url":"https://api.github.com/users/fmartelli/repos","events_url":"https://api.github.com/users/fmartelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmartelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"bf0289f143d23c2f19a64765eefbddb85ac44655","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bf0289f143d23c2f19a64765eefbddb85ac44655","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/bf0289f143d23c2f19a64765eefbddb85ac44655"}],"stats":{"total":462,"additions":367,"deletions":95},"files":[{"sha":"80c958f58620cac8a8b428fec6b10e455b3d8224","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/UserDirectoryPanel.java","status":"modified","additions":23,"deletions":1,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -31,6 +31,7 @@\n import org.apache.syncope.client.console.pages.BasePage;\n import org.apache.syncope.client.console.rest.UserRestClient;\n import org.apache.syncope.client.console.status.AnyStatusModal;\n+import org.apache.syncope.client.console.status.ChangePasswordModal;\n import org.apache.syncope.client.console.tasks.AnyPropagationTasks;\n import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.ActionColumn;\n import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.AttrColumn;\n@@ -274,7 +275,28 @@ public void onClick(final AjaxRequestTarget target, final UserTO ignore) {\n                             utilityModal.show(true);\n                             target.add(utilityModal);\n                         }\n-                    }, ActionType.NOTIFICATION_TASKS, StandardEntitlement.TASK_LIST);\n+                    }, ActionType.NOTIFICATION_TASKS, StandardEntitlement.TASK_LIST).add(new ActionLink<UserTO>() {\n+\n+                        private static final long serialVersionUID = -4875218360625971340L;\n+\n+                        @Override\n+                        public void onClick(final AjaxRequestTarget target, final UserTO ignore) {\n+                            IModel<AnyWrapper<UserTO>> formModel = new CompoundPropertyModel<>(\n+                                    new AnyWrapper<>(model.getObject()));\n+                            displayAttributeModal.setFormModel(formModel);\n+\n+                            target.add(displayAttributeModal.setContent(new ChangePasswordModal(\n+                                    displayAttributeModal,\n+                                    pageRef,\n+                                    new UserWrapper(model.getObject()))));\n+\n+                            displayAttributeModal.header(new Model<>(\n+                                    getString(\"any.edit\", new Model<>(new AnyWrapper<>(model.getObject())))));\n+\n+                            displayAttributeModal.show(true);\n+                        }\n+                    }, ActionType.PASSWORD_RESET,\n+                            new StringBuilder().append(StandardEntitlement.USER_UPDATE).toString());\n                 }\n \n                 return panel.build(componentId, model.getObject());"},{"sha":"b94a284878ccca6753ee2480e163a7eb992e50a5","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/search/SearchClausePanel.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2Fsearch%2FSearchClausePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2Fsearch%2FSearchClausePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2Fsearch%2FSearchClausePanel.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -429,6 +429,7 @@ public CharSequence getPrecondition(final Component component) {\n         final AjaxDropDownChoicePanel<SearchClause.Type> type = new AjaxDropDownChoicePanel<>(\n                 \"type\", \"type\", new PropertyModel<SearchClause.Type>(searchClause, \"type\"));\n         type.setChoices(types).hideLabel().setRequired(required).setOutputMarkupId(true);\n+        type.setNullValid(false);\n         type.getField().add(new IndicatorAjaxFormComponentUpdatingBehavior(Constants.ON_CHANGE) {\n \n             private static final long serialVersionUID = -1107858522700306810L;"},{"sha":"3cbcfdccead25bb809745f7059a68dbf94c1c8be","filename":"client/console/src/main/java/org/apache/syncope/client/console/status/AnyStatusDirectoryPanel.java","status":"modified","additions":39,"deletions":1,"changes":40,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FAnyStatusDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FAnyStatusDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FAnyStatusDirectoryPanel.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -30,21 +30,25 @@\n import org.apache.syncope.client.console.commons.status.StatusUtils;\n import org.apache.syncope.client.console.panels.DirectoryPanel;\n import org.apache.syncope.client.console.panels.AjaxDataTablePanel;\n+import org.apache.syncope.client.console.panels.ConnObjectDetails;\n import org.apache.syncope.client.console.panels.ModalPanel;\n import org.apache.syncope.client.console.panels.MultilevelPanel;\n import org.apache.syncope.client.console.rest.AbstractAnyRestClient;\n import org.apache.syncope.client.console.rest.AnyObjectRestClient;\n import org.apache.syncope.client.console.rest.GroupRestClient;\n import org.apache.syncope.client.console.rest.ResourceRestClient;\n import org.apache.syncope.client.console.rest.UserRestClient;\n-import org.apache.syncope.client.console.status.AnyStatusDirectoryPanel.AttributableStatusProvider;\n+import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.ActionColumn;\n import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n+import org.apache.syncope.client.console.wicket.markup.html.form.ActionLinksPanel;\n import org.apache.syncope.common.lib.to.AnyTO;\n import org.apache.syncope.common.lib.to.ResourceTO;\n import org.apache.syncope.common.lib.to.GroupTO;\n import org.apache.syncope.common.lib.to.UserTO;\n+import org.apache.syncope.common.lib.types.StandardEntitlement;\n import org.apache.wicket.PageReference;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n import org.apache.wicket.extensions.markup.html.repeater.data.table.AbstractColumn;\n import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n@@ -53,6 +57,7 @@\n import org.apache.wicket.markup.html.basic.Label;\n import org.apache.wicket.markup.repeater.Item;\n import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.ResourceModel;\n import org.apache.wicket.model.StringResourceModel;\n \n public class AnyStatusDirectoryPanel\n@@ -69,6 +74,8 @@\n \n     private final boolean statusOnly;\n \n+    private final ResourceRestClient resourceRestClient = new ResourceRestClient();\n+\n     public AnyStatusDirectoryPanel(\n             final BaseModal<?> baseModal,\n             final MultilevelPanel multiLevelPanelRef,\n@@ -152,6 +159,37 @@ public void populateItem(\n             }\n         });\n \n+        columns.add(new ActionColumn<StatusBean, String>(new ResourceModel(\"actions\", \"\")) {\n+\n+            private static final long serialVersionUID = 3372107192677413965L;\n+\n+            @Override\n+            public ActionLinksPanel<StatusBean> getActions(\n+                    final String componentId, final IModel<StatusBean> model) {\n+\n+                final ActionLinksPanel.Builder<StatusBean> panel = ActionLinksPanel.builder();\n+\n+                panel.add(new ActionLink<StatusBean>() {\n+\n+                    private static final long serialVersionUID = -7978723352517770645L;\n+\n+                    @Override\n+                    protected boolean statusCondition(final StatusBean bean) {\n+                        return bean.getConnObjectLink() != null;\n+                    }\n+\n+                    @Override\n+                    public void onClick(final AjaxRequestTarget target, final StatusBean bean) {\n+                        multiLevelPanelRef.next(bean.getResourceName(),\n+                                new ConnObjectDetails(resourceRestClient.readConnObject(\n+                                        bean.getResourceName(), anyTO.getType(), anyTO.getKey())), target);\n+                        target.add(multiLevelPanelRef);\n+                    }\n+                }, ActionLink.ActionType.VIEW, StandardEntitlement.RESOURCE_GET_CONNOBJECT);\n+\n+                return panel.build(componentId, model.getObject());\n+            }\n+        });\n         return columns;\n     }\n "},{"sha":"dff996f7396ca2e9cd6e30d156e38a4f80225789","filename":"client/console/src/main/java/org/apache/syncope/client/console/status/ChangePasswordModal.java","status":"added","additions":110,"deletions":0,"changes":110,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FChangePasswordModal.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FChangePasswordModal.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FChangePasswordModal.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -0,0 +1,110 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.console.status;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.syncope.client.console.SyncopeConsoleSession;\n+import org.apache.syncope.client.console.commons.Constants;\n+import org.apache.syncope.client.console.commons.status.StatusBean;\n+import org.apache.syncope.client.console.panels.AbstractModalPanel;\n+import org.apache.syncope.client.console.panels.ListViewPanel;\n+import org.apache.syncope.client.console.rest.UserRestClient;\n+import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n+import org.apache.syncope.client.console.wizards.any.AnyWrapper;\n+import org.apache.syncope.client.console.wizards.any.PasswordPanel;\n+import org.apache.syncope.client.console.wizards.any.StatusPanel;\n+import org.apache.syncope.client.console.wizards.any.UserWrapper;\n+import org.apache.syncope.common.lib.patch.PasswordPatch;\n+import org.apache.syncope.common.lib.patch.UserPatch;\n+import org.apache.syncope.common.lib.to.UserTO;\n+import org.apache.wicket.PageReference;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.util.ListModel;\n+\n+public class ChangePasswordModal extends AbstractModalPanel<AnyWrapper<UserTO>> {\n+\n+    private static final long serialVersionUID = 6257389301592059194L;\n+\n+    private final UserRestClient userRestClient = new UserRestClient();\n+\n+    private final IModel<List<StatusBean>> statusModel;\n+\n+    private final UserWrapper wrapper;\n+\n+    public ChangePasswordModal(\n+            final BaseModal<AnyWrapper<UserTO>> baseModal,\n+            final PageReference pageReference,\n+            final UserWrapper wrapper) {\n+        super(baseModal, pageReference);\n+\n+        this.wrapper = wrapper;\n+\n+        final PasswordPanel passwordPanel = new PasswordPanel(\"passwordPanel\", wrapper, false);\n+        passwordPanel.setOutputMarkupId(true);\n+        add(passwordPanel);\n+\n+        statusModel = new ListModel<>(new ArrayList<StatusBean>());\n+        StatusPanel statusPanel = new StatusPanel(\"status\", wrapper.getInnerObject(), statusModel, pageReference);\n+        statusPanel.setCheckAvailability(ListViewPanel.CheckAvailability.AVAILABLE);\n+        add(statusPanel.setRenderBodyOnly(true));\n+    }\n+\n+    @Override\n+    public void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+        final UserTO inner = wrapper.getInnerObject();\n+\n+        try {\n+            if (StringUtils.isBlank(inner.getPassword()) || statusModel.getObject().isEmpty()) {\n+                SyncopeConsoleSession.get().error(getString(Constants.OPERATION_ERROR));\n+            } else {\n+                final List<String> resources = new ArrayList<String>();\n+                boolean isOnSyncope = false;\n+                for (StatusBean sb : statusModel.getObject()) {\n+                    if (sb.getResourceName().equals(Constants.SYNCOPE)) {\n+                        isOnSyncope = true;\n+                    } else {\n+                        resources.add(sb.getResourceName());\n+                    }\n+                }\n+\n+                final UserPatch patch = new UserPatch();\n+                patch.setKey(inner.getKey());\n+\n+                PasswordPatch passwordPatch = new PasswordPatch.Builder().\n+                        value(inner.getPassword()).onSyncope(isOnSyncope).resources(resources).build();\n+                patch.setPassword(passwordPatch);\n+\n+                userRestClient.update(inner.getETagValue(), patch);\n+                SyncopeConsoleSession.get().info(getString(Constants.OPERATION_SUCCEEDED));\n+                modal.show(false);\n+                modal.close(target);\n+            }\n+        } catch (Exception e) {\n+            LOG.error(\"While updating password for user {}\", inner, e);\n+            SyncopeConsoleSession.get().error(StringUtils.isBlank(e.getMessage())\n+                    ? e.getClass().getName()\n+                    : e.getMessage());\n+        }\n+        super.onSubmit(target, form);\n+    }\n+}"},{"sha":"105991991568e838fb731deb61bba5e42ac99d44","filename":"client/console/src/main/java/org/apache/syncope/client/console/status/StatusModal.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FStatusModal.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FStatusModal.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FStatusModal.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -45,6 +45,7 @@ public StatusModal(\n         super(BaseModal.CONTENT_ID);\n \n         final MultilevelPanel mlp = new MultilevelPanel(\"status\");\n+        mlp.setOutputMarkupId(true);\n         this.directoryPanel = getStatusDirectoryPanel(\n                 mlp, baseModal, pageReference, entity, itemKeyFieldName, statusOnly);\n         add(mlp.setFirstLevel(this.directoryPanel));"},{"sha":"2fef62f7563e9d3d8cc2b0c344982c0796fff49a","filename":"client/console/src/main/java/org/apache/syncope/client/console/wicket/markup/html/form/ActionLink.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -62,6 +62,7 @@ public enum ActionType {\n         SEARCH(\"search\"),\n         DELETE(\"delete\"),\n         EXECUTE(\"execute\"),\n+        PASSWORD_RESET(\"update\"),\n         DRYRUN(\"execute\"),\n         CLAIM(\"claim\"),\n         SELECT(\"read\"),"},{"sha":"9e2bd0c5524f2996d719a341cd3266e98bc1fdf4","filename":"client/console/src/main/java/org/apache/syncope/client/console/wicket/markup/html/form/ActionLinksPanel.java","status":"modified","additions":25,"deletions":0,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -77,6 +77,7 @@ private ActionLinksPanel(final String componentId, final IModel<T> model) {\n         super.add(new Fragment(\"panelSearch\", \"emptyFragment\", this));\n         super.add(new Fragment(\"panelDelete\", \"emptyFragment\", this));\n         super.add(new Fragment(\"panelExecute\", \"emptyFragment\", this));\n+        super.add(new Fragment(\"panelPasswordReset\", \"emptyFragment\", this));\n         super.add(new Fragment(\"panelDryRun\", \"emptyFragment\", this));\n         super.add(new Fragment(\"panelSelect\", \"emptyFragment\", this));\n         super.add(new Fragment(\"panelClose\", \"emptyFragment\", this));\n@@ -596,6 +597,26 @@ public String getAjaxIndicatorMarkupId() {\n                 }.setVisible(link.isEnabled(model.getObject())));\n                 break;\n \n+            case PASSWORD_RESET:\n+                fragment = new Fragment(\"panelPasswordReset\", \"fragmentPasswordReset\", this);\n+\n+                fragment.addOrReplace(new IndicatingAjaxLink<Void>(\"passwordResetLink\") {\n+\n+                    private static final long serialVersionUID = -7978723352517770644L;\n+\n+                    @Override\n+                    public void onClick(final AjaxRequestTarget target) {\n+                        link.onClick(target, model.getObject());\n+                    }\n+\n+                    @Override\n+                    public String getAjaxIndicatorMarkupId() {\n+                        return disableIndicator || !link.isIndicatorEnabled()\n+                                ? StringUtils.EMPTY : super.getAjaxIndicatorMarkupId();\n+                    }\n+                }.setVisible(link.isEnabled(model.getObject())));\n+                break;\n+\n             case DRYRUN:\n                 fragment = new Fragment(\"panelDryRun\", \"fragmentDryRun\", this);\n \n@@ -1216,6 +1237,10 @@ public void remove(final ActionLink.ActionType type) {\n                 super.addOrReplace(new Fragment(\"panelExecute\", \"emptyFragment\", this));\n                 break;\n \n+            case PASSWORD_RESET:\n+                super.addOrReplace(new Fragment(\"panelPasswordReset\", \"emptyFragment\", this));\n+                break;\n+\n             case DRYRUN:\n                 super.addOrReplace(new Fragment(\"panelDryRun\", \"emptyFragment\", this));\n                 break;"},{"sha":"91ed3a5a3ec3576c6936304a03d21b0475ec5b57","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/AnyObjectDetails.java","status":"modified","additions":1,"deletions":5,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAnyObjectDetails.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAnyObjectDetails.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAnyObjectDetails.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -18,12 +18,9 @@\n  */\n package org.apache.syncope.client.console.wizards.any;\n \n-import java.util.List;\n-import org.apache.syncope.client.console.commons.status.StatusBean;\n import org.apache.syncope.client.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.apache.syncope.common.lib.to.AnyObjectTO;\n import org.apache.wicket.PageReference;\n-import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.PropertyModel;\n \n public class AnyObjectDetails extends Details<AnyObjectTO> {\n@@ -32,12 +29,11 @@ public class AnyObjectDetails extends Details<AnyObjectTO> {\n \n     public AnyObjectDetails(\n             final AnyWrapper<AnyObjectTO> wrapper,\n-            final IModel<List<StatusBean>> statusModel,\n             final boolean templateMode,\n             final boolean includeStatusPanel,\n             final PageReference pageRef) {\n \n-        super(wrapper, statusModel, templateMode, includeStatusPanel, pageRef);\n+        super(wrapper, templateMode, includeStatusPanel, pageRef);\n \n         AnyObjectTO anyObjectTO = wrapper.getInnerObject();\n "},{"sha":"5d925df542e0b4fe90ab5bc2e8653ec2ccf71d35","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/AnyObjectWizardBuilder.java","status":"modified","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAnyObjectWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAnyObjectWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAnyObjectWizardBuilder.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -19,9 +19,7 @@\n package org.apache.syncope.client.console.wizards.any;\n \n import java.io.Serializable;\n-import java.util.Collections;\n import java.util.List;\n-import org.apache.syncope.client.console.commons.status.StatusBean;\n import org.apache.syncope.client.console.layout.AnyObjectForm;\n import org.apache.syncope.client.console.layout.AnyObjectFormLayoutInfo;\n import org.apache.syncope.client.console.rest.AnyObjectRestClient;\n@@ -31,7 +29,6 @@\n import org.apache.syncope.common.lib.to.AnyObjectTO;\n import org.apache.syncope.common.lib.to.ProvisioningResult;\n import org.apache.wicket.PageReference;\n-import org.apache.wicket.model.util.ListModel;\n \n public class AnyObjectWizardBuilder extends AnyWizardBuilder<AnyObjectTO> implements AnyObjectForm {\n \n@@ -74,7 +71,6 @@ protected Serializable onApplyInternal(final AnyWrapper<AnyObjectTO> modelObject\n     protected Details<AnyObjectTO> addOptionalDetailsPanel(final AnyWrapper<AnyObjectTO> modelObject) {\n         return new AnyObjectDetails(\n                 modelObject,\n-                new ListModel<>(Collections.<StatusBean>emptyList()),\n                 mode == AjaxWizard.Mode.TEMPLATE,\n                 modelObject.getInnerObject().getKey() != null, pageRef);\n     }"},{"sha":"1253f206aef6a98f49466238aa6f0ce8b29c7a74","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/AnyWizardBuilder.java","status":"modified","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAnyWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAnyWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAnyWizardBuilder.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -18,9 +18,7 @@\n  */\n package org.apache.syncope.client.console.wizards.any;\n \n-import java.util.Collections;\n import java.util.List;\n-import org.apache.syncope.client.console.commons.status.StatusBean;\n import org.apache.syncope.client.console.layout.AbstractAnyFormLayout;\n import org.apache.syncope.client.console.layout.AnyForm;\n import org.apache.syncope.client.console.layout.AnyObjectFormLayoutInfo;\n@@ -33,7 +31,6 @@\n import org.apache.syncope.common.lib.to.UserTO;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.extensions.wizard.WizardModel;\n-import org.apache.wicket.model.util.ListModel;\n \n public abstract class AnyWizardBuilder<A extends AnyTO> extends AjaxWizardBuilder<AnyWrapper<A>> {\n \n@@ -163,7 +160,6 @@ protected Details<A> addOptionalDetailsPanel(final AnyWrapper<A> modelObject) {\n         if (modelObject.getInnerObject().getKey() != null) {\n             return new Details<>(\n                     modelObject,\n-                    new ListModel<>(Collections.<StatusBean>emptyList()),\n                     mode == AjaxWizard.Mode.TEMPLATE,\n                     true,\n                     pageRef);"},{"sha":"61e4884578416ec6d000322c26f188daba7c6a17","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/Details.java","status":"modified","additions":0,"deletions":12,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -19,10 +19,8 @@\n package org.apache.syncope.client.console.wizards.any;\n \n import java.util.ArrayList;\n-import java.util.List;\n import org.apache.commons.collections4.CollectionUtils;\n import org.apache.commons.collections4.Transformer;\n-import org.apache.syncope.client.console.commons.status.StatusBean;\n import org.apache.syncope.client.console.rest.RealmRestClient;\n import org.apache.syncope.client.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n import org.apache.syncope.client.console.wicket.markup.html.form.AjaxTextFieldPanel;\n@@ -31,7 +29,6 @@\n import org.apache.syncope.common.lib.to.RealmTO;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.extensions.wizard.WizardStep;\n-import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.PropertyModel;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n@@ -44,13 +41,10 @@\n \n     protected final PageReference pageRef;\n \n-    protected final StatusPanel statusPanel;\n-\n     private final FieldPanel<String> realm;\n \n     public Details(\n             final AnyWrapper<T> wrapper,\n-            final IModel<List<StatusBean>> statusModel,\n             final boolean templateMode,\n             final boolean includeStatusPanel,\n             final PageReference pageRef) {\n@@ -78,12 +72,6 @@ public String transform(final RealmTO input) {\n             }, new ArrayList<String>()));\n         }\n         add(realm);\n-\n-        statusPanel = new StatusPanel(\"status\", inner, statusModel, pageRef);\n-\n-        add(statusPanel.setEnabled(includeStatusPanel).\n-                setVisible(includeStatusPanel).setRenderBodyOnly(true));\n-\n         add(getGeneralStatusInformation(\"generalStatusInformation\", inner).\n                 setEnabled(includeStatusPanel).setVisible(includeStatusPanel).setRenderBodyOnly(true));\n     }"},{"sha":"33b7442ac99da8a31caa56e35f2077d12f0c6403","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/GroupDetails.java","status":"modified","additions":1,"deletions":5,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FGroupDetails.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FGroupDetails.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FGroupDetails.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -18,12 +18,9 @@\n  */\n package org.apache.syncope.client.console.wizards.any;\n \n-import java.util.List;\n-import org.apache.syncope.client.console.commons.status.StatusBean;\n import org.apache.syncope.client.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.apache.syncope.common.lib.to.GroupTO;\n import org.apache.wicket.PageReference;\n-import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.PropertyModel;\n \n public class GroupDetails extends Details<GroupTO> {\n@@ -32,12 +29,11 @@ public class GroupDetails extends Details<GroupTO> {\n \n     public GroupDetails(\n             final GroupWrapper wrapper,\n-            final IModel<List<StatusBean>> statusModel,\n             final boolean templateMode,\n             final boolean includeStatusPanel,\n             final PageReference pageRef) {\n \n-        super(wrapper, statusModel, templateMode, includeStatusPanel, pageRef);\n+        super(wrapper, templateMode, includeStatusPanel, pageRef);\n \n         GroupTO groupTO = GroupWrapper.class.cast(wrapper).getInnerObject();\n "},{"sha":"6c1e166cdcf78c2624bac51a01ef3a75cfa5c83d","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/GroupWizardBuilder.java","status":"modified","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FGroupWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FGroupWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FGroupWizardBuilder.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -19,9 +19,7 @@\n package org.apache.syncope.client.console.wizards.any;\n \n import java.io.Serializable;\n-import java.util.Collections;\n import java.util.List;\n-import org.apache.syncope.client.console.commons.status.StatusBean;\n import org.apache.syncope.client.console.layout.GroupForm;\n import org.apache.syncope.client.console.layout.GroupFormLayoutInfo;\n import org.apache.syncope.client.console.rest.GroupRestClient;\n@@ -32,7 +30,6 @@\n import org.apache.syncope.common.lib.to.GroupTO;\n import org.apache.syncope.common.lib.to.ProvisioningResult;\n import org.apache.wicket.PageReference;\n-import org.apache.wicket.model.util.ListModel;\n \n public class GroupWizardBuilder extends AnyWizardBuilder<GroupTO> implements GroupForm {\n \n@@ -90,7 +87,6 @@ protected Serializable onApplyInternal(final AnyWrapper<GroupTO> modelObject) {\n     protected Details<GroupTO> addOptionalDetailsPanel(final AnyWrapper<GroupTO> modelObject) {\n         return new GroupDetails(\n                 GroupWrapper.class.cast(modelObject),\n-                new ListModel<>(Collections.<StatusBean>emptyList()),\n                 mode == AjaxWizard.Mode.TEMPLATE,\n                 modelObject.getInnerObject().getKey() != null, pageRef);\n     }"},{"sha":"4ce88682c6a3ef17e1ab9233e80e7c5b2f44653e","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/StatusPanel.java","status":"modified","additions":15,"deletions":8,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FStatusPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FStatusPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FStatusPanel.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -77,7 +77,7 @@ public Pair<ConnObjectTO, ConnObjectWrapper> transform(final ConnObjectWrapper i\n                         return Pair.of(null, input);\n                     }\n \n-                }, new ArrayList<Pair<ConnObjectTO, ConnObjectWrapper>>()), pageRef);\n+                }, new ArrayList<Pair<ConnObjectTO, ConnObjectWrapper>>()), pageRef, false);\n     }\n \n     public <T extends AnyTO> StatusPanel(\n@@ -88,14 +88,15 @@ public <T extends AnyTO> StatusPanel(\n             final PageReference pageRef) {\n         super(id);\n         statusUtils = new StatusUtils();\n-        init(any, model, connObjects, pageRef);\n+        init(any, model, connObjects, pageRef, true);\n     }\n \n     private void init(\n             final AnyTO any,\n             final IModel<List<StatusBean>> model,\n             final List<Pair<ConnObjectTO, ConnObjectWrapper>> connObjects,\n-            final PageReference pageRef) {\n+            final PageReference pageRef,\n+            final boolean enableConnObjectLink) {\n \n         final List<StatusBean> statusBeans = new ArrayList<>(connObjects.size() + 1);\n         initialStatusBeanMap = new LinkedHashMap<>(connObjects.size() + 1);\n@@ -153,17 +154,17 @@ protected Component getValueComponent(final String key, final StatusBean bean) {\n         builder.setModel(model);\n         builder.setItems(statusBeans);\n         builder.includes(\"resourceName\", \"connObjectLink\", \"status\");\n-        builder.withChecks(ListViewPanel.CheckAvailability.DISABLED);\n+        builder.withChecks(ListViewPanel.CheckAvailability.NONE);\n         builder.setReuseItem(false);\n \n-        builder.addAction(new ActionLink<StatusBean>() {\n+        final ActionLink<StatusBean> connObjectLink = new ActionLink<StatusBean>() {\n \n             private static final long serialVersionUID = -3722207913631435501L;\n \n             @Override\n             protected boolean statusCondition(final StatusBean bean) {\n-                final Pair<ConnObjectTO, ConnObjectTO> pair =\n-                        getConnObjectTO(bean.getAnyKey(), bean.getResourceName(), connObjects);\n+                final Pair<ConnObjectTO, ConnObjectTO> pair\n+                        = getConnObjectTO(bean.getAnyKey(), bean.getResourceName(), connObjects);\n \n                 return pair != null && pair.getRight() != null;\n             }\n@@ -172,7 +173,13 @@ protected boolean statusCondition(final StatusBean bean) {\n             public void onClick(final AjaxRequestTarget target, final StatusBean bean) {\n                 mlp.next(bean.getResourceName(), new RemoteAnyPanel(bean, connObjects), target);\n             }\n-        }, ActionLink.ActionType.VIEW, StandardEntitlement.RESOURCE_GET_CONNOBJECT);\n+        };\n+\n+        if (!enableConnObjectLink) {\n+            connObjectLink.disable();\n+        }\n+\n+        builder.addAction(connObjectLink, ActionLink.ActionType.VIEW, StandardEntitlement.RESOURCE_GET_CONNOBJECT);\n \n         listViewPanel = ListViewPanel.class.cast(builder.build(MultilevelPanel.FIRST_LEVEL_ID));\n         mlp.setFirstLevel(listViewPanel);"},{"sha":"f3006877a65c8cdabae2a23e64a4f846bb146bf6","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/UserDetails.java","status":"modified","additions":23,"deletions":17,"changes":40,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FUserDetails.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FUserDetails.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FUserDetails.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -19,9 +19,6 @@\n package org.apache.syncope.client.console.wizards.any;\n \n import java.util.Collections;\n-import java.util.List;\n-import org.apache.syncope.client.console.commons.status.StatusBean;\n-import org.apache.syncope.client.console.panels.ListViewPanel;\n import org.apache.syncope.client.console.wicket.markup.html.bootstrap.tabs.Accordion;\n import org.apache.syncope.client.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.apache.syncope.common.lib.to.UserTO;\n@@ -32,8 +29,8 @@\n import org.apache.wicket.extensions.markup.html.tabs.AbstractTab;\n import org.apache.wicket.extensions.markup.html.tabs.ITab;\n import org.apache.wicket.markup.ComponentTag;\n+import org.apache.wicket.markup.html.basic.Label;\n import org.apache.wicket.markup.html.panel.Panel;\n-import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.Model;\n import org.apache.wicket.model.PropertyModel;\n import org.apache.wicket.model.ResourceModel;\n@@ -46,12 +43,11 @@ public class UserDetails extends Details<UserTO> {\n \n     public UserDetails(\n             final UserWrapper wrapper,\n-            final IModel<List<StatusBean>> statusModel,\n             final boolean templateMode,\n             final boolean includeStatusPanel,\n             final boolean showPasswordManagement,\n             final PageReference pageRef) {\n-        super(wrapper, statusModel, templateMode, includeStatusPanel, pageRef);\n+        super(wrapper, templateMode, includeStatusPanel, pageRef);\n \n         final UserTO userTO = wrapper.getInnerObject();\n         // ------------------------\n@@ -80,7 +76,7 @@ public UserDetails(\n \n             @Override\n             public Panel getPanel(final String panelId) {\n-                PasswordPanel panel = new PasswordPanel(panelId, wrapper, templateMode);\n+                EditUserPasswordPanel panel = new EditUserPasswordPanel(panelId, wrapper, templateMode);\n                 panel.setEnabled(model.getObject() >= 0);\n                 return panel;\n             }\n@@ -103,17 +99,8 @@ protected void onComponentTag(final ComponentTag tag) {\n                     @Override\n                     public void onClick(final AjaxRequestTarget target) {\n                         model.setObject(model.getObject() == 0 ? -1 : 0);\n-\n-                        boolean enable = model.getObject() >= 0;\n-\n-                        if (statusPanel.isVisibleInHierarchy()) {\n-                            statusPanel.setCheckAvailability(enable\n-                                    ? ListViewPanel.CheckAvailability.AVAILABLE\n-                                    : ListViewPanel.CheckAvailability.DISABLED);\n-                        }\n-\n                         Component passwordPanel = getParent().get(PASSWORD_CONTENT_PATH);\n-                        passwordPanel.setEnabled(enable);\n+                        passwordPanel.setEnabled(model.getObject() >= 0);\n                         target.add(passwordPanel);\n                     }\n                 }.setBody(new ResourceModel(\"password.change\", \"Change password ...\"));\n@@ -130,4 +117,23 @@ public void onClick(final AjaxRequestTarget target) {\n     protected AnnotatedBeanPanel getGeneralStatusInformation(final String id, final UserTO anyTO) {\n         return new UserInformationPanel(id, anyTO);\n     }\n+\n+    public static class EditUserPasswordPanel extends Panel {\n+\n+        private static final long serialVersionUID = -8198836979773590078L;\n+\n+        public EditUserPasswordPanel(\n+                final String id,\n+                final UserWrapper wrapper,\n+                final boolean templateMode) {\n+            super(id);\n+            setOutputMarkupId(true);\n+            add(new Label(\"warning\", new ResourceModel(\n+                    \"password.change.warning\",\n+                    \"Password value will be sent to all associated resources\")));\n+\n+            add(new PasswordPanel(\"passwordPanel\", wrapper, templateMode));\n+        }\n+\n+    }\n }"},{"sha":"0b2652c507eb3cc73e8d11fb31f6b7775c909cd9","filename":"client/console/src/main/java/org/apache/syncope/client/console/wizards/any/UserWizardBuilder.java","status":"modified","additions":6,"deletions":26,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FUserWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FUserWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FUserWizardBuilder.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -19,41 +19,32 @@\n package org.apache.syncope.client.console.wizards.any;\n \n import java.io.Serializable;\n-import java.util.ArrayList;\n-import java.util.HashSet;\n import java.util.List;\n-import java.util.Set;\n import org.apache.commons.lang3.StringUtils;\n-import org.apache.syncope.client.console.commons.status.StatusBean;\n-import org.apache.syncope.client.console.commons.status.StatusUtils;\n import org.apache.syncope.client.console.layout.UserForm;\n import org.apache.syncope.client.console.layout.UserFormLayoutInfo;\n import org.apache.syncope.client.console.rest.UserRestClient;\n import org.apache.syncope.client.console.wizards.AjaxWizard;\n import org.apache.syncope.common.lib.AnyOperations;\n+import org.apache.syncope.common.lib.patch.PasswordPatch;\n import org.apache.syncope.common.lib.patch.UserPatch;\n import org.apache.syncope.common.lib.to.ProvisioningResult;\n import org.apache.syncope.common.lib.to.UserTO;\n import org.apache.wicket.PageReference;\n-import org.apache.wicket.model.IModel;\n-import org.apache.wicket.model.util.ListModel;\n \n public class UserWizardBuilder extends AnyWizardBuilder<UserTO> implements UserForm {\n \n     private static final long serialVersionUID = 6716803168859873877L;\n \n     private final UserRestClient userRestClient = new UserRestClient();\n \n-    private final IModel<List<StatusBean>> statusModel;\n-\n     public UserWizardBuilder(\n             final UserTO userTO,\n             final List<String> anyTypeClasses,\n             final UserFormLayoutInfo formLayoutInfo,\n             final PageReference pageRef) {\n \n         super(new UserWrapper(userTO), anyTypeClasses, formLayoutInfo, pageRef);\n-        statusModel = new ListModel<>(new ArrayList<StatusBean>());\n     }\n \n     @Override\n@@ -68,20 +59,10 @@ protected Serializable onApplyInternal(final AnyWrapper<UserTO> modelObject) {\n         } else {\n             UserPatch patch = AnyOperations.diff(inner, getOriginalItem().getInnerObject(), false);\n \n-            Set<String> origResourceSet = getOriginalItem().getInnerObject().getResources();\n-            Set<String> newResourceSet = new HashSet<>(inner.getResources());\n-\n-            newResourceSet.removeAll(origResourceSet);\n-            for (StatusBean sb : statusModel.getObject()) {\n-                newResourceSet.remove(sb.getResourceName());\n-            }\n-\n-            for (String res : newResourceSet) {\n-                statusModel.getObject().add(new StatusBean(inner, res));\n-            }\n-\n-            if (!statusModel.getObject().isEmpty()) {\n-                patch.setPassword(StatusUtils.buildPasswordPatch(inner.getPassword(), statusModel.getObject()));\n+            if (StringUtils.isNotBlank(inner.getPassword())) {\n+                PasswordPatch passwordPatch = new PasswordPatch.Builder().\n+                        value(inner.getPassword()).onSyncope(true).resources(inner.getResources()).build();\n+                patch.setPassword(passwordPatch);\n             }\n \n             // update just if it is changed\n@@ -100,7 +81,7 @@ protected Serializable onApplyInternal(final AnyWrapper<UserTO> modelObject) {\n     protected Details<UserTO> addOptionalDetailsPanel(final AnyWrapper<UserTO> modelObject) {\n \n         return new UserDetails(\n-                UserWrapper.class.cast(modelObject), statusModel, mode == AjaxWizard.Mode.TEMPLATE,\n+                UserWrapper.class.cast(modelObject), mode == AjaxWizard.Mode.TEMPLATE,\n                 modelObject.getInnerObject().getKey() != null,\n                 UserFormLayoutInfo.class.cast(formLayoutInfo).isPasswordManagement(),\n                 pageRef);\n@@ -115,7 +96,6 @@ protected Details<UserTO> addOptionalDetailsPanel(final AnyWrapper<UserTO> model\n     @Override\n     public UserWizardBuilder setItem(final AnyWrapper<UserTO> item) {\n         super.setItem(item == null ? null : new UserWrapper(item.getInnerObject()));\n-        statusModel.getObject().clear();\n         return this;\n     }\n }"},{"sha":"8089d2c4509ce920aaf2dcb8e654eb83b400b134","filename":"client/console/src/main/resources/META-INF/resources/css/syncopeConsole.css","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fcss%2FsyncopeConsole.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fcss%2FsyncopeConsole.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fcss%2FsyncopeConsole.css?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -1103,4 +1103,8 @@ div.background-footer {\n .logviewer-btn {\n   padding: 0px 16px 20px 0px;\n   float: right;\n+}\n+\n+div#editUserChangePassword > label {\n+  color: #e00000;\n }\n\\ No newline at end of file"},{"sha":"41fbcd85a7b253536bbc09e3df4cb72c9188b0fb","filename":"client/console/src/main/resources/org/apache/syncope/client/console/status/ChangePasswordModal.html","status":"added","additions":29,"deletions":0,"changes":29,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FChangePasswordModal.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FChangePasswordModal.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fstatus%2FChangePasswordModal.html?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -0,0 +1,29 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n+  <wicket:panel>\n+    <div class=\"panel-group box-group\">\n+      <wicket:child/>\n+    </div>\n+    <fieldset class=\"input-group\">\n+      <span wicket:id=\"passwordPanel\">[passwordPanel]</span>\n+    </fieldset>\n+    <span wicket:id=\"status\">[Status]</span>\n+  </wicket:panel>\n+</html>"},{"sha":"9c12554f13ec4312da36cbccf3e3a6a1c7f1569a","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionLinksPanel.html","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksPanel.html?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -33,6 +33,7 @@\n     <span wicket:id=\"panelManageGroups\">[plus]</span>\n     <span wicket:id=\"panelDryRun\">[plus]</span>\n     <span wicket:id=\"panelExecute\">[plus]</span>\n+    <span wicket:id=\"panelPasswordReset\">[plus]</span>\n     <span wicket:id=\"panelEnable\">[plus]</span>\n     <span wicket:id=\"panelSearch\">[plus]</span>\n     <span wicket:id=\"panelNotFound\">[plus]</span>\n@@ -194,6 +195,10 @@\n       <a href=\"#\" wicket:id=\"executeLink\" class=\"btn\"><i class=\"fa fa-gear\" alt=\"execute icon\" title=\"Execute\"></i></a>\n     </wicket:fragment>\n \n+    <wicket:fragment wicket:id=\"fragmentPasswordReset\">\n+      <a href=\"#\" wicket:id=\"passwordResetLink\" class=\"btn\"><i class=\"fa fa-key\" alt=\"password reset icon\" title=\"Password reset\"></i></a>\n+    </wicket:fragment>\n+\n     <wicket:fragment wicket:id=\"fragmentSelect\">\n       <a href=\"#\" wicket:id=\"selectLink\" class=\"btn\"><i class=\"glyphicon glyphicon-ok\"></i></a>\n     </wicket:fragment>"},{"sha":"f9b03c8868372245c89676b50e84f861f25a8586","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wizards/any/Details.html","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.html?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -25,7 +25,6 @@\n           <span wicket:id=\"destinationRealm\">[DESTINATION REALM]</span>\n         </div>\n         <wicket:child/>\n-        <span wicket:id=\"status\">[STATUS]</span>\n       </div>\n       <div class=\"details-footer\">\n         <span wicket:id=\"generalStatusInformation\">[GENERAL STATUS INFORMATION]</span>"},{"sha":"ad8805e0802878491420f653d41e863cc49e4594","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wizards/any/Details.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails.properties?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -18,5 +18,6 @@ username=Username\n password=Password\n confirmPassword=Password (confirm)\n password.change=Password management\n+password.change.warning=Please note, password value will be sent to all associated resources, including the internal storage!\n storePasswordInSyncope=Store password in Syncope\n destinationRealm=Destination realm"},{"sha":"a65883eb97691b35541b9fbbddfb443d722d890a","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wizards/any/Details_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails_it.properties?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -18,5 +18,6 @@ username=Username\n password=Password\n confirmPassword=Password (conferma)\n password.change=Gestisci password\n+password.change.warning=Attenzione, la password sar\\u00e0 inviata a tutte le risorse associate, incluso lo torage interno!\n storePasswordInSyncope=Salva password in Syncope\n destinationRealm=Realm di destinazione"},{"sha":"c081de19994461e087d3ea69a099cb1bb2dc9fda","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wizards/any/Details_pt_BR.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails_pt_BR.properties?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -18,5 +18,6 @@ username=Nome do Usu\\u00e1rio\n password=Senha\n confirmPassword=Senha (confirmar)\n password.change=Gest\\u00e3o password\n+password.change.warning=Please note, password value will be sent to all associated resources, including the internal storage!\n storePasswordInSyncope=Salvar senha in Syncope\n destinationRealm=Destination realm"},{"sha":"581f18999dc72a66e70c29e3dd3239f2080616ee","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wizards/any/Details_ru.properties","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDetails_ru.properties?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -17,6 +17,7 @@\n username=\\u0418\\u043c\\u044f \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044f\n password=\\u041f\\u0430\\u0440\\u043e\\u043b\\u044c\n confirmPassword=\\u041f\\u0430\\u0440\\u043e\\u043b\\u044c (\\u043f\\u043e\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043d\\u0438\\u0435)\n-password.change=\\u0421\\u043c\\u0435\\u043d\\u0438\\u0442\\u044c \\u043f\\u0430\\u0440\\u043e\\u043b\\u044c ...\n+password.change=\\u0421\\u043c\\u0435\\u043d\\u0438\\u0442\\u044c \\u043f\\u0430\\u0440\\u043e\\u043b\\u044c\n+password.change.warning=Please note, password value will be sent to all associated resources, including the internal storage!\n storePasswordInSyncope=\\u0425\\u0440\\u0430\\u043d\\u0438\\u0442\\u044c \\u043f\\u0430\\u0440\\u043e\\u043b\\u044c \\u0432 Syncope\n destinationRealm=\\u041e\\u0431\\u043b\\u0430\\u0441\\u0442\\u044c \\u043d\\u0430\\u0437\\u043d\\u0430\\u0447\\u0435\\u043d\\u0438\\u044f"},{"sha":"0918113066589eed02cf82779fd481381fa25656","filename":"client/console/src/main/resources/org/apache/syncope/client/console/wizards/any/UserDetails$EditUserPasswordPanel.html","status":"added","additions":26,"deletions":0,"changes":26,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FUserDetails%24EditUserPasswordPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FUserDetails%24EditUserPasswordPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FUserDetails%24EditUserPasswordPanel.html?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -0,0 +1,26 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n+  <wicket:panel>\n+    <div id=\"editUserChangePassword\">\n+      <label wicket:id=\"warning\">[warning]</label>\n+      <div wicket:id=\"passwordPanel\">[change password panel]</div>\n+    </div>\n+  </wicket:panel>\n+</html>"},{"sha":"b6dddcd38025d97e3581c4fd32c895fff9911702","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/console/AnyObjectsITCase.java","status":"modified","additions":1,"deletions":4,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FAnyObjectsITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FAnyObjectsITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FAnyObjectsITCase.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -88,10 +88,7 @@ public void editPrinter() {\n         assertNotNull(component);\n \n         TESTER.clickLink(component.getPageRelativePath() + \":cells:4:cell:panelEdit:editLink\");\n-\n-        TESTER.assertComponent(TAB_PANEL + \"outerObjectsRepeater:0:outer:form:content:form:view:status:\"\n-                + \"resources:firstLevelContainer:first:container:content:group:beans:0:fields:0\", ListItem.class);\n-\n+        \n         FormTester formTester = TESTER.newFormTester(TAB_PANEL + \"outerObjectsRepeater:0:outer:form:content:form\");\n         assertNotNull(formTester);\n         formTester.submit(\"buttons:next\");"},{"sha":"026c85adbf3ab8e2e59eeb9e4f08690d9da7dd59","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/console/BulkActionITCase.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FBulkActionITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FBulkActionITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FBulkActionITCase.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -163,7 +163,7 @@ private void userStatusBulkAction(final int index, final String resourceName) {\n         TESTER.cleanupFeedbackMessages();\n \n         TESTER.assertLabel(TAB_PANEL + \"outerObjectsRepeater:1:outer:form:content:status:\"\n-                + \"secondLevelContainer:second:container:selectedObjects:body:rows:1:cells:3:cell\", \"SUCCESS\");\n+                + \"secondLevelContainer:second:container:selectedObjects:body:rows:1:cells:4:cell\", \"SUCCESS\");\n \n         TESTER.\n                 executeAjaxEvent(TAB_PANEL\n@@ -214,7 +214,7 @@ private void userStatusBulkAction(final int index, final String resourceName) {\n         TESTER.cleanupFeedbackMessages();\n \n         TESTER.assertLabel(TAB_PANEL + \"outerObjectsRepeater:1:outer:form:content:status:\"\n-                + \"secondLevelContainer:second:container:selectedObjects:body:rows:1:cells:3:cell\", \"SUCCESS\");\n+                + \"secondLevelContainer:second:container:selectedObjects:body:rows:1:cells:4:cell\", \"SUCCESS\");\n \n         TESTER.\n                 executeAjaxEvent(TAB_PANEL"},{"sha":"81b7dfe3bded4871e27b72f0c799e41935facdf8","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/console/UsersITCase.java","status":"modified","additions":49,"deletions":0,"changes":49,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1a1f7081b571c371167e6854d4cdc2a6fd644a07/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FUsersITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1a1f7081b571c371167e6854d4cdc2a6fd644a07/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FUsersITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FUsersITCase.java?ref=1a1f7081b571c371167e6854d4cdc2a6fd644a07","patch":"@@ -338,4 +338,53 @@ public void editDateTimeField() {\n                 + \"form:view:plainSchemas:tabs:0:body:content:schemas:8:panel:\"\n                 + \"multiValueContainer:innerForm:content:view:0:panel:field\", cal.getTime());\n     }\n+\n+    @Test\n+    public void changePassword() {\n+        TESTER.cleanupFeedbackMessages();\n+\n+        TESTER.clickLink(\"body:realmsLI:realms\");\n+        TESTER.clickLink(\"body:content:body:container:content:tabbedPanel:tabs-container:tabs:1:link\");\n+\n+        Component component = findComponentByProp(\"username\", CONTAINER\n+                + \":searchContainer:resultTable:tablePanel:groupForm:checkgroup:dataTable\", \"vivaldi\");\n+        assertNotNull(component);\n+\n+        TESTER.clickLink(component.getPageRelativePath() + \":cells:6:cell:panelPasswordReset:passwordResetLink\");\n+        TESTER.assertLabel(TAB_PANEL + \"outerObjectsRepeater:2:outer:form:content:status:resources:\"\n+                + \"firstLevelContainer:first:container:content:group:beans:0:fields:0:field\", \"syncope\");\n+\n+        FormTester formTester = TESTER.newFormTester(TAB_PANEL + \"outerObjectsRepeater:2:outer:form\");\n+        formTester.setValue(\"content:passwordPanel:passwordInnerForm:password:passwordField\", \"Password345\");\n+        formTester.setValue(\"content:passwordPanel:passwordInnerForm:confirmPassword:passwordField\", \"Password345\");\n+        formTester.select(\"content:status:resources:firstLevelContainer:first:container:content:group\", 0);\n+\n+        TESTER.executeAjaxEvent(\n+                TAB_PANEL + \"outerObjectsRepeater:2:outer:dialog:footer:inputs:0:submit\", Constants.ON_CLICK);\n+\n+        TESTER.assertInfoMessages(\"Operation executed successfully\");\n+        TESTER.cleanupFeedbackMessages();\n+\n+        TESTER.clickLink(\"body:realmsLI:realms\");\n+        TESTER.clickLink(\"body:content:body:container:content:tabbedPanel:tabs-container:tabs:1:link\");\n+\n+        component = findComponentByProp(\"username\", CONTAINER\n+                + \":searchContainer:resultTable:tablePanel:groupForm:checkgroup:dataTable\", \"vivaldi\");\n+        assertNotNull(component);\n+\n+        TESTER.clickLink(component.getPageRelativePath() + \":cells:6:cell:panelPasswordReset:passwordResetLink\");\n+        TESTER.assertLabel(TAB_PANEL + \"outerObjectsRepeater:2:outer:form:content:status:resources:\"\n+                + \"firstLevelContainer:first:container:content:group:beans:0:fields:0:field\", \"syncope\");\n+\n+        formTester = TESTER.newFormTester(TAB_PANEL + \"outerObjectsRepeater:2:outer:form\");\n+        formTester.setValue(\"content:passwordPanel:passwordInnerForm:password:passwordField\", \"Password123\");\n+        formTester.setValue(\"content:passwordPanel:passwordInnerForm:confirmPassword:passwordField\", \"Password123\");\n+        formTester.select(\"content:status:resources:firstLevelContainer:first:container:content:group\", 0);\n+\n+        TESTER.executeAjaxEvent(\n+                TAB_PANEL + \"outerObjectsRepeater:2:outer:dialog:footer:inputs:0:submit\", Constants.ON_CLICK);\n+\n+        TESTER.assertInfoMessages(\"Operation executed successfully\");\n+        TESTER.cleanupFeedbackMessages();\n+    }\n }"}]}
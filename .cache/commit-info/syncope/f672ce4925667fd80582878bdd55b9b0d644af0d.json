{"sha":"f672ce4925667fd80582878bdd55b9b0d644af0d","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmY2NzJjZTQ5MjU2NjdmZDgwNTgyODc4YmRkNTViOWIwZDY0NGFmMGQ=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2015-05-27T09:58:25Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2015-05-27T09:58:25Z"},"message":"[SYNCOPE-673] Applying provided patch","tree":{"sha":"d8a360fa20d8fbbfd4d73c023d56333dfe531263","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/d8a360fa20d8fbbfd4d73c023d56333dfe531263"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/f672ce4925667fd80582878bdd55b9b0d644af0d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f672ce4925667fd80582878bdd55b9b0d644af0d","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f672ce4925667fd80582878bdd55b9b0d644af0d","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f672ce4925667fd80582878bdd55b9b0d644af0d/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"13abc83310e7d204ccc47d39d5d7513392648006","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/13abc83310e7d204ccc47d39d5d7513392648006","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/13abc83310e7d204ccc47d39d5d7513392648006"}],"stats":{"total":23,"additions":9,"deletions":14},"files":[{"sha":"42929fc1bcaec2a205accd3e3da7148fd54ab69b","filename":"core/src/main/java/org/apache/syncope/core/sync/impl/RoleSyncResultHandler.java","status":"modified","additions":5,"deletions":7,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f672ce4925667fd80582878bdd55b9b0d644af0d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FRoleSyncResultHandler.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f672ce4925667fd80582878bdd55b9b0d644af0d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FRoleSyncResultHandler.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FRoleSyncResultHandler.java?ref=f672ce4925667fd80582878bdd55b9b0d644af0d","patch":"@@ -85,6 +85,9 @@ protected AbstractSubjectTO doCreate(\n         RoleTO roleTO = RoleTO.class.cast(subjectTO);\n \n         WorkflowResult<Long> created = rwfAdapter.create(roleTO);\n+\n+        result.setId(created.getResult());\n+\n         AttributeTO roleOwner = roleTO.getAttrMap().get(StringUtils.EMPTY);\n         if (roleOwner != null) {\n             roleOwnerMap.put(created.getResult(), roleOwner.getValues().iterator().next());\n@@ -97,12 +100,7 @@ protected AbstractSubjectTO doCreate(\n \n         taskExecutor.execute(tasks);\n \n-        roleTO = roleDataBinder.getRoleTO(created.getResult());\n-\n-        result.setId(created.getResult());\n-        result.setName(getName(subjectTO));\n-\n-        return roleTO;\n+        return roleDataBinder.getRoleTO(created.getResult());\n     }\n \n     @Override\n@@ -152,7 +150,7 @@ protected AbstractSubjectTO doUpdate(\n \n         taskExecutor.execute(tasks);\n \n-        final RoleTO after = roleDataBinder.getRoleTO(updated.getResult());\n+        RoleTO after = roleDataBinder.getRoleTO(updated.getResult());\n         result.setName(getName(after));\n \n         return after;"},{"sha":"ce055af05d0e333ce17d7b4e2a1bd69e4a93bb4f","filename":"core/src/main/java/org/apache/syncope/core/sync/impl/UserSyncResultHandler.java","status":"modified","additions":4,"deletions":7,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/f672ce4925667fd80582878bdd55b9b0d644af0d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FUserSyncResultHandler.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/f672ce4925667fd80582878bdd55b9b0d644af0d/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FUserSyncResultHandler.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsync%2Fimpl%2FUserSyncResultHandler.java?ref=f672ce4925667fd80582878bdd55b9b0d644af0d","patch":"@@ -78,8 +78,9 @@ protected AbstractSubjectTO doCreate(\n         UserTO userTO = UserTO.class.cast(subjectTO);\n \n         Boolean enabled = syncUtilities.readEnabled(delta.getObject(), profile.getSyncTask());\n-        WorkflowResult<Map.Entry<Long, Boolean>> created =\n-                uwfAdapter.create(userTO, true, enabled, true);\n+        WorkflowResult<Map.Entry<Long, Boolean>> created = uwfAdapter.create(userTO, true, enabled, true);\n+\n+        result.setId(created.getResult().getKey());\n \n         List<PropagationTask> tasks = propagationManager.getUserCreateTaskIds(created,\n                 userTO.getPassword(), userTO.getVirAttrs(),\n@@ -88,11 +89,7 @@ protected AbstractSubjectTO doCreate(\n \n         taskExecutor.execute(tasks);\n \n-        userTO = userDataBinder.getUserTO(created.getResult().getKey());\n-\n-        result.setId(created.getResult().getKey());\n-\n-        return userTO;\n+        return userDataBinder.getUserTO(created.getResult().getKey());\n     }\n \n     @Override"}]}
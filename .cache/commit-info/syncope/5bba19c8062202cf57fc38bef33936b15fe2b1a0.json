{"sha":"5bba19c8062202cf57fc38bef33936b15fe2b1a0","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjViYmExOWM4MDYyMjAyY2Y1N2ZjMzhiZWYzMzkzNmIxNWZlMmIxYTA=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2020-01-29T17:11:47Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2020-01-29T17:24:18Z"},"message":"Passing AjaxWizard.Mode upwards to make PlainAttrs and VirAttrs behave correctly as templates","tree":{"sha":"0c24322711122be4e9cd84a50c1f90a776ed41f3","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/0c24322711122be4e9cd84a50c1f90a776ed41f3"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/5bba19c8062202cf57fc38bef33936b15fe2b1a0","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5bba19c8062202cf57fc38bef33936b15fe2b1a0","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/5bba19c8062202cf57fc38bef33936b15fe2b1a0","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/5bba19c8062202cf57fc38bef33936b15fe2b1a0/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"523202a6320f55e336a8ef3c78801d3ee568d9de","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/523202a6320f55e336a8ef3c78801d3ee568d9de","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/523202a6320f55e336a8ef3c78801d3ee568d9de"}],"stats":{"total":54,"additions":21,"deletions":33},"files":[{"sha":"a3266814fa5dbf1f5cd9224fcfbce82f1f01eedf","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wizards/any/AbstractAttrs.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5bba19c8062202cf57fc38bef33936b15fe2b1a0/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAbstractAttrs.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5bba19c8062202cf57fc38bef33936b15fe2b1a0/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAbstractAttrs.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAbstractAttrs.java?ref=5bba19c8062202cf57fc38bef33936b15fe2b1a0","patch":"@@ -52,10 +52,11 @@\n \n     public AbstractAttrs(\n             final AnyWrapper<?> modelObject,\n+            final AjaxWizard.Mode mode,\n             final List<String> anyTypeClasses,\n             final List<String> whichAttrs) {\n \n-        super(modelObject.getInnerObject(), AjaxWizard.Mode.CREATE, anyTypeClasses, whichAttrs, null);\n+        super(modelObject.getInnerObject(), mode, anyTypeClasses, whichAttrs, null);\n \n         this.memberships = new ListModel<>(Collections.<MembershipTO>emptyList());\n "},{"sha":"9f65714a25e310e750699bd32aebf5356aa0cf27","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wizards/any/DerAttrs.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5bba19c8062202cf57fc38bef33936b15fe2b1a0/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDerAttrs.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5bba19c8062202cf57fc38bef33936b15fe2b1a0/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDerAttrs.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FDerAttrs.java?ref=5bba19c8062202cf57fc38bef33936b15fe2b1a0","patch":"@@ -58,7 +58,7 @@ public <T extends AnyTO> DerAttrs(\n             final List<String> anyTypeClasses,\n             final List<String> whichDerAttrs) {\n \n-        super(modelObject, anyTypeClasses, whichDerAttrs);\n+        super(modelObject, AjaxWizard.Mode.CREATE, anyTypeClasses, whichDerAttrs);\n         setTitleModel(new ResourceModel(\"attributes.derived\"));\n \n         add(new Accordion(\"derSchemas\", Collections.<ITab>singletonList(new AbstractTab("},{"sha":"127923d0bcf1b60eda43a14e8c28e4e8788282e1","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wizards/any/PlainAttrs.java","status":"modified","additions":4,"deletions":8,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5bba19c8062202cf57fc38bef33936b15fe2b1a0/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FPlainAttrs.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5bba19c8062202cf57fc38bef33936b15fe2b1a0/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FPlainAttrs.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FPlainAttrs.java?ref=5bba19c8062202cf57fc38bef33936b15fe2b1a0","patch":"@@ -18,7 +18,6 @@\n  */\n package org.apache.syncope.client.console.wizards.any;\n \n-import java.util.ArrayList;\n import java.util.Collections;\n import java.util.HashMap;\n import java.util.List;\n@@ -67,7 +66,7 @@ public <T extends AnyTO> PlainAttrs(\n             final List<String> anyTypeClasses,\n             final List<String> whichPlainAttrs) throws IllegalArgumentException {\n \n-        super(modelObject, anyTypeClasses, whichPlainAttrs);\n+        super(modelObject, mode, anyTypeClasses, whichPlainAttrs);\n \n         if (modelObject.getInnerObject() instanceof UserTO) {\n             fileKey = UserTO.class.cast(modelObject.getInnerObject()).getUsername();\n@@ -228,10 +227,8 @@ public PlainSchemasMemberships(\n \n             super(id, schemas, attributableTO);\n \n-            add(new ListView<Attr>(\"schemas\",\n-                    new ListModel<Attr>(new ArrayList<Attr>(\n-                            attributableTO.getObject().getPlainAttrs().stream().sorted(attrComparator).\n-                                    collect(Collectors.toList())))) {\n+            add(new ListView<Attr>(\"schemas\", new ListModel<Attr>(attributableTO.getObject().\n+                    getPlainAttrs().stream().sorted(attrComparator).collect(Collectors.toList()))) {\n \n                 private static final long serialVersionUID = 5306618783986001008L;\n \n@@ -241,8 +238,7 @@ protected void populateItem(final ListItem<Attr> item) {\n                     Attr attrTO = item.getModelObject();\n \n                     AbstractFieldPanel<?> panel = getFieldPanel(schemas.get(attrTO.getSchema()));\n-                    if (mode == AjaxWizard.Mode.TEMPLATE\n-                            || !schemas.get(attrTO.getSchema()).isMultivalue()) {\n+                    if (mode == AjaxWizard.Mode.TEMPLATE || !schemas.get(attrTO.getSchema()).isMultivalue()) {\n                         FieldPanel.class.cast(panel).setNewModel(attributableTO.getObject(), attrTO.getSchema());\n                     } else {\n                         // SYNCOPE-1476 set form as multipart to properly manage membership attributes"},{"sha":"e88f9ffe6e4a120b3377ef1a3841c25f1658fd32","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wizards/any/UserTemplateWizardBuilder.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5bba19c8062202cf57fc38bef33936b15fe2b1a0/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FUserTemplateWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5bba19c8062202cf57fc38bef33936b15fe2b1a0/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FUserTemplateWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FUserTemplateWizardBuilder.java?ref=5bba19c8062202cf57fc38bef33936b15fe2b1a0","patch":"@@ -50,14 +50,14 @@ public UserTemplateWizardBuilder(\n         } else {\n             setItem(new UserWrapper(template));\n         }\n-\n     }\n \n     public UserTemplateWizardBuilder(\n             final TemplatableTO templatable,\n             final List<String> anyTypeClasses,\n             final UserFormLayoutInfo formLayoutInfo,\n             final PageReference pageRef) {\n+\n         super(anyTypeClasses, formLayoutInfo, pageRef);\n         this.templatable = templatable;\n "},{"sha":"8f356d5dc52adc9aa36e8958cfae5efa30e4dc1a","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wizards/any/VirAttrs.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5bba19c8062202cf57fc38bef33936b15fe2b1a0/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FVirAttrs.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5bba19c8062202cf57fc38bef33936b15fe2b1a0/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FVirAttrs.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FVirAttrs.java?ref=5bba19c8062202cf57fc38bef33936b15fe2b1a0","patch":"@@ -67,7 +67,7 @@ public <T extends AnyTO> VirAttrs(\n             final List<String> anyTypeClasses,\n             final List<String> whichVirAttrs) {\n \n-        super(modelObject, anyTypeClasses, whichVirAttrs);\n+        super(modelObject, mode, anyTypeClasses, whichVirAttrs);\n         this.mode = mode;\n         this.modelObject = modelObject;\n "},{"sha":"ec9d4b8cd2018d559a7a7ac37c63c7e2b90aee2c","filename":"ext/oidcclient/client-console/src/main/java/org/apache/syncope/client/console/wizards/OIDCProviderWizardBuilder.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5bba19c8062202cf57fc38bef33936b15fe2b1a0/ext%2Foidcclient%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FOIDCProviderWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5bba19c8062202cf57fc38bef33936b15fe2b1a0/ext%2Foidcclient%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FOIDCProviderWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Foidcclient%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FOIDCProviderWizardBuilder.java?ref=5bba19c8062202cf57fc38bef33936b15fe2b1a0","patch":"@@ -190,7 +190,6 @@ public static class OPContinue extends WizardStep {\n         private static final long serialVersionUID = -7087008312629522790L;\n \n         public OPContinue(final OIDCProviderTO opTO) {\n-\n             final WebMarkupContainer content = new WebMarkupContainer(\"content\");\n             this.setOutputMarkupId(true);\n             content.setOutputMarkupId(true);"},{"sha":"ebb33d1b323468da1569623294834ae45b3129f4","filename":"ext/oidcclient/client-console/src/main/java/org/apache/syncope/client/console/wizards/resources/OIDCProviderMappingPanel.java","status":"modified","additions":6,"deletions":9,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5bba19c8062202cf57fc38bef33936b15fe2b1a0/ext%2Foidcclient%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FOIDCProviderMappingPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5bba19c8062202cf57fc38bef33936b15fe2b1a0/ext%2Foidcclient%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FOIDCProviderMappingPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Foidcclient%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FOIDCProviderMappingPanel.java?ref=5bba19c8062202cf57fc38bef33936b15fe2b1a0","patch":"@@ -25,7 +25,6 @@\n import org.apache.syncope.client.console.rest.AnyTypeClassRestClient;\n import org.apache.syncope.client.console.rest.AnyTypeRestClient;\n import org.apache.syncope.client.ui.commons.markup.html.form.AjaxTextFieldPanel;\n-import org.apache.syncope.common.lib.to.AnyTypeClassTO;\n import org.apache.syncope.common.lib.to.ItemTO;\n import org.apache.syncope.common.lib.to.OIDCProviderTO;\n import org.apache.syncope.common.lib.types.AnyTypeKind;\n@@ -90,16 +89,14 @@ protected void setAttrNames(final AjaxTextFieldPanel toBeUpdated) {\n \n         List<String> choices = new ArrayList<>(ClassPathScanImplementationLookup.USER_FIELD_NAMES);\n \n-        for (AnyTypeClassTO anyTypeClassTO : AnyTypeClassRestClient.list(\n-                AnyTypeRestClient.read(AnyTypeKind.USER.name()).getClasses())) {\n-\n-            choices.addAll(anyTypeClassTO.getPlainSchemas());\n-            choices.addAll(anyTypeClassTO.getDerSchemas());\n-            choices.addAll(anyTypeClassTO.getVirSchemas());\n-        }\n+        AnyTypeClassRestClient.list(AnyTypeRestClient.read(AnyTypeKind.USER.name()).getClasses()).\n+                forEach(anyTypeClassTO -> {\n+                    choices.addAll(anyTypeClassTO.getPlainSchemas());\n+                    choices.addAll(anyTypeClassTO.getDerSchemas());\n+                    choices.addAll(anyTypeClassTO.getVirSchemas());\n+                });\n \n         Collections.sort(choices);\n         toBeUpdated.setChoices(choices);\n     }\n-\n }"},{"sha":"f073f0e2616acef1022e833ab867d6887f5bce7b","filename":"ext/saml2sp/client-console/src/main/java/org/apache/syncope/client/console/wizards/SAML2IdPWizardBuilder.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5bba19c8062202cf57fc38bef33936b15fe2b1a0/ext%2Fsaml2sp%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FSAML2IdPWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5bba19c8062202cf57fc38bef33936b15fe2b1a0/ext%2Fsaml2sp%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FSAML2IdPWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fsaml2sp%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2FSAML2IdPWizardBuilder.java?ref=5bba19c8062202cf57fc38bef33936b15fe2b1a0","patch":"@@ -197,7 +197,6 @@ private final class IdP extends WizardStep {\n                 protected void populateItem(final ListItem<Component> item) {\n                     item.add(item.getModelObject());\n                 }\n-\n             });\n         }\n     }\n@@ -226,5 +225,4 @@ protected Serializable onApplyInternal(final SAML2IdPTO modelObject) {\n         SAML2IdPsRestClient.update(modelObject);\n         return modelObject;\n     }\n-\n }"},{"sha":"d848befa17059fdac43f89f92cb20099c4644820","filename":"ext/saml2sp/client-console/src/main/java/org/apache/syncope/client/console/wizards/resources/SAML2IdPMappingPanel.java","status":"modified","additions":6,"deletions":9,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/5bba19c8062202cf57fc38bef33936b15fe2b1a0/ext%2Fsaml2sp%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FSAML2IdPMappingPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/5bba19c8062202cf57fc38bef33936b15fe2b1a0/ext%2Fsaml2sp%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FSAML2IdPMappingPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fsaml2sp%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fresources%2FSAML2IdPMappingPanel.java?ref=5bba19c8062202cf57fc38bef33936b15fe2b1a0","patch":"@@ -25,7 +25,6 @@\n import org.apache.syncope.client.console.rest.AnyTypeClassRestClient;\n import org.apache.syncope.client.console.rest.AnyTypeRestClient;\n import org.apache.syncope.client.ui.commons.markup.html.form.AjaxTextFieldPanel;\n-import org.apache.syncope.common.lib.to.AnyTypeClassTO;\n import org.apache.syncope.common.lib.to.ItemTO;\n import org.apache.syncope.common.lib.to.SAML2IdPTO;\n import org.apache.syncope.common.lib.types.AnyTypeKind;\n@@ -73,16 +72,14 @@ protected void setAttrNames(final AjaxTextFieldPanel toBeUpdated) {\n \n         List<String> choices = new ArrayList<>(ClassPathScanImplementationLookup.USER_FIELD_NAMES);\n \n-        for (AnyTypeClassTO anyTypeClassTO : AnyTypeClassRestClient.list(\n-                AnyTypeRestClient.read(AnyTypeKind.USER.name()).getClasses())) {\n-\n-            choices.addAll(anyTypeClassTO.getPlainSchemas());\n-            choices.addAll(anyTypeClassTO.getDerSchemas());\n-            choices.addAll(anyTypeClassTO.getVirSchemas());\n-        }\n+        AnyTypeClassRestClient.list(AnyTypeRestClient.read(AnyTypeKind.USER.name()).getClasses()).\n+                forEach(anyTypeClassTO -> {\n+                    choices.addAll(anyTypeClassTO.getPlainSchemas());\n+                    choices.addAll(anyTypeClassTO.getDerSchemas());\n+                    choices.addAll(anyTypeClassTO.getVirSchemas());\n+                });\n \n         Collections.sort(choices);\n         toBeUpdated.setChoices(choices);\n     }\n-\n }"}]}
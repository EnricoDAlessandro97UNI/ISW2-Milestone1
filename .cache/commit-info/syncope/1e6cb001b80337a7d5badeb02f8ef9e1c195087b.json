{"sha":"1e6cb001b80337a7d5badeb02f8ef9e1c195087b","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjFlNmNiMDAxYjgwMzM3YTdkNWJhZGViMDJmOGVmOWUxYzE5NTA4N2I=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2010-08-13T16:07:16Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2010-08-13T16:07:16Z"},"message":"Role's tree management, feedback panels(schema,resources,connectors),memberships,roles' selector in the user's creation interface\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1246431 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"8691a5bcc18a3cf70a1db8459731199e4e028eb3","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/8691a5bcc18a3cf70a1db8459731199e4e028eb3"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/1e6cb001b80337a7d5badeb02f8ef9e1c195087b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1e6cb001b80337a7d5badeb02f8ef9e1c195087b","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/1e6cb001b80337a7d5badeb02f8ef9e1c195087b","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/comments","author":null,"committer":null,"parents":[{"sha":"fed0eb84c45896f1e7f1aad8efaa93582b8fbd96","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/fed0eb84c45896f1e7f1aad8efaa93582b8fbd96","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/fed0eb84c45896f1e7f1aad8efaa93582b8fbd96"}],"stats":{"total":2227,"additions":1514,"deletions":713},"files":[{"sha":"8a2f095c02ad28664d9b5ed9a5b11dfe38b60ef9","filename":"console/src/main/java/org/syncope/console/pages/Connectors.java","status":"modified","additions":23,"deletions":0,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -23,6 +23,7 @@\n import org.apache.wicket.markup.html.basic.Label;\n import org.apache.wicket.markup.html.list.ListItem;\n import org.apache.wicket.markup.html.list.ListView;\n+import org.apache.wicket.markup.html.panel.FeedbackPanel;\n import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.LoadableDetachableModel;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n@@ -42,12 +43,21 @@ public class Connectors extends BasePage {\n     \n     WebMarkupContainer connectorsContainer;\n \n+        /** Response flag set by the Modal Window after the operation is completed  */\n+    boolean operationResult = false;\n+    FeedbackPanel feedbackPanel;\n+\n     public Connectors(PageParameters parameters) {\n         super(parameters);\n \n         add(createConnectorWin = new ModalWindow(\"createConnectorWin\"));\n         add(editConnectorWin = new ModalWindow(\"editConnectorWin\"));\n \n+        feedbackPanel = new FeedbackPanel(\"feedback\");\n+        feedbackPanel.setOutputMarkupId( true );\n+\n+        add(feedbackPanel);\n+\n         IModel connectors = new LoadableDetachableModel() {\n \n             protected Object load() {\n@@ -151,7 +161,20 @@ public void setWindowClosedCallback(ModalWindow window, final WebMarkupContainer\n \n                     public void onClose(AjaxRequestTarget target) {\n                         target.addComponent(container);\n+                        if(operationResult){\n+                        info(getString(\"operation_succeded\"));\n+                        target.addComponent(feedbackPanel);\n+                        operationResult = false;\n+                    }\n                     }\n                 });\n     }\n+\n+    public boolean isOperationResult() {\n+        return operationResult;\n+    }\n+\n+    public void setOperationResult(boolean operationResult) {\n+        this.operationResult = operationResult;\n+    }\n }\n\\ No newline at end of file"},{"sha":"c4a8e48be4550a9f6bb9426d92b3d07dfae92b44","filename":"console/src/main/java/org/syncope/console/pages/ConnectorsModalPage.java","status":"modified","additions":4,"deletions":3,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorsModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorsModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectorsModalPage.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -190,13 +190,14 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n                      else\n                         restClient.updateConnector(connector);\n \n+                    Connectors callerPage = (Connectors)basePage;\n+                    callerPage.setOperationResult(true);\n+\n                     window.close(target);\n-                    \n+\n                 } catch (Exception e) {\n                     error(getString(\"error\") + \":\" + e.getMessage());\n                 }\n-\n-                \n             }\n \n             @Override"},{"sha":"cb0b87ffba26a27fef7e35445492d95196da69c9","filename":"console/src/main/java/org/syncope/console/pages/DerivedSchemaModalPage.java","status":"modified","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -98,6 +98,9 @@ else if (getEntity() == Entity.MEMBERSHIP){\n                     else\n                         restClient.updateMembershipDerivedSchema((DerivedSchemaTO)form.getDefaultModelObject());\n                 }\n+                Schema callerPage = (Schema)basePage;\n+                callerPage.setOperationResult(true);\n+\n                 window.close(target);\n             }\n "},{"sha":"db513a8c52c1f2b619c3dd6a747f2c4e7eda2d5c","filename":"console/src/main/java/org/syncope/console/pages/MembershipModalPage.java","status":"added","additions":319,"deletions":0,"changes":319,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -0,0 +1,319 @@\n+package org.syncope.console.pages;\n+\n+/*\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ * \n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *  under the License.\n+ */\n+\n+import java.io.Serializable;\n+import java.text.DateFormat;\n+import java.text.Format;\n+import java.text.ParseException;\n+import java.text.SimpleDateFormat;\n+import java.util.ArrayList;\n+import java.util.Date;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Set;\n+import java.util.logging.Level;\n+import java.util.logging.Logger;\n+import org.apache.wicket.Application;\n+import org.apache.wicket.Page;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.markup.html.WebMarkupContainer;\n+import org.apache.wicket.markup.html.basic.Label;\n+import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.markup.html.list.ListItem;\n+import org.apache.wicket.markup.html.list.ListView;\n+import org.apache.wicket.markup.html.panel.FeedbackPanel;\n+import org.apache.wicket.markup.html.panel.Panel;\n+import org.apache.wicket.model.CompoundPropertyModel;\n+import org.apache.wicket.model.Model;\n+import org.syncope.client.to.AttributeTO;\n+import org.syncope.client.to.MembershipTO;\n+import org.syncope.client.to.SchemaTO;\n+import org.syncope.client.to.SchemaTOs;\n+import org.syncope.console.SyncopeApplication;\n+import org.syncope.console.rest.SchemaRestClient;\n+import org.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n+import org.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n+import org.syncope.console.wicket.markup.html.form.DateFieldPanel;\n+\n+/**\n+ * MembershipModalPage.\n+ */\n+public class MembershipModalPage extends SyncopeModalPage {\n+    List<SchemaWrapper> schemaWrappers = new ArrayList<SchemaWrapper>();\n+    WebMarkupContainer container;\n+\n+    AjaxButton submit;\n+\n+    public MembershipModalPage(final Page basePage, final ModalWindow window,\n+            final MembershipTO membershipTO, final boolean createFlag) {\n+\n+        Form form = new Form(\"MembershipForm\");\n+\n+        form.setModel(new CompoundPropertyModel(membershipTO));\n+\n+        setupSchemaWrappers(createFlag,membershipTO);\n+\n+        final ListView userAttributesView = new ListView(\"membershipSchemas\", schemaWrappers) {\n+\n+            @Override\n+            protected void populateItem(ListItem item) {\n+                final SchemaWrapper schemaWrapper = (SchemaWrapper) item.getDefaultModelObject();\n+\n+                final SchemaTO schemaTO = schemaWrapper.getSchemaTO();\n+\n+                item.add(new Label(\"name\", schemaWrapper.getSchemaTO().getName()));\n+\n+                item.add(new ListView(\"fields\", schemaWrapper.getValues()) {\n+\n+                    Panel panel;\n+\n+                    @Override\n+                    protected void populateItem(final ListItem item) {\n+\n+                        if (schemaTO.getType().getClassName().equals(\"java.lang.String\")) {\n+                            panel = new AjaxTextFieldPanel(\"panel\", schemaTO.getName(), new Model() {\n+\n+                                @Override\n+                                public Serializable getObject() {\n+                                    return (String) item.getModelObject();\n+                                }\n+\n+                                @Override\n+                                public void setObject(Serializable object) {\n+                                    item.setModelObject((String) object);\n+                                }\n+                            }, schemaTO.isMandatory());\n+                        } else if (schemaTO.getType().getClassName().equals(\"java.lang.Boolean\")) {\n+                            panel = new AjaxCheckBoxPanel(\"panel\", schemaTO.getName(), new Model() {\n+\n+                                @Override\n+                                public Serializable getObject() {\n+                                    //return (String) item.getModelObject();\n+                                    return \"false\";\n+                                }\n+\n+                                @Override\n+                                public void setObject(Serializable object) {\n+                                    Boolean val = (Boolean) object;\n+                                    item.setModelObject(val.toString());\n+                                }\n+                            }, schemaTO.isMandatory());\n+\n+                        } else if (schemaTO.getType().getClassName().equals(\"java.util.Date\")) {\n+                            panel = new DateFieldPanel(\"panel\", schemaTO.getName(),\n+                                    new Model() {\n+\n+                                        @Override\n+                                        public Serializable getObject() {\n+                                            DateFormat formatter = new SimpleDateFormat(schemaTO.getConversionPattern());\n+                                            Date date = new Date();\n+                                            try {\n+                                                String dateValue = (String) item.getModelObject();\n+                                                formatter = new SimpleDateFormat(\"yyyy-MM-dd\");\n+\n+                                                if(!dateValue.equals(\"\"))\n+                                                    date = formatter.parse((String) item.getModelObject());\n+                                            } catch (ParseException ex) {\n+                                                Logger.getLogger(UserModalPage.class.getName()).log(Level.SEVERE, null, ex);\n+                                            }\n+                                            return date;\n+                                        }\n+\n+                                        @Override\n+                                        public void setObject(Serializable object) {\n+                                            Date date = (Date) object;\n+                                            Format formatter = new SimpleDateFormat(schemaTO.getConversionPattern());\n+                                            String val = formatter.format(date);\n+                                            item.setModelObject(val);\n+                                        }\n+                                    }, schemaTO.isMandatory());\n+                        }\n+\n+                        item.add(panel);\n+                    }\n+                });\n+\n+                AjaxButton addButton = new AjaxButton(\"add\", new Model(getString(\"add\"))) {\n+\n+                    @Override\n+                    protected void onSubmit(AjaxRequestTarget target, Form form) {\n+                        schemaWrapper.getValues().add(\"\");\n+\n+                        target.addComponent(container);\n+                    }\n+                };\n+\n+                AjaxButton dropButton = new AjaxButton(\"drop\", new Model(getString(\"drop\"))) {\n+\n+                    @Override\n+                    protected void onSubmit(AjaxRequestTarget target, Form form) {\n+                        //Drop the last component added\n+                        schemaWrapper.getValues().remove(schemaWrapper.getValues().size() - 1);\n+\n+                        target.addComponent(container);\n+                    }\n+                };\n+\n+                if (schemaTO.getType().getClassName().equals(\"java.lang.Boolean\")) {\n+                    addButton.setVisible(false);\n+                    dropButton.setVisible(false);\n+                }\n+\n+                addButton.setDefaultFormProcessing(false);\n+                addButton.setVisible(schemaTO.isMultivalue());\n+\n+                dropButton.setDefaultFormProcessing(false);\n+                dropButton.setVisible(schemaTO.isMultivalue());\n+\n+                if (schemaWrapper.getValues().size() == 1) {\n+                    dropButton.setVisible(false);\n+                }\n+\n+                item.add(addButton);\n+                item.add(dropButton);\n+            }\n+        };\n+\n+        submit = new AjaxButton(\"submit\", new Model(getString(\"submit\"))) {\n+\n+            @Override\n+            protected void onSubmit(AjaxRequestTarget target, Form form) {\n+\n+                MembershipTO membershipTO = (MembershipTO) form.getDefaultModelObject();\n+                membershipTO.setAttributes(getMembershipAttributes());\n+                \n+                UserModalPage userModalPage = (UserModalPage) basePage;\n+\n+                if(createFlag)\n+                    userModalPage.getMembershipTOs().add(membershipTO);\n+                else {\n+                    userModalPage.getMembershipTOs().remove(membershipTO);\n+                    userModalPage.getMembershipTOs().add(membershipTO);\n+                }\n+                window.close(target);\n+            }\n+\n+            @Override\n+            protected void onError(AjaxRequestTarget target, Form form) {\n+                target.addComponent(form.get(\"feedback\"));\n+            }\n+        };\n+\n+        form.add(submit);\n+\n+\n+        container = new WebMarkupContainer(\"container\");\n+        container.add(userAttributesView);\n+        container.setOutputMarkupId(true);\n+        \n+        form.add(new FeedbackPanel(\"feedback\").setOutputMarkupId(true));\n+        form.add(container);\n+\n+        add(form);\n+    }\n+\n+        public Set<AttributeTO> getMembershipAttributes() {\n+\n+        Set<AttributeTO> attributes = new HashSet<AttributeTO>();\n+\n+        AttributeTO attribute;\n+\n+        for (SchemaWrapper schemaWrapper : schemaWrappers) {\n+\n+            attribute = new AttributeTO();\n+            attribute.setSchema(schemaWrapper.getSchemaTO().getName());\n+            attribute.setValues(new HashSet<String>());\n+\n+            for (String value : schemaWrapper.getValues()) {\n+                attribute.getValues().add(value);\n+            }\n+\n+            attributes.add(attribute);\n+        }\n+\n+        return attributes;\n+    }\n+\n+    public void setupSchemaWrappers(boolean create, MembershipTO membershipTO) {\n+\n+        schemaWrappers = new ArrayList<SchemaWrapper>();\n+        SchemaWrapper schemaWrapper;\n+\n+        SchemaRestClient schemaRestClient = (SchemaRestClient) ((SyncopeApplication)\n+                Application.get()).getApplicationContext().getBean(\"schemaRestClient\");\n+\n+        SchemaTOs schemas = schemaRestClient.getAllMemberhipSchemas();\n+\n+        if(create) {\n+            for (SchemaTO schema : schemas) {\n+                schemaWrapper = new SchemaWrapper(schema);\n+                schemaWrappers.add(schemaWrapper);\n+            }\n+        }\n+        else {\n+            for (SchemaTO schema : schemas) {\n+                for (AttributeTO attribute : membershipTO.getAttributes()) {\n+                    if (schema.getName().equals(attribute.getSchema())) {\n+                        schemaWrapper = new SchemaWrapper(schema);\n+                        schemaWrapper.setValues(attribute.getValues());\n+                        schemaWrappers.add(schemaWrapper);\n+                    }\n+                }\n+            }\n+        }\n+    }\n+\n+  /**\n+     * Wrapper for User's Schema - Attribute.\n+     */\n+    public class SchemaWrapper {\n+\n+        SchemaTO schemaTO;\n+        List<String> values;\n+\n+        public SchemaWrapper(SchemaTO schemaTO) {\n+            this.schemaTO = schemaTO;\n+            values = new ArrayList<String>();\n+            values.add(\"\");\n+        }\n+\n+        public SchemaTO getSchemaTO() {\n+            return schemaTO;\n+        }\n+\n+        public void setSchemaTO(SchemaTO schemaTO) {\n+            this.schemaTO = schemaTO;\n+        }\n+\n+        public List<String> getValues() {\n+            return values;\n+        }\n+\n+        public void setValues(List<String> values) {\n+            this.values = values;\n+        }\n+\n+        public void setValues(Set<String> values) {\n+            this.values = new ArrayList<String>();\n+            for (String value : values) {\n+                this.values.add(value);\n+            }\n+        }\n+    }\n+}"},{"sha":"8414644746dc88063b267094ff5c070c1f3f677c","filename":"console/src/main/java/org/syncope/console/pages/ResourceModalPage.java","status":"modified","additions":43,"deletions":38,"changes":81,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -18,7 +18,6 @@\n \n import org.apache.wicket.Application;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.ajax.markup.html.form.AjaxCheckBox;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n@@ -44,6 +43,9 @@\n import org.syncope.console.rest.ConnectorsRestClient;\n import org.syncope.console.rest.ResourcesRestClient;\n import org.syncope.console.rest.SchemaRestClient;\n+import org.syncope.console.wicket.markup.html.form.UpdatingCheckBox;\n+import org.syncope.console.wicket.markup.html.form.UpdatingDropDownChoice;\n+import org.syncope.console.wicket.markup.html.form.UpdatingTextField;\n \n /**\n  * Modal window with Connector form.\n@@ -259,7 +261,10 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n                      else\n                         restClient.updateResource(resourceTO);\n \n-                    window.close(target);\n+                     Resources callerPage = (Resources)basePage;\n+                     callerPage.setOperationResult(true);\n+\n+                     window.close(target);\n                     \n                 } catch (Exception e) {\n                     error(getString(\"error\") + \":\" + e.getMessage());\n@@ -325,50 +330,50 @@ public ResourceTO mergeSchemaLists(ResourceTO resourceTO) {\n      * Extension class of TextField. It's purposed for storing values in the\n      * corresponding property model after pressing 'Add' button.\n      */\n-    private static class UpdatingTextField extends TextField\n-    {\n-        public UpdatingTextField( String id, IModel model )\n-        {\n-            super( id, model );\n-            add( new AjaxFormComponentUpdatingBehavior( \"onblur\" )\n-            {\n-                protected void onUpdate( AjaxRequestTarget target )\n-                {\n-                }\n-            } );\n-        }\n-    }\n+//    private static class UpdatingTextField extends TextField\n+//    {\n+//        public UpdatingTextField( String id, IModel model )\n+//        {\n+//            super( id, model );\n+//            add( new AjaxFormComponentUpdatingBehavior( \"onblur\" )\n+//            {\n+//                protected void onUpdate( AjaxRequestTarget target )\n+//                {\n+//                }\n+//            } );\n+//        }\n+//    }\n \n     /**\n      * Extension class of DropDownChoice. It's purposed for storing values in the\n      * corresponding property model after pressing 'Add' button.\n      */\n-     private static class UpdatingDropDownChoice extends DropDownChoice\n-     {\n-        private UpdatingDropDownChoice(String id, PropertyModel model, IModel imodel) {\n-            super(id, model, imodel);\n-            add( new AjaxFormComponentUpdatingBehavior( \"onblur\" )\n-            {\n-                protected void onUpdate( AjaxRequestTarget target )\n-                {\n-                }\n-            } );\n-        }\n-     }\n+//     private static class UpdatingDropDownChoice extends DropDownChoice\n+//     {\n+//        private UpdatingDropDownChoice(String id, PropertyModel model, IModel imodel) {\n+//            super(id, model, imodel);\n+//            add( new AjaxFormComponentUpdatingBehavior( \"onblur\" )\n+//            {\n+//                protected void onUpdate( AjaxRequestTarget target )\n+//                {\n+//                }\n+//            } );\n+//        }\n+//     }\n \n     /**\n      * Extension class of CheckBox. It's purposed for storing values in the\n      * corresponding property model after pressing 'Add' button.\n      */\n-     private static class UpdatingCheckBox extends AjaxCheckBox\n-     {\n-        public UpdatingCheckBox(String id, IModel<Boolean> model) {\n-            super(id, model);\n-        }\n-\n-        @Override\n-        protected void onUpdate(AjaxRequestTarget target) {\n-\n-        }\n-     }\n+//     private static class UpdatingCheckBox extends AjaxCheckBox\n+//     {\n+//        public UpdatingCheckBox(String id, IModel<Boolean> model) {\n+//            super(id, model);\n+//        }\n+//\n+//        @Override\n+//        protected void onUpdate(AjaxRequestTarget target) {\n+//\n+//        }\n+//     }\n }\n\\ No newline at end of file"},{"sha":"99d129d53c32b6aaea11226f8bdcfc8a3ddabe32","filename":"console/src/main/java/org/syncope/console/pages/Resources.java","status":"modified","additions":25,"deletions":0,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -23,6 +23,7 @@\n import org.apache.wicket.markup.html.basic.Label;\n import org.apache.wicket.markup.html.list.ListItem;\n import org.apache.wicket.markup.html.list.ListView;\n+import org.apache.wicket.markup.html.panel.FeedbackPanel;\n import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.LoadableDetachableModel;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n@@ -45,12 +46,23 @@ public class Resources extends BasePage {\n \n     WebMarkupContainer resourcesContainer;\n \n+    /** Response flag set by the Modal Window after the operation is completed:\n+     *  TRUE if the operation succedes, FALSE otherwise\n+     */\n+    boolean operationResult = false;\n+    FeedbackPanel feedbackPanel;\n+\n     public Resources(PageParameters parameters) {\n         super(parameters);\n \n         add(createResourceWin = new ModalWindow(\"createResourceWin\"));\n         add(editResourceWin = new ModalWindow(\"editResourceWin\"));\n \n+        feedbackPanel = new FeedbackPanel(\"feedback\");\n+        feedbackPanel.setOutputMarkupId( true );\n+\n+        add(feedbackPanel);\n+\n         IModel resources = new LoadableDetachableModel() {\n \n             protected Object load() {\n@@ -142,6 +154,14 @@ public Page createPage() {\n         });\n     }\n \n+    public boolean isOperationResult() {\n+        return operationResult;\n+    }\n+\n+    public void setOperationResult(boolean operationResult) {\n+        this.operationResult = operationResult;\n+    }\n+\n     /**\n      * Set a WindowClosedCallback for a ModalWindow instance.\n      * @param window\n@@ -154,6 +174,11 @@ public void setWindowClosedCallback(ModalWindow window, final WebMarkupContainer\n \n                     public void onClose(AjaxRequestTarget target) {\n                         target.addComponent(container);\n+                        if(operationResult){\n+                        info(getString(\"operation_succeded\"));\n+                        target.addComponent(feedbackPanel);\n+                        operationResult = false;\n+                        }\n                     }\n                 });\n     }"},{"sha":"25a97a9e2305a36e79f581cde660f28eefe0a9ad","filename":"console/src/main/java/org/syncope/console/pages/RoleModalPage.java","status":"modified","additions":99,"deletions":67,"changes":166,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -44,17 +44,24 @@\n import org.apache.wicket.model.CompoundPropertyModel;\n import org.apache.wicket.model.Model;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n+\n+import org.syncope.client.mod.AttributeMod;\n+import org.syncope.client.mod.RoleMod;\n import org.syncope.client.to.AttributeTO;\n+import org.syncope.client.to.ResourceTO;\n+import org.syncope.client.to.ResourceTOs;\n import org.syncope.client.to.RoleTO;\n import org.syncope.client.to.SchemaTO;\n import org.syncope.client.to.SchemaTOs;\n+\n import org.syncope.console.SyncopeApplication;\n+import org.syncope.console.rest.ResourcesRestClient;\n import org.syncope.console.rest.RolesRestClient;\n import org.syncope.console.rest.SchemaRestClient;\n-\n import org.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n import org.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.syncope.console.wicket.markup.html.form.DateFieldPanel;\n+import org.syncope.console.wicket.markup.html.form.ListMultipleChoiceTransfer;\n \n /**\n  * Modal window with Role form.\n@@ -63,9 +70,7 @@ public class RoleModalPage extends SyncopeModalPage {\n \n     @SpringBean(name = \"rolesRestClient\")\n     RolesRestClient restClient;\n-\n     AjaxButton submit;\n-\n     WebMarkupContainer container;\n     List<SchemaWrapper> schemaWrappers = new ArrayList<SchemaWrapper>();\n \n@@ -138,11 +143,11 @@ public void setObject(Serializable object) {\n                                         public Serializable getObject() {\n                                             DateFormat formatter = new SimpleDateFormat(schemaTO.getConversionPattern());\n                                             Date date = new Date();\n-                                            String val;\n                                             try {\n-                                                date = formatter.parse((String) item.getModelObject());\n+                                                String dateValue = (String) item.getModelObject();\n                                                 formatter = new SimpleDateFormat(\"yyyy-MM-dd\");\n-                                                val = formatter.format(date);\n+                                                if(!dateValue.equals(\"\"))\n+                                                    date = formatter.parse((String) item.getModelObject());\n                                             } catch (ParseException ex) {\n                                                 Logger.getLogger(RoleModalPage.class.getName()).log(Level.SEVERE, null, ex);\n                                             }\n@@ -206,53 +211,53 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n \n         form.add(roleAttributesView);\n \n-//        final ListMultipleChoiceTransfer resourcesTransfer =\n-//                new ListMultipleChoiceTransfer(\"resourcesChoiceTransfer\",\n-//                getString(\"firstResourcesList\"), getString(\"secondResourcesList\")) {\n-//\n-//                    @Override\n-//                    public List<String> setupOriginals() {\n-//                        //Originals:user's resources\n-//                        List<String> resources = new ArrayList<String>();\n-//\n-//                        for (String resourceName : roleTO.getResources()) {\n-//                            resources.add(resourceName);\n-//                        }\n-//\n-//                        return resources;\n-//\n-//                    }\n-//\n-//                    @Override\n-//                    public List<String> setupDestinations() {\n-//                        //Destinations:available resources\n-//                        List<String> resources = new ArrayList<String>();\n-//\n-//                        ResourcesRestClient resourcesRestClient = (ResourcesRestClient)\n-//                                ((SyncopeApplication) Application.get()).getApplicationContext().getBean(\"resourcesRestClient\");\n-//\n-//                        ResourceTOs resourcesTos = resourcesRestClient.getAllResources();\n-//\n-//                        if (roleTO.getResources().size() == 0) {\n-//                            for (ResourceTO resourceTO : resourcesTos) {\n-//                                resources.add(resourceTO.getName());\n-//                            }\n-//\n-//                        } else {\n-//\n-//                            for (String resource : roleTO.getResources()) {\n-//                                for (ResourceTO resourceTO : resourcesTos) {\n-//                                    if (!resource.equals(resourceTO.getName())) {\n-//                                        resources.add(resourceTO.getName());\n-//                                    }\n-//                                }\n-//                            }\n-//                        }\n-//                        return resources;\n-//                    }\n-//                };\n-//\n-//        form.add(resourcesTransfer);\n+        final ListMultipleChoiceTransfer resourcesTransfer =\n+                new ListMultipleChoiceTransfer(\"resourcesChoiceTransfer\",\n+                getString(\"firstResourcesList\"), getString(\"secondResourcesList\")) {\n+\n+                    @Override\n+                    public List<String> setupOriginals() {\n+                        //Originals:role's resources\n+                        List<String> resources = new ArrayList<String>();\n+\n+                        for (String resourceName : roleTO.getResources()) {\n+                            resources.add(resourceName);\n+                        }\n+\n+                        return resources;\n+\n+                    }\n+\n+                    @Override\n+                    public List<String> setupDestinations() {\n+                        //Destinations:available resources\n+                        List<String> resources = new ArrayList<String>();\n+\n+                        ResourcesRestClient resourcesRestClient = (ResourcesRestClient)\n+                                ((SyncopeApplication) Application.get()).getApplicationContext().getBean(\"resourcesRestClient\");\n+\n+                        ResourceTOs resourcesTos = resourcesRestClient.getAllResources();\n+\n+                        if (roleTO.getResources().size() == 0) {\n+                            for (ResourceTO resourceTO : resourcesTos) {\n+                                resources.add(resourceTO.getName());\n+                            }\n+\n+                        } else {\n+\n+                            for (String resource : roleTO.getResources()) {\n+                                for (ResourceTO resourceTO : resourcesTos) {\n+                                    if (!resource.equals(resourceTO.getName())) {\n+                                        resources.add(resourceTO.getName());\n+                                    }\n+                                }\n+                            }\n+                        }\n+                        return resources;\n+                    }\n+                };\n+\n+        form.add(resourcesTransfer);\n \n         container = new WebMarkupContainer(\"container\");\n         container.add(roleAttributesView);\n@@ -275,25 +280,24 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n \n                 try {\n \n+                    roleTO.setResources(getResourcesSet(resourcesTransfer.getFinalSelections()));\n                     roleTO.setAttributes(getRoleAttributes());\n \n                     if (createFlag) {\n                         restClient.createRole(roleTO);\n+                        window.close(target);\n                     } else {\n-                        res = restClient.updateRole(roleTO);\n-                        \n-                        if (!res) \n-                              error(getString(\"error_updating\"));\n-\n+                        res = restClient.updateRole(convertRoleTOtoRoleMod(roleTO));\n+                        if (!res) {\n+                            error(getString(\"error\"));\n+                        } else {\n+                            window.close(target);\n+                        }\n                     }\n-                    \n-                    window.close(target);\n \n                 } catch (Exception e) {\n                     error(getString(\"error\") + \":\" + e.getMessage());\n                 }\n-\n-\n             }\n \n             @Override\n@@ -314,8 +318,8 @@ public void setupSchemaWrappers(boolean create, RoleTO roleTO) {\n         schemaWrappers = new ArrayList<SchemaWrapper>();\n         SchemaWrapper schemaWrapper;\n \n-        SchemaRestClient schemaRestClient = (SchemaRestClient) ((SyncopeApplication)\n-                Application.get()).getApplicationContext().getBean(\"schemaRestClient\");\n+        SchemaRestClient schemaRestClient = (SchemaRestClient)\n+                ((SyncopeApplication) Application.get()).getApplicationContext().getBean(\"schemaRestClient\");\n \n         SchemaTOs schemas = schemaRestClient.getAllRoleSchemas();\n \n@@ -360,10 +364,10 @@ public Set<AttributeTO> getRoleAttributes() {\n     }\n \n     /**\n-     * Set in the UserTO the resources set.\n-     * @return UserTO with resources set\n+     * Covert a resources List<String> to Set<String>.\n+     * @return Set<String>\n      */\n-    public Set<String> getResourcesSelected(List<String> resourcesList) {\n+    public Set<String> getResourcesSet(List<String> resourcesList) {\n         Set<String> resourcesSet = new HashSet<String>();\n \n         for (String resource : resourcesList) {\n@@ -373,6 +377,34 @@ public Set<String> getResourcesSelected(List<String> resourcesList) {\n         return resourcesSet;\n     }\n \n+\n+    public RoleMod convertRoleTOtoRoleMod(RoleTO roleTO){\n+        RoleMod roleMod = new RoleMod();\n+\n+        AttributeMod attributeMod;\n+        Set<AttributeMod> attributesToUpdate = new HashSet<AttributeMod>();\n+\n+        for (SchemaWrapper schemaWrapper : schemaWrappers) {\n+\n+            attributeMod = new AttributeMod();\n+            attributeMod.setSchema(schemaWrapper.getSchemaTO().getName());\n+            attributeMod.setValuesToBeAdded(new HashSet<String>());\n+\n+            for (String value : schemaWrapper.getValues()) {\n+                attributeMod.getValuesToBeAdded().add(value);\n+            }\n+\n+            attributesToUpdate.add(attributeMod);\n+        }\n+\n+        roleMod.setId(roleTO.getId());\n+        roleMod.setName(roleTO.getName());\n+\n+        roleMod.setAttributesToBeUpdated(attributesToUpdate);\n+\n+        return roleMod;\n+    }\n+\n     /**\n      * Wrapper for User's Schema - Attribute.\n      */"},{"sha":"bd13e2a2256ea5e49b1ff43a758b38844a2793ae","filename":"console/src/main/java/org/syncope/console/pages/Roles.java","status":"modified","additions":26,"deletions":187,"changes":213,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoles.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoles.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoles.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -14,15 +14,8 @@\n  */\n package org.syncope.console.pages;\n \n-import org.syncope.console.wicket.markup.html.tree.TreeModelBean;\n import org.syncope.console.wicket.markup.html.tree.PropertyEditableColumn;\n-import java.util.ArrayList;\n-import java.util.Iterator;\n-import java.util.List;\n import org.apache.wicket.PageParameters;\n-import javax.swing.tree.DefaultMutableTreeNode;\n-import javax.swing.tree.DefaultTreeModel;\n-import javax.swing.tree.TreeModel;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.markup.html.tree.table.ColumnLocation;\n@@ -35,8 +28,8 @@\n import org.apache.wicket.markup.html.form.Form;\n import org.apache.wicket.markup.html.tree.AbstractTree;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n-import org.syncope.client.to.RoleTO;\n import org.syncope.console.rest.RolesRestClient;\n+import org.syncope.console.wicket.markup.html.tree.SyncopeRoleTree;\n \n /**\n  * Roles WebPage.\n@@ -48,37 +41,52 @@ public class Roles extends BasePage {\n \n     private TreeTable tree;\n \n-    List<Long> parentsId;\n+    ModalWindow createRoleWin = null;\n+    final int WIN_USER_HEIGHT = 680;\n+    final int WIN_USER_WIDTH = 900;\n \n-    WebMarkupContainer usersContainer;\n+    WebMarkupContainer container;\n \n     public Roles(PageParameters parameters) {\n         super(parameters);\n \n+        add(createRoleWin = new ModalWindow(\"createRoleWin\"));\n+\n+        createRoleWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n+        createRoleWin.setInitialHeight(WIN_USER_HEIGHT);\n+        createRoleWin.setInitialWidth(WIN_USER_WIDTH);\n+        createRoleWin.setPageMapName(\"create-role-modal\");\n+        createRoleWin.setCookieName(\"create-role-modal\");\n+\n+        container = new WebMarkupContainer(\"container\");\n+\n         IColumn columns[] = new IColumn[]{\n-        new PropertyTreeColumn(new ColumnLocation(Alignment.LEFT, 20,\n+        new PropertyTreeColumn(new ColumnLocation(Alignment.LEFT, 30,\n             Unit.EM), getString(\"column1\"), \"userObject.treeNode.name\"),\n             new PropertyEditableColumn(new ColumnLocation(Alignment.LEFT, 20,\n-            Unit.EM), getString(\"column2\"), \"userObject.title\"),\n+            Unit.EM), getString(\"column2\"), \"userObject.title\",createRoleWin),\n //            new PropertyRenderableColumn(new ColumnLocation(Alignment.MIDDLE, 3,\n //                        Unit.PROPORTIONAL), \"Name\", \"userObject.treeNode.name\")\n             };\n \n         Form form = new Form(\"form\");\n         add(form);\n \n-        tree = new TreeTable(\"treeTable\", createTreeModel(), columns);\n+        SyncopeRoleTree roleTree = new SyncopeRoleTree(restClient);\n+\n+        tree = new TreeTable(\"treeTable\", roleTree.createTreeModel(), columns);\n         \n         form.add(tree);\n         tree.getTreeState().expandAll();\n         tree.updateTree();\n \n-        usersContainer = new WebMarkupContainer(\"container\");\n-        usersContainer.add(tree);\n-        usersContainer.setOutputMarkupId(true);\n \n+        container.add(tree);\n+        container.setOutputMarkupId(true);\n+        \n+        form.add(container);\n \n-        form.add(usersContainer);\n+        setWindowClosedCallback(createRoleWin, container);\n     }\n \n     /**\n@@ -94,6 +102,7 @@ public void setWindowClosedCallback(ModalWindow window,\n \n                     public void onClose(AjaxRequestTarget target) {\n                         target.addComponent(container);\n+                        setResponsePage(new Roles(null));\n                     }\n                 });\n     }\n@@ -104,174 +113,4 @@ public void onClose(AjaxRequestTarget target) {\n     protected AbstractTree getTree() {\n         return tree;\n     }\n-\n-    /**\n-     * Creates the model that feeds the tree.\n-     *\n-     * @return New instance of tree model.\n-     */\n-    private TreeModel createTreeModel() {\n-\n-        List<RoleTO> roles = restClient.getAllRoles().getRoles();\n-        \n-        List<TreeNode> roleTree = new ArrayList<TreeNode>();\n-        List<TreeNode> parentNodes = new ArrayList<TreeNode>();\n-        List<TreeNode> childNodes = new ArrayList<TreeNode>();\n-\n-        parentsId = new ArrayList<Long>();\n-\n-        //populate id list of parents\n-        for(RoleTO role : roles) {\n-                if(!parentExists(role.getParent(), parentsId))\n-                    parentsId.add(role.getParent());\n-        }\n-\n-        //populate parents nodes list (parent = TreeNode)\n-        TreeNode parentNode;\n-        for(RoleTO role : roles) {\n-            for(Long parentId: parentsId)\n-                if(role.getId() == parentId){\n-                    parentNode = new TreeNode();\n-                    parentNode.setId(role.getId());\n-                    parentNode.setParentId(role.getParent());\n-                    parentNode.setName(role.getName());\n-                    parentNodes.add(parentNode);\n-                }\n-        }\n-\n-        //populate children nodes list (parent = TreeNode)\n-        TreeNode childNode;\n-        for(RoleTO role : roles)\n-            if(!parentExists(role.getId(), parentsId)){\n-                childNode = new TreeNode();\n-                childNode.setId(role.getId());\n-                childNode.setName(role.getName());\n-                childNode.setParentId(role.getParent());\n-                childNodes.add(childNode);\n-            }\n-\n-        //add leaf-nodes into child nodes list\n-        for(TreeNode node: childNodes) {\n-            addChildToParent(parentNodes,node);\n-        }\n-\n-        //nest parents each-others\n-        for(TreeNode node : parentNodes) {\n-            addChildToParent(roleTree,node);\n-        }\n-        \n-        return convertToTreeModel(roleTree);\n-    }\n-\n-    /**\n-     * Check if a parent has already been inserted in the parents id list\n-     * @param parentId\n-     * @param list\n-     * @return true if a parent id is already in the list, false otherwise\n-     */\n-    public boolean parentExists(Long parentId,List<Long>list){\n-        boolean found = false;\n-\n-        for(Long id : list){\n-            if(!found && id == parentId)\n-                found = true;\n-        }\n-        return found;\n-    }\n-\n-    /**\n-     * Add a node child to the specific tree\n-     * @param nodes list populate\n-     * @param child to be added to list\n-     * @return List<TreeNode>\n-     */\n-    public List<TreeNode> addChildToParent(List<TreeNode> nodes,TreeNode child){\n-        if(nodes.size() == 0){\n-            nodes.add(child);\n-            return nodes;\n-        }\n-        //if child is the root it won't be a child, so just ignore it\n-        if(child.getParentId() == child.getId())\n-            return nodes;\n-\n-        else {\n-            for(TreeNode item : nodes) {\n-                if(item.getId() == child.getParentId()){\n-                    item.getChildren().add(child);\n-                    break;\n-                }\n-            }\n-        }\n-\n-        return nodes;\n-    }\n-\n-    private TreeModel convertToTreeModel(List<TreeNode> list) {\n-        TreeModel model = null;\n-        DefaultMutableTreeNode rootNode = new DefaultMutableTreeNode(new TreeModelBean(\"Root\"));\n-        add(rootNode, list);\n-        model = new DefaultTreeModel(rootNode);\n-        return model;\n-    }\n-\n-    private void add(DefaultMutableTreeNode parent, List<TreeNode> sub) {\n-        for (Iterator<TreeNode> i = sub.iterator(); i.hasNext();) {\n-            TreeNode node = i.next();\n-            if (node.getChildren().size() > 0) {\n-                DefaultMutableTreeNode child = new DefaultMutableTreeNode\n-                    (new TreeModelBean(node));\n-                parent.add(child);\n-                add(child, node.getChildren());\n-            } else {\n-                DefaultMutableTreeNode child = new DefaultMutableTreeNode\n-                    (new TreeModelBean(node));\n-                parent.add(child);\n-            }\n-        }\n-    }\n-\n-    /**\n-     * TreeNode wrapper class for RoleTO object.\n-     */\n-    public class TreeNode {\n-        Long id;\n-\n-        Long parentId;\n-\n-        String name;\n-\n-        List<TreeNode> children = new ArrayList<TreeNode>();\n-\n-        public List<TreeNode> getChildren() {\n-            return children;\n-        }\n-\n-        public void setChildren(List<TreeNode> children) {\n-            this.children = children;\n-        }\n-\n-        public Long getId() {\n-            return id;\n-        }\n-\n-        public Long getParentId() {\n-            return parentId;\n-        }\n-\n-        public void setParentId(Long parentId) {\n-            this.parentId = parentId;\n-        }\n-        \n-        public void setId(Long id) {\n-            this.id = id;\n-        }\n-\n-        public String getName() {\n-            return name;\n-        }\n-\n-        public void setName(String name) {\n-            this.name = name;\n-        }\n-    }\n }\n\\ No newline at end of file"},{"sha":"d3e61190b47cbaa6b6eb4e436ec0d890a7b60da8","filename":"console/src/main/java/org/syncope/console/pages/Schema.java","status":"modified","additions":27,"deletions":4,"changes":31,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -23,6 +23,7 @@\n import org.apache.wicket.markup.html.basic.Label;\n import org.apache.wicket.markup.html.list.ListItem;\n import org.apache.wicket.markup.html.list.ListView;\n+import org.apache.wicket.markup.html.panel.FeedbackPanel;\n import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.LoadableDetachableModel;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n@@ -66,6 +67,10 @@ public class Schema extends BasePage\n     WebMarkupContainer membershipSchemaContainer;\n     WebMarkupContainer membershipDerivedSchemaContainer;\n \n+    /** Response flag set by the Modal Window after the operation is completed  */\n+    boolean operationResult = false;\n+    FeedbackPanel feedbackPanel;\n+    \n     public Schema(PageParameters parameters)\n     {\n         super(parameters);\n@@ -88,6 +93,11 @@ public Schema(PageParameters parameters)\n         add(createMembershipDerivedSchemaWin = new ModalWindow(\"createMembershipDerSchemaWin\"));\n         add(editMembershipDerivedSchemaWin = new ModalWindow(\"editMembershipDerSchemaWin\"));\n \n+        feedbackPanel = new FeedbackPanel(\"feedback\");\n+        feedbackPanel.setOutputMarkupId( true );\n+        \n+        add(feedbackPanel);\n+\n         IModel userSchemas =  new LoadableDetachableModel()\n         {\n             protected Object load() {\n@@ -636,10 +646,23 @@ public Page createPage() {\n     public void setWindowClosedCallback(ModalWindow window,final WebMarkupContainer container) {\n \n         window.setWindowClosedCallback(\n-                new ModalWindow.WindowClosedCallback() {\n-                    public void onClose(AjaxRequestTarget target) {\n-                        target.addComponent(container);\n+            new ModalWindow.WindowClosedCallback() {\n+                public void onClose(AjaxRequestTarget target) {\n+                    target.addComponent(container);\n+                    if(operationResult){\n+                        info(getString(\"operation_succeded\"));  \n+                        target.addComponent(feedbackPanel);\n+                        operationResult = false;\n                     }\n-                });\n+                }\n+            });\n+    }\n+\n+    public boolean isOperationResult() {\n+        return operationResult;\n+    }\n+\n+    public void setOperationResult(boolean operationResult) {\n+        this.operationResult = operationResult;\n     }\n }\n\\ No newline at end of file"},{"sha":"a20bd45346202e96a1958eb14352202a1a818fc8","filename":"console/src/main/java/org/syncope/console/pages/SchemaModalPage.java","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -136,7 +136,9 @@ else if (getEntity() == Entity.MEMBERSHIP)\n                         restClient.updateMemberhipSchema((SchemaTO)form.getDefaultModelObject());\n \n                 }\n-\n+                Schema callerPage = (Schema)basePage;\n+                callerPage.setOperationResult(true);\n+                \n                 window.close(target);\n             }\n "},{"sha":"c50fd1c716b44f1a87d9b05021e16ca837c63165","filename":"console/src/main/java/org/syncope/console/pages/UserModalPage.java","status":"modified","additions":236,"deletions":98,"changes":334,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -28,10 +28,14 @@\n import java.util.Set;\n import java.util.logging.Level;\n import java.util.logging.Logger;\n+import javax.swing.tree.DefaultMutableTreeNode;\n import org.apache.wicket.Application;\n+import org.apache.wicket.Page;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+\n import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.basic.Label;\n import org.apache.wicket.markup.html.form.Form;\n@@ -40,37 +44,51 @@\n import org.apache.wicket.markup.html.list.ListView;\n import org.apache.wicket.markup.html.panel.FeedbackPanel;\n import org.apache.wicket.markup.html.panel.Panel;\n+import org.apache.wicket.markup.html.tree.BaseTree;\n+import org.apache.wicket.markup.html.tree.LinkTree;\n import org.apache.wicket.model.CompoundPropertyModel;\n+import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.Model;\n+import org.apache.wicket.model.PropertyModel;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n import org.syncope.client.to.AttributeTO;\n+import org.syncope.client.to.MembershipTO;\n import org.syncope.client.to.ResourceTO;\n import org.syncope.client.to.ResourceTOs;\n import org.syncope.client.to.SchemaTO;\n import org.syncope.client.to.SchemaTOs;\n import org.syncope.client.to.UserTO;\n import org.syncope.console.SyncopeApplication;\n import org.syncope.console.rest.ResourcesRestClient;\n+import org.syncope.console.rest.RolesRestClient;\n import org.syncope.console.rest.SchemaRestClient;\n import org.syncope.console.rest.UsersRestClient;\n \n import org.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n import org.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.syncope.console.wicket.markup.html.form.DateFieldPanel;\n import org.syncope.console.wicket.markup.html.form.ListMultipleChoiceTransfer;\n+import org.syncope.console.wicket.markup.html.tree.SyncopeRoleTree;\n+import org.syncope.console.wicket.markup.html.tree.TreeModelBean;\n \n /**\n  * Modal window with User form.\n  */\n public class UserModalPage extends SyncopeModalPage {\n \n     @SpringBean(name = \"usersRestClient\")\n-    UsersRestClient restClient;\n-    AjaxButton submit;\n-    /** Wicket panel containing specific HTML input type component*/\n-    List<Panel> inputTypePanels = new ArrayList<Panel>();\n+    UsersRestClient usersRestClient;\n+\n+    @SpringBean(name = \"rolesRestClient\")\n+    RolesRestClient rolesRestClient;\n+\n     WebMarkupContainer container;\n-    List<SchemaWrapper> schemaWrappers = new ArrayList<SchemaWrapper>();\n+    WebMarkupContainer membershipsContainer;\n+    AjaxButton submit;\n+\n+    List<SchemaWrapper> schemaWrappers;\n+    List<MembershipTO> membershipTOs;\n+    final ModalWindow createUserWin;\n \n     /**\n      *\n@@ -82,25 +100,23 @@ public class UserModalPage extends SyncopeModalPage {\n     public UserModalPage(final BasePage basePage, final ModalWindow window,\n             final UserTO userTO, final boolean createFlag) {\n \n+        schemaWrappers = new ArrayList<SchemaWrapper>();\n+\n+        add(createUserWin = new ModalWindow(\"membershipWin\"));\n+\n+        createUserWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n+//        createUserWin.setInitialHeight(WIN_USER_HEIGHT);\n+//        createUserWin.setInitialWidth(WIN_USER_WIDTH);\n+        createUserWin.setPageMapName(\"create-membership-modal\");\n+        createUserWin.setCookieName(\"create-membership-modal\");\n \n         Form userForm = new Form(\"UserForm\");\n \n         userForm.setModel(new CompoundPropertyModel(userTO));\n \n-//        final IModel roleSchemasList =  new LoadableDetachableModel()\n-//        {\n-//            protected Object load() {\n-//\n-//                SchemaRestClient schemaRestClient = (SchemaRestClient)\n-//                        ((SyncopeApplication)Application.get()).\n-//                        getApplicationContext().getBean(\"schemaRestClient\");\n-//\n-//                return schemaRestClient.getAllRoleSchemasNames();\n-//            }\n-//        };\n-\n         setupSchemaWrappers(createFlag, userTO);\n-\n+        setupMemberships(createFlag,userTO);\n+        \n         final ListView userAttributesView = new ListView(\"userSchemas\", schemaWrappers) {\n \n             @Override\n@@ -136,8 +152,8 @@ public void setObject(Serializable object) {\n \n                                 @Override\n                                 public Serializable getObject() {\n-                                    //return (String) item.getModelObject();\n-                                    return \"false\";\n+                                    return (String) item.getModelObject();\n+                                    //return \"false\";\n                                 }\n \n                                 @Override\n@@ -155,11 +171,14 @@ public void setObject(Serializable object) {\n                                         public Serializable getObject() {\n                                             DateFormat formatter = new SimpleDateFormat(schemaTO.getConversionPattern());\n                                             Date date = new Date();\n-                                            String val;\n+\n                                             try {\n-                                                date = formatter.parse((String) item.getModelObject());\n+                                                String dateValue = (String) item.getModelObject();\n                                                 formatter = new SimpleDateFormat(\"yyyy-MM-dd\");\n-                                                val = formatter.format(date);\n+\n+                                                if(!dateValue.equals(\"\"))\n+                                                    date = formatter.parse((String) item.getModelObject());\n+                                                \n                                             } catch (ParseException ex) {\n                                                 Logger.getLogger(UserModalPage.class.getName()).log(Level.SEVERE, null, ex);\n                                             }\n@@ -207,11 +226,9 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n                 }\n \n                 addButton.setDefaultFormProcessing(false);\n-                //addButton.setEnabled(schemaTO.isMultivalue());\n                 addButton.setVisible(schemaTO.isMultivalue());\n \n                 dropButton.setDefaultFormProcessing(false);\n-                //dropButton.setEnabled(schemaTO.isMultivalue());\n                 dropButton.setVisible(schemaTO.isMultivalue());\n \n                 if (schemaWrapper.getValues().size() == 1) {\n@@ -247,8 +264,7 @@ public List<String> setupDestinations() {\n                         //Destinations:available resources\n                         List<String> resources = new ArrayList<String>();\n \n-                        ResourcesRestClient resourcesRestClient = (ResourcesRestClient)\n-                                ((SyncopeApplication) Application.get()).getApplicationContext().getBean(\"resourcesRestClient\");\n+                        ResourcesRestClient resourcesRestClient = (ResourcesRestClient) ((SyncopeApplication) Application.get()).getApplicationContext().getBean(\"resourcesRestClient\");\n \n                         ResourceTOs resourcesTos = resourcesRestClient.getAllResources();\n \n@@ -273,53 +289,6 @@ public List<String> setupDestinations() {\n \n         userForm.add(resourcesTransfer);\n \n-//final ListMultipleChoiceTransfer rolesTransfer =\n-//    new ListMultipleChoiceTransfer(\"rolesChoiceTransfer\",\n-//    getString(\"firstRolesList\"),getString(\"secondRolesList\")) {\n-//\n-//    @Override\n-//    public List<String> setupOriginals() {\n-//        //Originals:user's resources\n-//        List<String> roles = new ArrayList<String>();\n-//\n-//        for (String roleName : userTO.get) {\n-//            roles.add(roleName);\n-//        }\n-//\n-//        return roles;\n-//\n-//    }\n-//\n-//    @Override\n-//    public List<String> setupDestinations() {\n-//        //Destinations:available resources\n-//        List<String> resources = new ArrayList<String>();\n-//\n-//        ResourcesRestClient resourcesRestClient = (ResourcesRestClient)\n-//                ((SyncopeApplication) Application.get()).getApplicationContext()\n-//                .getBean(\"resourcesRestClient\");\n-//\n-//        ResourceTOs resourcesTos = resourcesRestClient.getAllResources();\n-//\n-//        if (userTO.getResources().size() == 0) {\n-//            for (ResourceTO resourceTO : resourcesTos) {\n-//                resources.add(resourceTO.getName());\n-//            }\n-//\n-//        } else {\n-//\n-//            for (String resource : userTO.getResources()) {\n-//                for (ResourceTO resourceTO : resourcesTos) {\n-//                    if (!resource.equals(resourceTO.getName())) {\n-//                        resources.add(resourceTO.getName());\n-//                    }\n-//                }\n-//            }\n-//        }\n-//        return resources;\n-//    }\n-//    };\n-\n         container = new WebMarkupContainer(\"container\");\n         container.add(userAttributesView);\n \n@@ -342,26 +311,26 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n \n                 try {\n \n-                    userTO.setResources(getResourcesSelected(resourcesTransfer.getFinalSelections()));\n-                    userTO.setAttributes(getUserAttributes());\n+                    userTO.setResources(getResourcesSet(resourcesTransfer.getFinalSelections()));\n+                    userTO.setAttributes(getUserAttributesSet());\n+                    userTO.setMemberships(getMembershipsSet());\n+\n+                        if (createFlag) {\n+                            usersRestClient.createUser(userTO);\n+                        } else {\n+                            res = usersRestClient.updateUser(userTO);\n \n-                    if (createFlag) {\n-                        restClient.createUser(userTO);\n-                    } else {\n-                        res = restClient.updateUser(userTO);\n-                        \n-                        if (!res) \n-                              error(getString(\"error_updating\"));\n+                        if (!res) {\n+                            error(getString(\"error_updating\"));\n+                        }\n \n                     }\n-                    \n+\n                     window.close(target);\n \n                 } catch (Exception e) {\n                     error(getString(\"error\") + \":\" + e.getMessage());\n                 }\n-\n-\n             }\n \n             @Override\n@@ -374,16 +343,140 @@ protected void onError(AjaxRequestTarget target, Form form) {\n \n         userForm.add(new FeedbackPanel(\"feedback\").setOutputMarkupId(true));\n \n+        //Roles Tab\n+        SyncopeRoleTree roleTree = new SyncopeRoleTree(rolesRestClient);\n+\n+        BaseTree tree;\n+\n+        tree = new LinkTree(\"treeTable\", roleTree.createTreeModel()) {\n+\n+            @Override\n+            protected IModel<Object> getNodeTextModel(IModel<Object> model) {\n+                return new PropertyModel(model, \"userObject.treeNode.name\");\n+            }\n+\n+            @Override\n+            protected void onNodeLinkClicked(final Object node, final BaseTree tree,\n+                    final AjaxRequestTarget target) {\n+\n+                DefaultMutableTreeNode syncopeTreeNode = (DefaultMutableTreeNode) node;\n+                final TreeModelBean treeModel = (TreeModelBean) syncopeTreeNode.getUserObject();\n+\n+                if (treeModel.getTreeNode() != null){\n+\n+                createUserWin.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                 MembershipTO membershipTO;\n+                 \n+                    @Override\n+                    public Page createPage() {\n+\n+                            membershipTO = new MembershipTO();\n+                            membershipTO.setRole(treeModel.getTreeNode().getId());\n+                            String title = treeModel.getTreeNode().getName();\n+\n+                            MembershipModalPage form =\n+                                    new MembershipModalPage(getPage(), createUserWin,\n+                                    membershipTO, true);\n+\n+                            return form;\n+                    }\n+                });\n+                createUserWin.show(target);\n+                }\n+            }\n+        };\n+\n+        tree.getTreeState().expandAll();\n+        tree.updateTree();\n+\n+        userForm.add(tree);\n+\n+\n+        ListView membershipsView = new ListView(\"memberships\", membershipTOs) {\n+\n+            @Override\n+            protected void populateItem(final ListItem item) {\n+                final MembershipTO membershipTO =\n+                        (MembershipTO) item.getDefaultModelObject();\n+\n+                item.add(new Label(\"roleId\", new Model(membershipTO.getRole())));\n+\n+                AjaxLink editLink = new AjaxLink(\"editLink\") {\n+\n+                    @Override\n+                    public void onClick(AjaxRequestTarget target) {\n+                        createUserWin.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                            public Page createPage() {\n+\n+                            MembershipModalPage form = new MembershipModalPage(\n+                                getPage(), createUserWin,membershipTO, false);\n+\n+                            return form;  \n+\n+                            }\n+                        });\n+                        createUserWin.show(target);\n+                    }\n+                };\n+                item.add(editLink);\n+\n+                AjaxLink deleteLink = new AjaxLink(\"deleteLink\") {\n+\n+                        @Override\n+                        public void onClick(AjaxRequestTarget target) {\n+                            int componentId = new Integer(getParent().getId());\n+                            membershipTOs.remove(componentId);\n+                            \n+                            target.addComponent(membershipsContainer);\n+                        }\n+                    };\n+                item.add(deleteLink);\n+            }\n+        };\n+\n+        membershipsContainer = new WebMarkupContainer(\"membershipsContainer\");\n+        membershipsContainer.add(membershipsView);\n+        membershipsContainer.setOutputMarkupId(true);\n+\n+        setWindowClosedCallback(createUserWin, membershipsContainer);\n+\n+        userForm.add(membershipsContainer);\n         add(userForm);\n     }\n \n-    public void setupSchemaWrappers(boolean create, UserTO userTO) {\n+    /**\n+     * Set a WindowClosedCallback for a ModalWindow instance.\n+     * @param window\n+     * @param container\n+     */\n+    public void setWindowClosedCallback(ModalWindow window,\n+            final WebMarkupContainer container) {\n+\n+        window.setWindowClosedCallback(\n+                new ModalWindow.WindowClosedCallback() {\n+\n+                    public void onClose(AjaxRequestTarget target) {\n+                        target.addComponent(container);\n+                    }\n+                });\n+    }\n+\n+    /**\n+     * Initialize the SchemaWrapper collection\n+     * @param create\n+     * @param userTO\n+     */\n+\n+    public void setupSchemaWrappers(boolean create,UserTO userTO) {\n \n         schemaWrappers = new ArrayList<SchemaWrapper>();\n         SchemaWrapper schemaWrapper;\n \n-        SchemaRestClient schemaRestClient = (SchemaRestClient) ((SyncopeApplication)\n-                Application.get()).getApplicationContext().getBean(\"schemaRestClient\");\n+        SchemaRestClient schemaRestClient = (SchemaRestClient)\n+                ((SyncopeApplication) Application.get())\n+                .getApplicationContext().getBean(\"schemaRestClient\");\n \n         SchemaTOs schemas = schemaRestClient.getAllUserSchemas();\n \n@@ -405,7 +498,29 @@ public void setupSchemaWrappers(boolean create, UserTO userTO) {\n         }\n     }\n \n-    public Set<AttributeTO> getUserAttributes() {\n+    /**\n+     * Initialize the membershipTOs\n+     * @param creation flag: true if a new User is being created, false otherwise\n+     * @param userTO object\n+     */\n+    public void setupMemberships(boolean create,UserTO userTO){\n+    \n+        membershipTOs = new ArrayList<MembershipTO>();\n+        \n+        if(!create) {\n+            Set<MembershipTO> memberships = userTO.getMemberships();\n+\n+            for(MembershipTO membership : memberships)\n+            membershipTOs.add(membership);\n+          }\n+    }\n+\n+    /**\n+     * Initialize the user's attributes\n+     * @param creation flag: true if a new User is being created, false otherwise\n+     * @param userTO object\n+     */\n+    public Set<AttributeTO> getUserAttributesSet() {\n \n         Set<AttributeTO> attributes = new HashSet<AttributeTO>();\n \n@@ -428,10 +543,24 @@ public Set<AttributeTO> getUserAttributes() {\n     }\n \n     /**\n-     * Set in the UserTO the resources set.\n-     * @return UserTO with resources set\n+     * Convert a memberships ArrayList in a memberships HashSet list.\n+     * @return Set<MembershipTO> selected for a new user.\n+     */\n+    public Set<MembershipTO> getMembershipsSet(){\n+\n+        HashSet<MembershipTO> memberships = new HashSet<MembershipTO>();\n+\n+        for (MembershipTO membership : membershipTOs) \n+            memberships.add(membership);\n+\n+        return memberships;\n+    }\n+\n+    /**\n+     * Covert a resources List<String> to Set<String>.\n+     * @return Set<String>\n      */\n-    public Set<String> getResourcesSelected(List<String> resourcesList) {\n+    public Set<String> getResourcesSet(List<String> resourcesList) {\n         Set<String> resourcesSet = new HashSet<String>();\n \n         for (String resource : resourcesList) {\n@@ -441,6 +570,14 @@ public Set<String> getResourcesSelected(List<String> resourcesList) {\n         return resourcesSet;\n     }\n \n+    public List<MembershipTO> getMembershipTOs() {\n+        return membershipTOs;\n+    }\n+\n+    public void setMembershipTOs(List<MembershipTO> membershipTOs) {\n+        this.membershipTOs = membershipTOs;\n+    }\n+\n     /**\n      * Wrapper for User's Schema - Attribute.\n      */\n@@ -452,11 +589,12 @@ public class SchemaWrapper {\n         public SchemaWrapper(SchemaTO schemaTO) {\n             this.schemaTO = schemaTO;\n             values = new ArrayList<String>();\n-            \n-            if(schemaTO.getType().getClassName().equals(\"java.lang.Boolean\"))\n-                values.add(\"false\");\n-            else\n+\n+            if (schemaTO.getType().getClassName().equals(\"java.lang.Boolean\")) {\n+                values.add(\"\");//false\n+            } else {\n                 values.add(\"\");\n+            }\n         }\n \n         public SchemaTO getSchemaTO() {\n@@ -476,8 +614,8 @@ public void setValues(List<String> values) {\n         }\n \n         public void setValues(Set<String> values) {\n+            this.values = new ArrayList<String>();\n             for (String value : values) {\n-                this.values = new ArrayList<String>();\n                 this.values.add(value);\n             }\n         }"},{"sha":"e033213d0583c29c79764552b04daaf8d6a762bd","filename":"console/src/main/java/org/syncope/console/rest/ResourcesRestClient.java","status":"modified","additions":10,"deletions":11,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FResourcesRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FResourcesRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FResourcesRestClient.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -19,15 +19,15 @@\n import org.syncope.client.validation.SyncopeClientCompositeErrorException;\n \n /**\n- * Console client for invoking Rest Connectors services.\n+ * Console client for invoking Rest Resources services.\n  */\n public class ResourcesRestClient {\n \n     RestClient restClient;\n \n     /**\n      * Get all Connectors.\n-     * @return SchemaTOs\n+     * @return ResourceTOs\n      */\n     public ResourceTOs getAllResources() {\n         ResourceTOs resources = null;\n@@ -45,7 +45,7 @@ public ResourceTOs getAllResources() {\n \n     /**\n      * Create new resource.\n-     * @param schemaTO\n+     * @param resourceTO\n      */\n     public void createResource(ResourceTO resourceTO) {\n         try{\n@@ -60,9 +60,9 @@ public void createResource(ResourceTO resourceTO) {\n     /**\n      * Load an already existent resource by its name.\n      * @param name (e.g.:surname)\n-     * @return schemaTO\n+     * @return ResourceTO\n      */\n-    public ResourceTO readConnector(String name) {\n+    public ResourceTO readResource(String name) {\n         ResourceTO resourceTO = null;\n \n         try {\n@@ -80,12 +80,12 @@ public ResourceTO readConnector(String name) {\n      * Update an already existent resource.\n      * @param schemaTO updated\n      */\n-    public void updateResource(ResourceTO connectorTO) {\n-        ResourceTO resourceTO = null;\n+    public void updateResource(ResourceTO resourceTO) {\n+        ResourceTO newResourceTO;\n \n         try {\n-        resourceTO = restClient.getRestTemplate().postForObject\n-                (restClient.getBaseURL() + \"resource/update.json\", connectorTO,\n+        newResourceTO = restClient.getRestTemplate().postForObject\n+                (restClient.getBaseURL() + \"resource/update.json\", resourceTO,\n                 ResourceTO.class);\n         }\n         catch (SyncopeClientCompositeErrorException e) {\n@@ -96,8 +96,7 @@ public void updateResource(ResourceTO connectorTO) {\n \n     /**\n      * Delete an already existent resource by its name.\n-     * @param name (e.g.:surname)\n-     * @return schemaTO\n+     * @param name\n      */\n     public void deleteResource(String name) {\n         try {"},{"sha":"d32d021c2a6dbcfca05cd56824c52532f313026f","filename":"console/src/main/java/org/syncope/console/rest/RolesRestClient.java","status":"modified","additions":15,"deletions":13,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FRolesRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FRolesRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FRolesRestClient.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -14,6 +14,7 @@\n  */\n package org.syncope.console.rest;\n \n+import org.syncope.client.mod.RoleMod;\n import org.syncope.client.to.RoleTO;\n import org.syncope.client.to.RoleTOs;\n import org.syncope.client.validation.SyncopeClientCompositeErrorException;\n@@ -45,12 +46,13 @@ public RoleTOs getAllRoles() {\n \n     /**\n      * Create new role.\n-     * @param schemaTO\n+     * @param roleTO\n      */\n-    public void createRole(RoleTO RoleTO) {\n+    public void createRole(RoleTO roleTO) {\n+        RoleTO newRoleTO;\n         try{\n-        restClient.getRestTemplate().postForObject(restClient.getBaseURL() +\n-                \"role/create\", RoleTO, RoleTO.class);\n+        newRoleTO = restClient.getRestTemplate().postForObject(restClient.getBaseURL() +\n+                \"role/create\", roleTO, RoleTO.class);\n         }\n         catch (SyncopeClientCompositeErrorException e) {\n             e.printStackTrace();\n@@ -62,13 +64,13 @@ public void createRole(RoleTO RoleTO) {\n      * @param name (e.g.:surname)\n      * @return schemaTO\n      */\n-    public RoleTO readRole(String name) {\n+    public RoleTO readRole(Long id) {\n         RoleTO roleTO = null;\n \n         try {\n         roleTO = restClient.getRestTemplate().getForObject\n-                (restClient.getBaseURL() + \"role/read/\" + name + \".json\",\n-                RoleTO.class);\n+                (restClient.getBaseURL() + \"role/read/{roleId}.json\",\n+                 RoleTO.class, id);\n         }\n         catch (SyncopeClientCompositeErrorException e) {\n             e.printStackTrace();\n@@ -78,33 +80,33 @@ public RoleTO readRole(String name) {\n \n     /**\n      * Update an already existent role.\n-     * @param schemaTO updated\n+     * @param roleTO updated\n      * @return true is the opertion ends succesfully, false otherwise\n      */\n-    public boolean updateRole(RoleTO roleTO) {\n+    public boolean updateRole(RoleMod roleMod) {\n         RoleTO newRoleTO = null;\n \n         try {\n         newRoleTO = restClient.getRestTemplate().postForObject\n-                (restClient.getBaseURL() + \"role/update.json\", roleTO,\n+                (restClient.getBaseURL() + \"role/update\", roleMod,\n                 RoleTO.class);\n         }\n         catch (SyncopeClientCompositeErrorException e) {\n             e.printStackTrace();\n         }\n \n-        return (roleTO.equals(newRoleTO))?true:false;\n+        return (newRoleTO.getName().equals(roleMod.getName()))?true:false;\n     }\n     \n     /**\n      * Delete an already existent role by its name.\n      * @param name (e.g.:surname)\n      * @return schemaTO\n      */\n-    public void deleteRole(String name) {\n+    public void deleteRole(Long id) {\n         try {\n         restClient.getRestTemplate().delete(restClient.getBaseURL() +\n-                \"role/delete/{roleName}.json\",name);\n+                \"role/delete/{roleId}.json\",id);\n         }\n         catch (SyncopeClientCompositeErrorException e) {\n             e.printStackTrace();"},{"sha":"8e831776e8d5926715cddcdfc1b958d34637db0d","filename":"console/src/main/java/org/syncope/console/rest/UsersRestClient.java","status":"modified","additions":10,"deletions":5,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FUsersRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FUsersRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Frest%2FUsersRestClient.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -143,11 +143,16 @@ public boolean updateConfigurationAttributes(ConfigurationTO configurationTO) {\n      * @return ConfigurationTO object if the configuration exists, null otherwise\n      */\n     public ConfigurationTO readConfigurationAttributes() {\n-\n-        ConfigurationTO configurationTO = restClient.getRestTemplate().getForObject(\n-                restClient.getBaseURL()+ \"configuration/read/{confKey}.json\",\n-                ConfigurationTO.class, \"users.attributes.view\");\n-               \n+        \n+        ConfigurationTO configurationTO;\n+        try {\n+            configurationTO = restClient.getRestTemplate().getForObject(\n+                    restClient.getBaseURL() + \"configuration/read/{confKey}.json\",\n+                    ConfigurationTO.class, \"users.attributes.view\");\n+        } catch (SyncopeClientCompositeErrorException e) {\n+            e.printStackTrace();\n+            return null;\n+        }\n \n         return configurationTO;\n     }"},{"sha":"dcf09abe450c0c8c35a31df150dd2253120953f1","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/form/AjaxCheckBoxPanel.java","status":"modified","additions":0,"deletions":17,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxCheckBoxPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxCheckBoxPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxCheckBoxPanel.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -36,21 +36,4 @@ public AjaxCheckBoxPanel(String id, String name, IModel<Boolean> model,boolean r\n \n         add(new UpdatingCheckBox(\"checkboxField\", model).setLabel(new Model(name)));\n     }\n-\n-\n-    /**\n-     * Extension class of CheckBox. It's purposed for storing values in the\n-     * corresponding property model after pressing 'Add' button.\n-     */\n-     private static class UpdatingCheckBox extends AjaxCheckBox\n-     {\n-        public UpdatingCheckBox(String id, IModel<Boolean> model) {\n-            super(id, model);\n-        }\n-\n-        @Override\n-        protected void onUpdate(AjaxRequestTarget target) {\n-\n-        }\n-     }\n }"},{"sha":"b685724bc547ce9c062ac5c2fc0d3829443c3bd3","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/form/AjaxTextFieldPanel.java","status":"modified","additions":0,"deletions":22,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxTextFieldPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxTextFieldPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxTextFieldPanel.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -14,10 +14,7 @@\n  */\n package org.syncope.console.wicket.markup.html.form;\n \n-import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n import org.apache.wicket.markup.html.basic.Label;\n-import org.apache.wicket.markup.html.form.TextField;\n import org.apache.wicket.markup.html.panel.Panel;\n import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.Model;\n@@ -41,24 +38,5 @@ public AjaxTextFieldPanel(String id,String name,IModel model,boolean required) {\n         \n         add(new UpdatingTextField(\"textField\", model).setRequired(required)\n                                  .setLabel(new Model(name)));\n-\n-    }\n-\n-    /**\n-     * Extension class of TextField. It's purposed for storing values in the\n-     * corresponding property model after pressing 'Add' button.\n-     */\n-    private static class UpdatingTextField extends TextField\n-    {\n-        public UpdatingTextField( String id, IModel model )\n-        {\n-            super( id, model );\n-            add( new AjaxFormComponentUpdatingBehavior( \"onblur\" )\n-            {\n-                protected void onUpdate( AjaxRequestTarget target )\n-                {\n-                }\n-            } );\n-        }\n     }\n }\n\\ No newline at end of file"},{"sha":"b705a226ee521ea7d67d9199c2f684b2e1baca72","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/form/DateFieldPanel.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FDateFieldPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FDateFieldPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FDateFieldPanel.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -20,7 +20,6 @@\n import java.util.Date;\n import org.apache.wicket.extensions.yui.calendar.DatePicker;\n import org.apache.wicket.markup.html.basic.Label;\n-import org.apache.wicket.markup.html.form.TextField;\n import org.apache.wicket.markup.html.panel.Panel;\n import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.Model;\n@@ -45,7 +44,7 @@ public DateFieldPanel(String id, String name ,IModel<?> model, boolean required)\n             add(new Label(\"required\", \"\"));\n         }\n \n-        TextField dateField = new TextField(\"dateField\", model, Date.class);\n+        UpdatingTextField dateField = new UpdatingTextField(\"dateField\", model, Date.class);\n         dateField.setRequired(required);\n         dateField.setLabel(new Model(name));\n         dateField.add(new DatePicker());"},{"sha":"63c687d2ec18fb3859883bea7addb14fbaacc930","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/form/UpdatingCheckBox.java","status":"added","additions":36,"deletions":0,"changes":36,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FUpdatingCheckBox.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FUpdatingCheckBox.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FUpdatingCheckBox.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -0,0 +1,36 @@\n+/*\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ * \n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *  under the License.\n+ */\n+\n+package org.syncope.console.wicket.markup.html.form;\n+\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.markup.html.form.AjaxCheckBox;\n+import org.apache.wicket.model.IModel;\n+\n+/**\n+ * Extension class of CheckBox. It's purposed for storing values in the\n+ * corresponding property model after pressing 'Add' button.\n+ */\n+ public class UpdatingCheckBox extends AjaxCheckBox\n+ {\n+    public UpdatingCheckBox(String id, IModel<Boolean> model) {\n+        super(id, model);\n+    }\n+\n+    @Override\n+    protected void onUpdate(AjaxRequestTarget target) {\n+\n+    }\n+ }"},{"sha":"b51e8c26d7f0b252b506ff81827741818431e164","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/form/UpdatingDropDownChoice.java","status":"added","additions":39,"deletions":0,"changes":39,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FUpdatingDropDownChoice.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FUpdatingDropDownChoice.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FUpdatingDropDownChoice.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -0,0 +1,39 @@\n+/*\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ * \n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *  under the License.\n+ */\n+\n+package org.syncope.console.wicket.markup.html.form;\n+\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n+import org.apache.wicket.markup.html.form.DropDownChoice;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.PropertyModel;\n+\n+/**\n+ * Extension class of DropDownChoice. It's purposed for storing values in the\n+ * corresponding property model after pressing 'Add' button.\n+ */\n+ public class UpdatingDropDownChoice extends DropDownChoice\n+ {\n+    public UpdatingDropDownChoice(String id, PropertyModel model, IModel imodel) {\n+        super(id, model, imodel);\n+        add( new AjaxFormComponentUpdatingBehavior( \"onblur\" )\n+        {\n+            protected void onUpdate( AjaxRequestTarget target )\n+            {\n+            }\n+        } );\n+    }\n+ }\n\\ No newline at end of file"},{"sha":"97588be01f13b767f4b32853751f6df7eb6ea8d9","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/form/UpdatingTextField.java","status":"added","additions":53,"deletions":0,"changes":53,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FUpdatingTextField.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FUpdatingTextField.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FUpdatingTextField.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -0,0 +1,53 @@\n+/*\n+ *  Copyright 2010 luis.\n+ * \n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ * \n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *  under the License.\n+ */\n+\n+package org.syncope.console.wicket.markup.html.form;\n+\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n+import org.apache.wicket.markup.html.form.TextField;\n+import org.apache.wicket.model.IModel;\n+\n+/**\n+ * Extension class of TextField. It's purposed for storing values in the\n+ * corresponding property model after pressing 'Add' button.\n+ */\n+public class UpdatingTextField extends TextField\n+{\n+\n+    public UpdatingTextField(String id, IModel model, Class type) {\n+        super(id, model, type);\n+        add( new AjaxFormComponentUpdatingBehavior( \"onblur\" )\n+        {\n+            protected void onUpdate( AjaxRequestTarget target )\n+            {\n+            }\n+        } );\n+    }\n+\n+\n+    public UpdatingTextField( String id, IModel model )\n+    {\n+        super( id, model );\n+        add( new AjaxFormComponentUpdatingBehavior( \"onblur\" )\n+        {\n+            protected void onUpdate( AjaxRequestTarget target )\n+            {\n+            }\n+        } );\n+    }\n+}\n\\ No newline at end of file"},{"sha":"7f1839749f44ba642e948e60cd968dabebb8e4ab","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/tree/LeafEditablePanel.java","status":"removed","additions":0,"deletions":58,"changes":58,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fed0eb84c45896f1e7f1aad8efaa93582b8fbd96/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FLeafEditablePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fed0eb84c45896f1e7f1aad8efaa93582b8fbd96/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FLeafEditablePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FLeafEditablePanel.java?ref=fed0eb84c45896f1e7f1aad8efaa93582b8fbd96","patch":"@@ -1,58 +0,0 @@\n-/*\n- *  Copyright 2010 sara.\n- * \n- *  Licensed under the Apache License, Version 2.0 (the \"License\");\n- *  you may not use this file except in compliance with the License.\n- *  You may obtain a copy of the License at\n- * \n- *       http://www.apache.org/licenses/LICENSE-2.0\n- * \n- *  Unless required by applicable law or agreed to in writing, software\n- *  distributed under the License is distributed on an \"AS IS\" BASIS,\n- *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- *  See the License for the specific language governing permissions and\n- *  limitations under the License.\n- *  under the License.\n- */\n-package org.syncope.console.wicket.markup.html.tree;\n-\n-import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.ajax.markup.html.AjaxLink;\n-import org.apache.wicket.markup.html.panel.Panel;\n-import org.apache.wicket.model.IModel;\n-\n-/**\n- * Panel that contains an text field that submits automatically after it loses focus.\n- *\n- */\n-public class LeafEditablePanel extends Panel {\n-\n-    /**\n-     * Panel constructor.\n-     *\n-     * @param id\n-     *            Markup id\n-     *\n-     * @param inputModel\n-     *            Model of the text field\n-     */\n-    public LeafEditablePanel(String id, IModel inputModel) {\n-        super(id);\n-\n-        add(new AjaxLink(\"updateRoleLink\") {\n-\n-            @Override\n-            public void onClick(AjaxRequestTarget target) {\n-                \n-            }\n-        });\n-\n-        add(new AjaxLink(\"dropRoleLink\") {\n-\n-            @Override\n-            public void onClick(AjaxRequestTarget target) {\n-\n-            }\n-        });\n-    }\n-}"},{"sha":"c7204b4ac396a57df3ed9e3066ad9f115e0d0803","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/tree/NodeEditablePanel.java","status":"renamed","additions":35,"deletions":23,"changes":58,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FNodeEditablePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FNodeEditablePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FNodeEditablePanel.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -1,12 +1,12 @@\n /*\n  *  Copyright 2010 sara.\n- * \n+ *\n  *  Licensed under the Apache License, Version 2.0 (the \"License\");\n  *  you may not use this file except in compliance with the License.\n  *  You may obtain a copy of the License at\n- * \n+ *\n  *       http://www.apache.org/licenses/LICENSE-2.0\n- * \n+ *\n  *  Unless required by applicable law or agreed to in writing, software\n  *  distributed under the License is distributed on an \"AS IS\" BASIS,\n  *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n@@ -22,65 +22,77 @@\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.panel.Panel;\n import org.apache.wicket.model.IModel;\n+import org.apache.wicket.spring.injection.annot.SpringBean;\n import org.syncope.client.to.RoleTO;\n import org.syncope.console.pages.RoleModalPage;\n+import org.syncope.console.pages.Roles;\n+import org.syncope.console.rest.RolesRestClient;\n \n /**\n- *\n+ * Panel for a node element form.\n  */\n-public class ParentEditablePanel extends Panel {\n-\n-    final ModalWindow createRoleWin;\n-    final int WIN_USER_HEIGHT = 680;\n-    final int WIN_USER_WIDTH = 900;\n-\n+public class NodeEditablePanel extends Panel {\n+    @SpringBean(name = \"rolesRestClient\")\n+    RolesRestClient restClient;\n     /**\n      * Panel constructor.\n      *\n      * @param id\n      *            Markup id\n-     *\n+     * @param parentId\n+     *            Role id\n      * @param inputModel\n      *            Model of the text field\n+     * @param window\n+     *            Modal window to open\n      */\n-    public ParentEditablePanel(String id, IModel inputModel) {\n+    public NodeEditablePanel(String id, final Long idRole,IModel inputModel,\n+                               final ModalWindow window) {\n         super(id);\n \n-        add(createRoleWin = new ModalWindow(\"createRoleWin\"));\n-\n-        createRoleWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n-        createRoleWin.setInitialHeight(WIN_USER_HEIGHT);\n-        createRoleWin.setInitialWidth(WIN_USER_WIDTH);\n-        createRoleWin.setPageMapName(\"create-role-modal\");\n-        createRoleWin.setCookieName(\"create-role-modal\");\n-\n         add(new AjaxLink(\"createRoleLink\") {\n \n             @Override\n             public void onClick(AjaxRequestTarget target) {\n-                createRoleWin.setPageCreator(new ModalWindow.PageCreator() {\n+                window.setPageCreator(new ModalWindow.PageCreator() {\n \n                     public Page createPage() {\n-                        RoleModalPage form = new RoleModalPage(null,createRoleWin, new RoleTO(), true);\n+                        RoleTO roleTO = new RoleTO();\n+                        roleTO.setParent(idRole);\n+                        RoleModalPage form = new RoleModalPage\n+                                (null,window, roleTO, true);\n                         return form;\n                     }\n                 });\n \n-                createRoleWin.show(target);\n+                window.show(target);\n             }\n         });\n \n         add(new AjaxLink(\"updateRoleLink\") {\n \n             @Override\n             public void onClick(AjaxRequestTarget target) {\n+                window.setPageCreator(new ModalWindow.PageCreator() {\n+\n+                    public Page createPage() {\n+                        RoleTO roleTO = restClient.readRole(idRole);\n+                        RoleModalPage form =\n+                                new RoleModalPage(null, window, roleTO, false);\n+                        return form;\n+                    }\n+                });\n+\n+                window.show(target);\n             }\n         });\n \n         add(new AjaxLink(\"dropRoleLink\") {\n \n             @Override\n             public void onClick(AjaxRequestTarget target) {\n+                restClient.deleteRole(idRole);\n+                setResponsePage(new Roles(null));\n             }\n         });\n     }","previous_filename":"console/src/main/java/org/syncope/console/wicket/markup/html/tree/ParentEditablePanel.java"},{"sha":"c71c3962f9a1f98617c7366b99c66ca7e0b11370","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/tree/PropertyEditableColumn.java","status":"modified","additions":18,"deletions":10,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FPropertyEditableColumn.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FPropertyEditableColumn.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FPropertyEditableColumn.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -14,43 +14,51 @@\n  */\n package org.syncope.console.wicket.markup.html.tree;\n \n+import javax.swing.tree.DefaultMutableTreeNode;\n import javax.swing.tree.TreeNode;\n \n import org.apache.wicket.Component;\n import org.apache.wicket.MarkupContainer;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.markup.html.tree.table.ColumnLocation;\n import org.apache.wicket.extensions.markup.html.tree.table.IColumn;\n import org.apache.wicket.extensions.markup.html.tree.table.IRenderable;\n import org.apache.wicket.extensions.markup.html.tree.table.PropertyRenderableColumn;\n-import org.apache.wicket.markup.html.panel.Panel;\n import org.apache.wicket.model.PropertyModel;\n \n public class PropertyEditableColumn extends PropertyRenderableColumn {\n-\n+ModalWindow window = null;\n     /**\n      * Column constructor.\n      *\n      * @param location\n      * @param header\n      * @param propertyExpression\n      */\n-    public PropertyEditableColumn(ColumnLocation location, String header, String propertyExpression) {\n+    public PropertyEditableColumn(ColumnLocation location, String header,\n+                                  String propertyExpression,ModalWindow window)\n+    {\n         super(location, header, propertyExpression);\n+        \n+        this.window = window;\n     }\n \n     /**\n      * @see IColumn#newCell(MarkupContainer, String, TreeNode, int)\n      */\n     @Override\n-    public Component newCell(MarkupContainer parent, String id, TreeNode node, int level) {\n-        Panel editablePanel;\n-        if(node.isLeaf())\n-            editablePanel = new LeafEditablePanel(id, new PropertyModel(node, getPropertyExpression()));\n-        else\n-            editablePanel = new ParentEditablePanel(id, new PropertyModel(node, getPropertyExpression()));\n+    public Component newCell(MarkupContainer parent, String id, \n+            TreeNode node, int level) {\n+        DefaultMutableTreeNode syncopeTreeNode = (DefaultMutableTreeNode) node;\n+        TreeModelBean treeModel = (TreeModelBean) syncopeTreeNode.getUserObject();\n \n-        return editablePanel;\n+        NodeEditablePanel editablePanel;\n+        \n+        editablePanel = new NodeEditablePanel(id, treeModel.getTreeNode().getId(),\n+                    new PropertyModel(node, getPropertyExpression()),window);\n \n+\n+        return editablePanel;\n     }\n \n     /**"},{"sha":"fd7c25339d8ade5f74676932574cc33332a14228","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/tree/SyncopeRoleTree.java","status":"added","additions":168,"deletions":0,"changes":168,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FSyncopeRoleTree.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FSyncopeRoleTree.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FSyncopeRoleTree.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -0,0 +1,168 @@\n+/*\n+ *  Copyright 2010 luis.\n+ * \n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ * \n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *  under the License.\n+ */\n+package org.syncope.console.wicket.markup.html.tree;\n+\n+import java.util.ArrayList;\n+import java.util.Iterator;\n+import java.util.List;\n+import javax.swing.tree.DefaultMutableTreeNode;\n+import javax.swing.tree.DefaultTreeModel;\n+import javax.swing.tree.TreeModel;\n+import org.syncope.client.to.RoleTO;\n+import org.syncope.console.rest.RolesRestClient;\n+\n+/**\n+ *\n+ */\n+public class SyncopeRoleTree {\n+    List<Long> parentsId;\n+    RolesRestClient restClient;\n+\n+    public SyncopeRoleTree(RolesRestClient restClient) {\n+        this.restClient = restClient;\n+    }\n+\n+\n+    /**\n+     * Creates the model that feeds the tree.\n+     *\n+     * @return New instance of tree model.\n+     */\n+    public TreeModel createTreeModel() {\n+\n+        List<RoleTO> roles = restClient.getAllRoles().getRoles();\n+\n+        List<SyncopeTreeNode> roleTree = new ArrayList<SyncopeTreeNode>();\n+        List<SyncopeTreeNode> parentNodes = new ArrayList<SyncopeTreeNode>();\n+        List<SyncopeTreeNode> childNodes = new ArrayList<SyncopeTreeNode>();\n+\n+        parentsId = new ArrayList<Long>();\n+\n+        //populate id list of parents\n+        for (RoleTO role : roles) {\n+            if (!parentExists(role.getParent(), parentsId)) {\n+                parentsId.add(role.getParent());\n+            }\n+        }\n+\n+        //populate parents nodes list (parent = SyncopeTreeNode)\n+        SyncopeTreeNode parentNode;\n+        for (RoleTO role : roles) {\n+            for (Long parentId : parentsId) {\n+                if (role.getId() == parentId) {\n+                    parentNode = new SyncopeTreeNode();\n+                    parentNode.setId(role.getId());\n+                    parentNode.setParentId(role.getParent());\n+                    parentNode.setName(role.getName());\n+                    parentNodes.add(parentNode);\n+                }\n+            }\n+        }\n+\n+        //populate children nodes list (parent = SyncopeTreeNode)\n+        SyncopeTreeNode childNode;\n+        for (RoleTO role : roles) {\n+            if (!parentExists(role.getId(), parentsId)) {\n+                childNode = new SyncopeTreeNode();\n+                childNode.setId(role.getId());\n+                childNode.setName(role.getName());\n+                childNode.setParentId(role.getParent());\n+                childNodes.add(childNode);\n+            }\n+        }\n+\n+        //add leaf-nodes into child nodes list\n+        for (SyncopeTreeNode node : childNodes) {\n+            addChildToParent(parentNodes, node);\n+        }\n+\n+        //nest parents each-others\n+        for (SyncopeTreeNode node : parentNodes) {\n+            addChildToParent(roleTree, node);\n+        }\n+\n+        return convertToTreeModel(roleTree);\n+    }\n+\n+    /**\n+     * Check if a parent has already been inserted in the parents id list\n+     * @param parentId\n+     * @param list\n+     * @return true if a parent id is already in the list, false otherwise\n+     */\n+    public boolean parentExists(Long parentId, List<Long> list) {\n+        boolean found = false;\n+\n+        for (Long id : list) {\n+            if (!found && id == parentId) {\n+                found = true;\n+            }\n+        }\n+        return found;\n+    }\n+\n+    /**\n+     * Add a node child to the specific tree\n+     * @param nodes list populate\n+     * @param child to be added to list\n+     * @return List<SyncopeTreeNode>\n+     */\n+    public List<SyncopeTreeNode> addChildToParent(List<SyncopeTreeNode> nodes, SyncopeTreeNode child) {\n+        if (nodes.size() == 0) {\n+            nodes.add(child);\n+            return nodes;\n+        }\n+        //if child is the root it won't be a child, so just ignore it\n+        if (child.getParentId() == child.getId()) {\n+            return nodes;\n+        } else {\n+            for (SyncopeTreeNode item : nodes) {\n+                if (item.getId() == child.getParentId()) {\n+                    item.getChildren().add(child);\n+                    break;\n+                } else if (item.getId() != child.getParentId() &&\n+                        item.getChildren().size() > 0) {\n+                    addChildToParent(item.getChildren(), child);\n+                }\n+            }\n+        }\n+\n+        return nodes;\n+    }\n+\n+    public TreeModel convertToTreeModel(List<SyncopeTreeNode> list) {\n+        TreeModel model = null;\n+        DefaultMutableTreeNode rootNode = new DefaultMutableTreeNode(new TreeModelBean(\"Root\"));\n+        add(rootNode, list);\n+        model = new DefaultTreeModel(rootNode);\n+        return model;\n+    }\n+\n+    public void add(DefaultMutableTreeNode parent, List<SyncopeTreeNode> sub) {\n+        for (Iterator<SyncopeTreeNode> i = sub.iterator(); i.hasNext();) {\n+            SyncopeTreeNode node = i.next();\n+            if (node.getChildren().size() > 0) {\n+                DefaultMutableTreeNode child = new DefaultMutableTreeNode(new TreeModelBean(node));\n+                parent.add(child);\n+                add(child, node.getChildren());\n+            } else {\n+                DefaultMutableTreeNode child = new DefaultMutableTreeNode(new TreeModelBean(node));\n+                parent.add(child);\n+            }\n+        }\n+    }\n+}\n\\ No newline at end of file"},{"sha":"dfe6af5f3e3eb08aa9eeba8dd66824270f6103b7","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/tree/SyncopeTreeNode.java","status":"added","additions":61,"deletions":0,"changes":61,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FSyncopeTreeNode.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FSyncopeTreeNode.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FSyncopeTreeNode.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -0,0 +1,61 @@\n+/* \n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ * \n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *  under the License.\n+ */\n+package org.syncope.console.wicket.markup.html.tree;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+/**\n+ * SyncopeTreeNode wrapper class for RoleTO object.\n+ */\n+public class SyncopeTreeNode {\n+\n+    Long id;\n+    Long parentId;\n+    String name;\n+    List<SyncopeTreeNode> children = new ArrayList<SyncopeTreeNode>();\n+\n+    public List<SyncopeTreeNode> getChildren() {\n+        return children;\n+    }\n+\n+    public void setChildren(List<SyncopeTreeNode> children) {\n+        this.children = children;\n+    }\n+\n+    public Long getId() {\n+        return id;\n+    }\n+\n+    public Long getParentId() {\n+        return parentId;\n+    }\n+\n+    public void setParentId(Long parentId) {\n+        this.parentId = parentId;\n+    }\n+\n+    public void setId(Long id) {\n+        this.id = id;\n+    }\n+\n+    public String getName() {\n+        return name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+}\n\\ No newline at end of file"},{"sha":"eae1a20ddf6489047ad39fd134d28755b512f32c","filename":"console/src/main/java/org/syncope/console/wicket/markup/html/tree/TreeModelBean.java","status":"modified","additions":4,"deletions":5,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FTreeModelBean.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FTreeModelBean.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FTreeModelBean.java?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -16,18 +16,17 @@\n package org.syncope.console.wicket.markup.html.tree;\n \n import java.io.Serializable;\n-import org.syncope.console.pages.Roles.TreeNode;\n \n public class TreeModelBean implements Serializable\n {\n-    private TreeNode treeNode;\n+    private SyncopeTreeNode treeNode;\n     private String title;\n \n     public TreeModelBean(String title) {\n         this.title = title;\n     }\n     \n-    public TreeModelBean(TreeNode tree)\n+    public TreeModelBean(SyncopeTreeNode tree)\n     {\n         this.treeNode = tree;\n     }\n@@ -40,11 +39,11 @@ public void setTitle(String title) {\n         this.title = title;\n     }\n     \n-    public TreeNode getTreeNode() {\n+    public SyncopeTreeNode getTreeNode() {\n         return treeNode;\n     }\n \n-    public void setTreeNode(TreeNode treeNode) {\n+    public void setTreeNode(SyncopeTreeNode treeNode) {\n         this.treeNode = treeNode;\n     }\n     "},{"sha":"a14bf7bb77aad9b3c6c7be3c6390282ee50c655a","filename":"console/src/main/resources/org/syncope/console/pages/BasePage.properties","status":"added","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage.properties?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -0,0 +1 @@\n+operation_succeded=Operation succesfully\n\\ No newline at end of file"},{"sha":"00f9f3af426864cd18efe831f56534c3a4c62ceb","filename":"console/src/main/resources/org/syncope/console/pages/BasePage_it.properties","status":"added","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FBasePage_it.properties?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -0,0 +1 @@\n+operation_succeded=Operazione eseguita con successo"},{"sha":"ff27d85d30d2108f01fdc79604be851d2f848353","filename":"console/src/main/resources/org/syncope/console/pages/Connectors.html","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConnectors.html?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -61,6 +61,8 @@\n         </ul>\n     </div>\n \n+   <div wicket:id=\"feedback\"/>\n+\n     <div id=\"tabs\">\n         <ul>\n             <li class=\"tabs-selected\">"},{"sha":"b42015981cd9c5a21511668985eb31143cd53dc3","filename":"console/src/main/resources/org/syncope/console/pages/MembershipModalPage.html","status":"added","additions":49,"deletions":0,"changes":49,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.html?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -0,0 +1,49 @@\n+<!--\n+ Licensed under the Apache License, Version 2.0 (the \"License\");\n+ you may not use this file except in compliance with the License.\n+ You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+ Unless required by applicable law or agreed to in writing, software\n+ distributed under the License is distributed on an \"AS IS\" BASIS,\n+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ See the License for the specific language governing permissions and\n+ limitations under the License.\n+ under the License.\n+-->\n+<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n+    \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n+<wicket:extend>\n+        <p class=\"ui-widget ui-corner-all ui-widget-header\"><wicket:message key=\"title\"/></p>\n+        <form wicket:id=\"MembershipForm\">\n+        <div wicket:id=\"feedback\" style=\"color:red\"/>\n+            <div id=\"tabs\">\n+                <ul>\n+                    <li><a href=\"#tabs-1\"><span><wicket:message key=\"tab1\"/></span></a></li>\n+                </ul>\n+                    <div id=\"tabs-1\">\n+                        <table style=\"font-size:14px\" wicket:id=\"container\">\n+                            <tr wicket:id=\"membershipSchemas\">\n+                                <td><span wicket:id=\"name\"/></td>\n+                                <td>\n+                                    <span wicket:id=\"fields\">\n+                                        <span wicket:id=\"panel\">\n+                                            [panel for dynamic input type markup]\n+                                        </span>\n+                                    </span>\n+                                    <input type=\"button\" wicket:id=\"add\"/>\n+                                    <input type=\"button\" wicket:id=\"drop\"/>\n+                                </td>\n+                            </tr>\n+                         </table>\n+                    </div>\n+                    </div>\n+                <div>\n+                    &nbsp;\n+                </div>\n+                <div style=\"bottom:0\">\n+                    <input type=\"submit\" class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\" wicket:id=\"submit\"/>\n+                </div>\n+          </form>\n+ </wicket:extend>\n\\ No newline at end of file"},{"sha":"b6554e153161d7634eaec6a2043ad35dd07b7096","filename":"console/src/main/resources/org/syncope/console/pages/MembershipModalPage.properties","status":"added","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.properties?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -0,0 +1,6 @@\n+tab1=Attributes\n+title=Roles\n+add=+\n+drop=-\n+edit=Edit\n+delete=Delete"},{"sha":"d51fe830f429523b4389ebced5e1fddb64caaa69","filename":"console/src/main/resources/org/syncope/console/pages/MembershipModalPage_it.properties","status":"added","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage_it.properties?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -0,0 +1,6 @@\n+tab1=Attributi\n+title=Ruoli\n+add=+\n+drop=-\n+edit=Edit\n+delete=Delete"},{"sha":"55b0d8a995ab2d8a3204e118c8135867ba05c237","filename":"console/src/main/resources/org/syncope/console/pages/Resources.html","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FResources.html?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -61,6 +61,8 @@\n         </ul>\n     </div>\n \n+    <div wicket:id=\"feedback\"/>\n+    \n     <div id=\"tabs\">\n         <ul>\n             <li class=\"tabs-selected\">"},{"sha":"891e66b416d464c71838698afab2a857865b19a1","filename":"console/src/main/resources/org/syncope/console/pages/RoleModalPage.html","status":"modified","additions":4,"deletions":3,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.html?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -15,17 +15,17 @@\n <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n     \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n <wicket:extend>\n+    <div style=\"margin:10px\" title=\"Create new Resource-Mappings\">\n         <p class=\"ui-widget ui-corner-all ui-widget-header\"><wicket:message key=\"title\"/></p>\n-\n         <form wicket:id=\"RoleForm\">\n+            <div wicket:id=\"feedback\" style=\"color:red\"/>\n             <div id=\"tabs\">\n                 <ul>\n                     <li><a href=\"#tabs-1\"><span><wicket:message key=\"tab1\"/></span></a></li>\n                     <li><a href=\"#tabs-2\"><span><wicket:message key=\"tab2\"/></span></a></li>\n                     <li><a href=\"#tabs-3\"><span><wicket:message key=\"tab3\"/></span></a></li>\n                 </ul>\n                     <div id=\"tabs-1\">\n-                        <div wicket:id=\"feedback\" style=\"color:red;padding:5px\"/>\n                         <table style=\"font-size:14px\" wicket:id=\"container\">\n                             <tr>\n                                 <td><wicket:message key=\"name\"/></td>\n@@ -57,7 +57,7 @@\n                          </table-->\n                     </div>\n                     <div id=\"tabs-3\">\n-                        <!--span wicket:id=\"resourcesChoiceTransfer\"/-->\n+                        <span wicket:id=\"resourcesChoiceTransfer\"/>\n                     </div>\n                 </div>\n                 <div>\n@@ -69,4 +69,5 @@\n                            wicket:id=\"submit\"/>\n                 </div>\n           </form>\n+        </div>\n  </wicket:extend>\n\\ No newline at end of file"},{"sha":"a5579798f5e3f7b8ec9141b9ccec1034cc2d972f","filename":"console/src/main/resources/org/syncope/console/pages/RoleModalPage.properties","status":"modified","additions":4,"deletions":10,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.properties?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -1,17 +1,11 @@\n required_alert=All form fields are required.\n-title=User\n-username=Username\n-password=password\n-firstname=Firstname\n-surname=Surname\n+title=Role\n tab1=Role attributes\n tab2=Role derived attributes\n tab3=Resources\n add=+\n drop=-\n-resources=Resources transfer\n-firstResourcesList=User's resources\n-secondResourcesList=Available resources\n-updating_error=Generic error occurred during updating\n-tab4=Roles\n+error=Generic error occurred during the operation\n name=Name\n+firstResourcesList=Role's resources\n+secondResourcesList=Available resources\n\\ No newline at end of file"},{"sha":"56a2545e94d7a52a52ac5e51153ed12eed3ce084","filename":"console/src/main/resources/org/syncope/console/pages/RoleModalPage_it.properties","status":"modified","additions":4,"deletions":10,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage_it.properties?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -1,17 +1,11 @@\n required_alert=All form fields are required.\n-title=User\n-username=Username\n-password=password\n-firstname=Firstname\n-surname=Surname\n+title=Ruolo\n tab1=User attributes\n tab2=User derived attributes\n tab3=Resources\n-tab4=Roles\n add=+\n drop=-\n-resources=Resources transfer\n-firstResourcesList=User's resources\n-secondResourcesList=Available resources\n-updating_error=Generic error occurred during updating\n name=Nome\n+error=Errore generico durante l'operazione\n+firstResourcesList=Risorse ruolo\n+secondResourcesList=Risorse disponibili"},{"sha":"f23b4846f2209d7720c58ad1a9256723fecacda7","filename":"console/src/main/resources/org/syncope/console/pages/Roles.html","status":"modified","additions":9,"deletions":2,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoles.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoles.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoles.html?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -12,6 +12,13 @@\n  limitations under the License.\n  under the License.\n -->\n+<wicket:head>\n+    <style>\n+        div.role-tree div.wicket-tree-table a {\n+            color:black;\n+        }\n+    </style>\n+</wicket:head>\n <wicket:extend>\n     <div id=\"testa\">\n         <img src=\"img/logo.png\" alt=\"syncope\" title=\"syncope\" id=\"logo\" />\n@@ -62,8 +69,8 @@\n     </div>\n     <form wicket:id=\"form\">\n         <span wicket:id=\"container\">\n-            <div wicket:id=\"treeTable\" style=\"width: 100%;\n-                 display:block;margin:auto;\" class=\"my-tree\"/>\n+            <div class=\"role-tree\" wicket:id=\"treeTable\"/>\n         </span>\n     </form>\n+    <div wicket:id=\"createRoleWin\">[Show modal window for creating role]</div>\n </wicket:extend>\n\\ No newline at end of file"},{"sha":"6fb1b886c2e8e705d5aa545035fcc71fb9e27097","filename":"console/src/main/resources/org/syncope/console/pages/Roles.properties","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoles.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoles.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoles.properties?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -1,5 +1,5 @@\n column1=Roles\n column2=Action\n-create_role=Add role\n-update_role=Update role\n-drop_role=Drop role\n+create_role=Add child\n+update_role=Edit\n+drop_role=Drop"},{"sha":"b20cb6fe5e3d2151ea5b70bd9287a67adca96933","filename":"console/src/main/resources/org/syncope/console/pages/Roles_it.properties","status":"modified","additions":3,"deletions":4,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoles_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoles_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoles_it.properties?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -1,6 +1,5 @@\n-\n column1=Ruoli\n column2=Azione\n-create_role=Crea ruolo\n-update_role=Modifica ruolo\n-drop_role=Elimina ruolo\n+create_role=Aggiungi figlio\n+update_role=Modifica\n+drop_role=Elimina"},{"sha":"1bb179f7077c39d43808e83f9efcf2091079b609","filename":"console/src/main/resources/org/syncope/console/pages/Schema.html","status":"modified","additions":9,"deletions":12,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FSchema.html?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -61,6 +61,8 @@\n         </ul>\n     </div>\n \n+    <div wicket:id=\"feedback\"/>\n+\n     <div id=\"tabs\">\n         <ul>\n             <li class=\"tabs-selected\"><a href=\"#tabs-1\"><span><wicket:message key=\"tab1\"/></span></a></li>\n@@ -70,6 +72,7 @@\n             <li><a href=\"#tabs-5\"><span><wicket:message key=\"tab5\"/></span></a></li>\n             <li><a href=\"#tabs-6\"><span><wicket:message key=\"tab6\"/></span></a></li>\n         </ul>\n+        \n         <div id=\"tabs-1\">\n \n             <div id=\"users-contain\" class=\"ui-widget\">\n@@ -80,11 +83,11 @@ <h1><wicket:message key=\"existing_schemas\"/></h1>\n                     <thead>\n                         <tr class=\"ui-widget-header \">\n                             <th><wicket:message key=\"name\"/></th>\n-                    <th><wicket:message key=\"type\"/></th>\n-                    <th><wicket:message key=\"attributes\"/></th>\n-                    <th><wicket:message key=\"edit\"/></th>\n-                    <th><wicket:message key=\"delete\"/></th>\n-                    </tr>\n+                            <th><wicket:message key=\"type\"/></th>\n+                            <th><wicket:message key=\"attributes\"/></th>\n+                            <th><wicket:message key=\"edit\"/></th>\n+                            <th><wicket:message key=\"delete\"/></th>\n+                        </tr>\n                     </thead>\n                     <tbody>\n                         <tr wicket:id=\"roleSchemas\" >\n@@ -135,12 +138,6 @@ <h1><wicket:message key=\"existing_schemas\"/></h1>\n                             <td><span wicket:id=\"expression\">[label expression]</span></td>\n                             <td><span wicket:id=\"attributes\">[label attributes]</span></td>\n \n-                            <th><wicket:message key=\"name\"/></th>\n-                    <th><wicket:message key=\"type\"/></th>\n-                    <th><wicket:message key=\"attributes\"/></th>\n-                    <th><wicket:message key=\"edit\"/></th>\n-                    <th><wicket:message key=\"delete\"/></th>\n-\n                     <td>\n                         <a href=\"#\" wicket:id=\"editLink\">\n                             <wicket:message key=\"edit\"/>\n@@ -327,7 +324,7 @@ <h1><wicket:message key=\"existing_schemas\"/></h1>\n             <div wicket:id=\"editMembershipDerSchemaWin\">[Show modal window for editing schema]</div>\n \n             <a wicket:id=\"createMembershipDerSchemaWinLink\" class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\">\n-                <wicket:message key=\"create_attribute\"/>\n+                <wicket:message key=\"create_attribute\"/>    \n             </a>\n         </div>\n     </div>"},{"sha":"2ffda58a9351524baa3b05e2468ecca159f458e9","filename":"console/src/main/resources/org/syncope/console/pages/UserModalPage.html","status":"modified","additions":112,"deletions":82,"changes":194,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.html?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -12,93 +12,123 @@\n  limitations under the License.\n  under the License.\n -->\n-<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n-    \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n+<wicket:head>\n+    <style>\n+        div.role-tree table.wicket-tree-content table.icon-panel a{\n+            font-size: 10px;\n+            color:black;\n+        }\n+        .roleTable{\n+            -moz-border-radius: 3px; /* Firefox */\n+            -webkit-border-radius: 3px; /* Safari e Chrome*/\n+            border: 1px solid gray;\n+            border-radius: 3px; /* Standard CSS */\n+        }\n+    </style>\n+</wicket:head>\n+\n <wicket:extend>\n-        <p class=\"ui-widget ui-corner-all ui-widget-header\"><wicket:message key=\"title\"/></p>\n+    <div style=\"margin:10px\" title=\"Create new User\">\n+    <p class=\"ui-widget ui-corner-all ui-widget-header\"><wicket:message key=\"title\"/></p>\n+\n+    <form wicket:id=\"UserForm\">\n+        <div wicket:id=\"feedback\" style=\"color:red\"/>\n+        <div id=\"tabs\">\n+            <ul>\n+                <li  class=\"tabs-selected\"><a href=\"#tabs-1\"><span><wicket:message key=\"tab1\"/></span></a></li>\n+                <li><a href=\"#tabs-2\"><span><wicket:message key=\"tab2\"/></span></a></li>\n+                <li><a href=\"#tabs-3\"><span><wicket:message key=\"tab3\"/></span></a></li>\n+                <li><a href=\"#tabs-4\"><span><wicket:message key=\"tab4\"/></span></a></li>\n+            </ul>\n+            <div id=\"tabs-1\">\n+                <table style=\"font-size:14px\" wicket:id=\"container\">\n+                    <tr wicket:id=\"userSchemas\">\n+                        <td><span wicket:id=\"name\"/></td>\n+                        <td>\n+                            <span wicket:id=\"fields\">\n+                                <span wicket:id=\"panel\">\n+                                    [panel for dynamic input type markup]\n+                                </span>\n+                            </span>\n+                            <input type=\"button\" wicket:id=\"add\"/>\n+                            <input type=\"button\" wicket:id=\"drop\"/>\n+                        </td>\n+                    </tr>\n+                    <tr>\n+                        <td>\n+                            <wicket:message key=\"password\"/>\n+                        </td>\n+                        <td>\n+                            <input type=\"password\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"password\"/>\n+                            <span>*\n+                            </span>\n+                        </td>\n+                    </tr>\n+                </table>\n+            </div>\n+            <div id=\"tabs-2\">\n+                <!--table>\n+                    <tr wicket:id=\"userDerivedAttributes\">\n+                        <td><span wicket:id=\"key\"/></td>\n+                        <td><input type=\"text\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"value\" /></td>\n+                    </tr>\n+                 </table-->\n+            </div>\n+            <div id=\"tabs-3\">\n+\n+                <span wicket:id=\"resourcesChoiceTransfer\"/>\n \n-        <form wicket:id=\"UserForm\">\n-            <div id=\"tabs\">\n-                <ul>\n-                    <li  class=\"tabs-selected\"><a href=\"#tabs-1\"><span><wicket:message key=\"tab1\"/></span></a></li>\n-                    <li><a href=\"#tabs-2\"><span><wicket:message key=\"tab2\"/></span></a></li>\n-                    <li><a href=\"#tabs-3\"><span><wicket:message key=\"tab3\"/></span></a></li>\n-                    <li><a href=\"#tabs-4\"><span><wicket:message key=\"tab4\"/></span></a></li>\n-                </ul>\n-                    <div id=\"tabs-1\">\n-                        <div wicket:id=\"feedback\" style=\"color:red;padding:5px\"/>\n-                        <table style=\"font-size:14px\" wicket:id=\"container\">\n-                            <tr wicket:id=\"userSchemas\">\n-                                <td><span wicket:id=\"name\"/></td>\n-                                <td>\n-                                    <span wicket:id=\"fields\">\n-                                        <span wicket:id=\"panel\">\n-                                            [panel for dynamic input type markup]\n-                                        </span>\n-                                    </span>\n-                                    <input type=\"button\" wicket:id=\"add\"/>\n-                                    <input type=\"button\" wicket:id=\"drop\"/>\n-                                </td>\n-                            </tr>\n-                             <tr>\n-                                <td>\n-                                    <wicket:message key=\"password\"/>\n-                                </td>\n-                                <td>\n-                                    <input type=\"password\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"password\"/>\n-                                    <span>*\n-                                    </span>\n-                                </td>\n-                            </tr>\n-                         </table>\n-                    </div>\n-                    <div id=\"tabs-2\">\n-                        <!--table>\n-                            <tr wicket:id=\"userDerivedAttributes\">\n-                                <td><span wicket:id=\"key\"/></td>\n-                                <td><input type=\"text\" class=\"text ui-widget-content ui-corner-all\" wicket:id=\"value\" /></td>\n-                            </tr>\n-                         </table-->\n-                    </div>\n-                    <div id=\"tabs-3\">\n-                    <!--table  style=\"font-size:14px\">\n-                        <tr>\n+            </div>\n+            <div id=\"tabs-4\">\n+                <p class=\"ui-widget ui-corner-all ui-widget-header\">\n+                    <wicket:message key=\"membership_availability\"/>\n+                </p>\n+\n+                <div wicket:id=\"treeTable\"\n+                     style=\"width: 100%;display:block;margin:auto;\"\n+                     class=\"role-tree\"/>\n+                \n+                 <p class=\"ui-widget ui-corner-all ui-widget-header\">\n+                    <wicket:message key=\"membership_text\"/>\n+                </p>\n+                \n+                <table id=\"users\" class=\"roleTable\"\n+                       style=\"font-size:12px\" wicket:id=\"membershipsContainer\"\n+                        cellpadding=\"5px\" cellspacing=\"2px\">\n+                   <thead>\n+                        <tr class=\"ui-widget-header\">\n+                            <th><wicket:message key=\"id\"/></th>\n+                            <th><wicket:message key=\"edit\"/></th>\n+                            <th><wicket:message key=\"delete\"/></th>\n+                        </tr>\n+                    </thead>\n+                    <tbody>\n+                        <tr wicket:id=\"memberships\">\n                             <td>\n-                                <select wicket:id=\"userResources\" style=\"width:200px;\"></select>\n+                                <span wicket:id=\"roleId\"/>\n                             </td>\n-                            <td>\n-                                <table>\n-                                    <tr>\n-                                        <td>\n-                                            <input wicket:id=\"addResource\" type=\"button\" />\n-                                        </td>\n-                                    </tr>\n-\n-                                    <tr>\n-                                        <td>\n-                                            <input wicket:id=\"removeResource\" type=\"button\" />\n-                                        </td>\n-                                    </tr>\n-                                </table>\n+                             <td>\n+                                <a href=\"#\" wicket:id=\"editLink\">\n+                                    <wicket:message key=\"edit\"/>\n+                                </a>\n                             </td>\n                             <td>\n-                                <select wicket:id=\"remainingResources\" style=\"width:200px;\"></select>\n+                                <a href=\"#\" wicket:id=\"deleteLink\">\n+                                    <wicket:message key=\"delete\"/>\n+                                </a>\n                             </td>\n                         </tr>\n-                    </table-->\n-\n-                    <span wicket:id=\"resourcesChoiceTransfer\"/>\n-\n-                    </div>\n-                     <div id=\"tabs-4\">\n-\n-                    </div>\n-                </div>\n-                <div>\n-                    &nbsp;\n-                </div>      \n-                <div style=\"bottom:0\">\n-                    <input type=\"submit\" class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\" wicket:id=\"submit\"/>\n-                </div>\n-          </form>\n- </wicket:extend>\n\\ No newline at end of file\n+                    </tbody>\n+                </table>\n+            </div>\n+        </div>\n+        <div>\n+            &nbsp;\n+        </div>\n+        <div style=\"bottom:0\">\n+            <input type=\"submit\" class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\" wicket:id=\"submit\"/>\n+        </div>\n+    </form>\n+    <div wicket:id=\"membershipWin\"/>\n+    </div>\n+</wicket:extend>\n\\ No newline at end of file"},{"sha":"02436b597b93ac0eee7b06c936a765ddb09c537d","filename":"console/src/main/resources/org/syncope/console/pages/UserModalPage.properties","status":"modified","additions":7,"deletions":0,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.properties?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -14,3 +14,10 @@ resources=Resources transfer\n firstResourcesList=User's resources\n secondResourcesList=Available resources\n updating_error=Generic error occurred during updating\n+column1=Roles\n+column2=Action\n+id=Role Id\n+edit=Edit\n+delete=Delete\n+membership_text=Selected roles\n+membership_availability=Roles available"},{"sha":"cb413a2ca6f6d280fbcb388f2a3337e83a306851","filename":"console/src/main/resources/org/syncope/console/pages/UserModalPage_it.properties","status":"modified","additions":7,"deletions":0,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage_it.properties?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -15,3 +15,10 @@ resources=Associazione risorse\n firstResourcesList=Risorse utente\n secondResourcesList=Risorse disponibili\n updating_error=Errore generico durante l'aggiornamento\n+column1=Ruoli\n+column2=Azioni\n+id=Id Ruolo\n+edit=Modifica\n+delete=Elimina\n+membership_text=Ruoli selezionati\n+membership_availability=Ruoli disponibili"},{"sha":"df3f537ccbb50c0a3726dc0a5d8a783114322315","filename":"console/src/main/resources/org/syncope/console/wicket/markup/html/form/DateFieldPanel.html","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FDateFieldPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FDateFieldPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FDateFieldPanel.html?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -17,4 +17,5 @@\n <wicket:panel>\n <input type=\"text\" size=\"10\" wicket:id=\"dateField\"/>\n <span wicket:id=\"required\"/>\n+<br/>\n </wicket:panel>\n\\ No newline at end of file"},{"sha":"6fe8216e23ec80770fec1ccf0719cf3a10a90aee","filename":"console/src/main/resources/org/syncope/console/wicket/markup/html/tree/LeafEditablePanel.html","status":"removed","additions":0,"deletions":22,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/fed0eb84c45896f1e7f1aad8efaa93582b8fbd96/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FLeafEditablePanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/fed0eb84c45896f1e7f1aad8efaa93582b8fbd96/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FLeafEditablePanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FLeafEditablePanel.html?ref=fed0eb84c45896f1e7f1aad8efaa93582b8fbd96","patch":"@@ -1,22 +0,0 @@\n-<!--\n- Licensed under the Apache License, Version 2.0 (the \"License\");\n- you may not use this file except in compliance with the License.\n- You may obtain a copy of the License at\n-\n-      http://www.apache.org/licenses/LICENSE-2.0\n-\n- Unless required by applicable law or agreed to in writing, software\n- distributed under the License is distributed on an \"AS IS\" BASIS,\n- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- See the License for the specific language governing permissions and\n- limitations under the License.\n- under the License.\n--->\n-<wicket:panel>\n-        <a  wicket:id=\"updateRoleLink\">\n-            <wicket:message key=\"update_role\"/>&nbsp;\n-        </a>\n-        <a  wicket:id=\"dropRoleLink\">\n-            <wicket:message key=\"drop_role\"/>&nbsp;\n-        </a>\n-</wicket:panel>\n\\ No newline at end of file"},{"sha":"c778dc5835fc7c755aea050938683fe1e6043352","filename":"console/src/main/resources/org/syncope/console/wicket/markup/html/tree/NodeEditablePanel.html","status":"renamed","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FNodeEditablePanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FNodeEditablePanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Ftree%2FNodeEditablePanel.html?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -22,5 +22,4 @@\n     <a  wicket:id=\"dropRoleLink\">\n         <wicket:message key=\"drop_role\"/>&nbsp;\n     </a>\n-    <div wicket:id=\"createRoleWin\">[Show modal window for creating role]</div>\n </wicket:panel>\n\\ No newline at end of file","previous_filename":"console/src/main/resources/org/syncope/console/wicket/markup/html/tree/ParentEditablePanel.html"},{"sha":"e33c9cfb9c738e57fc14062373f0a43b9ad5b6bf","filename":"console/src/main/webapp/css/stile_sy.css","status":"modified","additions":26,"deletions":0,"changes":26,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstile_sy.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstile_sy.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstile_sy.css?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b","patch":"@@ -117,6 +117,32 @@ body {\n     color: red;\n }\n \n+/* FEEDBACK PANEL'S INFO STYLE */\n+.feedbackPanel {\n+    padding-left:8px;\n+    padding-right:8px;\n+    padding-top:8px;\n+}\n+\n+.feedbackPanelINFO {\n+    color: green;\n+    margin: 0px;\n+    list-style-type: none;\n+    background:url(\"images/ui-bg_highlight-soft_75_cccccc_1x100.png\") repeat-x scroll 50% 50% #CCCCCC;\n+    -moz-border-radius: 3px;\n+    -webkit-border-radius: 3px;\n+    border: 1px solid gray;\n+    border-radius: 3px;\n+    padding: 5px;\n+}\n+\n+.feedbackPanelINFO span {\n+    background: url(\"../img/ok.png\") no-repeat left;\n+    border:0 none;\n+    font-size:12px;\n+    padding-left: 20px;\n+}\n+\n #testa {\n     background: url(../img/sf_testa.png) top repeat-x #FFF;\n }"},{"sha":"7dd3ed13bdb6b571b42b61181f8793b13f3295e4","filename":"console/src/main/webapp/img/ok.png","status":"added","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fok.png","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1e6cb001b80337a7d5badeb02f8ef9e1c195087b/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fok.png","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fwebapp%2Fimg%2Fok.png?ref=1e6cb001b80337a7d5badeb02f8ef9e1c195087b"}]}
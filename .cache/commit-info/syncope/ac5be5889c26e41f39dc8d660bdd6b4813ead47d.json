{"sha":"ac5be5889c26e41f39dc8d660bdd6b4813ead47d","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmFjNWJlNTg4OWMyNmU0MWYzOWRjOGQ2NjBiZGQ2YjQ4MTNlYWQ0N2Q=","commit":{"author":{"name":"Matteo Di Carlo","email":"matteo.dicarlo@tirasa.net","date":"2016-09-06T09:31:04Z"},"committer":{"name":"Matteo Di Carlo","email":"matteo.dicarlo@tirasa.net","date":"2016-09-07T07:31:17Z"},"message":"[SYNCOPE-853] add angularjs tests for edit-user in enduser component","tree":{"sha":"98c9bd620d657f5395ebade48312cb85c9c55dca","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/98c9bd620d657f5395ebade48312cb85c9c55dca"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/ac5be5889c26e41f39dc8d660bdd6b4813ead47d","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ac5be5889c26e41f39dc8d660bdd6b4813ead47d","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ac5be5889c26e41f39dc8d660bdd6b4813ead47d","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ac5be5889c26e41f39dc8d660bdd6b4813ead47d/comments","author":null,"committer":null,"parents":[{"sha":"aa90d840817101847626fed6e1388779d51d631a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/aa90d840817101847626fed6e1388779d51d631a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/aa90d840817101847626fed6e1388779d51d631a"}],"stats":{"total":76,"additions":55,"deletions":21},"files":[{"sha":"2f00a9af8ed4915905ce3c2a709e0464dc298bb2","filename":"client/enduser/src/main/resources/META-INF/resources/app/views/groups.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ac5be5889c26e41f39dc8d660bdd6b4813ead47d/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fgroups.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ac5be5889c26e41f39dc8d660bdd6b4813ead47d/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fgroups.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fresources%2FMETA-INF%2Fresources%2Fapp%2Fviews%2Fgroups.html?ref=ac5be5889c26e41f39dc8d660bdd6b4813ead47d","patch":"@@ -25,7 +25,7 @@\n     </ui-select-match>\n     <ui-select-choices repeat=\"group in dynamicForm.groups | propsFilter: {selected: dynamicForm.selectedGroups} \n                        track by group.rightKey\" class=\"ui-select-choices\">\n-      <div ng-bind-html=\"group.groupName | highlight: $select.search\"></div>\n+      <div id=\"{{group.groupName}}\" ng-bind-html=\"group.groupName | highlight: $select.search\"></div>\n     </ui-select-choices>\n   </ui-select>\n </div>"},{"sha":"8bae5a13a7eda2444792898227d614f13e98f6ae","filename":"client/enduser/src/test/resources/org/apache/syncope/client/enduser/protractor/tests/edituser.js","status":"modified","additions":54,"deletions":20,"changes":74,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ac5be5889c26e41f39dc8d660bdd6b4813ead47d/client%2Fenduser%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fedituser.js","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ac5be5889c26e41f39dc8d660bdd6b4813ead47d/client%2Fenduser%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fedituser.js","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fprotractor%2Ftests%2Fedituser.js?ref=ac5be5889c26e41f39dc8d660bdd6b4813ead47d","patch":"@@ -17,45 +17,79 @@\n  * under the License.\n  */\n \n-\n describe('syncope enduser user edit', function () {\n \n   function next() {\n     element.all(by.id('next')).last().click();\n-  };\n-\n-\n-  function fillDropDownMenu(modelId, option) {\n-    this.item = element(by.model(modelId));\n-    this.item.click();\n-    element.all(by.id(option)).first().click();\n-    browser.driver.sleep(1500);\n   }\n   ;\n \n+  function cancel() {\n+    element.all(by.id('cancel')).last().click();\n+  }\n+  ;\n \n   it('should edit user credentials', function () {\n     browser.get('http://localhost:9080/syncope-enduser/app/');\n \n-    //login\n+//login\n     element(by.model('credentials.username')).sendKeys('bellini');\n     element(by.model('credentials.password')).sendKeys('password');\n-    element.all(by.options('language.name for language in languages.availableLanguages track by language.id')).then(function (language) {\n-      expect(language.length).toBe(3);\n-    });\n-    element.all(by.options('language.name for language in languages.availableLanguages track by language.id')).get(0).click();\n+    element.all(by.options('language.name for language in languages.availableLanguages track by language.id')).\n+            then(function (language) {\n+              expect(language.length).toBe(3);\n+            });\n+    element.all(by.options('language.name for language in languages.availableLanguages track by language.id')).\n+            get(0).click();\n     element(by.id('login-btn')).click();\n \n-//    credential\n-//    element(by.model('user.username')).sendKeys('bellini123');\n-//    element(by.model('user.password')).sendKeys('password123');\n-//    element(by.model('confirmPassword.value')).sendKeys('password123');\n+//credential\n+    element(by.model('user.username')).clear();\n+    element(by.model('user.username')).sendKeys('bellini');\n+    element(by.model('user.password')).clear();\n+    element(by.model('user.password')).sendKeys('password');\n+    element(by.model('confirmPassword.value')).sendKeys('password');\n+    var secQuestion = element(by.model('user.securityQuestion'));\n+    var selectedSecQuestion = secQuestion.all(by.options('securityQuestion.key as securityQuestion.content for securityQuestion in availableSecurityQuestions')).last();\n+    selectedSecQuestion.click();\n+    element(by.model('user.securityAnswer')).sendKeys('Agata Ferlito');\n+    browser.driver.sleep(1000);\n+    next();\n+\n+//groups\n+    var group = element(by.model('dynamicForm.selectedGroups'));\n+    var selectedGroup = group.element(by.css('.ui-select-search'));\n+    group.click();\n+    \n+    selectedGroup.sendKeys('additional');\n+    element.all(by.css('.ui-select-choices-row-inner span')).first().click();\n+    selectedGroup.sendKeys('root');\n+    element.all(by.css('.ui-select-choices-row-inner span')).first().click();\n+    browser.driver.sleep(1500);\n+        \n     next();\n \n+//plainSchemas\n \n-    fillDropDownMenu('dynamicForm.selectedGroups', 'additional');\n-//    fillDropDownMenu('dynamicForm.selectedAuxClasses','csv');\n+    element(by.css('[name=\"fullname\"]')).clear();\n+    element(by.css('[name=\"fullname\"]')).sendKeys('Vincenzo Bellini');\n+    element(by.css('[name=\"userId\"]')).clear();\n+    element(by.css('[name=\"userId\"]')).sendKeys('bellini@apache.org');\n+    var selectedDate = element(by.model('selectedDate')).click();\n+    selectedDate.clear();\n+    selectedDate.sendKeys('2009-06-21');\n+    element(by.css('[name=\"firstname\"]')).clear();\n+    element(by.css('[name=\"firstname\"]')).sendKeys('Vincenzo');\n+    element(by.css('[name=\"surname\"]')).clear();\n+    element(by.css('[name=\"surname\"]')).sendKeys('Bellini');\n+    element(by.css('[name=\"ctype\"]')).clear();\n+    element(by.css('[name=\"ctype\"]')).sendKeys('bellinictype');\n+\n+    next();\n \n   });\n });\n \n+\n+\n+"}]}
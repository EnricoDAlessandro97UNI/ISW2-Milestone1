{"sha":"77fa0f61d405de50545c4e8f63309c8b1d47d09f","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjc3ZmEwZjYxZDQwNWRlNTA1NDVjNGU4ZjYzMzA5YzhiMWQ0N2QwOWY=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-01-20T15:36:23Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-01-20T15:36:23Z"},"message":"[SYNCOPE-156] Completing removal of old XMLEditorPopupPage","tree":{"sha":"ec2b7381bf8cdf3f574e5389994b9936065f780d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/ec2b7381bf8cdf3f574e5389994b9936065f780d"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/77fa0f61d405de50545c4e8f63309c8b1d47d09f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/77fa0f61d405de50545c4e8f63309c8b1d47d09f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/77fa0f61d405de50545c4e8f63309c8b1d47d09f","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/77fa0f61d405de50545c4e8f63309c8b1d47d09f/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"de21e7165f8d0f102152913750c836399434aa17","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/de21e7165f8d0f102152913750c836399434aa17","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/de21e7165f8d0f102152913750c836399434aa17"}],"stats":{"total":430,"additions":161,"deletions":269},"files":[{"sha":"1df5fecb30fc76c9fd759aecbbd9e565ca372e9d","filename":"client/console/src/main/java/org/apache/syncope/client/console/pages/BasePopupPage.java","status":"removed","additions":0,"deletions":25,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/de21e7165f8d0f102152913750c836399434aa17/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FBasePopupPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/de21e7165f8d0f102152913750c836399434aa17/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FBasePopupPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FBasePopupPage.java?ref=de21e7165f8d0f102152913750c836399434aa17","patch":"@@ -1,25 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.client.console.pages;\n-\n-public class BasePopupPage extends BasePage {\n-\n-    private static final long serialVersionUID = -2633667311332659505L;\n-\n-}"},{"sha":"95fb23888e9609248e41bd06a37497245a7982b2","filename":"client/console/src/main/java/org/apache/syncope/client/console/pages/Workflow.java","status":"modified","additions":41,"deletions":4,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FWorkflow.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FWorkflow.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FWorkflow.java?ref=77fa0f61d405de50545c4e8f63309c8b1d47d09f","patch":"@@ -18,16 +18,24 @@\n  */\n package org.apache.syncope.client.console.pages;\n \n+import de.agilecoders.wicket.core.markup.html.bootstrap.dialog.Modal;\n+import org.apache.syncope.client.console.panels.XMLWorkflowEditorModalPanel;\n import java.io.File;\n import org.apache.syncope.client.console.SyncopeConsoleApplication;\n import org.apache.syncope.client.console.rest.WorkflowRestClient;\n+import org.apache.syncope.client.console.wicket.markup.html.bootstrap.buttons.PrimaryModalButton;\n+import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n import org.apache.syncope.client.console.wicket.markup.html.link.VeilPopupSettings;\n import org.apache.syncope.common.lib.types.StandardEntitlement;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.ajax.markup.html.AjaxLink;\n import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n import org.apache.wicket.markup.html.image.Image;\n import org.apache.wicket.markup.html.link.BookmarkablePageLink;\n import org.apache.wicket.model.Model;\n+import org.apache.wicket.model.ResourceModel;\n import org.apache.wicket.request.mapper.parameter.PageParameters;\n import org.apache.wicket.request.resource.DynamicImageResource;\n import org.apache.wicket.request.resource.IResource;\n@@ -45,7 +53,7 @@ public Workflow(final PageParameters parameters) {\n         noActivitiEnabledForUsers.setOutputMarkupPlaceholderTag(true);\n         add(noActivitiEnabledForUsers);\n \n-        WebMarkupContainer workflowDef = new WebMarkupContainer(\"workflowDefContainer\");\n+        final WebMarkupContainer workflowDef = new WebMarkupContainer(\"workflowDefContainer\");\n         workflowDef.setOutputMarkupPlaceholderTag(true);\n \n         if (wfRestClient.isActivitiEnabledForUsers()) {\n@@ -69,12 +77,30 @@ public Workflow(final PageParameters parameters) {\n         }\n         activitiModeler.setEnabled(activitiModelerEnabled);\n \n-        BookmarkablePageLink<Void> xmlEditor = new BookmarkablePageLink<>(\"xmlEditor\", XMLEditorPopupPage.class);\n-        xmlEditor.setPopupSettings(new VeilPopupSettings().setHeight(480).setWidth(800));\n+        final BaseModal<String> xmlEditorModal = new BaseModal<>(\"xmlEditorModal\");\n+        PrimaryModalButton xmlEditorSubmit = xmlEditorModal.addSumbitButton();\n+        MetaDataRoleAuthorizationStrategy.authorize(xmlEditorSubmit, ENABLE, StandardEntitlement.WORKFLOW_DEF_UPDATE);\n+        xmlEditorModal.size(Modal.Size.Large);\n+        add(xmlEditorModal);\n+\n+        AjaxLink<Void> xmlEditor = new AjaxLink<Void>(\"xmlEditor\") {\n+\n+            private static final long serialVersionUID = -1964967067512351526L;\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target) {\n+                target.add(xmlEditorModal.setContent(new XMLWorkflowEditorModalPanel(\n+                        xmlEditorModal, wfRestClient, Workflow.this.getPageReference())));\n+\n+                xmlEditorModal.header(new ResourceModel(\"xmlEditorTitle\"));\n+\n+                xmlEditorModal.show(true);\n+            }\n+        };\n         MetaDataRoleAuthorizationStrategy.authorize(xmlEditor, ENABLE, StandardEntitlement.WORKFLOW_DEF_READ);\n         workflowDef.add(xmlEditor);\n \n-        Image workflowDefDiagram = new Image(\"workflowDefDiagram\", new Model<IResource>()) {\n+        final Image workflowDefDiagram = new Image(\"workflowDefDiagram\", new Model<IResource>()) {\n \n             private static final long serialVersionUID = -8457850449086490660L;\n \n@@ -93,8 +119,19 @@ protected byte[] getImageData(final IResource.Attributes attributes) {\n                 };\n             }\n         };\n+        workflowDefDiagram.setOutputMarkupId(true);\n         workflowDef.add(workflowDefDiagram);\n \n+        xmlEditorModal.setWindowClosedCallback(new ModalWindow.WindowClosedCallback() {\n+\n+            private static final long serialVersionUID = 8804221891699487139L;\n+\n+            @Override\n+            public void onClose(final AjaxRequestTarget target) {\n+                target.add(workflowDefDiagram);\n+            }\n+        });\n+\n         MetaDataRoleAuthorizationStrategy.authorize(workflowDef, ENABLE, StandardEntitlement.WORKFLOW_DEF_READ);\n         add(workflowDef);\n     }"},{"sha":"b8b505cf7d18c88718b2f115f8014d68119e4414","filename":"client/console/src/main/java/org/apache/syncope/client/console/pages/XMLEditorPopupPage.java","status":"removed","additions":0,"deletions":86,"changes":86,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/de21e7165f8d0f102152913750c836399434aa17/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FXMLEditorPopupPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/de21e7165f8d0f102152913750c836399434aa17/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FXMLEditorPopupPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FXMLEditorPopupPage.java?ref=de21e7165f8d0f102152913750c836399434aa17","patch":"@@ -1,86 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.client.console.pages;\n-\n-import java.io.IOException;\n-import javax.ws.rs.core.MediaType;\n-import org.apache.commons.lang3.StringUtils;\n-import org.apache.syncope.client.console.commons.Constants;\n-import org.apache.syncope.client.console.rest.WorkflowRestClient;\n-import org.apache.syncope.common.lib.SyncopeClientException;\n-import org.apache.syncope.common.lib.types.StandardEntitlement;\n-import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.ajax.markup.html.form.AjaxButton;\n-import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n-import org.apache.wicket.markup.html.form.Button;\n-import org.apache.wicket.markup.html.form.Form;\n-import org.apache.wicket.markup.html.form.TextArea;\n-import org.apache.wicket.model.Model;\n-import org.apache.wicket.util.io.IOUtils;\n-\n-public class XMLEditorPopupPage extends BasePopupPage {\n-\n-    private static final long serialVersionUID = 5816041644635271734L;\n-\n-    private final WorkflowRestClient wfRestClient = new WorkflowRestClient();\n-\n-    public XMLEditorPopupPage() {\n-        Form<?> wfForm = new Form<>(\"workflowDefForm\");\n-\n-        String definition;\n-        try {\n-            definition = IOUtils.toString(wfRestClient.getDefinition(MediaType.APPLICATION_XML_TYPE));\n-        } catch (IOException e) {\n-            LOG.error(\"Could not get workflow definition\", e);\n-            definition = StringUtils.EMPTY;\n-        }\n-        final TextArea<String> workflowDefArea = new TextArea<>(\"workflowDefArea\", new Model<>(definition));\n-        wfForm.add(workflowDefArea);\n-\n-        AjaxButton submit = new IndicatingAjaxButton(APPLY, new Model<>(getString(SUBMIT))) {\n-\n-            private static final long serialVersionUID = -958724007591692537L;\n-\n-            @Override\n-            protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n-                try {\n-                    wfRestClient.updateDefinition(MediaType.APPLICATION_XML_TYPE, workflowDefArea.getModelObject());\n-                    info(getString(Constants.OPERATION_SUCCEEDED));\n-                } catch (SyncopeClientException scee) {\n-                    error(getString(Constants.ERROR) + \": \" + scee.getMessage());\n-                }\n-                notificationPanel.refresh(target);\n-            }\n-\n-            @Override\n-            protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n-                notificationPanel.refresh(target);\n-            }\n-        };\n-\n-        final Button close = new Button(\"closePage\", new Model<>(getString(CANCEL)));\n-\n-        MetaDataRoleAuthorizationStrategy.authorize(submit, ENABLE, StandardEntitlement.WORKFLOW_DEF_UPDATE);\n-        wfForm.add(submit);\n-        wfForm.add(close);\n-        this.add(wfForm);\n-    }\n-\n-}"},{"sha":"dcb4553a821acbb771d58aec225f56dcfd057acf","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/AbstractModalPanel.java","status":"modified","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAbstractModalPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAbstractModalPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAbstractModalPanel.java?ref=77fa0f61d405de50545c4e8f63309c8b1d47d09f","patch":"@@ -75,10 +75,6 @@ public void renderHead(final IHeaderResponse response) {\n         response.render(new PriorityHeaderItem(meta));\n     }\n \n-    protected void closeAction(final AjaxRequestTarget target, final Form<?> form) {\n-        this.modal.close(target);\n-    }\n-\n     @Override\n     public void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n         modal.getNotificationPanel().refresh(target);"},{"sha":"ed6bf826e04546688733e95cab826bd711fbb532","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/RealmModalPanel.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealmModalPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealmModalPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FRealmModalPanel.java?ref=77fa0f61d405de50545c4e8f63309c8b1d47d09f","patch":"@@ -81,7 +81,7 @@ public void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n             }\n \n             info(getString(Constants.OPERATION_SUCCEEDED));\n-            closeAction(target, form);\n+            modal.close(target);\n         } catch (Exception e) {\n             LOG.error(\"While creating or updating realm\", e);\n             error(getString(Constants.ERROR) + \": \" + e.getMessage());"},{"sha":"8fdf2aeb07be9923d2bb9ca74897978a3a073b67","filename":"client/console/src/main/java/org/apache/syncope/client/console/panels/XMLWorkflowEditorModalPanel.java","status":"added","additions":95,"deletions":0,"changes":95,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FXMLWorkflowEditorModalPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FXMLWorkflowEditorModalPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FXMLWorkflowEditorModalPanel.java?ref=77fa0f61d405de50545c4e8f63309c8b1d47d09f","patch":"@@ -0,0 +1,95 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.console.panels;\n+\n+import java.io.IOException;\n+import javax.ws.rs.core.MediaType;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.syncope.client.console.commons.Constants;\n+import org.apache.syncope.client.console.rest.WorkflowRestClient;\n+import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.wicket.PageReference;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.markup.head.IHeaderResponse;\n+import org.apache.wicket.markup.head.OnLoadHeaderItem;\n+import org.apache.wicket.markup.html.form.Form;\n+import org.apache.wicket.markup.html.form.TextArea;\n+import org.apache.wicket.model.Model;\n+import org.apache.wicket.util.io.IOUtils;\n+\n+public class XMLWorkflowEditorModalPanel extends AbstractModalPanel<String> {\n+\n+    private static final long serialVersionUID = 1937773326401753564L;\n+\n+    private final WorkflowRestClient wfRestClient;\n+\n+    private final TextArea<String> workflowDefArea;\n+\n+    private String wfDefinition;\n+\n+    public XMLWorkflowEditorModalPanel(\n+            final BaseModal<String> modal,\n+            final WorkflowRestClient wfRestClient,\n+            final PageReference pageRef) {\n+\n+        super(modal, pageRef);\n+        this.wfRestClient = wfRestClient;\n+\n+        try {\n+            wfDefinition = IOUtils.toString(wfRestClient.getDefinition(MediaType.APPLICATION_XML_TYPE));\n+        } catch (IOException e) {\n+            LOG.error(\"Could not get workflow definition\", e);\n+            wfDefinition = StringUtils.EMPTY;\n+        }\n+\n+        workflowDefArea = new TextArea<>(\"workflowDefArea\", new Model<>(wfDefinition));\n+        add(workflowDefArea);\n+    }\n+\n+    @Override\n+    public String getItem() {\n+        return this.wfDefinition;\n+    }\n+\n+    @Override\n+    public void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n+        try {\n+            wfRestClient.updateDefinition(MediaType.APPLICATION_XML_TYPE, workflowDefArea.getModelObject());\n+            info(getString(Constants.OPERATION_SUCCEEDED));\n+\n+            modal.show(false);\n+            modal.close(target);\n+        } catch (SyncopeClientException scee) {\n+            error(getString(Constants.ERROR) + \": \" + scee.getMessage());\n+        }\n+        modal.getNotificationPanel().refresh(target);\n+    }\n+\n+    @Override\n+    public void renderHead(final IHeaderResponse response) {\n+        super.renderHead(response);\n+        response.render(OnLoadHeaderItem.forScript(\n+                \"CodeMirror.fromTextArea(document.getElementById('workflowDefArea'), {\"\n+                + \"  lineNumbers: true, \"\n+                + \"  autoRefresh: true\"\n+                + \"}).on('change', updateTextArea);\"));\n+    }\n+\n+}"},{"sha":"2f9d0f1cf562521e1a4a237d13cbd1cc92c4b965","filename":"client/console/src/main/java/org/apache/syncope/client/console/rest/AnyTypeClassRestClient.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FAnyTypeClassRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FAnyTypeClassRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FAnyTypeClassRestClient.java?ref=77fa0f61d405de50545c4e8f63309c8b1d47d09f","patch":"@@ -18,8 +18,6 @@\n  */\n package org.apache.syncope.client.console.rest;\n \n-import static org.apache.syncope.client.console.rest.BaseRestClient.getService;\n-\n import java.util.ArrayList;\n import java.util.Collection;\n import java.util.Collections;"},{"sha":"18e18f36f4fef102c00eb9a362a47dc3d097a25f","filename":"client/console/src/main/java/org/apache/syncope/client/console/wicket/markup/html/bootstrap/dialog/BaseModal.java","status":"modified","additions":2,"deletions":19,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fbootstrap%2Fdialog%2FBaseModal.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fbootstrap%2Fdialog%2FBaseModal.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fbootstrap%2Fdialog%2FBaseModal.java?ref=77fa0f61d405de50545c4e8f63309c8b1d47d09f","patch":"@@ -33,10 +33,8 @@\n import org.apache.syncope.client.console.wicket.markup.html.bootstrap.buttons.DefaultModalCloseButton;\n import org.apache.syncope.client.console.wicket.markup.html.bootstrap.buttons.PrimaryModalButton;\n import org.apache.wicket.Component;\n-import org.apache.wicket.MarkupContainer;\n import org.apache.wicket.WicketRuntimeException;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.behavior.Behavior;\n import org.apache.wicket.core.request.handler.IPartialPageRequestHandler;\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow.WindowClosedCallback;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n@@ -99,32 +97,17 @@ public BaseModal(final String id) {\n         this.windowClosedCallback = null;\n         components = new ArrayList<>();\n \n-        // Note: it would imply the adding of WebjarsJavaScriptResourceReference about JQuery resizable and mouse\n+        // Note: not adding this would imply adding WebjarsJavaScriptResourceReference about JQuery resizable and mouse\n         add(new Resizable().withChildSelector(\".modal-content\"));\n \n-        // Note: it would imply the adding of WebjarsJavaScriptResourceReference about JQuery draggable\n+        // Note: not adding this would imply adding of WebjarsJavaScriptResourceReference about JQuery draggable\n         add(new Draggable(new DraggableConfig().withHandle(\".modal-header\").withCursor(\"move\")));\n \n         addButton(new DefaultModalCloseButton());\n         setUseKeyboard(true);\n         setFadeIn(true);\n     }\n \n-    @Override\n-    public final Component add(final Behavior... behaviors) {\n-        return super.add(behaviors);\n-    }\n-\n-    @Override\n-    public final MarkupContainer add(final Component... childs) {\n-        return super.add(childs);\n-    }\n-\n-    @Override\n-    public final MarkupContainer addOrReplace(final Component... childs) {\n-        return super.addOrReplace(childs);\n-    }\n-\n     @Override\n     public NotificationPanel getNotificationPanel() {\n         return notificationPanel;"},{"sha":"f219b8ad09dbfdf7cdef3f5f301774a05e87a76a","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/BasePage.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FBasePage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FBasePage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FBasePage.html?ref=77fa0f61d405de50545c4e8f63309c8b1d47d09f","patch":"@@ -126,7 +126,7 @@\n       </div>\n \n       <footer class=\"main-footer block-footer\">\n-        Apache Syncope <label wicket:id=\"version\"/><br/>\n+        Apache Syncope <label wicket:id=\"version\"/> -\n         <strong>Copyright &copy; 2010–<span id=\"spanYear\"></span> \n           <a href=\"http://www.apache.org/\" target=\"_blank\">The Apache Software Foundation</a>.</strong>\n         All rights reserved."},{"sha":"2d9bca1360ddeaf59f7fdfd399d88436529b17e5","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/BasePopupPage.html","status":"removed","additions":0,"deletions":34,"changes":34,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/de21e7165f8d0f102152913750c836399434aa17/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FBasePopupPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/de21e7165f8d0f102152913750c836399434aa17/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FBasePopupPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FBasePopupPage.html?ref=de21e7165f8d0f102152913750c836399434aa17","patch":"@@ -1,34 +0,0 @@\n-<!--\n-Licensed to the Apache Software Foundation (ASF) under one\n-or more contributor license agreements.  See the NOTICE file\n-distributed with this work for additional information\n-regarding copyright ownership.  The ASF licenses this file\n-to you under the Apache License, Version 2.0 (the\n-\"License\"); you may not use this file except in compliance\n-with the License.  You may obtain a copy of the License at\n-\n-  http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing,\n-software distributed under the License is distributed on an\n-\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-KIND, either express or implied.  See the License for the\n-specific language governing permissions and limitations\n-under the License.\n--->\n-<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n-  <head>\n-    <title></title>\n-\n-    <style type=\"text/css\">\n-      table.palette td.header {\n-        background:url(\"images/ui-bg_glass_75_e6e6e6_1x400.png\")\n-          repeat-x scroll 50% 50% #E6E6E6 !important;\n-      }\n-    </style>\n-\n-  </head>\n-  <body onload=\"setTimeout('window.focus();', 0);\">\n-    <wicket:child />\n-  </body>\n-</html>"},{"sha":"56bb31dab2091fabed21b31ce1188aed2446643e","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/Workflow.html","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FWorkflow.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FWorkflow.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FWorkflow.html?ref=77fa0f61d405de50545c4e8f63309c8b1d47d09f","patch":"@@ -53,5 +53,6 @@\n       </div>\n     </section>\n \n+    <div wicket:id=\"xmlEditorModal\"/>\n   </wicket:extend>\n </html>\n\\ No newline at end of file"},{"sha":"d22205cf8b26f00caccc06b6f4d82039b8c4a8d3","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/Workflow.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FWorkflow.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FWorkflow.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FWorkflow.properties?ref=77fa0f61d405de50545c4e8f63309c8b1d47d09f","patch":"@@ -15,3 +15,4 @@\n # specific language governing permissions and limitations\n # under the License.\n noActivitiEnabledForUsers=Activiti not enabled for users\n+xmlEditorTitle=Workflow XML Editor"},{"sha":"faf7d0d0fb3297d5c889ac6ae97c632226d0e8d5","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/Workflow_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FWorkflow_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FWorkflow_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FWorkflow_it.properties?ref=77fa0f61d405de50545c4e8f63309c8b1d47d09f","patch":"@@ -15,3 +15,4 @@\n # specific language governing permissions and limitations\n # under the License.\n noActivitiEnabledForUsers=Activiti non configurato per gli utenti\n+xmlEditorTitle=Workflow XML Editor"},{"sha":"c814c56069802da1103007a55df4d0b11a58fe8e","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/Workflow_pt_BR.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FWorkflow_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FWorkflow_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FWorkflow_pt_BR.properties?ref=77fa0f61d405de50545c4e8f63309c8b1d47d09f","patch":"@@ -15,3 +15,4 @@\n # specific language governing permissions and limitations\n # under the License.\n noActivitiEnabledForUsers=Activiti n\\u00e3o habilitado para usu\\u00e1rios\n+xmlEditorTitle=Workflow XML Editor"},{"sha":"2276791c0c435e78cd5509043e58034e24ea1fa8","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/XMLEditorPopupPage.properties","status":"removed","additions":0,"deletions":19,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/de21e7165f8d0f102152913750c836399434aa17/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FXMLEditorPopupPage.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/de21e7165f8d0f102152913750c836399434aa17/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FXMLEditorPopupPage.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FXMLEditorPopupPage.properties?ref=de21e7165f8d0f102152913750c836399434aa17","patch":"@@ -1,19 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-submit=Save\n-cancel=Close\n-title=Workflow XML Editor"},{"sha":"818dfb46d3b520aaf13810110d069dd2db5c543c","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/XMLEditorPopupPage_it.properties","status":"removed","additions":0,"deletions":19,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/de21e7165f8d0f102152913750c836399434aa17/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FXMLEditorPopupPage_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/de21e7165f8d0f102152913750c836399434aa17/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FXMLEditorPopupPage_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FXMLEditorPopupPage_it.properties?ref=de21e7165f8d0f102152913750c836399434aa17","patch":"@@ -1,19 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-submit=Salva\n-cancel=Chiudi\n-title=Workflow XML Editor"},{"sha":"e9cd1ec3c6e65ff00c5b3384a7cdb59ec77721ed","filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/XMLEditorPopupPage_pt_BR.properties","status":"removed","additions":0,"deletions":19,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/de21e7165f8d0f102152913750c836399434aa17/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FXMLEditorPopupPage_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/de21e7165f8d0f102152913750c836399434aa17/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FXMLEditorPopupPage_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FXMLEditorPopupPage_pt_BR.properties?ref=de21e7165f8d0f102152913750c836399434aa17","patch":"@@ -1,19 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-submit=Salvar\n-cancel=Fechar\n-title=Workflow XML Editor"},{"sha":"6e979ea70a39ea88b1413fc517516f603b061993","filename":"client/console/src/main/resources/org/apache/syncope/client/console/panels/XMLWorkflowEditorModalPanel.html","status":"renamed","additions":8,"deletions":34,"changes":42,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FXMLWorkflowEditorModalPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fa0f61d405de50545c4e8f63309c8b1d47d09f/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FXMLWorkflowEditorModalPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FXMLWorkflowEditorModalPanel.html?ref=77fa0f61d405de50545c4e8f63309c8b1d47d09f","patch":"@@ -1,4 +1,3 @@\n-<!DOCTYPE html>\n <!--\n Licensed to the Apache Software Foundation (ASF) under one\n or more contributor license agreements.  See the NOTICE file\n@@ -23,17 +22,14 @@\n \n     <script type=\"text/javascript\" src=\"webjars/codemirror/${codemirror.version}/lib/codemirror.js\"></script>\n     <script type=\"text/javascript\" src=\"webjars/codemirror/${codemirror.version}/mode/xml/xml.js\"></script>\n+    <script type=\"text/javascript\" src=\"webjars/codemirror/${codemirror.version}/addon/display/autorefresh.js\"></script>\n+    <script type=\"text/javascript\" src=\"webjars/codemirror/${codemirror.version}/addon/search/search.js\"></script>\n+    <script type=\"text/javascript\" src=\"webjars/codemirror/${codemirror.version}/addon/search/searchcursor.js\"></script>\n     <script type=\"text/javascript\">\n       function updateTextArea(editor) {\n         document.getElementById(\"workflowDefArea\").value = editor.getValue();\n       }\n     </script>\n-    <script>\n-      window.onunload = refreshParent;\n-      function refreshParent() {\n-        window.opener.location.reload();\n-      }\n-    </script>\n     <style>\n       .w_content_3 {\n         padding: 0;\n@@ -45,34 +41,12 @@\n       }\n     </style>\n   </wicket:head>\n-  <wicket:extend>\n+  <wicket:panel>\n     <div style=\"padding: 1%;\">\n       <div class=\"w_content_3\">\n-        <p class=\"ui-widget ui-corner-all ui-widget-header\">\n-          <wicket:message key=\"title\"/>\n-        </p>\n-        <form wicket:id=\"workflowDefForm\">\n-          <div class=\"ui-tabs ui-widget ui-widget-content ui-corner-all\">\n-            <textarea wicket:id=\"workflowDefArea\" id=\"workflowDefArea\" style=\"width: 100%; height: 350px;\">\n-            </textarea>\n-          </div>\n-          <div style=\"padding-top: 1%;\">\n-            <input type=\"submit\"\n-                   class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\"\n-                   wicket:id=\"apply\"/>\n-            <input type=\"submit\"\n-                   wicket:id=\"closePage\"\n-                   class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\"\n-                   onclick=\"window.close();\"/>\n-          </div>\n-        </form>\n+        <textarea wicket:id=\"workflowDefArea\" id=\"workflowDefArea\" name=\"workflowDefArea\" style=\"width: 100%; height: 350px;\">\n+        </textarea>\n       </div>\n     </div>\n-    <script>\n-      window.onload = function () {\n-        var editor = CodeMirror.fromTextArea(document.getElementById(\"workflowDefArea\"), {lineNumbers: true});\n-        editor.on(\"change\", updateTextArea);\n-      };\n-    </script>\n-  </wicket:extend>\n-</html>\n+  </wicket:panel>\n+</html>\n\\ No newline at end of file","previous_filename":"client/console/src/main/resources/org/apache/syncope/client/console/pages/XMLEditorPopupPage.html"},{"sha":"cc73d4d7515362eab69e0fea7631b1869a8f0074","filename":"ext/camel/client-console/src/main/java/org/apache/syncope/client/console/panels/CamelRoutesDetailsPanel.java","status":"modified","additions":6,"deletions":2,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fa0f61d405de50545c4e8f63309c8b1d47d09f/ext%2Fcamel%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FCamelRoutesDetailsPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fa0f61d405de50545c4e8f63309c8b1d47d09f/ext%2Fcamel%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FCamelRoutesDetailsPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fcamel%2Fclient-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FCamelRoutesDetailsPanel.java?ref=77fa0f61d405de50545c4e8f63309c8b1d47d09f","patch":"@@ -29,6 +29,8 @@\n \n public class CamelRoutesDetailsPanel extends Panel {\n \n+    private static final long serialVersionUID = -768345003061796383L;\n+\n     public CamelRoutesDetailsPanel(final String id, final CamelRouteTO camelRoute) {\n         super(id);\n \n@@ -44,8 +46,10 @@ public CamelRoutesDetailsPanel(final String id, final CamelRouteTO camelRoute) {\n     public void renderHead(final IHeaderResponse response) {\n         super.renderHead(response);\n         response.render(OnLoadHeaderItem.forScript(\n-                \"CodeMirror.fromTextArea(document.getElementById('route'), {lineNumbers: true}).\"\n-                + \"on('change', updateTextArea)\"));\n+                \"CodeMirror.fromTextArea(document.getElementById('route'), {\"\n+                + \"  lineNumbers: true, \"\n+                + \"  autoRefresh: true\"\n+                + \"}).on('change', updateTextArea);\"));\n     }\n \n }"},{"sha":"882ac6fcdf683e1a93db15d50d105c06d8a7e2f8","filename":"ext/camel/client-console/src/main/resources/org/apache/syncope/client/console/panels/CamelRoutesDetailsPanel.html","status":"modified","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/77fa0f61d405de50545c4e8f63309c8b1d47d09f/ext%2Fcamel%2Fclient-console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FCamelRoutesDetailsPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/77fa0f61d405de50545c4e8f63309c8b1d47d09f/ext%2Fcamel%2Fclient-console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FCamelRoutesDetailsPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/ext%2Fcamel%2Fclient-console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FCamelRoutesDetailsPanel.html?ref=77fa0f61d405de50545c4e8f63309c8b1d47d09f","patch":"@@ -22,6 +22,9 @@\n \n     <script type=\"text/javascript\" src=\"webjars/codemirror/${codemirror.version}/lib/codemirror.js\"></script>\n     <script type=\"text/javascript\" src=\"webjars/codemirror/${codemirror.version}/mode/xml/xml.js\"></script>\n+    <script type=\"text/javascript\" src=\"webjars/codemirror/${codemirror.version}/addon/display/autorefresh.js\"></script>\n+    <script type=\"text/javascript\" src=\"webjars/codemirror/${codemirror.version}/addon/search/search.js\"></script>\n+    <script type=\"text/javascript\" src=\"webjars/codemirror/${codemirror.version}/addon/search/searchcursor.js\"></script>\n     <script type=\"text/javascript\">\n       function updateTextArea(editor) {\n         document.getElementById(\"routeDefForm\").elements[\"route\"].value = editor.getValue();"}]}
{"sha":"bd5f550573b78492fd7861fa68490cc5a23a953b","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmJkNWY1NTA1NzNiNzg0OTJmZDc4NjFmYTY4NDkwY2M1YTIzYTk1M2I=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2011-10-17T10:52:51Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2011-10-17T10:52:51Z"},"message":"bug-fix inheritance role attribute setting\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247143 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"aa3dcff3244393eea25d118712faeb8c82d911ed","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/aa3dcff3244393eea25d118712faeb8c82d911ed"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/bd5f550573b78492fd7861fa68490cc5a23a953b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bd5f550573b78492fd7861fa68490cc5a23a953b","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/bd5f550573b78492fd7861fa68490cc5a23a953b","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bd5f550573b78492fd7861fa68490cc5a23a953b/comments","author":null,"committer":null,"parents":[{"sha":"ee9c98147b78793ee877974fbafeb262b008269b","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ee9c98147b78793ee877974fbafeb262b008269b","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ee9c98147b78793ee877974fbafeb262b008269b"}],"stats":{"total":98,"additions":55,"deletions":43},"files":[{"sha":"494f67b1b461fb61e3a84d68cc36971418c062cb","filename":"client/src/main/java/org/syncope/client/mod/RoleMod.java","status":"modified","additions":18,"deletions":19,"changes":37,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd5f550573b78492fd7861fa68490cc5a23a953b/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fmod%2FRoleMod.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd5f550573b78492fd7861fa68490cc5a23a953b/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fmod%2FRoleMod.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fclient%2Fmod%2FRoleMod.java?ref=bd5f550573b78492fd7861fa68490cc5a23a953b","patch":"@@ -24,11 +24,11 @@ public class RoleMod extends AbstractAttributableMod {\n \n     private String name;\n \n-    private boolean changeInheritAttributes;\n+    private Boolean inheritAttributes;\n \n-    private boolean changeInheritDerivedAttributes;\n+    private Boolean inheritDerivedAttributes;\n \n-    private boolean changeInheritVirtualAttributes;\n+    private Boolean inheritVirtualAttributes;\n \n     private List<String> entitlements;\n \n@@ -40,32 +40,31 @@ public RoleMod() {\n         entitlements = new ArrayList<String>();\n     }\n \n-    public boolean isChangeInheritAttributes() {\n-        return changeInheritAttributes;\n+    public Boolean getInheritAttributes() {\n+        return inheritAttributes;\n     }\n \n-    public void setChangeInheritAttributes(boolean changeInheritAttributes) {\n-        this.changeInheritAttributes = changeInheritAttributes;\n+    public void setInheritAttributes(\n+            final Boolean inheritAttributes) {\n+        this.inheritAttributes = inheritAttributes;\n     }\n \n-    public boolean isChangeInheritDerivedAttributes() {\n-        return changeInheritDerivedAttributes;\n+    public Boolean getInheritDerivedAttributes() {\n+        return inheritDerivedAttributes;\n     }\n \n-    public void setChangeInheritDerivedAttributes(\n-            boolean changeInheritDerivedAttributes) {\n-\n-        this.changeInheritDerivedAttributes = changeInheritDerivedAttributes;\n+    public void setInheritDerivedAttributes(\n+            final Boolean inheritDerivedAttributes) {\n+        this.inheritDerivedAttributes = inheritDerivedAttributes;\n     }\n \n-    public boolean isChangeInheritVirtualAttributes() {\n-        return changeInheritVirtualAttributes;\n+    public Boolean getInheritVirtualAttributes() {\n+        return inheritVirtualAttributes;\n     }\n \n-    public void setChangeInheritVirtualAttributes(\n-            boolean changeInheritVirtualAttributes) {\n-\n-        this.changeInheritVirtualAttributes = changeInheritVirtualAttributes;\n+    public void setInheritVirtualAttributes(\n+            final Boolean inheritVirtualAttributes) {\n+        this.inheritVirtualAttributes = inheritVirtualAttributes;\n     }\n \n     public String getName() {"},{"sha":"4f226b5e3237072629c527821e3977b969cce722","filename":"console/src/main/java/org/syncope/console/pages/RoleModalPage.java","status":"modified","additions":29,"deletions":13,"changes":42,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd5f550573b78492fd7861fa68490cc5a23a953b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd5f550573b78492fd7861fa68490cc5a23a953b/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java?ref=bd5f550573b78492fd7861fa68490cc5a23a953b","patch":"@@ -27,7 +27,6 @@\n import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n import org.apache.wicket.extensions.markup.html.form.palette.Palette;\n import org.apache.wicket.markup.html.basic.Label;\n-import org.apache.wicket.markup.html.form.CheckBox;\n import org.apache.wicket.markup.html.form.Form;\n import org.apache.wicket.model.CompoundPropertyModel;\n import org.apache.wicket.model.PropertyModel;\n@@ -102,32 +101,40 @@ public RoleModalPage(final PageReference callerPageRef,\n \n         form.add(new AttributesPanel(\"attributes\", roleTO, form));\n \n-        final AjaxCheckBoxPanel inheritAttributes = new AjaxCheckBoxPanel(\n-                \"inheritAttributes\", getString(\"inheritAttributes\"),\n-                new PropertyModel<Boolean>(roleTO, \"inheritAttributes\"), false);\n-        form.add(inheritAttributes);\n+        final AjaxCheckBoxPanel inhAttributes = new AjaxCheckBoxPanel(\n+                \"inheritAttributes\",\n+                getString(\"inheritAttributes\"),\n+                new PropertyModel<Boolean>(roleTO, \"inheritAttributes\"),\n+                false);\n+        form.add(inhAttributes);\n         //--------------------------------\n \n         //--------------------------------\n         // Derived attributes container\n         //--------------------------------\n         form.add(new DerivedAttributesPanel(\"derivedAttributes\", roleTO));\n \n-        final CheckBox inheritDerivedAttributes =\n-                new CheckBox(\"inheritDerivedAttributes\");\n-        inheritDerivedAttributes.setOutputMarkupId(true);\n-        form.add(inheritDerivedAttributes);\n+        final AjaxCheckBoxPanel inhDerivedAttributes = new AjaxCheckBoxPanel(\n+                \"inheritDerivedAttributes\",\n+                getString(\"inheritDerivedAttributes\"),\n+                new PropertyModel<Boolean>(roleTO, \"inheritDerivedAttributes\"),\n+                false);\n+        inhDerivedAttributes.setOutputMarkupId(true);\n+        form.add(inhDerivedAttributes);\n         //--------------------------------\n \n         //--------------------------------\n         // Virtual attributes container\n         //--------------------------------\n         form.add(new VirtualAttributesPanel(\"virtualAttributes\", roleTO));\n \n-        final CheckBox inheritVirtualAttributes =\n-                new CheckBox(\"inheritVirtualAttributes\");\n-        inheritVirtualAttributes.setOutputMarkupId(true);\n-        form.add(inheritVirtualAttributes);\n+        final AjaxCheckBoxPanel inhVirtualAttributes = new AjaxCheckBoxPanel(\n+                \"inheritVirtualAttributes\",\n+                getString(\"inheritVirtualAttributes\"),\n+                new PropertyModel<Boolean>(roleTO, \"inheritVirtualAttributes\"),\n+                false);\n+        inhVirtualAttributes.setOutputMarkupId(true);\n+        form.add(inhVirtualAttributes);\n         //--------------------------------\n \n         form.add(new ResourcesPanel(\"resources\", roleTO));\n@@ -275,6 +282,15 @@ private void cloneOldRoleTO(RoleTO roleTO) {\n     private void setupRoleMod(final RoleTO roleTO) {\n         roleMod = new RoleMod();\n \n+        roleMod.setInheritAttributes(\n+                roleTO.isInheritAttributes());\n+\n+        roleMod.setInheritDerivedAttributes(\n+                roleTO.isInheritDerivedAttributes());\n+\n+        roleMod.setInheritVirtualAttributes(\n+                roleTO.isInheritVirtualAttributes());\n+\n         //1.Check if the role's name has been changed\n         if (!oldRole.getName().equals(roleTO.getName())) {\n             roleMod.setName(roleTO.getName());"},{"sha":"3d4c88f91e4d385c5b4520f1ef338975e81f0a07","filename":"console/src/main/resources/org/syncope/console/pages/RoleModalPage.html","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd5f550573b78492fd7861fa68490cc5a23a953b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd5f550573b78492fd7861fa68490cc5a23a953b/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.html?ref=bd5f550573b78492fd7861fa68490cc5a23a953b","patch":"@@ -81,7 +81,7 @@\n                     </div>\n \n                     <label for=\"inheritDerivedAttributes\"><wicket:message key=\"inheritDerivedAttributes\"/></label>\n-                    <input type=\"checkbox\" class=\"checkbox\"  wicket:id=\"inheritDerivedAttributes\"/>\n+                    <span wicket:id=\"inheritDerivedAttributes\">[inheritDerivedAttributes]</span>\n                 </div>\n \n                 <div id=\"tabs-3\">\n@@ -92,7 +92,7 @@\n                     </div>\n \n                     <label for=\"inheritVirtualAttributes\"><wicket:message key=\"inheritVirtualAttributes\"/></label>\n-                    <input type=\"checkbox\" class=\"checkbox\"  wicket:id=\"inheritVirtualAttributes\"/>\n+                    <span wicket:id=\"inheritVirtualAttributes\">[inheritVirtualAttributes]</span>\n                 </div>\n \n                 <div id=\"tabs-4\">"},{"sha":"6529c26e8ca7082d47c75c0fc47941f035ab4621","filename":"core/src/main/java/org/syncope/core/rest/data/RoleDataBinder.java","status":"modified","additions":6,"deletions":9,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bd5f550573b78492fd7861fa68490cc5a23a953b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FRoleDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bd5f550573b78492fd7861fa68490cc5a23a953b/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FRoleDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fcore%2Frest%2Fdata%2FRoleDataBinder.java?ref=bd5f550573b78492fd7861fa68490cc5a23a953b","patch":"@@ -132,21 +132,18 @@ public PropagationByResource update(SyncopeRole role, RoleMod roleMod)\n         }\n \n         // inherited attributes\n-        if (roleMod.isChangeInheritAttributes()) {\n-            role.setInheritAttributes(\n-                    !role.isInheritAttributes());\n+        if (roleMod.getInheritAttributes() != null) {\n+            role.setInheritAttributes(roleMod.getInheritAttributes());\n         }\n \n         // inherited derived attributes\n-        if (roleMod.isChangeInheritDerivedAttributes()) {\n-            role.setInheritDerivedAttributes(\n-                    !role.isInheritDerivedAttributes());\n+        if (roleMod.getInheritDerivedAttributes() != null) {\n+            role.setInheritDerivedAttributes(roleMod.getInheritDerivedAttributes());\n         }\n \n         // inherited virtual attributes\n-        if (roleMod.isChangeInheritVirtualAttributes()) {\n-            role.setInheritVirtualAttributes(\n-                    !role.isInheritVirtualAttributes());\n+        if (roleMod.getInheritVirtualAttributes() != null) {\n+            role.setInheritVirtualAttributes(roleMod.getInheritVirtualAttributes());\n         }\n \n         // entitlements"}]}
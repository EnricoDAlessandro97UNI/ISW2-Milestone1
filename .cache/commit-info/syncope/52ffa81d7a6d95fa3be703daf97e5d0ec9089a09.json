{"sha":"52ffa81d7a6d95fa3be703daf97e5d0ec9089a09","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjUyZmZhODFkN2E2ZDk1ZmEzYmU3MDNkYWY5N2U1ZDBlYzkwODlhMDk=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-07-24T07:52:24Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-07-24T07:52:24Z"},"message":"[SYNCOPE-536] Merge from 1_2_X\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1613028 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"ba1bd4619ef77ac48545f4e951bb947df2fd62e0","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/ba1bd4619ef77ac48545f4e951bb947df2fd62e0"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/52ffa81d7a6d95fa3be703daf97e5d0ec9089a09","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/52ffa81d7a6d95fa3be703daf97e5d0ec9089a09","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/52ffa81d7a6d95fa3be703daf97e5d0ec9089a09","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/52ffa81d7a6d95fa3be703daf97e5d0ec9089a09/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"9535238fb9d8a970f3f13bb85c6d42760bbdbafb","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/9535238fb9d8a970f3f13bb85c6d42760bbdbafb","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/9535238fb9d8a970f3f13bb85c6d42760bbdbafb"},{"sha":"2112b33c9ac65949d12391a1915ef7a875f23e4d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/2112b33c9ac65949d12391a1915ef7a875f23e4d","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/2112b33c9ac65949d12391a1915ef7a875f23e4d"}],"stats":{"total":338,"additions":224,"deletions":114},"files":[{"sha":"aaa0bdfbd296c5ca28e4b2b86adf1060a70805c1","filename":"console/pom.xml","status":"modified","additions":33,"deletions":27,"changes":60,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/52ffa81d7a6d95fa3be703daf97e5d0ec9089a09/console%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/52ffa81d7a6d95fa3be703daf97e5d0ec9089a09/console%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fpom.xml?ref=52ffa81d7a6d95fa3be703daf97e5d0ec9089a09","patch":"@@ -213,33 +213,39 @@ under the License.\n             <phase>process-resources</phase>\n             <configuration>\n               <target>\n-                <unzip src=\"${settings.localRepository}/org/activiti/activiti-webapp-explorer2/${activiti.version}/activiti-webapp-explorer2-${activiti.version}.war\" dest=\"${project.build.directory}/activiti-webapp-explorer2\" />\n+                <unzip src=\"${settings.localRepository}/org/activiti/activiti-webapp-explorer2/${activiti.version}/activiti-webapp-explorer2-${activiti.version}.war\" \n+                       dest=\"${project.build.directory}/activiti-webapp-explorer2\"/>\n                 \n-                <mkdir dir=\"${activiti-modeler.directory}\" />\n+                <mkdir dir=\"${activiti-modeler.directory}\"/>\n                 \n-                <mkdir dir=\"${activiti-modeler.directory}/editor\" />\n+                <mkdir dir=\"${activiti-modeler.directory}/editor\"/>\n                 <copy todir=\"${activiti-modeler.directory}/editor\">\n                   <fileset dir=\"${project.build.directory}/activiti-webapp-explorer2/editor\">\n-                    <exclude name=\"oryx.js\" />\n+                    <exclude name=\"oryx.js\"/>\n                   </fileset>\n                 </copy>\n-                <copy file=\"${project.build.directory}/activiti-webapp-explorer2/WEB-INF/classes/plugins.xml\" todir=\"${activiti-modeler.directory}/editor\" />\n-                <copy file=\"${project.build.directory}/activiti-webapp-explorer2/WEB-INF/classes/stencilset.json\" todir=\"${activiti-modeler.directory}/editor\" />\n+                <copy file=\"${project.build.directory}/activiti-webapp-explorer2/WEB-INF/classes/plugins.xml\" \n+                      todir=\"${activiti-modeler.directory}/editor\"/>\n+                <copy file=\"${project.build.directory}/activiti-webapp-explorer2/WEB-INF/classes/stencilset.json\" \n+                      todir=\"${activiti-modeler.directory}/editor\"/>\n                 \n-                <mkdir dir=\"${activiti-modeler.directory}/explorer\" />\n+                <mkdir dir=\"${activiti-modeler.directory}/explorer\"/>\n                 <copy todir=\"${activiti-modeler.directory}/explorer\">\n-                  <fileset dir=\"${project.build.directory}/activiti-webapp-explorer2/explorer\" />\n+                  <fileset dir=\"${project.build.directory}/activiti-webapp-explorer2/explorer\"/>\n                 </copy>\n                 \n-                <mkdir dir=\"${activiti-modeler.directory}/libs\" />\n+                <mkdir dir=\"${activiti-modeler.directory}/libs\"/>\n                 <copy todir=\"${activiti-modeler.directory}/libs\">\n-                  <fileset dir=\"${project.build.directory}/activiti-webapp-explorer2/libs\" />\n+                  <fileset dir=\"${project.build.directory}/activiti-webapp-explorer2/libs\"/>\n                 </copy>\n                 \n-                <fixcrlf srcdir=\"${project.build.directory}/activiti-webapp-explorer2/editor/\" includes=\"oryx.debug.js\" eol=\"unix\" />\n-                <patch patchfile=\"${basedir}/src/main/resources/oryx.debug.js.patch\" originalfile=\"${project.build.directory}/activiti-webapp-explorer2/editor/oryx.debug.js\" destfile=\"${activiti-modeler.directory}/editor/oryx.debug.js\" />\n+                <fixcrlf srcdir=\"${project.build.directory}/activiti-webapp-explorer2/editor/\" \n+                         includes=\"oryx.debug.js\" eol=\"unix\"/>\n+                <patch patchfile=\"${basedir}/src/main/resources/oryx.debug.js.patch\" \n+                       originalfile=\"${project.build.directory}/activiti-webapp-explorer2/editor/oryx.debug.js\" \n+                       destfile=\"${activiti-modeler.directory}/editor/oryx.debug.js\"/>\n                 \n-                <delete dir=\"${project.build.directory}/activiti-webapp-explorer2\" />\n+                <delete dir=\"${project.build.directory}/activiti-webapp-explorer2\"/>\n               </target>\n             </configuration>\n             <goals>\n@@ -251,13 +257,13 @@ under the License.\n             <phase>pre-integration-test</phase>\n             <configuration>\n               <target>\n-                <unzip src=\"${basedir}/../core/target/syncope.war\" dest=\"${cargo.run.dir}\" />\n-                <copy file=\"${project.build.directory}/test-classes/db.jsp\" todir=\"${cargo.run.dir}\" />\n+                <unzip src=\"${basedir}/../core/target/syncope.war\" dest=\"${cargo.run.dir}\"/>\n+                <copy file=\"${project.build.directory}/test-classes/db.jsp\" todir=\"${cargo.run.dir}\"/>\n                 <copy todir=\"${cargo.run.dir}/WEB-INF/classes\" includeEmptyDirs=\"false\">\n                   <fileset dir=\"${project.build.directory}/test-classes\">\n-                    <exclude name=\"**/*.class\" />\n-                    <exclude name=\"restClientContext.xml\" />\n-                    <exclude name=\"rest.properties\" />\n+                    <exclude name=\"**/*.class\"/>\n+                    <exclude name=\"restClientContext.xml\"/>\n+                    <exclude name=\"rest.properties\"/>\n                   </fileset>\n                 </copy>\n               </target>\n@@ -271,7 +277,7 @@ under the License.\n             <phase>pre-integration-test</phase>\n             <configuration>\n               <target>\n-                <copy file=\"${project.build.directory}/test-classes/test.csv\" todir=\"${test.csvdir.path}\" overwrite=\"true\" />\n+                <copy file=\"${project.build.directory}/test-classes/test.csv\" todir=\"${test.csvdir.path}\" overwrite=\"true\"/>\n               </target>\n             </configuration>\n             <goals>\n@@ -438,7 +444,7 @@ under the License.\n     <profile>\n       <id>skipTests</id>\n       <properties>\n-        <javaagent />\n+        <javaagent/>\n       </properties>\n       \n       <build>\n@@ -528,11 +534,11 @@ under the License.\n                 <phase>pre-integration-test</phase>\n                 <configuration>\n                   <target>\n-                    <touch millis=\"0\" file=\"${project.build.directory}/test-classes/web.xml\" />\n+                    <touch millis=\"0\" file=\"${project.build.directory}/test-classes/web.xml\"/>\n                     <war destfile=\"${project.build.directory}/${project.build.finalName}.war\" update=\"true\">                      \n                       <mappedresources>\n-                        <fileset dir=\"${project.build.directory}/test-classes\" includes=\"web.xml\" />\n-                        <globmapper from=\"web.xml\" to=\"WEB-INF/web.xml\" />\n+                        <fileset dir=\"${project.build.directory}/test-classes\" includes=\"web.xml\"/>\n+                        <globmapper from=\"web.xml\" to=\"WEB-INF/web.xml\"/>\n                       </mappedresources>                      \n                     </war>\n                   </target>\n@@ -593,11 +599,11 @@ under the License.\n                 <phase>pre-integration-test</phase>\n                 <configuration>\n                   <target>\n-                    <touch millis=\"0\" file=\"${project.build.directory}/test-classes/web.xml\" />\n+                    <touch millis=\"0\" file=\"${project.build.directory}/test-classes/web.xml\"/>\n                     <war destfile=\"${project.build.directory}/${project.build.finalName}.war\" update=\"true\">                      \n                       <mappedresources>\n-                        <fileset dir=\"${project.build.directory}/test-classes\" includes=\"web.xml\" />\n-                        <globmapper from=\"web.xml\" to=\"WEB-INF/web.xml\" />\n+                        <fileset dir=\"${project.build.directory}/test-classes\" includes=\"web.xml\"/>\n+                        <globmapper from=\"web.xml\" to=\"WEB-INF/web.xml\"/>\n                       </mappedresources>                      \n                     </war>\n                   </target>\n@@ -656,7 +662,7 @@ under the License.\n       <id>selenium</id>\n       \n       <properties>\n-        <javaagent />\n+        <javaagent/>\n       </properties>\n       \n       <build>"},{"sha":"da06d84f4667bba4a4e103e4f283f45607a49c37","filename":"console/src/main/resources/oryx.debug.js.patch","status":"modified","additions":179,"deletions":80,"changes":259,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/52ffa81d7a6d95fa3be703daf97e5d0ec9089a09/console%2Fsrc%2Fmain%2Fresources%2Foryx.debug.js.patch","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/52ffa81d7a6d95fa3be703daf97e5d0ec9089a09/console%2Fsrc%2Fmain%2Fresources%2Foryx.debug.js.patch","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Foryx.debug.js.patch?ref=52ffa81d7a6d95fa3be703daf97e5d0ec9089a09","patch":"@@ -15,83 +15,182 @@\n # specific language governing permissions and limitations\n # under the License.\n 1864c1864,1865\n-< ORYX.CONFIG.ROOT_PATH =\t\t\t\t\t\"../editor/\"; //TODO: Remove last slash!!\n----\n-> /*\n-> ORYX.CONFIG.ROOT_PATH =\t\t\t\t\t\"../editor/\";\n-1866a1868,1873\n-> */                  \n-> BASE_PATH =                                     window.location.toString().substr(0, window.location.toString().indexOf('/wicket'));\n-> \n-> ORYX.CONFIG.ROOT_PATH =\t\t\t\tBASE_PATH + \"/activiti-modeler/editor/\"\n-> ORYX.CONFIG.EXPLORER_PATH =\t\t\tBASE_PATH + \"/activiti-modeler/explorer\"\n-> ORYX.CONFIG.LIBS_PATH =\t\t\t\tBASE_PATH + \"/activiti-modeler/libs\"\n-1877c1884\n-< ORYX.CONFIG.PLUGINS_CONFIG =\t\t\tORYX.CONFIG.SERVER_HANDLER_ROOT + \"/editor/plugins\";\n----\n-> ORYX.CONFIG.PLUGINS_CONFIG =\t\t\tORYX.CONFIG.ROOT_PATH + \"plugins.xml\";\n-2416c2423\n-< \t\t\t\t\t\tORYX.Log.error(\"A plugin is not providing a name. Ingnoring this plugin.\");\n----\n-> \t\t\t\t\t\tORYX.Log.error(\"A plugin is not providing a name. Ignoring this plugin.\");\n-8471,8473c8478,8480\n-< \t\t\tthis._baseUrl = \"../editor/stencilsets/bpmn2.0/\";\n-< \t\t\tthis._source = \"../stencilsets/bpmn2.0/bpmn2.0.json\";\n-< \t\t\tnew Ajax.Request(\"../service/editor/stencilset\", {\n----\n-> \t\t\tthis._baseUrl = ORYX.CONFIG.ROOT_PATH + \"stencilsets/bpmn2.0/\";\n-> \t\t\tthis._source = ORYX.CONFIG.ROOT_PATH + \"stencilsets/bpmn2.0/bpmn2.0.json\";\n-> \t\t\tnew Ajax.Request(ORYX.CONFIG.ROOT_PATH + \"stencilset.json\", {\n-11199a11207\n->         modelUrl = BASE_PATH + \"/workflowDefGET\";\n-11574,11575c11582,11583\n-<                   \"<a href=\\\"\"+ORYX.CONFIG.WEB_URL+\"\\\" target=\\\"_self\\\" title=\\\"close modeler\\\">\" +\n-<                     \"<img src='../editor/images/close_button.png' border=\\\"0\\\" />\" + \n----\n->                   \"<a href=\\\"#\\\" title=\\\"close modeler\\\" onclick=\\\"window.close();\\\">\" +\n->                     \"<img src='\"+ORYX.CONFIG.ROOT_PATH+\"images/close_button.png' border=\\\"0\\\" />\" + \n-18331c18339\n-< \t\tvar sloading \t= \"height:16px;width:16px;margin-bottom:-4px;background: transparent url(../libs/ext-2.0.2/resources/images/default/tree/loading.gif) no-repeat center;\"\n----\n-> \t\tvar sloading \t= \"height:16px;width:16px;margin-bottom:-4px;background: transparent url(\"+ORYX.CONFIG.LIBS_PATH+\"/ext-2.0.2/resources/images/default/tree/loading.gif) no-repeat center;\"\n-21910c21918\n-< \t\t\t\ticon: '../editor/images/add.png',\n----\n-> \t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/add.png',\n-21923c21931\n-< \t\t\t\ticon: '../editor/images/delete.png',\n----\n-> \t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/delete.png',\n-22450c22458\n-< \t\t\t\ticon: '../editor/images/add.png',\n----\n-> \t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/add.png',\n-22463c22471\n-< \t\t\t\ticon: '../editor/images/delete.png',\n----\n-> \t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/delete.png',\n-22523c22531\n-< \t\t\t\ticon: '../editor/images/add.png',\n----\n-> \t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/add.png',\n-22536c22544\n-< \t\t\t\ticon: '../editor/images/delete.png',\n----\n-> \t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/delete.png',\n-24530,24531c24538,24539\n-< \t\t\t\t\t\t\t'<p><label for=\"edit_model_title\">' + ORYX.I18N.Save.dialogLabelTitle + '</label><input type=\"text\" class=\"text\" name=\"title\" value=\"{title}\" id=\"edit_model_title\" onfocus=\"this.className = \\'text activated\\'\" onblur=\"this.className = \\'text\\'\"/></p>',\n-< \t\t\t\t\t\t\t'<p><label for=\"edit_model_summary\">' + ORYX.I18N.Save.dialogLabelDesc + '</label><textarea rows=\"5\" name=\"summary\" id=\"edit_model_summary\" onfocus=\"this.className = \\'activated\\'\" onblur=\"this.className = \\'\\'\">{summary}</textarea></p>',\n----\n-> \t\t\t\t\t\t\t'<p><label for=\"edit_model_title\">' + ORYX.I18N.Save.dialogLabelTitle + '</label><input type=\"text\" class=\"text\" name=\"title\" value=\"{title}\" id=\"edit_model_title\" onfocus=\"this.className = \\'text activated\\'\" onblur=\"this.className = \\'text\\'\" readonly=\\\"readonly\\\"/></p>',\n-> \t\t\t\t\t\t\t'<p><label for=\"edit_model_summary\">' + ORYX.I18N.Save.dialogLabelDesc + '</label><textarea rows=\"5\" name=\"summary\" id=\"edit_model_summary\" onfocus=\"this.className = \\'activated\\'\" onblur=\"this.className = \\'\\'\" readonly=\\\"readonly\\\">{summary}</textarea></p>',\n-24812,24813c24820\n-< \t\t\n-< \t\tnew Ajax.Request(\"../service/model/\" + modelMeta.modelId + \"/json\", {\n----\n-> \t\tnew Ajax.Request(BASE_PATH + \"/workflowDefGET\", {\n-24875a24883\n-> \t        saveUri = BASE_PATH + \"/workflowDefPUT\";\n-24883c24891\n-< \t\t\theaders\t\t\t: {'Accept':\"application/json\", 'Content-Type':'charset=UTF-8'},\n----\n-> \t\t\theaders\t\t\t: {'Accept':\"application/json\", 'Content-Type':'application/json'},\n+--- editor/oryx.debug.js\t2014-04-28 14:59:52.000000000 +0200\n++++ /tmp/oryx.debug.js\t2014-07-23 16:00:26.879824803 +0200\n+@@ -1861,9 +1861,16 @@\n+  * This file contains URI constants that may be used for XMLHTTPRequests.\n+  */\n+ \n+-ORYX.CONFIG.ROOT_PATH =\t\t\t\t\t\"../editor/\"; //TODO: Remove last slash!!\n++/*\n++ORYX.CONFIG.ROOT_PATH =\t\t\t\t\t\"../editor/\";\n+ ORYX.CONFIG.EXPLORER_PATH =\t\t\t\t\"../explorer\";\n+ ORYX.CONFIG.LIBS_PATH =\t\t\t\t\t\"../libs\";\n++*/                  \n++BASE_PATH =                                     window.location.toString().substr(0, window.location.toString().indexOf('/wicket'));\n++\n++ORYX.CONFIG.ROOT_PATH =\t\t\t\tBASE_PATH + \"/activiti-modeler/editor/\"\n++ORYX.CONFIG.EXPLORER_PATH =\t\t\tBASE_PATH + \"/activiti-modeler/explorer\"\n++ORYX.CONFIG.LIBS_PATH =\t\t\t\tBASE_PATH + \"/activiti-modeler/libs\"\n+ \n+ /**\n+  * Regular Config\n+@@ -1874,7 +1881,7 @@\n+ ORYX.CONFIG.STENCILSET_HANDLER = \t\tORYX.CONFIG.SERVER_HANDLER_ROOT + \"/editor_stencilset?embedsvg=true&url=true&namespace=\";    \n+ ORYX.CONFIG.STENCIL_SETS_URL = \t\t\tORYX.CONFIG.SERVER_HANDLER_ROOT + \"/editor_stencilset\";\n+ \n+-ORYX.CONFIG.PLUGINS_CONFIG =\t\t\tORYX.CONFIG.SERVER_HANDLER_ROOT + \"/editor/plugins\";\n++ORYX.CONFIG.PLUGINS_CONFIG =\t\t\tORYX.CONFIG.ROOT_PATH + \"plugins.xml\";\n+ ORYX.CONFIG.SYNTAXCHECKER_URL =\t\t\tORYX.CONFIG.SERVER_HANDLER_ROOT + \"/syntaxchecker\";\n+ ORYX.CONFIG.DEPLOY_URL = \t\t\t\tORYX.CONFIG.SERVER_HANDLER_ROOT + \"/model/deploy\";\n+ ORYX.CONFIG.MODEL_LIST_URL = \t\t\tORYX.CONFIG.SERVER_HANDLER_ROOT + \"/models\";\n+@@ -2413,7 +2420,7 @@\n+ \t\t\t\t\t\n+ \t\t\t\t\t// ensure there's a name attribute.\n+ \t\t\t\t\tif(!pluginData['name']) {\n+-\t\t\t\t\t\tORYX.Log.error(\"A plugin is not providing a name. Ingnoring this plugin.\");\n++\t\t\t\t\t\tORYX.Log.error(\"A plugin is not providing a name. Ignoring this plugin.\");\n+ \t\t\t\t\t\treturn;\n+ \t\t\t\t\t}\n+ \n+@@ -8468,9 +8475,9 @@\n+ \t\tthis._availableStencils = new Hash();\n+         \n+ \t\tif(ORYX.CONFIG.BACKEND_SWITCH) {\n+-\t\t\tthis._baseUrl = \"../editor/stencilsets/bpmn2.0/\";\n+-\t\t\tthis._source = \"../stencilsets/bpmn2.0/bpmn2.0.json\";\n+-\t\t\tnew Ajax.Request(\"../service/editor/stencilset\", {\n++\t\t\tthis._baseUrl = ORYX.CONFIG.ROOT_PATH + \"stencilsets/bpmn2.0/\";\n++\t\t\tthis._source = ORYX.CONFIG.ROOT_PATH + \"stencilsets/bpmn2.0/bpmn2.0.json\";\n++\t\t\tnew Ajax.Request(ORYX.CONFIG.ROOT_PATH + \"stencilset.json\", {\n+ \t            asynchronous: false,\n+ \t            method: 'get',\n+ \t            onSuccess: this._init.bind(this),\n+@@ -11197,6 +11204,7 @@\n+ \t\t\tmodelUrl = \"../service/model/\" + modelId + \"/json\";\n+ \t\t}\n+ \n++        modelUrl = BASE_PATH + \"/workflowDefGET\";\n+         ORYX.Editor.createByUrl(modelUrl, {\n+             id: modelUrl\n+         });\n+@@ -11564,15 +11572,15 @@\n+ \t\t\t\n+ \t\t\tvar content =  \"<div id='editor_header'>\" +\n+                 \"<div id='header_logo_image'>\" +                \n+-                    \"<img src='../explorer/src/img/signavio/smoky/logo2.png' border=\\\"0\\\"/>\" +\n++                    \"<img src='\"+ORYX.CONFIG.EXPLORER_PATH+\"/src/img/signavio/smoky/logo2.png' border=\\\"0\\\"/>\" +\n+                 \"</div>\" +\n+                 \"<span class='openid \" + (publicText == user ? \"not\" : \"\") + \"'>\" + \n+                   (unescape(user)) + \n+                   maModelAuthI + \n+                 \"</span>\" + \n+                 \"<div id='header_close_image'>\" +\n+-                  \"<a href=\\\"\"+ORYX.CONFIG.WEB_URL+\"\\\" target=\\\"_self\\\" title=\\\"close modeler\\\">\" +\n+-                    \"<img src='../editor/images/close_button.png' border=\\\"0\\\" />\" + \n++                  \"<a href=\\\"#\\\" title=\\\"close modeler\\\" onclick=\\\"window.close();\\\">\" +\n++                    \"<img src='\"+ORYX.CONFIG.ROOT_PATH+\"images/close_button.png' border=\\\"0\\\" />\" + \n+                   \"</a>\" +\n+                 \"</div>\" + \n+               \"</div>\";\n+@@ -18328,7 +18336,7 @@\n+ \t\tvar sversion \t= \"color:#ad0f5b;padding-right:10px;font-family:tahoma,arial,san-serif;font-size:12px;\";\n+ \t\tvar stext \t\t= \"display:block;position:relative;text-align:right;top:0;width:100%;\";\n+ \t\tvar stitle \t\t= \"color:#ad0f5b;font-weight:bold;padding-right:10px;font-family:tahoma,arial,san-serif;font-size:12px;\"\n+-\t\tvar sloading \t= \"height:16px;width:16px;margin-bottom:-4px;background: transparent url(../libs/ext-2.0.2/resources/images/default/tree/loading.gif) no-repeat center;\"\n++\t\tvar sloading \t= \"height:16px;width:16px;margin-bottom:-4px;background: transparent url(\"+ORYX.CONFIG.LIBS_PATH+\"/ext-2.0.2/resources/images/default/tree/loading.gif) no-repeat center;\"\n+ \t\tvar simg \t\t= \"padding-bottom:10px;border-bottom:1px solid #ad0f5b;\";\n+ \n+ \t\t// Define the parent\n+@@ -21907,7 +21915,7 @@\n+ \t\t\tvar toolbar = new Ext.Toolbar(\n+ \t\t\t[{\n+ \t\t\t\ttext: ORYX.I18N.PropertyWindow.add,\t\t\t\t\t\n+-\t\t\t\ticon: '../editor/images/add.png',\n++\t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/add.png',\n+ \t\t\t\ticonCls: \"x-dummy\",\n+ \t\t\t\thandler: function(){\n+ \t\t\t\t\tvar ds = this.grid.getStore();\n+@@ -21920,7 +21928,7 @@\n+ \t\t\t\t}.bind(this)\n+ \t\t\t},{\n+ \t\t\t\ttext: ORYX.I18N.PropertyWindow.rem,\t\t\t\t\t\n+-\t\t\t\ticon: '../editor/images/delete.png',\n++\t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/delete.png',\n+ \t\t\t\ticonCls: \"x-dummy\",\n+ \t\t        handler : function(){\n+ \t\t\t\t\tvar ds = this.grid.getStore();\n+@@ -22447,7 +22455,7 @@\n+ \t\t\tvar toolbar = new Ext.Toolbar(\n+ \t\t\t[{\n+ \t\t\t\ttext: ORYX.I18N.PropertyWindow.add,\t\t\t\t\t\n+-\t\t\t\ticon: '../editor/images/add.png',\n++\t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/add.png',\n+ \t\t\t\ticonCls: \"x-dummy\",\n+ \t\t\t\thandler: function(){\n+ \t\t\t\t\tvar ds = this.grid.getStore();\n+@@ -22460,7 +22468,7 @@\n+ \t\t\t\t}.bind(this)\n+ \t\t\t},{\n+ \t\t\t\ttext: ORYX.I18N.PropertyWindow.rem,\t\t\t\t\t\n+-\t\t\t\ticon: '../editor/images/delete.png',\n++\t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/delete.png',\n+ \t\t\t\ticonCls: \"x-dummy\",\n+ \t\t        handler : function(){\n+ \t\t\t\t\tvar ds = this.grid.getStore();\n+@@ -22520,7 +22528,7 @@\n+ \t\t\tvar secondToolbar = new Ext.Toolbar(\n+ \t\t\t[{\n+ \t\t\t\ttext: ORYX.I18N.PropertyWindow.add,\t\t\t\t\t\n+-\t\t\t\ticon: '../editor/images/add.png',\n++\t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/add.png',\n+ \t\t\t\ticonCls: \"x-dummy\",\n+ \t\t\t\thandler: function(){\n+ \t\t\t\t\tvar ds = this.secondGrid.getStore();\n+@@ -22533,7 +22541,7 @@\n+ \t\t\t\t}.bind(this)\n+ \t\t\t},{\n+ \t\t\t\ttext: ORYX.I18N.PropertyWindow.rem,\t\t\t\t\t\n+-\t\t\t\ticon: '../editor/images/delete.png',\n++\t\t\t\ticon: ORYX.CONFIG.ROOT_PATH + 'images/delete.png',\n+ \t\t\t\ticonCls: \"x-dummy\",\n+ \t\t        handler : function(){\n+ \t\t\t\t\tvar ds = this.secondGrid.getStore();\n+@@ -24527,8 +24535,8 @@\n+ \t\t\t\t\t\t'<fieldset>',\n+ \t\t\t\t\t\t\t'<p class=\"description\">' + ORYX.I18N.Save.dialogDesciption + '</p>',\n+ \t\t\t\t\t\t\t'<input type=\"hidden\" name=\"namespace\" value=\"{namespace}\" />',\n+-\t\t\t\t\t\t\t'<p><label for=\"edit_model_title\">' + ORYX.I18N.Save.dialogLabelTitle + '</label><input type=\"text\" class=\"text\" name=\"title\" value=\"{title}\" id=\"edit_model_title\" onfocus=\"this.className = \\'text activated\\'\" onblur=\"this.className = \\'text\\'\"/></p>',\n+-\t\t\t\t\t\t\t'<p><label for=\"edit_model_summary\">' + ORYX.I18N.Save.dialogLabelDesc + '</label><textarea rows=\"5\" name=\"summary\" id=\"edit_model_summary\" onfocus=\"this.className = \\'activated\\'\" onblur=\"this.className = \\'\\'\">{summary}</textarea></p>',\n++\t\t\t\t\t\t\t'<p><label for=\"edit_model_title\">' + ORYX.I18N.Save.dialogLabelTitle + '</label><input type=\"text\" class=\"text\" name=\"title\" value=\"{title}\" id=\"edit_model_title\" onfocus=\"this.className = \\'text activated\\'\" onblur=\"this.className = \\'text\\'\" readonly=\\\"readonly\\\"/></p>',\n++\t\t\t\t\t\t\t'<p><label for=\"edit_model_summary\">' + ORYX.I18N.Save.dialogLabelDesc + '</label><textarea rows=\"5\" name=\"summary\" id=\"edit_model_summary\" onfocus=\"this.className = \\'activated\\'\" onblur=\"this.className = \\'\\'\" readonly=\\\"readonly\\\">{summary}</textarea></p>',\n+ \t\t\t\t\t\t\t(modelMeta.versioning) ? '<p><label for=\"edit_model_comment\">' + ORYX.I18N.Save.dialogLabelComment + '</label><textarea rows=\"5\" name=\"comment\" id=\"edit_model_comment\" onfocus=\"this.className = \\'activated\\'\" onblur=\"this.className = \\'\\'\">{comment}</textarea></p>' : '',\n+ \t\t\t\t\t\t\t'<p><label for=\"edit_model_type\">' + ORYX.I18N.Save.dialogLabelType + '</label><input type=\"text\" name=\"type\" class=\"text disabled\" value=\"{type}\" disabled=\"disabled\" id=\"edit_model_type\" /></p>',\n+ \t\t\t\t\t\t\t\n+@@ -24809,8 +24817,7 @@\n+ \t\t}\n+ \t\t\n+ \t\tvar modelMeta = this.facade.getModelMetaData();\n+-\t\t\n+-\t\tnew Ajax.Request(\"../service/model/\" + modelMeta.modelId + \"/json\", {\n++\t\tnew Ajax.Request(BASE_PATH + \"/workflowDefGET\", {\n+             method: 'get',\n+             asynchronous: true,\n+ \t\t\trequestHeaders: {\n+@@ -24873,6 +24880,7 @@\n+ \t\t} else {\n+ \t\t\tsaveUri = \"../service/model/new\";\n+ \t\t}\n++\t        saveUri = BASE_PATH + \"/workflowDefPUT\";\n+ \t\t\n+ \t\t// Send the request to the server.\n+ \t\tExt.Ajax.request({\n+@@ -24880,7 +24888,7 @@\n+ \t\t\tmethod\t\t\t: method,\n+ \t\t\ttimeout\t\t\t: 1800000,\n+ \t\t\tdisableCaching\t: true,\n+-\t\t\theaders\t\t\t: {'Accept':\"application/json\", 'Content-Type':'charset=UTF-8'},\n++\t\t\theaders\t\t\t: {'Accept':\"application/json\", 'Content-Type':'application/json'},\n+ \t\t\tparams\t\t\t: params,\n+ \t\t\tsuccess\t\t\t: success,\n+ \t\t\tfailure\t\t\t: failure"},{"sha":"843a78589c5e079316d0af28586ab357adbf7140","filename":"core/src/main/java/org/apache/syncope/core/workflow/user/activiti/ActivitiUserWorkflowAdapter.java","status":"modified","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/52ffa81d7a6d95fa3be703daf97e5d0ec9089a09/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Fuser%2Factiviti%2FActivitiUserWorkflowAdapter.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/52ffa81d7a6d95fa3be703daf97e5d0ec9089a09/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Fuser%2Factiviti%2FActivitiUserWorkflowAdapter.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fworkflow%2Fuser%2Factiviti%2FActivitiUserWorkflowAdapter.java?ref=52ffa81d7a6d95fa3be703daf97e5d0ec9089a09","patch":"@@ -18,6 +18,9 @@\n  */\n package org.apache.syncope.core.workflow.user.activiti;\n \n+import com.fasterxml.jackson.databind.JsonNode;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import com.fasterxml.jackson.databind.node.ObjectNode;\n import java.io.IOException;\n import java.io.InputStream;\n import java.io.OutputStream;\n@@ -73,9 +76,6 @@\n import org.apache.syncope.core.workflow.WorkflowInstanceLoader;\n import org.apache.syncope.core.workflow.WorkflowResult;\n import org.apache.syncope.core.workflow.user.AbstractUserWorkflowAdapter;\n-import org.codehaus.jackson.JsonNode;\n-import org.codehaus.jackson.map.ObjectMapper;\n-import org.codehaus.jackson.node.ObjectNode;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.beans.factory.annotation.Autowired;\n@@ -124,7 +124,7 @@ public class ActivitiUserWorkflowAdapter extends AbstractUserWorkflowAdapter {\n     public static final String TASK_IS_FORM = \"taskIsForm\";\n \n     public static final String MODEL_DATA_JSON_MODEL = \"model\";\n-    \n+\n     public static final String STORE_PASSWORD = \"storePassword\";\n \n     @Resource(name = \"adminUser\")\n@@ -266,7 +266,7 @@ public WorkflowResult<Map.Entry<Long, Boolean>> create(final UserTO userTO, fina\n \n         updateStatus(user);\n         user = userDAO.save(user);\n-        \n+\n         Boolean propagateEnable = (Boolean) runtimeService.getVariable(\n                 processInstance.getProcessInstanceId(), PROPAGATE_ENABLE);\n         if (propagateEnable == null) {\n@@ -462,7 +462,7 @@ protected void exportProcessModel(final OutputStream os) {\n         try {\n             ObjectNode modelNode = (ObjectNode) objectMapper.readTree(model.getMetaInfo());\n             modelNode.put(ModelDataJsonConstants.MODEL_ID, model.getId());\n-            modelNode.put(MODEL_DATA_JSON_MODEL,\n+            modelNode.replace(MODEL_DATA_JSON_MODEL,\n                     objectMapper.readTree(repositoryService.getModelEditorSource(model.getId())));\n \n             os.write(modelNode.toString().getBytes());"},{"sha":"732149de342cdef0e0bbd33dd47c6e8668c7f18e","filename":"pom.xml","status":"modified","additions":6,"deletions":1,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/52ffa81d7a6d95fa3be703daf97e5d0ec9089a09/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/52ffa81d7a6d95fa3be703daf97e5d0ec9089a09/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=52ffa81d7a6d95fa3be703daf97e5d0ec9089a09","patch":"@@ -321,7 +321,7 @@ under the License.\n     <commons-lang.version>3.3.2</commons-lang.version>\n     <commons-codec.version>1.9</commons-codec.version>\n \n-    <activiti.version>5.15.1</activiti.version>\n+    <activiti.version>5.16</activiti.version>\n     \n     <aspectj.version>1.8.0</aspectj.version>\n \n@@ -697,6 +697,11 @@ under the License.\n       </dependency>      \n       <!-- /CXF -->\n \n+      <dependency>\n+        <groupId>com.fasterxml.jackson.core</groupId>\n+        <artifactId>jackson-core</artifactId>\n+        <version>${jackson.version}.1</version>\n+      </dependency>\n       <dependency>\n         <groupId>com.fasterxml.jackson.core</groupId>\n         <artifactId>jackson-databind</artifactId>"}]}
{"sha":"bdff1fd618955dd6a361385fcc8c620d75d34b5f","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmJkZmYxZmQ2MTg5NTVkZDZhMzYxMzg1ZmNjOGM2MjBkNzVkMzRiNWY=","commit":{"author":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2017-06-23T11:23:50Z"},"committer":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2017-06-23T11:24:54Z"},"message":"removed deprecated object from SyncopeEnduserSession, fixed complicance check","tree":{"sha":"15814224cf69dd9d844558a932aa7cc41f9f5f2a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/15814224cf69dd9d844558a932aa7cc41f9f5f2a"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/bdff1fd618955dd6a361385fcc8c620d75d34b5f","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bdff1fd618955dd6a361385fcc8c620d75d34b5f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/bdff1fd618955dd6a361385fcc8c620d75d34b5f","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/bdff1fd618955dd6a361385fcc8c620d75d34b5f/comments","author":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"committer":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"parents":[{"sha":"017909743d9aa7c19a44cfd2c67b7f5d72e87f89","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/017909743d9aa7c19a44cfd2c67b7f5d72e87f89","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/017909743d9aa7c19a44cfd2c67b7f5d72e87f89"}],"stats":{"total":20,"additions":4,"deletions":16},"files":[{"sha":"370f91ab1470efc292d3614f813442fe5e2d1dde","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/SyncopeEnduserSession.java","status":"modified","additions":0,"deletions":14,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bdff1fd618955dd6a361385fcc8c620d75d34b5f/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserSession.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bdff1fd618955dd6a361385fcc8c620d75d34b5f/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserSession.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FSyncopeEnduserSession.java?ref=bdff1fd618955dd6a361385fcc8c620d75d34b5f","patch":"@@ -19,7 +19,6 @@\n package org.apache.syncope.client.enduser;\n \n import java.security.AccessControlException;\n-import java.util.HashMap;\n import java.util.List;\n import java.util.Map;\n import java.util.Set;\n@@ -29,7 +28,6 @@\n import org.apache.commons.collections4.Predicate;\n import org.apache.commons.lang3.tuple.Pair;\n import org.apache.cxf.jaxrs.client.WebClient;\n-import org.apache.syncope.client.enduser.model.CustomAttributesInfo;\n import org.apache.syncope.client.lib.AnonymousAuthenticationHandler;\n import org.apache.syncope.client.lib.SyncopeClient;\n import org.apache.syncope.common.lib.info.PlatformInfo;\n@@ -68,8 +66,6 @@ public class SyncopeEnduserSession extends WebSession {\n \n     private final CookieUtils cookieUtils;\n \n-    private final Map<String, CustomAttributesInfo> customForm;\n-\n     private boolean xsrfTokenGenerated = false;\n \n     public static SyncopeEnduserSession get() {\n@@ -96,7 +92,6 @@ public boolean evaluate(final PlainSchemaTO object) {\n                 return object.getType() == AttrSchemaType.Date;\n             }\n         });\n-        customForm = new HashMap<>();\n     }\n \n     private void afterAuthentication() {\n@@ -203,13 +198,4 @@ public void setXsrfTokenGenerated(final boolean xsrfTokenGenerated) {\n         this.xsrfTokenGenerated = xsrfTokenGenerated;\n     }\n \n-    public Map<String, CustomAttributesInfo> getCustomForm() {\n-        return customForm;\n-    }\n-\n-    public void setCustomForm(final Map<String, CustomAttributesInfo> customForm) {\n-        this.customForm.clear();\n-        this.customForm.putAll(customForm);\n-    }\n-\n }"},{"sha":"66320f2dc4dca5921879e3feba86717c9cffc4f7","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserSelfCreateResource.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bdff1fd618955dd6a361385fcc8c620d75d34b5f/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfCreateResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bdff1fd618955dd6a361385fcc8c620d75d34b5f/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfCreateResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfCreateResource.java?ref=bdff1fd618955dd6a361385fcc8c620d75d34b5f","patch":"@@ -26,6 +26,7 @@\n import org.apache.commons.collections4.IterableUtils;\n import org.apache.commons.collections4.Predicate;\n import org.apache.commons.lang3.SerializationUtils;\n+import org.apache.syncope.client.enduser.SyncopeEnduserApplication;\n import org.apache.syncope.client.enduser.SyncopeEnduserConstants;\n import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n import org.apache.syncope.client.enduser.annotations.Resource;\n@@ -84,7 +85,7 @@ protected ResourceResponse newResourceResponse(final Attributes attributes) {\n                 LOG.trace(\"Request is [{}]\", userTO);\n \n                 // check if request is compliant with customization form rules\n-                if (UserRequestValidator.compliant(userTO, SyncopeEnduserSession.get().getCustomForm(), true)) {\n+                if (UserRequestValidator.compliant(userTO, SyncopeEnduserApplication.get().getCustomForm(), true)) {\n \n                     // 1. membership attributes management\n                     Set<AttrTO> membAttrs = new HashSet<>();"},{"sha":"4aaa2f4407b05d19c7c06feeec592b4f8a2bb440","filename":"client/enduser/src/main/java/org/apache/syncope/client/enduser/resources/UserSelfUpdateResource.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/bdff1fd618955dd6a361385fcc8c620d75d34b5f/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfUpdateResource.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/bdff1fd618955dd6a361385fcc8c620d75d34b5f/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfUpdateResource.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fresources%2FUserSelfUpdateResource.java?ref=bdff1fd618955dd6a361385fcc8c620d75d34b5f","patch":"@@ -26,6 +26,7 @@\n import org.apache.commons.collections4.IterableUtils;\n import org.apache.commons.collections4.Predicate;\n import org.apache.commons.lang3.SerializationUtils;\n+import org.apache.syncope.client.enduser.SyncopeEnduserApplication;\n import org.apache.syncope.client.enduser.SyncopeEnduserConstants;\n import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n import org.apache.syncope.client.enduser.annotations.Resource;\n@@ -67,7 +68,7 @@ protected ResourceResponse newResourceResponse(final IResource.Attributes attrib\n             UserTO userTO = MAPPER.readValue(request.getReader().readLine(), UserTO.class);\n \n             // check if request is compliant with customization form rules\n-            if (UserRequestValidator.compliant(userTO, SyncopeEnduserSession.get().getCustomForm(), false)) {\n+            if (UserRequestValidator.compliant(userTO, SyncopeEnduserApplication.get().getCustomForm(), false)) {\n                 // 1. membership attributes management\n                 Set<AttrTO> membAttrs = new HashSet<>();\n                 for (AttrTO attr : userTO.getPlainAttrs()) {"}]}
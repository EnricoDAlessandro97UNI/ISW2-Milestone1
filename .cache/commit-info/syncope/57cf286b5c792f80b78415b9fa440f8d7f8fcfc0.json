{"sha":"57cf286b5c792f80b78415b9fa440f8d7f8fcfc0","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjU3Y2YyODZiNWM3OTJmODBiNzg0MTViOWZhNDQwZjhkN2Y4ZmNmYzA=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-09-01T15:55:20Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2016-09-01T15:55:20Z"},"message":"(Now actually) Excluding Eclipse's lib files from sources","tree":{"sha":"6503fa132997d46b1b32620c36dbf17b28664066","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/6503fa132997d46b1b32620c36dbf17b28664066"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/57cf286b5c792f80b78415b9fa440f8d7f8fcfc0","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/57cf286b5c792f80b78415b9fa440f8d7f8fcfc0","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/57cf286b5c792f80b78415b9fa440f8d7f8fcfc0","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/57cf286b5c792f80b78415b9fa440f8d7f8fcfc0/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"b626dd676052feec06747f55e950082bb60a8253","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b626dd676052feec06747f55e950082bb60a8253","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/b626dd676052feec06747f55e950082bb60a8253"}],"stats":{"total":139,"additions":130,"deletions":9},"files":[{"sha":"79cfd07af8d75f11d8906146b143da156ffd2494","filename":"pom.xml","status":"modified","additions":15,"deletions":9,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57cf286b5c792f80b78415b9fa440f8d7f8fcfc0/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57cf286b5c792f80b78415b9fa440f8d7f8fcfc0/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=57cf286b5c792f80b78415b9fa440f8d7f8fcfc0","patch":"@@ -1824,19 +1824,25 @@ under the License.\n         <plugins>\n           <plugin>\n             <groupId>org.apache.maven.plugins</groupId>\n-            <artifactId>maven-source-plugin</artifactId>\n-            <version>3.0.1</version>\n-            <configuration>\n-              <excludes>\n-                <exclude>**/ide/eclipse/**/lib/**</exclude>\n-              </excludes>\n-            </configuration>\n+            <artifactId>maven-assembly-plugin</artifactId>\n             <executions>\n               <execution>\n-                <id>attach-sources</id>\n+                <id>source-release-assembly</id>\n+                <phase>none</phase>\n+              </execution>\n+              <execution>\n+                <id>source-release-assembly-no-eclipse-libs</id>\n+                <phase>package</phase>\n                 <goals>\n-                  <goal>jar-no-fork</goal>\n+                  <goal>single</goal>\n                 </goals>\n+                <configuration>\n+                  <runOnlyAtExecutionRoot>true</runOnlyAtExecutionRoot>\n+                  <descriptors>\n+                    <descriptor>src/assemble/${sourceReleaseAssemblyDescriptor}.xml</descriptor>\n+                  </descriptors>\n+                  <tarLongFileMode>gnu</tarLongFileMode>\n+                </configuration>\n               </execution>\n             </executions>\n           </plugin>"},{"sha":"8a8ffbecd8ae6e411133ff9010f9f4d244d22cca","filename":"src/assemble/source-release.xml","status":"added","additions":115,"deletions":0,"changes":115,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/57cf286b5c792f80b78415b9fa440f8d7f8fcfc0/src%2Fassemble%2Fsource-release.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/57cf286b5c792f80b78415b9fa440f8d7f8fcfc0/src%2Fassemble%2Fsource-release.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fassemble%2Fsource-release.xml?ref=57cf286b5c792f80b78415b9fa440f8d7f8fcfc0","patch":"@@ -0,0 +1,115 @@\n+<?xml version='1.0' encoding='UTF-8'?>\n+<!--\n+  Licensed to the Apache Software Foundation (ASF) under one\n+  or more contributor license agreements.  See the NOTICE file\n+  distributed with this work for additional information\n+  regarding copyright ownership.  The ASF licenses this file\n+  to you under the Apache License, Version 2.0 (the\n+  \"License\"); you may not use this file except in compliance\n+  with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing,\n+  software distributed under the License is distributed on an\n+  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+  KIND, either express or implied.  See the License for the\n+  specific language governing permissions and limitations\n+  under the License.\n+-->\n+<assembly xmlns=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2\"\n+          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+          xsi:schemaLocation=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 \n+                              http://maven.apache.org/xsd/assembly-1.1.2.xsd\">\n+  <id>source-release</id>\n+  <formats>\n+    <format>zip</format>\n+  </formats>\n+  <fileSets>\n+    <!--  main project directory structure  -->\n+    <fileSet>\n+      <directory>.</directory>\n+      <outputDirectory/>\n+      <useDefaultExcludes>true</useDefaultExcludes>\n+      <excludes>\n+\t<!--  build output  -->\n+\t<exclude>\n+\t  %regex[(?!((?!${project.build.directory}/)[^/]+/)*src/).*${project.build.directory}.*]\n+\t</exclude>\n+\t<!--\n+            NOTE: Most of the following excludes should not be required \n+            if the standard release process is followed. This is because the \n+            release plugin checks out project sources into a location like\n+            target/checkout, then runs the build from there. The result is\n+            a source-release archive that comes from a pretty clean directory\n+            structure.\n+            \n+            HOWEVER, if the release plugin is configured to run extra goals\n+            or generate a project website, it's definitely possible that some\n+            of these files will be present. So, it's safer to exclude them.\n+            \n+        -->\n+        <!--  IDEs  -->\n+        <exclude>\n+          %regex[(?!((?!${project.build.directory}/)[^/]+/)*src/)(.*/)?maven-eclipse\\.xml]\n+        </exclude>\n+        <exclude>\n+          %regex[(?!((?!${project.build.directory}/)[^/]+/)*src/)(.*/)?\\.project]\n+        </exclude>\n+        <exclude>\n+          %regex[(?!((?!${project.build.directory}/)[^/]+/)*src/)(.*/)?\\.classpath]\n+        </exclude>\n+        <exclude>\n+          %regex[(?!((?!${project.build.directory}/)[^/]+/)*src/)(.*/)?[^/]*\\.iws]\n+        </exclude>\n+        <exclude>\n+          %regex[(?!((?!${project.build.directory}/)[^/]+/)*src/)(.*/)?\\.idea(/.*)?]\n+        </exclude>\n+        <exclude>\n+          %regex[(?!((?!${project.build.directory}/)[^/]+/)*src/)(.*/)?out(/.*)?]\n+        </exclude>\n+        <exclude>\n+          %regex[(?!((?!${project.build.directory}/)[^/]+/)*src/)(.*/)?[^/]*\\.ipr]\n+        </exclude>\n+        <exclude>\n+          %regex[(?!((?!${project.build.directory}/)[^/]+/)*src/)(.*/)?[^/]*\\.iml]\n+        </exclude>\n+        <exclude>\n+          %regex[(?!((?!${project.build.directory}/)[^/]+/)*src/)(.*/)?\\.settings(/.*)?]\n+        </exclude>\n+        <exclude>\n+          %regex[(?!((?!${project.build.directory}/)[^/]+/)*src/)(.*/)?\\.externalToolBuilders(/.*)?]\n+        </exclude>\n+        <exclude>\n+          %regex[(?!((?!${project.build.directory}/)[^/]+/)*src/)(.*/)?\\.deployables(/.*)?]\n+        </exclude>\n+        <exclude>\n+          %regex[(?!((?!${project.build.directory}/)[^/]+/)*src/)(.*/)?\\.wtpmodules(/.*)?]\n+        </exclude>\n+        <!--  misc  -->\n+        <exclude>\n+          %regex[(?!((?!${project.build.directory}/)[^/]+/)*src/)(.*/)?cobertura\\.ser]\n+        </exclude>\n+        <!--  release-plugin temp files  -->\n+        <exclude>\n+          %regex[(?!((?!${project.build.directory}/)[^/]+/)*src/)(.*/)?pom\\.xml\\.releaseBackup]\n+        </exclude>\n+        <exclude>\n+          %regex[(?!((?!${project.build.directory}/)[^/]+/)*src/)(.*/)?release\\.properties]\n+        </exclude>\n+        <!--  Eclipse IDE plugin lib  -->\n+        <exclude>\n+          ide/eclipse/bundles/org.apache.syncope.ide.eclipse.plugin/lib/**\n+        </exclude>        \n+      </excludes>\n+    </fileSet>\n+    <!--  license, readme, etc. calculated at build time  -->\n+    <fileSet>\n+      <directory>\n+        ${project.build.directory}/maven-shared-archive-resources/META-INF\n+      </directory>\n+      <outputDirectory/>\n+    </fileSet>\n+  </fileSets>\n+</assembly>\n+"}]}
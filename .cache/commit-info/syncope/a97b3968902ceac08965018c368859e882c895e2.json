{"sha":"a97b3968902ceac08965018c368859e882c895e2","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmE5N2IzOTY4OTAyY2VhYzA4OTY1MDE4YzM2ODg1OWU4ODJjODk1ZTI=","commit":{"author":{"name":"Marco Di Sabatino Di Diodoro","email":"mdisabatino@apache.org","date":"2012-08-21T11:52:51Z"},"committer":{"name":"Marco Di Sabatino Di Diodoro","email":"mdisabatino@apache.org","date":"2012-08-21T11:52:51Z"},"message":"Fixes SYNCOPE-189 Close Modal Window on keypress ESC\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1375483 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"40445d04c7259392d457cb06d479f9325e628340","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/40445d04c7259392d457cb06d479f9325e628340"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/a97b3968902ceac08965018c368859e882c895e2","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a97b3968902ceac08965018c368859e882c895e2","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/a97b3968902ceac08965018c368859e882c895e2","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a97b3968902ceac08965018c368859e882c895e2/comments","author":{"login":"mdisabatino","id":1792527,"node_id":"MDQ6VXNlcjE3OTI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1792527?v=4","gravatar_id":"","url":"https://api.github.com/users/mdisabatino","html_url":"https://github.com/mdisabatino","followers_url":"https://api.github.com/users/mdisabatino/followers","following_url":"https://api.github.com/users/mdisabatino/following{/other_user}","gists_url":"https://api.github.com/users/mdisabatino/gists{/gist_id}","starred_url":"https://api.github.com/users/mdisabatino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdisabatino/subscriptions","organizations_url":"https://api.github.com/users/mdisabatino/orgs","repos_url":"https://api.github.com/users/mdisabatino/repos","events_url":"https://api.github.com/users/mdisabatino/events{/privacy}","received_events_url":"https://api.github.com/users/mdisabatino/received_events","type":"User","site_admin":false},"committer":{"login":"mdisabatino","id":1792527,"node_id":"MDQ6VXNlcjE3OTI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1792527?v=4","gravatar_id":"","url":"https://api.github.com/users/mdisabatino","html_url":"https://github.com/mdisabatino","followers_url":"https://api.github.com/users/mdisabatino/followers","following_url":"https://api.github.com/users/mdisabatino/following{/other_user}","gists_url":"https://api.github.com/users/mdisabatino/gists{/gist_id}","starred_url":"https://api.github.com/users/mdisabatino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdisabatino/subscriptions","organizations_url":"https://api.github.com/users/mdisabatino/orgs","repos_url":"https://api.github.com/users/mdisabatino/repos","events_url":"https://api.github.com/users/mdisabatino/events{/privacy}","received_events_url":"https://api.github.com/users/mdisabatino/received_events","type":"User","site_admin":false},"parents":[{"sha":"c2360bbe2302d3d6aae0708b2e7eb58a2cae05d7","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c2360bbe2302d3d6aae0708b2e7eb58a2cae05d7","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c2360bbe2302d3d6aae0708b2e7eb58a2cae05d7"}],"stats":{"total":149,"additions":143,"deletions":6},"files":[{"sha":"56ba6d8ac7032a23766c2fb431bb09a464d2e42a","filename":"console/src/main/java/org/apache/syncope/console/commons/CloseOnESCBehavior.java","status":"added","additions":68,"deletions":0,"changes":68,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fcommons%2FCloseOnESCBehavior.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fcommons%2FCloseOnESCBehavior.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fcommons%2FCloseOnESCBehavior.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -0,0 +1,68 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.console.commons;\n+\n+import org.apache.wicket.Component;\n+import org.apache.wicket.ajax.AbstractDefaultAjaxBehavior;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.extensions.ajax.markup.html.modal.ModalWindow;\n+import org.apache.wicket.markup.html.IHeaderResponse;\n+\n+public class CloseOnESCBehavior extends AbstractDefaultAjaxBehavior {\n+\n+    private static final long serialVersionUID = 5826308247642534260L;\n+\n+    private ModalWindow modalWindow;\n+\n+    public CloseOnESCBehavior(ModalWindow modalWindow) {\n+        this.modalWindow = modalWindow;\n+    }\n+    \n+    private static final String PRE_JS = \"$(document).ready(function() {\\n\"\n+            + \"$(document).bind('keyup', function(evt) {\\n\"\n+            + \"    if (evt.keyCode == 27){\\n\";\n+\n+    private static final String POST_JS = \"\\n evt.preventDefault();\\n\"\n+            + \"evt.stopPropagation();\\n\"\n+            + \"    }\\n\"\n+            + \"  });\\n\"\n+            + \"});\";\n+\n+    @Override\n+    protected void respond(final AjaxRequestTarget target) {\n+        modalWindow.close(target);\n+    }\n+\n+    @Override\n+    protected String findIndicatorId() {\n+        return null;\n+    }\n+\n+    @Override\n+    public void renderHead(final Component component, final IHeaderResponse response) {\n+        response.renderJavaScript(new StringBuilder(PRE_JS).append(getCallbackScript())\n+                .append(POST_JS).toString(),\n+                \"closeModalOnEsc\");\n+    }\n+\n+    public void setModalWindow(ModalWindow modalWindow) {\n+        this.modalWindow = modalWindow;\n+    }\n+}\n+"},{"sha":"c4bf0b8fd271646d2d0aabea4942ff8061f16f9e","filename":"console/src/main/java/org/apache/syncope/console/pages/ApprovalModalPage.java","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FApprovalModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FApprovalModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FApprovalModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -30,6 +30,7 @@\n import org.apache.syncope.client.to.WorkflowFormPropertyTO;\n import org.apache.syncope.client.to.WorkflowFormTO;\n import org.apache.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.console.commons.MapChoiceRenderer;\n import org.apache.syncope.console.rest.ApprovalRestClient;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n@@ -62,7 +63,7 @@ public class ApprovalModalPage extends BaseModalPage {\n \n     public ApprovalModalPage(final PageReference callerPageRef, final ModalWindow window, final WorkflowFormTO formTO) {\n         super();\n-\n+                \n         IModel<List<WorkflowFormPropertyTO>> formProps = new LoadableDetachableModel<List<WorkflowFormPropertyTO>>() {\n             private static final long serialVersionUID = 3169142472626817508L;\n \n@@ -220,5 +221,6 @@ protected void onError(final AjaxRequestTarget target, final Form form) {\n                 \"submit\"));\n \n         add(form);\n+        add(new CloseOnESCBehavior(window));\n     }\n }"},{"sha":"08d18fecb9e4dcc447c26995efa126b5eaf25100","filename":"console/src/main/java/org/apache/syncope/console/pages/BaseModalPage.java","status":"modified","additions":4,"deletions":1,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.console.pages;\n \n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.wicket.markup.html.WebPage;\n import org.apache.wicket.markup.html.panel.FeedbackPanel;\n import org.apache.wicket.spring.injection.annot.SpringBean;\n@@ -41,11 +42,13 @@ public abstract class BaseModalPage extends WebPage {\n     protected XMLRolesReader xmlRolesReader;\n \n     protected FeedbackPanel feedbackPanel;\n+    \n+    protected CloseOnESCBehavior closeOnEscBehavior;\n \n     public BaseModalPage() {\n         feedbackPanel = new FeedbackPanel(\"feedback\");\n         feedbackPanel.setOutputMarkupId(true);\n-        add(feedbackPanel);\n+        add(feedbackPanel);     \n     }\n \n     public FeedbackPanel getFeedbackPanel() {"},{"sha":"fac9d98abb606d88f9f8d7d1b8ecc8f632e5eef1","filename":"console/src/main/java/org/apache/syncope/console/pages/ConfigurationModalPage.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfigurationModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfigurationModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConfigurationModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -20,6 +20,7 @@\n \n import org.apache.syncope.client.to.ConfigurationTO;\n import org.apache.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.console.rest.ConfigurationRestClient;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.apache.wicket.PageReference;\n@@ -128,5 +129,6 @@ protected void onError(final AjaxRequestTarget target, final Form form) {\n         form.add(submit);\n \n         add(form);\n+        add(new CloseOnESCBehavior(window));\n     }\n }"},{"sha":"3f5bd07944664d378ad55bb02488a691449de119","filename":"console/src/main/java/org/apache/syncope/console/pages/ConnectorModalPage.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FConnectorModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -54,6 +54,7 @@\n import org.apache.syncope.client.to.ConnBundleTO;\n import org.apache.syncope.client.to.ConnInstanceTO;\n import org.apache.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.console.rest.ConnectorRestClient;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n@@ -399,6 +400,7 @@ protected void onError(final AjaxRequestTarget target, final Form form) {\n         connectorForm.add(cancel);\n \n         add(connectorForm);\n+        add(new CloseOnESCBehavior(window));\n     }\n \n     private ConnBundleTO getSelectedBundleTO(final List<ConnBundleTO> bundles, final ConnInstanceTO connTO) {"},{"sha":"4837893a98aaab9999de6fb047c0968233afd660","filename":"console/src/main/java/org/apache/syncope/console/pages/DerivedSchemaModalPage.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDerivedSchemaModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -21,6 +21,7 @@\n import org.apache.syncope.client.AbstractBaseBean;\n import org.apache.syncope.client.to.DerivedSchemaTO;\n import org.apache.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n import org.apache.syncope.types.AttributableType;\n import org.apache.wicket.PageReference;\n@@ -130,5 +131,6 @@ protected void onError(final AjaxRequestTarget target, final Form form) {\n         schemaForm.add(cancel);\n \n         add(schemaForm);\n+        add(new CloseOnESCBehavior(window));\n     }\n }"},{"sha":"7378a51de3b12ecf51e43804aa28a7040c042837","filename":"console/src/main/java/org/apache/syncope/console/pages/DisplayAttributesModalPage.java","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDisplayAttributesModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDisplayAttributesModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FDisplayAttributesModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -27,6 +27,7 @@\n import java.util.Map;\n import org.apache.commons.lang.ArrayUtils;\n import org.apache.syncope.client.to.UserTO;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.console.commons.Constants;\n import org.apache.syncope.console.commons.PreferenceManager;\n import org.apache.syncope.console.rest.SchemaRestClient;\n@@ -296,7 +297,7 @@ protected void onError(AjaxRequestTarget target, Form<?> form) {\n         };\n \n         form.add(submit);\n-\n+        \n         final IndicatingAjaxButton cancel = new IndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\")) {\n             private static final long serialVersionUID = -958724007591692537L;\n \n@@ -314,5 +315,6 @@ protected void onError(final AjaxRequestTarget target, final Form form) {\n         form.add(cancel);\n \n         add(form);\n+        add(new CloseOnESCBehavior(window));\n     }\n }"},{"sha":"e5ed49ed304f3a47bbafc41a786590a0b35cd030","filename":"console/src/main/java/org/apache/syncope/console/pages/MembershipModalPage.java","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FMembershipModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -28,6 +28,7 @@\n import org.apache.wicket.model.ResourceModel;\n import org.apache.syncope.client.to.MembershipTO;\n import org.apache.syncope.client.to.UserTO;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.console.pages.panels.DerivedAttributesPanel;\n import org.apache.syncope.console.pages.panels.VirtualAttributesPanel;\n import org.apache.wicket.extensions.ajax.markup.html.IndicatingAjaxButton;\n@@ -72,7 +73,7 @@ protected void onError(final AjaxRequestTarget target, final Form form) {\n         };\n \n         form.add(submit);\n-\n+        \n         final IndicatingAjaxButton cancel = new IndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\")) {\n             private static final long serialVersionUID = -958724007591692537L;\n \n@@ -108,5 +109,6 @@ protected void onError(final AjaxRequestTarget target, final Form form) {\n         //--------------------------------\n \n         add(form);\n+        add(new CloseOnESCBehavior(window));\n     }\n }"},{"sha":"2b55c637d915461192092bbb9362087e033d7095","filename":"console/src/main/java/org/apache/syncope/console/pages/NotificationModalPage.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FNotificationModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -26,6 +26,7 @@\n import java.util.Set;\n import org.apache.syncope.client.to.NotificationTO;\n import org.apache.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.console.pages.panels.UserSearchPanel;\n import org.apache.syncope.console.rest.NotificationRestClient;\n import org.apache.syncope.console.rest.SchemaRestClient;\n@@ -248,6 +249,7 @@ protected void onError(final AjaxRequestTarget target, final Form form) {\n         form.add(cancel);\n \n         add(form);\n+        add(new CloseOnESCBehavior(window));\n     }\n \n     private List<String> getSchemaNames(final IntMappingType type) {"},{"sha":"5a38ec04e7383e98737a306e55ada2fde3170cd0","filename":"console/src/main/java/org/apache/syncope/console/pages/PolicyModalPage.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FPolicyModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FPolicyModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FPolicyModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -31,6 +31,7 @@\n import org.apache.syncope.client.to.PasswordPolicyTO;\n import org.apache.syncope.client.to.PolicyTO;\n import org.apache.syncope.client.to.SyncPolicyTO;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.console.pages.panels.PolicyBeanPanel;\n import org.apache.syncope.console.rest.PolicyRestClient;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n@@ -149,6 +150,7 @@ protected void onError(final AjaxRequestTarget target, final Form form) {\n \n         cancel.setDefaultFormProcessing(false);\n         form.add(cancel);\n+        add(new CloseOnESCBehavior(window));\n     }\n \n     private AbstractPolicySpec getPolicySpecification(final PolicyTO policyTO) {"},{"sha":"70aaa703bb47dd539f938cfd4d0c449d12d672a5","filename":"console/src/main/java/org/apache/syncope/console/pages/ReportExecResultDownloadModalPage.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportExecResultDownloadModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportExecResultDownloadModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportExecResultDownloadModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -19,6 +19,7 @@\n package org.apache.syncope.console.pages;\n \n import java.util.Arrays;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.ajax.form.AjaxFormComponentUpdatingBehavior;\n@@ -66,5 +67,6 @@ protected void onUpdate(final AjaxRequestTarget target) {\n             }\n         });\n         add(format);\n+        add(new CloseOnESCBehavior(window));\n     }\n }"},{"sha":"40add7ecb9232de9e46503a7a1519a713ddd4018","filename":"console/src/main/java/org/apache/syncope/console/pages/ReportModalPage.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -26,6 +26,7 @@\n import org.apache.syncope.client.to.ReportExecTO;\n import org.apache.syncope.client.to.ReportTO;\n import org.apache.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.types.ReportExecStatus;\n import org.apache.wicket.Page;\n import org.apache.wicket.PageReference;\n@@ -113,6 +114,7 @@ public ReportModalPage(final ModalWindow window, final ReportTO reportTO, final\n         form = new Form<ReportTO>(\"form\");\n         form.setModel(new CompoundPropertyModel(reportTO));\n         add(form);\n+        add(new CloseOnESCBehavior(window));\n \n         setupProfile();\n         setupExecutions();"},{"sha":"d1dc09603f63f8e2c09dcf07350c654a37220b2c","filename":"console/src/main/java/org/apache/syncope/console/pages/ReportletConfModalPage.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportletConfModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportletConfModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FReportletConfModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -31,6 +31,7 @@\n import org.apache.syncope.client.SyncopeConstants;\n import org.apache.syncope.client.report.ReportletConf;\n import org.apache.syncope.client.search.NodeCond;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.types.AttributableType;\n import org.apache.wicket.Component;\n import org.apache.wicket.PageReference;\n@@ -97,6 +98,7 @@ public ReportletConfModalPage(final ReportletConf reportletConf, final ModalWind\n \n         Form form = new Form(\"form\");\n         add(form);\n+        add(new CloseOnESCBehavior(window));\n \n         propertiesContainer = new WebMarkupContainer(\"container\");\n         propertiesContainer.setOutputMarkupId(true);"},{"sha":"b11e21ca6251b0a50041c2ce7bb7c9cf3a905d53","filename":"console/src/main/java/org/apache/syncope/console/pages/ResourceModalPage.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FResourceModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -20,6 +20,7 @@\n \n import org.apache.syncope.client.to.ResourceTO;\n import org.apache.syncope.client.to.SchemaMappingTO;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.console.pages.panels.ResourceConnConfPanel;\n import org.apache.syncope.console.pages.panels.ResourceDetailsPanel;\n import org.apache.syncope.console.pages.panels.ResourceMappingPanel;\n@@ -143,6 +144,7 @@ protected void onError(final AjaxRequestTarget target, final Form form) {\n         form.add(cancel);\n \n         add(form);\n+        add(new CloseOnESCBehavior(window));\n \n         MetaDataRoleAuthorizationStrategy.authorize(submit, ENABLE, xmlRolesReader.getAllAllowedRoles(\"Resources\",\n                 createFlag"},{"sha":"84b0c41363e2747b4f1b9406a1335717a8c2a2a1","filename":"console/src/main/java/org/apache/syncope/console/pages/RoleModalPage.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRoleModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -23,6 +23,7 @@\n import org.apache.syncope.client.mod.RoleMod;\n import org.apache.syncope.client.to.RoleTO;\n import org.apache.syncope.client.util.AttributableOperations;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.console.pages.panels.RoleAttributesPanel;\n import org.apache.syncope.console.rest.RoleRestClient;\n import org.apache.wicket.PageReference;\n@@ -132,5 +133,6 @@ protected void onError(final AjaxRequestTarget target, final Form form) {\n         form.add(cancel);\n \n         add(form);\n+        add(new CloseOnESCBehavior(window));\n     }\n }"},{"sha":"c53b2f67bb087faf0c6f758daa8014bd4faf2a6e","filename":"console/src/main/java/org/apache/syncope/console/pages/SchemaModalPage.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FSchemaModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -28,6 +28,7 @@\n import org.apache.syncope.client.AbstractBaseBean;\n import org.apache.syncope.client.to.SchemaTO;\n import org.apache.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxCheckBoxPanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxDropDownChoicePanel;\n import org.apache.syncope.console.wicket.markup.html.form.AjaxTextFieldPanel;\n@@ -278,6 +279,7 @@ protected void onError(final AjaxRequestTarget target, final Form form) {\n         schemaForm.add(cancel);\n \n         add(schemaForm);\n+        add(new CloseOnESCBehavior(window));\n     }\n \n     private String getEnumValuesAsString(final List<String> enumerationValues) {"},{"sha":"4ac1758781d74f2df4d7e9d6864ccb10477e2129","filename":"console/src/main/java/org/apache/syncope/console/pages/StatusModalPage.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FStatusModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FStatusModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FStatusModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -21,6 +21,7 @@\n import java.util.ArrayList;\n import java.util.List;\n import org.apache.syncope.client.to.UserTO;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.console.commons.StatusBean;\n import org.apache.syncope.console.pages.panels.StatusPanel;\n import org.apache.syncope.console.rest.UserRestClient;\n@@ -46,6 +47,7 @@ public StatusModalPage(final PageReference callerPageRef, final ModalWindow wind\n \n         final Form form = new Form(\"form\");\n         add(form);\n+        add(new CloseOnESCBehavior(window));\n \n         final List<StatusBean> statuses = new ArrayList<StatusBean>();\n "},{"sha":"932d564b5b721b19057d424698ddff5d83aa9057","filename":"console/src/main/java/org/apache/syncope/console/pages/TaskModalPage.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FTaskModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -29,6 +29,7 @@\n import org.apache.syncope.client.to.TaskExecTO;\n import org.apache.syncope.client.to.TaskTO;\n import org.apache.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.console.commons.SortableDataProviderComparator;\n import org.apache.syncope.console.rest.TaskRestClient;\n import org.apache.syncope.console.wicket.extensions.markup.html.repeater.data.table.DatePropertyColumn;\n@@ -81,6 +82,7 @@ public TaskModalPage(final TaskTO taskTO) {\n         taskExecMessageWin.setCssClassName(ModalWindow.CSS_CLASS_GRAY);\n         taskExecMessageWin.setCookieName(\"task-exec-message-win-modal\");\n         add(taskExecMessageWin);\n+        add(new CloseOnESCBehavior(taskExecMessageWin));\n \n         form = new Form(\"form\");\n         form.setModel(new CompoundPropertyModel(taskTO));"},{"sha":"f7068b67c7dc88f387e91579a1128c468b48cd19","filename":"console/src/main/java/org/apache/syncope/console/pages/UserModalPage.java","status":"modified","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FUserModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -19,6 +19,7 @@\n package org.apache.syncope.console.pages;\n \n import org.apache.syncope.client.to.UserTO;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.console.pages.panels.AttributesPanel;\n import org.apache.syncope.console.pages.panels.DerivedAttributesPanel;\n import org.apache.syncope.console.pages.panels.ResourcesPanel;\n@@ -79,6 +80,7 @@ public UserModalPage(final PageReference callerPageRef, final ModalWindow window\n         fragment = new Fragment(\"userModalFrag\", \"userModalEditFrag\", this);\n         fragment.setOutputMarkupId(true);\n         add(fragment);\n+        add(new CloseOnESCBehavior(window));\n     }\n \n     public UserModalPage(final ModalWindow window, final UserTO userTO, final Mode mode) {\n@@ -100,6 +102,7 @@ public UserModalPage(final ModalWindow window, final UserTO userTO, final Mode m\n         result.setOutputMarkupId(true);\n \n         fragment.add(result);\n+        add(new CloseOnESCBehavior(window));\n     }\n \n     public UserTO getUserTO() {"},{"sha":"df4f53a7338b8b950c44c0101a7bef952b75a084","filename":"console/src/main/java/org/apache/syncope/console/pages/VirtualSchemaModalPage.java","status":"modified","additions":18,"deletions":0,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FVirtualSchemaModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FVirtualSchemaModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FVirtualSchemaModalPage.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -21,6 +21,7 @@\n import org.apache.syncope.client.AbstractBaseBean;\n import org.apache.syncope.client.to.VirtualSchemaTO;\n import org.apache.syncope.client.validation.SyncopeClientCompositeErrorException;\n+import org.apache.syncope.console.commons.CloseOnESCBehavior;\n import org.apache.syncope.types.AttributableType;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n@@ -94,6 +95,21 @@ protected void onError(final AjaxRequestTarget target, final Form form) {\n                 target.add(feedbackPanel);\n             }\n         };\n+        \n+        final IndicatingAjaxButton cancel = new IndicatingAjaxButton(\"cancel\", new ResourceModel(\"cancel\")) {\n+            private static final long serialVersionUID = -958724007591692537L;\n+\n+            @Override\n+            protected void onSubmit(final AjaxRequestTarget target, final Form form) {\n+                window.close(target);\n+            }\n+\n+            @Override\n+            protected void onError(final AjaxRequestTarget target, final Form form) {\n+            }\n+        };\n+        \n+        cancel.setDefaultFormProcessing(false);\n \n         String allowedRoles;\n \n@@ -108,7 +124,9 @@ protected void onError(final AjaxRequestTarget target, final Form form) {\n         schemaForm.add(name);\n \n         schemaForm.add(submit);\n+        schemaForm.add(cancel);\n \n         add(schemaForm);\n+        add(new CloseOnESCBehavior(window));\n     }\n }"},{"sha":"950b5982a4f94ebe8aabb320aced2b11630a73c4","filename":"console/src/main/resources/org/apache/syncope/console/pages/BaseModalPage.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBaseModalPage.html?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -54,7 +54,7 @@\n \n     </style>\n   </head>\n-  <body>\n+  <body onload=\"window.focus()\">\n     <div wicket:id=\"feedback\"/>\n \n   <wicket:child />"},{"sha":"d384623432b2d397596c206308feb0d8fc095877","filename":"console/src/test/java/org/apache/syncope/console/ConfigurationTestITCase.java","status":"modified","additions":14,"deletions":1,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/a97b3968902ceac08965018c368859e882c895e2/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2FConfigurationTestITCase.java?ref=a97b3968902ceac08965018c368859e882c895e2","patch":"@@ -171,7 +171,20 @@ public void createNotification() {\n \n         selenium.waitForCondition(\"selenium.isElementPresent(\"\n                 + \"\\\"//div[2]/form/div[2]/div[4]/div/div[2]/label\\\");\", \"30000\");\n-        \n+\n         selenium.click(\"//div[2]/form/div[3]/input\");\n     }\n+\n+    @Test\n+    public void issueSYNCOPE189() {\n+        selenium.click(\"css=img[alt=\\\"Configuration\\\"]\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//div[@id='tabs']\\\");\", \"30000\");\n+\n+        selenium.click(\"//a[contains(text(),'Create new configuration')]\");\n+\n+        selenium.waitForCondition(\"selenium.isElementPresent(\\\"//input[@name='key:textField']\\\");\", \"30000\");\n+\n+        selenium.keyPressNative(\"27\");\n+    }\n }"}]}
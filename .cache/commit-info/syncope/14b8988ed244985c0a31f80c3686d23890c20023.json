{"sha":"14b8988ed244985c0a31f80c3686d23890c20023","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjE0Yjg5ODhlZDI0NDk4NWMwYTMxZjgwYzM2ODZkMjM4OTBjMjAwMjM=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-10-17T10:08:06Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-10-17T10:08:06Z"},"message":"Merge branch '1_2_X'","tree":{"sha":"566a25a785ded4712955e1f963e7bcc593234cfc","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/566a25a785ded4712955e1f963e7bcc593234cfc"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/14b8988ed244985c0a31f80c3686d23890c20023","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/14b8988ed244985c0a31f80c3686d23890c20023","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/14b8988ed244985c0a31f80c3686d23890c20023","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/14b8988ed244985c0a31f80c3686d23890c20023/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"a46b22c4adbf637ce63d59beb2b5ca200672a637","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/a46b22c4adbf637ce63d59beb2b5ca200672a637","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/a46b22c4adbf637ce63d59beb2b5ca200672a637"},{"sha":"f99657a2a66abfd68c115d9c1b083dc9b86a3105","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f99657a2a66abfd68c115d9c1b083dc9b86a3105","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f99657a2a66abfd68c115d9c1b083dc9b86a3105"}],"stats":{"total":9,"additions":7,"deletions":2},"files":[{"sha":"84d82ecb41f672418731fbe58c980149199e932c","filename":"console/src/main/java/org/apache/syncope/console/pages/RequestPasswordResetModalPage.java","status":"modified","additions":7,"deletions":2,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/14b8988ed244985c0a31f80c3686d23890c20023/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRequestPasswordResetModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/14b8988ed244985c0a31f80c3686d23890c20023/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRequestPasswordResetModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FRequestPasswordResetModalPage.java?ref=14b8988ed244985c0a31f80c3686d23890c20023","patch":"@@ -69,20 +69,24 @@ public RequestPasswordResetModalPage(final ModalWindow window) {\n         username.setRequired(true);\n         username.getField().setOutputMarkupId(true);\n         if (handleSecurityQuestion) {\n-            username.getField().add(new AjaxFormComponentUpdatingBehavior(Constants.ON_CHANGE) {\n+            username.getField().add(new AjaxFormComponentUpdatingBehavior(Constants.ON_BLUR) {\n \n                 private static final long serialVersionUID = -1107858522700306810L;\n \n                 @Override\n                 protected void onUpdate(final AjaxRequestTarget target) {\n+                    getFeedbackMessages().clear();\n+                    target.add(feedbackPanel);\n                     try {\n                         SecurityQuestionTO read = securityQuestionRestClient.readByUser(username.getModelObject());\n                         securityQuestion.setModelObject(read.getContent());\n-                        target.add(securityQuestion);\n                     } catch (Exception e) {\n                         LOG.error(\"While fetching security question for {}\", username.getModelObject(), e);\n                         error(getString(Constants.ERROR) + \": \" + e.getMessage());\n                         feedbackPanel.refresh(target);\n+                        securityQuestion.setModelObject(null);\n+                    } finally {\n+                        target.add(securityQuestion);\n                     }\n                 }\n             });\n@@ -137,6 +141,7 @@ protected void onSubmit(final AjaxRequestTarget target, final Form<?> form) {\n \n             @Override\n             protected void onError(final AjaxRequestTarget target, final Form<?> form) {\n+                // do nothing\n             }\n         };\n         cancel.setDefaultFormProcessing(false);"}]}
{"sha":"abfbd41114a38a1d5b078c09d386d46645ec94da","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmFiZmJkNDExMTRhMzhhMWQ1YjA3OGMwOWQzODZkNDY2NDVlYzk0ZGE=","commit":{"author":{"name":"Misagh Moayyed","email":"mm1844@gmail.com","date":"2020-07-07T18:23:47Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2020-07-07T18:23:47Z"},"message":"NOJIRA: Fix OIDC JWKS generation and properties (#201)","tree":{"sha":"ebb57d3d74f9f142af8f0290173237f187debd9c","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/ebb57d3d74f9f142af8f0290173237f187debd9c"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/abfbd41114a38a1d5b078c09d386d46645ec94da","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfBL2zCRBK7hj4Ov3rIwAAdHIIAAUO3EmxVAIuDVu5VSLFx55a\nhpI1pKTZ+mEP12gj+eNNfGrC1xipCb6s+hYGbXHEXNlo/io6pUQqF+XEtvbAi62b\nqofk7IFofpKQg9157OV+dPNlAcKk0+Wqj+rMX9DAZS7JqHWmECkhWUMhOWhPZYTe\n5ZSBq3EVTHqCvL/BIf3pA1Qk1MjW1zxjWMA/OQatAEYSYq3H9RnJHKe/ueF6rYM+\nQV1IZs3Rx443/Y1aEHRsowlGLanrdEoPRvNC1z1UQK6oggIEkLfQTsEADxe3B5vv\nlIDWpCU7QWIB7hBVMYig48upjsl5jHG4RNHdcRmXiGHz9cMFFaos9kTKyCdQKfg=\n=Lzm5\n-----END PGP SIGNATURE-----\n","payload":"tree ebb57d3d74f9f142af8f0290173237f187debd9c\nparent 67d5dbaae2413b24dbf46bc2cd15ac82fba24fcb\nauthor Misagh Moayyed <mm1844@gmail.com> 1594146227 +0430\ncommitter GitHub <noreply@github.com> 1594146227 +0430\n\nNOJIRA: Fix OIDC JWKS generation and properties (#201)\n\n"}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/abfbd41114a38a1d5b078c09d386d46645ec94da","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/abfbd41114a38a1d5b078c09d386d46645ec94da","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/abfbd41114a38a1d5b078c09d386d46645ec94da/comments","author":{"login":"mmoayyed","id":1205228,"node_id":"MDQ6VXNlcjEyMDUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/1205228?v=4","gravatar_id":"","url":"https://api.github.com/users/mmoayyed","html_url":"https://github.com/mmoayyed","followers_url":"https://api.github.com/users/mmoayyed/followers","following_url":"https://api.github.com/users/mmoayyed/following{/other_user}","gists_url":"https://api.github.com/users/mmoayyed/gists{/gist_id}","starred_url":"https://api.github.com/users/mmoayyed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmoayyed/subscriptions","organizations_url":"https://api.github.com/users/mmoayyed/orgs","repos_url":"https://api.github.com/users/mmoayyed/repos","events_url":"https://api.github.com/users/mmoayyed/events{/privacy}","received_events_url":"https://api.github.com/users/mmoayyed/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"67d5dbaae2413b24dbf46bc2cd15ac82fba24fcb","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/67d5dbaae2413b24dbf46bc2cd15ac82fba24fcb","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/67d5dbaae2413b24dbf46bc2cd15ac82fba24fcb"}],"stats":{"total":11,"additions":9,"deletions":2},"files":[{"sha":"ed3010c53f97774d6724c54d8ff548eb5e6b92f4","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/data/OIDCJWKSDataBinderImpl.java","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/abfbd41114a38a1d5b078c09d386d46645ec94da/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FOIDCJWKSDataBinderImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/abfbd41114a38a1d5b078c09d386d46645ec94da/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FOIDCJWKSDataBinderImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FOIDCJWKSDataBinderImpl.java?ref=abfbd41114a38a1d5b078c09d386d46645ec94da","patch":"@@ -19,6 +19,7 @@\n \n package org.apache.syncope.core.provisioning.java.data;\n \n+import com.nimbusds.jose.JWSAlgorithm;\n import com.nimbusds.jose.jwk.JWKSet;\n import com.nimbusds.jose.jwk.KeyUse;\n import com.nimbusds.jose.jwk.RSAKey;\n@@ -51,8 +52,9 @@ public OIDCJWKS create() {\n             RSAKey jwk = new RSAKeyGenerator(2048)\n                 .keyUse(KeyUse.SIGNATURE)\n                 .keyID(SecureRandomUtils.generateRandomUUID().toString())\n+                .algorithm(JWSAlgorithm.RS256)\n                 .generate();\n-            jwks.setJson(new JWKSet(jwk).toString());\n+            jwks.setJson(new JWKSet(jwk).toJSONObject(false).toString());\n             return jwks;\n         } catch (final Exception e) {\n             throw new RuntimeException(\"Unable to create OIDC JWKS\", e);"},{"sha":"6db93ed19eda7741a6588ff1fa299c57bae31f03","filename":"fit/wa-reference/src/main/resources/wa.properties","status":"modified","additions":6,"deletions":1,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/abfbd41114a38a1d5b078c09d386d46645ec94da/fit%2Fwa-reference%2Fsrc%2Fmain%2Fresources%2Fwa.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/abfbd41114a38a1d5b078c09d386d46645ec94da/fit%2Fwa-reference%2Fsrc%2Fmain%2Fresources%2Fwa.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fwa-reference%2Fsrc%2Fmain%2Fresources%2Fwa.properties?ref=abfbd41114a38a1d5b078c09d386d46645ec94da","patch":"@@ -24,12 +24,17 @@ conf.directory=${conf.directory}\n cas.standalone.configurationDirectory=${conf.directory}\n cas.authn.oidc.jwks.jwks-file=file:${conf.directory}/oidc.keystore\n \n-cas.server.name=http://localhost:8080\n+cas.server.name=http://localhost:9080\n cas.server.prefix=${cas.server.name}/syncope-wa\n cas.server.scope=syncope.org\n \n cas.authn.saml-idp.entity-id=https://syncope.apache.org/saml\n \n+cas.authn.oidc.issuer=http://localhost:9080/syncope-wa/oidc/\n+\n+cas.authn.syncope.url=http://localhost:9080/syncope\n+cas.tgc.secure=false\n+\n # Disable access to the login endpoint\n # if no target application is specified.\n cas.sso.allow-missing-service-parameter=true"}]}
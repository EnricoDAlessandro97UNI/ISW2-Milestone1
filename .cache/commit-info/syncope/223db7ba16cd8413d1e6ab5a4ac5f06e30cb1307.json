{"sha":"223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjIyM2RiN2JhMTZjZDg0MTNkMWU2YWI1YTRhYzVmMDZlMzBjYjEzMDc=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-05-28T07:53:43Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-05-28T07:53:43Z"},"message":"[SYNCOPE-373] Merge from 1_1_X\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1486803 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"575b355ec95e1d2a99bf1b281da08c3b53e0ec13","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/575b355ec95e1d2a99bf1b281da08c3b53e0ec13"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"13cb72f4fcba493429ae6cb6f046dc5c1c78eb12","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/13cb72f4fcba493429ae6cb6f046dc5c1c78eb12","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/13cb72f4fcba493429ae6cb6f046dc5c1c78eb12"},{"sha":"d617b618b836eaad5b1f4d4e492996ca3e426d30","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d617b618b836eaad5b1f4d4e492996ca3e426d30","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d617b618b836eaad5b1f4d4e492996ca3e426d30"}],"stats":{"total":102,"additions":44,"deletions":58},"files":[{"sha":"00070741ec565bce727178cab8079ac987591888","filename":"build-tools/pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/build-tools%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/build-tools%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/build-tools%2Fpom.xml?ref=223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307","patch":"@@ -156,7 +156,7 @@ under the License.\n           </configuration>\n           <deployables>\n             <deployable>\n-              <location>${basedir}/target/syncope-build-tools-${project.version}.war</location>\n+              <location>${project.build.directory}/syncope-build-tools-${project.version}.war</location>\n               <properties>\n                 <context>syncope-build-tools</context>\n               </properties>"},{"sha":"6e7624d34e0ac376f9c39ed5d190cea3a84f344f","filename":"console/src/main/java/org/apache/syncope/console/pages/BulkActionResultModalPage.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBulkActionResultModalPage.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBulkActionResultModalPage.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Fpages%2FBulkActionResultModalPage.java?ref=223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307","patch":"@@ -56,6 +56,7 @@ public BulkActionResultModalPage(\n         newColumnList.add(newColumnList.size(), new ActionResultColumn<T, S>(results, idFieldName));\n \n         final SortableDataProvider<T, S> dataProvider = new SortableDataProvider<T, S>() {\n+\n             private static final long serialVersionUID = 5291903859908641954L;\n \n             @Override\n@@ -80,7 +81,7 @@ public IModel<T> model(T object) {\n                 dataProvider,\n                 Integer.MAX_VALUE).setVisible(items != null && !items.isEmpty()));\n \n-        final AjaxLink close = new IndicatingAjaxLink(\"close\") {\n+        final AjaxLink<Void> close = new IndicatingAjaxLink<Void>(\"close\") {\n \n             private static final long serialVersionUID = -7978723352517770644L;\n "},{"sha":"b43a0cc1a4c22358fd7c6c7b1e6d11b39fbfeacd","filename":"core/src/main/java/org/apache/syncope/core/rest/data/UserDataBinder.java","status":"modified","additions":17,"deletions":2,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FUserDataBinder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FUserDataBinder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fdata%2FUserDataBinder.java?ref=223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307","patch":"@@ -21,6 +21,7 @@\n import java.util.Date;\n import java.util.HashSet;\n import java.util.Set;\n+import javax.annotation.Resource;\n import org.apache.commons.lang.StringUtils;\n import org.apache.syncope.common.mod.MembershipMod;\n import org.apache.syncope.common.mod.UserMod;\n@@ -71,6 +72,9 @@ public class UserDataBinder extends AbstractAttributableDataBinder {\n     @Autowired\n     private ConnObjectUtil connObjectUtil;\n \n+    @Resource(name = \"adminUser\")\n+    private String adminUser;\n+\n     @Transactional(readOnly = true)\n     public SyncopeUser getUserFromId(final Long userId) {\n         if (userId == null) {\n@@ -96,8 +100,19 @@ public SyncopeUser getUserFromId(final Long userId) {\n \n     @Transactional(readOnly = true)\n     public UserTO getAuthenticatedUserTO() {\n-        SyncopeUser authUser = userDAO.find(SecurityContextHolder.getContext().getAuthentication().getName());\n-        return getUserTO(authUser);\n+        final UserTO authUserTO;\n+\n+        final String authUsername = SecurityContextHolder.getContext().getAuthentication().getName();\n+        if (adminUser.equals(authUsername)) {\n+            authUserTO = new UserTO();\n+            authUserTO.setId(-1);\n+            authUserTO.setUsername(adminUser);\n+        } else {\n+            SyncopeUser authUser = userDAO.find(authUsername);\n+            authUserTO = getUserTO(authUser);\n+        }\n+\n+        return authUserTO;\n     }\n \n     @Transactional(readOnly = true)"},{"sha":"9be2e9c49c9da9ed7366add77272bb6bc0a393bf","filename":"core/src/main/java/org/apache/syncope/core/security/SyncopeAuthenticationProvider.java","status":"modified","additions":7,"deletions":31,"changes":38,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsecurity%2FSyncopeAuthenticationProvider.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsecurity%2FSyncopeAuthenticationProvider.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsecurity%2FSyncopeAuthenticationProvider.java?ref=223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307","patch":"@@ -19,6 +19,7 @@\n package org.apache.syncope.core.security;\n \n import java.util.Date;\n+import javax.annotation.Resource;\n import org.apache.syncope.common.types.AuditElements.AuthenticationSubCategory;\n import org.apache.syncope.common.types.AuditElements.Category;\n import org.apache.syncope.common.types.AuditElements.Result;\n@@ -53,36 +54,14 @@ public class SyncopeAuthenticationProvider implements AuthenticationProvider {\n     @Autowired\n     private UserDAO userDAO;\n \n-    private SyncopeUserDetailsService userDetailsService;\n-\n+    @Resource(name = \"adminUser\")\n     private String adminUser;\n \n     private String adminPassword;\n \n     private String adminPasswordAlgorithm;\n \n-    public SyncopeUserDetailsService getSyncopeUserDetailsService() {\n-        return userDetailsService;\n-    }\n-\n-    public void setSyncopeUserDetailsService(final SyncopeUserDetailsService syncopeUserDetailsService) {\n-        this.userDetailsService = syncopeUserDetailsService;\n-    }\n-\n-    public String getAdminUser() {\n-        return adminUser;\n-    }\n-\n-    public void setAdminUser(final String adminUser) {\n-        this.adminUser = adminUser;\n-    }\n-\n-    /**\n-     * @return the adminPassword\n-     */\n-    public String getAdminPassword() {\n-        return adminPassword;\n-    }\n+    private SyncopeUserDetailsService userDetailsService;\n \n     /**\n      * @param adminPassword the adminPassword to set\n@@ -91,20 +70,17 @@ public void setAdminPassword(final String adminPassword) {\n         this.adminPassword = adminPassword;\n     }\n \n-    /**\n-     * @return the adminPasswordAlgorithm\n-     */\n-    public String getAdminPasswordAlgorithm() {\n-        return adminPasswordAlgorithm;\n-    }\n-\n     /**\n      * @param adminPasswordAlgorithm the adminPasswordAlgorithm to set\n      */\n     public void setAdminPasswordAlgorithm(final String adminPasswordAlgorithm) {\n         this.adminPasswordAlgorithm = adminPasswordAlgorithm;\n     }\n \n+    public void setSyncopeUserDetailsService(final SyncopeUserDetailsService syncopeUserDetailsService) {\n+        this.userDetailsService = syncopeUserDetailsService;\n+    }\n+\n     @Override\n     @Transactional(noRollbackFor = {BadCredentialsException.class, DisabledException.class})\n     public Authentication authenticate(final Authentication authentication)"},{"sha":"a2fe71a6e211f9776b565a3ca5f2c7e5e78c104c","filename":"core/src/main/java/org/apache/syncope/core/security/SyncopeUserDetailsService.java","status":"modified","additions":2,"deletions":8,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsecurity%2FSyncopeUserDetailsService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsecurity%2FSyncopeUserDetailsService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fsecurity%2FSyncopeUserDetailsService.java?ref=223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307","patch":"@@ -21,6 +21,7 @@\n import java.util.HashSet;\n import java.util.List;\n import java.util.Set;\n+import javax.annotation.Resource;\n import org.apache.syncope.core.persistence.beans.Entitlement;\n import org.apache.syncope.core.persistence.beans.role.SyncopeRole;\n import org.apache.syncope.core.persistence.beans.user.SyncopeUser;\n@@ -49,16 +50,9 @@ public class SyncopeUserDetailsService implements UserDetailsService {\n     @Autowired\n     private EntitlementDAO entitlementDAO;\n \n+    @Resource(name = \"adminUser\")\n     private String adminUser;\n \n-    public String getAdminUser() {\n-        return adminUser;\n-    }\n-\n-    public void setAdminUser(String adminUser) {\n-        this.adminUser = adminUser;\n-    }\n-\n     @Override\n     public UserDetails loadUserByUsername(final String username) throws UsernameNotFoundException, DataAccessException {\n         final Set<SimpleGrantedAuthority> authorities = new HashSet<SimpleGrantedAuthority>();"},{"sha":"cd22ac12fbd0b72a21e9d41b575d9cd790092ea3","filename":"core/src/main/resources/restContext.xml","status":"modified","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Fmain%2Fresources%2FrestContext.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Fmain%2Fresources%2FrestContext.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2FrestContext.xml?ref=223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307","patch":"@@ -36,10 +36,6 @@ under the License.\n \n   <context:component-scan base-package=\"org.apache.syncope.core.rest.controller\"/>\n \n-  <bean id=\"adminUser\" class=\"java.lang.String\">\n-    <constructor-arg value=\"${adminUser}\"/>\n-  </bean>\n-  \n   <!-- CXF Configuration - BEGIN -->\n   <context:component-scan base-package=\"org.apache.syncope.core.services\"/>\n "},{"sha":"909a49977906446ecd9d7b7239ff87b8a57a61c5","filename":"core/src/main/resources/securityContext.xml","status":"modified","additions":1,"deletions":4,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Fmain%2Fresources%2FsecurityContext.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Fmain%2Fresources%2FsecurityContext.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2FsecurityContext.xml?ref=223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307","patch":"@@ -46,13 +46,10 @@ under the License.\n   </security:http>\n \n   <bean id=\"syncopeUserDetailsService\"\n-        class=\"org.apache.syncope.core.security.SyncopeUserDetailsService\">\n-    <property name=\"adminUser\" value=\"${adminUser}\"/>\n-  </bean>\n+        class=\"org.apache.syncope.core.security.SyncopeUserDetailsService\"/>\n \n   <bean id=\"syncopeAuthenticationProvider\"\n         class=\"org.apache.syncope.core.security.SyncopeAuthenticationProvider\">\n-    <property name=\"adminUser\" value=\"${adminUser}\"/>\n     <property name=\"adminPassword\" value=\"${adminPassword}\"/>\n     <property name=\"adminPasswordAlgorithm\" value=\"${adminPasswordAlgorithm}\"/>\n     <property name=\"syncopeUserDetailsService\" ref=\"syncopeUserDetailsService\"/>"},{"sha":"1dd944e0c4116105dcbab9fe8928f089ff19abb2","filename":"core/src/main/resources/syncopeContext.xml","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Fmain%2Fresources%2FsyncopeContext.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Fmain%2Fresources%2FsyncopeContext.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2FsyncopeContext.xml?ref=223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307","patch":"@@ -40,6 +40,10 @@ under the License.\n     <property name=\"ignoreUnresolvablePlaceholders\" value=\"true\"/>\n   </bean>\n \n+  <bean id=\"adminUser\" class=\"java.lang.String\">\n+    <constructor-arg value=\"${adminUser}\"/>\n+  </bean>\n+\n   <bean class=\"org.apache.syncope.core.util.ApplicationContextProvider\"/>\n \n   <context:component-scan base-package=\"org.apache.syncope.core.init\"/>"},{"sha":"3f8141caf259a18a853a20b81263cdf1cc2103e6","filename":"core/src/main/resources/workflowContext.xml","status":"modified","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Fmain%2Fresources%2FworkflowContext.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Fmain%2Fresources%2FworkflowContext.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2FworkflowContext.xml?ref=223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307","patch":"@@ -22,10 +22,6 @@ under the License.\n        xsi:schemaLocation=\"http://www.springframework.org/schema/beans   \n                            http://www.springframework.org/schema/beans/spring-beans.xsd\">\n \n-  <bean id=\"adminUser\" class=\"java.lang.String\">\n-    <constructor-arg value=\"${adminUser}\"/>\n-  </bean>\n-\n   <bean id=\"uwfAdapter\" class=\"${uwfAdapter}\"/>\n   <bean id=\"rwfAdapter\" class=\"${rwfAdapter}\"/>\n "},{"sha":"be199b1377a4031cfd19f1c10808c79e304b5d80","filename":"core/src/test/java/org/apache/syncope/core/rest/AbstractTest.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FAbstractTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FAbstractTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FAbstractTest.java?ref=223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307","patch":"@@ -107,7 +107,7 @@ public abstract class AbstractTest {\n \n     protected static final String BASE_URL = \"http://localhost:9080/syncope/rest/\";\n \n-    protected static final String ADMIN_UID = \"admin\";\n+    protected static final String ADMIN_UNAME = \"admin\";\n \n     protected static final String ADMIN_PWD = \"password\";\n \n@@ -199,7 +199,7 @@ private RestTemplate getAnonymousRestTemplate() {\n     }\n \n     protected void resetRestTemplate() {\n-        setupRestTemplate(ADMIN_UID, ADMIN_PWD);\n+        setupRestTemplate(ADMIN_UNAME, ADMIN_PWD);\n         userService = new UserServiceProxy(BASE_URL, restTemplate);\n         userWorkflowService = new UserWorkflowServiceProxy(BASE_URL, restTemplate);\n         roleService = new RoleServiceProxy(BASE_URL, restTemplate);\n@@ -238,7 +238,7 @@ public void setupCXFServices() throws Exception {\n     }\n \n     protected <T> T createServiceInstance(final Class<T> serviceClass) {\n-        return createServiceInstance(serviceClass, ADMIN_UID);\n+        return createServiceInstance(serviceClass, ADMIN_UNAME);\n     }\n \n     protected <T> T createServiceInstance(final Class<T> serviceClass, final String username) {"},{"sha":"75af4ce35bfba0672e8cb0258b8e50a808f920cb","filename":"core/src/test/java/org/apache/syncope/core/rest/UserTestITCase.java","status":"modified","additions":7,"deletions":0,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FUserTestITCase.java?ref=223db7ba16cd8413d1e6ab5a4ac5f06e30cb1307","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.core.rest;\n \n+import static org.apache.syncope.core.rest.AbstractTest.ADMIN_PWD;\n import static org.apache.syncope.core.rest.AbstractTest.getUUIDString;\n import static org.junit.Assert.assertEquals;\n import static org.junit.Assert.assertFalse;\n@@ -2218,6 +2219,12 @@ public void issueSYNCOPE357() {\n             assertNotNull(scce.getException(SyncopeClientExceptionType.NotFound));\n         }\n     }\n+    \n+        @Test\n+    public void issueSYNCOPE373() {\n+        UserTO userTO = userService.readSelf();\n+        assertEquals(ADMIN_UNAME, userTO.getUsername());\n+    }\n \n     private boolean getBooleanAttribute(ConnObjectTO connObjectTO, String attrName) {\n         return Boolean.parseBoolean(getStringAttribute(connObjectTO, attrName));"}]}
{"sha":"dc582d3f89fb53d969ba696ef4a76fa50b334519","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmRjNTgyZDNmODlmYjUzZDk2OWJhNjk2ZWY0YTc2ZmE1MGIzMzQ1MTk=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-03-13T13:24:32Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-03-13T13:24:32Z"},"message":"H2, MySQL, Oracle and SQL Server are on; still PostgreSQL to go\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1455927 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"024c4f98b6ee3361c6d234cd53ac93c66a80b8b3","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/024c4f98b6ee3361c6d234cd53ac93c66a80b8b3"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/dc582d3f89fb53d969ba696ef4a76fa50b334519","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/dc582d3f89fb53d969ba696ef4a76fa50b334519","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/dc582d3f89fb53d969ba696ef4a76fa50b334519","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/dc582d3f89fb53d969ba696ef4a76fa50b334519/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"f7f71bf0fc69a4597add50ac4ca4e653d9c26695","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/f7f71bf0fc69a4597add50ac4ca4e653d9c26695","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/f7f71bf0fc69a4597add50ac4ca4e653d9c26695"}],"stats":{"total":165,"additions":25,"deletions":140},"files":[{"sha":"ba7f347c61429d36dfd5fdda75a596990ad3703f","filename":"core/src/main/resources/quartz/tables_sqlServer.sql","status":"modified","additions":25,"deletions":140,"changes":165,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/dc582d3f89fb53d969ba696ef4a76fa50b334519/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_sqlServer.sql","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/dc582d3f89fb53d969ba696ef4a76fa50b334519/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_sqlServer.sql","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2Fquartz%2Ftables_sqlServer.sql?ref=dc582d3f89fb53d969ba696ef4a76fa50b334519","patch":"@@ -15,110 +15,19 @@\n -- specific language governing permissions and limitations\n -- under the License.\n \n---# thanks to George Papastamatopoulos for submitting this ... and Marko Lahma for\n---# updating it.\n---#\n---# In your Quartz properties file, you'll need to set \n---# org.quartz.jobStore.driverDelegateClass = org.quartz.impl.jdbcjobstore.MSSQLDelegate\n---#\n---# you shouse enter your DB instance's name on the next line in place of \"enter_db_name_here\"\n---#\n---#\n---# From a helpful (but anonymous) Quartz user:\n---#\n---# Regarding this error message:  \n---#\n---#     [Microsoft][SQLServer 2000 Driver for JDBC]Can't start a cloned connection while in manual transaction mode.\n---#\n---#\n---#     I added \"SelectMethod=cursor;\" to my Connection URL in the config file. \n---#     It Seems to work, hopefully no side effects.\n---#\n---#\t\texample:\n---#\t\t\"jdbc:microsoft:sqlserver://dbmachine:1433;SelectMethod=cursor\"; \n---#\n---# Another user has pointed out that you will probably need to use the \n---# JTDS driver\n---#\n-\n-USE [enter_db_name_here]\n-GO\n-\n-IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[FK_QRTZ_TRIGGERS_QRTZ_JOB_DETAILS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)\n-ALTER TABLE [dbo].[QRTZ_TRIGGERS] DROP CONSTRAINT FK_QRTZ_TRIGGERS_QRTZ_JOB_DETAILS\n-GO\n-\n-IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[FK_QRTZ_CRON_TRIGGERS_QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)\n-ALTER TABLE [dbo].[QRTZ_CRON_TRIGGERS] DROP CONSTRAINT FK_QRTZ_CRON_TRIGGERS_QRTZ_TRIGGERS\n-GO\n-\n-IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[FK_QRTZ_SIMPLE_TRIGGERS_QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)\n-ALTER TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] DROP CONSTRAINT FK_QRTZ_SIMPLE_TRIGGERS_QRTZ_TRIGGERS\n-GO\n-\n-IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[FK_QRTZ_SIMPROP_TRIGGERS_QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)\n-ALTER TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] DROP CONSTRAINT FK_QRTZ_SIMPROP_TRIGGERS_QRTZ_TRIGGERS\n-GO\n-\n-IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_CALENDARS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n-DROP TABLE [dbo].[QRTZ_CALENDARS]\n-GO\n-\n-IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_CRON_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n-DROP TABLE [dbo].[QRTZ_CRON_TRIGGERS]\n-GO\n-\n-IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_BLOB_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n-DROP TABLE [dbo].[QRTZ_BLOB_TRIGGERS]\n-GO\n-\n-IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_FIRED_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n-DROP TABLE [dbo].[QRTZ_FIRED_TRIGGERS]\n-GO\n-\n-IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_PAUSED_TRIGGER_GRPS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n-DROP TABLE [dbo].[QRTZ_PAUSED_TRIGGER_GRPS]\n-GO\n-\n-IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_SCHEDULER_STATE]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n-DROP TABLE [dbo].[QRTZ_SCHEDULER_STATE]\n-GO\n-\n-IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_LOCKS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n-DROP TABLE [dbo].[QRTZ_LOCKS]\n-GO\n-\n-IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_JOB_DETAILS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n-DROP TABLE [dbo].[QRTZ_JOB_DETAILS]\n-GO\n-\n-IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_SIMPLE_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n-DROP TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS]\n-GO\n-\n-IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_SIMPROP_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n-DROP TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS]\n-GO\n-\n-IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\n-DROP TABLE [dbo].[QRTZ_TRIGGERS]\n-GO\n-\n CREATE TABLE [dbo].[QRTZ_CALENDARS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n   [CALENDAR_NAME] [VARCHAR] (200)  NOT NULL ,\n   [CALENDAR] [IMAGE] NOT NULL\n-) ON [PRIMARY]\n-GO\n+) ON [PRIMARY];\n \n CREATE TABLE [dbo].[QRTZ_CRON_TRIGGERS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n   [TRIGGER_NAME] [VARCHAR] (200)  NOT NULL ,\n   [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\n   [CRON_EXPRESSION] [VARCHAR] (120)  NOT NULL ,\n   [TIME_ZONE_ID] [VARCHAR] (80) \n-) ON [PRIMARY]\n-GO\n+) ON [PRIMARY];\n \n CREATE TABLE [dbo].[QRTZ_FIRED_TRIGGERS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n@@ -133,28 +42,24 @@ CREATE TABLE [dbo].[QRTZ_FIRED_TRIGGERS] (\n   [JOB_GROUP] [VARCHAR] (200)  NULL ,\n   [IS_NONCONCURRENT] [VARCHAR] (1)  NULL ,\n   [REQUESTS_RECOVERY] [VARCHAR] (1)  NULL \n-) ON [PRIMARY]\n-GO\n+) ON [PRIMARY];\n \n CREATE TABLE [dbo].[QRTZ_PAUSED_TRIGGER_GRPS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n   [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL \n-) ON [PRIMARY]\n-GO\n+) ON [PRIMARY];\n \n CREATE TABLE [dbo].[QRTZ_SCHEDULER_STATE] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n   [INSTANCE_NAME] [VARCHAR] (200)  NOT NULL ,\n   [LAST_CHECKIN_TIME] [BIGINT] NOT NULL ,\n   [CHECKIN_INTERVAL] [BIGINT] NOT NULL\n-) ON [PRIMARY]\n-GO\n+) ON [PRIMARY];\n \n CREATE TABLE [dbo].[QRTZ_LOCKS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n   [LOCK_NAME] [VARCHAR] (40)  NOT NULL \n-) ON [PRIMARY]\n-GO\n+) ON [PRIMARY];\n \n CREATE TABLE [dbo].[QRTZ_JOB_DETAILS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n@@ -167,8 +72,7 @@ CREATE TABLE [dbo].[QRTZ_JOB_DETAILS] (\n   [IS_UPDATE_DATA] [VARCHAR] (1)  NOT NULL ,\n   [REQUESTS_RECOVERY] [VARCHAR] (1)  NOT NULL ,\n   [JOB_DATA] [IMAGE] NULL\n-) ON [PRIMARY]\n-GO\n+) ON [PRIMARY];\n \n CREATE TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n@@ -177,8 +81,7 @@ CREATE TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] (\n   [REPEAT_COUNT] [BIGINT] NOT NULL ,\n   [REPEAT_INTERVAL] [BIGINT] NOT NULL ,\n   [TIMES_TRIGGERED] [BIGINT] NOT NULL\n-) ON [PRIMARY]\n-GO\n+) ON [PRIMARY];\n \n CREATE TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n@@ -195,16 +98,14 @@ CREATE TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] (\n   [DEC_PROP_2] [NUMERIC] (13,4) NULL,\n   [BOOL_PROP_1] [VARCHAR] (1) NULL,\n   [BOOL_PROP_2] [VARCHAR] (1) NULL,\n-) ON [PRIMARY]\n-GO\n+) ON [PRIMARY];\n \n CREATE TABLE [dbo].[QRTZ_BLOB_TRIGGERS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n   [TRIGGER_NAME] [VARCHAR] (200)  NOT NULL ,\n   [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\n   [BLOB_DATA] [IMAGE] NULL\n-) ON [PRIMARY]\n-GO\n+) ON [PRIMARY];\n \n CREATE TABLE [dbo].[QRTZ_TRIGGERS] (\n   [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n@@ -223,93 +124,82 @@ CREATE TABLE [dbo].[QRTZ_TRIGGERS] (\n   [CALENDAR_NAME] [VARCHAR] (200)  NULL ,\n   [MISFIRE_INSTR] [SMALLINT] NULL ,\n   [JOB_DATA] [IMAGE] NULL\n-) ON [PRIMARY]\n-GO\n+) ON [PRIMARY];\n \n ALTER TABLE [dbo].[QRTZ_CALENDARS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_CALENDARS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [CALENDAR_NAME]\n-  )  ON [PRIMARY]\n-GO\n+  ) ON [PRIMARY];\n \n ALTER TABLE [dbo].[QRTZ_CRON_TRIGGERS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_CRON_TRIGGERS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [TRIGGER_NAME],\n     [TRIGGER_GROUP]\n-  )  ON [PRIMARY]\n-GO\n+  ) ON [PRIMARY];\n \n ALTER TABLE [dbo].[QRTZ_FIRED_TRIGGERS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_FIRED_TRIGGERS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [ENTRY_ID]\n-  )  ON [PRIMARY]\n-GO\n+  ) ON [PRIMARY];\n \n ALTER TABLE [dbo].[QRTZ_PAUSED_TRIGGER_GRPS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_PAUSED_TRIGGER_GRPS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [TRIGGER_GROUP]\n-  )  ON [PRIMARY]\n-GO\n+  ) ON [PRIMARY];\n \n ALTER TABLE [dbo].[QRTZ_SCHEDULER_STATE] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_SCHEDULER_STATE] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [INSTANCE_NAME]\n-  )  ON [PRIMARY]\n-GO\n+  ) ON [PRIMARY];\n \n ALTER TABLE [dbo].[QRTZ_LOCKS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_LOCKS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [LOCK_NAME]\n-  )  ON [PRIMARY]\n-GO\n+  ) ON [PRIMARY];\n \n ALTER TABLE [dbo].[QRTZ_JOB_DETAILS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_JOB_DETAILS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [JOB_NAME],\n     [JOB_GROUP]\n-  )  ON [PRIMARY]\n-GO\n+  ) ON [PRIMARY];\n \n ALTER TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_SIMPLE_TRIGGERS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [TRIGGER_NAME],\n     [TRIGGER_GROUP]\n-  )  ON [PRIMARY]\n-GO\n+  ) ON [PRIMARY];\n \n ALTER TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_SIMPROP_TRIGGERS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [TRIGGER_NAME],\n     [TRIGGER_GROUP]\n-  )  ON [PRIMARY]\n-GO\n+  ) ON [PRIMARY];\n \n ALTER TABLE [dbo].[QRTZ_TRIGGERS] WITH NOCHECK ADD\n   CONSTRAINT [PK_QRTZ_TRIGGERS] PRIMARY KEY  CLUSTERED\n   (\n     [SCHED_NAME],\n     [TRIGGER_NAME],\n     [TRIGGER_GROUP]\n-  )  ON [PRIMARY]\n-GO\n+  ) ON [PRIMARY];\n \n ALTER TABLE [dbo].[QRTZ_CRON_TRIGGERS] ADD\n   CONSTRAINT [FK_QRTZ_CRON_TRIGGERS_QRTZ_TRIGGERS] FOREIGN KEY\n@@ -321,8 +211,7 @@ ALTER TABLE [dbo].[QRTZ_CRON_TRIGGERS] ADD\n     [SCHED_NAME],\n     [TRIGGER_NAME],\n     [TRIGGER_GROUP]\n-  ) ON DELETE CASCADE\n-GO\n+  ) ON DELETE CASCADE;\n \n ALTER TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] ADD\n   CONSTRAINT [FK_QRTZ_SIMPLE_TRIGGERS_QRTZ_TRIGGERS] FOREIGN KEY\n@@ -334,8 +223,7 @@ ALTER TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] ADD\n     [SCHED_NAME],\n     [TRIGGER_NAME],\n     [TRIGGER_GROUP]\n-  ) ON DELETE CASCADE\n-GO\n+  ) ON DELETE CASCADE;\n \n ALTER TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] ADD\n   CONSTRAINT [FK_QRTZ_SIMPROP_TRIGGERS_QRTZ_TRIGGERS] FOREIGN KEY\n@@ -347,8 +235,7 @@ ALTER TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] ADD\n     [SCHED_NAME],\n     [TRIGGER_NAME],\n     [TRIGGER_GROUP]\n-  ) ON DELETE CASCADE\n-GO\n+  ) ON DELETE CASCADE;\n \n ALTER TABLE [dbo].[QRTZ_TRIGGERS] ADD\n   CONSTRAINT [FK_QRTZ_TRIGGERS_QRTZ_JOB_DETAILS] FOREIGN KEY\n@@ -360,6 +247,4 @@ ALTER TABLE [dbo].[QRTZ_TRIGGERS] ADD\n     [SCHED_NAME],\n     [JOB_NAME],\n     [JOB_GROUP]\n-  )\n-GO\n-\n+  );"}]}
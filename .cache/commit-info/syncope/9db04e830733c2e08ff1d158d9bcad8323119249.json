{"sha":"9db04e830733c2e08ff1d158d9bcad8323119249","node_id":"C_kwDOJfYA1toAKDlkYjA0ZTgzMDczM2MyZTA4ZmYxZDE1OGQ5YmNhZDgzMjMxMTkyNDk","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@users.noreply.github.com","date":"2023-03-09T07:34:25Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2023-03-09T08:15:31Z"},"message":"[SYNCOPE-1738] Refactoring Reports (#421)","tree":{"sha":"458913fc0f371241c46b6b03b11e37967728b554","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/458913fc0f371241c46b6b03b11e37967728b554"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/9db04e830733c2e08ff1d158d9bcad8323119249","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/9db04e830733c2e08ff1d158d9bcad8323119249","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/9db04e830733c2e08ff1d158d9bcad8323119249","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/9db04e830733c2e08ff1d158d9bcad8323119249/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125"}],"stats":{"total":11616,"additions":1467,"deletions":10149},"files":[{"sha":"3ce93ab3b99f9c4f0407a74c90d74dd47317d446","filename":"client/am/console/src/main/java/org/apache/syncope/client/console/clientapps/ClientAppModalPanelBuilder.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fclientapps%2FClientAppModalPanelBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fclientapps%2FClientAppModalPanelBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fclientapps%2FClientAppModalPanelBuilder.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -182,8 +182,8 @@ protected Iterator<String> getChoices(final String input) {\n                     new PropertyModel<>(clientAppTO, Constants.DESCRIPTION_FIELD_NAME), false));\n             \n             fields.add(new AjaxTextFieldPanel(\n-                    \"field\", Constants.LOGO_FIELD_NAME,\n-                    new PropertyModel<>(clientAppTO, Constants.LOGO_FIELD_NAME), false));\n+                    \"field\", \"logo\",\n+                    new PropertyModel<>(clientAppTO, \"logo\"), false));\n \n             AjaxDropDownChoicePanel<String> accessPolicy = new AjaxDropDownChoicePanel<>(\n                     \"field\", \"accessPolicy\", new PropertyModel<>(clientAppTO, \"accessPolicy\"), false);"},{"sha":"9a67d508cf6172c220326a603d3968883be7396e","filename":"client/am/console/src/main/java/org/apache/syncope/client/console/init/AMClassPathScanImplementationContributor.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Finit%2FAMClassPathScanImplementationContributor.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Finit%2FAMClassPathScanImplementationContributor.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fam%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Finit%2FAMClassPathScanImplementationContributor.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -29,6 +29,8 @@\n \n public class AMClassPathScanImplementationContributor implements ClassPathScanImplementationContributor {\n \n+    private static final long serialVersionUID = 2493303413513242525L;\n+\n     @Override\n     public void extend(final ClassPathScanningCandidateComponentProvider scanner) {\n         scanner.addIncludeFilter(new AssignableTypeFilter(AuthModuleConf.class));"},{"sha":"28188f975621be4b4be0fd1e3f3e6e42295cb645","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/init/IdMClassPathScanImplementationContributor.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Finit%2FIdMClassPathScanImplementationContributor.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Finit%2FIdMClassPathScanImplementationContributor.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Finit%2FIdMClassPathScanImplementationContributor.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -26,6 +26,8 @@\n \n public class IdMClassPathScanImplementationContributor implements ClassPathScanImplementationContributor {\n \n+    private static final long serialVersionUID = 4797723744170531042L;\n+\n     @Override\n     public void extend(final ClassPathScanningCandidateComponentProvider scanner) {\n         scanner.addIncludeFilter(new AssignableTypeFilter(PullCorrelationRuleConf.class));"},{"sha":"4d4fa048a9d1cb10b6b3b41cc76059205a770480","filename":"client/idrepo/common-ui/src/main/java/org/apache/syncope/client/ui/commons/CommonUIProperties.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fui%2Fcommons%2FCommonUIProperties.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fui%2Fcommons%2FCommonUIProperties.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fui%2Fcommons%2FCommonUIProperties.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -24,6 +24,8 @@\n \n public abstract class CommonUIProperties extends SyncopeProperties {\n \n+    private static final long serialVersionUID = -4338560769317806322L;\n+\n     private String adminUser = \"admin\";\n \n     private boolean xForward = true;"},{"sha":"644ce96cdbe8b334bf4eae0b9976bf25eadb746f","filename":"client/idrepo/common-ui/src/main/java/org/apache/syncope/client/ui/commons/Constants.java","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fui%2Fcommons%2FConstants.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fui%2Fcommons%2FConstants.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fui%2Fcommons%2FConstants.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -47,8 +47,6 @@ public final class Constants {\n \n     public static final String DESCRIPTION_FIELD_NAME = \"description\";\n \n-    public static final String LOGO_FIELD_NAME = \"logo\";\n-\n     public static final String USERNAME_FIELD_NAME = \"username\";\n \n     public static final String NAME_FIELD_NAME = \"name\";"},{"sha":"e7e36820f0c1f74cbd738321100695902329f93b","filename":"client/idrepo/common-ui/src/main/resources/MIMETypes.json","status":"modified","additions":6,"deletions":1,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fresources%2FMIMETypes.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fresources%2FMIMETypes.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fresources%2FMIMETypes.json?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -139,7 +139,8 @@\n     \"name\": \"application/oda\"\n   },\n   {\n-    \"name\": \"application/pdf\"\n+    \"name\": \"application/pdf\",\n+    \"extension\": \"pdf\"\n   },\n   {\n     \"name\": \"application/pkcs10\"\n@@ -1025,6 +1026,10 @@\n     \"name\": \"text/javascript\",\n     \"extension\": \"js\"\n   },\n+  {\n+    \"name\": \"text/csv\",\n+    \"extension\": \"csv\"\n+  },\n   {\n     \"name\": \"text/mcf\"\n   },"},{"sha":"b0ff920a205a01799de0ff24cbfc1e37411d6183","filename":"client/idrepo/console/pom.xml","status":"modified","additions":25,"deletions":0,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fpom.xml?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -271,6 +271,31 @@ under the License.\n         <defaultGoal>clean package</defaultGoal>\n \n         <plugins>\n+          <plugin>\n+            <groupId>org.apache.maven.plugins</groupId>\n+            <artifactId>maven-resources-plugin</artifactId>\n+            <executions>\n+              <execution>\n+                <id>copy-fit-classes</id>\n+                <phase>generate-sources</phase>\n+                <goals>\n+                  <goal>copy-resources</goal>\n+                </goals>\n+                <configuration>\n+                  <outputDirectory>${project.build.outputDirectory}/org/apache/syncope/fit/core/reference</outputDirectory>\n+                  <resources>\n+                    <resource>\n+                      <directory>${basedir}/../../../fit/core-reference/target/classes/org/apache/syncope/fit/core/reference</directory>\n+                      <includes>\n+                        <include>SampleReportConf.class</include>\n+                      </includes>\n+                    </resource>\n+                  </resources>\n+                </configuration>\n+              </execution>\n+            </executions>\n+          </plugin>\n+\n           <plugin>\n             <groupId>org.springframework.boot</groupId>\n             <artifactId>spring-boot-maven-plugin</artifactId>"},{"sha":"3594c84be6af799e6289194596f32d7bddfd9be3","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/ConsoleProperties.java","status":"modified","additions":6,"deletions":11,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FConsoleProperties.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FConsoleProperties.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FConsoleProperties.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.client.console;\n \n+import java.io.Serializable;\n import java.util.HashMap;\n import java.util.Map;\n import org.apache.syncope.client.console.pages.BasePage;\n@@ -28,7 +29,11 @@\n @ConfigurationProperties(\"console\")\n public class ConsoleProperties extends CommonUIProperties {\n \n-    public static class Topology {\n+    private static final long serialVersionUID = -6444470724127309370L;\n+\n+    public static class Topology implements Serializable {\n+\n+        private static final long serialVersionUID = -4530238696048859905L;\n \n         private int corePoolSize = 10;\n \n@@ -63,8 +68,6 @@ public void setQueueCapacity(final int queueCapacity) {\n \n     private String adminUser = \"admin\";\n \n-    private String reconciliationReportKey;\n-\n     private final Map<String, Class<? extends BasePage>> page = new HashMap<>();\n \n     private String defaultAnyPanelClass = AnyPanel.class.getName();\n@@ -81,14 +84,6 @@ public void setAdminUser(final String adminUser) {\n         this.adminUser = adminUser;\n     }\n \n-    public String getReconciliationReportKey() {\n-        return reconciliationReportKey;\n-    }\n-\n-    public void setReconciliationReportKey(final String reconciliationReportKey) {\n-        this.reconciliationReportKey = reconciliationReportKey;\n-    }\n-\n     public String getDefaultAnyPanelClass() {\n         return defaultAnyPanelClass;\n     }"},{"sha":"2109a3fb1c3bcd6d07a6ff8537b55dfe8abd5c65","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/IdRepoConsoleContext.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FIdRepoConsoleContext.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FIdRepoConsoleContext.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FIdRepoConsoleContext.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.client.console;\n \n+import java.util.HashSet;\n import org.apache.syncope.client.console.commons.AccessPolicyConfProvider;\n import org.apache.syncope.client.console.commons.AnyDirectoryPanelAdditionalActionLinksProvider;\n import org.apache.syncope.client.console.commons.AnyDirectoryPanelAdditionalActionsProvider;\n@@ -56,7 +57,7 @@ public ClassPathScanImplementationLookup classPathScanImplementationLookup(\n             final ApplicationContext ctx, final ConsoleProperties props) {\n \n         ClassPathScanImplementationLookup lookup = new ClassPathScanImplementationLookup(\n-                ctx.getBeansOfType(ClassPathScanImplementationContributor.class).values(), props);\n+                new HashSet<>(ctx.getBeansOfType(ClassPathScanImplementationContributor.class).values()), props);\n         lookup.load();\n         return lookup;\n     }"},{"sha":"3da6a876610c72756540666da49c0367c4cbbc64","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/SyncopeWebApplication.java","status":"modified","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2FSyncopeWebApplication.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -295,10 +295,6 @@ public String getAnonymousKey() {\n         return props.getAnonymousKey();\n     }\n \n-    public String getReconciliationReportKey() {\n-        return props.getReconciliationReportKey();\n-    }\n-\n     public long getMaxWaitTimeInSeconds() {\n         return props.getMaxWaitTimeOnApplyChanges();\n     }"},{"sha":"cd8388aa5bdf9df6e75863afa5893673b22bb204","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/commons/IdRepoConstants.java","status":"modified","additions":1,"deletions":3,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdRepoConstants.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdRepoConstants.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdRepoConstants.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -84,9 +84,7 @@ public final class IdRepoConstants {\n \n     public static final String PREF_PROPAGATION_TASKS_PAGINATOR_ROWS = \"proagationtasks.paginator.rows\";\n \n-    public static final String PREF_REPORTLET_PAGINATOR_ROWS = \"reportlet.paginator.rows\";\n-\n-    public static final String PREF_FIQL_QUERIES_PAGINATOR_ROWS = \"reportlet.paginator.rows\";\n+    public static final String PREF_FIQL_QUERIES_PAGINATOR_ROWS = \"fiql.queries.paginator.rows\";\n \n     public static final String PREF_POLICY_RULE_PAGINATOR_ROWS = \"policy.rules.paginator.rows\";\n "},{"sha":"cb0d6eaa73e9af4ed67b1c7301afad7efc60c06f","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/commons/IdRepoImplementationInfoProvider.java","status":"modified","additions":24,"deletions":10,"changes":34,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdRepoImplementationInfoProvider.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdRepoImplementationInfoProvider.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdRepoImplementationInfoProvider.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -27,7 +27,7 @@\n import org.apache.syncope.client.console.rest.ImplementationRestClient;\n import org.apache.syncope.common.lib.policy.AccountRuleConf;\n import org.apache.syncope.common.lib.policy.PasswordRuleConf;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n+import org.apache.syncope.common.lib.report.ReportConf;\n import org.apache.syncope.common.lib.to.ImplementationTO;\n import org.apache.syncope.common.lib.types.IdRepoImplementationType;\n import org.apache.syncope.common.lib.types.ImplementationEngine;\n@@ -46,7 +46,7 @@ public class IdRepoImplementationInfoProvider implements ImplementationInfoProvi\n     public ViewMode getViewMode(final ImplementationTO implementation) {\n         return implementation.getEngine() == ImplementationEngine.GROOVY\n                 ? ViewMode.GROOVY_BODY\n-                : IdRepoImplementationType.REPORTLET.equals(implementation.getType())\n+                : IdRepoImplementationType.REPORT_DELEGATE.equals(implementation.getType())\n                 || IdRepoImplementationType.ACCOUNT_RULE.equals(implementation.getType())\n                 || IdRepoImplementationType.PASSWORD_RULE.equals(implementation.getType())\n                 ? ViewMode.JSON_BODY\n@@ -61,8 +61,8 @@ public List<String> getClasses(final ImplementationTO implementation, final View\n                     map(javaImplInfo -> new ArrayList<>(javaImplInfo.getClasses())).orElseGet(ArrayList::new);\n         } else if (viewMode == ViewMode.JSON_BODY) {\n             switch (implementation.getType()) {\n-                case IdRepoImplementationType.REPORTLET:\n-                    classes = lookup.getClasses(ReportletConf.class).stream().\n+                case IdRepoImplementationType.REPORT_DELEGATE:\n+                    classes = lookup.getClasses(ReportConf.class).stream().\n                             map(Class::getName).collect(Collectors.toList());\n                     break;\n \n@@ -91,10 +91,6 @@ public String getGroovyTemplateClassName(final String implementationType) {\n         String templateClassName = null;\n \n         switch (implementationType) {\n-            case IdRepoImplementationType.REPORTLET:\n-                templateClassName = \"MyReportlet\";\n-                break;\n-\n             case IdRepoImplementationType.ACCOUNT_RULE:\n                 templateClassName = \"MyAccountRule\";\n                 break;\n@@ -107,6 +103,10 @@ public String getGroovyTemplateClassName(final String implementationType) {\n                 templateClassName = \"MySchedTaskJobDelegate\";\n                 break;\n \n+            case IdRepoImplementationType.REPORT_DELEGATE:\n+                templateClassName = \"MyReportJobDelegate\";\n+                break;\n+\n             case IdRepoImplementationType.LOGIC_ACTIONS:\n                 templateClassName = \"MyLogicActions\";\n                 break;\n@@ -137,8 +137,8 @@ public String getGroovyTemplateClassName(final String implementationType) {\n     public Class<?> getClass(final String implementationType, final String name) {\n         Class<?> clazz = null;\n         switch (implementationType) {\n-            case IdRepoImplementationType.REPORTLET:\n-                clazz = lookup.getClasses(ReportletConf.class).stream().\n+            case IdRepoImplementationType.REPORT_DELEGATE:\n+                clazz = lookup.getClasses(ReportConf.class).stream().\n                         filter(c -> c.getName().equals(name)).findFirst().orElse(null);\n                 break;\n \n@@ -172,6 +172,20 @@ protected List<String> load() {\n         };\n     }\n \n+    @Override\n+    public IModel<List<String>> getReportJobDelegates() {\n+        return new LoadableDetachableModel<>() {\n+\n+            private static final long serialVersionUID = 5275935387613157437L;\n+\n+            @Override\n+            protected List<String> load() {\n+                return ImplementationRestClient.list(IdRepoImplementationType.REPORT_DELEGATE).stream().\n+                        map(ImplementationTO::getKey).sorted().collect(Collectors.toList());\n+            }\n+        };\n+    }\n+\n     @Override\n     public IModel<List<String>> getReconFilterBuilders() {\n         return new LoadableDetachableModel<>() {"},{"sha":"51638e42801c75d41b9e63afa875812d206d0861","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/commons/ImplementationInfoProvider.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FImplementationInfoProvider.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FImplementationInfoProvider.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FImplementationInfoProvider.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -42,6 +42,8 @@ enum ViewMode {\n \n     IModel<List<String>> getTaskJobDelegates();\n \n+    IModel<List<String>> getReportJobDelegates();\n+\n     IModel<List<String>> getReconFilterBuilders();\n \n     IModel<List<String>> getPullActions();"},{"sha":"6eb92fcf290690d598b6afa354892b6088edf097","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/events/EventSelectionPanel.java","status":"modified","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fevents%2FEventSelectionPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fevents%2FEventSelectionPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fevents%2FEventSelectionPanel.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -195,6 +195,9 @@ private static List<String> getEvents(final EventCategory eventCategoryTO) {\n             } else if (AuditElements.EventCategoryType.TASK == eventCategoryTO.getType()\n                     && StringUtils.isNotEmpty(eventCategoryTO.getCategory())) {\n                 res.add(eventCategoryTO.getCategory());\n+            } else if (AuditElements.EventCategoryType.REPORT == eventCategoryTO.getType()\n+                    && StringUtils.isNotEmpty(eventCategoryTO.getCategory())) {\n+                res.add(eventCategoryTO.getCategory());\n             }\n         } else {\n             Collections.sort(res);"},{"sha":"12545fca785a2f364b7187cfb86eb92ae3536544","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/init/ClassPathScanImplementationContributor.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Finit%2FClassPathScanImplementationContributor.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Finit%2FClassPathScanImplementationContributor.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Finit%2FClassPathScanImplementationContributor.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,10 +18,11 @@\n  */\n package org.apache.syncope.client.console.init;\n \n+import java.io.Serializable;\n import java.util.Optional;\n import org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider;\n \n-public interface ClassPathScanImplementationContributor {\n+public interface ClassPathScanImplementationContributor extends Serializable {\n \n     void extend(ClassPathScanningCandidateComponentProvider scanner);\n "},{"sha":"82675351f06d7381c7c17b1c758f542190afb8ac","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/init/ClassPathScanImplementationLookup.java","status":"modified","additions":9,"deletions":6,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Finit%2FClassPathScanImplementationLookup.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Finit%2FClassPathScanImplementationLookup.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Finit%2FClassPathScanImplementationLookup.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.client.console.init;\n \n+import java.io.Serializable;\n import java.lang.reflect.Field;\n import java.lang.reflect.Modifier;\n import java.util.ArrayList;\n@@ -50,7 +51,7 @@\n import org.apache.syncope.client.ui.commons.wizards.AjaxWizard;\n import org.apache.syncope.common.lib.policy.AccountRuleConf;\n import org.apache.syncope.common.lib.policy.PasswordRuleConf;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n+import org.apache.syncope.common.lib.report.ReportConf;\n import org.apache.syncope.common.lib.to.AnyObjectTO;\n import org.apache.syncope.common.lib.to.GroupTO;\n import org.apache.syncope.common.lib.to.UserTO;\n@@ -61,9 +62,11 @@\n import org.springframework.core.type.filter.AssignableTypeFilter;\n import org.springframework.util.ClassUtils;\n \n-public class ClassPathScanImplementationLookup {\n+public class ClassPathScanImplementationLookup implements Serializable {\n \n-    protected static final Logger LOG = LoggerFactory.getLogger(ClassPathScanImplementationLookup.class);\n+    private static final long serialVersionUID = 5047756409117925203L;\n+\n+    private static final Logger LOG = LoggerFactory.getLogger(ClassPathScanImplementationLookup.class);\n \n     private static final String DEFAULT_BASE_PACKAGE = \"org.apache.syncope\";\n \n@@ -133,7 +136,7 @@ protected ClassPathScanningCandidateComponentProvider scanner() {\n         scanner.addIncludeFilter(new AssignableTypeFilter(BaseExtWidget.class));\n         scanner.addIncludeFilter(new AssignableTypeFilter(ExtAlertWidget.class));\n         scanner.addIncludeFilter(new AssignableTypeFilter(BaseSSOLoginFormPanel.class));\n-        scanner.addIncludeFilter(new AssignableTypeFilter(ReportletConf.class));\n+        scanner.addIncludeFilter(new AssignableTypeFilter(ReportConf.class));\n         scanner.addIncludeFilter(new AssignableTypeFilter(AccountRuleConf.class));\n         scanner.addIncludeFilter(new AssignableTypeFilter(PasswordRuleConf.class));\n         scanner.addIncludeFilter(new AssignableTypeFilter(AbstractResource.class));\n@@ -202,8 +205,8 @@ public void load() {\n                         addClass(UserFormFinalizer.class.getName(), clazz);\n                     } else if (BaseSSOLoginFormPanel.class.isAssignableFrom(clazz)) {\n                         addClass(BaseSSOLoginFormPanel.class.getName(), clazz);\n-                    } else if (ReportletConf.class.isAssignableFrom(clazz)) {\n-                        addClass(ReportletConf.class.getName(), clazz);\n+                    } else if (ReportConf.class.isAssignableFrom(clazz)) {\n+                        addClass(ReportConf.class.getName(), clazz);\n                     } else if (AccountRuleConf.class.isAssignableFrom(clazz)) {\n                         addClass(AccountRuleConf.class.getName(), clazz);\n                     } else if (PasswordRuleConf.class.isAssignableFrom(clazz)) {"},{"sha":"6ec7d212261457f20f0dab2483e976785ff7e2d3","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/pages/Reports.java","status":"modified","additions":9,"deletions":42,"changes":51,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FReports.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FReports.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FReports.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,22 +18,14 @@\n  */\n package org.apache.syncope.client.console.pages;\n \n-import de.agilecoders.wicket.core.markup.html.bootstrap.tabs.AjaxBootstrapTabbedPanel;\n-import java.util.ArrayList;\n-import java.util.List;\n import org.apache.syncope.client.console.BookmarkablePageLinkBuilder;\n import org.apache.syncope.client.console.panels.MultilevelPanel;\n import org.apache.syncope.client.console.reports.ReportDirectoryPanel;\n import org.apache.syncope.client.console.reports.ReportExecutionDetails;\n-import org.apache.syncope.client.console.reports.ReportTemplateDirectoryPanel;\n import org.apache.syncope.common.lib.to.ReportTO;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.extensions.markup.html.tabs.AbstractTab;\n-import org.apache.wicket.extensions.markup.html.tabs.ITab;\n import org.apache.wicket.markup.html.WebMarkupContainer;\n-import org.apache.wicket.markup.html.panel.Panel;\n import org.apache.wicket.model.Model;\n-import org.apache.wicket.model.ResourceModel;\n import org.apache.wicket.model.StringResourceModel;\n import org.apache.wicket.request.mapper.parameter.PageParameters;\n \n@@ -49,46 +41,21 @@ public Reports(final PageParameters parameters) {\n         WebMarkupContainer content = new WebMarkupContainer(\"content\");\n         content.setOutputMarkupId(true);\n         content.setMarkupId(\"reports\");\n-        content.add(new AjaxBootstrapTabbedPanel<>(\"tabbedPanel\", buildTabList()));\n         body.add(content);\n-    }\n-\n-    private List<ITab> buildTabList() {\n-        List<ITab> tabs = new ArrayList<>();\n \n-        tabs.add(new AbstractTab(new ResourceModel(\"reports\")) {\n+        MultilevelPanel reportsPanel = new MultilevelPanel(\"reportsPanel\");\n+        reportsPanel.setFirstLevel(new ReportDirectoryPanel(getPageReference()) {\n \n-            private static final long serialVersionUID = -6815067322125799251L;\n+            private static final long serialVersionUID = -2195387360323687302L;\n \n             @Override\n-            public Panel getPanel(final String panelId) {\n-                MultilevelPanel mlp = new MultilevelPanel(panelId);\n-                mlp.setFirstLevel(new ReportDirectoryPanel(getPageReference()) {\n-\n-                    private static final long serialVersionUID = -2195387360323687302L;\n-\n-                    @Override\n-                    protected void viewReportExecs(final ReportTO reportTO, final AjaxRequestTarget target) {\n-                        mlp.next(\n-                                new StringResourceModel(\"report.view\", this, new Model<>(reportTO)).getObject(),\n-                                new ReportExecutionDetails(reportTO, getPageReference()),\n-                                target);\n-                    }\n-                });\n-                return mlp;\n+            protected void viewReportExecs(final ReportTO reportTO, final AjaxRequestTarget target) {\n+                reportsPanel.next(\n+                        new StringResourceModel(\"report.view\", this, new Model<>(reportTO)).getObject(),\n+                        new ReportExecutionDetails(reportTO, getPageReference()),\n+                        target);\n             }\n         });\n-\n-        tabs.add(new AbstractTab(new ResourceModel(\"report.templates\")) {\n-\n-            private static final long serialVersionUID = -6815067322125799251L;\n-\n-            @Override\n-            public Panel getPanel(final String panelId) {\n-                return new ReportTemplateDirectoryPanel(panelId, getPageReference());\n-            }\n-        });\n-\n-        return tabs;\n+        content.add(reportsPanel);\n     }\n }"},{"sha":"aeda4ae6662c5d2e0a548067f572a4b9de91970d","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/DashboardControlPanel.java","status":"modified","additions":0,"deletions":9,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDashboardControlPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDashboardControlPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDashboardControlPanel.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -19,7 +19,6 @@\n package org.apache.syncope.client.console.panels;\n \n import org.apache.syncope.client.console.widgets.JobWidget;\n-import org.apache.syncope.client.console.widgets.ReconciliationWidget;\n import org.apache.syncope.common.lib.types.IdRepoEntitlement;\n import org.apache.wicket.Component;\n import org.apache.wicket.PageReference;\n@@ -40,13 +39,5 @@ public DashboardControlPanel(final String id, final PageReference pageRef) {\n                         IdRepoEntitlement.TASK_LIST,\n                         IdRepoEntitlement.REPORT_LIST));\n         add(job);\n-\n-        ReconciliationWidget reconciliation = new ReconciliationWidget(\"reconciliation\", pageRef);\n-        MetaDataRoleAuthorizationStrategy.authorize(job, Component.RENDER,\n-                String.format(\"%s,%s,%s\",\n-                        IdRepoEntitlement.REPORT_EXECUTE,\n-                        IdRepoEntitlement.REPORT_READ,\n-                        IdRepoEntitlement.REPORT_LIST));\n-        add(reconciliation);\n     }\n }"},{"sha":"c6f72fa274c1a156b9dfd6b09fbde5d1d55f5317","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/TogglePanel.java","status":"modified","additions":0,"deletions":3,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FTogglePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FTogglePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FTogglePanel.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -22,7 +22,6 @@\n import java.util.Optional;\n import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.client.console.policies.PolicyRuleWrapper;\n-import org.apache.syncope.client.console.reports.ReportletWrapper;\n import org.apache.syncope.client.console.wizards.WizardMgtPanel;\n import org.apache.syncope.client.ui.commons.Constants;\n import org.apache.syncope.client.ui.commons.status.StatusBean;\n@@ -176,8 +175,6 @@ protected String getTargetKey(final Serializable modelObject) {\n                     ? ((StatusBean) modelObject).getResource() : ((StatusBean) modelObject).getKey();\n         } else if (modelObject instanceof PolicyRuleWrapper) {\n             key = ((PolicyRuleWrapper) modelObject).getConf().getName();\n-        } else if (modelObject instanceof ReportletWrapper) {\n-            key = ((ReportletWrapper) modelObject).getConf().getName();\n         } else if (modelObject instanceof JobTO) {\n             key = ((JobTO) modelObject).getRefKey() == null\n                     ? ((JobTO) modelObject).getRefDesc() : ((JobTO) modelObject).getRefKey();"},{"sha":"ecf734162ae61be99607bbc96d12c6bda3bd4a80","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/reports/ReportDirectoryPanel.java","status":"modified","additions":6,"deletions":15,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -43,6 +43,7 @@\n import org.apache.syncope.client.console.widgets.JobActionPanel;\n import org.apache.syncope.client.ui.commons.Constants;\n import org.apache.syncope.client.ui.commons.DirectoryDataProvider;\n+import org.apache.syncope.client.ui.commons.MIMETypesLoader;\n import org.apache.syncope.client.ui.commons.wizards.AjaxWizard;\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.to.JobTO;\n@@ -66,6 +67,7 @@\n import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.Model;\n import org.apache.wicket.model.StringResourceModel;\n+import org.apache.wicket.spring.injection.annot.SpringBean;\n \n /**\n  * Reports page.\n@@ -77,11 +79,14 @@\n \n     private final ReportStartAtTogglePanel startAt;\n \n+    @SpringBean\n+    private MIMETypesLoader mimeTypesLoader;\n+\n     protected ReportDirectoryPanel(final PageReference pageRef) {\n         super(MultilevelPanel.FIRST_LEVEL_ID, pageRef, true);\n         restClient = new ReportRestClient();\n \n-        addNewItemPanelBuilder(new ReportWizardBuilder(new ReportTO(), pageRef), true);\n+        addNewItemPanelBuilder(new ReportWizardBuilder(new ReportTO(), mimeTypesLoader, pageRef), true);\n         MetaDataRoleAuthorizationStrategy.authorize(addAjaxLink, RENDER, IdRepoEntitlement.REPORT_CREATE);\n \n         modal.size(Modal.Size.Large);\n@@ -212,20 +217,6 @@ public void onClick(final AjaxRequestTarget target, final ReportTO ignore) {\n             }\n         }, ActionLink.ActionType.CLONE, IdRepoEntitlement.REPORT_CREATE);\n \n-        panel.add(new ActionLink<>() {\n-\n-            private static final long serialVersionUID = -3722207913631435501L;\n-\n-            @Override\n-            public void onClick(final AjaxRequestTarget target, final ReportTO ignore) {\n-                target.add(modal.setContent(new ReportletDirectoryPanel(modal, model.getObject().getKey(), pageRef)));\n-\n-                modal.header(new StringResourceModel(\n-                        \"reportlet.conf\", ReportDirectoryPanel.this, Model.of(model.getObject())));\n-                modal.show(true);\n-            }\n-        }, ActionLink.ActionType.COMPOSE, IdRepoEntitlement.REPORT_UPDATE);\n-\n         panel.add(new ActionLink<>() {\n \n             private static final long serialVersionUID = -3722207913631435501L;"},{"sha":"180ba42903a2db96474dd98e6a43f3b46be8bfc8","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/reports/ReportExecutionDetails.java","status":"modified","additions":2,"deletions":51,"changes":53,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportExecutionDetails.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportExecutionDetails.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportExecutionDetails.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -29,7 +29,6 @@\n import org.apache.syncope.common.lib.to.ExecTO;\n import org.apache.syncope.common.lib.to.ReportTO;\n import org.apache.syncope.common.lib.types.IdRepoEntitlement;\n-import org.apache.syncope.common.lib.types.ReportExecExportFormat;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.model.IModel;\n@@ -86,58 +85,10 @@ protected void addFurtherActions(final ActionsPanel<ExecTO> panel, final IModel<\n                 @Override\n                 public void onClick(final AjaxRequestTarget target, final ExecTO ignore) {\n                     downloadBehavior.setResponse(new ResponseHolder(ReportRestClient.exportExecutionResult(\n-                            model.getObject().getKey(), ReportExecExportFormat.CSV)));\n+                            model.getObject().getKey())));\n                     downloadBehavior.initiate(target);\n                 }\n-            }, ActionLink.ActionType.EXPORT_CSV, IdRepoEntitlement.REPORT_READ);\n-\n-            panel.add(new ActionLink<>() {\n-\n-                private static final long serialVersionUID = -3722207913631435501L;\n-\n-                @Override\n-                public void onClick(final AjaxRequestTarget target, final ExecTO ignore) {\n-                    downloadBehavior.setResponse(new ResponseHolder(ReportRestClient.exportExecutionResult(\n-                            model.getObject().getKey(), ReportExecExportFormat.HTML)));\n-                    downloadBehavior.initiate(target);\n-                }\n-            }, ActionLink.ActionType.EXPORT_HTML, IdRepoEntitlement.REPORT_READ);\n-\n-            panel.add(new ActionLink<>() {\n-\n-                private static final long serialVersionUID = -3722207913631435501L;\n-\n-                @Override\n-                public void onClick(final AjaxRequestTarget target, final ExecTO ignore) {\n-                    downloadBehavior.setResponse(new ResponseHolder(ReportRestClient.exportExecutionResult(\n-                            model.getObject().getKey(), ReportExecExportFormat.PDF)));\n-                    downloadBehavior.initiate(target);\n-                }\n-            }, ActionLink.ActionType.EXPORT_PDF, IdRepoEntitlement.REPORT_READ);\n-\n-            panel.add(new ActionLink<>() {\n-\n-                private static final long serialVersionUID = -3722207913631435501L;\n-\n-                @Override\n-                public void onClick(final AjaxRequestTarget target, final ExecTO ignore) {\n-                    downloadBehavior.setResponse(new ResponseHolder(ReportRestClient.exportExecutionResult(\n-                            model.getObject().getKey(), ReportExecExportFormat.RTF)));\n-                    downloadBehavior.initiate(target);\n-                }\n-            }, ActionLink.ActionType.EXPORT_RTF, IdRepoEntitlement.REPORT_READ);\n-\n-            panel.add(new ActionLink<>() {\n-\n-                private static final long serialVersionUID = -3722207913631435501L;\n-\n-                @Override\n-                public void onClick(final AjaxRequestTarget target, final ExecTO ignore) {\n-                    downloadBehavior.setResponse(new ResponseHolder(ReportRestClient.exportExecutionResult(\n-                            model.getObject().getKey(), ReportExecExportFormat.XML)));\n-                    downloadBehavior.initiate(target);\n-                }\n-            }, ActionLink.ActionType.EXPORT_XML, IdRepoEntitlement.REPORT_READ);\n+            }, ActionLink.ActionType.EXPORT, IdRepoEntitlement.REPORT_READ);\n         }\n     }\n }"},{"sha":"0ab4c6ac293ca1cb467109244f240ab68257977e","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/reports/ReportTemplateDirectoryPanel.java","status":"removed","additions":0,"deletions":269,"changes":269,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,269 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.client.console.reports;\n-\n-import de.agilecoders.wicket.core.markup.html.bootstrap.dialog.Modal;\n-import java.util.ArrayList;\n-import java.util.Collection;\n-import java.util.Iterator;\n-import java.util.List;\n-import org.apache.commons.lang3.StringUtils;\n-import org.apache.syncope.client.console.SyncopeConsoleSession;\n-import org.apache.syncope.client.console.commons.IdRepoConstants;\n-import org.apache.syncope.client.console.commons.SortableDataProviderComparator;\n-import org.apache.syncope.client.console.commons.TemplateContent;\n-import org.apache.syncope.client.console.notifications.TemplateModal;\n-import org.apache.syncope.client.console.pages.BasePage;\n-import org.apache.syncope.client.console.panels.DirectoryPanel;\n-import org.apache.syncope.client.console.reports.ReportTemplateDirectoryPanel.ReportTemplateProvider;\n-import org.apache.syncope.client.console.rest.ReportRestClient;\n-import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n-import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n-import org.apache.syncope.client.console.wicket.markup.html.form.ActionsPanel;\n-import org.apache.syncope.client.console.wicket.markup.html.form.XMLEditorPanel;\n-import org.apache.syncope.client.ui.commons.Constants;\n-import org.apache.syncope.client.ui.commons.DirectoryDataProvider;\n-import org.apache.syncope.client.ui.commons.pages.BaseWebPage;\n-import org.apache.syncope.client.ui.commons.panels.WizardModalPanel;\n-import org.apache.syncope.client.ui.commons.wizards.AbstractModalPanelBuilder;\n-import org.apache.syncope.client.ui.commons.wizards.AjaxWizard;\n-import org.apache.syncope.common.lib.SyncopeClientException;\n-import org.apache.syncope.common.lib.to.ReportTemplateTO;\n-import org.apache.syncope.common.lib.types.IdRepoEntitlement;\n-import org.apache.syncope.common.lib.types.ReportTemplateFormat;\n-import org.apache.wicket.PageReference;\n-import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.markup.html.repeater.data.sort.SortOrder;\n-import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n-import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n-import org.apache.wicket.model.IModel;\n-import org.apache.wicket.model.PropertyModel;\n-import org.apache.wicket.model.ResourceModel;\n-import org.apache.wicket.model.StringResourceModel;\n-\n-public class ReportTemplateDirectoryPanel\n-        extends DirectoryPanel<ReportTemplateTO, ReportTemplateTO, ReportTemplateProvider, ReportRestClient> {\n-\n-    private static final long serialVersionUID = -3789392431954221446L;\n-\n-    protected final BaseModal<String> utilityModal = new BaseModal<>(Constants.OUTER);\n-\n-    public ReportTemplateDirectoryPanel(final String id, final PageReference pageRef) {\n-        super(id, pageRef);\n-        disableCheckBoxes();\n-\n-        modal.size(Modal.Size.Small);\n-        modal.addSubmitButton();\n-        modal.setWindowClosedCallback(target -> {\n-            updateResultTable(target);\n-            modal.show(false);\n-        });\n-        setFooterVisibility(true);\n-\n-        addOuterObject(utilityModal);\n-        setWindowClosedReloadCallback(utilityModal);\n-        utilityModal.size(Modal.Size.Large);\n-        utilityModal.addSubmitButton();\n-\n-        restClient = new ReportRestClient();\n-        addNewItemPanelBuilder(new AbstractModalPanelBuilder<ReportTemplateTO>(new ReportTemplateTO(), pageRef) {\n-\n-            private static final long serialVersionUID = 1995192603527154740L;\n-\n-            @Override\n-            public WizardModalPanel<ReportTemplateTO> build(\n-                    final String id, final int index, final AjaxWizard.Mode mode) {\n-\n-                return new TemplateModal<>(modal, restClient, new ReportTemplateTO(), pageRef);\n-            }\n-        }, true);\n-\n-        initResultTable();\n-\n-        MetaDataRoleAuthorizationStrategy.authorize(addAjaxLink, RENDER, IdRepoEntitlement.REPORT_TEMPLATE_CREATE);\n-    }\n-\n-    @Override\n-    protected List<IColumn<ReportTemplateTO, String>> getColumns() {\n-        List<IColumn<ReportTemplateTO, String>> columns = new ArrayList<>();\n-        columns.add(new PropertyColumn<>(\n-                new StringResourceModel(Constants.KEY_FIELD_NAME, this),\n-                Constants.KEY_FIELD_NAME, Constants.KEY_FIELD_NAME));\n-        return columns;\n-    }\n-\n-    @Override\n-    public ActionsPanel<ReportTemplateTO> getActions(final IModel<ReportTemplateTO> model) {\n-        final ActionsPanel<ReportTemplateTO> panel = super.getActions(model);\n-\n-        panel.add(new ActionLink<>() {\n-\n-            private static final long serialVersionUID = -7978723352517770645L;\n-\n-            @Override\n-            public void onClick(final AjaxRequestTarget target, final ReportTemplateTO ignore) {\n-                TemplateContent<ReportTemplateFormat> content = new TemplateContent<>(model.getObject().getKey(),\n-                    ReportTemplateFormat.FO);\n-                content.setContent(\n-                    restClient.readTemplateFormat(model.getObject().getKey(), ReportTemplateFormat.FO));\n-\n-                utilityModal.header(new ResourceModel(\"report.template.fo\", \"XSLT for XSL-FO\"));\n-                utilityModal.setContent(new TemplateContentEditorPanel(content, pageRef));\n-                utilityModal.show(true);\n-                target.add(utilityModal);\n-            }\n-        }, ActionLink.ActionType.FO_EDIT, IdRepoEntitlement.REPORT_TEMPLATE_UPDATE);\n-\n-        panel.add(new ActionLink<>() {\n-\n-            private static final long serialVersionUID = -7978723352517770645L;\n-\n-            @Override\n-            public void onClick(final AjaxRequestTarget target, final ReportTemplateTO ignore) {\n-                TemplateContent<ReportTemplateFormat> content = new TemplateContent<>(model.getObject().getKey(),\n-                    ReportTemplateFormat.HTML);\n-                content.setContent(\n-                    restClient.readTemplateFormat(model.getObject().getKey(), ReportTemplateFormat.HTML));\n-\n-                utilityModal.header(new ResourceModel(\"report.template.html\", \"XSLT for HTML\"));\n-                utilityModal.setContent(new TemplateContentEditorPanel(content, pageRef));\n-                utilityModal.show(true);\n-                target.add(utilityModal);\n-            }\n-        }, ActionLink.ActionType.HTML, IdRepoEntitlement.REPORT_TEMPLATE_UPDATE);\n-\n-        panel.add(new ActionLink<>() {\n-\n-            private static final long serialVersionUID = -7978723352517770645L;\n-\n-            @Override\n-            public void onClick(final AjaxRequestTarget target, final ReportTemplateTO ignore) {\n-                TemplateContent<ReportTemplateFormat> content = new TemplateContent<>(model.getObject().getKey(),\n-                    ReportTemplateFormat.CSV);\n-                content.setContent(\n-                    restClient.readTemplateFormat(model.getObject().getKey(), ReportTemplateFormat.CSV));\n-\n-                utilityModal.header(new ResourceModel(\"report.template.csv\", \"XSLT for CSV\"));\n-                utilityModal.setContent(new TemplateContentEditorPanel(content, pageRef));\n-                utilityModal.show(true);\n-                target.add(utilityModal);\n-            }\n-        }, ActionLink.ActionType.TEXT, IdRepoEntitlement.REPORT_TEMPLATE_UPDATE);\n-\n-        panel.add(new ActionLink<>() {\n-\n-            private static final long serialVersionUID = -3722207913631435501L;\n-\n-            @Override\n-            public void onClick(final AjaxRequestTarget target, final ReportTemplateTO ignore) {\n-                try {\n-                    restClient.deleteTemplate(model.getObject().getKey());\n-                    SyncopeConsoleSession.get().success(getString(Constants.OPERATION_SUCCEEDED));\n-                    target.add(container);\n-                } catch (SyncopeClientException e) {\n-                    LOG.error(\"While deleting object {}\", model.getObject().getKey(), e);\n-                    SyncopeConsoleSession.get().onException(e);\n-                }\n-                ((BasePage) pageRef.getPage()).getNotificationPanel().refresh(target);\n-            }\n-        }, ActionLink.ActionType.DELETE, IdRepoEntitlement.REPORT_TEMPLATE_DELETE, true);\n-\n-        return panel;\n-    }\n-\n-    @Override\n-    protected ReportTemplateProvider dataProvider() {\n-        return new ReportTemplateProvider(rows);\n-    }\n-\n-    @Override\n-    protected String paginatorRowsKey() {\n-        return IdRepoConstants.PREF_REPORT_TEMPLATE_PAGINATOR_ROWS;\n-    }\n-\n-    @Override\n-    protected Collection<ActionLink.ActionType> getBatches() {\n-        return List.of();\n-    }\n-\n-    protected final class ReportTemplateProvider extends DirectoryDataProvider<ReportTemplateTO> {\n-\n-        private static final long serialVersionUID = -276043813563988590L;\n-\n-        private final SortableDataProviderComparator<ReportTemplateTO> comparator;\n-\n-        public ReportTemplateProvider(final int paginatorRows) {\n-            super(paginatorRows);\n-            setSort(Constants.KEY_FIELD_NAME, SortOrder.ASCENDING);\n-            comparator = new SortableDataProviderComparator<>(this);\n-        }\n-\n-        @Override\n-        public Iterator<ReportTemplateTO> iterator(final long first, final long count) {\n-            List<ReportTemplateTO> list = restClient.listTemplates();\n-            list.sort(comparator);\n-            return list.subList((int) first, (int) first + (int) count).iterator();\n-        }\n-\n-        @Override\n-        public long size() {\n-            return restClient.listTemplates().size();\n-        }\n-\n-        @Override\n-        public IModel<ReportTemplateTO> model(final ReportTemplateTO reportTemplateTO) {\n-            return () -> reportTemplateTO;\n-        }\n-    }\n-\n-    private class TemplateContentEditorPanel extends XMLEditorPanel {\n-\n-        private static final long serialVersionUID = -3528875878627216097L;\n-\n-        private final TemplateContent<ReportTemplateFormat> content;\n-\n-        TemplateContentEditorPanel(\n-                final TemplateContent<ReportTemplateFormat> content,\n-                final PageReference pageRef) {\n-\n-            super(utilityModal, new PropertyModel<>(content, \"content\"), false, pageRef);\n-            this.content = content;\n-        }\n-\n-        @Override\n-        public void onSubmit(final AjaxRequestTarget target) {\n-            if (StringUtils.isBlank(content.getContent())) {\n-                SyncopeConsoleSession.get().error(\"No content to save\");\n-            } else {\n-                try {\n-                    restClient.updateTemplateFormat(\n-                            content.getKey(), content.getContent(), content.getFormat());\n-                    SyncopeConsoleSession.get().success(getString(Constants.OPERATION_SUCCEEDED));\n-                    modal.show(false);\n-                    modal.close(target);\n-                } catch (Exception e) {\n-                    LOG.error(\"While updating template for {}\", content.getKey(), e);\n-                    SyncopeConsoleSession.get().onException(e);\n-                }\n-            }\n-            ((BaseWebPage) pageRef.getPage()).getNotificationPanel().refresh(target);\n-        }\n-    }\n-}"},{"sha":"5d20aa83e4355ad0516b11ceefccbe996ae2b5d4","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/reports/ReportWizardBuilder.java","status":"modified","additions":124,"deletions":22,"changes":146,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportWizardBuilder.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,48 +18,101 @@\n  */\n package org.apache.syncope.client.console.reports;\n \n+import com.fasterxml.jackson.databind.json.JsonMapper;\n import java.io.Serializable;\n-import java.util.stream.Collectors;\n+import java.util.List;\n+import java.util.Optional;\n+import org.apache.syncope.client.console.SyncopeWebApplication;\n+import org.apache.syncope.client.console.panels.BeanPanel;\n+import org.apache.syncope.client.console.rest.ImplementationRestClient;\n import org.apache.syncope.client.console.rest.ReportRestClient;\n import org.apache.syncope.client.console.tasks.CrontabPanel;\n import org.apache.syncope.client.console.wizards.BaseAjaxWizardBuilder;\n import org.apache.syncope.client.ui.commons.Constants;\n+import org.apache.syncope.client.ui.commons.MIMETypesLoader;\n+import org.apache.syncope.client.ui.commons.ajax.form.IndicatorAjaxFormComponentUpdatingBehavior;\n import org.apache.syncope.client.ui.commons.markup.html.form.AjaxCheckBoxPanel;\n import org.apache.syncope.client.ui.commons.markup.html.form.AjaxDropDownChoicePanel;\n import org.apache.syncope.client.ui.commons.markup.html.form.AjaxTextFieldPanel;\n+import org.apache.syncope.common.lib.report.ReportConf;\n+import org.apache.syncope.common.lib.to.ImplementationTO;\n import org.apache.syncope.common.lib.to.ReportTO;\n-import org.apache.syncope.common.lib.to.ReportTemplateTO;\n+import org.apache.syncope.common.lib.types.IdRepoImplementationType;\n+import org.apache.syncope.common.lib.types.ImplementationEngine;\n import org.apache.wicket.PageReference;\n+import org.apache.wicket.WicketRuntimeException;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.extensions.wizard.WizardModel;\n import org.apache.wicket.extensions.wizard.WizardStep;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.Model;\n import org.apache.wicket.model.PropertyModel;\n \n public class ReportWizardBuilder extends BaseAjaxWizardBuilder<ReportTO> {\n \n     private static final long serialVersionUID = 5945391813567245081L;\n \n-    private final ReportRestClient restClient = new ReportRestClient();\n+    protected static final JsonMapper MAPPER = JsonMapper.builder().findAndAddModules().build();\n+\n+    private final MIMETypesLoader mimeTypesLoader;\n+\n+    private final Model<ReportConf> conf = new Model<>();\n \n     private CrontabPanel crontabPanel;\n \n-    public ReportWizardBuilder(final ReportTO reportTO, final PageReference pageRef) {\n+    public ReportWizardBuilder(\n+            final ReportTO reportTO,\n+            final MIMETypesLoader mimeTypesLoader,\n+            final PageReference pageRef) {\n+\n         super(reportTO, pageRef);\n+        this.mimeTypesLoader = mimeTypesLoader;\n     }\n \n     @Override\n     protected Serializable onApplyInternal(final ReportTO modelObject) {\n+        if (conf.getObject() != null) {\n+            try {\n+                ImplementationTO implementation = ImplementationRestClient.read(\n+                        IdRepoImplementationType.REPORT_DELEGATE, modelObject.getJobDelegate());\n+                if (implementation.getEngine() == ImplementationEngine.JAVA) {\n+                    implementation.setBody(MAPPER.writeValueAsString(conf.getObject()));\n+                    ImplementationRestClient.update(implementation);\n+                }\n+            } catch (Exception e) {\n+                throw new WicketRuntimeException(e);\n+            }\n+        }\n+\n         modelObject.setCronExpression(crontabPanel.getCronExpression());\n+\n         if (modelObject.getKey() == null) {\n             ReportRestClient.create(modelObject);\n         } else {\n             ReportRestClient.update(modelObject);\n         }\n+\n         return modelObject;\n     }\n \n     @Override\n     protected WizardModel buildModelSteps(final ReportTO modelObject, final WizardModel wizardModel) {\n+        if (modelObject.getJobDelegate() != null) {\n+            try {\n+                ImplementationTO implementation = ImplementationRestClient.read(\n+                        IdRepoImplementationType.REPORT_DELEGATE, modelObject.getJobDelegate());\n+                if (implementation.getEngine() == ImplementationEngine.JAVA) {\n+                    conf.setObject(MAPPER.readValue(implementation.getBody(), ReportConf.class));\n+                } else {\n+                    conf.setObject(null);\n+                }\n+            } catch (Exception e) {\n+                LOG.error(\"Could not read or parse {}\", modelObject.getJobDelegate(), e);\n+            }\n+        }\n+\n         wizardModel.add(new Profile(modelObject));\n+        wizardModel.add(new Configuration());\n         wizardModel.add(new Schedule(modelObject));\n         return wizardModel;\n     }\n@@ -68,38 +121,87 @@ public class Profile extends WizardStep {\n \n         private static final long serialVersionUID = -3043839139187792810L;\n \n-        public Profile(final ReportTO reportTO) {\n+        private final IModel<List<String>> reportJobDelegates = SyncopeWebApplication.get().\n+                getImplementationInfoProvider().getReportJobDelegates();\n+\n+        public Profile(final ReportTO modelObject) {\n             AjaxTextFieldPanel name = new AjaxTextFieldPanel(\n                     Constants.NAME_FIELD_NAME, Constants.NAME_FIELD_NAME,\n-                    new PropertyModel<>(reportTO, Constants.NAME_FIELD_NAME), false);\n-            name.addRequiredLabel();\n-            name.setEnabled(true);\n-            add(name);\n-\n-            AjaxDropDownChoicePanel<String> template = new AjaxDropDownChoicePanel<>(\n-                    \"template\", getString(\"template\"),\n-                    new PropertyModel<>(reportTO, \"template\"));\n-            template.setChoices(restClient.listTemplates().stream().\n-                    map(ReportTemplateTO::getKey).collect(Collectors.toList()));\n-\n-            template.addRequiredLabel();\n-            add(template);\n+                    new PropertyModel<>(modelObject, Constants.NAME_FIELD_NAME), false);\n+            add(name.addRequiredLabel().setEnabled(true));\n \n             AjaxCheckBoxPanel active = new AjaxCheckBoxPanel(\n-                    \"active\", \"active\", new PropertyModel<>(reportTO, \"active\"), false);\n+                    \"active\", \"active\", new PropertyModel<>(modelObject, \"active\"), false);\n             add(active);\n+\n+            AjaxTextFieldPanel mimeType = new AjaxTextFieldPanel(\n+                    \"mimeType\", \"mimeType\", new PropertyModel<>(modelObject, \"mimeType\"));\n+            mimeType.setChoices(mimeTypesLoader.getMimeTypes());\n+            add(mimeType.addRequiredLabel());\n+\n+            AjaxTextFieldPanel fileExt = new AjaxTextFieldPanel(\n+                    \"fileExt\", \"fileExt\", new PropertyModel<>(modelObject, \"fileExt\"));\n+            add(fileExt.addRequiredLabel());\n+            mimeType.getField().add(new IndicatorAjaxFormComponentUpdatingBehavior(Constants.ON_CHANGE) {\n+\n+                private static final long serialVersionUID = -6139318907146065915L;\n+\n+                @Override\n+                protected void onUpdate(final AjaxRequestTarget target) {\n+                    Optional.ofNullable(mimeTypesLoader.getFileExt(mimeType.getModelObject())).\n+                            ifPresent(fileExt::setModelObject);\n+                    target.add(fileExt);\n+                }\n+            });\n+\n+            AjaxDropDownChoicePanel<String> jobDelegate = new AjaxDropDownChoicePanel<>(\n+                    \"jobDelegate\", \"jobDelegate\", new PropertyModel<>(modelObject, \"jobDelegate\"), false);\n+            jobDelegate.setChoices(reportJobDelegates.getObject());\n+            add(jobDelegate.addRequiredLabel().setEnabled(modelObject.getKey() == null));\n+            jobDelegate.getField().add(new IndicatorAjaxFormComponentUpdatingBehavior(Constants.ON_CHANGE) {\n+\n+                private static final long serialVersionUID = -6139318907146065915L;\n+\n+                @Override\n+                protected void onUpdate(final AjaxRequestTarget target) {\n+                    try {\n+                        ImplementationTO implementation = ImplementationRestClient.read(\n+                                IdRepoImplementationType.REPORT_DELEGATE, jobDelegate.getModelObject());\n+                        if (implementation.getEngine() == ImplementationEngine.JAVA) {\n+                            conf.setObject(MAPPER.readValue(implementation.getBody(), ReportConf.class));\n+                        } else {\n+                            conf.setObject(null);\n+                        }\n+                    } catch (Exception e) {\n+                        LOG.error(\"Could not read or parse {}\", jobDelegate.getModelObject(), e);\n+                    }\n+                }\n+            });\n+        }\n+    }\n+\n+    public class Configuration extends WizardStep implements WizardModel.ICondition {\n+\n+        private static final long serialVersionUID = -785981096328637758L;\n+\n+        public Configuration() {\n+            add(new BeanPanel<>(\"bean\", conf, pageRef).setRenderBodyOnly(true));\n+        }\n+\n+        @Override\n+        public boolean evaluate() {\n+            return conf.getObject() != null;\n         }\n     }\n \n     public class Schedule extends WizardStep {\n \n         private static final long serialVersionUID = -785981096328637758L;\n \n-        public Schedule(final ReportTO reportTO) {\n+        public Schedule(final ReportTO modelObject) {\n             crontabPanel = new CrontabPanel(\n-                    \"schedule\", new PropertyModel<>(reportTO, \"cronExpression\"), reportTO.getCronExpression());\n+                    \"schedule\", new PropertyModel<>(modelObject, \"cronExpression\"), modelObject.getCronExpression());\n             add(crontabPanel);\n         }\n-\n     }\n }"},{"sha":"921061bc7eb86ac151b1233f59af6732664aa1a2","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/reports/ReportletDirectoryPanel.java","status":"removed","additions":0,"deletions":270,"changes":270,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,270 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.client.console.reports;\n-\n-import java.io.Serializable;\n-import java.util.ArrayList;\n-import java.util.Collection;\n-import java.util.Iterator;\n-import java.util.List;\n-import java.util.Objects;\n-import java.util.stream.Collectors;\n-import org.apache.syncope.client.console.SyncopeConsoleSession;\n-import org.apache.syncope.client.console.commons.IdRepoConstants;\n-import org.apache.syncope.client.console.commons.SortableDataProviderComparator;\n-import org.apache.syncope.client.console.panels.DirectoryPanel;\n-import org.apache.syncope.client.console.rest.ImplementationRestClient;\n-import org.apache.syncope.client.console.rest.ReportRestClient;\n-import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n-import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n-import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink.ActionType;\n-import org.apache.syncope.client.console.wicket.markup.html.form.ActionsPanel;\n-import org.apache.syncope.client.ui.commons.Constants;\n-import org.apache.syncope.client.ui.commons.DirectoryDataProvider;\n-import org.apache.syncope.client.ui.commons.pages.BaseWebPage;\n-import org.apache.syncope.client.ui.commons.panels.ModalPanel;\n-import org.apache.syncope.client.ui.commons.wizards.AjaxWizard;\n-import org.apache.syncope.common.lib.SyncopeClientException;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.apache.syncope.common.lib.to.ImplementationTO;\n-import org.apache.syncope.common.lib.to.ReportTO;\n-import org.apache.syncope.common.lib.types.IdRepoEntitlement;\n-import org.apache.syncope.common.lib.types.IdRepoImplementationType;\n-import org.apache.syncope.common.lib.types.ImplementationEngine;\n-import org.apache.wicket.PageReference;\n-import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.event.Broadcast;\n-import org.apache.wicket.event.IEvent;\n-import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n-import org.apache.wicket.extensions.markup.html.repeater.data.sort.SortOrder;\n-import org.apache.wicket.extensions.markup.html.repeater.data.table.AbstractColumn;\n-import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n-import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n-import org.apache.wicket.markup.html.basic.Label;\n-import org.apache.wicket.markup.repeater.Item;\n-import org.apache.wicket.model.CompoundPropertyModel;\n-import org.apache.wicket.model.IModel;\n-import org.apache.wicket.model.StringResourceModel;\n-\n-/**\n- * Reportlets page.\n- */\n-public class ReportletDirectoryPanel extends DirectoryPanel<\n-        ReportletWrapper, ReportletWrapper, DirectoryDataProvider<ReportletWrapper>, ReportRestClient>\n-        implements ModalPanel {\n-\n-    private static final long serialVersionUID = 4984337552918213290L;\n-\n-    private final BaseModal<ReportTO> baseModal;\n-\n-    private final String report;\n-\n-    public ReportletDirectoryPanel(\n-            final BaseModal<ReportTO> baseModal, final String report, final PageReference pageRef) {\n-\n-        super(BaseModal.CONTENT_ID, pageRef, false);\n-\n-        disableCheckBoxes();\n-\n-        this.baseModal = baseModal;\n-        this.report = report;\n-        this.restClient = new ReportRestClient();\n-\n-        enableUtilityButton();\n-\n-        addNewItemPanelBuilder(new ReportletWizardBuilder(report, new ReportletWrapper(true), pageRef), true);\n-\n-        MetaDataRoleAuthorizationStrategy.authorize(addAjaxLink, RENDER, IdRepoEntitlement.REPORT_UPDATE);\n-        initResultTable();\n-    }\n-\n-    @Override\n-    protected List<IColumn<ReportletWrapper, String>> getColumns() {\n-        List<IColumn<ReportletWrapper, String>> columns = new ArrayList<>();\n-\n-        columns.add(new PropertyColumn<>(\n-                new StringResourceModel(\"reportlet\", this), \"implementationKey\", \"implementationKey\"));\n-\n-        columns.add(new AbstractColumn<>(\n-                new StringResourceModel(\"configuration\", this)) {\n-\n-            private static final long serialVersionUID = -4008579357070833846L;\n-\n-            @Override\n-            public void populateItem(\n-                    final Item<ICellPopulator<ReportletWrapper>> cellItem,\n-                    final String componentId,\n-                    final IModel<ReportletWrapper> rowModel) {\n-\n-                if (rowModel.getObject().getConf() == null) {\n-                    cellItem.add(new Label(componentId, \"\"));\n-                } else {\n-                    cellItem.add(new Label(componentId, rowModel.getObject().getConf().getClass().getName()));\n-                }\n-            }\n-        });\n-\n-        return columns;\n-    }\n-\n-    @Override\n-    public ActionsPanel<ReportletWrapper> getActions(final IModel<ReportletWrapper> model) {\n-        ActionsPanel<ReportletWrapper> panel = super.getActions(model);\n-\n-        panel.add(new ActionLink<>() {\n-\n-            private static final long serialVersionUID = -3722207913631435501L;\n-\n-            @Override\n-            public void onClick(final AjaxRequestTarget target, final ReportletWrapper ignore) {\n-                ReportletDirectoryPanel.this.getTogglePanel().close(target);\n-                if (model.getObject().getConf() == null) {\n-                    SyncopeConsoleSession.get().info(getString(\"noConf\"));\n-                } else {\n-                    send(ReportletDirectoryPanel.this, Broadcast.EXACT,\n-                            new AjaxWizard.EditItemActionEvent<>(model.getObject(), target));\n-                }\n-            }\n-        }, ActionLink.ActionType.EDIT, IdRepoEntitlement.REPORT_UPDATE);\n-\n-        panel.add(new ActionLink<>() {\n-\n-            private static final long serialVersionUID = -3722207913631435501L;\n-\n-            @Override\n-            public void onClick(final AjaxRequestTarget target, final ReportletWrapper ignore) {\n-                ReportletConf reportlet = model.getObject().getConf();\n-                try {\n-                    ReportTO actual = ReportRestClient.read(report);\n-                    actual.getReportlets().remove(model.getObject().getImplementationKey());\n-                    ReportRestClient.update(actual);\n-\n-                    SyncopeConsoleSession.get().success(getString(Constants.OPERATION_SUCCEEDED));\n-                    customActionOnFinishCallback(target);\n-                } catch (SyncopeClientException e) {\n-                    LOG.error(\"While deleting {}\", reportlet.getName(), e);\n-                    SyncopeConsoleSession.get().onException(e);\n-                }\n-                ((BaseWebPage) pageRef.getPage()).getNotificationPanel().refresh(target);\n-            }\n-        }, ActionLink.ActionType.DELETE, IdRepoEntitlement.REPORT_UPDATE);\n-\n-        return panel;\n-    }\n-\n-    @Override\n-    public ActionsPanel<Serializable> getHeader(final String componentId) {\n-        ActionsPanel<Serializable> panel = new ActionsPanel<>(componentId, null);\n-\n-        panel.add(new ActionLink<>() {\n-\n-            private static final long serialVersionUID = -7978723352517770644L;\n-\n-            @Override\n-            public void onClick(final AjaxRequestTarget target, final Serializable ignore) {\n-                if (target != null) {\n-                    customActionOnFinishCallback(target);\n-                }\n-            }\n-        }, ActionLink.ActionType.RELOAD, IdRepoEntitlement.REPORT_READ).hideLabel();\n-        return panel;\n-    }\n-\n-    @Override\n-    protected Collection<ActionType> getBatches() {\n-        return List.of();\n-    }\n-\n-    @Override\n-    protected ReportDataProvider dataProvider() {\n-        return new ReportDataProvider(rows);\n-    }\n-\n-    @Override\n-    protected String paginatorRowsKey() {\n-        return IdRepoConstants.PREF_REPORTLET_PAGINATOR_ROWS;\n-    }\n-\n-    @Override\n-    public void onEvent(final IEvent<?> event) {\n-        super.onEvent(event);\n-        if (event.getPayload() instanceof ExitEvent) {\n-            AjaxRequestTarget target = ExitEvent.class.cast(event.getPayload()).getTarget();\n-            baseModal.show(false);\n-            baseModal.close(target);\n-        }\n-    }\n-\n-    protected class ReportDataProvider extends DirectoryDataProvider<ReportletWrapper> {\n-\n-        private static final long serialVersionUID = 4725679400450513556L;\n-\n-        private final SortableDataProviderComparator<ReportletWrapper> comparator;\n-\n-        public ReportDataProvider(final int paginatorRows) {\n-            super(paginatorRows);\n-\n-            //Default sorting\n-            setSort(\"implementationKey\", SortOrder.ASCENDING);\n-            comparator = new SortableDataProviderComparator<>(this);\n-        }\n-\n-        private List<ReportletWrapper> getReportletWrappers(final ReportTO reportTO) {\n-            return reportTO.getReportlets().stream().map(reportlet -> {\n-                ImplementationTO impl = ImplementationRestClient.read(IdRepoImplementationType.REPORTLET, reportlet);\n-\n-                ReportletWrapper wrapper = new ReportletWrapper(false).\n-                        setImplementationKey(impl.getKey()).\n-                        setImplementationEngine(impl.getEngine());\n-                if (impl.getEngine() == ImplementationEngine.JAVA) {\n-                    try {\n-                        ReportletConf reportletConf = MAPPER.readValue(impl.getBody(), ReportletConf.class);\n-                        wrapper.setConf(reportletConf);\n-                    } catch (Exception e) {\n-                        LOG.error(\"During deserialization\", e);\n-                    }\n-                }\n-\n-                return wrapper;\n-            }).filter(Objects::nonNull).collect(Collectors.toList());\n-        }\n-\n-        @Override\n-        public Iterator<ReportletWrapper> iterator(final long first, final long count) {\n-            ReportTO actual = ReportRestClient.read(report);\n-\n-            List<ReportletWrapper> reportlets = getReportletWrappers(actual);\n-\n-            reportlets.sort(comparator);\n-            return reportlets.subList((int) first, (int) (first + count)).iterator();\n-        }\n-\n-        @Override\n-        public long size() {\n-            ReportTO actual = ReportRestClient.read(report);\n-            return getReportletWrappers(actual).size();\n-        }\n-\n-        @Override\n-        public IModel<ReportletWrapper> model(final ReportletWrapper object) {\n-            return new CompoundPropertyModel<>(object);\n-        }\n-    }\n-}"},{"sha":"0339e88557916f36569168ef1df7b80828aaa328","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/reports/ReportletWizardBuilder.java","status":"removed","additions":0,"deletions":174,"changes":174,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,174 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.client.console.reports;\n-\n-import com.fasterxml.jackson.databind.json.JsonMapper;\n-import java.io.Serializable;\n-import java.util.List;\n-import java.util.stream.Collectors;\n-import org.apache.syncope.client.console.panels.BeanPanel;\n-import org.apache.syncope.client.console.panels.search.SearchUtils;\n-import org.apache.syncope.client.console.rest.ImplementationRestClient;\n-import org.apache.syncope.client.console.rest.ReportRestClient;\n-import org.apache.syncope.client.console.wizards.BaseAjaxWizardBuilder;\n-import org.apache.syncope.client.ui.commons.Constants;\n-import org.apache.syncope.client.ui.commons.markup.html.form.AjaxDropDownChoicePanel;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.apache.syncope.common.lib.to.ImplementationTO;\n-import org.apache.syncope.common.lib.to.ReportTO;\n-import org.apache.syncope.common.lib.types.IdRepoImplementationType;\n-import org.apache.syncope.common.lib.types.ImplementationEngine;\n-import org.apache.wicket.PageReference;\n-import org.apache.wicket.WicketRuntimeException;\n-import org.apache.wicket.ajax.AjaxEventBehavior;\n-import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.extensions.wizard.WizardModel;\n-import org.apache.wicket.extensions.wizard.WizardStep;\n-import org.apache.wicket.model.LoadableDetachableModel;\n-import org.apache.wicket.model.PropertyModel;\n-import org.springframework.beans.BeanWrapper;\n-import org.springframework.beans.PropertyAccessorFactory;\n-\n-public class ReportletWizardBuilder extends BaseAjaxWizardBuilder<ReportletWrapper> {\n-\n-    private static final long serialVersionUID = 5945391813567245081L;\n-\n-    private static final JsonMapper MAPPER = JsonMapper.builder().findAndAddModules().build();\n-\n-    private final LoadableDetachableModel<List<ImplementationTO>> reportlets = new LoadableDetachableModel<>() {\n-\n-        private static final long serialVersionUID = 4659376149825914247L;\n-\n-        @Override\n-        protected List<ImplementationTO> load() {\n-            return ImplementationRestClient.list(IdRepoImplementationType.REPORTLET);\n-        }\n-    };\n-\n-    private final String report;\n-\n-    public ReportletWizardBuilder(final String report, final ReportletWrapper reportlet, final PageReference pageRef) {\n-        super(reportlet, pageRef);\n-        this.report = report;\n-    }\n-\n-    @Override\n-    protected Serializable onApplyInternal(final ReportletWrapper modelObject) {\n-        if (modelObject.getImplementationEngine() == ImplementationEngine.JAVA) {\n-            BeanWrapper confWrapper = PropertyAccessorFactory.forBeanPropertyAccess(modelObject.getConf());\n-            modelObject.getSCondWrapper().forEach((fieldName, pair) -> confWrapper.setPropertyValue(\n-                    fieldName, SearchUtils.buildFIQL(pair.getRight(), pair.getLeft())));\n-            reportlets.getObject().stream().\n-                    filter(r -> r.getKey().equals(modelObject.getImplementationKey())).\n-                    findFirst().\n-                    ifPresent(reportlet -> {\n-                        try {\n-                            reportlet.setBody(MAPPER.writeValueAsString(modelObject.getConf()));\n-                            ImplementationRestClient.update(reportlet);\n-                        } catch (Exception e) {\n-                            throw new WicketRuntimeException(e);\n-                        }\n-                    });\n-        }\n-\n-        ReportTO reportTO = ReportRestClient.read(report);\n-        if (modelObject.isNew()) {\n-            reportTO.getReportlets().add(modelObject.getImplementationKey());\n-        }\n-\n-        ReportRestClient.update(reportTO);\n-        return modelObject;\n-    }\n-\n-    @Override\n-    protected WizardModel buildModelSteps(final ReportletWrapper modelObject, final WizardModel wizardModel) {\n-        wizardModel.add(new Profile(modelObject));\n-        wizardModel.add(new Configuration(modelObject));\n-        return wizardModel;\n-    }\n-\n-    public class Profile extends WizardStep {\n-\n-        private static final long serialVersionUID = -3043839139187792810L;\n-\n-        private final ReportletWrapper reportlet;\n-\n-        public Profile(final ReportletWrapper reportlet) {\n-            this.reportlet = reportlet;\n-\n-            AjaxDropDownChoicePanel<String> conf = new AjaxDropDownChoicePanel<>(\n-                    \"reportlet\", getString(\"reportlet\"), new PropertyModel<>(reportlet, \"implementationKey\"));\n-\n-            conf.setChoices(reportlets.getObject().stream().\n-                    map(ImplementationTO::getKey).sorted().collect(Collectors.toList()));\n-            conf.addRequiredLabel();\n-            conf.setNullValid(false);\n-            conf.setEnabled(reportlet.isNew());\n-            conf.add(new AjaxEventBehavior(Constants.ON_CHANGE) {\n-\n-                private static final long serialVersionUID = -7133385027739964990L;\n-\n-                @Override\n-                protected void onEvent(final AjaxRequestTarget target) {\n-                    reportlets.getObject().stream().\n-                            filter(r -> r.getKey().equals(conf.getModelObject())).\n-                            findFirst().\n-                            ifPresent(impl -> {\n-                                reportlet.setImplementationEngine(impl.getEngine());\n-                                if (impl.getEngine() == ImplementationEngine.JAVA) {\n-                                    try {\n-                                        reportlet.setConf(MAPPER.readValue(impl.getBody(), ReportletConf.class));\n-                                    } catch (Exception e) {\n-                                        LOG.error(\"During deserialization\", e);\n-                                    }\n-                                }\n-                            });\n-                }\n-            });\n-            add(conf);\n-        }\n-\n-        @Override\n-        public void applyState() {\n-            if (reportlet.getImplementationEngine() == ImplementationEngine.GROOVY) {\n-                getWizardModel().finish();\n-            }\n-        }\n-    }\n-\n-    public class Configuration extends WizardStep {\n-\n-        private static final long serialVersionUID = -785981096328637758L;\n-\n-        public Configuration(final ReportletWrapper reportlet) {\n-            LoadableDetachableModel<Serializable> bean = new LoadableDetachableModel<>() {\n-\n-                private static final long serialVersionUID = 2092144708018739371L;\n-\n-                @Override\n-                protected Serializable load() {\n-                    return reportlet.getConf();\n-                }\n-            };\n-            add(new BeanPanel<>(\n-                    \"bean\", bean, reportlet.getSCondWrapper(), pageRef, Constants.NAME_FIELD_NAME, \"reportlet\").\n-                    setRenderBodyOnly(true));\n-        }\n-    }\n-}"},{"sha":"574804ab73a9bd9e0b94b450dce3c8d88666f229","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/reports/ReportletWrapper.java","status":"removed","additions":0,"deletions":84,"changes":84,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWrapper.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWrapper.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWrapper.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,84 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.client.console.reports;\n-\n-import java.io.Serializable;\n-import java.util.HashMap;\n-import java.util.List;\n-import java.util.Map;\n-import org.apache.commons.lang3.tuple.Pair;\n-import org.apache.syncope.client.console.panels.search.SearchClause;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.apache.syncope.common.lib.search.AbstractFiqlSearchConditionBuilder;\n-import org.apache.syncope.common.lib.types.ImplementationEngine;\n-\n-public class ReportletWrapper implements Serializable {\n-\n-    private static final long serialVersionUID = 2472755929742424558L;\n-\n-    private final boolean isNew;\n-\n-    private String implementationKey;\n-\n-    private ImplementationEngine implementationEngine;\n-\n-    private ReportletConf conf;\n-\n-    private final Map<String, Pair<AbstractFiqlSearchConditionBuilder<?, ?, ?>, List<SearchClause>>> scondWrapper;\n-\n-    public ReportletWrapper(final boolean isNew) {\n-        this.isNew = isNew;\n-        this.scondWrapper = new HashMap<>();\n-    }\n-\n-    public boolean isNew() {\n-        return isNew;\n-    }\n-\n-    public String getImplementationKey() {\n-        return implementationKey;\n-    }\n-\n-    public ReportletWrapper setImplementationKey(final String implementationKey) {\n-        this.implementationKey = implementationKey;\n-        return this;\n-    }\n-\n-    public ImplementationEngine getImplementationEngine() {\n-        return implementationEngine;\n-    }\n-\n-    public ReportletWrapper setImplementationEngine(final ImplementationEngine implementationEngine) {\n-        this.implementationEngine = implementationEngine;\n-        return this;\n-    }\n-\n-    public ReportletConf getConf() {\n-        return conf;\n-    }\n-\n-    public ReportletWrapper setConf(final ReportletConf conf) {\n-        this.conf = conf;\n-        return this;\n-    }\n-\n-    public Map<String, Pair<AbstractFiqlSearchConditionBuilder<?, ?, ?>, List<SearchClause>>> getSCondWrapper() {\n-        return scondWrapper;\n-    }\n-}"},{"sha":"92c0be1da94dc6bae09bf0cfed0f27ad3904cbb0","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/rest/ReportRestClient.java","status":"modified","additions":3,"deletions":49,"changes":52,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FReportRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FReportRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FReportRestClient.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -20,34 +20,26 @@\n \n import jakarta.ws.rs.core.Response;\n import java.io.IOException;\n-import java.io.InputStream;\n-import java.nio.charset.StandardCharsets;\n import java.util.ArrayList;\n import java.util.Date;\n import java.util.LinkedHashMap;\n import java.util.List;\n import java.util.Map;\n-import org.apache.commons.io.IOUtils;\n import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.client.lib.batch.BatchRequest;\n import org.apache.syncope.client.ui.commons.DateOps;\n import org.apache.syncope.common.lib.to.ExecTO;\n import org.apache.syncope.common.lib.to.JobTO;\n import org.apache.syncope.common.lib.to.ReportTO;\n-import org.apache.syncope.common.lib.to.ReportTemplateTO;\n import org.apache.syncope.common.lib.types.JobAction;\n-import org.apache.syncope.common.lib.types.ReportExecExportFormat;\n-import org.apache.syncope.common.lib.types.ReportTemplateFormat;\n import org.apache.syncope.common.rest.api.batch.BatchRequestItem;\n import org.apache.syncope.common.rest.api.batch.BatchResponseItem;\n import org.apache.syncope.common.rest.api.beans.ExecQuery;\n import org.apache.syncope.common.rest.api.beans.ExecSpecs;\n import org.apache.syncope.common.rest.api.service.ReportService;\n-import org.apache.syncope.common.rest.api.service.ReportTemplateService;\n import org.apache.wicket.extensions.markup.html.repeater.util.SortParam;\n \n-public class ReportRestClient extends BaseRestClient\n-        implements ExecutionRestClient, TemplateRestClient<ReportTemplateTO, ReportTemplateFormat> {\n+public class ReportRestClient extends BaseRestClient implements ExecutionRestClient {\n \n     private static final long serialVersionUID = 1644689667998953604L;\n \n@@ -104,8 +96,8 @@ public List<ExecTO> listRecentExecutions(final int max) {\n         return getService(ReportService.class).listRecentExecutions(max);\n     }\n \n-    public static Response exportExecutionResult(final String executionKey, final ReportExecExportFormat fmt) {\n-        return getService(ReportService.class).exportExecutionResult(executionKey, fmt);\n+    public static Response exportExecutionResult(final String executionKey) {\n+        return getService(ReportService.class).exportExecutionResult(executionKey);\n     }\n \n     @Override\n@@ -122,44 +114,6 @@ public int countExecutions(final String taskKey) {\n                 listExecutions(new ExecQuery.Builder().key(taskKey).page(1).size(0).build()).getTotalCount();\n     }\n \n-    @Override\n-    public List<ReportTemplateTO> listTemplates() {\n-        return getService(ReportTemplateService.class).list();\n-    }\n-\n-    @Override\n-    public void createTemplate(final ReportTemplateTO reportTemplateTO) {\n-        getService(ReportTemplateService.class).create(reportTemplateTO);\n-    }\n-\n-    @Override\n-    public void deleteTemplate(final String key) {\n-        getService(ReportTemplateService.class).delete(key);\n-    }\n-\n-    @Override\n-    public ReportTemplateTO readTemplate(final String key) {\n-        return getService(ReportTemplateService.class).read(key);\n-    }\n-\n-    @Override\n-    public String readTemplateFormat(final String key, final ReportTemplateFormat format) {\n-        try {\n-            return IOUtils.toString(InputStream.class.cast(\n-                    getService(ReportTemplateService.class).getFormat(key, format).getEntity()),\n-                    StandardCharsets.UTF_8);\n-        } catch (Exception e) {\n-            LOG.error(\"Error retrieving report template {} as {}\", key, format, e);\n-            return StringUtils.EMPTY;\n-        }\n-    }\n-\n-    @Override\n-    public void updateTemplateFormat(final String key, final String content, final ReportTemplateFormat format) {\n-        getService(ReportTemplateService.class).setFormat(\n-                key, format, IOUtils.toInputStream(content, StandardCharsets.UTF_8));\n-    }\n-\n     @Override\n     public Map<String, String> batch(final BatchRequest batchRequest) {\n         List<BatchRequestItem> batchRequestItems = new ArrayList<>(batchRequest.getItems());"},{"sha":"f87f1edc6e1210f6eb14dd99f9d66d97a9ecc5e3","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wicket/markup/html/form/ActionLink.java","status":"modified","additions":0,"deletions":5,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -78,11 +78,6 @@ public enum ActionType {\n         SELECT(\"read\"),\n         CLOSE(\"read\"),\n         EXPORT(\"read\"),\n-        EXPORT_CSV(\"read\"),\n-        EXPORT_HTML(\"read\"),\n-        EXPORT_PDF(\"read\"),\n-        EXPORT_RTF(\"read\"),\n-        EXPORT_XML(\"read\"),\n         SUSPEND(\"update\"),\n         REACTIVATE(\"update\"),\n         RELOAD(\"import\"),"},{"sha":"68e3f86f365bbabbd4030f35956963756d2ac127","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wicket/markup/html/form/ActionLinksTogglePanel.java","status":"modified","additions":0,"deletions":3,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksTogglePanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksTogglePanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLinksTogglePanel.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -26,7 +26,6 @@\n import org.apache.syncope.client.console.panels.TogglePanel;\n import org.apache.syncope.client.console.panels.ToggleableTarget;\n import org.apache.syncope.client.console.policies.PolicyRuleWrapper;\n-import org.apache.syncope.client.console.reports.ReportletWrapper;\n import org.apache.syncope.client.console.tasks.CommandWrapper;\n import org.apache.syncope.client.console.wizards.any.GroupWrapper;\n import org.apache.syncope.client.ui.commons.status.StatusBean;\n@@ -104,8 +103,6 @@ public void updateHeader(final AjaxRequestTarget target, final Serializable mode\n             header = ((StatusBean) modelObject).getResource();\n         } else if (modelObject instanceof PolicyRuleWrapper) {\n             header = ((PolicyRuleWrapper) modelObject).getImplementationKey();\n-        } else if (modelObject instanceof ReportletWrapper) {\n-            header = ((ReportletWrapper) modelObject).getImplementationKey();\n         } else if (modelObject instanceof CommandWrapper) {\n             header = ((CommandWrapper) modelObject).getCommand().getKey();\n         } else if (modelObject instanceof JobTO) {"},{"sha":"f557b71543e6697cf057da7392b111d5c76635ac","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/widgets/BaseWidget.java","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FBaseWidget.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FBaseWidget.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FBaseWidget.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -27,5 +27,4 @@ public abstract class BaseWidget extends Panel {\n     public BaseWidget(final String id) {\n         super(id);\n     }\n-\n }"},{"sha":"df6b98fdf5cbad36d217ecbe42fd5b8d7afc0e41","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/widgets/JobWidget.java","status":"modified","additions":6,"deletions":50,"changes":56,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -35,7 +35,6 @@\n import org.apache.syncope.client.console.panels.DirectoryPanel;\n import org.apache.syncope.client.console.panels.ExecMessageModal;\n import org.apache.syncope.client.console.reports.ReportWizardBuilder;\n-import org.apache.syncope.client.console.reports.ReportletDirectoryPanel;\n import org.apache.syncope.client.console.rest.BaseRestClient;\n import org.apache.syncope.client.console.rest.NotificationRestClient;\n import org.apache.syncope.client.console.rest.ReportRestClient;\n@@ -52,6 +51,7 @@\n import org.apache.syncope.client.console.wizards.WizardMgtPanel;\n import org.apache.syncope.client.ui.commons.Constants;\n import org.apache.syncope.client.ui.commons.DirectoryDataProvider;\n+import org.apache.syncope.client.ui.commons.MIMETypesLoader;\n import org.apache.syncope.client.ui.commons.wizards.AjaxWizard;\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.to.ExecTO;\n@@ -83,6 +83,7 @@\n import org.apache.wicket.model.Model;\n import org.apache.wicket.model.ResourceModel;\n import org.apache.wicket.model.StringResourceModel;\n+import org.apache.wicket.spring.injection.annot.SpringBean;\n \n public class JobWidget extends BaseWidget {\n \n@@ -137,6 +138,9 @@ protected void onConfigure() {\n \n     private final List<ExecTO> recent;\n \n+    @SpringBean\n+    private MIMETypesLoader mimeTypesLoader;\n+\n     private RecentExecPanel recentExecPanel;\n \n     public JobWidget(final String id, final PageReference pageRef) {\n@@ -384,7 +388,7 @@ public void onClick(final AjaxRequestTarget target, final JobTO ignore) {\n                         case REPORT:\n                             ReportTO reportTO = ReportRestClient.read(jobTO.getRefKey());\n \n-                            ReportWizardBuilder rwb = new ReportWizardBuilder(reportTO, pageRef);\n+                            ReportWizardBuilder rwb = new ReportWizardBuilder(reportTO, mimeTypesLoader, pageRef);\n                             rwb.setEventSink(AvailableJobsPanel.this);\n \n                             target.add(jobModal.setContent(rwb.build(BaseModal.CONTENT_ID, AjaxWizard.Mode.EDIT)));\n@@ -433,54 +437,6 @@ protected boolean statusCondition(final JobTO modelObject) {\n                 }\n             }, ActionType.EDIT, IdRepoEntitlement.TASK_UPDATE);\n \n-            panel.add(new ActionLink<>() {\n-\n-                private static final long serialVersionUID = -7978723352517770644L;\n-\n-                @Override\n-                public void onClick(final AjaxRequestTarget target, final JobTO ignore) {\n-\n-                    if (null != jobTO.getType()) {\n-                        switch (jobTO.getType()) {\n-\n-                            case NOTIFICATION:\n-                                break;\n-\n-                            case REPORT:\n-\n-                                final ReportTO reportTO = ReportRestClient.read(jobTO.getRefKey());\n-\n-                                target.add(AvailableJobsPanel.this.reportModal.setContent(\n-                                        new ReportletDirectoryPanel(reportModal, jobTO.getRefKey(), pageRef)));\n-\n-                                MetaDataRoleAuthorizationStrategy.authorize(\n-                                        reportModal.getForm(),\n-                                        ENABLE, IdRepoEntitlement.REPORT_UPDATE);\n-\n-                                reportModal.header(new StringResourceModel(\n-                                        \"reportlet.conf\", AvailableJobsPanel.this, new Model<>(reportTO)));\n-\n-                                reportModal.show(true);\n-\n-                                break;\n-\n-                            case TASK:\n-                                break;\n-\n-                            default:\n-                                break;\n-                        }\n-                    }\n-                }\n-\n-                @Override\n-                protected boolean statusCondition(final JobTO modelObject) {\n-                    return !(null != jobTO.getType() && (JobType.TASK.equals(jobTO.getType())\n-                            || JobType.NOTIFICATION.equals(jobTO.getType())));\n-                }\n-\n-            }, ActionType.COMPOSE, IdRepoEntitlement.TASK_UPDATE);\n-\n             panel.add(new ActionLink<>() {\n \n                 private static final long serialVersionUID = -3722207913631435501L;"},{"sha":"37398f6b234092caae7f6a7b471ca1a982acac6d","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/widgets/ReconDetailsModalPanel.java","status":"removed","additions":0,"deletions":178,"changes":178,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconDetailsModalPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconDetailsModalPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconDetailsModalPanel.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,178 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.client.console.widgets;\n-\n-import java.util.ArrayList;\n-import java.util.Collection;\n-import java.util.Iterator;\n-import java.util.List;\n-import org.apache.commons.lang3.StringUtils;\n-import org.apache.syncope.client.console.commons.SortableDataProviderComparator;\n-import org.apache.syncope.client.console.panels.AbstractModalPanel;\n-import org.apache.syncope.client.console.panels.DirectoryPanel;\n-import org.apache.syncope.client.console.rest.BaseRestClient;\n-import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n-import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n-import org.apache.syncope.client.console.widgets.reconciliation.Any;\n-import org.apache.syncope.client.console.widgets.reconciliation.Misaligned;\n-import org.apache.syncope.client.console.wizards.WizardMgtPanel;\n-import org.apache.syncope.client.ui.commons.Constants;\n-import org.apache.syncope.client.ui.commons.DirectoryDataProvider;\n-import org.apache.wicket.AttributeModifier;\n-import org.apache.wicket.PageReference;\n-import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n-import org.apache.wicket.extensions.markup.html.repeater.data.sort.SortOrder;\n-import org.apache.wicket.extensions.markup.html.repeater.data.table.AbstractColumn;\n-import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n-import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n-import org.apache.wicket.markup.html.basic.Label;\n-import org.apache.wicket.markup.repeater.Item;\n-import org.apache.wicket.model.CompoundPropertyModel;\n-import org.apache.wicket.model.IModel;\n-import org.apache.wicket.model.Model;\n-import org.apache.wicket.model.ResourceModel;\n-\n-public class ReconDetailsModalPanel extends AbstractModalPanel<Any> {\n-\n-    private static final long serialVersionUID = 1469396040405535283L;\n-\n-    private static final int ROWS = 10;\n-\n-    private final String resource;\n-\n-    private final List<Misaligned> misaligned;\n-\n-    public ReconDetailsModalPanel(\n-            final BaseModal<Any> modal,\n-            final String resource,\n-            final List<Misaligned> misaligned,\n-            final PageReference pageRef) {\n-\n-        super(modal, pageRef);\n-        this.resource = resource;\n-        this.misaligned = misaligned;\n-\n-        add(new DiffPanel(\"diff\", pageRef));\n-    }\n-\n-    private class DiffPanel extends DirectoryPanel<\n-        Misaligned, Misaligned, DetailsProvider, BaseRestClient> {\n-\n-        private static final long serialVersionUID = -8214546246301342868L;\n-\n-        DiffPanel(final String id, final PageReference pageRef) {\n-            super(id, new Builder<Misaligned, Misaligned, BaseRestClient>(null, pageRef) {\n-\n-                private static final long serialVersionUID = 8769126634538601689L;\n-\n-                @Override\n-                protected WizardMgtPanel<Misaligned> newInstance(final String id, final boolean wizardInModal) {\n-                    throw new UnsupportedOperationException();\n-                }\n-            }.disableCheckBoxes().hidePaginator());\n-\n-            rows = 10;\n-            initResultTable();\n-        }\n-\n-        @Override\n-        protected DetailsProvider dataProvider() {\n-            return new DetailsProvider();\n-        }\n-\n-        @Override\n-        protected String paginatorRowsKey() {\n-            return StringUtils.EMPTY;\n-        }\n-\n-        @Override\n-        protected Collection<ActionLink.ActionType> getBatches() {\n-            return List.of();\n-        }\n-\n-        @Override\n-        protected List<IColumn<Misaligned, String>> getColumns() {\n-            List<IColumn<Misaligned, String>> columns = new ArrayList<>();\n-\n-            columns.add(new PropertyColumn<>(new ResourceModel(Constants.KEY_FIELD_NAME),\n-                    Constants.NAME_FIELD_NAME, Constants.NAME_FIELD_NAME));\n-\n-            columns.add(new AbstractColumn<>(Model.of(Constants.SYNCOPE)) {\n-\n-                private static final long serialVersionUID = 2054811145491901166L;\n-\n-                @Override\n-                public void populateItem(\n-                    final Item<ICellPopulator<Misaligned>> cellItem,\n-                    final String componentId,\n-                    final IModel<Misaligned> rowModel) {\n-\n-                    cellItem.add(new Label(componentId, rowModel.getObject().getOnSyncope().toString()));\n-                    cellItem.add(new AttributeModifier(\"class\", \"code-deletion\"));\n-                }\n-            });\n-\n-            columns.add(new AbstractColumn<>(Model.of(resource)) {\n-\n-                private static final long serialVersionUID = 2054811145491901166L;\n-\n-                @Override\n-                public void populateItem(\n-                    final Item<ICellPopulator<Misaligned>> cellItem,\n-                    final String componentId,\n-                    final IModel<Misaligned> rowModel) {\n-\n-                    cellItem.add(new Label(componentId, rowModel.getObject().getOnResource().toString()));\n-                    cellItem.add(new AttributeModifier(\"class\", \"code-addition\"));\n-                }\n-            });\n-\n-            return columns;\n-        }\n-    }\n-\n-    protected final class DetailsProvider extends DirectoryDataProvider<Misaligned> {\n-\n-        private static final long serialVersionUID = -1500081449932597854L;\n-\n-        private final SortableDataProviderComparator<Misaligned> comparator;\n-\n-        private DetailsProvider() {\n-            super(ROWS);\n-            setSort(Constants.NAME_FIELD_NAME, SortOrder.ASCENDING);\n-            comparator = new SortableDataProviderComparator<>(this);\n-        }\n-\n-        @Override\n-        public Iterator<Misaligned> iterator(final long first, final long count) {\n-            misaligned.sort(comparator);\n-            return misaligned.subList((int) first, (int) first + (int) count).iterator();\n-        }\n-\n-        @Override\n-        public long size() {\n-            return misaligned.size();\n-        }\n-\n-        @Override\n-        public IModel<Misaligned> model(final Misaligned object) {\n-            return new CompoundPropertyModel<>(object);\n-        }\n-    }\n-}"},{"sha":"ab8263381a713a9bb384c1b57af259d5494f922e","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/widgets/ReconciliationWidget.java","status":"removed","additions":0,"deletions":475,"changes":475,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,475 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.client.console.widgets;\n-\n-import de.agilecoders.wicket.core.markup.html.bootstrap.tabs.AjaxBootstrapTabbedPanel;\n-import java.io.IOException;\n-import java.io.InputStream;\n-import java.time.OffsetDateTime;\n-import java.time.temporal.ChronoUnit;\n-import java.util.ArrayList;\n-import java.util.Collection;\n-import java.util.HashSet;\n-import java.util.Iterator;\n-import java.util.List;\n-import java.util.Optional;\n-import java.util.Set;\n-import java.util.stream.Collectors;\n-import org.apache.commons.lang3.StringUtils;\n-import org.apache.commons.lang3.tuple.Pair;\n-import org.apache.syncope.client.console.SyncopeConsoleSession;\n-import org.apache.syncope.client.console.SyncopeWebApplication;\n-import org.apache.syncope.client.console.commons.SortableDataProviderComparator;\n-import org.apache.syncope.client.console.pages.BasePage;\n-import org.apache.syncope.client.console.panels.DirectoryPanel;\n-import org.apache.syncope.client.console.rest.BaseRestClient;\n-import org.apache.syncope.client.console.rest.ReportRestClient;\n-import org.apache.syncope.client.console.wicket.ajax.IndicatorAjaxTimerBehavior;\n-import org.apache.syncope.client.console.wicket.ajax.markup.html.IndicatorAjaxLink;\n-import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n-import org.apache.syncope.client.console.wicket.markup.html.form.Action;\n-import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n-import org.apache.syncope.client.console.wicket.markup.html.form.ActionPanel;\n-import org.apache.syncope.client.console.widgets.reconciliation.Any;\n-import org.apache.syncope.client.console.widgets.reconciliation.Anys;\n-import org.apache.syncope.client.console.widgets.reconciliation.Misaligned;\n-import org.apache.syncope.client.console.widgets.reconciliation.Missing;\n-import org.apache.syncope.client.console.widgets.reconciliation.ReconciliationReport;\n-import org.apache.syncope.client.console.widgets.reconciliation.ReconciliationReportParser;\n-import org.apache.syncope.client.console.wizards.WizardMgtPanel;\n-import org.apache.syncope.client.ui.commons.Constants;\n-import org.apache.syncope.client.ui.commons.DirectoryDataProvider;\n-import org.apache.syncope.common.lib.to.ExecTO;\n-import org.apache.syncope.common.lib.to.ReportTO;\n-import org.apache.syncope.common.lib.types.AnyTypeKind;\n-import org.apache.syncope.common.lib.types.IdRepoEntitlement;\n-import org.apache.syncope.common.lib.types.ReportExecExportFormat;\n-import org.apache.wicket.AttributeModifier;\n-import org.apache.wicket.Component;\n-import org.apache.wicket.PageReference;\n-import org.apache.wicket.ajax.AjaxRequestTarget;\n-import org.apache.wicket.authroles.authorization.strategies.role.metadata.MetaDataRoleAuthorizationStrategy;\n-import org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator;\n-import org.apache.wicket.extensions.markup.html.repeater.data.sort.SortOrder;\n-import org.apache.wicket.extensions.markup.html.repeater.data.table.AbstractColumn;\n-import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n-import org.apache.wicket.extensions.markup.html.tabs.AbstractTab;\n-import org.apache.wicket.extensions.markup.html.tabs.ITab;\n-import org.apache.wicket.markup.html.WebMarkupContainer;\n-import org.apache.wicket.markup.html.basic.Label;\n-import org.apache.wicket.markup.html.panel.Fragment;\n-import org.apache.wicket.markup.html.panel.Panel;\n-import org.apache.wicket.markup.repeater.Item;\n-import org.apache.wicket.model.CompoundPropertyModel;\n-import org.apache.wicket.model.IModel;\n-import org.apache.wicket.model.Model;\n-import org.apache.wicket.model.ResourceModel;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n-\n-public class ReconciliationWidget extends BaseWidget {\n-\n-    private static final long serialVersionUID = -816175678514035085L;\n-\n-    private static final Logger LOG = LoggerFactory.getLogger(ReconciliationWidget.class);\n-\n-    private static final int ROWS = 10;\n-\n-    private final String reconciliationReportKey;\n-\n-    private final BaseModal<Any> detailsModal = new BaseModal<>(\"detailsModal\");\n-\n-    private final PageReference pageRef;\n-\n-    private final ReportRestClient restClient = new ReportRestClient();\n-\n-    private final WebMarkupContainer container;\n-\n-    private final WebMarkupContainer overlay;\n-\n-    private boolean checkReconciliationJob = false;\n-\n-    public ReconciliationWidget(final String id, final PageReference pageRef) {\n-        super(id);\n-        this.pageRef = pageRef;\n-        setOutputMarkupId(true);\n-        add(detailsModal);\n-\n-        container = new WebMarkupContainer(\"reconciliationContainer\");\n-        container.add(new IndicatorAjaxTimerBehavior(java.time.Duration.of(10, ChronoUnit.SECONDS)) {\n-\n-            private static final long serialVersionUID = 7298597675929755960L;\n-\n-            @Override\n-            protected void onTimer(final AjaxRequestTarget target) {\n-                if (isCheckReconciliationJob()) {\n-                    try {\n-                        ReportRestClient.listJobs().stream().\n-                                filter(jobTO -> SyncopeWebApplication.get().\n-                                getReconciliationReportKey().equals(jobTO.getRefKey())).\n-                                findFirst().ifPresent(reportJobTO -> {\n-                                    if (!reportJobTO.isRunning()) {\n-                                        LOG.debug(\"Report {} is not running\",\n-                                                SyncopeWebApplication.get().getReconciliationReportKey());\n-\n-                                        overlay.setVisible(false);\n-\n-                                        container.addOrReplace(buildExecFragment());\n-\n-                                        target.add(ReconciliationWidget.this);\n-                                        setCheckReconciliationJob(false);\n-                                    }\n-                                });\n-                    } catch (Throwable t) {\n-                        LOG.error(\"Unexpected error while checking for updated reconciliation job info\", t);\n-                    }\n-                }\n-            }\n-        });\n-        add(container);\n-\n-        overlay = new WebMarkupContainer(\"overlay\");\n-        overlay.setOutputMarkupPlaceholderTag(true);\n-        overlay.setVisible(false);\n-        container.add(overlay);\n-\n-        this.reconciliationReportKey = SyncopeWebApplication.get().getReconciliationReportKey();\n-\n-        ReportTO reconciliationReport = null;\n-        if (SyncopeConsoleSession.get().owns(IdRepoEntitlement.REPORT_READ)) {\n-            try {\n-                reconciliationReport = ReportRestClient.read(reconciliationReportKey);\n-            } catch (Exception e) {\n-                LOG.error(\"Could not fetch the expected reconciliation report with key {}, aborting\",\n-                        reconciliationReportKey, e);\n-            }\n-        }\n-\n-        Fragment reportResult = reconciliationReport == null || reconciliationReport.getExecutions().isEmpty()\n-                ? new Fragment(\"reportResult\", \"noExecFragment\", this)\n-                : buildExecFragment();\n-        reportResult.setOutputMarkupId(true);\n-        container.add(reportResult);\n-\n-        IndicatorAjaxLink<Void> refresh = new IndicatorAjaxLink<>(\"refresh\") {\n-\n-            private static final long serialVersionUID = -7978723352517770644L;\n-\n-            @Override\n-            public void onClick(final AjaxRequestTarget target) {\n-                try {\n-                    restClient.startExecution(reconciliationReportKey, null);\n-\n-                    overlay.setVisible(true);\n-                    target.add(ReconciliationWidget.this);\n-\n-                    setCheckReconciliationJob(true);\n-\n-                    SyncopeConsoleSession.get().success(getString(Constants.OPERATION_SUCCEEDED));\n-                } catch (Exception e) {\n-                    LOG.error(\"While starting reconciliation report\", e);\n-                    SyncopeConsoleSession.get().error(\"Could not start reconciliation report\");\n-                }\n-                ((BasePage) pageRef.getPage()).getNotificationPanel().refresh(target);\n-            }\n-        };\n-        MetaDataRoleAuthorizationStrategy.authorize(refresh, Component.RENDER, IdRepoEntitlement.REPORT_EXECUTE);\n-        container.add(refresh);\n-    }\n-\n-    private boolean isCheckReconciliationJob() {\n-        return checkReconciliationJob;\n-    }\n-\n-    private void setCheckReconciliationJob(final boolean checkReconciliationJob) {\n-        this.checkReconciliationJob = checkReconciliationJob;\n-    }\n-\n-    private Fragment buildExecFragment() {\n-        Fragment execFragment = new Fragment(\"reportResult\", \"execFragment\", this);\n-        execFragment.setOutputMarkupId(true);\n-\n-        Pair<List<ProgressBean>, ReconciliationReport> execResult;\n-        try {\n-            execResult = parseReconciliationReportExec();\n-        } catch (Exception e) {\n-            LOG.error(\"Could not parse the reconciliation report result\", e);\n-            execResult = Pair.of(List.of(), new ReconciliationReport(OffsetDateTime.now()));\n-        }\n-        final List<ProgressBean> progressBeans = execResult.getLeft();\n-        final ReconciliationReport report = execResult.getRight();\n-\n-        List<ITab> tabs = new ArrayList<>();\n-        tabs.add(new AbstractTab(new ResourceModel(\"summary\")) {\n-\n-            private static final long serialVersionUID = -6815067322125799251L;\n-\n-            @Override\n-            public Panel getPanel(final String panelId) {\n-                return new ProgressesPanel(panelId, report.getRun(), progressBeans);\n-            }\n-        });\n-        tabs.add(new AbstractTab(Model.of(AnyTypeKind.USER.name())) {\n-\n-            private static final long serialVersionUID = -6815067322125799251L;\n-\n-            @Override\n-            public Panel getPanel(final String panelId) {\n-                return new AnysReconciliationPanel(panelId, report.getUsers(), pageRef);\n-            }\n-        });\n-        tabs.add(new AbstractTab(Model.of(AnyTypeKind.GROUP.name())) {\n-\n-            private static final long serialVersionUID = -6815067322125799251L;\n-\n-            @Override\n-            public Panel getPanel(final String panelId) {\n-                return new AnysReconciliationPanel(panelId, report.getGroups(), pageRef);\n-            }\n-        });\n-        for (final Anys anys : report.getAnyObjects()) {\n-            tabs.add(new AbstractTab(Model.of(anys.getAnyType())) {\n-\n-                private static final long serialVersionUID = -6815067322125799251L;\n-\n-                @Override\n-                public Panel getPanel(final String panelId) {\n-                    return new AnysReconciliationPanel(panelId, anys, pageRef);\n-                }\n-            });\n-        }\n-\n-        execFragment.add(new AjaxBootstrapTabbedPanel<>(\"execResult\", tabs));\n-\n-        return execFragment;\n-    }\n-\n-    private Pair<List<ProgressBean>, ReconciliationReport> parseReconciliationReportExec() throws IOException {\n-        List<ProgressBean> beans = List.of();\n-        ReconciliationReport report = null;\n-\n-        Optional<ExecTO> exec = Optional.empty();\n-        if (SyncopeConsoleSession.get().owns(IdRepoEntitlement.REPORT_LIST)) {\n-            exec = restClient.listRecentExecutions(ROWS).stream().\n-                    filter(e -> reconciliationReportKey.equals(e.getRefKey())).findFirst();\n-        }\n-        if (exec.isEmpty()) {\n-            LOG.error(\"Could not find the last execution of reconciliation report\");\n-        } else {\n-            Object entity = ReportRestClient.exportExecutionResult(\n-                    exec.get().getKey(), ReportExecExportFormat.XML).getEntity();\n-            if (entity instanceof InputStream) {\n-                try {\n-                    report = ReconciliationReportParser.parse(exec.get().getEnd(), (InputStream) entity);\n-\n-                    beans = new ArrayList<>();\n-\n-                    ProgressBean progressBean = new ProgressBean();\n-                    progressBean.setText(getString(\"users\"));\n-                    progressBean.setTotal(report.getUsers().getTotal());\n-                    progressBean.setFraction(report.getUsers().getTotal() - report.getUsers().getAnys().size());\n-                    progressBean.setCssClass(\"bg-yellow\");\n-                    beans.add(progressBean);\n-\n-                    progressBean = new ProgressBean();\n-                    progressBean.setText(getString(\"groups\"));\n-                    progressBean.setTotal(report.getGroups().getTotal());\n-                    progressBean.setFraction(report.getGroups().getTotal() - report.getGroups().getAnys().size());\n-                    progressBean.setCssClass(\"bg-red\");\n-                    beans.add(progressBean);\n-\n-                    int i = 0;\n-                    for (Anys anys : report.getAnyObjects()) {\n-                        progressBean = new ProgressBean();\n-                        progressBean.setText(anys.getAnyType());\n-                        progressBean.setTotal(anys.getTotal());\n-                        progressBean.setFraction(anys.getTotal() - anys.getAnys().size());\n-                        progressBean.setCssClass(\"bg-\" + (i % 2 == 0 ? \"success\" : \"info\"));\n-                        beans.add(progressBean);\n-\n-                        i++;\n-                    }\n-                } catch (Exception e) {\n-                    LOG.error(\"Could not parse the last execution available of reconciliation report\", e);\n-                }\n-            }\n-        }\n-\n-        return Pair.of(beans, Optional.ofNullable(report).\n-                orElseGet(() -> new ReconciliationReport(OffsetDateTime.now())));\n-    }\n-\n-    private class AnysReconciliationPanel extends DirectoryPanel<Any, Any, AnysReconciliationProvider, BaseRestClient> {\n-\n-        private static final long serialVersionUID = -8214546246301342868L;\n-\n-        private final Anys anys;\n-\n-        AnysReconciliationPanel(final String id, final Anys anys, final PageReference pageRef) {\n-            super(id, new Builder<Any, Any, BaseRestClient>(null, pageRef) {\n-\n-                private static final long serialVersionUID = 8769126634538601689L;\n-\n-                @Override\n-                protected WizardMgtPanel<Any> newInstance(final String id, final boolean wizardInModal) {\n-                    throw new UnsupportedOperationException();\n-                }\n-            }.disableCheckBoxes().hidePaginator());\n-\n-            this.anys = anys;\n-            this.rows = ROWS;\n-            initResultTable();\n-        }\n-\n-        @Override\n-        protected AnysReconciliationProvider dataProvider() {\n-            return new AnysReconciliationProvider(anys);\n-        }\n-\n-        @Override\n-        protected String paginatorRowsKey() {\n-            return StringUtils.EMPTY;\n-        }\n-\n-        @Override\n-        protected Collection<ActionLink.ActionType> getBatches() {\n-            return List.of();\n-        }\n-\n-        @Override\n-        protected List<IColumn<Any, String>> getColumns() {\n-            List<IColumn<Any, String>> columns = new ArrayList<>();\n-\n-            columns.add(new AbstractColumn<>(new ResourceModel(\"reference\"), Constants.KEY_FIELD_NAME) {\n-\n-                private static final long serialVersionUID = -1822504503325964706L;\n-\n-                @Override\n-                public void populateItem(\n-                        final Item<ICellPopulator<Any>> cellItem,\n-                        final String componentId,\n-                        final IModel<Any> rowModel) {\n-\n-                    cellItem.add(new Label(componentId,\n-                            rowModel.getObject().getKey()\n-                            + (StringUtils.isBlank(rowModel.getObject().getName())\n-                            ? StringUtils.EMPTY\n-                            : ' ' + rowModel.getObject().getName())));\n-                }\n-            });\n-\n-            final Set<String> resources = new HashSet<>();\n-            anys.getAnys().forEach(any -> {\n-                resources.addAll(any.getMissing().stream().\n-                        map(Missing::getResource).collect(Collectors.toList()));\n-                resources.addAll(any.getMisaligned().stream().\n-                        map(Misaligned::getResource).collect(Collectors.toList()));\n-            });\n-            for (final String resource : resources) {\n-                columns.add(new AbstractColumn<>(Model.of(resource)) {\n-\n-                    private static final long serialVersionUID = -1822504503325964706L;\n-\n-                    @Override\n-                    public void populateItem(\n-                            final Item<ICellPopulator<Any>> cellItem,\n-                            final String componentId,\n-                            final IModel<Any> rowModel) {\n-\n-                        Any any = rowModel.getObject();\n-\n-                        Optional<Missing> missing = any.getMissing().stream().\n-                                filter(object -> resource.equals(object.getResource())).findFirst();\n-                        List<Misaligned> misaligned = any.getMisaligned().stream().\n-                                filter(object -> resource.equals(object.getResource())).collect(Collectors.toList());\n-\n-                        Component content;\n-                        if (missing.isEmpty()) {\n-                            if (misaligned.isEmpty()) {\n-                                content = new Label(componentId, StringUtils.EMPTY);\n-                            } else {\n-                                Action<Any> action = new Action<>(new ActionLink<>() {\n-\n-                                    private static final long serialVersionUID = -3722207913631435501L;\n-\n-                                    @Override\n-                                    public void onClick(final AjaxRequestTarget target, final Any ignore) {\n-                                        modal.header(Model.of(\n-                                                rowModel.getObject().getType()\n-                                                + ' ' + rowModel.getObject().getKey()\n-                                                + ' ' + rowModel.getObject().getName()));\n-                                        modal.setContent(new ReconDetailsModalPanel(\n-                                                modal,\n-                                                resource,\n-                                                misaligned,\n-                                                ReconciliationWidget.this.pageRef));\n-                                        modal.show(true);\n-                                        target.add(modal);\n-                                    }\n-                                }, ActionLink.ActionType.VIEW);\n-                                action.hideLabel();\n-                                content = new ActionPanel<>(componentId, rowModel, action);\n-                            }\n-                        } else {\n-                            Action<Any> action = new Action<>(null, ActionLink.ActionType.NOT_FOUND);\n-                            action.hideLabel();\n-                            content = new ActionPanel<>(componentId, rowModel, action);\n-                        }\n-                        cellItem.add(content);\n-                        cellItem.add(new AttributeModifier(\"class\", \"text-center\"));\n-                    }\n-                });\n-            }\n-\n-            return columns;\n-        }\n-    }\n-\n-    protected static final class AnysReconciliationProvider extends DirectoryDataProvider<Any> {\n-\n-        private static final long serialVersionUID = -1500081449932597854L;\n-\n-        private final Anys anys;\n-\n-        private final SortableDataProviderComparator<Any> comparator;\n-\n-        private AnysReconciliationProvider(final Anys anys) {\n-            super(ROWS);\n-            this.anys = anys;\n-            setSort(Constants.KEY_FIELD_NAME, SortOrder.ASCENDING);\n-            comparator = new SortableDataProviderComparator<>(this);\n-        }\n-\n-        @Override\n-        public Iterator<Any> iterator(final long first, final long count) {\n-            anys.getAnys().sort(comparator);\n-            return anys.getAnys().subList((int) first, (int) first + (int) count).iterator();\n-        }\n-\n-        @Override\n-        public long size() {\n-            return anys.getAnys().size();\n-        }\n-\n-        @Override\n-        public IModel<Any> model(final Any object) {\n-            return new CompoundPropertyModel<>(object);\n-        }\n-    }\n-}"},{"sha":"8c461dd104ddae77a5e093bd31f7b481f9ff7fb2","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/widgets/reconciliation/Any.java","status":"removed","additions":0,"deletions":71,"changes":71,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FAny.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FAny.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FAny.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,71 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.client.console.widgets.reconciliation;\n-\n-import java.io.Serializable;\n-import java.util.ArrayList;\n-import java.util.List;\n-\n-public class Any implements Serializable {\n-\n-    private static final long serialVersionUID = 2421645848049271898L;\n-\n-    private String type;\n-\n-    private String key;\n-\n-    private String name;\n-\n-    private final List<Missing> missing = new ArrayList<>();\n-\n-    private final List<Misaligned> misaligned = new ArrayList<>();\n-\n-    public String getType() {\n-        return type;\n-    }\n-\n-    public void setType(final String type) {\n-        this.type = type;\n-    }\n-\n-    public String getKey() {\n-        return key;\n-    }\n-\n-    public void setKey(final String key) {\n-        this.key = key;\n-    }\n-\n-    public String getName() {\n-        return name;\n-    }\n-\n-    public void setName(final String name) {\n-        this.name = name;\n-    }\n-\n-    public List<Missing> getMissing() {\n-        return missing;\n-    }\n-\n-    public List<Misaligned> getMisaligned() {\n-        return misaligned;\n-    }\n-\n-}"},{"sha":"2d35e144b86961b4029639eee9698e13ae13b936","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/widgets/reconciliation/Anys.java","status":"removed","additions":0,"deletions":55,"changes":55,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FAnys.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FAnys.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FAnys.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,55 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.client.console.widgets.reconciliation;\n-\n-import java.io.Serializable;\n-import java.util.ArrayList;\n-import java.util.List;\n-\n-public class Anys implements Serializable {\n-\n-    private static final long serialVersionUID = -2482591351364634179L;\n-\n-    private int total;\n-\n-    private String anyType;\n-\n-    private final List<Any> anys = new ArrayList<>();\n-\n-    public int getTotal() {\n-        return total;\n-    }\n-\n-    public void setTotal(final int total) {\n-        this.total = total;\n-    }\n-\n-    public String getAnyType() {\n-        return anyType;\n-    }\n-\n-    public void setAnyType(final String anyType) {\n-        this.anyType = anyType;\n-    }\n-\n-    public List<Any> getAnys() {\n-        return anys;\n-    }\n-\n-}"},{"sha":"bd189e6a67416f5d39df217790a4c91aea2793cb","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/widgets/reconciliation/Misaligned.java","status":"removed","additions":0,"deletions":51,"changes":51,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FMisaligned.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FMisaligned.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FMisaligned.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,51 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.client.console.widgets.reconciliation;\n-\n-import java.util.HashSet;\n-import java.util.Set;\n-\n-public class Misaligned extends Missing {\n-\n-    private static final long serialVersionUID = -2287634884015557714L;\n-\n-    private final String name;\n-\n-    private final Set<String> onSyncope = new HashSet<>();\n-\n-    private final Set<String> onResource = new HashSet<>();\n-\n-    public Misaligned(final String resource, final String connObjectKeyValue, final String name) {\n-        super(resource, connObjectKeyValue);\n-        this.name = name;\n-    }\n-\n-    public String getName() {\n-        return name;\n-    }\n-\n-    public Set<String> getOnSyncope() {\n-        return onSyncope;\n-    }\n-\n-    public Set<String> getOnResource() {\n-        return onResource;\n-    }\n-\n-}"},{"sha":"175d9de4590d3881a2249a57f3109d21d5da956a","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/widgets/reconciliation/Missing.java","status":"removed","additions":0,"deletions":43,"changes":43,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FMissing.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FMissing.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FMissing.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,43 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.client.console.widgets.reconciliation;\n-\n-import java.io.Serializable;\n-\n-public class Missing implements Serializable {\n-\n-    private static final long serialVersionUID = -4779715117027316991L;\n-\n-    private final String resource;\n-\n-    private final String connObjectKeyValue;\n-\n-    public Missing(final String resource, final String connObjectKeyValue) {\n-        this.resource = resource;\n-        this.connObjectKeyValue = connObjectKeyValue;\n-    }\n-\n-    public String getResource() {\n-        return resource;\n-    }\n-\n-    public String getConnObjectKeyValue() {\n-        return connObjectKeyValue;\n-    }\n-}"},{"sha":"6853f8d81d336d998d4d3f558e97e339ad4ef48d","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/widgets/reconciliation/ReconciliationReport.java","status":"removed","additions":0,"deletions":65,"changes":65,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FReconciliationReport.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FReconciliationReport.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FReconciliationReport.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,65 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.client.console.widgets.reconciliation;\n-\n-import java.io.Serializable;\n-import java.time.OffsetDateTime;\n-import java.util.ArrayList;\n-import java.util.List;\n-\n-public class ReconciliationReport implements Serializable {\n-\n-    private static final long serialVersionUID = 931063230006747313L;\n-\n-    private final OffsetDateTime run;\n-\n-    private Anys users;\n-\n-    private Anys groups;\n-\n-    private final List<Anys> anyObjects = new ArrayList<>();\n-\n-    public ReconciliationReport(final OffsetDateTime run) {\n-        this.run = run;\n-    }\n-\n-    public OffsetDateTime getRun() {\n-        return run;\n-    }\n-\n-    public Anys getUsers() {\n-        return users;\n-    }\n-\n-    public void setUsers(final Anys users) {\n-        this.users = users;\n-    }\n-\n-    public Anys getGroups() {\n-        return groups;\n-    }\n-\n-    public void setGroups(final Anys groups) {\n-        this.groups = groups;\n-    }\n-\n-    public List<Anys> getAnyObjects() {\n-        return anyObjects;\n-    }\n-}"},{"sha":"d4300401c72647132c979fd36c688af309a46707","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/widgets/reconciliation/ReconciliationReportParser.java","status":"removed","additions":0,"deletions":195,"changes":195,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FReconciliationReportParser.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FReconciliationReportParser.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2Freconciliation%2FReconciliationReportParser.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,195 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.client.console.widgets.reconciliation;\n-\n-import java.io.InputStream;\n-import java.time.OffsetDateTime;\n-import java.util.ArrayList;\n-import java.util.HashSet;\n-import java.util.List;\n-import java.util.Optional;\n-import java.util.Set;\n-import javax.xml.stream.XMLInputFactory;\n-import javax.xml.stream.XMLStreamException;\n-import javax.xml.stream.XMLStreamReader;\n-import org.apache.syncope.client.ui.commons.Constants;\n-import org.apache.syncope.common.lib.types.AnyTypeKind;\n-\n-public final class ReconciliationReportParser {\n-\n-    private static final XMLInputFactory XML_INPUT_FACTORY = XMLInputFactory.newInstance();\n-\n-    static {\n-        XML_INPUT_FACTORY.setProperty(XMLInputFactory.IS_SUPPORTING_EXTERNAL_ENTITIES, Boolean.FALSE);\n-        XML_INPUT_FACTORY.setProperty(XMLInputFactory.SUPPORT_DTD, Boolean.FALSE);\n-    }\n-\n-    public static ReconciliationReport parse(final OffsetDateTime run, final InputStream in)\n-            throws XMLStreamException, NumberFormatException {\n-\n-        XMLStreamReader streamReader = XML_INPUT_FACTORY.createXMLStreamReader(in);\n-        streamReader.nextTag(); // root\n-        streamReader.nextTag(); // report\n-        streamReader.nextTag(); // reportlet\n-\n-        ReconciliationReport report = new ReconciliationReport(run);\n-\n-        List<Missing> missing = new ArrayList<>();\n-        List<Misaligned> misaligned = new ArrayList<>();\n-        Set<String> onSyncope = null;\n-        Set<String> onResource = null;\n-\n-        Any user = null;\n-        Any group = null;\n-        Any anyObject = null;\n-        String lastAnyType = null;\n-        while (streamReader.hasNext()) {\n-            if (streamReader.isStartElement()) {\n-                switch (streamReader.getLocalName()) {\n-                    case \"users\":\n-                        Anys users = new Anys();\n-                        users.setTotal(Integer.parseInt(streamReader.getAttributeValue(\"\", \"total\")));\n-                        report.setUsers(users);\n-                        break;\n-\n-                    case \"user\":\n-                        user = new Any();\n-                        user.setType(AnyTypeKind.USER.name());\n-                        user.setKey(streamReader.getAttributeValue(\"\", Constants.KEY_FIELD_NAME));\n-                        user.setName(streamReader.getAttributeValue(\"\", \"username\"));\n-                        report.getUsers().getAnys().add(user);\n-                        break;\n-\n-                    case \"groups\":\n-                        Anys groups = new Anys();\n-                        groups.setTotal(Integer.parseInt(streamReader.getAttributeValue(\"\", \"total\")));\n-                        report.setGroups(groups);\n-                        break;\n-\n-                    case \"group\":\n-                        group = new Any();\n-                        group.setType(AnyTypeKind.GROUP.name());\n-                        group.setKey(streamReader.getAttributeValue(\"\", Constants.KEY_FIELD_NAME));\n-                        group.setName(streamReader.getAttributeValue(\"\", \"groupName\"));\n-                        report.getGroups().getAnys().add(group);\n-                        break;\n-\n-                    case \"anyObjects\":\n-                        lastAnyType = streamReader.getAttributeValue(\"\", \"type\");\n-                        Anys anyObjects = new Anys();\n-                        anyObjects.setAnyType(lastAnyType);\n-                        anyObjects.setTotal(Integer.parseInt(streamReader.getAttributeValue(\"\", \"total\")));\n-                        report.getAnyObjects().add(anyObjects);\n-                        break;\n-\n-                    case \"anyObject\":\n-                        anyObject = new Any();\n-                        anyObject.setType(lastAnyType);\n-                        anyObject.setKey(streamReader.getAttributeValue(\"\", Constants.KEY_FIELD_NAME));\n-                        final String anyType = lastAnyType;\n-                        Optional<Anys> anyReport = report.getAnyObjects().stream().\n-                                filter(anys -> anyType.equals(anys.getAnyType())).\n-                                findFirst();\n-                        if (anyReport.isPresent()) {\n-                            anyReport.get().getAnys().add(anyObject);\n-                        }\n-                        break;\n-\n-                    case \"missing\":\n-                        missing.add(new Missing(\n-                                streamReader.getAttributeValue(\"\", \"resource\"),\n-                                streamReader.getAttributeValue(\"\", \"connObjectKeyValue\")));\n-                        break;\n-\n-                    case \"misaligned\":\n-                        misaligned.add(new Misaligned(\n-                                streamReader.getAttributeValue(\"\", \"resource\"),\n-                                streamReader.getAttributeValue(\"\", \"connObjectKeyValue\"),\n-                                streamReader.getAttributeValue(\"\", \"name\")));\n-                        break;\n-\n-                    case \"onSyncope\":\n-                        onSyncope = new HashSet<>();\n-                        break;\n-\n-                    case \"onResource\":\n-                        onResource = new HashSet<>();\n-                        break;\n-\n-                    case \"value\":\n-                        Set<String> set = Optional.ofNullable(onSyncope).orElse(onResource);\n-                        set.add(streamReader.getElementText());\n-                        break;\n-\n-                    default:\n-                }\n-            } else if (streamReader.isEndElement()) {\n-                switch (streamReader.getLocalName()) {\n-                    case \"user\":\n-                        Optional.ofNullable(user).ifPresent(u -> {\n-                            u.getMissing().addAll(missing);\n-                            u.getMisaligned().addAll(misaligned);\n-                        });\n-                        missing.clear();\n-                        misaligned.clear();\n-                        break;\n-\n-                    case \"group\":\n-                        Optional.ofNullable(group).ifPresent(g -> {\n-                            g.getMissing().addAll(missing);\n-                            g.getMisaligned().addAll(misaligned);\n-                        });\n-                        missing.clear();\n-                        misaligned.clear();\n-                        break;\n-\n-                    case \"anyObject\":\n-                        Optional.ofNullable(anyObject).ifPresent(a -> {\n-                            a.getMissing().addAll(missing);\n-                            a.getMisaligned().addAll(misaligned);\n-                        });\n-                        missing.clear();\n-                        misaligned.clear();\n-                        break;\n-\n-                    case \"onSyncope\":\n-                        misaligned.get(misaligned.size() - 1).getOnSyncope().addAll(onSyncope);\n-                        onSyncope = null;\n-                        break;\n-\n-                    case \"onResource\":\n-                        misaligned.get(misaligned.size() - 1).getOnResource().addAll(onResource);\n-                        onResource = null;\n-                        break;\n-\n-                    default:\n-                }\n-\n-            }\n-\n-            streamReader.next();\n-        }\n-\n-        return report;\n-    }\n-\n-    private ReconciliationReportParser() {\n-        // private constructor for static utility class\n-    }\n-}"},{"sha":"440ff5bed7135a3d80c569c3d64c9cc6c94f5972","filename":"client/idrepo/console/src/main/resources/console.properties","status":"modified","additions":0,"deletions":2,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Fconsole.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Fconsole.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Fconsole.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -53,8 +53,6 @@ console.maxWaitTimeOnApplyChanges=30\n \n console.adminUser=${adminUser}\n \n-console.reconciliationReportKey=c3520ad9-179f-49e7-b315-d684d216dd97\n-\n console.page.dashboard=org.apache.syncope.client.console.pages.Dashboard\n console.page.realms=org.apache.syncope.client.console.pages.Realms\n console.page.reports=org.apache.syncope.client.console.pages.Reports"},{"sha":"51f0621a3ae2148124b32b96112e679b3dd4a4ab","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/implementations/MyReportJobDelegate.groovy","status":"renamed","additions":20,"deletions":8,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fimplementations%2FMyReportJobDelegate.groovy","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fimplementations%2FMyReportJobDelegate.groovy","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fimplementations%2FMyReportJobDelegate.groovy?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -17,16 +17,28 @@\n  * under the License.\n  */\n import groovy.transform.CompileStatic\n-import org.apache.syncope.core.persistence.api.attrvalue.validation.Validator\n-import org.apache.syncope.core.persistence.api.dao.Reportlet\n-import org.xml.sax.ContentHandler\n-import org.xml.sax.SAXException\n-import java.util.concurrent.atomic.AtomicReference\n+import org.apache.syncope.common.lib.report.ReportConf\n+import org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate\n+import org.quartz.JobExecutionContext\n+import org.quartz.JobExecutionException\n \n @CompileStatic\n-class MyReportlet implements Reportlet {\n+class MyReportJobDelegate implements ReportJobDelegate {\t\n+\n+  void interrupt() {\n+  }\n+\n+  boolean isInterrupted() {\n+    return false\n+  }\n+  \n+  void setConf(ReportConf conf) {\n+    \n+  }\n   \n   @Override\n-  void extract(ContentHandler handler, AtomicReference<String> status) throws SAXException {\n-  }  \n+  void execute(String reportKey, boolean dryRun, JobExecutionContext context)\n+    throws JobExecutionException {\n+   \n+  }\n }","previous_filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/implementations/MyReportlet.groovy"},{"sha":"c49983ad39e62f4d02c28701b21578e92fdcd108","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/implementations/MySchedTaskJobDelegate.groovy","status":"modified","additions":5,"deletions":7,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fimplementations%2FMySchedTaskJobDelegate.groovy","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fimplementations%2FMySchedTaskJobDelegate.groovy","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fimplementations%2FMySchedTaskJobDelegate.groovy?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -17,16 +17,13 @@\n  * under the License.\n  */\n import groovy.transform.CompileStatic\n+import org.apache.syncope.common.lib.types.TaskType\n import org.apache.syncope.core.provisioning.api.job.SchedTaskJobDelegate\n import org.quartz.JobExecutionContext\n import org.quartz.JobExecutionException\n \n @CompileStatic\n-class MySchedTaskJobDelegate implements SchedTaskJobDelegate {\t\n-\n-  String currentStatus() {\n-    return \"RUNNING\"\n-  }\n+class MySchedTaskJobDelegate implements SchedTaskJobDelegate {\n \n   void interrupt() {\n   }\n@@ -36,7 +33,8 @@ class MySchedTaskJobDelegate implements SchedTaskJobDelegate {\n   }\n \n   @Override\n-  void execute(String taskKey, boolean dryRun, JobExecutionContext context) throws JobExecutionException {\n-   \n+  void execute(TaskType taskType, String taskKey, boolean dryRun, JobExecutionContext context)\n+    throws JobExecutionException {\n+\n   }\n }"},{"sha":"34ab394f4b4011374f63215babe6090b2648e007","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/pages/Reports.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FReports.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FReports.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpages%2FReports.html?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -39,7 +39,7 @@ <h1>&nbsp;</h1>\n     <section class=\"content\" wicket:id=\"content\">\n       <div class=\"container-fluid\">\n         <div class=\"card card-outline\">\n-          <div class=\"card-body\" wicket:id=\"tabbedPanel\"/>\n+          <div class=\"card-body\" wicket:id=\"reportsPanel\"/>\n         </div>\n       </div>\n     </section>"},{"sha":"bfb759fcedccd80d8b162e886477fe2200e38ec8","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/DashboardControlPanel.html","status":"modified","additions":1,"deletions":7,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDashboardControlPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDashboardControlPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FDashboardControlPanel.html?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -23,11 +23,5 @@\n         <span wicket:id=\"job\"/>\n       </div>\n     </div>\n-\n-    <div class=\"row\">\n-      <div class=\"col-md-12\">\n-        <span wicket:id=\"reconciliation\"/>\n-      </div>\n-    </div>\n   </wicket:panel>\n-</html>\n\\ No newline at end of file\n+</html>"},{"sha":"2f73bddbf7599b90aadde61ab143ce9f8b8d263c","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportDirectoryPanel.properties","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -33,5 +33,7 @@ any.new=New Report\n any.finish=Submit Report\n any.cancel=Cancel Report\n report.view=Executions of report '${name}'\n-reportlet.conf=Reportlet configuration for ${name}\n close=Close\n+mimeType=MIME Type\n+fileExt=File Extension\n+jobDelegate=Class"},{"sha":"641414536448469d39c63bb99fe20cc6513e7412","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportDirectoryPanel_fr_CA.properties","status":"modified","additions":10,"deletions":8,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel_fr_CA.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -15,19 +15,21 @@\n # specific language governing permissions and limitations\n # under the License.\n profile=Profil\n-executions=Ex�cutions\n+executions=Ex\\u00e9cutions\n title=Rapports\n-name=Rapport d'activit�\n-lastExec=Derni�re ex�cution\n-nextExec=Prochaine ex�cution\n-start=Date de d�but\n+name=Rapport d'activit\\u00e9\n+lastExec=Derni\\u00e8re ex\\u00e9cution\n+nextExec=Prochaine ex\\u00e9cution\n+start=Date de d\\u00e9but\n end=Date de fin\n-latestExecStatus=Dernier �tat d'ex�cution\n+latestExecStatus=Dernier \\u00e9tat d'ex\\u00e9cution\n active=Actif\n any.edit=Modifier le rapport ${name}\n any.new=Nouveau rapport\n any.finish=Soumettre un rapport\n any.cancel=Annuler le rapport\n-report.view=Ex�cutions du rapport'${name}''.\n-reportlet.conf=Configuration du rapportlet pour ${name}\n+report.view=Ex\\u00e9cutions du rapport'${name}''.\n close=Fermer\n+mimeType=MIME Type\n+fileExt=File Extension\n+jobDelegate=Class"},{"sha":"12c8069b74d94671b6e56d7af24ae9b4913a0a63","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportDirectoryPanel_it.properties","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel_it.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -33,5 +33,7 @@ any.new=Nuovo Report\n any.finish=Conferma Report\n any.cancel=Annulla Report\n report.view=Esecuzioni del report '${name}'\n-reportlet.conf=Configurazione reportlet per ${name}\n close=Close\n+mimeType=MIME Type\n+fileExt=Estensione File\n+jobDelegate=Classe"},{"sha":"32245dcf75d4a62d12f7a4081c21751b2ba49382","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportDirectoryPanel_ja.properties","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel_ja.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -33,5 +33,7 @@ any.new=\\u65b0\\u3057\\u3044\\u30ec\\u30dd\\u30fc\\u30c8\n any.finish=\\u30ec\\u30dd\\u30fc\\u30c8\\u3092\\u5b9f\\u884c\n any.cancel=\\u30ec\\u30dd\\u30fc\\u30c8\\u3092\\u30ad\\u30e3\\u30f3\\u30bb\\u30eb\n report.view=\\u5b9f\\u884c\\u306e\\u30ec\\u30dd\\u30fc\\u30c8 '${name}'\n-reportlet.conf=${name} \\u306e\\u30ec\\u30dd\\u30fc\\u30c8\\u30ec\\u30c3\\u30c8\\u8a2d\\u5b9a\n close=\\u9589\\u3058\\u308b\n+mimeType=MIME Type\n+fileExt=File Extension\n+jobDelegate=Class"},{"sha":"fd32ec0b5636065f80108eb1dbcc7f7ced6ac118","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportDirectoryPanel_pt_BR.properties","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel_pt_BR.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -33,5 +33,7 @@ any.new=New Report\n any.finish=Submit Report\n any.cancel=Cancel Report\n report.view=Executions of report '${name}'\n-reportlet.conf=Reportlet configuration for ${name}\n close=Close\n+mimeType=MIME Type\n+fileExt=File Extension\n+jobDelegate=Class"},{"sha":"2f2085e8803844827436bd6c18f83ed225137f9a","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportDirectoryPanel_ru.properties","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportDirectoryPanel_ru.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -34,5 +34,7 @@ any.new=\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c \\u043e\\u0442\\u0447\\u0435\\u044\n any.finish=\\u0421\\u043e\\u0445\\u0440\\u0430\\u043d\\u0438\\u0442\\u044c \\u043e\\u0442\\u0447\\u0435\\u0442\n any.cancel=\\u041e\\u0442\\u043c\\u0435\\u043d\\u0438\\u0442\\u044c \\u043e\\u0442\\u0447\\u0435\\u0442\n report.view=\\u0417\\u0430\\u043f\\u0443\\u0441\\u043a\\u0438 \\u043e\\u0442\\u0447\\u0435\\u0442\\u0430 '${name}'\n-reportlet.conf=\\u041d\\u0430\\u0441\\u0442\\u0440\\u043e\\u0439\\u043a\\u0430 \\u043f\\u0430\\u043d\\u0435\\u043b\\u0438 \\u043e\\u0442\\u0447\\u0435\\u0442\\u0430 \\u0434\\u043b\\u044f ${name}\n close=\\u0417\\u0430\\u043a\\u0440\\u044b\\u0442\\u044c\n+mimeType=MIME Type\n+fileExt=File Extension\n+jobDelegate=Class"},{"sha":"f146466780604e78bf250d5b2edfced27bfa8d6e","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportTemplateDirectoryPanel.properties","status":"removed","additions":0,"deletions":21,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,21 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-any.edit=Edit ${key}\n-any.new=New report template\n-any.finish=Submit\n-any.cancel=Cancel\n-text.title=csv"},{"sha":"8940df87baf0ec1885285935efd47f478ad9b515","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportTemplateDirectoryPanel_fr_CA.properties","status":"removed","additions":0,"deletions":21,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel_fr_CA.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,21 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-any.edit=Modifier ${key}\n-any.new=Nouveau mod�le de rapport\n-any.finish=Soumettre\n-any.cancel=Annuler\n-text.title=csv"},{"sha":"7eac805201b1843ea40f8fe82589f4ef4144a539","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportTemplateDirectoryPanel_it.properties","status":"removed","additions":0,"deletions":21,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel_it.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,21 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-any.edit=Modifica ${key}\n-any.new=New report template\n-any.finish=Invia\n-any.cancel=Annulla\n-text.title=csv"},{"sha":"f65cc6f15cf7991c3a182da9b6b5eac532967486","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportTemplateDirectoryPanel_ja.properties","status":"removed","additions":0,"deletions":21,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel_ja.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,21 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-any.edit=${key} \\u3092\\u7de8\\u96c6\n-any.new=\\u65b0\\u3057\\u3044\\u30ec\\u30dd\\u30fc\\u30c8\\u30c6\\u30f3\\u30d7\\u30ec\\u30fc\\u30c8\n-any.finish=\\u5b9f\\u884c\n-any.cancel=\\u30ad\\u30e3\\u30f3\\u30bb\\u30eb\n-text.title=csv"},{"sha":"be70e5c8ada9270d38a703718465dc9a68b5e1dc","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportTemplateDirectoryPanel_pt_BR.properties","status":"removed","additions":0,"deletions":21,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel_pt_BR.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,21 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-any.edit=Editar ${key}\n-any.new=Novo report template\n-any.finish=Enviar\n-any.cancel=Cancelar\n-text.title=csv"},{"sha":"500e3b49a246ff95f2e17afa16e5ed4a5679ff7c","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportTemplateDirectoryPanel_ru.properties","status":"removed","additions":0,"deletions":22,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportTemplateDirectoryPanel_ru.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,22 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-#\n-any.edit=\\u0418\\u0437\\u043c\\u0435\\u043d\\u0438\\u0442\\u044c ${key}\n-any.new=\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c \\u0448\\u0430\\u0431\\u043b\\u043e\\u043d \\u043e\\u0442\\u0447\\u0435\\u0442\\u0430\n-any.finish=\\u0421\\u043e\\u0445\\u0440\\u0430\\u043d\\u0438\\u0442\\u044c\n-any.cancel=\\u041e\\u0442\\u043c\\u0435\\u043d\\u0430\n-text.title=csv"},{"sha":"7772c93b7b0f9ede0879d65b1ee4014cc4497248","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportWizardBuilder$Configuration.html","status":"renamed","additions":0,"deletions":0,"changes":0,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportWizardBuilder%24Configuration.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportWizardBuilder%24Configuration.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportWizardBuilder%24Configuration.html?ref=9db04e830733c2e08ff1d158d9bcad8323119249","previous_filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletWizardBuilder$Configuration.html"},{"sha":"fd36a530fc9d4a2d654b4fea6a720f2c23ec1d2b","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportWizardBuilder$Profile.html","status":"modified","additions":5,"deletions":3,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportWizardBuilder%24Profile.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportWizardBuilder%24Profile.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportWizardBuilder%24Profile.html?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,8 +18,10 @@\n -->\n <html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n   <wicket:panel>\n-    <div class=\"form-group\"><span wicket:id=\"name\">[name]</span></div>\n-    <div class=\"form-group\"><span wicket:id=\"template\">[template]</span></div>\n-    <div class=\"form-group\"><span wicket:id=\"active\">[active]</span></div>\n+    <div class=\"form-group\"><span wicket:id=\"name\"/></div>\n+    <div class=\"form-group\"><span wicket:id=\"active\"/></div>\n+    <div class=\"form-group\"><span wicket:id=\"mimeType\"/></div>\n+    <div class=\"form-group\"><span wicket:id=\"fileExt\"/></div>\n+    <div class=\"form-group\"><span wicket:id=\"jobDelegate\"/></div>\n   </wicket:panel>\n </html>"},{"sha":"d3e5cde376ae2a2ddce01a1640758fc4afc8234d","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletDirectoryPanel.properties","status":"removed","additions":0,"deletions":20,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,20 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-reportlet=Reportlet\n-profile=Profile\n-configuration=Configuration\n-noConf=No configuration available"},{"sha":"33da59be8dbf0b2b326118129473b09e06d8b7be","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletDirectoryPanel_fr_CA.properties","status":"removed","additions":0,"deletions":20,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel_fr_CA.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,20 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-reportlet=Reportlet\n-profile=Profil\n-configuration=Configuration\n-noConf=Aucune configuration disponible"},{"sha":"96bcb850f78ee9f451ca26f31d45b0b230d318c8","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletDirectoryPanel_it.properties","status":"removed","additions":0,"deletions":20,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel_it.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,20 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-reportlet=Reportlet\n-profile=Profilo\n-configuration=Configurazione\n-noConf=Nessuna configurazione"},{"sha":"3bbdb9b271f0fdd7f24119f8372b380e5323b05a","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletDirectoryPanel_ja.properties","status":"removed","additions":0,"deletions":20,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel_ja.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,20 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-reportlet=\\u30ec\\u30dd\\u30fc\\u30c8\\u30ec\\u30c3\\u30c8\n-profile=\\u30d7\\u30ed\\u30d5\\u30a1\\u30a4\\u30eb\n-configuration=\\u8a2d\\u5b9a\n-noConf=\\u8a2d\\u5b9a\\u304c\\u3042\\u308a\\u307e\\u305b\\u3093"},{"sha":"234178a875d1ac3ed021b22550518127e3b12477","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletDirectoryPanel_pt_BR.properties","status":"removed","additions":0,"deletions":20,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel_pt_BR.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,20 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-reportlet=Reportlet\n-profile=Profile\n-configuration=Configuration\n-noConf=Nenhuma configura\\u00e7\\u00e3o dispon\\u00edvel"},{"sha":"f075681e4fbe6525f2cd2ac6fa485bc742e4cdfc","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletDirectoryPanel_ru.properties","status":"removed","additions":0,"deletions":20,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletDirectoryPanel_ru.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,20 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-reportlet=\\u041f\\u0430\\u043d\\u0435\\u043b\\u044c \\u043e\\u0442\\u0447\\u0435\\u0442\\u0430\n-profile=\\u041f\\u0440\\u043e\\u0444\\u0438\\u043b\\u044c\n-configuration=\\u041a\\u043e\\u043d\\u0444\\u0438\\u0433\\u0443\\u0440\\u0430\\u0446\\u0438\\u044f\n-noConf=No configuration available"},{"sha":"8d2c500e11a13f53b300065f3db11c8571704970","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletWizardBuilder$Configuration.properties","status":"removed","additions":0,"deletions":24,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,24 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-plainAttrs=Plain Attributes\n-derAttrs=Derived Attributes\n-virAttrs=Virtual Attributes\n-features=Features\n-matchingCond=Matching Condition\n-userMatchingCond=User Matching Condition\n-groupMatchingCond=Group Matching Condition\n-anyObjectMatchingCond=AnyObject Matching Condition"},{"sha":"e791574a14ebec8502e9420193bd93c4fd5522f6","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletWizardBuilder$Configuration_fr_CA.properties","status":"removed","additions":0,"deletions":24,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration_fr_CA.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,24 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-plainAttrs=Attributs simples\n-derAttrs=Attributs d�riv�s\n-virAttrs=Attributs virtuels\n-features=Caract�ristiques\n-matchingCond=Condition d'appariement\n-userMatchingCond=Condition d'appariement des utilisateurs\n-groupMatchingCond=Condition d'appariement de groupe\n-anyObjectMatchingCond=Condition d'appariement de n'importe quel objet"},{"sha":"6688f852c27c506f95f30149b2a587ea9ffbeb9c","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletWizardBuilder$Configuration_it.properties","status":"removed","additions":0,"deletions":24,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration_it.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,24 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-plainAttrs=Attributi\n-derAttrs=Attributi Derivati\n-virAttrs=Attributi Virtuali\n-features=Features\n-matchingCond=Condizione di matching\n-userMatchingCond=Condizione di matching utente\n-groupMatchingCond=Condizione di matching gruppo\n-anyObjectMatchingCond=Condizione di matching any"},{"sha":"ba85e50448b85bfccb4416344e187140bc748c09","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletWizardBuilder$Configuration_ja.properties","status":"removed","additions":0,"deletions":24,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration_ja.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,24 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-plainAttrs=\\u30d7\\u30ec\\u30fc\\u30f3\\u5c5e\\u6027\n-derAttrs=\\u6d3e\\u751f\\u5c5e\\u6027\n-virAttrs=\\u4eee\\u60f3\\u5c5e\\u6027\n-features=\\u6a5f\\u80fd\n-matchingCond=\\u4e00\\u81f4\\u6761\\u4ef6\n-userMatchingCond=\\u30e6\\u30fc\\u30b6\\u2015\\u4e00\\u81f4\\u6761\\u4ef6\n-groupMatchingCond=\\u30b0\\u30eb\\u30fc\\u30d7\\u4e00\\u81f4\\u6761\\u4ef6\n-anyObjectMatchingCond=\\u4efb\\u610f\\u30aa\\u30d6\\u30b8\\u30a7\\u30af\\u30c8\\u4e00\\u81f4\\u6761\\u4ef6"},{"sha":"8d2c500e11a13f53b300065f3db11c8571704970","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletWizardBuilder$Configuration_pt_BR.properties","status":"removed","additions":0,"deletions":24,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration_pt_BR.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,24 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-plainAttrs=Plain Attributes\n-derAttrs=Derived Attributes\n-virAttrs=Virtual Attributes\n-features=Features\n-matchingCond=Matching Condition\n-userMatchingCond=User Matching Condition\n-groupMatchingCond=Group Matching Condition\n-anyObjectMatchingCond=AnyObject Matching Condition"},{"sha":"721b3e531a1f1e7ce8644b54a57743af67fb9260","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletWizardBuilder$Configuration_ru.properties","status":"removed","additions":0,"deletions":25,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Configuration_ru.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,25 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-#\n-plainAttrs=\\u041f\\u0440\\u043e\\u0441\\u0442\\u044b\\u0435 \\u0430\\u0442\\u0440\\u0438\\u0431\\u0443\\u0442\\u044b\n-derAttrs=\\u041f\\u0440\\u043e\\u0438\\u0437\\u0432\\u043e\\u0434\\u043d\\u044b\\u0435 \\u0430\\u0442\\u0440\\u0438\\u0431\\u0443\\u0442\\u044b\n-virAttrs=\\u0412\\u0438\\u0440\\u0442\\u0443\\u0430\\u043b\\u044c\\u043d\\u044b\\u0435 \\u0430\\u0442\\u0440\\u0438\\u0431\\u0443\\u0442\\u044b\n-features=\\u0421\\u0432\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430\n-matchingCond=\\u041a\\u0440\\u0438\\u0442\\u0435\\u0440\\u0438\\u0439 \\u0441\\u043e\\u043e\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u0438\\u044f\n-userMatchingCond=\\u041a\\u0440\\u0438\\u0442\\u0435\\u0440\\u0438\\u0439 \\u0441\\u043e\\u043e\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u0438\\u044f \\u041f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0435\\u0439\n-groupMatchingCond=\\u041a\\u0440\\u0438\\u0442\\u0435\\u0440\\u0438\\u0439 \\u0441\\u043e\\u043e\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u0438\\u044f \\u0413\\u0440\\u0443\\u043f\\u043f\n-anyObjectMatchingCond=\\u041a\\u0440\\u0438\\u0442\\u0435\\u0440\\u0438\\u0439 \\u0441\\u043e\\u043e\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u0438\\u044f \\u041e\\u0431\\u044a\\u0435\\u043a\\u0442\\u043e\\u0432"},{"sha":"39e019b4118d549ce76253df3e52cc55a21b8efe","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletWizardBuilder$Profile.html","status":"removed","additions":0,"deletions":23,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile.html?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,23 +0,0 @@\n-<!--\n-Licensed to the Apache Software Foundation (ASF) under one\n-or more contributor license agreements.  See the NOTICE file\n-distributed with this work for additional information\n-regarding copyright ownership.  The ASF licenses this file\n-to you under the Apache License, Version 2.0 (the\n-\"License\"); you may not use this file except in compliance\n-with the License.  You may obtain a copy of the License at\n-\n-  http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing,\n-software distributed under the License is distributed on an\n-\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-KIND, either express or implied.  See the License for the\n-specific language governing permissions and limitations\n-under the License.\n--->\n-<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n-  <wicket:panel>\n-    <div class=\"form-group\"><span wicket:id=\"reportlet\">[reportlet]</span></div>\n-  </wicket:panel>\n-</html>"},{"sha":"43ef1b7683ceb5708ad1d628e92536bf20e188ec","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletWizardBuilder$Profile.properties","status":"removed","additions":0,"deletions":18,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,18 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-reportlet=Reportlet\n-configuration=Configuration"},{"sha":"43ef1b7683ceb5708ad1d628e92536bf20e188ec","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletWizardBuilder$Profile_fr_CA.properties","status":"removed","additions":0,"deletions":18,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile_fr_CA.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,18 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-reportlet=Reportlet\n-configuration=Configuration"},{"sha":"da2ac02b37fc9dad76cd65b10309f778b6b68108","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletWizardBuilder$Profile_it.properties","status":"removed","additions":0,"deletions":18,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile_it.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,18 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-reportlet=Reportlet\n-configuration=Configurazione"},{"sha":"86c09938fd4fa5a77784b59f7910a654e44f8551","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletWizardBuilder$Profile_ja.properties","status":"removed","additions":0,"deletions":18,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile_ja.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,18 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-reportlet=\\u30ec\\u30dd\\u30fc\\u30c8\\u30ec\\u30c3\\u30c8\n-configuration=\\u8a2d\\u5b9a"},{"sha":"43ef1b7683ceb5708ad1d628e92536bf20e188ec","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletWizardBuilder$Profile_pt_BR.properties","status":"removed","additions":0,"deletions":18,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile_pt_BR.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,18 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-reportlet=Reportlet\n-configuration=Configuration"},{"sha":"015497366d8e9295835dd7b0339411978f3e5950","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/reports/ReportletWizardBuilder$Profile_ru.properties","status":"removed","additions":0,"deletions":19,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Freports%2FReportletWizardBuilder%24Profile_ru.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,19 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-#\n-reportlet=Reportlet\n-configuration=\\u041a\\u043e\\u043d\\u0444\\u0438\\u0433\\u0443\\u0440\\u0430\\u0446\\u0438\\u044f"},{"sha":"673ade04377f723933f886f85157f9dec5b8231e","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionsPanel.properties","status":"modified","additions":0,"deletions":20,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -173,26 +173,6 @@ export.class=fas fa-save\n export.title=export\n export.alt=export icon\n \n-export_csv.class=fas fa-file-csv\n-export_csv.title=export as csv\n-export_csv.alt=export as csv icon\n-\n-export_html.class=fas fa-file-code\n-export_html.title=export as html\n-export_html.alt=export as html icon\n-\n-export_pdf.class=fas fa-file-pdf\n-export_pdf.title=export as pdf\n-export_pdf.alt=export as pdf icon\n-\n-export_rtf.class=fas fa-file-word\n-export_rtf.title=export as rtf\n-export_rtf.alt=export as rtf icon\n-\n-export_xml.class=fas fa-file-excel\n-export_xml.title=export as xml\n-export_xml.alt=export as xml icon\n-\n suspend.class=fas fa-ban\n suspend.title=suspend\n suspend.alt=suspend icon"},{"sha":"8bcf8e8562592507d8386937254e7a83b78d06cc","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionsPanel_fr_CA.properties","status":"modified","additions":2,"deletions":17,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_fr_CA.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -137,21 +137,6 @@ close.alt=ic\\u00f4ne fermer\n export.class=fas fa-save\n export.title=exporter\n export.alt=ic\\u00f4ne exporter\n-export_csv.class=fas fa-file-csv\n-export_csv.title=exporter en csv\n-export_csv.alt=ic\\u00f4ne exporter en csv\n-export_html.class=fas fa-file-code\n-export_html.title=exporter en html\n-export_html.alt=ic\\u00f4ne exporter en html\n-export_pdf.class=fas fa-file-pdf\n-export_pdf.title=exporter en pdf\n-export_pdf.alt=ic\\u00f4ne exporter en pdf\n-export_rtf.class=fas fa-file-word\n-export_rtf.title=exporter en rtf\n-export_rtf.alt=ic\\u00f4ne exporter en rtf\n-export_xml.class=fas fa-file-excel\n-export_xml.title=exporter en xml\n-export_xml.alt=ic\\u00f4ne exporter en xml\n suspend.class=fas fa-ban\n suspend.title=interrompre\n suspend.alt=ic\\u00f4ne interrompre\n@@ -216,8 +201,8 @@ notification_tasks.title=t\\u00e2ches de notification\n notification_tasks.alt=ic\\u00f4ne t\\u00e2ches de notification\n \n pull_tasks.class=fa fa-chevron-circle-left\n-pull_tasks.title=t\\u00c2ches d\\u0027extraction\n-pull_tasks.alt=ic\\u00f4ne t\\u00c2ches d\\u0027extraction\n+pull_tasks.title=t\\u00c2ches d'extraction\n+pull_tasks.alt=ic\\u00f4ne t\\u00c2ches d'extraction\n \n push_tasks.class=fa fa-chevron-circle-right\n push_tasks.title=pousser des t\\u00c2ches"},{"sha":"73e07407980caaca0a2601c3f203dfc593aa7912","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionsPanel_it.properties","status":"modified","additions":1,"deletions":21,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_it.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -167,29 +167,9 @@ close.title=close\n close.alt=close icon\n \n export.class=fas fa-save\n-export.title=export\n+export.title=esporta\n export.alt=export icon\n \n-export_csv.class=fas fa-file-csv\n-export_csv.title=export as csv\n-export_csv.alt=export as csv icon\n-\n-export_html.class=fas fa-file-code\n-export_html.title=export as html\n-export_html.alt=export as html icon\n-\n-export_pdf.class=fas fa-file-pdf\n-export_pdf.title=export as pdf\n-export_pdf.alt=export as pdf icon\n-\n-export_rtf.class=fas fa-file-word\n-export_rtf.title=export as rtf\n-export_rtf.alt=export as rtf icon\n-\n-export_xml.class=fas fa-file-excel\n-export_xml.title=export as xml\n-export_xml.alt=export as xml icon\n-\n suspend.class=fas fa-ban\n suspend.title=sospendi\n suspend.alt=suspend icon"},{"sha":"0712a7561c294aba97aafd0bf9845321fe4511d0","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionsPanel_ja.properties","status":"modified","additions":0,"deletions":20,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_ja.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -170,26 +170,6 @@ export.class=fas fa-save\n export.title=\\u30a8\\u30af\\u30b9\\u30dd\\u30fc\\u30c8\n export.alt=\\u30a8\\u30af\\u30b9\\u30dd\\u30fc\\u30c8\n \n-export_csv.class=fas fa-file-csv\n-export_csv.title=csv \\u3068\\u3057\\u3066\\u30a8\\u30af\\u30b9\\u30dd\\u30fc\\u30c8\n-export_csv.alt=csv \\u3068\\u3057\\u3066\\u30a8\\u30af\\u30b9\\u30dd\\u30fc\\u30c8\n-\n-export_html.class=fas fa-file-code\n-export_html.title=html \\u3068\\u3057\\u3066\\u30a8\\u30af\\u30b9\\u30dd\\u30fc\\u30c8\n-export_html.alt=html \\u3068\\u3057\\u3066\\u30a8\\u30af\\u30b9\\u30dd\\u30fc\\u30c8\n-\n-export_pdf.class=fas fa-file-pdf\n-export_pdf.title=pdf \\u3068\\u3057\\u3066\\u30a8\\u30af\\u30b9\\u30dd\\u30fc\\u30c8\n-export_pdf.alt=pdf \\u3068\\u3057\\u3066\\u30a8\\u30af\\u30b9\\u30dd\\u30fc\\u30c8\n-\n-export_rtf.class=fas fa-file-word\n-export_rtf.title=rtf \\u3068\\u3057\\u3066\\u30a8\\u30af\\u30b9\\u30dd\\u30fc\\u30c8\n-export_rtf.alt=rtf \\u3068\\u3057\\u3066\\u30a8\\u30af\\u30b9\\u30dd\\u30fc\\u30c8\n-\n-export_xml.class=fas fa-file-excel\n-export_xml.title=xml \\u3068\\u3057\\u3066\\u30a8\\u30af\\u30b9\\u30dd\\u30fc\\u30c8\n-export_xml.alt=xml \\u3068\\u3057\\u3066\\u30a8\\u30af\\u30b9\\u30dd\\u30fc\\u30c8\n-\n suspend.class=fas fa-ban\n suspend.title=\\u30b5\\u30b9\\u30da\\u30f3\\u30c9\n suspend.alt=\\u30b5\\u30b9\\u30da\\u30f3\\u30c9"},{"sha":"f54bdbfd6894fca3c563142463148deff3eab050","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionsPanel_pt_BR.properties","status":"modified","additions":0,"deletions":20,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_pt_BR.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -173,26 +173,6 @@ export.class=fas fa-save\n export.title=export\n export.alt=export icon\n \n-export_csv.class=fas fa-file-csv\n-export_csv.title=export as csv\n-export_csv.alt=export as csv icon\n-\n-export_html.class=fas fa-file-code\n-export_html.title=export as html\n-export_html.alt=export as html icon\n-\n-export_pdf.class=fas fa-file-pdf\n-export_pdf.title=export as pdf\n-export_pdf.alt=export as pdf icon\n-\n-export_rtf.class=fas fa-file-word\n-export_rtf.title=export as rtf\n-export_rtf.alt=export as rtf icon\n-\n-export_xml.class=fas fa-file-excel\n-export_xml.title=export as xml\n-export_xml.alt=export as xml icon\n-\n suspend.class=fas fa-ban\n suspend.title=suspend\n suspend.alt=suspend icon"},{"sha":"56c33ae7aeddc6a79ababe5b9c2a5931bf2d7c2f","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionsPanel_ru.properties","status":"modified","additions":0,"deletions":20,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel_ru.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -170,26 +170,6 @@ export.class=fas fa-save\n export.title=export\n export.alt=export icon\n \n-export_csv.class=fas fa-file-csv\n-export_csv.title=export as csv\n-export_csv.alt=export as csv icon\n-\n-export_html.class=fas fa-file-code\n-export_html.title=export as html\n-export_html.alt=export as html icon\n-\n-export_pdf.class=fas fa-file-pdf\n-export_pdf.title=export as pdf\n-export_pdf.alt=export as pdf icon\n-\n-export_rtf.class=fas fa-file-word\n-export_rtf.title=export as rtf\n-export_rtf.alt=export as rtf icon\n-\n-export_xml.class=fas fa-file-excel\n-export_xml.title=export as xml\n-export_xml.alt=export as xml icon\n-\n suspend.class=fas fa-ban\n suspend.title=suspend\n suspend.alt=suspend icon"},{"sha":"b0531c8c20ccc88475af46fe55538ed9140cb1e5","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/widgets/JobWidget.properties","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -24,5 +24,4 @@ available=Available\n recent=Recent\n jobs=Jobs\n execution.view=Result status of execution '${key}'\n-reportlet.conf=Reportlet configuration for ${name}\n "},{"sha":"eea73040907380d75fdc900c91e857779e519c24","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/widgets/JobWidget_fr_CA.properties","status":"modified","additions":7,"deletions":8,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget_fr_CA.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -14,14 +14,13 @@\n # KIND, either express or implied.  See the License for the\n # specific language governing permissions and limitations\n # under the License.\n-refDesc=R�f�rence\n-running=Ex�cution\n-scheduled=Programm�\n-start=D�but\n+refDesc=R\\u00e9f\\u00e9rence\n+running=Ex\\u00e9cution\n+scheduled=Programm\\u00e9\n+start=D\\u00e9but\n message=Message\n end=Fin\n available=Disponible\n-recent=R�cents\n-jobs= T�ches\n-execution.view=R�sultat �tat d'ex�cution'${key}''\n-reportlet.conf=Configuration Reportlet pour ${name}\n+recent=R\\u00e9cents\n+jobs= T\\u00e2ches\n+execution.view=R\\u00e9sultat \\u00e9tat d'ex\\u00e9cution'${key}''"},{"sha":"e898e386e83f1831f72f2e9fa474af5ed183b706","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/widgets/JobWidget_it.properties","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget_it.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -24,4 +24,3 @@ available=Disponibili\n recent=Recenti\n jobs=Job\n execution.view=Stato dell'esecuzione'${key}'\n-reportlet.conf=reportlet.conf=Configurazione reportlet per ${name}"},{"sha":"1e99700532f665ce2ea626f3c1a635b91f388959","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/widgets/JobWidget_ja.properties","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget_ja.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -24,5 +24,4 @@ available=\\u5229\\u7528\\u53ef\\u80fd\n recent=\\u6700\\u8fd1\\u4f7f\\u7528\n jobs=\\u30b8\\u30e7\\u30d6\n execution.view=\\u5b9f\\u884c '${key}' \\u306e\\u7d50\\u679c\\u30b9\\u30c6\\u30fc\\u30bf\\u30b9\n-reportlet.conf=${name} \\u306e\\u30ec\\u30dd\\u30fc\\u30c8\\u30ec\\u30c3\\u30c8\\u8a2d\\u5b9a\n "},{"sha":"109f3dfd39fde00a80df86563ad5a0fed2a5fe23","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/widgets/JobWidget_pt_BR.properties","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget_pt_BR.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -24,4 +24,3 @@ available=Dispon\\u00edvel\n recent=Recente\n jobs=Job\n execution.view=Status do resultado da execu\\u00e7\\u00e3o '${key}'\n-reportlet.conf=reportlet.conf=Reportlet configuration for ${name}"},{"sha":"e2b39d5d67faeb968f39dfb45c1d5e854d2a2dcb","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/widgets/JobWidget_ru.properties","status":"modified","additions":0,"deletions":1,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FJobWidget_ru.properties?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -34,4 +34,3 @@ recent=\\u041f\\u043e\\u0441\\u043b\\u0435\\u0434\\u043d\\u0438\\u0435 \\u0432\\u044b\\u043f\n # jobs=\\u00d0\\u0097\\u00d0\\u00b0\\u00d0\\u00b4\\u00d0\\u00b0\\u00d1\\u0087\\u00d0\\u00b8\n jobs=\\u0417\\u0430\\u0434\\u0430\\u0447\\u0438\n execution.view=\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \\u0420\\u0435\\u0437\\u0443\\u043b\\u044c\\u0442\\u0430\\u0442 \\u0438\\u0441\\u043f\\u043e\\u043b\\u043d\\u0435\\u043d\\u0438\\u044f '${key}'\n-reportlet.conf=reportlet.conf=\\u041d\\u0430\\u0441\\u0442\\u0440\\u043e\\u0439\\u043a\\u0430 \\u043f\\u0430\\u043d\\u0435\\u043b\\u0438 \\u043e\\u0442\\u0447\\u0435\\u0442\\u0430 \\u0434\\u043b\\u044f ${name}"},{"sha":"4e5a6786aff3ffaa7d712d48c2b37a77a5285201","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/widgets/ReconciliationWidget.html","status":"removed","additions":0,"deletions":57,"changes":57,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget.html?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,57 +0,0 @@\n-<!--\n-Licensed to the Apache Software Foundation (ASF) under one\n-or more contributor license agreements.  See the NOTICE file\n-distributed with this work for additional information\n-regarding copyright ownership.  The ASF licenses this file\n-to you under the Apache License, Version 2.0 (the\n-\"License\"); you may not use this file except in compliance\n-with the License.  You may obtain a copy of the License at\n-\n-  http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing,\n-software distributed under the License is distributed on an\n-\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-KIND, either express or implied.  See the License for the\n-specific language governing permissions and limitations\n-under the License.\n--->\n-<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n-  <wicket:panel>\n-    <div class=\"card card-gray\" wicket:id=\"reconciliationContainer\">\n-      <div class=\"card-header\">\n-        <h3 class=\"card-title\"><wicket:message key=\"reconciliationStatus\"/></h3>\n-\n-        <div class=\"card-tools\">\n-          <div class=\"btn-group\" role=\"group\">\n-            <button class=\"btn btn-tool dropdown-toggle\" data-toggle=\"dropdown\">\n-              <i class=\"fas fa-wrench\"></i>\n-            </button>\n-            <div class=\"dropdown-menu\" role=\"group\">\n-              <a href=\"#\" class=\"dropdown-item text-dark\" wicket:id=\"refresh\"><wicket:message key=\"refresh\"/></a>\n-            </div>\n-          </div>\n-\n-          <button type=\"button\" class=\"btn btn-tool\" data-card-widget=\"collapse\"><i class=\"fas fa-minus\"></i>\n-          </button>\n-        </div>\n-      </div>\n-      <div class=\"card-body\">\n-        <div wicket:id=\"reportResult\"/>\n-      </div>\n-      <div wicket:id=\"overlay\" class=\"overlay\">\n-        <i class=\"fas fa-sync fa-spin\"></i>\n-      </div>\n-    </div>\n-\n-    <wicket:fragment wicket:id=\"noExecFragment\">\n-      <wicket:message key=\"nothingToShow\"/>\n-    </wicket:fragment>\n-\n-    <wicket:fragment wicket:id=\"execFragment\">\n-      <div wicket:id=\"execResult\"/>\n-    </wicket:fragment>\n-\n-    <div wicket:id=\"detailsModal\"/>\n-  </wicket:panel>\n-</html>"},{"sha":"562c79c18d7fda1e5ac97b4434c4bf49c2cf5c01","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/widgets/ReconciliationWidget.properties","status":"removed","additions":0,"deletions":21,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,21 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-reconciliationStatus=Reconciliation Status\n-refresh=Refresh\n-nothingToShow=Nothing to show yet. Please refresh.\n-summary=Summary\n-reference=Reference"},{"sha":"5ee6fe0d3261e68a3f4fe86a3f5f27da5ef515c4","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/widgets/ReconciliationWidget_fr_CA.properties","status":"removed","additions":0,"deletions":21,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget_fr_CA.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,21 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-reconciliationStatus=Statut de rapprochement\n-refresh=Actualiser\n-nothingToShow=Rien � afficher pour le moment. Actualiser.\n-summary=R�sum�\n-reference=R�f�rence"},{"sha":"59918abdbbf1bbe13cf9b917e3cfb2b5ad6f7012","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/widgets/ReconciliationWidget_it.properties","status":"removed","additions":0,"deletions":21,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget_it.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,21 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-reconciliationStatus=Stato della Riconciliazione\n-refresh=Ricarica\n-nothingToShow=Nessun risultato disponibile. Ricaricare per favore.\n-summary=Sommario\n-reference=Riferimento"},{"sha":"268314bc1ecc92bf7bcfc5a9778f6fe9dc9f064d","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/widgets/ReconciliationWidget_ja.properties","status":"removed","additions":0,"deletions":21,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget_ja.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,21 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-reconciliationStatus=\\u7167\\u5408\\u30b9\\u30c6\\u30fc\\u30bf\\u30b9\n-refresh=\\u30ea\\u30d5\\u30ec\\u30c3\\u30b7\\u30e5\n-nothingToShow=\\u307e\\u3060\\u8868\\u793a\\u3059\\u308b\\u3082\\u306e\\u306f\\u3042\\u308a\\u307e\\u305b\\u3093\\u3002\\u30ea\\u30d5\\u30ec\\u30c3\\u30b7\\u30e5\\u3057\\u3066\\u304f\\u3060\\u3055\\u3044\\u3002\n-summary=\\u30b5\\u30de\\u30ea\\u30fc\n-reference=\\u53c2\\u7167"},{"sha":"9d4cc1cc6db57597368746be0fb4c9d1db49ca0e","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/widgets/ReconciliationWidget_pt_BR.properties","status":"removed","additions":0,"deletions":21,"changes":21,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget_pt_BR.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,21 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-reconciliationStatus=Estado Reconcilia\\u00e7\\u00e3o\n-refresh=Atualize\n-nothingToShow=Nada para mostrar ainda. Por favor, atualize.\n-summary=Resumo\n-reference=Refer\\u00eancia"},{"sha":"5023fa9d27731f646a9207e8e059f3e810f76dfd","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/widgets/ReconciliationWidget_ru.properties","status":"removed","additions":0,"deletions":27,"changes":27,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget_ru.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,27 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-#\n-# reconciliationStatus=Статус реконсилиации\n-reconciliationStatus=\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \\u0440\\u0435\\u043a\\u043e\\u043d\\u0441\\u0438\\u043b\\u0438\\u0430\\u0446\\u0438\\u0438\n-# refresh=Обновить\n-refresh=\\u041e\\u0431\\u043d\\u043e\\u0432\\u0438\\u0442\\u044c\n-# nothingToShow=Нет данных. Пожалуйста, обновите.\n-nothingToShow=\\u041d\\u0435\\u0442 \\u0434\\u0430\\u043d\\u043d\\u044b\\u0445. \\u041f\\u043e\\u0436\\u0430\\u043b\\u0443\\u0439\\u0441\\u0442\\u0430, \\u043e\\u0431\\u043d\\u043e\\u0432\\u0438\\u0442\\u0435.\n-# summary=Сводка\n-summary=\\u0421\\u0432\\u043e\\u0434\\u043a\\u0430\n-# reference=Название\n-reference=\\u041d\\u0430\\u0437\\u0432\\u0430\\u043d\\u0438\\u0435"},{"sha":"3cb702ee9a05369e5559ace2fbe203231a87fd9d","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/widgets/RemediationsWidget_fr_CA.properties","status":"removed","additions":0,"deletions":18,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FRemediationsWidget_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FRemediationsWidget_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FRemediationsWidget_fr_CA.properties?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,18 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n-# or more contributor license agreements.  See the NOTICE file\n-# distributed with this work for additional information\n-# regarding copyright ownership.  The ASF licenses this file\n-# to you under the Apache License, Version 2.0 (the\n-# \"License\"); you may not use this file except in compliance\n-# with the License.  You may obtain a copy of the License at\n-#\n-#   http://www.apache.org/licenses/LICENSE-2.0\n-#\n-# Unless required by applicable law or agreed to in writing,\n-# software distributed under the License is distributed on an\n-# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n-# KIND, either express or implied.  See the License for the\n-# specific language governing permissions and limitations\n-# under the License.\n-alerts.view.all=Voir toutes les mesures correctives\n-summary=${number} mesure(s) correctives en attente"},{"sha":"93a46de7aed3387cf71fb4cda3c6f2dc5b0eeefd","filename":"client/idrepo/enduser/src/main/java/org/apache/syncope/client/enduser/EnduserProperties.java","status":"modified","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FEnduserProperties.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FEnduserProperties.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2FEnduserProperties.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -24,9 +24,12 @@\n import org.apache.syncope.client.enduser.panels.Sidebar;\n import org.apache.syncope.client.ui.commons.CommonUIProperties;\n import org.springframework.boot.context.properties.ConfigurationProperties;\n+\n @ConfigurationProperties(\"enduser\")\n public class EnduserProperties extends CommonUIProperties {\n \n+    private static final long serialVersionUID = 7455729386695110295L;\n+\n     private Class<? extends Sidebar> sidebar = Sidebar.class;\n \n     private String customFormLayout = \"classpath:/customFormLayout.json\";"},{"sha":"e6959906eaed5bfbf4f3e4cd29261394dd6f20e7","filename":"client/idrepo/enduser/src/main/java/org/apache/syncope/client/enduser/init/ClassPathScanImplementationLookup.java","status":"modified","additions":4,"deletions":1,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Finit%2FClassPathScanImplementationLookup.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Finit%2FClassPathScanImplementationLookup.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Finit%2FClassPathScanImplementationLookup.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.client.enduser.init;\n \n+import java.io.Serializable;\n import java.lang.reflect.Modifier;\n import java.util.ArrayList;\n import java.util.Collections;\n@@ -37,7 +38,9 @@\n import org.springframework.core.type.filter.AssignableTypeFilter;\n import org.springframework.util.ClassUtils;\n \n-public class ClassPathScanImplementationLookup {\n+public class ClassPathScanImplementationLookup implements Serializable {\n+\n+    private static final long serialVersionUID = -4944986595429290116L;\n \n     private static final Logger LOG = LoggerFactory.getLogger(ClassPathScanImplementationLookup.class);\n "},{"sha":"16349a93b96152fc23b728913637f09a6d9caa9f","filename":"common/idm/lib/src/main/java/org/apache/syncope/common/lib/types/IdMImplementationType.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/common%2Fidm%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FIdMImplementationType.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/common%2Fidm%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FIdMImplementationType.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidm%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FIdMImplementationType.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -38,12 +38,12 @@ public final class IdMImplementationType {\n     public static final String PROVISION_SORTER = \"PROVISION_SORTER\";\n \n     private static final Map<String, String> VALUES = Map.ofEntries(\n-            Pair.of(RECON_FILTER_BUILDER, \"org.apache.syncope.core.persistence.api.dao.Reportlet\"),\n+            Pair.of(RECON_FILTER_BUILDER, \"org.apache.syncope.core.provisioning.api.pushpull.ReconFilterBuilder\"),\n             Pair.of(PROPAGATION_ACTIONS, \"org.apache.syncope.core.provisioning.api.propagation.PropagationActions\"),\n             Pair.of(PULL_ACTIONS, \"org.apache.syncope.core.provisioning.api.pushpull.PullActions\"),\n             Pair.of(PUSH_ACTIONS, \"org.apache.syncope.core.provisioning.api.pushpull.PushActions\"),\n-            Pair.of(PULL_CORRELATION_RULE, \"org.apache.syncope.core.persistence.api.dao.PullCorrelationRule\"),\n-            Pair.of(PUSH_CORRELATION_RULE, \"org.apache.syncope.core.persistence.api.dao.PushCorrelationRule\"),\n+            Pair.of(PULL_CORRELATION_RULE, \"org.apache.syncope.core.provisioning.api.rules.PullCorrelationRule\"),\n+            Pair.of(PUSH_CORRELATION_RULE, \"org.apache.syncope.core.provisioning.api.rules.PushCorrelationRule\"),\n             Pair.of(PROVISION_SORTER, \"org.apache.syncope.core.provisioning.api.ProvisionSorter\"));\n \n     public static Map<String, String> values() {"},{"sha":"a5bfb44ed0593f01a5b345b3dcba47efa0d9b69c","filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/SyncopeProperties.java","status":"modified","additions":5,"deletions":1,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2FSyncopeProperties.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2FSyncopeProperties.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2FSyncopeProperties.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,7 +18,11 @@\n  */\n package org.apache.syncope.common.lib;\n \n-public abstract class SyncopeProperties {\n+import java.io.Serializable;\n+\n+public abstract class SyncopeProperties implements Serializable {\n+\n+    private static final long serialVersionUID = -2010397350183187681L;\n \n     private String anonymousUser;\n "},{"sha":"11026aaf89fc659605918b8381cb8950be81b63f","filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/AbstractAnyReportletConf.java","status":"removed","additions":0,"deletions":32,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FAbstractAnyReportletConf.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FAbstractAnyReportletConf.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FAbstractAnyReportletConf.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,32 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.common.lib.report;\n-\n-public abstract class AbstractAnyReportletConf extends AbstractReportletConf {\n-\n-    private static final long serialVersionUID = -5388597116592877789L;\n-\n-    public AbstractAnyReportletConf() {\n-        super();\n-    }\n-\n-    public AbstractAnyReportletConf(final String name) {\n-        super(name);\n-    }\n-}"},{"sha":"975fb70327d7469ccf275d239824851e00a6ae4b","filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/AbstractReportletConf.java","status":"removed","additions":0,"deletions":48,"changes":48,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FAbstractReportletConf.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FAbstractReportletConf.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FAbstractReportletConf.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,48 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.common.lib.report;\n-\n-import org.apache.commons.lang3.StringUtils;\n-import org.apache.syncope.common.lib.BaseBean;\n-\n-public abstract class AbstractReportletConf implements BaseBean, ReportletConf {\n-\n-    private static final long serialVersionUID = -6130008602014516608L;\n-\n-    private String name;\n-\n-    public AbstractReportletConf() {\n-        this(StringUtils.EMPTY);\n-        setName(getClass().getName());\n-    }\n-\n-    public AbstractReportletConf(final String name) {\n-        super();\n-        this.name = name;\n-    }\n-\n-    @Override\n-    public final String getName() {\n-        return name;\n-    }\n-\n-    public final void setName(final String name) {\n-        this.name = name;\n-    }\n-}"},{"sha":"e248bb5b168bd1d668f0c527eb9bf6f2c7aaafdf","filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/AuditReportletConf.java","status":"removed","additions":0,"deletions":42,"changes":42,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FAuditReportletConf.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FAuditReportletConf.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FAuditReportletConf.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,42 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.common.lib.report;\n-\n-public class AuditReportletConf extends AbstractReportletConf {\n-\n-    private static final long serialVersionUID = -4814950086361753689L;\n-\n-    private int size = 10;\n-\n-    public AuditReportletConf() {\n-        super();\n-    }\n-\n-    public AuditReportletConf(final String name) {\n-        super(name);\n-    }\n-\n-    public int getSize() {\n-        return size;\n-    }\n-\n-    public void setSize(final int size) {\n-        this.size = size;\n-    }\n-}"},{"sha":"15ff9cbe6bc3b3010e763807cd9473cf844707ee","filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/GroupReportletConf.java","status":"removed","additions":0,"deletions":97,"changes":97,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FGroupReportletConf.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FGroupReportletConf.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FGroupReportletConf.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,97 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.common.lib.report;\n-\n-import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\n-import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\n-import java.util.ArrayList;\n-import java.util.List;\n-import org.apache.syncope.common.lib.Schema;\n-import org.apache.syncope.common.lib.types.AnyTypeKind;\n-import org.apache.syncope.common.lib.types.SchemaType;\n-\n-public class GroupReportletConf extends AbstractAnyReportletConf {\n-\n-    private static final long serialVersionUID = -8488503068032439699L;\n-\n-    public enum Feature {\n-\n-        key,\n-        name,\n-        groupOwner,\n-        userOwner,\n-        users,\n-        resources\n-\n-    }\n-\n-    @Schema(anyTypeKind = AnyTypeKind.GROUP, type = { SchemaType.PLAIN })\n-    private final List<String> plainAttrs = new ArrayList<>();\n-\n-    @Schema(anyTypeKind = AnyTypeKind.GROUP, type = { SchemaType.DERIVED })\n-    private final List<String> derAttrs = new ArrayList<>();\n-\n-    @Schema(anyTypeKind = AnyTypeKind.GROUP, type = { SchemaType.VIRTUAL })\n-    private final List<String> virAttrs = new ArrayList<>();\n-\n-    @SearchCondition(type = \"GROUP\")\n-    protected String matchingCond;\n-\n-    private final List<Feature> features = new ArrayList<>();\n-\n-    public String getMatchingCond() {\n-        return matchingCond;\n-    }\n-\n-    public void setMatchingCond(final String matchingCond) {\n-        this.matchingCond = matchingCond;\n-    }\n-\n-    @JacksonXmlElementWrapper(localName = \"plainAttrs\")\n-    @JacksonXmlProperty(localName = \"plainAttr\")\n-    public List<String> getPlainAttrs() {\n-        return plainAttrs;\n-    }\n-\n-    @JacksonXmlElementWrapper(localName = \"derAttrs\")\n-    @JacksonXmlProperty(localName = \"derAttr\")\n-    public List<String> getDerAttrs() {\n-        return derAttrs;\n-    }\n-\n-    @JacksonXmlElementWrapper(localName = \"virAttrs\")\n-    @JacksonXmlProperty(localName = \"virAttr\")\n-    public List<String> getVirAttrs() {\n-        return virAttrs;\n-    }\n-\n-    public GroupReportletConf() {\n-        super();\n-    }\n-\n-    public GroupReportletConf(final String name) {\n-        super(name);\n-    }\n-\n-    @JacksonXmlElementWrapper(localName = \"features\")\n-    @JacksonXmlProperty(localName = \"feature\")\n-    public List<Feature> getFeatures() {\n-        return features;\n-    }\n-}"},{"sha":"e2fb8f40211b03e65bb0270f99568147f0043ffa","filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/ReconciliationReportletConf.java","status":"removed","additions":0,"deletions":92,"changes":92,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FReconciliationReportletConf.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FReconciliationReportletConf.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FReconciliationReportletConf.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,92 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.common.lib.report;\n-\n-import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\n-import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\n-import java.util.ArrayList;\n-import java.util.List;\n-\n-public class ReconciliationReportletConf extends AbstractReportletConf {\n-\n-    private static final long serialVersionUID = 6602717600064602764L;\n-\n-    public enum Feature {\n-\n-        key,\n-        username,\n-        groupName,\n-        status,\n-        creationDate,\n-        lastLoginDate,\n-        changePwdDate,\n-        passwordHistorySize,\n-        failedLoginCount;\n-\n-    }\n-\n-    @SearchCondition(type = \"USER\")\n-    private String userMatchingCond;\n-\n-    @SearchCondition(type = \"GROUP\")\n-    private String groupMatchingCond;\n-\n-    @SearchCondition(type = \"\")\n-    private String anyObjectMatchingCond;\n-\n-    private final List<Feature> features = new ArrayList<>();\n-\n-    public ReconciliationReportletConf() {\n-        super();\n-    }\n-\n-    public ReconciliationReportletConf(final String name) {\n-        super(name);\n-    }\n-\n-    public String getUserMatchingCond() {\n-        return userMatchingCond;\n-    }\n-\n-    public void setUserMatchingCond(final String userMatchingCond) {\n-        this.userMatchingCond = userMatchingCond;\n-    }\n-\n-    public String getGroupMatchingCond() {\n-        return groupMatchingCond;\n-    }\n-\n-    public void setGroupMatchingCond(final String groupMatchingCond) {\n-        this.groupMatchingCond = groupMatchingCond;\n-    }\n-\n-    public String getAnyObjectMatchingCond() {\n-        return anyObjectMatchingCond;\n-    }\n-\n-    public void setAnyObjectMatchingCond(final String anyObjectMatchingCond) {\n-        this.anyObjectMatchingCond = anyObjectMatchingCond;\n-    }\n-\n-    @JacksonXmlElementWrapper(localName = \"features\")\n-    @JacksonXmlProperty(localName = \"feature\")\n-    public List<Feature> getFeatures() {\n-        return features;\n-    }\n-}"},{"sha":"f95c1a8f64818600c29abfeb70d07f91021e6b5a","filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/ReportConf.java","status":"renamed","additions":1,"deletions":9,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FReportConf.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FReportConf.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FReportConf.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -21,14 +21,6 @@\n import com.fasterxml.jackson.annotation.JsonTypeInfo;\n import org.apache.syncope.common.lib.BaseBean;\n \n-@FunctionalInterface\n @JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = \"_class\")\n-public interface ReportletConf extends BaseBean {\n-\n-    /**\n-     * Give name of related reportlet instance.\n-     *\n-     * @return name of this reportlet instance\n-     */\n-    String getName();\n+public interface ReportConf extends BaseBean {\n }","previous_filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/ReportletConf.java"},{"sha":"17aacc01dc82956a76e5a409229ed6e0213e2b4c","filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/StaticReportletConf.java","status":"removed","additions":0,"deletions":97,"changes":97,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FStaticReportletConf.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FStaticReportletConf.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FStaticReportletConf.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,97 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.common.lib.report;\n-\n-import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\n-import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\n-import java.time.OffsetDateTime;\n-import java.util.ArrayList;\n-import java.util.List;\n-import org.apache.syncope.common.lib.types.TraceLevel;\n-\n-public class StaticReportletConf extends AbstractReportletConf {\n-\n-    private static final long serialVersionUID = -4814950086361753689L;\n-\n-    private String stringField;\n-\n-    private Long longField;\n-\n-    private Double doubleField;\n-\n-    private OffsetDateTime dateField;\n-\n-    private TraceLevel traceLevel;\n-\n-    private final List<String> listField = new ArrayList<>();\n-\n-    public StaticReportletConf() {\n-        super();\n-    }\n-\n-    public StaticReportletConf(final String name) {\n-        super(name);\n-    }\n-\n-    public OffsetDateTime getDateField() {\n-        return dateField;\n-    }\n-\n-    public void setDateField(final OffsetDateTime dateField) {\n-        this.dateField = dateField;\n-    }\n-\n-    public Double getDoubleField() {\n-        return doubleField;\n-    }\n-\n-    public void setDoubleField(final Double doubleField) {\n-        this.doubleField = doubleField;\n-    }\n-\n-    @JacksonXmlElementWrapper(localName = \"listField\")\n-    @JacksonXmlProperty(localName = \"field\")\n-    public List<String> getListField() {\n-        return listField;\n-    }\n-\n-    public Long getLongField() {\n-        return longField;\n-    }\n-\n-    public void setLongField(final Long longField) {\n-        this.longField = longField;\n-    }\n-\n-    public String getStringField() {\n-        return stringField;\n-    }\n-\n-    public void setStringField(final String stringField) {\n-        this.stringField = stringField;\n-    }\n-\n-    public TraceLevel getTraceLevel() {\n-        return traceLevel;\n-    }\n-\n-    public void setTraceLevel(final TraceLevel traceLevel) {\n-        this.traceLevel = traceLevel;\n-    }\n-}"},{"sha":"1c50bf354886e1d818b6ea22f803f268c3f797ec","filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/UserReportletConf.java","status":"removed","additions":0,"deletions":105,"changes":105,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FUserReportletConf.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FUserReportletConf.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Freport%2FUserReportletConf.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,105 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.common.lib.report;\n-\n-import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\n-import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\n-import java.util.ArrayList;\n-import java.util.List;\n-import org.apache.syncope.common.lib.Schema;\n-import org.apache.syncope.common.lib.types.AnyTypeKind;\n-import org.apache.syncope.common.lib.types.SchemaType;\n-\n-public class UserReportletConf extends AbstractAnyReportletConf {\n-\n-    private static final long serialVersionUID = 6602717600064602764L;\n-\n-    @Schema(anyTypeKind = AnyTypeKind.USER, type = { SchemaType.PLAIN })\n-    private final List<String> plainAttrs = new ArrayList<>();\n-\n-    @Schema(anyTypeKind = AnyTypeKind.USER, type = { SchemaType.DERIVED })\n-    private final List<String> derAttrs = new ArrayList<>();\n-\n-    @Schema(anyTypeKind = AnyTypeKind.USER, type = { SchemaType.VIRTUAL })\n-    private final List<String> virAttrs = new ArrayList<>();\n-\n-    public enum Feature {\n-\n-        key,\n-        username,\n-        status,\n-        creator,\n-        creationDate,\n-        lastModifier,\n-        lastChangeDate,\n-        lastLoginDate,\n-        changePwdDate,\n-        passwordHistorySize,\n-        failedLoginCount,\n-        relationships,\n-        memberships,\n-        resources\n-\n-    }\n-\n-    @SearchCondition(type = \"USER\")\n-    protected String matchingCond;\n-\n-    @JacksonXmlElementWrapper(localName = \"plainAttrs\")\n-    @JacksonXmlProperty(localName = \"plainAttr\")\n-    public List<String> getPlainAttrs() {\n-        return plainAttrs;\n-    }\n-\n-    @JacksonXmlElementWrapper(localName = \"derAttrs\")\n-    @JacksonXmlProperty(localName = \"derAttr\")\n-    public List<String> getDerAttrs() {\n-        return derAttrs;\n-    }\n-\n-    @JacksonXmlElementWrapper(localName = \"virAttrs\")\n-    @JacksonXmlProperty(localName = \"virAttr\")\n-    public List<String> getVirAttrs() {\n-        return virAttrs;\n-    }\n-\n-    private final List<Feature> features = new ArrayList<>();\n-\n-    public UserReportletConf() {\n-        super();\n-    }\n-\n-    public UserReportletConf(final String name) {\n-        super(name);\n-    }\n-\n-    public String getMatchingCond() {\n-        return matchingCond;\n-    }\n-\n-    public void setMatchingCond(final String matchingCond) {\n-        this.matchingCond = matchingCond;\n-    }\n-\n-    @JacksonXmlElementWrapper(localName = \"features\")\n-    @JacksonXmlProperty(localName = \"feature\")\n-    public List<Feature> getFeatures() {\n-        return features;\n-    }\n-}"},{"sha":"a99e23b41bddf43414b496ce581abf851b03ae8e","filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/to/ReportTO.java","status":"modified","additions":35,"deletions":21,"changes":56,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FReportTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FReportTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FReportTO.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -35,10 +35,16 @@ public class ReportTO extends AbstractStartEndBean implements NamedEntityTO {\n \n     private String name;\n \n-    private final List<String> reportlets = new ArrayList<>();\n+    private String mimeType;\n+\n+    private String fileExt;\n \n     private String cronExpression;\n \n+    private String jobDelegate;\n+\n+    private boolean active;\n+\n     private final List<ExecTO> executions = new ArrayList<>();\n \n     private String latestExecStatus;\n@@ -47,10 +53,6 @@ public class ReportTO extends AbstractStartEndBean implements NamedEntityTO {\n \n     private OffsetDateTime nextExec;\n \n-    private boolean active;\n-\n-    private String template;\n-\n     private String lastExecutor;\n \n     @Override\n@@ -74,10 +76,20 @@ public void setName(final String name) {\n         this.name = name;\n     }\n \n-    @JacksonXmlElementWrapper(localName = \"reportlets\")\n-    @JacksonXmlProperty(localName = \"reportlets\")\n-    public List<String> getReportlets() {\n-        return reportlets;\n+    public String getMimeType() {\n+        return mimeType;\n+    }\n+\n+    public void setMimeType(final String mimeType) {\n+        this.mimeType = mimeType;\n+    }\n+\n+    public String getFileExt() {\n+        return fileExt;\n+    }\n+\n+    public void setFileExt(final String fileExt) {\n+        this.fileExt = fileExt;\n     }\n \n     public String getCronExpression() {\n@@ -88,6 +100,14 @@ public void setCronExpression(final String cronExpression) {\n         this.cronExpression = cronExpression;\n     }\n \n+    public String getJobDelegate() {\n+        return jobDelegate;\n+    }\n+\n+    public void setJobDelegate(final String jobDelegate) {\n+        this.jobDelegate = jobDelegate;\n+    }\n+\n     @JacksonXmlElementWrapper(localName = \"executions\")\n     @JacksonXmlProperty(localName = \"execution\")\n     public List<ExecTO> getExecutions() {\n@@ -126,14 +146,6 @@ public void setActive(final boolean active) {\n         this.active = active;\n     }\n \n-    public String getTemplate() {\n-        return template;\n-    }\n-\n-    public void setTemplate(final String template) {\n-        this.template = template;\n-    }\n-\n     public String getLastExecutor() {\n         return lastExecutor;\n     }\n@@ -148,14 +160,15 @@ public int hashCode() {\n                 appendSuper(super.hashCode()).\n                 append(key).\n                 append(name).\n-                append(reportlets).\n+                append(mimeType).\n+                append(fileExt).\n                 append(cronExpression).\n+                append(jobDelegate).\n                 append(executions).\n                 append(latestExecStatus).\n                 append(lastExec).\n                 append(nextExec).\n                 append(active).\n-                append(template).\n                 append(lastExecutor).\n                 build();\n     }\n@@ -176,14 +189,15 @@ public boolean equals(final Object obj) {\n                 appendSuper(super.equals(obj)).\n                 append(key, other.key).\n                 append(name, other.name).\n-                append(reportlets, other.reportlets).\n+                append(mimeType, other.mimeType).\n+                append(fileExt, other.fileExt).\n                 append(cronExpression, other.cronExpression).\n+                append(jobDelegate, other.jobDelegate).\n                 append(executions, other.executions).\n                 append(latestExecStatus, other.latestExecStatus).\n                 append(lastExec, other.lastExec).\n                 append(nextExec, other.nextExec).\n                 append(active, other.active).\n-                append(template, other.template).\n                 append(lastExecutor, other.lastExecutor).\n                 build();\n     }"},{"sha":"f89be99873ef38eb196c5635eba0eca10ab531b6","filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/to/ReportTemplateTO.java","status":"removed","additions":0,"deletions":39,"changes":39,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FReportTemplateTO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FReportTemplateTO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Fto%2FReportTemplateTO.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,39 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.common.lib.to;\n-\n-import jakarta.ws.rs.PathParam;\n-\n-public class ReportTemplateTO implements EntityTO {\n-\n-    private static final long serialVersionUID = 7776679004906244896L;\n-\n-    private String key;\n-\n-    @Override\n-    public String getKey() {\n-        return key;\n-    }\n-\n-    @PathParam(\"key\")\n-    @Override\n-    public void setKey(final String key) {\n-        this.key = key;\n-    }\n-}"},{"sha":"9505ccd549c5e1496f36d2d7abca19507d6526d2","filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/types/AuditElements.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FAuditElements.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FAuditElements.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FAuditElements.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -33,6 +33,7 @@ public enum EventCategoryType {\n         LOGIC,\n         WA,\n         TASK,\n+        REPORT,\n         PROPAGATION,\n         PULL,\n         PUSH,"},{"sha":"981c5b99cbf5950ade360d2dbe18a5cd5ff5c3e5","filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/types/IdRepoImplementationType.java","status":"modified","additions":5,"deletions":5,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FIdRepoImplementationType.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FIdRepoImplementationType.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FIdRepoImplementationType.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -25,14 +25,14 @@ public final class IdRepoImplementationType {\n \n     public static final String JWT_SSO_PROVIDER = \"JWT_SSO_PROVIDER\";\n \n-    public static final String REPORTLET = \"REPORTLET\";\n-\n     public static final String ACCOUNT_RULE = \"ACCOUNT_RULE\";\n \n     public static final String PASSWORD_RULE = \"PASSWORD_RULE\";\n \n     public static final String TASKJOB_DELEGATE = \"TASKJOB_DELEGATE\";\n \n+    public static final String REPORT_DELEGATE = \"REPORT_DELEGATE\";\n+\n     public static final String LOGIC_ACTIONS = \"LOGIC_ACTIONS\";\n \n     public static final String VALIDATOR = \"VALIDATOR\";\n@@ -47,10 +47,10 @@ public final class IdRepoImplementationType {\n \n     private static final Map<String, String> VALUES = Map.ofEntries(\n             Pair.of(JWT_SSO_PROVIDER, \"org.apache.syncope.core.spring.security.JWTSSOProvider\"),\n-            Pair.of(REPORTLET, \"org.apache.syncope.core.persistence.api.dao.Reportlet\"),\n-            Pair.of(ACCOUNT_RULE, \"org.apache.syncope.core.persistence.api.dao.AccountRule\"),\n-            Pair.of(PASSWORD_RULE, \"org.apache.syncope.core.persistence.api.dao.PasswordRule\"),\n+            Pair.of(ACCOUNT_RULE, \"org.apache.syncope.core.provisioning.api.rules.AccountRule\"),\n+            Pair.of(PASSWORD_RULE, \"org.apache.syncope.core.provisioning.api.rules.PasswordRule\"),\n             Pair.of(TASKJOB_DELEGATE, \"org.apache.syncope.core.provisioning.api.job.SchedTaskJobDelegate\"),\n+            Pair.of(REPORT_DELEGATE, \"org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate\"),\n             Pair.of(LOGIC_ACTIONS, \"org.apache.syncope.core.logic.api.LogicActions\"),\n             Pair.of(VALIDATOR, \"org.apache.syncope.core.persistence.api.attrvalue.validation.PlainAttrValueValidator\"),\n             Pair.of(COMMAND, \"org.apache.syncope.core.logic.api.Command\"),"},{"sha":"9b95af22b27bd961e8383751951272d48548e32a","filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/types/ReportExecExportFormat.java","status":"removed","additions":0,"deletions":29,"changes":29,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FReportExecExportFormat.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FReportExecExportFormat.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FReportExecExportFormat.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,29 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.common.lib.types;\n-\n-public enum ReportExecExportFormat {\n-\n-    XML,\n-    HTML,\n-    PDF,\n-    RTF,\n-    CSV\n-\n-}"},{"sha":"2cbece1e7c453e3750fe317c714a9edf9da26749","filename":"common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/types/ReportExecStatus.java","status":"removed","additions":0,"deletions":28,"changes":28,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FReportExecStatus.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FReportExecStatus.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Flib%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Flib%2Ftypes%2FReportExecStatus.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,28 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.common.lib.types;\n-\n-public enum ReportExecStatus {\n-\n-    STARTED,\n-    RUNNING,\n-    SUCCESS,\n-    FAILURE;\n-\n-}"},{"sha":"0865e86886d2f4416eacbf10b839d261167d8718","filename":"common/idrepo/rest-api/src/main/java/org/apache/syncope/common/rest/api/service/ReportService.java","status":"modified","additions":1,"deletions":6,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/common%2Fidrepo%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FReportService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/common%2Fidrepo%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FReportService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FReportService.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -36,13 +36,11 @@\n import jakarta.ws.rs.Path;\n import jakarta.ws.rs.PathParam;\n import jakarta.ws.rs.Produces;\n-import jakarta.ws.rs.QueryParam;\n import jakarta.ws.rs.core.HttpHeaders;\n import jakarta.ws.rs.core.MediaType;\n import jakarta.ws.rs.core.Response;\n import java.util.List;\n import org.apache.syncope.common.lib.to.ReportTO;\n-import org.apache.syncope.common.lib.types.ReportExecExportFormat;\n import org.apache.syncope.common.rest.api.RESTHeaders;\n \n /**\n@@ -126,13 +124,10 @@ public interface ReportService extends ExecutableService {\n      * Exports the report execution with matching key in the requested format.\n      *\n      * @param executionKey key of execution report to be selected\n-     * @param fmt file-format selection\n      * @return a stream for content download\n      */\n     @GET\n     @Path(\"executions/{executionKey}/stream\")\n     @Consumes({ MediaType.APPLICATION_JSON, RESTHeaders.APPLICATION_YAML, MediaType.APPLICATION_XML })\n-    Response exportExecutionResult(\n-            @NotNull @PathParam(\"executionKey\") String executionKey,\n-            @QueryParam(\"format\") ReportExecExportFormat fmt);\n+    Response exportExecutionResult(@NotNull @PathParam(\"executionKey\") String executionKey);\n }"},{"sha":"949825ad716794afc3ee9635d95178b89ffa72bf","filename":"common/idrepo/rest-api/src/main/java/org/apache/syncope/common/rest/api/service/ReportTemplateService.java","status":"removed","additions":0,"deletions":150,"changes":150,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FReportTemplateService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/common%2Fidrepo%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FReportTemplateService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FReportTemplateService.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,150 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.common.rest.api.service;\n-\n-import io.swagger.v3.oas.annotations.headers.Header;\n-import io.swagger.v3.oas.annotations.media.Schema;\n-import io.swagger.v3.oas.annotations.responses.ApiResponse;\n-import io.swagger.v3.oas.annotations.responses.ApiResponses;\n-import io.swagger.v3.oas.annotations.security.SecurityRequirement;\n-import io.swagger.v3.oas.annotations.security.SecurityRequirements;\n-import io.swagger.v3.oas.annotations.tags.Tag;\n-import jakarta.validation.constraints.NotNull;\n-import jakarta.ws.rs.Consumes;\n-import jakarta.ws.rs.DELETE;\n-import jakarta.ws.rs.GET;\n-import jakarta.ws.rs.POST;\n-import jakarta.ws.rs.PUT;\n-import jakarta.ws.rs.Path;\n-import jakarta.ws.rs.PathParam;\n-import jakarta.ws.rs.Produces;\n-import jakarta.ws.rs.core.HttpHeaders;\n-import jakarta.ws.rs.core.MediaType;\n-import jakarta.ws.rs.core.Response;\n-import java.io.InputStream;\n-import java.util.List;\n-import org.apache.syncope.common.lib.to.ReportTemplateTO;\n-import org.apache.syncope.common.lib.types.ReportTemplateFormat;\n-import org.apache.syncope.common.rest.api.RESTHeaders;\n-\n-/**\n- * REST operations for report templates.\n- */\n-@Tag(name = \"ReportTemplates\")\n-@SecurityRequirements({\n-    @SecurityRequirement(name = \"BasicAuthentication\"),\n-    @SecurityRequirement(name = \"Bearer\") })\n-@Path(\"reportTemplates\")\n-public interface ReportTemplateService extends JAXRSService {\n-\n-    /**\n-     * Returns a list of all report templates.\n-     *\n-     * @return list of all report templates.\n-     */\n-    @GET\n-    @Produces({ MediaType.APPLICATION_JSON, RESTHeaders.APPLICATION_YAML, MediaType.APPLICATION_XML })\n-    List<ReportTemplateTO> list();\n-\n-    /**\n-     * Creates a new report template.\n-     *\n-     * @param reportTemplateTO Creates a new report template.\n-     * @return Response object featuring Location header of created report template\n-     */\n-    @ApiResponses(\n-            @ApiResponse(responseCode = \"201\",\n-                    description = \"ReportTemplate successfully created\", headers = {\n-                @Header(name = RESTHeaders.RESOURCE_KEY, schema =\n-                        @Schema(type = \"string\"),\n-                        description = \"Key value for the entity created\"),\n-                @Header(name = HttpHeaders.LOCATION, schema =\n-                        @Schema(type = \"string\"),\n-                        description = \"URL of the entity created\") }))\n-    @POST\n-    @Consumes({ MediaType.APPLICATION_JSON, RESTHeaders.APPLICATION_YAML, MediaType.APPLICATION_XML })\n-    Response create(@NotNull ReportTemplateTO reportTemplateTO);\n-\n-    /**\n-     * Returns report template with matching key.\n-     *\n-     * @param key key of report template to be read\n-     * @return report template with matching key\n-     */\n-    @GET\n-    @Path(\"{key}\")\n-    @Produces({ MediaType.APPLICATION_JSON, RESTHeaders.APPLICATION_YAML, MediaType.APPLICATION_XML })\n-    ReportTemplateTO read(@NotNull @PathParam(\"key\") String key);\n-\n-    /**\n-     * Deletes the report template matching the given key.\n-     *\n-     * @param key key for report template to be deleted\n-     */\n-    @ApiResponses(\n-            @ApiResponse(responseCode = \"204\", description = \"Operation was successful\"))\n-    @DELETE\n-    @Path(\"{key}\")\n-    @Produces({ MediaType.APPLICATION_JSON, RESTHeaders.APPLICATION_YAML, MediaType.APPLICATION_XML })\n-    void delete(@NotNull @PathParam(\"key\") String key);\n-\n-    /**\n-     * Gets the template for the given key and format, if available.\n-     *\n-     * @param key report template\n-     * @param format template format\n-     * @return report template with matching key and format, if available\n-     */\n-    @GET\n-    @Path(\"{key}/{format}\")\n-    Response getFormat(\n-            @NotNull @PathParam(\"key\") String key,\n-            @NotNull @PathParam(\"format\") ReportTemplateFormat format);\n-\n-    /**\n-     * Sets the template for the given key and format, if available.\n-     *\n-     * @param key report template\n-     * @param format template format\n-     * @param templateIn template to be set\n-     */\n-    @ApiResponses(\n-            @ApiResponse(responseCode = \"204\", description = \"Operation was successful\"))\n-    @PUT\n-    @Path(\"{key}/{format}\")\n-    void setFormat(\n-            @NotNull @PathParam(\"key\") String key,\n-            @NotNull @PathParam(\"format\") ReportTemplateFormat format,\n-            InputStream templateIn);\n-\n-    /**\n-     * Removes the template for the given key and format, if available.\n-     *\n-     * @param key report template\n-     * @param format template format\n-     */\n-    @ApiResponses(\n-            @ApiResponse(responseCode = \"204\", description = \"Operation was successful\"))\n-    @DELETE\n-    @Path(\"{key}/{format}\")\n-    void removeFormat(\n-            @NotNull @PathParam(\"key\") String key,\n-            @NotNull @PathParam(\"format\") ReportTemplateFormat format);\n-\n-}"},{"sha":"073ea28b491595d5f447b376150f7a7bab940784","filename":"core/idm/logic/src/test/java/org/apache/syncope/core/logic/DummyImplementationLookup.java","status":"modified","additions":8,"deletions":10,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidm%2Flogic%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FDummyImplementationLookup.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidm%2Flogic%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FDummyImplementationLookup.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidm%2Flogic%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FDummyImplementationLookup.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -23,13 +23,13 @@\n import org.apache.syncope.common.lib.policy.PasswordRuleConf;\n import org.apache.syncope.common.lib.policy.PullCorrelationRuleConf;\n import org.apache.syncope.common.lib.policy.PushCorrelationRuleConf;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n-import org.apache.syncope.core.persistence.api.dao.AccountRule;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRule;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.Reportlet;\n+import org.apache.syncope.common.lib.report.ReportConf;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n+import org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate;\n+import org.apache.syncope.core.provisioning.api.rules.AccountRule;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRule;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRule;\n \n public class DummyImplementationLookup implements ImplementationLookup {\n \n@@ -49,9 +49,7 @@ public Set<Class<?>> getJWTSSOProviderClasses() {\n     }\n \n     @Override\n-    public Class<Reportlet> getReportletClass(\n-            final Class<? extends ReportletConf> reportletConfClass) {\n-\n+    public Class<? extends ReportJobDelegate> getReportClass(final Class<? extends ReportConf> reportConfClass) {\n         return null;\n     }\n "},{"sha":"d7855a3941400401491d87ddbfa0d960d9d68e9b","filename":"core/idm/logic/src/test/java/org/apache/syncope/core/logic/IdMLogicTestContext.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidm%2Flogic%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FIdMLogicTestContext.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidm%2Flogic%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FIdMLogicTestContext.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidm%2Flogic%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FIdMLogicTestContext.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -25,11 +25,11 @@\n import org.apache.syncope.common.keymaster.client.api.ServiceOps;\n import org.apache.syncope.core.persistence.api.DomainHolder;\n import org.apache.syncope.core.persistence.api.DomainRegistry;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n import org.apache.syncope.core.persistence.api.content.ContentLoader;\n import org.apache.syncope.core.persistence.jpa.MasterDomain;\n import org.apache.syncope.core.persistence.jpa.PersistenceContext;\n import org.apache.syncope.core.persistence.jpa.StartupDomainLoader;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n import org.apache.syncope.core.provisioning.java.ProvisioningContext;\n import org.apache.syncope.core.spring.security.SecurityContext;\n import org.apache.syncope.core.workflow.java.WorkflowContext;"},{"sha":"dd1bbcbbdfd2924c11588fa10e06b5f04f9615f2","filename":"core/idrepo/logic/pom.xml","status":"modified","additions":0,"deletions":5,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidrepo%2Flogic%2Fpom.xml?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -52,11 +52,6 @@ under the License.\n       <artifactId>aspectjweaver</artifactId>\n     </dependency>\n \n-    <dependency>\n-      <groupId>org.apache.xmlgraphics</groupId>\n-      <artifactId>fop</artifactId>\n-    </dependency>\n-\n     <dependency>\n       <groupId>org.apache.tika</groupId>\n       <artifactId>tika-core</artifactId>"},{"sha":"a5fcaaa21eec930253077e610504430facda2203","filename":"core/idrepo/logic/src/main/java/org/apache/syncope/core/logic/GroupLogic.java","status":"modified","additions":1,"deletions":8,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FGroupLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FGroupLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FGroupLogic.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -28,7 +28,6 @@\n import java.util.stream.Collectors;\n import org.apache.commons.lang3.ArrayUtils;\n import org.apache.commons.lang3.tuple.Pair;\n-import org.apache.syncope.common.keymaster.client.api.ConfParamOps;\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.request.GroupCR;\n import org.apache.syncope.common.lib.request.GroupUR;\n@@ -68,7 +67,6 @@\n import org.apache.syncope.core.provisioning.api.job.JobNamer;\n import org.apache.syncope.core.provisioning.api.utils.RealmUtils;\n import org.apache.syncope.core.provisioning.java.job.GroupMemberProvisionTaskJobDelegate;\n-import org.apache.syncope.core.provisioning.java.job.TaskJob;\n import org.apache.syncope.core.provisioning.java.utils.TemplateUtils;\n import org.apache.syncope.core.spring.security.AuthContextUtils;\n import org.apache.syncope.core.spring.security.SecurityProperties;\n@@ -101,8 +99,6 @@ public class GroupLogic extends AbstractAnyLogic<GroupTO, GroupCR, GroupUR> {\n \n     protected final TaskDataBinder taskDataBinder;\n \n-    protected final ConfParamOps confParamOps;\n-\n     protected final JobManager jobManager;\n \n     protected final SchedulerFactoryBean scheduler;\n@@ -122,7 +118,6 @@ public GroupLogic(\n             final GroupDataBinder binder,\n             final GroupProvisioningManager provisioningManager,\n             final TaskDataBinder taskDataBinder,\n-            final ConfParamOps confParamOps,\n             final JobManager jobManager,\n             final SchedulerFactoryBean scheduler,\n             final EntityFactory entityFactory) {\n@@ -138,7 +133,6 @@ public GroupLogic(\n         this.binder = binder;\n         this.provisioningManager = provisioningManager;\n         this.taskDataBinder = taskDataBinder;\n-        this.confParamOps = confParamOps;\n         this.jobManager = jobManager;\n         this.scheduler = scheduler;\n         this.entityFactory = entityFactory;\n@@ -432,10 +426,9 @@ public ExecTO provisionMembers(final String key, final ProvisionAction action) {\n             Map<String, Object> jobDataMap = jobManager.register(\n                     task,\n                     null,\n-                    confParamOps.get(AuthContextUtils.getDomain(), \"tasks.interruptMaxRetries\", 1L, Long.class),\n                     AuthContextUtils.getUsername());\n \n-            jobDataMap.put(TaskJob.DRY_RUN_JOBDETAIL_KEY, false);\n+            jobDataMap.put(JobManager.DRY_RUN_JOBDETAIL_KEY, false);\n             jobDataMap.put(GroupMemberProvisionTaskJobDelegate.GROUP_KEY_JOBDETAIL_KEY, key);\n             jobDataMap.put(GroupMemberProvisionTaskJobDelegate.ACTION_JOBDETAIL_KEY, action);\n "},{"sha":"7777571ecc6a6aa1006b711b46c9c27c3f594071","filename":"core/idrepo/logic/src/main/java/org/apache/syncope/core/logic/IdRepoLogicContext.java","status":"modified","additions":1,"deletions":18,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FIdRepoLogicContext.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FIdRepoLogicContext.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FIdRepoLogicContext.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -36,7 +36,6 @@\n import org.apache.syncope.core.logic.init.IdRepoEntitlementLoader;\n import org.apache.syncope.core.logic.init.IdRepoImplementationTypeLoader;\n import org.apache.syncope.core.persistence.api.DomainHolder;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n import org.apache.syncope.core.persistence.api.content.ContentExporter;\n import org.apache.syncope.core.persistence.api.dao.AccessTokenDAO;\n import org.apache.syncope.core.persistence.api.dao.AnyObjectDAO;\n@@ -63,7 +62,6 @@\n import org.apache.syncope.core.persistence.api.dao.RelationshipTypeDAO;\n import org.apache.syncope.core.persistence.api.dao.ReportDAO;\n import org.apache.syncope.core.persistence.api.dao.ReportExecDAO;\n-import org.apache.syncope.core.persistence.api.dao.ReportTemplateDAO;\n import org.apache.syncope.core.persistence.api.dao.RoleDAO;\n import org.apache.syncope.core.persistence.api.dao.SAML2SPClientAppDAO;\n import org.apache.syncope.core.persistence.api.dao.SecurityQuestionDAO;\n@@ -77,6 +75,7 @@\n import org.apache.syncope.core.provisioning.api.AnyObjectProvisioningManager;\n import org.apache.syncope.core.provisioning.api.AuditManager;\n import org.apache.syncope.core.provisioning.api.GroupProvisioningManager;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n import org.apache.syncope.core.provisioning.api.UserProvisioningManager;\n import org.apache.syncope.core.provisioning.api.data.AccessTokenDataBinder;\n import org.apache.syncope.core.provisioning.api.data.AnyObjectDataBinder;\n@@ -315,7 +314,6 @@ public GroupLogic groupLogic(\n             final AnySearchDAO anySearchDAO,\n             final SchedulerFactoryBean scheduler,\n             final TaskDAO taskDAO,\n-            final ConfParamOps confParamOps,\n             final GroupDataBinder groupDataBinder,\n             final TaskDataBinder taskDataBinder,\n             final ImplementationDAO implementationDAO,\n@@ -334,7 +332,6 @@ public GroupLogic groupLogic(\n                 groupDataBinder,\n                 provisioningManager,\n                 taskDataBinder,\n-                confParamOps,\n                 jobManager,\n                 scheduler,\n                 entityFactory);\n@@ -435,7 +432,6 @@ public RelationshipTypeLogic relationshipTypeLogic(\n     @Bean\n     public ReportLogic reportLogic(\n             final JobManager jobManager,\n-            final ConfParamOps confParamOps,\n             final ReportDataBinder binder,\n             final SchedulerFactoryBean scheduler,\n             final JobStatusDAO jobStatusDAO,\n@@ -449,21 +445,10 @@ public ReportLogic reportLogic(\n                 jobStatusDAO,\n                 reportDAO,\n                 reportExecDAO,\n-                confParamOps,\n                 binder,\n                 entityFactory);\n     }\n \n-    @ConditionalOnMissingBean\n-    @Bean\n-    public ReportTemplateLogic reportTemplateLogic(\n-            final ReportTemplateDAO reportTemplateDAO,\n-            final ReportDAO reportDAO,\n-            final EntityFactory entityFactory) {\n-\n-        return new ReportTemplateLogic(reportTemplateDAO, reportDAO, entityFactory);\n-    }\n-\n     @ConditionalOnMissingBean\n     @Bean\n     public RoleLogic roleLogic(\n@@ -531,7 +516,6 @@ public TaskLogic taskLogic(\n             final TaskDAO taskDAO,\n             final SchedulerFactoryBean scheduler,\n             final JobStatusDAO jobStatusDAO,\n-            final ConfParamOps confParamOps,\n             final ExternalResourceDAO externalResourceDAO,\n             final NotificationJobDelegate notificationJobDelegate,\n             final TaskDataBinder taskDataBinder,\n@@ -546,7 +530,6 @@ public TaskLogic taskLogic(\n                 taskExecDAO,\n                 externalResourceDAO,\n                 notificationDAO,\n-                confParamOps,\n                 taskDataBinder,\n                 taskExecutor,\n                 notificationJobDelegate,"},{"sha":"2740ff72012a5796d1f668b7ca3ed29da5d8edc3","filename":"core/idrepo/logic/src/main/java/org/apache/syncope/core/logic/ImplementationLogic.java","status":"modified","additions":8,"deletions":8,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FImplementationLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FImplementationLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FImplementationLogic.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -177,10 +177,6 @@ public void delete(final String type, final String key) {\n \n         boolean inUse = false;\n         switch (implementation.getType()) {\n-            case IdRepoImplementationType.REPORTLET:\n-                inUse = !reportDAO.findByReportlet(implementation).isEmpty();\n-                break;\n-\n             case IdRepoImplementationType.ACCOUNT_RULE:\n                 inUse = !policyDAO.findByAccountRule(implementation).isEmpty();\n                 break;\n@@ -197,6 +193,10 @@ public void delete(final String type, final String key) {\n                 inUse = !taskDAO.findByDelegate(implementation).isEmpty();\n                 break;\n \n+            case IdRepoImplementationType.REPORT_DELEGATE:\n+                inUse = !reportDAO.findByDelegate(implementation).isEmpty();\n+                break;\n+\n             case IdRepoImplementationType.COMMAND:\n                 inUse = !taskDAO.findByCommand(implementation).isEmpty();\n                 break;\n@@ -261,10 +261,10 @@ protected ImplementationTO resolveReference(final Method method, final Object...\n \n         if (ArrayUtils.isNotEmpty(args)) {\n             for (int i = 0; key == null && i < args.length; i++) {\n-                if (args[i] instanceof String) {\n-                    key = (String) args[i];\n-                } else if (args[i] instanceof ImplementationTO) {\n-                    key = ((ImplementationTO) args[i]).getKey();\n+                if (args[i] instanceof String string) {\n+                    key = string;\n+                } else if (args[i] instanceof ImplementationTO implementationTO) {\n+                    key = implementationTO.getKey();\n                 }\n             }\n         }"},{"sha":"b00eafd8d11d19fba976667d21dbc6dc69931bae","filename":"core/idrepo/logic/src/main/java/org/apache/syncope/core/logic/ReportLogic.java","status":"modified","additions":47,"deletions":157,"changes":204,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FReportLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FReportLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FReportLogic.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -20,36 +20,19 @@\n \n import jakarta.ws.rs.core.Response;\n import java.io.ByteArrayInputStream;\n-import java.io.File;\n import java.io.OutputStream;\n import java.lang.reflect.Method;\n-import java.nio.charset.StandardCharsets;\n import java.time.OffsetDateTime;\n import java.util.ArrayList;\n-import java.util.HashMap;\n import java.util.List;\n import java.util.Map;\n import java.util.Optional;\n-import java.util.regex.Pattern;\n import java.util.stream.Collectors;\n import java.util.zip.ZipInputStream;\n-import javax.xml.XMLConstants;\n-import javax.xml.transform.OutputKeys;\n-import javax.xml.transform.Templates;\n-import javax.xml.transform.Transformer;\n-import javax.xml.transform.TransformerConfigurationException;\n-import javax.xml.transform.sax.SAXResult;\n-import javax.xml.transform.sax.SAXTransformerFactory;\n-import javax.xml.transform.sax.TransformerHandler;\n-import javax.xml.transform.stream.StreamResult;\n-import javax.xml.transform.stream.StreamSource;\n-import org.apache.commons.io.IOUtils;\n import org.apache.commons.lang3.ArrayUtils;\n+import org.apache.commons.lang3.StringUtils;\n import org.apache.commons.lang3.tuple.Pair;\n import org.apache.commons.lang3.tuple.Triple;\n-import org.apache.fop.apps.FopFactory;\n-import org.apache.fop.apps.FopFactoryBuilder;\n-import org.apache.syncope.common.keymaster.client.api.ConfParamOps;\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.to.ExecTO;\n import org.apache.syncope.common.lib.to.JobTO;\n@@ -58,8 +41,6 @@\n import org.apache.syncope.common.lib.types.IdRepoEntitlement;\n import org.apache.syncope.common.lib.types.JobAction;\n import org.apache.syncope.common.lib.types.JobType;\n-import org.apache.syncope.common.lib.types.ReportExecExportFormat;\n-import org.apache.syncope.common.lib.types.ReportExecStatus;\n import org.apache.syncope.common.rest.api.RESTHeaders;\n import org.apache.syncope.common.rest.api.batch.BatchResponseItem;\n import org.apache.syncope.core.persistence.api.dao.JobStatusDAO;\n@@ -74,8 +55,8 @@\n import org.apache.syncope.core.provisioning.api.job.JobManager;\n import org.apache.syncope.core.provisioning.api.job.JobNamer;\n import org.apache.syncope.core.provisioning.api.utils.ExceptionUtils2;\n+import org.apache.syncope.core.provisioning.java.job.report.ReportJob;\n import org.apache.syncope.core.spring.security.AuthContextUtils;\n-import org.apache.xmlgraphics.util.MimeConstants;\n import org.quartz.JobKey;\n import org.quartz.SchedulerException;\n import org.springframework.scheduling.quartz.SchedulerFactoryBean;\n@@ -84,28 +65,10 @@\n \n public class ReportLogic extends AbstractExecutableLogic<ReportTO> {\n \n-    protected static final Pattern XSLT_PARAMETER_NAME_PATTERN = Pattern.compile(\"[a-zA-Z_][\\\\w\\\\-\\\\.]*\");\n-\n-    protected static final SAXTransformerFactory TRAX_FACTORY;\n-\n-    protected static final FopFactory FOP_FACTORY = new FopFactoryBuilder(new File(\".\").toURI()).build();\n-\n-    static {\n-        TRAX_FACTORY = (SAXTransformerFactory) SAXTransformerFactory.newInstance();\n-        TRAX_FACTORY.setURIResolver((href, base) -> null);\n-        try {\n-            TRAX_FACTORY.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n-        } catch (TransformerConfigurationException e) {\n-            LOG.error(\"Could not enable secure XML processing\", e);\n-        }\n-    }\n-\n     protected final ReportDAO reportDAO;\n \n     protected final ReportExecDAO reportExecDAO;\n \n-    protected final ConfParamOps confParamOps;\n-\n     protected final ReportDataBinder binder;\n \n     protected final EntityFactory entityFactory;\n@@ -116,15 +79,13 @@ public ReportLogic(\n             final JobStatusDAO jobStatusDAO,\n             final ReportDAO reportDAO,\n             final ReportExecDAO reportExecDAO,\n-            final ConfParamOps confParamOps,\n             final ReportDataBinder binder,\n             final EntityFactory entityFactory) {\n \n         super(jobManager, scheduler, jobStatusDAO);\n \n         this.reportDAO = reportDAO;\n         this.reportExecDAO = reportExecDAO;\n-        this.confParamOps = confParamOps;\n         this.binder = binder;\n         this.entityFactory = entityFactory;\n     }\n@@ -138,7 +99,6 @@ public ReportTO create(final ReportTO reportTO) {\n             jobManager.register(\n                     report,\n                     null,\n-                    confParamOps.get(AuthContextUtils.getDomain(), \"tasks.interruptMaxRetries\", 1L, Long.class),\n                     AuthContextUtils.getUsername());\n         } catch (Exception e) {\n             LOG.error(\"While registering quartz job for report \" + report.getKey(), e);\n@@ -153,18 +113,15 @@ public ReportTO create(final ReportTO reportTO) {\n \n     @PreAuthorize(\"hasRole('\" + IdRepoEntitlement.REPORT_UPDATE + \"')\")\n     public ReportTO update(final ReportTO reportTO) {\n-        Report report = reportDAO.find(reportTO.getKey());\n-        if (report == null) {\n-            throw new NotFoundException(\"Report \" + reportTO.getKey());\n-        }\n+        Report report = Optional.ofNullable(reportDAO.find(reportTO.getKey())).\n+                orElseThrow(() -> new NotFoundException(\"Report \" + reportTO.getKey()));\n \n         binder.getReport(report, reportTO);\n         report = reportDAO.save(report);\n         try {\n             jobManager.register(\n                     report,\n                     null,\n-                    confParamOps.get(AuthContextUtils.getDomain(), \"tasks.interruptMaxRetries\", 1L, Long.class),\n                     AuthContextUtils.getUsername());\n         } catch (Exception e) {\n             LOG.error(\"While registering quartz job for report \" + report.getKey(), e);\n@@ -186,20 +143,16 @@ public List<ReportTO> list() {\n     @PreAuthorize(\"hasRole('\" + IdRepoEntitlement.REPORT_READ + \"')\")\n     @Transactional(readOnly = true)\n     public ReportTO read(final String key) {\n-        Report report = reportDAO.find(key);\n-        if (report == null) {\n-            throw new NotFoundException(\"Report \" + key);\n-        }\n+        Report report = Optional.ofNullable(reportDAO.find(key)).\n+                orElseThrow(() -> new NotFoundException(\"Report \" + key));\n         return binder.getReportTO(report);\n     }\n \n     @PreAuthorize(\"hasRole('\" + IdRepoEntitlement.REPORT_EXECUTE + \"')\")\n     @Override\n     public ExecTO execute(final String key, final OffsetDateTime startAt, final boolean dryRun) {\n-        Report report = reportDAO.find(key);\n-        if (report == null) {\n-            throw new NotFoundException(\"Report \" + key);\n-        }\n+        Report report = Optional.ofNullable(reportDAO.find(key)).\n+                orElseThrow(() -> new NotFoundException(\"Report \" + key));\n \n         if (!report.isActive()) {\n             SyncopeClientException sce = SyncopeClientException.build(ClientExceptionType.Scheduling);\n@@ -208,13 +161,15 @@ public ExecTO execute(final String key, final OffsetDateTime startAt, final bool\n         }\n \n         try {\n-            jobManager.register(\n+            Map<String, Object> jobDataMap = jobManager.register(\n                     report,\n                     startAt,\n-                    confParamOps.get(AuthContextUtils.getDomain(), \"tasks.interruptMaxRetries\", 1L, Long.class),\n                     AuthContextUtils.getUsername());\n+            jobDataMap.put(JobManager.DRY_RUN_JOBDETAIL_KEY, dryRun);\n \n-            scheduler.getScheduler().triggerJob(JobNamer.getJobKey(report));\n+            if (startAt == null) {\n+                scheduler.getScheduler().triggerJob(JobNamer.getJobKey(report));\n+            }\n         } catch (Exception e) {\n             LOG.error(\"While executing report {}\", report, e);\n \n@@ -228,116 +183,57 @@ public ExecTO execute(final String key, final OffsetDateTime startAt, final bool\n         result.setRefKey(report.getKey());\n         result.setRefDesc(binder.buildRefDesc(report));\n         result.setStart(OffsetDateTime.now());\n-        result.setStatus(ReportExecStatus.STARTED.name());\n+        result.setStatus(\"JOB_FIRED\");\n         result.setMessage(\"Job fired; waiting for results...\");\n         result.setExecutor(AuthContextUtils.getUsername());\n         return result;\n     }\n \n     @PreAuthorize(\"hasRole('\" + IdRepoEntitlement.REPORT_READ + \"')\")\n-    public ReportExec getReportExec(final String executionKey) {\n-        ReportExec reportExec = reportExecDAO.find(executionKey);\n-        if (reportExec == null) {\n-            throw new NotFoundException(\"Report execution \" + executionKey);\n-        }\n-        if (!ReportExecStatus.SUCCESS.name().equals(reportExec.getStatus()) || reportExec.getExecResult() == null) {\n-            SyncopeClientException sce = SyncopeClientException.build(ClientExceptionType.InvalidReportExec);\n-            sce.getElements().add(reportExec.getExecResult() == null\n-                    ? \"No report data produced\"\n-                    : \"Report did not run successfully\");\n-            throw sce;\n-        }\n-        return reportExec;\n-    }\n-\n-    protected Transformer buildXSLTTransformer(final String template, final Map<String, Object> parameters)\n-            throws TransformerConfigurationException {\n-\n-        Templates templates = TRAX_FACTORY.newTemplates(\n-                new StreamSource(IOUtils.toInputStream(template, StandardCharsets.UTF_8)));\n-        TransformerHandler transformerHandler = TRAX_FACTORY.newTransformerHandler(templates);\n-\n-        Transformer transformer = transformerHandler.getTransformer();\n-        parameters.forEach((name, values) -> {\n-            if (XSLT_PARAMETER_NAME_PATTERN.matcher(name).matches()) {\n-                transformer.setParameter(name, values);\n-            }\n-        });\n+    @Transactional(readOnly = true)\n+    public String getFilename(final String executionKey) {\n+        ReportExec reportExec = Optional.ofNullable(reportExecDAO.find(executionKey)).\n+                orElseThrow(() -> new NotFoundException(\"Report execution \" + executionKey));\n \n-        return transformer;\n+        return reportExec.getReport().getName()\n+                + \".\"\n+                + StringUtils.removeStart(reportExec.getReport().getFileExt(), \".\");\n     }\n \n     @PreAuthorize(\"hasRole('\" + IdRepoEntitlement.REPORT_READ + \"')\")\n+    @Transactional(readOnly = true)\n     public void exportExecutionResult(\n             final OutputStream os,\n-            final ReportExec reportExec,\n-            final ReportExecExportFormat format) {\n+            final String executionKey) {\n \n-        // streaming SAX handler from a compressed byte array stream\n-        try (ByteArrayInputStream bais = new ByteArrayInputStream(reportExec.getExecResult());\n-             ZipInputStream zis = new ZipInputStream(bais)) {\n+        ReportExec reportExec = Optional.ofNullable(reportExecDAO.find(executionKey)).\n+                orElseThrow(() -> new NotFoundException(\"Report execution \" + executionKey));\n \n-            // a single ZipEntry in the ZipInputStream (see ReportJob)\n-            zis.getNextEntry();\n+        if (reportExec.getExecResult() == null || !ReportJob.Status.SUCCESS.name().equals(reportExec.getStatus())) {\n+            SyncopeClientException sce = SyncopeClientException.build(ClientExceptionType.InvalidReportExec);\n+            sce.getElements().add(reportExec.getExecResult() == null\n+                    ? \"No report data produced\"\n+                    : \"Report did not run successfully\");\n+            throw sce;\n+        }\n \n-            Map<String, Object> parameters = new HashMap<>();\n-            parameters.put(\"status\", reportExec.getStatus());\n-            parameters.put(\"message\", reportExec.getMessage());\n-            parameters.put(\"start\", reportExec.getStart());\n-            parameters.put(\"end\", reportExec.getEnd());\n-\n-            switch (format) {\n-                case HTML:\n-                    Transformer html = buildXSLTTransformer(\n-                            reportExec.getReport().getTemplate().getHTMLTemplate(), parameters);\n-                    html.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"yes\");\n-                    html.transform(\n-                            new StreamSource(zis),\n-                            new StreamResult(os));\n-                    break;\n-\n-                case PDF:\n-                    Transformer pdf = buildXSLTTransformer(\n-                            reportExec.getReport().getTemplate().getFOTemplate(), parameters);\n-                    pdf.transform(\n-                            new StreamSource(zis),\n-                            new SAXResult(FOP_FACTORY.newFop(MimeConstants.MIME_PDF, os).getDefaultHandler()));\n-                    break;\n-\n-                case RTF:\n-                    Transformer rtf = buildXSLTTransformer(\n-                            reportExec.getReport().getTemplate().getFOTemplate(), parameters);\n-                    rtf.transform(\n-                            new StreamSource(zis),\n-                            new SAXResult(FOP_FACTORY.newFop(MimeConstants.MIME_RTF, os).getDefaultHandler()));\n-                    break;\n-\n-                case CSV:\n-                    Transformer csv = buildXSLTTransformer(\n-                            reportExec.getReport().getTemplate().getCSVTemplate(), parameters);\n-                    csv.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"yes\");\n-                    csv.transform(\n-                            new StreamSource(zis),\n-                            new StreamResult(os));\n-                    break;\n-\n-                case XML:\n-                default:\n-                    zis.transferTo(os);\n-            }\n+        // streaming output from a compressed byte array stream\n+        try (ByteArrayInputStream bais = new ByteArrayInputStream(reportExec.getExecResult()); ZipInputStream zis =\n+                new ZipInputStream(bais)) {\n+\n+            // a single ZipEntry in the ZipInputStream\n+            zis.getNextEntry();\n \n-            LOG.debug(\"Result of {} successfully exported as {}\", reportExec, format);\n+            zis.transferTo(os);\n         } catch (Exception e) {\n             LOG.error(\"While exporting content\", e);\n         }\n     }\n \n     @PreAuthorize(\"hasRole('\" + IdRepoEntitlement.REPORT_DELETE + \"')\")\n     public ReportTO delete(final String key) {\n-        Report report = reportDAO.find(key);\n-        if (report == null) {\n-            throw new NotFoundException(\"Report \" + key);\n-        }\n+        Report report = Optional.ofNullable(reportDAO.find(key)).\n+                orElseThrow(() -> new NotFoundException(\"Report \" + key));\n \n         ReportTO deletedReport = binder.getReportTO(report);\n         jobManager.unregister(report);\n@@ -376,10 +272,8 @@ public List<ExecTO> listRecentExecutions(final int max) {\n     @PreAuthorize(\"hasRole('\" + IdRepoEntitlement.REPORT_DELETE + \"')\")\n     @Override\n     public ExecTO deleteExecution(final String executionKey) {\n-        ReportExec reportExec = reportExecDAO.find(executionKey);\n-        if (reportExec == null) {\n-            throw new NotFoundException(\"Report execution \" + executionKey);\n-        }\n+        ReportExec reportExec = Optional.ofNullable(reportExecDAO.find(executionKey)).\n+                orElseThrow(() -> new NotFoundException(\"Report execution \" + executionKey));\n \n         ExecTO reportExecToDelete = binder.getExecTO(reportExec);\n         reportExecDAO.delete(reportExec);\n@@ -433,10 +327,8 @@ public List<JobTO> listJobs() {\n     @PreAuthorize(\"hasRole('\" + IdRepoEntitlement.REPORT_READ + \"')\")\n     @Override\n     public JobTO getJob(final String key) {\n-        Report report = reportDAO.find(key);\n-        if (report == null) {\n-            throw new NotFoundException(\"Report \" + key);\n-        }\n+        Report report = Optional.ofNullable(reportDAO.find(key)).\n+                orElseThrow(() -> new NotFoundException(\"Report \" + key));\n \n         JobTO jobTO = null;\n         try {\n@@ -457,10 +349,8 @@ public JobTO getJob(final String key) {\n     @PreAuthorize(\"hasRole('\" + IdRepoEntitlement.REPORT_EXECUTE + \"')\")\n     @Override\n     public void actionJob(final String key, final JobAction action) {\n-        Report report = reportDAO.find(key);\n-        if (report == null) {\n-            throw new NotFoundException(\"Report \" + key);\n-        }\n+        Report report = Optional.ofNullable(reportDAO.find(key)).\n+                orElseThrow(() -> new NotFoundException(\"Report \" + key));\n \n         doActionJob(JobNamer.getJobKey(report), action);\n     }"},{"sha":"c73cf4a453ba5cf6519b95c67a828134cbf9c903","filename":"core/idrepo/logic/src/main/java/org/apache/syncope/core/logic/ReportTemplateLogic.java","status":"removed","additions":0,"deletions":196,"changes":196,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FReportTemplateLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FReportTemplateLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FReportTemplateLogic.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,196 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.logic;\n-\n-import java.lang.reflect.Method;\n-import java.util.List;\n-import java.util.stream.Collectors;\n-import org.apache.commons.lang3.ArrayUtils;\n-import org.apache.commons.lang3.StringUtils;\n-import org.apache.syncope.common.lib.SyncopeClientException;\n-import org.apache.syncope.common.lib.to.ReportTemplateTO;\n-import org.apache.syncope.common.lib.types.ClientExceptionType;\n-import org.apache.syncope.common.lib.types.IdRepoEntitlement;\n-import org.apache.syncope.common.lib.types.ReportTemplateFormat;\n-import org.apache.syncope.core.persistence.api.dao.DuplicateException;\n-import org.apache.syncope.core.persistence.api.dao.NotFoundException;\n-import org.apache.syncope.core.persistence.api.dao.ReportDAO;\n-import org.apache.syncope.core.persistence.api.dao.ReportTemplateDAO;\n-import org.apache.syncope.core.persistence.api.entity.EntityFactory;\n-import org.apache.syncope.core.persistence.api.entity.Report;\n-import org.apache.syncope.core.persistence.api.entity.ReportTemplate;\n-import org.springframework.security.access.prepost.PreAuthorize;\n-import org.springframework.transaction.annotation.Transactional;\n-\n-public class ReportTemplateLogic extends AbstractTransactionalLogic<ReportTemplateTO> {\n-\n-    protected final ReportTemplateDAO reportTemplateDAO;\n-\n-    protected final ReportDAO reportDAO;\n-\n-    protected final EntityFactory entityFactory;\n-\n-    public ReportTemplateLogic(\n-            final ReportTemplateDAO reportTemplateDAO,\n-            final ReportDAO reportDAO,\n-            final EntityFactory entityFactory) {\n-\n-        this.reportTemplateDAO = reportTemplateDAO;\n-        this.reportDAO = reportDAO;\n-        this.entityFactory = entityFactory;\n-    }\n-\n-    protected ReportTemplateTO getReportTemplateTO(final String key) {\n-        ReportTemplateTO reportTemplateTO = new ReportTemplateTO();\n-        reportTemplateTO.setKey(key);\n-        return reportTemplateTO;\n-    }\n-\n-    @PreAuthorize(\"hasRole('\" + IdRepoEntitlement.REPORT_TEMPLATE_READ + \"')\")\n-    @Transactional(readOnly = true)\n-    public ReportTemplateTO read(final String key) {\n-        ReportTemplate reportTemplate = reportTemplateDAO.find(key);\n-        if (reportTemplate == null) {\n-            LOG.error(\"Could not find report template '\" + key + '\\'');\n-\n-            throw new NotFoundException(key);\n-        }\n-\n-        return getReportTemplateTO(key);\n-    }\n-\n-    @PreAuthorize(\"hasRole('\" + IdRepoEntitlement.REPORT_TEMPLATE_LIST + \"')\")\n-    @Transactional(readOnly = true)\n-    public List<ReportTemplateTO> list() {\n-        return reportTemplateDAO.findAll().stream().\n-                map(template -> getReportTemplateTO(template.getKey())).collect(Collectors.toList());\n-    }\n-\n-    @PreAuthorize(\"hasRole('\" + IdRepoEntitlement.REPORT_TEMPLATE_CREATE + \"')\")\n-    public ReportTemplateTO create(final String key) {\n-        if (reportTemplateDAO.find(key) != null) {\n-            throw new DuplicateException(key);\n-        }\n-        ReportTemplate reportTemplate = entityFactory.newEntity(ReportTemplate.class);\n-        reportTemplate.setKey(key);\n-        reportTemplateDAO.save(reportTemplate);\n-\n-        return getReportTemplateTO(key);\n-    }\n-\n-    @PreAuthorize(\"hasRole('\" + IdRepoEntitlement.REPORT_TEMPLATE_READ + \"')\")\n-    public String getFormat(final String key, final ReportTemplateFormat format) {\n-        ReportTemplate reportTemplate = reportTemplateDAO.find(key);\n-        if (reportTemplate == null) {\n-            LOG.error(\"Could not find report template '\" + key + '\\'');\n-\n-            throw new NotFoundException(key);\n-        }\n-\n-        String template = format == ReportTemplateFormat.HTML\n-                ? reportTemplate.getHTMLTemplate()\n-                : format == ReportTemplateFormat.CSV\n-                        ? reportTemplate.getCSVTemplate()\n-                        : reportTemplate.getFOTemplate();\n-        if (StringUtils.isBlank(template)) {\n-            LOG.error(\"Could not find report template '\" + key + \"' in \" + format + \" format\");\n-\n-            throw new NotFoundException(key + \" in \" + format);\n-        }\n-\n-        return template;\n-    }\n-\n-    @PreAuthorize(\"hasRole('\" + IdRepoEntitlement.REPORT_TEMPLATE_UPDATE + \"')\")\n-    public void setFormat(final String key, final ReportTemplateFormat format, final String template) {\n-        ReportTemplate reportTemplate = reportTemplateDAO.find(key);\n-        if (reportTemplate == null) {\n-            LOG.error(\"Could not find report template '\" + key + '\\'');\n-\n-            throw new NotFoundException(key);\n-        }\n-\n-        switch (format) {\n-            case CSV:\n-                reportTemplate.setCSVTemplate(template);\n-                break;\n-\n-            case FO:\n-                reportTemplate.setFOTemplate(template);\n-                break;\n-\n-            case HTML:\n-                reportTemplate.setHTMLTemplate(template);\n-                break;\n-\n-            default:\n-        }\n-\n-        reportTemplateDAO.save(reportTemplate);\n-    }\n-\n-    @PreAuthorize(\"hasRole('\" + IdRepoEntitlement.REPORT_TEMPLATE_DELETE + \"')\")\n-    public ReportTemplateTO delete(final String key) {\n-        ReportTemplate reportTemplate = reportTemplateDAO.find(key);\n-        if (reportTemplate == null) {\n-            LOG.error(\"Could not find report template '\" + key + '\\'');\n-\n-            throw new NotFoundException(key);\n-        }\n-\n-        List<Report> reports = reportDAO.findByTemplate(reportTemplate);\n-        if (!reports.isEmpty()) {\n-            SyncopeClientException sce = SyncopeClientException.build(ClientExceptionType.InUse);\n-            sce.getElements().addAll(reports.stream().map(Report::getKey).collect(Collectors.toList()));\n-            throw sce;\n-        }\n-\n-        ReportTemplateTO deleted = getReportTemplateTO(key);\n-        reportTemplateDAO.delete(key);\n-        return deleted;\n-    }\n-\n-    @Override\n-    protected ReportTemplateTO resolveReference(final Method method, final Object... args)\n-            throws UnresolvedReferenceException {\n-\n-        String key = null;\n-\n-        if (ArrayUtils.isNotEmpty(args)) {\n-            for (int i = 0; key == null && i < args.length; i++) {\n-                if (args[i] instanceof String) {\n-                    key = ((String) args[i]);\n-                } else if (args[i] instanceof ReportTemplateTO) {\n-                    key = ((ReportTemplateTO) args[i]).getKey();\n-                }\n-            }\n-        }\n-\n-        if (key != null) {\n-            try {\n-                return getReportTemplateTO(key);\n-            } catch (Throwable ignore) {\n-                LOG.debug(\"Unresolved reference\", ignore);\n-                throw new UnresolvedReferenceException(ignore);\n-            }\n-        }\n-\n-        throw new UnresolvedReferenceException();\n-    }\n-}"},{"sha":"feac42cc8866f4cff0ac0c2ae54856499ef6173e","filename":"core/idrepo/logic/src/main/java/org/apache/syncope/core/logic/TaskLogic.java","status":"modified","additions":1,"deletions":11,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FTaskLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FTaskLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FTaskLogic.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -31,7 +31,6 @@\n import org.apache.commons.lang3.ArrayUtils;\n import org.apache.commons.lang3.tuple.Pair;\n import org.apache.commons.lang3.tuple.Triple;\n-import org.apache.syncope.common.keymaster.client.api.ConfParamOps;\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.to.ExecTO;\n import org.apache.syncope.common.lib.to.JobTO;\n@@ -72,7 +71,6 @@\n import org.apache.syncope.core.provisioning.api.propagation.PropagationTaskExecutor;\n import org.apache.syncope.core.provisioning.api.propagation.PropagationTaskInfo;\n import org.apache.syncope.core.provisioning.api.utils.ExceptionUtils2;\n-import org.apache.syncope.core.provisioning.java.job.TaskJob;\n import org.apache.syncope.core.provisioning.java.propagation.DefaultPropagationReporter;\n import org.apache.syncope.core.spring.security.AuthContextUtils;\n import org.apache.syncope.core.spring.security.DelegatedAdministrationException;\n@@ -95,8 +93,6 @@ public class TaskLogic extends AbstractExecutableLogic<TaskTO> {\n \n     protected final NotificationDAO notificationDAO;\n \n-    protected final ConfParamOps confParamOps;\n-\n     protected final TaskDataBinder binder;\n \n     protected final PropagationTaskExecutor taskExecutor;\n@@ -113,7 +109,6 @@ public TaskLogic(\n             final TaskExecDAO taskExecDAO,\n             final ExternalResourceDAO resourceDAO,\n             final NotificationDAO notificationDAO,\n-            final ConfParamOps confParamOps,\n             final TaskDataBinder binder,\n             final PropagationTaskExecutor taskExecutor,\n             final NotificationJobDelegate notificationJobDelegate,\n@@ -125,7 +120,6 @@ public TaskLogic(\n         this.taskExecDAO = taskExecDAO;\n         this.resourceDAO = resourceDAO;\n         this.notificationDAO = notificationDAO;\n-        this.confParamOps = confParamOps;\n         this.binder = binder;\n         this.taskExecutor = taskExecutor;\n         this.notificationJobDelegate = notificationJobDelegate;\n@@ -159,7 +153,6 @@ public <T extends SchedTaskTO> T createSchedTask(final TaskType type, final T ta\n             jobManager.register(\n                     task,\n                     task.getStartAt(),\n-                    confParamOps.get(AuthContextUtils.getDomain(), \"tasks.interruptMaxRetries\", 1L, Long.class),\n                     AuthContextUtils.getUsername());\n         } catch (Exception e) {\n             LOG.error(\"While registering quartz job for task \" + task.getKey(), e);\n@@ -197,7 +190,6 @@ public <T extends SchedTaskTO> T updateSchedTask(final TaskType type, final Sche\n             jobManager.register(\n                     task,\n                     task.getStartAt(),\n-                    confParamOps.get(AuthContextUtils.getDomain(), \"tasks.interruptMaxRetries\", 1L, Long.class),\n                     AuthContextUtils.getUsername());\n         } catch (Exception e) {\n             LOG.error(\"While registering quartz job for task \" + task.getKey(), e);\n@@ -344,10 +336,8 @@ public ExecTO execute(final String key, final OffsetDateTime startAt, final bool\n                     Map<String, Object> jobDataMap = jobManager.register(\n                             (SchedTask) task,\n                             startAt,\n-                            confParamOps.get(AuthContextUtils.getDomain(), \"tasks.interruptMaxRetries\", 1L, Long.class),\n                             executor);\n-\n-                    jobDataMap.put(TaskJob.DRY_RUN_JOBDETAIL_KEY, dryRun);\n+                    jobDataMap.put(JobManager.DRY_RUN_JOBDETAIL_KEY, dryRun);\n \n                     if (startAt == null) {\n                         scheduler.getScheduler().triggerJob(JobNamer.getJobKey(task), new JobDataMap(jobDataMap));"},{"sha":"6d6b85fae7661ecd88d4a2996917b886f1618bf5","filename":"core/idrepo/logic/src/main/java/org/apache/syncope/core/logic/init/ClassPathScanImplementationLookup.java","status":"modified","additions":22,"deletions":24,"changes":46,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Finit%2FClassPathScanImplementationLookup.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Finit%2FClassPathScanImplementationLookup.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidrepo%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2Finit%2FClassPathScanImplementationLookup.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -29,32 +29,32 @@\n import org.apache.syncope.common.lib.policy.PasswordRuleConf;\n import org.apache.syncope.common.lib.policy.PullCorrelationRuleConf;\n import org.apache.syncope.common.lib.policy.PushCorrelationRuleConf;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n+import org.apache.syncope.common.lib.report.ReportConf;\n import org.apache.syncope.common.lib.types.IdMImplementationType;\n import org.apache.syncope.common.lib.types.IdRepoImplementationType;\n import org.apache.syncope.common.lib.types.ImplementationTypesHolder;\n import org.apache.syncope.core.logic.api.Command;\n import org.apache.syncope.core.logic.api.LogicActions;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n import org.apache.syncope.core.persistence.api.attrvalue.validation.PlainAttrValueValidator;\n-import org.apache.syncope.core.persistence.api.dao.AccountRule;\n-import org.apache.syncope.core.persistence.api.dao.AccountRuleConfClass;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRule;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRuleConfClass;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRuleConfClass;\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRuleConfClass;\n-import org.apache.syncope.core.persistence.api.dao.Reportlet;\n-import org.apache.syncope.core.persistence.api.dao.ReportletConfClass;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n import org.apache.syncope.core.provisioning.api.ProvisionSorter;\n import org.apache.syncope.core.provisioning.api.data.ItemTransformer;\n import org.apache.syncope.core.provisioning.api.job.SchedTaskJobDelegate;\n+import org.apache.syncope.core.provisioning.api.job.report.ReportConfClass;\n+import org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate;\n import org.apache.syncope.core.provisioning.api.notification.RecipientsProvider;\n import org.apache.syncope.core.provisioning.api.propagation.PropagationActions;\n import org.apache.syncope.core.provisioning.api.pushpull.PullActions;\n import org.apache.syncope.core.provisioning.api.pushpull.PushActions;\n import org.apache.syncope.core.provisioning.api.pushpull.ReconFilterBuilder;\n+import org.apache.syncope.core.provisioning.api.rules.AccountRule;\n+import org.apache.syncope.core.provisioning.api.rules.AccountRuleConfClass;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRule;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRuleConfClass;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRuleConfClass;\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRuleConfClass;\n import org.apache.syncope.core.provisioning.java.data.JEXLItemTransformerImpl;\n import org.apache.syncope.core.provisioning.java.job.GroupMemberProvisionTaskJobDelegate;\n import org.apache.syncope.core.provisioning.java.pushpull.PullJobDelegate;\n@@ -80,7 +80,7 @@ public class ClassPathScanImplementationLookup implements ImplementationLookup {\n \n     private Set<Class<?>> jwtSSOProviderClasses;\n \n-    private Map<Class<? extends ReportletConf>, Class<? extends Reportlet>> reportletClasses;\n+    private Map<Class<? extends ReportConf>, Class<? extends ReportJobDelegate>> reportJobDelegateClasses;\n \n     private Map<Class<? extends AccountRuleConf>, Class<? extends AccountRule>> accountRuleClasses;\n \n@@ -120,7 +120,7 @@ public void load() {\n         });\n \n         jwtSSOProviderClasses = new HashSet<>();\n-        reportletClasses = new HashMap<>();\n+        reportJobDelegateClasses = new HashMap<>();\n         accountRuleClasses = new HashMap<>();\n         passwordRuleClasses = new HashMap<>();\n         pullCRClasses = new HashMap<>();\n@@ -137,13 +137,13 @@ public void load() {\n                     jwtSSOProviderClasses.add(clazz);\n                 }\n \n-                if (Reportlet.class.isAssignableFrom(clazz) && !isAbstractClazz) {\n-                    ReportletConfClass annotation = clazz.getAnnotation(ReportletConfClass.class);\n+                if (ReportJobDelegate.class.isAssignableFrom(clazz) && !isAbstractClazz) {\n+                    ReportConfClass annotation = clazz.getAnnotation(ReportConfClass.class);\n                     if (annotation == null) {\n-                        LOG.warn(\"Found Reportlet {} without declared configuration\", clazz.getName());\n+                        LOG.warn(\"Found Report {} without declared configuration\", clazz.getName());\n                     } else {\n-                        classNames.get(IdRepoImplementationType.REPORTLET).add(clazz.getName());\n-                        reportletClasses.put(annotation.value(), (Class<? extends Reportlet>) clazz);\n+                        classNames.get(IdRepoImplementationType.REPORT_DELEGATE).add(clazz.getName());\n+                        reportJobDelegateClasses.put(annotation.value(), (Class<? extends ReportJobDelegate>) clazz);\n                     }\n                 }\n \n@@ -245,7 +245,7 @@ public void load() {\n         LOG.debug(\"Implementation classes found: {}\", classNames);\n \n         jwtSSOProviderClasses = Collections.unmodifiableSet(jwtSSOProviderClasses);\n-        reportletClasses = Collections.unmodifiableMap(reportletClasses);\n+        reportJobDelegateClasses = Collections.unmodifiableMap(reportJobDelegateClasses);\n         accountRuleClasses = Collections.unmodifiableMap(accountRuleClasses);\n         passwordRuleClasses = Collections.unmodifiableMap(passwordRuleClasses);\n         pullCRClasses = Collections.unmodifiableMap(pullCRClasses);\n@@ -263,10 +263,8 @@ public Set<Class<?>> getJWTSSOProviderClasses() {\n     }\n \n     @Override\n-    public Class<? extends Reportlet> getReportletClass(\n-            final Class<? extends ReportletConf> reportletConfClass) {\n-\n-        return reportletClasses.get(reportletConfClass);\n+    public Class<? extends ReportJobDelegate> getReportClass(final Class<? extends ReportConf> reportConfClass) {\n+        return reportJobDelegateClasses.get(reportConfClass);\n     }\n \n     @Override"},{"sha":"073ea28b491595d5f447b376150f7a7bab940784","filename":"core/idrepo/logic/src/test/java/org/apache/syncope/core/logic/DummyImplementationLookup.java","status":"modified","additions":8,"deletions":16,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FDummyImplementationLookup.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FDummyImplementationLookup.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidrepo%2Flogic%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FDummyImplementationLookup.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -23,15 +23,13 @@\n import org.apache.syncope.common.lib.policy.PasswordRuleConf;\n import org.apache.syncope.common.lib.policy.PullCorrelationRuleConf;\n import org.apache.syncope.common.lib.policy.PushCorrelationRuleConf;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.apache.syncope.common.lib.report.UserReportletConf;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n-import org.apache.syncope.core.persistence.api.dao.AccountRule;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRule;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.Reportlet;\n-import org.apache.syncope.core.provisioning.java.job.report.UserReportlet;\n+import org.apache.syncope.common.lib.report.ReportConf;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n+import org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate;\n+import org.apache.syncope.core.provisioning.api.rules.AccountRule;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRule;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRule;\n \n public class DummyImplementationLookup implements ImplementationLookup {\n \n@@ -51,13 +49,7 @@ public Set<Class<?>> getJWTSSOProviderClasses() {\n     }\n \n     @Override\n-    public Class<? extends Reportlet> getReportletClass(\n-            final Class<? extends ReportletConf> reportletConfClass) {\n-\n-        if (UserReportletConf.class.equals(reportletConfClass)) {\n-            return UserReportlet.class;\n-        }\n-\n+    public Class<? extends ReportJobDelegate> getReportClass(final Class<? extends ReportConf> reportConfClass) {\n         return null;\n     }\n "},{"sha":"9a1aead870498a574ead5c9532033ecd39782b04","filename":"core/idrepo/logic/src/test/java/org/apache/syncope/core/logic/IdRepoLogicTestContext.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FIdRepoLogicTestContext.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FIdRepoLogicTestContext.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidrepo%2Flogic%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FIdRepoLogicTestContext.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -25,11 +25,11 @@\n import org.apache.syncope.common.keymaster.client.api.ServiceOps;\n import org.apache.syncope.core.persistence.api.DomainHolder;\n import org.apache.syncope.core.persistence.api.DomainRegistry;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n import org.apache.syncope.core.persistence.api.content.ContentLoader;\n import org.apache.syncope.core.persistence.jpa.MasterDomain;\n import org.apache.syncope.core.persistence.jpa.PersistenceContext;\n import org.apache.syncope.core.persistence.jpa.StartupDomainLoader;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n import org.apache.syncope.core.provisioning.java.ProvisioningContext;\n import org.apache.syncope.core.spring.security.SecurityContext;\n import org.apache.syncope.core.workflow.java.WorkflowContext;"},{"sha":"463527ac03ef598cda9636e6284d1d89a7c74fb3","filename":"core/idrepo/logic/src/test/java/org/apache/syncope/core/logic/ReportLogicTest.java","status":"modified","additions":40,"deletions":36,"changes":76,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FReportLogicTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Flogic%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FReportLogicTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidrepo%2Flogic%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FReportLogicTest.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -21,30 +21,32 @@\n import static org.junit.jupiter.api.Assertions.assertFalse;\n import static org.junit.jupiter.api.Assertions.assertNotNull;\n import static org.junit.jupiter.api.Assertions.assertTrue;\n+import static org.mockito.Mockito.mock;\n+import static org.mockito.Mockito.when;\n \n import java.io.ByteArrayOutputStream;\n import java.io.IOException;\n+import java.io.OutputStream;\n import java.util.List;\n-import java.util.Optional;\n+import java.util.Map;\n import java.util.stream.Collectors;\n import org.apache.syncope.common.lib.SyncopeConstants;\n import org.apache.syncope.common.lib.to.ReportTO;\n import org.apache.syncope.common.lib.types.IdMEntitlement;\n-import org.apache.syncope.common.lib.types.ReportExecExportFormat;\n-import org.apache.syncope.core.persistence.api.dao.ReportDAO;\n-import org.apache.syncope.core.persistence.api.dao.ReportExecDAO;\n-import org.apache.syncope.core.persistence.api.entity.EntityFactory;\n-import org.apache.syncope.core.persistence.api.entity.ReportExec;\n-import org.apache.syncope.core.provisioning.api.data.ReportDataBinder;\n+import org.apache.syncope.core.provisioning.api.job.JobManager;\n import org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate;\n-import org.apache.syncope.core.provisioning.java.job.report.DefaultReportJobDelegate;\n+import org.apache.syncope.core.provisioning.java.job.report.AbstractReportJobDelegate;\n+import org.apache.syncope.core.spring.ApplicationContextProvider;\n import org.apache.syncope.core.spring.security.SyncopeAuthenticationDetails;\n import org.apache.syncope.core.spring.security.SyncopeGrantedAuthority;\n import org.junit.jupiter.api.AfterAll;\n import org.junit.jupiter.api.BeforeAll;\n import org.junit.jupiter.api.Test;\n+import org.quartz.JobDataMap;\n+import org.quartz.JobExecutionContext;\n+import org.quartz.JobExecutionException;\n import org.springframework.beans.factory.annotation.Autowired;\n-import org.springframework.context.ApplicationEventPublisher;\n+import org.springframework.beans.factory.support.AbstractBeanDefinition;\n import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\n import org.springframework.security.core.GrantedAuthority;\n import org.springframework.security.core.context.SecurityContextHolder;\n@@ -53,6 +55,25 @@\n @Transactional(\"Master\")\n public class ReportLogicTest extends AbstractTest {\n \n+    public static class TestReportJobDelegate extends AbstractReportJobDelegate {\n+\n+        @Override\n+        protected String doExecute(\n+                final boolean dryRun,\n+                final OutputStream os,\n+                final String executor,\n+                final JobExecutionContext context) throws JobExecutionException {\n+\n+            try {\n+                os.write(\"test\".getBytes());\n+            } catch (IOException e) {\n+                throw new JobExecutionException(e);\n+            }\n+\n+            return \"\";\n+        }\n+    }\n+\n     @BeforeAll\n     public static void setAuthContext() {\n         List<GrantedAuthority> authorities = IdMEntitlement.values().stream().\n@@ -74,27 +95,10 @@ public static void unsetAuthContext() {\n     @Autowired\n     private ReportLogic logic;\n \n-    @Autowired\n-    private ReportDAO reportDAO;\n-\n-    @Autowired\n-    private ReportExecDAO reportExecDAO;\n-\n-    @Autowired\n-    private EntityFactory entityFactory;\n-\n-    @Autowired\n-    private ReportDataBinder reportDataBinder;\n-\n-    @Autowired\n-    private ApplicationEventPublisher publisher;\n-\n-    private void checkExport(final String execKey, final ReportExecExportFormat fmt) throws IOException {\n-        ReportExecExportFormat format = Optional.ofNullable(fmt).orElse(ReportExecExportFormat.XML);\n-        ReportExec reportExec = logic.getReportExec(execKey);\n+    private void checkExport(final String execKey) throws IOException {\n         ByteArrayOutputStream os = new ByteArrayOutputStream();\n \n-        logic.exportExecutionResult(os, reportExec, format);\n+        logic.exportExecutionResult(os, execKey);\n \n         os.close();\n         byte[] entity = os.toByteArray();\n@@ -112,19 +116,19 @@ public void executeAndExport() throws Exception {\n         report = logic.read(report.getKey());\n         assertTrue(report.getExecutions().isEmpty());\n \n-        ReportJobDelegate delegate = new DefaultReportJobDelegate(\n-                reportDAO, reportExecDAO, entityFactory, reportDataBinder, publisher);\n-        delegate.execute(report.getKey(), \"test\");\n+        JobDataMap jobDataMap = new JobDataMap(Map.of(JobManager.EXECUTOR_KEY, \"test\"));\n+        JobExecutionContext ctx = mock(JobExecutionContext.class);\n+        when(ctx.getMergedJobDataMap()).thenReturn(jobDataMap);\n+\n+        ReportJobDelegate delegate = (ReportJobDelegate) ApplicationContextProvider.getBeanFactory().\n+                createBean(TestReportJobDelegate.class, AbstractBeanDefinition.AUTOWIRE_BY_NAME, false);\n+        delegate.execute(report.getKey(), false, ctx);\n \n         report = logic.read(report.getKey());\n         assertFalse(report.getExecutions().isEmpty());\n \n         String execKey = report.getExecutions().get(0).getKey();\n \n-        checkExport(execKey, ReportExecExportFormat.XML);\n-        checkExport(execKey, ReportExecExportFormat.HTML);\n-        checkExport(execKey, ReportExecExportFormat.PDF);\n-        checkExport(execKey, ReportExecExportFormat.RTF);\n-        checkExport(execKey, ReportExecExportFormat.CSV);\n+        checkExport(execKey);\n     }\n }"},{"sha":"33c20d4abe49abced1155b929738ffbd0651e772","filename":"core/idrepo/rest-cxf/src/main/java/org/apache/syncope/core/rest/cxf/IdRepoRESTCXFContext.java","status":"modified","additions":0,"deletions":9,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fcxf%2FIdRepoRESTCXFContext.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fcxf%2FIdRepoRESTCXFContext.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidrepo%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fcxf%2FIdRepoRESTCXFContext.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -67,7 +67,6 @@\n import org.apache.syncope.common.rest.api.service.RealmService;\n import org.apache.syncope.common.rest.api.service.RelationshipTypeService;\n import org.apache.syncope.common.rest.api.service.ReportService;\n-import org.apache.syncope.common.rest.api.service.ReportTemplateService;\n import org.apache.syncope.common.rest.api.service.RoleService;\n import org.apache.syncope.common.rest.api.service.SchemaService;\n import org.apache.syncope.common.rest.api.service.SecurityQuestionService;\n@@ -93,7 +92,6 @@\n import org.apache.syncope.core.logic.RealmLogic;\n import org.apache.syncope.core.logic.RelationshipTypeLogic;\n import org.apache.syncope.core.logic.ReportLogic;\n-import org.apache.syncope.core.logic.ReportTemplateLogic;\n import org.apache.syncope.core.logic.RoleLogic;\n import org.apache.syncope.core.logic.SchemaLogic;\n import org.apache.syncope.core.logic.SecurityQuestionLogic;\n@@ -125,7 +123,6 @@\n import org.apache.syncope.core.rest.cxf.service.RealmServiceImpl;\n import org.apache.syncope.core.rest.cxf.service.RelationshipTypeServiceImpl;\n import org.apache.syncope.core.rest.cxf.service.ReportServiceImpl;\n-import org.apache.syncope.core.rest.cxf.service.ReportTemplateServiceImpl;\n import org.apache.syncope.core.rest.cxf.service.RoleServiceImpl;\n import org.apache.syncope.core.rest.cxf.service.SchemaServiceImpl;\n import org.apache.syncope.core.rest.cxf.service.SecurityQuestionServiceImpl;\n@@ -478,12 +475,6 @@ public ReportService reportService(final ReportLogic reportLogic) {\n         return new ReportServiceImpl(reportLogic);\n     }\n \n-    @ConditionalOnMissingBean\n-    @Bean\n-    public ReportTemplateService reportTemplateService(final ReportTemplateLogic reportTemplateLogic) {\n-        return new ReportTemplateServiceImpl(reportTemplateLogic);\n-    }\n-\n     @ConditionalOnMissingBean\n     @Bean\n     public RoleService roleService(final RoleLogic roleLogic) {"},{"sha":"dfca2450151b397dff2848cdcc12139cf31645a7","filename":"core/idrepo/rest-cxf/src/main/java/org/apache/syncope/core/rest/cxf/service/ReportServiceImpl.java","status":"modified","additions":4,"deletions":9,"changes":13,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fcxf%2Fservice%2FReportServiceImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fidrepo%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fcxf%2Fservice%2FReportServiceImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidrepo%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fcxf%2Fservice%2FReportServiceImpl.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -23,14 +23,11 @@\n import jakarta.ws.rs.core.StreamingOutput;\n import java.net.URI;\n import java.util.List;\n-import java.util.Optional;\n import org.apache.syncope.common.lib.to.ReportTO;\n-import org.apache.syncope.common.lib.types.ReportExecExportFormat;\n import org.apache.syncope.common.rest.api.RESTHeaders;\n import org.apache.syncope.common.rest.api.service.ReportService;\n import org.apache.syncope.core.logic.AbstractExecutableLogic;\n import org.apache.syncope.core.logic.ReportLogic;\n-import org.apache.syncope.core.persistence.api.entity.ReportExec;\n import org.springframework.stereotype.Service;\n \n @Service\n@@ -72,14 +69,12 @@ public ReportTO read(final String key) {\n     }\n \n     @Override\n-    public Response exportExecutionResult(final String executionKey, final ReportExecExportFormat fmt) {\n-        ReportExecExportFormat format = Optional.ofNullable(fmt).orElse(ReportExecExportFormat.XML);\n-        ReportExec reportExec = logic.getReportExec(executionKey);\n-        StreamingOutput sout = os -> logic.exportExecutionResult(os, reportExec, format);\n+    public Response exportExecutionResult(final String executionKey) {\n+        String filename = logic.getFilename(executionKey);\n+        StreamingOutput sout = os -> logic.exportExecutionResult(os, executionKey);\n \n         return Response.ok(sout).\n-                header(HttpHeaders.CONTENT_DISPOSITION,\n-                        \"attachment; filename=\" + reportExec.getReport().getName() + '.' + format.name().toLowerCase()).\n+                header(HttpHeaders.CONTENT_DISPOSITION, \"attachment; filename=\" + filename).\n                 build();\n     }\n "},{"sha":"95df163e57ade97fc749832c7b220dddae68f9db","filename":"core/idrepo/rest-cxf/src/main/java/org/apache/syncope/core/rest/cxf/service/ReportTemplateServiceImpl.java","status":"removed","additions":0,"deletions":95,"changes":95,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fidrepo%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fcxf%2Fservice%2FReportTemplateServiceImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fidrepo%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fcxf%2Fservice%2FReportTemplateServiceImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidrepo%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fcxf%2Fservice%2FReportTemplateServiceImpl.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,95 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.rest.cxf.service;\n-\n-import jakarta.ws.rs.InternalServerErrorException;\n-import jakarta.ws.rs.core.MediaType;\n-import jakarta.ws.rs.core.Response;\n-import jakarta.ws.rs.core.StreamingOutput;\n-import java.io.IOException;\n-import java.io.InputStream;\n-import java.net.URI;\n-import java.nio.charset.StandardCharsets;\n-import java.util.List;\n-import org.apache.commons.io.IOUtils;\n-import org.apache.syncope.common.lib.to.ReportTemplateTO;\n-import org.apache.syncope.common.lib.types.ReportTemplateFormat;\n-import org.apache.syncope.common.rest.api.RESTHeaders;\n-import org.apache.syncope.common.rest.api.service.ReportTemplateService;\n-import org.apache.syncope.core.logic.ReportTemplateLogic;\n-import org.springframework.stereotype.Service;\n-\n-@Service\n-public class ReportTemplateServiceImpl extends AbstractService implements ReportTemplateService {\n-\n-    protected final ReportTemplateLogic logic;\n-\n-    public ReportTemplateServiceImpl(final ReportTemplateLogic logic) {\n-        this.logic = logic;\n-    }\n-\n-    @Override\n-    public Response create(final ReportTemplateTO reportTemplateTO) {\n-        ReportTemplateTO created = logic.create(reportTemplateTO.getKey());\n-        URI location = uriInfo.getAbsolutePathBuilder().path(created.getKey()).build();\n-        return Response.created(location).\n-                header(RESTHeaders.RESOURCE_KEY, created.getKey()).\n-                build();\n-    }\n-\n-    @Override\n-    public ReportTemplateTO read(final String key) {\n-        return logic.read(key);\n-    }\n-\n-    @Override\n-    public List<ReportTemplateTO> list() {\n-        return logic.list();\n-    }\n-\n-    @Override\n-    public void delete(final String key) {\n-        logic.delete(key);\n-    }\n-\n-    @Override\n-    public Response getFormat(final String key, final ReportTemplateFormat format) {\n-        String template = logic.getFormat(key, format);\n-        StreamingOutput sout = (os) -> os.write(template.getBytes());\n-\n-        return Response.ok(sout).\n-                type(MediaType.APPLICATION_XML).\n-                build();\n-    }\n-\n-    @Override\n-    public void setFormat(final String key, final ReportTemplateFormat format, final InputStream templateIn) {\n-        try {\n-            logic.setFormat(key, format, IOUtils.toString(templateIn, StandardCharsets.UTF_8.name()));\n-        } catch (final IOException e) {\n-            LOG.error(\"While setting format {} for report template {}\", format, key, e);\n-            throw new InternalServerErrorException(\"Could not read entity\", e);\n-        }\n-    }\n-\n-    @Override\n-    public void removeFormat(final String key, final ReportTemplateFormat format) {\n-        logic.setFormat(key, format, null);\n-    }\n-}"},{"sha":"650d2b44dab1511dd90bdf4618ea3667e9f34891","filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/ReportDAO.java","status":"modified","additions":1,"deletions":4,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fdao%2FReportDAO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fdao%2FReportDAO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fdao%2FReportDAO.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -21,15 +21,12 @@\n import java.util.List;\n import org.apache.syncope.core.persistence.api.entity.Implementation;\n import org.apache.syncope.core.persistence.api.entity.Report;\n-import org.apache.syncope.core.persistence.api.entity.ReportTemplate;\n \n public interface ReportDAO extends DAO<Report> {\n \n     Report find(String key);\n \n-    List<Report> findByReportlet(Implementation reportlet);\n-\n-    List<Report> findByTemplate(ReportTemplate template);\n+    List<Report> findByDelegate(Implementation delegate);\n \n     List<Report> findAll();\n "},{"sha":"3274660c2aad9d9a626f3c83df1a41ce482e93c1","filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/ReportTemplateDAO.java","status":"removed","additions":0,"deletions":33,"changes":33,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fdao%2FReportTemplateDAO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fdao%2FReportTemplateDAO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fdao%2FReportTemplateDAO.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,33 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.persistence.api.dao;\n-\n-import java.util.List;\n-import org.apache.syncope.core.persistence.api.entity.ReportTemplate;\n-\n-public interface ReportTemplateDAO extends DAO<ReportTemplate> {\n-\n-    ReportTemplate find(String key);\n-\n-    List<ReportTemplate> findAll();\n-\n-    ReportTemplate save(ReportTemplate template);\n-\n-    void delete(String key);\n-}"},{"sha":"22c4468b0c9f7912eb428dea4d05d6f1851bf988","filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/Reportlet.java","status":"removed","additions":0,"deletions":49,"changes":49,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fdao%2FReportlet.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fdao%2FReportlet.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fdao%2FReportlet.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,49 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.persistence.api.dao;\n-\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.xml.sax.ContentHandler;\n-import org.xml.sax.SAXException;\n-\n-/**\n- * Interface for all elements that can be embedded in a report.\n- *\n- * @see org.apache.syncope.core.persistence.api.entity.Report\n- */\n-@FunctionalInterface\n-public interface Reportlet {\n-\n-    /**\n-     * Optional configuration.\n-     *\n-     * @param conf configuration\n-     */\n-    default void setConf(ReportletConf conf) {\n-    }\n-\n-    /**\n-     * Actual data extraction for reporting.\n-     *\n-     * @param handler SAX content handler for streaming result\n-     * @param refDesc current report status (for job reporting)\n-     * @throws SAXException if there is any problem in SAX handling\n-     */\n-    void extract(ContentHandler handler, String refDesc) throws SAXException;\n-}"},{"sha":"7c5ce02057e4f620d58201074e1253349e9d50ee","filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/entity/Report.java","status":"modified","additions":10,"deletions":6,"changes":16,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FReport.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FReport.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FReport.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -26,13 +26,13 @@ public interface Report extends Entity {\n \n     void setName(String name);\n \n-    boolean add(ReportExec exec);\n+    String getMimeType();\n \n-    List<? extends ReportExec> getExecs();\n+    void setMimeType(String mimeType);\n \n-    boolean add(Implementation reportlet);\n+    String getFileExt();\n \n-    List<? extends Implementation> getReportlets();\n+    void setFileExt(String fileExt);\n \n     String getCronExpression();\n \n@@ -42,7 +42,11 @@ public interface Report extends Entity {\n \n     void setActive(boolean active);\n \n-    ReportTemplate getTemplate();\n+    void setJobDelegate(Implementation jobDelegate);\n+\n+    Implementation getJobDelegate();\n \n-    void setTemplate(ReportTemplate template);\n+    boolean add(ReportExec exec);\n+\n+    List<? extends ReportExec> getExecs();\n }"},{"sha":"e55f0746ee3b7ed5c5f391798e0ec44933adea14","filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/entity/ReportExec.java","status":"modified","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FReportExec.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FReportExec.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FReportExec.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,8 +18,6 @@\n  */\n package org.apache.syncope.core.persistence.api.entity;\n \n-import org.apache.syncope.common.lib.types.ReportExecStatus;\n-\n public interface ReportExec extends Exec {\n \n     byte[] getExecResult();\n@@ -29,6 +27,4 @@ public interface ReportExec extends Exec {\n     void setExecResult(byte[] execResult);\n \n     void setReport(Report report);\n-\n-    void setStatus(ReportExecStatus status);\n }"},{"sha":"fc4062faaa3cc3d5e3b9c3961c96aea5488634c2","filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/entity/ReportTemplate.java","status":"removed","additions":0,"deletions":34,"changes":34,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FReportTemplate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FReportTemplate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fapi%2Fentity%2FReportTemplate.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,34 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.persistence.api.entity;\n-\n-public interface ReportTemplate extends ProvidedKeyEntity {\n-\n-    String getFOTemplate();\n-\n-    void setFOTemplate(String foTemplate);\n-\n-    String getCSVTemplate();\n-\n-    void setCSVTemplate(String csvTemplate);\n-\n-    String getHTMLTemplate();\n-\n-    void setHTMLTemplate(String htmlTemplate);\n-}"},{"sha":"f8369fb457afe982ac8f0c1dcf3fbfea408efd3f","filename":"core/persistence-jpa-json/src/main/resources/domains/jpa-json/MasterContent.xml","status":"modified","additions":2,"deletions":9,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa-json%2Fsrc%2Fmain%2Fresources%2Fdomains%2Fjpa-json%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa-json%2Fsrc%2Fmain%2Fresources%2Fdomains%2Fjpa-json%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa-json%2Fsrc%2Fmain%2Fresources%2Fdomains%2Fjpa-json%2FMasterContent.xml?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -50,11 +50,11 @@ under the License.\n   <Implementation id=\"ExpiredAccessTokenCleanup\" type=\"TASKJOB_DELEGATE\" engine=\"JAVA\"\n                   body=\"org.apache.syncope.core.provisioning.java.job.ExpiredAccessTokenCleanup\"/>\n   <SchedTask id=\"89de5014-e3f5-4462-84d8-d97575740baf\" name=\"Access Token Cleanup Task\"  active=\"1\"\n-        jobDelegate_id=\"ExpiredAccessTokenCleanup\" cronExpression=\"0 0/5 * * * ?\"/>\n+             jobDelegate_id=\"ExpiredAccessTokenCleanup\" cronExpression=\"0 0/5 * * * ?\"/>\n   <Implementation id=\"ExpiredBatchCleanup\" type=\"TASKJOB_DELEGATE\" engine=\"JAVA\"\n                   body=\"org.apache.syncope.core.provisioning.java.job.ExpiredBatchCleanup\"/>\n   <SchedTask id=\"8ea0ea51-ce08-4fe3-a0c8-c281b31b5893\" name=\"Expired Batch Operations Cleanup Task\"  active=\"1\"\n-        jobDelegate_id=\"ExpiredBatchCleanup\" cronExpression=\"0 0/5 * * * ?\"/>\n+             jobDelegate_id=\"ExpiredBatchCleanup\" cronExpression=\"0 0/5 * * * ?\"/>\n \n   <!-- Password reset notifications -->\n   <MailTemplate id=\"requestPasswordReset\"\n@@ -104,12 +104,5 @@ we are happy to inform you that the password request was successfully executed f\n                 sender=\"admin@syncope.apache.org\" subject=\"Password Reset successful\" template_id=\"confirmPasswordReset\" \n                 traceLevel=\"FAILURES\" events='[\"[CUSTOM]:[]:[]:[confirmPasswordReset]:[SUCCESS]\"]'/> \n \n-  <ReportTemplate id=\"empty\"/>  \n-\n-  <Report id=\"c3520ad9-179f-49e7-b315-d684d216dd97\" name=\"reconciliation\" active=\"1\" template_id=\"empty\"/>\n-  <Implementation id=\"ReconciliationReportletConf\" type=\"REPORTLET\" engine=\"JAVA\"\n-                  body='{\"_class\":\"org.apache.syncope.common.lib.report.ReconciliationReportletConf\",\"name\":\"dashboardReconciliationReportlet\",\"userMatchingCond\":null,\"groupMatchingCond\":null,\"anyObjectMatchingCond\":null,\"features\":[\"key\",\"username\",\"groupName\"]}'/>\n-  <ReportReportlet report_id=\"c3520ad9-179f-49e7-b315-d684d216dd97\" implementation_id=\"ReconciliationReportletConf\"/>\n-\n   <SyncopeRole id=\"GROUP_OWNER\" entitlements='[\"USER_SEARCH\",\"USER_READ\",\"USER_CREATE\",\"USER_UPDATE\",\"USER_DELETE\",\"ANYTYPECLASS_READ\",\"ANYTYPE_LIST\",\"ANYTYPECLASS_LIST\",\"RELATIONSHIPTYPE_LIST\",\"ANYTYPE_READ\",\"REALM_LIST\",\"GROUP_SEARCH\",\"GROUP_READ\",\"GROUP_UPDATE\",\"GROUP_DELETE\"]'/>\n </dataset>"},{"sha":"29a97ba3eb8170d368f9318342566c7cc86ba5c0","filename":"core/persistence-jpa-json/src/test/resources/domains/MasterContent.xml","status":"modified","additions":15,"deletions":1116,"changes":1131,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa-json%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa-json%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa-json%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -751,52 +751,52 @@ under the License.\n   <PullTask remediation=\"0\" id=\"38abbf9e-a1a3-40a1-a15f-7d0ac02f47f1\" name=\"VirAttrCache test\" resource_id=\"resource-csv\"\n             destinationRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\" performCreate=\"0\" performUpdate=\"1\" performDelete=\"0\" syncStatus=\"0\" pullMode=\"FULL_RECONCILIATION\"\n             unmatchingRule=\"PROVISION\" matchingRule=\"UPDATE\" active=\"1\" jobDelegate_id=\"PullJobDelegate\"/>\n-  <PushTask id=\"af558be4-9d2f-4359-bf85-a554e6e90be1\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"af558be4-9d2f-4359-bf85-a554e6e90be1\" name=\"Export on resource-testdb2.1\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"         \n             unmatchingRule=\"ASSIGN\" matchingRule=\"IGNORE\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"surname==Vivaldi\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"97f327b6-2eff-4d35-85e8-d581baaab855\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"97f327b6-2eff-4d35-85e8-d581baaab855\" name=\"Export on resource-testdb2.2\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"         \n             unmatchingRule=\"PROVISION\" matchingRule=\"IGNORE\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"surname==Bellini\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"03aa2a04-4881-4573-9117-753f81b04865\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"03aa2a04-4881-4573-9117-753f81b04865\" name=\"Export on resource-testdb2.3\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n             unmatchingRule=\"UNLINK\" matchingRule=\"IGNORE\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"surname==Puccini\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"5e5f7c7e-9de7-4c6a-99f1-4df1af959807\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"5e5f7c7e-9de7-4c6a-99f1-4df1af959807\" name=\"Export on resource-testdb2.4\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"         \n             unmatchingRule=\"IGNORE\" matchingRule=\"IGNORE\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"surname==Verdi\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"0bc11a19-6454-45c2-a4e3-ceef84e5d79b\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"0bc11a19-6454-45c2-a4e3-ceef84e5d79b\" name=\"Export on resource-testdb2.5\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n             unmatchingRule=\"ASSIGN\" matchingRule=\"UPDATE\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"username==_NO_ONE_\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"ec674143-480a-4816-98ad-b61fa090821e\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"ec674143-480a-4816-98ad-b61fa090821e\" name=\"Export on resource-testdb2.6\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n             unmatchingRule=\"IGNORE\" matchingRule=\"DEPROVISION\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"surname==Verdi\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"c46edc3a-a18b-4af2-b707-f4a415507496\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"c46edc3a-a18b-4af2-b707-f4a415507496\" name=\"Export on resource-testdb2.7\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n             unmatchingRule=\"IGNORE\" matchingRule=\"UNASSIGN\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"surname==Rossini\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"51318433-cce4-4f71-8f45-9534b6c9c819\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"51318433-cce4-4f71-8f45-9534b6c9c819\" name=\"Export on resource-testdb2.8\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n             unmatchingRule=\"IGNORE\" matchingRule=\"LINK\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"surname==Verdi\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"24b1be9c-7e3b-443a-86c9-798ebce5eaf2\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"24b1be9c-7e3b-443a-86c9-798ebce5eaf2\" name=\"Export on resource-testdb2.9\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n             unmatchingRule=\"IGNORE\" matchingRule=\"UNLINK\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"surname==Verdi\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"375c7b7f-9e3a-4833-88c9-b7787b0a69f2\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"375c7b7f-9e3a-4833-88c9-b7787b0a69f2\" name=\"Export on resource-testdb2.10\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n             unmatchingRule=\"IGNORE\" matchingRule=\"UPDATE\"  active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n@@ -945,1118 +945,17 @@ $$ }&#10;\n                 events='[\"[CUSTOM]:[]:[]:[unexisting1]:[FAILURE]\", \"[CUSTOM]:[]:[]:[unexisting2]:[SUCCESS]\"]'/>\n   <AnyAbout id=\"2e2ee845-2abf-43c6-b543-49243a84e2f1\" anyType_id=\"USER\" notification_id=\"9e2b911c-25de-4c77-bcea-b86ed9451050\" anyType_filter=\"fullname==*o*;fullname==*i*\"/>\n \n-  <ReportTemplate id=\"empty\"/>  \n-  <ReportTemplate id=\"sample\"\n-                  htmlTemplate=\"&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;\n-&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&#10;\n-                version=&quot;1.0&quot;&gt;&#10;\n-&#10;\n-  &lt;xsl:param name=&quot;status&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;message&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;start&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;end&quot;/&gt;&#10;\n-  &#10;\n-  &lt;xsl:template match=&quot;/&quot;&gt;&#10;\n-    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;en&quot; lang=&quot;en&quot;&gt;&#10;\n-      &lt;head&gt;&#10;\n-        &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;&#10;\n-        &lt;title&gt;Apache Syncope Report - &lt;xsl:value-of select=&quot;report/@name&quot;/&gt;&lt;/title&gt;&#10;\n-      &lt;/head&gt;&#10;\n-      &lt;body&gt;&#10;\n-        &lt;table style=&quot;border: 1px solid black;&quot;&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;h1&gt;Report Name:&lt;/h1&gt;&#10;\n-            &lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;h1&gt;&#10;\n-                &lt;xsl:value-of select=&quot;report/@name&quot;/&gt;&#10;\n-              &lt;/h1&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;h2&gt;Start Date:&lt;/h2&gt;&#10;\n-            &lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;h2&gt;&#10;\n-                &lt;xsl:value-of select=&quot;$start&quot;/&gt;&#10;\n-              &lt;/h2&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;h2&gt;End Date:&lt;/h2&gt;&#10;\n-            &lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;h2&gt;&#10;\n-                &lt;xsl:value-of select=&quot;$end&quot;/&gt;&#10;\n-              &lt;/h2&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-        &lt;/table&gt;&#10;\n-&#10;\n-        &lt;xsl:apply-templates/&gt;&#10;\n-      &lt;/body&gt;&#10;\n-    &lt;/html&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-&#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.StaticReportlet']&quot;&gt;&#10;\n-    &lt;h2&gt;Reportlet: &#10;\n-      &lt;xsl:value-of select=&quot;@name&quot;/&gt;&#10;\n-    &lt;/h2&gt;&#10;\n-        &#10;\n-    &lt;xsl:if test=&quot;string-length(string/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;p&gt;String value:                 &#10;\n-        &lt;xsl:value-of select=&quot;string/text()&quot;/&gt;&#10;\n-      &lt;/p&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(long/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;p&gt;Long value: &#10;\n-        &lt;xsl:value-of select=&quot;long/text()&quot;/&gt;&#10;\n-      &lt;/p&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(double/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;p&gt;Double value: &#10;\n-        &lt;xsl:value-of select=&quot;double/text()&quot;/&gt;&#10;\n-      &lt;/p&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(date/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;p&gt;Date value: &#10;\n-        &lt;xsl:value-of select=&quot;date/text()&quot;/&gt;&#10;\n-      &lt;/p&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(enum/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;p&gt;Enum value: &#10;\n-        &lt;xsl:value-of select=&quot;enum/text()&quot;/&gt;&#10;\n-      &lt;/p&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(list) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;p&gt;List values:&lt;/p&gt;&#10;\n-            &#10;\n-      &lt;ul&gt;&#10;\n-        &lt;xsl:for-each select=&quot;list/string&quot;&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(string/text()) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;li&gt;&#10;\n-              &lt;xsl:value-of select=&quot;text()&quot;/&gt;&#10;\n-            &lt;/li&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-        &lt;/xsl:for-each&gt;&#10;\n-      &lt;/ul&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.UserReportlet']&quot;&gt;&#10;\n-    &#10;\n-    &lt;h3&gt;Reportlet: &lt;xsl:value-of select=&quot;@name&quot;/&gt;&lt;/h3&gt;&#10;\n-    &#10;\n-    &lt;xsl:for-each select=&quot;user&quot;&gt;&#10;\n-      &lt;h4&gt;User &lt;xsl:value-of select=&quot;@username&quot;/&gt;&lt;/h4&gt;&#10;\n-      &#10;\n-      &lt;table style=&quot;border: 1px solid black;&quot;&gt;&#10;\n-        &lt;tr&gt;&#10;\n-          &lt;td&gt;Status:&lt;/td&gt;&#10;\n-          &lt;td&gt;&#10;\n-            &lt;xsl:value-of select=&quot;@status&quot;/&gt;&#10;\n-          &lt;/td&gt;&#10;\n-        &lt;/tr&gt;&#10;\n-        &lt;xsl:if test=&quot;string-length(@creationDate) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;Creation Date:&lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;xsl:value-of select=&quot;@creationDate&quot;/&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-        &lt;/xsl:if&gt;&#10;\n-        &lt;xsl:if test=&quot;string-length(@lastLoginDate) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;Last Login Date:&lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;xsl:value-of select=&quot;@lastLoginDate&quot;/&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-        &lt;/xsl:if&gt;&#10;\n-        &lt;xsl:if test=&quot;string-length(@changePwdDate) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;Change Password Date:&lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;xsl:value-of select=&quot;@changePwdDate&quot;/&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-        &lt;/xsl:if&gt;&#10;\n-        &lt;xsl:if test=&quot;string-length(@passwordHistorySize) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;Password History Size:&lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;xsl:value-of select=&quot;@passwordHistorySize&quot;/&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-        &lt;/xsl:if&gt;&#10;\n-        &lt;xsl:if test=&quot;string-length(@failedLoginCount) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;Number of Failed Login Attempts:&lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;xsl:value-of select=&quot;@failedLoginCount&quot;/&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-        &lt;/xsl:if&gt;&#10;\n-      &lt;/table&gt;&#10;\n-&#10;\n-      &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-        &lt;xsl:with-param name=&quot;label&quot;&gt;Attributes&lt;/xsl:with-param&gt;&#10;\n-        &lt;xsl:with-param name=&quot;node&quot; select=&quot;attributes/attribute&quot;/&gt;&#10;\n-      &lt;/xsl:call-template&gt;&#10;\n-&#10;\n-      &lt;!--&lt;xsl:if test=&quot;string-length(derivedAttributes/derivedAttribute) &amp;gt; 0&quot;&gt;--&gt;&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(derivedAttributes/derivedAttribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Derived Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;derivedAttributes/derivedAttribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;h5&gt;THIS USER HASN'T DERIVED ATTRIBUTES&lt;/h5&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;!--&lt;/xsl:if&gt;--&gt;&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(virtualAttributes/virtualAttribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Virtual Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;virtualAttributes/virtualAttribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;h5&gt;THIS USER HASN'T VIRTUAL ATTRIBUTES&lt;/h5&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(memberships/membership) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;h4&gt;Memberships&lt;/h4&gt;&#10;\n-          &lt;xsl:for-each select=&quot;memberships/membership&quot;&gt;&#10;\n-            &lt;h5&gt;Group: &lt;xsl:value-of select=&quot;@groupName&quot;/&gt;(&lt;xsl:value-of select=&quot;@groupId&quot;/&gt;)&lt;/h5&gt;&#10;\n-            &lt;blockquote&gt;&#10;\n-              &lt;xsl:choose&gt;&#10;\n-                &lt;xsl:when test=&quot;string-length(attributes/attribute) &amp;gt; 0&quot;&gt;&#10;\n-                  &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;label&quot;&gt;Attributes&lt;/xsl:with-param&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;node&quot; select=&quot;attributes/attribute&quot;/&gt;&#10;\n-                  &lt;/xsl:call-template&gt;&#10;\n-                &lt;/xsl:when&gt;&#10;\n-                &lt;xsl:otherwise&gt;&#10;\n-                  &lt;h5&gt;THIS GROUP HASN'T ATTRIBUTES&lt;/h5&gt;&#10;\n-                &lt;/xsl:otherwise&gt;&#10;\n-              &lt;/xsl:choose&gt;&#10;\n-              &lt;xsl:choose&gt;&#10;\n-                &lt;xsl:when test=&quot;string-length(derivedAttributes/derivedAttribute) &amp;gt; 0&quot;&gt;&#10;\n-                  &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;label&quot;&gt;Derived Attributes&lt;/xsl:with-param&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;node&quot; select=&quot;derivedAttributes/derivedAttribute&quot;/&gt;&#10;\n-                  &lt;/xsl:call-template&gt;&#10;\n-                &lt;/xsl:when&gt;&#10;\n-                &lt;xsl:otherwise&gt;&#10;\n-                  &lt;h5&gt;THIS GROUP HASN'T DERIVED ATTRIBUTES&lt;/h5&gt;&#10;\n-                &lt;/xsl:otherwise&gt;&#10;\n-              &lt;/xsl:choose&gt;&#10;\n-              &lt;xsl:choose&gt;&#10;\n-                &lt;xsl:when test=&quot;string-length(virtualAttributes/virtualAttribute) &amp;gt; 0&quot;&gt;&#10;\n-                  &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;label&quot;&gt;Virtual Attributes&lt;/xsl:with-param&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;node&quot; select=&quot;virtualAttributes/virtualAttribute&quot;/&gt;&#10;\n-                  &lt;/xsl:call-template&gt;&#10;\n-                &lt;/xsl:when&gt;&#10;\n-                &lt;xsl:otherwise&gt;&#10;\n-                  &lt;h5&gt;THIS GROUP HASN'T VIRTUAL ATTRIBUTES&lt;/h5&gt;&#10;\n-                &lt;/xsl:otherwise&gt;&#10;\n-              &lt;/xsl:choose&gt;&#10;\n-              &lt;xsl:call-template name=&quot;groupResources&quot;&gt;&#10;\n-                &lt;xsl:with-param name=&quot;node&quot; select=&quot;resources/resource&quot;/&gt;&#10;\n-              &lt;/xsl:call-template&gt;&#10;\n-            &lt;/blockquote&gt;&#10;\n-          &lt;/xsl:for-each&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;h5&gt;THIS USER ISN'T ASSIGNED TO A GROUP&lt;/h5&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;xsl:if test=&quot;string-length(resources) &amp;gt; 0&quot;&gt;&#10;\n-        &lt;xsl:call-template name=&quot;resources&quot;&gt;&#10;\n-          &lt;xsl:with-param name=&quot;node&quot; select=&quot;resources/resource&quot;/&gt;&#10;\n-        &lt;/xsl:call-template&gt;&#10;\n-      &lt;/xsl:if&gt;&#10;\n-      &lt;hr/&gt;&#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-       &#10;\n-  &lt;/xsl:template&gt;&#10;\n-&#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.GroupReportlet']&quot;&gt;&#10;\n-    &lt;h2&gt;Reportlet: &lt;xsl:value-of select=&quot;@name&quot;/&gt;&lt;/h2&gt;&#10;\n-    &lt;xsl:for-each select=&quot;group&quot;&gt;&#10;\n-      &lt;h3&gt;Group &lt;xsl:value-of select=&quot;@name&quot;/&gt;&lt;/h3&gt;&#10;\n-      &#10;\n-      &lt;table style=&quot;border: 1px solid black;&quot;&gt;&#10;\n-        &lt;tr&gt;&#10;\n-          &lt;td&gt;Id:&lt;/td&gt;&#10;\n-          &lt;td&gt;&#10;\n-            &lt;xsl:value-of select=&quot;@id&quot;/&gt;&#10;\n-          &lt;/td&gt;&#10;\n-        &lt;/tr&gt;&#10;\n-        &lt;xsl:if test=&quot;@groupOwner != 'null'&quot;&gt; &lt;!--!= null test=&quot;not(USER/FIRSTNAME)&quot; --&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;Group Owner:&lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;xsl:value-of select=&quot;@groupOwner&quot;/&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-        &lt;/xsl:if&gt;&#10;\n-        &lt;xsl:if test=&quot;@userOwner != 'null'&quot;&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;User Owner:&lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;xsl:value-of select=&quot;@userOwner&quot;/&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-        &lt;/xsl:if&gt;&#10;\n-        &#10;\n-      &lt;/table&gt;&#10;\n-&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(attributes/attribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;attributes/attribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;h5&gt;THIS GROUP HASN'T ANY ATTRIBUTE&lt;/h5&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(derivedAttributes/derivedAttribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Derived Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;derivedAttributes/derivedAttribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;h5&gt;THIS GROUP HASN'T ANY DERIVED ATTRIBUTE&lt;/h5&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;!--&lt;/xsl:if&gt;--&gt;&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(virtualAttributes/virtualAttribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Virtual Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;virtualAttributes/virtualAttribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;h5&gt;THIS GROUP HASN'T ANY VIRTUAL ATTRIBUTE&lt;/h5&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;users/user&quot;&gt;&#10;\n-          &lt;h4&gt;Users&lt;/h4&gt;&#10;\n-          &lt;xsl:for-each select=&quot;users/user&quot;&gt;&#10;\n-            &lt;h5&gt;User: &lt;xsl:value-of select=&quot;@userUsername&quot;/&gt; (Id: &lt;xsl:value-of select=&quot;@userId&quot;/&gt;)&lt;/h5&gt;&#10;\n-          &lt;/xsl:for-each&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;h5&gt;THIS GROUP HASN'T ANY USER ASSIGNED TO&lt;/h5&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &#10;\n-      &lt;xsl:call-template name=&quot;groupResources&quot;&gt;&#10;\n-        &lt;xsl:with-param name=&quot;node&quot; select=&quot;resources/resource&quot;/&gt;&#10;\n-      &lt;/xsl:call-template&gt;&#10;\n-      &lt;hr/&gt;&#10;\n-      &#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template name=&quot;attributes&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;label&quot;/&gt;&#10;\n-    &lt;xsl:param name=&quot;node&quot;/&gt;&#10;\n-&#10;\n-    &lt;h4&gt;&#10;\n-      &lt;xsl:value-of select=&quot;$label&quot;/&gt;&#10;\n-    &lt;/h4&gt;&#10;\n-    &#10;\n-    &lt;table&gt;&#10;\n-      &lt;thead&gt;&#10;\n-        &lt;tr&gt;&#10;\n-          &lt;th&gt;Schema name&lt;/th&gt;&#10;\n-          &lt;th&gt;Value(s)&lt;/th&gt;&#10;\n-        &lt;/tr&gt;&#10;\n-      &lt;/thead&gt;&#10;\n-      &lt;tbody&gt;&#10;\n-        &lt;xsl:for-each select=&quot;$node&quot;&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(value/text()) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;tr&gt;&#10;\n-              &lt;td&gt;&#10;\n-                &lt;xsl:value-of select=&quot;@name&quot;/&gt;&#10;\n-              &lt;/td&gt;&#10;\n-              &lt;td&gt;&#10;\n-                &lt;ul&gt;&#10;\n-                  &lt;xsl:for-each select=&quot;value&quot;&gt;&#10;\n-                    &lt;li&gt;&#10;\n-                      &lt;xsl:value-of select=&quot;text()&quot;/&gt;&#10;\n-                    &lt;/li&gt;&#10;\n-                  &lt;/xsl:for-each&gt;&#10;\n-                &lt;/ul&gt;&#10;\n-              &lt;/td&gt;&#10;\n-            &lt;/tr&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-        &lt;/xsl:for-each&gt;&#10;\n-      &lt;/tbody&gt;&#10;\n-    &lt;/table&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-&#10;\n-  &lt;xsl:template name=&quot;resources&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;node&quot;/&gt;&#10;\n-    &#10;\n-    &lt;h4&gt;Resources&lt;/h4&gt;&#10;\n-    &lt;ul&gt;&#10;\n-      &lt;xsl:for-each select=&quot;$node&quot;&gt;&#10;\n-        &lt;li&gt;&#10;\n-          &lt;xsl:value-of select=&quot;@name&quot;/&gt;&#10;\n-        &lt;/li&gt;&#10;\n-      &lt;/xsl:for-each&gt;&#10;\n-    &lt;/ul&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template name=&quot;groupResources&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;node&quot;/&gt;&#10;\n-    &#10;\n-    &lt;h4&gt;Group Resources&lt;/h4&gt;&#10;\n-    &lt;ul&gt;&#10;\n-      &lt;xsl:for-each select=&quot;$node&quot;&gt;&#10;\n-        &lt;li&gt;&#10;\n-          &lt;xsl:value-of select=&quot;@name&quot;/&gt;&#10;\n-        &lt;/li&gt;&#10;\n-      &lt;/xsl:for-each&gt;&#10;\n-    &lt;/ul&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-&lt;/xsl:stylesheet&gt;&#10;\"\n-                  csvTemplate=\"&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;\n-&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&#10;\n-                version=&quot;1.0&quot;&gt;&#10;\n- &#10;\n-  &lt;xsl:param name=&quot;status&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;message&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;start&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;end&quot;/&gt;&#10;\n-    &#10;\n-  &lt;xsl:template match=&quot;/&quot;&gt;&#10;\n-    &lt;xsl:apply-templates/&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-&#10;\n-  &lt;xsl:variable name=&quot;delimiter&quot; select=&quot;';'&quot;/&gt;&#10;\n-   &#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.StaticReportlet']&quot;&gt;&#10;\n-    &lt;xsl:call-template name=&quot;header&quot;&gt;&#10;\n-      &lt;xsl:with-param name=&quot;node&quot; select=&quot;configurations/staticAttributes&quot;/&gt;&#10;\n-    &lt;/xsl:call-template&gt;&#10;\n-    &#10;\n-    &lt;xsl:call-template name=&quot;staticAttributes&quot;&gt;&#10;\n-      &lt;xsl:with-param name=&quot;header&quot; select=&quot;configurations/staticAttributes&quot;/&gt;&#10;\n-    &lt;/xsl:call-template&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template name=&quot;header&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;node&quot;/&gt;  &#10;\n-    &lt;xsl:for-each select=&quot;$node/*&quot;&gt;&#10;\n-      &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-      &lt;xsl:value-of select=&quot;text()&quot;/&gt;&#10;\n-      &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt; &#10;\n-      &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-        &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-      &lt;/xsl:if&gt;&#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-    &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-    &#10;\n-  &lt;xsl:template name=&quot;staticAttributes&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;header&quot;/&gt;&#10;\n-    &#10;\n-    &lt;xsl:variable name=&quot;attrs&quot; select=&quot;.&quot;/&gt;&#10;\n-    &lt;xsl:for-each select=&quot;$header/*&quot;&gt;&#10;\n-      &lt;xsl:variable name=&quot;nameAttr&quot; select=&quot;text()&quot;/&gt; &#10;\n-      &lt;xsl:if test=&quot;string-length($attrs/*[name(.)=$nameAttr]/text()) &amp;gt; 0 &#10;\n-                      and count($attrs/*[name(.)=$nameAttr]/*/node()) = 0&quot;&gt;&#10;\n-        &lt;xsl:variable name=&quot;value&quot; select=&quot;$attrs/*[name(.)=$nameAttr]/text()&quot;/&gt;&#10;\n-        &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-        &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-      &lt;/xsl:if&gt;&#10;\n-      &#10;\n-      &lt;xsl:if test=&quot;string-length($attrs/*[name(.)=$nameAttr]/*/text()) &amp;gt; 0 &#10;\n-                      and count($attrs/*[name(.)=$nameAttr]/*/node()) &amp;gt; 0&quot;&gt;&#10;\n-        &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;xsl:for-each select=&quot;$attrs/*[name(.)=$nameAttr]/*&quot;&gt;&#10;\n-          &lt;xsl:variable name=&quot;value&quot; select=&quot;text()&quot;/&gt;&#10;\n-          &lt;xsl:text&gt;&lt;/xsl:text&gt;&#10;\n-          &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-          &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-            &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-        &lt;/xsl:for-each&gt;&#10;\n-        &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-      &lt;/xsl:if&gt;&#10;\n-      &#10;\n-      &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-        &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-      &lt;/xsl:if&gt;&#10;\n-    &#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.UserReportlet']&quot;&gt;&#10;\n-    &#10;\n-    &lt;xsl:call-template name=&quot;header&quot;&gt;&#10;\n-      &lt;xsl:with-param name=&quot;node&quot; select=&quot;configurations/userAttributes&quot;/&gt;&#10;\n-    &lt;/xsl:call-template&gt;&#10;\n-    &lt;xsl:for-each select=&quot;user&quot;&gt;&#10;\n-      &lt;xsl:call-template name=&quot;userAttributes&quot;&gt;&#10;\n-        &lt;xsl:with-param name=&quot;header&quot; select=&quot;../configurations/userAttributes&quot;/&gt;&#10;\n-      &lt;/xsl:call-template&gt;&#10;\n-      &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;&#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-    &#10;\n-  &lt;xsl:template name=&quot;userAttributes&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;header&quot;/&gt;&#10;\n-  &#10;\n-    &lt;xsl:variable name=&quot;attrs&quot; select=&quot;.&quot;/&gt;&#10;\n-    &lt;xsl:for-each select=&quot;$header/*&quot;&gt;&#10;\n-      &lt;xsl:variable name=&quot;nameAttr&quot; select=&quot;text()&quot;/&gt;&#10;\n-      &lt;xsl:choose&gt;      &#10;\n-        &lt;xsl:when test=&quot;count($attrs/@*[name()=$nameAttr]) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:variable name=&quot;userAttr&quot; select=&quot;$attrs/@*[name()=$nameAttr]&quot;/&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-          &lt;xsl:value-of select=&quot;$userAttr/.&quot;/&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length($attrs/*/*[@name=$nameAttr]/value/text()) &amp;gt; 0 &#10;\n-                        and count($attrs/*/*[@name=$nameAttr]/node()) = 0&quot;&gt;&#10;\n-          &lt;xsl:variable name=&quot;value&quot; select=&quot;$attrs/*/*[@name=$nameAttr]/value/text()&quot;/&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-          &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length($attrs/*/*[@name=$nameAttr]/value/text()) &amp;gt; 0 &#10;\n-                        and count($attrs/*/*[@name=$nameAttr]/node()) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-          &lt;xsl:for-each select=&quot;$attrs/*/*[@name=$nameAttr]/*&quot;&gt;&#10;\n-            &lt;xsl:variable name=&quot;value&quot; select=&quot;$attrs/*/*[@name=$nameAttr]/value/text()&quot;/&gt;&#10;\n-            &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-            &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-              &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-            &lt;/xsl:if&gt;&#10;\n-          &lt;/xsl:for-each&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:when test=&quot;name($attrs/*[name(.)=$nameAttr]/*[name(.)='membership']) &#10;\n-                        and count($attrs/*[name(.)=$nameAttr]/node()) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;       &#10;\n-          &lt;xsl:variable name=&quot;value&quot; select=&quot;@groupName&quot;/&gt;&#10;\n-          &lt;xsl:for-each select=&quot;$attrs/*/membership&quot;&gt;&#10;\n-            &lt;xsl:variable name=&quot;value&quot; select=&quot;@groupName&quot;/&gt;&#10;\n-            &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-            &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-              &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-            &lt;/xsl:if&gt;&#10;\n-          &lt;/xsl:for-each&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:when test=&quot;name($attrs/*[name(.)=$nameAttr]/*[name(.)='resource']) &#10;\n-                        and count($attrs/*[name(.)=$nameAttr]/node()) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-          &lt;xsl:variable name=&quot;value&quot; select=&quot;@name&quot;/&gt;&#10;\n-          &lt;xsl:for-each select=&quot;$attrs/*/resource&quot;&gt;&#10;\n-            &lt;xsl:variable name=&quot;value&quot; select=&quot;@name&quot;/&gt;&#10;\n-            &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-            &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-              &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-            &lt;/xsl:if&gt;&#10;\n-          &lt;/xsl:for-each&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&quot;&lt;/xsl:text&gt; &#10;\n-        &lt;/xsl:otherwise&gt;  &#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-        &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-      &lt;/xsl:if&gt;  &#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.GroupReportlet']&quot;&gt;&#10;\n-    &#10;\n-    &lt;xsl:call-template name=&quot;header&quot;&gt;&#10;\n-      &lt;xsl:with-param name=&quot;node&quot; select=&quot;configurations/groupAttributes&quot;/&gt;&#10;\n-    &lt;/xsl:call-template&gt;&#10;\n-    &lt;xsl:for-each select=&quot;group&quot;&gt;&#10;\n-      &lt;xsl:call-template name=&quot;groupAttributes&quot;&gt;&#10;\n-        &lt;xsl:with-param name=&quot;header&quot; select=&quot;../configurations/groupAttributes&quot;/&gt;&#10;\n-        &lt;xsl:with-param name=&quot;attrs&quot; select=&quot;.&quot;/&gt;&#10;\n-      &lt;/xsl:call-template&gt;&#10;\n-      &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;&#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-    &#10;\n-  &lt;xsl:template name=&quot;groupAttributes&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;header&quot;/&gt;&#10;\n-    &lt;xsl:param name=&quot;attrs&quot;/&gt;&#10;\n-    &#10;\n-    &lt;xsl:for-each select=&quot;$header/*&quot;&gt;&#10;\n-      &lt;xsl:variable name=&quot;nameAttr&quot; select=&quot;text()&quot;/&gt;&#10;\n-      &#10;\n-      &lt;xsl:choose&gt; &#10;\n-        &lt;xsl:when test=&quot;string-length($attrs/@*[name()=$nameAttr]) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:variable name=&quot;groupAttr&quot; select=&quot;$attrs/@*[name()=$nameAttr]&quot;/&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-          &lt;xsl:value-of select=&quot;$groupAttr/.&quot;/&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:when test=&quot;name($attrs/*[name(.)=$nameAttr]/*[name(.)='resource']) &#10;\n-                        and count($attrs/*[name(.)=$nameAttr]/node()) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;       &#10;\n-          &lt;xsl:for-each select=&quot;$attrs/*/resource&quot;&gt;&#10;\n-            &lt;xsl:variable name=&quot;value&quot; select=&quot;@name&quot;/&gt;&#10;\n-            &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-            &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-              &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-            &lt;/xsl:if&gt;&#10;\n-          &lt;/xsl:for-each&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:when test=&quot;name($attrs/*[name(.)=$nameAttr]/*[name(.)='user']) &#10;\n-                        and count($attrs/*[name(.)=$nameAttr]/node()) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;       &#10;\n-          &lt;xsl:for-each select=&quot;$attrs/*/user&quot;&gt;&#10;\n-            &lt;xsl:variable name=&quot;value&quot; select=&quot;@userUsername&quot;/&gt;&#10;\n-            &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-            &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-              &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-            &lt;/xsl:if&gt;&#10;\n-          &lt;/xsl:for-each&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length($attrs/*/*[@name=$nameAttr]/value/text()) &amp;gt; 0&quot;&gt; &#10;\n-            &lt;xsl:variable name=&quot;value&quot; select=&quot;$attrs/*/*[@name=$nameAttr]/value/text()&quot;/&gt;&#10;\n-            &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-        &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-      &lt;/xsl:if&gt;&#10;\n-    &#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-&lt;/xsl:stylesheet&gt;&#10;\"\n-                  foTemplate=\"&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;\n-&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&#10;\n-                xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;&#10;\n-                version=&quot;1.0&quot;&gt;&#10;\n-&#10;\n-  &lt;xsl:param name=&quot;status&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;message&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;start&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;end&quot;/&gt;&#10;\n-  &#10;\n-  &lt;xsl:template match=&quot;/&quot;&gt;&#10;\n-    &lt;fo:root xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot; font-family=&quot;Helvetica&quot; font-size=&quot;10pt&quot;&gt;&#10;\n-      &#10;\n-      &lt;!-- defines the layout master --&gt;&#10;\n-      &lt;fo:layout-master-set&gt;&#10;\n-        &lt;fo:simple-page-master master-name=&quot;first&quot; page-height=&quot;29.7cm&quot; page-width=&quot;21cm&quot; &#10;\n-                               margin-top=&quot;1cm&quot; margin-bottom=&quot;2cm&quot; margin-left=&quot;2.5cm&quot; margin-right=&quot;2.5cm&quot;&gt;&#10;\n-          &lt;fo:region-body margin-top=&quot;1cm&quot;/&gt;&#10;\n-          &lt;fo:region-before extent=&quot;1cm&quot;/&gt;&#10;\n-          &lt;fo:region-after extent=&quot;1.5cm&quot;/&gt;&#10;\n-        &lt;/fo:simple-page-master&gt;&#10;\n-      &lt;/fo:layout-master-set&gt;&#10;\n-&#10;\n-      &lt;!-- starts actual layout --&gt;&#10;\n-      &lt;fo:page-sequence master-reference=&quot;first&quot;&gt;&#10;\n-        &#10;\n-        &lt;fo:flow flow-name=&quot;xsl-region-body&quot;&gt;&#10;\n-          &lt;fo:block font-size=&quot;24pt&quot; font-weight=&quot;bold&quot; text-align=&quot;center&quot; space-after=&quot;1cm&quot;&gt;&#10;\n-            Apache Syncope Report - &lt;xsl:value-of select=&quot;report/@name&quot;/&gt;&#10;\n-          &lt;/fo:block&gt;&#10;\n-&#10;\n-          &lt;fo:table table-layout=&quot;fixed&quot; border-width=&quot;0.5mm&quot; border-style=&quot;solid&quot; width=&quot;100%&quot; space-after=&quot;1cm&quot;&gt;&#10;\n-            &lt;fo:table-column column-width=&quot;proportional-column-width(1)&quot;/&gt;&#10;\n-            &lt;fo:table-column column-width=&quot;proportional-column-width(1)&quot;/&gt;&#10;\n-            &lt;fo:table-body&gt;&#10;\n-              &lt;fo:table-row&gt;&#10;\n-                &lt;fo:table-cell&gt;&#10;\n-                  &lt;fo:block font-size=&quot;18pt&quot; font-weight=&quot;bold&quot;&gt;Report Name:&lt;/fo:block&gt;&#10;\n-                &lt;/fo:table-cell&gt;&#10;\n-                &lt;fo:table-cell&gt;&#10;\n-                  &lt;fo:block font-size=&quot;18pt&quot; font-weight=&quot;bold&quot;&gt;&#10;\n-                    &lt;xsl:value-of select=&quot;report/@name&quot;/&gt;&#10;\n-                  &lt;/fo:block&gt;&#10;\n-                &lt;/fo:table-cell&gt;&#10;\n-              &lt;/fo:table-row&gt;&#10;\n-              &lt;fo:table-row&gt;&#10;\n-                &lt;fo:table-cell&gt;&#10;\n-                  &lt;fo:block font-size=&quot;18pt&quot; font-weight=&quot;bold&quot;&gt;Start Date:&lt;/fo:block&gt;&#10;\n-                &lt;/fo:table-cell&gt;&#10;\n-                &lt;fo:table-cell&gt;&#10;\n-                  &lt;fo:block font-size=&quot;18pt&quot; font-weight=&quot;bold&quot;&gt;&#10;\n-                    &lt;xsl:value-of select=&quot;$start&quot;/&gt;&#10;\n-                  &lt;/fo:block&gt;&#10;\n-                &lt;/fo:table-cell&gt;&#10;\n-              &lt;/fo:table-row&gt;&#10;\n-              &lt;fo:table-row&gt;&#10;\n-                &lt;fo:table-cell&gt;&#10;\n-                  &lt;fo:block font-size=&quot;18pt&quot; font-weight=&quot;bold&quot;&gt;End Date:&lt;/fo:block&gt;&#10;\n-                &lt;/fo:table-cell&gt;&#10;\n-                &lt;fo:table-cell&gt;&#10;\n-                  &lt;fo:block font-size=&quot;18pt&quot; font-weight=&quot;bold&quot;&gt;&#10;\n-                    &lt;xsl:value-of select=&quot;$end&quot;/&gt;&#10;\n-                  &lt;/fo:block&gt;&#10;\n-                &lt;/fo:table-cell&gt;&#10;\n-              &lt;/fo:table-row&gt;&#10;\n-            &lt;/fo:table-body&gt;&#10;\n-          &lt;/fo:table&gt;&#10;\n-&#10;\n-          &lt;xsl:apply-templates/&gt;&#10;\n-        &lt;/fo:flow&gt;&#10;\n-      &lt;/fo:page-sequence&gt;&#10;\n-    &lt;/fo:root&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-&#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.StaticReportlet']&quot;&gt;&#10;\n-&#10;\n-    &lt;fo:block font-size=&quot;14pt&quot; font-weight=&quot;bold&quot; space-after=&quot;0.5cm&quot;&gt;Reportlet: &#10;\n-      &lt;xsl:value-of select=&quot;@name&quot;/&gt;&#10;\n-    &lt;/fo:block&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(string/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;fo:block font-size=&quot;11pt&quot;&gt;String value: &#10;\n-        &lt;xsl:value-of select=&quot;string/text()&quot;/&gt;&#10;\n-      &lt;/fo:block&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(long/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;fo:block font-size=&quot;11pt&quot;&gt;Long value: &#10;\n-        &lt;xsl:value-of select=&quot;long/text()&quot;/&gt;&#10;\n-      &lt;/fo:block&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(double/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;fo:block font-size=&quot;11pt&quot;&gt;Double value: &#10;\n-        &lt;xsl:value-of select=&quot;double/text()&quot;/&gt;&#10;\n-      &lt;/fo:block&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(date/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;fo:block font-size=&quot;11pt&quot;&gt;Date value: &#10;\n-        &lt;xsl:value-of select=&quot;date/text()&quot;/&gt;&#10;\n-      &lt;/fo:block&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(enum/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;fo:block font-size=&quot;11pt&quot;&gt;Enum value: &#10;\n-        &lt;xsl:value-of select=&quot;enum/text()&quot;/&gt;&#10;\n-      &lt;/fo:block&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(list) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;fo:block font-size=&quot;11pt&quot;&gt;List values:&lt;/fo:block&gt;&#10;\n-            &#10;\n-      &lt;fo:list-block provisional-label-separation=&quot;4mm&quot; provisional-distance-between-starts=&quot;2mm&quot;&gt;&#10;\n-        &lt;xsl:for-each select=&quot;list/string&quot;&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(string/text()) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;fo:list-item&gt;&#10;\n-              &lt;fo:list-item-label end-indent=&quot;label-end()&quot;&gt;&#10;\n-                &lt;fo:block&gt;&#x2022;&lt;/fo:block&gt;&#10;\n-              &lt;/fo:list-item-label&gt;&#10;\n-              &lt;fo:list-item-body start-indent=&quot;body-start()&quot;&gt;&#10;\n-                &lt;fo:block&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;text()&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:list-item-body&gt;&#10;\n-            &lt;/fo:list-item&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-        &lt;/xsl:for-each&gt;&#10;\n-      &lt;/fo:list-block&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-        &#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.UserReportlet']&quot;&gt;&#10;\n-   &#10;\n-    &lt;fo:block font-size=&quot;16pt&quot; font-weight=&quot;bold&quot; space-after=&quot;0.5cm&quot; space-before=&quot;5mm&quot;&gt;Reportlet: &lt;xsl:value-of select=&quot;@name&quot;/&gt;&lt;/fo:block&gt;&#10;\n-        &#10;\n-    &lt;xsl:for-each select=&quot;user&quot;&gt;&#10;\n-      &lt;fo:block font-size=&quot;14pt&quot; font-weight=&quot;bold&quot; space-before=&quot;15mm&quot; space-after=&quot;5mm&quot; background-color=&quot;(#8888ff)&quot;&gt;User &lt;xsl:value-of select=&quot;@username&quot;/&gt;&lt;/fo:block&gt;&#10;\n-      &lt;fo:table table-layout=&quot;fixed&quot; space-after=&quot;7mm&quot;&gt;&#10;\n-        &lt;fo:table-column/&gt;&#10;\n-        &lt;fo:table-column/&gt;&#10;\n-        &lt;fo:table-body&gt;&#10;\n-          &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-            &lt;fo:table-cell&gt;&#10;\n-              &lt;fo:block&gt;Status:&lt;/fo:block&gt;&#10;\n-            &lt;/fo:table-cell&gt;&#10;\n-            &lt;fo:table-cell&gt;&#10;\n-              &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                &lt;xsl:value-of select=&quot;@status&quot;/&gt;&#10;\n-              &lt;/fo:block&gt;&#10;\n-            &lt;/fo:table-cell&gt;&#10;\n-          &lt;/fo:table-row&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(@creationDate) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block&gt;Creation Date:&lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;@creationDate&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-            &lt;/fo:table-row&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(@lastLoginDate) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block&gt;Last Login Date:&lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;@lastLoginDate&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-            &lt;/fo:table-row&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(@changePwdDate) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block&gt;Change Password Date:&lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;@changePwdDate&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-            &lt;/fo:table-row&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(@passwordHistorySize) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block&gt;Password History Size:&lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;@passwordHistorySize&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-            &lt;/fo:table-row&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(@failedLoginCount) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block&gt;Number of Failed Login Attempts:&lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;@failedLoginCount&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-            &lt;/fo:table-row&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-        &lt;/fo:table-body&gt;&#10;\n-      &lt;/fo:table&gt;&#10;\n-      &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-        &lt;xsl:with-param name=&quot;label&quot;&gt;Attributes&lt;/xsl:with-param&gt;&#10;\n-        &lt;xsl:with-param name=&quot;node&quot; select=&quot;attributes/attribute&quot;/&gt;&#10;\n-      &lt;/xsl:call-template&gt;&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(derivedAttributes/derivedAttribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Derived Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;derivedAttributes/derivedAttribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;fo:block color=&quot;red&quot; font-size=&quot;9pt&quot; space-after=&quot;3mm&quot;&gt;THIS USER HASN'T ANY DERIVED ATTRIBUTE&lt;/fo:block&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(virtualAttributes/virtualAttribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Virtual Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;virtualAttributes/virtualAttribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;fo:block color=&quot;red&quot; font-size=&quot;9pt&quot; space-after=&quot;3mm&quot;&gt;THIS USER HASN'T ANY VIRTUAL ATTRIBUTE&lt;/fo:block&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(memberships/membership) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;fo:block font-size=&quot;11pt&quot; font-weight=&quot;bold&quot;&gt;Memberships&lt;/fo:block&gt;&#10;\n-          &lt;xsl:for-each select=&quot;memberships/membership&quot;&gt;&#10;\n-            &lt;fo:block font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; space-before=&quot;2mm&quot;&gt;Group: &lt;xsl:value-of select=&quot;@groupName&quot;/&gt;(&lt;xsl:value-of select=&quot;@groupId&quot;/&gt;)&lt;/fo:block&gt;&#10;\n-            &lt;fo:block start-indent=&quot;1cm&quot; space-before=&quot;3mm&quot; space-after=&quot;0.5cm&quot;&gt;&#10;\n-              &lt;xsl:choose&gt;&#10;\n-                &lt;xsl:when test=&quot;string-length(attributes/attribute) &amp;gt; 0&quot;&gt;&#10;\n-                  &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;label&quot;&gt;Attributes&lt;/xsl:with-param&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;node&quot; select=&quot;attributes/attribute&quot;/&gt;&#10;\n-                  &lt;/xsl:call-template&gt;&#10;\n-                &lt;/xsl:when&gt;&#10;\n-                &lt;xsl:otherwise&gt;&#10;\n-                  &lt;fo:block color=&quot;red&quot; font-size=&quot;8pt&quot; space-after=&quot;2mm&quot;&gt;THIS GROUP HASN'T ANY ATTRIBUTE&lt;/fo:block&gt;&#10;\n-                &lt;/xsl:otherwise&gt;&#10;\n-              &lt;/xsl:choose&gt;&#10;\n-              &lt;xsl:choose&gt;&#10;\n-                &lt;xsl:when test=&quot;string-length(derivedAttributes/derivedAttribute) &amp;gt; 0&quot;&gt;&#10;\n-                  &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;label&quot;&gt;Derived Attributes&lt;/xsl:with-param&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;node&quot; select=&quot;derivedAttributes/derivedAttribute&quot;/&gt;&#10;\n-                  &lt;/xsl:call-template&gt;&#10;\n-                &lt;/xsl:when&gt;&#10;\n-                &lt;xsl:otherwise&gt;&#10;\n-                  &lt;fo:block color=&quot;red&quot; font-size=&quot;8pt&quot; space-after=&quot;2mm&quot;&gt;THIS GROUP HASN'T ANY DERIVED ATTRIBUTE&lt;/fo:block&gt;&#10;\n-                &lt;/xsl:otherwise&gt;&#10;\n-              &lt;/xsl:choose&gt;&#10;\n-              &lt;xsl:choose&gt;&#10;\n-                &lt;xsl:when test=&quot;string-length(virtualAttributes/virtualAttribute) &amp;gt; 0&quot;&gt;&#10;\n-                  &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;label&quot;&gt;Virtual Attributes&lt;/xsl:with-param&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;node&quot; select=&quot;virtualAttributes/virtualAttribute&quot;/&gt;&#10;\n-                  &lt;/xsl:call-template&gt;&#10;\n-                &lt;/xsl:when&gt;&#10;\n-                &lt;xsl:otherwise&gt;&#10;\n-                  &lt;fo:block color=&quot;red&quot; font-size=&quot;8pt&quot; space-after=&quot;2mm&quot;&gt;THIS GROUP HASN'T ANY VIRTUAL ATTRIBUTE&lt;/fo:block&gt;&#10;\n-                &lt;/xsl:otherwise&gt;&#10;\n-              &lt;/xsl:choose&gt;&#10;\n-              &lt;!-- 'groupResources&quot; is defined in groupReportlet2fo.xsl --&gt;&#10;\n-              &lt;xsl:call-template name=&quot;groupResources&quot;&gt;&#10;\n-                &lt;xsl:with-param name=&quot;node&quot; select=&quot;resources/resource&quot;/&gt;&#10;\n-              &lt;/xsl:call-template&gt;&#10;\n-            &lt;/fo:block&gt;&#10;\n-          &lt;/xsl:for-each&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;fo:block color=&quot;red&quot; font-size=&quot;9pt&quot; space-after=&quot;3mm&quot;&gt;THIS USER HASN'T BEEN ASSIGNED TO ANY GROUP&lt;/fo:block&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;xsl:call-template name=&quot;resources&quot;&gt;&#10;\n-        &lt;xsl:with-param name=&quot;node&quot; select=&quot;resources/resource&quot;/&gt;&#10;\n-      &lt;/xsl:call-template&gt;&#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.GroupReportlet']&quot;&gt;&#10;\n-   &#10;\n-    &lt;fo:block font-size=&quot;16pt&quot; font-weight=&quot;bold&quot; space-after=&quot;0.5cm&quot; space-before=&quot;5mm&quot;&gt;Reportlet: &lt;xsl:value-of select=&quot;@name&quot;/&gt;&lt;/fo:block&gt;&#10;\n-        &#10;\n-    &lt;xsl:for-each select=&quot;group&quot;&gt;&#10;\n-      &lt;fo:block font-size=&quot;14pt&quot; font-weight=&quot;bold&quot; space-before=&quot;15mm&quot; space-after=&quot;5mm&quot; background-color=&quot;(#8888ff)&quot;&gt;Group &lt;xsl:value-of select=&quot;@name&quot;/&gt;&lt;/fo:block&gt;&#10;\n-      &lt;fo:table table-layout=&quot;fixed&quot; space-after=&quot;7mm&quot;&gt;&#10;\n-        &lt;fo:table-column/&gt;&#10;\n-        &lt;fo:table-column/&gt;&#10;\n-        &lt;fo:table-body&gt;&#10;\n-          &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-            &lt;fo:table-cell&gt;&#10;\n-              &lt;fo:block&gt;Id:&lt;/fo:block&gt;&#10;\n-            &lt;/fo:table-cell&gt;&#10;\n-            &lt;fo:table-cell&gt;&#10;\n-              &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                &lt;xsl:value-of select=&quot;@id&quot;/&gt;&#10;\n-              &lt;/fo:block&gt;&#10;\n-            &lt;/fo:table-cell&gt;&#10;\n-          &lt;/fo:table-row&gt;&#10;\n-          &lt;xsl:if test=&quot;@groupOwner != 'null'&quot;&gt;&#10;\n-            &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block&gt;Group Owner:&lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;@groupOwner&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-            &lt;/fo:table-row&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-          &lt;xsl:if test=&quot;@userOwner != 'null'&quot;&gt;&#10;\n-            &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block&gt;Last Login Date:&lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;@userOwner&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-            &lt;/fo:table-row&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-        &lt;/fo:table-body&gt;&#10;\n-      &lt;/fo:table&gt;&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(attributes/attribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;attributes/attribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;fo:block color=&quot;red&quot; font-size=&quot;9pt&quot; space-after=&quot;3mm&quot;&gt;THIS GROUP HASN'T ANY ATTRIBUTE&lt;/fo:block&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(derivedAttributes/derivedAttribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Derived Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;derivedAttributes/derivedAttribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;fo:block color=&quot;red&quot; font-size=&quot;9pt&quot; space-after=&quot;3mm&quot;&gt;THIS GROUP HASN'T ANY DERIVED ATTRIBUTE&lt;/fo:block&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(virtualAttributes/virtualAttribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Virtual Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;virtualAttributes/virtualAttribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;fo:block color=&quot;red&quot; font-size=&quot;9pt&quot; space-after=&quot;3mm&quot;&gt;THIS GROUP HASN'T ANY VIRTUAL ATTRIBUTE&lt;/fo:block&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;users/user&quot;&gt;&#10;\n-          &lt;fo:block font-size=&quot;11pt&quot; font-weight=&quot;bold&quot;&gt;Users&lt;/fo:block&gt;&#10;\n-          &lt;xsl:for-each select=&quot;users/user&quot;&gt;&#10;\n-            &lt;fo:block background-color=&quot;(#ccccff)&quot; font-size=&quot;9pt&quot; font-weight=&quot;bold&quot; space-before=&quot;4mm&quot;&gt;User: &lt;xsl:value-of select=&quot;@userUsername&quot;/&gt; (Id: &lt;xsl:value-of select=&quot;@userId&quot;/&gt;)&lt;/fo:block&gt;&#10;\n-                 &#10;\n-          &lt;/xsl:for-each&gt; &#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;fo:block color=&quot;red&quot; font-size=&quot;9pt&quot; space-after=&quot;3mm&quot;&gt;THIS GROUP HASN'T ANY USER ASSIGNED TO&lt;/fo:block&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;xsl:call-template name=&quot;groupResources&quot;&gt;&#10;\n-        &lt;xsl:with-param name=&quot;node&quot; select=&quot;resources/resource&quot;/&gt;&#10;\n-      &lt;/xsl:call-template&gt;&#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template name=&quot;attributes&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;label&quot;/&gt;&#10;\n-    &lt;xsl:param name=&quot;node&quot;/&gt;&#10;\n-    &lt;fo:block font-size=&quot;11pt&quot; font-weight=&quot;bold&quot; space-after=&quot;2mm&quot;&gt;&#10;\n-      &lt;xsl:value-of select=&quot;$label&quot;/&gt;&#10;\n-    &lt;/fo:block&gt;&#10;\n-    &lt;fo:table table-layout=&quot;fixed&quot; space-after=&quot;7mm&quot;&gt;&#10;\n-      &lt;fo:table-column/&gt;&#10;\n-      &lt;fo:table-column/&gt;&#10;\n-      &lt;fo:table-header&gt;&#10;\n-        &lt;fo:table-row height=&quot;7mm&quot; background-color=&quot;(#ccccba)&quot;&gt;&#10;\n-          &lt;fo:table-cell&gt;&#10;\n-            &lt;fo:block font-weight=&quot;bold&quot;&gt;Schema name&lt;/fo:block&gt;&#10;\n-          &lt;/fo:table-cell&gt;&#10;\n-          &lt;fo:table-cell&gt;&#10;\n-            &lt;fo:block font-weight=&quot;bold&quot;&gt;Value(s)&lt;/fo:block&gt;&#10;\n-          &lt;/fo:table-cell&gt;&#10;\n-        &lt;/fo:table-row&gt;&#10;\n-      &lt;/fo:table-header&gt;&#10;\n-      &lt;fo:table-body&gt;&#10;\n-        &lt;xsl:for-each select=&quot;$node&quot;&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(value/text()) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;fo:table-row height=&quot;4mm&quot; background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;@name&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;xsl:for-each select=&quot;value&quot;&gt;&#10;\n-                  &lt;fo:block&gt;&lt;/fo:block&gt;&#10;\n-                  &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                    &lt;xsl:value-of select=&quot;text()&quot;/&gt;&#10;\n-                  &lt;/fo:block&gt;&#10;\n-                &lt;/xsl:for-each&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-            &lt;/fo:table-row&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-          &lt;fo:table-row&gt;&#10;\n-            &lt;fo:table-cell&gt;&#10;\n-              &lt;fo:block&gt;&lt;/fo:block&gt;&#10;\n-            &lt;/fo:table-cell&gt;&#10;\n-            &lt;fo:table-cell&gt;&#10;\n-              &lt;fo:block&gt;&lt;/fo:block&gt;&#10;\n-            &lt;/fo:table-cell&gt;&#10;\n-          &lt;/fo:table-row&gt;&#10;\n-        &lt;/xsl:for-each&gt;&#10;\n-      &lt;/fo:table-body&gt;&#10;\n-    &lt;/fo:table&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template name=&quot;resources&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;node&quot;/&gt;&#10;\n-    &lt;fo:block font-size=&quot;11pt&quot; font-weight=&quot;bold&quot; space-after=&quot;3mm&quot;&gt;Resources&lt;/fo:block&gt;&#10;\n-    &lt;xsl:for-each select=&quot;$node&quot;&gt;&#10;\n-      &lt;fo:block&gt;&lt;/fo:block&gt; &lt;!--            &lt;fo:block&gt;&#x2022;&lt;/fo:block&gt;--&gt;&#10;\n-      &lt;fo:block background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-        &lt;xsl:value-of select=&quot;@name&quot;/&gt;&#10;\n-      &lt;/fo:block&gt;&#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-&#10;\n-  &lt;xsl:template name=&quot;groupResources&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;node&quot;/&gt;&#10;\n-    &lt;fo:block font-size=&quot;11pt&quot; font-weight=&quot;bold&quot; space-after=&quot;3mm&quot; space-before=&quot;5mm&quot;&gt;Group Resources&lt;/fo:block&gt;&#10;\n-    &lt;xsl:for-each select=&quot;$node&quot;&gt;&#10;\n-      &lt;fo:block&gt;&lt;/fo:block&gt; &lt;!--            &lt;fo:block&gt;&#x2022;&lt;/fo:block&gt;--&gt;&#10;\n-      &lt;fo:block background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-        &lt;xsl:value-of select=&quot;@name&quot;/&gt;&#10;\n-      &lt;/fo:block&gt;&#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-&#10;\n-&lt;/xsl:stylesheet&gt;&#10;\"/>\n-  \n-  <Report id=\"0062ea9c-924d-4ecf-9961-4492a8cc6d1b\" name=\"test\" active=\"1\" template_id=\"sample\"/>\n-  <Implementation id=\"UserReportletConf\" type=\"REPORTLET\" engine=\"JAVA\"\n-                  body='{\"_class\":\"org.apache.syncope.common.lib.report.UserReportletConf\",\"name\":\"testUserReportlet\",\"matchingCond\":null,\"plainAttrs\":[\"fullname\",\"gender\"],\"derAttrs\":[\"cn\"],\"virAttrs\":[\"virtualdata\"],\"features\":[\"key\",\"username\",\"status\",\"creationDate\",\"lastLoginDate\",\"changePwdDate\",\"passwordHistorySize\",\"failedLoginCount\",\"memberships\",\"resources\"]}'/>\n-  <ReportReportlet report_id=\"0062ea9c-924d-4ecf-9961-4492a8cc6d1b\" implementation_id=\"UserReportletConf\"/>\n+  <Implementation id=\"SampleReportJobDelegate\" type=\"REPORT_DELEGATE\" engine=\"JAVA\"\n+                  body='{\"_class\":\"org.apache.syncope.fit.core.reference.SampleReportConf\",\"stringValue\":\"a string\",\"intValue\":1,\"longValue\":45,\"floatValue\":1.2,\"doubleValue\":2.1}'/>\n+  <Report id=\"0062ea9c-924d-4ecf-9961-4492a8cc6d1b\" name=\"test\" active=\"1\" jobDelegate_id=\"SampleReportJobDelegate\"\n+          mimeType=\"application/pdf\" fileExt=\"pdf\"/>\n   <ReportExec report_id=\"0062ea9c-924d-4ecf-9961-4492a8cc6d1b\" id=\"c13f39c5-0d35-4bff-ba79-3cd5de940369\"\n               status=\"SUCCESS\" startDate=\"2012-02-26 15:40:04\" endDate=\"2012-02-26 15:41:04\"/>\n \n-  <Report id=\"c3520ad9-179f-49e7-b315-d684d216dd97\" name=\"reconciliation\" active=\"1\" template_id=\"empty\"/>\n-  <Implementation id=\"ReconciliationReportletConf\" type=\"REPORTLET\" engine=\"JAVA\"\n-                  body='{\"_class\":\"org.apache.syncope.common.lib.report.ReconciliationReportletConf\",\"name\":\"dashboardReconciliationReportlet\",\"userMatchingCond\":null,\"groupMatchingCond\":null,\"anyObjectMatchingCond\":null,\"features\":[\"key\",\"username\",\"groupName\"]}'/>\n-  <ReportReportlet report_id=\"c3520ad9-179f-49e7-b315-d684d216dd97\" implementation_id=\"ReconciliationReportletConf\"/>\n-\n   <SecurityQuestion id=\"887028ea-66fc-41e7-b397-620d7ea6dfbb\" content=\"What's your mother's maiden name?\"/>\n \n   <SRARoute id=\"ec7bada2-3dd6-460c-8441-65521d005ffa\" name=\"basic1\" target=\"http://httpbin.org:80\"\n-            logout=\"0\" csrf=\"1\"\n+            logout=\"0\" csrf=\"1\" routeType=\"PROTECTED\"\n             predicates=\"[{&quot;cond&quot;:null,&quot;factory&quot;:&quot;METHOD&quot;,&quot;args&quot;:&quot;GET&quot;}]\"/>\n \n   <SyncopeRole id=\"GROUP_OWNER\" entitlements='[\"USER_SEARCH\",\"USER_READ\",\"USER_CREATE\",\"USER_UPDATE\",\"USER_DELETE\",\"ANYTYPECLASS_READ\",\"ANYTYPE_LIST\",\"ANYTYPECLASS_LIST\",\"RELATIONSHIPTYPE_LIST\",\"ANYTYPE_READ\",\"REALM_LIST\",\"GROUP_SEARCH\",\"GROUP_READ\",\"GROUP_UPDATE\",\"GROUP_DELETE\"]'/>"},{"sha":"bd6b6ad62aa513efc0934e0c81ed8394ea2ef704","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/PersistenceContext.java","status":"modified","additions":0,"deletions":8,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2FPersistenceContext.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2FPersistenceContext.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2FPersistenceContext.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -63,7 +63,6 @@\n import org.apache.syncope.core.persistence.api.dao.RemediationDAO;\n import org.apache.syncope.core.persistence.api.dao.ReportDAO;\n import org.apache.syncope.core.persistence.api.dao.ReportExecDAO;\n-import org.apache.syncope.core.persistence.api.dao.ReportTemplateDAO;\n import org.apache.syncope.core.persistence.api.dao.RoleDAO;\n import org.apache.syncope.core.persistence.api.dao.SAML2IdPEntityDAO;\n import org.apache.syncope.core.persistence.api.dao.SAML2SPClientAppDAO;\n@@ -121,7 +120,6 @@\n import org.apache.syncope.core.persistence.jpa.dao.JPARemediationDAO;\n import org.apache.syncope.core.persistence.jpa.dao.JPAReportDAO;\n import org.apache.syncope.core.persistence.jpa.dao.JPAReportExecDAO;\n-import org.apache.syncope.core.persistence.jpa.dao.JPAReportTemplateDAO;\n import org.apache.syncope.core.persistence.jpa.dao.JPARoleDAO;\n import org.apache.syncope.core.persistence.jpa.dao.JPASAML2IdPEntityDAO;\n import org.apache.syncope.core.persistence.jpa.dao.JPASAML2SPClientAppDAO;\n@@ -615,12 +613,6 @@ public RemediationDAO remediationDAO() {\n         return new JPARemediationDAO();\n     }\n \n-    @ConditionalOnMissingBean\n-    @Bean\n-    public ReportTemplateDAO reportTemplateDAO() {\n-        return new JPAReportTemplateDAO();\n-    }\n-\n     @ConditionalOnMissingBean\n     @Bean\n     public ReportDAO reportDAO() {"},{"sha":"311172596ab69f1adb869ffb1f90d8337ce21fb0","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/dao/JPAReportDAO.java","status":"modified","additions":3,"deletions":14,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAReportDAO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAReportDAO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAReportDAO.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -23,7 +23,6 @@\n import org.apache.syncope.core.persistence.api.dao.ReportDAO;\n import org.apache.syncope.core.persistence.api.entity.Implementation;\n import org.apache.syncope.core.persistence.api.entity.Report;\n-import org.apache.syncope.core.persistence.api.entity.ReportTemplate;\n import org.apache.syncope.core.persistence.jpa.entity.JPAReport;\n import org.springframework.transaction.annotation.Transactional;\n \n@@ -36,21 +35,11 @@ public Report find(final String key) {\n     }\n \n     @Override\n-    public List<Report> findByReportlet(final Implementation reportlet) {\n+    public List<Report> findByDelegate(final Implementation delegate) {\n         TypedQuery<Report> query = entityManager().createQuery(\n                 \"SELECT e FROM \" + JPAReport.class.getSimpleName() + \" e \"\n-                + \"WHERE :reportlet MEMBER OF e.reportlets\", Report.class);\n-        query.setParameter(\"reportlet\", reportlet);\n-        return query.getResultList();\n-    }\n-\n-    @Transactional(readOnly = true)\n-    @Override\n-    public List<Report> findByTemplate(final ReportTemplate template) {\n-        TypedQuery<Report> query = entityManager().createQuery(\n-                \"SELECT e FROM \" + JPAReport.class.getSimpleName() + \" e \"\n-                + \"WHERE e.template=:template\", Report.class);\n-        query.setParameter(\"template\", template);\n+                + \"WHERE e.jobDelegate=:delegate\", Report.class);\n+        query.setParameter(\"delegate\", delegate);\n         return query.getResultList();\n     }\n "},{"sha":"dd43e5b5b07fcb17f58229544d46cc0b028daf17","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/dao/JPAReportTemplateDAO.java","status":"removed","additions":0,"deletions":55,"changes":55,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAReportTemplateDAO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAReportTemplateDAO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAReportTemplateDAO.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,55 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.persistence.jpa.dao;\n-\n-import jakarta.persistence.TypedQuery;\n-import java.util.List;\n-import org.apache.syncope.core.persistence.api.dao.ReportTemplateDAO;\n-import org.apache.syncope.core.persistence.api.entity.ReportTemplate;\n-import org.apache.syncope.core.persistence.jpa.entity.JPAReportTemplate;\n-\n-public class JPAReportTemplateDAO extends AbstractDAO<ReportTemplate> implements ReportTemplateDAO {\n-\n-    @Override\n-    public ReportTemplate find(final String key) {\n-        return entityManager().find(JPAReportTemplate.class, key);\n-    }\n-\n-    @Override\n-    public List<ReportTemplate> findAll() {\n-        TypedQuery<ReportTemplate> query = entityManager().createQuery(\n-                \"SELECT e FROM \" + JPAReportTemplate.class.getSimpleName() + \" e\", ReportTemplate.class);\n-        return query.getResultList();\n-    }\n-\n-    @Override\n-    public ReportTemplate save(final ReportTemplate notification) {\n-        return entityManager().merge(notification);\n-    }\n-\n-    @Override\n-    public void delete(final String key) {\n-        ReportTemplate template = find(key);\n-        if (template == null) {\n-            return;\n-        }\n-\n-        entityManager().remove(template);\n-    }\n-}"},{"sha":"d4299aaf42290843dc82886a59f98218520b1948","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/dao/JPAUserDAO.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAUserDAO.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAUserDAO.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fdao%2FJPAUserDAO.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -39,13 +39,11 @@\n import org.apache.syncope.common.lib.types.IdRepoEntitlement;\n import org.apache.syncope.core.persistence.api.attrvalue.validation.InvalidEntityException;\n import org.apache.syncope.core.persistence.api.dao.AccessTokenDAO;\n-import org.apache.syncope.core.persistence.api.dao.AccountRule;\n import org.apache.syncope.core.persistence.api.dao.DelegationDAO;\n import org.apache.syncope.core.persistence.api.dao.DerSchemaDAO;\n import org.apache.syncope.core.persistence.api.dao.DynRealmDAO;\n import org.apache.syncope.core.persistence.api.dao.FIQLQueryDAO;\n import org.apache.syncope.core.persistence.api.dao.GroupDAO;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRule;\n import org.apache.syncope.core.persistence.api.dao.PlainSchemaDAO;\n import org.apache.syncope.core.persistence.api.dao.RealmDAO;\n import org.apache.syncope.core.persistence.api.dao.RoleDAO;\n@@ -69,6 +67,8 @@\n import org.apache.syncope.core.persistence.jpa.entity.user.JPALinkedAccount;\n import org.apache.syncope.core.persistence.jpa.entity.user.JPAUMembership;\n import org.apache.syncope.core.persistence.jpa.entity.user.JPAUser;\n+import org.apache.syncope.core.provisioning.api.rules.AccountRule;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRule;\n import org.apache.syncope.core.provisioning.api.utils.RealmUtils;\n import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.apache.syncope.core.spring.policy.AccountPolicyException;"},{"sha":"2e036f2d14853c94c19447c4b191f9ceaaed1354","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/entity/JPAEntityFactory.java","status":"modified","additions":0,"deletions":3,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAEntityFactory.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAEntityFactory.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAEntityFactory.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -48,7 +48,6 @@\n import org.apache.syncope.core.persistence.api.entity.Remediation;\n import org.apache.syncope.core.persistence.api.entity.Report;\n import org.apache.syncope.core.persistence.api.entity.ReportExec;\n-import org.apache.syncope.core.persistence.api.entity.ReportTemplate;\n import org.apache.syncope.core.persistence.api.entity.Role;\n import org.apache.syncope.core.persistence.api.entity.SRARoute;\n import org.apache.syncope.core.persistence.api.entity.VirSchema;\n@@ -260,8 +259,6 @@ public <E extends Entity> E newEntity(final Class<E> reference) {\n             result = (E) new JPAGPlainAttrUniqueValue();\n         } else if (reference.equals(Report.class)) {\n             result = (E) new JPAReport();\n-        } else if (reference.equals(ReportTemplate.class)) {\n-            result = (E) new JPAReportTemplate();\n         } else if (reference.equals(ReportExec.class)) {\n             result = (E) new JPAReportExec();\n         } else if (reference.equals(NotificationTask.class)) {"},{"sha":"19275ce564274f3e29d0f15a6aa164311eeddb99","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/entity/JPAReport.java","status":"modified","additions":33,"deletions":34,"changes":67,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAReport.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAReport.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAReport.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -22,21 +22,16 @@\n import jakarta.persistence.Column;\n import jakarta.persistence.Entity;\n import jakarta.persistence.FetchType;\n-import jakarta.persistence.JoinColumn;\n-import jakarta.persistence.JoinTable;\n-import jakarta.persistence.ManyToMany;\n-import jakarta.persistence.ManyToOne;\n import jakarta.persistence.OneToMany;\n+import jakarta.persistence.OneToOne;\n import jakarta.persistence.Table;\n-import jakarta.persistence.UniqueConstraint;\n import jakarta.validation.constraints.NotNull;\n import java.util.ArrayList;\n import java.util.List;\n import org.apache.syncope.common.lib.types.IdRepoImplementationType;\n import org.apache.syncope.core.persistence.api.entity.Implementation;\n import org.apache.syncope.core.persistence.api.entity.Report;\n import org.apache.syncope.core.persistence.api.entity.ReportExec;\n-import org.apache.syncope.core.persistence.api.entity.ReportTemplate;\n import org.apache.syncope.core.persistence.jpa.validation.entity.ReportCheck;\n \n @Entity\n@@ -48,18 +43,17 @@ public class JPAReport extends AbstractGeneratedKeyEntity implements Report {\n \n     public static final String TABLE = \"Report\";\n \n+    @OneToOne(optional = false)\n+    private JPAImplementation jobDelegate;\n+\n     @Column(unique = true, nullable = false)\n     private String name;\n \n-    @ManyToMany(fetch = FetchType.EAGER)\n-    @JoinTable(name = TABLE + \"Reportlet\",\n-            joinColumns =\n-            @JoinColumn(name = \"report_id\"),\n-            inverseJoinColumns =\n-            @JoinColumn(name = \"implementation_id\"),\n-            uniqueConstraints =\n-            @UniqueConstraint(columnNames = { \"report_id\", \"implementation_id\" }))\n-    private List<JPAImplementation> reportlets = new ArrayList<>();\n+    @NotNull\n+    private String mimeType;\n+\n+    @NotNull\n+    private String fileExt;\n \n     private String cronExpression;\n \n@@ -69,9 +63,17 @@ public class JPAReport extends AbstractGeneratedKeyEntity implements Report {\n     @NotNull\n     private Boolean active = true;\n \n-    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n-    @JoinColumn(name = \"template_id\")\n-    private JPAReportTemplate template;\n+    @Override\n+    public Implementation getJobDelegate() {\n+        return jobDelegate;\n+    }\n+\n+    @Override\n+    public void setJobDelegate(final Implementation jobDelegate) {\n+        checkType(jobDelegate, JPAImplementation.class);\n+        checkImplementationType(jobDelegate, IdRepoImplementationType.REPORT_DELEGATE);\n+        this.jobDelegate = (JPAImplementation) jobDelegate;\n+    }\n \n     @Override\n     public String getName() {\n@@ -84,26 +86,23 @@ public void setName(final String name) {\n     }\n \n     @Override\n-    public boolean add(final ReportExec exec) {\n-        checkType(exec, JPAReportExec.class);\n-        return exec != null && !executions.contains((JPAReportExec) exec) && executions.add((JPAReportExec) exec);\n+    public String getMimeType() {\n+        return mimeType;\n     }\n \n     @Override\n-    public List<? extends ReportExec> getExecs() {\n-        return executions;\n+    public void setMimeType(final String mimeType) {\n+        this.mimeType = mimeType;\n     }\n \n     @Override\n-    public boolean add(final Implementation reportlet) {\n-        checkType(reportlet, JPAImplementation.class);\n-        checkImplementationType(reportlet, IdRepoImplementationType.REPORTLET);\n-        return reportlets.contains((JPAImplementation) reportlet) || reportlets.add((JPAImplementation) reportlet);\n+    public String getFileExt() {\n+        return fileExt;\n     }\n \n     @Override\n-    public List<? extends Implementation> getReportlets() {\n-        return reportlets;\n+    public void setFileExt(final String fileExt) {\n+        this.fileExt = fileExt;\n     }\n \n     @Override\n@@ -127,13 +126,13 @@ public void setActive(final boolean active) {\n     }\n \n     @Override\n-    public ReportTemplate getTemplate() {\n-        return template;\n+    public boolean add(final ReportExec exec) {\n+        checkType(exec, JPAReportExec.class);\n+        return exec != null && !executions.contains((JPAReportExec) exec) && executions.add((JPAReportExec) exec);\n     }\n \n     @Override\n-    public void setTemplate(final ReportTemplate template) {\n-        checkType(template, JPAReportTemplate.class);\n-        this.template = (JPAReportTemplate) template;\n+    public List<? extends ReportExec> getExecs() {\n+        return executions;\n     }\n }"},{"sha":"7206209d0fe19434f3324423338a52dd9884f250","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/entity/JPAReportExec.java","status":"modified","additions":0,"deletions":6,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAReportExec.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAReportExec.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAReportExec.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -26,7 +26,6 @@\n import jakarta.persistence.Table;\n import java.util.Optional;\n import org.apache.commons.lang3.ArrayUtils;\n-import org.apache.syncope.common.lib.types.ReportExecStatus;\n import org.apache.syncope.core.persistence.api.entity.Report;\n import org.apache.syncope.core.persistence.api.entity.ReportExec;\n \n@@ -71,9 +70,4 @@ public byte[] getExecResult() {\n     public void setExecResult(final byte[] execResult) {\n         this.execResult = Optional.ofNullable(execResult).map(ArrayUtils::toObject).orElse(null);\n     }\n-\n-    @Override\n-    public void setStatus(final ReportExecStatus status) {\n-        super.setStatus(status.name());\n-    }\n }"},{"sha":"efebed92db07364fbfafbe889292d6b9110be6b9","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/entity/JPAReportTemplate.java","status":"removed","additions":0,"deletions":75,"changes":75,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAReportTemplate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAReportTemplate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2FJPAReportTemplate.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,75 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.persistence.jpa.entity;\n-\n-import jakarta.persistence.Cacheable;\n-import jakarta.persistence.Entity;\n-import jakarta.persistence.Lob;\n-import jakarta.persistence.Table;\n-import org.apache.syncope.core.persistence.api.entity.ReportTemplate;\n-\n-@Entity\n-@Table(name = JPAReportTemplate.TABLE)\n-@Cacheable\n-public class JPAReportTemplate extends AbstractProvidedKeyEntity implements ReportTemplate {\n-\n-    private static final long serialVersionUID = 7755855927366231089L;\n-\n-    public static final String TABLE = \"ReportTemplate\";\n-\n-    @Lob\n-    private String foTemplate;\n-\n-    @Lob\n-    private String csvTemplate;\n-\n-    @Lob\n-    private String htmlTemplate;\n-\n-    @Override\n-    public String getFOTemplate() {\n-        return foTemplate;\n-    }\n-\n-    @Override\n-    public void setFOTemplate(final String foTemplate) {\n-        this.foTemplate = foTemplate;\n-    }\n-\n-    @Override\n-    public String getCSVTemplate() {\n-        return csvTemplate;\n-    }\n-\n-    @Override\n-    public void setCSVTemplate(final String csvTemplate) {\n-        this.csvTemplate = csvTemplate;\n-    }\n-\n-    @Override\n-    public String getHTMLTemplate() {\n-        return htmlTemplate;\n-    }\n-\n-    @Override\n-    public void setHTMLTemplate(final String htmlTemplate) {\n-        this.htmlTemplate = htmlTemplate;\n-    }\n-\n-}"},{"sha":"5077113d8604ed0baa86b19985290bec322bf6ba","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/entity/task/JPASchedTask.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Ftask%2FJPASchedTask.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Ftask%2FJPASchedTask.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fentity%2Ftask%2FJPASchedTask.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -19,6 +19,7 @@\n package org.apache.syncope.core.persistence.jpa.entity.task;\n \n import jakarta.persistence.CascadeType;\n+import jakarta.persistence.Column;\n import jakarta.persistence.Entity;\n import jakarta.persistence.Inheritance;\n import jakarta.persistence.InheritanceType;\n@@ -53,7 +54,7 @@ public class JPASchedTask extends AbstractTask<SchedTask> implements SchedTask {\n \n     private String cronExpression;\n \n-    @NotNull\n+    @Column(unique = true, nullable = false)\n     private String name;\n \n     private String description;"},{"sha":"bd482b43964bc2f60bce2bce8f9c49f60c67d088","filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/validation/entity/ReportValidator.java","status":"modified","additions":0,"deletions":15,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fvalidation%2Fentity%2FReportValidator.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fvalidation%2Fentity%2FReportValidator.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fvalidation%2Fentity%2FReportValidator.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -20,10 +20,7 @@\n \n import jakarta.validation.ConstraintValidatorContext;\n import java.text.ParseException;\n-import java.util.Set;\n-import java.util.stream.Collectors;\n import org.apache.syncope.common.lib.types.EntityViolationType;\n-import org.apache.syncope.core.persistence.api.entity.Implementation;\n import org.apache.syncope.core.persistence.api.entity.Report;\n import org.quartz.CronExpression;\n \n@@ -58,18 +55,6 @@ public boolean isValid(final Report report, final ConstraintValidatorContext con\n             }\n         }\n \n-        Set<String> reportletKeys = report.getReportlets().stream().\n-                map(Implementation::getKey).collect(Collectors.toSet());\n-        if (reportletKeys.size() != report.getReportlets().size()) {\n-            LOG.error(\"Reportlet key must be unique\");\n-            isValid = false;\n-\n-            context.disableDefaultConstraintViolation();\n-            context.buildConstraintViolationWithTemplate(\n-                    getTemplate(EntityViolationType.InvalidReport, \"Reportlet name must be unique\")).\n-                    addPropertyNode(\"reportletConfs\").addConstraintViolation();\n-        }\n-\n         return isValid;\n     }\n }"},{"sha":"c0c0981a3a8a56feee6110b85b17ac4c96c0076d","filename":"core/persistence-jpa/src/main/resources/domains/MasterContent.xml","status":"modified","additions":0,"deletions":7,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fdomains%2FMasterContent.xml?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -104,12 +104,5 @@ we are happy to inform you that the password request was successfully executed f\n                 sender=\"admin@syncope.apache.org\" subject=\"Password Reset successful\" template_id=\"confirmPasswordReset\" \n                 traceLevel=\"FAILURES\" events='[\"[CUSTOM]:[]:[]:[confirmPasswordReset]:[SUCCESS]\"]'/> \n \n-  <ReportTemplate id=\"empty\"/>  \n-\n-  <Report id=\"c3520ad9-179f-49e7-b315-d684d216dd97\" name=\"reconciliation\" active=\"1\" template_id=\"empty\"/>\n-  <Implementation id=\"ReconciliationReportletConf\" type=\"REPORTLET\" engine=\"JAVA\"\n-                  body='{\"_class\":\"org.apache.syncope.common.lib.report.ReconciliationReportletConf\",\"name\":\"dashboardReconciliationReportlet\",\"userMatchingCond\":null,\"groupMatchingCond\":null,\"anyObjectMatchingCond\":null,\"features\":[\"key\",\"username\",\"groupName\"]}'/>\n-  <ReportReportlet report_id=\"c3520ad9-179f-49e7-b315-d684d216dd97\" implementation_id=\"ReconciliationReportletConf\"/>\n-\n   <SyncopeRole id=\"GROUP_OWNER\" entitlements='[\"USER_SEARCH\",\"USER_READ\",\"USER_CREATE\",\"USER_UPDATE\",\"USER_DELETE\",\"ANYTYPECLASS_READ\",\"ANYTYPE_LIST\",\"ANYTYPECLASS_LIST\",\"RELATIONSHIPTYPE_LIST\",\"ANYTYPE_READ\",\"REALM_LIST\",\"GROUP_SEARCH\",\"GROUP_READ\",\"GROUP_UPDATE\",\"GROUP_DELETE\"]'/>\n </dataset>"},{"sha":"8f2ce7d8b31a74554ee5101e29c72ec1fcbc4bb9","filename":"core/persistence-jpa/src/main/resources/domains/MasterKeymasterConfParams.json","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fdomains%2FMasterKeymasterConfParams.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fdomains%2FMasterKeymasterConfParams.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Fmain%2Fresources%2Fdomains%2FMasterKeymasterConfParams.json?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -13,6 +13,5 @@\n   \"return.password.value\": false,\n   \"jwt.lifetime.minutes\": 120,\n   \"connector.conf.history.size\": 10,\n-  \"resource.conf.history.size\": 10,\n-  \"tasks.interruptMaxRetries\": 1\n-}\n\\ No newline at end of file\n+  \"resource.conf.history.size\": 10\n+}"},{"sha":"7fc54b387d09b4a7243a4b0e3d605beda669bf50","filename":"core/persistence-jpa/src/test/java/org/apache/syncope/core/persistence/jpa/DummyImplementationLookup.java","status":"modified","additions":10,"deletions":14,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2FDummyImplementationLookup.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2FDummyImplementationLookup.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2FDummyImplementationLookup.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -23,15 +23,13 @@\n import org.apache.syncope.common.lib.policy.PasswordRuleConf;\n import org.apache.syncope.common.lib.policy.PullCorrelationRuleConf;\n import org.apache.syncope.common.lib.policy.PushCorrelationRuleConf;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n-import org.apache.syncope.core.persistence.api.dao.AccountRule;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRule;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.Reportlet;\n-import org.apache.syncope.core.persistence.jpa.dao.DefaultPullCorrelationRule;\n-import org.apache.syncope.core.persistence.jpa.dao.DefaultPushCorrelationRule;\n+import org.apache.syncope.common.lib.report.ReportConf;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n+import org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate;\n+import org.apache.syncope.core.provisioning.api.rules.AccountRule;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRule;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRule;\n import org.apache.syncope.core.spring.policy.DefaultAccountRule;\n import org.apache.syncope.core.spring.policy.DefaultPasswordRule;\n \n@@ -53,9 +51,7 @@ public Set<Class<?>> getJWTSSOProviderClasses() {\n     }\n \n     @Override\n-    public Class<Reportlet> getReportletClass(\n-            final Class<? extends ReportletConf> reportletConfClass) {\n-\n+    public Class<? extends ReportJobDelegate> getReportClass(final Class<? extends ReportConf> reportConfClass) {\n         return null;\n     }\n \n@@ -77,13 +73,13 @@ public Class<? extends PasswordRule> getPasswordRuleClass(\n     public Class<? extends PullCorrelationRule> getPullCorrelationRuleClass(\n             final Class<? extends PullCorrelationRuleConf> pullCorrelationRuleConfClass) {\n \n-        return DefaultPullCorrelationRule.class;\n+        return null;\n     }\n \n     @Override\n     public Class<? extends PushCorrelationRule> getPushCorrelationRuleClass(\n             final Class<? extends PushCorrelationRuleConf> pushCorrelationRuleConfClass) {\n \n-        return DefaultPushCorrelationRule.class;\n+        return null;\n     }\n }"},{"sha":"a00a7fda8b72f71c81f164d001ce2149bce8ab02","filename":"core/persistence-jpa/src/test/java/org/apache/syncope/core/persistence/jpa/PersistenceTestContext.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2FPersistenceTestContext.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2FPersistenceTestContext.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2FPersistenceTestContext.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -24,9 +24,9 @@\n import org.apache.syncope.common.keymaster.client.api.DomainOps;\n import org.apache.syncope.core.persistence.api.DomainHolder;\n import org.apache.syncope.core.persistence.api.DomainRegistry;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n import org.apache.syncope.core.persistence.api.content.ContentLoader;\n import org.apache.syncope.core.provisioning.api.ConnectorManager;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n import org.apache.syncope.core.spring.security.DefaultPasswordGenerator;\n import org.apache.syncope.core.spring.security.PasswordGenerator;\n import org.apache.syncope.core.spring.security.SecurityProperties;"},{"sha":"a27f50de1867acbcf62924ed8b002d73a6cfb45d","filename":"core/persistence-jpa/src/test/java/org/apache/syncope/core/persistence/jpa/inner/ImplementationTest.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FImplementationTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FImplementationTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FImplementationTest.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -44,7 +44,7 @@ public void findAll() {\n         List<Implementation> implementations = implementationDAO.findAll();\n         assertFalse(implementations.isEmpty());\n \n-        assertEquals(19, implementations.size());\n+        assertEquals(18, implementations.size());\n \n         implementations = implementationDAO.findByType(IdMImplementationType.PULL_ACTIONS);\n         assertEquals(1, implementations.size());\n@@ -55,8 +55,8 @@ public void findAll() {\n         implementations = implementationDAO.findByType(IdRepoImplementationType.TASKJOB_DELEGATE);\n         assertEquals(6, implementations.size());\n \n-        implementations = implementationDAO.findByType(IdRepoImplementationType.REPORTLET);\n-        assertEquals(2, implementations.size());\n+        implementations = implementationDAO.findByType(IdRepoImplementationType.REPORT_DELEGATE);\n+        assertEquals(1, implementations.size());\n \n         implementations = implementationDAO.findByType(IdRepoImplementationType.ACCOUNT_RULE);\n         assertEquals(2, implementations.size());"},{"sha":"3075b983ca41ce178b9bdc451543ed01c08c0c94","filename":"core/persistence-jpa/src/test/java/org/apache/syncope/core/persistence/jpa/inner/PolicyTest.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FPolicyTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FPolicyTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FPolicyTest.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -41,8 +41,6 @@\n import org.apache.syncope.core.persistence.api.dao.AnyTypeDAO;\n import org.apache.syncope.core.persistence.api.dao.ImplementationDAO;\n import org.apache.syncope.core.persistence.api.dao.PolicyDAO;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRule;\n import org.apache.syncope.core.persistence.api.entity.Implementation;\n import org.apache.syncope.core.persistence.api.entity.policy.AccessPolicy;\n import org.apache.syncope.core.persistence.api.entity.policy.AttrReleasePolicy;\n@@ -55,6 +53,8 @@\n import org.apache.syncope.core.persistence.api.entity.policy.PushCorrelationRuleEntity;\n import org.apache.syncope.core.persistence.api.entity.policy.PushPolicy;\n import org.apache.syncope.core.persistence.jpa.AbstractTest;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRule;\n import org.apache.syncope.core.provisioning.api.serialization.POJOHelper;\n import org.junit.jupiter.api.Test;\n import org.springframework.beans.factory.annotation.Autowired;"},{"sha":"e1e2574cf856b5a7ac11258d65c52d746496e56f","filename":"core/persistence-jpa/src/test/java/org/apache/syncope/core/persistence/jpa/inner/ReportTemplateTest.java","status":"removed","additions":0,"deletions":80,"changes":80,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FReportTemplateTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FReportTemplateTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FReportTemplateTest.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,80 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.persistence.jpa.inner;\n-\n-import static org.junit.jupiter.api.Assertions.assertFalse;\n-import static org.junit.jupiter.api.Assertions.assertNotNull;\n-import static org.junit.jupiter.api.Assertions.assertNull;\n-\n-import java.util.List;\n-import org.apache.syncope.core.persistence.api.dao.ReportTemplateDAO;\n-import org.apache.syncope.core.persistence.api.entity.ReportTemplate;\n-import org.apache.syncope.core.persistence.jpa.AbstractTest;\n-import org.junit.jupiter.api.Test;\n-import org.springframework.beans.factory.annotation.Autowired;\n-import org.springframework.transaction.annotation.Transactional;\n-\n-@Transactional(\"Master\")\n-public class ReportTemplateTest extends AbstractTest {\n-\n-    @Autowired\n-    private ReportTemplateDAO reportTemplateDAO;\n-\n-    @Test\n-    public void find() {\n-        ReportTemplate optin = reportTemplateDAO.find(\"sample\");\n-        assertNotNull(optin);\n-        assertNotNull(optin.getFOTemplate());\n-        assertNotNull(optin.getCSVTemplate());\n-        assertNotNull(optin.getHTMLTemplate());\n-    }\n-\n-    @Test\n-    public void findAll() {\n-        List<ReportTemplate> templates = reportTemplateDAO.findAll();\n-        assertNotNull(templates);\n-        assertFalse(templates.isEmpty());\n-    }\n-\n-    @Test\n-    public void save() {\n-        ReportTemplate template = entityFactory.newEntity(ReportTemplate.class);\n-        template.setKey(\"new\");\n-        template.setCSVTemplate(\n-                \"<xsl:stylesheet xmlns:xsl='http://www.w3.org/1999/XSL/Transform' version='1.0'></xsl:stylesheet>\");\n-\n-        ReportTemplate actual = reportTemplateDAO.save(template);\n-        assertNotNull(actual);\n-        assertNotNull(actual.getKey());\n-        assertNotNull(actual.getCSVTemplate());\n-        assertNull(actual.getHTMLTemplate());\n-\n-        actual.setHTMLTemplate(\n-                \"<xsl:stylesheet xmlns:xsl='http://www.w3.org/1999/XSL/Transform' version='1.0'></xsl:stylesheet>\");\n-        actual = reportTemplateDAO.save(actual);\n-        assertNotNull(actual.getCSVTemplate());\n-        assertNotNull(actual.getHTMLTemplate());\n-    }\n-\n-    @Test\n-    public void delete() {\n-        reportTemplateDAO.delete(\"sample\");\n-        assertNull(reportTemplateDAO.find(\"sample\"));\n-    }\n-}"},{"sha":"6d23b86eb05a218d6154760025f85cb1b95a33d7","filename":"core/persistence-jpa/src/test/java/org/apache/syncope/core/persistence/jpa/inner/ReportTest.java","status":"modified","additions":5,"deletions":27,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FReportTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FReportTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Finner%2FReportTest.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -22,18 +22,13 @@\n import static org.junit.jupiter.api.Assertions.assertNotNull;\n import static org.junit.jupiter.api.Assertions.assertNull;\n \n+import jakarta.ws.rs.core.MediaType;\n import java.util.List;\n import java.util.UUID;\n-import org.apache.syncope.common.lib.report.UserReportletConf;\n-import org.apache.syncope.common.lib.types.IdRepoImplementationType;\n-import org.apache.syncope.common.lib.types.ImplementationEngine;\n import org.apache.syncope.core.persistence.api.dao.ImplementationDAO;\n import org.apache.syncope.core.persistence.api.dao.ReportDAO;\n-import org.apache.syncope.core.persistence.api.dao.ReportTemplateDAO;\n-import org.apache.syncope.core.persistence.api.entity.Implementation;\n import org.apache.syncope.core.persistence.api.entity.Report;\n import org.apache.syncope.core.persistence.jpa.AbstractTest;\n-import org.apache.syncope.core.provisioning.api.serialization.POJOHelper;\n import org.junit.jupiter.api.Test;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.transaction.annotation.Transactional;\n@@ -44,9 +39,6 @@ public class ReportTest extends AbstractTest {\n     @Autowired\n     private ReportDAO reportDAO;\n \n-    @Autowired\n-    private ReportTemplateDAO reportTemplateDAO;\n-\n     @Autowired\n     private ImplementationDAO implementationDAO;\n \n@@ -63,33 +55,19 @@ public void find() {\n     public void findAll() {\n         List<Report> reports = reportDAO.findAll();\n         assertNotNull(reports);\n-        assertEquals(2, reports.size());\n+        assertEquals(1, reports.size());\n     }\n \n     @Test\n     public void save() {\n-        Implementation reportlet1 = entityFactory.newEntity(Implementation.class);\n-        reportlet1.setKey(\"UserReportlet\" + UUID.randomUUID().toString());\n-        reportlet1.setEngine(ImplementationEngine.JAVA);\n-        reportlet1.setType(IdRepoImplementationType.REPORTLET);\n-        reportlet1.setBody(POJOHelper.serialize(new UserReportletConf(\"first\")));\n-        reportlet1 = implementationDAO.save(reportlet1);\n-\n-        Implementation reportlet2 = entityFactory.newEntity(Implementation.class);\n-        reportlet2.setKey(\"UserReportlet\" + UUID.randomUUID().toString());\n-        reportlet2.setEngine(ImplementationEngine.JAVA);\n-        reportlet2.setType(IdRepoImplementationType.REPORTLET);\n-        reportlet2.setBody(POJOHelper.serialize(new UserReportletConf(\"second\")));\n-        reportlet2 = implementationDAO.save(reportlet2);\n-\n         int beforeCount = reportDAO.findAll().size();\n \n         Report report = entityFactory.newEntity(Report.class);\n         report.setName(\"new report\");\n+        report.setJobDelegate(implementationDAO.find(\"SampleReportJobDelegate\"));\n+        report.setMimeType(MediaType.TEXT_PLAIN);\n+        report.setFileExt(\"txt\");\n         report.setActive(true);\n-        report.add(reportlet1);\n-        report.add(reportlet2);\n-        report.setTemplate(reportTemplateDAO.find(\"sample\"));\n \n         report = reportDAO.save(report);\n         assertNotNull(report);"},{"sha":"90fc3551a51b786af35695cd951d516fe1dc0592","filename":"core/persistence-jpa/src/test/java/org/apache/syncope/core/persistence/jpa/outer/ReportTest.java","status":"modified","additions":8,"deletions":6,"changes":14,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fouter%2FReportTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fouter%2FReportTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fjpa%2Fouter%2FReportTest.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -25,11 +25,11 @@\n import static org.junit.jupiter.api.Assertions.assertThrows;\n \n import jakarta.persistence.EntityExistsException;\n+import jakarta.ws.rs.core.MediaType;\n import java.time.OffsetDateTime;\n-import org.apache.syncope.common.lib.types.ReportExecStatus;\n+import org.apache.syncope.core.persistence.api.dao.ImplementationDAO;\n import org.apache.syncope.core.persistence.api.dao.ReportDAO;\n import org.apache.syncope.core.persistence.api.dao.ReportExecDAO;\n-import org.apache.syncope.core.persistence.api.dao.ReportTemplateDAO;\n import org.apache.syncope.core.persistence.api.entity.Report;\n import org.apache.syncope.core.persistence.api.entity.ReportExec;\n import org.apache.syncope.core.persistence.jpa.AbstractTest;\n@@ -44,10 +44,10 @@ public class ReportTest extends AbstractTest {\n     private ReportDAO reportDAO;\n \n     @Autowired\n-    private ReportTemplateDAO reportTemplateDAO;\n+    private ReportExecDAO reportExecDAO;\n \n     @Autowired\n-    private ReportExecDAO reportExecDAO;\n+    private ImplementationDAO implementationDAO;\n \n     @Test\n     public void find() {\n@@ -69,8 +69,10 @@ public void saveWithExistingName() {\n \n             report = entityFactory.newEntity(Report.class);\n             report.setName(name);\n+            report.setJobDelegate(implementationDAO.find(\"SampleReportJobDelegate\"));\n+            report.setMimeType(MediaType.TEXT_PLAIN);\n+            report.setFileExt(\"txt\");\n             report.setActive(true);\n-            report.setTemplate(reportTemplateDAO.find(\"sample\"));\n \n             reportDAO.save(report);\n             entityManager().flush();\n@@ -87,7 +89,7 @@ public void save() {\n         reportExec.setReport(report);\n         reportExec.setStart(OffsetDateTime.now());\n         reportExec.setEnd(OffsetDateTime.now());\n-        reportExec.setStatus(ReportExecStatus.SUCCESS);\n+        reportExec.setStatus(\"SUCCESS\");\n         reportExec.setExecutor(\"admin\");\n \n         report.add(reportExec);"},{"sha":"8ef04426f7a0d0cccf4dd29d8c33a64656e4a8ec","filename":"core/persistence-jpa/src/test/resources/domains/MasterContent.xml","status":"modified","additions":14,"deletions":1115,"changes":1129,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterContent.xml?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -836,52 +836,52 @@ under the License.\n   <PullTask remediation=\"0\" id=\"38abbf9e-a1a3-40a1-a15f-7d0ac02f47f1\" name=\"VirAttrCache test\" resource_id=\"resource-csv\"\n             destinationRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\" performCreate=\"0\" performUpdate=\"1\" performDelete=\"0\" syncStatus=\"0\" pullMode=\"FULL_RECONCILIATION\"\n             unmatchingRule=\"PROVISION\" matchingRule=\"UPDATE\" active=\"1\" jobDelegate_id=\"PullJobDelegate\"/>\n-  <PushTask id=\"af558be4-9d2f-4359-bf85-a554e6e90be1\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"af558be4-9d2f-4359-bf85-a554e6e90be1\" name=\"Export on resource-testdb2.1\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"         \n             unmatchingRule=\"ASSIGN\" matchingRule=\"IGNORE\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"surname==Vivaldi\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"97f327b6-2eff-4d35-85e8-d581baaab855\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"97f327b6-2eff-4d35-85e8-d581baaab855\" name=\"Export on resource-testdb2.2\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"         \n             unmatchingRule=\"PROVISION\" matchingRule=\"IGNORE\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"surname==Bellini\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"03aa2a04-4881-4573-9117-753f81b04865\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"03aa2a04-4881-4573-9117-753f81b04865\" name=\"Export on resource-testdb2.3\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n             unmatchingRule=\"UNLINK\" matchingRule=\"IGNORE\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"surname==Puccini\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"5e5f7c7e-9de7-4c6a-99f1-4df1af959807\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"5e5f7c7e-9de7-4c6a-99f1-4df1af959807\" name=\"Export on resource-testdb2.4\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"         \n             unmatchingRule=\"IGNORE\" matchingRule=\"IGNORE\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"surname==Verdi\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"0bc11a19-6454-45c2-a4e3-ceef84e5d79b\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"0bc11a19-6454-45c2-a4e3-ceef84e5d79b\" name=\"Export on resource-testdb2.5\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n             unmatchingRule=\"ASSIGN\" matchingRule=\"UPDATE\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"username==_NO_ONE_\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"ec674143-480a-4816-98ad-b61fa090821e\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"ec674143-480a-4816-98ad-b61fa090821e\" name=\"Export on resource-testdb2.6\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n             unmatchingRule=\"IGNORE\" matchingRule=\"DEPROVISION\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"surname==Verdi\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"c46edc3a-a18b-4af2-b707-f4a415507496\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"c46edc3a-a18b-4af2-b707-f4a415507496\" name=\"Export on resource-testdb2.7\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n             unmatchingRule=\"IGNORE\" matchingRule=\"UNASSIGN\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"surname==Rossini\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"51318433-cce4-4f71-8f45-9534b6c9c819\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"51318433-cce4-4f71-8f45-9534b6c9c819\" name=\"Export on resource-testdb2.8\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n             unmatchingRule=\"IGNORE\" matchingRule=\"LINK\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"surname==Verdi\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"24b1be9c-7e3b-443a-86c9-798ebce5eaf2\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"24b1be9c-7e3b-443a-86c9-798ebce5eaf2\" name=\"Export on resource-testdb2.9\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n             unmatchingRule=\"IGNORE\" matchingRule=\"UNLINK\" active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n             filters='{\"USER\":\"surname==Verdi\",\"GROUP\":\"name==_NO_ONE_\"}'/>\n-  <PushTask id=\"375c7b7f-9e3a-4833-88c9-b7787b0a69f2\" name=\"Export on resource-testdb2\" resource_id=\"resource-testdb2\"\n+  <PushTask id=\"375c7b7f-9e3a-4833-88c9-b7787b0a69f2\" name=\"Export on resource-testdb2.10\" resource_id=\"resource-testdb2\"\n             sourceRealm_id=\"e4c28e7a-9dbf-4ee7-9441-93812a0d4a28\"\n             performCreate=\"1\" performUpdate=\"1\" performDelete=\"1\" syncStatus=\"1\"        \n             unmatchingRule=\"IGNORE\" matchingRule=\"UPDATE\"  active=\"1\" jobDelegate_id=\"PushJobDelegate\"\n@@ -1029,1115 +1029,14 @@ $$ }&#10;\n                 traceLevel=\"FAILURES\" recipientsFIQL=\"$groups==7\" recipientAttrName=\"email\" active=\"1\"\n                 events='[\"[CUSTOM]:[]:[]:[unexisting1]:[FAILURE]\", \"[CUSTOM]:[]:[]:[unexisting2]:[SUCCESS]\"]'/>\n   <AnyAbout id=\"2e2ee845-2abf-43c6-b543-49243a84e2f1\" anyType_id=\"USER\" notification_id=\"9e2b911c-25de-4c77-bcea-b86ed9451050\" anyType_filter=\"fullname==*o*;fullname==*i*\"/>\n-\n-  <ReportTemplate id=\"empty\"/>  \n-  <ReportTemplate id=\"sample\"\n-                  htmlTemplate=\"&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;\n-&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&#10;\n-                version=&quot;1.0&quot;&gt;&#10;\n-&#10;\n-  &lt;xsl:param name=&quot;status&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;message&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;start&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;end&quot;/&gt;&#10;\n-  &#10;\n-  &lt;xsl:template match=&quot;/&quot;&gt;&#10;\n-    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;en&quot; lang=&quot;en&quot;&gt;&#10;\n-      &lt;head&gt;&#10;\n-        &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;&#10;\n-        &lt;title&gt;Apache Syncope Report - &lt;xsl:value-of select=&quot;report/@name&quot;/&gt;&lt;/title&gt;&#10;\n-      &lt;/head&gt;&#10;\n-      &lt;body&gt;&#10;\n-        &lt;table style=&quot;border: 1px solid black;&quot;&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;h1&gt;Report Name:&lt;/h1&gt;&#10;\n-            &lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;h1&gt;&#10;\n-                &lt;xsl:value-of select=&quot;report/@name&quot;/&gt;&#10;\n-              &lt;/h1&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;h2&gt;Start Date:&lt;/h2&gt;&#10;\n-            &lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;h2&gt;&#10;\n-                &lt;xsl:value-of select=&quot;$start&quot;/&gt;&#10;\n-              &lt;/h2&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;h2&gt;End Date:&lt;/h2&gt;&#10;\n-            &lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;h2&gt;&#10;\n-                &lt;xsl:value-of select=&quot;$end&quot;/&gt;&#10;\n-              &lt;/h2&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-        &lt;/table&gt;&#10;\n-&#10;\n-        &lt;xsl:apply-templates/&gt;&#10;\n-      &lt;/body&gt;&#10;\n-    &lt;/html&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-&#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.StaticReportlet']&quot;&gt;&#10;\n-    &lt;h2&gt;Reportlet: &#10;\n-      &lt;xsl:value-of select=&quot;@name&quot;/&gt;&#10;\n-    &lt;/h2&gt;&#10;\n-        &#10;\n-    &lt;xsl:if test=&quot;string-length(string/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;p&gt;String value:                 &#10;\n-        &lt;xsl:value-of select=&quot;string/text()&quot;/&gt;&#10;\n-      &lt;/p&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(long/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;p&gt;Long value: &#10;\n-        &lt;xsl:value-of select=&quot;long/text()&quot;/&gt;&#10;\n-      &lt;/p&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(double/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;p&gt;Double value: &#10;\n-        &lt;xsl:value-of select=&quot;double/text()&quot;/&gt;&#10;\n-      &lt;/p&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(date/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;p&gt;Date value: &#10;\n-        &lt;xsl:value-of select=&quot;date/text()&quot;/&gt;&#10;\n-      &lt;/p&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(enum/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;p&gt;Enum value: &#10;\n-        &lt;xsl:value-of select=&quot;enum/text()&quot;/&gt;&#10;\n-      &lt;/p&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(list) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;p&gt;List values:&lt;/p&gt;&#10;\n-            &#10;\n-      &lt;ul&gt;&#10;\n-        &lt;xsl:for-each select=&quot;list/string&quot;&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(string/text()) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;li&gt;&#10;\n-              &lt;xsl:value-of select=&quot;text()&quot;/&gt;&#10;\n-            &lt;/li&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-        &lt;/xsl:for-each&gt;&#10;\n-      &lt;/ul&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.UserReportlet']&quot;&gt;&#10;\n-    &#10;\n-    &lt;h3&gt;Reportlet: &lt;xsl:value-of select=&quot;@name&quot;/&gt;&lt;/h3&gt;&#10;\n-    &#10;\n-    &lt;xsl:for-each select=&quot;user&quot;&gt;&#10;\n-      &lt;h4&gt;User &lt;xsl:value-of select=&quot;@username&quot;/&gt;&lt;/h4&gt;&#10;\n-      &#10;\n-      &lt;table style=&quot;border: 1px solid black;&quot;&gt;&#10;\n-        &lt;tr&gt;&#10;\n-          &lt;td&gt;Status:&lt;/td&gt;&#10;\n-          &lt;td&gt;&#10;\n-            &lt;xsl:value-of select=&quot;@status&quot;/&gt;&#10;\n-          &lt;/td&gt;&#10;\n-        &lt;/tr&gt;&#10;\n-        &lt;xsl:if test=&quot;string-length(@creationDate) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;Creation Date:&lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;xsl:value-of select=&quot;@creationDate&quot;/&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-        &lt;/xsl:if&gt;&#10;\n-        &lt;xsl:if test=&quot;string-length(@lastLoginDate) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;Last Login Date:&lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;xsl:value-of select=&quot;@lastLoginDate&quot;/&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-        &lt;/xsl:if&gt;&#10;\n-        &lt;xsl:if test=&quot;string-length(@changePwdDate) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;Change Password Date:&lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;xsl:value-of select=&quot;@changePwdDate&quot;/&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-        &lt;/xsl:if&gt;&#10;\n-        &lt;xsl:if test=&quot;string-length(@passwordHistorySize) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;Password History Size:&lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;xsl:value-of select=&quot;@passwordHistorySize&quot;/&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-        &lt;/xsl:if&gt;&#10;\n-        &lt;xsl:if test=&quot;string-length(@failedLoginCount) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;Number of Failed Login Attempts:&lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;xsl:value-of select=&quot;@failedLoginCount&quot;/&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-        &lt;/xsl:if&gt;&#10;\n-      &lt;/table&gt;&#10;\n-&#10;\n-      &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-        &lt;xsl:with-param name=&quot;label&quot;&gt;Attributes&lt;/xsl:with-param&gt;&#10;\n-        &lt;xsl:with-param name=&quot;node&quot; select=&quot;attributes/attribute&quot;/&gt;&#10;\n-      &lt;/xsl:call-template&gt;&#10;\n-&#10;\n-      &lt;!--&lt;xsl:if test=&quot;string-length(derivedAttributes/derivedAttribute) &amp;gt; 0&quot;&gt;--&gt;&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(derivedAttributes/derivedAttribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Derived Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;derivedAttributes/derivedAttribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;h5&gt;THIS USER HASN'T DERIVED ATTRIBUTES&lt;/h5&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;!--&lt;/xsl:if&gt;--&gt;&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(virtualAttributes/virtualAttribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Virtual Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;virtualAttributes/virtualAttribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;h5&gt;THIS USER HASN'T VIRTUAL ATTRIBUTES&lt;/h5&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(memberships/membership) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;h4&gt;Memberships&lt;/h4&gt;&#10;\n-          &lt;xsl:for-each select=&quot;memberships/membership&quot;&gt;&#10;\n-            &lt;h5&gt;Group: &lt;xsl:value-of select=&quot;@groupName&quot;/&gt;(&lt;xsl:value-of select=&quot;@groupId&quot;/&gt;)&lt;/h5&gt;&#10;\n-            &lt;blockquote&gt;&#10;\n-              &lt;xsl:choose&gt;&#10;\n-                &lt;xsl:when test=&quot;string-length(attributes/attribute) &amp;gt; 0&quot;&gt;&#10;\n-                  &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;label&quot;&gt;Attributes&lt;/xsl:with-param&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;node&quot; select=&quot;attributes/attribute&quot;/&gt;&#10;\n-                  &lt;/xsl:call-template&gt;&#10;\n-                &lt;/xsl:when&gt;&#10;\n-                &lt;xsl:otherwise&gt;&#10;\n-                  &lt;h5&gt;THIS GROUP HASN'T ATTRIBUTES&lt;/h5&gt;&#10;\n-                &lt;/xsl:otherwise&gt;&#10;\n-              &lt;/xsl:choose&gt;&#10;\n-              &lt;xsl:choose&gt;&#10;\n-                &lt;xsl:when test=&quot;string-length(derivedAttributes/derivedAttribute) &amp;gt; 0&quot;&gt;&#10;\n-                  &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;label&quot;&gt;Derived Attributes&lt;/xsl:with-param&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;node&quot; select=&quot;derivedAttributes/derivedAttribute&quot;/&gt;&#10;\n-                  &lt;/xsl:call-template&gt;&#10;\n-                &lt;/xsl:when&gt;&#10;\n-                &lt;xsl:otherwise&gt;&#10;\n-                  &lt;h5&gt;THIS GROUP HASN'T DERIVED ATTRIBUTES&lt;/h5&gt;&#10;\n-                &lt;/xsl:otherwise&gt;&#10;\n-              &lt;/xsl:choose&gt;&#10;\n-              &lt;xsl:choose&gt;&#10;\n-                &lt;xsl:when test=&quot;string-length(virtualAttributes/virtualAttribute) &amp;gt; 0&quot;&gt;&#10;\n-                  &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;label&quot;&gt;Virtual Attributes&lt;/xsl:with-param&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;node&quot; select=&quot;virtualAttributes/virtualAttribute&quot;/&gt;&#10;\n-                  &lt;/xsl:call-template&gt;&#10;\n-                &lt;/xsl:when&gt;&#10;\n-                &lt;xsl:otherwise&gt;&#10;\n-                  &lt;h5&gt;THIS GROUP HASN'T VIRTUAL ATTRIBUTES&lt;/h5&gt;&#10;\n-                &lt;/xsl:otherwise&gt;&#10;\n-              &lt;/xsl:choose&gt;&#10;\n-              &lt;xsl:call-template name=&quot;groupResources&quot;&gt;&#10;\n-                &lt;xsl:with-param name=&quot;node&quot; select=&quot;resources/resource&quot;/&gt;&#10;\n-              &lt;/xsl:call-template&gt;&#10;\n-            &lt;/blockquote&gt;&#10;\n-          &lt;/xsl:for-each&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;h5&gt;THIS USER ISN'T ASSIGNED TO A GROUP&lt;/h5&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;xsl:if test=&quot;string-length(resources) &amp;gt; 0&quot;&gt;&#10;\n-        &lt;xsl:call-template name=&quot;resources&quot;&gt;&#10;\n-          &lt;xsl:with-param name=&quot;node&quot; select=&quot;resources/resource&quot;/&gt;&#10;\n-        &lt;/xsl:call-template&gt;&#10;\n-      &lt;/xsl:if&gt;&#10;\n-      &lt;hr/&gt;&#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-       &#10;\n-  &lt;/xsl:template&gt;&#10;\n-&#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.GroupReportlet']&quot;&gt;&#10;\n-    &lt;h2&gt;Reportlet: &lt;xsl:value-of select=&quot;@name&quot;/&gt;&lt;/h2&gt;&#10;\n-    &lt;xsl:for-each select=&quot;group&quot;&gt;&#10;\n-      &lt;h3&gt;Group &lt;xsl:value-of select=&quot;@name&quot;/&gt;&lt;/h3&gt;&#10;\n-      &#10;\n-      &lt;table style=&quot;border: 1px solid black;&quot;&gt;&#10;\n-        &lt;tr&gt;&#10;\n-          &lt;td&gt;Id:&lt;/td&gt;&#10;\n-          &lt;td&gt;&#10;\n-            &lt;xsl:value-of select=&quot;@id&quot;/&gt;&#10;\n-          &lt;/td&gt;&#10;\n-        &lt;/tr&gt;&#10;\n-        &lt;xsl:if test=&quot;@groupOwner != 'null'&quot;&gt; &lt;!--!= null test=&quot;not(USER/FIRSTNAME)&quot; --&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;Group Owner:&lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;xsl:value-of select=&quot;@groupOwner&quot;/&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-        &lt;/xsl:if&gt;&#10;\n-        &lt;xsl:if test=&quot;@userOwner != 'null'&quot;&gt;&#10;\n-          &lt;tr&gt;&#10;\n-            &lt;td&gt;User Owner:&lt;/td&gt;&#10;\n-            &lt;td&gt;&#10;\n-              &lt;xsl:value-of select=&quot;@userOwner&quot;/&gt;&#10;\n-            &lt;/td&gt;&#10;\n-          &lt;/tr&gt;&#10;\n-        &lt;/xsl:if&gt;&#10;\n-        &#10;\n-      &lt;/table&gt;&#10;\n-&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(attributes/attribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;attributes/attribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;h5&gt;THIS GROUP HASN'T ANY ATTRIBUTE&lt;/h5&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(derivedAttributes/derivedAttribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Derived Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;derivedAttributes/derivedAttribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;h5&gt;THIS GROUP HASN'T ANY DERIVED ATTRIBUTE&lt;/h5&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;!--&lt;/xsl:if&gt;--&gt;&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(virtualAttributes/virtualAttribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Virtual Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;virtualAttributes/virtualAttribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;h5&gt;THIS GROUP HASN'T ANY VIRTUAL ATTRIBUTE&lt;/h5&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;users/user&quot;&gt;&#10;\n-          &lt;h4&gt;Users&lt;/h4&gt;&#10;\n-          &lt;xsl:for-each select=&quot;users/user&quot;&gt;&#10;\n-            &lt;h5&gt;User: &lt;xsl:value-of select=&quot;@userUsername&quot;/&gt; (Id: &lt;xsl:value-of select=&quot;@userId&quot;/&gt;)&lt;/h5&gt;&#10;\n-          &lt;/xsl:for-each&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;h5&gt;THIS GROUP HASN'T ANY USER ASSIGNED TO&lt;/h5&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &#10;\n-      &lt;xsl:call-template name=&quot;groupResources&quot;&gt;&#10;\n-        &lt;xsl:with-param name=&quot;node&quot; select=&quot;resources/resource&quot;/&gt;&#10;\n-      &lt;/xsl:call-template&gt;&#10;\n-      &lt;hr/&gt;&#10;\n-      &#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template name=&quot;attributes&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;label&quot;/&gt;&#10;\n-    &lt;xsl:param name=&quot;node&quot;/&gt;&#10;\n-&#10;\n-    &lt;h4&gt;&#10;\n-      &lt;xsl:value-of select=&quot;$label&quot;/&gt;&#10;\n-    &lt;/h4&gt;&#10;\n-    &#10;\n-    &lt;table&gt;&#10;\n-      &lt;thead&gt;&#10;\n-        &lt;tr&gt;&#10;\n-          &lt;th&gt;Schema name&lt;/th&gt;&#10;\n-          &lt;th&gt;Value(s)&lt;/th&gt;&#10;\n-        &lt;/tr&gt;&#10;\n-      &lt;/thead&gt;&#10;\n-      &lt;tbody&gt;&#10;\n-        &lt;xsl:for-each select=&quot;$node&quot;&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(value/text()) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;tr&gt;&#10;\n-              &lt;td&gt;&#10;\n-                &lt;xsl:value-of select=&quot;@name&quot;/&gt;&#10;\n-              &lt;/td&gt;&#10;\n-              &lt;td&gt;&#10;\n-                &lt;ul&gt;&#10;\n-                  &lt;xsl:for-each select=&quot;value&quot;&gt;&#10;\n-                    &lt;li&gt;&#10;\n-                      &lt;xsl:value-of select=&quot;text()&quot;/&gt;&#10;\n-                    &lt;/li&gt;&#10;\n-                  &lt;/xsl:for-each&gt;&#10;\n-                &lt;/ul&gt;&#10;\n-              &lt;/td&gt;&#10;\n-            &lt;/tr&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-        &lt;/xsl:for-each&gt;&#10;\n-      &lt;/tbody&gt;&#10;\n-    &lt;/table&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-&#10;\n-  &lt;xsl:template name=&quot;resources&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;node&quot;/&gt;&#10;\n-    &#10;\n-    &lt;h4&gt;Resources&lt;/h4&gt;&#10;\n-    &lt;ul&gt;&#10;\n-      &lt;xsl:for-each select=&quot;$node&quot;&gt;&#10;\n-        &lt;li&gt;&#10;\n-          &lt;xsl:value-of select=&quot;@name&quot;/&gt;&#10;\n-        &lt;/li&gt;&#10;\n-      &lt;/xsl:for-each&gt;&#10;\n-    &lt;/ul&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template name=&quot;groupResources&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;node&quot;/&gt;&#10;\n-    &#10;\n-    &lt;h4&gt;Group Resources&lt;/h4&gt;&#10;\n-    &lt;ul&gt;&#10;\n-      &lt;xsl:for-each select=&quot;$node&quot;&gt;&#10;\n-        &lt;li&gt;&#10;\n-          &lt;xsl:value-of select=&quot;@name&quot;/&gt;&#10;\n-        &lt;/li&gt;&#10;\n-      &lt;/xsl:for-each&gt;&#10;\n-    &lt;/ul&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-&lt;/xsl:stylesheet&gt;&#10;\"\n-                  csvTemplate=\"&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;\n-&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&#10;\n-                version=&quot;1.0&quot;&gt;&#10;\n- &#10;\n-  &lt;xsl:param name=&quot;status&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;message&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;start&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;end&quot;/&gt;&#10;\n-    &#10;\n-  &lt;xsl:template match=&quot;/&quot;&gt;&#10;\n-    &lt;xsl:apply-templates/&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-&#10;\n-  &lt;xsl:variable name=&quot;delimiter&quot; select=&quot;';'&quot;/&gt;&#10;\n-   &#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.StaticReportlet']&quot;&gt;&#10;\n-    &lt;xsl:call-template name=&quot;header&quot;&gt;&#10;\n-      &lt;xsl:with-param name=&quot;node&quot; select=&quot;configurations/staticAttributes&quot;/&gt;&#10;\n-    &lt;/xsl:call-template&gt;&#10;\n-    &#10;\n-    &lt;xsl:call-template name=&quot;staticAttributes&quot;&gt;&#10;\n-      &lt;xsl:with-param name=&quot;header&quot; select=&quot;configurations/staticAttributes&quot;/&gt;&#10;\n-    &lt;/xsl:call-template&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template name=&quot;header&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;node&quot;/&gt;  &#10;\n-    &lt;xsl:for-each select=&quot;$node/*&quot;&gt;&#10;\n-      &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-      &lt;xsl:value-of select=&quot;text()&quot;/&gt;&#10;\n-      &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt; &#10;\n-      &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-        &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-      &lt;/xsl:if&gt;&#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-    &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-    &#10;\n-  &lt;xsl:template name=&quot;staticAttributes&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;header&quot;/&gt;&#10;\n-    &#10;\n-    &lt;xsl:variable name=&quot;attrs&quot; select=&quot;.&quot;/&gt;&#10;\n-    &lt;xsl:for-each select=&quot;$header/*&quot;&gt;&#10;\n-      &lt;xsl:variable name=&quot;nameAttr&quot; select=&quot;text()&quot;/&gt; &#10;\n-      &lt;xsl:if test=&quot;string-length($attrs/*[name(.)=$nameAttr]/text()) &amp;gt; 0 &#10;\n-                      and count($attrs/*[name(.)=$nameAttr]/*/node()) = 0&quot;&gt;&#10;\n-        &lt;xsl:variable name=&quot;value&quot; select=&quot;$attrs/*[name(.)=$nameAttr]/text()&quot;/&gt;&#10;\n-        &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-        &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-      &lt;/xsl:if&gt;&#10;\n-      &#10;\n-      &lt;xsl:if test=&quot;string-length($attrs/*[name(.)=$nameAttr]/*/text()) &amp;gt; 0 &#10;\n-                      and count($attrs/*[name(.)=$nameAttr]/*/node()) &amp;gt; 0&quot;&gt;&#10;\n-        &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;xsl:for-each select=&quot;$attrs/*[name(.)=$nameAttr]/*&quot;&gt;&#10;\n-          &lt;xsl:variable name=&quot;value&quot; select=&quot;text()&quot;/&gt;&#10;\n-          &lt;xsl:text&gt;&lt;/xsl:text&gt;&#10;\n-          &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-          &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-            &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-        &lt;/xsl:for-each&gt;&#10;\n-        &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-      &lt;/xsl:if&gt;&#10;\n-      &#10;\n-      &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-        &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-      &lt;/xsl:if&gt;&#10;\n-    &#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.UserReportlet']&quot;&gt;&#10;\n-    &#10;\n-    &lt;xsl:call-template name=&quot;header&quot;&gt;&#10;\n-      &lt;xsl:with-param name=&quot;node&quot; select=&quot;configurations/userAttributes&quot;/&gt;&#10;\n-    &lt;/xsl:call-template&gt;&#10;\n-    &lt;xsl:for-each select=&quot;user&quot;&gt;&#10;\n-      &lt;xsl:call-template name=&quot;userAttributes&quot;&gt;&#10;\n-        &lt;xsl:with-param name=&quot;header&quot; select=&quot;../configurations/userAttributes&quot;/&gt;&#10;\n-      &lt;/xsl:call-template&gt;&#10;\n-      &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;&#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-    &#10;\n-  &lt;xsl:template name=&quot;userAttributes&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;header&quot;/&gt;&#10;\n-  &#10;\n-    &lt;xsl:variable name=&quot;attrs&quot; select=&quot;.&quot;/&gt;&#10;\n-    &lt;xsl:for-each select=&quot;$header/*&quot;&gt;&#10;\n-      &lt;xsl:variable name=&quot;nameAttr&quot; select=&quot;text()&quot;/&gt;&#10;\n-      &lt;xsl:choose&gt;      &#10;\n-        &lt;xsl:when test=&quot;count($attrs/@*[name()=$nameAttr]) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:variable name=&quot;userAttr&quot; select=&quot;$attrs/@*[name()=$nameAttr]&quot;/&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-          &lt;xsl:value-of select=&quot;$userAttr/.&quot;/&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length($attrs/*/*[@name=$nameAttr]/value/text()) &amp;gt; 0 &#10;\n-                        and count($attrs/*/*[@name=$nameAttr]/node()) = 0&quot;&gt;&#10;\n-          &lt;xsl:variable name=&quot;value&quot; select=&quot;$attrs/*/*[@name=$nameAttr]/value/text()&quot;/&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-          &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length($attrs/*/*[@name=$nameAttr]/value/text()) &amp;gt; 0 &#10;\n-                        and count($attrs/*/*[@name=$nameAttr]/node()) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-          &lt;xsl:for-each select=&quot;$attrs/*/*[@name=$nameAttr]/*&quot;&gt;&#10;\n-            &lt;xsl:variable name=&quot;value&quot; select=&quot;$attrs/*/*[@name=$nameAttr]/value/text()&quot;/&gt;&#10;\n-            &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-            &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-              &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-            &lt;/xsl:if&gt;&#10;\n-          &lt;/xsl:for-each&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:when test=&quot;name($attrs/*[name(.)=$nameAttr]/*[name(.)='membership']) &#10;\n-                        and count($attrs/*[name(.)=$nameAttr]/node()) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;       &#10;\n-          &lt;xsl:variable name=&quot;value&quot; select=&quot;@groupName&quot;/&gt;&#10;\n-          &lt;xsl:for-each select=&quot;$attrs/*/membership&quot;&gt;&#10;\n-            &lt;xsl:variable name=&quot;value&quot; select=&quot;@groupName&quot;/&gt;&#10;\n-            &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-            &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-              &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-            &lt;/xsl:if&gt;&#10;\n-          &lt;/xsl:for-each&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:when test=&quot;name($attrs/*[name(.)=$nameAttr]/*[name(.)='resource']) &#10;\n-                        and count($attrs/*[name(.)=$nameAttr]/node()) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-          &lt;xsl:variable name=&quot;value&quot; select=&quot;@name&quot;/&gt;&#10;\n-          &lt;xsl:for-each select=&quot;$attrs/*/resource&quot;&gt;&#10;\n-            &lt;xsl:variable name=&quot;value&quot; select=&quot;@name&quot;/&gt;&#10;\n-            &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-            &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-              &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-            &lt;/xsl:if&gt;&#10;\n-          &lt;/xsl:for-each&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&quot;&lt;/xsl:text&gt; &#10;\n-        &lt;/xsl:otherwise&gt;  &#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-        &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-      &lt;/xsl:if&gt;  &#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.GroupReportlet']&quot;&gt;&#10;\n-    &#10;\n-    &lt;xsl:call-template name=&quot;header&quot;&gt;&#10;\n-      &lt;xsl:with-param name=&quot;node&quot; select=&quot;configurations/groupAttributes&quot;/&gt;&#10;\n-    &lt;/xsl:call-template&gt;&#10;\n-    &lt;xsl:for-each select=&quot;group&quot;&gt;&#10;\n-      &lt;xsl:call-template name=&quot;groupAttributes&quot;&gt;&#10;\n-        &lt;xsl:with-param name=&quot;header&quot; select=&quot;../configurations/groupAttributes&quot;/&gt;&#10;\n-        &lt;xsl:with-param name=&quot;attrs&quot; select=&quot;.&quot;/&gt;&#10;\n-      &lt;/xsl:call-template&gt;&#10;\n-      &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;&#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-    &#10;\n-  &lt;xsl:template name=&quot;groupAttributes&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;header&quot;/&gt;&#10;\n-    &lt;xsl:param name=&quot;attrs&quot;/&gt;&#10;\n-    &#10;\n-    &lt;xsl:for-each select=&quot;$header/*&quot;&gt;&#10;\n-      &lt;xsl:variable name=&quot;nameAttr&quot; select=&quot;text()&quot;/&gt;&#10;\n-      &#10;\n-      &lt;xsl:choose&gt; &#10;\n-        &lt;xsl:when test=&quot;string-length($attrs/@*[name()=$nameAttr]) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:variable name=&quot;groupAttr&quot; select=&quot;$attrs/@*[name()=$nameAttr]&quot;/&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-          &lt;xsl:value-of select=&quot;$groupAttr/.&quot;/&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:when test=&quot;name($attrs/*[name(.)=$nameAttr]/*[name(.)='resource']) &#10;\n-                        and count($attrs/*[name(.)=$nameAttr]/node()) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;       &#10;\n-          &lt;xsl:for-each select=&quot;$attrs/*/resource&quot;&gt;&#10;\n-            &lt;xsl:variable name=&quot;value&quot; select=&quot;@name&quot;/&gt;&#10;\n-            &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-            &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-              &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-            &lt;/xsl:if&gt;&#10;\n-          &lt;/xsl:for-each&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:when test=&quot;name($attrs/*[name(.)=$nameAttr]/*[name(.)='user']) &#10;\n-                        and count($attrs/*[name(.)=$nameAttr]/node()) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;       &#10;\n-          &lt;xsl:for-each select=&quot;$attrs/*/user&quot;&gt;&#10;\n-            &lt;xsl:variable name=&quot;value&quot; select=&quot;@userUsername&quot;/&gt;&#10;\n-            &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-            &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-              &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-            &lt;/xsl:if&gt;&#10;\n-          &lt;/xsl:for-each&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length($attrs/*/*[@name=$nameAttr]/value/text()) &amp;gt; 0&quot;&gt; &#10;\n-            &lt;xsl:variable name=&quot;value&quot; select=&quot;$attrs/*/*[@name=$nameAttr]/value/text()&quot;/&gt;&#10;\n-            &lt;xsl:value-of select=&quot;$value&quot;/&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-          &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;xsl:if test=&quot;position() != last()&quot;&gt;&#10;\n-        &lt;xsl:value-of select=&quot;$delimiter&quot;/&gt;&#10;\n-      &lt;/xsl:if&gt;&#10;\n-    &#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-&lt;/xsl:stylesheet&gt;&#10;\"\n-                  foTemplate=\"&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;\n-&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&#10;\n-                xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;&#10;\n-                version=&quot;1.0&quot;&gt;&#10;\n-&#10;\n-  &lt;xsl:param name=&quot;status&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;message&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;start&quot;/&gt;&#10;\n-  &lt;xsl:param name=&quot;end&quot;/&gt;&#10;\n-  &#10;\n-  &lt;xsl:template match=&quot;/&quot;&gt;&#10;\n-    &lt;fo:root xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot; font-family=&quot;Helvetica&quot; font-size=&quot;10pt&quot;&gt;&#10;\n-      &#10;\n-      &lt;!-- defines the layout master --&gt;&#10;\n-      &lt;fo:layout-master-set&gt;&#10;\n-        &lt;fo:simple-page-master master-name=&quot;first&quot; page-height=&quot;29.7cm&quot; page-width=&quot;21cm&quot; &#10;\n-                               margin-top=&quot;1cm&quot; margin-bottom=&quot;2cm&quot; margin-left=&quot;2.5cm&quot; margin-right=&quot;2.5cm&quot;&gt;&#10;\n-          &lt;fo:region-body margin-top=&quot;1cm&quot;/&gt;&#10;\n-          &lt;fo:region-before extent=&quot;1cm&quot;/&gt;&#10;\n-          &lt;fo:region-after extent=&quot;1.5cm&quot;/&gt;&#10;\n-        &lt;/fo:simple-page-master&gt;&#10;\n-      &lt;/fo:layout-master-set&gt;&#10;\n-&#10;\n-      &lt;!-- starts actual layout --&gt;&#10;\n-      &lt;fo:page-sequence master-reference=&quot;first&quot;&gt;&#10;\n-        &#10;\n-        &lt;fo:flow flow-name=&quot;xsl-region-body&quot;&gt;&#10;\n-          &lt;fo:block font-size=&quot;24pt&quot; font-weight=&quot;bold&quot; text-align=&quot;center&quot; space-after=&quot;1cm&quot;&gt;&#10;\n-            Apache Syncope Report - &lt;xsl:value-of select=&quot;report/@name&quot;/&gt;&#10;\n-          &lt;/fo:block&gt;&#10;\n-&#10;\n-          &lt;fo:table table-layout=&quot;fixed&quot; border-width=&quot;0.5mm&quot; border-style=&quot;solid&quot; width=&quot;100%&quot; space-after=&quot;1cm&quot;&gt;&#10;\n-            &lt;fo:table-column column-width=&quot;proportional-column-width(1)&quot;/&gt;&#10;\n-            &lt;fo:table-column column-width=&quot;proportional-column-width(1)&quot;/&gt;&#10;\n-            &lt;fo:table-body&gt;&#10;\n-              &lt;fo:table-row&gt;&#10;\n-                &lt;fo:table-cell&gt;&#10;\n-                  &lt;fo:block font-size=&quot;18pt&quot; font-weight=&quot;bold&quot;&gt;Report Name:&lt;/fo:block&gt;&#10;\n-                &lt;/fo:table-cell&gt;&#10;\n-                &lt;fo:table-cell&gt;&#10;\n-                  &lt;fo:block font-size=&quot;18pt&quot; font-weight=&quot;bold&quot;&gt;&#10;\n-                    &lt;xsl:value-of select=&quot;report/@name&quot;/&gt;&#10;\n-                  &lt;/fo:block&gt;&#10;\n-                &lt;/fo:table-cell&gt;&#10;\n-              &lt;/fo:table-row&gt;&#10;\n-              &lt;fo:table-row&gt;&#10;\n-                &lt;fo:table-cell&gt;&#10;\n-                  &lt;fo:block font-size=&quot;18pt&quot; font-weight=&quot;bold&quot;&gt;Start Date:&lt;/fo:block&gt;&#10;\n-                &lt;/fo:table-cell&gt;&#10;\n-                &lt;fo:table-cell&gt;&#10;\n-                  &lt;fo:block font-size=&quot;18pt&quot; font-weight=&quot;bold&quot;&gt;&#10;\n-                    &lt;xsl:value-of select=&quot;$start&quot;/&gt;&#10;\n-                  &lt;/fo:block&gt;&#10;\n-                &lt;/fo:table-cell&gt;&#10;\n-              &lt;/fo:table-row&gt;&#10;\n-              &lt;fo:table-row&gt;&#10;\n-                &lt;fo:table-cell&gt;&#10;\n-                  &lt;fo:block font-size=&quot;18pt&quot; font-weight=&quot;bold&quot;&gt;End Date:&lt;/fo:block&gt;&#10;\n-                &lt;/fo:table-cell&gt;&#10;\n-                &lt;fo:table-cell&gt;&#10;\n-                  &lt;fo:block font-size=&quot;18pt&quot; font-weight=&quot;bold&quot;&gt;&#10;\n-                    &lt;xsl:value-of select=&quot;$end&quot;/&gt;&#10;\n-                  &lt;/fo:block&gt;&#10;\n-                &lt;/fo:table-cell&gt;&#10;\n-              &lt;/fo:table-row&gt;&#10;\n-            &lt;/fo:table-body&gt;&#10;\n-          &lt;/fo:table&gt;&#10;\n-&#10;\n-          &lt;xsl:apply-templates/&gt;&#10;\n-        &lt;/fo:flow&gt;&#10;\n-      &lt;/fo:page-sequence&gt;&#10;\n-    &lt;/fo:root&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-&#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.StaticReportlet']&quot;&gt;&#10;\n-&#10;\n-    &lt;fo:block font-size=&quot;14pt&quot; font-weight=&quot;bold&quot; space-after=&quot;0.5cm&quot;&gt;Reportlet: &#10;\n-      &lt;xsl:value-of select=&quot;@name&quot;/&gt;&#10;\n-    &lt;/fo:block&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(string/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;fo:block font-size=&quot;11pt&quot;&gt;String value: &#10;\n-        &lt;xsl:value-of select=&quot;string/text()&quot;/&gt;&#10;\n-      &lt;/fo:block&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(long/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;fo:block font-size=&quot;11pt&quot;&gt;Long value: &#10;\n-        &lt;xsl:value-of select=&quot;long/text()&quot;/&gt;&#10;\n-      &lt;/fo:block&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(double/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;fo:block font-size=&quot;11pt&quot;&gt;Double value: &#10;\n-        &lt;xsl:value-of select=&quot;double/text()&quot;/&gt;&#10;\n-      &lt;/fo:block&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(date/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;fo:block font-size=&quot;11pt&quot;&gt;Date value: &#10;\n-        &lt;xsl:value-of select=&quot;date/text()&quot;/&gt;&#10;\n-      &lt;/fo:block&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(enum/text()) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;fo:block font-size=&quot;11pt&quot;&gt;Enum value: &#10;\n-        &lt;xsl:value-of select=&quot;enum/text()&quot;/&gt;&#10;\n-      &lt;/fo:block&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-&#10;\n-    &lt;xsl:if test=&quot;string-length(list) &amp;gt; 0&quot;&gt;&#10;\n-      &lt;fo:block font-size=&quot;11pt&quot;&gt;List values:&lt;/fo:block&gt;&#10;\n-            &#10;\n-      &lt;fo:list-block provisional-label-separation=&quot;4mm&quot; provisional-distance-between-starts=&quot;2mm&quot;&gt;&#10;\n-        &lt;xsl:for-each select=&quot;list/string&quot;&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(string/text()) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;fo:list-item&gt;&#10;\n-              &lt;fo:list-item-label end-indent=&quot;label-end()&quot;&gt;&#10;\n-                &lt;fo:block&gt;&#x2022;&lt;/fo:block&gt;&#10;\n-              &lt;/fo:list-item-label&gt;&#10;\n-              &lt;fo:list-item-body start-indent=&quot;body-start()&quot;&gt;&#10;\n-                &lt;fo:block&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;text()&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:list-item-body&gt;&#10;\n-            &lt;/fo:list-item&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-        &lt;/xsl:for-each&gt;&#10;\n-      &lt;/fo:list-block&gt;&#10;\n-    &lt;/xsl:if&gt;&#10;\n-        &#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.UserReportlet']&quot;&gt;&#10;\n-   &#10;\n-    &lt;fo:block font-size=&quot;16pt&quot; font-weight=&quot;bold&quot; space-after=&quot;0.5cm&quot; space-before=&quot;5mm&quot;&gt;Reportlet: &lt;xsl:value-of select=&quot;@name&quot;/&gt;&lt;/fo:block&gt;&#10;\n-        &#10;\n-    &lt;xsl:for-each select=&quot;user&quot;&gt;&#10;\n-      &lt;fo:block font-size=&quot;14pt&quot; font-weight=&quot;bold&quot; space-before=&quot;15mm&quot; space-after=&quot;5mm&quot; background-color=&quot;(#8888ff)&quot;&gt;User &lt;xsl:value-of select=&quot;@username&quot;/&gt;&lt;/fo:block&gt;&#10;\n-      &lt;fo:table table-layout=&quot;fixed&quot; space-after=&quot;7mm&quot;&gt;&#10;\n-        &lt;fo:table-column/&gt;&#10;\n-        &lt;fo:table-column/&gt;&#10;\n-        &lt;fo:table-body&gt;&#10;\n-          &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-            &lt;fo:table-cell&gt;&#10;\n-              &lt;fo:block&gt;Status:&lt;/fo:block&gt;&#10;\n-            &lt;/fo:table-cell&gt;&#10;\n-            &lt;fo:table-cell&gt;&#10;\n-              &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                &lt;xsl:value-of select=&quot;@status&quot;/&gt;&#10;\n-              &lt;/fo:block&gt;&#10;\n-            &lt;/fo:table-cell&gt;&#10;\n-          &lt;/fo:table-row&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(@creationDate) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block&gt;Creation Date:&lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;@creationDate&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-            &lt;/fo:table-row&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(@lastLoginDate) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block&gt;Last Login Date:&lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;@lastLoginDate&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-            &lt;/fo:table-row&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(@changePwdDate) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block&gt;Change Password Date:&lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;@changePwdDate&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-            &lt;/fo:table-row&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(@passwordHistorySize) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block&gt;Password History Size:&lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;@passwordHistorySize&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-            &lt;/fo:table-row&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(@failedLoginCount) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block&gt;Number of Failed Login Attempts:&lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;@failedLoginCount&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-            &lt;/fo:table-row&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-        &lt;/fo:table-body&gt;&#10;\n-      &lt;/fo:table&gt;&#10;\n-      &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-        &lt;xsl:with-param name=&quot;label&quot;&gt;Attributes&lt;/xsl:with-param&gt;&#10;\n-        &lt;xsl:with-param name=&quot;node&quot; select=&quot;attributes/attribute&quot;/&gt;&#10;\n-      &lt;/xsl:call-template&gt;&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(derivedAttributes/derivedAttribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Derived Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;derivedAttributes/derivedAttribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;fo:block color=&quot;red&quot; font-size=&quot;9pt&quot; space-after=&quot;3mm&quot;&gt;THIS USER HASN'T ANY DERIVED ATTRIBUTE&lt;/fo:block&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(virtualAttributes/virtualAttribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Virtual Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;virtualAttributes/virtualAttribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;fo:block color=&quot;red&quot; font-size=&quot;9pt&quot; space-after=&quot;3mm&quot;&gt;THIS USER HASN'T ANY VIRTUAL ATTRIBUTE&lt;/fo:block&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(memberships/membership) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;fo:block font-size=&quot;11pt&quot; font-weight=&quot;bold&quot;&gt;Memberships&lt;/fo:block&gt;&#10;\n-          &lt;xsl:for-each select=&quot;memberships/membership&quot;&gt;&#10;\n-            &lt;fo:block font-size=&quot;10pt&quot; font-weight=&quot;bold&quot; space-before=&quot;2mm&quot;&gt;Group: &lt;xsl:value-of select=&quot;@groupName&quot;/&gt;(&lt;xsl:value-of select=&quot;@groupId&quot;/&gt;)&lt;/fo:block&gt;&#10;\n-            &lt;fo:block start-indent=&quot;1cm&quot; space-before=&quot;3mm&quot; space-after=&quot;0.5cm&quot;&gt;&#10;\n-              &lt;xsl:choose&gt;&#10;\n-                &lt;xsl:when test=&quot;string-length(attributes/attribute) &amp;gt; 0&quot;&gt;&#10;\n-                  &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;label&quot;&gt;Attributes&lt;/xsl:with-param&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;node&quot; select=&quot;attributes/attribute&quot;/&gt;&#10;\n-                  &lt;/xsl:call-template&gt;&#10;\n-                &lt;/xsl:when&gt;&#10;\n-                &lt;xsl:otherwise&gt;&#10;\n-                  &lt;fo:block color=&quot;red&quot; font-size=&quot;8pt&quot; space-after=&quot;2mm&quot;&gt;THIS GROUP HASN'T ANY ATTRIBUTE&lt;/fo:block&gt;&#10;\n-                &lt;/xsl:otherwise&gt;&#10;\n-              &lt;/xsl:choose&gt;&#10;\n-              &lt;xsl:choose&gt;&#10;\n-                &lt;xsl:when test=&quot;string-length(derivedAttributes/derivedAttribute) &amp;gt; 0&quot;&gt;&#10;\n-                  &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;label&quot;&gt;Derived Attributes&lt;/xsl:with-param&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;node&quot; select=&quot;derivedAttributes/derivedAttribute&quot;/&gt;&#10;\n-                  &lt;/xsl:call-template&gt;&#10;\n-                &lt;/xsl:when&gt;&#10;\n-                &lt;xsl:otherwise&gt;&#10;\n-                  &lt;fo:block color=&quot;red&quot; font-size=&quot;8pt&quot; space-after=&quot;2mm&quot;&gt;THIS GROUP HASN'T ANY DERIVED ATTRIBUTE&lt;/fo:block&gt;&#10;\n-                &lt;/xsl:otherwise&gt;&#10;\n-              &lt;/xsl:choose&gt;&#10;\n-              &lt;xsl:choose&gt;&#10;\n-                &lt;xsl:when test=&quot;string-length(virtualAttributes/virtualAttribute) &amp;gt; 0&quot;&gt;&#10;\n-                  &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;label&quot;&gt;Virtual Attributes&lt;/xsl:with-param&gt;&#10;\n-                    &lt;xsl:with-param name=&quot;node&quot; select=&quot;virtualAttributes/virtualAttribute&quot;/&gt;&#10;\n-                  &lt;/xsl:call-template&gt;&#10;\n-                &lt;/xsl:when&gt;&#10;\n-                &lt;xsl:otherwise&gt;&#10;\n-                  &lt;fo:block color=&quot;red&quot; font-size=&quot;8pt&quot; space-after=&quot;2mm&quot;&gt;THIS GROUP HASN'T ANY VIRTUAL ATTRIBUTE&lt;/fo:block&gt;&#10;\n-                &lt;/xsl:otherwise&gt;&#10;\n-              &lt;/xsl:choose&gt;&#10;\n-              &lt;!-- 'groupResources&quot; is defined in groupReportlet2fo.xsl --&gt;&#10;\n-              &lt;xsl:call-template name=&quot;groupResources&quot;&gt;&#10;\n-                &lt;xsl:with-param name=&quot;node&quot; select=&quot;resources/resource&quot;/&gt;&#10;\n-              &lt;/xsl:call-template&gt;&#10;\n-            &lt;/fo:block&gt;&#10;\n-          &lt;/xsl:for-each&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;fo:block color=&quot;red&quot; font-size=&quot;9pt&quot; space-after=&quot;3mm&quot;&gt;THIS USER HASN'T BEEN ASSIGNED TO ANY GROUP&lt;/fo:block&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;xsl:call-template name=&quot;resources&quot;&gt;&#10;\n-        &lt;xsl:with-param name=&quot;node&quot; select=&quot;resources/resource&quot;/&gt;&#10;\n-      &lt;/xsl:call-template&gt;&#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template match=&quot;reportlet[_class='org.apache.syncope.core.provisioning.java.job.report.GroupReportlet']&quot;&gt;&#10;\n-   &#10;\n-    &lt;fo:block font-size=&quot;16pt&quot; font-weight=&quot;bold&quot; space-after=&quot;0.5cm&quot; space-before=&quot;5mm&quot;&gt;Reportlet: &lt;xsl:value-of select=&quot;@name&quot;/&gt;&lt;/fo:block&gt;&#10;\n-        &#10;\n-    &lt;xsl:for-each select=&quot;group&quot;&gt;&#10;\n-      &lt;fo:block font-size=&quot;14pt&quot; font-weight=&quot;bold&quot; space-before=&quot;15mm&quot; space-after=&quot;5mm&quot; background-color=&quot;(#8888ff)&quot;&gt;Group &lt;xsl:value-of select=&quot;@name&quot;/&gt;&lt;/fo:block&gt;&#10;\n-      &lt;fo:table table-layout=&quot;fixed&quot; space-after=&quot;7mm&quot;&gt;&#10;\n-        &lt;fo:table-column/&gt;&#10;\n-        &lt;fo:table-column/&gt;&#10;\n-        &lt;fo:table-body&gt;&#10;\n-          &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-            &lt;fo:table-cell&gt;&#10;\n-              &lt;fo:block&gt;Id:&lt;/fo:block&gt;&#10;\n-            &lt;/fo:table-cell&gt;&#10;\n-            &lt;fo:table-cell&gt;&#10;\n-              &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                &lt;xsl:value-of select=&quot;@id&quot;/&gt;&#10;\n-              &lt;/fo:block&gt;&#10;\n-            &lt;/fo:table-cell&gt;&#10;\n-          &lt;/fo:table-row&gt;&#10;\n-          &lt;xsl:if test=&quot;@groupOwner != 'null'&quot;&gt;&#10;\n-            &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block&gt;Group Owner:&lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;@groupOwner&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-            &lt;/fo:table-row&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-          &lt;xsl:if test=&quot;@userOwner != 'null'&quot;&gt;&#10;\n-            &lt;fo:table-row background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block&gt;Last Login Date:&lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;@userOwner&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-            &lt;/fo:table-row&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-        &lt;/fo:table-body&gt;&#10;\n-      &lt;/fo:table&gt;&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(attributes/attribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;attributes/attribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;fo:block color=&quot;red&quot; font-size=&quot;9pt&quot; space-after=&quot;3mm&quot;&gt;THIS GROUP HASN'T ANY ATTRIBUTE&lt;/fo:block&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(derivedAttributes/derivedAttribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Derived Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;derivedAttributes/derivedAttribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;fo:block color=&quot;red&quot; font-size=&quot;9pt&quot; space-after=&quot;3mm&quot;&gt;THIS GROUP HASN'T ANY DERIVED ATTRIBUTE&lt;/fo:block&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;string-length(virtualAttributes/virtualAttribute) &amp;gt; 0&quot;&gt;&#10;\n-          &lt;xsl:call-template name=&quot;attributes&quot;&gt;&#10;\n-            &lt;xsl:with-param name=&quot;label&quot;&gt;Virtual Attributes&lt;/xsl:with-param&gt;&#10;\n-            &lt;xsl:with-param name=&quot;node&quot; select=&quot;virtualAttributes/virtualAttribute&quot;/&gt;&#10;\n-          &lt;/xsl:call-template&gt;&#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;fo:block color=&quot;red&quot; font-size=&quot;9pt&quot; space-after=&quot;3mm&quot;&gt;THIS GROUP HASN'T ANY VIRTUAL ATTRIBUTE&lt;/fo:block&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &#10;\n-      &lt;xsl:choose&gt;&#10;\n-        &lt;xsl:when test=&quot;users/user&quot;&gt;&#10;\n-          &lt;fo:block font-size=&quot;11pt&quot; font-weight=&quot;bold&quot;&gt;Users&lt;/fo:block&gt;&#10;\n-          &lt;xsl:for-each select=&quot;users/user&quot;&gt;&#10;\n-            &lt;fo:block background-color=&quot;(#ccccff)&quot; font-size=&quot;9pt&quot; font-weight=&quot;bold&quot; space-before=&quot;4mm&quot;&gt;User: &lt;xsl:value-of select=&quot;@userUsername&quot;/&gt; (Id: &lt;xsl:value-of select=&quot;@userId&quot;/&gt;)&lt;/fo:block&gt;&#10;\n-                 &#10;\n-          &lt;/xsl:for-each&gt; &#10;\n-        &lt;/xsl:when&gt;&#10;\n-        &lt;xsl:otherwise&gt;&#10;\n-          &lt;fo:block color=&quot;red&quot; font-size=&quot;9pt&quot; space-after=&quot;3mm&quot;&gt;THIS GROUP HASN'T ANY USER ASSIGNED TO&lt;/fo:block&gt;&#10;\n-        &lt;/xsl:otherwise&gt;&#10;\n-      &lt;/xsl:choose&gt;&#10;\n-      &lt;xsl:call-template name=&quot;groupResources&quot;&gt;&#10;\n-        &lt;xsl:with-param name=&quot;node&quot; select=&quot;resources/resource&quot;/&gt;&#10;\n-      &lt;/xsl:call-template&gt;&#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template name=&quot;attributes&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;label&quot;/&gt;&#10;\n-    &lt;xsl:param name=&quot;node&quot;/&gt;&#10;\n-    &lt;fo:block font-size=&quot;11pt&quot; font-weight=&quot;bold&quot; space-after=&quot;2mm&quot;&gt;&#10;\n-      &lt;xsl:value-of select=&quot;$label&quot;/&gt;&#10;\n-    &lt;/fo:block&gt;&#10;\n-    &lt;fo:table table-layout=&quot;fixed&quot; space-after=&quot;7mm&quot;&gt;&#10;\n-      &lt;fo:table-column/&gt;&#10;\n-      &lt;fo:table-column/&gt;&#10;\n-      &lt;fo:table-header&gt;&#10;\n-        &lt;fo:table-row height=&quot;7mm&quot; background-color=&quot;(#ccccba)&quot;&gt;&#10;\n-          &lt;fo:table-cell&gt;&#10;\n-            &lt;fo:block font-weight=&quot;bold&quot;&gt;Schema name&lt;/fo:block&gt;&#10;\n-          &lt;/fo:table-cell&gt;&#10;\n-          &lt;fo:table-cell&gt;&#10;\n-            &lt;fo:block font-weight=&quot;bold&quot;&gt;Value(s)&lt;/fo:block&gt;&#10;\n-          &lt;/fo:table-cell&gt;&#10;\n-        &lt;/fo:table-row&gt;&#10;\n-      &lt;/fo:table-header&gt;&#10;\n-      &lt;fo:table-body&gt;&#10;\n-        &lt;xsl:for-each select=&quot;$node&quot;&gt;&#10;\n-          &lt;xsl:if test=&quot;string-length(value/text()) &amp;gt; 0&quot;&gt;&#10;\n-            &lt;fo:table-row height=&quot;4mm&quot; background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;fo:block&gt;&#10;\n-                  &lt;xsl:value-of select=&quot;@name&quot;/&gt;&#10;\n-                &lt;/fo:block&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-              &lt;fo:table-cell&gt;&#10;\n-                &lt;xsl:for-each select=&quot;value&quot;&gt;&#10;\n-                  &lt;fo:block&gt;&lt;/fo:block&gt;&#10;\n-                  &lt;fo:block font-style=&quot;italic&quot;&gt;&#10;\n-                    &lt;xsl:value-of select=&quot;text()&quot;/&gt;&#10;\n-                  &lt;/fo:block&gt;&#10;\n-                &lt;/xsl:for-each&gt;&#10;\n-              &lt;/fo:table-cell&gt;&#10;\n-            &lt;/fo:table-row&gt;&#10;\n-          &lt;/xsl:if&gt;&#10;\n-          &lt;fo:table-row&gt;&#10;\n-            &lt;fo:table-cell&gt;&#10;\n-              &lt;fo:block&gt;&lt;/fo:block&gt;&#10;\n-            &lt;/fo:table-cell&gt;&#10;\n-            &lt;fo:table-cell&gt;&#10;\n-              &lt;fo:block&gt;&lt;/fo:block&gt;&#10;\n-            &lt;/fo:table-cell&gt;&#10;\n-          &lt;/fo:table-row&gt;&#10;\n-        &lt;/xsl:for-each&gt;&#10;\n-      &lt;/fo:table-body&gt;&#10;\n-    &lt;/fo:table&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-  &#10;\n-  &lt;xsl:template name=&quot;resources&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;node&quot;/&gt;&#10;\n-    &lt;fo:block font-size=&quot;11pt&quot; font-weight=&quot;bold&quot; space-after=&quot;3mm&quot;&gt;Resources&lt;/fo:block&gt;&#10;\n-    &lt;xsl:for-each select=&quot;$node&quot;&gt;&#10;\n-      &lt;fo:block&gt;&lt;/fo:block&gt; &lt;!--            &lt;fo:block&gt;&#x2022;&lt;/fo:block&gt;--&gt;&#10;\n-      &lt;fo:block background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-        &lt;xsl:value-of select=&quot;@name&quot;/&gt;&#10;\n-      &lt;/fo:block&gt;&#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-&#10;\n-  &lt;xsl:template name=&quot;groupResources&quot;&gt;&#10;\n-    &lt;xsl:param name=&quot;node&quot;/&gt;&#10;\n-    &lt;fo:block font-size=&quot;11pt&quot; font-weight=&quot;bold&quot; space-after=&quot;3mm&quot; space-before=&quot;5mm&quot;&gt;Group Resources&lt;/fo:block&gt;&#10;\n-    &lt;xsl:for-each select=&quot;$node&quot;&gt;&#10;\n-      &lt;fo:block&gt;&lt;/fo:block&gt; &lt;!--            &lt;fo:block&gt;&#x2022;&lt;/fo:block&gt;--&gt;&#10;\n-      &lt;fo:block background-color=&quot;(#ccccff)&quot;&gt;&#10;\n-        &lt;xsl:value-of select=&quot;@name&quot;/&gt;&#10;\n-      &lt;/fo:block&gt;&#10;\n-    &lt;/xsl:for-each&gt;&#10;\n-  &lt;/xsl:template&gt;&#10;\n-&#10;\n-&lt;/xsl:stylesheet&gt;&#10;\"/>\n   \n-  <Report id=\"0062ea9c-924d-4ecf-9961-4492a8cc6d1b\" name=\"test\" active=\"1\" template_id=\"sample\"/>\n-  <Implementation id=\"UserReportletConf\" type=\"REPORTLET\" engine=\"JAVA\"\n-                  body='{\"_class\":\"org.apache.syncope.common.lib.report.UserReportletConf\",\"name\":\"testUserReportlet\",\"matchingCond\":null,\"plainAttrs\":[\"fullname\",\"gender\"],\"derAttrs\":[\"cn\"],\"virAttrs\":[\"virtualdata\"],\"features\":[\"key\",\"username\",\"status\",\"creationDate\",\"lastLoginDate\",\"changePwdDate\",\"passwordHistorySize\",\"failedLoginCount\",\"memberships\",\"resources\"]}'/>\n-  <ReportReportlet report_id=\"0062ea9c-924d-4ecf-9961-4492a8cc6d1b\" implementation_id=\"UserReportletConf\"/>\n+  <Implementation id=\"SampleReportJobDelegate\" type=\"REPORT_DELEGATE\" engine=\"JAVA\"\n+                  body='{\"_class\":\"org.apache.syncope.fit.core.reference.SampleReportConf\",\"stringValue\":\"a string\",\"intValue\":1,\"longValue\":45,\"floatValue\":1.2,\"doubleValue\":2.1}'/>\n+  <Report id=\"0062ea9c-924d-4ecf-9961-4492a8cc6d1b\" name=\"test\" active=\"1\" jobDelegate_id=\"SampleReportJobDelegate\"\n+          mimeType=\"application/pdf\" fileExt=\"pdf\"/>\n   <ReportExec report_id=\"0062ea9c-924d-4ecf-9961-4492a8cc6d1b\" id=\"c13f39c5-0d35-4bff-ba79-3cd5de940369\"\n               status=\"SUCCESS\" startDate=\"2012-02-26 15:40:04\" endDate=\"2012-02-26 15:41:04\"/>\n \n-  <Report id=\"c3520ad9-179f-49e7-b315-d684d216dd97\" name=\"reconciliation\" active=\"1\" template_id=\"empty\"/>\n-  <Implementation id=\"ReconciliationReportletConf\" type=\"REPORTLET\" engine=\"JAVA\"\n-                  body='{\"_class\":\"org.apache.syncope.common.lib.report.ReconciliationReportletConf\",\"name\":\"dashboardReconciliationReportlet\",\"userMatchingCond\":null,\"groupMatchingCond\":null,\"anyObjectMatchingCond\":null,\"features\":[\"key\",\"username\",\"groupName\"]}'/>\n-  <ReportReportlet report_id=\"c3520ad9-179f-49e7-b315-d684d216dd97\" implementation_id=\"ReconciliationReportletConf\"/>\n-  \n   <SecurityQuestion id=\"887028ea-66fc-41e7-b397-620d7ea6dfbb\" content=\"What's your mother's maiden name?\"/>\n \n   <SRARoute id=\"ec7bada2-3dd6-460c-8441-65521d005ffa\" name=\"basic1\" target=\"http://httpbin.org:80\""},{"sha":"38f2b162f8051650acdff4a07467d9a54ac9b903","filename":"core/persistence-jpa/src/test/resources/domains/MasterKeymasterConfParams.json","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterKeymasterConfParams.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterKeymasterConfParams.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fpersistence-jpa%2Fsrc%2Ftest%2Fresources%2Fdomains%2FMasterKeymasterConfParams.json?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -13,6 +13,5 @@\n   \"return.password.value\": false,\n   \"jwt.lifetime.minutes\": 120,\n   \"connector.conf.history.size\": 10,\n-  \"resource.conf.history.size\": 10,\n-  \"tasks.interruptMaxRetries\": 1\n-}\n\\ No newline at end of file\n+  \"resource.conf.history.size\": 10\n+}"},{"sha":"2f5c789f17b5a1d6316d971b30cd9b13d3dddcce","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/ImplementationLookup.java","status":"renamed","additions":10,"deletions":9,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FImplementationLookup.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FImplementationLookup.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2FImplementationLookup.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -16,28 +16,29 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.persistence.api;\n+package org.apache.syncope.core.provisioning.api;\n \n import java.util.Set;\n import org.apache.syncope.common.lib.policy.AccountRuleConf;\n import org.apache.syncope.common.lib.policy.PasswordRuleConf;\n import org.apache.syncope.common.lib.policy.PullCorrelationRuleConf;\n import org.apache.syncope.common.lib.policy.PushCorrelationRuleConf;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.apache.syncope.core.persistence.api.dao.AccountRule;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRule;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.Reportlet;\n+import org.apache.syncope.common.lib.report.ReportConf;\n+import org.apache.syncope.core.persistence.api.SyncopeCoreLoader;\n+import org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate;\n+import org.apache.syncope.core.provisioning.api.rules.AccountRule;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRule;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRule;\n \n public interface ImplementationLookup extends SyncopeCoreLoader {\n \n     Set<String> getClassNames(String type);\n \n     Set<Class<?>> getJWTSSOProviderClasses();\n \n-    Class<? extends Reportlet> getReportletClass(\n-            Class<? extends ReportletConf> reportletConfClass);\n+    Class<? extends ReportJobDelegate> getReportClass(\n+            Class<? extends ReportConf> reportConfClass);\n \n     Class<? extends AccountRule> getAccountRuleClass(\n             Class<? extends AccountRuleConf> accountRuleConfClass);","previous_filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/ImplementationLookup.java"},{"sha":"b699780fa0fdaff35deb6bf195957bb7e9a949fd","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/job/JobManager.java","status":"modified","additions":13,"deletions":5,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fjob%2FJobManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fjob%2FJobManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fjob%2FJobManager.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -34,21 +34,29 @@ public interface JobManager {\n \n     String TASK_KEY = \"taskKey\";\n \n-    String REPORT_KEY = \"report\";\n+    String REPORT_KEY = \"reportKey\";\n \n     String DOMAIN_KEY = \"domain\";\n \n     String EXECUTOR_KEY = \"executor\";\n \n+    String DRY_RUN_JOBDETAIL_KEY = \"dryRun\";\n+\n+    String DELEGATE_IMPLEMENTATION = \"delegateImpl\";\n+\n     JobKey NOTIFICATION_JOB = new JobKey(\"notificationJob\", Scheduler.DEFAULT_GROUP);\n \n     boolean isRunning(JobKey jobKey) throws SchedulerException;\n \n-    Map<String, Object> register(SchedTask task, OffsetDateTime startAt, long interruptMaxRetries, String executor)\n-            throws SchedulerException;\n+    Map<String, Object> register(\n+            SchedTask task,\n+            OffsetDateTime startAt,\n+            String executor) throws SchedulerException;\n \n-    void register(Report report, OffsetDateTime startAt, long interruptMaxRetries, String executor)\n-            throws SchedulerException;\n+    Map<String, Object> register(\n+            Report report,\n+            OffsetDateTime startAt,\n+            String executor) throws SchedulerException;\n \n     void unregister(Task<?> task);\n "},{"sha":"ca143313d689a8b5e241eb04c33e1ea44f57f97d","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/job/report/ReportConfClass.java","status":"renamed","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fjob%2Freport%2FReportConfClass.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fjob%2Freport%2FReportConfClass.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fjob%2Freport%2FReportConfClass.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -16,17 +16,17 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.persistence.api.dao;\n+package org.apache.syncope.core.provisioning.api.job.report;\n \n import java.lang.annotation.ElementType;\n import java.lang.annotation.Retention;\n import java.lang.annotation.RetentionPolicy;\n import java.lang.annotation.Target;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n+import org.apache.syncope.common.lib.report.ReportConf;\n \n @Target({ ElementType.TYPE })\n @Retention(RetentionPolicy.RUNTIME)\n-public @interface ReportletConfClass {\n+public @interface ReportConfClass {\n \n-    Class<? extends ReportletConf> value();\n+    Class<? extends ReportConf> value();\n }","previous_filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/ReportletConfClass.java"},{"sha":"3687f0259a0bfe1d542f9f8ccaf2975eb3494747","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/job/report/ReportJobDelegate.java","status":"modified","additions":22,"deletions":1,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fjob%2Freport%2FReportJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fjob%2Freport%2FReportJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Fjob%2Freport%2FReportJobDelegate.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,10 +18,31 @@\n  */\n package org.apache.syncope.core.provisioning.api.job.report;\n \n+import org.apache.syncope.common.lib.report.ReportConf;\n import org.apache.syncope.core.provisioning.api.job.JobDelegate;\n+import org.quartz.JobExecutionContext;\n import org.quartz.JobExecutionException;\n \n public interface ReportJobDelegate extends JobDelegate {\n \n-    void execute(String reportKey, String executor) throws JobExecutionException;\n+    /**\n+     * Optional configuration.\n+     *\n+     * @param conf configuration\n+     */\n+    default void setConf(ReportConf conf) {\n+    }\n+\n+    /**\n+     * Executes a Quartz Job to run the given Report.\n+     *\n+     * @param reportKey Report key to run\n+     * @param dryRun indicates if execution shall be simulated with no actual changes\n+     * @param context Quartz' execution context, can be used to pass parameters to the job\n+     * @throws JobExecutionException if anything goes wrong\n+     */\n+    void execute(\n+            String reportKey,\n+            boolean dryRun,\n+            JobExecutionContext context) throws JobExecutionException;\n }"},{"sha":"4dfb32562e4d9f0f8e8faf07d6ab4791c7e3379c","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/AccountRule.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FAccountRule.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FAccountRule.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FAccountRule.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.persistence.api.dao;\n+package org.apache.syncope.core.provisioning.api.rules;\n \n import org.apache.syncope.common.lib.policy.AccountRuleConf;\n import org.apache.syncope.core.persistence.api.entity.user.LinkedAccount;","previous_filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/AccountRule.java"},{"sha":"5a48b55d2205582a7de26f6016e0e536d3264d79","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/AccountRuleConfClass.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FAccountRuleConfClass.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FAccountRuleConfClass.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FAccountRuleConfClass.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.persistence.api.dao;\n+package org.apache.syncope.core.provisioning.api.rules;\n \n import java.lang.annotation.ElementType;\n import java.lang.annotation.Retention;","previous_filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/AccountRuleConfClass.java"},{"sha":"823a08e78f1b8e21bf5de6e41999a4e321aef8f0","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/PasswordRule.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPasswordRule.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPasswordRule.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPasswordRule.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.persistence.api.dao;\n+package org.apache.syncope.core.provisioning.api.rules;\n \n import org.apache.syncope.common.lib.policy.PasswordRuleConf;\n import org.apache.syncope.core.persistence.api.entity.user.LinkedAccount;","previous_filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/PasswordRule.java"},{"sha":"44b34c1990a88992cf6495497897dca695a56350","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/PasswordRuleConfClass.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPasswordRuleConfClass.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPasswordRuleConfClass.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPasswordRuleConfClass.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.persistence.api.dao;\n+package org.apache.syncope.core.provisioning.api.rules;\n \n import java.lang.annotation.ElementType;\n import java.lang.annotation.Retention;","previous_filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/PasswordRuleConfClass.java"},{"sha":"c8a9c62b5bf74965221dd35fa59cf663f074eb88","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/PullCorrelationRule.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPullCorrelationRule.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPullCorrelationRule.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPullCorrelationRule.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.persistence.api.dao;\n+package org.apache.syncope.core.provisioning.api.rules;\n \n import java.util.Optional;\n import org.apache.syncope.common.lib.policy.PullCorrelationRuleConf;","previous_filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/PullCorrelationRule.java"},{"sha":"c94e4be664f108a053d5de934613d571679e1fa6","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/PullCorrelationRuleConfClass.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPullCorrelationRuleConfClass.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPullCorrelationRuleConfClass.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPullCorrelationRuleConfClass.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.persistence.api.dao;\n+package org.apache.syncope.core.provisioning.api.rules;\n \n import java.lang.annotation.ElementType;\n import java.lang.annotation.Retention;","previous_filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/PullCorrelationRuleConfClass.java"},{"sha":"e70c2eb5024aa6aad1b2f90e68c0038d92ecc392","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/PullMatch.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPullMatch.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPullMatch.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPullMatch.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.persistence.api.dao;\n+package org.apache.syncope.core.provisioning.api.rules;\n \n import java.io.Serializable;\n import org.apache.commons.lang3.builder.EqualsBuilder;","previous_filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/PullMatch.java"},{"sha":"0e95da670909dfcf515b645bc2181624e7f63f57","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/PushCorrelationRule.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPushCorrelationRule.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPushCorrelationRule.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPushCorrelationRule.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.persistence.api.dao;\n+package org.apache.syncope.core.provisioning.api.rules;\n \n import java.util.function.BiFunction;\n import org.apache.syncope.common.lib.policy.PushCorrelationRuleConf;","previous_filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/PushCorrelationRule.java"},{"sha":"29b583e040c0248aa0d5f01568ceb7aba684f6c1","filename":"core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/PushCorrelationRuleConfClass.java","status":"renamed","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPushCorrelationRuleConfClass.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPushCorrelationRuleConfClass.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fapi%2Frules%2FPushCorrelationRuleConfClass.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.persistence.api.dao;\n+package org.apache.syncope.core.provisioning.api.rules;\n \n import java.lang.annotation.ElementType;\n import java.lang.annotation.Retention;","previous_filename":"core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/PushCorrelationRuleConfClass.java"},{"sha":"988b50848b2f87d380a1023b755389ccbb8ff890","filename":"core/provisioning-java/pom.xml","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fpom.xml?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -67,6 +67,10 @@ under the License.\n       <groupId>com.fasterxml.jackson.dataformat</groupId>\n       <artifactId>jackson-dataformat-csv</artifactId>\n     </dependency>\n+    <dependency>\n+      <groupId>org.apache.pdfbox</groupId>\n+      <artifactId>pdfbox</artifactId>\n+    </dependency>\n \n     <dependency>\n       <groupId>org.apache.groovy</groupId>"},{"sha":"9e22085281fa6fd257d35a21527a09d3e6828902","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/ProvisioningContext.java","status":"modified","additions":1,"deletions":17,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FProvisioningContext.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FProvisioningContext.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FProvisioningContext.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -54,7 +54,6 @@\n import org.apache.syncope.core.persistence.api.dao.RelationshipTypeDAO;\n import org.apache.syncope.core.persistence.api.dao.ReportDAO;\n import org.apache.syncope.core.persistence.api.dao.ReportExecDAO;\n-import org.apache.syncope.core.persistence.api.dao.ReportTemplateDAO;\n import org.apache.syncope.core.persistence.api.dao.RoleDAO;\n import org.apache.syncope.core.persistence.api.dao.SecurityQuestionDAO;\n import org.apache.syncope.core.persistence.api.dao.TaskDAO;\n@@ -112,7 +111,6 @@\n import org.apache.syncope.core.provisioning.api.data.WAConfigDataBinder;\n import org.apache.syncope.core.provisioning.api.data.wa.WAClientAppDataBinder;\n import org.apache.syncope.core.provisioning.api.job.JobManager;\n-import org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate;\n import org.apache.syncope.core.provisioning.api.notification.NotificationJobDelegate;\n import org.apache.syncope.core.provisioning.api.notification.NotificationManager;\n import org.apache.syncope.core.provisioning.api.propagation.PropagationManager;\n@@ -159,7 +157,6 @@\n import org.apache.syncope.core.provisioning.java.job.SystemLoadReporterJob;\n import org.apache.syncope.core.provisioning.java.job.notification.DefaultNotificationJobDelegate;\n import org.apache.syncope.core.provisioning.java.job.notification.NotificationJob;\n-import org.apache.syncope.core.provisioning.java.job.report.DefaultReportJobDelegate;\n import org.apache.syncope.core.provisioning.java.notification.DefaultNotificationManager;\n import org.apache.syncope.core.provisioning.java.propagation.DefaultPropagationManager;\n import org.apache.syncope.core.provisioning.java.propagation.PriorityPropagationTaskExecutor;\n@@ -733,18 +730,6 @@ public NotificationJob notificationJob(\n         return new NotificationJob(securityProperties, domainHolder, delegate);\n     }\n \n-    @ConditionalOnMissingBean\n-    @Bean\n-    public ReportJobDelegate reportJobDelegate(\n-            final ReportDAO reportDAO,\n-            final ReportExecDAO reportExecDAO,\n-            final EntityFactory entityFactory,\n-            final ReportDataBinder reportDataBinder,\n-            final ApplicationEventPublisher publisher) {\n-\n-        return new DefaultReportJobDelegate(reportDAO, reportExecDAO, entityFactory, reportDataBinder, publisher);\n-    }\n-\n     @ConditionalOnMissingBean\n     @Bean\n     public AccessTokenDataBinder accessTokenDataBinder(\n@@ -1046,12 +1031,11 @@ public RemediationDataBinder remediationDataBinder() {\n     @ConditionalOnMissingBean\n     @Bean\n     public ReportDataBinder reportDataBinder(\n-            final ReportTemplateDAO reportTemplateDAO,\n             final ReportExecDAO reportExecDAO,\n             final ImplementationDAO implementationDAO,\n             final SchedulerFactoryBean scheduler) {\n \n-        return new ReportDataBinderImpl(reportTemplateDAO, reportExecDAO, implementationDAO, scheduler);\n+        return new ReportDataBinderImpl(reportExecDAO, implementationDAO, scheduler);\n     }\n \n     @ConditionalOnMissingBean"},{"sha":"b92d98ebc84bc8ed9c3c1dab672c8d60783a06a6","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/data/ImplementationDataBinderImpl.java","status":"modified","additions":5,"deletions":5,"changes":10,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FImplementationDataBinderImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FImplementationDataBinderImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FImplementationDataBinderImpl.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -23,7 +23,7 @@\n import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.common.lib.SyncopeClientException;\n import org.apache.syncope.common.lib.policy.RuleConf;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n+import org.apache.syncope.common.lib.report.ReportConf;\n import org.apache.syncope.common.lib.to.ImplementationTO;\n import org.apache.syncope.common.lib.types.ClientExceptionType;\n import org.apache.syncope.common.lib.types.IdMImplementationType;\n@@ -93,10 +93,10 @@ public void update(final Implementation implementation, final ImplementationTO i\n             }\n \n             switch (implementation.getType()) {\n-                case IdRepoImplementationType.REPORTLET:\n-                    ReportletConf reportlet = POJOHelper.deserialize(implementation.getBody(), ReportletConf.class);\n-                    if (reportlet == null) {\n-                        sce.getElements().add(\"Could not deserialize as ReportletConf\");\n+                case IdRepoImplementationType.REPORT_DELEGATE:\n+                    ReportConf conf = POJOHelper.deserialize(implementation.getBody(), ReportConf.class);\n+                    if (conf == null) {\n+                        sce.getElements().add(\"Could not deserialize as \" + ReportConf.class.getName());\n                         throw sce;\n                     }\n                     break;"},{"sha":"e6c12741f022ca7b7613970b5030ac75003a7639","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/data/ReportDataBinderImpl.java","status":"modified","additions":11,"deletions":26,"changes":37,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FReportDataBinderImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FReportDataBinderImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fdata%2FReportDataBinderImpl.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -24,14 +24,13 @@\n import org.apache.syncope.common.lib.to.ExecTO;\n import org.apache.syncope.common.lib.to.ReportTO;\n import org.apache.syncope.common.lib.types.ClientExceptionType;\n+import org.apache.syncope.common.lib.types.IdRepoImplementationType;\n import org.apache.syncope.common.lib.types.JobType;\n import org.apache.syncope.core.persistence.api.dao.ImplementationDAO;\n import org.apache.syncope.core.persistence.api.dao.ReportExecDAO;\n-import org.apache.syncope.core.persistence.api.dao.ReportTemplateDAO;\n import org.apache.syncope.core.persistence.api.entity.Implementation;\n import org.apache.syncope.core.persistence.api.entity.Report;\n import org.apache.syncope.core.persistence.api.entity.ReportExec;\n-import org.apache.syncope.core.persistence.api.entity.ReportTemplate;\n import org.apache.syncope.core.provisioning.api.data.ReportDataBinder;\n import org.apache.syncope.core.provisioning.api.job.JobNamer;\n import org.quartz.Scheduler;\n@@ -46,21 +45,17 @@ public class ReportDataBinderImpl extends AbstractExecutableDatabinder implement\n \n     protected static final Logger LOG = LoggerFactory.getLogger(ReportDataBinder.class);\n \n-    protected final ReportTemplateDAO reportTemplateDAO;\n-\n     protected final ReportExecDAO reportExecDAO;\n \n     protected final ImplementationDAO implementationDAO;\n \n     protected final SchedulerFactoryBean scheduler;\n \n     public ReportDataBinderImpl(\n-            final ReportTemplateDAO reportTemplateDAO,\n             final ReportExecDAO reportExecDAO,\n             final ImplementationDAO implementationDAO,\n             final SchedulerFactoryBean scheduler) {\n \n-        this.reportTemplateDAO = reportTemplateDAO;\n         this.reportExecDAO = reportExecDAO;\n         this.implementationDAO = implementationDAO;\n         this.scheduler = scheduler;\n@@ -69,41 +64,31 @@ public ReportDataBinderImpl(\n     @Override\n     public void getReport(final Report report, final ReportTO reportTO) {\n         report.setName(reportTO.getName());\n+        report.setMimeType(reportTO.getMimeType());\n+        report.setFileExt(reportTO.getFileExt());\n         report.setCronExpression(reportTO.getCronExpression());\n         report.setActive(reportTO.isActive());\n \n-        ReportTemplate template = reportTemplateDAO.find(reportTO.getTemplate());\n-        if (template == null) {\n-            SyncopeClientException sce = SyncopeClientException.build(ClientExceptionType.RequiredValuesMissing);\n-            sce.getElements().add(\"template\");\n+        Implementation jobDelegate = implementationDAO.find(reportTO.getJobDelegate());\n+        if (jobDelegate == null || !IdRepoImplementationType.REPORT_DELEGATE.equals(jobDelegate.getType())) {\n+            SyncopeClientException sce = SyncopeClientException.build(ClientExceptionType.InvalidImplementation);\n+            sce.getElements().add(\"Null or invalid JobDelegate, expected \" + IdRepoImplementationType.REPORT_DELEGATE);\n             throw sce;\n         }\n-        report.setTemplate(template);\n-\n-        reportTO.getReportlets().forEach(reportletKey -> {\n-            Implementation reportlet = implementationDAO.find(reportletKey);\n-            if (reportlet == null) {\n-                LOG.debug(\"Invalid \" + Implementation.class.getSimpleName() + \" {}, ignoring...\", reportletKey);\n-            } else {\n-                report.add(reportlet);\n-            }\n-        });\n-        // remove all implementations not contained in the TO\n-        report.getReportlets().removeIf(reportlet -> !reportTO.getReportlets().contains(reportlet.getKey()));\n+        report.setJobDelegate(jobDelegate);\n     }\n \n     @Override\n     public ReportTO getReportTO(final Report report) {\n         ReportTO reportTO = new ReportTO();\n         reportTO.setKey(report.getKey());\n-        reportTO.setTemplate(report.getTemplate().getKey());\n         reportTO.setName(report.getName());\n+        reportTO.setMimeType(report.getMimeType());\n+        reportTO.setFileExt(report.getFileExt());\n         reportTO.setCronExpression(report.getCronExpression());\n+        reportTO.setJobDelegate(report.getJobDelegate().getKey());\n         reportTO.setActive(report.isActive());\n \n-        reportTO.getReportlets().addAll(\n-                report.getReportlets().stream().map(Implementation::getKey).collect(Collectors.toList()));\n-\n         ReportExec latestExec = reportExecDAO.findLatestStarted(report);\n         if (latestExec == null) {\n             reportTO.setLatestExecStatus(StringUtils.EMPTY);"},{"sha":"99ac1490de40e541fea9c9819888d841a08b50cd","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/AbstractSchedTaskJobDelegate.java","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FAbstractSchedTaskJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FAbstractSchedTaskJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FAbstractSchedTaskJobDelegate.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -51,7 +51,7 @@\n     protected static final Logger LOG = LoggerFactory.getLogger(SchedTaskJobDelegate.class);\n \n     @Autowired\n-    private SecurityProperties securityProperties;\n+    protected SecurityProperties securityProperties;\n \n     protected TaskType taskType;\n \n@@ -154,6 +154,7 @@ public void execute(\n         try {\n             execution.setMessage(doExecute(dryRun, executor, context));\n             execution.setStatus(TaskJob.Status.SUCCESS.name());\n+\n             result = AuditElements.Result.SUCCESS;\n         } catch (JobExecutionException e) {\n             LOG.error(\"While executing task {}\", taskKey, e);"},{"sha":"c467151fb5d07d0222694b8b07bc13ab6c0b8a99","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/DefaultJobManager.java","status":"modified","additions":18,"deletions":24,"changes":42,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FDefaultJobManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FDefaultJobManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FDefaultJobManager.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -32,7 +32,6 @@\n import java.util.Set;\n import javax.sql.DataSource;\n import org.apache.commons.lang3.StringUtils;\n-import org.apache.commons.lang3.tuple.Pair;\n import org.apache.syncope.common.keymaster.client.api.ConfParamOps;\n import org.apache.syncope.common.lib.SyncopeConstants;\n import org.apache.syncope.common.lib.types.IdRepoImplementationType;\n@@ -208,9 +207,7 @@ protected void registerJob(\n     public Map<String, Object> register(\n             final SchedTask task,\n             final OffsetDateTime startAt,\n-            final long interruptMaxRetries,\n-            final String executor)\n-            throws SchedulerException {\n+            final String executor) throws SchedulerException {\n \n         Implementation jobDelegate = task.getJobDelegate() == null\n                 ? task instanceof PullTask\n@@ -231,7 +228,7 @@ public Map<String, Object> register(\n         Map<String, Object> jobMap = createJobMapForExecutionContext(executor);\n         jobMap.put(JobManager.TASK_TYPE, taskUtilsFactory.getInstance(task).getType());\n         jobMap.put(JobManager.TASK_KEY, task.getKey());\n-        jobMap.put(TaskJob.DELEGATE_IMPLEMENTATION, jobDelegate.getKey());\n+        jobMap.put(JobManager.DELEGATE_IMPLEMENTATION, jobDelegate.getKey());\n \n         registerJob(\n                 JobNamer.getJobKey(task).getName(),\n@@ -243,21 +240,22 @@ public Map<String, Object> register(\n     }\n \n     @Override\n-    public void register(\n+    public Map<String, Object> register(\n             final Report report,\n             final OffsetDateTime startAt,\n-            final long interruptMaxRetries,\n             final String executor) throws SchedulerException {\n \n         Map<String, Object> jobMap = createJobMapForExecutionContext(executor);\n         jobMap.put(JobManager.REPORT_KEY, report.getKey());\n+        jobMap.put(JobManager.DELEGATE_IMPLEMENTATION, report.getJobDelegate().getKey());\n \n         registerJob(\n                 JobNamer.getJobKey(report).getName(),\n                 ReportJob.class,\n                 report.getCronExpression(),\n                 Optional.ofNullable(startAt).map(s -> new Date(s.toInstant().toEpochMilli())).orElse(null),\n                 jobMap);\n+        return jobMap;\n     }\n \n     protected Map<String, Object> createJobMapForExecutionContext(final String executor) {\n@@ -308,21 +306,17 @@ public void load(final String domain, final DataSource datasource) {\n             return;\n         }\n \n-        Pair<String, Long> conf = AuthContextUtils.callAsAdmin(SyncopeConstants.MASTER_DOMAIN, () -> {\n-            String notificationJobCronExpression = StringUtils.EMPTY;\n+        String notificationJobCronExp = AuthContextUtils.callAsAdmin(SyncopeConstants.MASTER_DOMAIN, () -> {\n+            String result = StringUtils.EMPTY;\n \n-            String notificationJobCronExp = confParamOps.get(\n+            String conf = confParamOps.get(\n                     SyncopeConstants.MASTER_DOMAIN, \"notificationjob.cronExpression\", null, String.class);\n-            if (notificationJobCronExp == null) {\n-                notificationJobCronExpression = NotificationJob.DEFAULT_CRON_EXP;\n-            } else if (!StringUtils.EMPTY.equals(notificationJobCronExp)) {\n-                notificationJobCronExpression = notificationJobCronExp;\n+            if (conf == null) {\n+                result = NotificationJob.DEFAULT_CRON_EXP;\n+            } else if (!StringUtils.EMPTY.equals(conf)) {\n+                result = conf;\n             }\n-\n-            long interruptMaxRetries = confParamOps.get(\n-                    SyncopeConstants.MASTER_DOMAIN, \"tasks.interruptMaxRetries\", 1L, Long.class);\n-\n-            return Pair.of(notificationJobCronExpression, interruptMaxRetries);\n+            return result;\n         });\n \n         AuthContextUtils.callAsAdmin(domain, () -> {\n@@ -335,7 +329,7 @@ public void load(final String domain, final DataSource datasource) {\n             for (Iterator<SchedTask> it = tasks.iterator(); it.hasNext() && !loadException;) {\n                 SchedTask task = it.next();\n                 try {\n-                    register(task, task.getStartAt(), conf.getRight(), securityProperties.getAdminUser());\n+                    register(task, task.getStartAt(), securityProperties.getAdminUser());\n                 } catch (Exception e) {\n                     LOG.error(\"While loading job instance for task \" + task.getKey(), e);\n                     loadException = true;\n@@ -349,7 +343,7 @@ public void load(final String domain, final DataSource datasource) {\n                 for (Iterator<Report> it = reportDAO.findAll().iterator(); it.hasNext() && !loadException;) {\n                     Report report = it.next();\n                     try {\n-                        register(report, null, conf.getRight(), securityProperties.getAdminUser());\n+                        register(report, null, securityProperties.getAdminUser());\n                     } catch (Exception e) {\n                         LOG.error(\"While loading job instance for report \" + report.getName(), e);\n                         loadException = true;\n@@ -366,19 +360,19 @@ public void load(final String domain, final DataSource datasource) {\n \n         if (SyncopeConstants.MASTER_DOMAIN.equals(domain)) {\n             // 3. NotificationJob\n-            if (StringUtils.isBlank(conf.getLeft())) {\n+            if (StringUtils.isBlank(notificationJobCronExp)) {\n                 LOG.debug(\"Empty value provided for {}'s cron, not registering anything on Quartz\",\n                         NotificationJob.class.getSimpleName());\n             } else {\n                 LOG.debug(\"{}'s cron expression: {} - registering Quartz job and trigger\",\n-                        NotificationJob.class.getSimpleName(), conf.getLeft());\n+                        NotificationJob.class.getSimpleName(), notificationJobCronExp);\n \n                 try {\n                     Map<String, Object> jobData = createJobMapForExecutionContext(securityProperties.getAdminUser());\n                     registerJob(\n                             NOTIFICATION_JOB.getName(),\n                             NotificationJob.class,\n-                            conf.getLeft(),\n+                            notificationJobCronExp,\n                             null,\n                             jobData);\n                 } catch (Exception e) {"},{"sha":"aee29b19090e882b64beb0e7a29c0db3f2206edd","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/SyncopeSpringBeanJobFactory.java","status":"modified","additions":0,"deletions":17,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FSyncopeSpringBeanJobFactory.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FSyncopeSpringBeanJobFactory.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FSyncopeSpringBeanJobFactory.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,10 +18,6 @@\n  */\n package org.apache.syncope.core.provisioning.java.job;\n \n-import java.util.Optional;\n-import org.apache.syncope.common.lib.types.TaskType;\n-import org.apache.syncope.core.provisioning.api.job.JobManager;\n-import org.apache.syncope.core.provisioning.java.job.report.ReportJob;\n import org.apache.syncope.core.spring.ApplicationContextProvider;\n import org.quartz.spi.TriggerFiredBundle;\n import org.slf4j.Logger;\n@@ -37,19 +33,6 @@ public class SyncopeSpringBeanJobFactory extends SpringBeanJobFactory {\n     protected Object createJobInstance(final TriggerFiredBundle bundle) throws Exception {\n         Object job = super.createJobInstance(bundle);\n \n-        if (bundle.getJobDetail().getJobDataMap() != null) {\n-            if (job instanceof ReportJob) {\n-                Optional.ofNullable(bundle.getJobDetail().getJobDataMap().getString(JobManager.REPORT_KEY)).\n-                        ifPresent(((ReportJob) job)::setReportKey);\n-            } else if (job instanceof TaskJob) {\n-                TaskType taskType = (TaskType) bundle.getJobDetail().getJobDataMap().get(JobManager.TASK_TYPE);\n-                String taskKey = bundle.getJobDetail().getJobDataMap().getString(JobManager.TASK_KEY);\n-                if (taskType != null && taskKey != null) {\n-                    ((TaskJob) job).setTaskInfo(taskType, taskKey);\n-                }\n-            }\n-        }\n-\n         DefaultListableBeanFactory factory = ApplicationContextProvider.getBeanFactory();\n         try {\n             if (factory.containsSingleton(bundle.getJobDetail().getKey().getName())) {"},{"sha":"f94418de583fb39535b45abfbd586a5dfa09a3b0","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/TaskJob.java","status":"modified","additions":8,"deletions":29,"changes":37,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FTaskJob.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FTaskJob.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2FTaskJob.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -38,10 +38,6 @@ public class TaskJob extends AbstractInterruptableJob {\n \n     private static final Logger LOG = LoggerFactory.getLogger(TaskJob.class);\n \n-    public static final String DRY_RUN_JOBDETAIL_KEY = \"dryRun\";\n-\n-    public static final String DELEGATE_IMPLEMENTATION = \"delegateImpl\";\n-\n     /**\n      * Task execution status.\n      */\n@@ -55,51 +51,34 @@ public enum Status {\n     @Autowired\n     private DomainHolder domainHolder;\n \n-    private TaskType taskType;\n-\n-    /**\n-     * Key, set by the caller, for identifying the task to be executed.\n-     */\n-    private String taskKey;\n-\n     private SchedTaskJobDelegate delegate;\n \n-    /**\n-     * Task info setter.\n-     *\n-     * @param taskType task type\n-     * @param taskKey task key\n-     */\n-    public void setTaskInfo(final TaskType taskType, final String taskKey) {\n-        this.taskType = taskType;\n-        this.taskKey = taskKey;\n-    }\n-\n     @Override\n     public JobDelegate getDelegate() {\n         return delegate;\n     }\n \n     @Override\n     public void execute(final JobExecutionContext context) throws JobExecutionException {\n+        String taskKey = context.getMergedJobDataMap().getString(JobManager.TASK_KEY);\n         try {\n             String domain = context.getMergedJobDataMap().getString(JobManager.DOMAIN_KEY);\n             if (domainHolder.getDomains().containsKey(domain)) {\n                 AuthContextUtils.callAsAdmin(domain, () -> {\n                     try {\n                         ImplementationDAO implementationDAO =\n                                 ApplicationContextProvider.getApplicationContext().getBean(ImplementationDAO.class);\n-                        Implementation implementation = implementationDAO.find(\n-                                context.getMergedJobDataMap().getString(DELEGATE_IMPLEMENTATION));\n-                        if (implementation == null) {\n+                        Implementation impl = implementationDAO.find(\n+                                context.getMergedJobDataMap().getString(JobManager.DELEGATE_IMPLEMENTATION));\n+                        if (impl == null) {\n                             LOG.error(\"Could not find Implementation '{}', aborting\",\n-                                    context.getMergedJobDataMap().getString(DELEGATE_IMPLEMENTATION));\n+                                    context.getMergedJobDataMap().getString(JobManager.DELEGATE_IMPLEMENTATION));\n                         } else {\n-                            delegate = ImplementationManager.build(implementation);\n+                            delegate = ImplementationManager.build(impl);\n                             delegate.execute(\n-                                    taskType,\n+                                    (TaskType) context.getMergedJobDataMap().get(JobManager.TASK_TYPE),\n                                     taskKey,\n-                                    context.getMergedJobDataMap().getBoolean(DRY_RUN_JOBDETAIL_KEY),\n+                                    context.getMergedJobDataMap().getBoolean(JobManager.DRY_RUN_JOBDETAIL_KEY),\n                                     context);\n                         }\n                     } catch (Exception e) {"},{"sha":"78b489283dfd36ce2f19d047238614ef6369d6a6","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/AbstractReportJobDelegate.java","status":"added","additions":221,"deletions":0,"changes":221,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FAbstractReportJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FAbstractReportJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FAbstractReportJobDelegate.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -0,0 +1,221 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.core.provisioning.java.job.report;\n+\n+import java.io.ByteArrayOutputStream;\n+import java.io.IOException;\n+import java.io.OutputStream;\n+import java.time.OffsetDateTime;\n+import java.util.Objects;\n+import java.util.Optional;\n+import java.util.zip.Deflater;\n+import java.util.zip.ZipEntry;\n+import java.util.zip.ZipOutputStream;\n+import org.apache.syncope.common.lib.report.ReportConf;\n+import org.apache.syncope.common.lib.types.AuditElements;\n+import org.apache.syncope.core.persistence.api.dao.ReportDAO;\n+import org.apache.syncope.core.persistence.api.entity.EntityFactory;\n+import org.apache.syncope.core.persistence.api.entity.Report;\n+import org.apache.syncope.core.persistence.api.entity.ReportExec;\n+import org.apache.syncope.core.provisioning.api.AuditManager;\n+import org.apache.syncope.core.provisioning.api.data.ReportDataBinder;\n+import org.apache.syncope.core.provisioning.api.event.JobStatusEvent;\n+import org.apache.syncope.core.provisioning.api.job.JobManager;\n+import org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate;\n+import org.apache.syncope.core.provisioning.api.notification.NotificationManager;\n+import org.apache.syncope.core.provisioning.api.utils.ExceptionUtils2;\n+import org.apache.syncope.core.spring.security.SecurityProperties;\n+import org.quartz.JobExecutionContext;\n+import org.quartz.JobExecutionException;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.context.ApplicationEventPublisher;\n+import org.springframework.transaction.annotation.Transactional;\n+\n+public abstract class AbstractReportJobDelegate implements ReportJobDelegate {\n+\n+    protected static final Logger LOG = LoggerFactory.getLogger(ReportJobDelegate.class);\n+\n+    @Autowired\n+    protected SecurityProperties securityProperties;\n+\n+    /**\n+     * The actual report to be executed.\n+     */\n+    protected Report report;\n+\n+    protected ReportConf conf;\n+\n+    /**\n+     * Report DAO.\n+     */\n+    @Autowired\n+    protected ReportDAO reportDAO;\n+\n+    @Autowired\n+    protected EntityFactory entityFactory;\n+\n+    @Autowired\n+    protected ReportDataBinder reportDataBinder;\n+\n+    /**\n+     * Notification manager.\n+     */\n+    @Autowired\n+    protected NotificationManager notificationManager;\n+\n+    /**\n+     * Audit manager.\n+     */\n+    @Autowired\n+    protected AuditManager auditManager;\n+\n+    @Autowired\n+    protected ApplicationEventPublisher publisher;\n+\n+    protected boolean interrupt;\n+\n+    protected boolean interrupted;\n+\n+    @Override\n+    public void setConf(final ReportConf conf) {\n+        this.conf = conf;\n+    }\n+\n+    protected void setStatus(final String status) {\n+        Objects.requireNonNull(report, \"Report cannot be undefined\");\n+        publisher.publishEvent(new JobStatusEvent(this, reportDataBinder.buildRefDesc(report), status));\n+    }\n+\n+    @Override\n+    public void interrupt() {\n+        interrupt = true;\n+    }\n+\n+    @Override\n+    public boolean isInterrupted() {\n+        return interrupted;\n+    }\n+\n+    @Transactional\n+    @Override\n+    public void execute(\n+            final String reportKey,\n+            final boolean dryRun,\n+            final JobExecutionContext context) throws JobExecutionException {\n+\n+        report = reportDAO.find(reportKey);\n+        if (report == null) {\n+            throw new JobExecutionException(\"Report \" + reportKey + \" not found\");\n+        }\n+\n+        if (!report.isActive()) {\n+            LOG.info(\"Report {} not active, aborting...\", reportKey);\n+            return;\n+        }\n+\n+        String executor = Optional.ofNullable(context.getMergedJobDataMap().getString(JobManager.EXECUTOR_KEY)).\n+                orElse(securityProperties.getAdminUser());\n+        ReportExec execution = entityFactory.newEntity(ReportExec.class);\n+        execution.setStart(OffsetDateTime.now());\n+        execution.setReport(report);\n+        execution.setExecutor(executor);\n+\n+        setStatus(\"Initialization completed\");\n+\n+        AuditElements.Result result;\n+\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ZipOutputStream zos = new ZipOutputStream(baos);\n+        zos.setLevel(Deflater.BEST_COMPRESSION);\n+        try {\n+            // a single ZipEntry in the ZipOutputStream\n+            zos.putNextEntry(new ZipEntry(report.getName()));\n+        } catch (IOException e) {\n+            throw new JobExecutionException(\"While configuring for output\", e, true);\n+        }\n+\n+        setStatus(\"Starting\");\n+        try {\n+            execution.setMessage(doExecute(dryRun, zos, executor, context));\n+            execution.setStatus(ReportJob.Status.SUCCESS.name());\n+\n+            result = AuditElements.Result.SUCCESS;\n+        } catch (JobExecutionException e) {\n+            LOG.error(\"While executing report {}\", reportKey, e);\n+            result = AuditElements.Result.FAILURE;\n+\n+            execution.setMessage(ExceptionUtils2.getFullStackTrace(e));\n+            execution.setStatus(ReportJob.Status.FAILURE.name());\n+        } finally {\n+            setStatus(null);\n+\n+            try {\n+                zos.closeEntry();\n+                zos.close();\n+            } catch (IOException e) {\n+                LOG.error(\"While closing output\", e);\n+            }\n+        }\n+        if (result == AuditElements.Result.SUCCESS) {\n+            execution.setExecResult(baos.toByteArray());\n+        }\n+        execution.setEnd(OffsetDateTime.now());\n+\n+        report.add(execution);\n+        report = reportDAO.save(report);\n+\n+        setStatus(null);\n+\n+        notificationManager.createTasks(\n+                executor,\n+                AuditElements.EventCategoryType.REPORT,\n+                this.getClass().getSimpleName(),\n+                null,\n+                this.getClass().getSimpleName(), // searching for before object is too much expensive ...\n+                result,\n+                report,\n+                execution);\n+\n+        auditManager.audit(\n+                executor,\n+                AuditElements.EventCategoryType.REPORT,\n+                report.getClass().getSimpleName(),\n+                null,\n+                null, // searching for before object is too much expensive ...\n+                result,\n+                report,\n+                null);\n+    }\n+\n+    /**\n+     * The actual execution, delegated to child classes.\n+     *\n+     * @param dryRun whether to actually touch the data\n+     * @param os where to stream report execution's data\n+     * @param executor the user executing this report\n+     * @param context Quartz' execution context, can be used to pass parameters to the job\n+     * @return the report execution status to be set\n+     * @throws JobExecutionException if anything goes wrong\n+     */\n+    protected abstract String doExecute(\n+            boolean dryRun, OutputStream os, String executor, JobExecutionContext context)\n+            throws JobExecutionException;\n+}"},{"sha":"f95ea5210201b48fcc9b6d227a737652032b0122","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/AbstractReportlet.java","status":"removed","additions":0,"deletions":66,"changes":66,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FAbstractReportlet.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FAbstractReportlet.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FAbstractReportlet.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,66 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.provisioning.java.job.report;\n-\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.apache.syncope.core.persistence.api.dao.Reportlet;\n-import org.apache.syncope.core.provisioning.api.event.JobStatusEvent;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n-import org.springframework.beans.factory.annotation.Autowired;\n-import org.springframework.context.ApplicationEventPublisher;\n-import org.springframework.transaction.annotation.Transactional;\n-import org.xml.sax.ContentHandler;\n-import org.xml.sax.SAXException;\n-import org.xml.sax.helpers.AttributesImpl;\n-\n-public abstract class AbstractReportlet implements Reportlet {\n-\n-    protected static final Logger LOG = LoggerFactory.getLogger(AbstractReportlet.class);\n-\n-    @Autowired\n-    protected ApplicationEventPublisher publisher;\n-\n-    protected ReportletConf conf;\n-\n-    @Override\n-    public void setConf(final ReportletConf conf) {\n-        this.conf = conf;\n-    }\n-\n-    protected void setStatus(final String refDesc, final String status) {\n-        publisher.publishEvent(new JobStatusEvent(this, refDesc, status));\n-    }\n-\n-    protected abstract void doExtract(ReportletConf conf, ContentHandler handler, String refDesc)\n-            throws SAXException;\n-\n-    @Override\n-    @Transactional(readOnly = true)\n-    public void extract(final ContentHandler handler, final String refDesc) throws SAXException {\n-        AttributesImpl atts = new AttributesImpl();\n-        atts.addAttribute(\"\", \"\", ReportXMLConst.ATTR_NAME, ReportXMLConst.XSD_STRING, conf.getName());\n-        atts.addAttribute(\"\", \"\", ReportXMLConst.ATTR_CLASS, ReportXMLConst.XSD_STRING, getClass().getName());\n-        handler.startElement(\"\", \"\", ReportXMLConst.ELEMENT_REPORTLET, atts);\n-\n-        doExtract(conf, handler, refDesc);\n-\n-        handler.endElement(\"\", \"\", ReportXMLConst.ELEMENT_REPORTLET);\n-    }\n-}"},{"sha":"b605bdd99465885a826a2a489d5a178609519686","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/AuditReportlet.java","status":"removed","additions":0,"deletions":149,"changes":149,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FAuditReportlet.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FAuditReportlet.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FAuditReportlet.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,149 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.provisioning.java.job.report;\n-\n-import java.util.List;\n-import java.util.Map;\n-import javax.sql.DataSource;\n-import org.apache.commons.lang3.StringUtils;\n-import org.apache.syncope.common.lib.audit.AuditEntry;\n-import org.apache.syncope.common.lib.report.AuditReportletConf;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.apache.syncope.core.persistence.api.DomainHolder;\n-import org.apache.syncope.core.persistence.api.dao.AuditConfDAO;\n-import org.apache.syncope.core.persistence.api.dao.ReportletConfClass;\n-import org.apache.syncope.core.provisioning.api.serialization.POJOHelper;\n-import org.apache.syncope.core.spring.security.AuthContextUtils;\n-import org.springframework.beans.factory.annotation.Autowired;\n-import org.springframework.jdbc.core.JdbcTemplate;\n-import org.xml.sax.ContentHandler;\n-import org.xml.sax.SAXException;\n-import org.xml.sax.helpers.AttributesImpl;\n-\n-@ReportletConfClass(AuditReportletConf.class)\n-public class AuditReportlet extends AbstractReportlet {\n-\n-    @Autowired\n-    private DomainHolder domainHolder;\n-\n-    private AuditReportletConf conf;\n-\n-    private DataSource datasource;\n-\n-    private void doExtractConf(final ContentHandler handler, final String refDesc) throws SAXException {\n-        setStatus(\n-                refDesc,\n-                \"Fetching \" + conf.getSize() + \" rows from the \" + AuditConfDAO.AUDIT_ENTRY_TABLE + \" table\");\n-\n-        JdbcTemplate jdbcTemplate = new JdbcTemplate(datasource);\n-        jdbcTemplate.setMaxRows(conf.getSize());\n-        List<Map<String, Object>> rows = jdbcTemplate.\n-                queryForList(\"SELECT * FROM \" + AuditConfDAO.AUDIT_ENTRY_TABLE + \" ORDER BY EVENT_DATE DESC\");\n-\n-        handler.startElement(\"\", \"\", \"events\", null);\n-        AttributesImpl atts = new AttributesImpl();\n-        for (Map<String, Object> row : rows) {\n-            AuditEntry auditEntry = POJOHelper.deserialize(row.get(\"MESSAGE\").toString(), AuditEntry.class);\n-\n-            atts.clear();\n-            if (StringUtils.isNotBlank(auditEntry.getWho())) {\n-                atts.addAttribute(\"\", \"\", \"who\", ReportXMLConst.XSD_STRING, auditEntry.getWho());\n-            }\n-            handler.startElement(\"\", \"\", \"event\", atts);\n-\n-            atts.clear();\n-            if (StringUtils.isNotBlank(auditEntry.getLogger().getCategory())) {\n-                atts.addAttribute(\"\", \"\", \"category\",\n-                        ReportXMLConst.XSD_STRING, auditEntry.getLogger().getCategory());\n-            }\n-            if (StringUtils.isNotBlank(auditEntry.getLogger().getSubcategory())) {\n-                atts.addAttribute(\"\", \"\", \"subcategory\",\n-                        ReportXMLConst.XSD_STRING, auditEntry.getLogger().getSubcategory());\n-            }\n-            if (StringUtils.isNotBlank(auditEntry.getLogger().getEvent())) {\n-                atts.addAttribute(\"\", \"\", \"event\",\n-                        ReportXMLConst.XSD_STRING, auditEntry.getLogger().getEvent());\n-            }\n-            if (auditEntry.getLogger().getResult() != null) {\n-                atts.addAttribute(\"\", \"\", \"result\",\n-                        ReportXMLConst.XSD_STRING, auditEntry.getLogger().getResult().name());\n-            }\n-            handler.startElement(\"\", \"\", \"logger\", atts);\n-            handler.endElement(\"\", \"\", \"logger\");\n-\n-            if (auditEntry.getBefore() != null) {\n-                char[] before = POJOHelper.serialize(auditEntry.getBefore()).toCharArray();\n-                handler.startElement(\"\", \"\", \"before\", null);\n-                handler.characters(before, 0, before.length);\n-                handler.endElement(\"\", \"\", \"before\");\n-            }\n-\n-            if (!auditEntry.getInputs().isEmpty()) {\n-                handler.startElement(\"\", \"\", \"inputs\", null);\n-                for (String input : auditEntry.getInputs()) {\n-                    handler.startElement(\"\", \"\", \"input\", null);\n-                    handler.characters(input.toCharArray(), 0, input.length());\n-                    handler.endElement(\"\", \"\", \"input\");\n-                }\n-                handler.endElement(\"\", \"\", \"inputs\");\n-            }\n-\n-            if (auditEntry.getOutput() != null) {\n-                char[] output = POJOHelper.serialize(auditEntry.getOutput()).toCharArray();\n-                handler.startElement(\"\", \"\", \"output\", null);\n-                handler.characters(output, 0, output.length);\n-                handler.endElement(\"\", \"\", \"output\");\n-            }\n-\n-            handler.startElement(\"\", \"\", \"throwable\", null);\n-            Object throwableValue = row.get(\"THROWABLE\");\n-            if (throwableValue != null) {\n-                char[] throwable = throwableValue.toString().toCharArray();\n-                handler.characters(throwable, 0, throwable.length);\n-            }\n-            handler.endElement(\"\", \"\", \"throwable\");\n-\n-            handler.endElement(\"\", \"\", \"event\");\n-        }\n-        handler.endElement(\"\", \"\", \"events\");\n-\n-        setStatus(refDesc, \"Fetched \" + conf.getSize() + \" rows from the \" + AuditConfDAO.AUDIT_ENTRY_TABLE + \" table\");\n-    }\n-\n-    @Override\n-    protected void doExtract(\n-            final ReportletConf conf,\n-            final ContentHandler handler,\n-            final String refDesc)\n-            throws SAXException {\n-\n-        if (conf instanceof AuditReportletConf) {\n-            this.conf = AuditReportletConf.class.cast(conf);\n-        } else {\n-            throw new ReportException(new IllegalArgumentException(\"Invalid configuration provided\"));\n-        }\n-\n-        datasource = domainHolder.getDomains().get(AuthContextUtils.getDomain());\n-        if (datasource == null) {\n-            throw new ReportException(new IllegalArgumentException(\"Could not get to DataSource\"));\n-        }\n-\n-        doExtractConf(handler, refDesc);\n-    }\n-}"},{"sha":"2ec4777791bd705cb62aebec752928c14b863726","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/DefaultReportJobDelegate.java","status":"removed","additions":0,"deletions":258,"changes":258,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FDefaultReportJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FDefaultReportJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FDefaultReportJobDelegate.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,258 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.provisioning.java.job.report;\n-\n-import java.io.ByteArrayOutputStream;\n-import java.io.IOException;\n-import java.nio.charset.StandardCharsets;\n-import java.time.OffsetDateTime;\n-import java.util.Optional;\n-import java.util.zip.Deflater;\n-import java.util.zip.ZipEntry;\n-import java.util.zip.ZipOutputStream;\n-import javax.xml.XMLConstants;\n-import javax.xml.transform.OutputKeys;\n-import javax.xml.transform.Transformer;\n-import javax.xml.transform.TransformerConfigurationException;\n-import javax.xml.transform.TransformerFactory;\n-import javax.xml.transform.sax.SAXTransformerFactory;\n-import javax.xml.transform.sax.TransformerHandler;\n-import javax.xml.transform.stream.StreamResult;\n-import org.apache.syncope.common.lib.types.ReportExecStatus;\n-import org.apache.syncope.core.persistence.api.dao.ReportDAO;\n-import org.apache.syncope.core.persistence.api.dao.ReportExecDAO;\n-import org.apache.syncope.core.persistence.api.dao.Reportlet;\n-import org.apache.syncope.core.persistence.api.entity.EntityFactory;\n-import org.apache.syncope.core.persistence.api.entity.Report;\n-import org.apache.syncope.core.persistence.api.entity.ReportExec;\n-import org.apache.syncope.core.provisioning.api.data.ReportDataBinder;\n-import org.apache.syncope.core.provisioning.api.event.JobStatusEvent;\n-import org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate;\n-import org.apache.syncope.core.provisioning.api.utils.ExceptionUtils2;\n-import org.apache.syncope.core.spring.implementation.ImplementationManager;\n-import org.apache.syncope.core.spring.security.SecureRandomUtils;\n-import org.quartz.JobExecutionException;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n-import org.slf4j.MDC;\n-import org.springframework.context.ApplicationEventPublisher;\n-import org.springframework.transaction.annotation.Transactional;\n-import org.xml.sax.helpers.AttributesImpl;\n-\n-public class DefaultReportJobDelegate implements ReportJobDelegate {\n-\n-    protected static final Logger LOG = LoggerFactory.getLogger(ReportJobDelegate.class);\n-\n-    protected static final SAXTransformerFactory TRANSFORMER_FACTORY;\n-\n-    static {\n-        TRANSFORMER_FACTORY = (SAXTransformerFactory) TransformerFactory.newInstance();\n-        TRANSFORMER_FACTORY.setURIResolver((href, base) -> null);\n-        try {\n-            TRANSFORMER_FACTORY.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n-        } catch (TransformerConfigurationException e) {\n-            LOG.error(\"Could not enable secure XML processing\", e);\n-        }\n-    }\n-\n-    protected final ReportDAO reportDAO;\n-\n-    protected final ReportExecDAO reportExecDAO;\n-\n-    protected final EntityFactory entityFactory;\n-\n-    protected final ReportDataBinder reportDataBinder;\n-\n-    protected final ApplicationEventPublisher publisher;\n-\n-    protected Report report;\n-\n-    protected boolean interrupt;\n-\n-    protected boolean interrupted;\n-\n-    public DefaultReportJobDelegate(\n-            final ReportDAO reportDAO,\n-            final ReportExecDAO reportExecDAO,\n-            final EntityFactory entityFactory,\n-            final ReportDataBinder reportDataBinder,\n-            final ApplicationEventPublisher publisher) {\n-\n-        this.reportDAO = reportDAO;\n-        this.reportExecDAO = reportExecDAO;\n-        this.entityFactory = entityFactory;\n-        this.reportDataBinder = reportDataBinder;\n-        this.publisher = publisher;\n-    }\n-\n-    /**\n-     * Sets status.\n-     * Updating job status is done via an event publishing mechanism\n-     * to allow underlying updates to be done in separate threads,\n-     * and not as part of the current transaction.\n-     *\n-     * @param status the status\n-     */\n-    protected void setStatus(final String status) {\n-        LOG.debug(\"Status update: {} {}\", reportDataBinder.buildRefDesc(report), status);\n-        publisher.publishEvent(new JobStatusEvent(this, reportDataBinder.buildRefDesc(report), status));\n-    }\n-\n-    @Override\n-    public void interrupt() {\n-        interrupt = true;\n-    }\n-\n-    @Override\n-    public boolean isInterrupted() {\n-        return interrupted;\n-    }\n-\n-    @Transactional\n-    @Override\n-    public void execute(final String reportKey, final String executor) throws JobExecutionException {\n-        report = reportDAO.find(reportKey);\n-        if (report == null) {\n-            throw new JobExecutionException(\"Report \" + reportKey + \" not found\");\n-        }\n-\n-        if (!report.isActive()) {\n-            LOG.info(\"Report {} not active, aborting...\", reportKey);\n-            return;\n-        }\n-\n-        boolean manageOperationId = Optional.ofNullable(MDC.get(OPERATION_ID)).\n-                map(operationId -> false).\n-                orElseGet(() -> {\n-                    MDC.put(OPERATION_ID, SecureRandomUtils.generateRandomUUID().toString());\n-                    return true;\n-                });\n-\n-        // 1. create execution\n-        ReportExec execution = entityFactory.newEntity(ReportExec.class);\n-        execution.setStatus(ReportExecStatus.STARTED);\n-        execution.setStart(OffsetDateTime.now());\n-        execution.setReport(report);\n-\n-        execution.setExecutor(executor);\n-        execution = reportExecDAO.save(execution);\n-\n-        report.add(execution);\n-        report = reportDAO.save(report);\n-\n-        // 2. define a SAX handler for generating result as XML\n-        TransformerHandler handler;\n-\n-        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n-        ZipOutputStream zos = new ZipOutputStream(baos);\n-        zos.setLevel(Deflater.BEST_COMPRESSION);\n-        try {\n-            handler = TRANSFORMER_FACTORY.newTransformerHandler();\n-            Transformer serializer = handler.getTransformer();\n-            serializer.setOutputProperty(OutputKeys.ENCODING, StandardCharsets.UTF_8.name());\n-            serializer.setOutputProperty(OutputKeys.INDENT, \"yes\");\n-\n-            // a single ZipEntry in the ZipOutputStream\n-            zos.putNextEntry(new ZipEntry(report.getName()));\n-\n-            // streaming SAX handler in a compressed byte array stream\n-            handler.setResult(new StreamResult(zos));\n-        } catch (Exception e) {\n-            throw new JobExecutionException(\"While configuring for SAX generation\", e, true);\n-        }\n-\n-        execution.setStatus(ReportExecStatus.RUNNING);\n-        execution = reportExecDAO.save(execution);\n-\n-        setStatus(\"Starting\");\n-\n-        // 3. actual report execution\n-        StringBuilder reportExecutionMessage = new StringBuilder();\n-        try {\n-            // report header\n-            handler.startDocument();\n-            AttributesImpl atts = new AttributesImpl();\n-            atts.addAttribute(\"\", \"\", ReportXMLConst.ATTR_NAME, ReportXMLConst.XSD_STRING, report.getName());\n-            handler.startElement(\"\", \"\", ReportXMLConst.ELEMENT_REPORT, atts);\n-\n-            setStatus(\"Generating report header\");\n-\n-            // iterate over reportlet instances defined for this report\n-            for (int i = 0; i < report.getReportlets().size() && !interrupt; i++) {\n-                Optional<Reportlet> reportlet = ImplementationManager.buildReportlet(report.getReportlets().get(i));\n-                if (reportlet.isPresent()) {\n-                    try {\n-                        setStatus(\"Invoking reportlet \" + report.getReportlets().get(i).getKey());\n-                        reportlet.get().extract(handler, reportDataBinder.buildRefDesc(report));\n-                    } catch (Throwable t) {\n-                        LOG.error(\"While executing reportlet {} for report {}\",\n-                                report.getReportlets().get(i).getKey(), reportKey, t);\n-\n-                        execution.setStatus(ReportExecStatus.FAILURE);\n-\n-                        Throwable effective = t instanceof ReportException\n-                                ? t.getCause()\n-                                : t;\n-                        reportExecutionMessage.\n-                                append(ExceptionUtils2.getFullStackTrace(effective)).\n-                                append(\"\\n==================\\n\");\n-                    }\n-                }\n-            }\n-            if (interrupt) {\n-                LOG.debug(\"Report job {} interrupted\", reportKey);\n-                interrupted = true;\n-            }\n-\n-            // report footer\n-            setStatus(\"Generating report footer\");\n-\n-            handler.endElement(\"\", \"\", ReportXMLConst.ELEMENT_REPORT);\n-            handler.endDocument();\n-\n-            if (!ReportExecStatus.FAILURE.name().equals(execution.getStatus())) {\n-                execution.setStatus(ReportExecStatus.SUCCESS);\n-            }\n-        } catch (Exception e) {\n-            execution.setStatus(ReportExecStatus.FAILURE);\n-            reportExecutionMessage.append(ExceptionUtils2.getFullStackTrace(e));\n-\n-            throw new JobExecutionException(e, true);\n-        } finally {\n-            setStatus(null);\n-\n-            try {\n-                zos.closeEntry();\n-                zos.close();\n-                baos.close();\n-            } catch (IOException e) {\n-                LOG.error(\"While closing StreamResult's backend\", e);\n-            }\n-\n-            execution.setExecResult(baos.toByteArray());\n-            execution.setMessage(reportExecutionMessage.toString());\n-            execution.setEnd(OffsetDateTime.now());\n-            reportExecDAO.save(execution);\n-\n-            if (manageOperationId) {\n-                MDC.remove(OPERATION_ID);\n-            }\n-        }\n-    }\n-}"},{"sha":"b9b28a2fe5d6ecb099ad2a3fb6ee81d28a930015","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/GroupReportlet.java","status":"removed","additions":0,"deletions":347,"changes":347,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FGroupReportlet.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FGroupReportlet.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FGroupReportlet.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,347 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.provisioning.java.job.report;\n-\n-import java.util.Collection;\n-import java.util.List;\n-import java.util.Map;\n-import org.apache.commons.lang3.StringUtils;\n-import org.apache.syncope.common.lib.Attr;\n-import org.apache.syncope.common.lib.EntityTOUtils;\n-import org.apache.syncope.common.lib.SyncopeConstants;\n-import org.apache.syncope.common.lib.report.GroupReportletConf;\n-import org.apache.syncope.common.lib.report.GroupReportletConf.Feature;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.apache.syncope.common.lib.to.AnyTO;\n-import org.apache.syncope.common.lib.to.GroupTO;\n-import org.apache.syncope.common.lib.types.AnyTypeKind;\n-import org.apache.syncope.core.persistence.api.dao.AnyDAO;\n-import org.apache.syncope.core.persistence.api.dao.AnySearchDAO;\n-import org.apache.syncope.core.persistence.api.dao.GroupDAO;\n-import org.apache.syncope.core.persistence.api.dao.RealmDAO;\n-import org.apache.syncope.core.persistence.api.dao.ReportletConfClass;\n-import org.apache.syncope.core.persistence.api.entity.group.Group;\n-import org.apache.syncope.core.persistence.api.entity.user.UMembership;\n-import org.apache.syncope.core.persistence.api.search.SearchCondConverter;\n-import org.apache.syncope.core.persistence.api.search.SearchCondVisitor;\n-import org.apache.syncope.core.provisioning.api.data.GroupDataBinder;\n-import org.springframework.beans.factory.annotation.Autowired;\n-import org.xml.sax.ContentHandler;\n-import org.xml.sax.SAXException;\n-import org.xml.sax.helpers.AttributesImpl;\n-\n-@ReportletConfClass(GroupReportletConf.class)\n-public class GroupReportlet extends AbstractReportlet {\n-\n-    @Autowired\n-    protected RealmDAO realmDAO;\n-\n-    @Autowired\n-    protected GroupDAO groupDAO;\n-\n-    @Autowired\n-    protected AnySearchDAO searchDAO;\n-\n-    @Autowired\n-    protected GroupDataBinder groupDataBinder;\n-\n-    @Autowired\n-    protected SearchCondVisitor searchCondVisitor;\n-\n-    protected GroupReportletConf conf;\n-\n-    protected void doExtractResources(final ContentHandler handler, final AnyTO anyTO)\n-            throws SAXException {\n-\n-        if (anyTO.getResources().isEmpty()) {\n-            LOG.debug(\"No resources found for {}[{}]\", anyTO.getClass().getSimpleName(), anyTO.getKey());\n-        } else {\n-            AttributesImpl atts = new AttributesImpl();\n-            handler.startElement(\"\", \"\", \"resources\", null);\n-\n-            for (String resourceName : anyTO.getResources()) {\n-                atts.clear();\n-\n-                atts.addAttribute(\"\", \"\", ReportXMLConst.ATTR_NAME, ReportXMLConst.XSD_STRING, resourceName);\n-                handler.startElement(\"\", \"\", \"resource\", atts);\n-                handler.endElement(\"\", \"\", \"resource\");\n-            }\n-\n-            handler.endElement(\"\", \"\", \"resources\");\n-        }\n-    }\n-\n-    protected void doExtractAttributes(\n-            final ContentHandler handler,\n-            final AnyTO anyTO,\n-            final Collection<String> attrs,\n-            final Collection<String> derAttrs,\n-            final Collection<String> virAttrs)\n-            throws SAXException {\n-\n-        AttributesImpl atts = new AttributesImpl();\n-        if (!attrs.isEmpty()) {\n-            Map<String, Attr> attrMap = EntityTOUtils.buildAttrMap(anyTO.getPlainAttrs());\n-\n-            handler.startElement(\"\", \"\", \"attributes\", null);\n-            for (String attrName : attrs) {\n-                atts.clear();\n-\n-                atts.addAttribute(\"\", \"\", ReportXMLConst.ATTR_NAME, ReportXMLConst.XSD_STRING, attrName);\n-                handler.startElement(\"\", \"\", \"attribute\", atts);\n-\n-                if (attrMap.containsKey(attrName)) {\n-                    for (String value : attrMap.get(attrName).getValues()) {\n-                        handler.startElement(\"\", \"\", \"value\", null);\n-                        handler.characters(value.toCharArray(), 0, value.length());\n-                        handler.endElement(\"\", \"\", \"value\");\n-                    }\n-                } else {\n-                    LOG.debug(\"{} not found for {}[{}]\", attrName,\n-                            anyTO.getClass().getSimpleName(), anyTO.getKey());\n-                }\n-\n-                handler.endElement(\"\", \"\", \"attribute\");\n-            }\n-            handler.endElement(\"\", \"\", \"attributes\");\n-        }\n-\n-        if (!derAttrs.isEmpty()) {\n-            Map<String, Attr> derAttrMap = EntityTOUtils.buildAttrMap(anyTO.getDerAttrs());\n-\n-            handler.startElement(\"\", \"\", \"derivedAttributes\", null);\n-            for (String attrName : derAttrs) {\n-                atts.clear();\n-\n-                atts.addAttribute(\"\", \"\", ReportXMLConst.ATTR_NAME, ReportXMLConst.XSD_STRING, attrName);\n-                handler.startElement(\"\", \"\", \"derivedAttribute\", atts);\n-\n-                if (derAttrMap.containsKey(attrName)) {\n-                    for (String value : derAttrMap.get(attrName).getValues()) {\n-                        handler.startElement(\"\", \"\", \"value\", null);\n-                        handler.characters(value.toCharArray(), 0, value.length());\n-                        handler.endElement(\"\", \"\", \"value\");\n-                    }\n-                } else {\n-                    LOG.debug(\"{} not found for {}[{}]\", attrName,\n-                            anyTO.getClass().getSimpleName(), anyTO.getKey());\n-                }\n-\n-                handler.endElement(\"\", \"\", \"derivedAttribute\");\n-            }\n-            handler.endElement(\"\", \"\", \"derivedAttributes\");\n-        }\n-\n-        if (!virAttrs.isEmpty()) {\n-            Map<String, Attr> virAttrMap = EntityTOUtils.buildAttrMap(anyTO.getVirAttrs());\n-\n-            handler.startElement(\"\", \"\", \"virtualAttributes\", null);\n-            for (String attrName : virAttrs) {\n-                atts.clear();\n-\n-                atts.addAttribute(\"\", \"\", ReportXMLConst.ATTR_NAME, ReportXMLConst.XSD_STRING, attrName);\n-                handler.startElement(\"\", \"\", \"virtualAttribute\", atts);\n-\n-                if (virAttrMap.containsKey(attrName)) {\n-                    for (String value : virAttrMap.get(attrName).getValues()) {\n-                        handler.startElement(\"\", \"\", \"value\", null);\n-                        handler.characters(value.toCharArray(), 0, value.length());\n-                        handler.endElement(\"\", \"\", \"value\");\n-                    }\n-                } else {\n-                    LOG.debug(\"{} not found for {}[{}]\", attrName,\n-                            anyTO.getClass().getSimpleName(), anyTO.getKey());\n-                }\n-\n-                handler.endElement(\"\", \"\", \"virtualAttribute\");\n-            }\n-            handler.endElement(\"\", \"\", \"virtualAttributes\");\n-        }\n-    }\n-\n-    protected void doExtract(final ContentHandler handler, final List<Group> groups) throws SAXException {\n-        AttributesImpl atts = new AttributesImpl();\n-        for (Group group : groups) {\n-            atts.clear();\n-\n-            for (Feature feature : conf.getFeatures()) {\n-                String type = null;\n-                String value = null;\n-                switch (feature) {\n-                    case key:\n-                        type = ReportXMLConst.XSD_STRING;\n-                        value = group.getKey();\n-                        break;\n-\n-                    case name:\n-                        type = ReportXMLConst.XSD_STRING;\n-                        value = String.valueOf(group.getName());\n-                        break;\n-\n-                    case groupOwner:\n-                        type = ReportXMLConst.XSD_STRING;\n-                        value = group.getGroupOwner().getKey();\n-                        break;\n-\n-                    case userOwner:\n-                        type = ReportXMLConst.XSD_STRING;\n-                        value = group.getUserOwner().getKey();\n-                        break;\n-\n-                    default:\n-                }\n-\n-                if (type != null && value != null) {\n-                    atts.addAttribute(\"\", \"\", feature.name(), type, value);\n-                }\n-            }\n-\n-            handler.startElement(\"\", \"\", \"group\", atts);\n-\n-            // Using GroupTO for attribute values, since the conversion logic of\n-            // values to String is already encapsulated there\n-            GroupTO groupTO = groupDataBinder.getGroupTO(group, true);\n-\n-            doExtractAttributes(handler, groupTO, conf.getPlainAttrs(), conf.getDerAttrs(), conf.getVirAttrs());\n-\n-            // to get resources associated to a group\n-            if (conf.getFeatures().contains(Feature.resources)) {\n-                doExtractResources(handler, groupTO);\n-            }\n-            //to get users asscoiated to a group is preferred GroupDAO to GroupTO\n-            if (conf.getFeatures().contains(Feature.users)) {\n-                handler.startElement(\"\", \"\", \"users\", null);\n-\n-                for (UMembership memb : groupDAO.findUMemberships(group)) {\n-                    atts.clear();\n-\n-                    atts.addAttribute(\"\", \"\", \"key\", ReportXMLConst.XSD_STRING,\n-                            memb.getLeftEnd().getKey());\n-                    atts.addAttribute(\"\", \"\", \"username\", ReportXMLConst.XSD_STRING,\n-                            String.valueOf(memb.getLeftEnd().getUsername()));\n-\n-                    handler.startElement(\"\", \"\", \"user\", atts);\n-                    handler.endElement(\"\", \"\", \"user\");\n-                }\n-\n-                handler.endElement(\"\", \"\", \"users\");\n-            }\n-\n-            handler.endElement(\"\", \"\", \"group\");\n-        }\n-    }\n-\n-    protected void doExtractConf(final ContentHandler handler) throws SAXException {\n-        if (conf == null) {\n-            LOG.debug(\"Report configuration is not present\");\n-        }\n-\n-        AttributesImpl atts = new AttributesImpl();\n-        handler.startElement(\"\", \"\", \"configurations\", null);\n-        handler.startElement(\"\", \"\", \"groupAttributes\", atts);\n-\n-        if (conf != null) {\n-            for (Feature feature : conf.getFeatures()) {\n-                atts.clear();\n-                handler.startElement(\"\", \"\", \"feature\", atts);\n-                handler.characters(feature.name().toCharArray(), 0, feature.name().length());\n-                handler.endElement(\"\", \"\", \"feature\");\n-            }\n-\n-            for (String attr : conf.getPlainAttrs()) {\n-                atts.clear();\n-                handler.startElement(\"\", \"\", \"attribute\", atts);\n-                handler.characters(attr.toCharArray(), 0, attr.length());\n-                handler.endElement(\"\", \"\", \"attribute\");\n-            }\n-\n-            for (String derAttr : conf.getDerAttrs()) {\n-                atts.clear();\n-                handler.startElement(\"\", \"\", \"derAttribute\", atts);\n-                handler.characters(derAttr.toCharArray(), 0, derAttr.length());\n-                handler.endElement(\"\", \"\", \"derAttribute\");\n-            }\n-\n-            for (String virAttr : conf.getVirAttrs()) {\n-                atts.clear();\n-                handler.startElement(\"\", \"\", \"virAttribute\", atts);\n-                handler.characters(virAttr.toCharArray(), 0, virAttr.length());\n-                handler.endElement(\"\", \"\", \"virAttribute\");\n-            }\n-        }\n-\n-        handler.endElement(\"\", \"\", \"groupAttributes\");\n-        handler.endElement(\"\", \"\", \"configurations\");\n-    }\n-\n-    protected int count() {\n-        return StringUtils.isBlank(conf.getMatchingCond())\n-                ? groupDAO.count()\n-                : searchDAO.count(\n-                        realmDAO.getRoot(),\n-                        true,\n-                        SyncopeConstants.FULL_ADMIN_REALMS,\n-                        SearchCondConverter.convert(searchCondVisitor, conf.getMatchingCond()),\n-                        AnyTypeKind.GROUP);\n-    }\n-\n-    @Override\n-    protected void doExtract(\n-            final ReportletConf conf,\n-            final ContentHandler handler,\n-            final String refDesc)\n-            throws SAXException {\n-\n-        if (conf instanceof GroupReportletConf) {\n-            this.conf = GroupReportletConf.class.cast(conf);\n-        } else {\n-            throw new ReportException(new IllegalArgumentException(\"Invalid configuration provided\"));\n-        }\n-\n-        doExtractConf(handler);\n-\n-        int total = count();\n-        int pages = (total / AnyDAO.DEFAULT_PAGE_SIZE) + 1;\n-\n-        setStatus(refDesc, \"Processing \" + total + \" groups in \" + pages + \" pages\");\n-\n-        for (int page = 1; page <= pages; page++) {\n-            setStatus(refDesc, \"Processing \" + total + \" groups: page \" + page + \" of \" + pages);\n-\n-            List<Group> groups;\n-            if (StringUtils.isBlank(this.conf.getMatchingCond())) {\n-                groups = groupDAO.findAll(page, AnyDAO.DEFAULT_PAGE_SIZE);\n-            } else {\n-                groups = searchDAO.search(\n-                        realmDAO.getRoot(),\n-                        true,\n-                        SyncopeConstants.FULL_ADMIN_REALMS,\n-                        SearchCondConverter.convert(searchCondVisitor, this.conf.getMatchingCond()),\n-                        page,\n-                        AnyDAO.DEFAULT_PAGE_SIZE,\n-                        List.of(),\n-                        AnyTypeKind.USER);\n-            }\n-\n-            doExtract(handler, groups);\n-\n-            setStatus(refDesc, \"Processed \" + total + \" groups: page \" + page + \" of \" + pages);\n-        }\n-    }\n-}"},{"sha":"a0473245f170a7d60346100d0e5b95443ea36d9e","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/ReconciliationReportlet.java","status":"removed","additions":0,"deletions":574,"changes":574,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FReconciliationReportlet.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FReconciliationReportlet.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FReconciliationReportlet.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,574 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.provisioning.java.job.report;\n-\n-import java.util.Base64;\n-import java.util.HashMap;\n-import java.util.HashSet;\n-import java.util.List;\n-import java.util.Map;\n-import java.util.Objects;\n-import java.util.Optional;\n-import java.util.Set;\n-import org.apache.commons.lang3.StringUtils;\n-import org.apache.commons.lang3.tuple.Pair;\n-import org.apache.syncope.common.lib.SyncopeConstants;\n-import org.apache.syncope.common.lib.report.ReconciliationReportletConf;\n-import org.apache.syncope.common.lib.report.ReconciliationReportletConf.Feature;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.apache.syncope.common.lib.to.Item;\n-import org.apache.syncope.common.lib.to.Provision;\n-import org.apache.syncope.common.lib.types.AnyTypeKind;\n-import org.apache.syncope.core.persistence.api.dao.AnyDAO;\n-import org.apache.syncope.core.persistence.api.dao.AnySearchDAO;\n-import org.apache.syncope.core.persistence.api.dao.AnyTypeDAO;\n-import org.apache.syncope.core.persistence.api.dao.GroupDAO;\n-import org.apache.syncope.core.persistence.api.dao.RealmDAO;\n-import org.apache.syncope.core.persistence.api.dao.ReportletConfClass;\n-import org.apache.syncope.core.persistence.api.dao.UserDAO;\n-import org.apache.syncope.core.persistence.api.dao.search.AnyTypeCond;\n-import org.apache.syncope.core.persistence.api.dao.search.SearchCond;\n-import org.apache.syncope.core.persistence.api.entity.Any;\n-import org.apache.syncope.core.persistence.api.entity.AnyType;\n-import org.apache.syncope.core.persistence.api.entity.AnyUtils;\n-import org.apache.syncope.core.persistence.api.entity.AnyUtilsFactory;\n-import org.apache.syncope.core.persistence.api.entity.group.Group;\n-import org.apache.syncope.core.persistence.api.entity.user.User;\n-import org.apache.syncope.core.persistence.api.search.SearchCondConverter;\n-import org.apache.syncope.core.persistence.api.search.SearchCondVisitor;\n-import org.apache.syncope.core.provisioning.api.Connector;\n-import org.apache.syncope.core.provisioning.api.ConnectorManager;\n-import org.apache.syncope.core.provisioning.api.MappingManager;\n-import org.apache.syncope.core.provisioning.api.utils.FormatUtils;\n-import org.apache.syncope.core.provisioning.java.utils.MappingUtils;\n-import org.identityconnectors.framework.common.objects.Attribute;\n-import org.identityconnectors.framework.common.objects.AttributeBuilder;\n-import org.identityconnectors.framework.common.objects.ConnectorObject;\n-import org.identityconnectors.framework.common.objects.ObjectClass;\n-import org.identityconnectors.framework.common.objects.OperationalAttributes;\n-import org.identityconnectors.framework.common.objects.Uid;\n-import org.springframework.beans.factory.annotation.Autowired;\n-import org.xml.sax.ContentHandler;\n-import org.xml.sax.SAXException;\n-import org.xml.sax.helpers.AttributesImpl;\n-\n-/**\n- * Reportlet for extracting information for the current reconciliation status, e.g. the coherence between Syncope\n- * information and mapped entities on external resources.\n- */\n-@ReportletConfClass(ReconciliationReportletConf.class)\n-public class ReconciliationReportlet extends AbstractReportlet {\n-\n-    private static final int PAGE_SIZE = 10;\n-\n-    @Autowired\n-    private RealmDAO realmDAO;\n-\n-    @Autowired\n-    private UserDAO userDAO;\n-\n-    @Autowired\n-    private GroupDAO groupDAO;\n-\n-    @Autowired\n-    private AnyTypeDAO anyTypeDAO;\n-\n-    @Autowired\n-    private AnySearchDAO searchDAO;\n-\n-    @Autowired\n-    private MappingManager mappingManager;\n-\n-    @Autowired\n-    private ConnectorManager connectorManager;\n-\n-    @Autowired\n-    private AnyUtilsFactory anyUtilsFactory;\n-\n-    @Autowired\n-    private SearchCondVisitor searchCondVisitor;\n-\n-    private ReconciliationReportletConf conf;\n-\n-    private static String getAnyElementName(final AnyTypeKind anyTypeKind) {\n-        String elementName;\n-\n-        switch (anyTypeKind) {\n-            case USER:\n-                elementName = \"user\";\n-                break;\n-\n-            case GROUP:\n-                elementName = \"group\";\n-                break;\n-\n-            case ANY_OBJECT:\n-            default:\n-                elementName = \"anyObject\";\n-        }\n-\n-        return elementName;\n-    }\n-\n-    private void doExtract(\n-            final ContentHandler handler,\n-            final Any<?> any,\n-            final Set<Missing> missing,\n-            final Set<Misaligned> misaligned)\n-            throws SAXException {\n-\n-        AttributesImpl atts = new AttributesImpl();\n-\n-        for (Feature feature : conf.getFeatures()) {\n-            String type = null;\n-            String value = null;\n-            switch (feature) {\n-                case key:\n-                    type = ReportXMLConst.XSD_STRING;\n-                    value = any.getKey();\n-                    break;\n-\n-                case username:\n-                    if (any instanceof User) {\n-                        type = ReportXMLConst.XSD_STRING;\n-                        value = User.class.cast(any).getUsername();\n-                    }\n-                    break;\n-\n-                case groupName:\n-                    if (any instanceof Group) {\n-                        type = ReportXMLConst.XSD_STRING;\n-                        value = Group.class.cast(any).getName();\n-                    }\n-                    break;\n-\n-                case status:\n-                    type = ReportXMLConst.XSD_STRING;\n-                    value = any.getStatus();\n-                    break;\n-\n-                case creationDate:\n-                    type = ReportXMLConst.XSD_DATETIME;\n-                    value = any.getCreationDate() == null\n-                            ? StringUtils.EMPTY\n-                            : FormatUtils.format(any.getCreationDate());\n-                    break;\n-\n-                case lastLoginDate:\n-                    if (any instanceof User) {\n-                        type = ReportXMLConst.XSD_DATETIME;\n-                        value = User.class.cast(any).getLastLoginDate() == null\n-                                ? StringUtils.EMPTY\n-                                : FormatUtils.format(User.class.cast(any).getLastLoginDate());\n-                    }\n-                    break;\n-\n-                case changePwdDate:\n-                    if (any instanceof User) {\n-                        type = ReportXMLConst.XSD_DATETIME;\n-                        value = User.class.cast(any).getChangePwdDate() == null\n-                                ? StringUtils.EMPTY\n-                                : FormatUtils.format(User.class.cast(any).getChangePwdDate());\n-                    }\n-                    break;\n-\n-                case passwordHistorySize:\n-                    if (any instanceof User) {\n-                        type = ReportXMLConst.XSD_INT;\n-                        value = String.valueOf(User.class.cast(any).getPasswordHistory().size());\n-                    }\n-                    break;\n-\n-                case failedLoginCount:\n-                    if (any instanceof User) {\n-                        type = ReportXMLConst.XSD_INT;\n-                        value = String.valueOf(User.class.cast(any).getFailedLogins());\n-                    }\n-                    break;\n-\n-                default:\n-            }\n-\n-            if (type != null && value != null) {\n-                atts.addAttribute(\"\", \"\", feature.name(), type, value);\n-            }\n-        }\n-\n-        handler.startElement(\"\", \"\", getAnyElementName(any.getType().getKind()), atts);\n-\n-        for (Missing item : missing) {\n-            atts.clear();\n-            atts.addAttribute(\"\", \"\", \"resource\", ReportXMLConst.XSD_STRING, item.getResource());\n-            atts.addAttribute(\"\", \"\", \"connObjectKeyValue\", ReportXMLConst.XSD_STRING, item.getConnObjectKeyValue());\n-\n-            handler.startElement(\"\", \"\", \"missing\", atts);\n-            handler.endElement(\"\", \"\", \"missing\");\n-        }\n-        for (Misaligned item : misaligned) {\n-            atts.clear();\n-            atts.addAttribute(\"\", \"\", \"resource\", ReportXMLConst.XSD_STRING, item.getResource());\n-            atts.addAttribute(\"\", \"\", \"connObjectKeyValue\", ReportXMLConst.XSD_STRING, item.getConnObjectKeyValue());\n-            atts.addAttribute(\"\", \"\", ReportXMLConst.ATTR_NAME, ReportXMLConst.XSD_STRING, item.getName());\n-\n-            handler.startElement(\"\", \"\", \"misaligned\", atts);\n-\n-            handler.startElement(\"\", \"\", \"onSyncope\", null);\n-            if (item.getOnSyncope() != null) {\n-                for (Object value : item.getOnSyncope()) {\n-                    char[] asChars = value.toString().toCharArray();\n-\n-                    handler.startElement(\"\", \"\", \"value\", null);\n-                    handler.characters(asChars, 0, asChars.length);\n-                    handler.endElement(\"\", \"\", \"value\");\n-                }\n-            }\n-            handler.endElement(\"\", \"\", \"onSyncope\");\n-\n-            handler.startElement(\"\", \"\", \"onResource\", null);\n-            if (item.getOnResource() != null) {\n-                for (Object value : item.getOnResource()) {\n-                    char[] asChars = value.toString().toCharArray();\n-\n-                    handler.startElement(\"\", \"\", \"value\", null);\n-                    handler.characters(asChars, 0, asChars.length);\n-                    handler.endElement(\"\", \"\", \"value\");\n-                }\n-            }\n-            handler.endElement(\"\", \"\", \"onResource\");\n-\n-            handler.endElement(\"\", \"\", \"misaligned\");\n-        }\n-\n-        handler.endElement(\"\", \"\", getAnyElementName(any.getType().getKind()));\n-    }\n-\n-    private static Set<Object> getValues(final Attribute attr) {\n-        Set<Object> values;\n-        if (attr.getValue() == null || attr.getValue().isEmpty()) {\n-            values = Set.of();\n-        } else if (attr.getValue().get(0) instanceof byte[]) {\n-            values = new HashSet<>(attr.getValue().size());\n-            attr.getValue().forEach(single -> values.add(Base64.getEncoder().encode((byte[]) single)));\n-        } else {\n-            values = new HashSet<>(attr.getValue());\n-        }\n-\n-        return values;\n-    }\n-\n-    private void doExtract(final ContentHandler handler, final List<? extends Any<?>> anys)\n-            throws SAXException, ReportException {\n-\n-        final Set<Missing> missing = new HashSet<>();\n-        final Set<Misaligned> misaligned = new HashSet<>();\n-\n-        for (Any<?> any : anys) {\n-            missing.clear();\n-            misaligned.clear();\n-\n-            AnyUtils anyUtils = anyUtilsFactory.getInstance(any);\n-            anyUtils.getAllResources(any).forEach(resource -> {\n-                Provision provision = resource.getProvisionByAnyType(any.getType().getKey()).orElse(null);\n-                Optional<Item> connObjectKeyItem = MappingUtils.getConnObjectKeyItem(provision);\n-                String connObjectKeyValue = connObjectKeyItem.isPresent()\n-                        ? mappingManager.getConnObjectKeyValue(any, resource, provision).get()\n-                        : StringUtils.EMPTY;\n-                if (provision != null && connObjectKeyItem.isPresent() && StringUtils.isNotBlank(connObjectKeyValue)) {\n-                    // 1. read from the underlying connector\n-                    Connector connector = connectorManager.getConnector(resource);\n-                    ConnectorObject connectorObject = connector.getObject(\n-                            new ObjectClass(provision.getObjectClass()),\n-                            AttributeBuilder.build(connObjectKeyItem.get().getExtAttrName(), connObjectKeyValue),\n-                            provision.isIgnoreCaseMatch(),\n-                            MappingUtils.buildOperationOptions(provision.getMapping().getItems().stream()));\n-\n-                    if (connectorObject == null) {\n-                        // 2. not found on resource?\n-                        LOG.error(\"Object {} with class {} not found on resource {}\",\n-                                connObjectKeyValue, provision.getObjectClass(), resource);\n-\n-                        missing.add(new Missing(resource.getKey(), connObjectKeyValue));\n-                    } else {\n-                        // 3. found but misaligned?\n-                        Pair<String, Set<Attribute>> preparedAttrs =\n-                                mappingManager.prepareAttrsFromAny(any, null, false, null, resource, provision);\n-                        preparedAttrs.getRight().add(AttributeBuilder.build(\n-                                Uid.NAME, preparedAttrs.getLeft()));\n-                        preparedAttrs.getRight().add(AttributeBuilder.build(\n-                                connObjectKeyItem.get().getExtAttrName(), preparedAttrs.getLeft()));\n-\n-                        final Map<String, Set<Object>> syncopeAttrs = new HashMap<>();\n-                        preparedAttrs.getRight().forEach(attr -> syncopeAttrs.put(attr.getName(), getValues(attr)));\n-\n-                        final Map<String, Set<Object>> resourceAttrs = new HashMap<>();\n-                        connectorObject.getAttributes().stream().\n-                                filter(attr -> (!OperationalAttributes.PASSWORD_NAME.equals(attr.getName())\n-                                && !OperationalAttributes.ENABLE_NAME.equals(attr.getName()))).\n-                                forEachOrdered(attr -> resourceAttrs.put(attr.getName(), getValues(attr)));\n-\n-                        syncopeAttrs.keySet().stream().\n-                                filter(syncopeAttr -> !resourceAttrs.containsKey(syncopeAttr)).\n-                                forEach(name -> misaligned.add(new Misaligned(\n-                                resource.getKey(),\n-                                connObjectKeyValue,\n-                                name,\n-                                syncopeAttrs.get(name),\n-                                Set.of())));\n-\n-                        resourceAttrs.forEach((key, values) -> {\n-                            if (syncopeAttrs.containsKey(key)) {\n-                                if (!Objects.equals(syncopeAttrs.get(key), values)) {\n-                                    misaligned.add(new Misaligned(\n-                                            resource.getKey(),\n-                                            connObjectKeyValue,\n-                                            key,\n-                                            syncopeAttrs.get(key),\n-                                            values));\n-                                }\n-                            } else {\n-                                misaligned.add(new Misaligned(\n-                                        resource.getKey(),\n-                                        connObjectKeyValue,\n-                                        key,\n-                                        Set.of(),\n-                                        values));\n-                            }\n-                        });\n-                    }\n-                }\n-            });\n-\n-            if (!missing.isEmpty() || !misaligned.isEmpty()) {\n-                doExtract(handler, any, missing, misaligned);\n-            }\n-        }\n-    }\n-\n-    @Override\n-    protected void doExtract(\n-            final ReportletConf conf,\n-            final ContentHandler handler,\n-            final String refDesc)\n-            throws SAXException {\n-\n-        if (conf instanceof ReconciliationReportletConf) {\n-            this.conf = ReconciliationReportletConf.class.cast(conf);\n-        } else {\n-            throw new ReportException(new IllegalArgumentException(\"Invalid configuration provided\"));\n-        }\n-\n-        AttributesImpl atts = new AttributesImpl();\n-\n-        if (StringUtils.isBlank(this.conf.getUserMatchingCond())) {\n-            int total = userDAO.count();\n-            int pages = (total / AnyDAO.DEFAULT_PAGE_SIZE) + 1;\n-\n-            setStatus(refDesc, \"Processing \" + total + \" users in \" + pages + \" pages\");\n-\n-            atts.addAttribute(\"\", \"\", \"total\", ReportXMLConst.XSD_INT, String.valueOf(total));\n-            handler.startElement(\"\", \"\", getAnyElementName(AnyTypeKind.USER) + 's', atts);\n-\n-            for (int page = 1; page <= pages; page++) {\n-                setStatus(refDesc, \"Processing \" + total + \" users: page \" + page + \" of \" + pages);\n-\n-                doExtract(handler, userDAO.findAll(page, AnyDAO.DEFAULT_PAGE_SIZE));\n-            }\n-        } else {\n-            SearchCond cond = SearchCondConverter.convert(searchCondVisitor, this.conf.getUserMatchingCond());\n-\n-            int total = searchDAO.count(\n-                    realmDAO.getRoot(),\n-                    true,\n-                    SyncopeConstants.FULL_ADMIN_REALMS,\n-                    cond,\n-                    AnyTypeKind.USER);\n-            int pages = (total / AnyDAO.DEFAULT_PAGE_SIZE) + 1;\n-\n-            setStatus(refDesc, \"Processing \" + total + \" users in \" + pages + \" pages\");\n-\n-            atts.addAttribute(\"\", \"\", \"total\", ReportXMLConst.XSD_INT, String.valueOf(total));\n-            handler.startElement(\"\", \"\", getAnyElementName(AnyTypeKind.USER) + 's', atts);\n-\n-            for (int page = 1; page <= pages; page++) {\n-                setStatus(refDesc, \"Processing \" + total + \" users: page \" + page + \" of \" + pages);\n-\n-                doExtract(handler, searchDAO.search(\n-                        realmDAO.getRoot(),\n-                        true,\n-                        SyncopeConstants.FULL_ADMIN_REALMS,\n-                        cond,\n-                        page,\n-                        PAGE_SIZE,\n-                        List.of(),\n-                        AnyTypeKind.USER));\n-            }\n-        }\n-        handler.endElement(\"\", \"\", getAnyElementName(AnyTypeKind.USER) + 's');\n-\n-        atts.clear();\n-        if (StringUtils.isBlank(this.conf.getGroupMatchingCond())) {\n-            int total = groupDAO.count();\n-            int pages = (total / AnyDAO.DEFAULT_PAGE_SIZE) + 1;\n-\n-            setStatus(refDesc, \"Processing \" + total + \" groups in \" + pages + \" pages\");\n-\n-            atts.addAttribute(\"\", \"\", \"total\", ReportXMLConst.XSD_INT, String.valueOf(total));\n-            handler.startElement(\"\", \"\", getAnyElementName(AnyTypeKind.GROUP) + 's', atts);\n-\n-            for (int page = 1; page <= pages; page++) {\n-                setStatus(refDesc, \"Processing \" + total + \" groups: page \" + page + \" of \" + pages);\n-\n-                doExtract(handler, groupDAO.findAll(page, AnyDAO.DEFAULT_PAGE_SIZE));\n-            }\n-        } else {\n-            SearchCond cond = SearchCondConverter.convert(searchCondVisitor, this.conf.getUserMatchingCond());\n-\n-            int total = searchDAO.count(\n-                    realmDAO.getRoot(),\n-                    true,\n-                    SyncopeConstants.FULL_ADMIN_REALMS,\n-                    cond,\n-                    AnyTypeKind.GROUP);\n-            int pages = (total / AnyDAO.DEFAULT_PAGE_SIZE) + 1;\n-\n-            setStatus(refDesc, \"Processing \" + total + \" groups in \" + pages + \" pages\");\n-\n-            atts.addAttribute(\"\", \"\", \"total\", ReportXMLConst.XSD_INT, String.valueOf(total));\n-            handler.startElement(\"\", \"\", getAnyElementName(AnyTypeKind.GROUP) + 's', atts);\n-\n-            for (int page = 1; page <= pages; page++) {\n-                setStatus(refDesc, \"Processing \" + total + \" groups: page \" + page + \" of \" + pages);\n-\n-                doExtract(handler, searchDAO.search(\n-                        realmDAO.getRoot(),\n-                        true,\n-                        SyncopeConstants.FULL_ADMIN_REALMS,\n-                        cond,\n-                        page,\n-                        PAGE_SIZE,\n-                        List.of(),\n-                        AnyTypeKind.GROUP));\n-            }\n-        }\n-        handler.endElement(\"\", \"\", getAnyElementName(AnyTypeKind.GROUP) + 's');\n-\n-        for (AnyType anyType : anyTypeDAO.findAll()) {\n-            if (!anyType.equals(anyTypeDAO.findUser()) && !anyType.equals(anyTypeDAO.findGroup())) {\n-                AnyTypeCond anyTypeCond = new AnyTypeCond();\n-                anyTypeCond.setAnyTypeKey(anyType.getKey());\n-                SearchCond cond = StringUtils.isBlank(this.conf.getAnyObjectMatchingCond())\n-                        ? SearchCond.getLeaf(anyTypeCond)\n-                        : SearchCond.getAnd(\n-                                SearchCond.getLeaf(anyTypeCond),\n-                                SearchCondConverter.convert(searchCondVisitor, this.conf.getAnyObjectMatchingCond()));\n-\n-                int total = searchDAO.count(\n-                        realmDAO.getRoot(),\n-                        true,\n-                        SyncopeConstants.FULL_ADMIN_REALMS,\n-                        cond,\n-                        AnyTypeKind.ANY_OBJECT);\n-                int pages = (total / AnyDAO.DEFAULT_PAGE_SIZE) + 1;\n-\n-                setStatus(\n-                        refDesc,\n-                        \"Processing \" + total + \" any objects \" + anyType.getKey() + \" in \" + pages + \" pages\");\n-\n-                atts.clear();\n-                atts.addAttribute(\"\", \"\", \"type\", ReportXMLConst.XSD_STRING, anyType.getKey());\n-                atts.addAttribute(\"\", \"\", \"total\", ReportXMLConst.XSD_INT, String.valueOf(total));\n-                handler.startElement(\"\", \"\", getAnyElementName(AnyTypeKind.ANY_OBJECT) + 's', atts);\n-\n-                for (int page = 1; page <= pages; page++) {\n-                    setStatus(refDesc, \"Processing \" + total + \" any objects \" + anyType.getKey()\n-                            + \": page \" + page + \" of \" + pages);\n-\n-                    doExtract(handler, searchDAO.search(\n-                            realmDAO.getRoot(),\n-                            true,\n-                            SyncopeConstants.FULL_ADMIN_REALMS,\n-                            cond,\n-                            page,\n-                            PAGE_SIZE,\n-                            List.of(),\n-                            AnyTypeKind.ANY_OBJECT));\n-                }\n-\n-                handler.endElement(\"\", \"\", getAnyElementName(AnyTypeKind.ANY_OBJECT) + 's');\n-            }\n-        }\n-    }\n-\n-    private static class Missing {\n-\n-        private final String resource;\n-\n-        private final String connObjectKeyValue;\n-\n-        Missing(final String resource, final String connObjectKeyValue) {\n-            this.resource = resource;\n-            this.connObjectKeyValue = connObjectKeyValue;\n-        }\n-\n-        public String getResource() {\n-            return resource;\n-        }\n-\n-        public String getConnObjectKeyValue() {\n-            return connObjectKeyValue;\n-        }\n-\n-    }\n-\n-    private static class Misaligned extends Missing {\n-\n-        private final String name;\n-\n-        private final Set<Object> onSyncope;\n-\n-        private final Set<Object> onResource;\n-\n-        Misaligned(\n-                final String resource,\n-                final String connObjectKeyValue,\n-                final String name,\n-                final Set<Object> onSyncope,\n-                final Set<Object> onResource) {\n-\n-            super(resource, connObjectKeyValue);\n-\n-            this.name = name;\n-            this.onSyncope = onSyncope;\n-            this.onResource = onResource;\n-        }\n-\n-        public String getName() {\n-            return name;\n-        }\n-\n-        public Set<Object> getOnSyncope() {\n-            return onSyncope;\n-        }\n-\n-        public Set<Object> getOnResource() {\n-            return onResource;\n-        }\n-\n-    }\n-}"},{"sha":"d0a524e05e48d733dd803dea43547114084293de","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/ReportJob.java","status":"modified","additions":51,"deletions":29,"changes":80,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FReportJob.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FReportJob.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FReportJob.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,13 +18,18 @@\n  */\n package org.apache.syncope.core.provisioning.java.job.report;\n \n-import java.util.Optional;\n+import java.util.Map;\n+import java.util.concurrent.ConcurrentHashMap;\n+import org.apache.syncope.core.persistence.api.DomainHolder;\n+import org.apache.syncope.core.persistence.api.dao.ImplementationDAO;\n+import org.apache.syncope.core.persistence.api.entity.Implementation;\n import org.apache.syncope.core.provisioning.api.job.JobDelegate;\n import org.apache.syncope.core.provisioning.api.job.JobManager;\n import org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate;\n import org.apache.syncope.core.provisioning.java.job.AbstractInterruptableJob;\n+import org.apache.syncope.core.spring.ApplicationContextProvider;\n+import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.apache.syncope.core.spring.security.AuthContextUtils;\n-import org.apache.syncope.core.spring.security.SecurityProperties;\n import org.quartz.JobExecutionContext;\n import org.quartz.JobExecutionException;\n import org.slf4j.Logger;\n@@ -38,48 +43,65 @@ public class ReportJob extends AbstractInterruptableJob {\n \n     private static final Logger LOG = LoggerFactory.getLogger(ReportJob.class);\n \n-    @Autowired\n-    private SecurityProperties securityProperties;\n-\n     /**\n-     * Key, set by the caller, for identifying the report to be executed.\n+     * Report execution status.\n      */\n-    private String reportKey;\n+    public enum Status {\n \n-    @Autowired\n-    private ReportJobDelegate delegate;\n+        SUCCESS,\n+        FAILURE\n \n-    /**\n-     * Report id setter.\n-     *\n-     * @param reportKey to be set\n-     */\n-    public void setReportKey(final String reportKey) {\n-        this.reportKey = reportKey;\n     }\n \n+    private final Map<String, ReportJobDelegate> perContextReportJobDelegates = new ConcurrentHashMap<>();\n+\n+    @Autowired\n+    private DomainHolder domainHolder;\n+\n+    private ReportJobDelegate delegate;\n+\n     @Override\n     public JobDelegate getDelegate() {\n         return delegate;\n     }\n \n     @Override\n     public void execute(final JobExecutionContext context) throws JobExecutionException {\n+        String reportKey = context.getMergedJobDataMap().getString(JobManager.REPORT_KEY);\n         try {\n-            String domainKey = context.getMergedJobDataMap().getString(JobManager.DOMAIN_KEY);\n-            String executor = Optional.ofNullable(context.getMergedJobDataMap().getString(JobManager.EXECUTOR_KEY)).\n-                    orElse(securityProperties.getAdminUser());\n-\n-            AuthContextUtils.callAsAdmin(domainKey, () -> {\n-                try {\n-                    delegate.execute(reportKey, executor);\n-                } catch (Exception e) {\n-                    LOG.error(\"While executing report {}\", reportKey, e);\n-                    throw new RuntimeException(e);\n-                }\n+            String domain = context.getMergedJobDataMap().getString(JobManager.DOMAIN_KEY);\n+            if (domainHolder.getDomains().containsKey(domain)) {\n+                AuthContextUtils.callAsAdmin(domain, () -> {\n+                    try {\n+                        ImplementationDAO implementationDAO =\n+                                ApplicationContextProvider.getApplicationContext().getBean(ImplementationDAO.class);\n+                        Implementation impl = implementationDAO.find(\n+                                context.getMergedJobDataMap().getString(JobManager.DELEGATE_IMPLEMENTATION));\n+                        if (impl == null) {\n+                            LOG.error(\"Could not find Implementation '{}', aborting\",\n+                                    context.getMergedJobDataMap().getString(JobManager.DELEGATE_IMPLEMENTATION));\n+                        } else {\n+                            delegate = ImplementationManager.buildReportJobDelegate(\n+                                    impl,\n+                                    () -> perContextReportJobDelegates.get(impl.getKey()),\n+                                    instance -> perContextReportJobDelegates.put(impl.getKey(), instance)).\n+                                    orElseThrow(() -> new IllegalArgumentException(\n+                                    \"Could not instantiate \" + impl.getBody()));\n+                            delegate.execute(\n+                                    reportKey,\n+                                    context.getMergedJobDataMap().getBoolean(JobManager.DRY_RUN_JOBDETAIL_KEY),\n+                                    context);\n+                        }\n+                    } catch (Exception e) {\n+                        LOG.error(\"While executing report {}\", reportKey, e);\n+                        throw new RuntimeException(e);\n+                    }\n \n-                return null;\n-            });\n+                    return null;\n+                });\n+            } else {\n+                LOG.debug(\"Domain {} not found, skipping\", domain);\n+            }\n         } catch (RuntimeException e) {\n             LOG.error(\"While executing report {}\", reportKey, e);\n             throw new JobExecutionException(\"While executing report \" + reportKey, e);"},{"sha":"6b21695e07e5a3ade91154e4b7e908854850d57d","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/ReportXMLConst.java","status":"removed","additions":0,"deletions":44,"changes":44,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FReportXMLConst.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FReportXMLConst.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FReportXMLConst.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,44 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.provisioning.java.job.report;\n-\n-public final class ReportXMLConst {\n-\n-    public static final String XSD_STRING = \"xsd:string\";\n-\n-    public static final String XSD_INT = \"xsd:integer\";\n-\n-    public static final String XSD_LONG = \"xsd:long\";\n-\n-    public static final String XSD_BOOLEAN = \"xsd:boolean\";\n-\n-    public static final String XSD_DATETIME = \"xsd:dateTime\";\n-\n-    public static final String ELEMENT_REPORT = \"report\";\n-\n-    public static final String ATTR_NAME = \"name\";\n-\n-    public static final String ATTR_CLASS = \"class\";\n-\n-    public static final String ELEMENT_REPORTLET = \"reportlet\";\n-\n-    private ReportXMLConst() {\n-        // empty private constructor for static utility class\n-    }\n-}"},{"sha":"23dab1798da27e2b601b149431fc57dd2c44df4d","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/StaticReportlet.java","status":"removed","additions":0,"deletions":133,"changes":133,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FStaticReportlet.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FStaticReportlet.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FStaticReportlet.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,133 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.provisioning.java.job.report;\n-\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.apache.syncope.common.lib.report.StaticReportletConf;\n-import org.apache.syncope.core.persistence.api.dao.ReportletConfClass;\n-import org.apache.syncope.core.provisioning.api.utils.FormatUtils;\n-import org.springframework.util.StringUtils;\n-import org.xml.sax.ContentHandler;\n-import org.xml.sax.SAXException;\n-import org.xml.sax.helpers.AttributesImpl;\n-\n-@ReportletConfClass(StaticReportletConf.class)\n-public class StaticReportlet extends AbstractReportlet {\n-\n-    private StaticReportletConf conf;\n-\n-    private static void doExtractConf(final ContentHandler handler) throws SAXException {\n-        AttributesImpl atts = new AttributesImpl();\n-        handler.startElement(\"\", \"\", \"configurations\", null);\n-        handler.startElement(\"\", \"\", \"staticAttributes\", atts);\n-\n-        handler.startElement(\"\", \"\", \"string\", atts);\n-        handler.characters(\"string\".toCharArray(), 0, \"string\".length());\n-        handler.endElement(\"\", \"\", \"string\");\n-\n-        handler.startElement(\"\", \"\", \"long\", atts);\n-        handler.characters(\"long\".toCharArray(), 0, \"long\".length());\n-        handler.endElement(\"\", \"\", \"long\");\n-\n-        handler.startElement(\"\", \"\", \"double\", atts);\n-        handler.characters(\"double\".toCharArray(), 0, \"double\".length());\n-        handler.endElement(\"\", \"\", \"double\");\n-\n-        handler.startElement(\"\", \"\", \"date\", atts);\n-        handler.characters(\"date\".toCharArray(), 0, \"date\".length());\n-        handler.endElement(\"\", \"\", \"date\");\n-\n-        handler.startElement(\"\", \"\", \"double\", atts);\n-        handler.characters(\"double\".toCharArray(), 0, \"double\".length());\n-        handler.endElement(\"\", \"\", \"double\");\n-\n-        handler.startElement(\"\", \"\", \"enum\", atts);\n-        handler.characters(\"enum\".toCharArray(), 0, \"enum\".length());\n-        handler.endElement(\"\", \"\", \"enum\");\n-\n-        handler.startElement(\"\", \"\", \"list\", atts);\n-        handler.characters(\"list\".toCharArray(), 0, \"list\".length());\n-        handler.endElement(\"\", \"\", \"list\");\n-\n-        handler.endElement(\"\", \"\", \"staticAttributes\");\n-        handler.endElement(\"\", \"\", \"configurations\");\n-    }\n-\n-    @Override\n-    protected void doExtract(\n-            final ReportletConf conf,\n-            final ContentHandler handler,\n-            final String refDesc)\n-            throws SAXException {\n-\n-        if (conf instanceof StaticReportletConf) {\n-            this.conf = StaticReportletConf.class.cast(conf);\n-        } else {\n-            throw new ReportException(new IllegalArgumentException(\"Invalid configuration provided\"));\n-        }\n-\n-        doExtractConf(handler);\n-\n-        if (StringUtils.hasText(this.conf.getStringField())) {\n-            handler.startElement(\"\", \"\", \"string\", null);\n-            handler.characters(this.conf.getStringField().toCharArray(), 0, this.conf.getStringField().length());\n-            handler.endElement(\"\", \"\", \"string\");\n-        }\n-\n-        if (this.conf.getLongField() != null) {\n-            handler.startElement(\"\", \"\", \"long\", null);\n-            String printed = String.valueOf(this.conf.getLongField());\n-            handler.characters(printed.toCharArray(), 0, printed.length());\n-            handler.endElement(\"\", \"\", \"long\");\n-        }\n-\n-        if (this.conf.getDoubleField() != null) {\n-            handler.startElement(\"\", \"\", \"double\", null);\n-            String printed = String.valueOf(this.conf.getDoubleField());\n-            handler.characters(printed.toCharArray(), 0, printed.length());\n-            handler.endElement(\"\", \"\", \"double\");\n-        }\n-\n-        if (this.conf.getDateField() != null) {\n-            handler.startElement(\"\", \"\", \"date\", null);\n-            String printed = FormatUtils.format(this.conf.getDateField());\n-            handler.characters(printed.toCharArray(), 0, printed.length());\n-            handler.endElement(\"\", \"\", \"date\");\n-        }\n-\n-        if (this.conf.getTraceLevel() != null) {\n-            handler.startElement(\"\", \"\", \"enum\", null);\n-            String printed = this.conf.getTraceLevel().name();\n-            handler.characters(printed.toCharArray(), 0, printed.length());\n-            handler.endElement(\"\", \"\", \"enum\");\n-        }\n-\n-        if (this.conf.getListField() != null && !this.conf.getListField().isEmpty()) {\n-            handler.startElement(\"\", \"\", \"list\", null);\n-            for (String item : this.conf.getListField()) {\n-                if (StringUtils.hasText(item)) {\n-                    handler.startElement(\"\", \"\", \"string\", null);\n-                    handler.characters(item.toCharArray(), 0, item.length());\n-                    handler.endElement(\"\", \"\", \"string\");\n-                }\n-            }\n-            handler.endElement(\"\", \"\", \"list\");\n-        }\n-    }\n-}"},{"sha":"af2c4a4c5cdc44528f0a20c12a4bd68c3ea8d64a","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/UserReportlet.java","status":"removed","additions":0,"deletions":406,"changes":406,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FUserReportlet.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FUserReportlet.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fjob%2Freport%2FUserReportlet.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,406 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.core.provisioning.java.job.report;\n-\n-import java.util.Collection;\n-import java.util.List;\n-import java.util.Map;\n-import org.apache.commons.lang3.StringUtils;\n-import org.apache.syncope.common.lib.Attr;\n-import org.apache.syncope.common.lib.EntityTOUtils;\n-import org.apache.syncope.common.lib.SyncopeConstants;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.apache.syncope.common.lib.report.UserReportletConf;\n-import org.apache.syncope.common.lib.report.UserReportletConf.Feature;\n-import org.apache.syncope.common.lib.to.AnyTO;\n-import org.apache.syncope.common.lib.to.MembershipTO;\n-import org.apache.syncope.common.lib.to.RelationshipTO;\n-import org.apache.syncope.common.lib.to.UserTO;\n-import org.apache.syncope.common.lib.types.AnyTypeKind;\n-import org.apache.syncope.core.persistence.api.dao.AnyDAO;\n-import org.apache.syncope.core.persistence.api.dao.AnySearchDAO;\n-import org.apache.syncope.core.persistence.api.dao.RealmDAO;\n-import org.apache.syncope.core.persistence.api.dao.ReportletConfClass;\n-import org.apache.syncope.core.persistence.api.dao.UserDAO;\n-import org.apache.syncope.core.persistence.api.entity.user.UMembership;\n-import org.apache.syncope.core.persistence.api.entity.user.URelationship;\n-import org.apache.syncope.core.persistence.api.entity.user.User;\n-import org.apache.syncope.core.persistence.api.search.SearchCondConverter;\n-import org.apache.syncope.core.persistence.api.search.SearchCondVisitor;\n-import org.apache.syncope.core.provisioning.api.data.AnyObjectDataBinder;\n-import org.apache.syncope.core.provisioning.api.data.GroupDataBinder;\n-import org.apache.syncope.core.provisioning.api.data.UserDataBinder;\n-import org.apache.syncope.core.provisioning.api.utils.FormatUtils;\n-import org.springframework.beans.factory.annotation.Autowired;\n-import org.xml.sax.ContentHandler;\n-import org.xml.sax.SAXException;\n-import org.xml.sax.helpers.AttributesImpl;\n-\n-@ReportletConfClass(UserReportletConf.class)\n-public class UserReportlet extends AbstractReportlet {\n-\n-    @Autowired\n-    protected RealmDAO realmDAO;\n-\n-    @Autowired\n-    protected UserDAO userDAO;\n-\n-    @Autowired\n-    protected AnySearchDAO searchDAO;\n-\n-    @Autowired\n-    protected UserDataBinder userDataBinder;\n-\n-    @Autowired\n-    protected GroupDataBinder groupDataBinder;\n-\n-    @Autowired\n-    protected AnyObjectDataBinder anyObjectDataBinder;\n-\n-    @Autowired\n-    protected SearchCondVisitor searchCondVisitor;\n-\n-    protected UserReportletConf conf;\n-\n-    protected void doExtractResources(final ContentHandler handler, final AnyTO anyTO)\n-            throws SAXException {\n-\n-        if (anyTO.getResources().isEmpty()) {\n-            LOG.debug(\"No resources found for {}[{}]\", anyTO.getClass().getSimpleName(), anyTO.getKey());\n-        } else {\n-            AttributesImpl atts = new AttributesImpl();\n-            handler.startElement(\"\", \"\", \"resources\", null);\n-\n-            for (String resourceName : anyTO.getResources()) {\n-                atts.clear();\n-\n-                atts.addAttribute(\"\", \"\", ReportXMLConst.ATTR_NAME, ReportXMLConst.XSD_STRING, resourceName);\n-                handler.startElement(\"\", \"\", \"resource\", atts);\n-                handler.endElement(\"\", \"\", \"resource\");\n-            }\n-\n-            handler.endElement(\"\", \"\", \"resources\");\n-        }\n-    }\n-\n-    protected void doExtractAttributes(\n-            final ContentHandler handler,\n-            final AnyTO anyTO,\n-            final Collection<String> attrs,\n-            final Collection<String> derAttrs,\n-            final Collection<String> virAttrs) throws SAXException {\n-\n-        AttributesImpl atts = new AttributesImpl();\n-        if (!attrs.isEmpty()) {\n-            Map<String, Attr> attrMap = EntityTOUtils.buildAttrMap(anyTO.getPlainAttrs());\n-\n-            handler.startElement(\"\", \"\", \"attributes\", null);\n-            for (String attrName : attrs) {\n-                atts.clear();\n-\n-                atts.addAttribute(\"\", \"\", ReportXMLConst.ATTR_NAME, ReportXMLConst.XSD_STRING, attrName);\n-                handler.startElement(\"\", \"\", \"attribute\", atts);\n-\n-                if (attrMap.containsKey(attrName)) {\n-                    for (String value : attrMap.get(attrName).getValues()) {\n-                        handler.startElement(\"\", \"\", \"value\", null);\n-                        handler.characters(value.toCharArray(), 0, value.length());\n-                        handler.endElement(\"\", \"\", \"value\");\n-                    }\n-                } else {\n-                    LOG.debug(\"{} not found for {}[{}]\", attrName,\n-                            anyTO.getClass().getSimpleName(), anyTO.getKey());\n-                }\n-\n-                handler.endElement(\"\", \"\", \"attribute\");\n-            }\n-            handler.endElement(\"\", \"\", \"attributes\");\n-        }\n-\n-        if (!derAttrs.isEmpty()) {\n-            Map<String, Attr> derAttrMap = EntityTOUtils.buildAttrMap(anyTO.getDerAttrs());\n-\n-            handler.startElement(\"\", \"\", \"derivedAttributes\", null);\n-            for (String attrName : derAttrs) {\n-                atts.clear();\n-\n-                atts.addAttribute(\"\", \"\", ReportXMLConst.ATTR_NAME, ReportXMLConst.XSD_STRING, attrName);\n-                handler.startElement(\"\", \"\", \"derivedAttribute\", atts);\n-\n-                if (derAttrMap.containsKey(attrName)) {\n-                    for (String value : derAttrMap.get(attrName).getValues()) {\n-                        handler.startElement(\"\", \"\", \"value\", null);\n-                        handler.characters(value.toCharArray(), 0, value.length());\n-                        handler.endElement(\"\", \"\", \"value\");\n-                    }\n-                } else {\n-                    LOG.debug(\"{} not found for {}[{}]\", attrName,\n-                            anyTO.getClass().getSimpleName(), anyTO.getKey());\n-                }\n-\n-                handler.endElement(\"\", \"\", \"derivedAttribute\");\n-            }\n-            handler.endElement(\"\", \"\", \"derivedAttributes\");\n-        }\n-\n-        if (!virAttrs.isEmpty()) {\n-            Map<String, Attr> virAttrMap = EntityTOUtils.buildAttrMap(anyTO.getVirAttrs());\n-\n-            handler.startElement(\"\", \"\", \"virtualAttributes\", null);\n-            for (String attrName : virAttrs) {\n-                atts.clear();\n-\n-                atts.addAttribute(\"\", \"\", ReportXMLConst.ATTR_NAME, ReportXMLConst.XSD_STRING, attrName);\n-                handler.startElement(\"\", \"\", \"virtualAttribute\", atts);\n-\n-                if (virAttrMap.containsKey(attrName)) {\n-                    for (String value : virAttrMap.get(attrName).getValues()) {\n-                        handler.startElement(\"\", \"\", \"value\", null);\n-                        handler.characters(value.toCharArray(), 0, value.length());\n-                        handler.endElement(\"\", \"\", \"value\");\n-                    }\n-                } else {\n-                    LOG.debug(\"{} not found for {}[{}]\", attrName,\n-                            anyTO.getClass().getSimpleName(), anyTO.getKey());\n-                }\n-\n-                handler.endElement(\"\", \"\", \"virtualAttribute\");\n-            }\n-            handler.endElement(\"\", \"\", \"virtualAttributes\");\n-        }\n-    }\n-\n-    protected void doExtract(final ContentHandler handler, final List<User> users) throws SAXException {\n-        AttributesImpl atts = new AttributesImpl();\n-        for (User user : users) {\n-            atts.clear();\n-\n-            for (Feature feature : conf.getFeatures()) {\n-                String type = null;\n-                String value = null;\n-                switch (feature) {\n-                    case key:\n-                        type = ReportXMLConst.XSD_STRING;\n-                        value = user.getKey();\n-                        break;\n-\n-                    case username:\n-                        type = ReportXMLConst.XSD_STRING;\n-                        value = user.getUsername();\n-                        break;\n-\n-                    case status:\n-                        type = ReportXMLConst.XSD_STRING;\n-                        value = user.getStatus();\n-                        break;\n-\n-                    case creationDate:\n-                        type = ReportXMLConst.XSD_DATETIME;\n-                        value = user.getCreationDate() == null\n-                                ? \"\"\n-                                : FormatUtils.format(user.getCreationDate());\n-                        break;\n-\n-                    case lastLoginDate:\n-                        type = ReportXMLConst.XSD_DATETIME;\n-                        value = user.getLastLoginDate() == null\n-                                ? \"\"\n-                                : FormatUtils.format(user.getLastLoginDate());\n-                        break;\n-\n-                    case changePwdDate:\n-                        type = ReportXMLConst.XSD_DATETIME;\n-                        value = user.getChangePwdDate() == null\n-                                ? \"\"\n-                                : FormatUtils.format(user.getChangePwdDate());\n-                        break;\n-\n-                    case passwordHistorySize:\n-                        type = ReportXMLConst.XSD_INT;\n-                        value = String.valueOf(user.getPasswordHistory().size());\n-                        break;\n-\n-                    case failedLoginCount:\n-                        type = ReportXMLConst.XSD_INT;\n-                        value = String.valueOf(user.getFailedLogins());\n-                        break;\n-\n-                    default:\n-                }\n-\n-                if (type != null && value != null) {\n-                    atts.addAttribute(\"\", \"\", feature.name(), type, value);\n-                }\n-            }\n-\n-            handler.startElement(\"\", \"\", \"user\", atts);\n-\n-            // Using UserTO for attribute values, since the conversion logic of\n-            // values to String is already encapsulated there\n-            UserTO userTO = userDataBinder.getUserTO(user, true);\n-\n-            doExtractAttributes(handler, userTO, conf.getPlainAttrs(), conf.getDerAttrs(), conf.getVirAttrs());\n-\n-            if (conf.getFeatures().contains(Feature.relationships)) {\n-                handler.startElement(\"\", \"\", \"relationships\", null);\n-\n-                for (RelationshipTO rel : userTO.getRelationships()) {\n-                    atts.clear();\n-\n-                    atts.addAttribute(\"\", \"\", \"anyObjectKey\",\n-                            ReportXMLConst.XSD_STRING, rel.getOtherEndKey());\n-                    handler.startElement(\"\", \"\", \"relationship\", atts);\n-\n-                    if (conf.getFeatures().contains(Feature.resources)) {\n-                        for (URelationship actualRel : user.getRelationships(rel.getOtherEndKey())) {\n-                            doExtractResources(\n-                                    handler, anyObjectDataBinder.getAnyObjectTO(actualRel.getRightEnd(), true));\n-                        }\n-                    }\n-\n-                    handler.endElement(\"\", \"\", \"relationship\");\n-                }\n-\n-                handler.endElement(\"\", \"\", \"relationships\");\n-            }\n-            if (conf.getFeatures().contains(Feature.memberships)) {\n-                handler.startElement(\"\", \"\", \"memberships\", null);\n-\n-                for (MembershipTO memb : userTO.getMemberships()) {\n-                    atts.clear();\n-\n-                    atts.addAttribute(\"\", \"\", \"groupKey\",\n-                            ReportXMLConst.XSD_STRING, memb.getGroupKey());\n-                    atts.addAttribute(\"\", \"\", \"groupName\", ReportXMLConst.XSD_STRING, memb.getGroupName());\n-                    handler.startElement(\"\", \"\", \"membership\", atts);\n-\n-                    if (conf.getFeatures().contains(Feature.resources)) {\n-                        UMembership actualMemb = user.getMembership(memb.getGroupKey()).orElse(null);\n-                        if (actualMemb == null) {\n-                            LOG.warn(\"Unexpected: cannot find membership for group {} for user {}\",\n-                                    memb.getGroupKey(), user);\n-                        } else {\n-                            doExtractResources(handler, groupDataBinder.getGroupTO(actualMemb.getRightEnd(), true));\n-                        }\n-                    }\n-\n-                    handler.endElement(\"\", \"\", \"membership\");\n-                }\n-\n-                handler.endElement(\"\", \"\", \"memberships\");\n-            }\n-\n-            if (conf.getFeatures().contains(Feature.resources)) {\n-                doExtractResources(handler, userTO);\n-            }\n-\n-            handler.endElement(\"\", \"\", \"user\");\n-        }\n-    }\n-\n-    protected void doExtractConf(final ContentHandler handler) throws SAXException {\n-        AttributesImpl atts = new AttributesImpl();\n-        handler.startElement(\"\", \"\", \"configurations\", null);\n-        handler.startElement(\"\", \"\", \"userAttributes\", atts);\n-\n-        for (Feature feature : conf.getFeatures()) {\n-            atts.clear();\n-            handler.startElement(\"\", \"\", \"feature\", atts);\n-            handler.characters(feature.name().toCharArray(), 0, feature.name().length());\n-            handler.endElement(\"\", \"\", \"feature\");\n-        }\n-\n-        for (String attr : conf.getPlainAttrs()) {\n-            atts.clear();\n-            handler.startElement(\"\", \"\", \"attribute\", atts);\n-            handler.characters(attr.toCharArray(), 0, attr.length());\n-            handler.endElement(\"\", \"\", \"attribute\");\n-        }\n-\n-        for (String derAttr : conf.getDerAttrs()) {\n-            atts.clear();\n-            handler.startElement(\"\", \"\", \"derAttribute\", atts);\n-            handler.characters(derAttr.toCharArray(), 0, derAttr.length());\n-            handler.endElement(\"\", \"\", \"derAttribute\");\n-        }\n-\n-        for (String virAttr : conf.getVirAttrs()) {\n-            atts.clear();\n-            handler.startElement(\"\", \"\", \"virAttribute\", atts);\n-            handler.characters(virAttr.toCharArray(), 0, virAttr.length());\n-            handler.endElement(\"\", \"\", \"virAttribute\");\n-        }\n-\n-        handler.endElement(\"\", \"\", \"userAttributes\");\n-        handler.endElement(\"\", \"\", \"configurations\");\n-    }\n-\n-    protected int count() {\n-        return StringUtils.isBlank(conf.getMatchingCond())\n-                ? userDAO.count()\n-                : searchDAO.count(\n-                        realmDAO.getRoot(),\n-                        true,\n-                        SyncopeConstants.FULL_ADMIN_REALMS,\n-                        SearchCondConverter.convert(searchCondVisitor, conf.getMatchingCond()),\n-                        AnyTypeKind.USER);\n-    }\n-\n-    @Override\n-    protected void doExtract(\n-            final ReportletConf conf,\n-            final ContentHandler handler,\n-            final String refDesc)\n-            throws SAXException {\n-\n-        if (conf instanceof UserReportletConf) {\n-            this.conf = UserReportletConf.class.cast(conf);\n-        } else {\n-            throw new ReportException(new IllegalArgumentException(\"Invalid configuration provided\"));\n-        }\n-\n-        doExtractConf(handler);\n-\n-        int total = count();\n-        int pages = (total / AnyDAO.DEFAULT_PAGE_SIZE) + 1;\n-\n-        setStatus(refDesc, \"Processing \" + total + \" users in \" + pages + \" pages\");\n-\n-        for (int page = 1; page <= pages; page++) {\n-            setStatus(refDesc, \"Processing \" + total + \" users: page \" + page + \" of \" + pages);\n-\n-            List<User> users;\n-            if (StringUtils.isBlank(this.conf.getMatchingCond())) {\n-                users = userDAO.findAll(page, AnyDAO.DEFAULT_PAGE_SIZE);\n-            } else {\n-                users = searchDAO.search(\n-                        realmDAO.getRoot(),\n-                        true,\n-                        SyncopeConstants.FULL_ADMIN_REALMS,\n-                        SearchCondConverter.convert(searchCondVisitor, this.conf.getMatchingCond()),\n-                        page,\n-                        AnyDAO.DEFAULT_PAGE_SIZE,\n-                        List.of(),\n-                        AnyTypeKind.USER);\n-            }\n-\n-            doExtract(handler, users);\n-        }\n-    }\n-}"},{"sha":"1f1199dddef307d6b520fa13accc1371a250321f","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/AbstractPullResultHandler.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FAbstractPullResultHandler.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FAbstractPullResultHandler.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FAbstractPullResultHandler.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -43,7 +43,6 @@\n import org.apache.syncope.common.lib.types.UnmatchingRule;\n import org.apache.syncope.core.persistence.api.dao.AnyTypeDAO;\n import org.apache.syncope.core.persistence.api.dao.NotFoundException;\n-import org.apache.syncope.core.persistence.api.dao.PullMatch;\n import org.apache.syncope.core.persistence.api.dao.RemediationDAO;\n import org.apache.syncope.core.persistence.api.dao.TaskDAO;\n import org.apache.syncope.core.persistence.api.dao.UserDAO;\n@@ -62,6 +61,7 @@\n import org.apache.syncope.core.provisioning.api.pushpull.IgnoreProvisionException;\n import org.apache.syncope.core.provisioning.api.pushpull.PullActions;\n import org.apache.syncope.core.provisioning.api.pushpull.SyncopePullResultHandler;\n+import org.apache.syncope.core.provisioning.api.rules.PullMatch;\n import org.apache.syncope.core.provisioning.java.utils.ConnObjectUtils;\n import org.apache.syncope.core.spring.security.DelegatedAdministrationException;\n import org.identityconnectors.framework.common.objects.Attribute;"},{"sha":"ad42114008a4f3817a509446444ffacf2386ac8b","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/DefaultPullCorrelationRule.java","status":"renamed","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FDefaultPullCorrelationRule.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FDefaultPullCorrelationRule.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FDefaultPullCorrelationRule.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.persistence.jpa.dao;\n+package org.apache.syncope.core.provisioning.java.pushpull;\n \n import java.util.ArrayList;\n import java.util.List;\n@@ -28,11 +28,11 @@\n import org.apache.syncope.common.lib.policy.PullCorrelationRuleConf;\n import org.apache.syncope.common.lib.to.Item;\n import org.apache.syncope.common.lib.to.Provision;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRuleConfClass;\n import org.apache.syncope.core.persistence.api.dao.search.AnyCond;\n import org.apache.syncope.core.persistence.api.dao.search.AttrCond;\n import org.apache.syncope.core.persistence.api.dao.search.SearchCond;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRuleConfClass;\n import org.identityconnectors.framework.common.objects.Attribute;\n import org.identityconnectors.framework.common.objects.SyncDelta;\n ","previous_filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/dao/DefaultPullCorrelationRule.java"},{"sha":"d0847b3e28e71a0387c4d8fd37cec1db76373c1d","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/DefaultPushCorrelationRule.java","status":"renamed","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FDefaultPushCorrelationRule.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FDefaultPushCorrelationRule.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FDefaultPushCorrelationRule.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.syncope.core.persistence.jpa.dao;\n+package org.apache.syncope.core.provisioning.java.pushpull;\n \n import java.util.ArrayList;\n import java.util.Base64;\n@@ -30,13 +30,13 @@\n import org.apache.syncope.common.lib.search.ConnObjectTOFiqlSearchConditionBuilder;\n import org.apache.syncope.common.lib.to.Provision;\n import org.apache.syncope.common.lib.types.MappingPurpose;\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRuleConfClass;\n import org.apache.syncope.core.persistence.api.entity.Any;\n import org.apache.syncope.core.persistence.api.entity.ExternalResource;\n import org.apache.syncope.core.provisioning.api.AccountGetter;\n import org.apache.syncope.core.provisioning.api.MappingManager;\n import org.apache.syncope.core.provisioning.api.PlainAttrGetter;\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRuleConfClass;\n import org.identityconnectors.common.security.GuardedByteArray;\n import org.identityconnectors.common.security.GuardedString;\n import org.identityconnectors.common.security.SecurityUtil;","previous_filename":"core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/dao/DefaultPushCorrelationRule.java"},{"sha":"e0e49c54e4b129b7cb5ff6f090da8c6062d9a7e9","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/DefaultUserPullResultHandler.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FDefaultUserPullResultHandler.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FDefaultUserPullResultHandler.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FDefaultUserPullResultHandler.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -46,7 +46,6 @@\n import org.apache.syncope.common.lib.types.PatchOperation;\n import org.apache.syncope.common.lib.types.ResourceOperation;\n import org.apache.syncope.common.lib.types.UnmatchingRule;\n-import org.apache.syncope.core.persistence.api.dao.PullMatch;\n import org.apache.syncope.core.persistence.api.entity.Any;\n import org.apache.syncope.core.persistence.api.entity.AnyUtils;\n import org.apache.syncope.core.persistence.api.entity.user.LinkedAccount;\n@@ -58,6 +57,7 @@\n import org.apache.syncope.core.provisioning.api.propagation.PropagationException;\n import org.apache.syncope.core.provisioning.api.pushpull.PullActions;\n import org.apache.syncope.core.provisioning.api.pushpull.UserPullResultHandler;\n+import org.apache.syncope.core.provisioning.api.rules.PullMatch;\n import org.identityconnectors.framework.common.objects.AttributeUtil;\n import org.identityconnectors.framework.common.objects.SyncDelta;\n import org.quartz.JobExecutionException;"},{"sha":"ffbe18d5c68a3d9ec9a572f10c021302f3135833","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/InboundMatcher.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FInboundMatcher.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FInboundMatcher.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FInboundMatcher.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -37,8 +37,6 @@\n import org.apache.syncope.core.persistence.api.dao.AnySearchDAO;\n import org.apache.syncope.core.persistence.api.dao.GroupDAO;\n import org.apache.syncope.core.persistence.api.dao.ImplementationDAO;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PullMatch;\n import org.apache.syncope.core.persistence.api.dao.RealmDAO;\n import org.apache.syncope.core.persistence.api.dao.UserDAO;\n import org.apache.syncope.core.persistence.api.dao.VirSchemaDAO;\n@@ -63,6 +61,8 @@\n import org.apache.syncope.core.provisioning.api.IntAttrNameParser;\n import org.apache.syncope.core.provisioning.api.VirAttrHandler;\n import org.apache.syncope.core.provisioning.api.data.ItemTransformer;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PullMatch;\n import org.apache.syncope.core.provisioning.java.utils.MappingUtils;\n import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.identityconnectors.framework.common.objects.Attribute;"},{"sha":"4db705e3f427650360e3b1db597cb5f54addc19a","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/LDAPMembershipPullActions.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FLDAPMembershipPullActions.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FLDAPMembershipPullActions.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FLDAPMembershipPullActions.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -36,11 +36,11 @@\n import org.apache.syncope.common.lib.types.PatchOperation;\n import org.apache.syncope.core.persistence.api.dao.AnyTypeDAO;\n import org.apache.syncope.core.persistence.api.dao.GroupDAO;\n-import org.apache.syncope.core.persistence.api.dao.PullMatch;\n import org.apache.syncope.core.provisioning.api.Connector;\n import org.apache.syncope.core.provisioning.api.UserProvisioningManager;\n import org.apache.syncope.core.provisioning.api.pushpull.ProvisioningProfile;\n import org.apache.syncope.core.provisioning.api.pushpull.PullActions;\n+import org.apache.syncope.core.provisioning.api.rules.PullMatch;\n import org.apache.syncope.core.spring.implementation.InstanceScope;\n import org.apache.syncope.core.spring.implementation.SyncopeImplementation;\n import org.identityconnectors.framework.common.objects.Attribute;"},{"sha":"46c14b8527de49a3ffa0772460b57e63bac06142","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/OutboundMatcher.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FOutboundMatcher.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FOutboundMatcher.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FOutboundMatcher.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -31,7 +31,6 @@\n import org.apache.syncope.common.lib.to.Item;\n import org.apache.syncope.common.lib.to.Provision;\n import org.apache.syncope.common.lib.types.AnyTypeKind;\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRule;\n import org.apache.syncope.core.persistence.api.dao.UserDAO;\n import org.apache.syncope.core.persistence.api.dao.VirSchemaDAO;\n import org.apache.syncope.core.persistence.api.entity.Any;\n@@ -46,6 +45,7 @@\n import org.apache.syncope.core.provisioning.api.VirAttrHandler;\n import org.apache.syncope.core.provisioning.api.propagation.PropagationActions;\n import org.apache.syncope.core.provisioning.api.propagation.PropagationTaskInfo;\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRule;\n import org.apache.syncope.core.provisioning.java.utils.MappingUtils;\n import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.identityconnectors.framework.common.objects.AttributeBuilder;"},{"sha":"ee0c5839e90eb1c197e7195abc1f712931fd33a7","filename":"core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/PullJobDelegate.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FPullJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FPullJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FPullJobDelegate.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -40,7 +40,6 @@\n import org.apache.syncope.core.persistence.api.dao.GroupDAO;\n import org.apache.syncope.core.persistence.api.dao.NotFoundException;\n import org.apache.syncope.core.persistence.api.dao.PlainSchemaDAO;\n-import org.apache.syncope.core.persistence.api.dao.PullMatch;\n import org.apache.syncope.core.persistence.api.dao.VirSchemaDAO;\n import org.apache.syncope.core.persistence.api.entity.AnyType;\n import org.apache.syncope.core.persistence.api.entity.AnyUtils;\n@@ -62,6 +61,7 @@\n import org.apache.syncope.core.provisioning.api.pushpull.SyncopePullExecutor;\n import org.apache.syncope.core.provisioning.api.pushpull.SyncopePullResultHandler;\n import org.apache.syncope.core.provisioning.api.pushpull.UserPullResultHandler;\n+import org.apache.syncope.core.provisioning.api.rules.PullMatch;\n import org.apache.syncope.core.provisioning.java.utils.ConnObjectUtils;\n import org.apache.syncope.core.provisioning.java.utils.MappingUtils;\n import org.apache.syncope.core.spring.ApplicationContextProvider;"},{"sha":"492ea53cc43c4719113fbd3643525b0832078400","filename":"core/provisioning-java/src/test/java/org/apache/syncope/core/provisioning/java/DummyImplementationLookup.java","status":"modified","additions":10,"deletions":12,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FDummyImplementationLookup.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FDummyImplementationLookup.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FDummyImplementationLookup.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -23,15 +23,15 @@\n import org.apache.syncope.common.lib.policy.PasswordRuleConf;\n import org.apache.syncope.common.lib.policy.PullCorrelationRuleConf;\n import org.apache.syncope.common.lib.policy.PushCorrelationRuleConf;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n-import org.apache.syncope.core.persistence.api.dao.AccountRule;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRule;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.Reportlet;\n-import org.apache.syncope.core.persistence.jpa.dao.DefaultPullCorrelationRule;\n-import org.apache.syncope.core.persistence.jpa.dao.DefaultPushCorrelationRule;\n+import org.apache.syncope.common.lib.report.ReportConf;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n+import org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate;\n+import org.apache.syncope.core.provisioning.api.rules.AccountRule;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRule;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRule;\n+import org.apache.syncope.core.provisioning.java.pushpull.DefaultPullCorrelationRule;\n+import org.apache.syncope.core.provisioning.java.pushpull.DefaultPushCorrelationRule;\n import org.apache.syncope.core.spring.policy.DefaultAccountRule;\n import org.apache.syncope.core.spring.policy.DefaultPasswordRule;\n \n@@ -53,9 +53,7 @@ public Set<Class<?>> getJWTSSOProviderClasses() {\n     }\n \n     @Override\n-    public Class<Reportlet> getReportletClass(\n-            final Class<? extends ReportletConf> reportletConfClass) {\n-\n+    public Class<? extends ReportJobDelegate> getReportClass(final Class<? extends ReportConf> reportConfClass) {\n         return null;\n     }\n "},{"sha":"12d482500676ead5619e2fff1caf90d0a8fd54e1","filename":"core/provisioning-java/src/test/java/org/apache/syncope/core/provisioning/java/ProvisioningTestContext.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FProvisioningTestContext.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FProvisioningTestContext.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2FProvisioningTestContext.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -24,11 +24,11 @@\n import org.apache.syncope.common.keymaster.client.api.DomainOps;\n import org.apache.syncope.core.persistence.api.DomainHolder;\n import org.apache.syncope.core.persistence.api.DomainRegistry;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n import org.apache.syncope.core.persistence.api.content.ContentLoader;\n import org.apache.syncope.core.persistence.jpa.MasterDomain;\n import org.apache.syncope.core.persistence.jpa.PersistenceContext;\n import org.apache.syncope.core.persistence.jpa.StartupDomainLoader;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n import org.apache.syncope.core.spring.security.SecurityContext;\n import org.apache.syncope.core.workflow.java.WorkflowContext;\n import org.springframework.context.ConfigurableApplicationContext;"},{"sha":"26339123e924eda4fc3955b549fe7e66f59d9012","filename":"core/provisioning-java/src/test/java/org/apache/syncope/core/provisioning/java/pushpull/LDAPMembershipPullActionsTest.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FLDAPMembershipPullActionsTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fprovisioning-java%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FLDAPMembershipPullActionsTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fprovisioning-java%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2Fjava%2Fpushpull%2FLDAPMembershipPullActionsTest.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -49,7 +49,6 @@\n import org.apache.syncope.common.lib.types.MatchType;\n import org.apache.syncope.core.persistence.api.dao.AnyTypeDAO;\n import org.apache.syncope.core.persistence.api.dao.GroupDAO;\n-import org.apache.syncope.core.persistence.api.dao.PullMatch;\n import org.apache.syncope.core.persistence.api.entity.AnyType;\n import org.apache.syncope.core.persistence.api.entity.ConnInstance;\n import org.apache.syncope.core.persistence.api.entity.EntityFactory;\n@@ -59,6 +58,7 @@\n import org.apache.syncope.core.persistence.api.entity.user.User;\n import org.apache.syncope.core.provisioning.api.Connector;\n import org.apache.syncope.core.provisioning.api.pushpull.ProvisioningProfile;\n+import org.apache.syncope.core.provisioning.api.rules.PullMatch;\n import org.apache.syncope.core.provisioning.java.AbstractTest;\n import org.identityconnectors.framework.common.objects.Attribute;\n import org.identityconnectors.framework.common.objects.ConnectorObject;"},{"sha":"820142f644ff557aa87f34949c6b74863e7a7866","filename":"core/spring/src/main/java/org/apache/syncope/core/spring/implementation/ImplementationManager.java","status":"modified","additions":22,"deletions":16,"changes":38,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fimplementation%2FImplementationManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fimplementation%2FImplementationManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fimplementation%2FImplementationManager.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -34,16 +34,16 @@\n import org.apache.syncope.common.lib.policy.PasswordRuleConf;\n import org.apache.syncope.common.lib.policy.PullCorrelationRuleConf;\n import org.apache.syncope.common.lib.policy.PushCorrelationRuleConf;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n+import org.apache.syncope.common.lib.report.ReportConf;\n import org.apache.syncope.common.lib.types.IdRepoImplementationType;\n import org.apache.syncope.common.lib.types.ImplementationTypesHolder;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n-import org.apache.syncope.core.persistence.api.dao.AccountRule;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRule;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.Reportlet;\n import org.apache.syncope.core.persistence.api.entity.Implementation;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n+import org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate;\n+import org.apache.syncope.core.provisioning.api.rules.AccountRule;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRule;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRule;\n import org.apache.syncope.core.provisioning.api.serialization.POJOHelper;\n import org.apache.syncope.core.spring.ApplicationContextProvider;\n import org.springframework.beans.factory.support.AbstractBeanDefinition;\n@@ -54,25 +54,31 @@ public final class ImplementationManager {\n \n     private static final Map<String, Class<?>> CLASS_CACHE = Collections.synchronizedMap(new HashMap<>());\n \n-    public static Optional<Reportlet> buildReportlet(final Implementation impl) throws ClassNotFoundException {\n+    @SuppressWarnings(\"unchecked\")\n+    public static Optional<ReportJobDelegate> buildReportJobDelegate(\n+            final Implementation impl,\n+            final Supplier<ReportJobDelegate> cacheGetter,\n+            final Consumer<ReportJobDelegate> cachePutter)\n+            throws ClassNotFoundException {\n+\n         switch (impl.getEngine()) {\n             case GROOVY:\n-                return Optional.of(build(impl));\n+                return Optional.of(build(impl, cacheGetter, cachePutter));\n \n             case JAVA:\n             default:\n-                ReportletConf conf = POJOHelper.deserialize(impl.getBody(), ReportletConf.class);\n-                Class<? extends Reportlet> clazz = ApplicationContextProvider.getApplicationContext().\n-                        getBean(ImplementationLookup.class).getReportletClass(conf.getClass());\n+                ReportConf conf = POJOHelper.deserialize(impl.getBody(), ReportConf.class);\n+                Class<ReportJobDelegate> clazz =\n+                        (Class<ReportJobDelegate>) ApplicationContextProvider.getApplicationContext().\n+                                getBean(ImplementationLookup.class).getReportClass(conf.getClass());\n \n                 if (clazz == null) {\n                     return Optional.empty();\n                 }\n \n-                Reportlet reportlet = (Reportlet) ApplicationContextProvider.getBeanFactory().\n-                        createBean(clazz, AbstractBeanDefinition.AUTOWIRE_BY_TYPE, false);\n-                reportlet.setConf(conf);\n-                return Optional.of(reportlet);\n+                ReportJobDelegate report = build(clazz, true, cacheGetter, cachePutter);\n+                report.setConf(conf);\n+                return Optional.of(report);\n         }\n     }\n "},{"sha":"774deb0005fed8ec08419de4e8bbebf1fc785c71","filename":"core/spring/src/main/java/org/apache/syncope/core/spring/policy/DefaultAccountRule.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fpolicy%2FDefaultAccountRule.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fpolicy%2FDefaultAccountRule.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fpolicy%2FDefaultAccountRule.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -27,11 +27,11 @@\n import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.common.lib.policy.AccountRuleConf;\n import org.apache.syncope.common.lib.policy.DefaultAccountRuleConf;\n-import org.apache.syncope.core.persistence.api.dao.AccountRule;\n-import org.apache.syncope.core.persistence.api.dao.AccountRuleConfClass;\n import org.apache.syncope.core.persistence.api.entity.Entity;\n import org.apache.syncope.core.persistence.api.entity.user.LinkedAccount;\n import org.apache.syncope.core.persistence.api.entity.user.User;\n+import org.apache.syncope.core.provisioning.api.rules.AccountRule;\n+import org.apache.syncope.core.provisioning.api.rules.AccountRuleConfClass;\n import org.springframework.transaction.annotation.Transactional;\n import org.springframework.util.CollectionUtils;\n "},{"sha":"fdb72ea23913fd2dd8997467e788a1ad3a4de2cc","filename":"core/spring/src/main/java/org/apache/syncope/core/spring/policy/DefaultPasswordRule.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fpolicy%2FDefaultPasswordRule.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fpolicy%2FDefaultPasswordRule.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fpolicy%2FDefaultPasswordRule.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -31,10 +31,10 @@\n import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.common.lib.policy.DefaultPasswordRuleConf;\n import org.apache.syncope.common.lib.policy.PasswordRuleConf;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRule;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRuleConfClass;\n import org.apache.syncope.core.persistence.api.entity.user.LinkedAccount;\n import org.apache.syncope.core.persistence.api.entity.user.User;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRule;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRuleConfClass;\n import org.apache.syncope.core.spring.security.Encryptor;\n import org.passay.CharacterData;\n import org.passay.CharacterRule;"},{"sha":"d3149b9c8f6a39f7862bf8c6d324efeb9655ac8c","filename":"core/spring/src/main/java/org/apache/syncope/core/spring/policy/HaveIBeenPwnedPasswordRule.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fpolicy%2FHaveIBeenPwnedPasswordRule.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fpolicy%2FHaveIBeenPwnedPasswordRule.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fpolicy%2FHaveIBeenPwnedPasswordRule.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -30,10 +30,10 @@\n import org.apache.syncope.common.lib.policy.HaveIBeenPwnedPasswordRuleConf;\n import org.apache.syncope.common.lib.policy.PasswordRuleConf;\n import org.apache.syncope.common.lib.types.CipherAlgorithm;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRule;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRuleConfClass;\n import org.apache.syncope.core.persistence.api.entity.user.LinkedAccount;\n import org.apache.syncope.core.persistence.api.entity.user.User;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRule;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRuleConfClass;\n import org.apache.syncope.core.spring.security.Encryptor;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;"},{"sha":"4bfed7b889257f7ba9afba2efa4e4752a8b8f740","filename":"core/spring/src/main/java/org/apache/syncope/core/spring/security/AuthDataAccessor.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FAuthDataAccessor.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FAuthDataAccessor.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FAuthDataAccessor.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -40,7 +40,6 @@\n import org.apache.syncope.common.lib.types.AuditElements;\n import org.apache.syncope.common.lib.types.EntitlementsHolder;\n import org.apache.syncope.common.lib.types.IdRepoEntitlement;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n import org.apache.syncope.core.persistence.api.dao.AccessTokenDAO;\n import org.apache.syncope.core.persistence.api.dao.AnySearchDAO;\n import org.apache.syncope.core.persistence.api.dao.DelegationDAO;\n@@ -59,6 +58,7 @@\n import org.apache.syncope.core.persistence.api.entity.user.User;\n import org.apache.syncope.core.provisioning.api.AuditManager;\n import org.apache.syncope.core.provisioning.api.ConnectorManager;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n import org.apache.syncope.core.provisioning.api.MappingManager;\n import org.apache.syncope.core.provisioning.api.utils.RealmUtils;\n import org.apache.syncope.core.spring.ApplicationContextProvider;"},{"sha":"44daa2a8947ceab241a2dfc27df90f0876905fdb","filename":"core/spring/src/main/java/org/apache/syncope/core/spring/security/DefaultPasswordGenerator.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FDefaultPasswordGenerator.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FDefaultPasswordGenerator.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FDefaultPasswordGenerator.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -24,10 +24,10 @@\n import java.util.concurrent.ConcurrentHashMap;\n import java.util.stream.Collectors;\n import org.apache.syncope.common.lib.policy.DefaultPasswordRuleConf;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRule;\n import org.apache.syncope.core.persistence.api.entity.ExternalResource;\n import org.apache.syncope.core.persistence.api.entity.Implementation;\n import org.apache.syncope.core.persistence.api.entity.policy.PasswordPolicy;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRule;\n import org.apache.syncope.core.spring.implementation.ImplementationManager;\n import org.apache.syncope.core.spring.policy.DefaultPasswordRule;\n import org.passay.CharacterRule;"},{"sha":"71693cd944d35517364430787c4f37fe64e44e40","filename":"core/spring/src/main/java/org/apache/syncope/core/spring/security/WebSecurityContext.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FWebSecurityContext.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FWebSecurityContext.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fspring%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FWebSecurityContext.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -20,7 +20,6 @@\n \n import org.apache.syncope.common.keymaster.client.api.ConfParamOps;\n import org.apache.syncope.common.keymaster.client.api.DomainOps;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n import org.apache.syncope.core.persistence.api.dao.AccessTokenDAO;\n import org.apache.syncope.core.persistence.api.dao.AnySearchDAO;\n import org.apache.syncope.core.persistence.api.dao.DelegationDAO;\n@@ -30,6 +29,7 @@\n import org.apache.syncope.core.persistence.api.dao.UserDAO;\n import org.apache.syncope.core.provisioning.api.AuditManager;\n import org.apache.syncope.core.provisioning.api.ConnectorManager;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n import org.apache.syncope.core.provisioning.api.MappingManager;\n import org.apache.syncope.core.provisioning.api.UserProvisioningManager;\n import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;"},{"sha":"e8348007d627d59702fc8eb828fe62a9e5a1c8d8","filename":"core/spring/src/test/java/org/apache/syncope/core/spring/SpringTestConfiguration.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2FSpringTestConfiguration.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2FSpringTestConfiguration.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fspring%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2FSpringTestConfiguration.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,7 +18,7 @@\n  */\n package org.apache.syncope.core.spring;\n \n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n import org.apache.syncope.core.spring.security.DummyImplementationLookup;\n import org.springframework.context.annotation.Bean;\n import org.springframework.context.annotation.Configuration;"},{"sha":"6ee74c934c3b2562c77cfe012a18054f9cf10325","filename":"core/spring/src/test/java/org/apache/syncope/core/spring/security/DummyImplementationLookup.java","status":"modified","additions":8,"deletions":10,"changes":18,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FDummyImplementationLookup.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FDummyImplementationLookup.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fspring%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FDummyImplementationLookup.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -23,13 +23,13 @@\n import org.apache.syncope.common.lib.policy.PasswordRuleConf;\n import org.apache.syncope.common.lib.policy.PullCorrelationRuleConf;\n import org.apache.syncope.common.lib.policy.PushCorrelationRuleConf;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n-import org.apache.syncope.core.persistence.api.dao.AccountRule;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRule;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.Reportlet;\n+import org.apache.syncope.common.lib.report.ReportConf;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n+import org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate;\n+import org.apache.syncope.core.provisioning.api.rules.AccountRule;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRule;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRule;\n \n public class DummyImplementationLookup implements ImplementationLookup {\n \n@@ -49,9 +49,7 @@ public Set<Class<?>> getJWTSSOProviderClasses() {\n     }\n \n     @Override\n-    public Class<Reportlet> getReportletClass(\n-            final Class<? extends ReportletConf> reportletConfClass) {\n-\n+    public Class<? extends ReportJobDelegate> getReportClass(final Class<? extends ReportConf> reportConfClass) {\n         return null;\n     }\n "},{"sha":"acbb44a20154809f6e64db6552dacb91941dda22","filename":"core/spring/src/test/java/org/apache/syncope/core/spring/security/TestPasswordRule.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FTestPasswordRule.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fspring%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FTestPasswordRule.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fspring%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fspring%2Fsecurity%2FTestPasswordRule.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -20,10 +20,10 @@\n \n import org.apache.syncope.common.lib.policy.DefaultPasswordRuleConf;\n import org.apache.syncope.common.lib.policy.PasswordRuleConf;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRule;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRuleConfClass;\n import org.apache.syncope.core.persistence.api.entity.user.LinkedAccount;\n import org.apache.syncope.core.persistence.api.entity.user.User;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRule;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRuleConfClass;\n \n @PasswordRuleConfClass(DefaultPasswordRuleConf.class)\n public class TestPasswordRule implements PasswordRule {"},{"sha":"ff8b64e9dec57a0c4d36a9246eef2075bd0fe17e","filename":"core/starter/src/main/java/org/apache/syncope/core/starter/SyncopeCoreApplication.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fstarter%2FSyncopeCoreApplication.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fstarter%2FSyncopeCoreApplication.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fstarter%2FSyncopeCoreApplication.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -25,7 +25,6 @@\n import org.apache.syncope.common.keymaster.client.api.startstop.KeymasterStop;\n import org.apache.syncope.common.lib.info.SystemInfo;\n import org.apache.syncope.core.persistence.api.DomainHolder;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n import org.apache.syncope.core.persistence.api.dao.AnyObjectDAO;\n import org.apache.syncope.core.persistence.api.dao.AnyTypeClassDAO;\n import org.apache.syncope.core.persistence.api.dao.AnyTypeDAO;\n@@ -41,6 +40,7 @@\n import org.apache.syncope.core.persistence.api.dao.VirSchemaDAO;\n import org.apache.syncope.core.provisioning.api.ConnIdBundleManager;\n import org.apache.syncope.core.provisioning.api.ConnectorManager;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n import org.apache.syncope.core.provisioning.api.data.ConnInstanceDataBinder;\n import org.apache.syncope.core.starter.actuate.DefaultSyncopeCoreInfoContributor;\n import org.apache.syncope.core.starter.actuate.DomainsHealthIndicator;"},{"sha":"54abf4b4b360710e604f16ed4eaf7f9e74f068bf","filename":"core/starter/src/main/java/org/apache/syncope/core/starter/actuate/DefaultSyncopeCoreInfoContributor.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fstarter%2Factuate%2FDefaultSyncopeCoreInfoContributor.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/core%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fstarter%2Factuate%2FDefaultSyncopeCoreInfoContributor.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fstarter%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fstarter%2Factuate%2FDefaultSyncopeCoreInfoContributor.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -38,7 +38,6 @@\n import org.apache.syncope.common.lib.types.EntitlementsHolder;\n import org.apache.syncope.common.lib.types.ImplementationTypesHolder;\n import org.apache.syncope.common.lib.types.TaskType;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n import org.apache.syncope.core.persistence.api.dao.AnyObjectDAO;\n import org.apache.syncope.core.persistence.api.dao.AnyTypeClassDAO;\n import org.apache.syncope.core.persistence.api.dao.AnyTypeDAO;\n@@ -57,6 +56,7 @@\n import org.apache.syncope.core.persistence.api.entity.policy.AccountPolicy;\n import org.apache.syncope.core.persistence.api.entity.policy.PasswordPolicy;\n import org.apache.syncope.core.provisioning.api.ConnIdBundleManager;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n import org.apache.syncope.core.spring.security.AuthContextUtils;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;"},{"sha":"88b71ba56064d16830ba0ce1557c97bda9809470","filename":"fit/core-reference/src/main/java/org/apache/syncope/fit/core/reference/CoreReferenceContext.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FCoreReferenceContext.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FCoreReferenceContext.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FCoreReferenceContext.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -22,11 +22,11 @@\n import org.apache.syncope.core.logic.IdRepoLogicContext;\n import org.apache.syncope.core.logic.TaskLogic;\n import org.apache.syncope.core.logic.audit.AuditAppender;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n import org.apache.syncope.core.persistence.api.dao.AnySearchDAO;\n import org.apache.syncope.core.persistence.api.dao.ImplementationDAO;\n import org.apache.syncope.core.persistence.api.dao.UserDAO;\n import org.apache.syncope.core.persistence.api.entity.EntityFactory;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n import org.apache.syncope.core.workflow.api.UserWorkflowAdapter;\n import org.springframework.boot.autoconfigure.AutoConfigureBefore;\n import org.springframework.context.annotation.Bean;"},{"sha":"c712ed57dcc14cc8728386b756aa408d5c161547","filename":"fit/core-reference/src/main/java/org/apache/syncope/fit/core/reference/DummyPullCorrelationRule.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FDummyPullCorrelationRule.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FDummyPullCorrelationRule.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FDummyPullCorrelationRule.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -19,9 +19,9 @@\n package org.apache.syncope.fit.core.reference;\n \n import org.apache.syncope.common.lib.to.Provision;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRuleConfClass;\n import org.apache.syncope.core.persistence.api.dao.search.SearchCond;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRuleConfClass;\n import org.identityconnectors.framework.common.objects.SyncDelta;\n \n @PullCorrelationRuleConfClass(DummyPullCorrelationRuleConf.class)"},{"sha":"77001a4fa274fc895d95d7c966fc3633df49a7ac","filename":"fit/core-reference/src/main/java/org/apache/syncope/fit/core/reference/DummyPushCorrelationRule.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FDummyPushCorrelationRule.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FDummyPushCorrelationRule.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FDummyPushCorrelationRule.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -19,10 +19,10 @@\n package org.apache.syncope.fit.core.reference;\n \n import org.apache.syncope.common.lib.to.Provision;\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRuleConfClass;\n import org.apache.syncope.core.persistence.api.entity.Any;\n import org.apache.syncope.core.persistence.api.entity.ExternalResource;\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRuleConfClass;\n import org.identityconnectors.framework.common.objects.Uid;\n import org.identityconnectors.framework.common.objects.filter.Filter;\n import org.identityconnectors.framework.common.objects.filter.FilterBuilder;"},{"sha":"79b36ed0da5c3234f1ddff15740de38773313de5","filename":"fit/core-reference/src/main/java/org/apache/syncope/fit/core/reference/ITImplementationLookup.java","status":"modified","additions":15,"deletions":36,"changes":51,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FITImplementationLookup.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FITImplementationLookup.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FITImplementationLookup.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -33,42 +33,32 @@\n import org.apache.syncope.common.lib.policy.PasswordRuleConf;\n import org.apache.syncope.common.lib.policy.PullCorrelationRuleConf;\n import org.apache.syncope.common.lib.policy.PushCorrelationRuleConf;\n-import org.apache.syncope.common.lib.report.AuditReportletConf;\n-import org.apache.syncope.common.lib.report.GroupReportletConf;\n-import org.apache.syncope.common.lib.report.ReconciliationReportletConf;\n-import org.apache.syncope.common.lib.report.ReportletConf;\n-import org.apache.syncope.common.lib.report.StaticReportletConf;\n-import org.apache.syncope.common.lib.report.UserReportletConf;\n+import org.apache.syncope.common.lib.report.ReportConf;\n import org.apache.syncope.common.lib.types.IdMImplementationType;\n import org.apache.syncope.common.lib.types.IdRepoImplementationType;\n import org.apache.syncope.core.logic.job.MacroRunJobDelegate;\n-import org.apache.syncope.core.persistence.api.ImplementationLookup;\n-import org.apache.syncope.core.persistence.api.dao.AccountRule;\n import org.apache.syncope.core.persistence.api.dao.AnySearchDAO;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRule;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.Reportlet;\n import org.apache.syncope.core.persistence.jpa.attrvalue.validation.AlwaysTrueValidator;\n import org.apache.syncope.core.persistence.jpa.attrvalue.validation.BasicValidator;\n import org.apache.syncope.core.persistence.jpa.attrvalue.validation.BinaryValidator;\n import org.apache.syncope.core.persistence.jpa.attrvalue.validation.EmailAddressValidator;\n-import org.apache.syncope.core.persistence.jpa.dao.DefaultPullCorrelationRule;\n-import org.apache.syncope.core.persistence.jpa.dao.DefaultPushCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.ImplementationLookup;\n+import org.apache.syncope.core.provisioning.api.job.report.ReportJobDelegate;\n+import org.apache.syncope.core.provisioning.api.rules.AccountRule;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRule;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRule;\n import org.apache.syncope.core.provisioning.java.job.ExpiredAccessTokenCleanup;\n import org.apache.syncope.core.provisioning.java.job.ExpiredBatchCleanup;\n-import org.apache.syncope.core.provisioning.java.job.report.AuditReportlet;\n-import org.apache.syncope.core.provisioning.java.job.report.GroupReportlet;\n-import org.apache.syncope.core.provisioning.java.job.report.ReconciliationReportlet;\n-import org.apache.syncope.core.provisioning.java.job.report.StaticReportlet;\n-import org.apache.syncope.core.provisioning.java.job.report.UserReportlet;\n import org.apache.syncope.core.provisioning.java.propagation.AzurePropagationActions;\n import org.apache.syncope.core.provisioning.java.propagation.DBPasswordPropagationActions;\n import org.apache.syncope.core.provisioning.java.propagation.GoogleAppsPropagationActions;\n import org.apache.syncope.core.provisioning.java.propagation.LDAPMembershipPropagationActions;\n import org.apache.syncope.core.provisioning.java.propagation.LDAPPasswordPropagationActions;\n import org.apache.syncope.core.provisioning.java.pushpull.DBPasswordPullActions;\n import org.apache.syncope.core.provisioning.java.pushpull.DefaultProvisionSorter;\n+import org.apache.syncope.core.provisioning.java.pushpull.DefaultPullCorrelationRule;\n+import org.apache.syncope.core.provisioning.java.pushpull.DefaultPushCorrelationRule;\n import org.apache.syncope.core.provisioning.java.pushpull.LDAPMembershipPullActions;\n import org.apache.syncope.core.provisioning.java.pushpull.LDAPPasswordPullActions;\n import org.apache.syncope.core.provisioning.java.pushpull.PullJobDelegate;\n@@ -93,13 +83,8 @@ public class ITImplementationLookup implements ImplementationLookup {\n     private static final Set<Class<?>> JWTSSOPROVIDER_CLASSES =\n             Set.of(SyncopeJWTSSOProvider.class, CustomJWTSSOProvider.class);\n \n-    private static final Map<Class<? extends ReportletConf>, Class<? extends Reportlet>> REPORTLET_CLASSES =\n-            Map.of(\n-                    AuditReportletConf.class, AuditReportlet.class,\n-                    ReconciliationReportletConf.class, ReconciliationReportlet.class,\n-                    GroupReportletConf.class, GroupReportlet.class,\n-                    UserReportletConf.class, UserReportlet.class,\n-                    StaticReportletConf.class, StaticReportlet.class);\n+    private static final Map<Class<? extends ReportConf>, Class<? extends ReportJobDelegate>> REPORT_CLASSES =\n+            Map.of(SampleReportConf.class, SampleReportJobDelegate.class);\n \n     private static final Map<Class<? extends AccountRuleConf>, Class<? extends AccountRule>> ACCOUNT_RULE_CLASSES =\n             Map.of(\n@@ -141,12 +126,8 @@ public class ITImplementationLookup implements ImplementationLookup {\n             put(IdRepoImplementationType.JWT_SSO_PROVIDER, classNames);\n \n             classNames = new HashSet<>();\n-            classNames.add(ReconciliationReportletConf.class.getName());\n-            classNames.add(UserReportletConf.class.getName());\n-            classNames.add(GroupReportletConf.class.getName());\n-            classNames.add(AuditReportletConf.class.getName());\n-            classNames.add(StaticReportletConf.class.getName());\n-            put(IdRepoImplementationType.REPORTLET, classNames);\n+            classNames.add(SampleReportJobDelegate.class.getName());\n+            put(IdRepoImplementationType.REPORT_DELEGATE, classNames);\n \n             classNames = ITImplementationLookup.ACCOUNT_RULE_CLASSES.values().stream().\n                     map(Class::getName).collect(Collectors.toSet());\n@@ -287,10 +268,8 @@ public Set<Class<?>> getJWTSSOProviderClasses() {\n     }\n \n     @Override\n-    public Class<? extends Reportlet> getReportletClass(\n-            final Class<? extends ReportletConf> reportletConfClass) {\n-\n-        return REPORTLET_CLASSES.get(reportletConfClass);\n+    public Class<? extends ReportJobDelegate> getReportClass(final Class<? extends ReportConf> reportConfClass) {\n+        return REPORT_CLASSES.get(reportConfClass);\n     }\n \n     @Override"},{"sha":"1c8b0f50a9701fe05f2ad768608807566419b803","filename":"fit/core-reference/src/main/java/org/apache/syncope/fit/core/reference/LinkedAccountSamplePullCorrelationRule.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FLinkedAccountSamplePullCorrelationRule.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FLinkedAccountSamplePullCorrelationRule.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FLinkedAccountSamplePullCorrelationRule.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -21,13 +21,13 @@\n import java.util.Optional;\n import org.apache.syncope.common.lib.to.Provision;\n import org.apache.syncope.common.lib.types.MatchType;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRule;\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRuleConfClass;\n-import org.apache.syncope.core.persistence.api.dao.PullMatch;\n import org.apache.syncope.core.persistence.api.dao.UserDAO;\n import org.apache.syncope.core.persistence.api.dao.search.AttrCond;\n import org.apache.syncope.core.persistence.api.dao.search.SearchCond;\n import org.apache.syncope.core.persistence.api.entity.Any;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRule;\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRuleConfClass;\n+import org.apache.syncope.core.provisioning.api.rules.PullMatch;\n import org.identityconnectors.framework.common.objects.Attribute;\n import org.identityconnectors.framework.common.objects.SyncDelta;\n import org.springframework.beans.factory.annotation.Autowired;"},{"sha":"e4cb3af7581b8037f397c6d509aa963c9ea4ba45","filename":"fit/core-reference/src/main/java/org/apache/syncope/fit/core/reference/SampleReportConf.java","status":"added","additions":98,"deletions":0,"changes":98,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FSampleReportConf.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FSampleReportConf.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FSampleReportConf.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -0,0 +1,98 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.fit.core.reference;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.apache.syncope.common.lib.report.ReportConf;\n+\n+public class SampleReportConf implements ReportConf {\n+\n+    private static final long serialVersionUID = -882050095416116390L;\n+\n+    private String stringValue;\n+\n+    private int intValue;\n+\n+    private long longValue;\n+\n+    private float floatValue;\n+\n+    private double doubleValue;\n+\n+    private boolean booleanValue;\n+\n+    private List<String> listValues = new ArrayList<>();\n+\n+    public String getStringValue() {\n+        return stringValue;\n+    }\n+\n+    public void setStringValue(final String stringValue) {\n+        this.stringValue = stringValue;\n+    }\n+\n+    public int getIntValue() {\n+        return intValue;\n+    }\n+\n+    public void setIntValue(final int intValue) {\n+        this.intValue = intValue;\n+    }\n+\n+    public long getLongValue() {\n+        return longValue;\n+    }\n+\n+    public void setLongValue(final long longValue) {\n+        this.longValue = longValue;\n+    }\n+\n+    public float getFloatValue() {\n+        return floatValue;\n+    }\n+\n+    public void setFloatValue(final float floatValue) {\n+        this.floatValue = floatValue;\n+    }\n+\n+    public double getDoubleValue() {\n+        return doubleValue;\n+    }\n+\n+    public void setDoubleValue(final double doubleValue) {\n+        this.doubleValue = doubleValue;\n+    }\n+\n+    public boolean isBooleanValue() {\n+        return booleanValue;\n+    }\n+\n+    public void setBooleanValue(final boolean booleanValue) {\n+        this.booleanValue = booleanValue;\n+    }\n+\n+    public List<String> getListValues() {\n+        return listValues;\n+    }\n+\n+    public void setListValues(final List<String> listValues) {\n+        this.listValues = listValues;\n+    }\n+}"},{"sha":"c4c7434727f555e8c24a6da94d9cd5e6f669191d","filename":"fit/core-reference/src/main/java/org/apache/syncope/fit/core/reference/SampleReportJobDelegate.java","status":"added","additions":142,"deletions":0,"changes":142,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FSampleReportJobDelegate.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FSampleReportJobDelegate.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FSampleReportJobDelegate.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -0,0 +1,142 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.fit.core.reference;\n+\n+import com.fasterxml.jackson.core.JsonGenerator;\n+import com.fasterxml.jackson.databind.ObjectWriter;\n+import com.fasterxml.jackson.dataformat.csv.CsvMapper;\n+import com.fasterxml.jackson.dataformat.csv.CsvSchema;\n+import java.io.IOException;\n+import java.io.OutputStream;\n+import org.apache.pdfbox.pdmodel.PDDocument;\n+import org.apache.pdfbox.pdmodel.PDPage;\n+import org.apache.pdfbox.pdmodel.PDPageContentStream;\n+import org.apache.pdfbox.pdmodel.font.PDType1Font;\n+import org.apache.pdfbox.pdmodel.font.Standard14Fonts.FontName;\n+import org.apache.syncope.common.lib.report.ReportConf;\n+import org.apache.syncope.core.provisioning.api.job.report.ReportConfClass;\n+import org.apache.syncope.core.provisioning.java.job.report.AbstractReportJobDelegate;\n+import org.quartz.JobExecutionContext;\n+import org.quartz.JobExecutionException;\n+import org.springframework.http.MediaType;\n+\n+@ReportConfClass(SampleReportConf.class)\n+public class SampleReportJobDelegate extends AbstractReportJobDelegate {\n+\n+    private SampleReportConf sampleReportConf;\n+\n+    private void generateSamplePdfContent(final OutputStream os) throws IOException {\n+        try (PDDocument doc = new PDDocument()) {\n+            PDPage myPage = new PDPage();\n+            doc.addPage(myPage);\n+\n+            try (PDPageContentStream cont = new PDPageContentStream(doc, myPage)) {\n+                cont.beginText();\n+\n+                cont.setFont(new PDType1Font(FontName.HELVETICA_BOLD), 12);\n+                cont.setLeading(14.5f);\n+\n+                cont.newLineAtOffset(25, 700);\n+                String line1 = \"World War II (often abbreviated to WWII or WW2), \"\n+                        + \"also known as the Second World War,\";\n+                cont.showText(line1);\n+\n+                cont.newLine();\n+\n+                String line2 = \"was a global war that lasted from 1939 to 1945, \"\n+                        + \"although related conflicts began earlier.\";\n+                cont.showText(line2);\n+                cont.newLine();\n+\n+                String line3 = \"It involved the vast majority of the world's \"\n+                        + \"countries—including all of the great powers—\";\n+                cont.showText(line3);\n+                cont.newLine();\n+\n+                String line4 = \"eventually forming two opposing military \"\n+                        + \"alliances: the Allies and the Axis.\";\n+                cont.showText(line4);\n+                cont.newLine();\n+\n+                cont.endText();\n+            }\n+\n+            doc.save(os);\n+        }\n+    }\n+\n+    private void generateSampleCsvContent(final OutputStream os) throws IOException {\n+        CsvMapper mapper = new CsvMapper();\n+        mapper.configure(JsonGenerator.Feature.IGNORE_UNKNOWN, true);\n+\n+        CsvSchema schema = CsvSchema.builder().\n+                setUseHeader(true).\n+                addColumn(\"stringValue\").\n+                addColumn(\"intValue\").\n+                addColumn(\"longValue\").\n+                addColumn(\"floatValue\").\n+                addColumn(\"doubleValue\").\n+                addColumn(\"booleanValue\").\n+                addColumn(\"listValues\").\n+                build();\n+\n+        ObjectWriter writer = mapper.writerFor(SampleReportConf.class).with(schema);\n+\n+        writer.writeValues(os).write(sampleReportConf);\n+    }\n+\n+    @Override\n+    public void setConf(final ReportConf conf) {\n+        if (conf instanceof SampleReportConf) {\n+            sampleReportConf = (SampleReportConf) conf;\n+        } else {\n+            throw new IllegalArgumentException(\"Expected \" + SampleReportConf.class.getName() + \", got \" + conf);\n+        }\n+    }\n+\n+    @Override\n+    protected String doExecute(\n+            final boolean dryRun,\n+            final OutputStream os,\n+            final String executor,\n+            final JobExecutionContext context) throws JobExecutionException {\n+\n+        if (!dryRun) {\n+            try {\n+                switch (report.getMimeType()) {\n+                    case MediaType.APPLICATION_PDF_VALUE:\n+                        generateSamplePdfContent(os);\n+                        break;\n+\n+                    case \"text/csv\":\n+                        generateSampleCsvContent(os);\n+                        break;\n+\n+                    default:\n+                }\n+            } catch (IOException e) {\n+                throw new JobExecutionException(e);\n+            }\n+        }\n+\n+        return (dryRun\n+                ? \"DRY \"\n+                : \"\") + \"RUNNING\";\n+    }\n+}"},{"sha":"30188323c2df26464748d97834f29dd88ad42ab1","filename":"fit/core-reference/src/main/java/org/apache/syncope/fit/core/reference/TestAccountRule.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FTestAccountRule.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FTestAccountRule.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FTestAccountRule.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -19,10 +19,10 @@\n package org.apache.syncope.fit.core.reference;\n \n import org.apache.syncope.common.lib.policy.AccountRuleConf;\n-import org.apache.syncope.core.persistence.api.dao.AccountRule;\n-import org.apache.syncope.core.persistence.api.dao.AccountRuleConfClass;\n import org.apache.syncope.core.persistence.api.entity.user.LinkedAccount;\n import org.apache.syncope.core.persistence.api.entity.user.User;\n+import org.apache.syncope.core.provisioning.api.rules.AccountRule;\n+import org.apache.syncope.core.provisioning.api.rules.AccountRuleConfClass;\n import org.apache.syncope.core.spring.policy.AccountPolicyException;\n import org.springframework.transaction.annotation.Transactional;\n "},{"sha":"8c94ce70d70fc66018e29d40985e0f3cc8fa982d","filename":"fit/core-reference/src/main/java/org/apache/syncope/fit/core/reference/TestPasswordRule.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FTestPasswordRule.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FTestPasswordRule.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2Freference%2FTestPasswordRule.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -19,10 +19,10 @@\n package org.apache.syncope.fit.core.reference;\n \n import org.apache.syncope.common.lib.policy.PasswordRuleConf;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRule;\n-import org.apache.syncope.core.persistence.api.dao.PasswordRuleConfClass;\n import org.apache.syncope.core.persistence.api.entity.user.LinkedAccount;\n import org.apache.syncope.core.persistence.api.entity.user.User;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRule;\n+import org.apache.syncope.core.provisioning.api.rules.PasswordRuleConfClass;\n import org.apache.syncope.core.spring.policy.PasswordPolicyException;\n import org.apache.syncope.core.spring.security.Encryptor;\n import org.slf4j.Logger;"},{"sha":"b41cd01abfead369d2aba17e39ec277c3c104ad8","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/AbstractITCase.java","status":"modified","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FAbstractITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FAbstractITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2FAbstractITCase.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -137,7 +137,6 @@\n import org.apache.syncope.common.rest.api.service.RelationshipTypeService;\n import org.apache.syncope.common.rest.api.service.RemediationService;\n import org.apache.syncope.common.rest.api.service.ReportService;\n-import org.apache.syncope.common.rest.api.service.ReportTemplateService;\n import org.apache.syncope.common.rest.api.service.ResourceService;\n import org.apache.syncope.common.rest.api.service.RoleService;\n import org.apache.syncope.common.rest.api.service.SAML2IdPEntityService;\n@@ -323,8 +322,6 @@ public void initialize(final ConfigurableApplicationContext ctx) {\n \n     protected static AuditService AUDIT_SERVICE;\n \n-    protected static ReportTemplateService REPORT_TEMPLATE_SERVICE;\n-\n     protected static ReportService REPORT_SERVICE;\n \n     protected static TaskService TASK_SERVICE;\n@@ -451,7 +448,6 @@ public static void restSetup() {\n         RESOURCE_SERVICE = ADMIN_CLIENT.getService(ResourceService.class);\n         CONNECTOR_SERVICE = ADMIN_CLIENT.getService(ConnectorService.class);\n         AUDIT_SERVICE = ADMIN_CLIENT.getService(AuditService.class);\n-        REPORT_TEMPLATE_SERVICE = ADMIN_CLIENT.getService(ReportTemplateService.class);\n         REPORT_SERVICE = ADMIN_CLIENT.getService(ReportService.class);\n         TASK_SERVICE = ADMIN_CLIENT.getService(TaskService.class);\n         RECONCILIATION_SERVICE = ADMIN_CLIENT.getService(ReconciliationService.class);"},{"sha":"ee0c54468b100921cef665dcca6f1b353ae16cb6","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/console/ReportsITCase.java","status":"modified","additions":30,"deletions":27,"changes":57,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FReportsITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FReportsITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FReportsITCase.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -41,23 +41,25 @@ public void login() {\n \n     private static void createReport(final String name) {\n         TESTER.clickLink(\n-                \"body:content:tabbedPanel:panel:firstLevelContainer:first:container:content:add\");\n+                \"body:content:reportsPanel:firstLevelContainer:first:container:content:add\");\n \n         TESTER.assertComponent(\n-                \"body:content:tabbedPanel:panel:firstLevelContainer:first:outerObjectsRepeater:0:outer\", Modal.class);\n+                \"body:content:reportsPanel:firstLevelContainer:first:outerObjectsRepeater:0:outer\", Modal.class);\n \n         FormTester formTester = TESTER.newFormTester(\n-                \"body:content:tabbedPanel:panel:firstLevelContainer:first:outerObjectsRepeater:0:outer:form\");\n+                \"body:content:reportsPanel:firstLevelContainer:first:outerObjectsRepeater:0:outer:form\");\n         formTester.setValue(\"content:form:view:name:textField\", name);\n-        formTester.setValue(\"content:form:view:template:dropDownChoiceField\", \"0\");\n+        formTester.setValue(\"content:form:view:mimeType:textField\", \"application/pdf\");\n+        formTester.setValue(\"content:form:view:fileExt:textField\", \"pdf\");\n+        formTester.select(\"content:form:view:jobDelegate:dropDownChoiceField\", 0);\n         formTester.submit(\"content:form:buttons:next\");\n \n         TESTER.assertComponent(\n-                \"body:content:tabbedPanel:panel:firstLevelContainer:first:outerObjectsRepeater\"\n+                \"body:content:reportsPanel:firstLevelContainer:first:outerObjectsRepeater\"\n                 + \":0:outer:form:content:form:view:schedule:seconds:textField\", TextField.class);\n \n         formTester = TESTER.newFormTester(\n-                \"body:content:tabbedPanel:panel:firstLevelContainer:first:outerObjectsRepeater:0:outer:form\");\n+                \"body:content:reportsPanel:firstLevelContainer:first:outerObjectsRepeater:0:outer:form\");\n         formTester.submit(\"content:form:buttons:finish\");\n \n         assertSuccessMessage();\n@@ -70,92 +72,93 @@ private static void delete(final String name) {\n         TESTER.clickLink(\"body:reportsLI:reports\", false);\n \n         Component result = findComponentByProp(\n-                \"name\", \"body:content:tabbedPanel:panel:firstLevelContainer:first:container:\"\n+                \"name\", \"body:content:reportsPanel:firstLevelContainer:first:container:\"\n                 + \"content:searchContainer:resultTable:tablePanel:groupForm:checkgroup:dataTable\", name);\n \n         assertNotNull(result);\n \n         TESTER.executeAjaxEvent(result.getPageRelativePath(), Constants.ON_CLICK);\n         TESTER.getRequest().addParameter(\"confirm\", \"true\");\n         TESTER.clickLink(\n-                \"body:content:tabbedPanel:panel:firstLevelContainer:first:outerObjectsRepeater:1:outer:\"\n-                + \"container:content:togglePanelContainer:container:actions:actions:actionRepeater:5:action:action\");\n+                \"body:content:reportsPanel:firstLevelContainer:first:outerObjectsRepeater:1:outer:\"\n+                + \"container:content:togglePanelContainer:container:actions:actions:actionRepeater:4:action:action\");\n \n         TESTER.executeAjaxEvent(TESTER.getComponentFromLastRenderedPage(\n-                \"body:content:tabbedPanel:panel:firstLevelContainer:first:outerObjectsRepeater:1:outer:\"\n-                + \"container:content:togglePanelContainer:container:actions:actions:actionRepeater:5:action:action\"),\n+                \"body:content:reportsPanel:firstLevelContainer:first:outerObjectsRepeater:1:outer:\"\n+                + \"container:content:togglePanelContainer:container:actions:actions:actionRepeater:4:action:action\"),\n                 Constants.ON_CLICK);\n \n         assertSuccessMessage();\n         TESTER.cleanupFeedbackMessages();\n \n         assertNull(findComponentByProp(\n-                \"name\", \"body:content:tabbedPanel:panel:firstLevelContainer:first:container:\"\n+                \"name\", \"body:content:reportsPanel:firstLevelContainer:first:container:\"\n                 + \"content:searchContainer:resultTable:tablePanel:groupForm:checkgroup:dataTable\", \"deleteReport\"));\n     }\n \n     @Test\n     public void read() {\n         Component result = findComponentByProp(\n-                \"name\", \"body:content:tabbedPanel:panel:firstLevelContainer:first:container:\"\n+                \"name\", \"body:content:reportsPanel:firstLevelContainer:first:container:\"\n                 + \"content:searchContainer:resultTable:tablePanel:groupForm:checkgroup:dataTable\", \"test\");\n \n         assertNotNull(result);\n \n         TESTER.executeAjaxEvent(result.getPageRelativePath(), Constants.ON_CLICK);\n         TESTER.clickLink(\n-                \"body:content:tabbedPanel:panel:firstLevelContainer:first:outerObjectsRepeater:1:outer:\"\n+                \"body:content:reportsPanel:firstLevelContainer:first:outerObjectsRepeater:1:outer:\"\n                 + \"container:content:togglePanelContainer:container:actions:actions:actionRepeater:0:action:action\");\n \n         TESTER.assertModelValue(\n-                \"body:content:tabbedPanel:panel:secondLevelContainer:title\", \"Executions of report 'test'\");\n+                \"body:content:reportsPanel:secondLevelContainer:title\", \"Executions of report 'test'\");\n         result = findComponentByProp(\"status\",\n-                \"body:content:tabbedPanel:panel:secondLevelContainer:second:executions:\"\n+                \"body:content:reportsPanel:secondLevelContainer:second:executions:\"\n                 + \"firstLevelContainer:first:container:content:searchContainer:resultTable:tablePanel:groupForm:\"\n                 + \"checkgroup:dataTable\", \"SUCCESS\");\n \n         assertNotNull(result);\n \n         TESTER.executeAjaxEvent(result.getPageRelativePath(), Constants.ON_CLICK);\n         TESTER.clickLink(\n-                \"body:content:tabbedPanel:panel:secondLevelContainer:second:executions:firstLevelContainer:\"\n+                \"body:content:reportsPanel:secondLevelContainer:second:executions:firstLevelContainer:\"\n                 + \"first:outerObjectsRepeater:1:outer:container:content:togglePanelContainer:container:actions:\"\n                 + \"actions:actionRepeater:0:action:action\");\n \n         TESTER.clickLink(\n-                \"body:content:tabbedPanel:panel:secondLevelContainer:second:executions:secondLevelContainer:back\");\n+                \"body:content:reportsPanel:secondLevelContainer:second:executions:secondLevelContainer:back\");\n \n-        TESTER.clickLink(\"body:content:tabbedPanel:panel:secondLevelContainer:back\");\n+        TESTER.clickLink(\"body:content:reportsPanel:secondLevelContainer:back\");\n \n         assertNotNull(findComponentByProp(\n-                \"name\", \"body:content:tabbedPanel:panel:firstLevelContainer:first:container:\"\n-                + \"content:searchContainer:resultTable:tablePanel:groupForm:checkgroup:dataTable\", \"reconciliation\"));\n+                \"name\", \"body:content:reportsPanel:firstLevelContainer:first:container:\"\n+                + \"content:searchContainer:resultTable:tablePanel:groupForm:checkgroup:dataTable\", \"test\"));\n     }\n \n     @Test\n     public void update() {\n         createReport(\"updateReport\");\n         Component result = findComponentByProp(\n-                \"name\", \"body:content:tabbedPanel:panel:firstLevelContainer:first:container:\"\n+                \"name\", \"body:content:reportsPanel:firstLevelContainer:first:container:\"\n                 + \"content:searchContainer:resultTable:tablePanel:groupForm:checkgroup:dataTable\", \"updateReport\");\n \n         assertNotNull(result);\n \n         TESTER.executeAjaxEvent(result.getPageRelativePath(), Constants.ON_CLICK);\n         TESTER.clickLink(\n-                \"body:content:tabbedPanel:panel:firstLevelContainer:first:outerObjectsRepeater:1:outer:\"\n+                \"body:content:reportsPanel:firstLevelContainer:first:outerObjectsRepeater:1:outer:\"\n                 + \"container:content:togglePanelContainer:container:actions:actions:actionRepeater:1:action:action\");\n \n         TESTER.assertModelValue(\n-                \"body:content:tabbedPanel:panel:firstLevelContainer:first:outerObjectsRepeater:\"\n+                \"body:content:reportsPanel:firstLevelContainer:first:outerObjectsRepeater:\"\n                 + \"0:outer:dialog:header:header-label\", \"Edit Report updateReport\");\n \n         FormTester formTester = TESTER.newFormTester(\n-                \"body:content:tabbedPanel:panel:firstLevelContainer:first:outerObjectsRepeater:0:outer:form\");\n-        formTester.setValue(\"content:form:view:template:dropDownChoiceField\", \"1\");\n+                \"body:content:reportsPanel:firstLevelContainer:first:outerObjectsRepeater:0:outer:form\");\n+        formTester.setValue(\"content:form:view:mimeType:textField\", \"application/csv\");\n+        formTester.setValue(\"content:form:view:fileExt:textField\", \"csv\");\n \n         formTester = TESTER.newFormTester(\n-                \"body:content:tabbedPanel:panel:firstLevelContainer:first:outerObjectsRepeater:0:outer:form\");\n+                \"body:content:reportsPanel:firstLevelContainer:first:outerObjectsRepeater:0:outer:form\");\n         formTester.submit(\"content:form:buttons:finish\");\n \n         assertSuccessMessage();"},{"sha":"0c56240d1a2fd479520f43f91f2589172ac1b841","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/console/RolesITCase.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FRolesITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FRolesITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FRolesITCase.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -41,8 +41,7 @@ public void login() {\n     private static void createRole(final String name) {\n         TESTER.clickLink(\"body:content:tabbedPanel:panel:container:content:add\");\n \n-        TESTER.assertComponent(\"body:content:tabbedPanel:panel:outerObjectsRepeater:0:outer\",\n-                Modal.class);\n+        TESTER.assertComponent(\"body:content:tabbedPanel:panel:outerObjectsRepeater:0:outer\", Modal.class);\n \n         FormTester formTester = TESTER.newFormTester(\n                 \"body:content:tabbedPanel:panel:outerObjectsRepeater:0:outer:form\");"},{"sha":"ca2095f93db12514915803c4a202045fddb7541c","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/MembershipITCase.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FMembershipITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FMembershipITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FMembershipITCase.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -267,6 +267,7 @@ public void pull() {\n \n             // 4. create pull task and execute\n             newTask = TASK_SERVICE.read(TaskType.PULL, \"7c2242f4-14af-4ab5-af31-cdae23783655\", true);\n+            newTask.setName(getUUIDString());\n             newTask.setResource(newResource.getKey());\n             newTask.setDestinationRealm(\"/even/two\");\n "},{"sha":"b3316d948680aaf5019c1120786859923266efae","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/PullTaskITCase.java","status":"modified","additions":5,"deletions":3,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FPullTaskITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FPullTaskITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FPullTaskITCase.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -657,6 +657,7 @@ public void filteredReconciliation() throws IOException {\n             assertNotNull(reconFilterBuilder);\n \n             task = TASK_SERVICE.read(TaskType.PULL, \"7c2242f4-14af-4ab5-af31-cdae23783655\", true);\n+            task.setName(getUUIDString());\n             task.setPullMode(PullMode.FILTERED_RECONCILIATION);\n             task.setReconFilterBuilder(reconFilterBuilder.getKey());\n             response = TASK_SERVICE.create(TaskType.PULL, task);\n@@ -797,6 +798,7 @@ public void remediation() {\n         PullTaskTO pullTask = (PullTaskTO) TASK_SERVICE.search(new TaskQuery.Builder(TaskType.PULL).\n                 resource(RESOURCE_NAME_LDAP).build()).getResult().get(0);\n         assertNotNull(pullTask);\n+        pullTask.setName(getUUIDString());\n         pullTask.setResource(ldap.getKey());\n         pullTask.setRemediation(true);\n         pullTask.getActions().clear();\n@@ -1121,7 +1123,7 @@ public void issueSYNCOPE258() throws IOException {\n \n         PullTaskTO task = new PullTaskTO();\n         task.setDestinationRealm(SyncopeConstants.ROOT_REALM);\n-        task.setName(\"Test Pull Rule\");\n+        task.setName(getUUIDString());\n         task.setActive(true);\n         task.setResource(RESOURCE_NAME_WS2);\n         task.setPullMode(PullMode.FULL_RECONCILIATION);\n@@ -1364,7 +1366,7 @@ public void issueSYNCOPE313LDAP() throws Exception {\n \n             pullTask = new PullTaskTO();\n             pullTask.setDestinationRealm(SyncopeConstants.ROOT_REALM);\n-            pullTask.setName(\"LDAP Pull Task\");\n+            pullTask.setName(getUUIDString());\n             pullTask.setActive(true);\n             pullTask.setPerformCreate(true);\n             pullTask.setPerformUpdate(true);\n@@ -1387,7 +1389,7 @@ public void issueSYNCOPE313LDAP() throws Exception {\n             fail(e::getMessage);\n         } finally {\n             // Delete PullTask + user + reset the connector\n-            if (pullTask != null) {\n+            if (pullTask != null && pullTask.getKey() != null) {\n                 TASK_SERVICE.delete(TaskType.PULL, pullTask.getKey());\n             }\n "},{"sha":"a4ce20966a49f3afa7f0a80332a1deceec70781e","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/PushTaskITCase.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FPushTaskITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FPushTaskITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FPushTaskITCase.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -95,7 +95,7 @@ public void list() {\n     @Test\n     public void createPushTask() {\n         PushTaskTO task = new PushTaskTO();\n-        task.setName(\"Test create Push\");\n+        task.setName(getUUIDString());\n         task.setResource(RESOURCE_NAME_WS2);\n         task.setSourceRealm(SyncopeConstants.ROOT_REALM);\n         task.getFilters().put(AnyTypeKind.USER.name(),"},{"sha":"808d3ffc538a67eee9303d88d8a990639ba276c9","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/ReportITCase.java","status":"modified","additions":45,"deletions":194,"changes":239,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FReportITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FReportITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FReportITCase.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -37,27 +37,20 @@\n import java.util.concurrent.atomic.AtomicReference;\n import org.apache.commons.io.IOUtils;\n import org.apache.syncope.common.lib.SyncopeClientException;\n-import org.apache.syncope.common.lib.report.AuditReportletConf;\n-import org.apache.syncope.common.lib.report.UserReportletConf;\n-import org.apache.syncope.common.lib.to.AuditConfTO;\n import org.apache.syncope.common.lib.to.ExecTO;\n-import org.apache.syncope.common.lib.to.ImplementationTO;\n import org.apache.syncope.common.lib.to.ReportTO;\n-import org.apache.syncope.common.lib.types.AuditElements;\n-import org.apache.syncope.common.lib.types.AuditLoggerName;\n import org.apache.syncope.common.lib.types.ClientExceptionType;\n import org.apache.syncope.common.lib.types.IdRepoImplementationType;\n-import org.apache.syncope.common.lib.types.ImplementationEngine;\n-import org.apache.syncope.common.lib.types.ReportExecExportFormat;\n-import org.apache.syncope.common.lib.types.ReportExecStatus;\n import org.apache.syncope.common.rest.api.RESTHeaders;\n import org.apache.syncope.common.rest.api.batch.BatchResponseItem;\n import org.apache.syncope.common.rest.api.beans.ExecQuery;\n import org.apache.syncope.common.rest.api.beans.ExecSpecs;\n-import org.apache.syncope.core.provisioning.api.serialization.POJOHelper;\n+import org.apache.syncope.core.provisioning.java.job.report.ReportJob;\n import org.apache.syncope.fit.AbstractITCase;\n+import org.apache.syncope.fit.core.reference.SampleReportJobDelegate;\n import org.junit.jupiter.api.Assertions;\n import org.junit.jupiter.api.Test;\n+import org.springframework.http.MediaType;\n \n public class ReportITCase extends AbstractITCase {\n \n@@ -76,17 +69,17 @@ protected static String execReport(final String reportKey) {\n             }\n         });\n         ExecTO exec = reportTO.get().getExecutions().get(reportTO.get().getExecutions().size() - 1);\n-        assertEquals(ReportExecStatus.SUCCESS.name(), exec.getStatus());\n+        assertEquals(ReportJob.Status.SUCCESS.name(), exec.getStatus());\n         return exec.getKey();\n     }\n \n     @Test\n-    public void getReportletConfs() {\n-        Set<String> reportletConfs = ADMIN_CLIENT.platform().\n-                getJavaImplInfo(IdRepoImplementationType.REPORTLET).get().getClasses();\n-        assertNotNull(reportletConfs);\n-        assertFalse(reportletConfs.isEmpty());\n-        assertTrue(reportletConfs.contains(UserReportletConf.class.getName()));\n+    public void getReportDelegates() {\n+        Set<String> reportDelegates = ADMIN_CLIENT.platform().\n+                getJavaImplInfo(IdRepoImplementationType.REPORT_DELEGATE).get().getClasses();\n+        assertNotNull(reportDelegates);\n+        assertFalse(reportDelegates.isEmpty());\n+        assertTrue(reportDelegates.contains(SampleReportJobDelegate.class.getName()));\n     }\n \n     @Test\n@@ -107,109 +100,30 @@ public void read() {\n     }\n \n     @Test\n-    public void create() {\n-        ImplementationTO reportlet1 = new ImplementationTO();\n-        reportlet1.setKey(\"UserReportletConf\" + getUUIDString());\n-        reportlet1.setEngine(ImplementationEngine.JAVA);\n-        reportlet1.setType(IdRepoImplementationType.REPORTLET);\n-        reportlet1.setBody(POJOHelper.serialize(new UserReportletConf(\"first\")));\n-        Response response = IMPLEMENTATION_SERVICE.create(reportlet1);\n-        reportlet1.setKey(response.getHeaderString(RESTHeaders.RESOURCE_KEY));\n-\n-        ImplementationTO reportlet2 = new ImplementationTO();\n-        reportlet2.setKey(\"UserReportletConf\" + getUUIDString());\n-        reportlet2.setEngine(ImplementationEngine.JAVA);\n-        reportlet2.setType(IdRepoImplementationType.REPORTLET);\n-        reportlet2.setBody(POJOHelper.serialize(new UserReportletConf(\"second\")));\n-        response = IMPLEMENTATION_SERVICE.create(reportlet2);\n-        reportlet2.setKey(response.getHeaderString(RESTHeaders.RESOURCE_KEY));\n-\n+    public void crud() {\n         ReportTO report = new ReportTO();\n         report.setName(\"testReportForCreate\" + getUUIDString());\n-        report.getReportlets().add(reportlet1.getKey());\n-        report.getReportlets().add(reportlet2.getKey());\n-        report.setTemplate(\"sample\");\n+        report.setMimeType(MediaType.APPLICATION_PDF_VALUE);\n+        report.setFileExt(\"pdf\");\n+        report.setJobDelegate(SampleReportJobDelegate.class.getSimpleName());\n+        report.setActive(true);\n \n         report = createReport(report);\n         assertNotNull(report);\n         ReportTO actual = REPORT_SERVICE.read(report.getKey());\n         assertNotNull(actual);\n         assertEquals(actual, report);\n-    }\n-\n-    @Test\n-    public void update() {\n-        ImplementationTO reportlet1 = new ImplementationTO();\n-        reportlet1.setKey(\"UserReportletConf\" + getUUIDString());\n-        reportlet1.setEngine(ImplementationEngine.JAVA);\n-        reportlet1.setType(IdRepoImplementationType.REPORTLET);\n-        reportlet1.setBody(POJOHelper.serialize(new UserReportletConf(\"first\")));\n-        Response response = IMPLEMENTATION_SERVICE.create(reportlet1);\n-        reportlet1.setKey(response.getHeaderString(RESTHeaders.RESOURCE_KEY));\n \n-        ImplementationTO reportlet2 = new ImplementationTO();\n-        reportlet2.setKey(\"UserReportletConf\" + getUUIDString());\n-        reportlet2.setEngine(ImplementationEngine.JAVA);\n-        reportlet2.setType(IdRepoImplementationType.REPORTLET);\n-        reportlet2.setBody(POJOHelper.serialize(new UserReportletConf(\"second\")));\n-        response = IMPLEMENTATION_SERVICE.create(reportlet2);\n-        reportlet2.setKey(response.getHeaderString(RESTHeaders.RESOURCE_KEY));\n-\n-        ReportTO report = new ReportTO();\n-        report.setName(\"testReportForUpdate\" + getUUIDString());\n-        report.getReportlets().add(reportlet1.getKey());\n-        report.getReportlets().add(reportlet2.getKey());\n-        report.setTemplate(\"sample\");\n-\n-        report = createReport(report);\n-        assertNotNull(report);\n-        assertEquals(2, report.getReportlets().size());\n-\n-        ImplementationTO reportlet3 = new ImplementationTO();\n-        reportlet3.setKey(\"UserReportletConf\" + getUUIDString());\n-        reportlet3.setEngine(ImplementationEngine.JAVA);\n-        reportlet3.setType(IdRepoImplementationType.REPORTLET);\n-        reportlet3.setBody(POJOHelper.serialize(new UserReportletConf(\"last\")));\n-        response = IMPLEMENTATION_SERVICE.create(reportlet3);\n-        reportlet3.setKey(response.getHeaderString(RESTHeaders.RESOURCE_KEY));\n-\n-        report.getReportlets().add(reportlet3.getKey());\n+        report = actual;\n+        report.setMimeType(\"text/csv\");\n+        report.setFileExt(\"csv\");\n \n         REPORT_SERVICE.update(report);\n-        ReportTO updated = REPORT_SERVICE.read(report.getKey());\n-        assertNotNull(updated);\n-        assertEquals(3, updated.getReportlets().size());\n-    }\n-\n-    @Test\n-    public void delete() {\n-        ImplementationTO reportlet1 = new ImplementationTO();\n-        reportlet1.setKey(\"UserReportletConf\" + getUUIDString());\n-        reportlet1.setEngine(ImplementationEngine.JAVA);\n-        reportlet1.setType(IdRepoImplementationType.REPORTLET);\n-        reportlet1.setBody(POJOHelper.serialize(new UserReportletConf(\"first\")));\n-        Response response = IMPLEMENTATION_SERVICE.create(reportlet1);\n-        reportlet1.setKey(response.getHeaderString(RESTHeaders.RESOURCE_KEY));\n-\n-        ImplementationTO reportlet2 = new ImplementationTO();\n-        reportlet2.setKey(\"UserReportletConf\" + getUUIDString());\n-        reportlet2.setEngine(ImplementationEngine.JAVA);\n-        reportlet2.setType(IdRepoImplementationType.REPORTLET);\n-        reportlet2.setBody(POJOHelper.serialize(new UserReportletConf(\"second\")));\n-        response = IMPLEMENTATION_SERVICE.create(reportlet2);\n-        reportlet2.setKey(response.getHeaderString(RESTHeaders.RESOURCE_KEY));\n-\n-        ReportTO report = new ReportTO();\n-        report.setName(\"testReportForDelete\" + getUUIDString());\n-        report.getReportlets().add(reportlet1.getKey());\n-        report.getReportlets().add(reportlet2.getKey());\n-        report.setTemplate(\"sample\");\n-\n-        report = createReport(report);\n-        assertNotNull(report);\n+        actual = REPORT_SERVICE.read(report.getKey());\n+        assertNotNull(actual);\n+        assertEquals(\"csv\", actual.getFileExt());\n \n         REPORT_SERVICE.delete(report.getKey());\n-\n         try {\n             REPORT_SERVICE.read(report.getKey());\n             fail(\"This should not happen\");\n@@ -218,45 +132,35 @@ public void delete() {\n         }\n     }\n \n-    private static void checkExport(final String execKey, final ReportExecExportFormat fmt) throws IOException {\n-        Response response = REPORT_SERVICE.exportExecutionResult(execKey, fmt);\n-        assertNotNull(response);\n-        assertEquals(Response.Status.OK.getStatusCode(), response.getStatusInfo().getStatusCode());\n-        assertNotNull(response.getHeaderString(HttpHeaders.CONTENT_DISPOSITION));\n-        assertTrue(response.getHeaderString(HttpHeaders.CONTENT_DISPOSITION).endsWith('.' + fmt.name().toLowerCase()));\n-\n-        Object entity = response.getEntity();\n-        assertTrue(entity instanceof InputStream);\n-        assertFalse(IOUtils.toString((InputStream) entity, StandardCharsets.UTF_8.name()).isEmpty());\n-    }\n-\n     @Test\n     public void executeAndExport() throws IOException {\n-        ReportTO reportTO = REPORT_SERVICE.read(\"0062ea9c-924d-4ecf-9961-4492a8cc6d1b\");\n-        reportTO.setName(\"executeAndExport\" + getUUIDString());\n-        reportTO.setActive(false);\n-        reportTO.getExecutions().clear();\n-        reportTO = createReport(reportTO);\n-        assertNotNull(reportTO);\n+        ReportTO report = REPORT_SERVICE.read(\"0062ea9c-924d-4ecf-9961-4492a8cc6d1b\");\n+        report.setActive(false);\n+        report.getExecutions().clear();\n+        REPORT_SERVICE.update(report);\n \n         try {\n-            execReport(reportTO.getKey());\n+            execReport(report.getKey());\n             fail(\"This should not happen\");\n         } catch (SyncopeClientException e) {\n             assertEquals(ClientExceptionType.Scheduling, e.getType());\n             assertTrue(e.getElements().iterator().next().contains(\"active\"));\n         }\n \n-        reportTO.setActive(true);\n-        REPORT_SERVICE.update(reportTO);\n+        report.setActive(true);\n+        REPORT_SERVICE.update(report);\n+\n+        String execKey = execReport(report.getKey());\n \n-        String execKey = execReport(reportTO.getKey());\n+        Response response = REPORT_SERVICE.exportExecutionResult(execKey);\n+        assertNotNull(response);\n+        assertEquals(Response.Status.OK.getStatusCode(), response.getStatusInfo().getStatusCode());\n+        assertNotNull(response.getHeaderString(HttpHeaders.CONTENT_DISPOSITION));\n+        assertTrue(response.getHeaderString(HttpHeaders.CONTENT_DISPOSITION).endsWith(\".pdf\"));\n \n-        checkExport(execKey, ReportExecExportFormat.XML);\n-        checkExport(execKey, ReportExecExportFormat.HTML);\n-        checkExport(execKey, ReportExecExportFormat.PDF);\n-        checkExport(execKey, ReportExecExportFormat.RTF);\n-        checkExport(execKey, ReportExecExportFormat.CSV);\n+        Object entity = response.getEntity();\n+        assertTrue(entity instanceof InputStream);\n+        assertFalse(IOUtils.toString((InputStream) entity, StandardCharsets.UTF_8.name()).isEmpty());\n     }\n \n     @Test\n@@ -268,13 +172,13 @@ public void deleteExecutions() throws IOException {\n             // ignore\n         }\n \n-        ReportTO reportTO = REPORT_SERVICE.read(\"0062ea9c-924d-4ecf-9961-4492a8cc6d1b\");\n-        reportTO.setName(\"deleteExecutions\" + getUUIDString());\n-        reportTO.getExecutions().clear();\n-        reportTO = createReport(reportTO);\n-        assertNotNull(reportTO);\n+        ReportTO report = REPORT_SERVICE.read(\"0062ea9c-924d-4ecf-9961-4492a8cc6d1b\");\n+        report.setName(\"deleteExecutions\" + getUUIDString());\n+        report.getExecutions().clear();\n+        report = createReport(report);\n+        assertNotNull(report);\n \n-        String execKey = execReport(reportTO.getKey());\n+        String execKey = execReport(report.getKey());\n         assertNotNull(execKey);\n \n         try {\n@@ -284,66 +188,13 @@ public void deleteExecutions() throws IOException {\n         OffsetDateTime end = OffsetDateTime.now();\n \n         Response response = REPORT_SERVICE.deleteExecutions(\n-                new ExecQuery.Builder().key(reportTO.getKey()).after(start).before(end).build());\n+                new ExecQuery.Builder().key(report.getKey()).after(start).before(end).build());\n         List<BatchResponseItem> batchResponseItems = parseBatchResponse(response);\n         assertEquals(1, batchResponseItems.size());\n         assertEquals(execKey, batchResponseItems.get(0).getHeaders().get(RESTHeaders.RESOURCE_KEY).get(0));\n         assertEquals(Response.Status.OK.getStatusCode(), batchResponseItems.get(0).getStatus());\n     }\n \n-    @Test\n-    public void auditReport() throws IOException {\n-        AuditLoggerName auditLoggerName = new AuditLoggerName(\n-                AuditElements.EventCategoryType.LOGIC,\n-                \"UserLogic\",\n-                null,\n-                \"selfRead\",\n-                AuditElements.Result.SUCCESS);\n-\n-        try {\n-            AuditConfTO audit = new AuditConfTO();\n-            audit.setKey(auditLoggerName.toAuditKey());\n-            AUDIT_SERVICE.set(audit);\n-\n-            ImplementationTO auditReportlet = new ImplementationTO();\n-            auditReportlet.setKey(\"UserReportletConf\" + getUUIDString());\n-            auditReportlet.setEngine(ImplementationEngine.JAVA);\n-            auditReportlet.setType(IdRepoImplementationType.REPORTLET);\n-            auditReportlet.setBody(POJOHelper.serialize(new AuditReportletConf(\"auditReportlet\" + getUUIDString())));\n-            Response response = IMPLEMENTATION_SERVICE.create(auditReportlet);\n-            auditReportlet.setKey(response.getHeaderString(RESTHeaders.RESOURCE_KEY));\n-\n-            ReportTO report = new ReportTO();\n-            report.setName(\"auditReport\" + getUUIDString());\n-            report.setActive(true);\n-            report.getReportlets().add(auditReportlet.getKey());\n-            report.setTemplate(\"sample\");\n-            report = createReport(report);\n-\n-            String execKey = execReport(report.getKey());\n-            checkExport(execKey, ReportExecExportFormat.XML);\n-\n-            report = REPORT_SERVICE.read(report.getKey());\n-            assertNotNull(report.getLastExec());\n-        } finally {\n-            AUDIT_SERVICE.delete(auditLoggerName.toAuditKey());\n-        }\n-    }\n-\n-    @Test\n-    public void issueSYNCOPE43() {\n-        ReportTO reportTO = new ReportTO();\n-        reportTO.setName(\"issueSYNCOPE43\" + getUUIDString());\n-        reportTO.setActive(true);\n-        reportTO.setTemplate(\"sample\");\n-        reportTO = createReport(reportTO);\n-        assertNotNull(reportTO.getKey());\n-\n-        execReport(reportTO.getKey());\n-        reportTO = REPORT_SERVICE.read(reportTO.getKey());\n-        assertEquals(1, reportTO.getExecutions().size());\n-    }\n-\n     @Test\n     public void issueSYNCOPE102() throws IOException {\n         // Create"},{"sha":"80a4aa1ab709c9ab8905cc14c251d2c284f1698c","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/core/ReportTemplateITCase.java","status":"removed","additions":0,"deletions":197,"changes":197,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FReportTemplateITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FReportTemplateITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fcore%2FReportTemplateITCase.java?ref=c5dbc6e9e1a2b23a5c582fefa552ed7a988eb125","patch":"@@ -1,197 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-package org.apache.syncope.fit.core;\n-\n-import static org.junit.jupiter.api.Assertions.assertEquals;\n-import static org.junit.jupiter.api.Assertions.assertFalse;\n-import static org.junit.jupiter.api.Assertions.assertNotNull;\n-import static org.junit.jupiter.api.Assertions.assertTrue;\n-import static org.junit.jupiter.api.Assertions.fail;\n-\n-import jakarta.ws.rs.core.MediaType;\n-import jakarta.ws.rs.core.Response;\n-import java.io.IOException;\n-import java.io.InputStream;\n-import java.nio.charset.StandardCharsets;\n-import java.util.List;\n-import org.apache.commons.io.IOUtils;\n-import org.apache.syncope.common.lib.SyncopeClientException;\n-import org.apache.syncope.common.lib.to.ReportTemplateTO;\n-import org.apache.syncope.common.lib.types.ClientExceptionType;\n-import org.apache.syncope.common.lib.types.ReportExecExportFormat;\n-import org.apache.syncope.common.lib.types.ReportTemplateFormat;\n-import org.apache.syncope.fit.AbstractITCase;\n-import org.junit.jupiter.api.Assertions;\n-import org.junit.jupiter.api.Test;\n-\n-public class ReportTemplateITCase extends AbstractITCase {\n-\n-    @Test\n-    public void read() {\n-        ReportTemplateTO reportTemplateTO = REPORT_TEMPLATE_SERVICE.read(\"sample\");\n-        assertNotNull(reportTemplateTO);\n-    }\n-\n-    @Test\n-    public void list() {\n-        List<ReportTemplateTO> reportTemplateTOs = REPORT_TEMPLATE_SERVICE.list();\n-        assertNotNull(reportTemplateTOs);\n-        assertFalse(reportTemplateTOs.isEmpty());\n-        reportTemplateTOs.forEach(Assertions::assertNotNull);\n-    }\n-\n-    @Test\n-    public void crud() throws IOException {\n-        final String key = getUUIDString();\n-\n-        // 1. create (empty) report template\n-        ReportTemplateTO reportTemplateTO = new ReportTemplateTO();\n-        reportTemplateTO.setKey(key);\n-\n-        Response response = REPORT_TEMPLATE_SERVICE.create(reportTemplateTO);\n-        assertEquals(201, response.getStatus());\n-\n-        // 2. attempt to read HTML and CSV -> fail\n-        try {\n-            REPORT_TEMPLATE_SERVICE.getFormat(key, ReportTemplateFormat.HTML);\n-            fail(\"This should not happen\");\n-        } catch (SyncopeClientException e) {\n-            assertEquals(ClientExceptionType.NotFound, e.getType());\n-        }\n-        try {\n-            REPORT_TEMPLATE_SERVICE.getFormat(key, ReportTemplateFormat.CSV);\n-            fail(\"This should not happen\");\n-        } catch (SyncopeClientException e) {\n-            assertEquals(ClientExceptionType.NotFound, e.getType());\n-        }\n-\n-        // 3. set CSV\n-        String csvTemplate =\n-                \"<xsl:stylesheet xmlns:xsl='http://www.w3.org/1999/XSL/Transform' version='1.0'></xsl:stylesheet>\";\n-        REPORT_TEMPLATE_SERVICE.setFormat(\n-                key, ReportTemplateFormat.CSV, IOUtils.toInputStream(csvTemplate, StandardCharsets.UTF_8));\n-\n-        response = REPORT_TEMPLATE_SERVICE.getFormat(key, ReportTemplateFormat.CSV);\n-        assertEquals(200, response.getStatus());\n-        assertTrue(response.getMediaType().toString().startsWith(MediaType.APPLICATION_XML));\n-        assertTrue(response.getEntity() instanceof InputStream);\n-        assertEquals(\n-                csvTemplate,\n-                IOUtils.toString((InputStream) response.getEntity(), StandardCharsets.UTF_8));\n-\n-        // 3. set HTML\n-        String htmlTemplate =\n-                \"<xsl:stylesheet xmlns:xsl='http://www.w3.org/1999/XSL/Transform' version='1.0'></xsl:stylesheet>\";\n-        REPORT_TEMPLATE_SERVICE.setFormat(\n-                key, ReportTemplateFormat.HTML, IOUtils.toInputStream(htmlTemplate, StandardCharsets.UTF_8));\n-\n-        response = REPORT_TEMPLATE_SERVICE.getFormat(key, ReportTemplateFormat.HTML);\n-        assertEquals(200, response.getStatus());\n-        assertTrue(response.getMediaType().toString().startsWith(MediaType.APPLICATION_XML));\n-        assertTrue(response.getEntity() instanceof InputStream);\n-        assertEquals(\n-                htmlTemplate,\n-                IOUtils.toString((InputStream) response.getEntity(), StandardCharsets.UTF_8));\n-\n-        // 4. remove HTML\n-        REPORT_TEMPLATE_SERVICE.removeFormat(key, ReportTemplateFormat.HTML);\n-\n-        try {\n-            REPORT_TEMPLATE_SERVICE.getFormat(key, ReportTemplateFormat.HTML);\n-            fail(\"This should not happen\");\n-        } catch (SyncopeClientException e) {\n-            assertEquals(ClientExceptionType.NotFound, e.getType());\n-        }\n-\n-        response = REPORT_TEMPLATE_SERVICE.getFormat(key, ReportTemplateFormat.CSV);\n-        assertEquals(200, response.getStatus());\n-        assertTrue(response.getMediaType().toString().startsWith(MediaType.APPLICATION_XML));\n-        assertTrue(response.getEntity() instanceof InputStream);\n-        assertEquals(\n-                csvTemplate,\n-                IOUtils.toString((InputStream) response.getEntity(), StandardCharsets.UTF_8));\n-\n-        // 5. remove report template\n-        REPORT_TEMPLATE_SERVICE.delete(key);\n-\n-        try {\n-            REPORT_TEMPLATE_SERVICE.read(key);\n-            fail(\"This should not happen\");\n-        } catch (SyncopeClientException e) {\n-            assertEquals(ClientExceptionType.NotFound, e.getType());\n-        }\n-        try {\n-            REPORT_TEMPLATE_SERVICE.getFormat(key, ReportTemplateFormat.HTML);\n-            fail(\"This should not happen\");\n-        } catch (SyncopeClientException e) {\n-            assertEquals(ClientExceptionType.NotFound, e.getType());\n-        }\n-        try {\n-            REPORT_TEMPLATE_SERVICE.getFormat(key, ReportTemplateFormat.CSV);\n-            fail(\"This should not happen\");\n-        } catch (SyncopeClientException e) {\n-            assertEquals(ClientExceptionType.NotFound, e.getType());\n-        }\n-    }\n-\n-    @Test\n-    public void safeTemplate() throws IOException {\n-        Response response = REPORT_TEMPLATE_SERVICE.getFormat(\"sample\", ReportTemplateFormat.HTML);\n-        String before = IOUtils.toString((InputStream) response.getEntity(), StandardCharsets.UTF_8);\n-        assertNotNull(before);\n-\n-        String execKey = ReportITCase.execReport(\"0062ea9c-924d-4ecf-9961-4492a8cc6d1b\");\n-        assertNotNull(execKey);\n-        response = REPORT_SERVICE.exportExecutionResult(execKey, ReportExecExportFormat.HTML);\n-        String result = IOUtils.toString((InputStream) response.getEntity(), StandardCharsets.UTF_8);\n-        assertNotNull(result);\n-        assertTrue(result.startsWith(\"<html\"));\n-\n-        String malicious = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n\"\n-                + \"<!DOCTYPE xsl:stylesheet \"\n-                + \"[<!ENTITY file SYSTEM \\\"webapps/syncope/WEB-INF/classes/security.properties\\\">]>\\n\"\n-                + \"<xsl:stylesheet version=\\\"1.0\\\" xmlns:xsl=\\\"http://www.w3.org/1999/XSL/Transform\\\">\\n\"\n-                + \"    <xsl:template match=\\\"/\\\">&file;</xsl:template>\\n\"\n-                + \"</xsl:stylesheet>\";\n-        try {\n-            REPORT_TEMPLATE_SERVICE.setFormat(\"sample\", ReportTemplateFormat.HTML,\n-                    IOUtils.toInputStream(malicious, StandardCharsets.UTF_8));\n-\n-            response = REPORT_SERVICE.exportExecutionResult(execKey, ReportExecExportFormat.HTML);\n-            result = IOUtils.toString((InputStream) response.getEntity(), StandardCharsets.UTF_8);\n-            assertNotNull(result);\n-            assertTrue(result.isEmpty());\n-        } finally {\n-            REPORT_TEMPLATE_SERVICE.setFormat(\"sample\", ReportTemplateFormat.HTML,\n-                    IOUtils.toInputStream(before, StandardCharsets.UTF_8));\n-        }\n-    }\n-\n-    @Test\n-    public void issueSYNCOPE866() {\n-        ReportTemplateTO reportTemplateTO = new ReportTemplateTO();\n-        reportTemplateTO.setKey(\"empty\");\n-        try {\n-            REPORT_TEMPLATE_SERVICE.create(reportTemplateTO);\n-            fail(\"This should not happen\");\n-        } catch (SyncopeClientException e) {\n-            assertEquals(ClientExceptionType.EntityExists, e.getType());\n-        }\n-    }\n-}"},{"sha":"55f6593f40b72c749726510bf5ad41c79a114673","filename":"fit/core-reference/src/test/resources/TestPullRule.groovy","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fresources%2FTestPullRule.groovy","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fresources%2FTestPullRule.groovy","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fresources%2FTestPullRule.groovy?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,9 +18,9 @@\n  */\n import groovy.transform.CompileStatic\n import org.apache.syncope.common.lib.to.Provision\n-import org.apache.syncope.core.persistence.api.dao.PullCorrelationRule\n import org.apache.syncope.core.persistence.api.dao.search.AttrCond\n import org.apache.syncope.core.persistence.api.dao.search.SearchCond\n+import org.apache.syncope.core.provisioning.api.rules.PullCorrelationRule\n import org.identityconnectors.framework.common.objects.SyncDelta\n \n /**"},{"sha":"2a6e4902cc4f4a62dff328fb47ae7a3bc61460ab","filename":"fit/core-reference/src/test/resources/TestPushRule.groovy","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fresources%2FTestPushRule.groovy","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/fit%2Fcore-reference%2Fsrc%2Ftest%2Fresources%2FTestPushRule.groovy","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fresources%2FTestPushRule.groovy?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,9 +18,9 @@\n  */\n import groovy.transform.CompileStatic\n import org.apache.syncope.common.lib.to.Provision\n-import org.apache.syncope.core.persistence.api.dao.PushCorrelationRule\n import org.apache.syncope.core.persistence.api.entity.Any\n import org.apache.syncope.core.persistence.api.entity.ExternalResource\n+import org.apache.syncope.core.provisioning.api.rules.PushCorrelationRule\n import org.identityconnectors.framework.common.objects.AttributeBuilder\n import org.identityconnectors.framework.common.objects.filter.Filter\n import org.identityconnectors.framework.common.objects.filter.FilterBuilder"},{"sha":"f34a7482aced4c39550be52ef88f77f1ef73826e","filename":"pom.xml","status":"modified","additions":0,"deletions":20,"changes":20,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -974,26 +974,6 @@ under the License.\n         <version>${jasypt.version}</version>\n       </dependency>\n \n-      <dependency>\n-        <groupId>org.apache.xmlgraphics</groupId>\n-        <artifactId>fop</artifactId>\n-        <version>2.7</version>\n-        <exclusions>\n-          <exclusion>\n-            <groupId>xalan</groupId>\n-            <artifactId>xalan</artifactId>\n-          </exclusion>\n-          <exclusion>\n-            <groupId>jakarta.servlet</groupId>\n-            <artifactId>servlet-api</artifactId>\n-          </exclusion>\n-          <exclusion>\n-            <groupId>commons-logging</groupId>\n-            <artifactId>commons-logging</artifactId>\n-          </exclusion>\n-        </exclusions>\n-      </dependency>\n-\n       <!-- Flowable -->\n       <dependency>\n         <groupId>org.flowable</groupId>"},{"sha":"95047f68ae3effcda3255780147e6625405c955a","filename":"sra/src/main/java/org/apache/syncope/sra/SRAProperties.java","status":"modified","additions":18,"deletions":5,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/sra%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fsra%2FSRAProperties.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/sra%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fsra%2FSRAProperties.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/sra%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fsra%2FSRAProperties.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -18,6 +18,7 @@\n  */\n package org.apache.syncope.sra;\n \n+import java.io.Serializable;\n import java.net.URI;\n import java.util.ArrayList;\n import java.util.Arrays;\n@@ -31,11 +32,15 @@\n @ConfigurationProperties(SRAProperties.PREFIX)\n public class SRAProperties extends SyncopeProperties {\n \n+    private static final long serialVersionUID = 1250377680268118123L;\n+\n     public static final String PREFIX = \"sra\";\n \n     public static final String AM_TYPE = \"am-type\";\n \n-    public static class Global {\n+    public static class Global implements Serializable {\n+\n+        private static final long serialVersionUID = -2035267979830256742L;\n \n         private URI error = URI.create(\"/error\");\n \n@@ -66,7 +71,9 @@ public enum AMType {\n \n     }\n \n-    public static class OIDC {\n+    public static class OIDC implements Serializable {\n+\n+        private static final long serialVersionUID = 4428057402762583676L;\n \n         private String configuration;\n \n@@ -114,7 +121,9 @@ public void setScopes(final List<String> scopes) {\n         }\n     }\n \n-    public static class OAUTH2 {\n+    public static class OAUTH2 implements Serializable {\n+\n+        private static final long serialVersionUID = -5051777207539192764L;\n \n         private String tokenUri;\n \n@@ -207,7 +216,9 @@ public void setScopes(final List<String> scopes) {\n         }\n     }\n \n-    public static class SAML2 {\n+    public static class SAML2 implements Serializable {\n+\n+        private static final long serialVersionUID = 6819907914821190235L;\n \n         private SAML2BindingType authnRequestBinding = SAML2BindingType.POST;\n \n@@ -320,7 +331,9 @@ public void setKeystoreKeypass(final String keystoreKeyPass) {\n         }\n     }\n \n-    public static class CAS {\n+    public static class CAS implements Serializable {\n+\n+        private static final long serialVersionUID = -5413988649759834473L;\n \n         private String serverPrefix;\n "},{"sha":"c067124567136453750b9e386572e99738d14b19","filename":"src/main/asciidoc/reference-guide/concepts/audit.adoc","status":"modified","additions":0,"deletions":5,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Faudit.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Faudit.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Faudit.adoc?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -25,11 +25,6 @@ Audit events can also be processed differently, for example when using the <<ela\n \n Once events are reported, they can be used as input for external tools.\n \n-[TIP]\n-====\n-An example of how audit entries can be extracted for reporting is shown by the <<audit-reportlet>>.\n-====\n-\n ==== Audit Events\n \n The information provided for <<notification-events,notification events>> is also valid for audit events, including examples -"},{"sha":"a6b7087f76cc96cebb5baf937e2b7124a335708c","filename":"src/main/asciidoc/reference-guide/concepts/policies.adoc","status":"modified","additions":16,"deletions":16,"changes":32,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fpolicies.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fpolicies.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fpolicies.adoc?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -73,10 +73,10 @@ https://github.com/apache/syncope/blob/master/common/idrepo/lib/src/main/java/or\n endif::[]\n . enforcing in an implementation of\n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/AccountRule.java[AccountRule^]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/AccountRule.java[AccountRule^]\n endif::[]\n ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/AccountRule.java[AccountRule^]\n+https://github.com/apache/syncope/blob/master/core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/AccountRule.java[AccountRule^]\n endif::[]\n annotated via\n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n@@ -89,10 +89,10 @@ referring to the configuration class.\n \n As `GROOVY` <<implementations,implementation>>, writing custom account rules means implementing\n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/AccountRule.java[AccountRule^]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/AccountRule.java[AccountRule^]\n endif::[]\n ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/AccountRule.java[AccountRule^]\n+https://github.com/apache/syncope/blob/master/core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/AccountRule.java[AccountRule^]\n endif::[]\n ====\n \n@@ -177,10 +177,10 @@ https://github.com/apache/syncope/blob/master/common/idrepo/lib/src/main/java/or\n endif::[]\n . enforcing in an implementation of\n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/PasswordRule.java[PasswordRule^]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/PasswordRule.java[PasswordRule^]\n endif::[]\n ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/PasswordRule.java[PasswordRule^]\n+https://github.com/apache/syncope/blob/master/core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/PasswordRule.java[PasswordRule^]\n endif::[]\n annotated via\n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n@@ -193,10 +193,10 @@ referring to the configuration class.\n \n As `GROOVY` <<implementations,implementation>>, writing custom account rules means implementing\n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/PasswordRule.java[PasswordRule^]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/PasswordRule.java[PasswordRule^]\n endif::[]\n ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/PasswordRule.java[PasswordRule^]\n+https://github.com/apache/syncope/blob/master/core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/PasswordRule.java[PasswordRule^]\n endif::[]\n ====\n \n@@ -413,10 +413,10 @@ with existing Users (including <<linked-accounts>>), Groups or Any Objects.\n \n The\n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/dao/DefaultPullCorrelationRule.java[default^]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/DefaultPullCorrelationRule.java[default^]\n endif::[]\n ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/dao/DefaultPullCorrelationRule.java[default^]\n+https://github.com/apache/syncope/blob/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/DefaultPullCorrelationRule.java[default^]\n endif::[]\n implementation attempts to match entities on the basis of the values of the provided plain attributes,\n according to the available <<mapping,mapping>>.\n@@ -425,10 +425,10 @@ according to the available <<mapping,mapping>>.\n ====\n Custom pull correlation rules can be provided by <<implementations,implementing>> the\n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/PullCorrelationRule.java[PullCorrelationRule^]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/PullCorrelationRule.java[PullCorrelationRule^]\n endif::[]\n ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/PullCorrelationRule.java[PullCorrelationRule^]\n+https://github.com/apache/syncope/blob/master/core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/PullCorrelationRule.java[PullCorrelationRule^]\n endif::[]\n interface.\n ====\n@@ -450,11 +450,11 @@ objects existing on <<external-resources>>.\n \n The\n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/dao/DefaultPushCorrelationRule.java[default^]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/DefaultPushCorrelationRule.java[default^]\n ]\n endif::[]\n ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/persistence-jpa/src/main/java/org/apache/syncope/core/persistence/jpa/dao/DefaultPushCorrelationRule.java[default^]\n+https://github.com/apache/syncope/blob/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/pushpull/DefaultPushCorrelationRule.java[default^]\n endif::[]\n implementation attempts to match entities on the basis of the values of the provided plain attributes,\n according to the available <<mapping,mapping>>.\n@@ -463,10 +463,10 @@ according to the available <<mapping,mapping>>.\n ====\n Custom push correlation rules can be provided by <<implementations,implementing>> the\n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/PushCorrelationRule.java[PushCorrelationRule^]\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/PushCorrelationRule.java[PushCorrelationRule^]\n endif::[]\n ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/persistence-api/src/main/java/org/apache/syncope/core/persistence/api/dao/PushCorrelationRule.java[PushCorrelationRule^]\n+https://github.com/apache/syncope/blob/master/core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/rules/PushCorrelationRule.java[PushCorrelationRule^]\n endif::[]\n interface.\n ===="},{"sha":"6089538897285abb54e3453731d65f437429f990","filename":"src/main/asciidoc/reference-guide/concepts/reports.adoc","status":"modified","additions":9,"deletions":141,"changes":150,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Freports.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Freports.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Freports.adoc?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -21,149 +21,17 @@\n Reports are a powerful tool to extract, filter and format relevant information from a running Apache Syncope deployment,\n for a wide range of purposes: from business to https://en.wikipedia.org/wiki/DevOps[DevOps^].\n \n-A report is essentially defined by a <<report-templates,template>> and a sequence of <<reportlets,reportlets>>, where\n-the latter is responsible for extracting the required information and the former defines how execution results will be\n-presented, in the various available formats.\n+When defining a report, the following information must be provided:\n \n-Reports can be executed upon request or scheduled: execution results can be downloaded as:\n-\n-* XML\n-* HTML\n-* https://en.wikipedia.org/wiki/Portable_Document_Format[PDF^]\n-* https://en.wikipedia.org/wiki/Rich_Text_Format[RTF^]\n-* https://en.wikipedia.org/wiki/Comma-separated_values[CSV^]\n-\n-==== Report Templates\n-\n-A report template is defined as a triple of https://en.wikipedia.org/wiki/XSLT[XSLT^] documents, distinguished by their\n-target format:\n-\n-* `FO` - transforms the given report result as https://en.wikipedia.org/wiki/XSL_Formatting_Objects[XSL-FO], which\n-will be then made available as PDF and RTF\n-* `HTML` - outputs the given report result as HTML\n-* `CSV` - outputs the given report result as CSV\n-\n-[NOTE]\n-====\n-Report templates can be easily managed via the <<console-reports,admin console>>.\n-====\n-\n-==== Reportlets\n-\n-Reportlets are the building blocks of reports.\n-\n-Each reportlet is composed by:\n-\n-* a Java class extending\n-ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/AbstractReportlet.java[AbstractReportlet^]\n-endif::[]\n-ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/AbstractReportlet.java[AbstractReportlet^]\n-endif::[]\n-and implementing the information extraction logic and generating an XML stream as result\n-* a Java class extending\n-ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/AbstractReportletConf.java[AbstractReportletConf^]\n-endif::[]\n-ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/AbstractReportletConf.java[AbstractReportletConf^]\n-endif::[]\n-and embedding the configuration options that can be tuned when incorporating a given reportlet into a report; when\n-properly annotated, such options are manageable via the <<console-reports,admin console>>\n-\n-Some reportlets are available by default (and briefly presented below) either for direct usage or for acting as\n-a reference when building new reportlets for specific Apache Syncope deployments.\n-\n-===== Static Reportlet\n-\n-Defined by\n-ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/StaticReportlet.java[StaticReportlet^]\n-endif::[]\n-ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/StaticReportlet.java[StaticReportlet^]\n-endif::[]\n-and\n-ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/StaticReportletConf.java[StaticReportletConf^],\n-endif::[]\n-ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/StaticReportletConf.java[StaticReportletConf^],\n-endif::[]\n-it is essentially a handy way to inject static values (of various types) into a report.\n-\n-===== User and Group Reportlets\n-Defined by\n-ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/UserReportlet.java[UserReportlet^]\n-endif::[]\n-ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/UserReportlet.java[UserReportlet^]\n-endif::[]\n-and\n-ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/UserReportletConf.java[UserReportletConf^],\n-endif::[]\n-ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/UserReportletConf.java[UserReportletConf^],\n-endif::[]\n-it can be used to report various information about Users available in the internal storage, their attributes,\n-memberships and relationships, external resources and so on.\n-\n-A similar reportlet is also available for Groups, defined by\n-ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/GroupReportlet.java[GroupReportlet^]\n-endif::[]\n-ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/GroupReportlet.java[GroupReportlet^]\n-endif::[]\n-and\n-ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/GroupReportletConf.java[GroupReportletConf^].\n-endif::[]\n-ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/GroupReportletConf.java[GroupReportletConf^].\n-endif::[]\n-\n-===== Reconciliation Reportlet\n-\n-Defined by\n-ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/ReconciliationReportlet.java[ReconciliationReportlet^]\n-endif::[]\n-ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/ReconciliationReportlet.java[ReconciliationReportlet^]\n-endif::[]\n-and\n-ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/ReconciliationReportletConf.java[ReconciliationReportletConf^],\n-endif::[]\n-ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/ReconciliationReportletConf.java[ReconciliationReportletConf^],\n-endif::[]\n-it provides the global reconciliation status for all Users, Groups and Any Objects available in the internal storage,\n-e.g. whether such entities are available on all Identity Stores matching the assigned\n-<<external-resources,external resources>> and, if so, whether the <<mapping,mapped>> attributes feature the expected\n-values.\n-\n-An instance of reconciliation reportlet is run by default from the admin console's <<dashboard,dashboard>>, and results\n-are available as a widget.\n-\n-===== Audit Reportlet\n-\n-Defined by\n-ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/AuditReportlet.java[AuditReportlet^]\n-endif::[]\n-ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/AuditReportlet.java[AuditReportlet^]\n-endif::[]\n-and\n+* mime type and file extension: the type of content that the report is expected to generate\n+* job delegate class: Java class extending\n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n-https://github.com/apache/syncope/blob/syncope-{docVersion}/common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/AuditReportletConf.java[AuditReportletConf^],\n+https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/AbstractReportJobDelegate.java[AbstractReportJobDelegate^]\n endif::[]\n ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n-https://github.com/apache/syncope/blob/master/common/idrepo/lib/src/main/java/org/apache/syncope/common/lib/report/AuditReportletConf.java[AuditReportletConf^],\n+https://github.com/apache/syncope/blob/master/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/job/report/AbstractReportJobDelegate.java[AbstractReportJobDelegate^]\n endif::[]\n-it is mostly a sample reportlet showing how to extract data produced by <<audit>>.\n+providing the custom logic to extract information from Syncope and generate output according to the configured mime type\n+* scheduling information:\n+** when to start\n+** http://www.quartz-scheduler.org/documentation/quartz-2.2.x/tutorials/crontrigger.html[cron expression^]"},{"sha":"0d7a45e7cfabc862a24f25806fd82fc1d6a85937","filename":"src/main/asciidoc/reference-guide/configuration/highavailability.adoc","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconfiguration%2Fhighavailability.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconfiguration%2Fhighavailability.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconfiguration%2Fhighavailability.adoc?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -60,7 +60,7 @@ persistence.remoteCommitProvider=tcp(Addresses=10.0.1.10;10.0.1.11)\n \n The http://www.quartz-scheduler.org[Quartz^] scheduler is largely used within <<core>> to schedule the execution\n of jobs, including <<tasks-pull,pull>>, <<tasks-push,push>>, <<tasks-notification,notification>>, <<tasks-macro,macro>> and \n-<<tasks-scheduled,scheduled>> tasks, and <<reportlets,reportlets>>.\n+<<tasks-scheduled,scheduled>> tasks, and <<reports,reports>>.\n \n By default, Quartz is configured for\n http://www.quartz-scheduler.org/documentation/quartz-2.2.x/configuration/ConfigJDBCJobStoreClustering.html[clustering^],"},{"sha":"2dfea4b686f89a432c9c43f30c453bc926e62f26","filename":"src/main/asciidoc/reference-guide/usage/customization.adoc","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/src%2Fmain%2Fasciidoc%2Freference-guide%2Fusage%2Fcustomization.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/src%2Fmain%2Fasciidoc%2Freference-guide%2Fusage%2Fcustomization.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fusage%2Fcustomization.adoc?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -261,7 +261,7 @@ components:\n * <<commands,commands>>\n * <<tasks-macro,macros>>\n * <<tasks-scheduled,scheduled tasks>>\n-* <<reportlets,reportlets>>\n+* <<reports,reports>>\n * <<account-rules,account>> and <<password-rules,password>> rules for policies\n * <<plain,plain schema validators>>\n * <<mapping,mapping item transformers>>"},{"sha":"25d93a489a8ae0f89b2231848b9a053822dff2cd","filename":"wa/bootstrap/src/main/java/org/apache/syncope/wa/bootstrap/WAProperties.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/9db04e830733c2e08ff1d158d9bcad8323119249/wa%2Fbootstrap%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fbootstrap%2FWAProperties.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/9db04e830733c2e08ff1d158d9bcad8323119249/wa%2Fbootstrap%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fbootstrap%2FWAProperties.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/wa%2Fbootstrap%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fwa%2Fbootstrap%2FWAProperties.java?ref=9db04e830733c2e08ff1d158d9bcad8323119249","patch":"@@ -24,6 +24,8 @@\n @ConfigurationProperties(\"wa\")\n public class WAProperties extends SyncopeProperties {\n \n+    private static final long serialVersionUID = 7925827623055998239L;\n+\n     private long contextRefreshDelay = 15;\n \n     public long getContextRefreshDelay() {"}]}
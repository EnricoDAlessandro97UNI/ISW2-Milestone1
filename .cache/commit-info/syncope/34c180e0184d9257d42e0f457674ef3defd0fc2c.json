{"sha":"34c180e0184d9257d42e0f457674ef3defd0fc2c","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjM0YzE4MGUwMTg0ZDkyNTdkNDJlMGY0NTc2NzRlZjNkZWZkMGZjMmM=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-09-20T13:29:10Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2013-09-20T13:29:10Z"},"message":"[SYNCOPE-418] Now working with JDK 6 as well...\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/branches/1_1_X@1524998 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"84864a691664cf800d1bff083ea9fd6544a3944e","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/84864a691664cf800d1bff083ea9fd6544a3944e"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/34c180e0184d9257d42e0f457674ef3defd0fc2c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/34c180e0184d9257d42e0f457674ef3defd0fc2c","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/34c180e0184d9257d42e0f457674ef3defd0fc2c","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/34c180e0184d9257d42e0f457674ef3defd0fc2c/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"7df0dce62a55b82d7f1d637ba61cd69f418c3b2a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/7df0dce62a55b82d7f1d637ba61cd69f418c3b2a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/7df0dce62a55b82d7f1d637ba61cd69f418c3b2a"}],"stats":{"total":31,"additions":9,"deletions":22},"files":[{"sha":"57db3a99d563f0ace2935518289f5492f2500dba","filename":"core/src/main/java/org/apache/syncope/core/persistence/validation/entity/AbstractValidator.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/34c180e0184d9257d42e0f457674ef3defd0fc2c/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fvalidation%2Fentity%2FAbstractValidator.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/34c180e0184d9257d42e0f457674ef3defd0fc2c/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fvalidation%2Fentity%2FAbstractValidator.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fvalidation%2Fentity%2FAbstractValidator.java?ref=34c180e0184d9257d42e0f457674ef3defd0fc2c","patch":"@@ -33,7 +33,7 @@\n     protected static final Logger LOG = LoggerFactory.getLogger(AbstractValidator.class);\n \n     protected static final Pattern NAME_PATTERN =\n-            Pattern.compile(\"^[\\\\w \\\\-@.]+\", Pattern.CASE_INSENSITIVE | Pattern.UNICODE_CHARACTER_CLASS);\n+            Pattern.compile(\"^[\\\\w \\\\-@.]+\", Pattern.CASE_INSENSITIVE | Pattern.UNICODE_CASE);\n \n     @Override\n     public void initialize(final A annotation) {"},{"sha":"fab9b7be7cc4ed2f1923775d110d273845c7f64a","filename":"core/src/main/java/org/apache/syncope/core/persistence/validation/entity/EntitlementValidator.java","status":"modified","additions":8,"deletions":21,"changes":29,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/34c180e0184d9257d42e0f457674ef3defd0fc2c/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fvalidation%2Fentity%2FEntitlementValidator.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/34c180e0184d9257d42e0f457674ef3defd0fc2c/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fvalidation%2Fentity%2FEntitlementValidator.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fpersistence%2Fvalidation%2Fentity%2FEntitlementValidator.java?ref=34c180e0184d9257d42e0f457674ef3defd0fc2c","patch":"@@ -18,7 +18,6 @@\n  */\n package org.apache.syncope.core.persistence.validation.entity;\n \n-import java.util.regex.Matcher;\n import java.util.regex.Pattern;\n import javax.validation.ConstraintValidatorContext;\n import org.apache.syncope.common.types.EntityViolationType;\n@@ -30,26 +29,14 @@ public class EntitlementValidator extends AbstractValidator<EntitlementCheck, En\n \n     @Override\n     public boolean isValid(final Entitlement object, final ConstraintValidatorContext context) {\n-        boolean isValid;\n-\n-        if (object == null) {\n-            isValid = true;\n-        } else {\n-            if (object.getName() == null) {\n-                isValid = false;\n-            } else {\n-                Matcher matcher = ROLE_ENTITLEMENT_NAME_PATTERN.matcher(object.getName());\n-                isValid = !matcher.matches();\n-            }\n-\n-            if (!isValid) {\n-                LOG.error(object + \" cannot have name starting by ROLE_\");\n-\n-                context.disableDefaultConstraintViolation();\n-                context.buildConstraintViolationWithTemplate(getTemplate(\n-                        EntityViolationType.InvalidName, object + \" cannot have name starting by ROLE_\")).\n-                        addNode(\"name\").addConstraintViolation();\n-            }\n+        boolean isValid = !ROLE_ENTITLEMENT_NAME_PATTERN.matcher(object.getName()).matches();\n+        if (!isValid) {\n+            LOG.error(object + \" cannot have name starting by ROLE_\");\n+\n+            context.disableDefaultConstraintViolation();\n+            context.buildConstraintViolationWithTemplate(getTemplate(\n+                    EntityViolationType.InvalidName, object + \" cannot have name starting by ROLE_\")).\n+                    addNode(\"name\").addConstraintViolation();\n         }\n \n         return isValid;"}]}
{"sha":"05a2b35861017fa094fb1f1411f708cc786a4fd4","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjA1YTJiMzU4NjEwMTdmYTA5NGZiMWYxNDExZjcwOGNjNzg2YTRmZDQ=","commit":{"author":{"name":"Misagh Moayyed","email":"mm1844@gmail.com","date":"2020-02-06T11:20:30Z"},"committer":{"name":"Francesco Chicchiricc√≤","email":"ilgrosso@apache.org","date":"2020-02-06T13:14:32Z"},"message":"SYNCOPE-1506: Merge Accounts (#153)\n\n* initial pass at merging users/accounts\n\n* clean up config; working on wizard and user selection\n\n* clean up config; working on wizard and user selection\n\n* polish\n\n* working on account review wizard page\n\n* working on batch items\n\n* working on batch requests\n\n* testing batch ops\n\n* fix tests\n\n* fix test\n\n* fix formatting issues\n\n* apply changes based on review suggestions\n\n* working on ITs for merge-accounts feature\n\n* updated test\n\n* adjustments to query filter\n\n* tweaks to UI\n\n* cntd with wicket changes and merging functionality\n\n* working on merge wizard. added panels to show resources, and preview\n\n* add panel for preview\n\n* polish\n\n* polish\n\n* cntd with tests - wip\n\n* addressing feedback after review - tests WIP.\n\n* fix issues after review\n\n* highlight item when selected in data table\n\n* work out events with item selection after the merge\n\n* fix tests - let ci run\n\n* fix checkstyle","tree":{"sha":"a613a62b54444475752b084238e834eabb2531ee","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/a613a62b54444475752b084238e834eabb2531ee"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/05a2b35861017fa094fb1f1411f708cc786a4fd4","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/05a2b35861017fa094fb1f1411f708cc786a4fd4","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/05a2b35861017fa094fb1f1411f708cc786a4fd4","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/05a2b35861017fa094fb1f1411f708cc786a4fd4/comments","author":{"login":"mmoayyed","id":1205228,"node_id":"MDQ6VXNlcjEyMDUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/1205228?v=4","gravatar_id":"","url":"https://api.github.com/users/mmoayyed","html_url":"https://github.com/mmoayyed","followers_url":"https://api.github.com/users/mmoayyed/followers","following_url":"https://api.github.com/users/mmoayyed/following{/other_user}","gists_url":"https://api.github.com/users/mmoayyed/gists{/gist_id}","starred_url":"https://api.github.com/users/mmoayyed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmoayyed/subscriptions","organizations_url":"https://api.github.com/users/mmoayyed/orgs","repos_url":"https://api.github.com/users/mmoayyed/repos","events_url":"https://api.github.com/users/mmoayyed/events{/privacy}","received_events_url":"https://api.github.com/users/mmoayyed/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/b0b8f8b8fb5047d3d4de2d71f4d6cd266e9fe5d8"}],"stats":{"total":1655,"additions":1563,"deletions":92},"files":[{"sha":"7e55010001f01bd66bc15ce115a762c054147a60","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/commons/IdMAnyDirectoryPanelAdditionalActionLinksProvider.java","status":"modified","additions":32,"deletions":2,"changes":34,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdMAnyDirectoryPanelAdditionalActionLinksProvider.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdMAnyDirectoryPanelAdditionalActionLinksProvider.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdMAnyDirectoryPanelAdditionalActionLinksProvider.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -20,23 +20,30 @@\n \n import java.util.ArrayList;\n import java.util.List;\n+import org.apache.syncope.client.console.panels.AnyObjectDirectoryPanel;\n+import org.apache.syncope.client.console.panels.GroupDirectoryPanel;\n import org.apache.syncope.client.console.panels.LinkedAccountModalPanel;\n+import org.apache.syncope.client.console.panels.UserDirectoryPanel;\n import org.apache.syncope.client.console.rest.UserRestClient;\n import org.apache.syncope.client.console.status.AnyStatusModal;\n import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n import org.apache.syncope.client.console.wicket.markup.html.form.Action;\n import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n+import org.apache.syncope.client.console.wizards.any.MergeLinkedAccountsWizardBuilder;\n+import org.apache.syncope.client.ui.commons.wizards.AjaxWizard;\n import org.apache.syncope.client.ui.commons.wizards.any.AnyWrapper;\n import org.apache.syncope.common.lib.to.AnyObjectTO;\n import org.apache.syncope.common.lib.to.GroupTO;\n import org.apache.syncope.common.lib.to.UserTO;\n import org.apache.syncope.common.lib.types.AnyEntitlement;\n+import org.apache.syncope.common.lib.types.IdMEntitlement;\n import org.apache.syncope.common.lib.types.IdRepoEntitlement;\n import org.apache.wicket.PageReference;\n import org.apache.wicket.ajax.AjaxRequestTarget;\n import org.apache.wicket.model.CompoundPropertyModel;\n import org.apache.wicket.model.IModel;\n import org.apache.wicket.model.Model;\n+import org.apache.wicket.model.StringResourceModel;\n \n public class IdMAnyDirectoryPanelAdditionalActionLinksProvider\n         implements AnyDirectoryPanelAdditionalActionLinksProvider {\n@@ -49,6 +56,7 @@ public List<Action<UserTO>> get(\n             final String realm,\n             final BaseModal<AnyWrapper<UserTO>> modal,\n             final String header,\n+            final UserDirectoryPanel parentPanel,\n             final PageReference pageRef) {\n \n         List<Action<UserTO>> actions = new ArrayList<>();\n@@ -124,12 +132,32 @@ public void onClick(final AjaxRequestTarget target, final UserTO ignore) {\n                 modal.show(true);\n             }\n         }, ActionLink.ActionType.MANAGE_ACCOUNTS);\n-        manageAccounts.setEntitlements(\n-                String.format(\"%s,%s\", IdRepoEntitlement.USER_READ, IdRepoEntitlement.USER_UPDATE));\n+        manageAccounts.setEntitlements(String.format(\"%s,%s,%s\",\n+                IdRepoEntitlement.USER_READ, IdRepoEntitlement.USER_UPDATE, IdMEntitlement.RESOURCE_GET_CONNOBJECT));\n         manageAccounts.setOnConfirm(false);\n         manageAccounts.setRealms(realm, model.getObject().getDynRealms());\n         actions.add(manageAccounts);\n \n+        Action<UserTO> mergeAccounts = new Action<>(new ActionLink<UserTO>() {\n+\n+            private static final long serialVersionUID = 8011039414597736111L;\n+\n+            @Override\n+            public void onClick(final AjaxRequestTarget target, final UserTO ignore) {\n+                model.setObject(new UserRestClient().read(model.getObject().getKey()));\n+                MergeLinkedAccountsWizardBuilder builder =\n+                        new MergeLinkedAccountsWizardBuilder(model, pageRef, parentPanel, modal);\n+                builder.setEventSink(builder);\n+                target.add(modal.setContent(builder.build(BaseModal.CONTENT_ID, AjaxWizard.Mode.CREATE)));\n+                modal.header(new StringResourceModel(\"mergeLinkedAccounts.title\", model));\n+                modal.show(true);\n+            }\n+        }, ActionLink.ActionType.MERGE_ACCOUNTS);\n+        mergeAccounts.setEntitlements(String.format(\"%s,%s,%s,%s\",\n+                IdRepoEntitlement.USER_READ, IdRepoEntitlement.USER_UPDATE, IdRepoEntitlement.USER_DELETE,\n+                IdMEntitlement.RESOURCE_GET_CONNOBJECT));\n+        actions.add(mergeAccounts);\n+\n         return actions;\n     }\n \n@@ -139,6 +167,7 @@ public List<Action<GroupTO>> get(\n             final String realm,\n             final BaseModal<AnyWrapper<GroupTO>> modal,\n             final String header,\n+            final GroupDirectoryPanel parentPanel,\n             final PageReference pageRef) {\n \n         List<Action<GroupTO>> actions = new ArrayList<>();\n@@ -181,6 +210,7 @@ public List<Action<AnyObjectTO>> get(\n             final String realm,\n             final BaseModal<AnyWrapper<AnyObjectTO>> modal,\n             final String header,\n+            final AnyObjectDirectoryPanel parentPanel,\n             final PageReference pageRef) {\n \n         List<Action<AnyObjectTO>> actions = new ArrayList<>();"},{"sha":"48edd857dd7135ad8c0cd8c32be5b2c2a3de6ae2","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/commons/IdMConstants.java","status":"modified","additions":1,"deletions":3,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdMConstants.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdMConstants.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdMConstants.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -24,9 +24,7 @@ public final class IdMConstants {\n \n     public static final String PREF_RESOURCE_STATUS_PAGINATOR_ROWS = \"resource.status.paginator.rows\";\n \n-    public static final String PREF_CONNECTOR_HISTORY_CONF_PAGINATOR_ROWS = \"connectorhistoryconf.paginator.rows\";\n-\n-    public static final String PREF_RESOURCE_HISTORY_CONF_PAGINATOR_ROWS = \"resourcehistoryconf.paginator.rows\";\n+    public static final String PREF_RESOURCES_PAGINATOR_ROWS = \"resources.paginator.rows\";\n \n     public static final String PREF_REMEDIATION_PAGINATOR_ROWS = \"remediation.paginator.rows\";\n "},{"sha":"509dc0666b5239f4449dd68cc7dfcd3158851f93","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/panels/MergeLinkedAccountsResourcesPanel.java","status":"added","additions":181,"deletions":0,"changes":181,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,181 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.console.panels;\n+\n+import de.agilecoders.wicket.core.markup.html.bootstrap.dialog.Modal;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.Iterator;\n+import java.util.List;\n+import org.apache.syncope.client.console.SyncopeWebApplication;\n+import org.apache.syncope.client.console.commons.IdMConstants;\n+import org.apache.syncope.client.console.commons.SortableDataProviderComparator;\n+import org.apache.syncope.client.console.pages.BasePage;\n+import org.apache.syncope.client.console.panels.MergeLinkedAccountsResourcesPanel.ResourceSelectionDirectoryPanel.ResourcesDataProvider;\n+import org.apache.syncope.client.console.rest.ResourceRestClient;\n+import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n+import org.apache.syncope.client.console.wicket.markup.html.form.ActionsPanel;\n+import org.apache.syncope.client.console.wizards.any.MergeLinkedAccountsWizardModel;\n+import org.apache.syncope.client.ui.commons.DirectoryDataProvider;\n+import org.apache.syncope.common.lib.to.ResourceTO;\n+import org.apache.syncope.common.lib.types.IdMEntitlement;\n+import org.apache.wicket.PageReference;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.extensions.markup.html.repeater.data.sort.SortOrder;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n+import org.apache.wicket.extensions.wizard.WizardModel.ICondition;\n+import org.apache.wicket.extensions.wizard.WizardStep;\n+import org.apache.wicket.model.CompoundPropertyModel;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.Model;\n+import org.apache.wicket.model.ResourceModel;\n+import org.apache.wicket.model.StringResourceModel;\n+\n+public class MergeLinkedAccountsResourcesPanel extends WizardStep implements ICondition {\n+\n+    private static final long serialVersionUID = 1221037007528732347L;\n+\n+    private final MergeLinkedAccountsWizardModel wizardModel;\n+\n+    public MergeLinkedAccountsResourcesPanel(final MergeLinkedAccountsWizardModel wizardModel,\n+            final PageReference pageReference) {\n+        super();\n+        setOutputMarkupId(true);\n+        this.wizardModel = wizardModel;\n+        add(new ResourceSelectionDirectoryPanel(\"resources\", pageReference));\n+    }\n+\n+    @Override\n+    public boolean evaluate() {\n+        return SyncopeWebApplication.get().getSecuritySettings().getAuthorizationStrategy().\n+                isActionAuthorized(this, RENDER);\n+    }\n+\n+    @Override\n+    public String getTitle() {\n+        setSummaryModel(new StringResourceModel(\"mergeLinkedAccounts.searchResource.summary\",\n+                Model.of(wizardModel.getMergingUser())));\n+        setTitleModel(new StringResourceModel(\"mergeLinkedAccounts.searchResource.title\",\n+                Model.of(wizardModel.getMergingUser())));\n+        return super.getTitle();\n+    }\n+\n+    protected class ResourceSelectionDirectoryPanel extends\n+            DirectoryPanel<ResourceTO, ResourceTO, ResourcesDataProvider, ResourceRestClient> {\n+\n+        private static final long serialVersionUID = 6005711052393825472L;\n+\n+        ResourceSelectionDirectoryPanel(final String id, final PageReference pageRef) {\n+            super(id, pageRef, true);\n+\n+            modal.size(Modal.Size.Large);\n+            setOutputMarkupId(true);\n+            disableCheckBoxes();\n+            initResultTable();\n+        }\n+\n+        @Override\n+        protected ResourcesDataProvider dataProvider() {\n+            return new ResourcesDataProvider(this.rows);\n+        }\n+\n+        @Override\n+        protected String paginatorRowsKey() {\n+            return IdMConstants.PREF_RESOURCES_PAGINATOR_ROWS;\n+        }\n+\n+        @Override\n+        protected List<IColumn<ResourceTO, String>> getColumns() {\n+            List<IColumn<ResourceTO, String>> columns = new ArrayList<>();\n+            columns.add(new PropertyColumn<>(new ResourceModel(\"resource\"), \"key\", \"key\"));\n+            return columns;\n+        }\n+\n+        @Override\n+        protected ActionsPanel<ResourceTO> getActions(final IModel<ResourceTO> model) {\n+            final ActionsPanel<ResourceTO> panel = super.getActions(model);\n+            panel.add(new ActionLink<ResourceTO>() {\n+\n+                private static final long serialVersionUID = -7978723352517770644L;\n+\n+                @Override\n+                public void onClick(final AjaxRequestTarget target, final ResourceTO resource) {\n+                    MergeLinkedAccountsWizardModel model = MergeLinkedAccountsResourcesPanel.this.wizardModel;\n+                    String connObjectKeyValue = ResourceRestClient.getConnObjectKeyValue(\n+                            resource.getKey(),\n+                            model.getMergingUser().getType(),\n+                            model.getMergingUser().getKey());\n+                    if (connObjectKeyValue != null) {\n+                        model.setResource(resource);\n+                        String tableId = MergeLinkedAccountsResourcesPanel.this.\n+                                get(\"resources:container:content:searchContainer:resultTable\"\n+                                        + \":tablePanel:groupForm:checkgroup:dataTable\").\n+                                getMarkupId();\n+                        String js = \"$('#\" + tableId + \"').removeClass('active');\";\n+                        js += \"$('#\" + tableId + \" tbody tr td div').filter(function() \"\n+                                + \"{return $(this).text() === \\\"\" + resource.getKey() + \"\\\";})\"\n+                                + \".parent().parent().addClass('active');\";\n+                        target.prependJavaScript(js);\n+\n+                    } else {\n+                        error(\"Unable to determine connector object key\");\n+                        ((BasePage) pageRef.getPage()).getNotificationPanel().refresh(target);\n+                    }\n+                }\n+            }, ActionLink.ActionType.SELECT, IdMEntitlement.RESOURCE_READ);\n+            return panel;\n+        }\n+\n+        @Override\n+        protected Collection<ActionLink.ActionType> getBatches() {\n+            return List.of();\n+        }\n+\n+        protected final class ResourcesDataProvider extends DirectoryDataProvider<ResourceTO> {\n+\n+            private static final long serialVersionUID = -185944053385660794L;\n+\n+            private final SortableDataProviderComparator<ResourceTO> comparator;\n+\n+            private ResourcesDataProvider(final int paginatorRows) {\n+                super(paginatorRows);\n+                setSort(\"key\", SortOrder.ASCENDING);\n+                comparator = new SortableDataProviderComparator<>(this);\n+            }\n+\n+            @Override\n+            public Iterator<ResourceTO> iterator(final long first, final long count) {\n+                List<ResourceTO> list = ResourceRestClient.list();\n+                list.sort(comparator);\n+                return list.subList((int) first, (int) first + (int) count).iterator();\n+            }\n+\n+            @Override\n+            public long size() {\n+                return ResourceRestClient.list().size();\n+            }\n+\n+            @Override\n+            public IModel<ResourceTO> model(final ResourceTO object) {\n+                return new CompoundPropertyModel<>(object);\n+            }\n+        }\n+    }\n+}"},{"sha":"b908849ea0562cc86fa3e9bf9180d432100c6d9b","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/panels/MergeLinkedAccountsReviewPanel.java","status":"added","additions":178,"deletions":0,"changes":178,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,178 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.console.panels;\n+\n+import de.agilecoders.wicket.core.markup.html.bootstrap.dialog.Modal;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+import org.apache.syncope.client.console.commons.SortableDataProviderComparator;\n+import org.apache.syncope.client.console.panels.MergeLinkedAccountsReviewPanel.LinkedAccountsReviewDirectoryPanel.LinkedAccountsDataProvider;\n+import org.apache.syncope.client.console.rest.ResourceRestClient;\n+import org.apache.syncope.client.console.wicket.extensions.markup.html.repeater.data.table.BooleanPropertyColumn;\n+import org.apache.syncope.client.console.wicket.markup.html.form.ActionLink;\n+import org.apache.syncope.client.console.wizards.any.MergeLinkedAccountsWizardModel;\n+import org.apache.syncope.client.ui.commons.DirectoryDataProvider;\n+import org.apache.syncope.common.lib.to.LinkedAccountTO;\n+import org.apache.syncope.common.lib.to.UserTO;\n+import org.apache.wicket.PageReference;\n+import org.apache.wicket.extensions.markup.html.repeater.data.sort.SortOrder;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.IColumn;\n+import org.apache.wicket.extensions.markup.html.repeater.data.table.PropertyColumn;\n+import org.apache.wicket.extensions.wizard.WizardStep;\n+import org.apache.wicket.model.CompoundPropertyModel;\n+import org.apache.wicket.model.IModel;\n+import org.apache.wicket.model.ResourceModel;\n+import org.apache.wicket.model.StringResourceModel;\n+\n+public class MergeLinkedAccountsReviewPanel extends WizardStep {\n+\n+    private static final long serialVersionUID = 1221037007528732347L;\n+\n+    public MergeLinkedAccountsReviewPanel(final MergeLinkedAccountsWizardModel wizardModel,\n+            final PageReference pageReference) {\n+        super();\n+        setOutputMarkupId(true);\n+        setTitleModel(new StringResourceModel(\"mergeLinkedAccounts.reviewAccounts.title\"));\n+        add(new LinkedAccountsReviewDirectoryPanel(\"linkedAccounts\", pageReference, wizardModel));\n+    }\n+\n+    protected static class LinkedAccountsReviewDirectoryPanel extends\n+            DirectoryPanel<LinkedAccountTO, LinkedAccountTO, LinkedAccountsDataProvider, ResourceRestClient> {\n+\n+        private static final String PAGINATOR_ROWS = \"linked.account.review.paginator.rows\";\n+\n+        private static final long serialVersionUID = 6005711052393825472L;\n+\n+        private final MergeLinkedAccountsWizardModel wizardModel;\n+\n+        LinkedAccountsReviewDirectoryPanel(\n+                final String id,\n+                final PageReference pageRef,\n+                final MergeLinkedAccountsWizardModel wizardModel) {\n+\n+            super(id, pageRef, true);\n+            this.wizardModel = wizardModel;\n+            modal.size(Modal.Size.Large);\n+            setOutputMarkupId(true);\n+            disableCheckBoxes();\n+            initResultTable();\n+        }\n+\n+        @Override\n+        protected LinkedAccountsDataProvider dataProvider() {\n+            return new LinkedAccountsDataProvider(this.rows);\n+        }\n+\n+        @Override\n+        protected String paginatorRowsKey() {\n+            return PAGINATOR_ROWS;\n+        }\n+\n+        @Override\n+        protected List<IColumn<LinkedAccountTO, String>> getColumns() {\n+            List<IColumn<LinkedAccountTO, String>> columns = new ArrayList<>();\n+            columns.add(new PropertyColumn<>(new ResourceModel(\"resource\"), \"resource\", \"resource\"));\n+            columns.add(new PropertyColumn<>(\n+                    new ResourceModel(\"connObjectKeyValue\"), \"connObjectKeyValue\", \"connObjectKeyValue\"));\n+            columns.add(new PropertyColumn<>(\n+                    new ResourceModel(\"username\"), \"username\", \"username\"));\n+            columns.add(new BooleanPropertyColumn<>(\n+                    new ResourceModel(\"suspended\"), \"suspended\", \"suspended\"));\n+            return columns;\n+        }\n+\n+        @Override\n+        protected Collection<ActionLink.ActionType> getBatches() {\n+            return List.of();\n+        }\n+\n+        private List<LinkedAccountTO> previewAccounts() {\n+            UserTO mergingUser = wizardModel.getMergingUser();\n+\n+            // Move linked accounts into the target/base user as linked accounts\n+            List<LinkedAccountTO> accounts = mergingUser.getLinkedAccounts().stream().map(acct -> {\n+                LinkedAccountTO linkedAccount =\n+                        new LinkedAccountTO.Builder(acct.getResource(), acct.getConnObjectKeyValue())\n+                                .password(acct.getPassword())\n+                                .suspended(acct.isSuspended())\n+                                .username(acct.getUsername())\n+                                .build();\n+                linkedAccount.getPlainAttrs().addAll(acct.getPlainAttrs());\n+                linkedAccount.getPrivileges().addAll(acct.getPrivileges());\n+                return linkedAccount;\n+            }).collect(Collectors.toList());\n+\n+            // Move merging user's resources into the target/base user as a linked account\n+            accounts.addAll(mergingUser.getResources().stream().map(resource -> {\n+                String connObjectKeyValue = ResourceRestClient.getConnObjectKeyValue(resource,\n+                        mergingUser.getType(), mergingUser.getKey());\n+                return new LinkedAccountTO.Builder(resource, connObjectKeyValue).build();\n+            }).collect(Collectors.toList()));\n+\n+            // Move merging user into target/base user as a linked account\n+            String connObjectKeyValue = ResourceRestClient.getConnObjectKeyValue(\n+                    wizardModel.getResource().getKey(),\n+                    mergingUser.getType(), mergingUser.getKey());\n+            LinkedAccountTO linkedAccount =\n+                    new LinkedAccountTO.Builder(wizardModel.getResource().getKey(), connObjectKeyValue)\n+                            .password(mergingUser.getPassword())\n+                            .suspended(mergingUser.isSuspended())\n+                            .username(mergingUser.getUsername())\n+                            .build();\n+            linkedAccount.getPlainAttrs().addAll(mergingUser.getPlainAttrs());\n+            linkedAccount.getPrivileges().addAll(mergingUser.getPrivileges());\n+            accounts.add(linkedAccount);\n+\n+            return accounts;\n+        }\n+\n+        protected final class LinkedAccountsDataProvider extends DirectoryDataProvider<LinkedAccountTO> {\n+\n+            private static final long serialVersionUID = -185944053385660794L;\n+\n+            private final SortableDataProviderComparator<LinkedAccountTO> comparator;\n+\n+            private LinkedAccountsDataProvider(final int paginatorRows) {\n+                super(paginatorRows);\n+                setSort(\"resource\", SortOrder.ASCENDING);\n+                comparator = new SortableDataProviderComparator<>(this);\n+            }\n+\n+            @Override\n+            public Iterator<LinkedAccountTO> iterator(final long first, final long count) {\n+                List<LinkedAccountTO> list = previewAccounts();\n+                list.sort(comparator);\n+                return list.subList((int) first, (int) first + (int) count).iterator();\n+            }\n+\n+            @Override\n+            public long size() {\n+                return previewAccounts().size();\n+            }\n+\n+            @Override\n+            public IModel<LinkedAccountTO> model(final LinkedAccountTO object) {\n+                return new CompoundPropertyModel<>(object);\n+            }\n+        }\n+    }\n+}"},{"sha":"5e8d55a0dd129e1d9aaeee543bcc838a24e795f2","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/panels/MergeLinkedAccountsSearchPanel.java","status":"added","additions":112,"deletions":0,"changes":112,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,112 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.console.panels;\n+\n+import org.apache.syncope.client.console.panels.search.AnySelectionDirectoryPanel;\n+import org.apache.syncope.client.console.panels.search.SearchClausePanel;\n+import org.apache.syncope.client.console.panels.search.SearchUtils;\n+import org.apache.syncope.client.console.panels.search.UserSearchPanel;\n+import org.apache.syncope.client.console.panels.search.UserSelectionDirectoryPanel;\n+import org.apache.syncope.client.console.rest.AnyTypeClassRestClient;\n+import org.apache.syncope.client.console.rest.AnyTypeRestClient;\n+import org.apache.syncope.client.console.rest.UserRestClient;\n+import org.apache.syncope.client.console.wizards.any.MergeLinkedAccountsWizardModel;\n+import org.apache.syncope.client.lib.SyncopeClient;\n+import org.apache.syncope.common.lib.to.AnyTO;\n+import org.apache.syncope.common.lib.to.AnyTypeTO;\n+import org.apache.syncope.common.lib.types.AnyTypeKind;\n+import org.apache.wicket.Component;\n+import org.apache.wicket.PageReference;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.event.IEvent;\n+import org.apache.wicket.extensions.wizard.WizardStep;\n+import org.apache.wicket.markup.html.WebMarkupContainer;\n+import org.apache.wicket.markup.html.panel.Fragment;\n+import org.apache.wicket.model.Model;\n+import org.apache.wicket.model.StringResourceModel;\n+import org.apache.wicket.model.util.ListModel;\n+\n+import java.util.ArrayList;\n+\n+public class MergeLinkedAccountsSearchPanel extends WizardStep {\n+    private static final long serialVersionUID = 1221037007528732347L;\n+\n+    private final WebMarkupContainer ownerContainer;\n+\n+    private final UserSearchPanel userSearchPanel;\n+\n+    private final AnyTypeClassRestClient anyTypeClassRestClient = new AnyTypeClassRestClient();\n+\n+    private final AnyTypeRestClient anyTypeRestClient = new AnyTypeRestClient();\n+\n+    private final UserSelectionDirectoryPanel userDirectoryPanel;\n+\n+    private final Fragment userSearchFragment;\n+\n+    private final MergeLinkedAccountsWizardModel wizardModel;\n+\n+    public MergeLinkedAccountsSearchPanel(final MergeLinkedAccountsWizardModel model, final PageReference pageRef) {\n+        super();\n+        setOutputMarkupId(true);\n+\n+        this.wizardModel = model;\n+        setTitleModel(new StringResourceModel(\"mergeLinkedAccounts.searchUser\", Model.of(model.getBaseUser())));\n+        ownerContainer = new WebMarkupContainer(\"ownerContainer\");\n+        ownerContainer.setOutputMarkupId(true);\n+        add(ownerContainer);\n+\n+        userSearchFragment = new Fragment(\"search\", \"userSearchFragment\", this);\n+        userSearchPanel = UserSearchPanel.class.cast(new UserSearchPanel.Builder(\n+            new ListModel<>(new ArrayList<>())).required(false).enableSearch(MergeLinkedAccountsSearchPanel.this).\n+            build(\"usersearch\"));\n+        userSearchFragment.add(userSearchPanel);\n+\n+        AnyTypeTO anyTypeTO = anyTypeRestClient.read(AnyTypeKind.USER.name());\n+        userDirectoryPanel = UserSelectionDirectoryPanel.class.cast(new UserSelectionDirectoryPanel.Builder(\n+            anyTypeClassRestClient.list(anyTypeTO.getClasses()), anyTypeTO.getKey(), pageRef).\n+            build(\"searchResult\"));\n+\n+        userSearchFragment.add(userDirectoryPanel);\n+        ownerContainer.add(userSearchFragment);\n+    }\n+\n+    @Override\n+    public void onEvent(final IEvent<?> event) {\n+        if (event.getPayload() instanceof SearchClausePanel.SearchEvent) {\n+            final AjaxRequestTarget target = SearchClausePanel.SearchEvent.class.cast(event.getPayload()).getTarget();\n+            final String fiql = \"username!~\" + this.wizardModel.getBaseUser().getUsername() + ';'\n+                + SearchUtils.buildFIQL(userSearchPanel.getModel().getObject(),\n+                SyncopeClient.getUserSearchConditionBuilder());\n+            userDirectoryPanel.search(fiql, target);\n+        } else if (event.getPayload() instanceof AnySelectionDirectoryPanel.ItemSelection) {\n+            AnySelectionDirectoryPanel.ItemSelection payload =\n+                (AnySelectionDirectoryPanel.ItemSelection) event.getPayload();\n+\n+            final AnyTO sel = payload.getSelection();\n+            this.wizardModel.setMergingUser(new UserRestClient().read(sel.getKey()));\n+\n+            String tableId = ((Component) event.getSource()).\n+                get(\"container:content:searchContainer:resultTable:tablePanel:groupForm:checkgroup:dataTable\").\n+                getMarkupId();\n+            String js = \"$('#\" + tableId + \" tr').removeClass('active');\";\n+            js += \"$('#\" + tableId + \" td[title=\" + sel.getKey() + \"]').parent().addClass('active');\";\n+            payload.getTarget().prependJavaScript(js);\n+        }\n+    }\n+}"},{"sha":"3431ea1edc1fca2741c8a47ca31c2b04dbb93602","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/rest/ResourceRestClient.java","status":"modified","additions":15,"deletions":0,"changes":15,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FResourceRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FResourceRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Frest%2FResourceRestClient.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -26,6 +26,7 @@\n import org.apache.syncope.common.lib.to.ConnObjectTO;\n import org.apache.syncope.common.lib.to.PagedConnObjectTOResult;\n import org.apache.syncope.common.lib.to.ResourceTO;\n+import org.apache.syncope.common.rest.api.RESTHeaders;\n import org.apache.syncope.common.rest.api.beans.ConnObjectTOQuery;\n import org.apache.syncope.common.rest.api.service.ResourceService;\n import org.apache.wicket.extensions.markup.html.repeater.util.SortParam;\n@@ -55,6 +56,20 @@ public static ConnObjectTO readConnObject(final String resource, final String an\n         return getService(ResourceService.class).readConnObject(resource, anyTypeKey, anyKey);\n     }\n \n+    public static String getConnObjectKeyValue(final String resource, final String anyTypeKey, final String anyKey) {\n+        try {\n+            Response response = getService(ResourceService.class).getConnObjectKeyValue(resource, anyTypeKey, anyKey);\n+            if (response.getStatusInfo().getFamily() == Response.Status.Family.SUCCESSFUL) {\n+                return response.getHeaderString(RESTHeaders.CONNOBJECT_KEY);\n+            }\n+        } catch (Exception e) {\n+            LOG.debug(\"Error fetching connector object key\", e);\n+        }\n+        LOG.error(\"Unable to determine connector object key value for resource {}, {} and {}\",\n+            resource, anyTypeKey, anyKey);\n+        return null;\n+    }\n+\n     public Pair<String, List<ConnObjectTO>> searchConnObjects(\n             final String resource,\n             final String anyTypeKey,"},{"sha":"3639847e57377a1e806bd34255df1c11e0f0f884","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/wizards/any/LinkedAccountDetailsPanel.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FLinkedAccountDetailsPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FLinkedAccountDetailsPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FLinkedAccountDetailsPanel.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -18,7 +18,6 @@\n  */\n package org.apache.syncope.client.console.wizards.any;\n \n-import java.util.Collections;\n import java.util.List;\n import java.util.stream.Collectors;\n import org.apache.commons.lang3.StringUtils;\n@@ -89,7 +88,7 @@ public LinkedAccountDetailsPanel(final LinkedAccountTO linkedAccountTO) {\n                 false);\n         connObjectKeyField.setOutputMarkupId(true);\n         connObjectKeyField.addRequiredLabel();\n-        connObjectKeyField.setChoices(Collections.<String>emptyList());\n+        connObjectKeyField.setChoices(List.of());\n         connObjectKeyField.setEnabled(false);\n         add(connObjectKeyField);\n "},{"sha":"7b2771c2082ea357473049b9e87b3b8c63e32705","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/wizards/any/MergeLinkedAccountsWizardBuilder.java","status":"added","additions":187,"deletions":0,"changes":187,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FMergeLinkedAccountsWizardBuilder.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FMergeLinkedAccountsWizardBuilder.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FMergeLinkedAccountsWizardBuilder.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,187 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.console.wizards.any;\n+\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import javax.ws.rs.HttpMethod;\n+import javax.ws.rs.core.HttpHeaders;\n+import javax.ws.rs.core.MediaType;\n+import org.apache.syncope.client.console.SyncopeConsoleSession;\n+import org.apache.syncope.client.console.pages.BasePage;\n+import org.apache.syncope.client.console.panels.MergeLinkedAccountsResourcesPanel;\n+import org.apache.syncope.client.console.panels.MergeLinkedAccountsReviewPanel;\n+import org.apache.syncope.client.console.panels.MergeLinkedAccountsSearchPanel;\n+import org.apache.syncope.client.console.panels.UserDirectoryPanel;\n+import org.apache.syncope.client.console.rest.ResourceRestClient;\n+import org.apache.syncope.client.console.rest.UserRestClient;\n+import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n+import org.apache.syncope.client.console.wizards.BaseAjaxWizardBuilder;\n+import org.apache.syncope.client.lib.batch.BatchRequest;\n+import org.apache.syncope.client.ui.commons.Constants;\n+import org.apache.syncope.client.ui.commons.wizards.AjaxWizard;\n+import org.apache.syncope.common.lib.request.LinkedAccountUR;\n+import org.apache.syncope.common.lib.request.UserUR;\n+import org.apache.syncope.common.lib.to.LinkedAccountTO;\n+import org.apache.syncope.common.lib.to.UserTO;\n+import org.apache.syncope.common.rest.api.Preference;\n+import org.apache.syncope.common.rest.api.RESTHeaders;\n+import org.apache.syncope.common.rest.api.batch.BatchRequestItem;\n+import org.apache.wicket.PageReference;\n+import org.apache.wicket.ajax.AjaxRequestTarget;\n+import org.apache.wicket.event.IEvent;\n+import org.apache.wicket.event.IEventSink;\n+import org.apache.wicket.extensions.wizard.WizardModel;\n+import org.apache.wicket.model.IModel;\n+\n+public class MergeLinkedAccountsWizardBuilder extends BaseAjaxWizardBuilder<UserTO> implements IEventSink {\n+\n+    private static final long serialVersionUID = -9142332740863374891L;\n+\n+    private static final ObjectMapper MAPPER = new ObjectMapper();\n+\n+    private final UserDirectoryPanel parentPanel;\n+\n+    private final BaseModal<?> modal;\n+\n+    private MergeLinkedAccountsWizardModel model;\n+\n+    public MergeLinkedAccountsWizardBuilder(\n+            final IModel<UserTO> model,\n+            final PageReference pageRef,\n+            final UserDirectoryPanel parentPanel,\n+            final BaseModal<?> modal) {\n+\n+        super(model.getObject(), pageRef);\n+        this.parentPanel = parentPanel;\n+        this.modal = modal;\n+    }\n+\n+    @Override\n+    protected WizardModel buildModelSteps(final UserTO modelObject, final WizardModel wizardModel) {\n+        this.model = new MergeLinkedAccountsWizardModel(modelObject);\n+        wizardModel.add(new MergeLinkedAccountsSearchPanel(model, getPageReference()));\n+        wizardModel.add(new MergeLinkedAccountsResourcesPanel(model, getPageReference()));\n+        wizardModel.add(new MergeLinkedAccountsReviewPanel(model, getPageReference()));\n+        return wizardModel;\n+    }\n+\n+    @Override\n+    public void onEvent(final IEvent<?> event) {\n+        if (event.getPayload() instanceof AjaxWizard.NewItemCancelEvent) {\n+            ((AjaxWizard.NewItemCancelEvent<?>) event.getPayload()).getTarget().ifPresent(modal::close);\n+        }\n+        if (event.getPayload() instanceof AjaxWizard.NewItemFinishEvent) {\n+            Optional<AjaxRequestTarget> targetResult =\n+                    ((AjaxWizard.NewItemFinishEvent<?>) event.getPayload()).getTarget();\n+            try {\n+                mergeAccounts();\n+                this.parentPanel.info(this.parentPanel.getString(Constants.OPERATION_SUCCEEDED));\n+                targetResult.ifPresent(target -> {\n+                    ((BasePage) this.parentPanel.getPage()).getNotificationPanel().refresh(target);\n+                    parentPanel.updateResultTable(target);\n+                    modal.close(target);\n+                });\n+            } catch (Exception e) {\n+                this.parentPanel.error(this.parentPanel.getString(Constants.ERROR) + \": \" + e.getMessage());\n+                targetResult.ifPresent(target -> ((BasePage) pageRef.getPage()).getNotificationPanel().refresh(target));\n+            }\n+        }\n+    }\n+\n+    private void mergeAccounts() throws Exception {\n+        ResourceRestClient resourceRestClient = new ResourceRestClient();\n+\n+        UserTO mergingUserTO = this.model.getMergingUser();\n+\n+        UserUR userUR = new UserUR();\n+        userUR.setKey(this.model.getBaseUser().getUsername());\n+\n+        // Move linked accounts into the target/base user as linked accounts\n+        mergingUserTO.getLinkedAccounts().forEach(acct -> {\n+            LinkedAccountTO linkedAccount =\n+                    new LinkedAccountTO.Builder(acct.getResource(), acct.getConnObjectKeyValue())\n+                            .password(acct.getPassword())\n+                            .suspended(acct.isSuspended())\n+                            .username(acct.getUsername())\n+                            .build();\n+            linkedAccount.getPlainAttrs().addAll(acct.getPlainAttrs());\n+            linkedAccount.getPrivileges().addAll(acct.getPrivileges());\n+            userUR.getLinkedAccounts().add(new LinkedAccountUR.Builder().linkedAccountTO(linkedAccount).build());\n+        });\n+\n+        // Move merging user's resources into the target/base user as a linked account\n+        mergingUserTO.getResources().forEach(resource -> {\n+            String connObjectKeyValue = resourceRestClient.getConnObjectKeyValue(resource,\n+                    mergingUserTO.getType(), mergingUserTO.getKey());\n+            LinkedAccountTO linkedAccount =\n+                    new LinkedAccountTO.Builder(resource, connObjectKeyValue)\n+                            .build();\n+            linkedAccount.getPlainAttrs().addAll(mergingUserTO.getPlainAttrs());\n+            linkedAccount.getPrivileges().addAll(mergingUserTO.getPrivileges());\n+            userUR.getLinkedAccounts().add(new LinkedAccountUR.Builder().linkedAccountTO(linkedAccount).build());\n+        });\n+\n+        // Move merging user into target/base user as a linked account\n+        String connObjectKeyValue = resourceRestClient.getConnObjectKeyValue(\n+                this.model.getResource().getKey(),\n+                mergingUserTO.getType(), mergingUserTO.getKey());\n+        LinkedAccountTO linkedAccount =\n+                new LinkedAccountTO.Builder(this.model.getResource().getKey(), connObjectKeyValue)\n+                        .password(mergingUserTO.getPassword())\n+                        .suspended(mergingUserTO.isSuspended())\n+                        .username(mergingUserTO.getUsername())\n+                        .build();\n+        linkedAccount.getPlainAttrs().addAll(mergingUserTO.getPlainAttrs());\n+        linkedAccount.getPrivileges().addAll(mergingUserTO.getPrivileges());\n+        userUR.getLinkedAccounts().add(new LinkedAccountUR.Builder().linkedAccountTO(linkedAccount).build());\n+\n+        BatchRequest batchRequest = SyncopeConsoleSession.get().batch();\n+\n+        // Delete merging user\n+        BatchRequestItem deleteRequest = new BatchRequestItem();\n+        deleteRequest.setMethod(HttpMethod.DELETE);\n+        deleteRequest.setRequestURI(\"/users/\" + mergingUserTO.getKey());\n+        deleteRequest.getHeaders().put(HttpHeaders.CONTENT_TYPE, List.of(MediaType.APPLICATION_JSON));\n+        batchRequest.getItems().add(deleteRequest);\n+\n+        // Update user with linked accounts\n+        String updateUserPayload = MAPPER.writeValueAsString(userUR);\n+        BatchRequestItem updateUser = new BatchRequestItem();\n+        updateUser.setMethod(HttpMethod.PATCH);\n+        updateUser.setRequestURI(\"/users/\" + this.model.getBaseUser().getUsername());\n+        updateUser.setHeaders(new HashMap<>());\n+        updateUser.getHeaders().put(RESTHeaders.PREFER, List.of(Preference.RETURN_NO_CONTENT.toString()));\n+        updateUser.getHeaders().put(HttpHeaders.ACCEPT, List.of(MediaType.APPLICATION_JSON));\n+        updateUser.getHeaders().put(HttpHeaders.CONTENT_TYPE, List.of(MediaType.APPLICATION_JSON));\n+        updateUser.getHeaders().put(HttpHeaders.CONTENT_LENGTH, List.of(updateUserPayload.length()));\n+        updateUser.setContent(updateUserPayload);\n+        batchRequest.getItems().add(updateUser);\n+\n+        Map<String, String> batchResponse = UserRestClient.batch(batchRequest);\n+        batchResponse.forEach((key, value) -> {\n+            if (!value.equalsIgnoreCase(\"success\")) {\n+                throw new IllegalArgumentException(\"Unable to report a success operation status for \" + key);\n+            }\n+        });\n+    }\n+}"},{"sha":"46c80ccb912183ee643ce05cedaf6a7824daff39","filename":"client/idm/console/src/main/java/org/apache/syncope/client/console/wizards/any/MergeLinkedAccountsWizardModel.java","status":"added","additions":58,"deletions":0,"changes":58,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FMergeLinkedAccountsWizardModel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FMergeLinkedAccountsWizardModel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FMergeLinkedAccountsWizardModel.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,58 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.client.console.wizards.any;\n+\n+import org.apache.syncope.common.lib.to.ResourceTO;\n+import org.apache.syncope.common.lib.to.UserTO;\n+\n+import java.io.Serializable;\n+\n+public class MergeLinkedAccountsWizardModel implements Serializable {\n+    private static final long serialVersionUID = -2420343164344634869L;\n+\n+    private final UserTO baseUser;\n+\n+    private UserTO mergingUser;\n+\n+    private ResourceTO resource;\n+\n+    public MergeLinkedAccountsWizardModel(final UserTO baseUser) {\n+        this.baseUser = baseUser;\n+    }\n+\n+    public ResourceTO getResource() {\n+        return resource;\n+    }\n+\n+    public UserTO getBaseUser() {\n+        return baseUser;\n+    }\n+\n+    public UserTO getMergingUser() {\n+        return mergingUser;\n+    }\n+\n+    public void setMergingUser(final UserTO mergingUser) {\n+        this.mergingUser = mergingUser;\n+    }\n+\n+    public void setResource(final ResourceTO resource) {\n+        this.resource = resource;\n+    }\n+}"},{"sha":"c8f3ec909ccc605695ed8ece894852ea49159275","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsResourcesPanel.html","status":"added","additions":24,"deletions":0,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel.html?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,24 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n+<wicket:panel>\n+    <div wicket:id=\"resources\">\n+    </div>\n+</wicket:panel>\n+</html>"},{"sha":"ecc7e940616c8a4af400ca9a8a490ce5374e51c7","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsResourcesPanel.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+resource=Resource\n+mergeLinkedAccounts.searchResource.title=Select a resource to use for ${username}, merged as a linked account.\n+mergeLinkedAccounts.searchResource.summary=The selected resource must have USER provisioning rules defined."},{"sha":"ecc7e940616c8a4af400ca9a8a490ce5374e51c7","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsResourcesPanel_fr_CA.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel_fr_CA.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+resource=Resource\n+mergeLinkedAccounts.searchResource.title=Select a resource to use for ${username}, merged as a linked account.\n+mergeLinkedAccounts.searchResource.summary=The selected resource must have USER provisioning rules defined."},{"sha":"ecc7e940616c8a4af400ca9a8a490ce5374e51c7","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsResourcesPanel_it.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel_it.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+resource=Resource\n+mergeLinkedAccounts.searchResource.title=Select a resource to use for ${username}, merged as a linked account.\n+mergeLinkedAccounts.searchResource.summary=The selected resource must have USER provisioning rules defined."},{"sha":"ecc7e940616c8a4af400ca9a8a490ce5374e51c7","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsResourcesPanel_ja.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel_ja.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+resource=Resource\n+mergeLinkedAccounts.searchResource.title=Select a resource to use for ${username}, merged as a linked account.\n+mergeLinkedAccounts.searchResource.summary=The selected resource must have USER provisioning rules defined."},{"sha":"ecc7e940616c8a4af400ca9a8a490ce5374e51c7","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsResourcesPanel_pt_BR.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel_pt_BR.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+resource=Resource\n+mergeLinkedAccounts.searchResource.title=Select a resource to use for ${username}, merged as a linked account.\n+mergeLinkedAccounts.searchResource.summary=The selected resource must have USER provisioning rules defined."},{"sha":"ecc7e940616c8a4af400ca9a8a490ce5374e51c7","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsResourcesPanel_ru.properties","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsResourcesPanel_ru.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,19 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+resource=Resource\n+mergeLinkedAccounts.searchResource.title=Select a resource to use for ${username}, merged as a linked account.\n+mergeLinkedAccounts.searchResource.summary=The selected resource must have USER provisioning rules defined."},{"sha":"79274859430125117b4aa6d266e8f1f936d2d4e4","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsReviewPanel.html","status":"added","additions":24,"deletions":0,"changes":24,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel.html?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,24 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n+<wicket:panel>\n+    <div wicket:id=\"linkedAccounts\">\n+    </div>\n+</wicket:panel>\n+</html>"},{"sha":"3fd6639997155e2e5f687cf90edaa95cc1dd5f85","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsReviewPanel.properties","status":"added","additions":22,"deletions":0,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,22 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+mergeLinkedAccounts.reviewAccounts.title=Preview finalized linked accounts\n+connObjectKeyValue=Connector Key\n+resource=Resource\n+key=Key\n+username=Username\n+suspended=Suspended"},{"sha":"c2d89faeafeddf5bfb4f287f5e0d533ddc1f1157","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsReviewPanel_fr_CA.properties","status":"added","additions":22,"deletions":0,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel_fr_CA.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,22 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+mergeLinkedAccounts.reviewAccounts.title=Preview finalized linked accounts\n+connObjectKeyValue=Connector\n+resource=Resource\n+key=Key\n+username=Username\n+suspended=Suspended"},{"sha":"c2d89faeafeddf5bfb4f287f5e0d533ddc1f1157","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsReviewPanel_it.properties","status":"added","additions":22,"deletions":0,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel_it.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,22 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+mergeLinkedAccounts.reviewAccounts.title=Preview finalized linked accounts\n+connObjectKeyValue=Connector\n+resource=Resource\n+key=Key\n+username=Username\n+suspended=Suspended"},{"sha":"c2d89faeafeddf5bfb4f287f5e0d533ddc1f1157","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsReviewPanel_ja.properties","status":"added","additions":22,"deletions":0,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel_ja.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,22 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+mergeLinkedAccounts.reviewAccounts.title=Preview finalized linked accounts\n+connObjectKeyValue=Connector\n+resource=Resource\n+key=Key\n+username=Username\n+suspended=Suspended"},{"sha":"c2d89faeafeddf5bfb4f287f5e0d533ddc1f1157","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsReviewPanel_pt_BR.properties","status":"added","additions":22,"deletions":0,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel_pt_BR.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,22 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+mergeLinkedAccounts.reviewAccounts.title=Preview finalized linked accounts\n+connObjectKeyValue=Connector\n+resource=Resource\n+key=Key\n+username=Username\n+suspended=Suspended"},{"sha":"c2d89faeafeddf5bfb4f287f5e0d533ddc1f1157","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsReviewPanel_ru.properties","status":"added","additions":22,"deletions":0,"changes":22,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsReviewPanel_ru.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,22 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+mergeLinkedAccounts.reviewAccounts.title=Preview finalized linked accounts\n+connObjectKeyValue=Connector\n+resource=Resource\n+key=Key\n+username=Username\n+suspended=Suspended"},{"sha":"82edc1360e18efe0f7bf37b65c7cc90d31d4f309","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsSearchPanel.html","status":"added","additions":31,"deletions":0,"changes":31,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel.html","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel.html","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel.html?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,31 @@\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:wicket=\"http://wicket.apache.org\">\n+<wicket:panel>\n+    <div wicket:id=\"ownerContainer\">\n+        <span wicket:id=\"search\">[SEARCH]</span>\n+    </div>\n+    <wicket:fragment wicket:id=\"userSearchFragment\">\n+        <span wicket:id=\"usersearch\">[USER SEARCH]</span>\n+        <div class=\"searchResult\">\n+            <span wicket:id=\"searchResult\">[USER SEARCH RESULT]</span>\n+        </div>\n+    </wicket:fragment>\n+</wicket:panel>\n+</html>"},{"sha":"5d25d9c13023914bbf466899c5e0ebaa8cd180f6","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsSearchPanel.properties","status":"added","additions":17,"deletions":0,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,17 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+mergeLinkedAccounts.searchUser=Select user to merge"},{"sha":"5d25d9c13023914bbf466899c5e0ebaa8cd180f6","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsSearchPanel_fr_CA.properties","status":"added","additions":17,"deletions":0,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel_fr_CA.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,17 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+mergeLinkedAccounts.searchUser=Select user to merge"},{"sha":"9ed65cadb39086649123010e23a91a6e469f7aa2","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsSearchPanel_it.properties","status":"added","additions":17,"deletions":0,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel_it.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,17 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+mergeLinkedAccounts.searchUser=Selezione dell'utente"},{"sha":"5d25d9c13023914bbf466899c5e0ebaa8cd180f6","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsSearchPanel_ja.properties","status":"added","additions":17,"deletions":0,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel_ja.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,17 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+mergeLinkedAccounts.searchUser=Select user to merge"},{"sha":"5d25d9c13023914bbf466899c5e0ebaa8cd180f6","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsSearchPanel_pt_BR.properties","status":"added","additions":17,"deletions":0,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel_pt_BR.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,17 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+mergeLinkedAccounts.searchUser=Select user to merge"},{"sha":"5d25d9c13023914bbf466899c5e0ebaa8cd180f6","filename":"client/idm/console/src/main/resources/org/apache/syncope/client/console/panels/MergeLinkedAccountsSearchPanel_ru.properties","status":"added","additions":17,"deletions":0,"changes":17,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidm%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FMergeLinkedAccountsSearchPanel_ru.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,17 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+mergeLinkedAccounts.searchUser=Select user to merge"},{"sha":"a0191aaa97163672a6fbfaa0a6d78b9be09e249c","filename":"client/idrepo/common-ui/src/main/java/org/apache/syncope/client/ui/commons/wizards/AjaxWizard.java","status":"modified","additions":8,"deletions":1,"changes":9,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fui%2Fcommons%2Fwizards%2FAjaxWizard.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fui%2Fcommons%2Fwizards%2FAjaxWizard.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fcommon-ui%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fui%2Fcommons%2Fwizards%2FAjaxWizard.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -81,6 +81,8 @@ public enum Mode {\n \n     private final PageReference pageRef;\n \n+    private AjaxWizardMgtButtonBar<T> buttonBar;\n+\n     /**\n      * Construct.\n      *\n@@ -154,7 +156,12 @@ protected void init(final IWizardModel wizardModel) {\n \n     @Override\n     protected Component newButtonBar(final String id) {\n-        return new AjaxWizardMgtButtonBar<>(id, this, mode);\n+        this.buttonBar = new AjaxWizardMgtButtonBar<>(id, this, mode);\n+        return this.buttonBar;\n+    }\n+\n+    public AjaxWizardMgtButtonBar<T> getButtonBar() {\n+        return buttonBar;\n     }\n \n     protected abstract void onCancelInternal();"},{"sha":"a10fb938446abe6f83431ea0db73461ed3759839","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/commons/AnyDirectoryPanelAdditionalActionLinksProvider.java","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FAnyDirectoryPanelAdditionalActionLinksProvider.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FAnyDirectoryPanelAdditionalActionLinksProvider.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FAnyDirectoryPanelAdditionalActionLinksProvider.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -20,6 +20,9 @@\n \n import java.io.Serializable;\n import java.util.List;\n+import org.apache.syncope.client.console.panels.AnyObjectDirectoryPanel;\n+import org.apache.syncope.client.console.panels.GroupDirectoryPanel;\n+import org.apache.syncope.client.console.panels.UserDirectoryPanel;\n import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n import org.apache.syncope.client.console.wicket.markup.html.form.Action;\n import org.apache.syncope.client.ui.commons.wizards.any.AnyWrapper;\n@@ -36,13 +39,15 @@ List<Action<UserTO>> get(\n             String realm,\n             BaseModal<AnyWrapper<UserTO>> modal,\n             String header,\n+            UserDirectoryPanel parentPanel,\n             PageReference pageRef);\n \n     List<Action<GroupTO>> get(\n             GroupTO modelObject,\n             String realm,\n             BaseModal<AnyWrapper<GroupTO>> modal,\n             String header,\n+            GroupDirectoryPanel parentPanel,\n             PageReference pageRef);\n \n     List<Action<AnyObjectTO>> get(\n@@ -51,5 +56,6 @@ List<Action<AnyObjectTO>> get(\n             String realm,\n             BaseModal<AnyWrapper<AnyObjectTO>> modal,\n             String header,\n+            AnyObjectDirectoryPanel parentPanel,\n             PageReference pageRef);\n }"},{"sha":"8103cfea6a8c501549387577914609f20a10c262","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/commons/IdRepoAnyDirectoryPanelAdditionalActionLinksProvider.java","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdRepoAnyDirectoryPanelAdditionalActionLinksProvider.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdRepoAnyDirectoryPanelAdditionalActionLinksProvider.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fcommons%2FIdRepoAnyDirectoryPanelAdditionalActionLinksProvider.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -19,6 +19,9 @@\n package org.apache.syncope.client.console.commons;\n \n import java.util.List;\n+import org.apache.syncope.client.console.panels.AnyObjectDirectoryPanel;\n+import org.apache.syncope.client.console.panels.GroupDirectoryPanel;\n+import org.apache.syncope.client.console.panels.UserDirectoryPanel;\n import org.apache.syncope.client.console.wicket.markup.html.bootstrap.dialog.BaseModal;\n import org.apache.syncope.client.console.wicket.markup.html.form.Action;\n import org.apache.syncope.client.ui.commons.wizards.any.AnyWrapper;\n@@ -39,6 +42,7 @@ public List<Action<UserTO>> get(\n             final String realm,\n             final BaseModal<AnyWrapper<UserTO>> modal,\n             final String header,\n+            final UserDirectoryPanel parentPanel,\n             final PageReference pageRef) {\n \n         return List.of();\n@@ -50,6 +54,7 @@ public List<Action<GroupTO>> get(\n             final String realm,\n             final BaseModal<AnyWrapper<GroupTO>> modal,\n             final String header,\n+            final GroupDirectoryPanel parentPanel,\n             final PageReference pageRef) {\n \n         return List.of();\n@@ -62,6 +67,7 @@ public List<Action<AnyObjectTO>> get(\n             final String realm,\n             final BaseModal<AnyWrapper<AnyObjectTO>> modal,\n             final String header,\n+            final AnyObjectDirectoryPanel parentPanel,\n             final PageReference pageRef) {\n \n         return List.of();"},{"sha":"813d1d849700a1e9552f1d541b73fda4a8e9285a","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/AnyObjectDirectoryPanel.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FAnyObjectDirectoryPanel.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -124,6 +124,7 @@ public void onClick(final AjaxRequestTarget target, final AnyObjectTO ignore) {\n                     realm,\n                     altDefaultModal,\n                     getString(\"any.edit\", new Model<>(new AnyWrapper<>(model.getObject()))),\n+                    this,\n                     pageRef).forEach(panel::add);\n \n             panel.add(new ActionLink<AnyObjectTO>() {"},{"sha":"83da4d154389257d8a6fe69f89a8414c375b19e0","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/GroupDirectoryPanel.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FGroupDirectoryPanel.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -298,6 +298,7 @@ public void onClick(final AjaxRequestTarget target, final GroupTO ignore) {\n                 realm,\n                 altDefaultModal,\n                 getString(\"any.edit\", new Model<>(new AnyWrapper<>(model.getObject()))),\n+                this,\n                 pageRef).forEach(panel::add);\n \n         panel.add(new ActionLink<GroupTO>() {"},{"sha":"5f07ed18da1e2ec1112809a788bd6675c6ee0155","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/UserDirectoryPanel.java","status":"modified","additions":55,"deletions":54,"changes":109,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -225,6 +225,7 @@ public void onClick(final AjaxRequestTarget target, final UserTO ignore) {\n                     realm,\n                     altDefaultModal,\n                     getString(\"any.edit\", new Model<>(new AnyWrapper<>(model.getObject()))),\n+                    this,\n                     pageRef).forEach(panel::add);\n \n             panel.add(new ActionLink<UserTO>() {\n@@ -259,61 +260,61 @@ public void onClick(final AjaxRequestTarget target, final UserTO ignore) {\n         if (wizardInModal) {\n             panel.add(new ActionLink<UserTO>() {\n \n-                          private static final long serialVersionUID = -1978723352517770644L;\n-\n-                          @Override\n-                          public void onClick(final AjaxRequestTarget target, final UserTO ignore) {\n-                              model.setObject(restClient.read(model.getObject().getKey()));\n-                              target.add(altDefaultModal.setContent(new AuditHistoryModal<UserTO>(\n-                                  altDefaultModal,\n-                                  AuditElements.EventCategoryType.LOGIC,\n-                                  \"UserLogic\",\n-                                  model.getObject(),\n-                                  IdRepoEntitlement.USER_UPDATE,\n-                                  pageRef) {\n-\n-                                  private static final long serialVersionUID = 959378158400669867L;\n-\n-                                  @Override\n-                                  protected void restore(final String json, final AjaxRequestTarget target) {\n-                                      // The original audit record masks the password and the security\n-                                      // answer; so we cannot use the audit record to resurrect the entry\n-                                      // based on mask data.\n-                                      //\n-                                      // The method behavior below will reset the audit record such\n-                                      // that the current security answer and the password for the object\n-                                      // are always maintained, and such properties for the\n-                                      // user cannot be restored using audit records.\n-                                      UserTO original = model.getObject();\n-                                      try {\n-                                          UserTO updated = MAPPER.readValue(json, UserTO.class);\n-                                          UserUR updateReq = AnyOperations.diff(updated, original, false);\n-                                          updateReq.setPassword(null);\n-                                          updateReq.setSecurityAnswer(null);\n-                                          ProvisioningResult<UserTO> result =\n-                                              restClient.update(original.getETagValue(), updateReq);\n-                                          model.getObject().setLastChangeDate(result.getEntity().getLastChangeDate());\n-\n-                                          SyncopeConsoleSession.get().info(getString(Constants.OPERATION_SUCCEEDED));\n-                                          target.add(container);\n-                                      } catch (Exception e) {\n-                                          LOG.error(\"While restoring user {}\", model.getObject().getKey(), e);\n-                                          SyncopeConsoleSession.get().onException(e);\n-                                      }\n-                                      ((BasePage) pageRef.getPage()).getNotificationPanel().refresh(target);\n-                                  }\n-                              }));\n-\n-                              altDefaultModal.header(new Model<>(\n-                                  getString(\"auditHistory.title\", new Model<>(new AnyWrapper<>(model.getObject())))));\n-\n-                              altDefaultModal.show(true);\n-                          }\n-                      }, ActionType.VIEW_AUDIT_HISTORY,\n-                String.format(\"%s,%s\", IdRepoEntitlement.USER_READ, IdRepoEntitlement.AUDIT_LIST)).\n-                setRealms(realm, model.getObject().getDynRealms());\n+                private static final long serialVersionUID = -1978723352517770644L;\n+\n+                @Override\n+                public void onClick(final AjaxRequestTarget target, final UserTO ignore) {\n+                    model.setObject(restClient.read(model.getObject().getKey()));\n+                    target.add(altDefaultModal.setContent(new AuditHistoryModal<UserTO>(\n+                            altDefaultModal,\n+                            AuditElements.EventCategoryType.LOGIC,\n+                            \"UserLogic\",\n+                            model.getObject(),\n+                            IdRepoEntitlement.USER_UPDATE,\n+                            pageRef) {\n+\n+                        private static final long serialVersionUID = 959378158400669867L;\n+\n+                        @Override\n+                        protected void restore(final String json, final AjaxRequestTarget target) {\n+                            // The original audit record masks the password and the security\n+                            // answer; so we cannot use the audit record to resurrect the entry\n+                            // based on mask data.\n+                            //\n+                            // The method behavior below will reset the audit record such\n+                            // that the current security answer and the password for the object\n+                            // are always maintained, and such properties for the\n+                            // user cannot be restored using audit records.\n+                            UserTO original = model.getObject();\n+                            try {\n+                                UserTO updated = MAPPER.readValue(json, UserTO.class);\n+                                UserUR updateReq = AnyOperations.diff(updated, original, false);\n+                                updateReq.setPassword(null);\n+                                updateReq.setSecurityAnswer(null);\n+                                ProvisioningResult<UserTO> result =\n+                                        restClient.update(original.getETagValue(), updateReq);\n+                                model.getObject().setLastChangeDate(result.getEntity().getLastChangeDate());\n+\n+                                SyncopeConsoleSession.get().info(getString(Constants.OPERATION_SUCCEEDED));\n+                                target.add(container);\n+                            } catch (Exception e) {\n+                                LOG.error(\"While restoring user {}\", model.getObject().getKey(), e);\n+                                SyncopeConsoleSession.get().onException(e);\n+                            }\n+                            ((BasePage) pageRef.getPage()).getNotificationPanel().refresh(target);\n+                        }\n+                    }));\n+\n+                    altDefaultModal.header(new Model<>(\n+                            getString(\"auditHistory.title\", new Model<>(new AnyWrapper<>(model.getObject())))));\n+\n+                    altDefaultModal.show(true);\n+                }\n+            }, ActionType.VIEW_AUDIT_HISTORY,\n+                    String.format(\"%s,%s\", IdRepoEntitlement.USER_READ, IdRepoEntitlement.AUDIT_LIST)).\n+                    setRealms(realm, model.getObject().getDynRealms());\n         }\n-        \n+\n         panel.add(new ActionLink<UserTO>() {\n \n             private static final long serialVersionUID = -7978723352517770644L;"},{"sha":"10218758d7822615aeb933fdea819cb3cb79496a","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/panels/search/GroupSearchPanel.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2Fsearch%2FGroupSearchPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2Fsearch%2FGroupSearchPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2Fsearch%2FGroupSearchPanel.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -19,7 +19,6 @@\n package org.apache.syncope.client.console.panels.search;\n \n import java.util.ArrayList;\n-import java.util.Collections;\n import java.util.List;\n import java.util.Map;\n import java.util.function.Function;\n@@ -78,7 +77,7 @@ protected List<SearchClause.Type> load() {\n \n             @Override\n             protected Map<String, String> load() {\n-                return Collections.<String, String>emptyMap();\n+                return Map.of();\n             }\n         };\n "},{"sha":"cd0b99079d1510fa2b344fe105b57549e9edec89","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/policies/PolicyDirectoryPanel.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpolicies%2FPolicyDirectoryPanel.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -21,7 +21,6 @@\n import de.agilecoders.wicket.core.markup.html.bootstrap.dialog.Modal;\n import java.util.ArrayList;\n import java.util.Collection;\n-import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n import org.apache.commons.lang3.SerializationUtils;\n@@ -194,7 +193,7 @@ protected void addCustomActions(final ActionsPanel<T> panel, final IModel<T> mod\n \n     @Override\n     protected Collection<ActionType> getBatches() {\n-        return Collections.<ActionType>emptyList();\n+        return List.of();\n     }\n \n     @Override"},{"sha":"c5f1c0566ffb3cb1b8dde81c24ca4e0ca0680133","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wicket/extensions/markup/html/repeater/data/table/AjaxFallbackDataTable.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fextensions%2Fmarkup%2Fhtml%2Frepeater%2Fdata%2Ftable%2FAjaxFallbackDataTable.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fextensions%2Fmarkup%2Fhtml%2Frepeater%2Fdata%2Ftable%2FAjaxFallbackDataTable.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fextensions%2Fmarkup%2Fhtml%2Frepeater%2Fdata%2Ftable%2FAjaxFallbackDataTable.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -118,6 +118,7 @@ protected ActionLinksTogglePanel<T> getTogglePanel() {\n         return null;\n     }\n \n+\n     @Override\n     protected Item<T> newRowItem(final String id, final int index, final IModel<T> model) {\n         final OddEvenItem<T> item = new OddEvenItem<>(id, index, model);"},{"sha":"d242da157c42718693e954313c68cef1dea0ed48","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wicket/markup/html/form/ActionLink.java","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionLink.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -95,6 +95,7 @@ public enum ActionType {\n         RECONCILIATION_PULL(\"update\"),\n         MANAGE_RESOURCES(\"update\"),\n         MANAGE_ACCOUNTS(\"update\"),\n+        MERGE_ACCOUNTS(\"update\"),\n         MANAGE_USERS(\"update\"),\n         MANAGE_GROUPS(\"update\"),\n         PROPAGATION_TASKS(\"read\"),"},{"sha":"1c05f3c276c4f9d27adc21ee75b89e675f2f97b0","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wicket/markup/html/form/AjaxSearchFieldPanel.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxSearchFieldPanel.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxSearchFieldPanel.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FAjaxSearchFieldPanel.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -18,7 +18,6 @@\n  */\n package org.apache.syncope.client.console.wicket.markup.html.form;\n \n-import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n import org.apache.syncope.client.ui.commons.Constants;\n@@ -38,7 +37,7 @@ public class AjaxSearchFieldPanel extends FieldPanel<String> implements Cloneabl\n \n     private static final long serialVersionUID = 6890905510177974519L;\n \n-    private List<String> choices = Collections.emptyList();\n+    private List<String> choices = List.of();\n \n     private final IAutoCompleteRenderer<String> renderer;\n "},{"sha":"f13ba2e1c7a00d04a3937cb696da9d6257ddd2f1","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/widgets/ReconciliationWidget.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwidgets%2FReconciliationWidget.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -23,7 +23,6 @@\n import java.io.InputStream;\n import java.util.ArrayList;\n import java.util.Collection;\n-import java.util.Collections;\n import java.util.Date;\n import java.util.HashSet;\n import java.util.Iterator;\n@@ -211,7 +210,7 @@ private Fragment buildExecFragment() {\n             execResult = parseReconciliationReportExec();\n         } catch (Exception e) {\n             LOG.error(\"Could not parse the reconciliation report result\", e);\n-            execResult = Pair.of(Collections.<ProgressBean>emptyList(), new ReconciliationReport(new Date()));\n+            execResult = Pair.of(List.of(), new ReconciliationReport(new Date()));\n         }\n         final List<ProgressBean> progressBeans = execResult.getLeft();\n         final ReconciliationReport report = execResult.getRight();"},{"sha":"2f266e73a5f3df5001355dd8de6cbfbe836633d5","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wizards/any/AbstractAttrs.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAbstractAttrs.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAbstractAttrs.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FAbstractAttrs.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -19,7 +19,6 @@\n package org.apache.syncope.client.console.wizards.any;\n \n import java.util.ArrayList;\n-import java.util.Collections;\n import java.util.LinkedHashMap;\n import java.util.List;\n import java.util.Map;\n@@ -45,6 +44,7 @@\n import org.slf4j.LoggerFactory;\n \n public abstract class AbstractAttrs<S extends SchemaTO> extends AbstractAttrsWizardStep<S> {\n+\n     private static final Logger LOG = LoggerFactory.getLogger(AbstractAttrs.class);\n \n     private static final long serialVersionUID = -5387344116983102292L;\n@@ -63,7 +63,7 @@ public AbstractAttrs(\n \n         super(modelObject.getInnerObject(), mode, anyTypeClasses, whichAttrs, null);\n \n-        this.memberships = new ListModel<>(Collections.<MembershipTO>emptyList());\n+        this.memberships = new ListModel<>(List.of());\n \n         this.setOutputMarkupId(true);\n     }\n@@ -113,7 +113,7 @@ protected List<String> getMembershipAuxClasses(final MembershipTO membershipTO,\n             Optional<TypeExtensionTO> typeExtension = groupTO.getTypeExtension(anyType);\n             if (typeExtension.isEmpty()) {\n                 LOG.trace(\"Unable to locate type extension for \" + anyType);\n-                return Collections.emptyList();\n+                return List.of();\n             }\n             return typeExtension.get().getAuxClasses();\n "},{"sha":"8f83a351a74f392089b599f94f28c3f5d2a28a50","filename":"client/idrepo/console/src/main/java/org/apache/syncope/client/console/wizards/any/Relationships.java","status":"modified","additions":4,"deletions":4,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FRelationships.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FRelationships.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwizards%2Fany%2FRelationships.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -21,7 +21,6 @@\n import org.apache.syncope.client.ui.commons.wizards.any.UserWrapper;\n import org.apache.syncope.client.ui.commons.wizards.any.AnyWrapper;\n import java.util.ArrayList;\n-import java.util.Collections;\n import java.util.HashMap;\n import java.util.List;\n import java.util.Map;\n@@ -183,11 +182,12 @@ public void onClick(final AjaxRequestTarget target, final RelationshipTO ignore)\n     private List<RelationshipTO> getCurrentRelationships() {\n         return anyTO instanceof GroupableRelatableTO\n                 ? GroupableRelatableTO.class.cast(anyTO).getRelationships()\n-                : Collections.<RelationshipTO>emptyList();\n+                : List.of();\n     }\n \n-    private static void addRelationship(final Map<String, List<RelationshipTO>> relationships,\n-                                        final RelationshipTO... rels) {\n+    private static void addRelationship(\n+            final Map<String, List<RelationshipTO>> relationships,\n+            final RelationshipTO... rels) {\n \n         for (RelationshipTO relationship : rels) {\n             final List<RelationshipTO> listrels;"},{"sha":"9cbfc6234453591f9e7a7df98b3d7dd97f02f605","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/UserDirectoryPanel.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -18,4 +18,5 @@ any.edit=Edit ${anyTO.type} ${anyTO.username}\n any.propagation.tasks=Propagation tasks for ${type} ${username}\n any.notification.tasks=Notification tasks for ${type} ${username}\n linkedAccounts.title=Manage user accounts\n+mergeLinkedAccounts.title=Merge user accounts with ${username}\n auditHistory.title=${anyTO.type} ${anyTO.username} history"},{"sha":"60a2dfec1f43c5783c371060079a42ea84ec4919","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/UserDirectoryPanel_fr_CA.properties","status":"modified","additions":4,"deletions":3,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_fr_CA.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_fr_CA.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_fr_CA.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -15,6 +15,7 @@\n # specific language governing permissions and limitations\n # under the License.\n any.edit=Modifier ${anyTO.type} ${anyTO.username}\n-any.propagation.tasks=TÔøΩches de propagation pour ${type} ${username}\n-any.notification.tasks=TÔøΩches de notification pour ${type} ${username}\n-linkedAccounts.title=GÔøΩrer les comptes utilisateur\n+any.propagation.tasks=T√¢ches de propagation pour ${type} ${username}\n+any.notification.tasks=T√¢ches de notification pour ${type} ${username}\n+linkedAccounts.title=G√©rer les comptes utilisateur\n+mergeLinkedAccounts.title=Merge user accounts with ${username}"},{"sha":"aedc995024f395ca5b01c234a9bd7615c0597006","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/UserDirectoryPanel_it.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_it.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_it.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_it.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -18,4 +18,5 @@ any.edit=Modifica ${anyTO.type} ${anyTO.username}\n any.propagation.tasks=Task di propagazione per ${type} ${username}\n any.notification.tasks=Task di notifica per ${type} ${username}\n linkedAccounts.title=Gestisci account utente\n+mergeLinkedAccounts.title=Combinare account utente con ${username}\n auditHistory.title=${anyTO.type} ${anyTO.username} history"},{"sha":"a4745d435cd722aa6fc8e37a1df3da77e638c219","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/UserDirectoryPanel_ja.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_ja.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_ja.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_ja.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -19,3 +19,4 @@ any.propagation.tasks=${type} ${username} \\u306e\\u4f1d\\u64ad\\u30bf\\u30b9\\u30af\n any.notification.tasks=${type} ${username} \\u306e\\u901a\\u77e5\\u30bf\\u30b9\\u30af\n linkedAccounts.title=\\u30e6\\u30fc\\u30b6\\u30fc\\u30a2\\u30ab\\u30a6\\u30f3\\u30c8\\u3092\\u7ba1\\u7406\\u3059\\u308b\n auditHistory.title=${anyTO.type} ${anyTO.username} history\n+mergeLinkedAccounts.title=Merge user accounts with ${username}"},{"sha":"230d7b1aa0cdc3e7d04d0d31ee164efcb583fdab","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/UserDirectoryPanel_pt_BR.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_pt_BR.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_pt_BR.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_pt_BR.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -19,3 +19,4 @@ any.propagation.tasks=Propagation tasks for ${type} ${username}\n any.notification.tasks=Notification tasks for ${type} ${username}\n linkedAccounts.title=Gerenciar contas de usu\\u00e1rio\n auditHistory.title=${anyTO.type} ${anyTO.username} history\n+mergeLinkedAccounts.title=Merge user accounts with ${username}"},{"sha":"b3b1b1d9d30469360e627421af887602473d418f","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/panels/UserDirectoryPanel_ru.properties","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_ru.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_ru.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fpanels%2FUserDirectoryPanel_ru.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -20,3 +20,4 @@ any.propagation.tasks=\\u0417\\u0430\\u0434\\u0430\\u0447\\u0438 \\u0432\\u044b\\u043f\\u0\n any.notification.tasks=\\u0417\\u0430\\u0434\\u0430\\u0447\\u0438 \\u043e\\u0442\\u043f\\u0440\\u0430\\u0432\\u043a\\u0438 \\u0443\\u0432\\u0435\\u0434\\u043e\\u043c\\u043b\\u0435\\u043d\\u0438\\u0439 \\u0434\\u043b\\u044f ${type} ${username}\n linkedAccounts.title=\\u0423\\u043f\\u0440\\u0430\\u0432\\u043b\\u0435\\u043d\\u0438\\u0435 \\u0443\\u0447\\u0435\\u0442\\u043d\\u044b\\u043c\\u0438 \\u0437\\u0430\\u043f\\u0438\\u0441\\u044f\\u043c\\u0438 \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0435\\u0439\n auditHistory.title=${anyTO.type} ${anyTO.username} history\n+mergeLinkedAccounts.title=Merge user accounts with ${username}"},{"sha":"9806974ac2b6fed52272f3076b52217ce342c2a8","filename":"client/idrepo/console/src/main/resources/org/apache/syncope/client/console/wicket/markup/html/form/ActionsPanel.properties","status":"modified","additions":4,"deletions":0,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel.properties","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel.properties","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fconsole%2Fsrc%2Fmain%2Fresources%2Forg%2Fapache%2Fsyncope%2Fclient%2Fconsole%2Fwicket%2Fmarkup%2Fhtml%2Fform%2FActionsPanel.properties?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -281,3 +281,7 @@ external_editor.title=external editor icon\n external_editor.class=fa fa-picture-o\n external_editor.alt=external editor icon\n \n+merge_accounts.class=fa fa-compress\n+merge_accounts.title=merge accounts\n+merge_accounts.alt=merge accounts icon\n+"},{"sha":"c8d15800b437116f8d78aa426265f3a1768116ca","filename":"client/idrepo/enduser/src/main/java/org/apache/syncope/client/enduser/wizards/any/AbstractAttrs.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fwizards%2Fany%2FAbstractAttrs.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fwizards%2Fany%2FAbstractAttrs.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fwizards%2Fany%2FAbstractAttrs.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -20,7 +20,6 @@\n \n import java.io.Serializable;\n import java.util.ArrayList;\n-import java.util.Collections;\n import java.util.Comparator;\n import java.util.LinkedHashMap;\n import java.util.List;\n@@ -75,7 +74,7 @@ public AbstractAttrs(\n         super();\n         this.anyTypeClasses = anyTypeClasses;\n         this.attrs = new ListModel<>(List.of());\n-        this.membershipTOs = new ListModel<>(Collections.<MembershipTO>emptyList());\n+        this.membershipTOs = new ListModel<>(List.of());\n \n         this.setOutputMarkupId(true);\n "},{"sha":"54e9df9bb932c2ca6c43bd7f97d16340bb9fce66","filename":"common/idm/rest-api/src/main/java/org/apache/syncope/common/rest/api/service/ResourceService.java","status":"modified","additions":25,"deletions":0,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/common%2Fidm%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FResourceService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/common%2Fidm%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FResourceService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidm%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2Fservice%2FResourceService.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -33,6 +33,7 @@\n import javax.ws.rs.Consumes;\n import javax.ws.rs.DELETE;\n import javax.ws.rs.GET;\n+import javax.ws.rs.OPTIONS;\n import javax.ws.rs.POST;\n import javax.ws.rs.PUT;\n import javax.ws.rs.Path;\n@@ -57,6 +58,30 @@\n @Path(\"resources\")\n public interface ResourceService extends JAXRSService {\n \n+    /**\n+     * Returns the calculated connObjectKey value for the given type and key.\n+     *\n+     * @param key name of resource to read connector object from\n+     * @param anyTypeKey any object type\n+     * @param anyKey user, group or any object key\n+     * @return connObjectKey value for the external resource, for the given type and key\n+     */\n+    @ApiResponses({\n+        @ApiResponse(responseCode = \"201\",\n+                description = \"connObjectKey value for the external resource, for the given type and key\", headers = {\n+                    @Header(name = RESTHeaders.CONNOBJECT_KEY, schema =\n+                            @Schema(type = \"string\"),\n+                            description = \"connObjectKey value for the external resource, for the given type and key\")\n+                }),\n+        @ApiResponse(responseCode = \"404\",\n+                description = \"user, group or any object not found, or connObjectKey cannot be calculated\") })\n+    @OPTIONS\n+    @Path(\"{key}/{anyTypeKey}/{anyKey}\")\n+    Response getConnObjectKeyValue(\n+            @NotNull @PathParam(\"key\") String key,\n+            @NotNull @PathParam(\"anyTypeKey\") String anyTypeKey,\n+            @NotNull @PathParam(\"anyKey\") String anyKey);\n+\n     /**\n      * Returns connector object from the external resource, for the given type and key.\n      *"},{"sha":"cbe18cd3816affa9836a96649c287851e61a0059","filename":"common/idrepo/rest-api/src/main/java/org/apache/syncope/common/rest/api/RESTHeaders.java","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/common%2Fidrepo%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2FRESTHeaders.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/common%2Fidrepo%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2FRESTHeaders.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fidrepo%2Frest-api%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Frest%2Fapi%2FRESTHeaders.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -35,6 +35,8 @@ public final class RESTHeaders {\n \n     public static final String RESOURCE_KEY = \"X-Syncope-Key\";\n \n+    public static final String CONNOBJECT_KEY = \"X-Syncope-ConnObject-Key\";\n+\n     /**\n      * Asks for asynchronous propagation towards external resources with null priority.\n      */"},{"sha":"e8da6e5aec445ed5a8c2b71943de0176e260fe4e","filename":"core/idm/logic/src/main/java/org/apache/syncope/core/logic/ResourceLogic.java","status":"modified","additions":25,"deletions":0,"changes":25,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/core%2Fidm%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FResourceLogic.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/core%2Fidm%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FResourceLogic.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidm%2Flogic%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Flogic%2FResourceLogic.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -53,6 +53,7 @@\n import org.apache.syncope.core.persistence.api.entity.ConnInstance;\n import org.apache.syncope.core.persistence.api.entity.VirSchema;\n import org.apache.syncope.core.persistence.api.entity.resource.Provision;\n+import org.apache.syncope.core.provisioning.api.MappingManager;\n import org.apache.syncope.core.provisioning.api.VirAttrHandler;\n import org.apache.syncope.core.provisioning.api.data.ConnInstanceDataBinder;\n import org.apache.syncope.core.provisioning.api.utils.RealmUtils;\n@@ -98,6 +99,9 @@ public class ResourceLogic extends AbstractTransactionalLogic<ResourceTO> {\n     @Autowired\n     private OutboundMatcher outboundMatcher;\n \n+    @Autowired\n+    private MappingManager mappingManager;\n+\n     @Autowired\n     private ConnectorFactory connFactory;\n \n@@ -281,6 +285,27 @@ private Provision getProvision(final String resourceKey, final String anyTypeKey\n                 \"Provision on resource '\" + resourceKey + \"' for type '\" + anyTypeKey + \"'\"));\n     }\n \n+    @PreAuthorize(\"hasRole('\" + IdMEntitlement.RESOURCE_GET_CONNOBJECT + \"')\")\n+    @Transactional(readOnly = true)\n+    public String getConnObjectKeyValue(\n+            final String key,\n+            final String anyTypeKey,\n+            final String anyKey) {\n+\n+        Provision provision = getProvision(key, anyTypeKey);\n+\n+        // 1. find any\n+        Any<?> any = anyUtilsFactory.getInstance(provision.getAnyType().getKind()).dao().authFind(anyKey);\n+        if (any == null) {\n+            throw new NotFoundException(provision.getAnyType() + \" \" + anyKey);\n+        }\n+\n+        // 2.get ConnObjectKey value\n+        return mappingManager.getConnObjectKeyValue(any, provision).\n+                orElseThrow(() -> new NotFoundException(\n+                \"No ConnObjectKey value found for \" + anyTypeKey + \" \" + anyKey + \" on resource '\" + key + \"'\"));\n+    }\n+\n     @PreAuthorize(\"hasRole('\" + IdMEntitlement.RESOURCE_GET_CONNOBJECT + \"')\")\n     @Transactional(readOnly = true)\n     public ConnObjectTO readConnObjectByAnyKey("},{"sha":"5f3e4550678c1d521b2cad70303825101a042c99","filename":"core/idm/rest-cxf/src/main/java/org/apache/syncope/core/rest/cxf/service/ResourceServiceImpl.java","status":"modified","additions":6,"deletions":0,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/core%2Fidm%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fcxf%2Fservice%2FResourceServiceImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/core%2Fidm%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fcxf%2Fservice%2FResourceServiceImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fidm%2Frest-cxf%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2Fcxf%2Fservice%2FResourceServiceImpl.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -91,6 +91,12 @@ public List<ResourceTO> list() {\n         return logic.list();\n     }\n \n+    @Override\n+    public Response getConnObjectKeyValue(final String key, final String anyTypeKey, final String anyKey) {\n+        String connObjectKeyValue = logic.getConnObjectKeyValue(key, anyTypeKey, anyKey);\n+        return Response.noContent().header(RESTHeaders.CONNOBJECT_KEY, connObjectKeyValue).build();\n+    }\n+\n     @Override\n     public ConnObjectTO readConnObject(final String key, final String anyTypeKey, final String value) {\n         return SyncopeConstants.UUID_PATTERN.matcher(value).matches()"},{"sha":"10b5c5ff7875dac44d4f35905f7c6fe42ccdf439","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/console/LinkedAccountsITCase.java","status":"added","additions":201,"deletions":0,"changes":201,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FLinkedAccountsITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FLinkedAccountsITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FLinkedAccountsITCase.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -0,0 +1,201 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.fit.console;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.fail;\n+\n+import javax.ws.rs.core.GenericType;\n+import javax.ws.rs.core.Response;\n+import org.apache.commons.lang3.RandomStringUtils;\n+import org.apache.syncope.client.console.SyncopeConsoleSession;\n+import org.apache.syncope.client.console.panels.search.SearchClause;\n+import org.apache.syncope.client.ui.commons.Constants;\n+import org.apache.syncope.common.lib.Attr;\n+import org.apache.syncope.common.lib.SyncopeClientException;\n+import org.apache.syncope.common.lib.request.UserCR;\n+import org.apache.syncope.common.lib.to.LinkedAccountTO;\n+import org.apache.syncope.common.lib.to.ProvisioningResult;\n+import org.apache.syncope.common.lib.to.UserTO;\n+import org.apache.syncope.common.lib.types.ClientExceptionType;\n+import org.apache.syncope.common.rest.api.service.UserService;\n+import org.apache.syncope.fit.core.UserITCase;\n+import org.apache.wicket.Component;\n+import org.apache.wicket.markup.html.form.DropDownChoice;\n+import org.apache.wicket.markup.html.form.TextField;\n+import org.apache.wicket.markup.repeater.OddEvenItem;\n+import org.apache.wicket.util.tester.FormTester;\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.BeforeEach;\n+import org.junit.jupiter.api.Test;\n+\n+public class LinkedAccountsITCase extends AbstractConsoleITCase {\n+\n+    private static final String TAB_PANEL = \"body:content:body:container:content:tabbedPanel:panel:searchResult:\";\n+\n+    private static final String RESULT_DATA_TABLE =\n+            \"searchResult:container:content:searchContainer:resultTable:tablePanel:groupForm:checkgroup:dataTable:\";\n+\n+    private static final String RESOURCES_DATA_TABLE =\n+            \"view:resources:container:content:searchContainer:resultTable:tablePanel:groupForm:checkgroup:dataTable:\";\n+\n+    private static final String SELECT_USER_ACTION = \"searchResult:outerObjectsRepeater:1:outer:container:content:\"\n+            + \"togglePanelContainer:container:actions:actions:actionRepeater:0:action:action\";\n+\n+    private static final String SELECT_RESOURCE_ACTION =\n+            \"view:resources:outerObjectsRepeater:1:outer:container:content:\"\n+            + \"togglePanelContainer:container:actions:actions:actionRepeater:0:action:action\";\n+\n+    private static final String PARENT_FORM = \"outerObjectsRepeater:2:outer:form:\";\n+\n+    private static final String FORM = PARENT_FORM + \"content:form:\";\n+\n+    private static final String SEARCH_PANEL = FORM + \"view:ownerContainer:search:\";\n+\n+    private static final String USER_SEARCH_PANEL = SEARCH_PANEL + \"usersearch:\";\n+\n+    private static final String USER_SEARCH_FORM = TAB_PANEL + USER_SEARCH_PANEL\n+            + \"searchFormContainer:search:multiValueContainer:innerForm:\";\n+\n+    private static final String CONTAINER = TAB_PANEL + \"container:content:\";\n+\n+    private static UserTO user;\n+\n+    @BeforeEach\n+    public void login() {\n+        doLogin(ADMIN_UNAME, ADMIN_PWD);\n+\n+        // create user with linked account\n+        String email = \"linkedAccount\" + RandomStringUtils.randomNumeric(4) + \"@syncope.apache.org\";\n+        UserCR userCR = UserITCase.getSample(email);\n+        String connObjectKeyValue = \"uid=\" + userCR.getUsername() + \",ou=People,o=isp\";\n+\n+        LinkedAccountTO account = new LinkedAccountTO.Builder(\"resource-ldap\", connObjectKeyValue).build();\n+        account.getPlainAttrs().add(new Attr.Builder(\"surname\").value(\"LINKED_SURNAME\").build());\n+        userCR.getLinkedAccounts().add(account);\n+\n+        UserService userService = SyncopeConsoleSession.get().getService(UserService.class);\n+        Response response = userService.create(userCR);\n+        user = response.readEntity(new GenericType<ProvisioningResult<UserTO>>() {\n+        }).getEntity();\n+        assertNotNull(user.getKey());\n+        assertEquals(account.getConnObjectKeyValue(), user.getLinkedAccounts().get(0).getConnObjectKeyValue());\n+    }\n+\n+    @AfterEach\n+    public void cleanUp() {\n+        try {\n+            SyncopeConsoleSession.get().getService(UserService.class).delete(user.getKey());\n+        } catch (final SyncopeClientException e) {\n+            if (e.getType() != ClientExceptionType.NotFound) {\n+                throw e;\n+            }\n+        }\n+    }\n+\n+    @Test\n+    public void createLinkedAccountAndMergeWithUser() {\n+        // Locate and select first user\n+        TESTER.clickLink(\"body:realmsLI:realms\");\n+        TESTER.clickLink(\"body:content:body:container:content:tabbedPanel:tabs-container:tabs:1:link\");\n+\n+        Component verdiUserComponent = findComponentByProp(\"username\", CONTAINER\n+                + \":searchContainer:resultTable:tablePanel:groupForm:checkgroup:dataTable\", \"verdi\");\n+        assertNotNull(verdiUserComponent);\n+        TESTER.executeAjaxEvent(verdiUserComponent.getPageRelativePath(), Constants.ON_CLICK);\n+\n+        // Click action menu to bring up merge window\n+        TESTER.clickLink(TAB_PANEL + \"outerObjectsRepeater:1:outer:container:content:togglePanelContainer:container:\"\n+                + \"actions:actions:actionRepeater:6:action:action\");\n+        // Search for user\n+        TESTER.executeAjaxEvent(USER_SEARCH_FORM + \"content:panelPlus:add\", Constants.ON_CLICK);\n+        FormTester formTester = TESTER.newFormTester(USER_SEARCH_FORM);\n+\n+        DropDownChoice<?> type = (DropDownChoice<?>) TESTER.getComponentFromLastRenderedPage(USER_SEARCH_FORM\n+                + \"content:view:0:panel:container:type:dropDownChoiceField\");\n+        TESTER.executeAjaxEvent(USER_SEARCH_FORM + \"content:view:0:panel:container:type:dropDownChoiceField\",\n+                Constants.ON_CHANGE);\n+        type.setModelValue(new String[] { \"ATTRIBUTE\" });\n+        type.setDefaultModelObject(SearchClause.Type.ATTRIBUTE);\n+\n+        TextField<?> property = (TextField<?>) TESTER.getComponentFromLastRenderedPage(USER_SEARCH_FORM\n+                + \"content:view:0:panel:container:property:textField\");\n+        assertNotNull(property);\n+        property.setModelValue(new String[] { \"username\" });\n+\n+        TextField<?> value = (TextField<?>) TESTER.getComponentFromLastRenderedPage(USER_SEARCH_FORM\n+                + \"content:view:0:panel:container:value:textField\");\n+        assertNotNull(value);\n+        value.setModelValue(new String[] { user.getUsername() });\n+\n+        TESTER.cleanupFeedbackMessages();\n+        formTester.submit(\"content:view:0:panel:container:operatorContainer:operator:search\");\n+        TESTER.assertNoErrorMessage();\n+\n+        // Locate result in data table\n+        Component comp = findComponentByProp(\"username\", TAB_PANEL + SEARCH_PANEL + RESULT_DATA_TABLE, user.\n+                getUsername());\n+        TESTER.executeAjaxEvent(comp.getPageRelativePath(), Constants.ON_CLICK);\n+\n+        UserTO userTO = (UserTO) ((OddEvenItem) TESTER.getComponentFromLastRenderedPage(TAB_PANEL + SEARCH_PANEL\n+                + RESULT_DATA_TABLE + \"body:rows:1\")).getModel().getObject();\n+        assertNotNull(userTO);\n+\n+        // Select user\n+        TESTER.clickLink(TAB_PANEL + SEARCH_PANEL + SELECT_USER_ACTION);\n+\n+        // move onto the next panel\n+        TESTER.getComponentFromLastRenderedPage(TAB_PANEL + FORM + \"view\").setEnabled(false);\n+        formTester = TESTER.newFormTester(TAB_PANEL + FORM);\n+        formTester.submit(\"buttons:next\");\n+\n+        // Select a resource\n+        comp = findComponentByProp(\"key\", TAB_PANEL + FORM + RESOURCES_DATA_TABLE + \"body:rows\", \"resource-ldap\");\n+        assertNotNull(comp);\n+        TESTER.executeAjaxEvent(comp.getPageRelativePath(), Constants.ON_CLICK);\n+        TESTER.clickLink(TAB_PANEL + FORM + SELECT_RESOURCE_ACTION);\n+\n+        // move onto the next panel\n+        TESTER.getComponentFromLastRenderedPage(TAB_PANEL + FORM + \"view\").setEnabled(false);\n+        formTester = TESTER.newFormTester(TAB_PANEL + FORM);\n+        formTester.submit(\"buttons:next\");\n+\n+        // Finish merge\n+        TESTER.getComponentFromLastRenderedPage(TAB_PANEL + FORM + \"view\").setEnabled(false);\n+        formTester = TESTER.newFormTester(TAB_PANEL + FORM);\n+        formTester.submit(\"buttons:finish\");\n+\n+        UserService userService = SyncopeConsoleSession.get().getService(UserService.class);\n+\n+        // User must have been deleted after the merge\n+        try {\n+            userService.read(user.getKey());\n+            fail(\"User must have been deleted; expect an exception here\");\n+        } catch (final SyncopeClientException e) {\n+            if (e.getType() != ClientExceptionType.NotFound) {\n+                fail(e.getMessage());\n+            }\n+        }\n+        // User must include merged accounts now\n+        UserTO verdi = userService.read(UserTO.class.cast(verdiUserComponent.getDefaultModelObject()).getKey());\n+        assertFalse(verdi.getLinkedAccounts().isEmpty());\n+    }\n+}"},{"sha":"782bba829dd2b6345a8545849cce9c260618a7f8","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/console/PoliciesITCase.java","status":"modified","additions":3,"deletions":4,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FPoliciesITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FPoliciesITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FPoliciesITCase.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -778,9 +778,8 @@ public void issueSYNCOPE1030() {\n         assertNotNull(component);\n \n         TESTER.executeAjaxEvent(component.getPageRelativePath(), Constants.ON_CLICK);\n-        TESTER.clickLink(\n-                \"body:content:body:container:content:tabbedPanel:panel:searchResult:outerObjectsRepeater:\"\n-                + \"1:outer:container:content:togglePanelContainer:container:actions:actions:actionRepeater:9:\"\n+        TESTER.clickLink(\"body:content:body:container:content:tabbedPanel:panel:searchResult:outerObjectsRepeater:\"\n+                + \"1:outer:container:content:togglePanelContainer:container:actions:actions:actionRepeater:10:\"\n                 + \"action:action\");\n \n         TESTER.assertComponent(\n@@ -837,7 +836,7 @@ public void issueSYNCOPE1030() {\n \n         TESTER.executeAjaxEvent(TESTER.getComponentFromLastRenderedPage(\n                 \"body:content:body:container:content:tabbedPanel:panel:searchResult:outerObjectsRepeater:\"\n-                + \"1:outer:container:content:togglePanelContainer:container:actions:actions:actionRepeater:10:\"\n+                + \"1:outer:container:content:togglePanelContainer:container:actions:actions:actionRepeater:11:\"\n                 + \"action:action\"), Constants.ON_CLICK);\n \n         assertSuccessMessage();"},{"sha":"2bb92c26b90a40ef28da52dc97eb75cb9a07c946","filename":"fit/core-reference/src/test/java/org/apache/syncope/fit/console/UsersITCase.java","status":"modified","additions":5,"deletions":6,"changes":11,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/05a2b35861017fa094fb1f1411f708cc786a4fd4/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FUsersITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/05a2b35861017fa094fb1f1411f708cc786a4fd4/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FUsersITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/fit%2Fcore-reference%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Ffit%2Fconsole%2FUsersITCase.java?ref=05a2b35861017fa094fb1f1411f708cc786a4fd4","patch":"@@ -76,7 +76,7 @@ public void forceChangePassword() {\n         assertNotNull(component);\n \n         TESTER.executeAjaxEvent(component.getPageRelativePath(), Constants.ON_CLICK);\n-        TESTER.clickLink(TAB_PANEL \n+        TESTER.clickLink(TAB_PANEL\n                 + \"outerObjectsRepeater:1:outer:container:content:togglePanelContainer:container:\"\n                 + \"actions:actions:actionRepeater:1:action:action\");\n \n@@ -93,9 +93,8 @@ public void clickToCloneUser() {\n         assertNotNull(component);\n \n         TESTER.executeAjaxEvent(component.getPageRelativePath(), Constants.ON_CLICK);\n-        TESTER.clickLink(TAB_PANEL \n-                + \"outerObjectsRepeater:1:outer:container:content:togglePanelContainer:container:\"\n-                + \"actions:actions:actionRepeater:9:action:action\");\n+        TESTER.clickLink(TAB_PANEL + \"outerObjectsRepeater:1:outer:container:content:togglePanelContainer:container:\"\n+                + \"actions:actions:actionRepeater:10:action:action\");\n \n         TESTER.assertComponent(TAB_PANEL\n                 + \"outerObjectsRepeater:0:outer:form:content:form:view:username:textField\",\n@@ -582,7 +581,7 @@ public void checkDeleteUsrLink() {\n         TESTER.executeAjaxEvent(component.getPageRelativePath(), Constants.ON_CLICK);\n         TESTER.assertComponent(TAB_PANEL\n                 + \"outerObjectsRepeater:1:outer:container:content:togglePanelContainer:container:\"\n-                + \"actions:actions:actionRepeater:10:action:action\", IndicatingOnConfirmAjaxLink.class);\n+                + \"actions:actions:actionRepeater:11:action:action\", IndicatingOnConfirmAjaxLink.class);\n     }\n \n     @Test\n@@ -719,7 +718,7 @@ public void changePassword() {\n         assertNotNull(component);\n \n         TESTER.executeAjaxEvent(component.getPageRelativePath(), Constants.ON_CLICK);\n-        TESTER.clickLink(TAB_PANEL \n+        TESTER.clickLink(TAB_PANEL\n                 + \"outerObjectsRepeater:1:outer:container:content:togglePanelContainer:container:\"\n                 + \"actions:actions:actionRepeater:2:action:action\");\n "}]}
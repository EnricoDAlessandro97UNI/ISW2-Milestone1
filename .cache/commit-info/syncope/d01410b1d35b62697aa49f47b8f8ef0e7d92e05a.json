{"sha":"d01410b1d35b62697aa49f47b8f8ef0e7d92e05a","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmQwMTQxMGIxZDM1YjYyNjk3YWE0OWY0N2I4ZjhlZjBlN2Q5MmUwNWE=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-06-16T10:41:19Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2014-06-16T10:41:19Z"},"message":"[SYNCOPE-488] Offline generation of WADL + HTML transformation\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1602838 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"d029abd506d368674c4ba8fd695d836a0e883de2","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/d029abd506d368674c4ba8fd695d836a0e883de2"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/d01410b1d35b62697aa49f47b8f8ef0e7d92e05a","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d01410b1d35b62697aa49f47b8f8ef0e7d92e05a","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d01410b1d35b62697aa49f47b8f8ef0e7d92e05a","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d01410b1d35b62697aa49f47b8f8ef0e7d92e05a/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"e917514b4d73425a8da26567d3746da42ca64921","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e917514b4d73425a8da26567d3746da42ca64921","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/e917514b4d73425a8da26567d3746da42ca64921"}],"stats":{"total":311,"additions":235,"deletions":76},"files":[{"sha":"d9f8c2e91aa54aee3f3be3429b16d8838315c075","filename":"common/pom.xml","status":"modified","additions":166,"deletions":1,"changes":167,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d01410b1d35b62697aa49f47b8f8ef0e7d92e05a/common%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d01410b1d35b62697aa49f47b8f8ef0e7d92e05a/common%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fpom.xml?ref=d01410b1d35b62697aa49f47b8f8ef0e7d92e05a","patch":"@@ -88,7 +88,7 @@ under the License.\n \n   <build>\n     <plugins>\n-      <!-- Generating javadoc JAR artifact for usage with CXF's WADL generator -->\n+      <!-- Generating javadoc JAR artifact for usage with CXF's WADL generator (for core) -->\n       <plugin>\n         <groupId>org.apache.maven.plugins</groupId>\n         <artifactId>maven-javadoc-plugin</artifactId>\n@@ -145,4 +145,169 @@ under the License.\n       </resource>\n     </resources>\n   </build>\n+  \n+  <profiles>\n+    <profile>\n+      <id>offline-doc</id>\n+      \n+      <build>\n+        <defaultGoal>clean verify</defaultGoal>\n+        \n+        <plugins>\n+          <!-- 1. Generate offline WADL -->\n+          <plugin>\n+            <groupId>org.apache.cxf</groupId>\n+            <artifactId>cxf-java2wadl-plugin</artifactId>\n+            <inherited>true</inherited>\n+            <executions>\n+              <execution>\n+                <id>parsejavadoc</id>\n+                <phase>generate-resources</phase>\n+                <goals>\n+                  <goal>parsejavadoc</goal>\n+                </goals>\n+              </execution>\n+              <execution>\n+                <id>process-classes</id>\n+                <phase>process-classes</phase>\n+                <goals>\n+                  <goal>java2wadl</goal>\n+                </goals>\n+                <configuration>\n+                  <applicationTitle>Apache Syncope ${project.version}</applicationTitle>\n+                  <namespacePrefix>syncope</namespacePrefix>\n+                  <addResourceAndMethodIds>true</addResourceAndMethodIds>\n+                  <linkAnyMediaTypeToXmlSchema>true</linkAnyMediaTypeToXmlSchema>\n+                  <classResourceNames/>\n+                  <basePackages>org.apache.syncope.common.services</basePackages>\n+                  <docProvider>org.apache.cxf.maven_plugin.javatowadl.ResourceMapJavaDocProvider</docProvider>\n+                  <attachWadl>true</attachWadl>\n+                </configuration>\n+              </execution>\n+            </executions>\n+          </plugin>\n+          <!-- 2. Transform WADL into 2 HTML pages -->\n+          <plugin>\n+            <groupId>org.codehaus.mojo</groupId>\n+            <artifactId>xml-maven-plugin</artifactId>\n+            <inherited>true</inherited>\n+            <executions>\n+              <execution>\n+                <phase>prepare-package</phase>\n+                <goals>\n+                  <goal>transform</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+            <configuration>\n+              <transformationSets>\n+                <transformationSet>\n+                  <dir>${project.build.directory}/generated/wadl/</dir>\n+                  <includes>\n+                    <include>application.wadl</include>\n+                  </includes>\n+                  <outputDir>${project.build.directory}/generated/wadl</outputDir>\n+                  <stylesheet>${basedir}/../core/src/main/resources/wadl2html/index.xsl</stylesheet>\n+                  <parameters>\n+                    <parameter>\n+                      <name>contextPath</name>\n+                      <value>/restdocs/${project.version}</value>\n+                    </parameter>\n+                  </parameters>\n+                  <outputProperties>\n+                    <outputProperty>\n+                      <name>indent</name>\n+                      <value>yes</value>\n+                    </outputProperty>\n+                  </outputProperties>\n+                  <fileMappers>\n+                    <fileMapper implementation=\"org.codehaus.plexus.components.io.filemappers.RegExpFileMapper\">\n+                      <pattern>^.*$</pattern>\n+                      <replacement>index.html</replacement>\n+                    </fileMapper>\n+                  </fileMappers>\n+                </transformationSet>\n+                <transformationSet>\n+                  <dir>${project.build.directory}/generated/wadl/</dir>\n+                  <includes>\n+                    <include>application.wadl</include>\n+                  </includes>\n+                  <outputDir>${project.build.directory}/generated/wadl</outputDir>\n+                  <stylesheet>${basedir}/../core/src/main/resources/wadl2html/schema.xsl</stylesheet>\n+                  <parameters>\n+                    <parameter>\n+                      <name>contextPath</name>\n+                      <value>/restdocs/${project.version}</value>\n+                    </parameter>\n+                    <parameter>\n+                      <name>schema-position</name>\n+                      <value>1</value>\n+                    </parameter>\n+                    <parameter>\n+                      <name>schema-prefix</name>\n+                      <value>syncope1</value>\n+                    </parameter>\n+                  </parameters>\n+                  <outputProperties>\n+                    <outputProperty>\n+                      <name>indent</name>\n+                      <value>yes</value>\n+                    </outputProperty>\n+                  </outputProperties>\n+                  <fileMappers>\n+                    <fileMapper implementation=\"org.codehaus.plexus.components.io.filemappers.RegExpFileMapper\">\n+                      <pattern>^.*$</pattern>\n+                      <replacement>schema_1_syncope1.html</replacement>\n+                    </fileMapper>\n+                  </fileMappers>\n+                </transformationSet>\n+              </transformationSets>\n+            </configuration>\n+          </plugin>   \n+          <!-- 3. Replace CSS and JS local includes with hosted -->\n+          <plugin>\n+            <groupId>com.google.code.maven-replacer-plugin</groupId>\n+            <artifactId>replacer</artifactId>\n+            <inherited>true</inherited>\n+            <executions>\n+              <execution>\n+                <phase>package</phase>\n+                <goals>\n+                  <goal>replace</goal>\n+                </goals>                   \n+              </execution>\n+            </executions>\n+            <configuration>\n+              <regex>false</regex>\n+              <includes>\n+                <include>${project.build.directory}/generated/wadl/*.html</include>\n+              </includes>              \n+              <replacements>\n+                <replacement>\n+                  <token>/restdocs/${project.version}/webjars/highlightjs/$/styles/default.min.css</token>\n+                  <value>http://yandex.st/highlightjs/${highlightjs.version}/styles/default.min.css</value>\n+                </replacement>         \n+                <replacement>\n+                  <token>/restdocs/${project.version}/webjars/highlightjs/$/highlight.min.js</token>\n+                  <value>http://yandex.st/highlightjs/${highlightjs.version}/highlight.min.js\"</value>\n+                </replacement>         \n+                <replacement>\n+                  <token>/restdocs/${project.version}/webjars/jquery-ui/$/themes/base/minified/jquery-ui.min.css</token>\n+                  <value>http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.1/themes/base/minified/jquery-ui.min.css</value>\n+                </replacement>  \n+                <replacement>\n+                  <token>/restdocs/${project.version}/webjars/jquery-ui/$/ui/minified/jquery-ui.min.js</token>\n+                  <value>http://ajax.googleapis.com/ajax/libs/jqueryui/${jquery-ui.version}/jquery-ui.min.js</value>\n+                </replacement>  \n+                <replacement>\n+                  <token>/restdocs/${project.version}/webjars/jquery/$/jquery.min.js</token>\n+                  <value>http://ajax.googleapis.com/ajax/libs/jquery/${jquery.version}/jquery.min.js</value>\n+                </replacement>  \n+              </replacements>\n+            </configuration>\n+          </plugin>                 \n+        </plugins>\n+      </build>\n+    </profile>\n+  </profiles>\n </project>"},{"sha":"541c17d814e525eee51e0008f2141251f84d87ae","filename":"console/pom.xml","status":"modified","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d01410b1d35b62697aa49f47b8f8ef0e7d92e05a/console%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d01410b1d35b62697aa49f47b8f8ef0e7d92e05a/console%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fpom.xml?ref=d01410b1d35b62697aa49f47b8f8ef0e7d92e05a","patch":"@@ -128,10 +128,6 @@ under the License.\n       <groupId>org.webjars</groupId>\n       <artifactId>jquery-ui</artifactId>\n     </dependency>\n-    <dependency>\n-      <groupId>org.webjars</groupId>\n-      <artifactId>highlightjs</artifactId>\n-    </dependency>\n     <dependency>\n       <groupId>org.webjars</groupId>\n       <artifactId>codemirror</artifactId>"},{"sha":"d7b4e98f7e2e1059675a60b97aecd35832b34a16","filename":"core/src/main/resources/wadl2html/index.xsl","status":"modified","additions":46,"deletions":1,"changes":47,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d01410b1d35b62697aa49f47b8f8ef0e7d92e05a/core%2Fsrc%2Fmain%2Fresources%2Fwadl2html%2Findex.xsl","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d01410b1d35b62697aa49f47b8f8ef0e7d92e05a/core%2Fsrc%2Fmain%2Fresources%2Fwadl2html%2Findex.xsl","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2Fwadl2html%2Findex.xsl?ref=d01410b1d35b62697aa49f47b8f8ef0e7d92e05a","patch":"@@ -47,8 +47,53 @@\n         </title>\n \n         <link rel=\"stylesheet\" href=\"{$contextPath}/webjars/jquery-ui/${jquery-ui.version}/themes/base/minified/jquery-ui.min.css\"/>\n-        <link rel=\"stylesheet\" href=\"{$contextPath}/css/style.css\"/>\n+        <style>\n+body {\n+  font-family: \"Verdana,Arial,sans-serif\";\n+  font-size: 0.9em;\n+}\n \n+table {\n+  font-family: \"Verdana,Arial,sans-serif\";\n+  font-size: 0.9em;\n+  border-width: 1px;\n+  border-color: #666666;\n+  border-collapse: collapse;\n+}\n+table th {\n+  border-width: 1px;\n+  padding: 8px;\n+  border-style: solid;\n+  border-color: #666666;\n+  background-color: #dedede;\n+}\n+td {\n+  border-width: 1px;\n+  padding: 8px;\n+  border-style: solid;\n+  border-color: #666666;\n+  background-color: #ffffff;\n+  vertical-align: top;\n+}\n+\n+.methods {\n+  padding: 5px;\n+}\n+\n+.representation-label {\n+  font-weight: bold;\n+  width: 80px;\n+}\n+\n+.ui-widget { font-size: 0.9em; }\n+.ui-tabs-vertical { width: 60em; }\n+.ui-tabs-vertical .ui-tabs-nav { padding: .2em .1em .2em .2em; float: left; width: 15em; }\n+.ui-tabs-vertical .ui-tabs-nav li { clear: left; width: 100%; border-bottom-width: 1px !important; border-right-width: 0 !important; margin: 0 -1px .2em 0; }\n+.ui-tabs-vertical .ui-tabs-nav li a { display:block; }\n+.ui-tabs-vertical .ui-tabs-nav li.ui-tabs-active { padding-bottom: 0; padding-right: .1em; border-right-width: 1px; border-right-width: 1px; }\n+.ui-tabs-vertical .ui-tabs-panel { padding: 1em; float: right; width: 40em;}\n+        </style>\n+        \n         <script src=\"{$contextPath}/webjars/jquery/${jquery.version}/jquery.min.js\">\n         </script>\n         <script src=\"{$contextPath}/webjars/jquery-ui/${jquery-ui.version}/ui/minified/jquery-ui.min.js\">          "},{"sha":"6dc46bdbad41d7b0e4182e6626d8ff9a5ba90b5c","filename":"core/src/main/webapp/css/style.css","status":"removed","additions":0,"deletions":62,"changes":62,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/e917514b4d73425a8da26567d3746da42ca64921/core%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstyle.css","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/e917514b4d73425a8da26567d3746da42ca64921/core%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstyle.css","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fwebapp%2Fcss%2Fstyle.css?ref=e917514b4d73425a8da26567d3746da42ca64921","patch":"@@ -1,62 +0,0 @@\n-/*\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n- */\n-body {\n-  font-family: \"Verdana,Arial,sans-serif\";\n-  font-size: 0.9em;\n-}\n-\n-table {\n-  font-family: \"Verdana,Arial,sans-serif\";\n-  font-size: 0.9em;\n-  border-width: 1px;\n-  border-color: #666666;\n-  border-collapse: collapse;\n-}\n-table th {\n-  border-width: 1px;\n-  padding: 8px;\n-  border-style: solid;\n-  border-color: #666666;\n-  background-color: #dedede;\n-}\n-td {\n-  border-width: 1px;\n-  padding: 8px;\n-  border-style: solid;\n-  border-color: #666666;\n-  background-color: #ffffff;\n-  vertical-align: top;\n-}\n-\n-.methods {\n-  padding: 5px;\n-}\n-\n-.representation-label {\n-  font-weight: bold;\n-  width: 80px;\n-}\n-\n-.ui-widget { font-size: 0.9em; }\n-.ui-tabs-vertical { width: 60em; }\n-.ui-tabs-vertical .ui-tabs-nav { padding: .2em .1em .2em .2em; float: left; width: 15em; }\n-.ui-tabs-vertical .ui-tabs-nav li { clear: left; width: 100%; border-bottom-width: 1px !important; border-right-width: 0 !important; margin: 0 -1px .2em 0; }\n-.ui-tabs-vertical .ui-tabs-nav li a { display:block; }\n-.ui-tabs-vertical .ui-tabs-nav li.ui-tabs-active { padding-bottom: 0; padding-right: .1em; border-right-width: 1px; border-right-width: 1px; }\n-.ui-tabs-vertical .ui-tabs-panel { padding: 1em; float: right; width: 40em;}\n\\ No newline at end of file"},{"sha":"349a20e586f57538c2d2e2ce83597f9108662913","filename":"pom.xml","status":"modified","additions":23,"deletions":8,"changes":31,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/d01410b1d35b62697aa49f47b8f8ef0e7d92e05a/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/d01410b1d35b62697aa49f47b8f8ef0e7d92e05a/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/pom.xml?ref=d01410b1d35b62697aa49f47b8f8ef0e7d92e05a","patch":"@@ -321,7 +321,7 @@ under the License.\n     \n     <aspectj.version>1.8.0</aspectj.version>\n \n-    <cxf.version>3.0.0</cxf.version>\t\n+    <cxf.version>3.0.1-SNAPSHOT</cxf.version>\t\n     <spring.version>4.0.5.RELEASE</spring.version>\n     <spring-security.version>3.2.4.RELEASE</spring-security.version>\n     <jackson.version>2.4.0</jackson.version>\n@@ -339,7 +339,7 @@ under the License.\n \n     <wicket.version>6.15.0</wicket.version>\n \n-    <groovy.version>2.3.2</groovy.version>\n+    <groovy.version>2.3.3</groovy.version>\n \n     <h2.version>1.4.178</h2.version>\n \n@@ -348,7 +348,7 @@ under the License.\n     <disruptor.version>3.2.1</disruptor.version>\n \n     <junit.version>4.11</junit.version>\n-    <selenium.version>2.42.1</selenium.version>\n+    <selenium.version>2.42.2</selenium.version>\n \n     <apacheds.version>1.5.7</apacheds.version>\n \n@@ -358,7 +358,7 @@ under the License.\n  \n     <jquery.version>1.11.1</jquery.version>\n     <jquery-ui.version>1.10.4</jquery-ui.version>\n-    <highlightjs.version>7.3-1</highlightjs.version>\n+    <highlightjs.version>8.0</highlightjs.version>\n     <codemirror.version>3.23</codemirror.version>\n  \n     <bundles.directory>${project.build.directory}/bundles</bundles.directory>\n@@ -867,7 +867,7 @@ under the License.\n       <dependency>\n         <groupId>org.webjars</groupId>\n         <artifactId>highlightjs</artifactId>\n-        <version>${highlightjs.version}</version>\n+        <version>${highlightjs.version}-3</version>\n       </dependency>\n       <dependency>\n         <groupId>org.webjars</groupId>\n@@ -922,7 +922,6 @@ under the License.\n   </dependencyManagement>\n \n   <repositories>\n-\n     <repository>\n       <id>sonatype</id>\n       <url>https://oss.sonatype.org/content/repositories/snapshots</url>\n@@ -932,10 +931,16 @@ under the License.\n       <snapshots>\n         <enabled>true</enabled>\n       </snapshots>\n-    </repository>\n-    \n+    </repository>    \n   </repositories>\n \n+  <pluginRepositories>\n+    <pluginRepository>\n+      <id>apache.snapshots</id>\n+      <url>http://repository.apache.org/snapshots</url>\n+    </pluginRepository>\n+  </pluginRepositories>\n+\n   <build>\n     <defaultGoal>clean verify</defaultGoal>\n \n@@ -969,6 +974,16 @@ under the License.\n           <artifactId>maven-javadoc-plugin</artifactId>\n           <version>2.9.1</version>          \n         </plugin>\n+        <plugin>\n+          <groupId>org.apache.cxf</groupId>\n+          <artifactId>cxf-java2wadl-plugin</artifactId>\n+          <version>${cxf.version}</version>\n+        </plugin>\n+        <plugin>\n+          <groupId>com.google.code.maven-replacer-plugin</groupId>\n+          <artifactId>replacer</artifactId>\n+          <version>1.5.3</version>\n+        </plugin>\n         <plugin>\n           <groupId>org.codehaus.mojo</groupId>\n           <artifactId>exec-maven-plugin</artifactId>"}]}
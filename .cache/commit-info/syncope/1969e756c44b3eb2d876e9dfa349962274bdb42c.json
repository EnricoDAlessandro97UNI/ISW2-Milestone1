{"sha":"1969e756c44b3eb2d876e9dfa349962274bdb42c","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjE5NjllNzU2YzQ0YjNlYjJkODc2ZTlkZmEzNDk5NjIyNzRiZGI0MmM=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2012-06-08T15:15:53Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2012-06-08T15:15:53Z"},"message":"[SYNCOPE-92] Ok, only XSLT could save us: parent POM is now generated by an XSLT transformation, with correct Syncope version as input parameter\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1348106 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"faae06dcf5591570a5c267e2051da8f7acfad68a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/faae06dcf5591570a5c267e2051da8f7acfad68a"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/1969e756c44b3eb2d876e9dfa349962274bdb42c","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1969e756c44b3eb2d876e9dfa349962274bdb42c","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/1969e756c44b3eb2d876e9dfa349962274bdb42c","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/1969e756c44b3eb2d876e9dfa349962274bdb42c/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"70dfd086dc579e532b4cc7e5343cb88ff8afd854","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/70dfd086dc579e532b4cc7e5343cb88ff8afd854","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/70dfd086dc579e532b4cc7e5343cb88ff8afd854"}],"stats":{"total":111,"additions":100,"deletions":11},"files":[{"sha":"cd266d2ff113099a17e60ad3c09139064b462d61","filename":"archetype/pom.xml","status":"modified","additions":45,"deletions":0,"changes":45,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1969e756c44b3eb2d876e9dfa349962274bdb42c/archetype%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1969e756c44b3eb2d876e9dfa349962274bdb42c/archetype%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fpom.xml?ref=1969e756c44b3eb2d876e9dfa349962274bdb42c","patch":"@@ -65,6 +65,51 @@ under the License.\n     </pluginManagement>\n \n     <plugins>\n+      <!-- Generate project's parent POM and dynamically sets Syncope version -->\n+      <plugin>\n+        <groupId>org.codehaus.mojo</groupId>\n+        <artifactId>xml-maven-plugin</artifactId>\n+        <inherited>true</inherited>\n+        <executions>\n+          <execution>\n+            <phase>generate-resources</phase>\n+            <goals>\n+              <goal>transform</goal>\n+            </goals>\n+          </execution>\n+        </executions>\n+        <configuration>\n+          <transformationSets>\n+            <transformationSet>\n+              <dir>${basedir}/src/main/resources</dir>\n+              <includes>\n+                <include>meta-pom.xml</include>\n+              </includes>\n+              <outputDir>${basedir}/src/main/resources/archetype-resources</outputDir>\n+              <stylesheet>${basedir}/src/main/resources/properties2pom.xsl</stylesheet>\n+              <parameters>\n+                <parameter>\n+                  <name>syncopeVersion</name>\n+                  <value>${project.version}</value>\n+                </parameter>\n+              </parameters>\n+              <outputProperties>\n+                <outputProperty>\n+                  <name>indent</name>\n+                  <value>yes</value>\n+                </outputProperty>\n+              </outputProperties>\n+              <fileMappers>\n+                <fileMapper implementation=\"org.codehaus.plexus.components.io.filemappers.RegExpFileMapper\">\n+                  <pattern>^meta-(.*)\\.xml$</pattern>\n+                  <replacement>$1.xml</replacement>\n+                </fileMapper>\n+              </fileMappers>\n+            </transformationSet>\n+          </transformationSets>\n+        </configuration>\n+      </plugin>\n+      \n       <plugin>\n         <groupId>org.apache.maven.plugins</groupId>\n         <artifactId>maven-antrun-plugin</artifactId>"},{"sha":"1a397cb2acbbab31e6dbbdd1299ab2109f0571f0","filename":"archetype/src/main/resources/archetype-resources/console/pom.xml","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1969e756c44b3eb2d876e9dfa349962274bdb42c/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fconsole%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1969e756c44b3eb2d876e9dfa349962274bdb42c/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fconsole%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fconsole%2Fpom.xml?ref=1969e756c44b3eb2d876e9dfa349962274bdb42c","patch":"@@ -81,7 +81,6 @@ under the License.\n     <dependency>\r\n       <groupId>org.apache.syncope</groupId>\r\n       <artifactId>syncope-build-tools</artifactId>\r\n-      <version>${syncope.version}</version>\r\n       <type>war</type>\r\n       <scope>test</scope>\r\n     </dependency>\r\n@@ -138,7 +137,7 @@ under the License.\n     <finalName>syncope-console</finalName>\r\n \r\n     <plugins>\r\n-\r\n+      \r\n       <plugin>\r\n         <groupId>org.apache.maven.plugins</groupId>\r\n         <artifactId>maven-dependency-plugin</artifactId>\r"},{"sha":"00c03d96041d5d83b42af51b88bf45a7583d4433","filename":"archetype/src/main/resources/archetype-resources/core/pom.xml","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1969e756c44b3eb2d876e9dfa349962274bdb42c/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcore%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1969e756c44b3eb2d876e9dfa349962274bdb42c/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcore%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Farchetype-resources%2Fcore%2Fpom.xml?ref=1969e756c44b3eb2d876e9dfa349962274bdb42c","patch":"@@ -99,11 +99,10 @@ under the License.\n       <artifactId>groovy-all</artifactId>\r\n     </dependency>\r\n \r\n-<!-- TEST -->\r\n+    <!-- TEST -->\r\n     <dependency>\r\n       <groupId>org.apache.syncope</groupId>\r\n       <artifactId>syncope-build-tools</artifactId>\r\n-      <version>${syncope.version}</version>\r\n       <type>war</type>\r\n       <scope>test</scope>\r\n     </dependency>\r"},{"sha":"cd53c96610727fa3f79527093dbf89f80c3c8bbd","filename":"archetype/src/main/resources/meta-pom.xml","status":"renamed","additions":4,"deletions":3,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1969e756c44b3eb2d876e9dfa349962274bdb42c/archetype%2Fsrc%2Fmain%2Fresources%2Fmeta-pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1969e756c44b3eb2d876e9dfa349962274bdb42c/archetype%2Fsrc%2Fmain%2Fresources%2Fmeta-pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Fmeta-pom.xml?ref=1969e756c44b3eb2d876e9dfa349962274bdb42c","patch":"@@ -28,11 +28,11 @@ under the License.\n   <parent>\r\n     <groupId>org.apache.syncope</groupId>\r\n     <artifactId>syncope</artifactId>\r\n-    <version>1.0.0-incubating-SNAPSHOT</version>\r\n+    <version></version>\r\n   </parent>\r\n \r\n   <properties>\r\n-    <syncope.version>1.0.0-incubating-SNAPSHOT</syncope.version>\r\n+    <syncope.version></syncope.version>\r\n   </properties>\r\n \r\n   <name>Apache Syncope sample project</name>\r\n@@ -54,6 +54,7 @@ under the License.\n         <artifactId>syncope-build-tools</artifactId>\r\n         <version>${syncope.version}</version>\r\n         <type>war</type>\r\n+        <scope>test</scope>\r\n       </dependency> \r\n             \r\n       <dependency>\r\n@@ -111,7 +112,7 @@ under the License.\n     </pluginManagement>\r\n     \r\n     <!-- Disable legal check for generated projects: see SYNCOPE-84 -->\r\n-    <plugins>      \r\n+    <plugins>\r\n       <plugin>\r\n         <groupId>org.codehaus.mojo</groupId>\r\n         <artifactId>ianal-maven-plugin</artifactId>\r","previous_filename":"archetype/src/main/resources/archetype-resources/pom.xml"},{"sha":"41e76b47451fb7eded72320969146bc9d5297edc","filename":"archetype/src/main/resources/properties2pom.xsl","status":"added","additions":44,"deletions":0,"changes":44,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1969e756c44b3eb2d876e9dfa349962274bdb42c/archetype%2Fsrc%2Fmain%2Fresources%2Fproperties2pom.xsl","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1969e756c44b3eb2d876e9dfa349962274bdb42c/archetype%2Fsrc%2Fmain%2Fresources%2Fproperties2pom.xsl","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/archetype%2Fsrc%2Fmain%2Fresources%2Fproperties2pom.xsl?ref=1969e756c44b3eb2d876e9dfa349962274bdb42c","patch":"@@ -0,0 +1,44 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  Licensed to the Apache Software Foundation (ASF) under one\n+  or more contributor license agreements.  See the NOTICE file\n+  distributed with this work for additional information\n+  regarding copyright ownership.  The ASF licenses this file\n+  to you under the Apache License, Version 2.0 (the\n+  \"License\"); you may not use this file except in compliance\n+  with the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing,\n+  software distributed under the License is distributed on an\n+  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+  KIND, either express or implied.  See the License for the\n+  specific language governing permissions and limitations\n+  under the License.\n+ -->\n+<xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\n+                xmlns:m=\"http://maven.apache.org/POM/4.0.0\"\n+                exclude-result-prefixes=\"m\"\n+                version=\"1.0\">\n+  <xsl:param name=\"syncopeVersion\"/>\n+  \n+  <xsl:template match=\"/m:project/m:parent/m:version\">\n+    <version>\n+      <xsl:value-of select=\"$syncopeVersion\"/>\n+    </version>\n+  </xsl:template>\n+\n+  <xsl:template match=\"/m:project/m:properties/m:syncope.version\">\n+    <syncope.version>\n+      <xsl:value-of select=\"$syncopeVersion\"/>\n+    </syncope.version>\n+  </xsl:template>\n+  \n+  <xsl:template match=\"node()|@*|comment()\">\n+    <xsl:copy>\n+      <xsl:apply-templates select=\"@*|node()\"/>\n+    </xsl:copy>\n+  </xsl:template>\n+\n+</xsl:stylesheet>"},{"sha":"0e3a56bcc03cf58d4e53d3f0869a044aee89eb0a","filename":"parent/pom.xml","status":"modified","additions":5,"deletions":0,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1969e756c44b3eb2d876e9dfa349962274bdb42c/parent%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1969e756c44b3eb2d876e9dfa349962274bdb42c/parent%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/parent%2Fpom.xml?ref=1969e756c44b3eb2d876e9dfa349962274bdb42c","patch":"@@ -788,6 +788,11 @@ under the License.\n             </dependency>\n           </dependencies>\n         </plugin>\n+        <plugin>\n+          <groupId>org.codehaus.mojo</groupId>\n+          <artifactId>xml-maven-plugin</artifactId>\n+          <version>1.0</version>\n+        </plugin>\n         <plugin>\n           <groupId>org.apache.maven.plugins</groupId>\n           <artifactId>maven-surefire-plugin</artifactId>"},{"sha":"9a8f1379a02600992dc1f9d8b4254be1793974c8","filename":"parent/src/site/xdoc/release-process.xml","status":"modified","additions":0,"deletions":4,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/1969e756c44b3eb2d876e9dfa349962274bdb42c/parent%2Fsrc%2Fsite%2Fxdoc%2Frelease-process.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/1969e756c44b3eb2d876e9dfa349962274bdb42c/parent%2Fsrc%2Fsite%2Fxdoc%2Frelease-process.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/parent%2Fsrc%2Fsite%2Fxdoc%2Frelease-process.xml?ref=1969e756c44b3eb2d876e9dfa349962274bdb42c","patch":"@@ -118,10 +118,6 @@ under the License.\n             Update the <tt>CHANGES</tt> file in a working copy of the project root based on the Text release reports\n             from JIRA.\n           </li>\n-          <li>\n-            Update parent POM version in <tt>archetype/src/main/resources/archetype-resources/pom.xml</tt>\n-            to the ongoing release number.\n-          </li>\n           <li>\n             Commit any changes back to svn:\n             <source>svn commit -m \"updating files for release\"</source>"}]}
{"sha":"ee88940efc0a256d3c8b5c03151ebfb87d9bf157","node_id":"C_kwDOJfYA1toAKGVlODg5NDBlZmMwYTI1NmQzYzhiNWMwMzE1MWViZmI4N2Q5YmYxNTc","commit":{"author":{"name":"Andrea Patricelli","email":"andreapatricelli@apache.org","date":"2022-11-03T11:10:51Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2022-11-03T11:10:51Z"},"message":"[SYNCOPE-1708] added extension enable configuration to enduser form layout (#386)","tree":{"sha":"6e98851d3cd257b39693ac00e927a86ec086450a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/6e98851d3cd257b39693ac00e927a86ec086450a"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/ee88940efc0a256d3c8b5c03151ebfb87d9bf157","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjY6G7CRBK7hj4Ov3rIwAA6bcIAFsQrqtpR5qJLg1XeFku2HIB\n8Of0OL69f7Wlendc5sD9Y3Xd5qzgoGnOT4wC9Ts5+gFQURSTQvDlhPQIiaLw1dJ3\nDIhyqLpKueIyQcJp4Xe5UHxA/dNlgEQisK0HpMzY0Ly/9s2HY8dg9Z2XH1DTqPLd\naVDxxkLBgMnsuKQ7sUabAMy8ySNGJM8MacsY6nRqM7/zgUp/ybF9SDfG9/jaoxrv\n4WhVQGFNMeL1kpK6kx6ptHs+JbqWH+Fee6w6K1q6Bsf6D4P4TkMJpxa3E31GONNX\nyQcgOi+tl1iGOJF7R86A94mRopLurdaDJeJJ9uuJT7WzkiLnounbOkBlq5Fza8A=\n=kGHS\n-----END PGP SIGNATURE-----\n","payload":"tree 6e98851d3cd257b39693ac00e927a86ec086450a\nparent c20441f168f8ce5bbdae8f20bdfc2acdd5b7a466\nauthor Andrea Patricelli <andreapatricelli@apache.org> 1667473851 +0100\ncommitter GitHub <noreply@github.com> 1667473851 +0100\n\n[SYNCOPE-1708] added extension enable configuration to enduser form layout (#386)\n\n"}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ee88940efc0a256d3c8b5c03151ebfb87d9bf157","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/ee88940efc0a256d3c8b5c03151ebfb87d9bf157","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/ee88940efc0a256d3c8b5c03151ebfb87d9bf157/comments","author":{"login":"andrea-patricelli","id":3763111,"node_id":"MDQ6VXNlcjM3NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3763111?v=4","gravatar_id":"","url":"https://api.github.com/users/andrea-patricelli","html_url":"https://github.com/andrea-patricelli","followers_url":"https://api.github.com/users/andrea-patricelli/followers","following_url":"https://api.github.com/users/andrea-patricelli/following{/other_user}","gists_url":"https://api.github.com/users/andrea-patricelli/gists{/gist_id}","starred_url":"https://api.github.com/users/andrea-patricelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrea-patricelli/subscriptions","organizations_url":"https://api.github.com/users/andrea-patricelli/orgs","repos_url":"https://api.github.com/users/andrea-patricelli/repos","events_url":"https://api.github.com/users/andrea-patricelli/events{/privacy}","received_events_url":"https://api.github.com/users/andrea-patricelli/received_events","type":"User","site_admin":false},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"c20441f168f8ce5bbdae8f20bdfc2acdd5b7a466","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/c20441f168f8ce5bbdae8f20bdfc2acdd5b7a466","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/c20441f168f8ce5bbdae8f20bdfc2acdd5b7a466"}],"stats":{"total":24,"additions":22,"deletions":2},"files":[{"sha":"f9840a83f00a7338446b15613bb56ca47f1eef92","filename":"client/idrepo/enduser/src/main/java/org/apache/syncope/client/enduser/layout/SidebarLayout.java","status":"modified","additions":12,"deletions":0,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ee88940efc0a256d3c8b5c03151ebfb87d9bf157/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Flayout%2FSidebarLayout.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ee88940efc0a256d3c8b5c03151ebfb87d9bf157/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Flayout%2FSidebarLayout.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Flayout%2FSidebarLayout.java?ref=ee88940efc0a256d3c8b5c03151ebfb87d9bf157","patch":"@@ -19,6 +19,8 @@\n package org.apache.syncope.client.enduser.layout;\n \n import java.io.Serializable;\n+import java.util.HashMap;\n+import java.util.Map;\n \n public class SidebarLayout implements Serializable {\n \n@@ -30,6 +32,8 @@ public class SidebarLayout implements Serializable {\n \n     private boolean securityQuestionManagementEnabled = true;\n \n+    private final Map<String, Boolean> extensionsEnabled = new HashMap<>();\n+\n     public boolean isEditUserEnabled() {\n         return editUserEnabled;\n     }\n@@ -54,4 +58,12 @@ public void setSecurityQuestionManagementEnabled(final boolean securityQuestionM\n         this.securityQuestionManagementEnabled = securityQuestionManagementEnabled;\n     }\n \n+    public Map<String, Boolean> getExtensionsEnabled() {\n+        return extensionsEnabled;\n+    }\n+\n+    public boolean isExtensionEnabled(final String key) {\n+        return extensionsEnabled.getOrDefault(key, true);\n+    }\n+\n }"},{"sha":"2abca3e3568aa62cb19d84f17aeb48ab2cab84db","filename":"client/idrepo/enduser/src/main/java/org/apache/syncope/client/enduser/panels/Sidebar.java","status":"modified","additions":7,"deletions":1,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ee88940efc0a256d3c8b5c03151ebfb87d9bf157/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fpanels%2FSidebar.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ee88940efc0a256d3c8b5c03151ebfb87d9bf157/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fpanels%2FSidebar.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fenduser%2Fpanels%2FSidebar.java?ref=ee88940efc0a256d3c8b5c03151ebfb87d9bf157","patch":"@@ -19,7 +19,9 @@\n package org.apache.syncope.client.enduser.panels;\n \n import java.util.List;\n+import java.util.stream.Collectors;\n import java.util.stream.StreamSupport;\n+import org.apache.commons.lang3.StringUtils;\n import org.apache.syncope.client.enduser.BookmarkablePageLinkBuilder;\n import org.apache.syncope.client.enduser.SyncopeEnduserSession;\n import org.apache.syncope.client.enduser.SyncopeWebApplication;\n@@ -121,7 +123,11 @@ public void onComponentTag(final Component component, final ComponentTag tag) {\n         }\n \n         ListView<Class<? extends BasePage>> extPages =\n-            new ListView<>(\"extPages\", extPageClasses) {\n+                new ListView<>(\"extPages\", extPageClasses.stream()\n+                        .filter(epc -> SyncopeWebApplication.get().getCustomFormLayout().getSidebarLayout()\n+                                .isExtensionEnabled(StringUtils.remove(epc.getAnnotation(ExtPage.class).label(),\n+                                                StringUtils.SPACE)))\n+                        .collect(Collectors.toList())) {\n \n                 private static final long serialVersionUID = 4949588177564901031L;\n "},{"sha":"c6bdc1ee5a77efbbde2fc097808d035bbd0e076d","filename":"client/idrepo/enduser/src/main/resources/customFormLayout.json","status":"modified","additions":3,"deletions":1,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/ee88940efc0a256d3c8b5c03151ebfb87d9bf157/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2FcustomFormLayout.json","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/ee88940efc0a256d3c8b5c03151ebfb87d9bf157/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2FcustomFormLayout.json","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fidrepo%2Fenduser%2Fsrc%2Fmain%2Fresources%2FcustomFormLayout.json?ref=ee88940efc0a256d3c8b5c03151ebfb87d9bf157","patch":"@@ -14,6 +14,8 @@\n   \"sidebarLayout\": {\n     \"editUserEnabled\": true,\n     \"passwordManagementEnabled\": true,\n-    \"securityQuestionManagementEnabled\": true\n+    \"securityQuestionManagementEnabled\": true,\n+    \"extensionsEnabled\": {\n+    }\n   }\n }"}]}
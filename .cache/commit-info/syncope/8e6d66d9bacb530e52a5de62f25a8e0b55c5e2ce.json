{"sha":"8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjhlNmQ2NmQ5YmFjYjUzMGU1MmE1ZGU2MmYyNWE4ZTBiNTVjNWUyY2U=","commit":{"author":{"name":"Christian Schneider","email":"cschneider@apache.org","date":"2013-02-01T21:10:35Z"},"committer":{"name":"Christian Schneider","email":"cschneider@apache.org","date":"2013-02-01T21:10:35Z"},"message":"SYNCOPE-231 Fix marshalling issue in getReportletConfClasses\n\ngit-svn-id: https://svn.apache.org/repos/asf/syncope/trunk@1441629 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"ced3fefe50c7401255e9f1ac07a17c67f31f4bb1","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/ced3fefe50c7401255e9f1ac07a17c67f31f4bb1"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce/comments","author":{"login":"cschneider","id":484584,"node_id":"MDQ6VXNlcjQ4NDU4NA==","avatar_url":"https://avatars.githubusercontent.com/u/484584?v=4","gravatar_id":"","url":"https://api.github.com/users/cschneider","html_url":"https://github.com/cschneider","followers_url":"https://api.github.com/users/cschneider/followers","following_url":"https://api.github.com/users/cschneider/following{/other_user}","gists_url":"https://api.github.com/users/cschneider/gists{/gist_id}","starred_url":"https://api.github.com/users/cschneider/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cschneider/subscriptions","organizations_url":"https://api.github.com/users/cschneider/orgs","repos_url":"https://api.github.com/users/cschneider/repos","events_url":"https://api.github.com/users/cschneider/events{/privacy}","received_events_url":"https://api.github.com/users/cschneider/received_events","type":"User","site_admin":false},"committer":{"login":"cschneider","id":484584,"node_id":"MDQ6VXNlcjQ4NDU4NA==","avatar_url":"https://avatars.githubusercontent.com/u/484584?v=4","gravatar_id":"","url":"https://api.github.com/users/cschneider","html_url":"https://github.com/cschneider","followers_url":"https://api.github.com/users/cschneider/followers","following_url":"https://api.github.com/users/cschneider/following{/other_user}","gists_url":"https://api.github.com/users/cschneider/gists{/gist_id}","starred_url":"https://api.github.com/users/cschneider/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cschneider/subscriptions","organizations_url":"https://api.github.com/users/cschneider/orgs","repos_url":"https://api.github.com/users/cschneider/repos","events_url":"https://api.github.com/users/cschneider/events{/privacy}","received_events_url":"https://api.github.com/users/cschneider/received_events","type":"User","site_admin":false},"parents":[{"sha":"e7eb65f414218e458f8afa67cb1ea3ec5954c3a9","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/e7eb65f414218e458f8afa67cb1ea3ec5954c3a9","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/e7eb65f414218e458f8afa67cb1ea3ec5954c3a9"}],"stats":{"total":82,"additions":64,"deletions":18},"files":[{"sha":"77f960ce942ac7aaaff7b7eeb8d01ee167ae23de","filename":"client/src/main/java/org/apache/syncope/client/services/proxy/ReportServiceProxy.java","status":"modified","additions":3,"deletions":4,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fservices%2Fproxy%2FReportServiceProxy.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fservices%2Fproxy%2FReportServiceProxy.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/client%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fclient%2Fservices%2Fproxy%2FReportServiceProxy.java?ref=8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce","patch":"@@ -21,14 +21,13 @@\n import java.io.InputStream;\r\n import java.net.URI;\r\n import java.util.Arrays;\r\n-import java.util.HashSet;\r\n import java.util.List;\r\n-import java.util.Set;\r\n \r\n import javax.ws.rs.core.Response;\r\n \r\n import org.apache.syncope.common.SyncopeConstants;\r\n import org.apache.syncope.common.services.ReportService;\r\n+import org.apache.syncope.common.services.ReportletConfClasses;\r\n import org.apache.syncope.common.to.ReportExecTO;\r\n import org.apache.syncope.common.to.ReportTO;\r\n import org.apache.syncope.common.types.ReportExecExportFormat;\r\n@@ -74,10 +73,10 @@ public List<ReportExecTO> listExecutions() {\n     }\r\n \r\n     @Override\r\n-    public Set<String> getReportletConfClasses() {\r\n+    public ReportletConfClasses getReportletConfClasses() {\r\n         List<String> confClasses = Arrays.asList(getRestTemplate().getForObject(\r\n                 baseUrl + \"report/reportletConfClasses.json\", String[].class));\r\n-        return new HashSet<String>(confClasses);\r\n+        return new ReportletConfClasses(confClasses);\r\n     }\r\n \r\n     @Override\r"},{"sha":"2058c473d89ca3fe795adedd37c96758607b97b5","filename":"common/src/main/java/org/apache/syncope/common/services/ReportService.java","status":"modified","additions":1,"deletions":2,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fservices%2FReportService.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fservices%2FReportService.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fservices%2FReportService.java?ref=8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce","patch":"@@ -19,7 +19,6 @@\n package org.apache.syncope.common.services;\r\n \r\n import java.util.List;\r\n-import java.util.Set;\r\n \r\n import javax.ws.rs.DELETE;\r\n import javax.ws.rs.DefaultValue;\r\n@@ -89,7 +88,7 @@ Response exportExecutionResult(@PathParam(\"executionId\") Long executionId,\n      */\r\n     @GET\r\n     @Path(\"reportletConfClasses\")\r\n-    Set<String> getReportletConfClasses();\r\n+    ReportletConfClasses getReportletConfClasses();\r\n \r\n     /**\r\n      * @return Returns a list of all reports\r"},{"sha":"da94d735556271f3ff3aa9a433b56fb89098d180","filename":"common/src/main/java/org/apache/syncope/common/services/ReportletConfClasses.java","status":"added","additions":49,"deletions":0,"changes":49,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fservices%2FReportletConfClasses.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fservices%2FReportletConfClasses.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/common%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcommon%2Fservices%2FReportletConfClasses.java?ref=8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce","patch":"@@ -0,0 +1,49 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.syncope.common.services;\n+\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.List;\n+\n+import javax.xml.bind.annotation.XmlRootElement;\n+\n+@XmlRootElement\n+public class ReportletConfClasses {\n+\n+    List<String> confClasses;\n+\n+    public ReportletConfClasses() {\n+        this.confClasses = new ArrayList<String>();\n+    }\n+\n+    public ReportletConfClasses(Collection<String> confClasses) {\n+        this();\n+        this.confClasses.addAll(confClasses);  \n+    }\n+\n+\n+    public List<String> getConfClasses() {\n+        return confClasses;\n+    }\n+\n+    public void setConfClasses(List<String> confClasses) {\n+        this.confClasses = confClasses;\n+    }\n+}"},{"sha":"a62e3651e4e684f16cacd8733ee064a2217e9f7f","filename":"console/src/main/java/org/apache/syncope/console/rest/ReportRestClient.java","status":"modified","additions":5,"deletions":7,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Frest%2FReportRestClient.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Frest%2FReportRestClient.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fconsole%2Frest%2FReportRestClient.java?ref=8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce","patch":"@@ -18,13 +18,13 @@\n  */\n package org.apache.syncope.console.rest;\n \n-import java.util.LinkedList;\n+import java.util.ArrayList;\n import java.util.List;\n-import java.util.Set;\n \n import javax.ws.rs.core.Response;\n \n import org.apache.syncope.common.services.ReportService;\n+import org.apache.syncope.common.services.ReportletConfClasses;\n import org.apache.syncope.common.to.ReportExecTO;\n import org.apache.syncope.common.to.ReportTO;\n import org.apache.syncope.common.validation.SyncopeClientCompositeErrorException;\n@@ -36,15 +36,13 @@ public class ReportRestClient extends BaseRestClient implements ExecutionRestCli\n     private static final long serialVersionUID = 1644689667998953604L;\n \n     public List<String> getReportletConfClasses() {\n-        List<String> reportletClasses = null;\n-\n         try {\n-            Set<String> reportletClassesSet = getService(ReportService.class).getReportletConfClasses();\n-            reportletClasses = new LinkedList<String>(reportletClassesSet);\n+            ReportletConfClasses reportletConfClasses = getService(ReportService.class).getReportletConfClasses();\n+            return reportletConfClasses.getConfClasses();\n         } catch (SyncopeClientCompositeErrorException e) {\n             LOG.error(\"While getting available reportlet classes\", e);\n+            return new ArrayList<String>();\n         }\n-        return reportletClasses;\n     }\n \n     public ReportTO read(final Long reportId) {"},{"sha":"4995249256491c180556b9aa9f0344624f6c0194","filename":"core/src/main/java/org/apache/syncope/core/services/ReportServiceImpl.java","status":"modified","additions":3,"deletions":2,"changes":5,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fservices%2FReportServiceImpl.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fservices%2FReportServiceImpl.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fservices%2FReportServiceImpl.java?ref=8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce","patch":"@@ -30,6 +30,7 @@\n \n import org.apache.syncope.common.SyncopeConstants;\n import org.apache.syncope.common.services.ReportService;\n+import org.apache.syncope.common.services.ReportletConfClasses;\n import org.apache.syncope.common.to.ReportExecTO;\n import org.apache.syncope.common.to.ReportTO;\n import org.apache.syncope.common.types.ReportExecExportFormat;\n@@ -85,8 +86,8 @@ public List<ReportExecTO> listExecutions() {\n     }\n \n     @Override\n-    public Set<String> getReportletConfClasses() {\n-        return reportController.getReportletConfClassesInternal();\n+    public ReportletConfClasses getReportletConfClasses() {\n+        return new ReportletConfClasses(reportController.getReportletConfClassesInternal());\n     }\n \n     @Override"},{"sha":"b23485a94b29ff512e038955e0744132a8dc9de9","filename":"core/src/test/java/org/apache/syncope/core/rest/ReportTestITCase.java","status":"modified","additions":3,"deletions":3,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FReportTestITCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FReportTestITCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Frest%2FReportTestITCase.java?ref=8e6d66d9bacb530e52a5de62f25a8e0b55c5e2ce","patch":"@@ -29,13 +29,13 @@\n import java.net.HttpURLConnection;\n import java.net.URL;\n import java.util.List;\n-import java.util.Set;\n \n import javax.ws.rs.core.Response;\n \n import org.apache.commons.codec.binary.Base64;\n import org.apache.commons.io.IOUtils;\n import org.apache.syncope.common.report.UserReportletConf;\n+import org.apache.syncope.common.services.ReportletConfClasses;\n import org.apache.syncope.common.to.ReportExecTO;\n import org.apache.syncope.common.to.ReportTO;\n import org.junit.FixMethodOrder;\n@@ -55,9 +55,9 @@ public ReportTO createReport(final ReportTO report) {\n \n     @Test\n     public void getReportletClasses() {\n-        Set<String> reportletClasses = reportService.getReportletConfClasses();\n+        ReportletConfClasses reportletClasses = reportService.getReportletConfClasses();\n         assertNotNull(reportletClasses);\n-        assertFalse(reportletClasses.isEmpty());\n+        assertFalse(reportletClasses.getConfClasses().isEmpty());\n     }\n \n     @Test"}]}
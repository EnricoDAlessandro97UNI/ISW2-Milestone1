{"sha":"efe6c5ea6ebfe99f46435e13a6799c36557eae65","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmVmZTZjNWVhNmViZmU5OWY0NjQzNWUxM2E2Nzk5YzM2NTU3ZWFlNjU=","commit":{"author":{"name":"giacomolm","email":"giacomolm@hotmail.it","date":"2014-12-22T14:21:47Z"},"committer":{"name":"giacomolm","email":"giacomolm@hotmail.it","date":"2014-12-22T14:21:47Z"},"message":"Default Syncope provisioning manager correctly restored","tree":{"sha":"0609fac89956e3c1c11a9fd50de87f444b0d248a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/0609fac89956e3c1c11a9fd50de87f444b0d248a"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/efe6c5ea6ebfe99f46435e13a6799c36557eae65","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/efe6c5ea6ebfe99f46435e13a6799c36557eae65","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/efe6c5ea6ebfe99f46435e13a6799c36557eae65","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/efe6c5ea6ebfe99f46435e13a6799c36557eae65/comments","author":{"login":"giacomolm","id":4027829,"node_id":"MDQ6VXNlcjQwMjc4Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/4027829?v=4","gravatar_id":"","url":"https://api.github.com/users/giacomolm","html_url":"https://github.com/giacomolm","followers_url":"https://api.github.com/users/giacomolm/followers","following_url":"https://api.github.com/users/giacomolm/following{/other_user}","gists_url":"https://api.github.com/users/giacomolm/gists{/gist_id}","starred_url":"https://api.github.com/users/giacomolm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giacomolm/subscriptions","organizations_url":"https://api.github.com/users/giacomolm/orgs","repos_url":"https://api.github.com/users/giacomolm/repos","events_url":"https://api.github.com/users/giacomolm/events{/privacy}","received_events_url":"https://api.github.com/users/giacomolm/received_events","type":"User","site_admin":false},"committer":{"login":"giacomolm","id":4027829,"node_id":"MDQ6VXNlcjQwMjc4Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/4027829?v=4","gravatar_id":"","url":"https://api.github.com/users/giacomolm","html_url":"https://github.com/giacomolm","followers_url":"https://api.github.com/users/giacomolm/followers","following_url":"https://api.github.com/users/giacomolm/following{/other_user}","gists_url":"https://api.github.com/users/giacomolm/gists{/gist_id}","starred_url":"https://api.github.com/users/giacomolm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giacomolm/subscriptions","organizations_url":"https://api.github.com/users/giacomolm/orgs","repos_url":"https://api.github.com/users/giacomolm/repos","events_url":"https://api.github.com/users/giacomolm/events{/privacy}","received_events_url":"https://api.github.com/users/giacomolm/received_events","type":"User","site_admin":false},"parents":[{"sha":"de130b7fcbcb763d5578dbc4ae2aa9788aa53b1f","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/de130b7fcbcb763d5578dbc4ae2aa9788aa53b1f","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/de130b7fcbcb763d5578dbc4ae2aa9788aa53b1f"}],"stats":{"total":898,"additions":459,"deletions":439},"files":[{"sha":"f376641120976d6c44f815d92f4eed72d97ce57a","filename":"core/src/main/java/org/apache/syncope/core/provisioning/DefaultRoleProvisioningManager.java","status":"modified","additions":7,"deletions":16,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/efe6c5ea6ebfe99f46435e13a6799c36557eae65/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2FDefaultRoleProvisioningManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/efe6c5ea6ebfe99f46435e13a6799c36557eae65/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2FDefaultRoleProvisioningManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2FDefaultRoleProvisioningManager.java?ref=efe6c5ea6ebfe99f46435e13a6799c36557eae65","patch":"@@ -70,13 +70,7 @@ public Map.Entry<Long, List<PropagationStatus>> create(RoleTO subject) {\n     @Override\n     public Map.Entry<Long, List<PropagationStatus>> create(RoleTO subject, Set<String> excludedResources) {\n         \n-        WorkflowResult<Long> created;\n-        try{\n-            created = rwfAdapter.create(subject);\n-        }\n-        catch(RuntimeException e){\n-            throw e;\n-        }\n+        WorkflowResult<Long> created = rwfAdapter.create(subject);\n \n         EntitlementUtil.extendAuthContext(created.getResult());\n \n@@ -89,6 +83,9 @@ public Map.Entry<Long, List<PropagationStatus>> create(RoleTO subject, Set<Strin\n             LOG.error(\"Error propagation primary resource\", e);\n             propagationReporter.onPrimaryResourceFailure(tasks);\n         }\n+\n+        final RoleTO savedTO = binder.getRoleTO(created.getResult());\n+        savedTO.getPropagationStatusTOs().addAll(propagationReporter.getStatuses());\n         \n         Map.Entry<Long, List<PropagationStatus>> result = new AbstractMap.SimpleEntry<Long, List<PropagationStatus>>(\n                 created.getResult(), propagationReporter.getStatuses());\n@@ -125,17 +122,10 @@ public Map.Entry<Long, List<PropagationStatus>> update(RoleMod subjectMod) {\n     @Override\n     public Map.Entry<Long, List<PropagationStatus>> update(RoleMod subjectMod, Set<String> excludedResources) {\n                 \n-        WorkflowResult<Long> updated;\n-        \n-        try{\n-            updated = rwfAdapter.update(subjectMod);\n-        }\n-        catch(RuntimeException e){\n-            throw e;\n-        }\n+        WorkflowResult<Long> updated = rwfAdapter.update(subjectMod);\n \n         List<PropagationTask> tasks = propagationManager.getRoleUpdateTaskIds(updated,\n-                subjectMod.getVirAttrsToRemove(), subjectMod.getVirAttrsToUpdate(),excludedResources);\n+                subjectMod.getVirAttrsToRemove(), subjectMod.getVirAttrsToUpdate());\n         PropagationReporter propagationReporter = ApplicationContextProvider.getApplicationContext().getBean(\n                 PropagationReporter.class);\n         try {\n@@ -144,6 +134,7 @@ public Map.Entry<Long, List<PropagationStatus>> update(RoleMod subjectMod, Set<S\n             LOG.error(\"Error propagation primary resource\", e);\n             propagationReporter.onPrimaryResourceFailure(tasks);\n         }\n+\n         \n         Map.Entry<Long, List<PropagationStatus>> result = new AbstractMap.SimpleEntry<Long, List<PropagationStatus>>(\n                 updated.getResult(), propagationReporter.getStatuses());"},{"sha":"070c6aa54df1c15da49babafa6f9c9b7b6672e62","filename":"core/src/main/java/org/apache/syncope/core/provisioning/DefaultUserProvisioningManager.java","status":"modified","additions":42,"deletions":13,"changes":55,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/efe6c5ea6ebfe99f46435e13a6799c36557eae65/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2FDefaultUserProvisioningManager.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/efe6c5ea6ebfe99f46435e13a6799c36557eae65/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2FDefaultUserProvisioningManager.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fsyncope%2Fcore%2Fprovisioning%2FDefaultUserProvisioningManager.java?ref=efe6c5ea6ebfe99f46435e13a6799c36557eae65","patch":"@@ -25,6 +25,7 @@\n import java.util.List;\n import java.util.Map;\n import java.util.Set;\n+import org.apache.syncope.common.mod.MembershipMod;\n import org.apache.syncope.common.mod.StatusMod;\n import org.apache.syncope.common.mod.UserMod;\n import org.apache.syncope.common.to.PropagationStatus;\n@@ -67,11 +68,11 @@ public class DefaultUserProvisioningManager implements UserProvisioningManager{\n \n     @Override\n     public Map.Entry<Long, List<PropagationStatus>> create(final UserTO userTO){\n-        return create(userTO, true);\n+        return create(userTO, true, false, null, Collections.<String>emptySet());\n     }\n     \n     public Map.Entry<Long, List<PropagationStatus>> create(final UserTO userTO, boolean storePassword) {\n-        WorkflowResult<Map.Entry<Long, Boolean>> created;\n+        /*WorkflowResult<Map.Entry<Long, Boolean>> created;\n         try {\n             created = uwfAdapter.create(userTO,storePassword);\n         } catch (RuntimeException e) {\n@@ -92,20 +93,21 @@ public Map.Entry<Long, List<PropagationStatus>> create(final UserTO userTO, bool\n \n         Map.Entry<Long, List<PropagationStatus>> result = new AbstractMap.SimpleEntry<Long, List<PropagationStatus>>(\n                 created.getResult().getKey(), propagationReporter.getStatuses());\n-        return result;\n+        return result;*/\n+        return create(userTO, storePassword, false, null, Collections.<String>emptySet());\n     }\n     \n     @Override\n     public Map.Entry<Long, List<PropagationStatus>> create(UserTO userTO, boolean storePassword, boolean disablePwdPolicyCheck, Boolean enabled, Set<String> excludedResources) {\n                 WorkflowResult<Map.Entry<Long, Boolean>> created;\n         try {\n-            created = uwfAdapter.create(userTO,storePassword);\n+            created = uwfAdapter.create(userTO, disablePwdPolicyCheck, enabled, storePassword);\n         } catch (RuntimeException e) {\n             throw e;\n         }\n \n         List<PropagationTask> tasks = propagationManager.getUserCreateTaskIds(\n-                created, userTO.getPassword(), userTO.getVirAttrs(), excludedResources, null);\n+                created, userTO.getPassword(), userTO.getVirAttrs(), excludedResources, userTO.getMemberships());\n         PropagationReporter propagationReporter = ApplicationContextProvider.getApplicationContext().\n                 getBean(PropagationReporter.class);\n         try {\n@@ -135,14 +137,39 @@ public Map.Entry<Long, List<PropagationStatus>> update(UserMod userMod, boolean\n         }\n \n         List<PropagationTask> tasks = propagationManager.getUserUpdateTaskIds(updated);\n-\n+        if (tasks.isEmpty()) {\n+            // SYNCOPE-459: take care of user virtual attributes ...\n+            final PropagationByResource propByResVirAttr = binder.fillVirtual(\n+                    updated.getResult().getKey().getId(),\n+                    userMod.getVirAttrsToRemove(),\n+                    userMod.getVirAttrsToUpdate());\n+            // SYNCOPE-501: update only virtual attributes (if any of them changed), password propagation is\n+            // not required, take care also of membership virtual attributes\n+            boolean addOrUpdateMemberships = false;\n+            for (MembershipMod membershipMod : userMod.getMembershipsToAdd()) {\n+                if (!binder.fillMembershipVirtual(\n+                        updated.getResult().getKey().getId(),\n+                        membershipMod.getRole(),\n+                        null,\n+                        membershipMod.getVirAttrsToRemove(),\n+                        membershipMod.getVirAttrsToUpdate(),\n+                        false).isEmpty()) {\n+                    addOrUpdateMemberships = true;\n+                }\n+            }\n+            tasks.addAll(!propByResVirAttr.isEmpty() || addOrUpdateMemberships || removeMemberships\n+                    ? propagationManager.getUserUpdateTaskIds(updated, false, null)\n+                    : Collections.<PropagationTask>emptyList());\n+        }\n         PropagationReporter propagationReporter = ApplicationContextProvider.getApplicationContext().\n                 getBean(PropagationReporter.class);\n-        try {\n-            taskExecutor.execute(tasks, propagationReporter);\n-        } catch (PropagationException e) {\n-            LOG.error(\"Error propagation primary resource\", e);\n-            propagationReporter.onPrimaryResourceFailure(tasks);\n+        if (!tasks.isEmpty()) {\n+            try {\n+                taskExecutor.execute(tasks, propagationReporter);\n+            } catch (PropagationException e) {\n+                LOG.error(\"Error propagation primary resource\", e);\n+                propagationReporter.onPrimaryResourceFailure(tasks);\n+            }\n         }\n \n         Map.Entry<Long, List<PropagationStatus>> result = new AbstractMap.SimpleEntry<Long, List<PropagationStatus>>(\n@@ -272,7 +299,8 @@ public List<PropagationStatus> deprovision(Long userId, Collection<String> resou\n     }\n \n     @Override\n-    public Map.Entry<Long, List<PropagationStatus>> updateInSync(final UserMod userMod,final Long id, final SyncResult result, Boolean enabled, Set<String> excludedResources){\n+    public Map.Entry<Long, List<PropagationStatus>> updateInSync(final UserMod userMod,final Long id, \n+                                               final SyncResult result, Boolean enabled, Set<String> excludedResources){\n         \n         WorkflowResult<Map.Entry<UserMod, Boolean>> updated;\n         try {\n@@ -313,13 +341,14 @@ public Map.Entry<Long, List<PropagationStatus>> updateInSync(final UserMod userM\n                     getBean(PropagationReporter.class);\n \n             List<PropagationTask> tasks = propagationManager.getUserUpdateTaskIds(updated,updated.getResult().getKey().getPassword() != null,excludedResources);\n-                \n+               \n             try {\n                     taskExecutor.execute(tasks, propagationReporter);\n             } catch (PropagationException e) {\n                     LOG.error(\"Error propagation primary resource\", e);\n                     propagationReporter.onPrimaryResourceFailure(tasks);\n             }\n+\n             \n             return new AbstractMap.SimpleEntry<Long, List<PropagationStatus>>(updated.getResult().getKey().getId(), propagationReporter.getStatuses());\n "},{"sha":"260f01c006a69d5f8ccce4d5db2727ebf61df5b1","filename":"core/src/main/resources/camelRoute.xml","status":"modified","additions":408,"deletions":408,"changes":816,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/efe6c5ea6ebfe99f46435e13a6799c36557eae65/core%2Fsrc%2Fmain%2Fresources%2FcamelRoute.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/efe6c5ea6ebfe99f46435e13a6799c36557eae65/core%2Fsrc%2Fmain%2Fresources%2FcamelRoute.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2FcamelRoute.xml?ref=efe6c5ea6ebfe99f46435e13a6799c36557eae65","patch":"@@ -24,445 +24,445 @@ under the License.\n                            http://camel.apache.org/schema/spring\n                            http://camel.apache.org/schema/spring/camel-spring.xsd\">\n  \n+  <!--\n+      The default routes define each task involved in user creation:\n+      main operations consist in user workflow creation and its propagation.         \n+  -->\n+  <routeContext id=\"defaultRoutes\" xmlns=\"http://camel.apache.org/schema/spring\">    \n+        \n     <!--\n-        The default routes define each task involved in user creation:\n-        main operations consist in user workflow creation and its propagation.         \n+        CREATE USER\n+        This is the entry point of the route and is involved in accepting\n+        the UserTO. When it arrives, the user workflow is created. If the\n+        creation is successfull, the result is sent to propagation, otherwise\n+        if an exception was raised, the exception has to be returned to the\n+        caller. The property actual allows to store the received UserTO in\n+        order to use it later.\n     -->\n-    <routeContext id=\"defaultRoutes\" xmlns=\"http://camel.apache.org/schema/spring\">    \n-        \n-        <!--\n-            CREATE USER\n-            This is the entry point of the route and is involved in accepting\n-            the UserTO. When it arrives, the user workflow is created. If the\n-            creation is successfull, the result is sent to propagation, otherwise\n-            if an exception was raised, the exception has to be returned to the\n-            caller. The property actual allows to store the received UserTO in\n-            order to use it later.\n-        -->\n         \n-        <route id=\"createUser\">\n-          <from uri=\"direct:createUser\"/>\n-          <setProperty propertyName=\"actual\">\n-            <simple>${body}</simple>\n-          </setProperty>\n-          <doTry>\n-            <bean ref=\"uwfAdapter\" method=\"create(${body},${property.disablePwdPolicyCheck},\n+    <route id=\"createUser\">\n+      <from uri=\"direct:createUser\"/>\n+      <setProperty propertyName=\"actual\">\n+        <simple>${body}</simple>\n+      </setProperty>\n+      <doTry>\n+        <bean ref=\"uwfAdapter\" method=\"create(${body},${property.disablePwdPolicyCheck},\n                                  ${property.enabled},${property.storePassword})\"/>\n-            <process ref=\"defaultUserCreatePropagation\" />\n-            <to uri=\"direct:createPort\"/>\n-            <doCatch>        \n-                <exception>java.lang.RuntimeException</exception>\n-                <handled>\n-                    <constant>false</constant>\n-                </handled>\n-                <to uri=\"direct:createPort\"/>\n-            </doCatch>\n-          </doTry>\n-        </route> \n+        <process ref=\"defaultUserCreatePropagation\" />\n+        <to uri=\"direct:createPort\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:createPort\"/>\n+        </doCatch>\n+      </doTry>\n+    </route> \n         \n-        <!--\n-            The propagation route deals with propagation of created user. In this\n-            case we used a custom processor to perform this task: it means that\n-            a custom java class contains the propagation strategy.\n-        -->\n+    <!--\n+        The propagation route deals with propagation of created user. In this\n+        case we used a custom processor to perform this task: it means that\n+        a custom java class contains the propagation strategy.\n+    -->\n        \n-        <!--\n-            UPDATE USER\n-        -->\n-        <route id=\"updateUser\">\n-            <from uri=\"direct:updateUser\"/>\n-            <setProperty propertyName=\"actual\">\n-                <simple>${body}</simple>\n-            </setProperty>\n-            <doTry>\n-              <bean ref=\"uwfAdapter\" method=\"update(${body})\"/>\n-              <process ref=\"defaultUserUpdatePropagation\" />\n-              <to uri=\"direct:updatePort\"/>\n-              <doCatch>        \n-                  <exception>java.lang.RuntimeException</exception>\n-                  <handled>\n-                      <constant>false</constant>\n-                  </handled>\n-                  <to uri=\"direct:updatePort\"/>\n-              </doCatch>\n-            </doTry>\n-        </route>\n+    <!--\n+        UPDATE USER\n+    -->\n+    <route id=\"updateUser\">\n+      <from uri=\"direct:updateUser\"/>\n+      <setProperty propertyName=\"actual\">\n+        <simple>${body}</simple>\n+      </setProperty>\n+      <doTry>\n+        <bean ref=\"uwfAdapter\" method=\"update(${body})\"/>\n+        <process ref=\"defaultUserUpdatePropagation\" />\n+        <to uri=\"direct:updatePort\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:updatePort\"/>\n+        </doCatch>\n+      </doTry>\n+    </route>\n         \n \n                 \n-        <!--\n-            UPDATE SYNC USER\n-        -->\n-        <route id=\"updateSyncUser\">\n-            <from uri=\"direct:updateSyncUser\"/>            \n-            <doTry>\n-              <bean ref=\"uwfAdapter\" method=\"update(${body})\"/>\n-              <to uri=\"direct:syncUserStatus\"/>\n-              <doCatch>        \n-                  <exception>java.lang.RuntimeException</exception>\n-                  <handled>\n-                      <constant>false</constant>\n-                  </handled>\n-                  <to uri=\"direct:updateSyncPort\"/>\n-              </doCatch>\n-            </doTry>\n-        </route>\n+    <!--\n+        UPDATE SYNC USER\n+    -->\n+    <route id=\"updateSyncUser\">\n+      <from uri=\"direct:updateSyncUser\"/>            \n+      <doTry>\n+        <bean ref=\"uwfAdapter\" method=\"update(${body})\"/>\n+        <to uri=\"direct:syncUserStatus\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:updateSyncPort\"/>\n+        </doCatch>\n+      </doTry>\n+    </route>\n         \n-        <route id=\"syncUserStatus\">\n-            <from uri=\"direct:syncUserStatus\"/>\n-                <process ref=\"userStatusOnSync\" />\n-                <process ref=\"defaultUserUpdateSyncPropagation\" />\n-            <to uri=\"direct:updateSyncPort\"/>\n-        </route>\n-        <!--\n-            DELETE USER\n-        -->\n-        <route id=\"deleteUser\">\n-            <from uri=\"direct:deleteUser\"/>\n-            <doTry>\n-              <process ref=\"defaultUserDeletePropagation\" />\n-              <bean ref=\"uwfAdapter\" method=\"delete(${body})\"/>\n-              <setBody>\n-                  <simple>${property.statuses}</simple>\n-              </setBody>\n-              <to uri=\"direct:deletePort\"/>\n-              <doCatch>        \n-                  <exception>java.lang.RuntimeException</exception>\n-                  <handled>\n-                      <constant>false</constant>\n-                  </handled>\n-                  <to uri=\"direct:deletePort\"/>\n-              </doCatch>\n-            </doTry>\n-        </route>\n+    <route id=\"syncUserStatus\">\n+      <from uri=\"direct:syncUserStatus\"/>\n+      <process ref=\"userStatusOnSync\" />\n+      <process ref=\"defaultUserUpdateSyncPropagation\" />\n+      <to uri=\"direct:updateSyncPort\"/>\n+    </route>\n+    <!--\n+        DELETE USER\n+    -->\n+    <route id=\"deleteUser\">\n+      <from uri=\"direct:deleteUser\"/>\n+      <doTry>\n+        <process ref=\"defaultUserDeletePropagation\" />\n+        <bean ref=\"uwfAdapter\" method=\"delete(${body})\"/>\n+        <setBody>\n+          <simple>${property.statuses}</simple>\n+        </setBody>\n+        <to uri=\"direct:deletePort\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:deletePort\"/>\n+        </doCatch>\n+      </doTry>\n+    </route>\n         \n-        <!-- \n-            UNLINK USER\n-        -->\n-        <route id=\"unlinkUser\">\n-            <from uri=\"direct:unlinkUser\"/>\n-            <doTry>\n-                <bean ref=\"uwfAdapter\" method=\"update(${body})\"/>\n-                <setBody>\n-                   <simple>${body.getResult.getKey}</simple>\n-                </setBody>\n-                <to uri=\"direct:unlinkPort\"/>\n-                <doCatch>        \n-                    <exception>java.lang.RuntimeException</exception>\n-                    <handled>\n-                        <constant>false</constant>\n-                    </handled>\n-                    <to uri=\"direct:unlinkPort\"/>\n-                </doCatch>\n-            </doTry>            \n-        </route>\n+    <!-- \n+        UNLINK USER\n+    -->\n+    <route id=\"unlinkUser\">\n+      <from uri=\"direct:unlinkUser\"/>\n+      <doTry>\n+        <bean ref=\"uwfAdapter\" method=\"update(${body})\"/>\n+        <setBody>\n+          <simple>${body.getResult.getKey}</simple>\n+        </setBody>\n+        <to uri=\"direct:unlinkPort\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:unlinkPort\"/>\n+        </doCatch>\n+      </doTry>            \n+    </route>\n         \n-        <!--\n-            LINK USER\n-        -->\n+    <!--\n+        LINK USER\n+    -->\n         \n-        <route id=\"linkUser\">\n-            <from uri=\"direct:linkUser\"/>\n-            <doTry>\n-                <bean ref=\"uwfAdapter\" method=\"update(${body})\"/>\n-                <setBody>\n-                   <simple>${body.getResult.getKey}</simple>\n-                </setBody>\n-                <to uri=\"direct:linkPort\"/>\n-                <doCatch>        \n-                    <exception>java.lang.RuntimeException</exception>\n-                    <handled>\n-                        <constant>false</constant>\n-                    </handled>\n-                    <to uri=\"direct:linkPort\"/>\n-                </doCatch>\n-            </doTry>            \n-        </route>\n+    <route id=\"linkUser\">\n+      <from uri=\"direct:linkUser\"/>\n+      <doTry>\n+        <bean ref=\"uwfAdapter\" method=\"update(${body})\"/>\n+        <setBody>\n+          <simple>${body.getResult.getKey}</simple>\n+        </setBody>\n+        <to uri=\"direct:linkPort\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:linkPort\"/>\n+        </doCatch>\n+      </doTry>            \n+    </route>\n         \n-        <!-- \n-            ACTIVATE USER\n-        -->\n-        <route id=\"activateUser\">\n-            <from uri=\"direct:activateUser\"/>\n-            <doTry>\n-                <bean ref=\"uwfAdapter\" method=\"activate(${body}, ${property.token})\"/>\n-                <to uri=\"direct:statusUser\"/>\n-                <doCatch>        \n-                   <exception>java.lang.RuntimeException</exception>\n-                   <handled>\n-                       <constant>false</constant>\n-                   </handled>\n-                   <to uri=\"direct:statusPort\"/>\n-                </doCatch>\n-            </doTry>    \n-        </route>\n-        <!-- \n-            REACTIVATE USER\n-        -->\n-        <route id=\"reactivateUser\">\n-            <from uri=\"direct:reactivateUser\"/>\n-            <doTry>\n-                <bean ref=\"uwfAdapter\" method=\"reactivate(${body})\"/>\n-                <to uri=\"direct:statusUser\"/>\n-                <doCatch>        \n-                   <exception>java.lang.RuntimeException</exception>\n-                   <handled>\n-                       <constant>false</constant>\n-                   </handled>\n-                   <to uri=\"direct:statusPort\"/>\n-                </doCatch>\n-            </doTry>    \n-        </route>\n-        <!-- \n-            SUSPEND USER\n-        -->\n-        <route id=\"suspendUser\">\n-            <from uri=\"direct:suspendUser\"/>\n-            <doTry>\n-                <bean ref=\"uwfAdapter\" method=\"suspend(${body})\"/>\n-                <to uri=\"direct:statusUser\"/>\n-                <doCatch>        \n-                   <exception>java.lang.RuntimeException</exception>\n-                   <handled>\n-                       <constant>false</constant>\n-                   </handled>\n-                   <to uri=\"direct:statusPort\"/>\n-                </doCatch>\n-            </doTry>  \n-        </route>\n+    <!-- \n+        ACTIVATE USER\n+    -->\n+    <route id=\"activateUser\">\n+      <from uri=\"direct:activateUser\"/>\n+      <doTry>\n+        <bean ref=\"uwfAdapter\" method=\"activate(${body}, ${property.token})\"/>\n+        <to uri=\"direct:statusUser\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:statusPort\"/>\n+        </doCatch>\n+      </doTry>    \n+    </route>\n+    <!-- \n+        REACTIVATE USER\n+    -->\n+    <route id=\"reactivateUser\">\n+      <from uri=\"direct:reactivateUser\"/>\n+      <doTry>\n+        <bean ref=\"uwfAdapter\" method=\"reactivate(${body})\"/>\n+        <to uri=\"direct:statusUser\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:statusPort\"/>\n+        </doCatch>\n+      </doTry>    \n+    </route>\n+    <!-- \n+        SUSPEND USER\n+    -->\n+    <route id=\"suspendUser\">\n+      <from uri=\"direct:suspendUser\"/>\n+      <doTry>\n+        <bean ref=\"uwfAdapter\" method=\"suspend(${body})\"/>\n+        <to uri=\"direct:statusUser\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:statusPort\"/>\n+        </doCatch>\n+      </doTry>  \n+    </route>\n         \n-        <!-- \n-            STATUS PROPAGATION\n-        -->\n+    <!-- \n+        STATUS PROPAGATION\n+    -->\n         \n-        <route id=\"statusUser\">\n-            <from uri=\"direct:statusUser\"/>            \n-              <process ref=\"defaultUserStatusPropagation\" />\n-            <to uri=\"direct:statusPort\"/>              \n-        </route>\n+    <route id=\"statusUser\">\n+      <from uri=\"direct:statusUser\"/>            \n+      <process ref=\"defaultUserStatusPropagation\" />\n+      <to uri=\"direct:statusPort\"/>              \n+    </route>\n         \n         \n-        <!--\n-            DEPROVISION USER\n-        -->\n-        <route id=\"deprovisionUser\">\n-            <from uri=\"direct:deprovisionUser\"/>            \n-              <process ref=\"defaultUserDeprovisionPropagation\" />\n-              <to uri=\"direct:deprovisionPort\"/>              \n-        </route>\n+    <!--\n+        DEPROVISION USER\n+    -->\n+    <route id=\"deprovisionUser\">\n+      <from uri=\"direct:deprovisionUser\"/>            \n+      <process ref=\"defaultUserDeprovisionPropagation\" />\n+      <to uri=\"direct:deprovisionPort\"/>              \n+    </route>\n         \n-        <!--\n-            CREATE ROLE\n-        -->\n+    <!--\n+        CREATE ROLE\n+    -->\n         \n-        <route id=\"createRole\">\n-          <from uri=\"direct:createRole\"/>\n-          <setProperty propertyName=\"subject\">\n-            <simple>${body}</simple>\n-          </setProperty>\n-          <doTry>\n-            <bean ref=\"rwfAdapter\" method=\"create(${body})\"/>\n-            <process ref=\"defaultRoleCreatePropagation\" />\n-            <to uri=\"direct:createRolePort\"/>\n-            <doCatch>        \n-                <exception>java.lang.RuntimeException</exception>\n-                <handled>\n-                    <constant>false</constant>\n-                </handled>\n-                <to uri=\"direct:createRolePort\"/>\n-            </doCatch>\n-          </doTry>\n-        </route> \n+    <route id=\"createRole\">\n+      <from uri=\"direct:createRole\"/>\n+      <setProperty propertyName=\"subject\">\n+        <simple>${body}</simple>\n+      </setProperty>\n+      <doTry>\n+        <bean ref=\"rwfAdapter\" method=\"create(${body})\"/>\n+        <process ref=\"defaultRoleCreatePropagation\" />\n+        <to uri=\"direct:createRolePort\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:createRolePort\"/>\n+        </doCatch>\n+      </doTry>\n+    </route> \n                \n-        <!--\n-            CREATE ROLE SYNC\n-        -->\n-        <route id=\"createRoleSync\">\n-          <from uri=\"direct:createRoleSync\"/>\n-          <setProperty propertyName=\"subject\">\n-            <simple>${body}</simple>\n-          </setProperty>\n-          <doTry>\n-            <bean ref=\"rwfAdapter\" method=\"create(${body})\"/>\n-            <process ref=\"defaultRoleCreateSyncPropagation\" />\n-            <to uri=\"direct:createRoleSyncPort\"/>\n-            <doCatch>        \n-                <exception>java.lang.RuntimeException</exception>\n-                <handled>\n-                    <constant>false</constant>\n-                </handled>\n-                <to uri=\"direct:createRoleSyncPort\"/>\n-            </doCatch>\n-          </doTry>\n-        </route> \n+    <!--\n+        CREATE ROLE SYNC\n+    -->\n+    <route id=\"createRoleSync\">\n+      <from uri=\"direct:createRoleSync\"/>\n+      <setProperty propertyName=\"subject\">\n+        <simple>${body}</simple>\n+      </setProperty>\n+      <doTry>\n+        <bean ref=\"rwfAdapter\" method=\"create(${body})\"/>\n+        <process ref=\"defaultRoleCreateSyncPropagation\" />\n+        <to uri=\"direct:createRoleSyncPort\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:createRoleSyncPort\"/>\n+        </doCatch>\n+      </doTry>\n+    </route> \n         \n          \n-        <!--\n-            UPDATE ROLE\n-        -->\n-        <route id=\"updateRole\">\n-            <from uri=\"direct:updateRole\"/>\n-            <setProperty propertyName=\"subjectMod\">\n-                <simple>${body}</simple>\n-            </setProperty>\n-            <doTry>\n-              <bean ref=\"rwfAdapter\" method=\"update(${body})\"/>\n-              <process ref=\"defaultRoleUpdatePropagation\" />\n-              <to uri=\"direct:updateRolePort\"/>\n-              <doCatch>        \n-                  <exception>java.lang.RuntimeException</exception>\n-                  <handled>\n-                      <constant>false</constant>\n-                  </handled>\n-                  <to uri=\"direct:updateRolePort\"/>\n-              </doCatch>\n-            </doTry>\n-        </route>\n+    <!--\n+        UPDATE ROLE\n+    -->\n+    <route id=\"updateRole\">\n+      <from uri=\"direct:updateRole\"/>\n+      <setProperty propertyName=\"subjectMod\">\n+        <simple>${body}</simple>\n+      </setProperty>\n+      <doTry>\n+        <bean ref=\"rwfAdapter\" method=\"update(${body})\"/>\n+        <process ref=\"defaultRoleUpdatePropagation\" />\n+        <to uri=\"direct:updateRolePort\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:updateRolePort\"/>\n+        </doCatch>\n+      </doTry>\n+    </route>\n                \n-        <!--\n-            DELETE ROLE\n-        -->\n-        <route id=\"deleteRole\">\n-            <from uri=\"direct:deleteRole\"/>\n-            <doTry>\n-              <process ref=\"defaultRoleDeletePropagation\" />\n-              <bean ref=\"rwfAdapter\" method=\"delete(${body})\"/>\n-              <setBody>\n-                  <simple>${property.statuses}</simple>\n-              </setBody>\n-              <to uri=\"direct:deleteRolePort\"/>\n-              <doCatch>        \n-                  <exception>java.lang.RuntimeException</exception>\n-                  <handled>\n-                      <constant>false</constant>\n-                  </handled>\n-                  <to uri=\"direct:deleteRolePort\"/>\n-              </doCatch>\n-            </doTry>\n-        </route>\n+    <!--\n+        DELETE ROLE\n+    -->\n+    <route id=\"deleteRole\">\n+      <from uri=\"direct:deleteRole\"/>\n+      <doTry>\n+        <process ref=\"defaultRoleDeletePropagation\" />\n+        <bean ref=\"rwfAdapter\" method=\"delete(${body})\"/>\n+        <setBody>\n+          <simple>${property.statuses}</simple>\n+        </setBody>\n+        <to uri=\"direct:deleteRolePort\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:deleteRolePort\"/>\n+        </doCatch>\n+      </doTry>\n+    </route>\n         \n-        <!-- \n-            UNLINK USER\n-        -->\n-        <route id=\"unlinkRole\">\n-            <from uri=\"direct:unlinkRole\"/>\n-            <doTry>\n-                <bean ref=\"rwfAdapter\" method=\"update(${body})\"/>\n-                <setBody>\n-                   <simple>${body.getResult}</simple>\n-                </setBody>\n-                <to uri=\"direct:unlinkRolePort\"/>\n-                <doCatch>        \n-                    <exception>java.lang.RuntimeException</exception>\n-                    <handled>\n-                        <constant>false</constant>\n-                    </handled>\n-                    <to uri=\"direct:unlinkRolePort\"/>\n-                </doCatch>\n-            </doTry>            \n-        </route>\n+    <!-- \n+        UNLINK USER\n+    -->\n+    <route id=\"unlinkRole\">\n+      <from uri=\"direct:unlinkRole\"/>\n+      <doTry>\n+        <bean ref=\"rwfAdapter\" method=\"update(${body})\"/>\n+        <setBody>\n+          <simple>${body.getResult}</simple>\n+        </setBody>\n+        <to uri=\"direct:unlinkRolePort\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:unlinkRolePort\"/>\n+        </doCatch>\n+      </doTry>            \n+    </route>\n         \n-        <!--\n-            LINK USER\n-        -->\n+    <!--\n+        LINK USER\n+    -->\n         \n-        <route id=\"linkRole\">\n-            <from uri=\"direct:linkRole\"/>\n-            <doTry>\n-                <bean ref=\"rwfAdapter\" method=\"update(${body})\"/>\n-                <setBody>\n-                   <simple>${body.getResult}</simple>\n-                </setBody>\n-                <to uri=\"direct:linkRolePort\"/>\n-                <doCatch>        \n-                    <exception>java.lang.RuntimeException</exception>\n-                    <handled>\n-                        <constant>false</constant>\n-                    </handled>\n-                    <to uri=\"direct:linkRolePort\"/>\n-                </doCatch>\n-            </doTry>            \n-        </route>\n+    <route id=\"linkRole\">\n+      <from uri=\"direct:linkRole\"/>\n+      <doTry>\n+        <bean ref=\"rwfAdapter\" method=\"update(${body})\"/>\n+        <setBody>\n+          <simple>${body.getResult}</simple>\n+        </setBody>\n+        <to uri=\"direct:linkRolePort\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:linkRolePort\"/>\n+        </doCatch>\n+      </doTry>            \n+    </route>\n         \n-        <!--\n-            DEPROVISION ROLE\n-        -->\n-        <route id=\"deprovisionRole\">\n-            <from uri=\"direct:deprovisionRole\"/>            \n-              <process ref=\"defaultRoleDeprovisionPropagation\" />\n-              <to uri=\"direct:deprovisionRolePort\"/>              \n-        </route>\n+    <!--\n+        DEPROVISION ROLE\n+    -->\n+    <route id=\"deprovisionRole\">\n+      <from uri=\"direct:deprovisionRole\"/>            \n+      <process ref=\"defaultRoleDeprovisionPropagation\" />\n+      <to uri=\"direct:deprovisionRolePort\"/>              \n+    </route>\n         \n-        <!--\n-            SUSPEND USER AFTER POLICY VIOLATION\n-        -->\n+    <!--\n+        SUSPEND USER AFTER POLICY VIOLATION\n+    -->\n         \n-        <route id=\"suspendUserWF\">\n-            <from uri=\"direct:suspendUserWF\"/>\n-            <doTry>\n-                <bean ref=\"uwfAdapter\" method=\"suspend(${body})\"/>\n-                <process ref=\"defaultUserWFSuspendPropagation\"/>\n-                <to uri=\"direct:suspendWFPort\"/>\n-                <doCatch>        \n-                   <exception>java.lang.RuntimeException</exception>\n-                   <handled>\n-                       <constant>false</constant>\n-                   </handled>\n-                   <to uri=\"direct:suspendWFPort\"/>\n-                </doCatch>\n-            </doTry>  \n-        </route>\n+    <route id=\"suspendUserWF\">\n+      <from uri=\"direct:suspendUserWF\"/>\n+      <doTry>\n+        <bean ref=\"uwfAdapter\" method=\"suspend(${body})\"/>\n+        <process ref=\"defaultUserWFSuspendPropagation\"/>\n+        <to uri=\"direct:suspendWFPort\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:suspendWFPort\"/>\n+        </doCatch>\n+      </doTry>  \n+    </route>\n         \n-        <!--\n-            REQUEST PASSWORD RESET ROUTE\n-        -->\n+    <!--\n+        REQUEST PASSWORD RESET ROUTE\n+    -->\n         \n-        <route id=\"requestPwdReset\">\n-            <from uri=\"direct:requestPwdReset\"/>\n-            <doTry>\n-                <bean ref=\"uwfAdapter\" method=\"requestPasswordReset(${body})\"/>\n-                <to uri=\"direct:requestPwdResetPort\"/>\n-                <doCatch>        \n-                   <exception>java.lang.RuntimeException</exception>\n-                   <handled>\n-                       <constant>false</constant>\n-                   </handled>\n-                   <to uri=\"direct:requestPwdResetPort\"/>\n-                </doCatch>\n-            </doTry>  \n-        </route>\n-        <!--\n-            CONFIRM PASSWORD RESET\n-        -->\n-        <route id=\"confirmPwdReset\">\n-            <from uri=\"direct:confirmPwdReset\"/>\n-            <doTry>\n-              <bean ref=\"uwfAdapter\" method=\"confirmPasswordReset(${property.userId},${property.token},${property.password})\"/>\n-              <process ref=\"defaultUserConfirmPwdResetPropagation\" />\n-              <to uri=\"direct:confirmPwdResetPort\"/>\n-              <doCatch>        \n-                  <exception>java.lang.RuntimeException</exception>\n-                  <handled>\n-                      <constant>false</constant>\n-                  </handled>\n-                  <to uri=\"direct:confirmPwdResetPort\"/>\n-              </doCatch>\n-            </doTry>\n-        </route>\n+    <route id=\"requestPwdReset\">\n+      <from uri=\"direct:requestPwdReset\"/>\n+      <doTry>\n+        <bean ref=\"uwfAdapter\" method=\"requestPasswordReset(${body})\"/>\n+        <to uri=\"direct:requestPwdResetPort\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:requestPwdResetPort\"/>\n+        </doCatch>\n+      </doTry>  \n+    </route>\n+    <!--\n+        CONFIRM PASSWORD RESET\n+    -->\n+    <route id=\"confirmPwdReset\">\n+      <from uri=\"direct:confirmPwdReset\"/>\n+      <doTry>\n+        <bean ref=\"uwfAdapter\" method=\"confirmPasswordReset(${property.userId},${property.token},${property.password})\"/>\n+        <process ref=\"defaultUserConfirmPwdResetPropagation\" />\n+        <to uri=\"direct:confirmPwdResetPort\"/>\n+        <doCatch>        \n+          <exception>java.lang.RuntimeException</exception>\n+          <handled>\n+            <constant>false</constant>\n+          </handled>\n+          <to uri=\"direct:confirmPwdResetPort\"/>\n+        </doCatch>\n+      </doTry>\n+    </route>\n         \n-    </routeContext>\n-    <bean id=\"defaultUserCreatePropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultUserCreatePropagation\"/>\n-    <bean id=\"defaultUserUpdatePropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultUserUpdatePropagation\"/>    \n-    <bean id=\"userStatusOnSync\" class=\"org.apache.syncope.core.provisioning.camel.processors.UserStatusOnSync\"/>\n-    <bean id=\"defaultUserUpdateSyncPropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultUserUpdateInSyncPropagation\"/>\n-    <bean id=\"defaultUserDeletePropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultUserDeletePropagation\"/>    \n-    <bean id=\"defaultUserDeprovisionPropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultUserDeprovisionPropagation\"/>    \n-    <bean id=\"defaultUserWFSuspendPropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultUserWFSuspendPropagation\"/>\n-    <bean id=\"defaultUserStatusPropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultUserStatusPropagation\"/>\n-    <bean id=\"defaultUserConfirmPwdResetPropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultUserConfirmPwdResetPropagation\"/>\n-    <bean id=\"defaultRoleCreatePropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultRoleCreatePropagation\"/>\n-    <bean id=\"defaultRoleCreateSyncPropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultRoleCreateSyncPropagation\"/>\n-    <bean id=\"defaultRoleUpdatePropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultRoleUpdatePropagation\"/>\n-    <bean id=\"defaultRoleDeletePropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultRoleDeletePropagation\"/>    \n-    <bean id=\"defaultRoleDeprovisionPropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultRoleDeprovisionPropagation\"/>            \n+  </routeContext>\n+  <bean id=\"defaultUserCreatePropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultUserCreatePropagation\"/>\n+  <bean id=\"defaultUserUpdatePropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultUserUpdatePropagation\"/>    \n+  <bean id=\"userStatusOnSync\" class=\"org.apache.syncope.core.provisioning.camel.processors.UserStatusOnSync\"/>\n+  <bean id=\"defaultUserUpdateSyncPropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultUserUpdateInSyncPropagation\"/>\n+  <bean id=\"defaultUserDeletePropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultUserDeletePropagation\"/>    \n+  <bean id=\"defaultUserDeprovisionPropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultUserDeprovisionPropagation\"/>    \n+  <bean id=\"defaultUserWFSuspendPropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultUserWFSuspendPropagation\"/>\n+  <bean id=\"defaultUserStatusPropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultUserStatusPropagation\"/>\n+  <bean id=\"defaultUserConfirmPwdResetPropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultUserConfirmPwdResetPropagation\"/>\n+  <bean id=\"defaultRoleCreatePropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultRoleCreatePropagation\"/>\n+  <bean id=\"defaultRoleCreateSyncPropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultRoleCreateSyncPropagation\"/>\n+  <bean id=\"defaultRoleUpdatePropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultRoleUpdatePropagation\"/>\n+  <bean id=\"defaultRoleDeletePropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultRoleDeletePropagation\"/>    \n+  <bean id=\"defaultRoleDeprovisionPropagation\" class=\"org.apache.syncope.core.provisioning.camel.processors.DefaultRoleDeprovisionPropagation\"/>            \n </beans>"},{"sha":"e39ceedf9b1112f9edce55070260a7a664ae8bd2","filename":"core/src/main/resources/coreContext.xml","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/efe6c5ea6ebfe99f46435e13a6799c36557eae65/core%2Fsrc%2Fmain%2Fresources%2FcoreContext.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/efe6c5ea6ebfe99f46435e13a6799c36557eae65/core%2Fsrc%2Fmain%2Fresources%2FcoreContext.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/core%2Fsrc%2Fmain%2Fresources%2FcoreContext.xml?ref=efe6c5ea6ebfe99f46435e13a6799c36557eae65","patch":"@@ -76,8 +76,8 @@ under the License.\n     <context:exclude-filter type=\"regex\" expression=\".*\\.activiti\\..*\"/>\n   </context:component-scan>\n   \n-  <bean id=\"defaultUserProvisioningManager\" class=\"org.apache.syncope.core.provisioning.camel.CamelUserProvisioningManager\"/>\n-  <bean id=\"defaultRoleProvisioningManager\" class=\"org.apache.syncope.core.provisioning.camel.CamelRoleProvisioningManager\"/>\n+  <bean id=\"defaultUserProvisioningManager\" class=\"org.apache.syncope.core.provisioning.DefaultUserProvisioningManager\"/>\n+  <bean id=\"defaultRoleProvisioningManager\" class=\"org.apache.syncope.core.provisioning.DefaultRoleProvisioningManager\"/>\n \n   <bean id=\"nonJPAdbInitializer\" class=\"org.springframework.jdbc.datasource.init.DataSourceInitializer\">\n     <property name=\"dataSource\" ref=\"dataSource\"/>"}]}
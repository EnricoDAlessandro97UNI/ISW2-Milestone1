{"sha":"8789a9a9240ef71ebf88a3b5635da8d1fb0270f6","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOjg3ODlhOWE5MjQwZWY3MWViZjg4YTNiNTYzNWRhOGQxZmIwMjcwZjY=","commit":{"author":{"name":"Unknown","email":"unknown@apache.org","date":"2012-02-03T09:01:07Z"},"committer":{"name":"Unknown","email":"unknown@apache.org","date":"2012-02-03T09:01:07Z"},"message":"Proper authorization for LOGGER operations on console\n\ngit-svn-id: https://svn.apache.org/repos/asf/incubator/syncope/trunk@1247391 13f79535-47bb-0310-9956-ffa450edef68","tree":{"sha":"1dfd7be6cf0bc656e11349d688da5a388c74b8b5","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/1dfd7be6cf0bc656e11349d688da5a388c74b8b5"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/8789a9a9240ef71ebf88a3b5635da8d1fb0270f6","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8789a9a9240ef71ebf88a3b5635da8d1fb0270f6","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/8789a9a9240ef71ebf88a3b5635da8d1fb0270f6","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/8789a9a9240ef71ebf88a3b5635da8d1fb0270f6/comments","author":null,"committer":null,"parents":[{"sha":"d930f0253713ef6700a33d663f6ddaf053d20e2e","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/d930f0253713ef6700a33d663f6ddaf053d20e2e","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/d930f0253713ef6700a33d663f6ddaf053d20e2e"}],"stats":{"total":33,"additions":26,"deletions":7},"files":[{"sha":"ccb8969a56ae02f013b1a52f03faef524e6b1040","filename":"console/src/main/java/org/syncope/console/pages/Configuration.java","status":"modified","additions":17,"deletions":6,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8789a9a9240ef71ebf88a3b5635da8d1fb0270f6/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8789a9a9240ef71ebf88a3b5635da8d1fb0270f6/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fjava%2Forg%2Fsyncope%2Fconsole%2Fpages%2FConfiguration.java?ref=8789a9a9240ef71ebf88a3b5635da8d1fb0270f6","patch":"@@ -194,6 +194,11 @@ protected void onError(final AjaxRequestTarget target,\n                 new WebMarkupContainer(\"coreLoggerContainer\");\n         coreLoggerContainer.add(coreLoggerList);\n         coreLoggerContainer.setOutputMarkupId(true);\n+\n+        MetaDataRoleAuthorizationStrategy.authorize(\n+                coreLoggerContainer, ENABLE,\n+                xmlRolesReader.getAllAllowedRoles(\n+                \"Configuration\", \"loggerList\"));\n         add(coreLoggerContainer);\n \n         ConsoleLoggerController consoleLoggerController =\n@@ -207,6 +212,11 @@ protected void onError(final AjaxRequestTarget target,\n                 new WebMarkupContainer(\"consoleLoggerContainer\");\n         consoleLoggerContainer.add(consoleLoggerList);\n         consoleLoggerContainer.setOutputMarkupId(true);\n+\n+        MetaDataRoleAuthorizationStrategy.authorize(\n+                consoleLoggerContainer, ENABLE,\n+                xmlRolesReader.getAllAllowedRoles(\n+                \"Configuration\", \"loggerList\"));\n         add(consoleLoggerContainer);\n     }\n \n@@ -279,8 +289,8 @@ public Page createPage() {\n                     @Override\n                     public void onClick(final AjaxRequestTarget target) {\n                         try {\n-                            confRestClient.deleteConfiguration(configurationTO.\n-                                    getKey());\n+                            confRestClient.deleteConfiguration(\n+                                    configurationTO.getKey());\n                         } catch (SyncopeClientCompositeErrorException e) {\n                             LOG.error(\"While deleting a conf key\", e);\n                             error(e.getMessage());\n@@ -677,8 +687,7 @@ private class LoggerPropertyList extends PropertyListView<LoggerTO> {\n \n         public LoggerPropertyList(\n                 final ConsoleLoggerController consoleLoggerController,\n-                final String id,\n-                final List<? extends LoggerTO> list) {\n+                final String id, final List<? extends LoggerTO> list) {\n \n             super(id, list);\n             this.consoleLoggerController = consoleLoggerController;\n@@ -738,13 +747,15 @@ protected void onUpdate(final AjaxRequestTarget target) {\n                 }\n             });\n \n-\n+            MetaDataRoleAuthorizationStrategy.authorize(level, ENABLE,\n+                    xmlRolesReader.getAllAllowedRoles(\n+                    \"Configuration\", \"loggerSetLevel\"));\n \n             item.add(level);\n         }\n     }\n \n-    private class ConsoleLoggerController implements Serializable {\n+    private static class ConsoleLoggerController implements Serializable {\n \n         private static final long serialVersionUID = -1550459341476431714L;\n "},{"sha":"d2953c4bb31635f5fbfcab3dd6d6e07497de2b9b","filename":"console/src/main/resources/authorizations.xml","status":"modified","additions":8,"deletions":0,"changes":8,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8789a9a9240ef71ebf88a3b5635da8d1fb0270f6/console%2Fsrc%2Fmain%2Fresources%2Fauthorizations.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8789a9a9240ef71ebf88a3b5635da8d1fb0270f6/console%2Fsrc%2Fmain%2Fresources%2Fauthorizations.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/console%2Fsrc%2Fmain%2Fresources%2Fauthorizations.xml?ref=8789a9a9240ef71ebf88a3b5635da8d1fb0270f6","patch":"@@ -174,6 +174,14 @@ page@id= Schema|Users|Roles|Resources|Connectors|Reports|Configuration|Task\n             <entitlement>CONFIGURATION_DELETE</entitlement>\n         </action>\n \n+        <action id=\"loggerList\">\n+            <entitlement>LOGGER_LIST</entitlement>\n+        </action>\n+        \n+        <action id=\"loggerSetLevel\">\n+            <entitlement>LOGGER_SET_LEVEL</entitlement>\n+        </action>\n+        \n         <action id=\"workflowDefRead\">\n             <entitlement>WORKFLOW_DEF_READ</entitlement>\n         </action>"},{"sha":"7683f25bea5212e5c9d1098bb52a253ddc2c18da","filename":"parent/pom.xml","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/8789a9a9240ef71ebf88a3b5635da8d1fb0270f6/parent%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/8789a9a9240ef71ebf88a3b5635da8d1fb0270f6/parent%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/parent%2Fpom.xml?ref=8789a9a9240ef71ebf88a3b5635da8d1fb0270f6","patch":"@@ -785,7 +785,7 @@\n                         <configuration>\n                             <rules>\n                                 <requireJavaVersion>\n-                                    <version>[1.6.0-26,)</version>\n+                                    <version>[1.6.0-23,)</version>\n                                 </requireJavaVersion>\n                             </rules>    \n                         </configuration>"}]}
{"sha":"aee229951d495cd52e60eb27463d58f4ebcf2ac3","node_id":"MDY6Q29tbWl0NjM2ODc5MDYyOmFlZTIyOTk1MWQ0OTVjZDUyZTYwZWIyNzQ2M2Q1OGY0ZWJjZjJhYzM=","commit":{"author":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2018-03-14T09:30:21Z"},"committer":{"name":"Francesco Chicchiriccò","email":"ilgrosso@apache.org","date":"2018-03-14T09:32:09Z"},"message":"Adding clarification about CREATE / UPDATE generated as Propagation Tasks","tree":{"sha":"2d03e8bb46f304ae98b9f76bb1f22225627fb45a","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/trees/2d03e8bb46f304ae98b9f76bb1f22225627fb45a"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/git/commits/aee229951d495cd52e60eb27463d58f4ebcf2ac3","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/aee229951d495cd52e60eb27463d58f4ebcf2ac3","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/aee229951d495cd52e60eb27463d58f4ebcf2ac3","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/aee229951d495cd52e60eb27463d58f4ebcf2ac3/comments","author":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"committer":{"login":"ilgrosso","id":1064664,"node_id":"MDQ6VXNlcjEwNjQ2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1064664?v=4","gravatar_id":"","url":"https://api.github.com/users/ilgrosso","html_url":"https://github.com/ilgrosso","followers_url":"https://api.github.com/users/ilgrosso/followers","following_url":"https://api.github.com/users/ilgrosso/following{/other_user}","gists_url":"https://api.github.com/users/ilgrosso/gists{/gist_id}","starred_url":"https://api.github.com/users/ilgrosso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilgrosso/subscriptions","organizations_url":"https://api.github.com/users/ilgrosso/orgs","repos_url":"https://api.github.com/users/ilgrosso/repos","events_url":"https://api.github.com/users/ilgrosso/events{/privacy}","received_events_url":"https://api.github.com/users/ilgrosso/received_events","type":"User","site_admin":false},"parents":[{"sha":"eeb54463494a278e21399f9e55a9fb1bde6798af","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/commits/eeb54463494a278e21399f9e55a9fb1bde6798af","html_url":"https://github.com/EnricoDAlessandro97UNI/syncope/commit/eeb54463494a278e21399f9e55a9fb1bde6798af"}],"stats":{"total":78,"additions":47,"deletions":31},"files":[{"sha":"ce781f70afdf48c39b8be953bdcbf8b437434afd","filename":"src/main/asciidoc/reference-guide/concepts/provisioning/propagation.adoc","status":"modified","additions":39,"deletions":23,"changes":62,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/aee229951d495cd52e60eb27463d58f4ebcf2ac3/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fprovisioning%2Fpropagation.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/aee229951d495cd52e60eb27463d58f4ebcf2ac3/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fprovisioning%2Fpropagation.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fconcepts%2Fprovisioning%2Fpropagation.adoc?ref=aee229951d495cd52e60eb27463d58f4ebcf2ac3","patch":"@@ -24,6 +24,7 @@ Whenever a change is performed via REST on Users, Groups or Any Objects:\n . the generated propagation tasks are executed, e.g. the corresponding operations (create, update or delete) are sent\n out, via connectors, to the configured Identity Stores; the tasks can be saved for later re-execution.\n \n+[[propagation-resources]]\n [TIP]\n .Which external resources?\n ====\n@@ -35,6 +36,7 @@ propagation process:\n * *Any Object*: the external resources directly assigned plus the ones assigned to Groups configured for the Any Object\n ====\n \n+[[propagation-capabilities]]\n [WARNING]\n .Adequate capabilities to Connectors and External Resources\n ====\n@@ -43,6 +45,28 @@ External Resources for the actual operations to perform, otherwise the Propagati\n execution status.\n ====\n \n+[[propagation-password]]\n+[TIP]\n+.Propagate password values\n+====\n+Password values are kept in the internal storage according to the `password.cipher.algorithm`\n+<<configuration-parameters, configuration parameter>>, whose value is `SHA1` by default.\n+`SHA1` is a hash algorithm: this means that, once stored, the cleartext value cannot be reverted any more.\n+\n+During propagation, Syncope fetches all data of the given User, then prepares the attributes to propagate, according to\n+the provided mapping; password has a special treatment:\n+\n+* if cleartext value is available (this cannot happen during <<provisioning-push>>), it is sent to the External Resource\n+* if `password.cipher.algorithm` is `AES` (the only supported reversible algorithm), then the ciphered password value is\n+ made cleartext again, and sent to the External Resource\n+* if the <<external-resource-details,generate random password flag>> is set, a random password value is generated\n+ according to the defined password policies, and sent to the External Resource\n+* otherwise, a `null` value is sent to the External Resource\n+\n+Password values are always sent to External Resources wrapped as ConnId\n+http://connid.tirasa.net/apidocs/1.4/org/identityconnectors/common/security/GuardedString.html[GuardedString^] objects.\n+====\n+\n By default, the propagation process is controlled by the\n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-java/src/main/java/org/apache/syncope/core/provisioning/java/propagation/PriorityPropagationTaskExecutor.java[PriorityPropagationTaskExecutor^],\n@@ -61,36 +85,28 @@ external resource was configured with adequate tracing\n * minimize the set of operations to be actually performed onto the Identity Store by attempting to read the external\n object corresponding to the internal entity and comparing with the modifications provided\n \n+[[propagation-createorupdate]]\n+[WARNING]\n+.Create or update?\n+====\n+The minimization performed by `PriorityPropagationTaskExecutor` might lead to behaviors which look at first unexpected,\n+but sound perfectly understandable once explained; in particular:\n+\n+* a `CREATE` propagation task might result in an effective `UPDATE` sent to the Connector +\n+ if preliminary read returns an external object matching the same remote key of the object requested to be created\n+* an `UPDATE` propagation task might result in an effective `CREATE` sent to the Connector +\n+ if preliminary read does not find any external object matching the remote key of the objected requested to be\n+updated\n+====\n+\n Different implementations of the\n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n https://github.com/apache/syncope/blob/syncope-{docVersion}/core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/propagation/PropagationTaskExecutor.java[PropagationTaskExecutor^]\n endif::[]\n ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n https://github.com/apache/syncope/blob/master/core/provisioning-api/src/main/java/org/apache/syncope/core/provisioning/api/propagation/PropagationTaskExecutor.java[PropagationTaskExecutor^]\n endif::[]\n-interface can be provided, in case the required behaviour does not fit into the provided implementation.\n-\n-[[propagation-password]]\n-[TIP]\n-.Propagate password values\n-====\n-Password values are kept in the internal storage according to the `password.cipher.algorithm`\n-<<configuration-parameters, configuration parameter>>, whose value is `SHA1` by default.\n-`SHA1` is a hash algorithm: this means that, once stored, the cleartext value cannot be reverted any more.\n-\n-During propagation, Syncope fetches all data of the given User, then prepares the attributes to propagate, according to\n-the provided mapping; password has a special treatment:\n-\n-* if cleartext value is available (this cannot happen during <<provisioning-push>>), it is sent to the External Resource\n-* if `password.cipher.algorithm` is `AES` (the only supported reversible algorithm), then the ciphered password value is\n- made cleartext again, and sent to the External Resource\n-* if the <<external-resource-details,generate random password flag>> is set, a random password value is generated\n- according to the defined password policies, and sent to the External Resource\n-* otherwise, a `null` value is sent to the External Resource\n-\n-Password values are always sent to External Resources wrapped as ConnId\n-http://connid.tirasa.net/apidocs/1.4/org/identityconnectors/common/security/GuardedString.html[GuardedString^] objects.\n-====\n+interface can be provided, in case the required behavior does not fit into the provided implementation.\n \n ===== PropagationActions\n "},{"sha":"7557cc932051b41abcbb163290261d8855cf5d4c","filename":"src/main/asciidoc/reference-guide/workingwithapachesyncope/customization.adoc","status":"modified","additions":6,"deletions":6,"changes":12,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/aee229951d495cd52e60eb27463d58f4ebcf2ac3/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fcustomization.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/aee229951d495cd52e60eb27463d58f4ebcf2ac3/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fcustomization.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Fcustomization.adoc?ref=aee229951d495cd52e60eb27463d58f4ebcf2ac3","patch":"@@ -29,9 +29,9 @@ replaced.\n Once the project has been created from the provided Maven archetype, the generated source tree is available for either\n adding new features or replacing existing components.\n \n-[[override-behaviour]]\n+[[override-behavior]]\n [TIP]\n-.Override behaviour\n+.Override behavior\n ====\n As a rule of thumb, any file of the local project will take precedence over a file with the same name in the same\n directory of the standard Apache Syncope release.\n@@ -60,7 +60,7 @@ ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n https://github.com/apache/syncope/blob/master/client/console/src/main/resources/org/apache/syncope/client/console/pages/BasePage.html[BasePage.html^].\n endif::[]\n \n-This general behaviour might have exceptions, as highlighted below.\n+This general behavior might have exceptions, as highlighted below.\n ====\n \n In general, the Embedded Mode (see the\n@@ -176,7 +176,7 @@ When providing custom Java classes implementing the defined interfaces or extend\n implementations, their package *must* be rooted under `org.apache.syncope.core`, otherwise they will not be available\n at runtime.\n \n-Besides replacing existing classes as explained <<override-behaviour,above>>, new <<implementations,implementations>> can\n+Besides replacing existing classes as explained <<override-behavior,above>>, new <<implementations,implementations>> can\n be provided - under `core/src/main/java` if Java - for the following components:\n \n * <<propagationactions,propagation>>, <<pushactions,push>>, <<pullactions,pull>> and <<logicactions,logic>> actions\n@@ -233,7 +233,7 @@ By following such conventions, the new REST endpoint will be automatically picke\n \n [WARNING]\n ====\n-The <<override-behaviour,override behaviour>> might have exceptions; if you need to customize one of the\n+The <<override-behavior,override behavior>> might have exceptions; if you need to customize one of the\n Spring context definitions. For example, if you want to customize \n ifeval::[\"{snapshotOrRelease}\" == \"release\"]\n https://github.com/apache/syncope/blob/syncope-{docVersion}/core/spring/src/main/resources/securityContext.xml[securityContext.xml^]\n@@ -494,7 +494,7 @@ Given the nature of the <<enduser-application>>, all the files required by the A\n generated under the local project's `enduser/src/main/webapp/app/` directory and are available for full customization.\n \n The files in use by the Apache Wicket-based backend are still subject to the general\n-<<override-behaviour,override behaviour>>, instead.\n+<<override-behavior,override behavior>>, instead.\n \n [discrete]\n ===== Enable the <<saml-2-0-service-provider>> extension"},{"sha":"426338a4a7e775e7434f62227ec74246e576fe79","filename":"src/main/asciidoc/reference-guide/workingwithapachesyncope/restfulservices.adoc","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/syncope/blob/aee229951d495cd52e60eb27463d58f4ebcf2ac3/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Frestfulservices.adoc","raw_url":"https://github.com/EnricoDAlessandro97UNI/syncope/raw/aee229951d495cd52e60eb27463d58f4ebcf2ac3/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Frestfulservices.adoc","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/syncope/contents/src%2Fmain%2Fasciidoc%2Freference-guide%2Fworkingwithapachesyncope%2Frestfulservices.adoc?ref=aee229951d495cd52e60eb27463d58f4ebcf2ac3","patch":"@@ -67,7 +67,7 @@ endif::[]\n ifeval::[\"{snapshotOrRelease}\" == \"snapshot\"]\n https://github.com/apache/syncope/blob/master/core/spring/src/main/resources/securityContext.xml[securityContext.xml^];\n endif::[]\n-while normally not needed, this configuration can be anyway customized via the <<override-behaviour,override behaviour>>.\n+while normally not needed, this configuration can be anyway customized via the <<override-behavior,override behavior>>.\n \n https://en.wikipedia.org/wiki/Basic_access_authentication[HTTP Basic Authentication] is set for use by default.\n ====\n@@ -169,7 +169,7 @@ when communicating with <<external-resource-details,External Resources>> with no\n Some REST endpoints - typically for creating, updating or deleting Users, Groups or Any Objects - return the\n entity in the response payload by default. +\n If this is not required, the `Prefer` request header can be set to `return-no-content` (`return-content` will instead\n-keep the default behaviour).\n+keep the default behavior).\n \n When `Prefer` is specified in the request, the response will feature the `Preference-Applied` header, with value set\n to the effective preference applied."}]}
{"sha":"d1df2dbdc06666490867285812654ca8e91647a9","node_id":"MDY6Q29tbWl0NDc4NTkyNTI2OmQxZGYyZGJkYzA2NjY2NDkwODY3Mjg1ODEyNjU0Y2E4ZTkxNjQ3YTk=","commit":{"author":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2016-05-05T14:06:45Z"},"committer":{"name":"Matteo Merli","email":"mmerli@apache.org","date":"2016-05-05T16:21:51Z"},"message":"Updated CHANGES.txt for release 4.4.0","tree":{"sha":"d1eab9d2e19c271b68efa570a5d6f56149780765","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/git/trees/d1eab9d2e19c271b68efa570a5d6f56149780765"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/git/commits/d1df2dbdc06666490867285812654ca8e91647a9","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/commits/d1df2dbdc06666490867285812654ca8e91647a9","html_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/commit/d1df2dbdc06666490867285812654ca8e91647a9","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/commits/d1df2dbdc06666490867285812654ca8e91647a9/comments","author":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"committer":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","site_admin":false},"parents":[{"sha":"d32010f5fcc6a040a56dc8b983cc14d107cff2df","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/commits/d32010f5fcc6a040a56dc8b983cc14d107cff2df","html_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/commit/d32010f5fcc6a040a56dc8b983cc14d107cff2df"}],"stats":{"total":228,"additions":109,"deletions":119},"files":[{"sha":"3f6fd3e3dce6263e66f8f3be98a75de0dd3c27dc","filename":"CHANGES.txt","status":"modified","additions":109,"deletions":119,"changes":228,"blob_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/blob/d1df2dbdc06666490867285812654ca8e91647a9/CHANGES.txt","raw_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/raw/d1df2dbdc06666490867285812654ca8e91647a9/CHANGES.txt","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/contents/CHANGES.txt?ref=d1df2dbdc06666490867285812654ca8e91647a9","patch":"@@ -1,128 +1,118 @@\n-Trunk (unreleased changes)\n+Release 4.4.0 - 2016-05-05\n \n   Non-backward compatible changes:\n-\n-    BUGFIXES:\n-\n-    IMPROVEMENTS:\n+    [none]\n \n   Backward compatible changes:\n \n-    BUGFIXES:\n-\n-      BOOKKEEPER-793: Move to java 7\n-\n-      BOOKKEEPER-797: IllegalArgumentException when calling CodahaleOpStatsLogger#toOpStatsData()\n-\n-      BOOKKEEPER-815: Ledger fence state is lost when the ledger file is evicted (Charles Xie via ivank)\n-\n-      BOOKKEEPER-799: Distribution schedule coverage sets don't take gaps in response lists into account when writequorum > ackquorum (ivank)\n-\n-      BOOKKEEPER-805: NullPointException in bookie server when using twitter-ostrich-provider (Youngjoon Kim via sijie)\n-\n-      BOOKKEEPER-809: Wrong metric on LedgerDeleteOp and LedgerOpenOp (Charles Xie via sijie)\n-\n-      BOOKKEEPER-804: Client program is not terminated when using openLedgerNoRecovery (ivank via sijie)\n-\n-      BOOKKEEPER-795: Race condition causes writes to hang if ledger is fenced (sijie via ivank)\n-\n-      BOOKKEEPER-814: clean up temp files that generated by test cases. (zhaijia via ivank)\n-\n-      BOOKKEEPER-838: ForceWriteThread::run() leaks “logFile.close()” when interrupt comes (zhaijia via sijie)\n-\n-      BOOKKEEPER-839: AuditorPeriodicCheckTest timeout (rakeshr via sijie)\n-\n-      BOOKKEEPER-840: Deadlock on flushLock on compaction (sijie)\n-\n-      BOOKKEEPER-847: ArrayIndexOutOfBoundsException in LedgerFragmentReplicator::updateEnsembleInfo (zhaijia via sijie)\n-\n-      BOOKKEEPER-846: TestLedgerChecker times out (rakeshr via sijie)\n-\n-      BOOKKEEPER-854: NPE on InterleavedLedgerStorage.onRotateEntryLog (sijie)\n-\n-      BOOKKEEPER-821: Failing to write lastId to ledger directories should not fail startup of bookies (zhaijia via sijie)\n-\n-      BOOKKEEPER-826: PendingAddOp is ignoring ack response after meet ack quorum constraint (sijie)\n-\n-      BOOKKEEPER-872: Resource leak with unclosed LedgerManager in HierarchicalLedgerManagerFactory#format() (Ted Yu via sijie)\n-\n-    IMPROVEMENTS:\n-\n-      BOOKKEEPER-800: Expose whether a ledger is closed or not (ivank)\n-\n-      BOOKKEEPER-820: print out fi.isFenced() in BookieShell (zhaijia via sijie)\n-\n-      BOOKKEEPER-813: BookieShell doesn't find index directory (Charles Xie via sijie)\n-\n-      BOOKKEEPER-811: Recovery tool doesn't remove cookie after recovering one bookie (Charles Xie via sijie)\n-\n-      BOOKKEEPER-801: Bookkeeper client tutorial (ivank)\n-\n-      BOOKKEEPER-803: Guide for making a replicated log out of ledgers (ivank)\n-\n-      BOOKKEEPER-832: Allow starting bookie in ReadOnly mode (zhaijia via ivank)\n-\n-      BOOKKEEPER-634: Provide admin tool to rename bookie identifier in ledger metadata (rakeshr via ivank)\n-\n-      BOOKKEEPER-827: change throttle in GarbageCollector to use \n-      either \"by entry\" or \"by byte\" (Jia Zhai via fpj)\n- \n-      BOOKKEEPER-830: Documentation has no structure (ivank via fpj)\n-\n-      BOOKKEEPER-837: UpdateLedgerOp - Replace AbstractFuture with SettableFuture (rakeshr via sijie)\n-\n-      BOOKKEEPER-831: Outdated links in tutorial (ivank via sijie)\n-\n-      BOOKKEEPER-828: Script for updating docs on website from master branch (ivank via sijie)\n-\n-      BOOKKEEPER-834: test case error in test class TestDiskChecker (zhaijia via sijie)\n-\n-      BOOKKEEPER-844: Add more metrics about latency and bytes characteristics on bookie operations (Tong Yu via sijie)\n-\n-      BOOKKEEPER-849: Collect stats with sub-milliseconds precision (Matteo Merli via sijie)\n-\n-      BOOKKEEPER-850: Use nanoseconds to calculate poll timeout when doing group commit (Matteo Merli via sijie)\n-\n-      BOOKKEEPER-835: Update copyright for 2015 on all active branches (sijie)\n-\n-      BOOKKEEPER-858: Fix broken links and typos in bookkeeper documents (Youngjoon Kim via sijie)\n-\n-      BOOKKEEPER-796: Make bookkeeper client use reconnectable zookeeper wrapper (sijie via fpj)\n-\n-      BOOKKEEPER-687: Use static final Logger for hedwig related modules (Ankur Garg via sijie)\n-\n-      BOOKKEEPER-863: Potential resource leak with unclosed LedgerManager in BookieShell (Ted Yu via sijie)\n-\n-      BOOKKEEPER-802: Bookkeeper protocol documentation (ivank via sijie)\n-\n-      BOOKKEEPER-862: Add tracing and stats to OrderedSafeExecutor for debugging slow tasks (Leigh Stewart via sijie)\n-\n-      BOOKKEEPER-866: Fix compile issue when Updating junit to latest release version( 4.12) in the test of  Bookkeeper-server. (Jia Zhai via sijie)\n-\n-      BOOKKEEPER-877: Script for generating patch for reviews (sijie)\n-\n-      bookkeeper-client:\n-\n-        BOOKKEEPER-810: Allow to configure TCP connect timeout (Charles Xie via sijie)\n-\n-        BOOKKEEPER-848: Use volatile for lastAddConfirmed (Matteo Merli via sijie)\n-\n-        BOOKKEEPER-760: Don't close PCBC proactively if bookies\n-                        disappeared from zookeeper znodes (sijie via fpj)\n-\n-        BOOKKEEPER-438: Move ledger id generation out of LedgerManager (Tong Yu via sijie)\n-\n-        BOOKKEEPER-868: Add ADD_ENTRY quorum timeout (Leigh Stewart via sijie)\n-\n-        BOOKKEEPER-867: New Client API to allow applications pass-in EntryId. (Venkateswararao Jujjuri via sijie)\n-\n-      bookkeeper-server:\n-\n-        BOOKKEEPER-695: Some entry logs are not removed from the bookie storage (Matteo Merli via sijie)\n-\n-        BOOKKEEPER-836: disable compaction when disk becomes full, otherwise compaction will fill up disk quickly (zhaijia via sijie)\n+    ** Sub-task\n+        * [BOOKKEEPER-438] - Move ledger id generation out of LedgerManager\n+        * [BOOKKEEPER-634] - Provide admin tool to rename bookie identifier in ledger metadata\n+        * [BOOKKEEPER-796] - Make bookkeeper client use reconnectable zookeeper wrapper\n+        * [BOOKKEEPER-837] - UpdateLedgerOp - Replace AbstractFuture with SettableFuture\n+        * [BOOKKEEPER-855] - handle session expire event in bookie\n+        * [BOOKKEEPER-867] - New Client API to allow applications pass-in EntryId.\n+\n+    ** Bug\n+        * [BOOKKEEPER-578] - LedgerCacheImpl is reserving 1/3 of Heap size but allocates NonHeap memory\n+        * [BOOKKEEPER-594] - AutoRecovery shutting down on SyncDisconnected\n+        * [BOOKKEEPER-665] - BK client should not try to read entries from non-available bookies\n+        * [BOOKKEEPER-695] - Some entry logs are not removed from the bookie storage\n+        * [BOOKKEEPER-769] - Remove hedwig from source tree\n+        * [BOOKKEEPER-793] - Move to java 7\n+        * [BOOKKEEPER-794] - BookkeeperProtocol.Response.status is completely ignored\n+        * [BOOKKEEPER-795] - Race condition causes writes to hang if ledger is fenced\n+        * [BOOKKEEPER-797] - IllegalArgumentException when calling CodahaleOpStatsLogger#toOpStatsData()\n+        * [BOOKKEEPER-799] - Distribution schedule coverage sets don't take gaps in response lists into account when writequorum > ackquorum\n+        * [BOOKKEEPER-800] - Expose whether a ledger is closed or not\n+        * [BOOKKEEPER-801] - Bookkeeper client tutorial\n+        * [BOOKKEEPER-802] - Bookkeeper protocol documentation\n+        * [BOOKKEEPER-803] - Guide for making a replicated log out of ledgers\n+        * [BOOKKEEPER-804] - Client program is not terminated when using openLedgerNoRecovery\n+        * [BOOKKEEPER-805] - NullPointException in bookie server when using twitter-ostrich-provider\n+        * [BOOKKEEPER-809] - Wrong metric on LedgerDeleteOp and LedgerOpenOp\n+        * [BOOKKEEPER-813] - BookieShell doesn't find index directory \n+        * [BOOKKEEPER-814] - clean up temp files that generated by test cases.\n+        * [BOOKKEEPER-815] - Ledger fence state is lost when the ledger file is evicted\n+        * [BOOKKEEPER-821] - Failing to write lastId to ledger directories should not fail startup of bookies\n+        * [BOOKKEEPER-823] - Clean up temp files created by hedwig tests\n+        * [BOOKKEEPER-828] - Script for updating docs on website from master branch\n+        * [BOOKKEEPER-831] - Outdated links in tutorial\n+        * [BOOKKEEPER-833] - EntryLogId and EntryLogLimit should not be larger than Integer.MAX_VALUE\n+        * [BOOKKEEPER-834] - test case error in test class TestDiskChecker\n+        * [BOOKKEEPER-835] - Update copyright for 2015 on all active branches\n+        * [BOOKKEEPER-838] - ForceWriteThread::run() leaks “logFile.close()” when interrupt comes\n+        * [BOOKKEEPER-839] - AuditorPeriodicCheckTest timeout\n+        * [BOOKKEEPER-840] - Deadlock on flushLock on compaction\n+        * [BOOKKEEPER-848] - Use volatile for lastAddConfirmed\n+        * [BOOKKEEPER-854] - NPE on InterleavedLedgerStorage.onRotateEntryLog\n+        * [BOOKKEEPER-858] - Fix broken links and typos in bookkeeper documents\n+        * [BOOKKEEPER-863] - Potential resource leak with unclosed LedgerManager in BookieShell\n+        * [BOOKKEEPER-883] - Test timeout in bookkeeper-benchmark\n+        * [BOOKKEEPER-890] - Concurrent modification exception when removing listener in Bookkeeper ZK ledger manager\n+        * [BOOKKEEPER-891] - Read entries failure should trigger callback only once\n+        * [BOOKKEEPER-893] - bookie exited with status 0 on journal I/O exception\n+        * [BOOKKEEPER-897] - Fix findbugs warnings and missing apache license header\n+        * [BOOKKEEPER-898] - Underreplication doesn't get triggered when a read only bookie is shut down\n+        * [BOOKKEEPER-899] - Bookie should return to read-write mode once the disk usage drops before the threshold\n+        * [BOOKKEEPER-900] - read only bookie runs replicator and does not release the under replicated lock after failing\n+        * [BOOKKEEPER-902] - Test failures in EntryLogTest\n+        * [BOOKKEEPER-904] - test BookieInitializationTest.testDuplicateBookieServerStartup fails on non-english machines\n+        * [BOOKKEEPER-909] - ZooKeeper of LocalBookkeeper should use the correct tickTime\n+        * [BOOKKEEPER-910] - In LocalBookkeeper, Zookeeper server and client use different host addresses\n+        * [BOOKKEEPER-911] - Fix TestReplicationWorker test failures\n+        * [BOOKKEEPER-913] - Fix flakiness in TestBackwardCompat\n+        * [BOOKKEEPER-914] - ReadOnlyBookieTest.testBookieShouldTurnWritableFromReadOnly is intermettently failing\n+        * [BOOKKEEPER-917] - LocalBookKeeperTest seems to be silently failing\n+        * [BOOKKEEPER-919] - Auditor is sometimes marking as failed a bookie switching from available to read-only mode\n+        * [BOOKKEEPER-921] - Typo in LocalBookkeeper: Use InetAddress.getHostAddress instead of InetAddress\n+        * [BOOKKEEPER-925] - Fix FindBugs discovered issues in master\n+        * [BOOKKEEPER-926] - Compacted entries are not properly synced before updating index\n+\n+    ** Documentation\n+        * [BOOKKEEPER-870] - Change the default value for bookie settings.\n+\n+    ** Improvement\n+        * [BOOKKEEPER-537] - Handling session expire event\n+        * [BOOKKEEPER-687] - Use static final Logger for hedwig related modules\n+        * [BOOKKEEPER-760] - Don't close PCBC proactively if bookies disappeared from zookeeper znodes.\n+        * [BOOKKEEPER-810] - Allow to configure TCP connect timeout\n+        * [BOOKKEEPER-811] - Recovery tool doesn't remove cookie after recovering one bookie\n+        * [BOOKKEEPER-820] - print out fi.isFenced() in BookieShell\n+        * [BOOKKEEPER-827] - change throttle in GarbageCollector to use either \"by entry\" or \"by byte\"\n+        * [BOOKKEEPER-830] - Documentation has no structure\n+        * [BOOKKEEPER-832] -  Allow starting bookie in ReadOnly mode\n+        * [BOOKKEEPER-836] - disable compaction when disk becomes full, otherwise compaction will fill up disk quickly\n+        * [BOOKKEEPER-841] - Bookie should calculate ledgers map writing a new entry log file\n+        * [BOOKKEEPER-844] - Add more metrics about latency and bytes characteristics on bookie operations \n+        * [BOOKKEEPER-849] - Collect stats with sub-milliseconds precision\n+        * [BOOKKEEPER-850] - Use nanoseconds to calculate poll timeout when doing group commit\n+        * [BOOKKEEPER-851] - Configurable LedgerStorageImplementation\n+        * [BOOKKEEPER-862] - Add tracing and stats to OrderedSafeExecutor for debugging slow tasks\n+        * [BOOKKEEPER-866] - Fix compile issue when Updating junit to latest release version( 4.12) in the test of  Bookkeeper-server.\n+        * [BOOKKEEPER-877] - Script for generating patch for reviews\n+        * [BOOKKEEPER-880] - Make LedgerHandle implement AutoCloseable\n+        * [BOOKKEEPER-885] - Script to merge github pull request\n+        * [BOOKKEEPER-886] - Allow to disable ledgers operation throttling\n+        * [BOOKKEEPER-888] - Dispatch individual callbacks from journal in different threads\n+        * [BOOKKEEPER-889] - BookKeeper client should try not to use bookies with errors/timeouts when forming a new ensemble\n+        * [BOOKKEEPER-894] - Read ledger entries from the bookie shell\n+        * [BOOKKEEPER-895] - bookies should not retain ledgers which no longer belong to them\n+        * [BOOKKEEPER-920] - Extend bk-merge-pr.py to add more info to Jira ticket when merging\n+\n+    ** New Feature\n+        * [BOOKKEEPER-879] - Record ledger creation time\n+        * [BOOKKEEPER-901] - Add an authentication framework\n+\n+    ** Task\n+        * [BOOKKEEPER-789] - Update README to reflect bookkeeper modules\n+        * [BOOKKEEPER-790] - Add JNA license in NOTICE files\n+        * [BOOKKEEPER-868] - Add ADD_ENTRY quorum timeout\n+\n+    ** Test\n+        * [BOOKKEEPER-846] - TestLedgerChecker times out\n+        * [BOOKKEEPER-892] - Add a sanity test to help identify bookie nodes with problems that prevent writes but is still registered in ZK\n \n-        BOOKKEEPER-833: EntryLogId and EntryLogLimit should not be larger than Integer.MAX_VALUE (sijie)\n \n Release 4.3.0 - 2014-10-03\n "}]}
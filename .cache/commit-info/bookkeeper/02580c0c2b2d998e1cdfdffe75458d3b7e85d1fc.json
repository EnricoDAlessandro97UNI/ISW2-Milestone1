{"sha":"02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc","node_id":"MDY6Q29tbWl0NDc4NTkyNTI2OjAyNTgwYzBjMmIyZDk5OGUxY2RmZGZmZTc1NDU4ZDNiN2U4NWQxZmM=","commit":{"author":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2017-08-04T23:46:34Z"},"committer":{"name":"jiazhai","email":"zhaijia@live.com","date":"2017-08-04T23:46:34Z"},"message":"ISSUE #391: CI failed with java.lang.ClassNotFoundException: org.hamcrest.SelfDescribing\n\nDescriptions of the changes in this PR:\n\n- include hamcrest dependency for tests (according to [junit](https://github.com/junit-team/junit4/wiki/Download-and-Install) instruction)\n- exclude `.repository` to turn ci builds to run with its own local repository\n- dump the rat check output to console (easier for debugging on jenkins)\n\nAuthor: Sijie Guo <sijie@apache.org>\n\nReviewers: Jia Zhai <None>, Matteo Merli <None>\n\nThis closes #392 from sijie/bookkeeper-test, closes #391","tree":{"sha":"08ac44ee54cf9b82930621c2811eab5fd9425f17","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/git/trees/08ac44ee54cf9b82930621c2811eab5fd9425f17"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/git/commits/02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/commits/02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc","html_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/commit/02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/commits/02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc/comments","author":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"committer":null,"parents":[{"sha":"1c8101ed688d97fa93a8143c697f6c7489d5c6f9","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/commits/1c8101ed688d97fa93a8143c697f6c7489d5c6f9","html_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/commit/1c8101ed688d97fa93a8143c697f6c7489d5c6f9"}],"stats":{"total":48,"additions":23,"deletions":25},"files":[{"sha":"479d635ab28570becf475f39c89f04753e712fac","filename":"bookkeeper-benchmark/pom.xml","status":"modified","additions":0,"deletions":6,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/blob/02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc/bookkeeper-benchmark%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/raw/02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc/bookkeeper-benchmark%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/contents/bookkeeper-benchmark%2Fpom.xml?ref=02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc","patch":"@@ -84,12 +84,6 @@\n     </plugins>\n   </build>\n   <dependencies>\n-    <dependency>\n-      <groupId>junit</groupId>\n-      <artifactId>junit</artifactId>\n-      <version>4.8.1</version>\n-      <scope>test</scope>\n-    </dependency>\n     <dependency>\n       <groupId>org.slf4j</groupId>\n       <artifactId>slf4j-api</artifactId>"},{"sha":"2df8aef61e2745ea62e4982a32b8acf868110fd0","filename":"bookkeeper-server/pom.xml","status":"modified","additions":0,"deletions":6,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/blob/02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc/bookkeeper-server%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/raw/02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc/bookkeeper-server%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/contents/bookkeeper-server%2Fpom.xml?ref=02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc","patch":"@@ -46,12 +46,6 @@\n       <artifactId>guava</artifactId>\n       <version>${guava.version}</version>\n     </dependency>\n-    <dependency>\n-      <groupId>junit</groupId>\n-      <artifactId>junit</artifactId>\n-      <version>4.12</version>\n-      <scope>test</scope>\n-    </dependency>\n     <dependency>\n       <groupId>org.slf4j</groupId>\n       <artifactId>slf4j-api</artifactId>"},{"sha":"2afb7c38d0f33eba0a5f2d3451c1cfe20fde742a","filename":"bookkeeper-stats-providers/codahale-metrics-provider/pom.xml","status":"modified","additions":0,"deletions":7,"changes":7,"blob_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/blob/02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc/bookkeeper-stats-providers%2Fcodahale-metrics-provider%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/raw/02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc/bookkeeper-stats-providers%2Fcodahale-metrics-provider%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/contents/bookkeeper-stats-providers%2Fcodahale-metrics-provider%2Fpom.xml?ref=02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc","patch":"@@ -75,7 +75,6 @@\n       <artifactId>bookkeeper-stats-api</artifactId>\n       <version>${project.parent.version}</version>\n     </dependency>\n-\n     <!-- https://mvnrepository.com/artifact/io.dropwizard.metrics/metrics-core -->\n     <dependency>\n       <groupId>io.dropwizard.metrics</groupId>\n@@ -99,11 +98,5 @@\n       <artifactId>guava</artifactId>\n       <version>${guava.version}</version>\n     </dependency>\n-    <dependency>\n-      <groupId>junit</groupId>\n-      <artifactId>junit</artifactId>\n-      <version>4.8.1</version>\n-      <scope>test</scope>\n-    </dependency>\n   </dependencies>\n </project>"},{"sha":"c6a8c17547a16db6a538efbfcca0524a2d747d23","filename":"bookkeeper-stats/pom.xml","status":"modified","additions":0,"deletions":6,"changes":6,"blob_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/blob/02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc/bookkeeper-stats%2Fpom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/raw/02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc/bookkeeper-stats%2Fpom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/contents/bookkeeper-stats%2Fpom.xml?ref=02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc","patch":"@@ -98,12 +98,6 @@\n       <artifactId>commons-configuration</artifactId>\n       <version>1.6</version>\n     </dependency>\n-    <dependency>\n-      <groupId>junit</groupId>\n-      <artifactId>junit</artifactId>\n-      <version>4.8.1</version>\n-      <scope>test</scope>\n-    </dependency>\n     <dependency>\n       <groupId>org.slf4j</groupId>\n       <artifactId>slf4j-api</artifactId>"},{"sha":"ee2f370b928ec3263f4b23f3fb5aa3831af7e2d9","filename":"pom.xml","status":"modified","additions":23,"deletions":0,"changes":23,"blob_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/blob/02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc/pom.xml","raw_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/raw/02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc/pom.xml","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/contents/pom.xml?ref=02580c0c2b2d998e1cdfdffe75458d3b7e85d1fc","patch":"@@ -95,7 +95,10 @@\n   <properties>\n     <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n     <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>\n+    <!-- dependencies -->\n     <guava.version>20.0</guava.version>\n+    <hamcrest.version>1.3</hamcrest.version>\n+    <junit.version>4.12</junit.version>\n     <protobuf.version>2.6.1</protobuf.version>\n     <netty.version>4.1.12.Final</netty.version>\n     <netty-boringssl.version>2.0.3.Final</netty-boringssl.version>\n@@ -108,6 +111,24 @@\n     <maven-javadoc-plugin.version>2.10.4</maven-javadoc-plugin.version>\n     <maven-source-plugin.version>2.2.1</maven-source-plugin.version>\n   </properties>\n+\n+  <!-- dependencies for all modules -->\n+  <dependencies>\n+    <dependency>\n+      <groupId>junit</groupId>\n+      <artifactId>junit</artifactId>\n+      <version>${junit.version}</version>\n+      <scope>test</scope>\n+    </dependency>\n+    <!-- Needed by junit -->\n+    <dependency>\n+      <groupId>org.hamcrest</groupId>\n+      <artifactId>hamcrest-all</artifactId>\n+      <version>${hamcrest.version}</version>\n+      <scope>test</scope>\n+    </dependency>\n+  </dependencies>\n+\n   <build>\n     <plugins>\n       <plugin>\n@@ -238,7 +259,9 @@\n             <exclude>**/.project</exclude>\n             <exclude>**/.settings/*</exclude>\n             <exclude>site/**</exclude>\n+            <exclude>.repository/**</exclude>\n           </excludes>\n+          <consoleOutput>true</consoleOutput>\n         </configuration>\n       </plugin>\n     </plugins>"}]}
{"sha":"669ab4ac32bcbf6b3d883a07ed942d36d25b8a6e","node_id":"MDY6Q29tbWl0NDc4NTkyNTI2OjY2OWFiNGFjMzJiY2JmNmIzZDg4M2EwN2VkOTQyZDM2ZDI1YjhhNmU=","commit":{"author":{"name":"Rithin","email":"rithin.shetty@salesforce.com","date":"2016-12-17T01:44:24Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2016-12-17T01:44:24Z"},"message":"BOOKKEEPER-946: Provide an option to delay auto recovery of lost bookies\n\nFixing a bug in the test AuditorLedgerCheckerTest.testDelayedAuditOfLostBookies which\nfails sometimes with:\nAuditorLedgerCheckerTest.testDelayedAuditOfLostBookies:367->_testDelayedAuditOfLostBookies:345 audit of lost bookie isn't delayed\n\nAuthor: Rithin <rithin.shetty@salesforce.com>\n\nReviewers: Enrico Olivelli <eolivelli@gmail.com>, Sijie Guo <sijie@apache.org>\n\nCloses #82 from rithin-shetty/audit_delay_fix","tree":{"sha":"7e13f864c34bff7a67b14e129bc8b4496c41a28d","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/git/trees/7e13f864c34bff7a67b14e129bc8b4496c41a28d"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/git/commits/669ab4ac32bcbf6b3d883a07ed942d36d25b8a6e","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/commits/669ab4ac32bcbf6b3d883a07ed942d36d25b8a6e","html_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/commit/669ab4ac32bcbf6b3d883a07ed942d36d25b8a6e","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/commits/669ab4ac32bcbf6b3d883a07ed942d36d25b8a6e/comments","author":{"login":"rithin-shetty","id":19738357,"node_id":"MDQ6VXNlcjE5NzM4MzU3","avatar_url":"https://avatars.githubusercontent.com/u/19738357?v=4","gravatar_id":"","url":"https://api.github.com/users/rithin-shetty","html_url":"https://github.com/rithin-shetty","followers_url":"https://api.github.com/users/rithin-shetty/followers","following_url":"https://api.github.com/users/rithin-shetty/following{/other_user}","gists_url":"https://api.github.com/users/rithin-shetty/gists{/gist_id}","starred_url":"https://api.github.com/users/rithin-shetty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rithin-shetty/subscriptions","organizations_url":"https://api.github.com/users/rithin-shetty/orgs","repos_url":"https://api.github.com/users/rithin-shetty/repos","events_url":"https://api.github.com/users/rithin-shetty/events{/privacy}","received_events_url":"https://api.github.com/users/rithin-shetty/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"be99f024df5d53b3988f585ab46d6b604592acf1","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/commits/be99f024df5d53b3988f585ab46d6b604592acf1","html_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/commit/be99f024df5d53b3988f585ab46d6b604592acf1"}],"stats":{"total":3,"additions":3,"deletions":0},"files":[{"sha":"974761e1f521232abb33bc40e9517a253c9716d8","filename":"bookkeeper-server/src/test/java/org/apache/bookkeeper/replication/AuditorLedgerCheckerTest.java","status":"modified","additions":3,"deletions":0,"changes":3,"blob_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/blob/669ab4ac32bcbf6b3d883a07ed942d36d25b8a6e/bookkeeper-server%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fbookkeeper%2Freplication%2FAuditorLedgerCheckerTest.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/raw/669ab4ac32bcbf6b3d883a07ed942d36d25b8a6e/bookkeeper-server%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fbookkeeper%2Freplication%2FAuditorLedgerCheckerTest.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/contents/bookkeeper-server%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fbookkeeper%2Freplication%2FAuditorLedgerCheckerTest.java?ref=669ab4ac32bcbf6b3d883a07ed942d36d25b8a6e","patch":"@@ -364,6 +364,9 @@ public void _testDelayedAuditOfLostBookies() throws Exception {\n      */\n     @Test(timeout=60000)\n     public void testDelayedAuditOfLostBookies() throws Exception {\n+        // wait for a second so that the initial periodic check finishes\n+        Thread.sleep(1000);\n+\n         _testDelayedAuditOfLostBookies();\n     }\n "}]}
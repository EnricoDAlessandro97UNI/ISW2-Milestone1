{"sha":"714ae49baff3c9f390fb65afa9b8cf801c5a5316","node_id":"MDY6Q29tbWl0NDc4NTkyNTI2OjcxNGFlNDliYWZmM2M5ZjM5MGZiNjVhZmE5YjhjZjgwMWM1YTUzMTY=","commit":{"author":{"name":"Sijie Guo","email":"sijieg@twitter.com","date":"2016-12-28T23:09:38Z"},"committer":{"name":"Sijie Guo","email":"sijieg@twitter.com","date":"2016-12-29T10:11:40Z"},"message":"DL-159: ReadAhead Improvement (part 2) - New ReadAhead Reader using the LogSegmentEntryReader interface\n\nProvide a new ReadAhead reader using the log segment entry reader interface. It does reading entries in a batch in parallel for batches, rather than reading entries in batch by batch. This would help mitigate the slow bookie problem.\n\nThe core change is the new ReadAheadEntryReader.","tree":{"sha":"2da1b03ca782e77b847d58c3c150d025e4b3c383","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/git/trees/2da1b03ca782e77b847d58c3c150d025e4b3c383"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/git/commits/714ae49baff3c9f390fb65afa9b8cf801c5a5316","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/commits/714ae49baff3c9f390fb65afa9b8cf801c5a5316","html_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/commit/714ae49baff3c9f390fb65afa9b8cf801c5a5316","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/commits/714ae49baff3c9f390fb65afa9b8cf801c5a5316/comments","author":null,"committer":null,"parents":[{"sha":"a5e892fc1901100e267e6a677261936a87b9d22b","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/commits/a5e892fc1901100e267e6a677261936a87b9d22b","html_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/commit/a5e892fc1901100e267e6a677261936a87b9d22b"}],"stats":{"total":35,"additions":35,"deletions":0},"files":[{"sha":"2b56550e59f3e39fea1bdaa894c6345d9a978756","filename":"src/main/java/com/twitter/distributedlog/exceptions/LogSegmentIsTruncatedException.java","status":"added","additions":33,"deletions":0,"changes":33,"blob_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/blob/714ae49baff3c9f390fb65afa9b8cf801c5a5316/src%2Fmain%2Fjava%2Fcom%2Ftwitter%2Fdistributedlog%2Fexceptions%2FLogSegmentIsTruncatedException.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/raw/714ae49baff3c9f390fb65afa9b8cf801c5a5316/src%2Fmain%2Fjava%2Fcom%2Ftwitter%2Fdistributedlog%2Fexceptions%2FLogSegmentIsTruncatedException.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/contents/src%2Fmain%2Fjava%2Fcom%2Ftwitter%2Fdistributedlog%2Fexceptions%2FLogSegmentIsTruncatedException.java?ref=714ae49baff3c9f390fb65afa9b8cf801c5a5316","patch":"@@ -0,0 +1,33 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.twitter.distributedlog.exceptions;\n+\n+import com.twitter.distributedlog.thrift.service.StatusCode;\n+\n+/**\n+ * Exception is thrown when reading data from a truncated log segment.\n+ */\n+public class LogSegmentIsTruncatedException extends DLException {\n+\n+    private static final long serialVersionUID = -218506870918498062L;\n+\n+    public LogSegmentIsTruncatedException(String logSegmentName) {\n+        super(StatusCode.LOG_SEGMENT_IS_TRUNCATED, \"Log Segment '\"\n+                + logSegmentName + \"'\" + \" is already truncated\");\n+    }\n+}"},{"sha":"c2f77f306c12e86a8e5426c62300b4c75ed6c116","filename":"src/main/thrift/service.thrift","status":"modified","additions":2,"deletions":0,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/blob/714ae49baff3c9f390fb65afa9b8cf801c5a5316/src%2Fmain%2Fthrift%2Fservice.thrift","raw_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/raw/714ae49baff3c9f390fb65afa9b8cf801c5a5316/src%2Fmain%2Fthrift%2Fservice.thrift","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/contents/src%2Fmain%2Fthrift%2Fservice.thrift?ref=714ae49baff3c9f390fb65afa9b8cf801c5a5316","patch":"@@ -98,6 +98,8 @@ enum StatusCode {\n     LOG_SEGMENT_NOT_FOUND = 525,\n     // End of Log Segment\n     END_OF_LOG_SEGMENT = 526,\n+    // Log Segment Is Truncated\n+    LOG_SEGMENT_IS_TRUNCATED = 527,\n \n     /* 6xx: unexpected */\n "}]}
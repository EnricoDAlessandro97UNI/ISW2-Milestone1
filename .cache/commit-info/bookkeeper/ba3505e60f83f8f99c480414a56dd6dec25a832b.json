{"sha":"ba3505e60f83f8f99c480414a56dd6dec25a832b","node_id":"MDY6Q29tbWl0NDc4NTkyNTI2OmJhMzUwNWU2MGY4M2Y4Zjk5YzQ4MDQxNGE1NmRkNmRlYzI1YTgzMmI=","commit":{"author":{"name":"adamtracymartin","email":"atmartin@yahoo.com","date":"2017-04-13T04:36:19Z"},"committer":{"name":"Sijie Guo","email":"sijie@apache.org","date":"2017-04-13T04:36:19Z"},"message":"DL-173: changed FileUtils.deleteDirectory to FileUtils.forceDeleteOnExit so dâ€¦\n\nI am doing a new pull request because I deleted the branch in the remote.\nActions done to fix the conflict.\n1. git checkout DL-173\n2. git checkout master distributedlog-protocol/src/main/thrift/service.thrift\n3. git fetch\n4. git add *\n5. git commit with message\n\nThe actual fix for this branch is changing FileUtils.deleteDirectory to FileUtils.forceDeleteOnExit.\n\nAuthor: adamtracymartin <atmartin@yahoo.com>\n\nReviewers: Jia Zhai <zhaijia03@gmail.com>, Sijie Guo <sijie@apache.org>, Leigh Stewart <lstewart@apache.org>\n\nCloses #116 from adamtracymartin/DL-173","tree":{"sha":"2e4a3aaef48de443c532c9926fcff64dc81269ed","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/git/trees/2e4a3aaef48de443c532c9926fcff64dc81269ed"},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/git/commits/ba3505e60f83f8f99c480414a56dd6dec25a832b","comment_count":0,"verification":{"verified":false,"reason":"unsigned","signature":null,"payload":null}},"url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/commits/ba3505e60f83f8f99c480414a56dd6dec25a832b","html_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/commit/ba3505e60f83f8f99c480414a56dd6dec25a832b","comments_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/commits/ba3505e60f83f8f99c480414a56dd6dec25a832b/comments","author":{"login":"adamtracymartin","id":1569994,"node_id":"MDQ6VXNlcjE1Njk5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1569994?v=4","gravatar_id":"","url":"https://api.github.com/users/adamtracymartin","html_url":"https://github.com/adamtracymartin","followers_url":"https://api.github.com/users/adamtracymartin/followers","following_url":"https://api.github.com/users/adamtracymartin/following{/other_user}","gists_url":"https://api.github.com/users/adamtracymartin/gists{/gist_id}","starred_url":"https://api.github.com/users/adamtracymartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamtracymartin/subscriptions","organizations_url":"https://api.github.com/users/adamtracymartin/orgs","repos_url":"https://api.github.com/users/adamtracymartin/repos","events_url":"https://api.github.com/users/adamtracymartin/events{/privacy}","received_events_url":"https://api.github.com/users/adamtracymartin/received_events","type":"User","site_admin":false},"committer":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","site_admin":false},"parents":[{"sha":"0dd0e4fe0ae29dec3864e7539144a6ffca64df19","url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/commits/0dd0e4fe0ae29dec3864e7539144a6ffca64df19","html_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/commit/0dd0e4fe0ae29dec3864e7539144a6ffca64df19"}],"stats":{"total":8,"additions":4,"deletions":4},"files":[{"sha":"f2c510ddf3129bfac0fa37d2bd0d1cae617f34fa","filename":"src/main/java/org/apache/distributedlog/LocalDLMEmulator.java","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/blob/ba3505e60f83f8f99c480414a56dd6dec25a832b/src%2Fmain%2Fjava%2Forg%2Fapache%2Fdistributedlog%2FLocalDLMEmulator.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/raw/ba3505e60f83f8f99c480414a56dd6dec25a832b/src%2Fmain%2Fjava%2Forg%2Fapache%2Fdistributedlog%2FLocalDLMEmulator.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/contents/src%2Fmain%2Fjava%2Forg%2Fapache%2Fdistributedlog%2FLocalDLMEmulator.java?ref=ba3505e60f83f8f99c480414a56dd6dec25a832b","patch":"@@ -168,7 +168,7 @@ public void teardown() throws Exception {\n             bkStartupThread.join();\n         }\n         for (File dir : tmpDirs) {\n-            FileUtils.deleteDirectory(dir);\n+            FileUtils.forceDeleteOnExit(dir);\n         }\n     }\n \n@@ -344,7 +344,7 @@ public static void main(String[] args) throws Exception {\n                 public void run() {\n                     try {\n                         localDlm.teardown();\n-                        FileUtils.deleteDirectory(zkDir);\n+                        FileUtils.forceDeleteOnExit(zkDir);\n                         System.out.println(\"ByeBye!\");\n                     } catch (Exception e) {\n                         // do nothing"},{"sha":"a766d3e61d38298900b8ef6b45302117b80d48a7","filename":"src/test/java/org/apache/distributedlog/TestDistributedLogBase.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/blob/ba3505e60f83f8f99c480414a56dd6dec25a832b/src%2Ftest%2Fjava%2Forg%2Fapache%2Fdistributedlog%2FTestDistributedLogBase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/raw/ba3505e60f83f8f99c480414a56dd6dec25a832b/src%2Ftest%2Fjava%2Forg%2Fapache%2Fdistributedlog%2FTestDistributedLogBase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/contents/src%2Ftest%2Fjava%2Forg%2Fapache%2Fdistributedlog%2FTestDistributedLogBase.java?ref=ba3505e60f83f8f99c480414a56dd6dec25a832b","patch":"@@ -115,7 +115,7 @@ public static void teardownCluster() throws Exception {\n         bkutil.teardown();\n         zks.stop();\n         for (File dir : tmpDirs) {\n-            FileUtils.deleteDirectory(dir);\n+            FileUtils.forceDeleteOnExit(dir);\n         }\n     }\n "},{"sha":"2b6204db6f4bda8b94951a3072bfa7ff18d16d21","filename":"src/test/java/org/apache/distributedlog/ZooKeeperClusterTestCase.java","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/blob/ba3505e60f83f8f99c480414a56dd6dec25a832b/src%2Ftest%2Fjava%2Forg%2Fapache%2Fdistributedlog%2FZooKeeperClusterTestCase.java","raw_url":"https://github.com/EnricoDAlessandro97UNI/bookkeeper/raw/ba3505e60f83f8f99c480414a56dd6dec25a832b/src%2Ftest%2Fjava%2Forg%2Fapache%2Fdistributedlog%2FZooKeeperClusterTestCase.java","contents_url":"https://api.github.com/repos/EnricoDAlessandro97UNI/bookkeeper/contents/src%2Ftest%2Fjava%2Forg%2Fapache%2Fdistributedlog%2FZooKeeperClusterTestCase.java?ref=ba3505e60f83f8f99c480414a56dd6dec25a832b","patch":"@@ -47,7 +47,7 @@ public static void setupZooKeeper() throws Exception {\n     public static void shutdownZooKeeper() throws Exception {\n         zks.stop();\n         if (null != zkDir) {\n-            FileUtils.deleteDirectory(zkDir);\n+            FileUtils.forceDeleteOnExit(zkDir);\n         }\n     }\n }"}]}